# Command: /research | /pesquisar

## Universal Description

**DOCKER MCP GATEWAY RESEARCH ORCHESTRATION** - Multi-droid parallel execution with Docker MCP Gateway integration, delivering comprehensive research intelligence through coordinated droid ecosystem. ≥95% cross-validation accuracy with Brazilian compliance auto-activation via Docker MCP stack.

## Purpose

Execute comprehensive research operations through Docker MCP Gateway orchestration with atomic task generation, parallel execution capabilities, and integrated MCP stack (serena, context7, tavily, sequential-thinking, neon, playwright, fetch) for authoritative multi-source validation and actionable intelligence with Brazilian compliance.

## Enhanced Research Orchestration System

### Atomic Task Generation Engine

```yaml
task_generation:
  complexity_assessment: "L1-L10 automatic scoring based on topic, scope, requirements"
  atomic_decomposition: "Break research into smallest executable units"
  dependency_mapping: "Identify parallel vs sequential task relationships"
  time_estimation: "Realistic duration estimates per task complexity"
  droid_assignment: "Optimal droid combinations based on task requirements"
  skill_integration: "Automatic skill invocation for domain-specific needs"

parallel_execution_matrix:
  phase_1_discovery:
    - apex-researcher (primary coordination)
    - domain_specialist_droids (parallel)
    - relevant_skills (context invocation)

  phase_2_analysis:
    - multiple_droids (simultaneous analysis)
    - skill_validation (specialized frameworks)
    - cross_validation (multi-source verification)

  phase_3_synthesis:
    - apex-researcher (consolidation)
    - code-reviewer (security validation)
    - brazilian_compliance_skills (LGPD/PIX validation)
```

### Dynamic Droid Coordination

```yaml
routing_algorithm:
  research_complexity: "Automatic L1-L10 scoring"
  brazilian_compliance: "Auto-activation for financial/regulatory topics"
  security_sensitivity: "Enhanced validation for sensitive research"
  domain_expertise: "Specialist droid assignment based on research domain"
  parallel_optimization: "Maximum concurrent task execution"

droid_expertise_matrix:
  apex-researcher: "Research coordination, synthesis, ≥95% validation"
  database-specialist: "Database architecture, Neon/Drizzle, LGPD compliance"
  apex-dev: "Implementation feasibility, performance analysis"
  code-reviewer: "Security validation, compliance checking"
  apex-ui-ux-designer: "Interface research, accessibility standards"
  product-architect: "Market analysis, competitive research"
```

### Skill Integration System

```yaml
skill_mapping:
  brazilian-fintech-compliance: "Auto-activated for financial/PIX/LGPD research"
  product-management: "Invoked for market analysis, competitive research"
  frontend-design: "UI/UX research, accessibility standards"
  ai-data-analyst: "Statistical analysis, data interpretation"
  webapp-testing: "Testing methodologies, quality assurance"

integration_points:
  research_phase: "Skills provide domain-specific expertise"
  analysis_phase: "Skills offer specialized validation frameworks"
  documentation_phase: "Skills generate standardized outputs"
  compliance_phase: "Brazilian compliance skills auto-activated"
```

## Automatic Enhanced Research Routing

```yaml
command_execution:
  trigger: "/research | /pesquisar"
  routing: "Enhanced orchestration with multi-droid coordination"
  atomic_tasks: "Automatic generation with parallel execution planning"
  skill_integration: "Domain-specific skill invocation"
  output_format: "Structured markdown in .factory/docs/ with executive summaries"

input_parsing:
  goal: "Extract from research objective description"
  scope: "Technology, domain, or regulatory area"
  complexity: "L1-L10 research depth assessment"
  brazilian_focus: "LGPD/BCB/PIX requirements auto-detection"
  parallel_potential: "Automatic identification of parallelizable tasks"

quality_assurance:
  accuracy_threshold: "≥95% cross-validation required"
  multi_droid_validation: "Minimum 3 droids for critical findings"
  brazilian_compliance: "Mandatory for financial/regulatory research"
  confidence_scoring: "Explicit confidence levels with source validation"
  documentation_standards: "Consistent markdown templates"
```

## Docker MCP Gateway Integration

### Available MCP Stack
- **serena** (direct) - Codebase intelligence & project management
- **context7** (via MCP_DOCKER) - Documentation intelligence & official docs
- **tavily** (via MCP_DOCKER) - Web research & community validation
- **sequential-thinking** (via MCP_DOCKER) - Multi-perspective synthesis & analysis
- **neon** (via MCP_DOCKER) - PostgreSQL database operations
- **playwright** (via MCP_DOCKER) - Browser automation & testing
- **fetch** (via MCP_DOCKER) - URL content retrieval & web scraping

### MCP Routing via Docker Gateway
- **Research Operations**: Topic investigation, technology evaluation → Context7 + Tavily (via Docker)
- **Knowledge Management**: Knowledge base creation, organization → Serena + Sequential Thinking (via Docker)
- **Database Research**: Schema analysis, performance optimization → Serena + Neon (via Docker)
- **Web Intelligence**: Real-time data, regulatory updates → Tavily + Fetch (via Docker)
- **Brazilian Compliance**: LGPD/BCB/PIX research → Context7 + Tavily + Sequential Thinking (via Docker)
- **Testing & Validation**: Accessibility, performance → Playwright + Serena (via Docker)

## MCP Serena: Codebase Intelligence

### Core Capabilities
- **Symbol Resolution**: `find_symbol` - Function/class/interface discovery
- **Reference Analysis**: `find_referencing_symbols` - Code relationships mapping
- **Pattern Search**: `search_for_pattern` - Implementation pattern discovery
- **Code Overview**: `get_symbols_overview` - High-level code structure analysis

### Usage Patterns
```yaml
code_analysis:
  symbol_resolution: "Function/class/interface discovery"
  pattern_analysis: "Existing implementation patterns"
  dependency_mapping: "Code relationships + imports"
  architecture_insights: "Current system structure"

implementation_feasibility:
  compatibility_check: "Integration with existing codebase"
  pattern_alignment: "Consistency with current architecture"
  effort_estimation: "Implementation complexity assessment"
```

### Memory Management
- Creates persistent knowledge memories for project insights
- Stores architectural patterns and implementation decisions
- Enables cross-session context preservation
- Supports research-to-implementation knowledge transfer

## MCP Orchestration Workflow

### Docker MCP Multi-Execution Strategy
```yaml
parallel_execution:
  phase_1_discovery:
    context7: "Official documentation + API references (via Docker)"
    tavily: "Web research + community validation (via Docker)"
    serena: "Codebase analysis + symbol resolution"
    fetch: "Real-time regulatory data (via Docker)"

  phase_2_analysis:
    sequential_thinking: "Multi-perspective synthesis + logical reasoning (via Docker)"
    context7: "Deep dive into technical specifics (via Docker)"
    tavily: "Cross-source verification + credibility assessment (via Docker)"
    neon: "Database compliance validation (via Docker)"

  phase_3_validation:
    serena: "Implementation feasibility analysis"
    sequential_thinking: "Pattern recognition + gap identification (via Docker)"
    playwright: "Accessibility & testing validation (via Docker)"
    all_mcps: "Cross-validation for ≥95% accuracy through Docker Gateway"
```

### Docker MCP Performance Optimization
- **Target Latency**: <3ms for MCP calls through Docker Gateway
- **Context Management**: Automatic deduplication via Docker caching
- **Parallel Execution**: Optimized concurrent MCP calls
- **Resource Isolation**: Built-in Docker container security
- **Payload Optimization**: Gateway-level JSON response optimization

### Context7 (Documentation Intelligence)
- Framework docs and best practices
- Brazilian LGPD/BCB compliance documentation
- Security guidelines and requirements
- Installation and configuration patterns

### Tavily (Web Intelligence)
- Multi-source information gathering
- Community best practices validation
- Real-world implementation experiences
- Expert insights and tutorials

### Sequential Thinking (Cognitive Analysis)
- Multi-perspective analysis synthesis
- Pattern recognition and relationship mapping
- Brazilian compliance requirements assessment
- Logical reasoning and conclusion formation

## Docker MCP Task Templates

### Research Complexity (via Docker MCP)

| Complexity | Time | Parallel | MCP Stack | Brazilian Focus |
|------------|------|----------|-----------|-----------------|
| **L1-L3** (Simple) | 15-30 min | Limited | Context7 + Serena | Basic validation |
| **L4-L6** (Moderate) | 45-90 min | 50% | Context7 + Tavily + Serena | Compliance check |
| **L7-L8** (Complex) | 2-4 hours | 70% | All MCPs via Docker | Full compliance |
| **L9-L10** (Mission) | 4-8 hours | 80% | Full MCP stack | Regulatory deep-dive |

### Docker MCP Task Template
```yaml
research_task:
  complexity: "L1-L10"
  mcps_via_docker: ["context7", "tavily", "sequential-thinking", "neon", "playwright", "fetch"]
  brazilian_compliance: true
  parallel_execution: true
  quality_gate: "≥95% cross-validation"
  target_latency: "<3ms via Docker Gateway"
```

## Docker MCP Research Deliverables

### Research Intelligence Report (via Docker MCP)
- **Executive Summary**: Research scope, complexity, Brazilian compliance status
- **MCP Performance**: Docker Gateway latency (<3ms target), efficiency metrics
- **Validation Results**: ≥95% cross-source validation via multiple MCPs
- **Implementation Roadmap**: Technical feasibility with Docker-optimized patterns
- **Brazilian Compliance**: LGPD/PIX/BCB validation through official docs (context7) + current patterns (tavily)

### Quality Assurance via Docker MCP
- **Source Validation**: Context7 (official docs) + Tavily (community validation)
- **Code Analysis**: Serena symbol resolution + pattern analysis
- **Database Compliance**: Neon PostgreSQL validation + security checks
- **Testing Validation**: Playwright accessibility + performance testing

## Quality Gates

### Research Validation
- ≥95% cross-source validation required
- Minimum 3 authoritative sources
- Explicit confidence scoring
- Clear identification of research gaps

### Implementation Readiness
- Serena validated integration complexity
- Risk assessment with mitigation strategies
- Timeline and resource requirements
- Quality validation specifications

## Docker MCP Research Activation

### Auto-Activation Protocol
```yaml
triggers: ["/research", "/pesquisar", "spec - research"]
routing: "Docker MCP Gateway orchestration"
priority: "HIGHEST - bypass all routing"
mcp_stack: ["context7", "tavily", "sequential-thinking", "neon", "playwright", "fetch"]
quality_gate: "≥95% cross-validation via Docker Gateway"
target_latency: "<3ms for all MCP calls"
brazilian_compliance: "Mandatory via context7 + tavily"
```

### Quick Reference Template
```
/research "[Brazilian fintech topic]"

→ Docker MCP Gateway execution:
- Context7: Official LGPD/BCB docs
- Tavily: Current market patterns
- Serena: Codebase analysis
- Sequential-thinking: Multi-perspective synthesis
- Fetch: Real-time regulatory updates
- Output: .factory/docs/[date]-[topic].md (≤400 lines)
```
