# ============================================
# ðŸ” Core Environment Variables (Local Only)
# ============================================

# Supabase (shared between browser + server)
VITE_SUPABASE_URL=https://YOUR-PROJECT.supabase.co
VITE_SUPABASE_ANON_KEY=pk-YOUR-ANON-KEY
SUPABASE_URL=${VITE_SUPABASE_URL}
SUPABASE_ANON_KEY=${VITE_SUPABASE_ANON_KEY}
SUPABASE_QA_USER_ID=

# âš ï¸ Service role never ships to the client bundle.
# Keep this secret in local .env / Vercel env only.
SUPABASE_SERVICE_ROLE_KEY=srp-YOUR-SERVICE-ROLE-KEY

# Public API endpoint (used by Vite when calling edge handlers)
VITE_API_URL=http://localhost:3000/api
PORT=3000

# ============================================
# ðŸ”‘ OAuth / Google Calendar Integration
# ============================================
# âš ï¸ IMPORTANTE: Para login com Google via Supabase Auth, as credenciais
# tambÃ©m precisam estar configuradas no Supabase Dashboard:
# Authentication > Providers > Google
# Veja: docs/ops/google-oauth-setup.md
VITE_GOOGLE_CLIENT_ID=your-google-oauth-client.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-oauth-secret
GOOGLE_REDIRECT_URI=http://localhost:5173/api/auth/callback

# Webhook secret for Google Calendar push notifications
# Generate with: openssl rand -hex 32
# This must be unique per environment (dev/staging/prod)
WEBHOOK_SECRET=generate-with-crypto-randomUUID

# ============================================
# ðŸ”’ Encryption Keys
# ============================================
# âš ï¸ CRITICAL: TOKENS_ENCRYPTION_KEY must be exactly 32 bytes (64 hex characters)
# Generate with: openssl rand -hex 32
# âš ï¸ WARNING: Never change this key after tokens are stored - they will become unrecoverable
# Store this securely in Supabase Edge Functions secrets and Vercel environment variables
TOKENS_ENCRYPTION_KEY=generate-32-byte-secret-with-openssl-rand-hex-32

VITE_ENCRYPTION_KEY=frontend-safe-random-key
VITE_ENCRYPTION_MASTER_KEY=backend-master-key
ENCRYPTION_KEY=${VITE_ENCRYPTION_KEY}

# ============================================
# ðŸ” Security Notes
# ============================================
# - TOKENS_ENCRYPTION_KEY: Used for AES-256-GCM encryption of Google OAuth tokens
# - WEBHOOK_SECRET: Used to verify Google Calendar webhook notifications
# - Both must be set in Supabase Edge Functions secrets:
#   supabase secrets set TOKENS_ENCRYPTION_KEY=your-key
#   supabase secrets set WEBHOOK_SECRET=your-secret
# - Reference: GOOGLE_CALENDAR_SETUP.md for complete setup instructions


# ============================================
# ðŸ—£ Voice / AI Providers
# ============================================
VITE_OPENAI_API_KEY=
OPENAI_API_KEY=${VITE_OPENAI_API_KEY}

# ============================================
# ðŸ¤– AI Chat Configuration (Gemini)
# ============================================
# Get your API key from: https://aistudio.google.com/apikey
VITE_GEMINI_API_KEY=your-gemini-api-key

# Available models (see src/features/ai-chat/config/models.ts):
#   - gemini-flash-lite-latest (fastest, lowest cost)
#   - gemini-flash-latest (balanced speed/quality)
#   - gemini-3-pro-preview (best quality)
VITE_DEFAULT_AI_MODEL=gemini-flash-lite-latest

# Enable reasoning/thinking visibility in AI chat (shows internal AI reasoning)
VITE_ENABLE_AI_REASONING=true

VITE_ELEVENLABS_API_KEY=

# ============================================
# ðŸ’³ Banking / Open Finance
# ============================================
VITE_BELVO_API_KEY=
VITE_BELVO_SECRET_KEY=
BELVO_API_KEY=${VITE_BELVO_API_KEY}
BELVO_SECRET_KEY=${VITE_BELVO_SECRET_KEY}

# ============================================
# ðŸ“£ Notifications & Messaging
# ============================================
VAPID_PUBLIC_KEY=
VAPID_PRIVATE_KEY=
VAPID_SUBJECT=mailto:security@aegiswallet.com
GCM_API_KEY=
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=

# ============================================
# ðŸ“ Reference
# docs/ops/supabase-env.md keeps the official list of secrets
# ============================================


# ============================================
# ðŸ—„ï¸ Database Connection (Drizzle ORM)
# ============================================
# PostgreSQL connection for Drizzle ORM - choose based on your environment:
#
# ðŸ”¹ DEVELOPMENT (Local/Docker - IPv6 support):
#    Direct connection - best for local dev with IPv6
#    postgresql://postgres:[password]@db.qatxdwderitvxqvuonqs.supabase.co:5432/postgres
#
# ðŸ”¹ PRODUCTION (Vercel/Serverless - IPv4 only):
#    Supavisor Transaction Pooler (port 6543) - required for edge functions
#    postgres://postgres.qatxdwderitvxqvuonqs:[password]@aws-0-sa-east-1.pooler.supabase.com:6543/postgres
#
# Get your password from: Supabase Dashboard > Connect button > Transaction pooler
DATABASE_URL=postgres://postgres.qatxdwderitvxqvuonqs:YOUR_PASSWORD@aws-0-sa-east-1.pooler.supabase.com:6543/postgres
