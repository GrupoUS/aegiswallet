# ============================================
# üîê Core Environment Variables (Local Only)
# ============================================

# ============================================
# üóÑÔ∏è Neon Database (PostgreSQL Serverless)
# ============================================
# Get your connection string from: https://console.neon.tech
# Format: postgresql://[user]:[password]@[host]/[database]?sslmode=require
#
# The pooled connection string uses connection pooling for better serverless performance
DATABASE_URL=postgresql://neondb_owner:your-password@ep-example-123456.us-east-2.aws.neon.tech/neondb?sslmode=require

# ============================================
# üîê Clerk Authentication
# ============================================
# Get from Clerk Dashboard: https://dashboard.clerk.com
# Open API Keys page > Choose React > Copy keys
#
# Publishable Key (client-side) - VITE_ prefix required for Vite
VITE_CLERK_PUBLISHABLE_KEY=pk_test_YOUR_CLERK_PUBLISHABLE_KEY_HERE

# Secret Key (server-side only) - NEVER expose to client
CLERK_SECRET_KEY=sk_test_YOUR_CLERK_SECRET_KEY_HERE

# Optional: Webhook signing secret for Clerk webhooks
# CLERK_WEBHOOK_SECRET=whsec_YOUR_WEBHOOK_SECRET

# Public API endpoint (used by Vite when calling edge handlers)
# NOTE: In production, this should NOT be set - the client will use window.location.origin
# Only set this for local development when running the server separately
# VITE_API_URL=http://localhost:3000/api
PORT=3000

# ============================================
# üîë OAuth / Google Calendar Integration
# ============================================
# ‚ö†Ô∏è IMPORTANTE: Para login com Google via Supabase Auth, as credenciais
# tamb√©m precisam estar configuradas no Supabase Dashboard:
# Authentication > Providers > Google
# Veja: docs/ops/google-oauth-setup.md
VITE_GOOGLE_CLIENT_ID=your-google-oauth-client.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-oauth-secret
GOOGLE_REDIRECT_URI=http://localhost:5173/api/auth/callback

# Webhook secret for Google Calendar push notifications
# Generate with: openssl rand -hex 32
# This must be unique per environment (dev/staging/prod)
WEBHOOK_SECRET=generate-with-crypto-randomUUID

# ============================================
# üîí Encryption Keys
# ============================================
# ‚ö†Ô∏è CRITICAL: TOKENS_ENCRYPTION_KEY must be exactly 32 bytes (64 hex characters)
# Generate with: openssl rand -hex 32
# ‚ö†Ô∏è WARNING: Never change this key after tokens are stored - they will become unrecoverable
# Store this securely in Supabase Edge Functions secrets and Vercel environment variables
TOKENS_ENCRYPTION_KEY=generate-32-byte-secret-with-openssl-rand-hex-32

VITE_ENCRYPTION_KEY=frontend-safe-random-key
VITE_ENCRYPTION_MASTER_KEY=backend-master-key
ENCRYPTION_KEY=${VITE_ENCRYPTION_KEY}

# ============================================
# üîê Security Notes
# ============================================
# - TOKENS_ENCRYPTION_KEY: Used for AES-256-GCM encryption of Google OAuth tokens
# - WEBHOOK_SECRET: Used to verify Google Calendar webhook notifications
# - Both must be set in Supabase Edge Functions secrets:
#   supabase secrets set TOKENS_ENCRYPTION_KEY=your-key
#   supabase secrets set WEBHOOK_SECRET=your-secret
# - Reference: GOOGLE_CALENDAR_SETUP.md for complete setup instructions


# ============================================
# üó£ Voice / AI Providers
# ============================================
VITE_OPENAI_API_KEY=
OPENAI_API_KEY=${VITE_OPENAI_API_KEY}

# ============================================
# ü§ñ AI Chat Configuration (Gemini)
# ============================================
# Get your API key from: https://aistudio.google.com/apikey
VITE_GEMINI_API_KEY=your-gemini-api-key

# Available models (see src/features/ai-chat/config/models.ts):
#   - gemini-flash-lite-latest (fastest, lowest cost)
#   - gemini-flash-latest (balanced speed/quality)
#   - gemini-3-pro-preview (best quality)
VITE_DEFAULT_AI_MODEL=gemini-flash-lite-latest

# Enable reasoning/thinking visibility in AI chat (shows internal AI reasoning)
VITE_ENABLE_AI_REASONING=true

VITE_ELEVENLABS_API_KEY=

# ============================================
# üí≥ Banking / Open Finance
# ============================================
VITE_BELVO_API_KEY=
VITE_BELVO_SECRET_KEY=
BELVO_API_KEY=${VITE_BELVO_API_KEY}
BELVO_SECRET_KEY=${VITE_BELVO_SECRET_KEY}

# ============================================
# üì£ Notifications & Messaging
# ============================================
VAPID_PUBLIC_KEY=
VAPID_PRIVATE_KEY=
VAPID_SUBJECT=mailto:security@aegiswallet.com
GCM_API_KEY=
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=

# ============================================
# üìù Reference
# docs/ops/supabase-env.md keeps the official list of secrets
# ============================================


# ============================================
# üìù Legacy Supabase (Remove after full migration)
# ============================================
# These variables are kept temporarily during migration
# Remove after confirming all features work with Neon + Clerk
# VITE_SUPABASE_URL=https://YOUR-PROJECT.supabase.co
# VITE_SUPABASE_ANON_KEY=pk-YOUR-ANON-KEY
# SUPABASE_SERVICE_ROLE_KEY=srp-YOUR-SERVICE-ROLE-KEY

# ============================================
# üìù Reference
# docs/ops/neon-setup.md - Neon database setup guide
# docs/auth/clerk-setup.md - Clerk authentication setup guide
# ============================================

# ============================================
# üí≥ Stripe Billing
# ============================================
STRIPE_SECRET_KEY=sk_test_YOUR_STRIPE_SECRET_KEY
STRIPE_PUBLISHABLE_KEY=pk_test_YOUR_STRIPE_PUBLISHABLE_KEY
STRIPE_WEBHOOK_SECRET=whsec_YOUR_WEBHOOK_SECRET

# Stripe Price IDs (create in Stripe Dashboard)
STRIPE_PRICE_BASIC_MONTHLY=price_YOUR_BASIC_PRICE_ID
STRIPE_PRICE_ADVANCED_MONTHLY=price_YOUR_ADVANCED_PRICE_ID

# Stripe URLs
STRIPE_SUCCESS_URL=http://localhost:5173/billing/success
STRIPE_CANCEL_URL=http://localhost:5173/billing/cancel
STRIPE_PORTAL_RETURN_URL=http://localhost:5173/settings/billing
