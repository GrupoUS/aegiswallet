// Bundled for Vercel Serverless Functions
// Generated at: 2025-12-01T03:55:10.081Z
import { createRequire as __createRequire__ } from 'node:module';
const require = __createRequire__(import.meta.url);

var Pe=Object.defineProperty;var h=(e,t)=>Pe(e,"name",{value:t,configurable:!0});var B=h((e,t,r)=>(s,n)=>{let i=-1;return a(0);async function a(c){if(c<=i)throw new Error("next() called multiple times");i=c;let o,l=!1,u;if(e[c]?(u=e[c][0][0],s.req.routeIndex=c):u=c===e.length&&n||void 0,u)try{o=await u(s,()=>a(c+1))}catch(f){if(f instanceof Error&&t)s.error=f,o=await t(f,s),l=!0;else throw f}else s.finalized===!1&&r&&(o=await r(s));return o&&(s.finalized===!1||l)&&(s.res=o),s}},"compose");var ne=Symbol();var oe=h(async(e,t=Object.create(null))=>{let{all:r=!1,dot:s=!1}=t,i=(e instanceof M?e.raw.headers:e.headers).get("Content-Type");return i?.startsWith("multipart/form-data")||i?.startsWith("application/x-www-form-urlencoded")?Oe(e,{all:r,dot:s}):{}},"parseBody");async function Oe(e,t){let r=await e.formData();return r?Ae(r,t):{}}h(Oe,"parseFormData");function Ae(e,t){let r=Object.create(null);return e.forEach((s,n)=>{t.all||n.endsWith("[]")?Se(r,n,s):r[n]=s}),t.dot&&Object.entries(r).forEach(([s,n])=>{s.includes(".")&&(je(r,s,n),delete r[s])}),r}h(Ae,"convertFormDataToBodyData");var Se=h((e,t,r)=>{e[t]!==void 0?Array.isArray(e[t])?e[t].push(r):e[t]=[e[t],r]:t.endsWith("[]")?e[t]=[r]:e[t]=r},"handleParsingAllValues"),je=h((e,t,r)=>{let s=e,n=t.split(".");n.forEach((i,a)=>{a===n.length-1?s[i]=r:((!s[i]||typeof s[i]!="object"||Array.isArray(s[i])||s[i]instanceof File)&&(s[i]=Object.create(null)),s=s[i])})},"handleParsingNestedValues");var K=h(e=>{let t=e.split("/");return t[0]===""&&t.shift(),t},"splitPath"),ie=h(e=>{let{groups:t,path:r}=He(e),s=K(r);return _e(s,t)},"splitRoutingPath"),He=h(e=>{let t=[];return e=e.replace(/\{[^}]+\}/g,(r,s)=>{let n=`@${s}`;return t.push([n,r]),n}),{groups:t,path:e}},"extractGroupsFromPath"),_e=h((e,t)=>{for(let r=t.length-1;r>=0;r--){let[s]=t[r];for(let n=e.length-1;n>=0;n--)if(e[n].includes(s)){e[n]=e[n].replace(s,t[r][1]);break}}return e},"replaceGroupMarks"),T={},ae=h((e,t)=>{if(e==="*")return"*";let r=e.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);if(r){let s=`${e}#${t}`;return T[s]||(r[2]?T[s]=t&&t[0]!==":"&&t[0]!=="*"?[s,r[1],new RegExp(`^${r[2]}(?=/${t})`)]:[e,r[1],new RegExp(`^${r[2]}$`)]:T[s]=[e,r[1],!0]),T[s]}return null},"getPattern"),C=h((e,t)=>{try{return t(e)}catch{return e.replace(/(?:%[0-9A-Fa-f]{2})+/g,r=>{try{return t(r)}catch{return r}})}},"tryDecode"),Me=h(e=>C(e,decodeURI),"tryDecodeURI"),z=h(e=>{let t=e.url,r=t.indexOf("/",t.indexOf(":")+4),s=r;for(;s<t.length;s++){let n=t.charCodeAt(s);if(n===37){let i=t.indexOf("?",s),a=t.slice(r,i===-1?void 0:i);return Me(a.includes("%25")?a.replace(/%25/g,"%2525"):a)}else if(n===63)break}return t.slice(r,s)},"getPath");var ce=h(e=>{let t=z(e);return t.length>1&&t.at(-1)==="/"?t.slice(0,-1):t},"getPathNoStrict"),b=h((e,t,...r)=>(r.length&&(t=b(t,...r)),`${e?.[0]==="/"?"":"/"}${e}${t==="/"?"":`${e?.at(-1)==="/"?"":"/"}${t?.[0]==="/"?t.slice(1):t}`}`),"mergePath"),L=h(e=>{if(e.charCodeAt(e.length-1)!==63||!e.includes(":"))return null;let t=e.split("/"),r=[],s="";return t.forEach(n=>{if(n!==""&&!/\:/.test(n))s+="/"+n;else if(/\:/.test(n))if(/\?/.test(n)){r.length===0&&s===""?r.push("/"):r.push(s);let i=n.replace("?","");s+="/"+i,r.push(s)}else s+="/"+n}),r.filter((n,i,a)=>a.indexOf(n)===i)},"checkOptionalParameter"),W=h(e=>/[%+]/.test(e)?(e.indexOf("+")!==-1&&(e=e.replace(/\+/g," ")),e.indexOf("%")!==-1?C(e,G):e):e,"_decodeURI"),he=h((e,t,r)=>{let s;if(!r&&t&&!/[%+]/.test(t)){let a=e.indexOf("?",8);if(a===-1)return;for(e.startsWith(t,a+1)||(a=e.indexOf(`&${t}`,a+1));a!==-1;){let c=e.charCodeAt(a+t.length+1);if(c===61){let o=a+t.length+2,l=e.indexOf("&",o);return W(e.slice(o,l===-1?void 0:l))}else if(c==38||isNaN(c))return"";a=e.indexOf(`&${t}`,a+1)}if(s=/[%+]/.test(e),!s)return}let n={};s??=/[%+]/.test(e);let i=e.indexOf("?",8);for(;i!==-1;){let a=e.indexOf("&",i+1),c=e.indexOf("=",i);c>a&&a!==-1&&(c=-1);let o=e.slice(i+1,c===-1?a===-1?void 0:a:c);if(s&&(o=W(o)),i=a,o==="")continue;let l;c===-1?l="":(l=e.slice(c+1,a===-1?void 0:a),s&&(l=W(l))),r?(n[o]&&Array.isArray(n[o])||(n[o]=[]),n[o].push(l)):n[o]??=l}return t?n[t]:n},"_getQueryParam"),le=he,ue=h((e,t)=>he(e,t,!0),"getQueryParams"),G=decodeURIComponent;var fe=h(e=>C(e,G),"tryDecodeURIComponent"),M=class{static{h(this,"HonoRequest")}raw;#t;#e;routeIndex=0;path;bodyCache={};constructor(e,t="/",r=[[]]){this.raw=e,this.path=t,this.#e=r,this.#t={}}param(e){return e?this.#r(e):this.#o()}#r(e){let t=this.#e[0][this.routeIndex][1][e],r=this.#n(t);return r&&/\%/.test(r)?fe(r):r}#o(){let e={},t=Object.keys(this.#e[0][this.routeIndex][1]);for(let r of t){let s=this.#n(this.#e[0][this.routeIndex][1][r]);s!==void 0&&(e[r]=/\%/.test(s)?fe(s):s)}return e}#n(e){return this.#e[1]?this.#e[1][e]:e}query(e){return le(this.url,e)}queries(e){return ue(this.url,e)}header(e){if(e)return this.raw.headers.get(e)??void 0;let t={};return this.raw.headers.forEach((r,s)=>{t[s]=r}),t}async parseBody(e){return this.bodyCache.parsedBody??=await oe(this,e)}#s=h(e=>{let{bodyCache:t,raw:r}=this,s=t[e];if(s)return s;let n=Object.keys(t)[0];return n?t[n].then(i=>(n==="json"&&(i=JSON.stringify(i)),new Response(i)[e]())):t[e]=r[e]()},"#cachedBody");json(){return this.#s("text").then(e=>JSON.parse(e))}text(){return this.#s("text")}arrayBuffer(){return this.#s("arrayBuffer")}blob(){return this.#s("blob")}formData(){return this.#s("formData")}addValidatedData(e,t){this.#t[e]=t}valid(e){return this.#t[e]}get url(){return this.raw.url}get method(){return this.raw.method}get[ne](){return this.#e}get matchedRoutes(){return this.#e[0].map(([[,e]])=>e)}get routePath(){return this.#e[0].map(([[,e]])=>e)[this.routeIndex].path}};var de={Stringify:1,BeforeStream:2,Stream:3},Te=h((e,t)=>{let r=new String(e);return r.isEscaped=!0,r.callbacks=t,r},"raw");var q=h(async(e,t,r,s,n)=>{typeof e=="object"&&!(e instanceof String)&&(e instanceof Promise||(e=e.toString()),e instanceof Promise&&(e=await e));let i=e.callbacks;if(!i?.length)return Promise.resolve(e);n?n[0]+=e:n=[e];let a=Promise.all(i.map(c=>c({phase:t,buffer:n,context:s}))).then(c=>Promise.all(c.filter(Boolean).map(o=>q(o,t,!1,s,n))).then(()=>n[0]));return r?Te(await a,i):a},"resolveCallback");var Ce="text/plain; charset=UTF-8",V=h((e,t)=>({"Content-Type":e,...t}),"setDefaultContentType"),pe=class{static{h(this,"Context")}#t;#e;env={};#r;finalized=!1;error;#o;#n;#s;#l;#c;#h;#a;#u;#f;constructor(e,t){this.#t=e,t&&(this.#n=t.executionCtx,this.env=t.env,this.#h=t.notFoundHandler,this.#f=t.path,this.#u=t.matchResult)}get req(){return this.#e??=new M(this.#t,this.#f,this.#u),this.#e}get event(){if(this.#n&&"respondWith"in this.#n)return this.#n;throw Error("This context has no FetchEvent")}get executionCtx(){if(this.#n)return this.#n;throw Error("This context has no ExecutionContext")}get res(){return this.#s||=new Response(null,{headers:this.#a??=new Headers})}set res(e){if(this.#s&&e){e=new Response(e.body,e);for(let[t,r]of this.#s.headers.entries())if(t!=="content-type")if(t==="set-cookie"){let s=this.#s.headers.getSetCookie();e.headers.delete("set-cookie");for(let n of s)e.headers.append("set-cookie",n)}else e.headers.set(t,r)}this.#s=e,this.finalized=!0}render=h((...e)=>(this.#c??=t=>this.html(t),this.#c(...e)),"render");setLayout=h(e=>this.#l=e,"setLayout");getLayout=h(()=>this.#l,"getLayout");setRenderer=h(e=>{this.#c=e},"setRenderer");header=h((e,t,r)=>{this.finalized&&(this.#s=new Response(this.#s.body,this.#s));let s=this.#s?this.#s.headers:this.#a??=new Headers;t===void 0?s.delete(e):r?.append?s.append(e,t):s.set(e,t)},"header");status=h(e=>{this.#o=e},"status");set=h((e,t)=>{this.#r??=new Map,this.#r.set(e,t)},"set");get=h(e=>this.#r?this.#r.get(e):void 0,"get");get var(){return this.#r?Object.fromEntries(this.#r):{}}#i(e,t,r){let s=this.#s?new Headers(this.#s.headers):this.#a??new Headers;if(typeof t=="object"&&"headers"in t){let i=t.headers instanceof Headers?t.headers:new Headers(t.headers);for(let[a,c]of i)a.toLowerCase()==="set-cookie"?s.append(a,c):s.set(a,c)}if(r)for(let[i,a]of Object.entries(r))if(typeof a=="string")s.set(i,a);else{s.delete(i);for(let c of a)s.append(i,c)}let n=typeof t=="number"?t:t?.status??this.#o;return new Response(e,{status:n,headers:s})}newResponse=h((...e)=>this.#i(...e),"newResponse");body=h((e,t,r)=>this.#i(e,t,r),"body");text=h((e,t,r)=>!this.#a&&!this.#o&&!t&&!r&&!this.finalized?new Response(e):this.#i(e,t,V(Ce,r)),"text");json=h((e,t,r)=>this.#i(JSON.stringify(e),t,V("application/json",r)),"json");html=h((e,t,r)=>{let s=h(n=>this.#i(n,t,V("text/html; charset=UTF-8",r)),"res");return typeof e=="object"?q(e,de.Stringify,!1,{}).then(s):s(e)},"html");redirect=h((e,t)=>{let r=String(e);return this.header("Location",/[^\x00-\xFF]/.test(r)?encodeURI(r):r),this.newResponse(null,t??302)},"redirect");notFound=h(()=>(this.#h??=()=>new Response,this.#h(this)),"notFound")};var d="ALL",me="all",ge=["get","post","put","delete","options","patch"],D="Can not add a route since the matcher is already built.",I=class extends Error{static{h(this,"UnsupportedPathError")}};var Ee="__COMPOSED_HANDLER";var Le=h(e=>e.text("404 Not Found",404),"notFoundHandler"),Re=h((e,t)=>{if("getResponse"in e){let r=e.getResponse();return t.newResponse(r.body,r)}return console.error(e),t.text("Internal Server Error",500)},"errorHandler"),Q=class{static{h(this,"Hono")}get;post;put;delete;options;patch;all;on;use;router;getPath;_basePath="/";#t="/";routes=[];constructor(e={}){[...ge,me].forEach(n=>{this[n]=(i,...a)=>(typeof i=="string"?this.#t=i:this.#o(n,this.#t,i),a.forEach(c=>{this.#o(n,this.#t,c)}),this)}),this.on=(n,i,...a)=>{for(let c of[i].flat()){this.#t=c;for(let o of[n].flat())a.map(l=>{this.#o(o.toUpperCase(),this.#t,l)})}return this},this.use=(n,...i)=>(typeof n=="string"?this.#t=n:(this.#t="*",i.unshift(n)),i.forEach(a=>{this.#o(d,this.#t,a)}),this);let{strict:r,...s}=e;Object.assign(this,s),this.getPath=r??!0?e.getPath??z:ce}#e(){let e=new Q({router:this.router,getPath:this.getPath});return e.errorHandler=this.errorHandler,e.#r=this.#r,e.routes=this.routes,e}#r=Le;errorHandler=Re;route(e,t){let r=this.basePath(e);return t.routes.map(s=>{let n;t.errorHandler===Re?n=s.handler:(n=h(async(i,a)=>(await B([],t.errorHandler)(i,()=>s.handler(i,a))).res,"handler"),n[Ee]=s.handler),r.#o(s.method,s.path,n)}),this}basePath(e){let t=this.#e();return t._basePath=b(this._basePath,e),t}onError=h(e=>(this.errorHandler=e,this),"onError");notFound=h(e=>(this.#r=e,this),"notFound");mount(e,t,r){let s,n;r&&(typeof r=="function"?n=r:(n=r.optionHandler,r.replaceRequest===!1?s=h(c=>c,"replaceRequest"):s=r.replaceRequest));let i=n?c=>{let o=n(c);return Array.isArray(o)?o:[o]}:c=>{let o;try{o=c.executionCtx}catch{}return[c.env,o]};s||=(()=>{let c=b(this._basePath,e),o=c==="/"?0:c.length;return l=>{let u=new URL(l.url);return u.pathname=u.pathname.slice(o)||"/",new Request(u,l)}})();let a=h(async(c,o)=>{let l=await t(s(c.req.raw),...i(c));if(l)return l;await o()},"handler");return this.#o(d,b(e,"*"),a),this}#o(e,t,r){e=e.toUpperCase(),t=b(this._basePath,t);let s={basePath:this._basePath,path:t,method:e,handler:r};this.router.add(e,t,[r,s]),this.routes.push(s)}#n(e,t){if(e instanceof Error)return this.errorHandler(e,t);throw e}#s(e,t,r,s){if(s==="HEAD")return(async()=>new Response(null,await this.#s(e,t,r,"GET")))();let n=this.getPath(e,{env:r}),i=this.router.match(s,n),a=new pe(e,{path:n,matchResult:i,env:r,executionCtx:t,notFoundHandler:this.#r});if(i[0].length===1){let o;try{o=i[0][0][0][0](a,async()=>{a.res=await this.#r(a)})}catch(l){return this.#n(l,a)}return o instanceof Promise?o.then(l=>l||(a.finalized?a.res:this.#r(a))).catch(l=>this.#n(l,a)):o??this.#r(a)}let c=B(i[0],this.errorHandler,this.#r);return(async()=>{try{let o=await c(a);if(!o.finalized)throw new Error("Context is not finalized. Did you forget to return a Response object or `await next()`?");return o.res}catch(o){return this.#n(o,a)}})()}fetch=h((e,...t)=>this.#s(e,t[1],t[0],e.method),"fetch");request=h((e,t,r,s)=>e instanceof Request?this.fetch(t?new Request(e,t):e,r,s):(e=e.toString(),this.fetch(new Request(/^https?:\/\//.test(e)?e:`http://localhost${b("/",e)}`,t),r,s)),"request");fire=h(()=>{addEventListener("fetch",e=>{e.respondWith(this.#s(e.request,e,void 0,e.request.method))})},"fire")};var $=[];function J(e,t){let r=this.buildAllMatchers(),s=h((n,i)=>{let a=r[n]||r[d],c=a[2][i];if(c)return c;let o=i.match(a[0]);if(!o)return[[],$];let l=o.indexOf("",1);return[a[1][l],o]},"match2");return this.match=s,s(e,t)}h(J,"match");var N="[^/]+",j=".*",H="(?:|/.*)",v=Symbol(),De=new Set(".\\+*[^]$()");function Ie(e,t){return e.length===1?t.length===1?e<t?-1:1:-1:t.length===1||e===j||e===H?1:t===j||t===H?-1:e===N?1:t===N?-1:e.length===t.length?e<t?-1:1:t.length-e.length}h(Ie,"compareKey");var k=class{static{h(this,"Node")}#t;#e;#r=Object.create(null);insert(e,t,r,s,n){if(e.length===0){if(this.#t!==void 0)throw v;if(n)return;this.#t=t;return}let[i,...a]=e,c=i==="*"?a.length===0?["","",j]:["","",N]:i==="/*"?["","",H]:i.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/),o;if(c){let l=c[1],u=c[2]||N;if(l&&c[2]&&(u===".*"||(u=u.replace(/^\((?!\?:)(?=[^)]+\)$)/,"(?:"),/\((?!\?:)/.test(u))))throw v;if(o=this.#r[u],!o){if(Object.keys(this.#r).some(f=>f!==j&&f!==H))throw v;if(n)return;o=this.#r[u]=new k,l!==""&&(o.#e=s.varIndex++)}!n&&l!==""&&r.push([l,o.#e])}else if(o=this.#r[i],!o){if(Object.keys(this.#r).some(l=>l.length>1&&l!==j&&l!==H))throw v;if(n)return;o=this.#r[i]=new k}o.insert(a,t,r,s,n)}buildRegExpStr(){let t=Object.keys(this.#r).sort(Ie).map(r=>{let s=this.#r[r];return(typeof s.#e=="number"?`(${r})@${s.#e}`:De.has(r)?`\\${r}`:r)+s.buildRegExpStr()});return typeof this.#t=="number"&&t.unshift(`#${this.#t}`),t.length===0?"":t.length===1?t[0]:"(?:"+t.join("|")+")"}};var we=class{static{h(this,"Trie")}#t={varIndex:0};#e=new k;insert(e,t,r){let s=[],n=[];for(let a=0;;){let c=!1;if(e=e.replace(/\{[^}]+\}/g,o=>{let l=`@\\${a}`;return n[a]=[l,o],a++,c=!0,l}),!c)break}let i=e.match(/(?::[^\/]+)|(?:\/\*$)|./g)||[];for(let a=n.length-1;a>=0;a--){let[c]=n[a];for(let o=i.length-1;o>=0;o--)if(i[o].indexOf(c)!==-1){i[o]=i[o].replace(c,n[a][1]);break}}return this.#e.insert(i,t,s,this.#t,r),s}buildRegExp(){let e=this.#e.buildRegExpStr();if(e==="")return[/^$/,[],[]];let t=0,r=[],s=[];return e=e.replace(/#(\d+)|@(\d+)|\.\*\$/g,(n,i,a)=>i!==void 0?(r[++t]=Number(i),"$()"):(a!==void 0&&(s[Number(a)]=++t),"")),[new RegExp(`^${e}`),r,s]}};var $e=[/^$/,[],Object.create(null)],xe=Object.create(null);function ye(e){return xe[e]??=new RegExp(e==="*"?"":`^${e.replace(/\/\*$|([.\\+*[^\]$()])/g,(t,r)=>r?`\\${r}`:"(?:|/.*)")}$`)}h(ye,"buildWildcardRegExp");function Ne(){xe=Object.create(null)}h(Ne,"clearWildcardRegExpCache");function ke(e){let t=new we,r=[];if(e.length===0)return $e;let s=e.map(l=>[!/\*|\/:/.test(l[0]),...l]).sort(([l,u],[f,m])=>l?1:f?-1:u.length-m.length),n=Object.create(null);for(let l=0,u=-1,f=s.length;l<f;l++){let[m,E,p]=s[l];m?n[E]=[p.map(([R])=>[R,Object.create(null)]),$]:u++;let g;try{g=t.insert(E,u,m)}catch(R){throw R===v?new I(E):R}m||(r[u]=p.map(([R,P])=>{let A=Object.create(null);for(P-=1;P>=0;P--){let[w,U]=g[P];A[w]=U}return[R,A]}))}let[i,a,c]=t.buildRegExp();for(let l=0,u=r.length;l<u;l++)for(let f=0,m=r[l].length;f<m;f++){let E=r[l][f]?.[1];if(!E)continue;let p=Object.keys(E);for(let g=0,R=p.length;g<R;g++)E[p[g]]=c[E[p[g]]]}let o=[];for(let l in a)o[l]=r[a[l]];return[i,o,n]}h(ke,"buildMatcherFromPreprocessedRoutes");function O(e,t){if(e){for(let r of Object.keys(e).sort((s,n)=>n.length-s.length))if(ye(r).test(t))return[...e[r]]}}h(O,"findMiddleware");var F=class{static{h(this,"RegExpRouter")}name="RegExpRouter";#t;#e;constructor(){this.#t={[d]:Object.create(null)},this.#e={[d]:Object.create(null)}}add(e,t,r){let s=this.#t,n=this.#e;if(!s||!n)throw new Error(D);s[e]||[s,n].forEach(c=>{c[e]=Object.create(null),Object.keys(c[d]).forEach(o=>{c[e][o]=[...c[d][o]]})}),t==="/*"&&(t="*");let i=(t.match(/\/:/g)||[]).length;if(/\*$/.test(t)){let c=ye(t);e===d?Object.keys(s).forEach(o=>{s[o][t]||=O(s[o],t)||O(s[d],t)||[]}):s[e][t]||=O(s[e],t)||O(s[d],t)||[],Object.keys(s).forEach(o=>{(e===d||e===o)&&Object.keys(s[o]).forEach(l=>{c.test(l)&&s[o][l].push([r,i])})}),Object.keys(n).forEach(o=>{(e===d||e===o)&&Object.keys(n[o]).forEach(l=>c.test(l)&&n[o][l].push([r,i]))});return}let a=L(t)||[t];for(let c=0,o=a.length;c<o;c++){let l=a[c];Object.keys(n).forEach(u=>{(e===d||e===u)&&(n[u][l]||=[...O(s[u],l)||O(s[d],l)||[]],n[u][l].push([r,i-o+c+1]))})}}match=J;buildAllMatchers(){let e=Object.create(null);return Object.keys(this.#e).concat(Object.keys(this.#t)).forEach(t=>{e[t]||=this.#r(t)}),this.#t=this.#e=void 0,Ne(),e}#r(e){let t=[],r=e===d;return[this.#t,this.#e].forEach(s=>{let n=s[e]?Object.keys(s[e]).map(i=>[i,s[e][i]]):[];n.length!==0?(r||=!0,t.push(...n)):e!==d&&t.push(...Object.keys(s[d]).map(i=>[i,s[d][i]]))}),r?ke(t):null}};var X=class{static{h(this,"SmartRouter")}name="SmartRouter";#t=[];#e=[];constructor(e){this.#t=e.routers}add(e,t,r){if(!this.#e)throw new Error(D);this.#e.push([e,t,r])}match(e,t){if(!this.#e)throw new Error("Fatal error");let r=this.#t,s=this.#e,n=r.length,i=0,a;for(;i<n;i++){let c=r[i];try{for(let o=0,l=s.length;o<l;o++)c.add(...s[o]);a=c.match(e,t)}catch(o){if(o instanceof I)continue;throw o}this.match=c.match.bind(c),this.#t=[c],this.#e=void 0;break}if(i===n)throw new Error("Fatal error");return this.name=`SmartRouter + ${this.activeRouter.name}`,a}get activeRouter(){if(this.#e||this.#t.length!==1)throw new Error("No active router has been determined yet.");return this.#t[0]}};var _=Object.create(null),Y=class{static{h(this,"Node")}#t;#e;#r;#o=0;#n=_;constructor(e,t,r){if(this.#e=r||Object.create(null),this.#t=[],e&&t){let s=Object.create(null);s[e]={handler:t,possibleKeys:[],score:0},this.#t=[s]}this.#r=[]}insert(e,t,r){this.#o=++this.#o;let s=this,n=ie(t),i=[];for(let a=0,c=n.length;a<c;a++){let o=n[a],l=n[a+1],u=ae(o,l),f=Array.isArray(u)?u[0]:o;if(f in s.#e){s=s.#e[f],u&&i.push(u[1]);continue}s.#e[f]=new Y,u&&(s.#r.push(u),i.push(u[1])),s=s.#e[f]}return s.#t.push({[e]:{handler:r,possibleKeys:i.filter((a,c,o)=>o.indexOf(a)===c),score:this.#o}}),s}#s(e,t,r,s){let n=[];for(let i=0,a=e.#t.length;i<a;i++){let c=e.#t[i],o=c[t]||c[d],l={};if(o!==void 0&&(o.params=Object.create(null),n.push(o),r!==_||s&&s!==_))for(let u=0,f=o.possibleKeys.length;u<f;u++){let m=o.possibleKeys[u],E=l[o.score];o.params[m]=s?.[m]&&!E?s[m]:r[m]??s?.[m],l[o.score]=!0}}return n}search(e,t){let r=[];this.#n=_;let n=[this],i=K(t),a=[];for(let c=0,o=i.length;c<o;c++){let l=i[c],u=c===o-1,f=[];for(let m=0,E=n.length;m<E;m++){let p=n[m],g=p.#e[l];g&&(g.#n=p.#n,u?(g.#e["*"]&&r.push(...this.#s(g.#e["*"],e,p.#n)),r.push(...this.#s(g,e,p.#n))):f.push(g));for(let R=0,P=p.#r.length;R<P;R++){let A=p.#r[R],w=p.#n===_?{}:{...p.#n};if(A==="*"){let y=p.#e["*"];y&&(r.push(...this.#s(y,e,p.#n)),y.#n=w,f.push(y));continue}let[U,se,S]=A;if(!l&&!(S instanceof RegExp))continue;let x=p.#e[U],be=i.slice(c).join("/");if(S instanceof RegExp){let y=S.exec(be);if(y){if(w[se]=y[0],r.push(...this.#s(x,e,p.#n,w)),Object.keys(x.#e).length){x.#n=w;let ve=y[0].match(/\//)?.length??0;(a[ve]||=[]).push(x)}continue}}(S===!0||S.test(l))&&(w[se]=l,u?(r.push(...this.#s(x,e,w,p.#n)),x.#e["*"]&&r.push(...this.#s(x.#e["*"],e,w,p.#n))):(x.#n=w,f.push(x)))}}n=f.concat(a.shift()??[])}return r.length>1&&r.sort((c,o)=>c.score-o.score),[r.map(({handler:c,params:o})=>[c,o])]}};var Z=class{static{h(this,"TrieRouter")}name="TrieRouter";#t;constructor(){this.#t=new Y}add(e,t,r){let s=L(t);if(s){for(let n=0,i=s.length;n<i;n++)this.#t.insert(e,s[n],r);return}this.#t.insert(e,t,r)}match(e,t){return this.#t.search(e,t)}};var ee=class extends Q{static{h(this,"Hono")}constructor(e={}){super(e),this.router=e.router??new X({routers:[new F,new Z]})}};var te=h(e=>t=>e.fetch(t),"handle");var re=new ee().basePath("/api");re.get("/health",e=>e.json({status:"ok",timestamp:new Date().toISOString(),runtime:"minimal"}));re.all("*",e=>e.json({error:"Route not found in minimal mode",path:e.req.path,method:e.req.method,note:"Full API temporarily disabled for debugging"},404));var $r={runtime:"nodejs"},Nr=te(re);export{$r as config,Nr as default};
