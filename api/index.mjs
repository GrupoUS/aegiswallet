// AegisWallet API - Bundled for Vercel Node.js Runtime
// Generated at: 2025-12-03T15:37:49.329Z
// Entry: src/server/vercel.ts
// Format: ESM for Vercel Node.js 20.x

// Shim for CommonJS modules that use require()
import { createRequire } from 'node:module';
const require = createRequire(import.meta.url);

var nX=Object.create;var ll=Object.defineProperty;var oX=Object.getOwnPropertyDescriptor;var iX=Object.getOwnPropertyNames;var aX=Object.getPrototypeOf,sX=Object.prototype.hasOwnProperty;var a=(e,t)=>ll(e,"name",{value:t,configurable:!0}),uX=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var W=(e,t)=>()=>(e&&(t=e(e=0)),t);var M=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),_n=(e,t)=>{for(var r in t)ll(e,r,{get:t[r],enumerable:!0})},$N=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of iX(t))!sX.call(e,o)&&o!==r&&ll(e,o,{get:()=>t[o],enumerable:!(n=oX(t,o))||n.enumerable});return e};var ou=(e,t,r)=>(r=e!=null?nX(aX(e)):{},$N(t||!e||!e.__esModule?ll(r,"default",{value:e,enumerable:!0}):r,e)),cX=e=>$N(ll({},"__esModule",{value:!0}),e);function Y(e,t){if(!e||typeof e!="object")return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,j))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=Object.getPrototypeOf(e).constructor;if(r)for(;r;){if(j in r&&r[j]===t[j])return!0;r=Object.getPrototypeOf(r)}return!1}var j,AX,he=W(()=>{j=Symbol.for("drizzle:entityKind"),AX=Symbol.for("drizzle:hasOwnEntityKind");a(Y,"is")});var St,po=W(()=>{he();St=class{static{a(this,"Column")}constructor(t,r){this.table=t,this.config=r,this.name=r.name,this.keyAsName=r.keyAsName,this.notNull=r.notNull,this.default=r.default,this.defaultFn=r.defaultFn,this.onUpdateFn=r.onUpdateFn,this.hasDefault=r.hasDefault,this.primary=r.primaryKey,this.isUnique=r.isUnique,this.uniqueName=r.uniqueName,this.uniqueType=r.uniqueType,this.dataType=r.dataType,this.columnType=r.columnType,this.generated=r.generated,this.generatedIdentity=r.generatedIdentity}static[j]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(t){return t}mapToDriverValue(t){return t}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}});var gl,_w=W(()=>{he();gl=class{static{a(this,"ColumnBuilder")}static[j]="ColumnBuilder";config;constructor(t,r,n){this.config={name:t,keyAsName:t==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:r,columnType:n,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(t){return this.config.default=t,this.config.hasDefault=!0,this}$defaultFn(t){return this.config.defaultFn=t,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(t){return this.config.onUpdateFn=t,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(t){this.config.name===""&&(this.config.name=t)}}});var mo,Ym=W(()=>{mo=Symbol.for("drizzle:Name")});var ef,bw,Sw=W(()=>{he();Ym();ef=class{static{a(this,"ForeignKeyBuilder")}static[j]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(t,r){this.reference=()=>{let{name:n,columns:o,foreignColumns:i}=t();return{name:n,columns:o,foreignTable:i[0].table,foreignColumns:i}},r&&(this._onUpdate=r.onUpdate,this._onDelete=r.onDelete)}onUpdate(t){return this._onUpdate=t===void 0?"no action":t,this}onDelete(t){return this._onDelete=t===void 0?"no action":t,this}build(t){return new bw(t,this)}},bw=class{static{a(this,"ForeignKey")}constructor(t,r){this.table=t,this.reference=r.reference,this.onUpdate=r._onUpdate,this.onDelete=r._onDelete}static[j]="PgForeignKey";reference;onUpdate;onDelete;getName(){let{name:t,columns:r,foreignColumns:n}=this.reference(),o=r.map(u=>u.name),i=n.map(u=>u.name),s=[this.table[mo],...o,n[0].table[mo],...i];return t??`${s.join("_")}_fk`}}});function tf(e,...t){return e(...t)}var ww=W(()=>{a(tf,"iife")});function Ew(e,t){return`${e[mo]}_${t.join("_")}_unique`}var xw,dz,Tw,kw=W(()=>{he();Ym();a(Ew,"uniqueKeyName");xw=class{static{a(this,"UniqueConstraintBuilder")}constructor(t,r){this.name=r,this.columns=t}static[j]="PgUniqueConstraintBuilder";columns;nullsNotDistinctConfig=!1;nullsNotDistinct(){return this.nullsNotDistinctConfig=!0,this}build(t){return new Tw(t,this.columns,this.nullsNotDistinctConfig,this.name)}},dz=class{static{a(this,"UniqueOnConstraintBuilder")}static[j]="PgUniqueOnConstraintBuilder";name;constructor(t){this.name=t}on(...t){return new xw(t,this.name)}},Tw=class{static{a(this,"UniqueConstraint")}constructor(t,r,n,o){this.table=t,this.columns=r,this.name=o??Ew(this.table,this.columns.map(i=>i.name)),this.nullsNotDistinct=n}static[j]="PgUniqueConstraint";columns;name;nullsNotDistinct=!1;getName(){return this.name}}});function pz(e,t,r){for(let n=t;n<e.length;n++){let o=e[n];if(o==="\\"){n++;continue}if(o==='"')return[e.slice(t,n).replace(/\\/g,""),n+1];if(!r&&(o===","||o==="}"))return[e.slice(t,n).replace(/\\/g,""),n]}return[e.slice(t).replace(/\\/g,""),e.length]}function mz(e,t=0){let r=[],n=t,o=!1;for(;n<e.length;){let i=e[n];if(i===","){(o||n===t)&&r.push(""),o=!0,n++;continue}if(o=!1,i==="\\"){n+=2;continue}if(i==='"'){let[l,d]=pz(e,n+1,!0);r.push(l),n=d;continue}if(i==="}")return[r,n+1];if(i==="{"){let[l,d]=mz(e,n+1);r.push(l),n=d;continue}let[s,u]=pz(e,n,!1);r.push(s),n=u}return[r,n]}function fz(e){let[t]=mz(e,1);return t}function Pw(e){return`{${e.map(t=>Array.isArray(t)?Pw(t):typeof t=="string"?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}var Iw=W(()=>{a(pz,"parsePgArrayValue");a(mz,"parsePgNestedArray");a(fz,"parsePgArray");a(Pw,"makePgArray")});var Te,ge,Ow,su,Aw,Cw,ct=W(()=>{_w();po();he();Sw();ww();kw();Iw();Te=class extends gl{static{a(this,"PgColumnBuilder")}foreignKeyConfigs=[];static[j]="PgColumnBuilder";array(t){return new Aw(this.config.name,this,t)}references(t,r={}){return this.foreignKeyConfigs.push({ref:t,actions:r}),this}unique(t,r){return this.config.isUnique=!0,this.config.uniqueName=t,this.config.uniqueType=r?.nulls,this}generatedAlwaysAs(t){return this.config.generated={as:t,type:"always",mode:"stored"},this}buildForeignKeys(t,r){return this.foreignKeyConfigs.map(({ref:n,actions:o})=>tf((i,s)=>{let u=new ef(()=>{let l=i();return{columns:[t],foreignColumns:[l]}});return s.onUpdate&&u.onUpdate(s.onUpdate),s.onDelete&&u.onDelete(s.onDelete),u.build(r)},n,o))}buildExtraConfigColumn(t){return new Ow(t,this.config)}},ge=class extends St{static{a(this,"PgColumn")}constructor(t,r){r.uniqueName||(r.uniqueName=Ew(t,[r.name])),super(t,r),this.table=t}static[j]="PgColumn"},Ow=class extends ge{static{a(this,"ExtraConfigColumn")}static[j]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(t){return this.indexConfig.opClass=t,this}},su=class{static{a(this,"IndexedColumn")}static[j]="IndexedColumn";constructor(t,r,n,o){this.name=t,this.keyAsName=r,this.type=n,this.indexConfig=o}name;keyAsName;type;indexConfig},Aw=class extends Te{static{a(this,"PgArrayBuilder")}static[j]="PgArrayBuilder";constructor(t,r,n){super(t,"array","PgArray"),this.config.baseBuilder=r,this.config.size=n}build(t){let r=this.config.baseBuilder.build(t);return new Cw(t,this.config,r)}},Cw=class e extends ge{static{a(this,"PgArray")}constructor(t,r,n,o){super(t,r),this.baseColumn=n,this.range=o,this.size=r.size}size;static[j]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(t){return typeof t=="string"&&(t=fz(t)),t.map(r=>this.baseColumn.mapFromDriverValue(r))}mapToDriverValue(t,r=!1){let n=t.map(o=>o===null?null:Y(this.baseColumn,e)?this.baseColumn.mapToDriverValue(o,!0):this.baseColumn.mapToDriverValue(o));return r?n:Pw(n)}}});function hz(e){return!!e&&typeof e=="function"&&rf in e&&e[rf]===!0}function zt(e,t){return Array.isArray(t)?jw(e,[...t],void 0):Dw(e,t,void 0)}function jw(e,t,r){let n=Object.assign(o=>new Nw(o??"",n),{enumName:e,enumValues:t,schema:r,[rf]:!0});return n}function Dw(e,t,r){let n=Object.assign(o=>new Rw(o??"",n),{enumName:e,enumValues:Object.values(t),schema:r,[rf]:!0});return n}var Rw,$w,rf,Nw,zw,nf=W(()=>{he();ct();Rw=class extends Te{static{a(this,"PgEnumObjectColumnBuilder")}static[j]="PgEnumObjectColumnBuilder";constructor(t,r){super(t,"string","PgEnumObjectColumn"),this.config.enum=r}build(t){return new $w(t,this.config)}},$w=class extends ge{static{a(this,"PgEnumObjectColumn")}static[j]="PgEnumObjectColumn";enum;enumValues=this.config.enum.enumValues;constructor(t,r){super(t,r),this.enum=r.enum}getSQLType(){return this.enum.enumName}},rf=Symbol.for("drizzle:isPgEnum");a(hz,"isPgEnum");Nw=class extends Te{static{a(this,"PgEnumColumnBuilder")}static[j]="PgEnumColumnBuilder";constructor(t,r){super(t,"string","PgEnumColumn"),this.config.enum=r}build(t){return new zw(t,this.config)}},zw=class extends ge{static{a(this,"PgEnumColumn")}static[j]="PgEnumColumn";enum=this.config.enum;enumValues=this.config.enum.enumValues;constructor(t,r){super(t,r),this.enum=r.enum}getSQLType(){return this.enum.enumName}};a(zt,"pgEnum");a(jw,"pgEnumWithSchema");a(Dw,"pgEnumObjectWithSchema")});var rr,rs,fo=W(()=>{he();rr=class{static{a(this,"Subquery")}static[j]="Subquery";constructor(t,r,n,o=!1,i=[]){this._={brand:"Subquery",sql:t,selectedFields:r,alias:n,isWith:o,usedTables:i}}},rs=class extends rr{static{a(this,"WithSubquery")}static[j]="WithSubquery"}});var gz,yz=W(()=>{gz="0.44.7"});var Mw,qw,Sr,Yi=W(()=>{ww();yz();Sr={startActiveSpan(e,t){return Mw?(qw||(qw=Mw.trace.getTracer("drizzle-orm",gz)),tf((r,n)=>n.startActiveSpan(e,o=>{try{return t(o)}catch(i){throw o.setStatus({code:r.SpanStatusCode.ERROR,message:i instanceof Error?i.message:"Unknown error"}),i}finally{o.end()}}),Mw,qw)):t()}}});var Ot,yi=W(()=>{Ot=Symbol.for("drizzle:ViewBaseConfig")});function CX(e){return typeof e=="object"&&e!==null&&vz in e}function Xr(e){return e[mo]}function ta(e){return`${e[ea]??"public"}.${e[mo]}`}var ea,yl,Uw,of,af,uu,Lw,vz,ye,Yr=W(()=>{he();Ym();ea=Symbol.for("drizzle:Schema"),yl=Symbol.for("drizzle:Columns"),Uw=Symbol.for("drizzle:ExtraConfigColumns"),of=Symbol.for("drizzle:OriginalName"),af=Symbol.for("drizzle:BaseName"),uu=Symbol.for("drizzle:IsAlias"),Lw=Symbol.for("drizzle:ExtraConfigBuilder"),vz=Symbol.for("drizzle:IsDrizzleTable"),ye=class{static{a(this,"Table")}static[j]="Table";static Symbol={Name:mo,Schema:ea,OriginalName:of,Columns:yl,ExtraConfigColumns:Uw,BaseName:af,IsAlias:uu,ExtraConfigBuilder:Lw};[mo];[of];[ea];[yl];[Uw];[af];[uu]=!1;[vz]=!0;[Lw]=void 0;constructor(t,r,n){this[mo]=this[of]=t,this[ea]=r,this[af]=n}};a(CX,"isTable");a(Xr,"getTableName");a(ta,"getTableUniqueName")});function sf(e){return e!=null&&typeof e.getSQL=="function"}function RX(e){let t={sql:"",params:[]};for(let r of e)t.sql+=r.sql,t.params.push(...r.params),r.typings?.length&&(t.typings||(t.typings=[]),t.typings.push(...r.typings));return t}function $X(e){return new ns(e)}function Bw(e){return typeof e=="object"&&e!==null&&"mapToDriverValue"in e&&typeof e.mapToDriverValue=="function"}function zX(e,t){return new Vr(e,t)}function q(e,...t){let r=[];(t.length>0||e.length>0&&e[0]!=="")&&r.push(new fr(e[0]));for(let[n,o]of t.entries())r.push(o,new fr(e[n+1]));return new be(r)}function jX(e){return new ho(e)}function vi(e,t){return e.map(r=>{if(Y(r,ho)){if(!(r.name in t))throw new Error(`No value for placeholder "${r.name}" was provided`);return t[r.name]}if(Y(r,Vr)&&Y(r.value,ho)){if(!(r.value.name in t))throw new Error(`No value for placeholder "${r.value.name}" was provided`);return r.encoder.mapToDriverValue(t[r.value.name])}return r})}function DX(e){return typeof e=="object"&&e!==null&&_z in e}function MX(e){return e[Ot].name}var Fw,fr,be,ns,Jw,Hw,NX,Vr,ho,_z,Zr,Kt=W(()=>{he();nf();fo();Yi();yi();po();Yr();Fw=class{static{a(this,"FakePrimitiveParam")}static[j]="FakePrimitiveParam"};a(sf,"isSQLWrapper");a(RX,"mergeQueries");fr=class{static{a(this,"StringChunk")}static[j]="StringChunk";value;constructor(t){this.value=Array.isArray(t)?t:[t]}getSQL(){return new be([this])}},be=class e{static{a(this,"SQL")}constructor(t){this.queryChunks=t;for(let r of t)if(Y(r,ye)){let n=r[ye.Symbol.Schema];this.usedTables.push(n===void 0?r[ye.Symbol.Name]:n+"."+r[ye.Symbol.Name])}}static[j]="SQL";decoder=Jw;shouldInlineParams=!1;usedTables=[];append(t){return this.queryChunks.push(...t.queryChunks),this}toQuery(t){return Sr.startActiveSpan("drizzle.buildSQL",r=>{let n=this.buildQueryFromSourceParams(this.queryChunks,t);return r?.setAttributes({"drizzle.query.text":n.sql,"drizzle.query.params":JSON.stringify(n.params)}),n})}buildQueryFromSourceParams(t,r){let n=Object.assign({},r,{inlineParams:r.inlineParams||this.shouldInlineParams,paramStartIndex:r.paramStartIndex||{value:0}}),{casing:o,escapeName:i,escapeParam:s,prepareTyping:u,inlineParams:l,paramStartIndex:d}=n;return RX(t.map(p=>{if(Y(p,fr))return{sql:p.value.join(""),params:[]};if(Y(p,ns))return{sql:i(p.value),params:[]};if(p===void 0)return{sql:"",params:[]};if(Array.isArray(p)){let f=[new fr("(")];for(let[m,y]of p.entries())f.push(y),m<p.length-1&&f.push(new fr(", "));return f.push(new fr(")")),this.buildQueryFromSourceParams(f,n)}if(Y(p,e))return this.buildQueryFromSourceParams(p.queryChunks,{...n,inlineParams:l||p.shouldInlineParams});if(Y(p,ye)){let f=p[ye.Symbol.Schema],m=p[ye.Symbol.Name];return{sql:f===void 0||p[uu]?i(m):i(f)+"."+i(m),params:[]}}if(Y(p,St)){let f=o.getColumnCasing(p);if(r.invokeSource==="indexes")return{sql:i(f),params:[]};let m=p.table[ye.Symbol.Schema];return{sql:p.table[uu]||m===void 0?i(p.table[ye.Symbol.Name])+"."+i(f):i(m)+"."+i(p.table[ye.Symbol.Name])+"."+i(f),params:[]}}if(Y(p,Zr)){let f=p[Ot].schema,m=p[Ot].name;return{sql:f===void 0||p[Ot].isAlias?i(m):i(f)+"."+i(m),params:[]}}if(Y(p,Vr)){if(Y(p.value,ho))return{sql:s(d.value++,p),params:[p],typings:["none"]};let f=p.value===null?null:p.encoder.mapToDriverValue(p.value);if(Y(f,e))return this.buildQueryFromSourceParams([f],n);if(l)return{sql:this.mapInlineParam(f,n),params:[]};let m=["none"];return u&&(m=[u(p.encoder)]),{sql:s(d.value++,f),params:[f],typings:m}}return Y(p,ho)?{sql:s(d.value++,p),params:[p],typings:["none"]}:Y(p,e.Aliased)&&p.fieldAlias!==void 0?{sql:i(p.fieldAlias),params:[]}:Y(p,rr)?p._.isWith?{sql:i(p._.alias),params:[]}:this.buildQueryFromSourceParams([new fr("("),p._.sql,new fr(") "),new ns(p._.alias)],n):hz(p)?p.schema?{sql:i(p.schema)+"."+i(p.enumName),params:[]}:{sql:i(p.enumName),params:[]}:sf(p)?p.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([p.getSQL()],n):this.buildQueryFromSourceParams([new fr("("),p.getSQL(),new fr(")")],n):l?{sql:this.mapInlineParam(p,n),params:[]}:{sql:s(d.value++,p),params:[p],typings:["none"]}}))}mapInlineParam(t,{escapeString:r}){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return t.toString();if(typeof t=="string")return r(t);if(typeof t=="object"){let n=t.toString();return r(n==="[object Object]"?JSON.stringify(t):n)}throw new Error("Unexpected param value: "+t)}getSQL(){return this}as(t){return t===void 0?this:new e.Aliased(this,t)}mapWith(t){return this.decoder=typeof t=="function"?{mapFromDriverValue:t}:t,this}inlineParams(){return this.shouldInlineParams=!0,this}if(t){return t?this:void 0}},ns=class{static{a(this,"Name")}constructor(t){this.value=t}static[j]="Name";brand;getSQL(){return new be([this])}};a($X,"name");a(Bw,"isDriverValueEncoder");Jw={mapFromDriverValue:a(e=>e,"mapFromDriverValue")},Hw={mapToDriverValue:a(e=>e,"mapToDriverValue")},NX={...Jw,...Hw},Vr=class{static{a(this,"Param")}constructor(t,r=Hw){this.value=t,this.encoder=r}static[j]="Param";brand;getSQL(){return new be([this])}};a(zX,"param");a(q,"sql");(e=>{function t(){return new be([])}a(t,"empty"),e.empty=t;function r(l){return new be(l)}a(r,"fromList"),e.fromList=r;function n(l){return new be([new fr(l)])}a(n,"raw"),e.raw=n;function o(l,d){let p=[];for(let[f,m]of l.entries())f>0&&d!==void 0&&p.push(d),p.push(m);return new be(p)}a(o,"join"),e.join=o;function i(l){return new ns(l)}a(i,"identifier"),e.identifier=i;function s(l){return new ho(l)}a(s,"placeholder2"),e.placeholder=s;function u(l,d){return new Vr(l,d)}a(u,"param2"),e.param=u})(q||(q={}));(e=>{class t{static{a(this,"Aliased")}constructor(n,o){this.sql=n,this.fieldAlias=o}static[j]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new t(this.sql,this.fieldAlias)}}e.Aliased=t})(be||(be={}));ho=class{static{a(this,"Placeholder")}constructor(t){this.name=t}static[j]="Placeholder";getSQL(){return new be([this])}};a(jX,"placeholder");a(vi,"fillPlaceholders");_z=Symbol.for("drizzle:IsDrizzleView"),Zr=class{static{a(this,"View")}static[j]="View";[Ot];[_z]=!0;constructor({name:t,schema:r,selectedFields:n,query:o}){this[Ot]={name:t,originalName:t,schema:r,selectedFields:n,query:o,isExisting:!o,isAlias:!1}}getSQL(){return new be([this])}};a(DX,"isView");a(MX,"getViewName");St.prototype.getSQL=function(){return new be([this])};ye.prototype.getSQL=function(){return new be([this])};rr.prototype.getSQL=function(){return new be([this])}});function cu(e,t){return new Proxy(e,new os(t,!1))}function qX(e,t){return new Proxy(e,new uf(t))}function go(e,t){return new Proxy(e,new ra(new Proxy(e.table,new os(t,!1))))}function cf(e,t){return new be.Aliased(lu(e.sql,t),e.fieldAlias)}function lu(e,t){return q.join(e.queryChunks.map(r=>Y(r,St)?go(r,t):Y(r,be)?lu(r,t):Y(r,be.Aliased)?cf(r,t):r))}var ra,os,uf,lf=W(()=>{po();he();Kt();Yr();yi();ra=class{static{a(this,"ColumnAliasProxyHandler")}constructor(t){this.table=t}static[j]="ColumnAliasProxyHandler";get(t,r){return r==="table"?this.table:t[r]}},os=class{static{a(this,"TableAliasProxyHandler")}constructor(t,r){this.alias=t,this.replaceOriginalName=r}static[j]="TableAliasProxyHandler";get(t,r){if(r===ye.Symbol.IsAlias)return!0;if(r===ye.Symbol.Name)return this.alias;if(this.replaceOriginalName&&r===ye.Symbol.OriginalName)return this.alias;if(r===Ot)return{...t[Ot],name:this.alias,isAlias:!0};if(r===ye.Symbol.Columns){let o=t[ye.Symbol.Columns];if(!o)return o;let i={};return Object.keys(o).map(s=>{i[s]=new Proxy(o[s],new ra(new Proxy(t,this)))}),i}let n=t[r];return Y(n,St)?new Proxy(n,new ra(new Proxy(t,this))):n}},uf=class{static{a(this,"RelationTableAliasProxyHandler")}constructor(t){this.alias=t}static[j]="RelationTableAliasProxyHandler";get(t,r){return r==="sourceTable"?cu(t.sourceTable,this.alias):t[r]}};a(cu,"aliasedTable");a(qX,"aliasedRelation");a(go,"aliasedTableColumn");a(cf,"mapColumnsInAliasedSQLToAlias");a(lu,"mapColumnsInSQLToAlias")});var du,Fo,vl,df=W(()=>{he();du=class extends Error{static{a(this,"DrizzleError")}static[j]="DrizzleError";constructor({message:t,cause:r}){super(t),this.name="DrizzleError",this.cause=r}},Fo=class e extends Error{static{a(this,"DrizzleQueryError")}constructor(t,r,n){super(`Failed query: ${t}
params: ${r}`),this.query=t,this.params=r,this.cause=n,Error.captureStackTrace(this,e),n&&(this.cause=n)}},vl=class extends du{static{a(this,"TransactionRollbackError")}static[j]="TransactionRollbackError";constructor(){super({message:"Rollback"})}}});var pf,is,as,pu=W(()=>{he();pf=class{static{a(this,"ConsoleLogWriter")}static[j]="ConsoleLogWriter";write(t){console.log(t)}},is=class{static{a(this,"DefaultLogger")}static[j]="DefaultLogger";writer;constructor(t){this.writer=t?.writer??new pf}logQuery(t,r){let n=r.map(i=>{try{return JSON.stringify(i)}catch{return String(i)}}),o=n.length?` -- params: [${n.join(", ")}]`:"";this.writer.write(`Query: ${t}${o}`)}},as=class{static{a(this,"NoopLogger")}static[j]="NoopLogger";logQuery(){}}});var bz=W(()=>{});var Mr,_i=W(()=>{he();Mr=class{static{a(this,"QueryPromise")}static[j]="QueryPromise";[Symbol.toStringTag]="QueryPromise";catch(t){return this.then(void 0,t)}finally(t){return this.then(r=>(t?.(),r),r=>{throw t?.(),r})}then(t,r){return this.execute().then(t,r)}}});function _l(e,t,r){let n={},o=e.reduce((i,{path:s,field:u},l)=>{let d;Y(u,St)?d=u:Y(u,be)?d=u.decoder:d=u.sql.decoder;let p=i;for(let[f,m]of s.entries())if(f<s.length-1)m in p||(p[m]={}),p=p[m];else{let y=t[l],g=p[m]=y===null?null:d.mapFromDriverValue(y);if(r&&Y(u,St)&&s.length===2){let h=s[0];h in n?typeof n[h]=="string"&&n[h]!==Xr(u.table)&&(n[h]=!1):n[h]=g===null?Xr(u.table):!1}}return i},{});if(r&&Object.keys(n).length>0)for(let[i,s]of Object.entries(n))typeof s=="string"&&!r[s]&&(o[i]=null);return o}function zn(e,t){return Object.entries(e).reduce((r,[n,o])=>{if(typeof n!="string")return r;let i=t?[...t,n]:[n];return Y(o,St)||Y(o,be)||Y(o,be.Aliased)?r.push({path:i,field:o}):Y(o,ye)?r.push(...zn(o[ye.Symbol.Columns],i)):r.push(...zn(o,i)),r},[])}function mu(e,t){let r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let[o,i]of r.entries())if(i!==n[o])return!1;return!0}function bl(e,t){let r=Object.entries(t).filter(([,n])=>n!==void 0).map(([n,o])=>Y(o,be)||Y(o,St)?[n,o]:[n,new Vr(o,e[ye.Symbol.Columns][n])]);if(r.length===0)throw new Error("No values to set");return Object.fromEntries(r)}function Vw(e,t){for(let r of t)for(let n of Object.getOwnPropertyNames(r.prototype))n!=="constructor"&&Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(r.prototype,n)||Object.create(null))}function fu(e){return e[ye.Symbol.Columns]}function UX(e){return e[Ot].selectedFields}function Bo(e){return Y(e,rr)?e._.alias:Y(e,Zr)?e[Ot].name:Y(e,be)?void 0:e[ye.Symbol.IsAlias]?e[ye.Symbol.Name]:e[ye.Symbol.BaseName]}function lt(e,t){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:t}}function Sl(e){if(typeof e!="object"||e===null||e.constructor.name!=="Object")return!1;if("logger"in e){let t=typeof e.logger;return!(t!=="boolean"&&(t!=="object"||typeof e.logger.logQuery!="function")&&t!=="undefined")}if("schema"in e){let t=typeof e.schema;return!(t!=="object"&&t!=="undefined")}if("casing"in e){let t=typeof e.casing;return!(t!=="string"&&t!=="undefined")}if("mode"in e)return!(e.mode!=="default"||e.mode!=="planetscale"||e.mode!==void 0);if("connection"in e){let t=typeof e.connection;return!(t!=="string"&&t!=="object"&&t!=="undefined")}if("client"in e){let t=typeof e.client;return!(t!=="object"&&t!=="function"&&t!=="undefined")}return Object.keys(e).length===0}var LX,Et=W(()=>{po();he();Kt();fo();Yr();yi();a(_l,"mapResultRow");a(zn,"orderSelectedFields");a(mu,"haveSameKeys");a(bl,"mapUpdateSet");a(Vw,"applyMixins");a(fu,"getTableColumns");a(UX,"getViewSelectedFields");a(Bo,"getTableLikeName");a(lt,"getColumnNameAndConfig");a(Sl,"isConfig");LX=typeof TextDecoder>"u"?null:new TextDecoder});var bi,wl=W(()=>{he();ct();bi=class extends Te{static{a(this,"PgIntColumnBaseBuilder")}static[j]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(t){if(t){let{name:r,...n}=t;this.config.generatedIdentity={type:"always",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(t){if(t){let{name:r,...n}=t;this.config.generatedIdentity={type:"byDefault",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}});function Sz(e,t){let{name:r,config:n}=lt(e,t);return n.mode==="number"?new Zw(r):new Gw(r)}var Zw,Kw,Gw,Ww,Qw=W(()=>{he();Et();ct();wl();Zw=class extends bi{static{a(this,"PgBigInt53Builder")}static[j]="PgBigInt53Builder";constructor(t){super(t,"number","PgBigInt53")}build(t){return new Kw(t,this.config)}},Kw=class extends ge{static{a(this,"PgBigInt53")}static[j]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}},Gw=class extends bi{static{a(this,"PgBigInt64Builder")}static[j]="PgBigInt64Builder";constructor(t){super(t,"bigint","PgBigInt64")}build(t){return new Ww(t,this.config)}},Ww=class extends ge{static{a(this,"PgBigInt64")}static[j]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(t){return BigInt(t)}};a(Sz,"bigint")});function wz(e,t){let{name:r,config:n}=lt(e,t);return n.mode==="number"?new Xw(r):new ex(r)}var Xw,Yw,ex,tx,rx=W(()=>{he();Et();ct();Xw=class extends Te{static{a(this,"PgBigSerial53Builder")}static[j]="PgBigSerial53Builder";constructor(t){super(t,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new Yw(t,this.config)}},Yw=class extends ge{static{a(this,"PgBigSerial53")}static[j]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}},ex=class extends Te{static{a(this,"PgBigSerial64Builder")}static[j]="PgBigSerial64Builder";constructor(t){super(t,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(t){return new tx(t,this.config)}},tx=class extends ge{static{a(this,"PgBigSerial64")}static[j]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(t){return BigInt(t)}};a(wz,"bigserial")});function se(e){return new nx(e??"")}var nx,ox,ix=W(()=>{he();ct();nx=class extends Te{static{a(this,"PgBooleanBuilder")}static[j]="PgBooleanBuilder";constructor(t){super(t,"boolean","PgBoolean")}build(t){return new ox(t,this.config)}},ox=class extends ge{static{a(this,"PgBoolean")}static[j]="PgBoolean";getSQLType(){return"boolean"}};a(se,"boolean")});function xz(e,t={}){let{name:r,config:n}=lt(e,t);return new ax(r,n)}var ax,sx,ux=W(()=>{he();Et();ct();ax=class extends Te{static{a(this,"PgCharBuilder")}static[j]="PgCharBuilder";constructor(t,r){super(t,"string","PgChar"),this.config.length=r.length,this.config.enumValues=r.enum}build(t){return new sx(t,this.config)}},sx=class extends ge{static{a(this,"PgChar")}static[j]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"char":`char(${this.length})`}};a(xz,"char")});function Tz(e){return new cx(e??"")}var cx,lx,dx=W(()=>{he();ct();cx=class extends Te{static{a(this,"PgCidrBuilder")}static[j]="PgCidrBuilder";constructor(t){super(t,"string","PgCidr")}build(t){return new lx(t,this.config)}},lx=class extends ge{static{a(this,"PgCidr")}static[j]="PgCidr";getSQLType(){return"cidr"}};a(Tz,"cidr")});function Ez(e){return(t,r)=>{let{name:n,config:o}=lt(t,r);return new px(n,o,e)}}var px,mx,fx=W(()=>{he();Et();ct();px=class extends Te{static{a(this,"PgCustomColumnBuilder")}static[j]="PgCustomColumnBuilder";constructor(t,r,n){super(t,"custom","PgCustomColumn"),this.config.fieldConfig=r,this.config.customTypeParams=n}build(t){return new mx(t,this.config)}},mx=class extends ge{static{a(this,"PgCustomColumn")}static[j]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(t,r){super(t,r),this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(t){return typeof this.mapFrom=="function"?this.mapFrom(t):t}mapToDriverValue(t){return typeof this.mapTo=="function"?this.mapTo(t):t}};a(Ez,"customType")});var Jo,mf=W(()=>{he();Kt();ct();Jo=class extends Te{static{a(this,"PgDateColumnBaseBuilder")}static[j]="PgDateColumnBaseBuilder";defaultNow(){return this.default(q`now()`)}}});function Kr(e,t){let{name:r,config:n}=lt(e,t);return n?.mode==="date"?new hx(r):new gx(r)}var hx,xl,gx,Tl,yx=W(()=>{he();Et();ct();mf();hx=class extends Jo{static{a(this,"PgDateBuilder")}static[j]="PgDateBuilder";constructor(t){super(t,"date","PgDate")}build(t){return new xl(t,this.config)}},xl=class extends ge{static{a(this,"PgDate")}static[j]="PgDate";getSQLType(){return"date"}mapFromDriverValue(t){return new Date(t)}mapToDriverValue(t){return t.toISOString()}},gx=class extends Jo{static{a(this,"PgDateStringBuilder")}static[j]="PgDateStringBuilder";constructor(t){super(t,"string","PgDateString")}build(t){return new Tl(t,this.config)}},Tl=class extends ge{static{a(this,"PgDateString")}static[j]="PgDateString";getSQLType(){return"date"}};a(Kr,"date")});function kz(e){return new vx(e??"")}var vx,_x,bx=W(()=>{he();ct();vx=class extends Te{static{a(this,"PgDoublePrecisionBuilder")}static[j]="PgDoublePrecisionBuilder";constructor(t){super(t,"number","PgDoublePrecision")}build(t){return new _x(t,this.config)}},_x=class extends ge{static{a(this,"PgDoublePrecision")}static[j]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(t){return typeof t=="string"?Number.parseFloat(t):t}};a(kz,"doublePrecision")});function jn(e){return new Sx(e??"")}var Sx,wx,xx=W(()=>{he();ct();Sx=class extends Te{static{a(this,"PgInetBuilder")}static[j]="PgInetBuilder";constructor(t){super(t,"string","PgInet")}build(t){return new wx(t,this.config)}},wx=class extends ge{static{a(this,"PgInet")}static[j]="PgInet";getSQLType(){return"inet"}};a(jn,"inet")});function yt(e){return new Tx(e??"")}var Tx,Ex,kx=W(()=>{he();ct();wl();Tx=class extends bi{static{a(this,"PgIntegerBuilder")}static[j]="PgIntegerBuilder";constructor(t){super(t,"number","PgInteger")}build(t){return new Ex(t,this.config)}},Ex=class extends ge{static{a(this,"PgInteger")}static[j]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(t){return typeof t=="string"?Number.parseInt(t):t}};a(yt,"integer")});function Pz(e,t={}){let{name:r,config:n}=lt(e,t);return new Px(r,n)}var Px,Ix,Ox=W(()=>{he();Et();ct();Px=class extends Te{static{a(this,"PgIntervalBuilder")}static[j]="PgIntervalBuilder";constructor(t,r){super(t,"string","PgInterval"),this.config.intervalConfig=r}build(t){return new Ix(t,this.config)}},Ix=class extends ge{static{a(this,"PgInterval")}static[j]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){let t=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${t}${r}`}};a(Pz,"interval")});function Iz(e){return new Ax(e??"")}var Ax,El,Cx=W(()=>{he();ct();Ax=class extends Te{static{a(this,"PgJsonBuilder")}static[j]="PgJsonBuilder";constructor(t){super(t,"json","PgJson")}build(t){return new El(t,this.config)}},El=class extends ge{static{a(this,"PgJson")}static[j]="PgJson";constructor(t,r){super(t,r)}getSQLType(){return"json"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}};a(Iz,"json")});function Le(e){return new Rx(e??"")}var Rx,kl,$x=W(()=>{he();ct();Rx=class extends Te{static{a(this,"PgJsonbBuilder")}static[j]="PgJsonbBuilder";constructor(t){super(t,"json","PgJsonb")}build(t){return new kl(t,this.config)}},kl=class extends ge{static{a(this,"PgJsonb")}static[j]="PgJsonb";constructor(t,r){super(t,r)}getSQLType(){return"jsonb"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}};a(Le,"jsonb")});function Oz(e,t){let{name:r,config:n}=lt(e,t);return!n?.mode||n.mode==="tuple"?new Nx(r):new jx(r)}var Nx,zx,jx,Dx,Mx=W(()=>{he();Et();ct();Nx=class extends Te{static{a(this,"PgLineBuilder")}static[j]="PgLineBuilder";constructor(t){super(t,"array","PgLine")}build(t){return new zx(t,this.config)}},zx=class extends ge{static{a(this,"PgLineTuple")}static[j]="PgLine";getSQLType(){return"line"}mapFromDriverValue(t){let[r,n,o]=t.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n),Number.parseFloat(o)]}mapToDriverValue(t){return`{${t[0]},${t[1]},${t[2]}}`}},jx=class extends Te{static{a(this,"PgLineABCBuilder")}static[j]="PgLineABCBuilder";constructor(t){super(t,"json","PgLineABC")}build(t){return new Dx(t,this.config)}},Dx=class extends ge{static{a(this,"PgLineABC")}static[j]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(t){let[r,n,o]=t.slice(1,-1).split(",");return{a:Number.parseFloat(r),b:Number.parseFloat(n),c:Number.parseFloat(o)}}mapToDriverValue(t){return`{${t.a},${t.b},${t.c}}`}};a(Oz,"line")});function Az(e){return new qx(e??"")}var qx,Ux,Lx=W(()=>{he();ct();qx=class extends Te{static{a(this,"PgMacaddrBuilder")}static[j]="PgMacaddrBuilder";constructor(t){super(t,"string","PgMacaddr")}build(t){return new Ux(t,this.config)}},Ux=class extends ge{static{a(this,"PgMacaddr")}static[j]="PgMacaddr";getSQLType(){return"macaddr"}};a(Az,"macaddr")});function Cz(e){return new Fx(e??"")}var Fx,Bx,Jx=W(()=>{he();ct();Fx=class extends Te{static{a(this,"PgMacaddr8Builder")}static[j]="PgMacaddr8Builder";constructor(t){super(t,"string","PgMacaddr8")}build(t){return new Bx(t,this.config)}},Bx=class extends ge{static{a(this,"PgMacaddr8")}static[j]="PgMacaddr8";getSQLType(){return"macaddr8"}};a(Cz,"macaddr8")});function Wx(e,t){let{name:r,config:n}=lt(e,t),o=n?.mode;return o==="number"?new Vx(r,n?.precision,n?.scale):o==="bigint"?new Kx(r,n?.precision,n?.scale):new Hx(r,n?.precision,n?.scale)}var Hx,Pl,Vx,Zx,Kx,Gx,He,Qx=W(()=>{he();Et();ct();Hx=class extends Te{static{a(this,"PgNumericBuilder")}static[j]="PgNumericBuilder";constructor(t,r,n){super(t,"string","PgNumeric"),this.config.precision=r,this.config.scale=n}build(t){return new Pl(t,this.config)}},Pl=class extends ge{static{a(this,"PgNumeric")}static[j]="PgNumeric";precision;scale;constructor(t,r){super(t,r),this.precision=r.precision,this.scale=r.scale}mapFromDriverValue(t){return typeof t=="string"?t:String(t)}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}},Vx=class extends Te{static{a(this,"PgNumericNumberBuilder")}static[j]="PgNumericNumberBuilder";constructor(t,r,n){super(t,"number","PgNumericNumber"),this.config.precision=r,this.config.scale=n}build(t){return new Zx(t,this.config)}},Zx=class extends ge{static{a(this,"PgNumericNumber")}static[j]="PgNumericNumber";precision;scale;constructor(t,r){super(t,r),this.precision=r.precision,this.scale=r.scale}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}mapToDriverValue=String;getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}},Kx=class extends Te{static{a(this,"PgNumericBigIntBuilder")}static[j]="PgNumericBigIntBuilder";constructor(t,r,n){super(t,"bigint","PgNumericBigInt"),this.config.precision=r,this.config.scale=n}build(t){return new Gx(t,this.config)}},Gx=class extends ge{static{a(this,"PgNumericBigInt")}static[j]="PgNumericBigInt";precision;scale;constructor(t,r){super(t,r),this.precision=r.precision,this.scale=r.scale}mapFromDriverValue=BigInt;mapToDriverValue=String;getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}};a(Wx,"numeric");He=Wx});function Rz(e,t){let{name:r,config:n}=lt(e,t);return!n?.mode||n.mode==="tuple"?new Xx(r):new e0(r)}var Xx,Yx,e0,t0,r0=W(()=>{he();Et();ct();Xx=class extends Te{static{a(this,"PgPointTupleBuilder")}static[j]="PgPointTupleBuilder";constructor(t){super(t,"array","PgPointTuple")}build(t){return new Yx(t,this.config)}},Yx=class extends ge{static{a(this,"PgPointTuple")}static[j]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){let[r,n]=t.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n)]}return[t.x,t.y]}mapToDriverValue(t){return`(${t[0]},${t[1]})`}},e0=class extends Te{static{a(this,"PgPointObjectBuilder")}static[j]="PgPointObjectBuilder";constructor(t){super(t,"json","PgPointObject")}build(t){return new t0(t,this.config)}},t0=class extends ge{static{a(this,"PgPointObject")}static[j]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){let[r,n]=t.slice(1,-1).split(",");return{x:Number.parseFloat(r),y:Number.parseFloat(n)}}return t}mapToDriverValue(t){return`(${t.x},${t.y})`}};a(Rz,"point")});function FX(e){let t=[];for(let r=0;r<e.length;r+=2)t.push(Number.parseInt(e.slice(r,r+2),16));return new Uint8Array(t)}function $z(e,t){let r=new ArrayBuffer(8),n=new DataView(r);for(let o=0;o<8;o++)n.setUint8(o,e[t+o]);return n.getFloat64(0,!0)}function n0(e){let t=FX(e),r=0,n=t[r];r+=1;let o=new DataView(t.buffer),i=o.getUint32(r,n===1);r+=4;let s;if(i&536870912&&(s=o.getUint32(r,n===1),r+=4),(i&65535)===1){let u=$z(t,r);r+=8;let l=$z(t,r);return r+=8,[u,l]}throw new Error("Unsupported geometry type")}var Nz=W(()=>{a(FX,"hexToBytes");a($z,"bytesToFloat64");a(n0,"parseEWKB")});function zz(e,t){let{name:r,config:n}=lt(e,t);return!n?.mode||n.mode==="tuple"?new o0(r):new a0(r)}var o0,i0,a0,s0,u0=W(()=>{he();Et();ct();Nz();o0=class extends Te{static{a(this,"PgGeometryBuilder")}static[j]="PgGeometryBuilder";constructor(t){super(t,"array","PgGeometry")}build(t){return new i0(t,this.config)}},i0=class extends ge{static{a(this,"PgGeometry")}static[j]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(t){return n0(t)}mapToDriverValue(t){return`point(${t[0]} ${t[1]})`}},a0=class extends Te{static{a(this,"PgGeometryObjectBuilder")}static[j]="PgGeometryObjectBuilder";constructor(t){super(t,"json","PgGeometryObject")}build(t){return new s0(t,this.config)}},s0=class extends ge{static{a(this,"PgGeometryObject")}static[j]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(t){let r=n0(t);return{x:r[0],y:r[1]}}mapToDriverValue(t){return`point(${t.x} ${t.y})`}};a(zz,"geometry")});function jz(e){return new c0(e??"")}var c0,l0,d0=W(()=>{he();ct();c0=class extends Te{static{a(this,"PgRealBuilder")}static[j]="PgRealBuilder";constructor(t,r){super(t,"number","PgReal"),this.config.length=r}build(t){return new l0(t,this.config)}},l0=class extends ge{static{a(this,"PgReal")}static[j]="PgReal";constructor(t,r){super(t,r)}getSQLType(){return"real"}mapFromDriverValue=a(t=>typeof t=="string"?Number.parseFloat(t):t,"mapFromDriverValue")};a(jz,"real")});function Dz(e){return new p0(e??"")}var p0,m0,f0=W(()=>{he();ct();p0=class extends Te{static{a(this,"PgSerialBuilder")}static[j]="PgSerialBuilder";constructor(t){super(t,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new m0(t,this.config)}},m0=class extends ge{static{a(this,"PgSerial")}static[j]="PgSerial";getSQLType(){return"serial"}};a(Dz,"serial")});function Mz(e){return new h0(e??"")}var h0,g0,y0=W(()=>{he();ct();wl();h0=class extends bi{static{a(this,"PgSmallIntBuilder")}static[j]="PgSmallIntBuilder";constructor(t){super(t,"number","PgSmallInt")}build(t){return new g0(t,this.config)}},g0=class extends ge{static{a(this,"PgSmallInt")}static[j]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=a(t=>typeof t=="string"?Number(t):t,"mapFromDriverValue")};a(Mz,"smallint")});function qz(e){return new v0(e??"")}var v0,_0,b0=W(()=>{he();ct();v0=class extends Te{static{a(this,"PgSmallSerialBuilder")}static[j]="PgSmallSerialBuilder";constructor(t){super(t,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new _0(t,this.config)}},_0=class extends ge{static{a(this,"PgSmallSerial")}static[j]="PgSmallSerial";getSQLType(){return"smallserial"}};a(qz,"smallserial")});function T(e,t={}){let{name:r,config:n}=lt(e,t);return new S0(r,n)}var S0,w0,x0=W(()=>{he();Et();ct();S0=class extends Te{static{a(this,"PgTextBuilder")}static[j]="PgTextBuilder";constructor(t,r){super(t,"string","PgText"),this.config.enumValues=r.enum}build(t){return new w0(t,this.config)}},w0=class extends ge{static{a(this,"PgText")}static[j]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}};a(T,"text")});function Uz(e,t={}){let{name:r,config:n}=lt(e,t);return new T0(r,n.withTimezone??!1,n.precision)}var T0,Il,E0=W(()=>{he();Et();ct();mf();T0=class extends Jo{static{a(this,"PgTimeBuilder")}constructor(t,r,n){super(t,"string","PgTime"),this.withTimezone=r,this.precision=n,this.config.withTimezone=r,this.config.precision=n}static[j]="PgTimeBuilder";build(t){return new Il(t,this.config)}},Il=class extends ge{static{a(this,"PgTime")}static[j]="PgTime";withTimezone;precision;constructor(t,r){super(t,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}};a(Uz,"time")});function K(e,t={}){let{name:r,config:n}=lt(e,t);return n?.mode==="string"?new P0(r,n.withTimezone??!1,n.precision):new k0(r,n?.withTimezone??!1,n?.precision)}var k0,Ol,P0,Al,I0=W(()=>{he();Et();ct();mf();k0=class extends Jo{static{a(this,"PgTimestampBuilder")}static[j]="PgTimestampBuilder";constructor(t,r,n){super(t,"date","PgTimestamp"),this.config.withTimezone=r,this.config.precision=n}build(t){return new Ol(t,this.config)}},Ol=class extends ge{static{a(this,"PgTimestamp")}static[j]="PgTimestamp";withTimezone;precision;constructor(t,r){super(t,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=a(t=>new Date(this.withTimezone?t:t+"+0000"),"mapFromDriverValue");mapToDriverValue=a(t=>t.toISOString(),"mapToDriverValue")},P0=class extends Jo{static{a(this,"PgTimestampStringBuilder")}static[j]="PgTimestampStringBuilder";constructor(t,r,n){super(t,"string","PgTimestampString"),this.config.withTimezone=r,this.config.precision=n}build(t){return new Al(t,this.config)}},Al=class extends ge{static{a(this,"PgTimestampString")}static[j]="PgTimestampString";withTimezone;precision;constructor(t,r){super(t,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}};a(K,"timestamp")});function hu(e){return new O0(e??"")}var O0,Cl,A0=W(()=>{he();Kt();ct();O0=class extends Te{static{a(this,"PgUUIDBuilder")}static[j]="PgUUIDBuilder";constructor(t){super(t,"string","PgUUID")}defaultRandom(){return this.default(q`gen_random_uuid()`)}build(t){return new Cl(t,this.config)}},Cl=class extends ge{static{a(this,"PgUUID")}static[j]="PgUUID";getSQLType(){return"uuid"}};a(hu,"uuid")});function Lz(e,t={}){let{name:r,config:n}=lt(e,t);return new C0(r,n)}var C0,R0,$0=W(()=>{he();Et();ct();C0=class extends Te{static{a(this,"PgVarcharBuilder")}static[j]="PgVarcharBuilder";constructor(t,r){super(t,"string","PgVarchar"),this.config.length=r.length,this.config.enumValues=r.enum}build(t){return new R0(t,this.config)}},R0=class extends ge{static{a(this,"PgVarchar")}static[j]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}};a(Lz,"varchar")});function Fz(e,t){let{name:r,config:n}=lt(e,t);return new N0(r,n)}var N0,z0,j0=W(()=>{he();Et();ct();N0=class extends Te{static{a(this,"PgBinaryVectorBuilder")}static[j]="PgBinaryVectorBuilder";constructor(t,r){super(t,"string","PgBinaryVector"),this.config.dimensions=r.dimensions}build(t){return new z0(t,this.config)}},z0=class extends ge{static{a(this,"PgBinaryVector")}static[j]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}};a(Fz,"bit")});function Bz(e,t){let{name:r,config:n}=lt(e,t);return new D0(r,n)}var D0,M0,q0=W(()=>{he();Et();ct();D0=class extends Te{static{a(this,"PgHalfVectorBuilder")}static[j]="PgHalfVectorBuilder";constructor(t,r){super(t,"array","PgHalfVector"),this.config.dimensions=r.dimensions}build(t){return new M0(t,this.config)}},M0=class extends ge{static{a(this,"PgHalfVector")}static[j]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){return t.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}};a(Bz,"halfvec")});function Jz(e,t){let{name:r,config:n}=lt(e,t);return new U0(r,n)}var U0,L0,F0=W(()=>{he();Et();ct();U0=class extends Te{static{a(this,"PgSparseVectorBuilder")}static[j]="PgSparseVectorBuilder";constructor(t,r){super(t,"string","PgSparseVector"),this.config.dimensions=r.dimensions}build(t){return new L0(t,this.config)}},L0=class extends ge{static{a(this,"PgSparseVector")}static[j]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}};a(Jz,"sparsevec")});function Hz(e,t){let{name:r,config:n}=lt(e,t);return new B0(r,n)}var B0,J0,H0=W(()=>{he();Et();ct();B0=class extends Te{static{a(this,"PgVectorBuilder")}static[j]="PgVectorBuilder";constructor(t,r){super(t,"array","PgVector"),this.config.dimensions=r.dimensions}build(t){return new J0(t,this.config)}},J0=class extends ge{static{a(this,"PgVector")}static[j]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){return t.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}};a(Hz,"vector")});function Vz(){return{bigint:Sz,bigserial:wz,boolean:se,char:xz,cidr:Tz,customType:Ez,date:Kr,doublePrecision:kz,inet:jn,integer:yt,interval:Pz,json:Iz,jsonb:Le,line:Oz,macaddr:Az,macaddr8:Cz,numeric:Wx,point:Rz,geometry:zz,real:jz,serial:Dz,smallint:Mz,smallserial:qz,text:T,time:Uz,timestamp:K,uuid:hu,varchar:Lz,bit:Fz,halfvec:Bz,sparsevec:Jz,vector:Hz}}var Zz=W(()=>{Qw();rx();ix();ux();dx();fx();yx();bx();xx();kx();Ox();Cx();$x();Mx();Lx();Jx();Qx();r0();u0();d0();f0();y0();b0();x0();E0();I0();A0();$0();j0();q0();F0();H0();a(Vz,"getPgColumnBuilders")});function Z0(e,t,r,n,o=e){let i=new wr(e,n,o),s=typeof t=="function"?t(Vz()):t,u=Object.fromEntries(Object.entries(s).map(([p,f])=>{let m=f;m.setName(p);let y=m.build(i);return i[V0].push(...m.buildForeignKeys(y,i)),[p,y]})),l=Object.fromEntries(Object.entries(s).map(([p,f])=>{let m=f;m.setName(p);let y=m.buildExtraConfigColumn(i);return[p,y]})),d=Object.assign(i,u);return d[ye.Symbol.Columns]=u,d[ye.Symbol.ExtraConfigColumns]=l,r&&(d[wr.Symbol.ExtraConfigBuilder]=r),Object.assign(d,{enableRLS:a(()=>(d[wr.Symbol.EnableRLS]=!0,d),"enableRLS")})}var V0,Kz,wr,Ee,na=W(()=>{he();Yr();Zz();V0=Symbol.for("drizzle:PgInlineForeignKeys"),Kz=Symbol.for("drizzle:EnableRLS"),wr=class extends ye{static{a(this,"PgTable")}static[j]="PgTable";static Symbol=Object.assign({},ye.Symbol,{InlineForeignKeys:V0,EnableRLS:Kz});[V0]=[];[Kz]=!1;[ye.Symbol.ExtraConfigBuilder]=void 0;[ye.Symbol.ExtraConfigColumns]={}};a(Z0,"pgTableWithSchema");Ee=a((e,t,r)=>Z0(e,t,r,void 0),"pgTable")});var ff,K0,G0=W(()=>{he();na();ff=class{static{a(this,"PrimaryKeyBuilder")}static[j]="PgPrimaryKeyBuilder";columns;name;constructor(t,r){this.columns=t,this.name=r}build(t){return new K0(t,this.columns,this.name)}},K0=class{static{a(this,"PrimaryKey")}constructor(t,r,n){this.table=t,this.columns=r,this.name=n}static[j]="PgPrimaryKey";columns;name;getName(){return this.name??`${this.table[wr.Symbol.Name]}_${this.columns.map(t=>t.name).join("_")}_pk`}}});function hr(e,t){return Bw(t)&&!sf(e)&&!Y(e,Vr)&&!Y(e,ho)&&!Y(e,St)&&!Y(e,ye)&&!Y(e,Zr)?new Vr(e,t):e}function Pe(...e){let t=e.filter(r=>r!==void 0);if(t.length!==0)return t.length===1?new be(t):new be([new fr("("),q.join(t,new fr(" and ")),new fr(")")])}function oa(...e){let t=e.filter(r=>r!==void 0);if(t.length!==0)return t.length===1?new be(t):new be([new fr("("),q.join(t,new fr(" or ")),new fr(")")])}function Q0(e){return q`not ${e}`}function ss(e,t){return Array.isArray(t)?t.length===0?q`false`:q`${e} in ${t.map(r=>hr(r,e))}`:q`${e} in ${hr(t,e)}`}function eT(e,t){return Array.isArray(t)?t.length===0?q`true`:q`${e} not in ${t.map(r=>hr(r,e))}`:q`${e} not in ${hr(t,e)}`}function Rl(e){return q`${e} is null`}function tT(e){return q`${e} is not null`}function rT(e){return q`exists ${e}`}function nT(e){return q`not exists ${e}`}function oT(e,t,r){return q`${e} between ${hr(t,e)} and ${hr(r,e)}`}function iT(e,t,r){return q`${e} not between ${hr(t,e)} and ${hr(r,e)}`}function aT(e,t){return q`${e} like ${t}`}function sT(e,t){return q`${e} not like ${t}`}function qr(e,t){return q`${e} ilike ${t}`}function uT(e,t){return q`${e} not ilike ${t}`}function BX(e,t){if(Array.isArray(t)){if(t.length===0)throw new Error("arrayContains requires at least one value");let r=q`${hr(t,e)}`;return q`${e} @> ${r}`}return q`${e} @> ${hr(t,e)}`}function JX(e,t){if(Array.isArray(t)){if(t.length===0)throw new Error("arrayContained requires at least one value");let r=q`${hr(t,e)}`;return q`${e} <@ ${r}`}return q`${e} <@ ${hr(t,e)}`}function HX(e,t){if(Array.isArray(t)){if(t.length===0)throw new Error("arrayOverlaps requires at least one value");let r=q`${hr(t,e)}`;return q`${e} && ${r}`}return q`${e} && ${hr(t,e)}`}var V,W0,X0,gr,Y0,or,Gz=W(()=>{po();he();Yr();Kt();a(hr,"bindIfParam");V=a((e,t)=>q`${e} = ${hr(t,e)}`,"eq"),W0=a((e,t)=>q`${e} <> ${hr(t,e)}`,"ne");a(Pe,"and");a(oa,"or");a(Q0,"not");X0=a((e,t)=>q`${e} > ${hr(t,e)}`,"gt"),gr=a((e,t)=>q`${e} >= ${hr(t,e)}`,"gte"),Y0=a((e,t)=>q`${e} < ${hr(t,e)}`,"lt"),or=a((e,t)=>q`${e} <= ${hr(t,e)}`,"lte");a(ss,"inArray");a(eT,"notInArray");a(Rl,"isNull");a(tT,"isNotNull");a(rT,"exists");a(nT,"notExists");a(oT,"between");a(iT,"notBetween");a(aT,"like");a(sT,"notLike");a(qr,"ilike");a(uT,"notIlike");a(BX,"arrayContains");a(JX,"arrayContained");a(HX,"arrayOverlaps")});function Si(e){return q`${e} asc`}function Mt(e){return q`${e} desc`}var Wz=W(()=>{Kt();a(Si,"asc");a(Mt,"desc")});var cT=W(()=>{Gz();Wz()});function lT(){return{and:Pe,between:oT,eq:V,exists:rT,gt:X0,gte:gr,ilike:qr,inArray:ss,isNull:Rl,isNotNull:tT,like:aT,lt:Y0,lte:or,ne:W0,not:Q0,notBetween:iT,notExists:nT,notLike:sT,notIlike:uT,notInArray:eT,or:oa,sql:q}}function dT(){return{sql:q,asc:Si,desc:Mt}}function jl(e,t){Object.keys(e).length===1&&"default"in e&&!Y(e.default,ye)&&(e=e.default);let r={},n={},o={};for(let[i,s]of Object.entries(e))if(Y(s,ye)){let u=ta(s),l=n[u];r[u]=i,o[i]={tsName:i,dbName:s[ye.Symbol.Name],schema:s[ye.Symbol.Schema],columns:s[ye.Symbol.Columns],relations:l?.relations??{},primaryKey:l?.primaryKey??[]};for(let p of Object.values(s[ye.Symbol.Columns]))p.primary&&o[i].primaryKey.push(p);let d=s[ye.Symbol.ExtraConfigBuilder]?.(s[ye.Symbol.ExtraConfigColumns]);if(d)for(let p of Object.values(d))Y(p,ff)&&o[i].primaryKey.push(...p.columns)}else if(Y(s,Nl)){let u=ta(s.table),l=r[u],d=s.config(t(s.table)),p;for(let[f,m]of Object.entries(d))if(l){let y=o[l];y.relations[f]=m,p&&y.primaryKey.push(...p)}else u in n||(n[u]={relations:{},primaryKey:p}),n[u].relations[f]=m}return{tables:o,tableNamesMap:r}}function Be(e,t){return new Nl(e,r=>Object.fromEntries(Object.entries(t(r)).map(([n,o])=>[n,o.withFieldName(n)])))}function Qz(e){return a(function(r,n){return new wi(e,r,n,n?.fields.reduce((o,i)=>o&&i.notNull,!0)??!1)},"one")}function Xz(e){return a(function(r,n){return new gu(e,r,n)},"many")}function pT(e,t,r){if(Y(r,wi)&&r.config)return{fields:r.config.fields,references:r.config.references};let n=t[ta(r.referencedTable)];if(!n)throw new Error(`Table "${r.referencedTable[ye.Symbol.Name]}" not found in schema`);let o=e[n];if(!o)throw new Error(`Table "${n}" not found in schema`);let i=r.sourceTable,s=t[ta(i)];if(!s)throw new Error(`Table "${i[ye.Symbol.Name]}" not found in schema`);let u=[];for(let l of Object.values(o.relations))(r.relationName&&r!==l&&l.relationName===r.relationName||!r.relationName&&l.referencedTable===r.sourceTable)&&u.push(l);if(u.length>1)throw r.relationName?new Error(`There are multiple relations with name "${r.relationName}" in table "${n}"`):new Error(`There are multiple relations between "${n}" and "${r.sourceTable[ye.Symbol.Name]}". Please specify relation name`);if(u[0]&&Y(u[0],wi)&&u[0].config)return{fields:u[0].config.references,references:u[0].config.fields};throw new Error(`There is not enough information to infer relation "${s}.${r.fieldName}"`)}function Dl(e){return{one:Qz(e),many:Xz(e)}}function zl(e,t,r,n,o=i=>i){let i={};for(let[s,u]of n.entries())if(u.isJson){let l=t.relations[u.tsKey],d=r[s],p=typeof d=="string"?JSON.parse(d):d;i[u.tsKey]=Y(l,wi)?p&&zl(e,e[u.relationTableTsKey],p,u.selection,o):p.map(f=>zl(e,e[u.relationTableTsKey],f,u.selection,o))}else{let l=o(r[s]),d=u.field,p;Y(d,St)?p=d:Y(d,be)?p=d.decoder:p=d.sql.decoder,i[u.tsKey]=l===null?null:p.mapFromDriverValue(l)}return i}var $l,Nl,wi,gu,yu=W(()=>{Yr();po();he();G0();cT();Kt();$l=class{static{a(this,"Relation")}constructor(t,r,n){this.sourceTable=t,this.referencedTable=r,this.relationName=n,this.referencedTableName=r[ye.Symbol.Name]}static[j]="Relation";referencedTableName;fieldName},Nl=class{static{a(this,"Relations")}constructor(t,r){this.table=t,this.config=r}static[j]="Relations"},wi=class e extends $l{static{a(this,"One")}constructor(t,r,n,o){super(t,r,n?.relationName),this.config=n,this.isNullable=o}static[j]="One";withFieldName(t){let r=new e(this.sourceTable,this.referencedTable,this.config,this.isNullable);return r.fieldName=t,r}},gu=class e extends $l{static{a(this,"Many")}constructor(t,r,n){super(t,r,n?.relationName),this.config=n}static[j]="Many";withFieldName(t){let r=new e(this.sourceTable,this.referencedTable,this.config);return r.fieldName=t,r}};a(lT,"getOperators");a(dT,"getOrderByOperators");a(jl,"extractTablesRelationalConfig");a(Be,"relations");a(Qz,"createOne");a(Xz,"createMany");a(pT,"normalizeRelation");a(Dl,"createTableRelationsHelpers");a(zl,"mapRelationalRow")});function mT(e){return q`count(${e||q.raw("*")})`.mapWith(Number)}function VX(e){return q`count(distinct ${e})`.mapWith(Number)}function ZX(e){return q`avg(${e})`.mapWith(String)}function KX(e){return q`avg(distinct ${e})`.mapWith(String)}function Ml(e){return q`sum(${e})`.mapWith(String)}function GX(e){return q`sum(distinct ${e})`.mapWith(String)}function WX(e){return q`max(${e})`.mapWith(Y(e,St)?e:String)}function QX(e){return q`min(${e})`.mapWith(Y(e,St)?e:String)}var Yz=W(()=>{po();he();Kt();a(mT,"count");a(VX,"countDistinct");a(ZX,"avg");a(KX,"avgDistinct");a(Ml,"sum");a(GX,"sumDistinct");a(WX,"max");a(QX,"min")});function vu(e){return JSON.stringify(e)}function XX(e,t){return Array.isArray(t)?q`${e} <-> ${vu(t)}`:q`${e} <-> ${t}`}function YX(e,t){return Array.isArray(t)?q`${e} <+> ${vu(t)}`:q`${e} <+> ${t}`}function eY(e,t){return Array.isArray(t)?q`${e} <#> ${vu(t)}`:q`${e} <#> ${t}`}function tY(e,t){return Array.isArray(t)?q`${e} <=> ${vu(t)}`:q`${e} <=> ${t}`}function rY(e,t){return Array.isArray(t)?q`${e} <~> ${vu(t)}`:q`${e} <~> ${t}`}function nY(e,t){return Array.isArray(t)?q`${e} <%> ${vu(t)}`:q`${e} <%> ${t}`}var ej=W(()=>{Kt();a(vu,"toSql");a(XX,"l2Distance");a(YX,"l1Distance");a(eY,"innerProduct");a(tY,"cosineDistance");a(rY,"hammingDistance");a(nY,"jaccardDistance")});var tj=W(()=>{Yz();ej()});var hf=W(()=>{cT();tj();Kt()});var fT={};_n(fT,{BaseName:()=>af,Column:()=>St,ColumnAliasProxyHandler:()=>ra,ColumnBuilder:()=>gl,Columns:()=>yl,ConsoleLogWriter:()=>pf,DefaultLogger:()=>is,DrizzleError:()=>du,DrizzleQueryError:()=>Fo,ExtraConfigBuilder:()=>Lw,ExtraConfigColumns:()=>Uw,FakePrimitiveParam:()=>Fw,IsAlias:()=>uu,Many:()=>gu,Name:()=>ns,NoopLogger:()=>as,One:()=>wi,OriginalName:()=>of,Param:()=>Vr,Placeholder:()=>ho,QueryPromise:()=>Mr,Relation:()=>$l,RelationTableAliasProxyHandler:()=>uf,Relations:()=>Nl,SQL:()=>be,Schema:()=>ea,StringChunk:()=>fr,Subquery:()=>rr,Table:()=>ye,TableAliasProxyHandler:()=>os,TransactionRollbackError:()=>vl,View:()=>Zr,ViewBaseConfig:()=>Ot,WithSubquery:()=>rs,aliasedRelation:()=>qX,aliasedTable:()=>cu,aliasedTableColumn:()=>go,and:()=>Pe,applyMixins:()=>Vw,arrayContained:()=>JX,arrayContains:()=>BX,arrayOverlaps:()=>HX,asc:()=>Si,avg:()=>ZX,avgDistinct:()=>KX,between:()=>oT,bindIfParam:()=>hr,cosineDistance:()=>tY,count:()=>mT,countDistinct:()=>VX,createMany:()=>Xz,createOne:()=>Qz,createTableRelationsHelpers:()=>Dl,desc:()=>Mt,entityKind:()=>j,eq:()=>V,exists:()=>rT,extractTablesRelationalConfig:()=>jl,fillPlaceholders:()=>vi,getColumnNameAndConfig:()=>lt,getOperators:()=>lT,getOrderByOperators:()=>dT,getTableColumns:()=>fu,getTableLikeName:()=>Bo,getTableName:()=>Xr,getTableUniqueName:()=>ta,getViewName:()=>MX,getViewSelectedFields:()=>UX,gt:()=>X0,gte:()=>gr,hammingDistance:()=>rY,hasOwnEntityKind:()=>AX,haveSameKeys:()=>mu,ilike:()=>qr,inArray:()=>ss,innerProduct:()=>eY,is:()=>Y,isConfig:()=>Sl,isDriverValueEncoder:()=>Bw,isNotNull:()=>tT,isNull:()=>Rl,isSQLWrapper:()=>sf,isTable:()=>CX,isView:()=>DX,jaccardDistance:()=>nY,l1Distance:()=>YX,l2Distance:()=>XX,like:()=>aT,lt:()=>Y0,lte:()=>or,mapColumnsInAliasedSQLToAlias:()=>cf,mapColumnsInSQLToAlias:()=>lu,mapRelationalRow:()=>zl,mapResultRow:()=>_l,mapUpdateSet:()=>bl,max:()=>WX,min:()=>QX,name:()=>$X,ne:()=>W0,noopDecoder:()=>Jw,noopEncoder:()=>Hw,noopMapper:()=>NX,normalizeRelation:()=>pT,not:()=>Q0,notBetween:()=>iT,notExists:()=>nT,notIlike:()=>uT,notInArray:()=>eT,notLike:()=>sT,or:()=>oa,orderSelectedFields:()=>zn,param:()=>zX,placeholder:()=>jX,relations:()=>Be,sql:()=>q,sum:()=>Ml,sumDistinct:()=>GX,textDecoder:()=>LX});var ir=W(()=>{lf();_w();po();he();df();pu();bz();_i();yu();hf();fo();Yr();Et();yi()});function lj(e){return 0}function ST(e,t=!1){let{protocol:r}=new URL(e),n="http:"+e.substring(r.length),{username:o,password:i,host:s,hostname:u,port:l,pathname:d,search:p,searchParams:f,hash:m}=new URL(n);i=decodeURIComponent(i),o=decodeURIComponent(o),d=decodeURIComponent(d);let y=o+":"+i,g=t?Object.fromEntries(f.entries()):p;return{href:e,protocol:r,auth:y,username:o,password:i,host:s,hostname:u,port:l,pathname:d,search:p,query:g,hash:m}}function Ll(e){let t=1779033703,r=3144134277,n=1013904242,o=2773480762,i=1359893119,s=2600822924,u=528734635,l=1541459225,d=0,p=0,f=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],m=I((b,w)=>b>>>w|b<<32-w,"rrot"),y=new Uint32Array(64),g=new Uint8Array(64),h=I(()=>{for(let z=0,D=0;z<16;z++,D+=4)y[z]=g[D]<<24|g[D+1]<<16|g[D+2]<<8|g[D+3];for(let z=16;z<64;z++){let D=m(y[z-15],7)^m(y[z-15],18)^y[z-15]>>>3,X=m(y[z-2],17)^m(y[z-2],19)^y[z-2]>>>10;y[z]=y[z-16]+D+y[z-7]+X|0}let b=t,w=r,k=n,$=o,C=i,A=s,R=u,O=l;for(let z=0;z<64;z++){let D=m(C,6)^m(C,11)^m(C,25),X=C&A^~C&R,G=O+D+X+f[z]+y[z]|0,B=m(b,2)^m(b,13)^m(b,22),te=b&w^b&k^w&k,ne=B+te|0;O=R,R=A,A=C,C=$+G|0,$=k,k=w,w=b,b=G+ne|0}t=t+b|0,r=r+w|0,n=n+k|0,o=o+$|0,i=i+C|0,s=s+A|0,u=u+R|0,l=l+O|0,p=0},"process"),v=I(b=>{typeof b=="string"&&(b=new TextEncoder().encode(b));for(let w=0;w<b.length;w++)g[p++]=b[w],p===64&&h();d+=b.length},"add"),S=I(()=>{if(g[p++]=128,p==64&&h(),p+8>64){for(;p<64;)g[p++]=0;h()}for(;p<58;)g[p++]=0;let b=d*8;g[p++]=b/1099511627776&255,g[p++]=b/4294967296&255,g[p++]=b>>>24,g[p++]=b>>>16&255,g[p++]=b>>>8&255,g[p++]=b&255,h();let w=new Uint8Array(32);return w[0]=t>>>24,w[1]=t>>>16&255,w[2]=t>>>8&255,w[3]=t&255,w[4]=r>>>24,w[5]=r>>>16&255,w[6]=r>>>8&255,w[7]=r&255,w[8]=n>>>24,w[9]=n>>>16&255,w[10]=n>>>8&255,w[11]=n&255,w[12]=o>>>24,w[13]=o>>>16&255,w[14]=o>>>8&255,w[15]=o&255,w[16]=i>>>24,w[17]=i>>>16&255,w[18]=i>>>8&255,w[19]=i&255,w[20]=s>>>24,w[21]=s>>>16&255,w[22]=s>>>8&255,w[23]=s&255,w[24]=u>>>24,w[25]=u>>>16&255,w[26]=u>>>8&255,w[27]=u&255,w[28]=l>>>24,w[29]=l>>>16&255,w[30]=l>>>8&255,w[31]=l&255,w},"digest");return e===void 0?{add:v,digest:S}:(v(e),S())}function gj(e){return crypto.getRandomValues(Fe.alloc(e))}function yj(e){if(e==="sha256")return{update:I(function(t){return{digest:I(function(){return Fe.from(Ll(t))},"digest")}},"update")};if(e==="md5")return{update:I(function(t){return{digest:I(function(){return typeof t=="string"?yT.hashStr(t):yT.hashByteArray(t)},"digest")}},"update")};throw new Error(`Hash type '${e}' not supported`)}function vj(e,t){if(e!=="sha256")throw new Error(`Only sha256 is supported (requested: '${e}')`);return{update:I(function(r){return{digest:I(function(){typeof t=="string"&&(t=new TextEncoder().encode(t)),typeof r=="string"&&(r=new TextEncoder().encode(r));let n=t.length;if(n>64)t=Ll(t);else if(n<64){let l=new Uint8Array(64);l.set(t),t=l}let o=new Uint8Array(64),i=new Uint8Array(64);for(let l=0;l<64;l++)o[l]=54^t[l],i[l]=92^t[l];let s=new Uint8Array(r.length+64);s.set(o,0),s.set(r,64);let u=new Uint8Array(96);return u.set(i,0),u.set(Ll(s),64),Fe.from(Ll(u))},"digest")}},"update")}}function Sj(...e){return e.join("/")}function xj(e,t){t(new Error("No filesystem"))}function Nj({socket:e,servername:t}){return e.startTls(t),e}function qj(e,{alphabet:t,scratchArr:r}={}){if(!Ul)if(Ul=new Uint16Array(256),vf=new Uint16Array(256),aj)for(let y=0;y<256;y++)Ul[y]=gf[y&15]<<8|gf[y>>>4],vf[y]=yf[y&15]<<8|yf[y>>>4];else for(let y=0;y<256;y++)Ul[y]=gf[y&15]|gf[y>>>4]<<8,vf[y]=yf[y&15]|yf[y>>>4]<<8;e.byteOffset%4!==0&&(e=new Uint8Array(e));let n=e.length,o=n>>>1,i=n>>>2,s=r||new Uint16Array(n),u=new Uint32Array(e.buffer,e.byteOffset,i),l=new Uint32Array(s.buffer,s.byteOffset,o),d=t==="upper"?vf:Ul,p=0,f=0,m;if(aj)for(;p<i;)m=u[p++],l[f++]=d[m>>>8&255]<<16|d[m&255],l[f++]=d[m>>>24]<<16|d[m>>>16&255];else for(;p<i;)m=u[p++],l[f++]=d[m>>>24]<<16|d[m>>>16&255],l[f++]=d[m>>>8&255]<<16|d[m&255];for(p<<=2;p<n;)s[p]=d[e[p++]];return XY.decode(s.subarray(0,n))}function Uj(e,t={}){let r="",n=e.length,o=QY>>>1,i=Math.ceil(n/o),s=new Uint16Array(i>1?o:n);for(let u=0;u<i;u++){let l=u*o,d=l+o;r+=qj(e.subarray(l,d),WY(GY({},t),{scratchArr:s}))}return r}function Lj(e,t={}){return t.alphabet!=="upper"&&typeof e.toHex=="function"?e.toHex():Uj(e,t)}function OT(){typeof window<"u"&&typeof document<"u"&&typeof console<"u"&&typeof console.warn=="function"&&console.warn(`          
        ************************************************************
        *                                                          *
        *  WARNING: Running SQL directly from the browser can have *
        *  security implications. Even if your database is         *
        *  protected by Row-Level Security (RLS), use it at your   *
        *  own risk. This approach is great for fast prototyping,  *
        *  but ensure proper safeguards are in place to prevent    *
        *  misuse or execution of expensive SQL queries by your    *
        *  end users.                                              *
        *                                                          *
        *  If you've assessed the risks, suppress this message     *
        *  using the disableWarningInBrowsers configuration        *
        *  parameter.                                              *
        *                                                          *
        ************************************************************`)}function Gj(e){return e instanceof Fe?"\\x"+Lj(e):e}function vT(e){let{query:t,params:r}=e instanceof Jj?e.toParameterizedQuery():e;return{query:t,params:r.map(n=>Gj((0,tee.prepareValue)(n)))}}function ia(e,{arrayMode:t,fullResults:r,fetchOptions:n,isolationLevel:o,readOnly:i,deferrable:s,authToken:u,disableWarningInBrowsers:l}={}){if(!e)throw new Error("No database connection string was provided to `neon()`. Perhaps an environment variable has not been set?");let d;try{d=ST(e)}catch{throw new Error("Database connection string provided to `neon()` is not a valid URL. Connection string: "+String(e))}let{protocol:p,username:f,hostname:m,port:y,pathname:g}=d;if(p!=="postgres:"&&p!=="postgresql:"||!f||!m||!g)throw new Error("Database connection string format for `neon()` should be: postgresql://user:password@host.tld/dbname?option=value");function h(S,...b){if(!(Array.isArray(S)&&Array.isArray(S.raw)&&Array.isArray(b)))throw new Error('This function can now be called only as a tagged-template function: sql`SELECT ${value}`, not sql("SELECT $1", [value], options). For a conventional function call with value placeholders ($1, $2, etc.), use sql.query("SELECT $1", [value], options).');return new _f(v,new Jj(S,b))}a(h,"D"),I(h,"templateFn"),h.query=(S,b,w)=>new _f(v,{query:S,params:b??[]},w),h.unsafe=S=>new Vj(S),h.transaction=async(S,b)=>{if(typeof S=="function"&&(S=S(h)),!Array.isArray(S))throw new Error(sj);S.forEach($=>{if(!($ instanceof _f))throw new Error(sj)});let w=S.map($=>$.queryData),k=S.map($=>$.opts??{});return v(w,k,b)};async function v(S,b,w){let{fetchEndpoint:k,fetchFunction:$}=us,C=Array.isArray(S)?{queries:S.map(Se=>vT(Se))}:vT(S),A=n??{},R=t??!1,O=r??!1,z=o,D=i,X=s;w!==void 0&&(w.fetchOptions!==void 0&&(A={...A,...w.fetchOptions}),w.arrayMode!==void 0&&(R=w.arrayMode),w.fullResults!==void 0&&(O=w.fullResults),w.isolationLevel!==void 0&&(z=w.isolationLevel),w.readOnly!==void 0&&(D=w.readOnly),w.deferrable!==void 0&&(X=w.deferrable)),b!==void 0&&!Array.isArray(b)&&b.fetchOptions!==void 0&&(A={...A,...b.fetchOptions});let G=u;!Array.isArray(b)&&b?.authToken!==void 0&&(G=b.authToken);let B=typeof k=="function"?k(m,y,{jwtAuth:G!==void 0}):k,te={"Neon-Connection-String":e,"Neon-Raw-Text-Output":"true","Neon-Array-Mode":"true"},ne=await Qj(G);ne&&(te.Authorization=`Bearer ${ne}`),Array.isArray(S)&&(z!==void 0&&(te["Neon-Batch-Isolation-Level"]=z),D!==void 0&&(te["Neon-Batch-Read-Only"]=String(D)),X!==void 0&&(te["Neon-Batch-Deferrable"]=String(X))),l||us.disableWarningInBrowsers||OT();let ae;try{ae=await($??fetch)(B,{method:"POST",body:JSON.stringify(C),headers:te,...A})}catch(Se){let ke=new _u(`Error connecting to database: ${Se}`);throw ke.sourceError=Se,ke}if(ae.ok){let Se=await ae.json();if(Array.isArray(S)){let ke=Se.results;if(!Array.isArray(ke))throw new _u("Neon internal error: unexpected result format");return ke.map((et,Ke)=>{let Q=b[Ke]??{},Re=Q.arrayMode??R,ve=Q.fullResults??O;return _T(et,{arrayMode:Re,fullResults:ve,types:Q.types})})}else{let ke=b??{},et=ke.arrayMode??R,Ke=ke.fullResults??O;return _T(Se,{arrayMode:et,fullResults:Ke,types:ke.types})}}else{let{status:Se}=ae;if(Se===400){let ke=await ae.json(),et=new _u(ke.message);for(let Ke of ree)et[Ke]=ke[Ke]??void 0;throw et}else{let ke=await ae.text();throw new _u(`Server error (HTTP status ${Se}): ${ke}`)}}}return a(v,"Y"),I(v,"execute"),h}function _T(e,{arrayMode:t,fullResults:r,types:n}){let o=new eee.default(n),i=e.fields.map(l=>l.name),s=e.fields.map(l=>o.getTypeParser(l.dataTypeID)),u=t===!0?e.rows.map(l=>l.map((d,p)=>d===null?null:s[p](d))):e.rows.map(l=>Object.fromEntries(l.map((d,p)=>[i[p],d===null?null:s[p](d)])));return r?(e.viaNeonFetch=!0,e.rowAsArray=t,e.rows=u,e._parsers=s,e._types=o,e):u}async function Qj(e){if(typeof e=="string")return e;if(typeof e=="function")try{return await Promise.resolve(e())}catch(t){let r=new _u("Error getting auth token.");throw t instanceof Error&&(r=new _u(`Error getting auth token: ${t.message}`)),r}}function Yj(e,t){if(t)return{callback:t,result:void 0};let r,n,o=I(function(s,u){s?r(s):n(u)},"cb"),i=new e(function(s,u){n=s,r=u});return{callback:o,result:i}}var oY,bu,iY,aY,sY,uY,cY,I,bn,rt,yo,uj,cs,Or,Je,lY,dY,pY,bf,bT,mY,Fe,tt,Ce,ls,cj,rj,hT,ql,us,Fl,dj,pj,mj,hj,fY,hY,gY,yY,vY,_Y,bY,SY,Sf,wT,wY,xi,yT,xY,xT,_j,wf,xf,Bl,bj,Tf,TY,TT,wj,ET,Tj,kT,Ej,kj,Pj,gT,Ij,EY,kY,PY,IY,Oj,Aj,OY,AY,PT,CY,RY,Cj,$Y,NY,zY,jY,Rj,$j,DY,zj,MY,qY,jj,Dj,UY,LY,FY,BY,nj,Ef,JY,HY,VY,oj,ZY,KY,ij,GY,WY,QY,aj,XY,IT,gf,yf,YY,Mj,Ul,vf,Fj,Jj,Hj,Vj,eee,tee,Zj,_u,sj,ree,Wj,_f,nee,oee,Xj,iee,aee,eD,vo,Jl,cNe,lNe,dNe,pNe,Ht,Hl=W(()=>{oY=Object.create,bu=Object.defineProperty,iY=Object.getOwnPropertyDescriptor,aY=Object.getOwnPropertyNames,sY=Object.getPrototypeOf,uY=Object.prototype.hasOwnProperty,cY=a((e,t,r)=>t in e?bu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,"Io"),I=a((e,t)=>bu(e,"name",{value:t,configurable:!0}),"a"),bn=a((e,t)=>()=>(e&&(t=e(e=0)),t),"G"),rt=a((e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),"T"),yo=a((e,t)=>{for(var r in t)bu(e,r,{get:t[r],enumerable:!0})},"ie"),uj=a((e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of aY(t))!uY.call(e,o)&&o!==r&&bu(e,o,{get:a(()=>t[o],"get"),enumerable:!(n=iY(t,o))||n.enumerable});return e},"Dn"),cs=a((e,t,r)=>(r=e!=null?oY(sY(e)):{},uj(t||!e||!e.__esModule?bu(r,"default",{value:e,enumerable:!0}):r,e)),"Se"),Or=a(e=>uj(bu({},"__esModule",{value:!0}),e),"O"),Je=a((e,t,r)=>cY(e,typeof t!="symbol"?t+"":t,r),"E"),lY=rt(e=>{"use strict";Ce(),e.byteLength=l,e.toByteArray=p,e.fromByteArray=y;var t=[],r=[],n=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(i=0,s=o.length;i<s;++i)t[i]=o[i],r[o.charCodeAt(i)]=i;var i,s;r[45]=62,r[95]=63;function u(g){var h=g.length;if(h%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var v=g.indexOf("=");v===-1&&(v=h);var S=v===h?0:4-v%4;return[v,S]}a(u,"qn"),I(u,"getLens");function l(g){var h=u(g),v=h[0],S=h[1];return(v+S)*3/4-S}a(l,"Po"),I(l,"byteLength");function d(g,h,v){return(h+v)*3/4-v}a(d,"Bo"),I(d,"_byteLength");function p(g){var h,v=u(g),S=v[0],b=v[1],w=new n(d(g,S,b)),k=0,$=b>0?S-4:S,C;for(C=0;C<$;C+=4)h=r[g.charCodeAt(C)]<<18|r[g.charCodeAt(C+1)]<<12|r[g.charCodeAt(C+2)]<<6|r[g.charCodeAt(C+3)],w[k++]=h>>16&255,w[k++]=h>>8&255,w[k++]=h&255;return b===2&&(h=r[g.charCodeAt(C)]<<2|r[g.charCodeAt(C+1)]>>4,w[k++]=h&255),b===1&&(h=r[g.charCodeAt(C)]<<10|r[g.charCodeAt(C+1)]<<4|r[g.charCodeAt(C+2)]>>2,w[k++]=h>>8&255,w[k++]=h&255),w}a(p,"Ro"),I(p,"toByteArray");function f(g){return t[g>>18&63]+t[g>>12&63]+t[g>>6&63]+t[g&63]}a(f,"Lo"),I(f,"tripletToBase64");function m(g,h,v){for(var S,b=[],w=h;w<v;w+=3)S=(g[w]<<16&16711680)+(g[w+1]<<8&65280)+(g[w+2]&255),b.push(f(S));return b.join("")}a(m,"Fo"),I(m,"encodeChunk");function y(g){for(var h,v=g.length,S=v%3,b=[],w=16383,k=0,$=v-S;k<$;k+=w)b.push(m(g,k,k+w>$?$:k+w));return S===1?(h=g[v-1],b.push(t[h>>2]+t[h<<4&63]+"==")):S===2&&(h=(g[v-2]<<8)+g[v-1],b.push(t[h>>10]+t[h>>4&63]+t[h<<2&63]+"=")),b.join("")}a(y,"ko"),I(y,"fromByteArray")}),dY=rt(e=>{Ce(),e.read=function(t,r,n,o,i){var s,u,l=i*8-o-1,d=(1<<l)-1,p=d>>1,f=-7,m=n?i-1:0,y=n?-1:1,g=t[r+m];for(m+=y,s=g&(1<<-f)-1,g>>=-f,f+=l;f>0;s=s*256+t[r+m],m+=y,f-=8);for(u=s&(1<<-f)-1,s>>=-f,f+=o;f>0;u=u*256+t[r+m],m+=y,f-=8);if(s===0)s=1-p;else{if(s===d)return u?NaN:(g?-1:1)*(1/0);u=u+Math.pow(2,o),s=s-p}return(g?-1:1)*u*Math.pow(2,s-o)},e.write=function(t,r,n,o,i,s){var u,l,d,p=s*8-i-1,f=(1<<p)-1,m=f>>1,y=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=o?0:s-1,h=o?1:-1,v=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(l=isNaN(r)?1:0,u=f):(u=Math.floor(Math.log(r)/Math.LN2),r*(d=Math.pow(2,-u))<1&&(u--,d*=2),u+m>=1?r+=y/d:r+=y*Math.pow(2,1-m),r*d>=2&&(u++,d/=2),u+m>=f?(l=0,u=f):u+m>=1?(l=(r*d-1)*Math.pow(2,i),u=u+m):(l=r*Math.pow(2,m-1)*Math.pow(2,i),u=0));i>=8;t[n+g]=l&255,g+=h,l/=256,i-=8);for(u=u<<i|l,p+=i;p>0;t[n+g]=u&255,g+=h,u/=256,p-=8);t[n+g-h]|=v*128}}),pY=rt(e=>{"use strict";Ce();var t=lY(),r=dY(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=b,e.INSPECT_MAX_BYTES=50;var o=2147483647;e.kMaxLength=o,u.TYPED_ARRAY_SUPPORT=i(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{let _=new Uint8Array(1),x={foo:I(function(){return 42},"foo")};return Object.setPrototypeOf(x,Uint8Array.prototype),Object.setPrototypeOf(_,x),_.foo()===42}catch{return!1}}a(i,"Mo"),I(i,"typedArraySupport"),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:I(function(){if(u.isBuffer(this))return this.buffer},"get")}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:I(function(){if(u.isBuffer(this))return this.byteOffset},"get")});function s(_){if(_>o)throw new RangeError('The value "'+_+'" is invalid for option "size"');let x=new Uint8Array(_);return Object.setPrototypeOf(x,u.prototype),x}a(s,"he"),I(s,"createBuffer");function u(_,x,P){if(typeof _=="number"){if(typeof x=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(_)}return l(_,x,P)}a(u,"h"),I(u,"Buffer"),u.poolSize=8192;function l(_,x,P){if(typeof _=="string")return m(_,x);if(ArrayBuffer.isView(_))return g(_);if(_==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof _);if(tr(_,ArrayBuffer)||_&&tr(_.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(tr(_,SharedArrayBuffer)||_&&tr(_.buffer,SharedArrayBuffer)))return h(_,x,P);if(typeof _=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let L=_.valueOf&&_.valueOf();if(L!=null&&L!==_)return u.from(L,x,P);let Z=v(_);if(Z)return Z;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof _[Symbol.toPrimitive]=="function")return u.from(_[Symbol.toPrimitive]("string"),x,P);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof _)}a(l,"Gn"),I(l,"from"),u.from=function(_,x,P){return l(_,x,P)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function d(_){if(typeof _!="number")throw new TypeError('"size" argument must be of type number');if(_<0)throw new RangeError('The value "'+_+'" is invalid for option "size"')}a(d,"Vn"),I(d,"assertSize");function p(_,x,P){return d(_),_<=0?s(_):x!==void 0?typeof P=="string"?s(_).fill(x,P):s(_).fill(x):s(_)}a(p,"Uo"),I(p,"alloc"),u.alloc=function(_,x,P){return p(_,x,P)};function f(_){return d(_),s(_<0?0:S(_)|0)}a(f,"$t"),I(f,"allocUnsafe"),u.allocUnsafe=function(_){return f(_)},u.allocUnsafeSlow=function(_){return f(_)};function m(_,x){if((typeof x!="string"||x==="")&&(x="utf8"),!u.isEncoding(x))throw new TypeError("Unknown encoding: "+x);let P=w(_,x)|0,L=s(P),Z=L.write(_,x);return Z!==P&&(L=L.slice(0,Z)),L}a(m,"Do"),I(m,"fromString");function y(_){let x=_.length<0?0:S(_.length)|0,P=s(x);for(let L=0;L<x;L+=1)P[L]=_[L]&255;return P}a(y,"Wt"),I(y,"fromArrayLike");function g(_){if(tr(_,Uint8Array)){let x=new Uint8Array(_);return h(x.buffer,x.byteOffset,x.byteLength)}return y(_)}a(g,"Oo"),I(g,"fromArrayView");function h(_,x,P){if(x<0||_.byteLength<x)throw new RangeError('"offset" is outside of buffer bounds');if(_.byteLength<x+(P||0))throw new RangeError('"length" is outside of buffer bounds');let L;return x===void 0&&P===void 0?L=new Uint8Array(_):P===void 0?L=new Uint8Array(_,x):L=new Uint8Array(_,x,P),Object.setPrototypeOf(L,u.prototype),L}a(h,"jt"),I(h,"fromArrayBuffer");function v(_){if(u.isBuffer(_)){let x=S(_.length)|0,P=s(x);return P.length===0||_.copy(P,0,0,x),P}if(_.length!==void 0)return typeof _.length!="number"||lo(_.length)?s(0):y(_);if(_.type==="Buffer"&&Array.isArray(_.data))return y(_.data)}a(v,"qo"),I(v,"fromObject");function S(_){if(_>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return _|0}a(S,"Gt"),I(S,"checked");function b(_){return+_!=_&&(_=0),u.alloc(+_)}a(b,"Qo"),I(b,"SlowBuffer"),u.isBuffer=I(function(_){return _!=null&&_._isBuffer===!0&&_!==u.prototype},"isBuffer"),u.compare=I(function(_,x){if(tr(_,Uint8Array)&&(_=u.from(_,_.offset,_.byteLength)),tr(x,Uint8Array)&&(x=u.from(x,x.offset,x.byteLength)),!u.isBuffer(_)||!u.isBuffer(x))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_===x)return 0;let P=_.length,L=x.length;for(let Z=0,re=Math.min(P,L);Z<re;++Z)if(_[Z]!==x[Z]){P=_[Z],L=x[Z];break}return P<L?-1:L<P?1:0},"compare"),u.isEncoding=I(function(_){switch(String(_).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},"isEncoding"),u.concat=I(function(_,x){if(!Array.isArray(_))throw new TypeError('"list" argument must be an Array of Buffers');if(_.length===0)return u.alloc(0);let P;if(x===void 0)for(x=0,P=0;P<_.length;++P)x+=_[P].length;let L=u.allocUnsafe(x),Z=0;for(P=0;P<_.length;++P){let re=_[P];if(tr(re,Uint8Array))Z+re.length>L.length?(u.isBuffer(re)||(re=u.from(re)),re.copy(L,Z)):Uint8Array.prototype.set.call(L,re,Z);else if(u.isBuffer(re))re.copy(L,Z);else throw new TypeError('"list" argument must be an Array of Buffers');Z+=re.length}return L},"concat");function w(_,x){if(u.isBuffer(_))return _.length;if(ArrayBuffer.isView(_)||tr(_,ArrayBuffer))return _.byteLength;if(typeof _!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof _);let P=_.length,L=arguments.length>2&&arguments[2]===!0;if(!L&&P===0)return 0;let Z=!1;for(;;)switch(x){case"ascii":case"latin1":case"binary":return P;case"utf8":case"utf-8":return Xi(_).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P*2;case"hex":return P>>>1;case"base64":return Lo(_).length;default:if(Z)return L?-1:Xi(_).length;x=(""+x).toLowerCase(),Z=!0}}a(w,"zn"),I(w,"byteLength"),u.byteLength=w;function k(_,x,P){let L=!1;if((x===void 0||x<0)&&(x=0),x>this.length||((P===void 0||P>this.length)&&(P=this.length),P<=0)||(P>>>=0,x>>>=0,P<=x))return"";for(_||(_="utf8");;)switch(_){case"hex":return ke(this,x,P);case"utf8":case"utf-8":return B(this,x,P);case"ascii":return ae(this,x,P);case"latin1":case"binary":return Se(this,x,P);case"base64":return G(this,x,P);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return et(this,x,P);default:if(L)throw new TypeError("Unknown encoding: "+_);_=(_+"").toLowerCase(),L=!0}}a(k,"No"),I(k,"slowToString"),u.prototype._isBuffer=!0;function $(_,x,P){let L=_[x];_[x]=_[P],_[P]=L}a($,"Ae"),I($,"swap"),u.prototype.swap16=I(function(){let _=this.length;if(_%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let x=0;x<_;x+=2)$(this,x,x+1);return this},"swap16"),u.prototype.swap32=I(function(){let _=this.length;if(_%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let x=0;x<_;x+=4)$(this,x,x+3),$(this,x+1,x+2);return this},"swap32"),u.prototype.swap64=I(function(){let _=this.length;if(_%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let x=0;x<_;x+=8)$(this,x,x+7),$(this,x+1,x+6),$(this,x+2,x+5),$(this,x+3,x+4);return this},"swap64"),u.prototype.toString=I(function(){let _=this.length;return _===0?"":arguments.length===0?B(this,0,_):k.apply(this,arguments)},"toString"),u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=I(function(_){if(!u.isBuffer(_))throw new TypeError("Argument must be a Buffer");return this===_?!0:u.compare(this,_)===0},"equals"),u.prototype.inspect=I(function(){let _="",x=e.INSPECT_MAX_BYTES;return _=this.toString("hex",0,x).replace(/(.{2})/g,"$1 ").trim(),this.length>x&&(_+=" ... "),"<Buffer "+_+">"},"inspect"),n&&(u.prototype[n]=u.prototype.inspect),u.prototype.compare=I(function(_,x,P,L,Z){if(tr(_,Uint8Array)&&(_=u.from(_,_.offset,_.byteLength)),!u.isBuffer(_))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof _);if(x===void 0&&(x=0),P===void 0&&(P=_?_.length:0),L===void 0&&(L=0),Z===void 0&&(Z=this.length),x<0||P>_.length||L<0||Z>this.length)throw new RangeError("out of range index");if(L>=Z&&x>=P)return 0;if(L>=Z)return-1;if(x>=P)return 1;if(x>>>=0,P>>>=0,L>>>=0,Z>>>=0,this===_)return 0;let re=Z-L,me=P-x,Ne=Math.min(re,me),gt=this.slice(L,Z),bt=_.slice(x,P);for(let ut=0;ut<Ne;++ut)if(gt[ut]!==bt[ut]){re=gt[ut],me=bt[ut];break}return re<me?-1:me<re?1:0},"compare");function C(_,x,P,L,Z){if(_.length===0)return-1;if(typeof P=="string"?(L=P,P=0):P>2147483647?P=2147483647:P<-2147483648&&(P=-2147483648),P=+P,lo(P)&&(P=Z?0:_.length-1),P<0&&(P=_.length+P),P>=_.length){if(Z)return-1;P=_.length-1}else if(P<0)if(Z)P=0;else return-1;if(typeof x=="string"&&(x=u.from(x,L)),u.isBuffer(x))return x.length===0?-1:A(_,x,P,L,Z);if(typeof x=="number")return x=x&255,typeof Uint8Array.prototype.indexOf=="function"?Z?Uint8Array.prototype.indexOf.call(_,x,P):Uint8Array.prototype.lastIndexOf.call(_,x,P):A(_,[x],P,L,Z);throw new TypeError("val must be string, number or Buffer")}a(C,"Kn"),I(C,"bidirectionalIndexOf");function A(_,x,P,L,Z){let re=1,me=_.length,Ne=x.length;if(L!==void 0&&(L=String(L).toLowerCase(),L==="ucs2"||L==="ucs-2"||L==="utf16le"||L==="utf-16le")){if(_.length<2||x.length<2)return-1;re=2,me/=2,Ne/=2,P/=2}function gt(ut,Bt){return re===1?ut[Bt]:ut.readUInt16BE(Bt*re)}a(gt,"c"),I(gt,"read");let bt;if(Z){let ut=-1;for(bt=P;bt<me;bt++)if(gt(_,bt)===gt(x,ut===-1?0:bt-ut)){if(ut===-1&&(ut=bt),bt-ut+1===Ne)return ut*re}else ut!==-1&&(bt-=bt-ut),ut=-1}else for(P+Ne>me&&(P=me-Ne),bt=P;bt>=0;bt--){let ut=!0;for(let Bt=0;Bt<Ne;Bt++)if(gt(_,bt+Bt)!==gt(x,Bt)){ut=!1;break}if(ut)return bt}return-1}a(A,"jn"),I(A,"arrayIndexOf"),u.prototype.includes=I(function(_,x,P){return this.indexOf(_,x,P)!==-1},"includes"),u.prototype.indexOf=I(function(_,x,P){return C(this,_,x,P,!0)},"indexOf"),u.prototype.lastIndexOf=I(function(_,x,P){return C(this,_,x,P,!1)},"lastIndexOf");function R(_,x,P,L){P=Number(P)||0;let Z=_.length-P;L?(L=Number(L),L>Z&&(L=Z)):L=Z;let re=x.length;L>re/2&&(L=re/2);let me;for(me=0;me<L;++me){let Ne=parseInt(x.substr(me*2,2),16);if(lo(Ne))return me;_[P+me]=Ne}return me}a(R,"Wo"),I(R,"hexWrite");function O(_,x,P,L){return kr(Xi(x,_.length-P),_,P,L)}a(O,"jo"),I(O,"utf8Write");function z(_,x,P,L){return kr(Lm(x),_,P,L)}a(z,"Ho"),I(z,"asciiWrite");function D(_,x,P,L){return kr(Lo(x),_,P,L)}a(D,"$o"),I(D,"base64Write");function X(_,x,P,L){return kr(Nn(x,_.length-P),_,P,L)}a(X,"Go"),I(X,"ucs2Write"),u.prototype.write=I(function(_,x,P,L){if(x===void 0)L="utf8",P=this.length,x=0;else if(P===void 0&&typeof x=="string")L=x,P=this.length,x=0;else if(isFinite(x))x=x>>>0,isFinite(P)?(P=P>>>0,L===void 0&&(L="utf8")):(L=P,P=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let Z=this.length-x;if((P===void 0||P>Z)&&(P=Z),_.length>0&&(P<0||x<0)||x>this.length)throw new RangeError("Attempt to write outside buffer bounds");L||(L="utf8");let re=!1;for(;;)switch(L){case"hex":return R(this,_,x,P);case"utf8":case"utf-8":return O(this,_,x,P);case"ascii":case"latin1":case"binary":return z(this,_,x,P);case"base64":return D(this,_,x,P);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,_,x,P);default:if(re)throw new TypeError("Unknown encoding: "+L);L=(""+L).toLowerCase(),re=!0}},"write"),u.prototype.toJSON=I(function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},"toJSON");function G(_,x,P){return x===0&&P===_.length?t.fromByteArray(_):t.fromByteArray(_.slice(x,P))}a(G,"Vo"),I(G,"base64Slice");function B(_,x,P){P=Math.min(_.length,P);let L=[],Z=x;for(;Z<P;){let re=_[Z],me=null,Ne=re>239?4:re>223?3:re>191?2:1;if(Z+Ne<=P){let gt,bt,ut,Bt;switch(Ne){case 1:re<128&&(me=re);break;case 2:gt=_[Z+1],(gt&192)===128&&(Bt=(re&31)<<6|gt&63,Bt>127&&(me=Bt));break;case 3:gt=_[Z+1],bt=_[Z+2],(gt&192)===128&&(bt&192)===128&&(Bt=(re&15)<<12|(gt&63)<<6|bt&63,Bt>2047&&(Bt<55296||Bt>57343)&&(me=Bt));break;case 4:gt=_[Z+1],bt=_[Z+2],ut=_[Z+3],(gt&192)===128&&(bt&192)===128&&(ut&192)===128&&(Bt=(re&15)<<18|(gt&63)<<12|(bt&63)<<6|ut&63,Bt>65535&&Bt<1114112&&(me=Bt))}}me===null?(me=65533,Ne=1):me>65535&&(me-=65536,L.push(me>>>10&1023|55296),me=56320|me&1023),L.push(me),Z+=Ne}return ne(L)}a(B,"Yn"),I(B,"utf8Slice");var te=4096;function ne(_){let x=_.length;if(x<=te)return String.fromCharCode.apply(String,_);let P="",L=0;for(;L<x;)P+=String.fromCharCode.apply(String,_.slice(L,L+=te));return P}a(ne,"zo"),I(ne,"decodeCodePointsArray");function ae(_,x,P){let L="";P=Math.min(_.length,P);for(let Z=x;Z<P;++Z)L+=String.fromCharCode(_[Z]&127);return L}a(ae,"Ko"),I(ae,"asciiSlice");function Se(_,x,P){let L="";P=Math.min(_.length,P);for(let Z=x;Z<P;++Z)L+=String.fromCharCode(_[Z]);return L}a(Se,"Yo"),I(Se,"latin1Slice");function ke(_,x,P){let L=_.length;(!x||x<0)&&(x=0),(!P||P<0||P>L)&&(P=L);let Z="";for(let re=x;re<P;++re)Z+=Fm[_[re]];return Z}a(ke,"Zo"),I(ke,"hexSlice");function et(_,x,P){let L=_.slice(x,P),Z="";for(let re=0;re<L.length-1;re+=2)Z+=String.fromCharCode(L[re]+L[re+1]*256);return Z}a(et,"Jo"),I(et,"utf16leSlice"),u.prototype.slice=I(function(_,x){let P=this.length;_=~~_,x=x===void 0?P:~~x,_<0?(_+=P,_<0&&(_=0)):_>P&&(_=P),x<0?(x+=P,x<0&&(x=0)):x>P&&(x=P),x<_&&(x=_);let L=this.subarray(_,x);return Object.setPrototypeOf(L,u.prototype),L},"slice");function Ke(_,x,P){if(_%1!==0||_<0)throw new RangeError("offset is not uint");if(_+x>P)throw new RangeError("Trying to access beyond buffer length")}a(Ke,"q"),I(Ke,"checkOffset"),u.prototype.readUintLE=u.prototype.readUIntLE=I(function(_,x,P){_=_>>>0,x=x>>>0,P||Ke(_,x,this.length);let L=this[_],Z=1,re=0;for(;++re<x&&(Z*=256);)L+=this[_+re]*Z;return L},"readUIntLE"),u.prototype.readUintBE=u.prototype.readUIntBE=I(function(_,x,P){_=_>>>0,x=x>>>0,P||Ke(_,x,this.length);let L=this[_+--x],Z=1;for(;x>0&&(Z*=256);)L+=this[_+--x]*Z;return L},"readUIntBE"),u.prototype.readUint8=u.prototype.readUInt8=I(function(_,x){return _=_>>>0,x||Ke(_,1,this.length),this[_]},"readUInt8"),u.prototype.readUint16LE=u.prototype.readUInt16LE=I(function(_,x){return _=_>>>0,x||Ke(_,2,this.length),this[_]|this[_+1]<<8},"readUInt16LE"),u.prototype.readUint16BE=u.prototype.readUInt16BE=I(function(_,x){return _=_>>>0,x||Ke(_,2,this.length),this[_]<<8|this[_+1]},"readUInt16BE"),u.prototype.readUint32LE=u.prototype.readUInt32LE=I(function(_,x){return _=_>>>0,x||Ke(_,4,this.length),(this[_]|this[_+1]<<8|this[_+2]<<16)+this[_+3]*16777216},"readUInt32LE"),u.prototype.readUint32BE=u.prototype.readUInt32BE=I(function(_,x){return _=_>>>0,x||Ke(_,4,this.length),this[_]*16777216+(this[_+1]<<16|this[_+2]<<8|this[_+3])},"readUInt32BE"),u.prototype.readBigUInt64LE=Dr(I(function(_){_=_>>>0,Ir(_,"offset");let x=this[_],P=this[_+7];(x===void 0||P===void 0)&&Uo(_,this.length-8);let L=x+this[++_]*2**8+this[++_]*2**16+this[++_]*2**24,Z=this[++_]+this[++_]*2**8+this[++_]*2**16+P*2**24;return BigInt(L)+(BigInt(Z)<<BigInt(32))},"readBigUInt64LE")),u.prototype.readBigUInt64BE=Dr(I(function(_){_=_>>>0,Ir(_,"offset");let x=this[_],P=this[_+7];(x===void 0||P===void 0)&&Uo(_,this.length-8);let L=x*2**24+this[++_]*2**16+this[++_]*2**8+this[++_],Z=this[++_]*2**24+this[++_]*2**16+this[++_]*2**8+P;return(BigInt(L)<<BigInt(32))+BigInt(Z)},"readBigUInt64BE")),u.prototype.readIntLE=I(function(_,x,P){_=_>>>0,x=x>>>0,P||Ke(_,x,this.length);let L=this[_],Z=1,re=0;for(;++re<x&&(Z*=256);)L+=this[_+re]*Z;return Z*=128,L>=Z&&(L-=Math.pow(2,8*x)),L},"readIntLE"),u.prototype.readIntBE=I(function(_,x,P){_=_>>>0,x=x>>>0,P||Ke(_,x,this.length);let L=x,Z=1,re=this[_+--L];for(;L>0&&(Z*=256);)re+=this[_+--L]*Z;return Z*=128,re>=Z&&(re-=Math.pow(2,8*x)),re},"readIntBE"),u.prototype.readInt8=I(function(_,x){return _=_>>>0,x||Ke(_,1,this.length),this[_]&128?(255-this[_]+1)*-1:this[_]},"readInt8"),u.prototype.readInt16LE=I(function(_,x){_=_>>>0,x||Ke(_,2,this.length);let P=this[_]|this[_+1]<<8;return P&32768?P|4294901760:P},"readInt16LE"),u.prototype.readInt16BE=I(function(_,x){_=_>>>0,x||Ke(_,2,this.length);let P=this[_+1]|this[_]<<8;return P&32768?P|4294901760:P},"readInt16BE"),u.prototype.readInt32LE=I(function(_,x){return _=_>>>0,x||Ke(_,4,this.length),this[_]|this[_+1]<<8|this[_+2]<<16|this[_+3]<<24},"readInt32LE"),u.prototype.readInt32BE=I(function(_,x){return _=_>>>0,x||Ke(_,4,this.length),this[_]<<24|this[_+1]<<16|this[_+2]<<8|this[_+3]},"readInt32BE"),u.prototype.readBigInt64LE=Dr(I(function(_){_=_>>>0,Ir(_,"offset");let x=this[_],P=this[_+7];(x===void 0||P===void 0)&&Uo(_,this.length-8);let L=this[_+4]+this[_+5]*2**8+this[_+6]*2**16+(P<<24);return(BigInt(L)<<BigInt(32))+BigInt(x+this[++_]*2**8+this[++_]*2**16+this[++_]*2**24)},"readBigInt64LE")),u.prototype.readBigInt64BE=Dr(I(function(_){_=_>>>0,Ir(_,"offset");let x=this[_],P=this[_+7];(x===void 0||P===void 0)&&Uo(_,this.length-8);let L=(x<<24)+this[++_]*2**16+this[++_]*2**8+this[++_];return(BigInt(L)<<BigInt(32))+BigInt(this[++_]*2**24+this[++_]*2**16+this[++_]*2**8+P)},"readBigInt64BE")),u.prototype.readFloatLE=I(function(_,x){return _=_>>>0,x||Ke(_,4,this.length),r.read(this,_,!0,23,4)},"readFloatLE"),u.prototype.readFloatBE=I(function(_,x){return _=_>>>0,x||Ke(_,4,this.length),r.read(this,_,!1,23,4)},"readFloatBE"),u.prototype.readDoubleLE=I(function(_,x){return _=_>>>0,x||Ke(_,8,this.length),r.read(this,_,!0,52,8)},"readDoubleLE"),u.prototype.readDoubleBE=I(function(_,x){return _=_>>>0,x||Ke(_,8,this.length),r.read(this,_,!1,52,8)},"readDoubleBE");function Q(_,x,P,L,Z,re){if(!u.isBuffer(_))throw new TypeError('"buffer" argument must be a Buffer instance');if(x>Z||x<re)throw new RangeError('"value" argument is out of bounds');if(P+L>_.length)throw new RangeError("Index out of range")}a(Q,"V"),I(Q,"checkInt"),u.prototype.writeUintLE=u.prototype.writeUIntLE=I(function(_,x,P,L){if(_=+_,x=x>>>0,P=P>>>0,!L){let me=Math.pow(2,8*P)-1;Q(this,_,x,P,me,0)}let Z=1,re=0;for(this[x]=_&255;++re<P&&(Z*=256);)this[x+re]=_/Z&255;return x+P},"writeUIntLE"),u.prototype.writeUintBE=u.prototype.writeUIntBE=I(function(_,x,P,L){if(_=+_,x=x>>>0,P=P>>>0,!L){let me=Math.pow(2,8*P)-1;Q(this,_,x,P,me,0)}let Z=P-1,re=1;for(this[x+Z]=_&255;--Z>=0&&(re*=256);)this[x+Z]=_/re&255;return x+P},"writeUIntBE"),u.prototype.writeUint8=u.prototype.writeUInt8=I(function(_,x,P){return _=+_,x=x>>>0,P||Q(this,_,x,1,255,0),this[x]=_&255,x+1},"writeUInt8"),u.prototype.writeUint16LE=u.prototype.writeUInt16LE=I(function(_,x,P){return _=+_,x=x>>>0,P||Q(this,_,x,2,65535,0),this[x]=_&255,this[x+1]=_>>>8,x+2},"writeUInt16LE"),u.prototype.writeUint16BE=u.prototype.writeUInt16BE=I(function(_,x,P){return _=+_,x=x>>>0,P||Q(this,_,x,2,65535,0),this[x]=_>>>8,this[x+1]=_&255,x+2},"writeUInt16BE"),u.prototype.writeUint32LE=u.prototype.writeUInt32LE=I(function(_,x,P){return _=+_,x=x>>>0,P||Q(this,_,x,4,4294967295,0),this[x+3]=_>>>24,this[x+2]=_>>>16,this[x+1]=_>>>8,this[x]=_&255,x+4},"writeUInt32LE"),u.prototype.writeUint32BE=u.prototype.writeUInt32BE=I(function(_,x,P){return _=+_,x=x>>>0,P||Q(this,_,x,4,4294967295,0),this[x]=_>>>24,this[x+1]=_>>>16,this[x+2]=_>>>8,this[x+3]=_&255,x+4},"writeUInt32BE");function Re(_,x,P,L,Z){tu(x,L,Z,_,P,7);let re=Number(x&BigInt(4294967295));_[P++]=re,re=re>>8,_[P++]=re,re=re>>8,_[P++]=re,re=re>>8,_[P++]=re;let me=Number(x>>BigInt(32)&BigInt(4294967295));return _[P++]=me,me=me>>8,_[P++]=me,me=me>>8,_[P++]=me,me=me>>8,_[P++]=me,P}a(Re,"Zn"),I(Re,"wrtBigUInt64LE");function ve(_,x,P,L,Z){tu(x,L,Z,_,P,7);let re=Number(x&BigInt(4294967295));_[P+7]=re,re=re>>8,_[P+6]=re,re=re>>8,_[P+5]=re,re=re>>8,_[P+4]=re;let me=Number(x>>BigInt(32)&BigInt(4294967295));return _[P+3]=me,me=me>>8,_[P+2]=me,me=me>>8,_[P+1]=me,me=me>>8,_[P]=me,P+8}a(ve,"Jn"),I(ve,"wrtBigUInt64BE"),u.prototype.writeBigUInt64LE=Dr(I(function(_,x=0){return Re(this,_,x,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64LE")),u.prototype.writeBigUInt64BE=Dr(I(function(_,x=0){return ve(this,_,x,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64BE")),u.prototype.writeIntLE=I(function(_,x,P,L){if(_=+_,x=x>>>0,!L){let Ne=Math.pow(2,8*P-1);Q(this,_,x,P,Ne-1,-Ne)}let Z=0,re=1,me=0;for(this[x]=_&255;++Z<P&&(re*=256);)_<0&&me===0&&this[x+Z-1]!==0&&(me=1),this[x+Z]=(_/re>>0)-me&255;return x+P},"writeIntLE"),u.prototype.writeIntBE=I(function(_,x,P,L){if(_=+_,x=x>>>0,!L){let Ne=Math.pow(2,8*P-1);Q(this,_,x,P,Ne-1,-Ne)}let Z=P-1,re=1,me=0;for(this[x+Z]=_&255;--Z>=0&&(re*=256);)_<0&&me===0&&this[x+Z+1]!==0&&(me=1),this[x+Z]=(_/re>>0)-me&255;return x+P},"writeIntBE"),u.prototype.writeInt8=I(function(_,x,P){return _=+_,x=x>>>0,P||Q(this,_,x,1,127,-128),_<0&&(_=255+_+1),this[x]=_&255,x+1},"writeInt8"),u.prototype.writeInt16LE=I(function(_,x,P){return _=+_,x=x>>>0,P||Q(this,_,x,2,32767,-32768),this[x]=_&255,this[x+1]=_>>>8,x+2},"writeInt16LE"),u.prototype.writeInt16BE=I(function(_,x,P){return _=+_,x=x>>>0,P||Q(this,_,x,2,32767,-32768),this[x]=_>>>8,this[x+1]=_&255,x+2},"writeInt16BE"),u.prototype.writeInt32LE=I(function(_,x,P){return _=+_,x=x>>>0,P||Q(this,_,x,4,2147483647,-2147483648),this[x]=_&255,this[x+1]=_>>>8,this[x+2]=_>>>16,this[x+3]=_>>>24,x+4},"writeInt32LE"),u.prototype.writeInt32BE=I(function(_,x,P){return _=+_,x=x>>>0,P||Q(this,_,x,4,2147483647,-2147483648),_<0&&(_=4294967295+_+1),this[x]=_>>>24,this[x+1]=_>>>16,this[x+2]=_>>>8,this[x+3]=_&255,x+4},"writeInt32BE"),u.prototype.writeBigInt64LE=Dr(I(function(_,x=0){return Re(this,_,x,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64LE")),u.prototype.writeBigInt64BE=Dr(I(function(_,x=0){return ve(this,_,x,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64BE"));function F(_,x,P,L,Z,re){if(P+L>_.length)throw new RangeError("Index out of range");if(P<0)throw new RangeError("Index out of range")}a(F,"Xn"),I(F,"checkIEEE754");function We(_,x,P,L,Z){return x=+x,P=P>>>0,Z||F(_,x,P,4,34028234663852886e22,-34028234663852886e22),r.write(_,x,P,L,23,4),P+4}a(We,"ei"),I(We,"writeFloat"),u.prototype.writeFloatLE=I(function(_,x,P){return We(this,_,x,!0,P)},"writeFloatLE"),u.prototype.writeFloatBE=I(function(_,x,P){return We(this,_,x,!1,P)},"writeFloatBE");function It(_,x,P,L,Z){return x=+x,P=P>>>0,Z||F(_,x,P,8,17976931348623157e292,-17976931348623157e292),r.write(_,x,P,L,52,8),P+8}a(It,"ti"),I(It,"writeDouble"),u.prototype.writeDoubleLE=I(function(_,x,P){return It(this,_,x,!0,P)},"writeDoubleLE"),u.prototype.writeDoubleBE=I(function(_,x,P){return It(this,_,x,!1,P)},"writeDoubleBE"),u.prototype.copy=I(function(_,x,P,L){if(!u.isBuffer(_))throw new TypeError("argument should be a Buffer");if(P||(P=0),!L&&L!==0&&(L=this.length),x>=_.length&&(x=_.length),x||(x=0),L>0&&L<P&&(L=P),L===P||_.length===0||this.length===0)return 0;if(x<0)throw new RangeError("targetStart out of bounds");if(P<0||P>=this.length)throw new RangeError("Index out of range");if(L<0)throw new RangeError("sourceEnd out of bounds");L>this.length&&(L=this.length),_.length-x<L-P&&(L=_.length-x+P);let Z=L-P;return this===_&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(x,P,L):Uint8Array.prototype.set.call(_,this.subarray(P,L),x),Z},"copy"),u.prototype.fill=I(function(_,x,P,L){if(typeof _=="string"){if(typeof x=="string"?(L=x,x=0,P=this.length):typeof P=="string"&&(L=P,P=this.length),L!==void 0&&typeof L!="string")throw new TypeError("encoding must be a string");if(typeof L=="string"&&!u.isEncoding(L))throw new TypeError("Unknown encoding: "+L);if(_.length===1){let re=_.charCodeAt(0);(L==="utf8"&&re<128||L==="latin1")&&(_=re)}}else typeof _=="number"?_=_&255:typeof _=="boolean"&&(_=Number(_));if(x<0||this.length<x||this.length<P)throw new RangeError("Out of range index");if(P<=x)return this;x=x>>>0,P=P===void 0?this.length:P>>>0,_||(_=0);let Z;if(typeof _=="number")for(Z=x;Z<P;++Z)this[Z]=_;else{let re=u.isBuffer(_)?_:u.from(_,L),me=re.length;if(me===0)throw new TypeError('The value "'+_+'" is invalid for argument "value"');for(Z=0;Z<P-x;++Z)this[Z+x]=re[Z%me]}return this},"fill");var Nt={};function vn(_,x,P){var L;Nt[_]=(L=class extends P{static{a(this,"n")}constructor(){super(),Object.defineProperty(this,"message",{value:x.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${_}]`,this.stack,delete this.name}get code(){return _}set code(Z){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Z,writable:!0})}toString(){return`${this.name} [${_}]: ${this.message}`}},I(L,"NodeError"),L)}a(vn,"Vt"),I(vn,"E"),vn("ERR_BUFFER_OUT_OF_BOUNDS",function(_){return _?`${_} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),vn("ERR_INVALID_ARG_TYPE",function(_,x){return`The "${_}" argument must be of type number. Received type ${typeof x}`},TypeError),vn("ERR_OUT_OF_RANGE",function(_,x,P){let L=`The value of "${_}" is out of range.`,Z=P;return Number.isInteger(P)&&Math.abs(P)>2**32?Z=Qi(String(P)):typeof P=="bigint"&&(Z=String(P),(P>BigInt(2)**BigInt(32)||P<-(BigInt(2)**BigInt(32)))&&(Z=Qi(Z)),Z+="n"),L+=` It must be ${x}. Received ${Z}`,L},RangeError);function Qi(_){let x="",P=_.length,L=_[0]==="-"?1:0;for(;P>=L+4;P-=3)x=`_${_.slice(P-3,P)}${x}`;return`${_.slice(0,P)}${x}`}a(Qi,"$n"),I(Qi,"addNumericalSeparator");function fi(_,x,P){Ir(x,"offset"),(_[x]===void 0||_[x+P]===void 0)&&Uo(x,_.length-(P+1))}a(fi,"Xo"),I(fi,"checkBounds");function tu(_,x,P,L,Z,re){if(_>P||_<x){let me=typeof x=="bigint"?"n":"",Ne;throw re>3?x===0||x===BigInt(0)?Ne=`>= 0${me} and < 2${me} ** ${(re+1)*8}${me}`:Ne=`>= -(2${me} ** ${(re+1)*8-1}${me}) and < 2 ** ${(re+1)*8-1}${me}`:Ne=`>= ${x}${me} and <= ${P}${me}`,new Nt.ERR_OUT_OF_RANGE("value",Ne,_)}fi(L,Z,re)}a(tu,"ri"),I(tu,"checkIntBI");function Ir(_,x){if(typeof _!="number")throw new Nt.ERR_INVALID_ARG_TYPE(x,"number",_)}a(Ir,"Be"),I(Ir,"validateNumber");function Uo(_,x,P){throw Math.floor(_)!==_?(Ir(_,P),new Nt.ERR_OUT_OF_RANGE(P||"offset","an integer",_)):x<0?new Nt.ERR_BUFFER_OUT_OF_BOUNDS:new Nt.ERR_OUT_OF_RANGE(P||"offset",`>= ${P?1:0} and <= ${x}`,_)}a(Uo,"je"),I(Uo,"boundsError");var ru=/[^+/0-9A-Za-z-_]/g;function Um(_){if(_=_.split("=")[0],_=_.trim().replace(ru,""),_.length<2)return"";for(;_.length%4!==0;)_=_+"=";return _}a(Um,"ta"),I(Um,"base64clean");function Xi(_,x){x=x||1/0;let P,L=_.length,Z=null,re=[];for(let me=0;me<L;++me){if(P=_.charCodeAt(me),P>55295&&P<57344){if(!Z){if(P>56319){(x-=3)>-1&&re.push(239,191,189);continue}else if(me+1===L){(x-=3)>-1&&re.push(239,191,189);continue}Z=P;continue}if(P<56320){(x-=3)>-1&&re.push(239,191,189),Z=P;continue}P=(Z-55296<<10|P-56320)+65536}else Z&&(x-=3)>-1&&re.push(239,191,189);if(Z=null,P<128){if((x-=1)<0)break;re.push(P)}else if(P<2048){if((x-=2)<0)break;re.push(P>>6|192,P&63|128)}else if(P<65536){if((x-=3)<0)break;re.push(P>>12|224,P>>6&63|128,P&63|128)}else if(P<1114112){if((x-=4)<0)break;re.push(P>>18|240,P>>12&63|128,P>>6&63|128,P&63|128)}else throw new Error("Invalid code point")}return re}a(Xi,"Ht"),I(Xi,"utf8ToBytes");function Lm(_){let x=[];for(let P=0;P<_.length;++P)x.push(_.charCodeAt(P)&255);return x}a(Lm,"ra"),I(Lm,"asciiToBytes");function Nn(_,x){let P,L,Z,re=[];for(let me=0;me<_.length&&!((x-=2)<0);++me)P=_.charCodeAt(me),L=P>>8,Z=P%256,re.push(Z),re.push(L);return re}a(Nn,"na"),I(Nn,"utf16leToBytes");function Lo(_){return t.toByteArray(Um(_))}a(Lo,"ni"),I(Lo,"base64ToBytes");function kr(_,x,P,L){let Z;for(Z=0;Z<L&&!(Z+P>=x.length||Z>=_.length);++Z)x[Z+P]=_[Z];return Z}a(kr,"ht"),I(kr,"blitBuffer");function tr(_,x){return _ instanceof x||_!=null&&_.constructor!=null&&_.constructor.name!=null&&_.constructor.name===x.name}a(tr,"ue"),I(tr,"isInstance");function lo(_){return _!==_}a(lo,"zt"),I(lo,"numberIsNaN");var Fm=(function(){let _="0123456789abcdef",x=new Array(256);for(let P=0;P<16;++P){let L=P*16;for(let Z=0;Z<16;++Z)x[L+Z]=_[P]+_[Z]}return x})();function Dr(_){return typeof BigInt>"u"?hi:_}a(Dr,"we"),I(Dr,"defineBigIntMethod");function hi(){throw new Error("BigInt not supported")}a(hi,"sa"),I(hi,"BufferBigIntNotDefined")}),Ce=bn(()=>{"use strict";bf=globalThis,bT=globalThis.setImmediate??(e=>setTimeout(e,0)),mY=globalThis.clearImmediate??(e=>clearTimeout(e)),Fe=typeof globalThis.Buffer=="function"&&typeof globalThis.Buffer.allocUnsafe=="function"?globalThis.Buffer:pY().Buffer,tt=globalThis.process??{},tt.env??(tt.env={});try{tt.nextTick(()=>{})}catch{let e=Promise.resolve();tt.nextTick=e.then.bind(e)}}),ls=rt((e,t)=>{"use strict";Ce();var r=typeof Reflect=="object"?Reflect:null,n=r&&typeof r.apply=="function"?r.apply:I(function(C,A,R){return Function.prototype.apply.call(C,A,R)},"ReflectApply"),o;r&&typeof r.ownKeys=="function"?o=r.ownKeys:Object.getOwnPropertySymbols?o=I(function(C){return Object.getOwnPropertyNames(C).concat(Object.getOwnPropertySymbols(C))},"ReflectOwnKeys"):o=I(function(C){return Object.getOwnPropertyNames(C)},"ReflectOwnKeys");function i(C){console&&console.warn&&console.warn(C)}a(i,"oa"),I(i,"ProcessEmitWarning");var s=Number.isNaN||I(function(C){return C!==C},"NumberIsNaN");function u(){u.init.call(this)}a(u,"B"),I(u,"EventEmitter"),t.exports=u,t.exports.once=w,u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var l=10;function d(C){if(typeof C!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof C)}a(d,"dt"),I(d,"checkListener"),Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:I(function(){return l},"get"),set:I(function(C){if(typeof C!="number"||C<0||s(C))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+C+".");l=C},"set")}),u.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=I(function(C){if(typeof C!="number"||C<0||s(C))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+C+".");return this._maxListeners=C,this},"setMaxListeners");function p(C){return C._maxListeners===void 0?u.defaultMaxListeners:C._maxListeners}a(p,"ui"),I(p,"_getMaxListeners"),u.prototype.getMaxListeners=I(function(){return p(this)},"getMaxListeners"),u.prototype.emit=I(function(C){for(var A=[],R=1;R<arguments.length;R++)A.push(arguments[R]);var O=C==="error",z=this._events;if(z!==void 0)O=O&&z.error===void 0;else if(!O)return!1;if(O){var D;if(A.length>0&&(D=A[0]),D instanceof Error)throw D;var X=new Error("Unhandled error."+(D?" ("+D.message+")":""));throw X.context=D,X}var G=z[C];if(G===void 0)return!1;if(typeof G=="function")n(G,this,A);else for(var B=G.length,te=v(G,B),R=0;R<B;++R)n(te[R],this,A);return!0},"emit");function f(C,A,R,O){var z,D,X;if(d(R),D=C._events,D===void 0?(D=C._events=Object.create(null),C._eventsCount=0):(D.newListener!==void 0&&(C.emit("newListener",A,R.listener?R.listener:R),D=C._events),X=D[A]),X===void 0)X=D[A]=R,++C._eventsCount;else if(typeof X=="function"?X=D[A]=O?[R,X]:[X,R]:O?X.unshift(R):X.push(R),z=p(C),z>0&&X.length>z&&!X.warned){X.warned=!0;var G=new Error("Possible EventEmitter memory leak detected. "+X.length+" "+String(A)+" listeners added. Use emitter.setMaxListeners() to increase limit");G.name="MaxListenersExceededWarning",G.emitter=C,G.type=A,G.count=X.length,i(G)}return C}a(f,"ci"),I(f,"_addListener"),u.prototype.addListener=I(function(C,A){return f(this,C,A,!1)},"addListener"),u.prototype.on=u.prototype.addListener,u.prototype.prependListener=I(function(C,A){return f(this,C,A,!0)},"prependListener");function m(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}a(m,"aa"),I(m,"onceWrapper");function y(C,A,R){var O={fired:!1,wrapFn:void 0,target:C,type:A,listener:R},z=m.bind(O);return z.listener=R,O.wrapFn=z,z}a(y,"li"),I(y,"_onceWrap"),u.prototype.once=I(function(C,A){return d(A),this.on(C,y(this,C,A)),this},"once"),u.prototype.prependOnceListener=I(function(C,A){return d(A),this.prependListener(C,y(this,C,A)),this},"prependOnceListener"),u.prototype.removeListener=I(function(C,A){var R,O,z,D,X;if(d(A),O=this._events,O===void 0)return this;if(R=O[C],R===void 0)return this;if(R===A||R.listener===A)--this._eventsCount===0?this._events=Object.create(null):(delete O[C],O.removeListener&&this.emit("removeListener",C,R.listener||A));else if(typeof R!="function"){for(z=-1,D=R.length-1;D>=0;D--)if(R[D]===A||R[D].listener===A){X=R[D].listener,z=D;break}if(z<0)return this;z===0?R.shift():S(R,z),R.length===1&&(O[C]=R[0]),O.removeListener!==void 0&&this.emit("removeListener",C,X||A)}return this},"removeListener"),u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=I(function(C){var A,R,O;if(R=this._events,R===void 0)return this;if(R.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):R[C]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete R[C]),this;if(arguments.length===0){var z=Object.keys(R),D;for(O=0;O<z.length;++O)D=z[O],D!=="removeListener"&&this.removeAllListeners(D);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(A=R[C],typeof A=="function")this.removeListener(C,A);else if(A!==void 0)for(O=A.length-1;O>=0;O--)this.removeListener(C,A[O]);return this},"removeAllListeners");function g(C,A,R){var O=C._events;if(O===void 0)return[];var z=O[A];return z===void 0?[]:typeof z=="function"?R?[z.listener||z]:[z]:R?b(z):v(z,z.length)}a(g,"fi"),I(g,"_listeners"),u.prototype.listeners=I(function(C){return g(this,C,!0)},"listeners"),u.prototype.rawListeners=I(function(C){return g(this,C,!1)},"rawListeners"),u.listenerCount=function(C,A){return typeof C.listenerCount=="function"?C.listenerCount(A):h.call(C,A)},u.prototype.listenerCount=h;function h(C){var A=this._events;if(A!==void 0){var R=A[C];if(typeof R=="function")return 1;if(R!==void 0)return R.length}return 0}a(h,"hi"),I(h,"listenerCount"),u.prototype.eventNames=I(function(){return this._eventsCount>0?o(this._events):[]},"eventNames");function v(C,A){for(var R=new Array(A),O=0;O<A;++O)R[O]=C[O];return R}a(v,"pi"),I(v,"arrayClone");function S(C,A){for(;A+1<C.length;A++)C[A]=C[A+1];C.pop()}a(S,"ua"),I(S,"spliceOne");function b(C){for(var A=new Array(C.length),R=0;R<A.length;++R)A[R]=C[R].listener||C[R];return A}a(b,"ca"),I(b,"unwrapListeners");function w(C,A){return new Promise(function(R,O){function z(X){C.removeListener(A,D),O(X)}a(z,"i"),I(z,"errorListener");function D(){typeof C.removeListener=="function"&&C.removeListener("error",z),R([].slice.call(arguments))}a(D,"s"),I(D,"resolver"),$(C,A,D,{once:!0}),A!=="error"&&k(C,z,{once:!0})})}a(w,"la"),I(w,"once");function k(C,A,R){typeof C.on=="function"&&$(C,"error",A,R)}a(k,"fa"),I(k,"addErrorHandlerIfEventEmitter");function $(C,A,R,O){if(typeof C.on=="function")O.once?C.once(A,R):C.on(A,R);else if(typeof C.addEventListener=="function")C.addEventListener(A,I(a(function z(D){O.once&&C.removeEventListener(A,z),R(D)},"i"),"wrapListener"));else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof C)}a($,"di"),I($,"eventTargetAgnosticAddListener")}),cj={};yo(cj,{Socket:a(()=>us,"Socket"),isIP:a(()=>lj,"isIP")});a(lj,"ha");Fl=bn(()=>{"use strict";Ce(),rj=cs(ls(),1),I(lj,"isIP"),hT=/^[^.]+\./,ql=class ze extends rj.EventEmitter{static{a(this,"S")}constructor(){super(...arguments),Je(this,"opts",{}),Je(this,"connecting",!1),Je(this,"pending",!0),Je(this,"writable",!0),Je(this,"encrypted",!1),Je(this,"authorized",!1),Je(this,"destroyed",!1),Je(this,"ws",null),Je(this,"writeBuffer"),Je(this,"tlsState",0),Je(this,"tlsRead"),Je(this,"tlsWrite")}static get poolQueryViaFetch(){return ze.opts.poolQueryViaFetch??ze.defaults.poolQueryViaFetch}static set poolQueryViaFetch(t){ze.opts.poolQueryViaFetch=t}static get fetchEndpoint(){return ze.opts.fetchEndpoint??ze.defaults.fetchEndpoint}static set fetchEndpoint(t){ze.opts.fetchEndpoint=t}static get fetchConnectionCache(){return!0}static set fetchConnectionCache(t){console.warn("The `fetchConnectionCache` option is deprecated (now always `true`)")}static get fetchFunction(){return ze.opts.fetchFunction??ze.defaults.fetchFunction}static set fetchFunction(t){ze.opts.fetchFunction=t}static get webSocketConstructor(){return ze.opts.webSocketConstructor??ze.defaults.webSocketConstructor}static set webSocketConstructor(t){ze.opts.webSocketConstructor=t}get webSocketConstructor(){return this.opts.webSocketConstructor??ze.webSocketConstructor}set webSocketConstructor(t){this.opts.webSocketConstructor=t}static get wsProxy(){return ze.opts.wsProxy??ze.defaults.wsProxy}static set wsProxy(t){ze.opts.wsProxy=t}get wsProxy(){return this.opts.wsProxy??ze.wsProxy}set wsProxy(t){this.opts.wsProxy=t}static get coalesceWrites(){return ze.opts.coalesceWrites??ze.defaults.coalesceWrites}static set coalesceWrites(t){ze.opts.coalesceWrites=t}get coalesceWrites(){return this.opts.coalesceWrites??ze.coalesceWrites}set coalesceWrites(t){this.opts.coalesceWrites=t}static get useSecureWebSocket(){return ze.opts.useSecureWebSocket??ze.defaults.useSecureWebSocket}static set useSecureWebSocket(t){ze.opts.useSecureWebSocket=t}get useSecureWebSocket(){return this.opts.useSecureWebSocket??ze.useSecureWebSocket}set useSecureWebSocket(t){this.opts.useSecureWebSocket=t}static get forceDisablePgSSL(){return ze.opts.forceDisablePgSSL??ze.defaults.forceDisablePgSSL}static set forceDisablePgSSL(t){ze.opts.forceDisablePgSSL=t}get forceDisablePgSSL(){return this.opts.forceDisablePgSSL??ze.forceDisablePgSSL}set forceDisablePgSSL(t){this.opts.forceDisablePgSSL=t}static get disableSNI(){return ze.opts.disableSNI??ze.defaults.disableSNI}static set disableSNI(t){ze.opts.disableSNI=t}get disableSNI(){return this.opts.disableSNI??ze.disableSNI}set disableSNI(t){this.opts.disableSNI=t}static get disableWarningInBrowsers(){return ze.opts.disableWarningInBrowsers??ze.defaults.disableWarningInBrowsers}static set disableWarningInBrowsers(t){ze.opts.disableWarningInBrowsers=t}get disableWarningInBrowsers(){return this.opts.disableWarningInBrowsers??ze.disableWarningInBrowsers}set disableWarningInBrowsers(t){this.opts.disableWarningInBrowsers=t}static get pipelineConnect(){return ze.opts.pipelineConnect??ze.defaults.pipelineConnect}static set pipelineConnect(t){ze.opts.pipelineConnect=t}get pipelineConnect(){return this.opts.pipelineConnect??ze.pipelineConnect}set pipelineConnect(t){this.opts.pipelineConnect=t}static get subtls(){return ze.opts.subtls??ze.defaults.subtls}static set subtls(t){ze.opts.subtls=t}get subtls(){return this.opts.subtls??ze.subtls}set subtls(t){this.opts.subtls=t}static get pipelineTLS(){return ze.opts.pipelineTLS??ze.defaults.pipelineTLS}static set pipelineTLS(t){ze.opts.pipelineTLS=t}get pipelineTLS(){return this.opts.pipelineTLS??ze.pipelineTLS}set pipelineTLS(t){this.opts.pipelineTLS=t}static get rootCerts(){return ze.opts.rootCerts??ze.defaults.rootCerts}static set rootCerts(t){ze.opts.rootCerts=t}get rootCerts(){return this.opts.rootCerts??ze.rootCerts}set rootCerts(t){this.opts.rootCerts=t}wsProxyAddrForHost(t,r){let n=this.wsProxy;if(n===void 0)throw new Error("No WebSocket proxy is configured. Please see https://github.com/neondatabase/serverless/blob/main/CONFIG.md#wsproxy-string--host-string-port-number--string--string");return typeof n=="function"?n(t,r):`${n}?address=${t}:${r}`}setNoDelay(){return this}setKeepAlive(){return this}ref(){return this}unref(){return this}connect(t,r,n){this.connecting=!0,n&&this.once("connect",n);let o=I(()=>{this.connecting=!1,this.pending=!1,this.emit("connect"),this.emit("ready")},"handleWebSocketOpen"),i=I((u,l=!1)=>{u.binaryType="arraybuffer",u.addEventListener("error",d=>{this.emit("error",d),this.emit("close")}),u.addEventListener("message",d=>{if(this.tlsState===0){let p=Fe.from(d.data);this.emit("data",p)}}),u.addEventListener("close",()=>{this.emit("close")}),l?o():u.addEventListener("open",o)},"configureWebSocket"),s;try{s=this.wsProxyAddrForHost(r,typeof t=="string"?parseInt(t,10):t)}catch(u){this.emit("error",u),this.emit("close");return}try{let u=(this.useSecureWebSocket?"wss:":"ws:")+"//"+s;if(this.webSocketConstructor!==void 0)this.ws=new this.webSocketConstructor(u),i(this.ws);else try{this.ws=new WebSocket(u),i(this.ws)}catch{this.ws=new __unstable_WebSocket(u),i(this.ws)}}catch(u){let l=(this.useSecureWebSocket?"https:":"http:")+"//"+s;fetch(l,{headers:{Upgrade:"websocket"}}).then(d=>{if(this.ws=d.webSocket,this.ws==null)throw u;this.ws.accept(),i(this.ws,!0)}).catch(d=>{this.emit("error",new Error(`All attempts to open a WebSocket to connect to the database failed. Please refer to https://github.com/neondatabase/serverless/blob/main/CONFIG.md#websocketconstructor-typeof-websocket--undefined. Details: ${d}`)),this.emit("close")})}}async startTls(t){if(this.subtls===void 0)throw new Error("For Postgres SSL connections, you must set `neonConfig.subtls` to the subtls library. See https://github.com/neondatabase/serverless/blob/main/CONFIG.md for more information.");this.tlsState=1;let r=await this.subtls.TrustedCert.databaseFromPEM(this.rootCerts),n=new this.subtls.WebSocketReadQueue(this.ws),o=n.read.bind(n),i=this.rawWrite.bind(this),{read:s,write:u}=await this.subtls.startTls(t,r,o,i,{useSNI:!this.disableSNI,expectPreData:this.pipelineTLS?new Uint8Array([83]):void 0});this.tlsRead=s,this.tlsWrite=u,this.tlsState=2,this.encrypted=!0,this.authorized=!0,this.emit("secureConnection",this),this.tlsReadLoop()}async tlsReadLoop(){for(;;){let t=await this.tlsRead();if(t===void 0)break;{let r=Fe.from(t);this.emit("data",r)}}}rawWrite(t){if(!this.coalesceWrites){this.ws&&this.ws.send(t);return}if(this.writeBuffer===void 0)this.writeBuffer=t,setTimeout(()=>{this.ws&&this.ws.send(this.writeBuffer),this.writeBuffer=void 0},0);else{let r=new Uint8Array(this.writeBuffer.length+t.length);r.set(this.writeBuffer),r.set(t,this.writeBuffer.length),this.writeBuffer=r}}write(t,r="utf8",n=o=>{}){return t.length===0?(n(),!0):(typeof t=="string"&&(t=Fe.from(t,r)),this.tlsState===0?(this.rawWrite(t),n()):this.tlsState===1?this.once("secureConnection",()=>{this.write(t,r,n)}):(this.tlsWrite(t),n()),!0)}end(t=Fe.alloc(0),r="utf8",n=()=>{}){return this.write(t,r,()=>{this.ws.close(),n()}),this}destroy(){return this.destroyed=!0,this.end()}},I(ql,"Socket"),Je(ql,"defaults",{poolQueryViaFetch:!1,fetchEndpoint:I((e,t,r)=>{let n;return r?.jwtAuth?n=e.replace(hT,"apiauth."):n=e.replace(hT,"api."),"https://"+n+"/sql"},"fetchEndpoint"),fetchConnectionCache:!0,fetchFunction:void 0,webSocketConstructor:void 0,wsProxy:I(e=>e+"/v2","wsProxy"),useSecureWebSocket:!0,forceDisablePgSSL:!0,coalesceWrites:!0,pipelineConnect:"password",subtls:void 0,rootCerts:"",pipelineTLS:!1,disableSNI:!1,disableWarningInBrowsers:!1}),Je(ql,"opts",{}),us=ql}),dj={};yo(dj,{parse:a(()=>ST,"parse")});a(ST,"Yt");pj=bn(()=>{"use strict";Ce(),I(ST,"parse")}),mj=rt(e=>{"use strict";Ce(),e.parse=function(o,i){return new r(o,i).parse()};var t=class fj{static{a(this,"vt")}constructor(i,s){this.source=i,this.transform=s||n,this.position=0,this.entries=[],this.recorded=[],this.dimension=0}isEof(){return this.position>=this.source.length}nextCharacter(){var i=this.source[this.position++];return i==="\\"?{value:this.source[this.position++],escaped:!0}:{value:i,escaped:!1}}record(i){this.recorded.push(i)}newEntry(i){var s;(this.recorded.length>0||i)&&(s=this.recorded.join(""),s==="NULL"&&!i&&(s=null),s!==null&&(s=this.transform(s)),this.entries.push(s),this.recorded=[])}consumeDimensions(){if(this.source[0]==="[")for(;!this.isEof();){var i=this.nextCharacter();if(i.value==="=")break}}parse(i){var s,u,l;for(this.consumeDimensions();!this.isEof();)if(s=this.nextCharacter(),s.value==="{"&&!l)this.dimension++,this.dimension>1&&(u=new fj(this.source.substr(this.position-1),this.transform),this.entries.push(u.parse(!0)),this.position+=u.position-2);else if(s.value==="}"&&!l){if(this.dimension--,!this.dimension&&(this.newEntry(),i))return this.entries}else s.value==='"'&&!s.escaped?(l&&this.newEntry(!0),l=!l):s.value===","&&!l?this.newEntry():this.record(s.value);if(this.dimension!==0)throw new Error("array dimension not balanced");return this.entries}};I(t,"ArrayParser");var r=t;function n(o){return o}a(n,"Ca"),I(n,"identity")}),hj=rt((e,t)=>{Ce();var r=mj();t.exports={create:I(function(n,o){return{parse:I(function(){return r.parse(n,o)},"parse")}},"create")}}),fY=rt((e,t)=>{"use strict";Ce();var r=/(\d{1,})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})(\.\d{1,})?.*?( BC)?$/,n=/^(\d{1,})-(\d{2})-(\d{2})( BC)?$/,o=/([Z+-])(\d{2})?:?(\d{2})?:?(\d{2})?/,i=/^-?infinity$/;t.exports=I(function(p){if(i.test(p))return Number(p.replace("i","I"));var f=r.exec(p);if(!f)return s(p)||null;var m=!!f[8],y=parseInt(f[1],10);m&&(y=l(y));var g=parseInt(f[2],10)-1,h=f[3],v=parseInt(f[4],10),S=parseInt(f[5],10),b=parseInt(f[6],10),w=f[7];w=w?1e3*parseFloat(w):0;var k,$=u(p);return $!=null?(k=new Date(Date.UTC(y,g,h,v,S,b,w)),d(y)&&k.setUTCFullYear(y),$!==0&&k.setTime(k.getTime()-$)):(k=new Date(y,g,h,v,S,b,w),d(y)&&k.setFullYear(y)),k},"parseDate");function s(p){var f=n.exec(p);if(f){var m=parseInt(f[1],10),y=!!f[4];y&&(m=l(m));var g=parseInt(f[2],10)-1,h=f[3],v=new Date(m,g,h);return d(m)&&v.setFullYear(m),v}}a(s,"Ra"),I(s,"getDate");function u(p){if(p.endsWith("+00"))return 0;var f=o.exec(p.split(" ")[1]);if(f){var m=f[1];if(m==="Z")return 0;var y=m==="-"?-1:1,g=parseInt(f[2],10)*3600+parseInt(f[3]||0,10)*60+parseInt(f[4]||0,10);return g*y*1e3}}a(u,"La"),I(u,"timeZoneOffset");function l(p){return-(p-1)}a(l,"_i"),I(l,"bcYearToNegativeYear");function d(p){return p>=0&&p<100}a(d,"nr"),I(d,"is0To99")}),hY=rt((e,t)=>{Ce(),t.exports=n;var r=Object.prototype.hasOwnProperty;function n(o){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var u in s)r.call(s,u)&&(o[u]=s[u])}return o}a(n,"ka"),I(n,"extend")}),gY=rt((e,t)=>{"use strict";Ce();var r=hY();t.exports=n;function n(b){if(!(this instanceof n))return new n(b);r(this,S(b))}a(n,"ke"),I(n,"PostgresInterval");var o=["seconds","minutes","hours","days","months","years"];n.prototype.toPostgres=function(){var b=o.filter(this.hasOwnProperty,this);return this.milliseconds&&b.indexOf("seconds")<0&&b.push("seconds"),b.length===0?"0":b.map(function(w){var k=this[w]||0;return w==="seconds"&&this.milliseconds&&(k=(k+this.milliseconds/1e3).toFixed(6).replace(/\.?0+$/,"")),k+" "+w},this).join(" ")};var i={years:"Y",months:"M",days:"D",hours:"H",minutes:"M",seconds:"S"},s=["years","months","days"],u=["hours","minutes","seconds"];n.prototype.toISOString=n.prototype.toISO=function(){var b=s.map(k,this).join(""),w=u.map(k,this).join("");return"P"+b+"T"+w;function k($){var C=this[$]||0;return $==="seconds"&&this.milliseconds&&(C=(C+this.milliseconds/1e3).toFixed(6).replace(/0+$/,"")),C+i[$]}};var l="([+-]?\\d+)",d=l+"\\s+years?",p=l+"\\s+mons?",f=l+"\\s+days?",m="([+-])?([\\d]*):(\\d\\d):(\\d\\d)\\.?(\\d{1,6})?",y=new RegExp([d,p,f,m].map(function(b){return"("+b+")?"}).join("\\s*")),g={years:2,months:4,days:6,hours:9,minutes:10,seconds:11,milliseconds:12},h=["hours","minutes","seconds","milliseconds"];function v(b){var w=b+"000000".slice(b.length);return parseInt(w,10)/1e3}a(v,"Ga"),I(v,"parseMilliseconds");function S(b){if(!b)return{};var w=y.exec(b),k=w[8]==="-";return Object.keys(g).reduce(function($,C){var A=g[C],R=w[A];return!R||(R=C==="milliseconds"?v(R):parseInt(R,10),!R)||(k&&~h.indexOf(C)&&(R*=-1),$[C]=R),$},{})}a(S,"Va"),I(S,"parse")}),yY=rt((e,t)=>{"use strict";Ce(),t.exports=I(function(r){if(/^\\x/.test(r))return new Fe(r.substr(2),"hex");for(var n="",o=0;o<r.length;)if(r[o]!=="\\")n+=r[o],++o;else if(/[0-7]{3}/.test(r.substr(o+1,3)))n+=String.fromCharCode(parseInt(r.substr(o+1,3),8)),o+=4;else{for(var i=1;o+i<r.length&&r[o+i]==="\\";)i++;for(var s=0;s<Math.floor(i/2);++s)n+="\\";o+=Math.floor(i/2)*2}return new Fe(n,"binary")},"parseBytea")}),vY=rt((e,t)=>{Ce();var r=mj(),n=hj(),o=fY(),i=gY(),s=yY();function u(O){return I(function(z){return z===null?z:O(z)},"nullAllowed")}a(u,"St"),I(u,"allowNull");function l(O){return O===null?O:O==="TRUE"||O==="t"||O==="true"||O==="y"||O==="yes"||O==="on"||O==="1"}a(l,"qi"),I(l,"parseBool");function d(O){return O?r.parse(O,l):null}a(d,"za"),I(d,"parseBoolArray");function p(O){return parseInt(O,10)}a(p,"Ka"),I(p,"parseBaseTenInt");function f(O){return O?r.parse(O,u(p)):null}a(f,"sr"),I(f,"parseIntegerArray");function m(O){return O?r.parse(O,u(function(z){return k(z).trim()})):null}a(m,"Ya"),I(m,"parseBigIntegerArray");var y=I(function(O){if(!O)return null;var z=n.create(O,function(D){return D!==null&&(D=C(D)),D});return z.parse()},"parsePointArray"),g=I(function(O){if(!O)return null;var z=n.create(O,function(D){return D!==null&&(D=parseFloat(D)),D});return z.parse()},"parseFloatArray"),h=I(function(O){if(!O)return null;var z=n.create(O);return z.parse()},"parseStringArray"),v=I(function(O){if(!O)return null;var z=n.create(O,function(D){return D!==null&&(D=o(D)),D});return z.parse()},"parseDateArray"),S=I(function(O){if(!O)return null;var z=n.create(O,function(D){return D!==null&&(D=i(D)),D});return z.parse()},"parseIntervalArray"),b=I(function(O){return O?r.parse(O,u(s)):null},"parseByteAArray"),w=I(function(O){return parseInt(O,10)},"parseInteger"),k=I(function(O){var z=String(O);return/^\d+$/.test(z)?z:O},"parseBigInteger"),$=I(function(O){return O?r.parse(O,u(JSON.parse)):null},"parseJsonArray"),C=I(function(O){return O[0]!=="("?null:(O=O.substring(1,O.length-1).split(","),{x:parseFloat(O[0]),y:parseFloat(O[1])})},"parsePoint"),A=I(function(O){if(O[0]!=="<"&&O[1]!=="(")return null;for(var z="(",D="",X=!1,G=2;G<O.length-1;G++){if(X||(z+=O[G]),O[G]===")"){X=!0;continue}else if(!X)continue;O[G]!==","&&(D+=O[G])}var B=C(z);return B.radius=parseFloat(D),B},"parseCircle"),R=I(function(O){O(20,k),O(21,w),O(23,w),O(26,w),O(700,parseFloat),O(701,parseFloat),O(16,l),O(1082,o),O(1114,o),O(1184,o),O(600,C),O(651,h),O(718,A),O(1e3,d),O(1001,b),O(1005,f),O(1007,f),O(1028,f),O(1016,m),O(1017,y),O(1021,g),O(1022,g),O(1231,g),O(1014,h),O(1015,h),O(1008,h),O(1009,h),O(1040,h),O(1041,h),O(1115,v),O(1182,v),O(1185,v),O(1186,i),O(1187,S),O(17,s),O(114,JSON.parse.bind(JSON)),O(3802,JSON.parse.bind(JSON)),O(199,$),O(3807,$),O(3907,h),O(2951,h),O(791,h),O(1183,h),O(1270,h)},"init");t.exports={init:R}}),_Y=rt((e,t)=>{"use strict";Ce();var r=1e6;function n(o){var i=o.readInt32BE(0),s=o.readUInt32BE(4),u="";i<0&&(i=~i+(s===0),s=~s+1>>>0,u="-");var l="",d,p,f,m,y,g;{if(d=i%r,i=i/r>>>0,p=4294967296*d+s,s=p/r>>>0,f=""+(p-r*s),s===0&&i===0)return u+f+l;for(m="",y=6-f.length,g=0;g<y;g++)m+="0";l=m+f+l}{if(d=i%r,i=i/r>>>0,p=4294967296*d+s,s=p/r>>>0,f=""+(p-r*s),s===0&&i===0)return u+f+l;for(m="",y=6-f.length,g=0;g<y;g++)m+="0";l=m+f+l}{if(d=i%r,i=i/r>>>0,p=4294967296*d+s,s=p/r>>>0,f=""+(p-r*s),s===0&&i===0)return u+f+l;for(m="",y=6-f.length,g=0;g<y;g++)m+="0";l=m+f+l}return d=i%r,p=4294967296*d+s,f=""+p%r,u+f+l}a(n,"ru"),I(n,"readInt8"),t.exports=n}),bY=rt((e,t)=>{Ce();var r=_Y(),n=I(function(h,v,S,b,w){S=S||0,b=b||!1,w=w||function(X,G,B){return X*Math.pow(2,B)+G};var k=S>>3,$=I(function(X){return b?~X&255:X},"inv"),C=255,A=8-S%8;v<A&&(C=255<<8-v&255,A=v),S&&(C=C>>S%8);var R=0;S%8+v>=8&&(R=w(0,$(h[k])&C,A));for(var O=v+S>>3,z=k+1;z<O;z++)R=w(R,$(h[z]),8);var D=(v+S)%8;return D>0&&(R=w(R,$(h[O])>>8-D,D)),R},"parseBits"),o=I(function(h,v,S){var b=Math.pow(2,S-1)-1,w=n(h,1),k=n(h,S,1);if(k===0)return 0;var $=1,C=I(function(R,O,z){R===0&&(R=1);for(var D=1;D<=z;D++)$/=2,(O&1<<z-D)>0&&(R+=$);return R},"parsePrecisionBits"),A=n(h,v,S+1,!1,C);return k==Math.pow(2,S+1)-1?A===0?w===0?1/0:-1/0:NaN:(w===0?1:-1)*Math.pow(2,k-b)*A},"parseFloatFromBits"),i=I(function(h){return n(h,1)==1?-1*(n(h,15,1,!0)+1):n(h,15,1)},"parseInt16"),s=I(function(h){return n(h,1)==1?-1*(n(h,31,1,!0)+1):n(h,31,1)},"parseInt32"),u=I(function(h){return o(h,23,8)},"parseFloat32"),l=I(function(h){return o(h,52,11)},"parseFloat64"),d=I(function(h){var v=n(h,16,32);if(v==49152)return NaN;for(var S=Math.pow(1e4,n(h,16,16)),b=0,w=[],k=n(h,16),$=0;$<k;$++)b+=n(h,16,64+16*$)*S,S/=1e4;var C=Math.pow(10,n(h,16,48));return(v===0?1:-1)*Math.round(b*C)/C},"parseNumeric"),p=I(function(h,v){var S=n(v,1),b=n(v,63,1),w=new Date((S===0?1:-1)*b/1e3+9466848e5);return h||w.setTime(w.getTime()+w.getTimezoneOffset()*6e4),w.usec=b%1e3,w.getMicroSeconds=function(){return this.usec},w.setMicroSeconds=function(k){this.usec=k},w.getUTCMicroSeconds=function(){return this.usec},w},"parseDate"),f=I(function(h){for(var v=n(h,32),S=n(h,32,32),b=n(h,32,64),w=96,k=[],$=0;$<v;$++)k[$]=n(h,32,w),w+=32,w+=32;var C=I(function(R){var O=n(h,32,w);if(w+=32,O==4294967295)return null;var z;if(R==23||R==20)return z=n(h,O*8,w),w+=O*8,z;if(R==25)return z=h.toString(this.encoding,w>>3,(w+=O<<3)>>3),z;console.log("ERROR: ElementType not implemented: "+R)},"parseElement"),A=I(function(R,O){var z=[],D;if(R.length>1){var X=R.shift();for(D=0;D<X;D++)z[D]=A(R,O);R.unshift(X)}else for(D=0;D<R[0];D++)z[D]=C(O);return z},"parse");return A(k,b)},"parseArray"),m=I(function(h){return h.toString("utf8")},"parseText"),y=I(function(h){return h===null?null:n(h,8)>0},"parseBool"),g=I(function(h){h(20,r),h(21,i),h(23,s),h(26,s),h(1700,d),h(700,u),h(701,l),h(16,y),h(1114,p.bind(null,!1)),h(1184,p.bind(null,!0)),h(1e3,f),h(1007,f),h(1016,f),h(1008,f),h(1009,f),h(25,m)},"init");t.exports={init:g}}),SY=rt((e,t)=>{Ce(),t.exports={BOOL:16,BYTEA:17,CHAR:18,INT8:20,INT2:21,INT4:23,REGPROC:24,TEXT:25,OID:26,TID:27,XID:28,CID:29,JSON:114,XML:142,PG_NODE_TREE:194,SMGR:210,PATH:602,POLYGON:604,CIDR:650,FLOAT4:700,FLOAT8:701,ABSTIME:702,RELTIME:703,TINTERVAL:704,CIRCLE:718,MACADDR8:774,MONEY:790,MACADDR:829,INET:869,ACLITEM:1033,BPCHAR:1042,VARCHAR:1043,DATE:1082,TIME:1083,TIMESTAMP:1114,TIMESTAMPTZ:1184,INTERVAL:1186,TIMETZ:1266,BIT:1560,VARBIT:1562,NUMERIC:1700,REFCURSOR:1790,REGPROCEDURE:2202,REGOPER:2203,REGOPERATOR:2204,REGCLASS:2205,REGTYPE:2206,UUID:2950,TXID_SNAPSHOT:2970,PG_LSN:3220,PG_NDISTINCT:3361,PG_DEPENDENCIES:3402,TSVECTOR:3614,TSQUERY:3615,GTSVECTOR:3642,REGCONFIG:3734,REGDICTIONARY:3769,JSONB:3802,REGNAMESPACE:4089,REGROLE:4096}}),Sf=rt(e=>{Ce();var t=vY(),r=bY(),n=hj(),o=SY();e.getTypeParser=u,e.setTypeParser=l,e.arrayParser=n,e.builtins=o;var i={text:{},binary:{}};function s(d){return String(d)}a(s,"Ji"),I(s,"noParse");function u(d,p){return p=p||"text",i[p]&&i[p][d]||s}a(u,"yu"),I(u,"getTypeParser");function l(d,p,f){typeof p=="function"&&(f=p,p="text"),i[p][d]=f}a(l,"mu"),I(l,"setTypeParser"),t.init(function(d,p){i.text[d]=p}),r.init(function(d,p){i.binary[d]=p})}),wT=rt((e,t)=>{"use strict";Ce();var r=Sf();function n(o){this._types=o||r,this.text={},this.binary={}}a(n,"Et"),I(n,"TypeOverrides"),n.prototype.getOverrides=function(o){switch(o){case"text":return this.text;case"binary":return this.binary;default:return{}}},n.prototype.setTypeParser=function(o,i,s){typeof i=="function"&&(s=i,i="text"),this.getOverrides(i)[o]=s},n.prototype.getTypeParser=function(o,i){return i=i||"text",this.getOverrides(i)[o]||this._types.getTypeParser(o,i)},t.exports=n});a(Ll,"Xe");wY=bn(()=>{"use strict";Ce(),I(Ll,"sha256")}),xY=bn(()=>{"use strict";Ce(),xi=class Kn{static{a(this,"U")}constructor(){Je(this,"_dataLength",0),Je(this,"_bufferLength",0),Je(this,"_state",new Int32Array(4)),Je(this,"_buffer",new ArrayBuffer(68)),Je(this,"_buffer8"),Je(this,"_buffer32"),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashByteArray(t,r=!1){return this.onePassHasher.start().appendByteArray(t).end(r)}static hashStr(t,r=!1){return this.onePassHasher.start().appendStr(t).end(r)}static hashAsciiStr(t,r=!1){return this.onePassHasher.start().appendAsciiStr(t).end(r)}static _hex(t){let r=Kn.hexChars,n=Kn.hexOut,o,i,s,u;for(u=0;u<4;u+=1)for(i=u*8,o=t[u],s=0;s<8;s+=2)n[i+1+s]=r.charAt(o&15),o>>>=4,n[i+0+s]=r.charAt(o&15),o>>>=4;return n.join("")}static _md5cycle(t,r){let n=t[0],o=t[1],i=t[2],s=t[3];n+=(o&i|~o&s)+r[0]-680876936|0,n=(n<<7|n>>>25)+o|0,s+=(n&o|~n&i)+r[1]-389564586|0,s=(s<<12|s>>>20)+n|0,i+=(s&n|~s&o)+r[2]+606105819|0,i=(i<<17|i>>>15)+s|0,o+=(i&s|~i&n)+r[3]-1044525330|0,o=(o<<22|o>>>10)+i|0,n+=(o&i|~o&s)+r[4]-176418897|0,n=(n<<7|n>>>25)+o|0,s+=(n&o|~n&i)+r[5]+1200080426|0,s=(s<<12|s>>>20)+n|0,i+=(s&n|~s&o)+r[6]-1473231341|0,i=(i<<17|i>>>15)+s|0,o+=(i&s|~i&n)+r[7]-45705983|0,o=(o<<22|o>>>10)+i|0,n+=(o&i|~o&s)+r[8]+1770035416|0,n=(n<<7|n>>>25)+o|0,s+=(n&o|~n&i)+r[9]-1958414417|0,s=(s<<12|s>>>20)+n|0,i+=(s&n|~s&o)+r[10]-42063|0,i=(i<<17|i>>>15)+s|0,o+=(i&s|~i&n)+r[11]-1990404162|0,o=(o<<22|o>>>10)+i|0,n+=(o&i|~o&s)+r[12]+1804603682|0,n=(n<<7|n>>>25)+o|0,s+=(n&o|~n&i)+r[13]-40341101|0,s=(s<<12|s>>>20)+n|0,i+=(s&n|~s&o)+r[14]-1502002290|0,i=(i<<17|i>>>15)+s|0,o+=(i&s|~i&n)+r[15]+1236535329|0,o=(o<<22|o>>>10)+i|0,n+=(o&s|i&~s)+r[1]-165796510|0,n=(n<<5|n>>>27)+o|0,s+=(n&i|o&~i)+r[6]-1069501632|0,s=(s<<9|s>>>23)+n|0,i+=(s&o|n&~o)+r[11]+643717713|0,i=(i<<14|i>>>18)+s|0,o+=(i&n|s&~n)+r[0]-373897302|0,o=(o<<20|o>>>12)+i|0,n+=(o&s|i&~s)+r[5]-701558691|0,n=(n<<5|n>>>27)+o|0,s+=(n&i|o&~i)+r[10]+38016083|0,s=(s<<9|s>>>23)+n|0,i+=(s&o|n&~o)+r[15]-660478335|0,i=(i<<14|i>>>18)+s|0,o+=(i&n|s&~n)+r[4]-405537848|0,o=(o<<20|o>>>12)+i|0,n+=(o&s|i&~s)+r[9]+568446438|0,n=(n<<5|n>>>27)+o|0,s+=(n&i|o&~i)+r[14]-1019803690|0,s=(s<<9|s>>>23)+n|0,i+=(s&o|n&~o)+r[3]-187363961|0,i=(i<<14|i>>>18)+s|0,o+=(i&n|s&~n)+r[8]+1163531501|0,o=(o<<20|o>>>12)+i|0,n+=(o&s|i&~s)+r[13]-1444681467|0,n=(n<<5|n>>>27)+o|0,s+=(n&i|o&~i)+r[2]-51403784|0,s=(s<<9|s>>>23)+n|0,i+=(s&o|n&~o)+r[7]+1735328473|0,i=(i<<14|i>>>18)+s|0,o+=(i&n|s&~n)+r[12]-1926607734|0,o=(o<<20|o>>>12)+i|0,n+=(o^i^s)+r[5]-378558|0,n=(n<<4|n>>>28)+o|0,s+=(n^o^i)+r[8]-2022574463|0,s=(s<<11|s>>>21)+n|0,i+=(s^n^o)+r[11]+1839030562|0,i=(i<<16|i>>>16)+s|0,o+=(i^s^n)+r[14]-35309556|0,o=(o<<23|o>>>9)+i|0,n+=(o^i^s)+r[1]-1530992060|0,n=(n<<4|n>>>28)+o|0,s+=(n^o^i)+r[4]+1272893353|0,s=(s<<11|s>>>21)+n|0,i+=(s^n^o)+r[7]-155497632|0,i=(i<<16|i>>>16)+s|0,o+=(i^s^n)+r[10]-1094730640|0,o=(o<<23|o>>>9)+i|0,n+=(o^i^s)+r[13]+681279174|0,n=(n<<4|n>>>28)+o|0,s+=(n^o^i)+r[0]-358537222|0,s=(s<<11|s>>>21)+n|0,i+=(s^n^o)+r[3]-722521979|0,i=(i<<16|i>>>16)+s|0,o+=(i^s^n)+r[6]+76029189|0,o=(o<<23|o>>>9)+i|0,n+=(o^i^s)+r[9]-640364487|0,n=(n<<4|n>>>28)+o|0,s+=(n^o^i)+r[12]-421815835|0,s=(s<<11|s>>>21)+n|0,i+=(s^n^o)+r[15]+530742520|0,i=(i<<16|i>>>16)+s|0,o+=(i^s^n)+r[2]-995338651|0,o=(o<<23|o>>>9)+i|0,n+=(i^(o|~s))+r[0]-198630844|0,n=(n<<6|n>>>26)+o|0,s+=(o^(n|~i))+r[7]+1126891415|0,s=(s<<10|s>>>22)+n|0,i+=(n^(s|~o))+r[14]-1416354905|0,i=(i<<15|i>>>17)+s|0,o+=(s^(i|~n))+r[5]-57434055|0,o=(o<<21|o>>>11)+i|0,n+=(i^(o|~s))+r[12]+1700485571|0,n=(n<<6|n>>>26)+o|0,s+=(o^(n|~i))+r[3]-1894986606|0,s=(s<<10|s>>>22)+n|0,i+=(n^(s|~o))+r[10]-1051523|0,i=(i<<15|i>>>17)+s|0,o+=(s^(i|~n))+r[1]-2054922799|0,o=(o<<21|o>>>11)+i|0,n+=(i^(o|~s))+r[8]+1873313359|0,n=(n<<6|n>>>26)+o|0,s+=(o^(n|~i))+r[15]-30611744|0,s=(s<<10|s>>>22)+n|0,i+=(n^(s|~o))+r[6]-1560198380|0,i=(i<<15|i>>>17)+s|0,o+=(s^(i|~n))+r[13]+1309151649|0,o=(o<<21|o>>>11)+i|0,n+=(i^(o|~s))+r[4]-145523070|0,n=(n<<6|n>>>26)+o|0,s+=(o^(n|~i))+r[11]-1120210379|0,s=(s<<10|s>>>22)+n|0,i+=(n^(s|~o))+r[2]+718787259|0,i=(i<<15|i>>>17)+s|0,o+=(s^(i|~n))+r[9]-343485551|0,o=(o<<21|o>>>11)+i|0,t[0]=n+t[0]|0,t[1]=o+t[1]|0,t[2]=i+t[2]|0,t[3]=s+t[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(Kn.stateIdentity),this}appendStr(t){let r=this._buffer8,n=this._buffer32,o=this._bufferLength,i,s;for(s=0;s<t.length;s+=1){if(i=t.charCodeAt(s),i<128)r[o++]=i;else if(i<2048)r[o++]=(i>>>6)+192,r[o++]=i&63|128;else if(i<55296||i>56319)r[o++]=(i>>>12)+224,r[o++]=i>>>6&63|128,r[o++]=i&63|128;else{if(i=(i-55296)*1024+(t.charCodeAt(++s)-56320)+65536,i>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");r[o++]=(i>>>18)+240,r[o++]=i>>>12&63|128,r[o++]=i>>>6&63|128,r[o++]=i&63|128}o>=64&&(this._dataLength+=64,Kn._md5cycle(this._state,n),o-=64,n[0]=n[16])}return this._bufferLength=o,this}appendAsciiStr(t){let r=this._buffer8,n=this._buffer32,o=this._bufferLength,i,s=0;for(;;){for(i=Math.min(t.length-s,64-o);i--;)r[o++]=t.charCodeAt(s++);if(o<64)break;this._dataLength+=64,Kn._md5cycle(this._state,n),o=0}return this._bufferLength=o,this}appendByteArray(t){let r=this._buffer8,n=this._buffer32,o=this._bufferLength,i,s=0;for(;;){for(i=Math.min(t.length-s,64-o);i--;)r[o++]=t[s++];if(o<64)break;this._dataLength+=64,Kn._md5cycle(this._state,n),o=0}return this._bufferLength=o,this}getState(){let t=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[t[0],t[1],t[2],t[3]]}}setState(t){let r=t.buffer,n=t.state,o=this._state,i;for(this._dataLength=t.length,this._bufferLength=t.buflen,o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=n[3],i=0;i<r.length;i+=1)this._buffer8[i]=r.charCodeAt(i)}end(t=!1){let r=this._bufferLength,n=this._buffer8,o=this._buffer32,i=(r>>2)+1;this._dataLength+=r;let s=this._dataLength*8;if(n[r]=128,n[r+1]=n[r+2]=n[r+3]=0,o.set(Kn.buffer32Identity.subarray(i),i),r>55&&(Kn._md5cycle(this._state,o),o.set(Kn.buffer32Identity)),s<=4294967295)o[14]=s;else{let u=s.toString(16).match(/(.*?)(.{0,8})$/);if(u===null)return;let l=parseInt(u[2],16),d=parseInt(u[1],16)||0;o[14]=l,o[15]=d}return Kn._md5cycle(this._state,o),t?this._state:Kn._hex(this._state)}},I(xi,"Md5"),Je(xi,"stateIdentity",new Int32Array([1732584193,-271733879,-1732584194,271733878])),Je(xi,"buffer32Identity",new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),Je(xi,"hexChars","0123456789abcdef"),Je(xi,"hexOut",[]),Je(xi,"onePassHasher",new xi),yT=xi}),xT={};yo(xT,{createHash:a(()=>yj,"createHash"),createHmac:a(()=>vj,"createHmac"),randomBytes:a(()=>gj,"randomBytes")});a(gj,"gu");a(yj,"bu");a(vj,"vu");_j=bn(()=>{"use strict";Ce(),wY(),xY(),I(gj,"randomBytes"),I(yj,"createHash"),I(vj,"createHmac")}),wf=rt((e,t)=>{"use strict";Ce(),t.exports={host:"localhost",user:tt.platform==="win32"?tt.env.USERNAME:tt.env.USER,database:void 0,password:null,connectionString:void 0,port:5432,rows:0,binary:!1,max:10,idleTimeoutMillis:3e4,client_encoding:"",ssl:!1,application_name:void 0,fallback_application_name:void 0,options:void 0,parseInputDatesAsUTC:!1,statement_timeout:!1,lock_timeout:!1,idle_in_transaction_session_timeout:!1,query_timeout:!1,connect_timeout:0,keepalives:1,keepalives_idle:0};var r=Sf(),n=r.getTypeParser(20,"text"),o=r.getTypeParser(1016,"text");t.exports.__defineSetter__("parseInt8",function(i){r.setTypeParser(20,"text",i?r.getTypeParser(23,"text"):n),r.setTypeParser(1016,"text",i?r.getTypeParser(1007,"text"):o)})}),xf=rt((e,t)=>{"use strict";Ce();var r=(_j(),Or(xT)),n=wf();function o(g){var h=g.replace(/\\/g,"\\\\").replace(/"/g,'\\"');return'"'+h+'"'}a(o,"Cu"),I(o,"escapeElement");function i(g){for(var h="{",v=0;v<g.length;v++)v>0&&(h=h+","),g[v]===null||typeof g[v]>"u"?h=h+"NULL":Array.isArray(g[v])?h=h+i(g[v]):g[v]instanceof Fe?h+="\\\\x"+g[v].toString("hex"):h+=o(s(g[v]));return h=h+"}",h}a(i,"rs"),I(i,"arrayString");var s=I(function(g,h){if(g==null)return null;if(g instanceof Fe)return g;if(ArrayBuffer.isView(g)){var v=Fe.from(g.buffer,g.byteOffset,g.byteLength);return v.length===g.byteLength?v:v.slice(g.byteOffset,g.byteOffset+g.byteLength)}return g instanceof Date?n.parseInputDatesAsUTC?p(g):d(g):Array.isArray(g)?i(g):typeof g=="object"?u(g,h):g.toString()},"prepareValue");function u(g,h){if(g&&typeof g.toPostgres=="function"){if(h=h||[],h.indexOf(g)!==-1)throw new Error('circular reference detected while preparing "'+g+'" for query');return h.push(g),s(g.toPostgres(s),h)}return JSON.stringify(g)}a(u,"_u"),I(u,"prepareObject");function l(g,h){for(g=""+g;g.length<h;)g="0"+g;return g}a(l,"N"),I(l,"pad");function d(g){var h=-g.getTimezoneOffset(),v=g.getFullYear(),S=v<1;S&&(v=Math.abs(v)+1);var b=l(v,4)+"-"+l(g.getMonth()+1,2)+"-"+l(g.getDate(),2)+"T"+l(g.getHours(),2)+":"+l(g.getMinutes(),2)+":"+l(g.getSeconds(),2)+"."+l(g.getMilliseconds(),3);return h<0?(b+="-",h*=-1):b+="+",b+=l(Math.floor(h/60),2)+":"+l(h%60,2),S&&(b+=" BC"),b}a(d,"Iu"),I(d,"dateToString");function p(g){var h=g.getUTCFullYear(),v=h<1;v&&(h=Math.abs(h)+1);var S=l(h,4)+"-"+l(g.getUTCMonth()+1,2)+"-"+l(g.getUTCDate(),2)+"T"+l(g.getUTCHours(),2)+":"+l(g.getUTCMinutes(),2)+":"+l(g.getUTCSeconds(),2)+"."+l(g.getUTCMilliseconds(),3);return S+="+00:00",v&&(S+=" BC"),S}a(p,"Tu"),I(p,"dateToStringUTC");function f(g,h,v){return g=typeof g=="string"?{text:g}:g,h&&(typeof h=="function"?g.callback=h:g.values=h),v&&(g.callback=v),g}a(f,"Pu"),I(f,"normalizeQueryConfig");var m=I(function(g){return r.createHash("md5").update(g,"utf-8").digest("hex")},"md5"),y=I(function(g,h,v){var S=m(h+g),b=m(Fe.concat([Fe.from(S),v]));return"md5"+b},"postgresMd5PasswordHash");t.exports={prepareValue:I(function(g){return s(g)},"prepareValueWrapper"),normalizeQueryConfig:f,postgresMd5PasswordHash:y,md5:m}}),Bl={};yo(Bl,{default:a(()=>bj,"default")});Tf=bn(()=>{"use strict";Ce(),bj={}}),TY=rt((e,t)=>{"use strict";Ce();var r=(_j(),Or(xT));function n(h){if(h.indexOf("SCRAM-SHA-256")===-1)throw new Error("SASL: Only mechanism SCRAM-SHA-256 is currently supported");let v=r.randomBytes(18).toString("base64");return{mechanism:"SCRAM-SHA-256",clientNonce:v,response:"n,,n=*,r="+v,message:"SASLInitialResponse"}}a(n,"Mu"),I(n,"startSession");function o(h,v,S){if(h.message!=="SASLInitialResponse")throw new Error("SASL: Last message was not SASLInitialResponse");if(typeof v!="string")throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string");if(typeof S!="string")throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: serverData must be a string");let b=d(S);if(b.nonce.startsWith(h.clientNonce)){if(b.nonce.length===h.clientNonce.length)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");var w=Fe.from(b.salt,"base64"),k=g(v,w,b.iteration),$=y(k,"Client Key"),C=m($),A="n=*,r="+h.clientNonce,R="r="+b.nonce+",s="+b.salt+",i="+b.iteration,O="c=biws,r="+b.nonce,z=A+","+R+","+O,D=y(C,z),X=f($,D),G=X.toString("base64"),B=y(k,"Server Key"),te=y(B,z);h.message="SASLResponse",h.serverSignature=te.toString("base64"),h.response=O+",p="+G}a(o,"Uu"),I(o,"continueSession");function i(h,v){if(h.message!=="SASLResponse")throw new Error("SASL: Last message was not SASLResponse");if(typeof v!="string")throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: serverData must be a string");let{serverSignature:S}=p(v);if(S!==h.serverSignature)throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature does not match")}a(i,"Du"),I(i,"finalizeSession");function s(h){if(typeof h!="string")throw new TypeError("SASL: text must be a string");return h.split("").map((v,S)=>h.charCodeAt(S)).every(v=>v>=33&&v<=43||v>=45&&v<=126)}a(s,"Ou"),I(s,"isPrintableChars");function u(h){return/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(h)}a(u,"ls"),I(u,"isBase64");function l(h){if(typeof h!="string")throw new TypeError("SASL: attribute pairs text must be a string");return new Map(h.split(",").map(v=>{if(!/^.=/.test(v))throw new Error("SASL: Invalid attribute pair entry");let S=v[0],b=v.substring(2);return[S,b]}))}a(l,"fs"),I(l,"parseAttributePairs");function d(h){let v=l(h),S=v.get("r");if(S){if(!s(S))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce must only contain printable characters")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing");let b=v.get("s");if(b){if(!u(b))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt must be base64")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing");let w=v.get("i");if(w){if(!/^[1-9][0-9]*$/.test(w))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: invalid iteration count")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: iteration missing");let k=parseInt(w,10);return{nonce:S,salt:b,iteration:k}}a(d,"qu"),I(d,"parseServerFirstMessage");function p(h){let v=l(h).get("v");if(v){if(!u(v))throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature must be base64")}else throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature is missing");return{serverSignature:v}}a(p,"Qu"),I(p,"parseServerFinalMessage");function f(h,v){if(!Fe.isBuffer(h))throw new TypeError("first argument must be a Buffer");if(!Fe.isBuffer(v))throw new TypeError("second argument must be a Buffer");if(h.length!==v.length)throw new Error("Buffer lengths must match");if(h.length===0)throw new Error("Buffers cannot be empty");return Fe.from(h.map((S,b)=>h[b]^v[b]))}a(f,"hs"),I(f,"xorBuffers");function m(h){return r.createHash("sha256").update(h).digest()}a(m,"Nu"),I(m,"sha256");function y(h,v){return r.createHmac("sha256",h).update(v).digest()}a(y,"Ue"),I(y,"hmacSha256");function g(h,v,S){for(var b=y(h,Fe.concat([v,Fe.from([0,0,0,1])])),w=b,k=0;k<S-1;k++)b=y(h,b),w=f(w,b);return w}a(g,"Wu"),I(g,"Hi"),t.exports={startSession:n,continueSession:o,finalizeSession:i}}),TT={};yo(TT,{join:a(()=>Sj,"join")});a(Sj,"ju");wj=bn(()=>{"use strict";Ce(),I(Sj,"join")}),ET={};yo(ET,{stat:a(()=>xj,"stat")});a(xj,"Hu");Tj=bn(()=>{"use strict";Ce(),I(xj,"stat")}),kT={};yo(kT,{default:a(()=>Ej,"default")});kj=bn(()=>{"use strict";Ce(),Ej={}}),Pj={};yo(Pj,{StringDecoder:a(()=>Ij,"StringDecoder")});EY=bn(()=>{"use strict";Ce(),gT=class{static{a(this,"Er")}constructor(t){Je(this,"td"),this.td=new TextDecoder(t)}write(t){return this.td.decode(t,{stream:!0})}end(t){return this.td.decode(t)}},I(gT,"StringDecoder"),Ij=gT}),kY=rt((e,t)=>{"use strict";Ce();var{Transform:r}=(kj(),Or(kT)),{StringDecoder:n}=(EY(),Or(Pj)),o=Symbol("last"),i=Symbol("decoder");function s(f,m,y){let g;if(this.overflow){if(g=this[i].write(f).split(this.matcher),g.length===1)return y();g.shift(),this.overflow=!1}else this[o]+=this[i].write(f),g=this[o].split(this.matcher);this[o]=g.pop();for(let h=0;h<g.length;h++)try{l(this,this.mapper(g[h]))}catch(v){return y(v)}if(this.overflow=this[o].length>this.maxLength,this.overflow&&!this.skipOverflow){y(new Error("maximum buffer reached"));return}y()}a(s,"zu"),I(s,"transform");function u(f){if(this[o]+=this[i].end(),this[o])try{l(this,this.mapper(this[o]))}catch(m){return f(m)}f()}a(u,"Ku"),I(u,"flush");function l(f,m){m!==void 0&&f.push(m)}a(l,"gs"),I(l,"push");function d(f){return f}a(d,"ws"),I(d,"noop");function p(f,m,y){switch(f=f||/\r?\n/,m=m||d,y=y||{},arguments.length){case 1:typeof f=="function"?(m=f,f=/\r?\n/):typeof f=="object"&&!(f instanceof RegExp)&&!f[Symbol.split]&&(y=f,f=/\r?\n/);break;case 2:typeof f=="function"?(y=m,m=f,f=/\r?\n/):typeof m=="object"&&(y=m,m=d)}y=Object.assign({},y),y.autoDestroy=!0,y.transform=s,y.flush=u,y.readableObjectMode=!0;let g=new r(y);return g[o]="",g[i]=new n("utf8"),g.matcher=f,g.mapper=m,g.maxLength=y.maxLength,g.skipOverflow=y.skipOverflow||!1,g.overflow=!1,g._destroy=function(h,v){this._writableState.errorEmitted=!1,v(h)},g}a(p,"Yu"),I(p,"split"),t.exports=p}),PY=rt((e,t)=>{"use strict";Ce();var r=(wj(),Or(TT)),n=(kj(),Or(kT)).Stream,o=kY(),i=(Tf(),Or(Bl)),s=5432,u=tt.platform==="win32",l=tt.stderr,d=56,p=7,f=61440,m=32768;function y($){return($&f)==m}a(y,"ic"),I(y,"isRegFile");var g=["host","port","database","user","password"],h=g.length,v=g[h-1];function S(){var $=l instanceof n&&l.writable===!0;if($){var C=Array.prototype.slice.call(arguments).concat(`
`);l.write(i.format.apply(i,C))}}a(S,"Cr"),I(S,"warn"),Object.defineProperty(t.exports,"isWin",{get:I(function(){return u},"get"),set:I(function($){u=$},"set")}),t.exports.warnTo=function($){var C=l;return l=$,C},t.exports.getFileName=function($){var C=$||tt.env,A=C.PGPASSFILE||(u?r.join(C.APPDATA||"./","postgresql","pgpass.conf"):r.join(C.HOME||"./",".pgpass"));return A},t.exports.usePgPass=function($,C){return Object.prototype.hasOwnProperty.call(tt.env,"PGPASSWORD")?!1:u?!0:(C=C||"<unkn>",y($.mode)?$.mode&(d|p)?(S('WARNING: password file "%s" has group or world access; permissions should be u=rw (0600) or less',C),!1):!0:(S('WARNING: password file "%s" is not a plain file',C),!1))};var b=t.exports.match=function($,C){return g.slice(0,-1).reduce(function(A,R,O){return O==1&&Number($[R]||s)===Number(C[R])?A&&!0:A&&(C[R]==="*"||C[R]===$[R])},!0)};t.exports.getPassword=function($,C,A){var R,O=C.pipe(o());function z(G){var B=w(G);B&&k(B)&&b($,B)&&(R=B[v],O.end())}a(z,"s"),I(z,"onLine");var D=I(function(){C.destroy(),A(R)},"onEnd"),X=I(function(G){C.destroy(),S("WARNING: error on reading file: %s",G),A(void 0)},"onErr");C.on("error",X),O.on("data",z).on("end",D).on("error",X)};var w=t.exports.parseLine=function($){if($.length<11||$.match(/^\s+#/))return null;for(var C="",A="",R=0,O=0,z=0,D={},X=!1,G=I(function(te,ne,ae){var Se=$.substring(ne,ae);Object.hasOwnProperty.call(tt.env,"PGPASS_NO_DEESCAPE")||(Se=Se.replace(/\\([:\\])/g,"$1")),D[g[te]]=Se},"addToObj"),B=0;B<$.length-1;B+=1){if(C=$.charAt(B+1),A=$.charAt(B),X=R==h-1,X){G(R,O);break}B>=0&&C==":"&&A!=="\\"&&(G(R,O,B+1),O=B+2,R+=1)}return D=Object.keys(D).length===h?D:null,D},k=t.exports.isValidEntry=function($){for(var C={0:function(D){return D.length>0},1:function(D){return D==="*"?!0:(D=Number(D),isFinite(D)&&D>0&&D<9007199254740992&&Math.floor(D)===D)},2:function(D){return D.length>0},3:function(D){return D.length>0},4:function(D){return D.length>0}},A=0;A<g.length;A+=1){var R=C[A],O=$[g[A]]||"",z=R(O);if(!z)return!1}return!0}}),IY=rt((e,t)=>{"use strict";Ce();var r=(wj(),Or(TT)),n=(Tj(),Or(ET)),o=PY();t.exports=function(i,s){var u=o.getFileName();n.stat(u,function(l,d){if(l||!o.usePgPass(d,u))return s(void 0);var p=n.createReadStream(u);o.getPassword(i,p,s)})},t.exports.warnTo=o.warnTo}),Oj={};yo(Oj,{default:a(()=>Aj,"default")});OY=bn(()=>{"use strict";Ce(),Aj={}}),AY=rt((e,t)=>{"use strict";Ce();var r=(pj(),Or(dj)),n=(Tj(),Or(ET));function o(i){if(i.charAt(0)==="/"){var u=i.split(" ");return{host:u[0],database:u[1]}}var s=r.parse(/ |%[^a-f0-9]|%[a-f0-9][^a-f0-9]/i.test(i)?encodeURI(i).replace(/\%25(\d\d)/g,"%$1"):i,!0),u=s.query;for(var l in u)Array.isArray(u[l])&&(u[l]=u[l][u[l].length-1]);var d=(s.auth||":").split(":");if(u.user=d[0],u.password=d.splice(1).join(":"),u.port=s.port,s.protocol=="socket:")return u.host=decodeURI(s.pathname),u.database=s.query.db,u.client_encoding=s.query.encoding,u;u.host||(u.host=s.hostname);var p=s.pathname;if(!u.host&&p&&/^%2f/i.test(p)){var f=p.split("/");u.host=decodeURIComponent(f[0]),p=f.splice(1).join("/")}switch(p&&p.charAt(0)==="/"&&(p=p.slice(1)||null),u.database=p&&decodeURI(p),(u.ssl==="true"||u.ssl==="1")&&(u.ssl=!0),u.ssl==="0"&&(u.ssl=!1),(u.sslcert||u.sslkey||u.sslrootcert||u.sslmode)&&(u.ssl={}),u.sslcert&&(u.ssl.cert=n.readFileSync(u.sslcert).toString()),u.sslkey&&(u.ssl.key=n.readFileSync(u.sslkey).toString()),u.sslrootcert&&(u.ssl.ca=n.readFileSync(u.sslrootcert).toString()),u.sslmode){case"disable":{u.ssl=!1;break}case"prefer":case"require":case"verify-ca":case"verify-full":break;case"no-verify":{u.ssl.rejectUnauthorized=!1;break}}return u}a(o,"Tr"),I(o,"parse"),t.exports=o,o.parse=o}),PT=rt((e,t)=>{"use strict";Ce();var r=(OY(),Or(Oj)),n=wf(),o=AY().parse,i=I(function(f,m,y){return y===void 0?y=tt.env["PG"+f.toUpperCase()]:y===!1||(y=tt.env[y]),m[f]||y||n[f]},"val"),s=I(function(){switch(tt.env.PGSSLMODE){case"disable":return!1;case"prefer":case"require":case"verify-ca":case"verify-full":return!0;case"no-verify":return{rejectUnauthorized:!1}}return n.ssl},"readSSLConfigFromEnvironment"),u=I(function(f){return"'"+(""+f).replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"},"quoteParamValue"),l=I(function(f,m,y){var g=m[y];g!=null&&f.push(y+"="+u(g))},"add"),d=class{static{a(this,"Br")}constructor(m){m=typeof m=="string"?o(m):m||{},m.connectionString&&(m=Object.assign({},m,o(m.connectionString))),this.user=i("user",m),this.database=i("database",m),this.database===void 0&&(this.database=this.user),this.port=parseInt(i("port",m),10),this.host=i("host",m),Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:i("password",m)}),this.binary=i("binary",m),this.options=i("options",m),this.ssl=typeof m.ssl>"u"?s():m.ssl,typeof this.ssl=="string"&&this.ssl==="true"&&(this.ssl=!0),this.ssl==="no-verify"&&(this.ssl={rejectUnauthorized:!1}),this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this.client_encoding=i("client_encoding",m),this.replication=i("replication",m),this.isDomainSocket=!(this.host||"").indexOf("/"),this.application_name=i("application_name",m,"PGAPPNAME"),this.fallback_application_name=i("fallback_application_name",m,!1),this.statement_timeout=i("statement_timeout",m,!1),this.lock_timeout=i("lock_timeout",m,!1),this.idle_in_transaction_session_timeout=i("idle_in_transaction_session_timeout",m,!1),this.query_timeout=i("query_timeout",m,!1),m.connectionTimeoutMillis===void 0?this.connect_timeout=tt.env.PGCONNECT_TIMEOUT||0:this.connect_timeout=Math.floor(m.connectionTimeoutMillis/1e3),m.keepAlive===!1?this.keepalives=0:m.keepAlive===!0&&(this.keepalives=1),typeof m.keepAliveInitialDelayMillis=="number"&&(this.keepalives_idle=Math.floor(m.keepAliveInitialDelayMillis/1e3))}getLibpqConnectionString(m){var y=[];l(y,this,"user"),l(y,this,"password"),l(y,this,"port"),l(y,this,"application_name"),l(y,this,"fallback_application_name"),l(y,this,"connect_timeout"),l(y,this,"options");var g=typeof this.ssl=="object"?this.ssl:this.ssl?{sslmode:this.ssl}:{};if(l(y,g,"sslmode"),l(y,g,"sslca"),l(y,g,"sslkey"),l(y,g,"sslcert"),l(y,g,"sslrootcert"),this.database&&y.push("dbname="+u(this.database)),this.replication&&y.push("replication="+u(this.replication)),this.host&&y.push("host="+u(this.host)),this.isDomainSocket)return m(null,y.join(" "));this.client_encoding&&y.push("client_encoding="+u(this.client_encoding)),r.lookup(this.host,function(h,v){return h?m(h,null):(y.push("hostaddr="+u(v)),m(null,y.join(" ")))})}};I(d,"ConnectionParameters");var p=d;t.exports=p}),CY=rt((e,t)=>{"use strict";Ce();var r=Sf(),n=/^([A-Za-z]+)(?: (\d+))?(?: (\d+))?/,o=class{static{a(this,"Lr")}constructor(u,l){this.command=null,this.rowCount=null,this.oid=null,this.rows=[],this.fields=[],this._parsers=void 0,this._types=l,this.RowCtor=null,this.rowAsArray=u==="array",this.rowAsArray&&(this.parseRow=this._parseRowAsArray)}addCommandComplete(u){var l;u.text?l=n.exec(u.text):l=n.exec(u.command),l&&(this.command=l[1],l[3]?(this.oid=parseInt(l[2],10),this.rowCount=parseInt(l[3],10)):l[2]&&(this.rowCount=parseInt(l[2],10)))}_parseRowAsArray(u){for(var l=new Array(u.length),d=0,p=u.length;d<p;d++){var f=u[d];f!==null?l[d]=this._parsers[d](f):l[d]=null}return l}parseRow(u){for(var l={},d=0,p=u.length;d<p;d++){var f=u[d],m=this.fields[d].name;f!==null?l[m]=this._parsers[d](f):l[m]=null}return l}addRow(u){this.rows.push(u)}addFields(u){this.fields=u,this.fields.length&&(this._parsers=new Array(u.length));for(var l=0;l<u.length;l++){var d=u[l];this._types?this._parsers[l]=this._types.getTypeParser(d.dataTypeID,d.format||"text"):this._parsers[l]=r.getTypeParser(d.dataTypeID,d.format||"text")}}};I(o,"Result");var i=o;t.exports=i}),RY=rt((e,t)=>{"use strict";Ce();var{EventEmitter:r}=ls(),n=CY(),o=xf(),i=class extends r{static{a(this,"kr")}constructor(l,d,p){super(),l=o.normalizeQueryConfig(l,d,p),this.text=l.text,this.values=l.values,this.rows=l.rows,this.types=l.types,this.name=l.name,this.binary=l.binary,this.portal=l.portal||"",this.callback=l.callback,this._rowMode=l.rowMode,tt.domain&&l.callback&&(this.callback=tt.domain.bind(l.callback)),this._result=new n(this._rowMode,this.types),this._results=this._result,this.isPreparedStatement=!1,this._canceledDueToError=!1,this._promise=null}requiresPreparation(){return this.name||this.rows?!0:!this.text||!this.values?!1:this.values.length>0}_checkForMultirow(){this._result.command&&(Array.isArray(this._results)||(this._results=[this._result]),this._result=new n(this._rowMode,this.types),this._results.push(this._result))}handleRowDescription(l){this._checkForMultirow(),this._result.addFields(l.fields),this._accumulateRows=this.callback||!this.listeners("row").length}handleDataRow(l){let d;if(!this._canceledDueToError){try{d=this._result.parseRow(l.fields)}catch(p){this._canceledDueToError=p;return}this.emit("row",d,this._result),this._accumulateRows&&this._result.addRow(d)}}handleCommandComplete(l,d){this._checkForMultirow(),this._result.addCommandComplete(l),this.rows&&d.sync()}handleEmptyQuery(l){this.rows&&l.sync()}handleError(l,d){if(this._canceledDueToError&&(l=this._canceledDueToError,this._canceledDueToError=!1),this.callback)return this.callback(l);this.emit("error",l)}handleReadyForQuery(l){if(this._canceledDueToError)return this.handleError(this._canceledDueToError,l);if(this.callback)try{this.callback(null,this._results)}catch(d){tt.nextTick(()=>{throw d})}this.emit("end",this._results)}submit(l){if(typeof this.text!="string"&&typeof this.name!="string")return new Error("A query must have either text or a name. Supplying neither is unsupported.");let d=l.parsedStatements[this.name];return this.text&&d&&this.text!==d?new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`):this.values&&!Array.isArray(this.values)?new Error("Query values must be an array"):(this.requiresPreparation()?this.prepare(l):l.query(this.text),null)}hasBeenParsed(l){return this.name&&l.parsedStatements[this.name]}handlePortalSuspended(l){this._getRows(l,this.rows)}_getRows(l,d){l.execute({portal:this.portal,rows:d}),d?l.flush():l.sync()}prepare(l){this.isPreparedStatement=!0,this.hasBeenParsed(l)||l.parse({text:this.text,name:this.name,types:this.types});try{l.bind({portal:this.portal,statement:this.name,values:this.values,binary:this.binary,valueMapper:o.prepareValue})}catch(d){this.handleError(d,l);return}l.describe({type:"P",name:this.portal||""}),this._getRows(l,this.rows)}handleCopyInResponse(l){l.sendCopyFail("No source stream defined")}handleCopyData(l,d){}};I(i,"Query");var s=i;t.exports=s}),Cj=rt(e=>{"use strict";Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.NoticeMessage=e.DataRowMessage=e.CommandCompleteMessage=e.ReadyForQueryMessage=e.NotificationResponseMessage=e.BackendKeyDataMessage=e.AuthenticationMD5Password=e.ParameterStatusMessage=e.ParameterDescriptionMessage=e.RowDescriptionMessage=e.Field=e.CopyResponse=e.CopyDataMessage=e.DatabaseError=e.copyDone=e.emptyQuery=e.replicationStart=e.portalSuspended=e.noData=e.closeComplete=e.bindComplete=e.parseComplete=void 0,e.parseComplete={name:"parseComplete",length:5},e.bindComplete={name:"bindComplete",length:5},e.closeComplete={name:"closeComplete",length:5},e.noData={name:"noData",length:5},e.portalSuspended={name:"portalSuspended",length:5},e.replicationStart={name:"replicationStart",length:4},e.emptyQuery={name:"emptyQuery",length:4},e.copyDone={name:"copyDone",length:4};var t=class extends Error{static{a(this,"Kr")}constructor(B,te,ne){super(B),this.length=te,this.name=ne}};I(t,"DatabaseError");var r=t;e.DatabaseError=r;var n=class{static{a(this,"Yr")}constructor(B,te){this.length=B,this.chunk=te,this.name="copyData"}};I(n,"CopyDataMessage");var o=n;e.CopyDataMessage=o;var i=class{static{a(this,"Zr")}constructor(B,te,ne,ae){this.length=B,this.name=te,this.binary=ne,this.columnTypes=new Array(ae)}};I(i,"CopyResponse");var s=i;e.CopyResponse=s;var u=class{static{a(this,"Jr")}constructor(B,te,ne,ae,Se,ke,et){this.name=B,this.tableID=te,this.columnID=ne,this.dataTypeID=ae,this.dataTypeSize=Se,this.dataTypeModifier=ke,this.format=et}};I(u,"Field");var l=u;e.Field=l;var d=class{static{a(this,"Xr")}constructor(B,te){this.length=B,this.fieldCount=te,this.name="rowDescription",this.fields=new Array(this.fieldCount)}};I(d,"RowDescriptionMessage");var p=d;e.RowDescriptionMessage=p;var f=class{static{a(this,"en")}constructor(B,te){this.length=B,this.parameterCount=te,this.name="parameterDescription",this.dataTypeIDs=new Array(this.parameterCount)}};I(f,"ParameterDescriptionMessage");var m=f;e.ParameterDescriptionMessage=m;var y=class{static{a(this,"tn")}constructor(B,te,ne){this.length=B,this.parameterName=te,this.parameterValue=ne,this.name="parameterStatus"}};I(y,"ParameterStatusMessage");var g=y;e.ParameterStatusMessage=g;var h=class{static{a(this,"rn")}constructor(B,te){this.length=B,this.salt=te,this.name="authenticationMD5Password"}};I(h,"AuthenticationMD5Password");var v=h;e.AuthenticationMD5Password=v;var S=class{static{a(this,"nn")}constructor(B,te,ne){this.length=B,this.processID=te,this.secretKey=ne,this.name="backendKeyData"}};I(S,"BackendKeyDataMessage");var b=S;e.BackendKeyDataMessage=b;var w=class{static{a(this,"sn")}constructor(B,te,ne,ae){this.length=B,this.processId=te,this.channel=ne,this.payload=ae,this.name="notification"}};I(w,"NotificationResponseMessage");var k=w;e.NotificationResponseMessage=k;var $=class{static{a(this,"on")}constructor(B,te){this.length=B,this.status=te,this.name="readyForQuery"}};I($,"ReadyForQueryMessage");var C=$;e.ReadyForQueryMessage=C;var A=class{static{a(this,"an")}constructor(B,te){this.length=B,this.text=te,this.name="commandComplete"}};I(A,"CommandCompleteMessage");var R=A;e.CommandCompleteMessage=R;var O=class{static{a(this,"un")}constructor(B,te){this.length=B,this.fields=te,this.name="dataRow",this.fieldCount=te.length}};I(O,"DataRowMessage");var z=O;e.DataRowMessage=z;var D=class{static{a(this,"cn")}constructor(B,te){this.length=B,this.message=te,this.name="notice"}};I(D,"NoticeMessage");var X=D;e.NoticeMessage=X}),$Y=rt(e=>{"use strict";Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.Writer=void 0;var t=class{static{a(this,"hn")}constructor(o=256){this.size=o,this.offset=5,this.headerPosition=0,this.buffer=Fe.allocUnsafe(o)}ensure(o){if(this.buffer.length-this.offset<o){let i=this.buffer,s=i.length+(i.length>>1)+o;this.buffer=Fe.allocUnsafe(s),i.copy(this.buffer)}}addInt32(o){return this.ensure(4),this.buffer[this.offset++]=o>>>24&255,this.buffer[this.offset++]=o>>>16&255,this.buffer[this.offset++]=o>>>8&255,this.buffer[this.offset++]=o>>>0&255,this}addInt16(o){return this.ensure(2),this.buffer[this.offset++]=o>>>8&255,this.buffer[this.offset++]=o>>>0&255,this}addCString(o){if(!o)this.ensure(1);else{let i=Fe.byteLength(o);this.ensure(i+1),this.buffer.write(o,this.offset,"utf-8"),this.offset+=i}return this.buffer[this.offset++]=0,this}addString(o=""){let i=Fe.byteLength(o);return this.ensure(i),this.buffer.write(o,this.offset),this.offset+=i,this}add(o){return this.ensure(o.length),o.copy(this.buffer,this.offset),this.offset+=o.length,this}join(o){if(o){this.buffer[this.headerPosition]=o;let i=this.offset-(this.headerPosition+1);this.buffer.writeInt32BE(i,this.headerPosition+1)}return this.buffer.slice(o?0:5,this.offset)}flush(o){let i=this.join(o);return this.offset=5,this.headerPosition=0,this.buffer=Fe.allocUnsafe(this.size),i}};I(t,"Writer");var r=t;e.Writer=r}),NY=rt(e=>{"use strict";Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.serialize=void 0;var t=$Y(),r=new t.Writer,n=I(B=>{r.addInt16(3).addInt16(0);for(let ae of Object.keys(B))r.addCString(ae).addCString(B[ae]);r.addCString("client_encoding").addCString("UTF8");let te=r.addCString("").flush(),ne=te.length+4;return new t.Writer().addInt32(ne).add(te).flush()},"startup"),o=I(()=>{let B=Fe.allocUnsafe(8);return B.writeInt32BE(8,0),B.writeInt32BE(80877103,4),B},"requestSsl"),i=I(B=>r.addCString(B).flush(112),"password"),s=I(function(B,te){return r.addCString(B).addInt32(Fe.byteLength(te)).addString(te),r.flush(112)},"sendSASLInitialResponseMessage"),u=I(function(B){return r.addString(B).flush(112)},"sendSCRAMClientFinalMessage"),l=I(B=>r.addCString(B).flush(81),"query"),d=[],p=I(B=>{let te=B.name||"";te.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",te,te.length),console.error("This can cause conflicts and silent errors executing queries"));let ne=B.types||d,ae=ne.length,Se=r.addCString(te).addCString(B.text).addInt16(ae);for(let ke=0;ke<ae;ke++)Se.addInt32(ne[ke]);return r.flush(80)},"parse"),f=new t.Writer,m=I(function(B,te){for(let ne=0;ne<B.length;ne++){let ae=te?te(B[ne],ne):B[ne];ae==null?(r.addInt16(0),f.addInt32(-1)):ae instanceof Fe?(r.addInt16(1),f.addInt32(ae.length),f.add(ae)):(r.addInt16(0),f.addInt32(Fe.byteLength(ae)),f.addString(ae))}},"writeValues"),y=I((B={})=>{let te=B.portal||"",ne=B.statement||"",ae=B.binary||!1,Se=B.values||d,ke=Se.length;return r.addCString(te).addCString(ne),r.addInt16(ke),m(Se,B.valueMapper),r.addInt16(ke),r.add(f.flush()),r.addInt16(ae?1:0),r.flush(66)},"bind"),g=Fe.from([69,0,0,0,9,0,0,0,0,0]),h=I(B=>{if(!B||!B.portal&&!B.rows)return g;let te=B.portal||"",ne=B.rows||0,ae=Fe.byteLength(te),Se=4+ae+1+4,ke=Fe.allocUnsafe(1+Se);return ke[0]=69,ke.writeInt32BE(Se,1),ke.write(te,5,"utf-8"),ke[ae+5]=0,ke.writeUInt32BE(ne,ke.length-4),ke},"execute"),v=I((B,te)=>{let ne=Fe.allocUnsafe(16);return ne.writeInt32BE(16,0),ne.writeInt16BE(1234,4),ne.writeInt16BE(5678,6),ne.writeInt32BE(B,8),ne.writeInt32BE(te,12),ne},"cancel"),S=I((B,te)=>{let ne=4+Fe.byteLength(te)+1,ae=Fe.allocUnsafe(1+ne);return ae[0]=B,ae.writeInt32BE(ne,1),ae.write(te,5,"utf-8"),ae[ne]=0,ae},"cstringMessage"),b=r.addCString("P").flush(68),w=r.addCString("S").flush(68),k=I(B=>B.name?S(68,`${B.type}${B.name||""}`):B.type==="P"?b:w,"describe"),$=I(B=>{let te=`${B.type}${B.name||""}`;return S(67,te)},"close"),C=I(B=>r.add(B).flush(100),"copyData"),A=I(B=>S(102,B),"copyFail"),R=I(B=>Fe.from([B,0,0,0,4]),"codeOnlyBuffer"),O=R(72),z=R(83),D=R(88),X=R(99),G={startup:n,password:i,requestSsl:o,sendSASLInitialResponseMessage:s,sendSCRAMClientFinalMessage:u,query:l,parse:p,bind:y,execute:h,describe:k,close:$,flush:I(()=>O,"flush"),sync:I(()=>z,"sync"),end:I(()=>D,"end"),copyData:C,copyDone:I(()=>X,"copyDone"),copyFail:A,cancel:v};e.serialize=G}),zY=rt(e=>{"use strict";Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.BufferReader=void 0;var t=Fe.allocUnsafe(0),r=class{static{a(this,"mn")}constructor(i=0){this.offset=i,this.buffer=t,this.encoding="utf-8"}setBuffer(i,s){this.offset=i,this.buffer=s}int16(){let i=this.buffer.readInt16BE(this.offset);return this.offset+=2,i}byte(){let i=this.buffer[this.offset];return this.offset++,i}int32(){let i=this.buffer.readInt32BE(this.offset);return this.offset+=4,i}uint32(){let i=this.buffer.readUInt32BE(this.offset);return this.offset+=4,i}string(i){let s=this.buffer.toString(this.encoding,this.offset,this.offset+i);return this.offset+=i,s}cstring(){let i=this.offset,s=i;for(;this.buffer[s++]!==0;);return this.offset=s,this.buffer.toString(this.encoding,i,s-1)}bytes(i){let s=this.buffer.slice(this.offset,this.offset+i);return this.offset+=i,s}};I(r,"BufferReader");var n=r;e.BufferReader=n}),jY=rt(e=>{"use strict";Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.Parser=void 0;var t=Cj(),r=zY(),n=1,o=4,i=n+o,s=Fe.allocUnsafe(0),u=class{static{a(this,"bn")}constructor(p){if(this.buffer=s,this.bufferLength=0,this.bufferOffset=0,this.reader=new r.BufferReader,p?.mode==="binary")throw new Error("Binary mode not supported yet");this.mode=p?.mode||"text"}parse(p,f){this.mergeBuffer(p);let m=this.bufferOffset+this.bufferLength,y=this.bufferOffset;for(;y+i<=m;){let g=this.buffer[y],h=this.buffer.readUInt32BE(y+n),v=n+h;if(v+y<=m){let S=this.handlePacket(y+i,g,h,this.buffer);f(S),y+=v}else break}y===m?(this.buffer=s,this.bufferLength=0,this.bufferOffset=0):(this.bufferLength=m-y,this.bufferOffset=y)}mergeBuffer(p){if(this.bufferLength>0){let f=this.bufferLength+p.byteLength;if(f+this.bufferOffset>this.buffer.byteLength){let m;if(f<=this.buffer.byteLength&&this.bufferOffset>=this.bufferLength)m=this.buffer;else{let y=this.buffer.byteLength*2;for(;f>=y;)y*=2;m=Fe.allocUnsafe(y)}this.buffer.copy(m,0,this.bufferOffset,this.bufferOffset+this.bufferLength),this.buffer=m,this.bufferOffset=0}p.copy(this.buffer,this.bufferOffset+this.bufferLength),this.bufferLength=f}else this.buffer=p,this.bufferOffset=0,this.bufferLength=p.byteLength}handlePacket(p,f,m,y){switch(f){case 50:return t.bindComplete;case 49:return t.parseComplete;case 51:return t.closeComplete;case 110:return t.noData;case 115:return t.portalSuspended;case 99:return t.copyDone;case 87:return t.replicationStart;case 73:return t.emptyQuery;case 68:return this.parseDataRowMessage(p,m,y);case 67:return this.parseCommandCompleteMessage(p,m,y);case 90:return this.parseReadyForQueryMessage(p,m,y);case 65:return this.parseNotificationMessage(p,m,y);case 82:return this.parseAuthenticationResponse(p,m,y);case 83:return this.parseParameterStatusMessage(p,m,y);case 75:return this.parseBackendKeyData(p,m,y);case 69:return this.parseErrorMessage(p,m,y,"error");case 78:return this.parseErrorMessage(p,m,y,"notice");case 84:return this.parseRowDescriptionMessage(p,m,y);case 116:return this.parseParameterDescriptionMessage(p,m,y);case 71:return this.parseCopyInMessage(p,m,y);case 72:return this.parseCopyOutMessage(p,m,y);case 100:return this.parseCopyData(p,m,y);default:return new t.DatabaseError("received invalid response: "+f.toString(16),m,"error")}}parseReadyForQueryMessage(p,f,m){this.reader.setBuffer(p,m);let y=this.reader.string(1);return new t.ReadyForQueryMessage(f,y)}parseCommandCompleteMessage(p,f,m){this.reader.setBuffer(p,m);let y=this.reader.cstring();return new t.CommandCompleteMessage(f,y)}parseCopyData(p,f,m){let y=m.slice(p,p+(f-4));return new t.CopyDataMessage(f,y)}parseCopyInMessage(p,f,m){return this.parseCopyMessage(p,f,m,"copyInResponse")}parseCopyOutMessage(p,f,m){return this.parseCopyMessage(p,f,m,"copyOutResponse")}parseCopyMessage(p,f,m,y){this.reader.setBuffer(p,m);let g=this.reader.byte()!==0,h=this.reader.int16(),v=new t.CopyResponse(f,y,g,h);for(let S=0;S<h;S++)v.columnTypes[S]=this.reader.int16();return v}parseNotificationMessage(p,f,m){this.reader.setBuffer(p,m);let y=this.reader.int32(),g=this.reader.cstring(),h=this.reader.cstring();return new t.NotificationResponseMessage(f,y,g,h)}parseRowDescriptionMessage(p,f,m){this.reader.setBuffer(p,m);let y=this.reader.int16(),g=new t.RowDescriptionMessage(f,y);for(let h=0;h<y;h++)g.fields[h]=this.parseField();return g}parseField(){let p=this.reader.cstring(),f=this.reader.uint32(),m=this.reader.int16(),y=this.reader.uint32(),g=this.reader.int16(),h=this.reader.int32(),v=this.reader.int16()===0?"text":"binary";return new t.Field(p,f,m,y,g,h,v)}parseParameterDescriptionMessage(p,f,m){this.reader.setBuffer(p,m);let y=this.reader.int16(),g=new t.ParameterDescriptionMessage(f,y);for(let h=0;h<y;h++)g.dataTypeIDs[h]=this.reader.int32();return g}parseDataRowMessage(p,f,m){this.reader.setBuffer(p,m);let y=this.reader.int16(),g=new Array(y);for(let h=0;h<y;h++){let v=this.reader.int32();g[h]=v===-1?null:this.reader.string(v)}return new t.DataRowMessage(f,g)}parseParameterStatusMessage(p,f,m){this.reader.setBuffer(p,m);let y=this.reader.cstring(),g=this.reader.cstring();return new t.ParameterStatusMessage(f,y,g)}parseBackendKeyData(p,f,m){this.reader.setBuffer(p,m);let y=this.reader.int32(),g=this.reader.int32();return new t.BackendKeyDataMessage(f,y,g)}parseAuthenticationResponse(p,f,m){this.reader.setBuffer(p,m);let y=this.reader.int32(),g={name:"authenticationOk",length:f};switch(y){case 0:break;case 3:g.length===8&&(g.name="authenticationCleartextPassword");break;case 5:if(g.length===12){g.name="authenticationMD5Password";let h=this.reader.bytes(4);return new t.AuthenticationMD5Password(f,h)}break;case 10:{g.name="authenticationSASL",g.mechanisms=[];let h;do h=this.reader.cstring(),h&&g.mechanisms.push(h);while(h)}break;case 11:g.name="authenticationSASLContinue",g.data=this.reader.string(f-8);break;case 12:g.name="authenticationSASLFinal",g.data=this.reader.string(f-8);break;default:throw new Error("Unknown authenticationOk message type "+y)}return g}parseErrorMessage(p,f,m,y){this.reader.setBuffer(p,m);let g={},h=this.reader.string(1);for(;h!=="\0";)g[h]=this.reader.cstring(),h=this.reader.string(1);let v=g.M,S=y==="notice"?new t.NoticeMessage(f,v):new t.DatabaseError(v,f,y);return S.severity=g.S,S.code=g.C,S.detail=g.D,S.hint=g.H,S.position=g.P,S.internalPosition=g.p,S.internalQuery=g.q,S.where=g.W,S.schema=g.s,S.table=g.t,S.column=g.c,S.dataType=g.d,S.constraint=g.n,S.file=g.F,S.line=g.L,S.routine=g.R,S}};I(u,"Parser");var l=u;e.Parser=l}),Rj=rt(e=>{"use strict";Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.DatabaseError=e.serialize=e.parse=void 0;var t=Cj();Object.defineProperty(e,"DatabaseError",{enumerable:!0,get:I(function(){return t.DatabaseError},"get")});var r=NY();Object.defineProperty(e,"serialize",{enumerable:!0,get:I(function(){return r.serialize},"get")});var n=jY();function o(i,s){let u=new n.Parser;return i.on("data",l=>u.parse(l,s)),new Promise(l=>i.on("end",()=>l()))}a(o,"Hc"),I(o,"parse"),e.parse=o}),$j={};yo($j,{connect:a(()=>Nj,"connect")});a(Nj,"$c");DY=bn(()=>{"use strict";Ce(),I(Nj,"connect")}),zj=rt((e,t)=>{"use strict";Ce();var r=(Fl(),Or(cj)),n=ls().EventEmitter,{parse:o,serialize:i}=Rj(),s=i.flush(),u=i.sync(),l=i.end(),d=class extends n{static{a(this,"Sn")}constructor(m){super(),m=m||{},this.stream=m.stream||new r.Socket,this._keepAlive=m.keepAlive,this._keepAliveInitialDelayMillis=m.keepAliveInitialDelayMillis,this.lastBuffer=!1,this.parsedStatements={},this.ssl=m.ssl||!1,this._ending=!1,this._emitMessage=!1;var y=this;this.on("newListener",function(g){g==="message"&&(y._emitMessage=!0)})}connect(m,y){var g=this;this._connecting=!0,this.stream.setNoDelay(!0),this.stream.connect(m,y),this.stream.once("connect",function(){g._keepAlive&&g.stream.setKeepAlive(!0,g._keepAliveInitialDelayMillis),g.emit("connect")});let h=I(function(v){g._ending&&(v.code==="ECONNRESET"||v.code==="EPIPE")||g.emit("error",v)},"reportStreamError");if(this.stream.on("error",h),this.stream.on("close",function(){g.emit("end")}),!this.ssl)return this.attachListeners(this.stream);this.stream.once("data",function(v){var S=v.toString("utf8");switch(S){case"S":break;case"N":return g.stream.end(),g.emit("error",new Error("The server does not support SSL connections"));default:return g.stream.end(),g.emit("error",new Error("There was an error establishing an SSL connection"))}var b=(DY(),Or($j));let w={socket:g.stream};g.ssl!==!0&&(Object.assign(w,g.ssl),"key"in g.ssl&&(w.key=g.ssl.key)),r.isIP(y)===0&&(w.servername=y);try{g.stream=b.connect(w)}catch(k){return g.emit("error",k)}g.attachListeners(g.stream),g.stream.on("error",h),g.emit("sslconnect")})}attachListeners(m){m.on("end",()=>{this.emit("end")}),o(m,y=>{var g=y.name==="error"?"errorMessage":y.name;this._emitMessage&&this.emit("message",y),this.emit(g,y)})}requestSsl(){this.stream.write(i.requestSsl())}startup(m){this.stream.write(i.startup(m))}cancel(m,y){this._send(i.cancel(m,y))}password(m){this._send(i.password(m))}sendSASLInitialResponseMessage(m,y){this._send(i.sendSASLInitialResponseMessage(m,y))}sendSCRAMClientFinalMessage(m){this._send(i.sendSCRAMClientFinalMessage(m))}_send(m){return this.stream.writable?this.stream.write(m):!1}query(m){this._send(i.query(m))}parse(m){this._send(i.parse(m))}bind(m){this._send(i.bind(m))}execute(m){this._send(i.execute(m))}flush(){this.stream.writable&&this.stream.write(s)}sync(){this._ending=!0,this._send(s),this._send(u)}ref(){this.stream.ref()}unref(){this.stream.unref()}end(){if(this._ending=!0,!this._connecting||!this.stream.writable){this.stream.end();return}return this.stream.write(l,()=>{this.stream.end()})}close(m){this._send(i.close(m))}describe(m){this._send(i.describe(m))}sendCopyFromChunk(m){this._send(i.copyData(m))}endCopyFrom(){this._send(i.copyDone())}sendCopyFail(m){this._send(i.copyFail(m))}};I(d,"Connection");var p=d;t.exports=p}),MY=rt((e,t)=>{"use strict";Ce();var r=ls().EventEmitter,n=(Tf(),Or(Bl)),o=xf(),i=TY(),s=IY(),u=wT(),l=PT(),d=RY(),p=wf(),f=zj(),m=class extends r{static{a(this,"Cn")}constructor(h){super(),this.connectionParameters=new l(h),this.user=this.connectionParameters.user,this.database=this.connectionParameters.database,this.port=this.connectionParameters.port,this.host=this.connectionParameters.host,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:this.connectionParameters.password}),this.replication=this.connectionParameters.replication;var v=h||{};this._Promise=v.Promise||bf.Promise,this._types=new u(v.types),this._ending=!1,this._connecting=!1,this._connected=!1,this._connectionError=!1,this._queryable=!0,this.connection=v.connection||new f({stream:v.stream,ssl:this.connectionParameters.ssl,keepAlive:v.keepAlive||!1,keepAliveInitialDelayMillis:v.keepAliveInitialDelayMillis||0,encoding:this.connectionParameters.client_encoding||"utf8"}),this.queryQueue=[],this.binary=v.binary||p.binary,this.processID=null,this.secretKey=null,this.ssl=this.connectionParameters.ssl||!1,this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this._connectionTimeoutMillis=v.connectionTimeoutMillis||0}_errorAllQueries(h){let v=I(S=>{tt.nextTick(()=>{S.handleError(h,this.connection)})},"enqueueError");this.activeQuery&&(v(this.activeQuery),this.activeQuery=null),this.queryQueue.forEach(v),this.queryQueue.length=0}_connect(h){var v=this,S=this.connection;if(this._connectionCallback=h,this._connecting||this._connected){let b=new Error("Client has already been connected. You cannot reuse a client.");tt.nextTick(()=>{h(b)});return}this._connecting=!0,this.connectionTimeoutHandle,this._connectionTimeoutMillis>0&&(this.connectionTimeoutHandle=setTimeout(()=>{S._ending=!0,S.stream.destroy(new Error("timeout expired"))},this._connectionTimeoutMillis)),this.host&&this.host.indexOf("/")===0?S.connect(this.host+"/.s.PGSQL."+this.port):S.connect(this.port,this.host),S.on("connect",function(){v.ssl?S.requestSsl():S.startup(v.getStartupConf())}),S.on("sslconnect",function(){S.startup(v.getStartupConf())}),this._attachListeners(S),S.once("end",()=>{let b=this._ending?new Error("Connection terminated"):new Error("Connection terminated unexpectedly");clearTimeout(this.connectionTimeoutHandle),this._errorAllQueries(b),this._ending||(this._connecting&&!this._connectionError?this._connectionCallback?this._connectionCallback(b):this._handleErrorEvent(b):this._connectionError||this._handleErrorEvent(b)),tt.nextTick(()=>{this.emit("end")})})}connect(h){if(h){this._connect(h);return}return new this._Promise((v,S)=>{this._connect(b=>{b?S(b):v()})})}_attachListeners(h){h.on("authenticationCleartextPassword",this._handleAuthCleartextPassword.bind(this)),h.on("authenticationMD5Password",this._handleAuthMD5Password.bind(this)),h.on("authenticationSASL",this._handleAuthSASL.bind(this)),h.on("authenticationSASLContinue",this._handleAuthSASLContinue.bind(this)),h.on("authenticationSASLFinal",this._handleAuthSASLFinal.bind(this)),h.on("backendKeyData",this._handleBackendKeyData.bind(this)),h.on("error",this._handleErrorEvent.bind(this)),h.on("errorMessage",this._handleErrorMessage.bind(this)),h.on("readyForQuery",this._handleReadyForQuery.bind(this)),h.on("notice",this._handleNotice.bind(this)),h.on("rowDescription",this._handleRowDescription.bind(this)),h.on("dataRow",this._handleDataRow.bind(this)),h.on("portalSuspended",this._handlePortalSuspended.bind(this)),h.on("emptyQuery",this._handleEmptyQuery.bind(this)),h.on("commandComplete",this._handleCommandComplete.bind(this)),h.on("parseComplete",this._handleParseComplete.bind(this)),h.on("copyInResponse",this._handleCopyInResponse.bind(this)),h.on("copyData",this._handleCopyData.bind(this)),h.on("notification",this._handleNotification.bind(this))}_checkPgPass(h){let v=this.connection;typeof this.password=="function"?this._Promise.resolve().then(()=>this.password()).then(S=>{if(S!==void 0){if(typeof S!="string"){v.emit("error",new TypeError("Password must be a string"));return}this.connectionParameters.password=this.password=S}else this.connectionParameters.password=this.password=null;h()}).catch(S=>{v.emit("error",S)}):this.password!==null?h():s(this.connectionParameters,S=>{S!==void 0&&(this.connectionParameters.password=this.password=S),h()})}_handleAuthCleartextPassword(h){this._checkPgPass(()=>{this.connection.password(this.password)})}_handleAuthMD5Password(h){this._checkPgPass(()=>{let v=o.postgresMd5PasswordHash(this.user,this.password,h.salt);this.connection.password(v)})}_handleAuthSASL(h){this._checkPgPass(()=>{this.saslSession=i.startSession(h.mechanisms),this.connection.sendSASLInitialResponseMessage(this.saslSession.mechanism,this.saslSession.response)})}_handleAuthSASLContinue(h){i.continueSession(this.saslSession,this.password,h.data),this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}_handleAuthSASLFinal(h){i.finalizeSession(this.saslSession,h.data),this.saslSession=null}_handleBackendKeyData(h){this.processID=h.processID,this.secretKey=h.secretKey}_handleReadyForQuery(h){this._connecting&&(this._connecting=!1,this._connected=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback&&(this._connectionCallback(null,this),this._connectionCallback=null),this.emit("connect"));let{activeQuery:v}=this;this.activeQuery=null,this.readyForQuery=!0,v&&v.handleReadyForQuery(this.connection),this._pulseQueryQueue()}_handleErrorWhileConnecting(h){if(!this._connectionError){if(this._connectionError=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback)return this._connectionCallback(h);this.emit("error",h)}}_handleErrorEvent(h){if(this._connecting)return this._handleErrorWhileConnecting(h);this._queryable=!1,this._errorAllQueries(h),this.emit("error",h)}_handleErrorMessage(h){if(this._connecting)return this._handleErrorWhileConnecting(h);let v=this.activeQuery;if(!v){this._handleErrorEvent(h);return}this.activeQuery=null,v.handleError(h,this.connection)}_handleRowDescription(h){this.activeQuery.handleRowDescription(h)}_handleDataRow(h){this.activeQuery.handleDataRow(h)}_handlePortalSuspended(h){this.activeQuery.handlePortalSuspended(this.connection)}_handleEmptyQuery(h){this.activeQuery.handleEmptyQuery(this.connection)}_handleCommandComplete(h){this.activeQuery.handleCommandComplete(h,this.connection)}_handleParseComplete(h){this.activeQuery.name&&(this.connection.parsedStatements[this.activeQuery.name]=this.activeQuery.text)}_handleCopyInResponse(h){this.activeQuery.handleCopyInResponse(this.connection)}_handleCopyData(h){this.activeQuery.handleCopyData(h,this.connection)}_handleNotification(h){this.emit("notification",h)}_handleNotice(h){this.emit("notice",h)}getStartupConf(){var h=this.connectionParameters,v={user:h.user,database:h.database},S=h.application_name||h.fallback_application_name;return S&&(v.application_name=S),h.replication&&(v.replication=""+h.replication),h.statement_timeout&&(v.statement_timeout=String(parseInt(h.statement_timeout,10))),h.lock_timeout&&(v.lock_timeout=String(parseInt(h.lock_timeout,10))),h.idle_in_transaction_session_timeout&&(v.idle_in_transaction_session_timeout=String(parseInt(h.idle_in_transaction_session_timeout,10))),h.options&&(v.options=h.options),v}cancel(h,v){if(h.activeQuery===v){var S=this.connection;this.host&&this.host.indexOf("/")===0?S.connect(this.host+"/.s.PGSQL."+this.port):S.connect(this.port,this.host),S.on("connect",function(){S.cancel(h.processID,h.secretKey)})}else h.queryQueue.indexOf(v)!==-1&&h.queryQueue.splice(h.queryQueue.indexOf(v),1)}setTypeParser(h,v,S){return this._types.setTypeParser(h,v,S)}getTypeParser(h,v){return this._types.getTypeParser(h,v)}escapeIdentifier(h){return'"'+h.replace(/"/g,'""')+'"'}escapeLiteral(h){for(var v=!1,S="'",b=0;b<h.length;b++){var w=h[b];w==="'"?S+=w+w:w==="\\"?(S+=w+w,v=!0):S+=w}return S+="'",v===!0&&(S=" E"+S),S}_pulseQueryQueue(){if(this.readyForQuery===!0)if(this.activeQuery=this.queryQueue.shift(),this.activeQuery){this.readyForQuery=!1,this.hasExecuted=!0;let h=this.activeQuery.submit(this.connection);h&&tt.nextTick(()=>{this.activeQuery.handleError(h,this.connection),this.readyForQuery=!0,this._pulseQueryQueue()})}else this.hasExecuted&&(this.activeQuery=null,this.emit("drain"))}query(h,v,S){var b,w,k,$,C;if(h==null)throw new TypeError("Client was passed a null or undefined query");return typeof h.submit=="function"?(k=h.query_timeout||this.connectionParameters.query_timeout,w=b=h,typeof v=="function"&&(b.callback=b.callback||v)):(k=this.connectionParameters.query_timeout,b=new d(h,v,S),b.callback||(w=new this._Promise((A,R)=>{b.callback=(O,z)=>O?R(O):A(z)}))),k&&(C=b.callback,$=setTimeout(()=>{var A=new Error("Query read timeout");tt.nextTick(()=>{b.handleError(A,this.connection)}),C(A),b.callback=()=>{};var R=this.queryQueue.indexOf(b);R>-1&&this.queryQueue.splice(R,1),this._pulseQueryQueue()},k),b.callback=(A,R)=>{clearTimeout($),C(A,R)}),this.binary&&!b.binary&&(b.binary=!0),b._result&&!b._result._types&&(b._result._types=this._types),this._queryable?this._ending?(tt.nextTick(()=>{b.handleError(new Error("Client was closed and is not queryable"),this.connection)}),w):(this.queryQueue.push(b),this._pulseQueryQueue(),w):(tt.nextTick(()=>{b.handleError(new Error("Client has encountered a connection error and is not queryable"),this.connection)}),w)}ref(){this.connection.ref()}unref(){this.connection.unref()}end(h){if(this._ending=!0,!this.connection._connecting)if(h)h();else return this._Promise.resolve();if(this.activeQuery||!this._queryable?this.connection.stream.destroy():this.connection.end(),h)this.connection.once("end",h);else return new this._Promise(v=>{this.connection.once("end",v)})}};I(m,"Client");var y=m;y.Query=d,t.exports=y}),qY=rt((e,t)=>{"use strict";Ce();var r=ls().EventEmitter,n=I(function(){},"NOOP"),o=I((g,h)=>{let v=g.findIndex(h);return v===-1?void 0:g.splice(v,1)[0]},"removeWhere"),i=class{static{a(this,"Tn")}constructor(h,v,S){this.client=h,this.idleListener=v,this.timeoutId=S}};I(i,"IdleItem");var s=i,u=class{static{a(this,"Pn")}constructor(h){this.callback=h}};I(u,"PendingItem");var l=u;function d(){throw new Error("Release called on client which has already been released to the pool.")}a(d,"il"),I(d,"throwOnDoubleRelease");function p(g,h){if(h)return{callback:h,result:void 0};let v,S,b=I(function(k,$){k?v(k):S($)},"cb"),w=new g(function(k,$){S=k,v=$}).catch(k=>{throw Error.captureStackTrace(k),k});return{callback:b,result:w}}a(p,"Dt"),I(p,"promisify");function f(g,h){return I(a(function v(S){S.client=h,h.removeListener("error",v),h.on("error",()=>{g.log("additional client error after disconnection due to error",S)}),g._remove(h),g.emit("error",S,h)},"t"),"idleListener")}a(f,"sl"),I(f,"makeIdleListener");var m=class extends r{static{a(this,"Bn")}constructor(h,v){super(),this.options=Object.assign({},h),h!=null&&"password"in h&&Object.defineProperty(this.options,"password",{configurable:!0,enumerable:!1,writable:!0,value:h.password}),h!=null&&h.ssl&&h.ssl.key&&Object.defineProperty(this.options.ssl,"key",{enumerable:!1}),this.options.max=this.options.max||this.options.poolSize||10,this.options.min=this.options.min||0,this.options.maxUses=this.options.maxUses||1/0,this.options.allowExitOnIdle=this.options.allowExitOnIdle||!1,this.options.maxLifetimeSeconds=this.options.maxLifetimeSeconds||0,this.log=this.options.log||function(){},this.Client=this.options.Client||v||Ef().Client,this.Promise=this.options.Promise||bf.Promise,typeof this.options.idleTimeoutMillis>"u"&&(this.options.idleTimeoutMillis=1e4),this._clients=[],this._idle=[],this._expired=new WeakSet,this._pendingQueue=[],this._endCallback=void 0,this.ending=!1,this.ended=!1}_isFull(){return this._clients.length>=this.options.max}_isAboveMin(){return this._clients.length>this.options.min}_pulseQueue(){if(this.log("pulse queue"),this.ended){this.log("pulse queue ended");return}if(this.ending){this.log("pulse queue on ending"),this._idle.length&&this._idle.slice().map(v=>{this._remove(v.client)}),this._clients.length||(this.ended=!0,this._endCallback());return}if(!this._pendingQueue.length){this.log("no queued requests");return}if(!this._idle.length&&this._isFull())return;let h=this._pendingQueue.shift();if(this._idle.length){let v=this._idle.pop();clearTimeout(v.timeoutId);let S=v.client;S.ref&&S.ref();let b=v.idleListener;return this._acquireClient(S,h,b,!1)}if(!this._isFull())return this.newClient(h);throw new Error("unexpected condition")}_remove(h){let v=o(this._idle,S=>S.client===h);v!==void 0&&clearTimeout(v.timeoutId),this._clients=this._clients.filter(S=>S!==h),h.end(),this.emit("remove",h)}connect(h){if(this.ending){let b=new Error("Cannot use a pool after calling end on the pool");return h?h(b):this.Promise.reject(b)}let v=p(this.Promise,h),S=v.result;if(this._isFull()||this._idle.length){if(this._idle.length&&tt.nextTick(()=>this._pulseQueue()),!this.options.connectionTimeoutMillis)return this._pendingQueue.push(new l(v.callback)),S;let b=I(($,C,A)=>{clearTimeout(k),v.callback($,C,A)},"queueCallback"),w=new l(b),k=setTimeout(()=>{o(this._pendingQueue,$=>$.callback===b),w.timedOut=!0,v.callback(new Error("timeout exceeded when trying to connect"))},this.options.connectionTimeoutMillis);return k.unref&&k.unref(),this._pendingQueue.push(w),S}return this.newClient(new l(v.callback)),S}newClient(h){let v=new this.Client(this.options);this._clients.push(v);let S=f(this,v);this.log("checking client timeout");let b,w=!1;this.options.connectionTimeoutMillis&&(b=setTimeout(()=>{this.log("ending client due to timeout"),w=!0,v.connection?v.connection.stream.destroy():v.end()},this.options.connectionTimeoutMillis)),this.log("connecting new client"),v.connect(k=>{if(b&&clearTimeout(b),v.on("error",S),k)this.log("client failed to connect",k),this._clients=this._clients.filter($=>$!==v),w&&(k=new Error("Connection terminated due to connection timeout",{cause:k})),this._pulseQueue(),h.timedOut||h.callback(k,void 0,n);else{if(this.log("new client connected"),this.options.maxLifetimeSeconds!==0){let $=setTimeout(()=>{this.log("ending client due to expired lifetime"),this._expired.add(v),this._idle.findIndex(C=>C.client===v)!==-1&&this._acquireClient(v,new l((C,A,R)=>R()),S,!1)},this.options.maxLifetimeSeconds*1e3);$.unref(),v.once("end",()=>clearTimeout($))}return this._acquireClient(v,h,S,!0)}})}_acquireClient(h,v,S,b){b&&this.emit("connect",h),this.emit("acquire",h),h.release=this._releaseOnce(h,S),h.removeListener("error",S),v.timedOut?b&&this.options.verify?this.options.verify(h,h.release):h.release():b&&this.options.verify?this.options.verify(h,w=>{if(w)return h.release(w),v.callback(w,void 0,n);v.callback(void 0,h,h.release)}):v.callback(void 0,h,h.release)}_releaseOnce(h,v){let S=!1;return b=>{S&&d(),S=!0,this._release(h,v,b)}}_release(h,v,S){if(h.on("error",v),h._poolUseCount=(h._poolUseCount||0)+1,this.emit("release",S,h),S||this.ending||!h._queryable||h._ending||h._poolUseCount>=this.options.maxUses){h._poolUseCount>=this.options.maxUses&&this.log("remove expended client"),this._remove(h),this._pulseQueue();return}if(this._expired.has(h)){this.log("remove expired client"),this._expired.delete(h),this._remove(h),this._pulseQueue();return}let b;this.options.idleTimeoutMillis&&this._isAboveMin()&&(b=setTimeout(()=>{this.log("remove idle client"),this._remove(h)},this.options.idleTimeoutMillis),this.options.allowExitOnIdle&&b.unref()),this.options.allowExitOnIdle&&h.unref(),this._idle.push(new s(h,v,b)),this._pulseQueue()}query(h,v,S){if(typeof h=="function"){let w=p(this.Promise,h);return bT(function(){return w.callback(new Error("Passing a function as the first parameter to pool.query is not supported"))}),w.result}typeof v=="function"&&(S=v,v=void 0);let b=p(this.Promise,S);return S=b.callback,this.connect((w,k)=>{if(w)return S(w);let $=!1,C=I(A=>{$||($=!0,k.release(A),S(A))},"onError");k.once("error",C),this.log("dispatching query");try{k.query(h,v,(A,R)=>{if(this.log("query dispatched"),k.removeListener("error",C),!$)return $=!0,k.release(A),A?S(A):S(void 0,R)})}catch(A){return k.release(A),S(A)}}),b.result}end(h){if(this.log("ending"),this.ending){let S=new Error("Called end on pool more than once");return h?h(S):this.Promise.reject(S)}this.ending=!0;let v=p(this.Promise,h);return this._endCallback=v.callback,this._pulseQueue(),v.result}get waitingCount(){return this._pendingQueue.length}get idleCount(){return this._idle.length}get expiredCount(){return this._clients.reduce((h,v)=>h+(this._expired.has(v)?1:0),0)}get totalCount(){return this._clients.length}};I(m,"Pool");var y=m;t.exports=y}),jj={};yo(jj,{default:a(()=>Dj,"default")});UY=bn(()=>{"use strict";Ce(),Dj={}}),LY=rt((e,t)=>{t.exports={name:"pg",version:"8.8.0",description:"PostgreSQL client - pure javascript & libpq with the same API",keywords:["database","libpq","pg","postgre","postgres","postgresql","rdbms"],homepage:"https://github.com/brianc/node-postgres",repository:{type:"git",url:"git://github.com/brianc/node-postgres.git",directory:"packages/pg"},author:"Brian Carlson <brian.m.carlson@gmail.com>",main:"./lib",dependencies:{"buffer-writer":"2.0.0","packet-reader":"1.0.0","pg-connection-string":"^2.5.0","pg-pool":"^3.5.2","pg-protocol":"^1.5.0","pg-types":"^2.1.0",pgpass:"1.x"},devDependencies:{async:"2.6.4",bluebird:"3.5.2",co:"4.6.0","pg-copy-streams":"0.3.0"},peerDependencies:{"pg-native":">=3.0.1"},peerDependenciesMeta:{"pg-native":{optional:!0}},scripts:{test:"make test-all"},files:["lib","SPONSORS.md"],license:"MIT",engines:{node:">= 8.0.0"},gitHead:"c99fb2c127ddf8d712500db2c7b9a5491a178655"}}),FY=rt((e,t)=>{"use strict";Ce();var r=ls().EventEmitter,n=(Tf(),Or(Bl)),o=xf(),i=t.exports=function(u,l,d){r.call(this),u=o.normalizeQueryConfig(u,l,d),this.text=u.text,this.values=u.values,this.name=u.name,this.callback=u.callback,this.state="new",this._arrayMode=u.rowMode==="array",this._emitRowEvents=!1,this.on("newListener",function(p){p==="row"&&(this._emitRowEvents=!0)}.bind(this))};n.inherits(i,r);var s={sqlState:"code",statementPosition:"position",messagePrimary:"message",context:"where",schemaName:"schema",tableName:"table",columnName:"column",dataTypeName:"dataType",constraintName:"constraint",sourceFile:"file",sourceLine:"line",sourceFunction:"routine"};i.prototype.handleError=function(u){var l=this.native.pq.resultErrorFields();if(l)for(var d in l){var p=s[d]||d;u[p]=l[d]}this.callback?this.callback(u):this.emit("error",u),this.state="error"},i.prototype.then=function(u,l){return this._getPromise().then(u,l)},i.prototype.catch=function(u){return this._getPromise().catch(u)},i.prototype._getPromise=function(){return this._promise?this._promise:(this._promise=new Promise(function(u,l){this._once("end",u),this._once("error",l)}.bind(this)),this._promise)},i.prototype.submit=function(u){this.state="running";var l=this;this.native=u.native,u.native.arrayMode=this._arrayMode;var d=I(function(m,y,g){if(u.native.arrayMode=!1,bT(function(){l.emit("_done")}),m)return l.handleError(m);l._emitRowEvents&&(g.length>1?y.forEach((h,v)=>{h.forEach(S=>{l.emit("row",S,g[v])})}):y.forEach(function(h){l.emit("row",h,g)})),l.state="end",l.emit("end",g),l.callback&&l.callback(null,g)},"after");if(tt.domain&&(d=tt.domain.bind(d)),this.name){this.name.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",this.name,this.name.length),console.error("This can cause conflicts and silent errors executing queries"));var p=(this.values||[]).map(o.prepareValue);if(u.namedQueries[this.name]){if(this.text&&u.namedQueries[this.name]!==this.text){let m=new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`);return d(m)}return u.native.execute(this.name,p,d)}return u.native.prepare(this.name,this.text,p.length,function(m){return m?d(m):(u.namedQueries[l.name]=l.text,l.native.execute(l.name,p,d))})}else if(this.values){if(!Array.isArray(this.values)){let m=new Error("Query values must be an array");return d(m)}var f=this.values.map(o.prepareValue);u.native.query(this.text,f,d)}else u.native.query(this.text,d)}}),BY=rt((e,t)=>{"use strict";Ce();var r=(UY(),Or(jj)),n=wT(),o=LY(),i=ls().EventEmitter,s=(Tf(),Or(Bl)),u=PT(),l=FY(),d=t.exports=function(p){i.call(this),p=p||{},this._Promise=p.Promise||bf.Promise,this._types=new n(p.types),this.native=new r({types:this._types}),this._queryQueue=[],this._ending=!1,this._connecting=!1,this._connected=!1,this._queryable=!0;var f=this.connectionParameters=new u(p);this.user=f.user,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:f.password}),this.database=f.database,this.host=f.host,this.port=f.port,this.namedQueries={}};d.Query=l,s.inherits(d,i),d.prototype._errorAllQueries=function(p){let f=I(m=>{tt.nextTick(()=>{m.native=this.native,m.handleError(p)})},"enqueueError");this._hasActiveQuery()&&(f(this._activeQuery),this._activeQuery=null),this._queryQueue.forEach(f),this._queryQueue.length=0},d.prototype._connect=function(p){var f=this;if(this._connecting){tt.nextTick(()=>p(new Error("Client has already been connected. You cannot reuse a client.")));return}this._connecting=!0,this.connectionParameters.getLibpqConnectionString(function(m,y){if(m)return p(m);f.native.connect(y,function(g){if(g)return f.native.end(),p(g);f._connected=!0,f.native.on("error",function(h){f._queryable=!1,f._errorAllQueries(h),f.emit("error",h)}),f.native.on("notification",function(h){f.emit("notification",{channel:h.relname,payload:h.extra})}),f.emit("connect"),f._pulseQueryQueue(!0),p()})})},d.prototype.connect=function(p){if(p){this._connect(p);return}return new this._Promise((f,m)=>{this._connect(y=>{y?m(y):f()})})},d.prototype.query=function(p,f,m){var y,g,h,v,S;if(p==null)throw new TypeError("Client was passed a null or undefined query");if(typeof p.submit=="function")h=p.query_timeout||this.connectionParameters.query_timeout,g=y=p,typeof f=="function"&&(p.callback=f);else if(h=this.connectionParameters.query_timeout,y=new l(p,f,m),!y.callback){let b,w;g=new this._Promise((k,$)=>{b=k,w=$}),y.callback=(k,$)=>k?w(k):b($)}return h&&(S=y.callback,v=setTimeout(()=>{var b=new Error("Query read timeout");tt.nextTick(()=>{y.handleError(b,this.connection)}),S(b),y.callback=()=>{};var w=this._queryQueue.indexOf(y);w>-1&&this._queryQueue.splice(w,1),this._pulseQueryQueue()},h),y.callback=(b,w)=>{clearTimeout(v),S(b,w)}),this._queryable?this._ending?(y.native=this.native,tt.nextTick(()=>{y.handleError(new Error("Client was closed and is not queryable"))}),g):(this._queryQueue.push(y),this._pulseQueryQueue(),g):(y.native=this.native,tt.nextTick(()=>{y.handleError(new Error("Client has encountered a connection error and is not queryable"))}),g)},d.prototype.end=function(p){var f=this;this._ending=!0,this._connected||this.once("connect",this.end.bind(this,p));var m;return p||(m=new this._Promise(function(y,g){p=I(h=>h?g(h):y(),"cb")})),this.native.end(function(){f._errorAllQueries(new Error("Connection terminated")),tt.nextTick(()=>{f.emit("end"),p&&p()})}),m},d.prototype._hasActiveQuery=function(){return this._activeQuery&&this._activeQuery.state!=="error"&&this._activeQuery.state!=="end"},d.prototype._pulseQueryQueue=function(p){if(this._connected&&!this._hasActiveQuery()){var f=this._queryQueue.shift();if(!f){p||this.emit("drain");return}this._activeQuery=f,f.submit(this);var m=this;f.once("_done",function(){m._pulseQueryQueue()})}},d.prototype.cancel=function(p){this._activeQuery===p?this.native.cancel(function(){}):this._queryQueue.indexOf(p)!==-1&&this._queryQueue.splice(this._queryQueue.indexOf(p),1)},d.prototype.ref=function(){},d.prototype.unref=function(){},d.prototype.setTypeParser=function(p,f,m){return this._types.setTypeParser(p,f,m)},d.prototype.getTypeParser=function(p,f){return this._types.getTypeParser(p,f)}}),nj=rt((e,t)=>{"use strict";Ce(),t.exports=BY()}),Ef=rt((e,t)=>{"use strict";Ce();var r=MY(),n=wf(),o=zj(),i=qY(),{DatabaseError:s}=Rj(),u=I(d=>{var p;return p=class extends i{static{a(this,"e")}constructor(f){super(f,d)}},I(p,"BoundPool"),p},"poolFactory"),l=I(function(d){this.defaults=n,this.Client=d,this.Query=this.Client.Query,this.Pool=u(this.Client),this._pools=[],this.Connection=o,this.types=Sf(),this.DatabaseError=s},"PG");typeof tt.env.NODE_PG_FORCE_NATIVE<"u"?t.exports=new l(nj()):(t.exports=new l(r),Object.defineProperty(t.exports,"native",{configurable:!0,enumerable:!1,get(){var d=null;try{d=new l(nj())}catch(p){if(p.code!=="MODULE_NOT_FOUND")throw p}return Object.defineProperty(t.exports,"native",{value:d}),d}}))});Ce();Ce();Fl();pj();Ce();JY=Object.defineProperty,HY=Object.defineProperties,VY=Object.getOwnPropertyDescriptors,oj=Object.getOwnPropertySymbols,ZY=Object.prototype.hasOwnProperty,KY=Object.prototype.propertyIsEnumerable,ij=I((e,t,r)=>t in e?JY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,"__defNormalProp"),GY=I((e,t)=>{for(var r in t||(t={}))ZY.call(t,r)&&ij(e,r,t[r]);if(oj)for(var r of oj(t))KY.call(t,r)&&ij(e,r,t[r]);return e},"__spreadValues"),WY=I((e,t)=>HY(e,VY(t)),"__spreadProps"),QY=1008e3,aj=new Uint8Array(new Uint16Array([258]).buffer)[0]===2,XY=new TextDecoder,IT=new TextEncoder,gf=IT.encode("0123456789abcdef"),yf=IT.encode("0123456789ABCDEF"),YY=IT.encode("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Mj=YY.slice();Mj[62]=45;Mj[63]=95;a(qj,"Ea");I(qj,"_toHex");a(Uj,"Aa");I(Uj,"_toHexChunked");a(Lj,"Ei");I(Lj,"toHex");Ce();Fj=class Bj{static{a(this,"gt")}constructor(t,r){this.strings=t,this.values=r}toParameterizedQuery(t={query:"",params:[]}){let{strings:r,values:n}=this;for(let o=0,i=r.length;o<i;o++)if(t.query+=r[o],o<n.length){let s=n[o];if(s instanceof Vj)t.query+=s.sql;else if(s instanceof _f)if(s.queryData instanceof Bj)s.queryData.toParameterizedQuery(t);else{if(s.queryData.params?.length)throw new Error("This query is not composable");t.query+=s.queryData.query}else{let{params:u}=t;u.push(s),t.query+="$"+u.length,(s instanceof Fe||ArrayBuffer.isView(s))&&(t.query+="::bytea")}}return t}};I(Fj,"SqlTemplate");Jj=Fj,Hj=class{static{a(this,"Xt")}constructor(t){this.sql=t}};I(Hj,"UnsafeRawSql");Vj=Hj;Ce();a(OT,"bt");I(OT,"warnIfBrowser");Fl();eee=cs(wT()),tee=cs(xf()),Zj=class Kj extends Error{static{a(this,"_t")}constructor(t){super(t),Je(this,"name","NeonDbError"),Je(this,"severity"),Je(this,"code"),Je(this,"detail"),Je(this,"hint"),Je(this,"position"),Je(this,"internalPosition"),Je(this,"internalQuery"),Je(this,"where"),Je(this,"schema"),Je(this,"table"),Je(this,"column"),Je(this,"dataType"),Je(this,"constraint"),Je(this,"file"),Je(this,"line"),Je(this,"routine"),Je(this,"sourceError"),"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Kj)}};I(Zj,"NeonDbError");_u=Zj,sj="transaction() expects an array of queries, or a function returning an array of queries",ree=["severity","code","detail","hint","position","internalPosition","internalQuery","where","schema","table","column","dataType","constraint","file","line","routine"];a(Gj,"Lu");I(Gj,"encodeBuffersAsBytea");a(vT,"ss");I(vT,"prepareQuery");a(ia,"cs");I(ia,"neon");Wj=class{static{a(this,"dr")}constructor(t,r,n){this.execute=t,this.queryData=r,this.opts=n}then(t,r){return this.execute(this.queryData,this.opts).then(t,r)}catch(t){return this.execute(this.queryData,this.opts).catch(t)}finally(t){return this.execute(this.queryData,this.opts).finally(t)}};I(Wj,"NeonQueryPromise");_f=Wj;a(_T,"os");I(_T,"processQueryResult");a(Qj,"Fu");I(Qj,"getAuthToken");Ce();nee=cs(Ef());Ce();oee=cs(Ef()),Xj=class extends oee.Client{static{a(this,"kn")}constructor(t){super(t),this.config=t}get neonConfig(){return this.connection.stream}connect(t){let{neonConfig:r}=this;r.forceDisablePgSSL&&(this.ssl=this.connection.ssl=!1),this.ssl&&r.useSecureWebSocket&&console.warn("SSL is enabled for both Postgres (e.g. ?sslmode=require in the connection string + forceDisablePgSSL = false) and the WebSocket tunnel (useSecureWebSocket = true). Double encryption will increase latency and CPU usage. It may be appropriate to disable SSL in the Postgres connection parameters or set forceDisablePgSSL = true.");let n=typeof this.config!="string"&&this.config?.host!==void 0||typeof this.config!="string"&&this.config?.connectionString!==void 0||tt.env.PGHOST!==void 0,o=tt.env.USER??tt.env.USERNAME;if(!n&&this.host==="localhost"&&this.user===o&&this.database===o&&this.password===null)throw new Error(`No database host or connection string was set, and key parameters have default values (host: localhost, user: ${o}, db: ${o}, password: null). Is an environment variable missing? Alternatively, if you intended to connect with these parameters, please set the host to 'localhost' explicitly.`);let i=super.connect(t),s=r.pipelineTLS&&this.ssl,u=r.pipelineConnect==="password";if(!s&&!r.pipelineConnect)return i;let l=this.connection;if(s&&l.on("connect",()=>l.stream.emit("data","S")),u){l.removeAllListeners("authenticationCleartextPassword"),l.removeAllListeners("readyForQuery"),l.once("readyForQuery",()=>l.on("readyForQuery",this._handleReadyForQuery.bind(this)));let d=this.ssl?"sslconnect":"connect";l.on(d,()=>{this.neonConfig.disableWarningInBrowsers||OT(),this._handleAuthCleartextPassword(),this._handleReadyForQuery()})}return i}async _handleAuthSASLContinue(t){if(typeof crypto>"u"||crypto.subtle===void 0||crypto.subtle.importKey===void 0)throw new Error("Cannot use SASL auth when `crypto.subtle` is not defined");let r=crypto.subtle,n=this.saslSession,o=this.password,i=t.data;if(n.message!=="SASLInitialResponse"||typeof o!="string"||typeof i!="string")throw new Error("SASL: protocol error");let s=Object.fromEntries(i.split(",").map(Se=>{if(!/^.=/.test(Se))throw new Error("SASL: Invalid attribute pair entry");let ke=Se[0],et=Se.substring(2);return[ke,et]})),u=s.r,l=s.s,d=s.i;if(!u||!/^[!-+--~]+$/.test(u))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing/unprintable");if(!l||!/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(l))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing/not base64");if(!d||!/^[1-9][0-9]*$/.test(d))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: missing/invalid iteration count");if(!u.startsWith(n.clientNonce))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");if(u.length===n.clientNonce.length)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short");let p=parseInt(d,10),f=Fe.from(l,"base64"),m=new TextEncoder,y=m.encode(o),g=await r.importKey("raw",y,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),h=new Uint8Array(await r.sign("HMAC",g,Fe.concat([f,Fe.from([0,0,0,1])]))),v=h;for(var S=0;S<p-1;S++)h=new Uint8Array(await r.sign("HMAC",g,h)),v=Fe.from(v.map((Se,ke)=>v[ke]^h[ke]));let b=v,w=await r.importKey("raw",b,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),k=new Uint8Array(await r.sign("HMAC",w,m.encode("Client Key"))),$=await r.digest("SHA-256",k),C="n=*,r="+n.clientNonce,A="r="+u+",s="+l+",i="+p,R="c=biws,r="+u,O=C+","+A+","+R,z=await r.importKey("raw",$,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);var D=new Uint8Array(await r.sign("HMAC",z,m.encode(O))),X=Fe.from(k.map((Se,ke)=>k[ke]^D[ke])),G=X.toString("base64");let B=await r.importKey("raw",b,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),te=await r.sign("HMAC",B,m.encode("Server Key")),ne=await r.importKey("raw",te,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);var ae=Fe.from(await r.sign("HMAC",ne,m.encode(O)));n.message="SASLResponse",n.serverSignature=ae.toString("base64"),n.response=R+",p="+G,this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}};I(Xj,"NeonClient");iee=Xj;Fl();aee=cs(PT());a(Yj,"vl");I(Yj,"promisify");eD=class extends nee.Pool{static{a(this,"Un")}constructor(){super(...arguments),Je(this,"Client",iee),Je(this,"hasFetchUnsupportedListeners",!1),Je(this,"addListener",this.on)}on(t,r){return t!=="error"&&(this.hasFetchUnsupportedListeners=!0),super.on(t,r)}query(t,r,n){if(!us.poolQueryViaFetch||this.hasFetchUnsupportedListeners||typeof t=="function")return super.query(t,r,n);typeof r=="function"&&(n=r,r=void 0);let o=Yj(this.Promise,n);n=o.callback;try{let i=new aee.default(this.options),s=encodeURIComponent,u=encodeURI,l=`postgresql://${s(i.user)}:${s(i.password)}@${s(i.host)}/${u(i.database)}`,d=typeof t=="string"?t:t.text,p=r??t.values??[];ia(l,{fullResults:!0,arrayMode:t.rowMode==="array"}).query(d,p,{types:t.types??this.options?.types}).then(f=>n(void 0,f)).catch(f=>n(f))}catch(i){n(i)}return o.result}};I(eD,"NeonPool");vo=eD;Fl();Jl=cs(Ef()),cNe=Jl.DatabaseError,lNe=Jl.defaults,dNe=Jl.escapeIdentifier,pNe=Jl.escapeLiteral,Ht=Jl.types;});var At,aa=W(()=>{lf();po();he();Kt();fo();yi();At=class e{static{a(this,"SelectionProxyHandler")}static[j]="SelectionProxyHandler";config;constructor(t){this.config={...t}}get(t,r){if(r==="_")return{...t._,selectedFields:new Proxy(t._.selectedFields,this)};if(r===Ot)return{...t[Ot],selectedFields:new Proxy(t[Ot].selectedFields,this)};if(typeof r=="symbol")return t[r];let o=(Y(t,rr)?t._.selectedFields:Y(t,Zr)?t[Ot].selectedFields:t)[r];if(Y(o,be.Aliased)){if(this.config.sqlAliasedBehavior==="sql"&&!o.isSelectionField)return o.sql;let i=o.clone();return i.isSelectionField=!0,i}if(Y(o,be)){if(this.config.sqlBehavior==="sql")return o;throw new Error(`You tried to reference "${r}" field from a subquery, which is a raw SQL field, but it doesn't have an alias declared. Please add an alias to the field using ".as('alias')" method.`)}return Y(o,St)?this.config.alias?new Proxy(o,new ra(new Proxy(o.table,new os(this.config.alias,this.config.replaceOriginalName??!1)))):o:typeof o!="object"||o===null?o:new Proxy(o,new e(this.config))}}});var tD,AT,rD=W(()=>{he();tD=class{static{a(this,"CheckBuilder")}constructor(t,r){this.name=t,this.value=r}static[j]="PgCheckBuilder";brand;build(t){return new AT(t,this)}},AT=class{static{a(this,"Check")}constructor(t,r){this.table=t,this.name=r.name,this.value=r.value}static[j]="PgCheck";name;value}});var kf=W(()=>{Qw();rx();ix();ux();dx();ct();fx();yx();bx();nf();xx();wl();kx();Ox();Cx();$x();Mx();Lx();Jx();Qx();r0();u0();d0();f0();y0();b0();x0();E0();I0();A0();$0();j0();q0();F0();H0()});function ds(e){return new CT(!0,e)}var CT,Vl,RT,nD=W(()=>{Kt();he();kf();CT=class{static{a(this,"IndexBuilderOn")}constructor(t,r){this.unique=t,this.name=r}static[j]="PgIndexBuilderOn";on(...t){return new Vl(t.map(r=>{if(Y(r,be))return r;r=r;let n=new su(r.name,!!r.keyAsName,r.columnType,r.indexConfig);return r.indexConfig=JSON.parse(JSON.stringify(r.defaultConfig)),n}),this.unique,!1,this.name)}onOnly(...t){return new Vl(t.map(r=>{if(Y(r,be))return r;r=r;let n=new su(r.name,!!r.keyAsName,r.columnType,r.indexConfig);return r.indexConfig=r.defaultConfig,n}),this.unique,!0,this.name)}using(t,...r){return new Vl(r.map(n=>{if(Y(n,be))return n;n=n;let o=new su(n.name,!!n.keyAsName,n.columnType,n.indexConfig);return n.indexConfig=JSON.parse(JSON.stringify(n.defaultConfig)),o}),this.unique,!0,this.name,t)}},Vl=class{static{a(this,"IndexBuilder")}static[j]="PgIndexBuilder";config;constructor(t,r,n,o,i="btree"){this.config={name:o,columns:t,unique:r,only:n,method:i}}concurrently(){return this.config.concurrently=!0,this}with(t){return this.config.with=t,this}where(t){return this.config.where=t,this}build(t){return new RT(this.config,t)}},RT=class{static{a(this,"Index")}static[j]="PgIndex";config;constructor(t,r){this.config={...t,table:r}}};a(ds,"uniqueIndex")});var oD,iD=W(()=>{he();oD=class{static{a(this,"PgPolicy")}constructor(t,r){this.name=t,r&&(this.as=r.as,this.for=r.for,this.to=r.to,this.using=r.using,this.withCheck=r.withCheck)}static[j]="PgPolicy";as;for;to;using;withCheck;_linkedTable;link(t){return this._linkedTable=t,this}}});var $T,NT=W(()=>{$T=Symbol.for("drizzle:PgViewConfig")});function see(e){return(e.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).map(r=>r.toLowerCase()).join("_")}function uee(e){return(e.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).reduce((r,n,o)=>{let i=o===0?n.toLowerCase():`${n[0].toUpperCase()}${n.slice(1)}`;return r+i},"")}function cee(e){return e}var Pf,aD=W(()=>{he();Yr();a(see,"toSnakeCase");a(uee,"toCamelCase");a(cee,"noopCase");Pf=class{static{a(this,"CasingCache")}static[j]="CasingCache";cache={};cachedTables={};convert;constructor(t){this.convert=t==="snake_case"?see:t==="camelCase"?uee:cee}getColumnCasing(t){if(!t.keyAsName)return t.name;let r=t.table[ye.Symbol.Schema]??"public",n=t.table[ye.Symbol.OriginalName],o=`${r}.${n}.${t.name}`;return this.cache[o]||this.cacheTable(t.table),this.cache[o]}cacheTable(t){let r=t[ye.Symbol.Schema]??"public",n=t[ye.Symbol.OriginalName],o=`${r}.${n}`;if(!this.cachedTables[o]){for(let i of Object.values(t[ye.Symbol.Columns])){let s=`${o}.${i.name}`;this.cache[s]=this.convert(i.name)}this.cachedTables[o]=!0}}clearCache(){this.cache={},this.cachedTables={}}}});var Ti,If=W(()=>{he();Kt();Ti=class extends Zr{static{a(this,"PgViewBase")}static[j]="PgViewBase"}});var Ho,Zl=W(()=>{lf();aD();po();he();df();kf();na();yu();hf();Kt();fo();Yr();Et();yi();If();Ho=class{static{a(this,"PgDialect")}static[j]="PgDialect";casing;constructor(t){this.casing=new Pf(t?.casing)}async migrate(t,r,n){let o=typeof n=="string"?"__drizzle_migrations":n.migrationsTable??"__drizzle_migrations",i=typeof n=="string"?"drizzle":n.migrationsSchema??"drizzle",s=q`
			CREATE TABLE IF NOT EXISTS ${q.identifier(i)}.${q.identifier(o)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at bigint
			)
		`;await r.execute(q`CREATE SCHEMA IF NOT EXISTS ${q.identifier(i)}`),await r.execute(s);let l=(await r.all(q`select id, hash, created_at from ${q.identifier(i)}.${q.identifier(o)} order by created_at desc limit 1`))[0];await r.transaction(async d=>{for await(let p of t)if(!l||Number(l.created_at)<p.folderMillis){for(let f of p.sql)await d.execute(q.raw(f));await d.execute(q`insert into ${q.identifier(i)}.${q.identifier(o)} ("hash", "created_at") values(${p.hash}, ${p.folderMillis})`)}})}escapeName(t){return`"${t}"`}escapeParam(t){return`$${t+1}`}escapeString(t){return`'${t.replace(/'/g,"''")}'`}buildWithCTE(t){if(!t?.length)return;let r=[q`with `];for(let[n,o]of t.entries())r.push(q`${q.identifier(o._.alias)} as (${o._.sql})`),n<t.length-1&&r.push(q`, `);return r.push(q` `),q.join(r)}buildDeleteQuery({table:t,where:r,returning:n,withList:o}){let i=this.buildWithCTE(o),s=n?q` returning ${this.buildSelection(n,{isSingleTable:!0})}`:void 0,u=r?q` where ${r}`:void 0;return q`${i}delete from ${t}${u}${s}`}buildUpdateSet(t,r){let n=t[ye.Symbol.Columns],o=Object.keys(n).filter(s=>r[s]!==void 0||n[s]?.onUpdateFn!==void 0),i=o.length;return q.join(o.flatMap((s,u)=>{let l=n[s],d=r[s]??q.param(l.onUpdateFn(),l),p=q`${q.identifier(this.casing.getColumnCasing(l))} = ${d}`;return u<i-1?[p,q.raw(", ")]:[p]}))}buildUpdateQuery({table:t,set:r,where:n,returning:o,withList:i,from:s,joins:u}){let l=this.buildWithCTE(i),d=t[wr.Symbol.Name],p=t[wr.Symbol.Schema],f=t[wr.Symbol.OriginalName],m=d===f?void 0:d,y=q`${p?q`${q.identifier(p)}.`:void 0}${q.identifier(f)}${m&&q` ${q.identifier(m)}`}`,g=this.buildUpdateSet(t,r),h=s&&q.join([q.raw(" from "),this.buildFromTable(s)]),v=this.buildJoins(u),S=o?q` returning ${this.buildSelection(o,{isSingleTable:!s})}`:void 0,b=n?q` where ${n}`:void 0;return q`${l}update ${y} set ${g}${h}${v}${b}${S}`}buildSelection(t,{isSingleTable:r=!1}={}){let n=t.length,o=t.flatMap(({field:i},s)=>{let u=[];if(Y(i,be.Aliased)&&i.isSelectionField)u.push(q.identifier(i.fieldAlias));else if(Y(i,be.Aliased)||Y(i,be)){let l=Y(i,be.Aliased)?i.sql:i;r?u.push(new be(l.queryChunks.map(d=>Y(d,ge)?q.identifier(this.casing.getColumnCasing(d)):d))):u.push(l),Y(i,be.Aliased)&&u.push(q` as ${q.identifier(i.fieldAlias)}`)}else Y(i,St)&&(r?u.push(q.identifier(this.casing.getColumnCasing(i))):u.push(i));return s<n-1&&u.push(q`, `),u});return q.join(o)}buildJoins(t){if(!t||t.length===0)return;let r=[];for(let[n,o]of t.entries()){n===0&&r.push(q` `);let i=o.table,s=o.lateral?q` lateral`:void 0,u=o.on?q` on ${o.on}`:void 0;if(Y(i,wr)){let l=i[wr.Symbol.Name],d=i[wr.Symbol.Schema],p=i[wr.Symbol.OriginalName],f=l===p?void 0:o.alias;r.push(q`${q.raw(o.joinType)} join${s} ${d?q`${q.identifier(d)}.`:void 0}${q.identifier(p)}${f&&q` ${q.identifier(f)}`}${u}`)}else if(Y(i,Zr)){let l=i[Ot].name,d=i[Ot].schema,p=i[Ot].originalName,f=l===p?void 0:o.alias;r.push(q`${q.raw(o.joinType)} join${s} ${d?q`${q.identifier(d)}.`:void 0}${q.identifier(p)}${f&&q` ${q.identifier(f)}`}${u}`)}else r.push(q`${q.raw(o.joinType)} join${s} ${i}${u}`);n<t.length-1&&r.push(q` `)}return q.join(r)}buildFromTable(t){if(Y(t,ye)&&t[ye.Symbol.IsAlias]){let r=q`${q.identifier(t[ye.Symbol.OriginalName])}`;return t[ye.Symbol.Schema]&&(r=q`${q.identifier(t[ye.Symbol.Schema])}.${r}`),q`${r} ${q.identifier(t[ye.Symbol.Name])}`}return t}buildSelectQuery({withList:t,fields:r,fieldsFlat:n,where:o,having:i,table:s,joins:u,orderBy:l,groupBy:d,limit:p,offset:f,lockingClause:m,distinct:y,setOperators:g}){let h=n??zn(r);for(let B of h)if(Y(B.field,St)&&Xr(B.field.table)!==(Y(s,rr)?s._.alias:Y(s,Ti)?s[Ot].name:Y(s,be)?void 0:Xr(s))&&!(te=>u?.some(({alias:ne})=>ne===(te[ye.Symbol.IsAlias]?Xr(te):te[ye.Symbol.BaseName])))(B.field.table)){let te=Xr(B.field.table);throw new Error(`Your "${B.path.join("->")}" field references a column "${te}"."${B.field.name}", but the table "${te}" is not part of the query! Did you forget to join it?`)}let v=!u||u.length===0,S=this.buildWithCTE(t),b;y&&(b=y===!0?q` distinct`:q` distinct on (${q.join(y.on,q`, `)})`);let w=this.buildSelection(h,{isSingleTable:v}),k=this.buildFromTable(s),$=this.buildJoins(u),C=o?q` where ${o}`:void 0,A=i?q` having ${i}`:void 0,R;l&&l.length>0&&(R=q` order by ${q.join(l,q`, `)}`);let O;d&&d.length>0&&(O=q` group by ${q.join(d,q`, `)}`);let z=typeof p=="object"||typeof p=="number"&&p>=0?q` limit ${p}`:void 0,D=f?q` offset ${f}`:void 0,X=q.empty();if(m){let B=q` for ${q.raw(m.strength)}`;m.config.of&&B.append(q` of ${q.join(Array.isArray(m.config.of)?m.config.of:[m.config.of],q`, `)}`),m.config.noWait?B.append(q` nowait`):m.config.skipLocked&&B.append(q` skip locked`),X.append(B)}let G=q`${S}select${b} ${w} from ${k}${$}${C}${O}${A}${R}${z}${D}${X}`;return g.length>0?this.buildSetOperations(G,g):G}buildSetOperations(t,r){let[n,...o]=r;if(!n)throw new Error("Cannot pass undefined values to any set operator");return o.length===0?this.buildSetOperationQuery({leftSelect:t,setOperator:n}):this.buildSetOperations(this.buildSetOperationQuery({leftSelect:t,setOperator:n}),o)}buildSetOperationQuery({leftSelect:t,setOperator:{type:r,isAll:n,rightSelect:o,limit:i,orderBy:s,offset:u}}){let l=q`(${t.getSQL()}) `,d=q`(${o.getSQL()})`,p;if(s&&s.length>0){let g=[];for(let h of s)if(Y(h,ge))g.push(q.identifier(h.name));else if(Y(h,be)){for(let v=0;v<h.queryChunks.length;v++){let S=h.queryChunks[v];Y(S,ge)&&(h.queryChunks[v]=q.identifier(S.name))}g.push(q`${h}`)}else g.push(q`${h}`);p=q` order by ${q.join(g,q`, `)} `}let f=typeof i=="object"||typeof i=="number"&&i>=0?q` limit ${i}`:void 0,m=q.raw(`${r} ${n?"all ":""}`),y=u?q` offset ${u}`:void 0;return q`${l}${m}${d}${p}${f}${y}`}buildInsertQuery({table:t,values:r,onConflict:n,returning:o,withList:i,select:s,overridingSystemValue_:u}){let l=[],d=t[ye.Symbol.Columns],p=Object.entries(d).filter(([S,b])=>!b.shouldDisableInsert()),f=p.map(([,S])=>q.identifier(this.casing.getColumnCasing(S)));if(s){let S=r;Y(S,be)?l.push(S):l.push(S.getSQL())}else{let S=r;l.push(q.raw("values "));for(let[b,w]of S.entries()){let k=[];for(let[$,C]of p){let A=w[$];if(A===void 0||Y(A,Vr)&&A.value===void 0)if(C.defaultFn!==void 0){let R=C.defaultFn(),O=Y(R,be)?R:q.param(R,C);k.push(O)}else if(!C.default&&C.onUpdateFn!==void 0){let R=C.onUpdateFn(),O=Y(R,be)?R:q.param(R,C);k.push(O)}else k.push(q`default`);else k.push(A)}l.push(k),b<S.length-1&&l.push(q`, `)}}let m=this.buildWithCTE(i),y=q.join(l),g=o?q` returning ${this.buildSelection(o,{isSingleTable:!0})}`:void 0,h=n?q` on conflict ${n}`:void 0,v=u===!0?q`overriding system value `:void 0;return q`${m}insert into ${t} ${f} ${v}${y}${h}${g}`}buildRefreshMaterializedViewQuery({view:t,concurrently:r,withNoData:n}){let o=r?q` concurrently`:void 0,i=n?q` with no data`:void 0;return q`refresh materialized view${o} ${t}${i}`}prepareTyping(t){return Y(t,kl)||Y(t,El)?"json":Y(t,Pl)?"decimal":Y(t,Il)?"time":Y(t,Ol)||Y(t,Al)?"timestamp":Y(t,xl)||Y(t,Tl)?"date":Y(t,Cl)?"uuid":"none"}sqlToQuery(t,r){return t.toQuery({casing:this.casing,escapeName:this.escapeName,escapeParam:this.escapeParam,escapeString:this.escapeString,prepareTyping:this.prepareTyping,invokeSource:r})}buildRelationalQueryWithoutPK({fullSchema:t,schema:r,tableNamesMap:n,table:o,tableConfig:i,queryConfig:s,tableAlias:u,nestedQueryRelation:l,joinOn:d}){let p=[],f,m,y=[],g,h=[];if(s===!0)p=Object.entries(i.columns).map(([b,w])=>({dbKey:w.name,tsKey:b,field:go(w,u),relationTableTsKey:void 0,isJson:!1,selection:[]}));else{let S=Object.fromEntries(Object.entries(i.columns).map(([A,R])=>[A,go(R,u)]));if(s.where){let A=typeof s.where=="function"?s.where(S,lT()):s.where;g=A&&lu(A,u)}let b=[],w=[];if(s.columns){let A=!1;for(let[R,O]of Object.entries(s.columns))O!==void 0&&R in i.columns&&(!A&&O===!0&&(A=!0),w.push(R));w.length>0&&(w=A?w.filter(R=>s.columns?.[R]===!0):Object.keys(i.columns).filter(R=>!w.includes(R)))}else w=Object.keys(i.columns);for(let A of w){let R=i.columns[A];b.push({tsKey:A,value:R})}let k=[];s.with&&(k=Object.entries(s.with).filter(A=>!!A[1]).map(([A,R])=>({tsKey:A,queryConfig:R,relation:i.relations[A]})));let $;if(s.extras){$=typeof s.extras=="function"?s.extras(S,{sql:q}):s.extras;for(let[A,R]of Object.entries($))b.push({tsKey:A,value:cf(R,u)})}for(let{tsKey:A,value:R}of b)p.push({dbKey:Y(R,be.Aliased)?R.fieldAlias:i.columns[A].name,tsKey:A,field:Y(R,St)?go(R,u):R,relationTableTsKey:void 0,isJson:!1,selection:[]});let C=typeof s.orderBy=="function"?s.orderBy(S,dT()):s.orderBy??[];Array.isArray(C)||(C=[C]),y=C.map(A=>Y(A,St)?go(A,u):lu(A,u)),f=s.limit,m=s.offset;for(let{tsKey:A,queryConfig:R,relation:O}of k){let z=pT(r,n,O),D=ta(O.referencedTable),X=n[D],G=`${u}_${A}`,B=Pe(...z.fields.map((ae,Se)=>V(go(z.references[Se],G),go(ae,u)))),te=this.buildRelationalQueryWithoutPK({fullSchema:t,schema:r,tableNamesMap:n,table:t[X],tableConfig:r[X],queryConfig:Y(O,wi)?R===!0?{limit:1}:{...R,limit:1}:R,tableAlias:G,joinOn:B,nestedQueryRelation:O}),ne=q`${q.identifier(G)}.${q.identifier("data")}`.as(A);h.push({on:q`true`,table:new rr(te.sql,{},G),alias:G,joinType:"left",lateral:!0}),p.push({dbKey:A,tsKey:A,field:ne,relationTableTsKey:X,isJson:!0,selection:te.selection})}}if(p.length===0)throw new du({message:`No fields selected for table "${i.tsName}" ("${u}")`});let v;if(g=Pe(d,g),l){let S=q`json_build_array(${q.join(p.map(({field:k,tsKey:$,isJson:C})=>C?q`${q.identifier(`${u}_${$}`)}.${q.identifier("data")}`:Y(k,be.Aliased)?k.sql:k),q`, `)})`;Y(l,gu)&&(S=q`coalesce(json_agg(${S}${y.length>0?q` order by ${q.join(y,q`, `)}`:void 0}), '[]'::json)`);let b=[{dbKey:"data",tsKey:"data",field:S.as("data"),isJson:!0,relationTableTsKey:i.tsName,selection:p}];f!==void 0||m!==void 0||y.length>0?(v=this.buildSelectQuery({table:cu(o,u),fields:{},fieldsFlat:[{path:[],field:q.raw("*")}],where:g,limit:f,offset:m,orderBy:y,setOperators:[]}),g=void 0,f=void 0,m=void 0,y=[]):v=cu(o,u),v=this.buildSelectQuery({table:Y(v,wr)?v:new rr(v,{},u),fields:{},fieldsFlat:b.map(({field:k})=>({path:[],field:Y(k,St)?go(k,u):k})),joins:h,where:g,limit:f,offset:m,orderBy:y,setOperators:[]})}else v=this.buildSelectQuery({table:cu(o,u),fields:{},fieldsFlat:p.map(({field:S})=>({path:[],field:Y(S,St)?go(S,u):S})),joins:h,where:g,limit:f,offset:m,orderBy:y,setOperators:[]});return{tableTsKey:i.tsName,sql:v,selection:p}}}});var Of,sD=W(()=>{he();Of=class{static{a(this,"TypedQueryBuilder")}static[j]="TypedQueryBuilder";getSelectedFields(){return this._.selectedFields}}});function Su(e,t){return(r,n,...o)=>{let i=[n,...o].map(s=>({type:e,isAll:t,rightSelect:s}));for(let s of i)if(!mu(r.getSelectedFields(),s.rightSelect.getSelectedFields()))throw new Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return r.addSetOperators(i)}}var Gr,zT,Af,lee,dee,pee,mee,fee,hee,gee,jT=W(()=>{he();If();sD();_i();aa();Kt();fo();Yr();Yi();Et();Et();yi();wu();Gr=class{static{a(this,"PgSelectBuilder")}static[j]="PgSelectBuilder";fields;session;dialect;withList=[];distinct;constructor(t){this.fields=t.fields,this.session=t.session,this.dialect=t.dialect,t.withList&&(this.withList=t.withList),this.distinct=t.distinct}authToken;setToken(t){return this.authToken=t,this}from(t){let r=!!this.fields,n=t,o;return this.fields?o=this.fields:Y(n,rr)?o=Object.fromEntries(Object.keys(n._.selectedFields).map(i=>[i,n[i]])):Y(n,Ti)?o=n[Ot].selectedFields:Y(n,be)?o={}:o=fu(n),new Af({table:n,fields:o,isPartialSelect:r,session:this.session,dialect:this.dialect,withList:this.withList,distinct:this.distinct}).setToken(this.authToken)}},zT=class extends Of{static{a(this,"PgSelectQueryBuilderBase")}static[j]="PgSelectQueryBuilder";_;config;joinsNotNullableMap;tableName;isPartialSelect;session;dialect;cacheConfig=void 0;usedTables=new Set;constructor({table:t,fields:r,isPartialSelect:n,session:o,dialect:i,withList:s,distinct:u}){super(),this.config={withList:s,table:t,fields:{...r},distinct:u,setOperators:[]},this.isPartialSelect=n,this.session=o,this.dialect=i,this._={selectedFields:r,config:this.config},this.tableName=Bo(t),this.joinsNotNullableMap=typeof this.tableName=="string"?{[this.tableName]:!0}:{};for(let l of _o(t))this.usedTables.add(l)}getUsedTables(){return[...this.usedTables]}createJoin(t,r){return(n,o)=>{let i=this.tableName,s=Bo(n);for(let u of _o(n))this.usedTables.add(u);if(typeof s=="string"&&this.config.joins?.some(u=>u.alias===s))throw new Error(`Alias "${s}" is already used in this query`);if(!this.isPartialSelect&&(Object.keys(this.joinsNotNullableMap).length===1&&typeof i=="string"&&(this.config.fields={[i]:this.config.fields}),typeof s=="string"&&!Y(n,be))){let u=Y(n,rr)?n._.selectedFields:Y(n,Zr)?n[Ot].selectedFields:n[ye.Symbol.Columns];this.config.fields[s]=u}if(typeof o=="function"&&(o=o(new Proxy(this.config.fields,new At({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.joins||(this.config.joins=[]),this.config.joins.push({on:o,table:n,joinType:t,alias:s,lateral:r}),typeof s=="string")switch(t){case"left":{this.joinsNotNullableMap[s]=!1;break}case"right":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([u])=>[u,!1])),this.joinsNotNullableMap[s]=!0;break}case"cross":case"inner":{this.joinsNotNullableMap[s]=!0;break}case"full":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([u])=>[u,!1])),this.joinsNotNullableMap[s]=!1;break}}return this}}leftJoin=this.createJoin("left",!1);leftJoinLateral=this.createJoin("left",!0);rightJoin=this.createJoin("right",!1);innerJoin=this.createJoin("inner",!1);innerJoinLateral=this.createJoin("inner",!0);fullJoin=this.createJoin("full",!1);crossJoin=this.createJoin("cross",!1);crossJoinLateral=this.createJoin("cross",!0);createSetOperator(t,r){return n=>{let o=typeof n=="function"?n(lee()):n;if(!mu(this.getSelectedFields(),o.getSelectedFields()))throw new Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return this.config.setOperators.push({type:t,isAll:r,rightSelect:o}),this}}union=this.createSetOperator("union",!1);unionAll=this.createSetOperator("union",!0);intersect=this.createSetOperator("intersect",!1);intersectAll=this.createSetOperator("intersect",!0);except=this.createSetOperator("except",!1);exceptAll=this.createSetOperator("except",!0);addSetOperators(t){return this.config.setOperators.push(...t),this}where(t){return typeof t=="function"&&(t=t(new Proxy(this.config.fields,new At({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.where=t,this}having(t){return typeof t=="function"&&(t=t(new Proxy(this.config.fields,new At({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.having=t,this}groupBy(...t){if(typeof t[0]=="function"){let r=t[0](new Proxy(this.config.fields,new At({sqlAliasedBehavior:"alias",sqlBehavior:"sql"})));this.config.groupBy=Array.isArray(r)?r:[r]}else this.config.groupBy=t;return this}orderBy(...t){if(typeof t[0]=="function"){let r=t[0](new Proxy(this.config.fields,new At({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),n=Array.isArray(r)?r:[r];this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=n:this.config.orderBy=n}else{let r=t;this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=r:this.config.orderBy=r}return this}limit(t){return this.config.setOperators.length>0?this.config.setOperators.at(-1).limit=t:this.config.limit=t,this}offset(t){return this.config.setOperators.length>0?this.config.setOperators.at(-1).offset=t:this.config.offset=t,this}for(t,r={}){return this.config.lockingClause={strength:t,config:r},this}getSQL(){return this.dialect.buildSelectQuery(this.config)}toSQL(){let{typings:t,...r}=this.dialect.sqlToQuery(this.getSQL());return r}as(t){let r=[];if(r.push(..._o(this.config.table)),this.config.joins)for(let n of this.config.joins)r.push(..._o(n.table));return new Proxy(new rr(this.getSQL(),this.config.fields,t,!1,[...new Set(r)]),new At({alias:t,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}getSelectedFields(){return new Proxy(this.config.fields,new At({alias:this.tableName,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}$dynamic(){return this}$withCache(t){return this.cacheConfig=t===void 0?{config:{},enable:!0,autoInvalidate:!0}:t===!1?{enable:!1}:{enable:!0,autoInvalidate:!0,...t},this}},Af=class extends zT{static{a(this,"PgSelectBase")}static[j]="PgSelect";_prepare(t){let{session:r,config:n,dialect:o,joinsNotNullableMap:i,authToken:s,cacheConfig:u,usedTables:l}=this;if(!r)throw new Error("Cannot execute a query on a query builder. Please use a database instance instead.");let{fields:d}=n;return Sr.startActiveSpan("drizzle.prepareQuery",()=>{let p=zn(d),f=r.prepareQuery(o.sqlToQuery(this.getSQL()),p,t,!0,void 0,{type:"select",tables:[...l]},u);return f.joinsNotNullableMap=i,f.setToken(s)})}prepare(t){return this._prepare(t)}authToken;setToken(t){return this.authToken=t,this}execute=a(t=>Sr.startActiveSpan("drizzle.operation",()=>this._prepare().execute(t,this.authToken)),"execute")};Vw(Af,[Mr]);a(Su,"createSetOperator");lee=a(()=>({union:dee,unionAll:pee,intersect:mee,intersectAll:fee,except:hee,exceptAll:gee}),"getPgSetOperators"),dee=Su("union",!1),pee=Su("union",!0),mee=Su("intersect",!1),fee=Su("intersect",!0),hee=Su("except",!1),gee=Su("except",!0)});var Ei,Cf=W(()=>{he();Zl();aa();fo();jT();Ei=class{static{a(this,"QueryBuilder")}static[j]="PgQueryBuilder";dialect;dialectConfig;constructor(t){this.dialect=Y(t,Ho)?t:void 0,this.dialectConfig=Y(t,Ho)?void 0:t}$with=a((t,r)=>{let n=this;return{as:a(i=>(typeof i=="function"&&(i=i(n)),new Proxy(new rs(i.getSQL(),r??("getSelectedFields"in i?i.getSelectedFields()??{}:{}),t,!0),new At({alias:t,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))),"as")}},"$with");with(...t){let r=this;function n(s){return new Gr({fields:s??void 0,session:void 0,dialect:r.getDialect(),withList:t})}a(n,"select");function o(s){return new Gr({fields:s??void 0,session:void 0,dialect:r.getDialect(),distinct:!0})}a(o,"selectDistinct");function i(s,u){return new Gr({fields:u??void 0,session:void 0,dialect:r.getDialect(),distinct:{on:s}})}return a(i,"selectDistinctOn"),{select:n,selectDistinct:o,selectDistinctOn:i}}select(t){return new Gr({fields:t??void 0,session:void 0,dialect:this.getDialect()})}selectDistinct(t){return new Gr({fields:t??void 0,session:void 0,dialect:this.getDialect(),distinct:!0})}selectDistinctOn(t,r){return new Gr({fields:r??void 0,session:void 0,dialect:this.getDialect(),distinct:{on:t}})}getDialect(){return this.dialect||(this.dialect=new Ho(this.dialectConfig)),this.dialect}}});function cD(e,t,r){return t?new MT(e,t,r):new DT(e,r)}function lD(e,t,r){return t?new UT(e,t,r):new qT(e,r)}var Rf,DT,MT,$f,qT,UT,Kl,uD,Gl,LT=W(()=>{he();aa();Et();Cf();na();If();NT();Rf=class{static{a(this,"DefaultViewBuilderCore")}constructor(t,r){this.name=t,this.schema=r}static[j]="PgDefaultViewBuilderCore";config={};with(t){return this.config.with=t,this}},DT=class extends Rf{static{a(this,"ViewBuilder")}static[j]="PgViewBuilder";as(t){typeof t=="function"&&(t=t(new Ei));let r=new At({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}),n=new Proxy(t.getSelectedFields(),r);return new Proxy(new Kl({pgConfig:this.config,config:{name:this.name,schema:this.schema,selectedFields:n,query:t.getSQL().inlineParams()}}),r)}},MT=class extends Rf{static{a(this,"ManualViewBuilder")}static[j]="PgManualViewBuilder";columns;constructor(t,r,n){super(t,n),this.columns=fu(Ee(t,r))}existing(){return new Proxy(new Kl({pgConfig:void 0,config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:void 0}}),new At({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}as(t){return new Proxy(new Kl({pgConfig:this.config,config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:t.inlineParams()}}),new At({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}},$f=class{static{a(this,"MaterializedViewBuilderCore")}constructor(t,r){this.name=t,this.schema=r}static[j]="PgMaterializedViewBuilderCore";config={};using(t){return this.config.using=t,this}with(t){return this.config.with=t,this}tablespace(t){return this.config.tablespace=t,this}withNoData(){return this.config.withNoData=!0,this}},qT=class extends $f{static{a(this,"MaterializedViewBuilder")}static[j]="PgMaterializedViewBuilder";as(t){typeof t=="function"&&(t=t(new Ei));let r=new At({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}),n=new Proxy(t.getSelectedFields(),r);return new Proxy(new Gl({pgConfig:{with:this.config.with,using:this.config.using,tablespace:this.config.tablespace,withNoData:this.config.withNoData},config:{name:this.name,schema:this.schema,selectedFields:n,query:t.getSQL().inlineParams()}}),r)}},UT=class extends $f{static{a(this,"ManualMaterializedViewBuilder")}static[j]="PgManualMaterializedViewBuilder";columns;constructor(t,r,n){super(t,n),this.columns=fu(Ee(t,r))}existing(){return new Proxy(new Gl({pgConfig:{tablespace:this.config.tablespace,using:this.config.using,with:this.config.with,withNoData:this.config.withNoData},config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:void 0}}),new At({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}as(t){return new Proxy(new Gl({pgConfig:{tablespace:this.config.tablespace,using:this.config.using,with:this.config.with,withNoData:this.config.withNoData},config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:t.inlineParams()}}),new At({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}},Kl=class extends Ti{static{a(this,"PgView")}static[j]="PgView";[$T];constructor({pgConfig:t,config:r}){super(r),t&&(this[$T]={with:t.with})}},uD=Symbol.for("drizzle:PgMaterializedViewConfig"),Gl=class extends Ti{static{a(this,"PgMaterializedView")}static[j]="PgMaterializedView";[uD];constructor({pgConfig:t,config:r}){super(r),this[uD]={with:t?.with,using:t?.using,tablespace:t?.tablespace,withNoData:t?.withNoData}}};a(cD,"pgViewWithSchema");a(lD,"pgMaterializedViewWithSchema")});function _o(e){return Y(e,wr)?[e[ea]?`${e[ea]}.${e[ye.Symbol.BaseName]}`:e[ye.Symbol.BaseName]]:Y(e,rr)?e._.usedTables??[]:Y(e,be)?e.usedTables??[]:[]}var wu=W(()=>{he();na();Kt();fo();Yr();a(_o,"extractUsedTable")});var Wl,dD=W(()=>{he();_i();aa();Yr();Yi();Et();wu();Wl=class extends Mr{static{a(this,"PgDeleteBase")}constructor(t,r,n,o){super(),this.session=r,this.dialect=n,this.config={table:t,withList:o}}static[j]="PgDelete";config;cacheConfig;where(t){return this.config.where=t,this}returning(t=this.config.table[ye.Symbol.Columns]){return this.config.returningFields=t,this.config.returning=zn(t),this}getSQL(){return this.dialect.buildDeleteQuery(this.config)}toSQL(){let{typings:t,...r}=this.dialect.sqlToQuery(this.getSQL());return r}_prepare(t){return Sr.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,t,!0,void 0,{type:"delete",tables:_o(this.config.table)},this.cacheConfig))}prepare(t){return this._prepare(t)}authToken;setToken(t){return this.authToken=t,this}execute=a(t=>Sr.startActiveSpan("drizzle.operation",()=>this._prepare().execute(t,this.authToken)),"execute");getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new At({alias:Xr(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}});var Ql,Nf,pD=W(()=>{he();_i();aa();Kt();Yr();Yi();Et();wu();Cf();Ql=class{static{a(this,"PgInsertBuilder")}constructor(t,r,n,o,i){this.table=t,this.session=r,this.dialect=n,this.withList=o,this.overridingSystemValue_=i}static[j]="PgInsertBuilder";authToken;setToken(t){return this.authToken=t,this}overridingSystemValue(){return this.overridingSystemValue_=!0,this}values(t){if(t=Array.isArray(t)?t:[t],t.length===0)throw new Error("values() must be called with at least one value");let r=t.map(n=>{let o={},i=this.table[ye.Symbol.Columns];for(let s of Object.keys(n)){let u=n[s];o[s]=Y(u,be)?u:new Vr(u,i[s])}return o});return new Nf(this.table,r,this.session,this.dialect,this.withList,!1,this.overridingSystemValue_).setToken(this.authToken)}select(t){let r=typeof t=="function"?t(new Ei):t;if(!Y(r,be)&&!mu(this.table[yl],r._.selectedFields))throw new Error("Insert select error: selected fields are not the same or are in a different order compared to the table definition");return new Nf(this.table,r,this.session,this.dialect,this.withList,!0)}},Nf=class extends Mr{static{a(this,"PgInsertBase")}constructor(t,r,n,o,i,s,u){super(),this.session=n,this.dialect=o,this.config={table:t,values:r,withList:i,select:s,overridingSystemValue_:u}}static[j]="PgInsert";config;cacheConfig;returning(t=this.config.table[ye.Symbol.Columns]){return this.config.returningFields=t,this.config.returning=zn(t),this}onConflictDoNothing(t={}){if(t.target===void 0)this.config.onConflict=q`do nothing`;else{let r="";r=Array.isArray(t.target)?t.target.map(o=>this.dialect.escapeName(this.dialect.casing.getColumnCasing(o))).join(","):this.dialect.escapeName(this.dialect.casing.getColumnCasing(t.target));let n=t.where?q` where ${t.where}`:void 0;this.config.onConflict=q`(${q.raw(r)})${n} do nothing`}return this}onConflictDoUpdate(t){if(t.where&&(t.targetWhere||t.setWhere))throw new Error('You cannot use both "where" and "targetWhere"/"setWhere" at the same time - "where" is deprecated, use "targetWhere" or "setWhere" instead.');let r=t.where?q` where ${t.where}`:void 0,n=t.targetWhere?q` where ${t.targetWhere}`:void 0,o=t.setWhere?q` where ${t.setWhere}`:void 0,i=this.dialect.buildUpdateSet(this.config.table,bl(this.config.table,t.set)),s="";return s=Array.isArray(t.target)?t.target.map(u=>this.dialect.escapeName(this.dialect.casing.getColumnCasing(u))).join(","):this.dialect.escapeName(this.dialect.casing.getColumnCasing(t.target)),this.config.onConflict=q`(${q.raw(s)})${n} do update set ${i}${r}${o}`,this}getSQL(){return this.dialect.buildInsertQuery(this.config)}toSQL(){let{typings:t,...r}=this.dialect.sqlToQuery(this.getSQL());return r}_prepare(t){return Sr.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,t,!0,void 0,{type:"insert",tables:_o(this.config.table)},this.cacheConfig))}prepare(t){return this._prepare(t)}authToken;setToken(t){return this.authToken=t,this}execute=a(t=>Sr.startActiveSpan("drizzle.operation",()=>this._prepare().execute(t,this.authToken)),"execute");getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new At({alias:Xr(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}});var zf,FT=W(()=>{he();_i();Yi();zf=class extends Mr{static{a(this,"PgRefreshMaterializedView")}constructor(t,r,n){super(),this.session=r,this.dialect=n,this.config={view:t}}static[j]="PgRefreshMaterializedView";config;concurrently(){if(this.config.withNoData!==void 0)throw new Error("Cannot use concurrently and withNoData together");return this.config.concurrently=!0,this}withNoData(){if(this.config.concurrently!==void 0)throw new Error("Cannot use concurrently and withNoData together");return this.config.withNoData=!0,this}getSQL(){return this.dialect.buildRefreshMaterializedViewQuery(this.config)}toSQL(){let{typings:t,...r}=this.dialect.sqlToQuery(this.getSQL());return r}_prepare(t){return Sr.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),void 0,t,!0))}prepare(t){return this._prepare(t)}authToken;setToken(t){return this.authToken=t,this}execute=a(t=>Sr.startActiveSpan("drizzle.operation",()=>this._prepare().execute(t,this.authToken)),"execute")}});var mD=W(()=>{});var Xl,BT,fD=W(()=>{he();na();_i();aa();Kt();fo();Yr();Et();yi();wu();Xl=class{static{a(this,"PgUpdateBuilder")}constructor(t,r,n,o){this.table=t,this.session=r,this.dialect=n,this.withList=o}static[j]="PgUpdateBuilder";authToken;setToken(t){return this.authToken=t,this}set(t){return new BT(this.table,bl(this.table,t),this.session,this.dialect,this.withList).setToken(this.authToken)}},BT=class extends Mr{static{a(this,"PgUpdateBase")}constructor(t,r,n,o,i){super(),this.session=n,this.dialect=o,this.config={set:r,table:t,withList:i,joins:[]},this.tableName=Bo(t),this.joinsNotNullableMap=typeof this.tableName=="string"?{[this.tableName]:!0}:{}}static[j]="PgUpdate";config;tableName;joinsNotNullableMap;cacheConfig;from(t){let r=t,n=Bo(r);return typeof n=="string"&&(this.joinsNotNullableMap[n]=!0),this.config.from=r,this}getTableLikeFields(t){return Y(t,wr)?t[ye.Symbol.Columns]:Y(t,rr)?t._.selectedFields:t[Ot].selectedFields}createJoin(t){return(r,n)=>{let o=Bo(r);if(typeof o=="string"&&this.config.joins.some(i=>i.alias===o))throw new Error(`Alias "${o}" is already used in this query`);if(typeof n=="function"){let i=this.config.from&&!Y(this.config.from,be)?this.getTableLikeFields(this.config.from):void 0;n=n(new Proxy(this.config.table[ye.Symbol.Columns],new At({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})),i&&new Proxy(i,new At({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))}if(this.config.joins.push({on:n,table:r,joinType:t,alias:o}),typeof o=="string")switch(t){case"left":{this.joinsNotNullableMap[o]=!1;break}case"right":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([i])=>[i,!1])),this.joinsNotNullableMap[o]=!0;break}case"inner":{this.joinsNotNullableMap[o]=!0;break}case"full":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([i])=>[i,!1])),this.joinsNotNullableMap[o]=!1;break}}return this}}leftJoin=this.createJoin("left");rightJoin=this.createJoin("right");innerJoin=this.createJoin("inner");fullJoin=this.createJoin("full");where(t){return this.config.where=t,this}returning(t){if(!t&&(t=Object.assign({},this.config.table[ye.Symbol.Columns]),this.config.from)){let r=Bo(this.config.from);if(typeof r=="string"&&this.config.from&&!Y(this.config.from,be)){let n=this.getTableLikeFields(this.config.from);t[r]=n}for(let n of this.config.joins){let o=Bo(n.table);if(typeof o=="string"&&!Y(n.table,be)){let i=this.getTableLikeFields(n.table);t[o]=i}}}return this.config.returningFields=t,this.config.returning=zn(t),this}getSQL(){return this.dialect.buildUpdateQuery(this.config)}toSQL(){let{typings:t,...r}=this.dialect.sqlToQuery(this.getSQL());return r}_prepare(t){let r=this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,t,!0,void 0,{type:"insert",tables:_o(this.config.table)},this.cacheConfig);return r.joinsNotNullableMap=this.joinsNotNullableMap,r}prepare(t){return this._prepare(t)}authToken;setToken(t){return this.authToken=t,this}execute=a(t=>this._prepare().execute(t,this.authToken),"execute");getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new At({alias:Xr(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}});var JT=W(()=>{dD();pD();Cf();FT();jT();mD();fD()});var jf,hD=W(()=>{he();Kt();jf=class e extends be{static{a(this,"PgCountBuilder")}constructor(t){super(e.buildEmbeddedCount(t.source,t.filters).queryChunks),this.params=t,this.mapWith(Number),this.session=t.session,this.sql=e.buildCount(t.source,t.filters)}sql;token;static[j]="PgCountBuilder";[Symbol.toStringTag]="PgCountBuilder";session;static buildEmbeddedCount(t,r){return q`(select count(*) from ${t}${q.raw(" where ").if(r)}${r})`}static buildCount(t,r){return q`select count(*) as count from ${t}${q.raw(" where ").if(r)}${r};`}setToken(t){return this.token=t,this}then(t,r){return Promise.resolve(this.session.count(this.sql,this.token)).then(t,r)}catch(t){return this.then(void 0,t)}finally(t){return this.then(r=>(t?.(),r),r=>{throw t?.(),r})}}});var Df,Mf,gD=W(()=>{he();_i();yu();Yi();Df=class{static{a(this,"RelationalQueryBuilder")}constructor(t,r,n,o,i,s,u){this.fullSchema=t,this.schema=r,this.tableNamesMap=n,this.table=o,this.tableConfig=i,this.dialect=s,this.session=u}static[j]="PgRelationalQueryBuilder";findMany(t){return new Mf(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,t||{},"many")}findFirst(t){return new Mf(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,t?{...t,limit:1}:{limit:1},"first")}},Mf=class extends Mr{static{a(this,"PgRelationalQuery")}constructor(t,r,n,o,i,s,u,l,d){super(),this.fullSchema=t,this.schema=r,this.tableNamesMap=n,this.table=o,this.tableConfig=i,this.dialect=s,this.session=u,this.config=l,this.mode=d}static[j]="PgRelationalQuery";_prepare(t){return Sr.startActiveSpan("drizzle.prepareQuery",()=>{let{query:r,builtQuery:n}=this._toSQL();return this.session.prepareQuery(n,void 0,t,!0,(o,i)=>{let s=o.map(u=>zl(this.schema,this.tableConfig,u,r.selection,i));return this.mode==="first"?s[0]:s})})}prepare(t){return this._prepare(t)}_getQuery(){return this.dialect.buildRelationalQueryWithoutPK({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName})}getSQL(){return this._getQuery().sql}_toSQL(){let t=this._getQuery(),r=this.dialect.sqlToQuery(t.sql);return{query:t,builtQuery:r}}toSQL(){return this._toSQL().builtQuery}authToken;setToken(t){return this.authToken=t,this}execute(){return Sr.startActiveSpan("drizzle.operation",()=>this._prepare().execute(void 0,this.authToken))}}});var qf,yD=W(()=>{he();_i();qf=class extends Mr{static{a(this,"PgRaw")}constructor(t,r,n,o){super(),this.execute=t,this.sql=r,this.query=n,this.mapBatchResult=o}static[j]="PgRaw";getSQL(){return this.sql}getQuery(){return this.query}mapResult(t,r){return r?this.mapBatchResult(t):t}_prepare(){return this}isResponseInArrayMode(){return!1}}});var sa,Yl=W(()=>{he();JT();aa();Kt();fo();hD();gD();yD();FT();sa=class{static{a(this,"PgDatabase")}constructor(t,r,n){if(this.dialect=t,this.session=r,this._=n?{schema:n.schema,fullSchema:n.fullSchema,tableNamesMap:n.tableNamesMap,session:r}:{schema:void 0,fullSchema:{},tableNamesMap:{},session:r},this.query={},this._.schema)for(let[o,i]of Object.entries(this._.schema))this.query[o]=new Df(n.fullSchema,this._.schema,this._.tableNamesMap,n.fullSchema[o],i,t,r);this.$cache={invalidate:a(async o=>{},"invalidate")}}static[j]="PgDatabase";query;$with=a((t,r)=>{let n=this;return{as:a(i=>(typeof i=="function"&&(i=i(new Ei(n.dialect))),new Proxy(new rs(i.getSQL(),r??("getSelectedFields"in i?i.getSelectedFields()??{}:{}),t,!0),new At({alias:t,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))),"as")}},"$with");$count(t,r){return new jf({source:t,filters:r,session:this.session})}$cache;with(...t){let r=this;function n(d){return new Gr({fields:d??void 0,session:r.session,dialect:r.dialect,withList:t})}a(n,"select");function o(d){return new Gr({fields:d??void 0,session:r.session,dialect:r.dialect,withList:t,distinct:!0})}a(o,"selectDistinct");function i(d,p){return new Gr({fields:p??void 0,session:r.session,dialect:r.dialect,withList:t,distinct:{on:d}})}a(i,"selectDistinctOn");function s(d){return new Xl(d,r.session,r.dialect,t)}a(s,"update");function u(d){return new Ql(d,r.session,r.dialect,t)}a(u,"insert");function l(d){return new Wl(d,r.session,r.dialect,t)}return a(l,"delete_"),{select:n,selectDistinct:o,selectDistinctOn:i,update:s,insert:u,delete:l}}select(t){return new Gr({fields:t??void 0,session:this.session,dialect:this.dialect})}selectDistinct(t){return new Gr({fields:t??void 0,session:this.session,dialect:this.dialect,distinct:!0})}selectDistinctOn(t,r){return new Gr({fields:r??void 0,session:this.session,dialect:this.dialect,distinct:{on:t}})}update(t){return new Xl(t,this.session,this.dialect)}insert(t){return new Ql(t,this.session,this.dialect)}delete(t){return new Wl(t,this.session,this.dialect)}refreshMaterializedView(t){return new zf(t,this.session,this.dialect)}authToken;execute(t){let r=typeof t=="string"?q.raw(t):t.getSQL(),n=this.dialect.sqlToQuery(r),o=this.session.prepareQuery(n,void 0,void 0,!1);return new qf(()=>o.execute(void 0,this.authToken),r,n,i=>o.mapResult(i,!0))}transaction(t,r){return this.session.transaction(t,r)}}});async function VT(e,t){let r=`${e}-${JSON.stringify(t)}`,o=new TextEncoder().encode(r),i=await crypto.subtle.digest("SHA-256",o);return[...new Uint8Array(i)].map(l=>l.toString(16).padStart(2,"0")).join("")}var HT,ua,Uf=W(()=>{he();HT=class{static{a(this,"Cache")}static[j]="Cache"},ua=class extends HT{static{a(this,"NoopCache")}strategy(){return"all"}static[j]="NoopCache";async get(t){}async put(t,r,n,o){}async onMutate(t){}};a(VT,"hashQuery")});var vD=W(()=>{Uf()});var _D=W(()=>{});var bD,SD=W(()=>{he();bD=class{static{a(this,"PgRole")}constructor(t,r){this.name=t,r&&(this.createDb=r.createDb,this.createRole=r.createRole,this.inherit=r.inherit)}static[j]="PgRole";_existing;createDb;createRole;inherit;existing(){return this._existing=!0,this}}});function wD(e,t,r){return new ZT(e,t,r)}var ZT,KT=W(()=>{he();ZT=class{static{a(this,"PgSequence")}constructor(t,r,n){this.seqName=t,this.seqOptions=r,this.schema=n}static[j]="PgSequence"};a(wD,"pgSequenceWithSchema")});var xD,TD=W(()=>{he();Kt();nf();KT();na();LT();xD=class{static{a(this,"PgSchema")}constructor(t){this.schemaName=t}static[j]="PgSchema";table=a((t,r,n)=>Z0(t,r,n,this.schemaName),"table");view=a((t,r)=>cD(t,r,this.schemaName),"view");materializedView=a((t,r)=>lD(t,r,this.schemaName),"materializedView");enum(t,r){return Array.isArray(r)?jw(t,[...r],this.schemaName):Dw(t,r,this.schemaName)}sequence=a((t,r)=>wD(t,r,this.schemaName),"sequence");getSQL(){return new be([q.identifier(this.schemaName)])}shouldOmitSQLParens(){return!0}}});var xu,Tu,Eu,Lf=W(()=>{Uf();he();df();hf();Yi();Yl();xu=class{static{a(this,"PgPreparedQuery")}constructor(t,r,n,o){this.query=t,this.cache=r,this.queryMetadata=n,this.cacheConfig=o,r&&r.strategy()==="all"&&o===void 0&&(this.cacheConfig={enable:!0,autoInvalidate:!0}),this.cacheConfig?.enable||(this.cacheConfig=void 0)}authToken;getQuery(){return this.query}mapResult(t,r){return t}setToken(t){return this.authToken=t,this}static[j]="PgPreparedQuery";joinsNotNullableMap;async queryWithCache(t,r,n){if(this.cache===void 0||Y(this.cache,ua)||this.queryMetadata===void 0)try{return await n()}catch(o){throw new Fo(t,r,o)}if(this.cacheConfig&&!this.cacheConfig.enable)try{return await n()}catch(o){throw new Fo(t,r,o)}if((this.queryMetadata.type==="insert"||this.queryMetadata.type==="update"||this.queryMetadata.type==="delete")&&this.queryMetadata.tables.length>0)try{let[o]=await Promise.all([n(),this.cache.onMutate({tables:this.queryMetadata.tables})]);return o}catch(o){throw new Fo(t,r,o)}if(!this.cacheConfig)try{return await n()}catch(o){throw new Fo(t,r,o)}if(this.queryMetadata.type==="select"){let o=await this.cache.get(this.cacheConfig.tag??await VT(t,r),this.queryMetadata.tables,this.cacheConfig.tag!==void 0,this.cacheConfig.autoInvalidate);if(o===void 0){let i;try{i=await n()}catch(s){throw new Fo(t,r,s)}return await this.cache.put(this.cacheConfig.tag??await VT(t,r),i,this.cacheConfig.autoInvalidate?this.queryMetadata.tables:[],this.cacheConfig.tag!==void 0,this.cacheConfig.config),i}return o}try{return await n()}catch(o){throw new Fo(t,r,o)}}},Tu=class{static{a(this,"PgSession")}constructor(t){this.dialect=t}static[j]="PgSession";execute(t,r){return Sr.startActiveSpan("drizzle.operation",()=>Sr.startActiveSpan("drizzle.prepareQuery",()=>this.prepareQuery(this.dialect.sqlToQuery(t),void 0,void 0,!1)).setToken(r).execute(void 0,r))}all(t){return this.prepareQuery(this.dialect.sqlToQuery(t),void 0,void 0,!1).all()}async count(t,r){let n=await this.execute(t,r);return Number(n[0].count)}},Eu=class extends sa{static{a(this,"PgTransaction")}constructor(t,r,n,o=0){super(t,r,n),this.schema=n,this.nestedIndex=o}static[j]="PgTransaction";rollback(){throw new vl}getTransactionConfigSQL(t){let r=[];return t.isolationLevel&&r.push(`isolation level ${t.isolationLevel}`),t.accessMode&&r.push(t.accessMode),typeof t.deferrable=="boolean"&&r.push(t.deferrable?"deferrable":"not deferrable"),q.raw(r.join(" "))}setTransaction(t){return this.session.execute(q`set transaction ${this.getTransactionConfigSQL(t)}`)}}});var ED=W(()=>{});var kD=W(()=>{Iw()});var Wr=W(()=>{_D();rD();kf();Yl();Zl();Sw();nD();iD();G0();JT();SD();TD();KT();Lf();ED();na();kw();wu();kD();NT();LT()});var Ff,GT,WT,Bf,PD,QT=W(()=>{vD();he();pu();Wr();Lf();Kt();Et();Ff={arrayMode:!1,fullResults:!0},GT={arrayMode:!0,fullResults:!0},WT=class extends xu{static{a(this,"NeonHttpPreparedQuery")}constructor(t,r,n,o,i,s,u,l,d){super(r,o,i,s),this.client=t,this.logger=n,this.fields=u,this._isResponseInArrayMode=l,this.customResultMapper=d,this.clientQuery=t.query??t}static[j]="NeonHttpPreparedQuery";clientQuery;async execute(t={},r=this.authToken){let n=vi(this.query.params,t);this.logger.logQuery(this.query.sql,n);let{fields:o,clientQuery:i,query:s,customResultMapper:u}=this;if(!o&&!u)return this.queryWithCache(s.sql,n,async()=>i(s.sql,n,r===void 0?Ff:{...Ff,authToken:r}));let l=await this.queryWithCache(s.sql,n,async()=>await i(s.sql,n,r===void 0?GT:{...GT,authToken:r}));return this.mapResult(l)}mapResult(t){if(!this.fields&&!this.customResultMapper)return t;let r=t.rows;return this.customResultMapper?this.customResultMapper(r):r.map(n=>_l(this.fields,n,this.joinsNotNullableMap))}all(t={}){let r=vi(this.query.params,t);return this.logger.logQuery(this.query.sql,r),this.clientQuery(this.query.sql,r,this.authToken===void 0?Ff:{...Ff,authToken:this.authToken}).then(n=>n.rows)}values(t={},r){let n=vi(this.query.params,t);return this.logger.logQuery(this.query.sql,n),this.clientQuery(this.query.sql,n,{arrayMode:!0,fullResults:!0,authToken:r}).then(o=>o.rows)}isResponseInArrayMode(){return this._isResponseInArrayMode}},Bf=class extends Tu{static{a(this,"NeonHttpSession")}constructor(t,r,n,o={}){super(r),this.client=t,this.schema=n,this.options=o,this.clientQuery=t.query??t,this.logger=o.logger??new as,this.cache=o.cache??new ua}static[j]="NeonHttpSession";clientQuery;logger;cache;prepareQuery(t,r,n,o,i,s,u){return new WT(this.client,t,this.logger,this.cache,s,u,r,o,i)}async batch(t){let r=[],n=[];for(let i of t){let s=i._prepare(),u=s.getQuery();r.push(s),n.push(this.clientQuery(u.sql,u.params,{fullResults:!0,arrayMode:s.isResponseInArrayMode()}))}return(await this.client.transaction(n,GT)).map((i,s)=>r[s].mapResult(i,!0))}async query(t,r){return this.logger.logQuery(t,r),await this.clientQuery(t,r,{arrayMode:!0,fullResults:!0})}async queryObjects(t,r){return this.clientQuery(t,r,{arrayMode:!1,fullResults:!0})}async count(t,r){let n=await this.execute(t,r);return Number(n.rows[0].count)}async transaction(t,r={}){throw new Error("No transactions support in neon-http driver")}},PD=class extends Eu{static{a(this,"NeonTransaction")}static[j]="NeonHttpTransaction";async transaction(t){throw new Error("No transactions support in neon-http driver")}}});function Jf(e,t,r,n){return new Proxy(e,{get(o,i){let s=o[i];return typeof s!="function"&&(typeof s!="object"||s===null)?s:n?Jf(s,t,r):i==="query"?Jf(s,t,r,!0):new Proxy(s,{apply(u,l,d){let p=u.call(l,...d);return typeof p=="object"&&p!==null&&"setToken"in p&&typeof p.setToken=="function"&&p.setToken(t),r(u,i,p)}})}})}function ku(e,t={}){let r=new Ho({casing:t.casing}),n;t.logger===!0?n=new is:t.logger!==!1&&(n=t.logger);let o;if(t.schema){let l=jl(t.schema,Dl);o={fullSchema:t.schema,schema:l.tables,tableNamesMap:l.tableNamesMap}}let s=new XT(e,r,{logger:n,cache:t.cache}).createSession(o),u=new YT(r,s,o);return u.$client=e,u.$cache=t.cache,u.$cache&&(u.$cache.invalidate=t.cache?.onMutate),u}function Hf(...e){if(typeof e[0]=="string"){let t=ia(e[0]);return ku(t,e[1])}if(Sl(e[0])){let{connection:t,client:r,...n}=e[0];if(r)return ku(r,n);if(typeof t=="object"){let{connectionString:i,...s}=t,u=ia(i,s);return ku(u,n)}let o=ia(t);return ku(o,n)}return ku(e[0],e[1])}var XT,YT,ID=W(()=>{Hl();he();pu();Yl();Zl();yu();Et();QT();XT=class{static{a(this,"NeonHttpDriver")}constructor(t,r,n={}){this.client=t,this.dialect=r,this.options=n,this.initMappers()}static[j]="NeonHttpDriver";createSession(t){return new Bf(this.client,this.dialect,t,{logger:this.options.logger,cache:this.options.cache})}initMappers(){Ht.setTypeParser(Ht.builtins.TIMESTAMPTZ,t=>t),Ht.setTypeParser(Ht.builtins.TIMESTAMP,t=>t),Ht.setTypeParser(Ht.builtins.DATE,t=>t),Ht.setTypeParser(Ht.builtins.INTERVAL,t=>t),Ht.setTypeParser(1231,t=>t),Ht.setTypeParser(1115,t=>t),Ht.setTypeParser(1185,t=>t),Ht.setTypeParser(1187,t=>t),Ht.setTypeParser(1182,t=>t)}};a(Jf,"wrap");YT=class extends sa{static{a(this,"NeonHttpDatabase")}static[j]="NeonHttpDatabase";$withAuth(t){return this.authToken=t,Jf(this,t,(r,n,o)=>n==="with"?Jf(o,t,(i,s,u)=>u):o)}async batch(t){return this.session.batch(t)}};a(ku,"construct");a(Hf,"drizzle");(e=>{function t(r){return ku({},r)}a(t,"mock"),e.mock=t})(Hf||(Hf={}))});var OD=W(()=>{ID();QT()});var eE,Vf,tE,rE=W(()=>{Hl();Uf();he();pu();Wr();Lf();Kt();Et();eE=class extends xu{static{a(this,"NeonPreparedQuery")}constructor(t,r,n,o,i,s,u,l,d,p,f){super({sql:r,params:n},i,s,u),this.client=t,this.params=n,this.logger=o,this.fields=l,this._isResponseInArrayMode=p,this.customResultMapper=f,this.rawQueryConfig={name:d,text:r,types:{getTypeParser:a((m,y)=>m===Ht.builtins.TIMESTAMPTZ?g=>g:m===Ht.builtins.TIMESTAMP?g=>g:m===Ht.builtins.DATE?g=>g:m===Ht.builtins.INTERVAL?g=>g:m===1231?g=>g:m===1115?g=>g:m===1185?g=>g:m===1187?g=>g:m===1182?g=>g:Ht.getTypeParser(m,y),"getTypeParser")}},this.queryConfig={name:d,text:r,rowMode:"array",types:{getTypeParser:a((m,y)=>m===Ht.builtins.TIMESTAMPTZ?g=>g:m===Ht.builtins.TIMESTAMP?g=>g:m===Ht.builtins.DATE?g=>g:m===Ht.builtins.INTERVAL?g=>g:m===1231?g=>g:m===1115?g=>g:m===1185?g=>g:m===1187?g=>g:m===1182?g=>g:Ht.getTypeParser(m,y),"getTypeParser")}}}static[j]="NeonPreparedQuery";rawQueryConfig;queryConfig;async execute(t={}){let r=vi(this.params,t);this.logger.logQuery(this.rawQueryConfig.text,r);let{fields:n,client:o,rawQueryConfig:i,queryConfig:s,joinsNotNullableMap:u,customResultMapper:l}=this;if(!n&&!l)return await this.queryWithCache(i.text,r,async()=>await o.query(i,r));let d=await this.queryWithCache(s.text,r,async()=>await o.query(s,r));return l?l(d.rows):d.rows.map(p=>_l(n,p,u))}all(t={}){let r=vi(this.params,t);return this.logger.logQuery(this.rawQueryConfig.text,r),this.queryWithCache(this.rawQueryConfig.text,r,async()=>await this.client.query(this.rawQueryConfig,r)).then(n=>n.rows)}values(t={}){let r=vi(this.params,t);return this.logger.logQuery(this.rawQueryConfig.text,r),this.queryWithCache(this.queryConfig.text,r,async()=>await this.client.query(this.queryConfig,r)).then(n=>n.rows)}isResponseInArrayMode(){return this._isResponseInArrayMode}},Vf=class e extends Tu{static{a(this,"NeonSession")}constructor(t,r,n,o={}){super(r),this.client=t,this.schema=n,this.options=o,this.logger=o.logger??new as,this.cache=o.cache??new ua}static[j]="NeonSession";logger;cache;prepareQuery(t,r,n,o,i,s,u){return new eE(this.client,t.sql,t.params,this.logger,this.cache,s,u,r,n,o,i)}async query(t,r){return this.logger.logQuery(t,r),await this.client.query({rowMode:"array",text:t,values:r})}async queryObjects(t,r){return this.client.query(t,r)}async count(t){let r=await this.execute(t);return Number(r.rows[0].count)}async transaction(t,r={}){let n=this.client instanceof vo?new e(await this.client.connect(),this.dialect,this.schema,this.options):this,o=new tE(this.dialect,n,this.schema);await o.execute(q`begin ${o.getTransactionConfigSQL(r)}`);try{let i=await t(o);return await o.execute(q`commit`),i}catch(i){throw await o.execute(q`rollback`),i}finally{this.client instanceof vo&&n.client.release()}}},tE=class e extends Eu{static{a(this,"NeonTransaction")}static[j]="NeonTransaction";async transaction(t){let r=`sp${this.nestedIndex+1}`,n=new e(this.dialect,this.session,this.schema,this.nestedIndex+1);await n.execute(q.raw(`savepoint ${r}`));try{let o=await t(n);return await n.execute(q.raw(`release savepoint ${r}`)),o}catch(o){throw await n.execute(q.raw(`rollback to savepoint ${r}`)),o}}}});function ed(e,t={}){let r=new Ho({casing:t.casing}),n;t.logger===!0?n=new is:t.logger!==!1&&(n=t.logger);let o;if(t.schema){let l=jl(t.schema,Dl);o={fullSchema:t.schema,schema:l.tables,tableNamesMap:l.tableNamesMap}}let s=new nE(e,r,{logger:n,cache:t.cache}).createSession(o),u=new oE(r,s,o);return u.$client=e,u.$cache=t.cache,u.$cache&&(u.$cache.invalidate=t.cache?.onMutate),u}function Pu(...e){if(typeof e[0]=="string"){let t=new vo({connectionString:e[0]});return ed(t,e[1])}if(Sl(e[0])){let{connection:t,client:r,ws:n,...o}=e[0];if(n&&(us.webSocketConstructor=n),r)return ed(r,o);let i=typeof t=="string"?new vo({connectionString:t}):new vo(t);return ed(i,o)}return ed(e[0],e[1])}var nE,oE,AD=W(()=>{Hl();he();pu();Yl();Zl();yu();Et();rE();nE=class{static{a(this,"NeonDriver")}constructor(t,r,n={}){this.client=t,this.dialect=r,this.options=n}static[j]="NeonDriver";createSession(t){return new Vf(this.client,this.dialect,t,{logger:this.options.logger,cache:this.options.cache})}},oE=class extends sa{static{a(this,"NeonDatabase")}static[j]="NeonServerlessDatabase"};a(ed,"construct");a(Pu,"drizzle");(e=>{function t(r){return ed({},r)}a(t,"mock"),e.mock=t})(Pu||(Pu={}))});var CD=W(()=>{AD();rE()});var J,Sn,ps,Ar=W(()=>{"use strict";Wr();J=Ee("users",{id:T("id").primaryKey(),email:T("email").unique().notNull(),fullName:T("full_name"),phone:T("phone"),cpf:T("cpf").unique(),birthDate:Kr("birth_date"),autonomyLevel:yt("autonomy_level").default(50),voiceCommandEnabled:se("voice_command_enabled").default(!0),language:T("language").default("pt-BR"),timezone:T("timezone").default("America/Sao_Paulo"),currency:T("currency").default("BRL"),profileImageUrl:T("profile_image_url"),organizationId:T("organization_id").notNull().default("default"),isActive:se("is_active").default(!0),lastLogin:K("last_login",{withTimezone:!0}),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()}),Sn=Ee("user_preferences",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>J.id,{onDelete:"cascade"}),theme:T("theme").default("system"),notificationsEmail:se("notifications_email").default(!0),notificationsPush:se("notifications_push").default(!0),notificationsSms:se("notifications_sms").default(!1),autoCategorize:se("auto_categorize").default(!0),budgetAlerts:se("budget_alerts").default(!0),voiceFeedback:se("voice_feedback").default(!0),accessibilityHighContrast:se("accessibility_high_contrast").default(!1),accessibilityLargeText:se("accessibility_large_text").default(!1),accessibilityScreenReader:se("accessibility_screen_reader").default(!1),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()}),ps=Ee("user_security",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>J.id,{onDelete:"cascade"}),biometricEnabled:se("biometric_enabled").default(!1),twoFactorEnabled:se("two_factor_enabled").default(!1),twoFactorSecret:T("two_factor_secret"),voiceBiometricEnabled:se("voice_biometric_enabled").default(!1),voiceSampleEncrypted:T("voice_sample_encrypted"),sessionTimeoutMinutes:yt("session_timeout_minutes").default(30),maxFailedAttempts:yt("max_failed_attempts").default(5),lockedUntil:K("locked_until",{withTimezone:!0}),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()})});var ca,ms,Iu,Ou,Au,iE=W(()=>{"use strict";Wr();Ar();ca=Ee("audit_logs",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>J.id,{onDelete:"cascade"}),action:T("action").notNull(),resourceType:T("resource_type"),resourceId:T("resource_id"),oldValues:Le("old_values"),newValues:Le("new_values"),ipAddress:jn("ip_address"),userAgent:T("user_agent"),sessionId:T("session_id"),success:se("success").default(!0),errorMessage:T("error_message"),createdAt:K("created_at",{withTimezone:!0}).defaultNow()}),ms=Ee("error_logs",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>J.id,{onDelete:"cascade"}),errorType:T("error_type").notNull(),errorCode:T("error_code"),errorMessage:T("error_message").notNull(),stackTrace:T("stack_trace"),context:Le("context"),userAgent:T("user_agent"),ipAddress:jn("ip_address"),sessionId:T("session_id"),isResolved:se("is_resolved").default(!1),resolvedAt:K("resolved_at",{withTimezone:!0}),resolvedBy:T("resolved_by").references(()=>J.id),createdAt:K("created_at",{withTimezone:!0}).defaultNow()}),Iu=Ee("user_sessions",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>J.id,{onDelete:"cascade"}),sessionToken:T("session_token").unique().notNull(),deviceType:T("device_type"),deviceId:T("device_id"),ipAddress:jn("ip_address"),userAgent:T("user_agent"),isActive:se("is_active").default(!0),lastActivity:K("last_activity",{withTimezone:!0}).defaultNow(),expiresAt:K("expires_at",{withTimezone:!0}).notNull(),createdAt:K("created_at",{withTimezone:!0}).defaultNow()}),Ou=Ee("lgpd_consent_logs",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>J.id,{onDelete:"cascade"}),consentType:T("consent_type").notNull(),consentGiven:se("consent_given").notNull(),consentVersion:T("consent_version").notNull(),ipAddress:jn("ip_address"),userAgent:T("user_agent"),consentedAt:K("consented_at",{withTimezone:!0}).defaultNow(),revokedAt:K("revoked_at",{withTimezone:!0}),createdAt:K("created_at",{withTimezone:!0}).defaultNow()}),Au=Ee("data_export_requests",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>J.id,{onDelete:"cascade"}),requestType:T("request_type").notNull(),status:T("status").default("pending"),processedAt:K("processed_at",{withTimezone:!0}),downloadUrl:T("download_url"),expiresAt:K("expires_at",{withTimezone:!0}),ipAddress:jn("ip_address"),userAgent:T("user_agent"),requestedAt:K("requested_at",{withTimezone:!0}).defaultNow(),createdAt:K("created_at",{withTimezone:!0}).defaultNow()})});var ce,Cu,la,td=W(()=>{"use strict";Wr();Ar();ce=Ee("bank_accounts",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").notNull().references(()=>J.id,{onDelete:"cascade"}),belvoAccountId:T("belvo_account_id").unique().notNull(),institutionId:T("institution_id").notNull(),institutionName:T("institution_name").notNull(),accountType:T("account_type").notNull(),accountNumber:T("account_number"),accountMask:T("account_mask").notNull(),accountHolderName:T("account_holder_name"),balance:He("balance",{precision:15,scale:2}).default("0"),availableBalance:He("available_balance",{precision:15,scale:2}).default("0"),currency:T("currency").default("BRL"),isActive:se("is_active").default(!0),isPrimary:se("is_primary").default(!1),lastSync:K("last_sync",{withTimezone:!0}),syncStatus:T("sync_status").default("pending"),syncErrorMessage:T("sync_error_message"),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()}),Cu=Ee("account_balance_history",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),accountId:T("account_id").references(()=>ce.id,{onDelete:"cascade"}),balance:He("balance",{precision:15,scale:2}).notNull(),availableBalance:He("available_balance",{precision:15,scale:2}),recordedAt:K("recorded_at",{withTimezone:!0}).defaultNow(),source:T("source").default("sync")}),la=Ee("bank_sync_logs",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>J.id,{onDelete:"cascade"}),accountId:T("account_id").references(()=>ce.id,{onDelete:"cascade"}),syncType:T("sync_type").notNull(),status:T("status").notNull(),recordsSynced:yt("records_synced").default(0),errorMessage:T("error_message"),startedAt:K("started_at",{withTimezone:!0}).defaultNow(),completedAt:K("completed_at",{withTimezone:!0}),durationMs:yt("duration_ms")})});var aE,sE,en,je,yr,rd=W(()=>{"use strict";Wr();Ar();aE=zt("subscription_status",["free","trialing","active","past_due","canceled","unpaid"]),sE=zt("payment_status",["succeeded","failed","pending"]),en=Ee("subscription_plans",{id:T("id").primaryKey(),name:T("name").notNull(),description:T("description"),priceCents:yt("price_cents").notNull().default(0),currency:T("currency").notNull().default("BRL"),interval:T("interval"),stripeProductId:T("stripe_product_id"),stripePriceId:T("stripe_price_id"),features:Le("features").$type().default([]),aiModels:Le("ai_models").$type().default([]),maxBankAccounts:yt("max_bank_accounts").default(1),maxTransactionsPerMonth:yt("max_transactions_per_month"),isActive:se("is_active").default(!0),displayOrder:yt("display_order").default(0),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()}),je=Ee("subscriptions",{id:hu("id").primaryKey().defaultRandom(),userId:T("user_id").notNull().unique().references(()=>J.id,{onDelete:"cascade"}),stripeCustomerId:T("stripe_customer_id"),stripeSubscriptionId:T("stripe_subscription_id").unique(),planId:T("plan_id").notNull().default("free").references(()=>en.id),status:aE("status").notNull().default("free"),currentPeriodStart:K("current_period_start",{withTimezone:!0}),currentPeriodEnd:K("current_period_end",{withTimezone:!0}),cancelAtPeriodEnd:se("cancel_at_period_end").default(!1),canceledAt:K("canceled_at",{withTimezone:!0}),trialStart:K("trial_start",{withTimezone:!0}),trialEnd:K("trial_end",{withTimezone:!0}),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()}),yr=Ee("payment_history",{id:hu("id").primaryKey().defaultRandom(),userId:T("user_id").notNull().references(()=>J.id,{onDelete:"cascade"}),subscriptionId:hu("subscription_id").references(()=>je.id,{onDelete:"set null"}),stripePaymentIntentId:T("stripe_payment_intent_id"),stripeInvoiceId:T("stripe_invoice_id"),stripeChargeId:T("stripe_charge_id"),amountCents:yt("amount_cents").notNull(),currency:T("currency").notNull().default("BRL"),status:sE("status").notNull(),description:T("description"),receiptUrl:T("receipt_url"),invoicePdf:T("invoice_pdf"),failureCode:T("failure_code"),failureMessage:T("failure_message"),createdAt:K("created_at",{withTimezone:!0}).defaultNow()})});var De,oe,Gt,fs=W(()=>{"use strict";Wr();td();Ar();De=Ee("transaction_categories",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").notNull().references(()=>J.id,{onDelete:"cascade"}),name:T("name").notNull(),color:T("color").default("#6B7280"),icon:T("icon").default("circle"),isSystem:se("is_system").default(!1),parentId:T("parent_id"),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()}),oe=Ee("transactions",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").notNull().references(()=>J.id,{onDelete:"cascade"}),accountId:T("account_id").references(()=>ce.id,{onDelete:"set null"}),categoryId:T("category_id").references(()=>De.id,{onDelete:"set null"}),amount:He("amount",{precision:15,scale:2}).notNull(),originalAmount:He("original_amount",{precision:15,scale:2}),currency:T("currency").default("BRL"),description:T("description").notNull(),merchantName:T("merchant_name"),transactionDate:K("transaction_date",{withTimezone:!0}).notNull(),postedDate:K("posted_date",{withTimezone:!0}),transactionType:T("transaction_type").notNull(),paymentMethod:T("payment_method"),status:T("status").default("posted"),isRecurring:se("is_recurring").default(!1),recurringRule:Le("recurring_rule"),tags:T("tags").array(),notes:T("notes"),attachments:T("attachments").array(),confidenceScore:He("confidence_score",{precision:3,scale:2}),isCategorized:se("is_categorized").default(!1),isManualEntry:se("is_manual_entry").default(!1),externalId:T("external_id"),externalSource:T("external_source"),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()}),Gt=Ee("transaction_schedules",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>J.id,{onDelete:"cascade"}),accountId:T("account_id").references(()=>ce.id,{onDelete:"set null"}),categoryId:T("category_id").references(()=>De.id,{onDelete:"set null"}),amount:He("amount",{precision:15,scale:2}).notNull(),description:T("description").notNull(),recipientName:T("recipient_name"),recipientAccount:T("recipient_account"),recipientPixKey:T("recipient_pix_key"),scheduledDate:Kr("scheduled_date").notNull(),recurrenceRule:T("recurrence_rule"),isActive:se("is_active").default(!0),autoExecute:se("auto_execute").default(!1),notificationSent:se("notification_sent").default(!1),executed:se("executed").default(!1),executedTransactionId:T("executed_transaction_id").references(()=>oe.id),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()})});var RD,Vo,da,uE=W(()=>{"use strict";Wr();fs();Ar();RD=zt("boleto_status",["pending","paid","overdue","cancelled","scheduled"]),Vo=Ee("boletos",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>J.id,{onDelete:"cascade"}),barcode:T("barcode").unique().notNull(),lineIdDigitable:T("line_id_digitable").unique().notNull(),amount:He("amount",{precision:15,scale:2}).notNull(),dueDate:Kr("due_date").notNull(),beneficiaryName:T("beneficiary_name").notNull(),beneficiaryCnpj:T("beneficiary_cnpj"),description:T("description"),status:T("status").default("pending"),paymentDate:K("payment_date",{withTimezone:!0}),paidAmount:He("paid_amount",{precision:15,scale:2}),paidWith:T("paid_with"),transactionId:T("transaction_id").references(()=>oe.id),fineAmount:He("fine_amount",{precision:15,scale:2}).default("0"),interestAmount:He("interest_amount",{precision:15,scale:2}).default("0"),discountAmount:He("discount_amount",{precision:15,scale:2}).default("0"),pdfUrl:T("pdf_url"),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()}),da=Ee("boleto_payments",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),boletoId:T("boleto_id").references(()=>Vo.id,{onDelete:"cascade"}),amount:He("amount",{precision:15,scale:2}).notNull(),paymentDate:K("payment_date",{withTimezone:!0}).defaultNow(),paymentMethod:T("payment_method").notNull(),transactionId:T("transaction_id").references(()=>oe.id),status:T("status").default("processing"),externalId:T("external_id"),createdAt:K("created_at",{withTimezone:!0}).defaultNow()})});var hs,mt,pa,cE=W(()=>{"use strict";Wr();td();fs();Ar();hs=Ee("event_types",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),name:T("name").unique().notNull(),description:T("description"),color:T("color").default("#3B82F6"),icon:T("icon").default("calendar"),isSystem:se("is_system").default(!0),defaultReminderHours:yt("default_reminder_hours").default(24),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()}),mt=Ee("financial_events",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>J.id,{onDelete:"cascade"}).notNull(),accountId:T("account_id").references(()=>ce.id,{onDelete:"set null"}),categoryId:T("category_id").references(()=>De.id,{onDelete:"set null"}),eventTypeId:T("event_type_id").references(()=>hs.id,{onDelete:"set null"}),title:T("title").notNull(),description:T("description"),amount:He("amount",{precision:15,scale:2}).notNull(),status:T("status").notNull().default("pending"),startDate:K("start_date",{withTimezone:!0}).notNull(),endDate:K("end_date",{withTimezone:!0}).notNull(),allDay:se("all_day").default(!1),color:T("color").notNull().default("blue"),icon:T("icon"),isIncome:se("is_income").default(!1),isCompleted:se("is_completed").default(!1),isRecurring:se("is_recurring").default(!1),recurrenceRule:T("recurrence_rule"),parentEventId:T("parent_event_id"),location:T("location"),notes:T("notes"),dueDate:Kr("due_date"),completedAt:K("completed_at",{withTimezone:!0}),priority:T("priority").default("normal"),tags:T("tags").array(),attachments:T("attachments").array(),brazilianEventType:T("brazilian_event_type"),installmentInfo:Le("installment_info"),merchantCategory:T("merchant_category"),metadata:Le("metadata"),transactionId:T("transaction_id").references(()=>oe.id,{onDelete:"set null"}),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()}),pa=Ee("event_reminders",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>J.id,{onDelete:"cascade"}),eventId:T("event_id").references(()=>mt.id,{onDelete:"cascade"}),remindAt:K("remind_at",{withTimezone:!0}).notNull(),reminderType:T("reminder_type").default("notification"),message:T("message"),isSent:se("is_sent").default(!1),sentAt:K("sent_at",{withTimezone:!0}),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()})});var $D,$e,Ru,lE=W(()=>{"use strict";Wr();Ar();$D=zt("payment_method_type",["PIX","BANK_ACCOUNT","BOLETO"]),$e=Ee("contacts",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>J.id,{onDelete:"cascade"}),name:T("name").notNull(),email:T("email"),phone:T("phone"),cpf:T("cpf"),cnpj:T("cnpj"),notes:T("notes"),isFavorite:se("is_favorite").default(!1),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()}),Ru=Ee("contact_payment_methods",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),contactId:T("contact_id").references(()=>$e.id,{onDelete:"cascade"}),methodType:T("method_type").notNull(),methodDetails:Le("method_details").notNull(),isDefault:se("is_default").default(!1),isActive:se("is_active").default(!0),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()})});var Zf,dE,pE,mE,fE,hE,gE,yE,vE,wn,qt,Kf,tn,bo,Ur,xn,$u,_E=W(()=>{"use strict";Wr();Ar();Zf=zt("consent_type",["data_processing","marketing","analytics","third_party","third_party_sharing","voice_data","voice_recording","biometric","financial_data","location","open_banking"]),dE=zt("collection_method",["signup","settings","settings_toggle","prompt","api","import","explicit_form","terms_acceptance","voice_command"]),pE=zt("deletion_request_type",["full_account","full_deletion","specific_data","anonymization","partial_deletion","consent_withdrawal"]),mE=zt("deletion_request_status",["pending","verified","approved","processing","completed","rejected","cancelled"]),fE=zt("export_request_type",["full_data","full_export","transactions","profile","consents","audit_logs","financial_only","voice_commands","specific_period"]),hE=zt("export_format",["json","csv","pdf"]),gE=zt("export_status",["pending","processing","completed","failed","expired"]),yE=zt("limit_type",["pix_daily","pix_daytime","pix_nighttime","pix_transaction","pix_total_daily","boleto_daily","ted_daily","transfer_daily","withdrawal_daily","total_daily","total_monthly"]),vE=zt("compliance_event_type",["consent_granted","consent_revoked","data_export_requested","data_export_completed","data_deletion_requested","data_deletion_completed","data_accessed","data_modified","limit_updated","policy_acknowledged"]),wn=Ee("consent_templates",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),consentType:Zf("consent_type").notNull(),version:T("version").notNull().default("1.0"),titlePt:T("title_pt").notNull(),descriptionPt:T("description_pt").notNull(),fullTextPt:T("full_text_pt").notNull(),titleEn:T("title_en"),descriptionEn:T("description_en"),fullTextEn:T("full_text_en"),isMandatory:se("is_mandatory").default(!1),isActive:se("is_active").default(!0),legalBasis:T("legal_basis"),effectiveFrom:K("effective_from",{withTimezone:!0}).defaultNow(),effectiveUntil:K("effective_until",{withTimezone:!0}),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()}),qt=Ee("lgpd_consents",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>J.id,{onDelete:"cascade"}).notNull(),consentType:Zf("consent_type").notNull(),purpose:T("purpose").notNull(),legalBasis:T("legal_basis").notNull(),granted:se("granted").notNull().default(!1),grantedAt:K("granted_at",{withTimezone:!0}),revokedAt:K("revoked_at",{withTimezone:!0}),consentVersion:T("consent_version").notNull(),consentTextHash:T("consent_text_hash"),collectionMethod:dE("collection_method").notNull(),ipAddress:jn("ip_address"),userAgent:T("user_agent"),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()},e=>[ds("lgpd_consents_user_type_version_idx").on(e.userId,e.consentType,e.consentVersion)]),Kf=Ee("data_retention_policies",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),dataType:T("data_type").notNull().unique(),description:T("description"),descriptionPt:T("description_pt"),retentionMonths:yt("retention_months").notNull(),retentionPeriodLabel:T("retention_period_label"),autoDelete:se("auto_delete").default(!1),deletionMethod:T("deletion_method").default("hard_delete"),legalHold:se("legal_hold").default(!1),legalBasis:T("legal_basis"),legalRequirement:se("legal_requirement").default(!1),isActive:se("is_active").default(!0),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()}),tn=Ee("data_deletion_requests",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>J.id,{onDelete:"cascade"}).notNull(),requestType:pE("request_type").notNull(),scope:Le("scope").default({}),reason:T("reason"),status:mE("status").default("pending"),verificationCode:T("verification_code"),verifiedAt:K("verified_at",{withTimezone:!0}),reviewDeadline:K("review_deadline",{withTimezone:!0}),processedAt:K("processed_at",{withTimezone:!0}),processedBy:T("processed_by"),processingNotes:T("processing_notes"),legalHold:se("legal_hold").default(!1),legalHoldReason:T("legal_hold_reason"),ipAddress:jn("ip_address"),userAgent:T("user_agent"),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()}),bo=Ee("lgpd_export_requests",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>J.id,{onDelete:"cascade"}).notNull(),requestType:fE("request_type").notNull(),format:hE("format").default("json"),dateFrom:Kr("date_from"),dateTo:Kr("date_to"),status:gE("status").default("pending"),processedAt:K("processed_at",{withTimezone:!0}),downloadUrl:T("download_url"),downloadExpiresAt:K("download_expires_at",{withTimezone:!0}),fileSizeBytes:yt("file_size_bytes"),errorMessage:T("error_message"),retryCount:yt("retry_count").default(0),requestedVia:T("requested_via").default("app"),ipAddress:jn("ip_address"),userAgent:T("user_agent"),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()}),Ur=Ee("transaction_limits",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>J.id,{onDelete:"cascade"}).notNull(),limitType:yE("limit_type").notNull(),dailyLimit:He("daily_limit",{precision:15,scale:2}).notNull(),transactionLimit:He("transaction_limit",{precision:15,scale:2}),monthlyLimit:He("monthly_limit",{precision:15,scale:2}),currentDailyUsed:He("current_daily_used",{precision:15,scale:2}).default("0"),currentMonthlyUsed:He("current_monthly_used",{precision:15,scale:2}).default("0"),lastResetAt:K("last_reset_at",{withTimezone:!0}).defaultNow(),nighttimeLimit:He("nighttime_limit",{precision:15,scale:2}),nighttimeStart:T("nighttime_start").default("20:00"),nighttimeEnd:T("nighttime_end").default("06:00"),isActive:se("is_active").default(!0),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()},e=>[ds("transaction_limits_user_type_idx").on(e.userId,e.limitType)]),xn=Ee("compliance_audit_logs",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>J.id,{onDelete:"set null"}),eventType:vE("event_type").notNull(),resourceType:T("resource_type").notNull(),resourceId:T("resource_id"),description:T("description"),metadata:Le("metadata").default({}),previousState:Le("previous_state"),newState:Le("new_state"),ipAddress:jn("ip_address"),userAgent:T("user_agent"),sessionId:T("session_id"),retentionUntil:K("retention_until",{withTimezone:!0}),createdAt:K("created_at",{withTimezone:!0}).defaultNow()}),$u=Ee("legal_holds",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>J.id,{onDelete:"cascade"}).notNull(),reason:T("reason").notNull(),description:T("description"),referenceNumber:T("reference_number"),dataTypes:Le("data_types").default([]),allData:se("all_data").default(!1),active:se("active").default(!0),startedAt:K("started_at",{withTimezone:!0}).defaultNow(),expiresAt:K("expires_at",{withTimezone:!0}),releasedAt:K("released_at",{withTimezone:!0}),releasedBy:T("released_by"),releaseReason:T("release_reason"),createdBy:T("created_by").notNull(),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()})});var ki,Nu,zu,bE=W(()=>{"use strict";Wr();Ar();ki=Ee("notifications",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>J.id,{onDelete:"cascade"}),title:T("title").notNull(),message:T("message").notNull(),type:T("type").notNull(),category:T("category"),priority:T("priority").default("normal"),isRead:se("is_read").default(!1),readAt:K("read_at",{withTimezone:!0}),actionUrl:T("action_url"),actionText:T("action_text"),metadata:Le("metadata"),expiresAt:K("expires_at",{withTimezone:!0}),createdAt:K("created_at",{withTimezone:!0}).defaultNow()}),Nu=Ee("alert_rules",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>J.id,{onDelete:"cascade"}),ruleName:T("rule_name").notNull(),ruleType:T("rule_type").notNull(),conditions:Le("conditions").notNull(),actions:Le("actions").notNull(),isActive:se("is_active").default(!0),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()}),zu=Ee("notification_logs",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),notificationId:T("notification_id").references(()=>ki.id,{onDelete:"cascade"}),deliveryMethod:T("delivery_method").notNull(),status:T("status").notNull(),sentAt:K("sent_at",{withTimezone:!0}).defaultNow(),deliveredAt:K("delivered_at",{withTimezone:!0}),errorMessage:T("error_message"),externalId:T("external_id"),createdAt:K("created_at",{withTimezone:!0}).defaultNow()})});var ND,zD,jD,ju,Pi,Zo,SE=W(()=>{"use strict";Wr();fs();Ar();ND=zt("pix_key_type",["CPF","CNPJ","EMAIL","PHONE","RANDOM"]),zD=zt("pix_transaction_status",["pending","processing","completed","failed","cancelled","reversed"]),jD=zt("pix_transaction_type_enum",["sent","received","scheduled"]),ju=Ee("pix_keys",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>J.id,{onDelete:"cascade"}),keyType:T("key_type").notNull(),keyValue:T("key_value").notNull(),keyName:T("key_name").notNull(),bankName:T("bank_name"),isFavorite:se("is_favorite").default(!1),isActive:se("is_active").default(!0),verificationStatus:T("verification_status").default("pending"),lastUsed:K("last_used",{withTimezone:!0}),usageCount:yt("usage_count").default(0),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()}),Pi=Ee("pix_qr_codes",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>J.id,{onDelete:"cascade"}),qrCodeData:T("qr_code_data").notNull(),pixCopyPaste:T("pix_copy_paste").notNull(),amount:He("amount",{precision:15,scale:2}),description:T("description"),recipientName:T("recipient_name"),recipientPixKey:T("recipient_pix_key"),expiresAt:K("expires_at",{withTimezone:!0}),isActive:se("is_active").default(!0),isSingleUse:se("is_single_use").default(!1),usageCount:yt("usage_count").default(0),maxUsage:yt("max_usage"),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()}),Zo=Ee("pix_transactions",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>J.id,{onDelete:"cascade"}),transactionId:T("transaction_id").references(()=>oe.id,{onDelete:"set null"}),endToEndId:T("end_to_end_id").unique(),pixKey:T("pix_key").notNull(),pixKeyType:T("pix_key_type").notNull(),recipientName:T("recipient_name").notNull(),recipientDocument:T("recipient_document"),recipientBank:T("recipient_bank"),amount:He("amount",{precision:15,scale:2}).notNull(),description:T("description"),transactionDate:K("transaction_date",{withTimezone:!0}).notNull(),status:T("status").default("pending"),transactionType:T("transaction_type").default("sent"),scheduledFor:K("scheduled_for",{withTimezone:!0}),processedAt:K("processed_at",{withTimezone:!0}),qrCodeId:T("qr_code_id").references(()=>Pi.id),externalId:T("external_id"),errorMessage:T("error_message"),feeAmount:He("fee_amount",{precision:15,scale:2}).default("0"),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()})});var Du,DD,Cr,ma,fa,Ko,Mu,qu,x2e,wE=W(()=>{"use strict";Wr();fs();Ar();Du=Ee("voice_commands",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>J.id,{onDelete:"cascade"}),commandText:T("command_text").notNull(),audioFileUrl:T("audio_file_url"),intent:T("intent").notNull(),intentConfidence:He("intent_confidence",{precision:3,scale:2}),entities:Le("entities"),responseText:T("response_text"),responseAudioUrl:T("response_audio_url"),processingTimeMs:yt("processing_time_ms"),status:T("status").default("processed"),errorMessage:T("error_message"),context:Le("context"),createdAt:K("created_at",{withTimezone:!0}).defaultNow()}),DD=Ee("command_intents",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),intentName:T("intent_name").unique().notNull(),description:T("description"),examplePhrases:T("example_phrases").array(),requiredEntities:T("required_entities").array(),actionHandler:T("action_handler"),isActive:se("is_active").default(!0),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()}),Cr=Ee("ai_insights",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>J.id,{onDelete:"cascade"}),insightType:T("insight_type").notNull(),title:T("title").notNull(),description:T("description").notNull(),recommendation:T("recommendation"),impactLevel:T("impact_level").default("medium"),categoryId:T("category_id").references(()=>De.id),data:Le("data"),isRead:se("is_read").default(!1),isActioned:se("is_actioned").default(!1),expiresAt:K("expires_at",{withTimezone:!0}),createdAt:K("created_at",{withTimezone:!0}).defaultNow()}),ma=Ee("spending_patterns",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>J.id,{onDelete:"cascade"}),categoryId:T("category_id").references(()=>De.id),periodStart:Kr("period_start").notNull(),periodEnd:Kr("period_end").notNull(),periodType:T("period_type").notNull(),totalAmount:He("total_amount",{precision:15,scale:2}).notNull(),transactionCount:yt("transaction_count").notNull(),averageTransaction:He("average_transaction",{precision:15,scale:2}),trendPercentage:He("trend_percentage",{precision:5,scale:2}),patternData:Le("pattern_data"),createdAt:K("created_at",{withTimezone:!0}).defaultNow()}),fa=Ee("budget_categories",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>J.id,{onDelete:"cascade"}),categoryId:T("category_id").references(()=>De.id,{onDelete:"cascade"}),budgetAmount:He("budget_amount",{precision:15,scale:2}).notNull(),periodType:T("period_type").notNull(),alertThreshold:He("alert_threshold",{precision:5,scale:2}).default("80"),isActive:se("is_active").default(!0),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()}),Ko=Ee("chat_sessions",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>J.id,{onDelete:"cascade"}),title:T("title"),isActive:se("is_active").default(!0),metadata:Le("metadata"),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()}),Mu=Ee("chat_messages",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),sessionId:T("session_id").references(()=>Ko.id,{onDelete:"cascade"}),role:T("role").notNull(),content:T("content").notNull(),attachments:Le("attachments"),context:Le("context"),createdAt:K("created_at",{withTimezone:!0}).defaultNow()}),qu=Ee("voice_transcriptions",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>J.id,{onDelete:"cascade"}),audioStoragePath:T("audio_storage_path").notNull(),transcript:T("transcript").notNull(),confidenceScore:He("confidence_score",{precision:3,scale:2}),language:T("language").notNull(),processingTimeMs:yt("processing_time_ms").notNull(),expiresAt:K("expires_at",{withTimezone:!0}).notNull(),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()}),x2e=Ee("chat_context_snapshots",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),conversationId:T("conversation_id").references(()=>Ko.id,{onDelete:"cascade"}),recentTransactions:Le("recent_transactions"),accountBalances:Le("account_balances"),upcomingEvents:Le("upcoming_events"),userPreferences:Le("user_preferences"),createdAt:K("created_at",{withTimezone:!0}).defaultNow()})});var MD,qD,UD,LD,FD,BD,JD,HD,VD,ZD,KD,GD,WD,QD,XD,YD,eM,tM,rM,nM,oM,iM,aM,sM,uM,cM,lM,dM,pM,mM,fM,hM,gM,yM,vM,_M,bM,SM,wM,xM,TM,EM,kM,PM,IM,OM=W(()=>{"use strict";ir();iE();td();rd();uE();cE();lE();_E();bE();SE();fs();Ar();wE();MD=Be(J,({one:e,many:t})=>({preferences:e(Sn,{fields:[J.id],references:[Sn.userId]}),security:e(ps,{fields:[J.id],references:[ps.userId]}),bankAccounts:t(ce),transactionCategories:t(De),transactions:t(oe),transactionSchedules:t(Gt),financialEvents:t(mt),eventReminders:t(pa),pixKeys:t(ju),pixQrCodes:t(Pi),pixTransactions:t(Zo),contacts:t($e),boletos:t(Vo),voiceCommands:t(Du),voiceTranscriptions:t(qu),aiInsights:t(Cr),spendingPatterns:t(ma),budgetCategories:t(fa),chatSessions:t(Ko),notifications:t(ki),alertRules:t(Nu),auditLogs:t(ca),errorLogs:t(ms),userSessions:t(Iu),lgpdConsentLogs:t(Ou),dataExportRequests:t(Au),bankSyncLogs:t(la),lgpdConsents:t(qt),dataDeletionRequests:t(tn),lgpdExportRequests:t(bo),transactionLimits:t(Ur),complianceAuditLogs:t(xn),legalHolds:t($u),subscriptions:t(je),paymentHistory:t(yr)})),qD=Be(Sn,({one:e})=>({user:e(J,{fields:[Sn.userId],references:[J.id]})})),UD=Be(ps,({one:e})=>({user:e(J,{fields:[ps.userId],references:[J.id]})})),LD=Be(ce,({one:e,many:t})=>({user:e(J,{fields:[ce.userId],references:[J.id]}),balanceHistory:t(Cu),syncLogs:t(la),transactions:t(oe),transactionSchedules:t(Gt),financialEvents:t(mt)})),FD=Be(Cu,({one:e})=>({account:e(ce,{fields:[Cu.accountId],references:[ce.id]})})),BD=Be(la,({one:e})=>({user:e(J,{fields:[la.userId],references:[J.id]}),account:e(ce,{fields:[la.accountId],references:[ce.id]})})),JD=Be(De,({one:e,many:t})=>({user:e(J,{fields:[De.userId],references:[J.id]}),parent:e(De,{fields:[De.parentId],references:[De.id],relationName:"categoryParent"}),children:t(De,{relationName:"categoryParent"}),transactions:t(oe),transactionSchedules:t(Gt),financialEvents:t(mt),aiInsights:t(Cr),spendingPatterns:t(ma),budgetCategories:t(fa)})),HD=Be(oe,({one:e,many:t})=>({user:e(J,{fields:[oe.userId],references:[J.id]}),account:e(ce,{fields:[oe.accountId],references:[ce.id]}),category:e(De,{fields:[oe.categoryId],references:[De.id]}),pixTransactions:t(Zo),boletoPayments:t(da),financialEvents:t(mt)})),VD=Be(Gt,({one:e})=>({user:e(J,{fields:[Gt.userId],references:[J.id]}),account:e(ce,{fields:[Gt.accountId],references:[ce.id]}),category:e(De,{fields:[Gt.categoryId],references:[De.id]}),executedTransaction:e(oe,{fields:[Gt.executedTransactionId],references:[oe.id]})})),ZD=Be(hs,({many:e})=>({financialEvents:e(mt)})),KD=Be(mt,({one:e,many:t})=>({user:e(J,{fields:[mt.userId],references:[J.id]}),account:e(ce,{fields:[mt.accountId],references:[ce.id]}),category:e(De,{fields:[mt.categoryId],references:[De.id]}),eventType:e(hs,{fields:[mt.eventTypeId],references:[hs.id]}),parentEvent:e(mt,{fields:[mt.parentEventId],references:[mt.id],relationName:"eventParent"}),childEvents:t(mt,{relationName:"eventParent"}),transaction:e(oe,{fields:[mt.transactionId],references:[oe.id]}),reminders:t(pa)})),GD=Be(pa,({one:e})=>({user:e(J,{fields:[pa.userId],references:[J.id]}),event:e(mt,{fields:[pa.eventId],references:[mt.id]})})),WD=Be(ju,({one:e})=>({user:e(J,{fields:[ju.userId],references:[J.id]})})),QD=Be(Pi,({one:e,many:t})=>({user:e(J,{fields:[Pi.userId],references:[J.id]}),pixTransactions:t(Zo)})),XD=Be(Zo,({one:e})=>({user:e(J,{fields:[Zo.userId],references:[J.id]}),transaction:e(oe,{fields:[Zo.transactionId],references:[oe.id]}),qrCode:e(Pi,{fields:[Zo.qrCodeId],references:[Pi.id]})})),YD=Be($e,({one:e,many:t})=>({user:e(J,{fields:[$e.userId],references:[J.id]}),paymentMethods:t(Ru)})),eM=Be(Ru,({one:e})=>({contact:e($e,{fields:[Ru.contactId],references:[$e.id]})})),tM=Be(Vo,({one:e,many:t})=>({user:e(J,{fields:[Vo.userId],references:[J.id]}),transaction:e(oe,{fields:[Vo.transactionId],references:[oe.id]}),payments:t(da)})),rM=Be(da,({one:e})=>({boleto:e(Vo,{fields:[da.boletoId],references:[Vo.id]}),transaction:e(oe,{fields:[da.transactionId],references:[oe.id]})})),nM=Be(Du,({one:e})=>({user:e(J,{fields:[Du.userId],references:[J.id]})})),oM=Be(qu,({one:e})=>({user:e(J,{fields:[qu.userId],references:[J.id]})})),iM=Be(Cr,({one:e})=>({user:e(J,{fields:[Cr.userId],references:[J.id]}),category:e(De,{fields:[Cr.categoryId],references:[De.id]})})),aM=Be(ma,({one:e})=>({user:e(J,{fields:[ma.userId],references:[J.id]}),category:e(De,{fields:[ma.categoryId],references:[De.id]})})),sM=Be(fa,({one:e})=>({user:e(J,{fields:[fa.userId],references:[J.id]}),category:e(De,{fields:[fa.categoryId],references:[De.id]})})),uM=Be(Ko,({one:e,many:t})=>({user:e(J,{fields:[Ko.userId],references:[J.id]}),messages:t(Mu)})),cM=Be(Mu,({one:e})=>({session:e(Ko,{fields:[Mu.sessionId],references:[Ko.id]})})),lM=Be(ki,({one:e,many:t})=>({user:e(J,{fields:[ki.userId],references:[J.id]}),logs:t(zu)})),dM=Be(Nu,({one:e})=>({user:e(J,{fields:[Nu.userId],references:[J.id]})})),pM=Be(zu,({one:e})=>({notification:e(ki,{fields:[zu.notificationId],references:[ki.id]})})),mM=Be(ca,({one:e})=>({user:e(J,{fields:[ca.userId],references:[J.id]})})),fM=Be(ms,({one:e})=>({user:e(J,{fields:[ms.userId],references:[J.id]}),resolvedByUser:e(J,{fields:[ms.resolvedBy],references:[J.id],relationName:"resolvedByUser"})})),hM=Be(Iu,({one:e})=>({user:e(J,{fields:[Iu.userId],references:[J.id]})})),gM=Be(Ou,({one:e})=>({user:e(J,{fields:[Ou.userId],references:[J.id]})})),yM=Be(Au,({one:e})=>({user:e(J,{fields:[Au.userId],references:[J.id]})})),vM=Be(wn,({many:e})=>({consents:e(qt)})),_M=Be(qt,({one:e})=>({user:e(J,{fields:[qt.userId],references:[J.id]})})),bM=Be(Kf,()=>({})),SM=Be(tn,({one:e})=>({user:e(J,{fields:[tn.userId],references:[J.id]})})),wM=Be(bo,({one:e})=>({user:e(J,{fields:[bo.userId],references:[J.id]})})),xM=Be(Ur,({one:e})=>({user:e(J,{fields:[Ur.userId],references:[J.id]})})),TM=Be(xn,({one:e})=>({user:e(J,{fields:[xn.userId],references:[J.id]})})),EM=Be($u,({one:e})=>({user:e(J,{fields:[$u.userId],references:[J.id]})})),kM=Be(en,({many:e})=>({subscriptions:e(je)})),PM=Be(je,({one:e,many:t})=>({user:e(J,{fields:[je.userId],references:[J.id]}),plan:e(en,{fields:[je.planId],references:[en.id]}),paymentHistory:t(yr)})),IM=Be(yr,({one:e})=>({user:e(J,{fields:[yr.userId],references:[J.id]}),subscription:e(je,{fields:[yr.subscriptionId],references:[je.id]})}))});var gs={};_n(gs,{accountBalanceHistory:()=>Cu,accountBalanceHistoryRelations:()=>FD,aiInsights:()=>Cr,aiInsightsRelations:()=>iM,alertRules:()=>Nu,alertRulesRelations:()=>dM,auditLogs:()=>ca,auditLogsRelations:()=>mM,bankAccounts:()=>ce,bankAccountsRelations:()=>LD,bankSyncLogs:()=>la,bankSyncLogsRelations:()=>BD,boletoPayments:()=>da,boletoPaymentsRelations:()=>rM,boletoStatusEnum:()=>RD,boletos:()=>Vo,boletosRelations:()=>tM,budgetCategories:()=>fa,budgetCategoriesRelations:()=>sM,chatMessages:()=>Mu,chatMessagesRelations:()=>cM,chatSessions:()=>Ko,chatSessionsRelations:()=>uM,collectionMethodEnum:()=>dE,commandIntents:()=>DD,complianceAuditLogs:()=>xn,complianceAuditLogsRelations:()=>TM,complianceEventTypeEnum:()=>vE,consentTemplates:()=>wn,consentTemplatesRelations:()=>vM,consentTypeEnum:()=>Zf,contactPaymentMethods:()=>Ru,contactPaymentMethodsRelations:()=>eM,contacts:()=>$e,contactsRelations:()=>YD,dataDeletionRequests:()=>tn,dataDeletionRequestsRelations:()=>SM,dataExportRequests:()=>Au,dataExportRequestsRelations:()=>yM,dataRetentionPolicies:()=>Kf,dataRetentionPoliciesRelations:()=>bM,deletionRequestStatusEnum:()=>mE,deletionRequestTypeEnum:()=>pE,errorLogs:()=>ms,errorLogsRelations:()=>fM,eventReminders:()=>pa,eventRemindersRelations:()=>GD,eventTypes:()=>hs,eventTypesRelations:()=>ZD,exportFormatEnum:()=>hE,exportRequestTypeEnum:()=>fE,exportStatusEnum:()=>gE,financialEvents:()=>mt,financialEventsRelations:()=>KD,legalHolds:()=>$u,legalHoldsRelations:()=>EM,lgpdConsentLogs:()=>Ou,lgpdConsentLogsRelations:()=>gM,lgpdConsents:()=>qt,lgpdConsentsRelations:()=>_M,lgpdExportRequests:()=>bo,lgpdExportRequestsRelations:()=>wM,limitTypeEnum:()=>yE,notificationLogs:()=>zu,notificationLogsRelations:()=>pM,notifications:()=>ki,notificationsRelations:()=>lM,paymentHistory:()=>yr,paymentHistoryRelations:()=>IM,paymentMethodTypeEnum:()=>$D,paymentStatusEnum:()=>sE,pixKeyTypeEnum:()=>ND,pixKeys:()=>ju,pixKeysRelations:()=>WD,pixQrCodes:()=>Pi,pixQrCodesRelations:()=>QD,pixTransactionStatusEnum:()=>zD,pixTransactionTypeEnum:()=>jD,pixTransactions:()=>Zo,pixTransactionsRelations:()=>XD,spendingPatterns:()=>ma,spendingPatternsRelations:()=>aM,subscriptionPlans:()=>en,subscriptionPlansRelations:()=>kM,subscriptionStatusEnum:()=>aE,subscriptions:()=>je,subscriptionsRelations:()=>PM,transactionCategories:()=>De,transactionCategoriesRelations:()=>JD,transactionLimits:()=>Ur,transactionLimitsRelations:()=>xM,transactionSchedules:()=>Gt,transactionSchedulesRelations:()=>VD,transactions:()=>oe,transactionsRelations:()=>HD,userPreferences:()=>Sn,userPreferencesRelations:()=>qD,userSecurity:()=>ps,userSecurityRelations:()=>UD,userSessions:()=>Iu,userSessionsRelations:()=>hM,users:()=>J,usersRelations:()=>MD,voiceCommands:()=>Du,voiceCommandsRelations:()=>nM,voiceTranscriptions:()=>qu,voiceTranscriptionsRelations:()=>oM});var Lr=W(()=>{"use strict";iE();td();rd();uE();cE();lE();_E();bE();SE();fs();Ar();wE();OM()});var PE={};_n(PE,{adminDb:()=>bee,closePool:()=>vee,createHttpClient:()=>CM,createPoolClient:()=>yee,createUserScopedClient:()=>Wf,db:()=>So,getHttpClient:()=>Fr,getOrganizationClient:()=>_ee,getPoolClient:()=>rn,schema:()=>gs});var AM,kE,CM,xE,Fr,yee,nd,Gf,rn,vee,_ee,TE,So,EE,bee,Wf,Tn=W(()=>{"use strict";Hl();OD();CD();Lr();AM=a(()=>{let e=process.env.DATABASE_URL;if(!e)throw new Error("DATABASE_URL environment variable is not set");return e},"getPooledDatabaseUrl"),kE=a(()=>{let e=process.env.DATABASE_URL_UNPOOLED;return e||(console.warn("DATABASE_URL_UNPOOLED not set, using DATABASE_URL as fallback"),AM())},"getDirectDatabaseUrl"),CM=a(()=>{let e=ia(AM());return Hf(e,{schema:gs})},"createHttpClient"),xE=null,Fr=a(()=>(xE||(xE=CM()),xE),"getHttpClient"),yee=a(()=>{let e=new vo({connectionString:kE()});return Pu(e,{schema:gs})},"createPoolClient"),nd=null,Gf=null,rn=a(()=>(Gf||(nd=new vo({connectionString:kE()}),Gf=Pu(nd,{schema:gs})),Gf),"getPoolClient"),vee=a(async()=>{nd&&(await nd.end(),nd=null,Gf=null)},"closePool"),_ee=a(e=>rn(),"getOrganizationClient"),TE=null,So=new Proxy({},{get(e,t){if(typeof window<"u")throw new Error("Database client cannot be used in browser context");if(!TE){if(!process.env.DATABASE_URL)throw new Error("DATABASE_URL environment variable is not set");TE=Fr()}return TE[t]}}),EE=null,bee=new Proxy({},{get(e,t){if(typeof window<"u")throw new Error("Admin database client cannot be used in browser context");if(!EE){if(!(process.env.DATABASE_URL_UNPOOLED??process.env.DATABASE_URL))throw new Error("DATABASE_URL_UNPOOLED or DATABASE_URL environment variable is not set");EE=rn()}return EE[t]}}),Wf=a(async e=>{if(!e||!/^user_[a-zA-Z0-9_]+$/.test(e))throw new Error(`Invalid user ID format: ${e}`);let t=3,r=1e3,n=null;for(let o=1;o<=t;o++)try{let i=new vo({connectionString:kE(),connectionTimeoutMillis:15e3,max:1}),s=Pu(i,{schema:gs}),u=e.replace(/'/g,"''");return await i.query(`SET LOCAL app.current_user_id = '${u}'`),await i.query("SELECT 1"),s}catch(i){if(n=i instanceof Error?i:new Error(String(i)),o===t||i instanceof Error&&i.message.includes("Invalid user ID"))throw n;await new Promise(s=>setTimeout(s,r*o))}throw n||new Error("Failed to create user-scoped database client")},"createUserScopedClient")});var IE,ys,Qf=W(()=>{"use strict";IE={staticAssets:"public, max-age=31536000, immutable",htmlFiles:"no-cache, no-store, must-revalidate",apiResponses:"private, max-age=60",dynamicContent:"private, no-cache"},ys={NODE_ENV:"production",PORT:Number(process.env.PORT)||3e3,IS_DEVELOPMENT:!1,IS_PRODUCTION:!0,DATABASE_URL:process.env.DATABASE_URL||"",DATABASE_URL_UNPOOLED:process.env.DATABASE_URL_UNPOOLED||"",CLERK_PUBLISHABLE_KEY:process.env.VITE_CLERK_PUBLISHABLE_KEY||process.env.CLERK_PUBLISHABLE_KEY||"",CLERK_SECRET_KEY:process.env.CLERK_SECRET_KEY||"",API_URL:process.env.VITE_API_URL||process.env.API_URL||"http://localhost:3000",CORS_ORIGINS:(process.env.CORS_ORIGINS||"http://localhost:5173,http://localhost:3000").split(",")}});var zM={};_n(zM,{htmlCache:()=>Tee,staticAssetsCache:()=>xee});var xee,Tee,jM=W(()=>{"use strict";Qf();xee=a(()=>async(e,t)=>{e.header("Cache-Control",IE.staticAssets),await t()},"staticAssetsCache"),Tee=a(()=>async(e,t)=>{e.header("Cache-Control",IE.htmlFiles),e.header("Pragma","no-cache"),e.header("Expires","0"),await t()},"htmlCache")});var hq=M(ch=>{"use strict";Object.defineProperty(ch,"__esModule",{value:!0});ch.parse=hte;ch.serialize=gte;var cte=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,lte=/^[\u0021-\u003A\u003C-\u007E]*$/,dte=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,pte=/^[\u0020-\u003A\u003D-\u007E]*$/,mte=Object.prototype.toString,fte=(()=>{let e=a(function(){},"C");return e.prototype=Object.create(null),e})();function hte(e,t){let r=new fte,n=e.length;if(n<2)return r;let o=t?.decode||yte,i=0;do{let s=e.indexOf("=",i);if(s===-1)break;let u=e.indexOf(";",i),l=u===-1?n:u;if(s>l){i=e.lastIndexOf(";",s-1)+1;continue}let d=mq(e,i,s),p=fq(e,s,d),f=e.slice(d,p);if(r[f]===void 0){let m=mq(e,s+1,l),y=fq(e,l,m),g=o(e.slice(m,y));r[f]=g}i=l+1}while(i<n);return r}a(hte,"parse");function mq(e,t,r){do{let n=e.charCodeAt(t);if(n!==32&&n!==9)return t}while(++t<r);return r}a(mq,"startIndex");function fq(e,t,r){for(;t>r;){let n=e.charCodeAt(--t);if(n!==32&&n!==9)return t+1}return r}a(fq,"endIndex");function gte(e,t,r){let n=r?.encode||encodeURIComponent;if(!cte.test(e))throw new TypeError(`argument name is invalid: ${e}`);let o=n(t);if(!lte.test(o))throw new TypeError(`argument val is invalid: ${t}`);let i=e+"="+o;if(!r)return i;if(r.maxAge!==void 0){if(!Number.isInteger(r.maxAge))throw new TypeError(`option maxAge is invalid: ${r.maxAge}`);i+="; Max-Age="+r.maxAge}if(r.domain){if(!dte.test(r.domain))throw new TypeError(`option domain is invalid: ${r.domain}`);i+="; Domain="+r.domain}if(r.path){if(!pte.test(r.path))throw new TypeError(`option path is invalid: ${r.path}`);i+="; Path="+r.path}if(r.expires){if(!vte(r.expires)||!Number.isFinite(r.expires.valueOf()))throw new TypeError(`option expires is invalid: ${r.expires}`);i+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.partitioned&&(i+="; Partitioned"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():void 0){case"low":i+="; Priority=Low";break;case"medium":i+="; Priority=Medium";break;case"high":i+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${r.priority}`)}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"none":i+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${r.sameSite}`)}return i}a(gte,"serialize");function yte(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}a(yte,"decode");function vte(e){return mte.call(e)==="[object Date]"}a(vte,"isDate")});var Ig=M((_3e,ac)=>{"use strict";var hce=typeof Buffer<"u",ZL=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,KL=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function GL(e,t,r){r==null&&t!==null&&typeof t=="object"&&(r=t,t=void 0),hce&&Buffer.isBuffer(e)&&(e=e.toString()),e&&e.charCodeAt(0)===65279&&(e=e.slice(1));let n=JSON.parse(e,t);if(n===null||typeof n!="object")return n;let o=r&&r.protoAction||"error",i=r&&r.constructorAction||"error";if(o==="ignore"&&i==="ignore")return n;if(o!=="ignore"&&i!=="ignore"){if(ZL.test(e)===!1&&KL.test(e)===!1)return n}else if(o!=="ignore"&&i==="ignore"){if(ZL.test(e)===!1)return n}else if(KL.test(e)===!1)return n;return WL(n,{protoAction:o,constructorAction:i,safe:r&&r.safe})}a(GL,"_parse");function WL(e,{protoAction:t="error",constructorAction:r="error",safe:n}={}){let o=[e];for(;o.length;){let i=o;o=[];for(let s of i){if(t!=="ignore"&&Object.prototype.hasOwnProperty.call(s,"__proto__")){if(n===!0)return null;if(t==="error")throw new SyntaxError("Object contains forbidden prototype property");delete s.__proto__}if(r!=="ignore"&&Object.prototype.hasOwnProperty.call(s,"constructor")&&Object.prototype.hasOwnProperty.call(s.constructor,"prototype")){if(n===!0)return null;if(r==="error")throw new SyntaxError("Object contains forbidden prototype property");delete s.constructor}for(let u in s){let l=s[u];l&&typeof l=="object"&&o.push(l)}}}return e}a(WL,"filter");function bC(e,t,r){let n=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return GL(e,t,r)}finally{Error.stackTraceLimit=n}}a(bC,"parse");function gce(e,t){let r=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return GL(e,t,{safe:!0})}catch{return null}finally{Error.stackTraceLimit=r}}a(gce,"safeParse");ac.exports=bC;ac.exports.default=bC;ac.exports.parse=bC;ac.exports.safeParse=gce;ac.exports.scan=WL});var Os=M((Ztt,DJ)=>{"use strict";DJ.exports=TypeError});var qJ=M((Ktt,MJ)=>{MJ.exports=uX("util").inspect});var Vp=M((Gtt,i5)=>{var aR=typeof Map=="function"&&Map.prototype,Q1=Object.getOwnPropertyDescriptor&&aR?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,dy=aR&&Q1&&typeof Q1.get=="function"?Q1.get:null,UJ=aR&&Map.prototype.forEach,sR=typeof Set=="function"&&Set.prototype,X1=Object.getOwnPropertyDescriptor&&sR?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,py=sR&&X1&&typeof X1.get=="function"?X1.get:null,LJ=sR&&Set.prototype.forEach,z_e=typeof WeakMap=="function"&&WeakMap.prototype,Bp=z_e?WeakMap.prototype.has:null,j_e=typeof WeakSet=="function"&&WeakSet.prototype,Jp=j_e?WeakSet.prototype.has:null,D_e=typeof WeakRef=="function"&&WeakRef.prototype,FJ=D_e?WeakRef.prototype.deref:null,M_e=Boolean.prototype.valueOf,q_e=Object.prototype.toString,U_e=Function.prototype.toString,L_e=String.prototype.match,uR=String.prototype.slice,Ua=String.prototype.replace,F_e=String.prototype.toUpperCase,BJ=String.prototype.toLowerCase,XJ=RegExp.prototype.test,JJ=Array.prototype.concat,oi=Array.prototype.join,B_e=Array.prototype.slice,HJ=Math.floor,tR=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Y1=Object.getOwnPropertySymbols,rR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Hp=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Cc||!0)?Symbol.toStringTag:null,YJ=Object.prototype.propertyIsEnumerable,VJ=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function ZJ(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||XJ.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var n=e<0?-HJ(-e):HJ(e);if(n!==e){var o=String(n),i=uR.call(t,o.length+1);return Ua.call(o,r,"$&_")+"."+Ua.call(Ua.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Ua.call(t,r,"$&_")}a(ZJ,"addNumericSeparator");var nR=qJ(),KJ=nR.custom,GJ=r5(KJ)?KJ:null,e5={__proto__:null,double:'"',single:"'"},J_e={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};i5.exports=a(function e(t,r,n,o){var i=r||{};if(Ji(i,"quoteStyle")&&!Ji(e5,i.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Ji(i,"maxStringLength")&&(typeof i.maxStringLength=="number"?i.maxStringLength<0&&i.maxStringLength!==1/0:i.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=Ji(i,"customInspect")?i.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Ji(i,"indent")&&i.indent!==null&&i.indent!=="	"&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Ji(i,"numericSeparator")&&typeof i.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var u=i.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return o5(t,i);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var l=String(t);return u?ZJ(t,l):l}if(typeof t=="bigint"){var d=String(t)+"n";return u?ZJ(t,d):d}var p=typeof i.depth>"u"?5:i.depth;if(typeof n>"u"&&(n=0),n>=p&&p>0&&typeof t=="object")return oR(t)?"[Array]":"[Object]";var f=ube(i,n);if(typeof o>"u")o=[];else if(n5(o,t)>=0)return"[Circular]";function m(G,B,te){if(B&&(o=B_e.call(o),o.push(B)),te){var ne={depth:i.depth};return Ji(i,"quoteStyle")&&(ne.quoteStyle=i.quoteStyle),e(G,ne,n+1,o)}return e(G,i,n+1,o)}if(a(m,"inspect"),typeof t=="function"&&!WJ(t)){var y=Y_e(t),g=ly(t,m);return"[Function"+(y?": "+y:" (anonymous)")+"]"+(g.length>0?" { "+oi.call(g,", ")+" }":"")}if(r5(t)){var h=Cc?Ua.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):rR.call(t);return typeof t=="object"&&!Cc?Fp(h):h}if(ibe(t)){for(var v="<"+BJ.call(String(t.nodeName)),S=t.attributes||[],b=0;b<S.length;b++)v+=" "+S[b].name+"="+t5(H_e(S[b].value),"double",i);return v+=">",t.childNodes&&t.childNodes.length&&(v+="..."),v+="</"+BJ.call(String(t.nodeName))+">",v}if(oR(t)){if(t.length===0)return"[]";var w=ly(t,m);return f&&!sbe(w)?"["+iR(w,f)+"]":"[ "+oi.call(w,", ")+" ]"}if(Z_e(t)){var k=ly(t,m);return!("cause"in Error.prototype)&&"cause"in t&&!YJ.call(t,"cause")?"{ ["+String(t)+"] "+oi.call(JJ.call("[cause]: "+m(t.cause),k),", ")+" }":k.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+oi.call(k,", ")+" }"}if(typeof t=="object"&&s){if(GJ&&typeof t[GJ]=="function"&&nR)return nR(t,{depth:p-n});if(s!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(ebe(t)){var $=[];return UJ&&UJ.call(t,function(G,B){$.push(m(B,t,!0)+" => "+m(G,t))}),QJ("Map",dy.call(t),$,f)}if(nbe(t)){var C=[];return LJ&&LJ.call(t,function(G){C.push(m(G,t))}),QJ("Set",py.call(t),C,f)}if(tbe(t))return eR("WeakMap");if(obe(t))return eR("WeakSet");if(rbe(t))return eR("WeakRef");if(G_e(t))return Fp(m(Number(t)));if(Q_e(t))return Fp(m(tR.call(t)));if(W_e(t))return Fp(M_e.call(t));if(K_e(t))return Fp(m(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(typeof globalThis<"u"&&t===globalThis||typeof global<"u"&&t===global)return"{ [object globalThis] }";if(!V_e(t)&&!WJ(t)){var A=ly(t,m),R=VJ?VJ(t)===Object.prototype:t instanceof Object||t.constructor===Object,O=t instanceof Object?"":"null prototype",z=!R&&Hp&&Object(t)===t&&Hp in t?uR.call(La(t),8,-1):O?"Object":"",D=R||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",X=D+(z||O?"["+oi.call(JJ.call([],z||[],O||[]),": ")+"] ":"");return A.length===0?X+"{}":f?X+"{"+iR(A,f)+"}":X+"{ "+oi.call(A,", ")+" }"}return String(t)},"inspect_");function t5(e,t,r){var n=r.quoteStyle||t,o=e5[n];return o+e+o}a(t5,"wrapQuotes");function H_e(e){return Ua.call(String(e),/"/g,"&quot;")}a(H_e,"quote");function As(e){return!Hp||!(typeof e=="object"&&(Hp in e||typeof e[Hp]<"u"))}a(As,"canTrustToString");function oR(e){return La(e)==="[object Array]"&&As(e)}a(oR,"isArray");function V_e(e){return La(e)==="[object Date]"&&As(e)}a(V_e,"isDate");function WJ(e){return La(e)==="[object RegExp]"&&As(e)}a(WJ,"isRegExp");function Z_e(e){return La(e)==="[object Error]"&&As(e)}a(Z_e,"isError");function K_e(e){return La(e)==="[object String]"&&As(e)}a(K_e,"isString");function G_e(e){return La(e)==="[object Number]"&&As(e)}a(G_e,"isNumber");function W_e(e){return La(e)==="[object Boolean]"&&As(e)}a(W_e,"isBoolean");function r5(e){if(Cc)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!rR)return!1;try{return rR.call(e),!0}catch{}return!1}a(r5,"isSymbol");function Q_e(e){if(!e||typeof e!="object"||!tR)return!1;try{return tR.call(e),!0}catch{}return!1}a(Q_e,"isBigInt");var X_e=Object.prototype.hasOwnProperty||function(e){return e in this};function Ji(e,t){return X_e.call(e,t)}a(Ji,"has");function La(e){return q_e.call(e)}a(La,"toStr");function Y_e(e){if(e.name)return e.name;var t=L_e.call(U_e.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}a(Y_e,"nameOf");function n5(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}a(n5,"indexOf");function ebe(e){if(!dy||!e||typeof e!="object")return!1;try{dy.call(e);try{py.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}a(ebe,"isMap");function tbe(e){if(!Bp||!e||typeof e!="object")return!1;try{Bp.call(e,Bp);try{Jp.call(e,Jp)}catch{return!0}return e instanceof WeakMap}catch{}return!1}a(tbe,"isWeakMap");function rbe(e){if(!FJ||!e||typeof e!="object")return!1;try{return FJ.call(e),!0}catch{}return!1}a(rbe,"isWeakRef");function nbe(e){if(!py||!e||typeof e!="object")return!1;try{py.call(e);try{dy.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}a(nbe,"isSet");function obe(e){if(!Jp||!e||typeof e!="object")return!1;try{Jp.call(e,Jp);try{Bp.call(e,Bp)}catch{return!0}return e instanceof WeakSet}catch{}return!1}a(obe,"isWeakSet");function ibe(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}a(ibe,"isElement");function o5(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return o5(uR.call(e,0,t.maxStringLength),t)+n}var o=J_e[t.quoteStyle||"single"];o.lastIndex=0;var i=Ua.call(Ua.call(e,o,"\\$1"),/[\x00-\x1f]/g,abe);return t5(i,"single",t)}a(o5,"inspectString");function abe(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+F_e.call(t.toString(16))}a(abe,"lowbyte");function Fp(e){return"Object("+e+")"}a(Fp,"markBoxed");function eR(e){return e+" { ? }"}a(eR,"weakCollectionOf");function QJ(e,t,r,n){var o=n?iR(r,n):oi.call(r,", ");return e+" ("+t+") {"+o+"}"}a(QJ,"collectionOf");function sbe(e){for(var t=0;t<e.length;t++)if(n5(e[t],`
`)>=0)return!1;return!0}a(sbe,"singleLineValues");function ube(e,t){var r;if(e.indent==="	")r="	";else if(typeof e.indent=="number"&&e.indent>0)r=oi.call(Array(e.indent+1)," ");else return null;return{base:r,prev:oi.call(Array(t+1),r)}}a(ube,"getIndent");function iR(e,t){if(e.length===0)return"";var r=`
`+t.prev+t.base;return r+oi.call(e,","+r)+`
`+t.prev}a(iR,"indentedJoin");function ly(e,t){var r=oR(e),n=[];if(r){n.length=e.length;for(var o=0;o<e.length;o++)n[o]=Ji(e,o)?t(e[o],e):""}var i=typeof Y1=="function"?Y1(e):[],s;if(Cc){s={};for(var u=0;u<i.length;u++)s["$"+i[u]]=i[u]}for(var l in e)Ji(e,l)&&(r&&String(Number(l))===l&&l<e.length||Cc&&s["$"+l]instanceof Symbol||(XJ.call(/[^\w$]/,l)?n.push(t(l,e)+": "+t(e[l],e)):n.push(l+": "+t(e[l],e))));if(typeof Y1=="function")for(var d=0;d<i.length;d++)YJ.call(e,i[d])&&n.push("["+t(i[d])+"]: "+t(e[i[d]],e));return n}a(ly,"arrObjKeys")});var s5=M((Qtt,a5)=>{"use strict";var cbe=Vp(),lbe=Os(),my=a(function(e,t,r){for(var n=e,o;(o=n.next)!=null;n=o)if(o.key===t)return n.next=o.next,r||(o.next=e.next,e.next=o),o},"listGetNode"),dbe=a(function(e,t){if(e){var r=my(e,t);return r&&r.value}},"listGet"),pbe=a(function(e,t,r){var n=my(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}},"listSet"),mbe=a(function(e,t){return e?!!my(e,t):!1},"listHas"),fbe=a(function(e,t){if(e)return my(e,t,!0)},"listDelete");a5.exports=a(function(){var t,r={assert:a(function(n){if(!r.has(n))throw new lbe("Side channel does not contain "+cbe(n))},"assert"),delete:a(function(n){var o=t&&t.next,i=fbe(t,n);return i&&o&&o===i&&(t=void 0),!!i},"delete"),get:a(function(n){return dbe(t,n)},"get"),has:a(function(n){return mbe(t,n)},"has"),set:a(function(n,o){t||(t={next:void 0}),pbe(t,n,o)},"set")};return r},"getSideChannelList")});var cR=M((Ytt,u5)=>{"use strict";u5.exports=Object});var l5=M((ert,c5)=>{"use strict";c5.exports=Error});var p5=M((trt,d5)=>{"use strict";d5.exports=EvalError});var f5=M((rrt,m5)=>{"use strict";m5.exports=RangeError});var g5=M((nrt,h5)=>{"use strict";h5.exports=ReferenceError});var v5=M((ort,y5)=>{"use strict";y5.exports=SyntaxError});var b5=M((irt,_5)=>{"use strict";_5.exports=URIError});var w5=M((art,S5)=>{"use strict";S5.exports=Math.abs});var T5=M((srt,x5)=>{"use strict";x5.exports=Math.floor});var k5=M((urt,E5)=>{"use strict";E5.exports=Math.max});var I5=M((crt,P5)=>{"use strict";P5.exports=Math.min});var A5=M((lrt,O5)=>{"use strict";O5.exports=Math.pow});var R5=M((drt,C5)=>{"use strict";C5.exports=Math.round});var N5=M((prt,$5)=>{"use strict";$5.exports=Number.isNaN||a(function(t){return t!==t},"isNaN")});var j5=M((frt,z5)=>{"use strict";var hbe=N5();z5.exports=a(function(t){return hbe(t)||t===0?t:t<0?-1:1},"sign")});var M5=M((grt,D5)=>{"use strict";D5.exports=Object.getOwnPropertyDescriptor});var lR=M((yrt,q5)=>{"use strict";var fy=M5();if(fy)try{fy([],"length")}catch{fy=null}q5.exports=fy});var L5=M((vrt,U5)=>{"use strict";var hy=Object.defineProperty||!1;if(hy)try{hy({},"a",{value:1})}catch{hy=!1}U5.exports=hy});var B5=M((_rt,F5)=>{"use strict";F5.exports=a(function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var o=42;t[r]=o;for(var i in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var s=Object.getOwnPropertySymbols(t);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var u=Object.getOwnPropertyDescriptor(t,r);if(u.value!==o||u.enumerable!==!0)return!1}return!0},"hasSymbols")});var V5=M((Srt,H5)=>{"use strict";var J5=typeof Symbol<"u"&&Symbol,gbe=B5();H5.exports=a(function(){return typeof J5!="function"||typeof Symbol!="function"||typeof J5("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:gbe()},"hasNativeSymbols")});var dR=M((xrt,Z5)=>{"use strict";Z5.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null});var pR=M((Trt,K5)=>{"use strict";var ybe=cR();K5.exports=ybe.getPrototypeOf||null});var Q5=M((Ert,W5)=>{"use strict";var vbe="Function.prototype.bind called on incompatible ",_be=Object.prototype.toString,bbe=Math.max,Sbe="[object Function]",G5=a(function(t,r){for(var n=[],o=0;o<t.length;o+=1)n[o]=t[o];for(var i=0;i<r.length;i+=1)n[i+t.length]=r[i];return n},"concatty"),wbe=a(function(t,r){for(var n=[],o=r||0,i=0;o<t.length;o+=1,i+=1)n[i]=t[o];return n},"slicy"),xbe=a(function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r},"joiny");W5.exports=a(function(t){var r=this;if(typeof r!="function"||_be.apply(r)!==Sbe)throw new TypeError(vbe+r);for(var n=wbe(arguments,1),o,i=a(function(){if(this instanceof o){var p=r.apply(this,G5(n,arguments));return Object(p)===p?p:this}return r.apply(t,G5(n,arguments))},"binder"),s=bbe(0,r.length-n.length),u=[],l=0;l<s;l++)u[l]="$"+l;if(o=Function("binder","return function ("+xbe(u,",")+"){ return binder.apply(this,arguments); }")(i),r.prototype){var d=a(function(){},"Empty");d.prototype=r.prototype,o.prototype=new d,d.prototype=null}return o},"bind")});var Zp=M((Prt,X5)=>{"use strict";var Tbe=Q5();X5.exports=Function.prototype.bind||Tbe});var gy=M((Irt,Y5)=>{"use strict";Y5.exports=Function.prototype.call});var mR=M((Ort,eH)=>{"use strict";eH.exports=Function.prototype.apply});var rH=M((Art,tH)=>{"use strict";tH.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply});var oH=M((Crt,nH)=>{"use strict";var Ebe=Zp(),kbe=mR(),Pbe=gy(),Ibe=rH();nH.exports=Ibe||Ebe.call(Pbe,kbe)});var fR=M((Rrt,iH)=>{"use strict";var Obe=Zp(),Abe=Os(),Cbe=gy(),Rbe=oH();iH.exports=a(function(t){if(t.length<1||typeof t[0]!="function")throw new Abe("a function is required");return Rbe(Obe,Cbe,t)},"callBindBasic")});var dH=M((Nrt,lH)=>{"use strict";var $be=fR(),aH=lR(),uH;try{uH=[].__proto__===Array.prototype}catch(e){if(!e||typeof e!="object"||!("code"in e)||e.code!=="ERR_PROTO_ACCESS")throw e}var hR=!!uH&&aH&&aH(Object.prototype,"__proto__"),cH=Object,sH=cH.getPrototypeOf;lH.exports=hR&&typeof hR.get=="function"?$be([hR.get]):typeof sH=="function"?a(function(t){return sH(t==null?t:cH(t))},"getDunder"):!1});var gH=M((jrt,hH)=>{"use strict";var pH=dR(),mH=pR(),fH=dH();hH.exports=pH?a(function(t){return pH(t)},"getProto"):mH?a(function(t){if(!t||typeof t!="object"&&typeof t!="function")throw new TypeError("getProto: not an object");return mH(t)},"getProto"):fH?a(function(t){return fH(t)},"getProto"):null});var vH=M((Mrt,yH)=>{"use strict";var Nbe=Function.prototype.call,zbe=Object.prototype.hasOwnProperty,jbe=Zp();yH.exports=jbe.call(Nbe,zbe)});var _y=M((qrt,TH)=>{"use strict";var pt,Dbe=cR(),Mbe=l5(),qbe=p5(),Ube=f5(),Lbe=g5(),zc=v5(),Nc=Os(),Fbe=b5(),Bbe=w5(),Jbe=T5(),Hbe=k5(),Vbe=I5(),Zbe=A5(),Kbe=R5(),Gbe=j5(),wH=Function,gR=a(function(e){try{return wH('"use strict"; return ('+e+").constructor;")()}catch{}},"getEvalledConstructor"),Kp=lR(),Wbe=L5(),yR=a(function(){throw new Nc},"throwTypeError"),Qbe=Kp?(function(){try{return arguments.callee,yR}catch{try{return Kp(arguments,"callee").get}catch{return yR}}})():yR,Rc=V5()(),$r=gH(),Xbe=pR(),Ybe=dR(),xH=mR(),Gp=gy(),$c={},eSe=typeof Uint8Array>"u"||!$r?pt:$r(Uint8Array),Cs={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?pt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?pt:ArrayBuffer,"%ArrayIteratorPrototype%":Rc&&$r?$r([][Symbol.iterator]()):pt,"%AsyncFromSyncIteratorPrototype%":pt,"%AsyncFunction%":$c,"%AsyncGenerator%":$c,"%AsyncGeneratorFunction%":$c,"%AsyncIteratorPrototype%":$c,"%Atomics%":typeof Atomics>"u"?pt:Atomics,"%BigInt%":typeof BigInt>"u"?pt:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?pt:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?pt:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?pt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Mbe,"%eval%":eval,"%EvalError%":qbe,"%Float16Array%":typeof Float16Array>"u"?pt:Float16Array,"%Float32Array%":typeof Float32Array>"u"?pt:Float32Array,"%Float64Array%":typeof Float64Array>"u"?pt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?pt:FinalizationRegistry,"%Function%":wH,"%GeneratorFunction%":$c,"%Int8Array%":typeof Int8Array>"u"?pt:Int8Array,"%Int16Array%":typeof Int16Array>"u"?pt:Int16Array,"%Int32Array%":typeof Int32Array>"u"?pt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Rc&&$r?$r($r([][Symbol.iterator]())):pt,"%JSON%":typeof JSON=="object"?JSON:pt,"%Map%":typeof Map>"u"?pt:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Rc||!$r?pt:$r(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Dbe,"%Object.getOwnPropertyDescriptor%":Kp,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?pt:Promise,"%Proxy%":typeof Proxy>"u"?pt:Proxy,"%RangeError%":Ube,"%ReferenceError%":Lbe,"%Reflect%":typeof Reflect>"u"?pt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?pt:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Rc||!$r?pt:$r(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?pt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Rc&&$r?$r(""[Symbol.iterator]()):pt,"%Symbol%":Rc?Symbol:pt,"%SyntaxError%":zc,"%ThrowTypeError%":Qbe,"%TypedArray%":eSe,"%TypeError%":Nc,"%Uint8Array%":typeof Uint8Array>"u"?pt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?pt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?pt:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?pt:Uint32Array,"%URIError%":Fbe,"%WeakMap%":typeof WeakMap>"u"?pt:WeakMap,"%WeakRef%":typeof WeakRef>"u"?pt:WeakRef,"%WeakSet%":typeof WeakSet>"u"?pt:WeakSet,"%Function.prototype.call%":Gp,"%Function.prototype.apply%":xH,"%Object.defineProperty%":Wbe,"%Object.getPrototypeOf%":Xbe,"%Math.abs%":Bbe,"%Math.floor%":Jbe,"%Math.max%":Hbe,"%Math.min%":Vbe,"%Math.pow%":Zbe,"%Math.round%":Kbe,"%Math.sign%":Gbe,"%Reflect.getPrototypeOf%":Ybe};if($r)try{null.error}catch(e){_H=$r($r(e)),Cs["%Error.prototype%"]=_H}var _H,tSe=a(function e(t){var r;if(t==="%AsyncFunction%")r=gR("async function () {}");else if(t==="%GeneratorFunction%")r=gR("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=gR("async function* () {}");else if(t==="%AsyncGenerator%"){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var o=e("%AsyncGenerator%");o&&$r&&(r=$r(o.prototype))}return Cs[t]=r,r},"doEval"),bH={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Wp=Zp(),yy=vH(),rSe=Wp.call(Gp,Array.prototype.concat),nSe=Wp.call(xH,Array.prototype.splice),SH=Wp.call(Gp,String.prototype.replace),vy=Wp.call(Gp,String.prototype.slice),oSe=Wp.call(Gp,RegExp.prototype.exec),iSe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,aSe=/\\(\\)?/g,sSe=a(function(t){var r=vy(t,0,1),n=vy(t,-1);if(r==="%"&&n!=="%")throw new zc("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new zc("invalid intrinsic syntax, expected opening `%`");var o=[];return SH(t,iSe,function(i,s,u,l){o[o.length]=u?SH(l,aSe,"$1"):s||i}),o},"stringToPath"),uSe=a(function(t,r){var n=t,o;if(yy(bH,n)&&(o=bH[n],n="%"+o[0]+"%"),yy(Cs,n)){var i=Cs[n];if(i===$c&&(i=tSe(n)),typeof i>"u"&&!r)throw new Nc("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:o,name:n,value:i}}throw new zc("intrinsic "+t+" does not exist!")},"getBaseIntrinsic");TH.exports=a(function(t,r){if(typeof t!="string"||t.length===0)throw new Nc("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Nc('"allowMissing" argument must be a boolean');if(oSe(/^%?[^%]*%?$/,t)===null)throw new zc("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=sSe(t),o=n.length>0?n[0]:"",i=uSe("%"+o+"%",r),s=i.name,u=i.value,l=!1,d=i.alias;d&&(o=d[0],nSe(n,rSe([0,1],d)));for(var p=1,f=!0;p<n.length;p+=1){var m=n[p],y=vy(m,0,1),g=vy(m,-1);if((y==='"'||y==="'"||y==="`"||g==='"'||g==="'"||g==="`")&&y!==g)throw new zc("property names with quotes must have matching quotes");if((m==="constructor"||!f)&&(l=!0),o+="."+m,s="%"+o+"%",yy(Cs,s))u=Cs[s];else if(u!=null){if(!(m in u)){if(!r)throw new Nc("base intrinsic for "+t+" exists, but the property is not available.");return}if(Kp&&p+1>=n.length){var h=Kp(u,m);f=!!h,f&&"get"in h&&!("originalValue"in h.get)?u=h.get:u=u[m]}else f=yy(u,m),u=u[m];f&&!l&&(Cs[s]=u)}}return u},"GetIntrinsic")});var vR=M((Lrt,PH)=>{"use strict";var EH=_y(),kH=fR(),cSe=kH([EH("%String.prototype.indexOf%")]);PH.exports=a(function(t,r){var n=EH(t,!!r);return typeof n=="function"&&cSe(t,".prototype.")>-1?kH([n]):n},"callBoundIntrinsic")});var _R=M((Brt,OH)=>{"use strict";var lSe=_y(),Qp=vR(),dSe=Vp(),pSe=Os(),IH=lSe("%Map%",!0),mSe=Qp("Map.prototype.get",!0),fSe=Qp("Map.prototype.set",!0),hSe=Qp("Map.prototype.has",!0),gSe=Qp("Map.prototype.delete",!0),ySe=Qp("Map.prototype.size",!0);OH.exports=!!IH&&a(function(){var t,r={assert:a(function(n){if(!r.has(n))throw new pSe("Side channel does not contain "+dSe(n))},"assert"),delete:a(function(n){if(t){var o=gSe(t,n);return ySe(t)===0&&(t=void 0),o}return!1},"delete"),get:a(function(n){if(t)return mSe(t,n)},"get"),has:a(function(n){return t?hSe(t,n):!1},"has"),set:a(function(n,o){t||(t=new IH),fSe(t,n,o)},"set")};return r},"getSideChannelMap")});var CH=M((Hrt,AH)=>{"use strict";var vSe=_y(),Sy=vR(),_Se=Vp(),by=_R(),bSe=Os(),jc=vSe("%WeakMap%",!0),SSe=Sy("WeakMap.prototype.get",!0),wSe=Sy("WeakMap.prototype.set",!0),xSe=Sy("WeakMap.prototype.has",!0),TSe=Sy("WeakMap.prototype.delete",!0);AH.exports=jc?a(function(){var t,r,n={assert:a(function(o){if(!n.has(o))throw new bSe("Side channel does not contain "+_Se(o))},"assert"),delete:a(function(o){if(jc&&o&&(typeof o=="object"||typeof o=="function")){if(t)return TSe(t,o)}else if(by&&r)return r.delete(o);return!1},"delete"),get:a(function(o){return jc&&o&&(typeof o=="object"||typeof o=="function")&&t?SSe(t,o):r&&r.get(o)},"get"),has:a(function(o){return jc&&o&&(typeof o=="object"||typeof o=="function")&&t?xSe(t,o):!!r&&r.has(o)},"has"),set:a(function(o,i){jc&&o&&(typeof o=="object"||typeof o=="function")?(t||(t=new jc),wSe(t,o,i)):by&&(r||(r=by()),r.set(o,i))},"set")};return n},"getSideChannelWeakMap"):by});var $H=M((Zrt,RH)=>{"use strict";var ESe=Os(),kSe=Vp(),PSe=s5(),ISe=_R(),OSe=CH(),ASe=OSe||ISe||PSe;RH.exports=a(function(){var t,r={assert:a(function(n){if(!r.has(n))throw new ESe("Side channel does not contain "+kSe(n))},"assert"),delete:a(function(n){return!!t&&t.delete(n)},"delete"),get:a(function(n){return t&&t.get(n)},"get"),has:a(function(n){return!!t&&t.has(n)},"has"),set:a(function(n,o){t||(t=ASe()),t.set(n,o)},"set")};return r},"getSideChannel")});var wy=M((Grt,NH)=>{"use strict";var CSe=String.prototype.replace,RSe=/%20/g,bR={RFC1738:"RFC1738",RFC3986:"RFC3986"};NH.exports={default:bR.RFC3986,formatters:{RFC1738:a(function(e){return CSe.call(e,RSe,"+")},"RFC1738"),RFC3986:a(function(e){return String(e)},"RFC3986")},RFC1738:bR.RFC1738,RFC3986:bR.RFC3986}});var xR=M((Qrt,jH)=>{"use strict";var $Se=wy(),SR=Object.prototype.hasOwnProperty,Rs=Array.isArray,ii=(function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),NSe=a(function(t){for(;t.length>1;){var r=t.pop(),n=r.obj[r.prop];if(Rs(n)){for(var o=[],i=0;i<n.length;++i)typeof n[i]<"u"&&o.push(n[i]);r.obj[r.prop]=o}}},"compactQueue"),zH=a(function(t,r){for(var n=r&&r.plainObjects?{__proto__:null}:{},o=0;o<t.length;++o)typeof t[o]<"u"&&(n[o]=t[o]);return n},"arrayToObject"),zSe=a(function e(t,r,n){if(!r)return t;if(typeof r!="object"&&typeof r!="function"){if(Rs(t))t.push(r);else if(t&&typeof t=="object")(n&&(n.plainObjects||n.allowPrototypes)||!SR.call(Object.prototype,r))&&(t[r]=!0);else return[t,r];return t}if(!t||typeof t!="object")return[t].concat(r);var o=t;return Rs(t)&&!Rs(r)&&(o=zH(t,n)),Rs(t)&&Rs(r)?(r.forEach(function(i,s){if(SR.call(t,s)){var u=t[s];u&&typeof u=="object"&&i&&typeof i=="object"?t[s]=e(u,i,n):t.push(i)}else t[s]=i}),t):Object.keys(r).reduce(function(i,s){var u=r[s];return SR.call(i,s)?i[s]=e(i[s],u,n):i[s]=u,i},o)},"merge"),jSe=a(function(t,r){return Object.keys(r).reduce(function(n,o){return n[o]=r[o],n},t)},"assignSingleSource"),DSe=a(function(e,t,r){var n=e.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},"decode"),wR=1024,MSe=a(function(t,r,n,o,i){if(t.length===0)return t;var s=t;if(typeof t=="symbol"?s=Symbol.prototype.toString.call(t):typeof t!="string"&&(s=String(t)),n==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(y){return"%26%23"+parseInt(y.slice(2),16)+"%3B"});for(var u="",l=0;l<s.length;l+=wR){for(var d=s.length>=wR?s.slice(l,l+wR):s,p=[],f=0;f<d.length;++f){var m=d.charCodeAt(f);if(m===45||m===46||m===95||m===126||m>=48&&m<=57||m>=65&&m<=90||m>=97&&m<=122||i===$Se.RFC1738&&(m===40||m===41)){p[p.length]=d.charAt(f);continue}if(m<128){p[p.length]=ii[m];continue}if(m<2048){p[p.length]=ii[192|m>>6]+ii[128|m&63];continue}if(m<55296||m>=57344){p[p.length]=ii[224|m>>12]+ii[128|m>>6&63]+ii[128|m&63];continue}f+=1,m=65536+((m&1023)<<10|d.charCodeAt(f)&1023),p[p.length]=ii[240|m>>18]+ii[128|m>>12&63]+ii[128|m>>6&63]+ii[128|m&63]}u+=p.join("")}return u},"encode"),qSe=a(function(t){for(var r=[{obj:{o:t},prop:"o"}],n=[],o=0;o<r.length;++o)for(var i=r[o],s=i.obj[i.prop],u=Object.keys(s),l=0;l<u.length;++l){var d=u[l],p=s[d];typeof p=="object"&&p!==null&&n.indexOf(p)===-1&&(r.push({obj:s,prop:d}),n.push(p))}return NSe(r),t},"compact"),USe=a(function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},"isRegExp"),LSe=a(function(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},"isBuffer"),FSe=a(function(t,r){return[].concat(t,r)},"combine"),BSe=a(function(t,r){if(Rs(t)){for(var n=[],o=0;o<t.length;o+=1)n.push(r(t[o]));return n}return r(t)},"maybeMap");jH.exports={arrayToObject:zH,assign:jSe,combine:FSe,compact:qSe,decode:DSe,encode:MSe,isBuffer:LSe,isRegExp:USe,maybeMap:BSe,merge:zSe}});var FH=M((Yrt,LH)=>{"use strict";var MH=$H(),xy=xR(),Xp=wy(),JSe=Object.prototype.hasOwnProperty,qH={brackets:a(function(t){return t+"[]"},"brackets"),comma:"comma",indices:a(function(t,r){return t+"["+r+"]"},"indices"),repeat:a(function(t){return t},"repeat")},ai=Array.isArray,HSe=Array.prototype.push,UH=a(function(e,t){HSe.apply(e,ai(t)?t:[t])},"pushToArray"),VSe=Date.prototype.toISOString,DH=Xp.default,Pr={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:xy.encode,encodeValuesOnly:!1,filter:void 0,format:DH,formatter:Xp.formatters[DH],indices:!1,serializeDate:a(function(t){return VSe.call(t)},"serializeDate"),skipNulls:!1,strictNullHandling:!1},ZSe=a(function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"},"isNonNullishPrimitive"),TR={},KSe=a(function e(t,r,n,o,i,s,u,l,d,p,f,m,y,g,h,v,S,b){for(var w=t,k=b,$=0,C=!1;(k=k.get(TR))!==void 0&&!C;){var A=k.get(t);if($+=1,typeof A<"u"){if(A===$)throw new RangeError("Cyclic object value");C=!0}typeof k.get(TR)>"u"&&($=0)}if(typeof p=="function"?w=p(r,w):w instanceof Date?w=y(w):n==="comma"&&ai(w)&&(w=xy.maybeMap(w,function(et){return et instanceof Date?y(et):et})),w===null){if(s)return d&&!v?d(r,Pr.encoder,S,"key",g):r;w=""}if(ZSe(w)||xy.isBuffer(w)){if(d){var R=v?r:d(r,Pr.encoder,S,"key",g);return[h(R)+"="+h(d(w,Pr.encoder,S,"value",g))]}return[h(r)+"="+h(String(w))]}var O=[];if(typeof w>"u")return O;var z;if(n==="comma"&&ai(w))v&&d&&(w=xy.maybeMap(w,d)),z=[{value:w.length>0?w.join(",")||null:void 0}];else if(ai(p))z=p;else{var D=Object.keys(w);z=f?D.sort(f):D}var X=l?String(r).replace(/\./g,"%2E"):String(r),G=o&&ai(w)&&w.length===1?X+"[]":X;if(i&&ai(w)&&w.length===0)return G+"[]";for(var B=0;B<z.length;++B){var te=z[B],ne=typeof te=="object"&&te&&typeof te.value<"u"?te.value:w[te];if(!(u&&ne===null)){var ae=m&&l?String(te).replace(/\./g,"%2E"):String(te),Se=ai(w)?typeof n=="function"?n(G,ae):G:G+(m?"."+ae:"["+ae+"]");b.set(t,$);var ke=MH();ke.set(TR,b),UH(O,e(ne,Se,n,o,i,s,u,l,n==="comma"&&v&&ai(w)?null:d,p,f,m,y,g,h,v,S,ke))}}return O},"stringify"),GSe=a(function(t){if(!t)return Pr;if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=t.charset||Pr.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Xp.default;if(typeof t.format<"u"){if(!JSe.call(Xp.formatters,t.format))throw new TypeError("Unknown format option provided.");n=t.format}var o=Xp.formatters[n],i=Pr.filter;(typeof t.filter=="function"||ai(t.filter))&&(i=t.filter);var s;if(t.arrayFormat in qH?s=t.arrayFormat:"indices"in t?s=t.indices?"indices":"repeat":s=Pr.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u=typeof t.allowDots>"u"?t.encodeDotInKeys===!0?!0:Pr.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:Pr.addQueryPrefix,allowDots:u,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:Pr.allowEmptyArrays,arrayFormat:s,charset:r,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Pr.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?Pr.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:Pr.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:Pr.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:Pr.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:Pr.encodeValuesOnly,filter:i,format:n,formatter:o,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:Pr.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:Pr.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Pr.strictNullHandling}},"normalizeStringifyOptions");LH.exports=function(e,t){var r=e,n=GSe(t),o,i;typeof n.filter=="function"?(i=n.filter,r=i("",r)):ai(n.filter)&&(i=n.filter,o=i);var s=[];if(typeof r!="object"||r===null)return"";var u=qH[n.arrayFormat],l=u==="comma"&&n.commaRoundTrip;o||(o=Object.keys(r)),n.sort&&o.sort(n.sort);for(var d=MH(),p=0;p<o.length;++p){var f=o[p],m=r[f];n.skipNulls&&m===null||UH(s,KSe(m,f,u,l,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,d))}var y=s.join(n.delimiter),g=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?g+="utf8=%26%2310003%3B&":g+="utf8=%E2%9C%93&"),y.length>0?g+y:""}});var VH=M((tnt,HH)=>{"use strict";var $s=xR(),ER=Object.prototype.hasOwnProperty,BH=Array.isArray,lr={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:$s.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},WSe=a(function(e){return e.replace(/&#(\d+);/g,function(t,r){return String.fromCharCode(parseInt(r,10))})},"interpretNumericEntities"),JH=a(function(e,t,r){if(e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1)return e.split(",");if(t.throwOnLimitExceeded&&r>=t.arrayLimit)throw new RangeError("Array limit exceeded. Only "+t.arrayLimit+" element"+(t.arrayLimit===1?"":"s")+" allowed in an array.");return e},"parseArrayValue"),QSe="utf8=%26%2310003%3B",XSe="utf8=%E2%9C%93",YSe=a(function(t,r){var n={__proto__:null},o=r.ignoreQueryPrefix?t.replace(/^\?/,""):t;o=o.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var i=r.parameterLimit===1/0?void 0:r.parameterLimit,s=o.split(r.delimiter,r.throwOnLimitExceeded?i+1:i);if(r.throwOnLimitExceeded&&s.length>i)throw new RangeError("Parameter limit exceeded. Only "+i+" parameter"+(i===1?"":"s")+" allowed.");var u=-1,l,d=r.charset;if(r.charsetSentinel)for(l=0;l<s.length;++l)s[l].indexOf("utf8=")===0&&(s[l]===XSe?d="utf-8":s[l]===QSe&&(d="iso-8859-1"),u=l,l=s.length);for(l=0;l<s.length;++l)if(l!==u){var p=s[l],f=p.indexOf("]="),m=f===-1?p.indexOf("="):f+1,y,g;m===-1?(y=r.decoder(p,lr.decoder,d,"key"),g=r.strictNullHandling?null:""):(y=r.decoder(p.slice(0,m),lr.decoder,d,"key"),g=$s.maybeMap(JH(p.slice(m+1),r,BH(n[y])?n[y].length:0),function(v){return r.decoder(v,lr.decoder,d,"value")})),g&&r.interpretNumericEntities&&d==="iso-8859-1"&&(g=WSe(String(g))),p.indexOf("[]=")>-1&&(g=BH(g)?[g]:g);var h=ER.call(n,y);h&&r.duplicates==="combine"?n[y]=$s.combine(n[y],g):(!h||r.duplicates==="last")&&(n[y]=g)}return n},"parseQueryStringValues"),ewe=a(function(e,t,r,n){var o=0;if(e.length>0&&e[e.length-1]==="[]"){var i=e.slice(0,-1).join("");o=Array.isArray(t)&&t[i]?t[i].length:0}for(var s=n?t:JH(t,r,o),u=e.length-1;u>=0;--u){var l,d=e[u];if(d==="[]"&&r.parseArrays)l=r.allowEmptyArrays&&(s===""||r.strictNullHandling&&s===null)?[]:$s.combine([],s);else{l=r.plainObjects?{__proto__:null}:{};var p=d.charAt(0)==="["&&d.charAt(d.length-1)==="]"?d.slice(1,-1):d,f=r.decodeDotInKeys?p.replace(/%2E/g,"."):p,m=parseInt(f,10);!r.parseArrays&&f===""?l={0:s}:!isNaN(m)&&d!==f&&String(m)===f&&m>=0&&r.parseArrays&&m<=r.arrayLimit?(l=[],l[m]=s):f!=="__proto__"&&(l[f]=s)}s=l}return s},"parseObject"),twe=a(function(t,r,n,o){if(t){var i=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,s=/(\[[^[\]]*])/,u=/(\[[^[\]]*])/g,l=n.depth>0&&s.exec(i),d=l?i.slice(0,l.index):i,p=[];if(d){if(!n.plainObjects&&ER.call(Object.prototype,d)&&!n.allowPrototypes)return;p.push(d)}for(var f=0;n.depth>0&&(l=u.exec(i))!==null&&f<n.depth;){if(f+=1,!n.plainObjects&&ER.call(Object.prototype,l[1].slice(1,-1))&&!n.allowPrototypes)return;p.push(l[1])}if(l){if(n.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");p.push("["+i.slice(l.index)+"]")}return ewe(p,r,n,o)}},"parseQueryStringKeys"),rwe=a(function(t){if(!t)return lr;if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.decodeDotInKeys<"u"&&typeof t.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(t.decoder!==null&&typeof t.decoder<"u"&&typeof t.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof t.throwOnLimitExceeded<"u"&&typeof t.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var r=typeof t.charset>"u"?lr.charset:t.charset,n=typeof t.duplicates>"u"?lr.duplicates:t.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var o=typeof t.allowDots>"u"?t.decodeDotInKeys===!0?!0:lr.allowDots:!!t.allowDots;return{allowDots:o,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:lr.allowEmptyArrays,allowPrototypes:typeof t.allowPrototypes=="boolean"?t.allowPrototypes:lr.allowPrototypes,allowSparse:typeof t.allowSparse=="boolean"?t.allowSparse:lr.allowSparse,arrayLimit:typeof t.arrayLimit=="number"?t.arrayLimit:lr.arrayLimit,charset:r,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:lr.charsetSentinel,comma:typeof t.comma=="boolean"?t.comma:lr.comma,decodeDotInKeys:typeof t.decodeDotInKeys=="boolean"?t.decodeDotInKeys:lr.decodeDotInKeys,decoder:typeof t.decoder=="function"?t.decoder:lr.decoder,delimiter:typeof t.delimiter=="string"||$s.isRegExp(t.delimiter)?t.delimiter:lr.delimiter,depth:typeof t.depth=="number"||t.depth===!1?+t.depth:lr.depth,duplicates:n,ignoreQueryPrefix:t.ignoreQueryPrefix===!0,interpretNumericEntities:typeof t.interpretNumericEntities=="boolean"?t.interpretNumericEntities:lr.interpretNumericEntities,parameterLimit:typeof t.parameterLimit=="number"?t.parameterLimit:lr.parameterLimit,parseArrays:t.parseArrays!==!1,plainObjects:typeof t.plainObjects=="boolean"?t.plainObjects:lr.plainObjects,strictDepth:typeof t.strictDepth=="boolean"?!!t.strictDepth:lr.strictDepth,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:lr.strictNullHandling,throwOnLimitExceeded:typeof t.throwOnLimitExceeded=="boolean"?t.throwOnLimitExceeded:!1}},"normalizeParseOptions");HH.exports=function(e,t){var r=rwe(t);if(e===""||e===null||typeof e>"u")return r.plainObjects?{__proto__:null}:{};for(var n=typeof e=="string"?YSe(e,r):e,o=r.plainObjects?{__proto__:null}:{},i=Object.keys(n),s=0;s<i.length;++s){var u=i[s],l=twe(u,n[u],r,typeof e=="string");o=$s.merge(o,l,r)}return r.allowSparse===!0?o:$s.compact(o)}});var KH=M((nnt,ZH)=>{"use strict";var nwe=FH(),owe=VH(),iwe=wy();ZH.exports={formats:iwe,parse:owe,stringify:nwe}});var mv=M(pv=>{"use strict";Object.defineProperty(pv,"__esModule",{value:!0});pv.ApplicationInSerializer=void 0;pv.ApplicationInSerializer={_fromJsonObject(e){return{metadata:e.metadata,name:e.name,rateLimit:e.rateLimit,uid:e.uid}},_toJsonObject(e){return{metadata:e.metadata,name:e.name,rateLimit:e.rateLimit,uid:e.uid}}}});var f$=M(fv=>{"use strict";Object.defineProperty(fv,"__esModule",{value:!0});fv.ApplicationOutSerializer=void 0;fv.ApplicationOutSerializer={_fromJsonObject(e){return{createdAt:new Date(e.createdAt),id:e.id,metadata:e.metadata,name:e.name,rateLimit:e.rateLimit,uid:e.uid,updatedAt:new Date(e.updatedAt)}},_toJsonObject(e){return{createdAt:e.createdAt,id:e.id,metadata:e.metadata,name:e.name,rateLimit:e.rateLimit,uid:e.uid,updatedAt:e.updatedAt}}}});var B8=M(hv=>{"use strict";Object.defineProperty(hv,"__esModule",{value:!0});hv.ApplicationPatchSerializer=void 0;hv.ApplicationPatchSerializer={_fromJsonObject(e){return{metadata:e.metadata,name:e.name,rateLimit:e.rateLimit,uid:e.uid}},_toJsonObject(e){return{metadata:e.metadata,name:e.name,rateLimit:e.rateLimit,uid:e.uid}}}});var H8=M(gv=>{"use strict";Object.defineProperty(gv,"__esModule",{value:!0});gv.ListResponseApplicationOutSerializer=void 0;var J8=f$();gv.ListResponseApplicationOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>J8.ApplicationOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>J8.ApplicationOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var g$=M(yv=>{"use strict";Object.defineProperty(yv,"__esModule",{value:!0});yv.ApiException=void 0;var h$=class extends Error{static{a(this,"ApiException")}constructor(t,r,n){super(`HTTP-Code: ${t}
Headers: ${JSON.stringify(n)}`),this.code=t,this.body=r,this.headers={},n.forEach((o,i)=>{this.headers[i]=o})}};yv.ApiException=h$});var V8,Z8=W(()=>{V8="ffffffff-ffff-ffff-ffff-ffffffffffff"});var K8,G8=W(()=>{K8="00000000-0000-0000-0000-000000000000"});var W8,Q8=W(()=>{W8=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i});function Qxe(e){return typeof e=="string"&&W8.test(e)}var Ka,Am=W(()=>{Q8();a(Qxe,"validate");Ka=Qxe});function Xxe(e){if(!Ka(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var Ga,Cm=W(()=>{Am();a(Xxe,"parse");Ga=Xxe});function yn(e,t=0){return(Hr[e[t+0]]+Hr[e[t+1]]+Hr[e[t+2]]+Hr[e[t+3]]+"-"+Hr[e[t+4]]+Hr[e[t+5]]+"-"+Hr[e[t+6]]+Hr[e[t+7]]+"-"+Hr[e[t+8]]+Hr[e[t+9]]+"-"+Hr[e[t+10]]+Hr[e[t+11]]+Hr[e[t+12]]+Hr[e[t+13]]+Hr[e[t+14]]+Hr[e[t+15]]).toLowerCase()}function Yxe(e,t=0){let r=yn(e,t);if(!Ka(r))throw TypeError("Stringified UUID is invalid");return r}var Hr,X8,Wi=W(()=>{Am();Hr=[];for(let e=0;e<256;++e)Hr.push((e+256).toString(16).slice(1));a(yn,"unsafeStringify");a(Yxe,"stringify");X8=Yxe});import e0e from"node:crypto";function Fs(){return vv>_v.length-16&&(e0e.randomFillSync(_v),vv=0),_v.slice(vv,vv+=16)}var _v,vv,bv=W(()=>{_v=new Uint8Array(256),vv=_v.length;a(Fs,"rng")});function t0e(e,t,r){let n=t&&r||0,o=t||new Array(16);e=e||{};let i=e.node,s=e.clockseq;if(e._v6||(i||(i=y$),s==null&&(s=Sv)),i==null||s==null){let m=e.random||(e.rng||Fs)();i==null&&(i=[m[0],m[1],m[2],m[3],m[4],m[5]],!y$&&!e._v6&&(i[0]|=1,y$=i)),s==null&&(s=(m[6]<<8|m[7])&16383,Sv===void 0&&!e._v6&&(Sv=s))}let u=e.msecs!==void 0?e.msecs:Date.now(),l=e.nsecs!==void 0?e.nsecs:_$+1,d=u-v$+(l-_$)/1e4;if(d<0&&e.clockseq===void 0&&(s=s+1&16383),(d<0||u>v$)&&e.nsecs===void 0&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");v$=u,_$=l,Sv=s,u+=122192928e5;let p=((u&268435455)*1e4+l)%4294967296;o[n++]=p>>>24&255,o[n++]=p>>>16&255,o[n++]=p>>>8&255,o[n++]=p&255;let f=u/4294967296*1e4&268435455;o[n++]=f>>>8&255,o[n++]=f&255,o[n++]=f>>>24&15|16,o[n++]=f>>>16&255,o[n++]=s>>>8|128,o[n++]=s&255;for(let m=0;m<6;++m)o[n+m]=i[m];return t||yn(o)}var y$,Sv,v$,_$,wv,b$=W(()=>{bv();Wi();v$=0,_$=0;a(t0e,"v1");wv=t0e});function Rm(e){let t=typeof e=="string"?Ga(e):e,r=r0e(t);return typeof e=="string"?yn(r):r}function r0e(e,t=!1){return Uint8Array.of((e[6]&15)<<4|e[7]>>4&15,(e[7]&15)<<4|(e[4]&240)>>4,(e[4]&15)<<4|(e[5]&240)>>4,(e[5]&15)<<4|(e[0]&240)>>4,(e[0]&15)<<4|(e[1]&240)>>4,(e[1]&15)<<4|(e[2]&240)>>4,96|e[2]&15,e[3],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}var S$=W(()=>{Cm();Wi();a(Rm,"v1ToV6");a(r0e,"_v1ToV6")});function n0e(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function $m(e,t,r){function n(o,i,s,u){var l;if(typeof o=="string"&&(o=n0e(o)),typeof i=="string"&&(i=Ga(i)),((l=i)===null||l===void 0?void 0:l.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let d=new Uint8Array(16+o.length);if(d.set(i),d.set(o,i.length),d=r(d),d[6]=d[6]&15|t,d[8]=d[8]&63|128,s){u=u||0;for(let p=0;p<16;++p)s[u+p]=d[p];return s}return yn(d)}a(n,"generateUUID");try{n.name=e}catch{}return n.DNS=o0e,n.URL=i0e,n}var o0e,i0e,w$=W(()=>{Wi();Cm();a(n0e,"stringToBytes");o0e="6ba7b810-9dad-11d1-80b4-00c04fd430c8",i0e="6ba7b811-9dad-11d1-80b4-00c04fd430c8";a($m,"v35")});import a0e from"node:crypto";function s0e(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),a0e.createHash("md5").update(e).digest()}var Y8,eZ=W(()=>{a(s0e,"md5");Y8=s0e});var u0e,tZ,rZ=W(()=>{w$();eZ();u0e=$m("v3",48,Y8),tZ=u0e});import c0e from"node:crypto";var x$,nZ=W(()=>{x$={randomUUID:c0e.randomUUID}});function l0e(e,t,r){if(x$.randomUUID&&!t&&!e)return x$.randomUUID();e=e||{};let n=e.random||(e.rng||Fs)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return yn(n)}var oZ,iZ=W(()=>{nZ();bv();Wi();a(l0e,"v4");oZ=l0e});import d0e from"node:crypto";function p0e(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),d0e.createHash("sha1").update(e).digest()}var aZ,sZ=W(()=>{a(p0e,"sha1");aZ=p0e});var m0e,uZ,cZ=W(()=>{w$();sZ();m0e=$m("v5",80,aZ),uZ=m0e});function T$(e={},t,r=0){let n=wv({...e,_v6:!0},new Uint8Array(16));if(n=Rm(n),t){for(let o=0;o<16;o++)t[r+o]=n[o];return t}return yn(n)}var lZ=W(()=>{Wi();b$();S$();a(T$,"v6")});function E$(e){let t=typeof e=="string"?Ga(e):e,r=f0e(t);return typeof e=="string"?yn(r):r}function f0e(e){return Uint8Array.of((e[3]&15)<<4|e[4]>>4&15,(e[4]&15)<<4|(e[5]&240)>>4,(e[5]&15)<<4|e[6]&15,e[7],(e[1]&15)<<4|(e[2]&240)>>4,(e[2]&15)<<4|(e[3]&240)>>4,16|(e[0]&240)>>4,(e[0]&15)<<4|(e[1]&240)>>4,e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}var dZ=W(()=>{Cm();Wi();a(E$,"v6ToV1");a(f0e,"_v6ToV1")});function h0e(e,t,r){e=e||{};let n=t&&r||0,o=t||new Uint8Array(16),i=e.random||(e.rng||Fs)(),s=e.msecs!==void 0?e.msecs:Date.now(),u=e.seq!==void 0?e.seq:null,l=mZ,d=pZ;return s>qo&&e.msecs===void 0&&(qo=s,u!==null&&(l=null,d=null)),u!==null&&(u>2147483647&&(u=2147483647),l=u>>>19&4095,d=u&524287),(l===null||d===null)&&(l=i[6]&127,l=l<<8|i[7],d=i[8]&63,d=d<<8|i[9],d=d<<5|i[10]>>>3),s+1e4>qo&&u===null?++d>524287&&(d=0,++l>4095&&(l=0,qo++)):qo=s,mZ=l,pZ=d,o[n++]=qo/1099511627776&255,o[n++]=qo/4294967296&255,o[n++]=qo/16777216&255,o[n++]=qo/65536&255,o[n++]=qo/256&255,o[n++]=qo&255,o[n++]=l>>>4&15|112,o[n++]=l&255,o[n++]=d>>>13&63|128,o[n++]=d>>>5&255,o[n++]=d<<3&255|i[10]&7,o[n++]=i[11],o[n++]=i[12],o[n++]=i[13],o[n++]=i[14],o[n++]=i[15],t||yn(o)}var pZ,mZ,qo,fZ,hZ=W(()=>{bv();Wi();pZ=null,mZ=null,qo=0;a(h0e,"v7");fZ=h0e});function g0e(e){if(!Ka(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var gZ,yZ=W(()=>{Am();a(g0e,"version");gZ=g0e});var vZ={};_n(vZ,{MAX:()=>V8,NIL:()=>K8,parse:()=>Ga,stringify:()=>X8,v1:()=>wv,v1ToV6:()=>Rm,v3:()=>tZ,v4:()=>oZ,v5:()=>uZ,v6:()=>T$,v6ToV1:()=>E$,v7:()=>fZ,validate:()=>Ka,version:()=>gZ});var _Z=W(()=>{Z8();G8();Cm();Wi();b$();S$();rZ();iZ();cZ();lZ();dZ();hZ();Am();yZ()});var nr=M(io=>{"use strict";var Nm=io&&io.__awaiter||function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return a(o,"adopt"),new(r||(r=Promise))(function(i,s){function u(p){try{d(n.next(p))}catch(f){s(f)}}a(u,"fulfilled");function l(p){try{d(n.throw(p))}catch(f){s(f)}}a(l,"rejected");function d(p){p.done?i(p.value):o(p.value).then(u,l)}a(d,"step"),d((n=n.apply(e,t||[])).next())})};Object.defineProperty(io,"__esModule",{value:!0});io.SvixRequest=io.HttpMethod=io.LIB_VERSION=void 0;var k$=g$(),y0e=(_Z(),cX(vZ));io.LIB_VERSION="1.81.0";var v0e=`svix-libs/${io.LIB_VERSION}/javascript`,_0e;(function(e){e.GET="GET",e.HEAD="HEAD",e.POST="POST",e.PUT="PUT",e.DELETE="DELETE",e.CONNECT="CONNECT",e.OPTIONS="OPTIONS",e.TRACE="TRACE",e.PATCH="PATCH"})(_0e=io.HttpMethod||(io.HttpMethod={}));var P$=class{static{a(this,"SvixRequest")}constructor(t,r){this.method=t,this.path=r,this.queryParams={},this.headerParams={}}setPathParam(t,r){let n=this.path.replace(`{${t}}`,encodeURIComponent(r));if(this.path===n)throw new Error(`path parameter ${t} not found`);this.path=n}setQueryParam(t,r){if(r!=null)if(typeof r=="string")this.queryParams[t]=r;else if(typeof r=="boolean"||typeof r=="number")this.queryParams[t]=r.toString();else if(r instanceof Date)this.queryParams[t]=r.toISOString();else if(Array.isArray(r))r.length>0&&(this.queryParams[t]=r.join(","));else{let n=r;throw new Error(`query parameter ${t} has unsupported type`)}}setHeaderParam(t,r){r!==void 0&&(this.headerParams[t]=r)}setBody(t){this.body=JSON.stringify(t)}send(t,r){return Nm(this,void 0,void 0,function*(){let n=yield this.sendInner(t);if(n.status===204)return null;let o=yield n.text();return r(JSON.parse(o))})}sendNoResponseBody(t){return Nm(this,void 0,void 0,function*(){yield this.sendInner(t)})}sendInner(t){var r,n;return Nm(this,void 0,void 0,function*(){let o=new URL(t.baseUrl+this.path);for(let[l,d]of Object.entries(this.queryParams))o.searchParams.set(l,d);this.headerParams["idempotency-key"]===void 0&&this.method.toUpperCase()==="POST"&&(this.headerParams["idempotency-key"]=`auto_${(0,y0e.v4)()}`);let i=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER);this.body!=null&&(this.headerParams["content-type"]="application/json");let s="credentials"in Request.prototype,u=yield bZ(o,{method:this.method.toString(),body:this.body,headers:Object.assign({accept:"application/json, */*;q=0.8",authorization:`Bearer ${t.token}`,"user-agent":v0e,"svix-req-id":i.toString()},this.headerParams),credentials:s?"same-origin":void 0,signal:t.timeout!==void 0?AbortSignal.timeout(t.timeout):void 0},t.retryScheduleInMs,(r=t.retryScheduleInMs)===null||r===void 0?void 0:r[0],((n=t.retryScheduleInMs)===null||n===void 0?void 0:n.length)||t.numRetries,t.fetch);return b0e(u)})}};io.SvixRequest=P$;function b0e(e){return Nm(this,void 0,void 0,function*(){if(e.status<300)return e;let t=yield e.text();throw e.status===422?new k$.ApiException(e.status,JSON.parse(t),e.headers):e.status>=400&&e.status<=499?new k$.ApiException(e.status,JSON.parse(t),e.headers):new k$.ApiException(e.status,t,e.headers)})}a(b0e,"filterResponseForErrors");function bZ(e,t,r,n=50,o=2,i=fetch,s=1){return Nm(this,void 0,void 0,function*(){let u=a(l=>new Promise(d=>setTimeout(d,l)),"sleep");try{let l=yield i(e,t);if(o<=0||l.status<500)return l}catch(l){if(o<=0)throw l}return yield u(n),t.headers["svix-retry-count"]=s.toString(),n=r?.[s]||n*2,yield bZ(e,t,r,n,--o,i,++s)})}a(bZ,"sendWithRetry")});var SZ=M(xv=>{"use strict";Object.defineProperty(xv,"__esModule",{value:!0});xv.Application=void 0;var I$=mv(),zm=f$(),S0e=B8(),w0e=H8(),On=nr(),O$=class{static{a(this,"Application")}constructor(t){this.requestCtx=t}list(t){let r=new On.SvixRequest(On.HttpMethod.GET,"/api/v1/app");return r.setQueryParam("limit",t?.limit),r.setQueryParam("iterator",t?.iterator),r.setQueryParam("order",t?.order),r.send(this.requestCtx,w0e.ListResponseApplicationOutSerializer._fromJsonObject)}create(t,r){let n=new On.SvixRequest(On.HttpMethod.POST,"/api/v1/app");return n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.setBody(I$.ApplicationInSerializer._toJsonObject(t)),n.send(this.requestCtx,zm.ApplicationOutSerializer._fromJsonObject)}getOrCreate(t,r){let n=new On.SvixRequest(On.HttpMethod.POST,"/api/v1/app");return n.setQueryParam("get_if_exists",!0),n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.setBody(I$.ApplicationInSerializer._toJsonObject(t)),n.send(this.requestCtx,zm.ApplicationOutSerializer._fromJsonObject)}get(t){let r=new On.SvixRequest(On.HttpMethod.GET,"/api/v1/app/{app_id}");return r.setPathParam("app_id",t),r.send(this.requestCtx,zm.ApplicationOutSerializer._fromJsonObject)}update(t,r){let n=new On.SvixRequest(On.HttpMethod.PUT,"/api/v1/app/{app_id}");return n.setPathParam("app_id",t),n.setBody(I$.ApplicationInSerializer._toJsonObject(r)),n.send(this.requestCtx,zm.ApplicationOutSerializer._fromJsonObject)}delete(t){let r=new On.SvixRequest(On.HttpMethod.DELETE,"/api/v1/app/{app_id}");return r.setPathParam("app_id",t),r.sendNoResponseBody(this.requestCtx)}patch(t,r){let n=new On.SvixRequest(On.HttpMethod.PATCH,"/api/v1/app/{app_id}");return n.setPathParam("app_id",t),n.setBody(S0e.ApplicationPatchSerializer._toJsonObject(r)),n.send(this.requestCtx,zm.ApplicationOutSerializer._fromJsonObject)}};xv.Application=O$});var wZ=M(Tv=>{"use strict";Object.defineProperty(Tv,"__esModule",{value:!0});Tv.ApiTokenOutSerializer=void 0;Tv.ApiTokenOutSerializer={_fromJsonObject(e){return{createdAt:new Date(e.createdAt),expiresAt:e.expiresAt?new Date(e.expiresAt):null,id:e.id,name:e.name,scopes:e.scopes,token:e.token}},_toJsonObject(e){return{createdAt:e.createdAt,expiresAt:e.expiresAt,id:e.id,name:e.name,scopes:e.scopes,token:e.token}}}});var A$=M(Bs=>{"use strict";Object.defineProperty(Bs,"__esModule",{value:!0});Bs.AppPortalCapabilitySerializer=Bs.AppPortalCapability=void 0;var x0e;(function(e){e.ViewBase="ViewBase",e.ViewEndpointSecret="ViewEndpointSecret",e.ManageEndpointSecret="ManageEndpointSecret",e.ManageTransformations="ManageTransformations",e.CreateAttempts="CreateAttempts",e.ManageEndpoint="ManageEndpoint"})(x0e=Bs.AppPortalCapability||(Bs.AppPortalCapability={}));Bs.AppPortalCapabilitySerializer={_fromJsonObject(e){return e},_toJsonObject(e){return e}}});var EZ=M(Ev=>{"use strict";Object.defineProperty(Ev,"__esModule",{value:!0});Ev.AppPortalAccessInSerializer=void 0;var xZ=A$(),TZ=mv();Ev.AppPortalAccessInSerializer={_fromJsonObject(e){var t;return{application:e.application?TZ.ApplicationInSerializer._fromJsonObject(e.application):void 0,capabilities:(t=e.capabilities)===null||t===void 0?void 0:t.map(r=>xZ.AppPortalCapabilitySerializer._fromJsonObject(r)),expiry:e.expiry,featureFlags:e.featureFlags,readOnly:e.readOnly,sessionId:e.sessionId}},_toJsonObject(e){var t;return{application:e.application?TZ.ApplicationInSerializer._toJsonObject(e.application):void 0,capabilities:(t=e.capabilities)===null||t===void 0?void 0:t.map(r=>xZ.AppPortalCapabilitySerializer._toJsonObject(r)),expiry:e.expiry,featureFlags:e.featureFlags,readOnly:e.readOnly,sessionId:e.sessionId}}}});var kZ=M(kv=>{"use strict";Object.defineProperty(kv,"__esModule",{value:!0});kv.AppPortalAccessOutSerializer=void 0;kv.AppPortalAccessOutSerializer={_fromJsonObject(e){return{token:e.token,url:e.url}},_toJsonObject(e){return{token:e.token,url:e.url}}}});var PZ=M(Pv=>{"use strict";Object.defineProperty(Pv,"__esModule",{value:!0});Pv.ApplicationTokenExpireInSerializer=void 0;Pv.ApplicationTokenExpireInSerializer={_fromJsonObject(e){return{expiry:e.expiry,sessionIds:e.sessionIds}},_toJsonObject(e){return{expiry:e.expiry,sessionIds:e.sessionIds}}}});var IZ=M(Iv=>{"use strict";Object.defineProperty(Iv,"__esModule",{value:!0});Iv.RotatePollerTokenInSerializer=void 0;Iv.RotatePollerTokenInSerializer={_fromJsonObject(e){return{expiry:e.expiry,oldTokenExpiry:e.oldTokenExpiry}},_toJsonObject(e){return{expiry:e.expiry,oldTokenExpiry:e.oldTokenExpiry}}}});var OZ=M(Ov=>{"use strict";Object.defineProperty(Ov,"__esModule",{value:!0});Ov.StreamPortalAccessInSerializer=void 0;Ov.StreamPortalAccessInSerializer={_fromJsonObject(e){return{expiry:e.expiry,featureFlags:e.featureFlags,sessionId:e.sessionId}},_toJsonObject(e){return{expiry:e.expiry,featureFlags:e.featureFlags,sessionId:e.sessionId}}}});var C$=M(Av=>{"use strict";Object.defineProperty(Av,"__esModule",{value:!0});Av.DashboardAccessOutSerializer=void 0;Av.DashboardAccessOutSerializer={_fromJsonObject(e){return{token:e.token,url:e.url}},_toJsonObject(e){return{token:e.token,url:e.url}}}});var RZ=M(Cv=>{"use strict";Object.defineProperty(Cv,"__esModule",{value:!0});Cv.Authentication=void 0;var AZ=wZ(),T0e=EZ(),CZ=kZ(),E0e=PZ(),k0e=IZ(),P0e=OZ(),I0e=C$(),An=nr(),R$=class{static{a(this,"Authentication")}constructor(t){this.requestCtx=t}appPortalAccess(t,r,n){let o=new An.SvixRequest(An.HttpMethod.POST,"/api/v1/auth/app-portal-access/{app_id}");return o.setPathParam("app_id",t),o.setHeaderParam("idempotency-key",n?.idempotencyKey),o.setBody(T0e.AppPortalAccessInSerializer._toJsonObject(r)),o.send(this.requestCtx,CZ.AppPortalAccessOutSerializer._fromJsonObject)}expireAll(t,r,n){let o=new An.SvixRequest(An.HttpMethod.POST,"/api/v1/auth/app/{app_id}/expire-all");return o.setPathParam("app_id",t),o.setHeaderParam("idempotency-key",n?.idempotencyKey),o.setBody(E0e.ApplicationTokenExpireInSerializer._toJsonObject(r)),o.sendNoResponseBody(this.requestCtx)}dashboardAccess(t,r){let n=new An.SvixRequest(An.HttpMethod.POST,"/api/v1/auth/dashboard-access/{app_id}");return n.setPathParam("app_id",t),n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.send(this.requestCtx,I0e.DashboardAccessOutSerializer._fromJsonObject)}logout(t){let r=new An.SvixRequest(An.HttpMethod.POST,"/api/v1/auth/logout");return r.setHeaderParam("idempotency-key",t?.idempotencyKey),r.sendNoResponseBody(this.requestCtx)}streamPortalAccess(t,r,n){let o=new An.SvixRequest(An.HttpMethod.POST,"/api/v1/auth/stream-portal-access/{stream_id}");return o.setPathParam("stream_id",t),o.setHeaderParam("idempotency-key",n?.idempotencyKey),o.setBody(P0e.StreamPortalAccessInSerializer._toJsonObject(r)),o.send(this.requestCtx,CZ.AppPortalAccessOutSerializer._fromJsonObject)}getStreamPollerToken(t,r){let n=new An.SvixRequest(An.HttpMethod.GET,"/api/v1/auth/stream/{stream_id}/sink/{sink_id}/poller/token");return n.setPathParam("stream_id",t),n.setPathParam("sink_id",r),n.send(this.requestCtx,AZ.ApiTokenOutSerializer._fromJsonObject)}rotateStreamPollerToken(t,r,n,o){let i=new An.SvixRequest(An.HttpMethod.POST,"/api/v1/auth/stream/{stream_id}/sink/{sink_id}/poller/token/rotate");return i.setPathParam("stream_id",t),i.setPathParam("sink_id",r),i.setHeaderParam("idempotency-key",o?.idempotencyKey),i.setBody(k0e.RotatePollerTokenInSerializer._toJsonObject(n)),i.send(this.requestCtx,AZ.ApiTokenOutSerializer._fromJsonObject)}};Cv.Authentication=R$});var Wa=M(Js=>{"use strict";Object.defineProperty(Js,"__esModule",{value:!0});Js.BackgroundTaskStatusSerializer=Js.BackgroundTaskStatus=void 0;var O0e;(function(e){e.Running="running",e.Finished="finished",e.Failed="failed"})(O0e=Js.BackgroundTaskStatus||(Js.BackgroundTaskStatus={}));Js.BackgroundTaskStatusSerializer={_fromJsonObject(e){return e},_toJsonObject(e){return e}}});var Qa=M(Hs=>{"use strict";Object.defineProperty(Hs,"__esModule",{value:!0});Hs.BackgroundTaskTypeSerializer=Hs.BackgroundTaskType=void 0;var A0e;(function(e){e.EndpointReplay="endpoint.replay",e.EndpointRecover="endpoint.recover",e.ApplicationStats="application.stats",e.MessageBroadcast="message.broadcast",e.SdkGenerate="sdk.generate",e.EventTypeAggregate="event-type.aggregate",e.ApplicationPurgeContent="application.purge_content"})(A0e=Hs.BackgroundTaskType||(Hs.BackgroundTaskType={}));Hs.BackgroundTaskTypeSerializer={_fromJsonObject(e){return e},_toJsonObject(e){return e}}});var $$=M(Rv=>{"use strict";Object.defineProperty(Rv,"__esModule",{value:!0});Rv.BackgroundTaskOutSerializer=void 0;var $Z=Wa(),NZ=Qa();Rv.BackgroundTaskOutSerializer={_fromJsonObject(e){return{data:e.data,id:e.id,status:$Z.BackgroundTaskStatusSerializer._fromJsonObject(e.status),task:NZ.BackgroundTaskTypeSerializer._fromJsonObject(e.task)}},_toJsonObject(e){return{data:e.data,id:e.id,status:$Z.BackgroundTaskStatusSerializer._toJsonObject(e.status),task:NZ.BackgroundTaskTypeSerializer._toJsonObject(e.task)}}}});var jZ=M($v=>{"use strict";Object.defineProperty($v,"__esModule",{value:!0});$v.ListResponseBackgroundTaskOutSerializer=void 0;var zZ=$$();$v.ListResponseBackgroundTaskOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>zZ.BackgroundTaskOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>zZ.BackgroundTaskOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var DZ=M(zv=>{"use strict";Object.defineProperty(zv,"__esModule",{value:!0});zv.BackgroundTask=void 0;var C0e=$$(),R0e=jZ(),Nv=nr(),N$=class{static{a(this,"BackgroundTask")}constructor(t){this.requestCtx=t}list(t){let r=new Nv.SvixRequest(Nv.HttpMethod.GET,"/api/v1/background-task");return r.setQueryParam("status",t?.status),r.setQueryParam("task",t?.task),r.setQueryParam("limit",t?.limit),r.setQueryParam("iterator",t?.iterator),r.setQueryParam("order",t?.order),r.send(this.requestCtx,R0e.ListResponseBackgroundTaskOutSerializer._fromJsonObject)}listByEndpoint(t){return this.list(t)}get(t){let r=new Nv.SvixRequest(Nv.HttpMethod.GET,"/api/v1/background-task/{task_id}");return r.setPathParam("task_id",t),r.send(this.requestCtx,C0e.BackgroundTaskOutSerializer._fromJsonObject)}};zv.BackgroundTask=N$});var rl=M(Vs=>{"use strict";Object.defineProperty(Vs,"__esModule",{value:!0});Vs.ConnectorKindSerializer=Vs.ConnectorKind=void 0;var $0e;(function(e){e.Custom="Custom",e.AgenticCommerceProtocol="AgenticCommerceProtocol",e.CloseCrm="CloseCRM",e.CustomerIo="CustomerIO",e.Discord="Discord",e.Hubspot="Hubspot",e.Inngest="Inngest",e.Loops="Loops",e.Resend="Resend",e.Salesforce="Salesforce",e.Segment="Segment",e.Sendgrid="Sendgrid",e.Slack="Slack",e.Teams="Teams",e.TriggerDev="TriggerDev",e.Windmill="Windmill",e.Zapier="Zapier"})($0e=Vs.ConnectorKind||(Vs.ConnectorKind={}));Vs.ConnectorKindSerializer={_fromJsonObject(e){return e},_toJsonObject(e){return e}}});var z$=M(jv=>{"use strict";Object.defineProperty(jv,"__esModule",{value:!0});jv.ConnectorInSerializer=void 0;var MZ=rl();jv.ConnectorInSerializer={_fromJsonObject(e){return{allowedEventTypes:e.allowedEventTypes,description:e.description,featureFlags:e.featureFlags,instructions:e.instructions,kind:e.kind?MZ.ConnectorKindSerializer._fromJsonObject(e.kind):void 0,logo:e.logo,name:e.name,transformation:e.transformation}},_toJsonObject(e){return{allowedEventTypes:e.allowedEventTypes,description:e.description,featureFlags:e.featureFlags,instructions:e.instructions,kind:e.kind?MZ.ConnectorKindSerializer._toJsonObject(e.kind):void 0,logo:e.logo,name:e.name,transformation:e.transformation}}}});var Mv=M(Dv=>{"use strict";Object.defineProperty(Dv,"__esModule",{value:!0});Dv.ConnectorOutSerializer=void 0;var qZ=rl();Dv.ConnectorOutSerializer={_fromJsonObject(e){return{allowedEventTypes:e.allowedEventTypes,createdAt:new Date(e.createdAt),description:e.description,featureFlags:e.featureFlags,id:e.id,instructions:e.instructions,kind:qZ.ConnectorKindSerializer._fromJsonObject(e.kind),logo:e.logo,name:e.name,orgId:e.orgId,transformation:e.transformation,updatedAt:new Date(e.updatedAt)}},_toJsonObject(e){return{allowedEventTypes:e.allowedEventTypes,createdAt:e.createdAt,description:e.description,featureFlags:e.featureFlags,id:e.id,instructions:e.instructions,kind:qZ.ConnectorKindSerializer._toJsonObject(e.kind),logo:e.logo,name:e.name,orgId:e.orgId,transformation:e.transformation,updatedAt:e.updatedAt}}}});var LZ=M(qv=>{"use strict";Object.defineProperty(qv,"__esModule",{value:!0});qv.ConnectorPatchSerializer=void 0;var UZ=rl();qv.ConnectorPatchSerializer={_fromJsonObject(e){return{allowedEventTypes:e.allowedEventTypes,description:e.description,featureFlags:e.featureFlags,instructions:e.instructions,kind:e.kind?UZ.ConnectorKindSerializer._fromJsonObject(e.kind):void 0,logo:e.logo,name:e.name,transformation:e.transformation}},_toJsonObject(e){return{allowedEventTypes:e.allowedEventTypes,description:e.description,featureFlags:e.featureFlags,instructions:e.instructions,kind:e.kind?UZ.ConnectorKindSerializer._toJsonObject(e.kind):void 0,logo:e.logo,name:e.name,transformation:e.transformation}}}});var BZ=M(Uv=>{"use strict";Object.defineProperty(Uv,"__esModule",{value:!0});Uv.ConnectorUpdateSerializer=void 0;var FZ=rl();Uv.ConnectorUpdateSerializer={_fromJsonObject(e){return{allowedEventTypes:e.allowedEventTypes,description:e.description,featureFlags:e.featureFlags,instructions:e.instructions,kind:e.kind?FZ.ConnectorKindSerializer._fromJsonObject(e.kind):void 0,logo:e.logo,name:e.name,transformation:e.transformation}},_toJsonObject(e){return{allowedEventTypes:e.allowedEventTypes,description:e.description,featureFlags:e.featureFlags,instructions:e.instructions,kind:e.kind?FZ.ConnectorKindSerializer._toJsonObject(e.kind):void 0,logo:e.logo,name:e.name,transformation:e.transformation}}}});var HZ=M(Lv=>{"use strict";Object.defineProperty(Lv,"__esModule",{value:!0});Lv.ListResponseConnectorOutSerializer=void 0;var JZ=Mv();Lv.ListResponseConnectorOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>JZ.ConnectorOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>JZ.ConnectorOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var VZ=M(Bv=>{"use strict";Object.defineProperty(Bv,"__esModule",{value:!0});Bv.Connector=void 0;var N0e=z$(),Fv=Mv(),z0e=LZ(),j0e=BZ(),D0e=HZ(),ao=nr(),j$=class{static{a(this,"Connector")}constructor(t){this.requestCtx=t}list(t){let r=new ao.SvixRequest(ao.HttpMethod.GET,"/api/v1/connector");return r.setQueryParam("limit",t?.limit),r.setQueryParam("iterator",t?.iterator),r.setQueryParam("order",t?.order),r.send(this.requestCtx,D0e.ListResponseConnectorOutSerializer._fromJsonObject)}create(t,r){let n=new ao.SvixRequest(ao.HttpMethod.POST,"/api/v1/connector");return n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.setBody(N0e.ConnectorInSerializer._toJsonObject(t)),n.send(this.requestCtx,Fv.ConnectorOutSerializer._fromJsonObject)}get(t){let r=new ao.SvixRequest(ao.HttpMethod.GET,"/api/v1/connector/{connector_id}");return r.setPathParam("connector_id",t),r.send(this.requestCtx,Fv.ConnectorOutSerializer._fromJsonObject)}update(t,r){let n=new ao.SvixRequest(ao.HttpMethod.PUT,"/api/v1/connector/{connector_id}");return n.setPathParam("connector_id",t),n.setBody(j0e.ConnectorUpdateSerializer._toJsonObject(r)),n.send(this.requestCtx,Fv.ConnectorOutSerializer._fromJsonObject)}delete(t){let r=new ao.SvixRequest(ao.HttpMethod.DELETE,"/api/v1/connector/{connector_id}");return r.setPathParam("connector_id",t),r.sendNoResponseBody(this.requestCtx)}patch(t,r){let n=new ao.SvixRequest(ao.HttpMethod.PATCH,"/api/v1/connector/{connector_id}");return n.setPathParam("connector_id",t),n.setBody(z0e.ConnectorPatchSerializer._toJsonObject(r)),n.send(this.requestCtx,Fv.ConnectorOutSerializer._fromJsonObject)}};Bv.Connector=j$});var ZZ=M(Jv=>{"use strict";Object.defineProperty(Jv,"__esModule",{value:!0});Jv.EndpointHeadersInSerializer=void 0;Jv.EndpointHeadersInSerializer={_fromJsonObject(e){return{headers:e.headers}},_toJsonObject(e){return{headers:e.headers}}}});var D$=M(Hv=>{"use strict";Object.defineProperty(Hv,"__esModule",{value:!0});Hv.EndpointHeadersOutSerializer=void 0;Hv.EndpointHeadersOutSerializer={_fromJsonObject(e){return{headers:e.headers,sensitive:e.sensitive}},_toJsonObject(e){return{headers:e.headers,sensitive:e.sensitive}}}});var KZ=M(Vv=>{"use strict";Object.defineProperty(Vv,"__esModule",{value:!0});Vv.EndpointHeadersPatchInSerializer=void 0;Vv.EndpointHeadersPatchInSerializer={_fromJsonObject(e){return{deleteHeaders:e.deleteHeaders,headers:e.headers}},_toJsonObject(e){return{deleteHeaders:e.deleteHeaders,headers:e.headers}}}});var GZ=M(Zv=>{"use strict";Object.defineProperty(Zv,"__esModule",{value:!0});Zv.EndpointInSerializer=void 0;Zv.EndpointInSerializer={_fromJsonObject(e){return{channels:e.channels,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,headers:e.headers,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url,version:e.version}},_toJsonObject(e){return{channels:e.channels,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,headers:e.headers,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url,version:e.version}}}});var M$=M(Kv=>{"use strict";Object.defineProperty(Kv,"__esModule",{value:!0});Kv.EndpointOutSerializer=void 0;Kv.EndpointOutSerializer={_fromJsonObject(e){return{channels:e.channels,createdAt:new Date(e.createdAt),description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,id:e.id,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,updatedAt:new Date(e.updatedAt),url:e.url,version:e.version}},_toJsonObject(e){return{channels:e.channels,createdAt:e.createdAt,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,id:e.id,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,updatedAt:e.updatedAt,url:e.url,version:e.version}}}});var WZ=M(Gv=>{"use strict";Object.defineProperty(Gv,"__esModule",{value:!0});Gv.EndpointPatchSerializer=void 0;Gv.EndpointPatchSerializer={_fromJsonObject(e){return{channels:e.channels,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url,version:e.version}},_toJsonObject(e){return{channels:e.channels,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url,version:e.version}}}});var QZ=M(Wv=>{"use strict";Object.defineProperty(Wv,"__esModule",{value:!0});Wv.EndpointSecretOutSerializer=void 0;Wv.EndpointSecretOutSerializer={_fromJsonObject(e){return{key:e.key}},_toJsonObject(e){return{key:e.key}}}});var q$=M(Qv=>{"use strict";Object.defineProperty(Qv,"__esModule",{value:!0});Qv.EndpointSecretRotateInSerializer=void 0;Qv.EndpointSecretRotateInSerializer={_fromJsonObject(e){return{key:e.key}},_toJsonObject(e){return{key:e.key}}}});var XZ=M(Xv=>{"use strict";Object.defineProperty(Xv,"__esModule",{value:!0});Xv.EndpointStatsSerializer=void 0;Xv.EndpointStatsSerializer={_fromJsonObject(e){return{fail:e.fail,pending:e.pending,sending:e.sending,success:e.success}},_toJsonObject(e){return{fail:e.fail,pending:e.pending,sending:e.sending,success:e.success}}}});var YZ=M(Yv=>{"use strict";Object.defineProperty(Yv,"__esModule",{value:!0});Yv.EndpointTransformationInSerializer=void 0;Yv.EndpointTransformationInSerializer={_fromJsonObject(e){return{code:e.code,enabled:e.enabled}},_toJsonObject(e){return{code:e.code,enabled:e.enabled}}}});var eK=M(e_=>{"use strict";Object.defineProperty(e_,"__esModule",{value:!0});e_.EndpointTransformationOutSerializer=void 0;e_.EndpointTransformationOutSerializer={_fromJsonObject(e){return{code:e.code,enabled:e.enabled}},_toJsonObject(e){return{code:e.code,enabled:e.enabled}}}});var tK=M(t_=>{"use strict";Object.defineProperty(t_,"__esModule",{value:!0});t_.EndpointTransformationPatchSerializer=void 0;t_.EndpointTransformationPatchSerializer={_fromJsonObject(e){return{code:e.code,enabled:e.enabled}},_toJsonObject(e){return{code:e.code,enabled:e.enabled}}}});var rK=M(r_=>{"use strict";Object.defineProperty(r_,"__esModule",{value:!0});r_.EndpointUpdateSerializer=void 0;r_.EndpointUpdateSerializer={_fromJsonObject(e){return{channels:e.channels,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,url:e.url,version:e.version}},_toJsonObject(e){return{channels:e.channels,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,url:e.url,version:e.version}}}});var nK=M(n_=>{"use strict";Object.defineProperty(n_,"__esModule",{value:!0});n_.EventExampleInSerializer=void 0;n_.EventExampleInSerializer={_fromJsonObject(e){return{eventType:e.eventType,exampleIndex:e.exampleIndex}},_toJsonObject(e){return{eventType:e.eventType,exampleIndex:e.exampleIndex}}}});var iK=M(o_=>{"use strict";Object.defineProperty(o_,"__esModule",{value:!0});o_.ListResponseEndpointOutSerializer=void 0;var oK=M$();o_.ListResponseEndpointOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>oK.EndpointOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>oK.EndpointOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var jm=M(i_=>{"use strict";Object.defineProperty(i_,"__esModule",{value:!0});i_.MessageOutSerializer=void 0;i_.MessageOutSerializer={_fromJsonObject(e){return{channels:e.channels,deliverAt:e.deliverAt?new Date(e.deliverAt):null,eventId:e.eventId,eventType:e.eventType,id:e.id,payload:e.payload,tags:e.tags,timestamp:new Date(e.timestamp)}},_toJsonObject(e){return{channels:e.channels,deliverAt:e.deliverAt,eventId:e.eventId,eventType:e.eventType,id:e.id,payload:e.payload,tags:e.tags,timestamp:e.timestamp}}}});var aK=M(a_=>{"use strict";Object.defineProperty(a_,"__esModule",{value:!0});a_.RecoverInSerializer=void 0;a_.RecoverInSerializer={_fromJsonObject(e){return{since:new Date(e.since),until:e.until?new Date(e.until):null}},_toJsonObject(e){return{since:e.since,until:e.until}}}});var cK=M(s_=>{"use strict";Object.defineProperty(s_,"__esModule",{value:!0});s_.RecoverOutSerializer=void 0;var sK=Wa(),uK=Qa();s_.RecoverOutSerializer={_fromJsonObject(e){return{id:e.id,status:sK.BackgroundTaskStatusSerializer._fromJsonObject(e.status),task:uK.BackgroundTaskTypeSerializer._fromJsonObject(e.task)}},_toJsonObject(e){return{id:e.id,status:sK.BackgroundTaskStatusSerializer._toJsonObject(e.status),task:uK.BackgroundTaskTypeSerializer._toJsonObject(e.task)}}}});var lK=M(u_=>{"use strict";Object.defineProperty(u_,"__esModule",{value:!0});u_.ReplayInSerializer=void 0;u_.ReplayInSerializer={_fromJsonObject(e){return{since:new Date(e.since),until:e.until?new Date(e.until):null}},_toJsonObject(e){return{since:e.since,until:e.until}}}});var mK=M(c_=>{"use strict";Object.defineProperty(c_,"__esModule",{value:!0});c_.ReplayOutSerializer=void 0;var dK=Wa(),pK=Qa();c_.ReplayOutSerializer={_fromJsonObject(e){return{id:e.id,status:dK.BackgroundTaskStatusSerializer._fromJsonObject(e.status),task:pK.BackgroundTaskTypeSerializer._fromJsonObject(e.task)}},_toJsonObject(e){return{id:e.id,status:dK.BackgroundTaskStatusSerializer._toJsonObject(e.status),task:pK.BackgroundTaskTypeSerializer._toJsonObject(e.task)}}}});var fK=M(d_=>{"use strict";Object.defineProperty(d_,"__esModule",{value:!0});d_.Endpoint=void 0;var M0e=ZZ(),q0e=D$(),U0e=KZ(),L0e=GZ(),l_=M$(),F0e=WZ(),B0e=QZ(),J0e=q$(),H0e=XZ(),V0e=YZ(),Z0e=eK(),K0e=tK(),G0e=rK(),W0e=nK(),Q0e=iK(),X0e=jm(),Y0e=aK(),eTe=cK(),tTe=lK(),rTe=mK(),ht=nr(),U$=class{static{a(this,"Endpoint")}constructor(t){this.requestCtx=t}list(t,r){let n=new ht.SvixRequest(ht.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint");return n.setPathParam("app_id",t),n.setQueryParam("limit",r?.limit),n.setQueryParam("iterator",r?.iterator),n.setQueryParam("order",r?.order),n.send(this.requestCtx,Q0e.ListResponseEndpointOutSerializer._fromJsonObject)}create(t,r,n){let o=new ht.SvixRequest(ht.HttpMethod.POST,"/api/v1/app/{app_id}/endpoint");return o.setPathParam("app_id",t),o.setHeaderParam("idempotency-key",n?.idempotencyKey),o.setBody(L0e.EndpointInSerializer._toJsonObject(r)),o.send(this.requestCtx,l_.EndpointOutSerializer._fromJsonObject)}get(t,r){let n=new ht.SvixRequest(ht.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint/{endpoint_id}");return n.setPathParam("app_id",t),n.setPathParam("endpoint_id",r),n.send(this.requestCtx,l_.EndpointOutSerializer._fromJsonObject)}update(t,r,n){let o=new ht.SvixRequest(ht.HttpMethod.PUT,"/api/v1/app/{app_id}/endpoint/{endpoint_id}");return o.setPathParam("app_id",t),o.setPathParam("endpoint_id",r),o.setBody(G0e.EndpointUpdateSerializer._toJsonObject(n)),o.send(this.requestCtx,l_.EndpointOutSerializer._fromJsonObject)}delete(t,r){let n=new ht.SvixRequest(ht.HttpMethod.DELETE,"/api/v1/app/{app_id}/endpoint/{endpoint_id}");return n.setPathParam("app_id",t),n.setPathParam("endpoint_id",r),n.sendNoResponseBody(this.requestCtx)}patch(t,r,n){let o=new ht.SvixRequest(ht.HttpMethod.PATCH,"/api/v1/app/{app_id}/endpoint/{endpoint_id}");return o.setPathParam("app_id",t),o.setPathParam("endpoint_id",r),o.setBody(F0e.EndpointPatchSerializer._toJsonObject(n)),o.send(this.requestCtx,l_.EndpointOutSerializer._fromJsonObject)}getHeaders(t,r){let n=new ht.SvixRequest(ht.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/headers");return n.setPathParam("app_id",t),n.setPathParam("endpoint_id",r),n.send(this.requestCtx,q0e.EndpointHeadersOutSerializer._fromJsonObject)}updateHeaders(t,r,n){let o=new ht.SvixRequest(ht.HttpMethod.PUT,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/headers");return o.setPathParam("app_id",t),o.setPathParam("endpoint_id",r),o.setBody(M0e.EndpointHeadersInSerializer._toJsonObject(n)),o.sendNoResponseBody(this.requestCtx)}headersUpdate(t,r,n){return this.updateHeaders(t,r,n)}patchHeaders(t,r,n){let o=new ht.SvixRequest(ht.HttpMethod.PATCH,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/headers");return o.setPathParam("app_id",t),o.setPathParam("endpoint_id",r),o.setBody(U0e.EndpointHeadersPatchInSerializer._toJsonObject(n)),o.sendNoResponseBody(this.requestCtx)}headersPatch(t,r,n){return this.patchHeaders(t,r,n)}recover(t,r,n,o){let i=new ht.SvixRequest(ht.HttpMethod.POST,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/recover");return i.setPathParam("app_id",t),i.setPathParam("endpoint_id",r),i.setHeaderParam("idempotency-key",o?.idempotencyKey),i.setBody(Y0e.RecoverInSerializer._toJsonObject(n)),i.send(this.requestCtx,eTe.RecoverOutSerializer._fromJsonObject)}replayMissing(t,r,n,o){let i=new ht.SvixRequest(ht.HttpMethod.POST,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/replay-missing");return i.setPathParam("app_id",t),i.setPathParam("endpoint_id",r),i.setHeaderParam("idempotency-key",o?.idempotencyKey),i.setBody(tTe.ReplayInSerializer._toJsonObject(n)),i.send(this.requestCtx,rTe.ReplayOutSerializer._fromJsonObject)}getSecret(t,r){let n=new ht.SvixRequest(ht.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/secret");return n.setPathParam("app_id",t),n.setPathParam("endpoint_id",r),n.send(this.requestCtx,B0e.EndpointSecretOutSerializer._fromJsonObject)}rotateSecret(t,r,n,o){let i=new ht.SvixRequest(ht.HttpMethod.POST,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/secret/rotate");return i.setPathParam("app_id",t),i.setPathParam("endpoint_id",r),i.setHeaderParam("idempotency-key",o?.idempotencyKey),i.setBody(J0e.EndpointSecretRotateInSerializer._toJsonObject(n)),i.sendNoResponseBody(this.requestCtx)}sendExample(t,r,n,o){let i=new ht.SvixRequest(ht.HttpMethod.POST,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/send-example");return i.setPathParam("app_id",t),i.setPathParam("endpoint_id",r),i.setHeaderParam("idempotency-key",o?.idempotencyKey),i.setBody(W0e.EventExampleInSerializer._toJsonObject(n)),i.send(this.requestCtx,X0e.MessageOutSerializer._fromJsonObject)}getStats(t,r,n){let o=new ht.SvixRequest(ht.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/stats");return o.setPathParam("app_id",t),o.setPathParam("endpoint_id",r),o.setQueryParam("since",n?.since),o.setQueryParam("until",n?.until),o.send(this.requestCtx,H0e.EndpointStatsSerializer._fromJsonObject)}transformationGet(t,r){let n=new ht.SvixRequest(ht.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/transformation");return n.setPathParam("app_id",t),n.setPathParam("endpoint_id",r),n.send(this.requestCtx,Z0e.EndpointTransformationOutSerializer._fromJsonObject)}patchTransformation(t,r,n){let o=new ht.SvixRequest(ht.HttpMethod.PATCH,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/transformation");return o.setPathParam("app_id",t),o.setPathParam("endpoint_id",r),o.setBody(K0e.EndpointTransformationPatchSerializer._toJsonObject(n)),o.sendNoResponseBody(this.requestCtx)}transformationPartialUpdate(t,r,n){let o=new ht.SvixRequest(ht.HttpMethod.PATCH,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/transformation");return o.setPathParam("app_id",t),o.setPathParam("endpoint_id",r),o.setBody(V0e.EndpointTransformationInSerializer._toJsonObject(n)),o.sendNoResponseBody(this.requestCtx)}};d_.Endpoint=U$});var L$=M(p_=>{"use strict";Object.defineProperty(p_,"__esModule",{value:!0});p_.EventTypeInSerializer=void 0;p_.EventTypeInSerializer={_fromJsonObject(e){return{archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,name:e.name,schemas:e.schemas}},_toJsonObject(e){return{archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,name:e.name,schemas:e.schemas}}}});var yK=M(m_=>{"use strict";Object.defineProperty(m_,"__esModule",{value:!0});m_.EnvironmentInSerializer=void 0;var hK=z$(),gK=L$();m_.EnvironmentInSerializer={_fromJsonObject(e){var t,r;return{connectors:(t=e.connectors)===null||t===void 0?void 0:t.map(n=>hK.ConnectorInSerializer._fromJsonObject(n)),eventTypes:(r=e.eventTypes)===null||r===void 0?void 0:r.map(n=>gK.EventTypeInSerializer._fromJsonObject(n)),settings:e.settings}},_toJsonObject(e){var t,r;return{connectors:(t=e.connectors)===null||t===void 0?void 0:t.map(n=>hK.ConnectorInSerializer._toJsonObject(n)),eventTypes:(r=e.eventTypes)===null||r===void 0?void 0:r.map(n=>gK.EventTypeInSerializer._toJsonObject(n)),settings:e.settings}}}});var h_=M(f_=>{"use strict";Object.defineProperty(f_,"__esModule",{value:!0});f_.EventTypeOutSerializer=void 0;f_.EventTypeOutSerializer={_fromJsonObject(e){return{archived:e.archived,createdAt:new Date(e.createdAt),deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,name:e.name,schemas:e.schemas,updatedAt:new Date(e.updatedAt)}},_toJsonObject(e){return{archived:e.archived,createdAt:e.createdAt,deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,name:e.name,schemas:e.schemas,updatedAt:e.updatedAt}}}});var bK=M(g_=>{"use strict";Object.defineProperty(g_,"__esModule",{value:!0});g_.EnvironmentOutSerializer=void 0;var vK=Mv(),_K=h_();g_.EnvironmentOutSerializer={_fromJsonObject(e){return{connectors:e.connectors.map(t=>vK.ConnectorOutSerializer._fromJsonObject(t)),createdAt:new Date(e.createdAt),eventTypes:e.eventTypes.map(t=>_K.EventTypeOutSerializer._fromJsonObject(t)),settings:e.settings,version:e.version}},_toJsonObject(e){return{connectors:e.connectors.map(t=>vK.ConnectorOutSerializer._toJsonObject(t)),createdAt:e.createdAt,eventTypes:e.eventTypes.map(t=>_K.EventTypeOutSerializer._toJsonObject(t)),settings:e.settings,version:e.version}}}});var SK=M(v_=>{"use strict";Object.defineProperty(v_,"__esModule",{value:!0});v_.Environment=void 0;var nTe=yK(),oTe=bK(),y_=nr(),F$=class{static{a(this,"Environment")}constructor(t){this.requestCtx=t}export(t){let r=new y_.SvixRequest(y_.HttpMethod.POST,"/api/v1/environment/export");return r.setHeaderParam("idempotency-key",t?.idempotencyKey),r.send(this.requestCtx,oTe.EnvironmentOutSerializer._fromJsonObject)}import(t,r){let n=new y_.SvixRequest(y_.HttpMethod.POST,"/api/v1/environment/import");return n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.setBody(nTe.EnvironmentInSerializer._toJsonObject(t)),n.sendNoResponseBody(this.requestCtx)}};v_.Environment=F$});var wK=M(__=>{"use strict";Object.defineProperty(__,"__esModule",{value:!0});__.EventTypeImportOpenApiInSerializer=void 0;__.EventTypeImportOpenApiInSerializer={_fromJsonObject(e){return{dryRun:e.dryRun,replaceAll:e.replaceAll,spec:e.spec,specRaw:e.specRaw}},_toJsonObject(e){return{dryRun:e.dryRun,replaceAll:e.replaceAll,spec:e.spec,specRaw:e.specRaw}}}});var xK=M(b_=>{"use strict";Object.defineProperty(b_,"__esModule",{value:!0});b_.EventTypeFromOpenApiSerializer=void 0;b_.EventTypeFromOpenApiSerializer={_fromJsonObject(e){return{deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,name:e.name,schemas:e.schemas}},_toJsonObject(e){return{deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,name:e.name,schemas:e.schemas}}}});var EK=M(S_=>{"use strict";Object.defineProperty(S_,"__esModule",{value:!0});S_.EventTypeImportOpenApiOutDataSerializer=void 0;var TK=xK();S_.EventTypeImportOpenApiOutDataSerializer={_fromJsonObject(e){var t;return{modified:e.modified,toModify:(t=e.to_modify)===null||t===void 0?void 0:t.map(r=>TK.EventTypeFromOpenApiSerializer._fromJsonObject(r))}},_toJsonObject(e){var t;return{modified:e.modified,to_modify:(t=e.toModify)===null||t===void 0?void 0:t.map(r=>TK.EventTypeFromOpenApiSerializer._toJsonObject(r))}}}});var PK=M(w_=>{"use strict";Object.defineProperty(w_,"__esModule",{value:!0});w_.EventTypeImportOpenApiOutSerializer=void 0;var kK=EK();w_.EventTypeImportOpenApiOutSerializer={_fromJsonObject(e){return{data:kK.EventTypeImportOpenApiOutDataSerializer._fromJsonObject(e.data)}},_toJsonObject(e){return{data:kK.EventTypeImportOpenApiOutDataSerializer._toJsonObject(e.data)}}}});var IK=M(x_=>{"use strict";Object.defineProperty(x_,"__esModule",{value:!0});x_.EventTypePatchSerializer=void 0;x_.EventTypePatchSerializer={_fromJsonObject(e){return{archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,schemas:e.schemas}},_toJsonObject(e){return{archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,schemas:e.schemas}}}});var OK=M(T_=>{"use strict";Object.defineProperty(T_,"__esModule",{value:!0});T_.EventTypeUpdateSerializer=void 0;T_.EventTypeUpdateSerializer={_fromJsonObject(e){return{archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,schemas:e.schemas}},_toJsonObject(e){return{archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,schemas:e.schemas}}}});var CK=M(E_=>{"use strict";Object.defineProperty(E_,"__esModule",{value:!0});E_.ListResponseEventTypeOutSerializer=void 0;var AK=h_();E_.ListResponseEventTypeOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>AK.EventTypeOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>AK.EventTypeOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var RK=M(P_=>{"use strict";Object.defineProperty(P_,"__esModule",{value:!0});P_.EventType=void 0;var iTe=wK(),aTe=PK(),sTe=L$(),k_=h_(),uTe=IK(),cTe=OK(),lTe=CK(),Cn=nr(),B$=class{static{a(this,"EventType")}constructor(t){this.requestCtx=t}list(t){let r=new Cn.SvixRequest(Cn.HttpMethod.GET,"/api/v1/event-type");return r.setQueryParam("limit",t?.limit),r.setQueryParam("iterator",t?.iterator),r.setQueryParam("order",t?.order),r.setQueryParam("include_archived",t?.includeArchived),r.setQueryParam("with_content",t?.withContent),r.send(this.requestCtx,lTe.ListResponseEventTypeOutSerializer._fromJsonObject)}create(t,r){let n=new Cn.SvixRequest(Cn.HttpMethod.POST,"/api/v1/event-type");return n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.setBody(sTe.EventTypeInSerializer._toJsonObject(t)),n.send(this.requestCtx,k_.EventTypeOutSerializer._fromJsonObject)}importOpenapi(t,r){let n=new Cn.SvixRequest(Cn.HttpMethod.POST,"/api/v1/event-type/import/openapi");return n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.setBody(iTe.EventTypeImportOpenApiInSerializer._toJsonObject(t)),n.send(this.requestCtx,aTe.EventTypeImportOpenApiOutSerializer._fromJsonObject)}get(t){let r=new Cn.SvixRequest(Cn.HttpMethod.GET,"/api/v1/event-type/{event_type_name}");return r.setPathParam("event_type_name",t),r.send(this.requestCtx,k_.EventTypeOutSerializer._fromJsonObject)}update(t,r){let n=new Cn.SvixRequest(Cn.HttpMethod.PUT,"/api/v1/event-type/{event_type_name}");return n.setPathParam("event_type_name",t),n.setBody(cTe.EventTypeUpdateSerializer._toJsonObject(r)),n.send(this.requestCtx,k_.EventTypeOutSerializer._fromJsonObject)}delete(t,r){let n=new Cn.SvixRequest(Cn.HttpMethod.DELETE,"/api/v1/event-type/{event_type_name}");return n.setPathParam("event_type_name",t),n.setQueryParam("expunge",r?.expunge),n.sendNoResponseBody(this.requestCtx)}patch(t,r){let n=new Cn.SvixRequest(Cn.HttpMethod.PATCH,"/api/v1/event-type/{event_type_name}");return n.setPathParam("event_type_name",t),n.setBody(uTe.EventTypePatchSerializer._toJsonObject(r)),n.send(this.requestCtx,k_.EventTypeOutSerializer._fromJsonObject)}};P_.EventType=B$});var NK=M(I_=>{"use strict";Object.defineProperty(I_,"__esModule",{value:!0});I_.Health=void 0;var $K=nr(),J$=class{static{a(this,"Health")}constructor(t){this.requestCtx=t}get(){return new $K.SvixRequest($K.HttpMethod.GET,"/api/v1/health").sendNoResponseBody(this.requestCtx)}};I_.Health=J$});var zK=M(O_=>{"use strict";Object.defineProperty(O_,"__esModule",{value:!0});O_.IngestSourceConsumerPortalAccessInSerializer=void 0;O_.IngestSourceConsumerPortalAccessInSerializer={_fromJsonObject(e){return{expiry:e.expiry,readOnly:e.readOnly}},_toJsonObject(e){return{expiry:e.expiry,readOnly:e.readOnly}}}});var jK=M(A_=>{"use strict";Object.defineProperty(A_,"__esModule",{value:!0});A_.IngestEndpointHeadersInSerializer=void 0;A_.IngestEndpointHeadersInSerializer={_fromJsonObject(e){return{headers:e.headers}},_toJsonObject(e){return{headers:e.headers}}}});var DK=M(C_=>{"use strict";Object.defineProperty(C_,"__esModule",{value:!0});C_.IngestEndpointHeadersOutSerializer=void 0;C_.IngestEndpointHeadersOutSerializer={_fromJsonObject(e){return{headers:e.headers,sensitive:e.sensitive}},_toJsonObject(e){return{headers:e.headers,sensitive:e.sensitive}}}});var MK=M(R_=>{"use strict";Object.defineProperty(R_,"__esModule",{value:!0});R_.IngestEndpointInSerializer=void 0;R_.IngestEndpointInSerializer={_fromJsonObject(e){return{description:e.description,disabled:e.disabled,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url}},_toJsonObject(e){return{description:e.description,disabled:e.disabled,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url}}}});var H$=M($_=>{"use strict";Object.defineProperty($_,"__esModule",{value:!0});$_.IngestEndpointOutSerializer=void 0;$_.IngestEndpointOutSerializer={_fromJsonObject(e){return{createdAt:new Date(e.createdAt),description:e.description,disabled:e.disabled,id:e.id,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,updatedAt:new Date(e.updatedAt),url:e.url}},_toJsonObject(e){return{createdAt:e.createdAt,description:e.description,disabled:e.disabled,id:e.id,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,updatedAt:e.updatedAt,url:e.url}}}});var qK=M(N_=>{"use strict";Object.defineProperty(N_,"__esModule",{value:!0});N_.IngestEndpointSecretInSerializer=void 0;N_.IngestEndpointSecretInSerializer={_fromJsonObject(e){return{key:e.key}},_toJsonObject(e){return{key:e.key}}}});var UK=M(z_=>{"use strict";Object.defineProperty(z_,"__esModule",{value:!0});z_.IngestEndpointSecretOutSerializer=void 0;z_.IngestEndpointSecretOutSerializer={_fromJsonObject(e){return{key:e.key}},_toJsonObject(e){return{key:e.key}}}});var LK=M(j_=>{"use strict";Object.defineProperty(j_,"__esModule",{value:!0});j_.IngestEndpointTransformationOutSerializer=void 0;j_.IngestEndpointTransformationOutSerializer={_fromJsonObject(e){return{code:e.code,enabled:e.enabled}},_toJsonObject(e){return{code:e.code,enabled:e.enabled}}}});var FK=M(D_=>{"use strict";Object.defineProperty(D_,"__esModule",{value:!0});D_.IngestEndpointTransformationPatchSerializer=void 0;D_.IngestEndpointTransformationPatchSerializer={_fromJsonObject(e){return{code:e.code,enabled:e.enabled}},_toJsonObject(e){return{code:e.code,enabled:e.enabled}}}});var BK=M(M_=>{"use strict";Object.defineProperty(M_,"__esModule",{value:!0});M_.IngestEndpointUpdateSerializer=void 0;M_.IngestEndpointUpdateSerializer={_fromJsonObject(e){return{description:e.description,disabled:e.disabled,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,url:e.url}},_toJsonObject(e){return{description:e.description,disabled:e.disabled,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,url:e.url}}}});var HK=M(q_=>{"use strict";Object.defineProperty(q_,"__esModule",{value:!0});q_.ListResponseIngestEndpointOutSerializer=void 0;var JK=H$();q_.ListResponseIngestEndpointOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>JK.IngestEndpointOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>JK.IngestEndpointOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var VK=M(U_=>{"use strict";Object.defineProperty(U_,"__esModule",{value:!0});U_.IngestEndpoint=void 0;var dTe=jK(),pTe=DK(),mTe=MK(),V$=H$(),fTe=qK(),hTe=UK(),gTe=LK(),yTe=FK(),vTe=BK(),_Te=HK(),mr=nr(),Z$=class{static{a(this,"IngestEndpoint")}constructor(t){this.requestCtx=t}list(t,r){let n=new mr.SvixRequest(mr.HttpMethod.GET,"/ingest/api/v1/source/{source_id}/endpoint");return n.setPathParam("source_id",t),n.setQueryParam("limit",r?.limit),n.setQueryParam("iterator",r?.iterator),n.setQueryParam("order",r?.order),n.send(this.requestCtx,_Te.ListResponseIngestEndpointOutSerializer._fromJsonObject)}create(t,r,n){let o=new mr.SvixRequest(mr.HttpMethod.POST,"/ingest/api/v1/source/{source_id}/endpoint");return o.setPathParam("source_id",t),o.setHeaderParam("idempotency-key",n?.idempotencyKey),o.setBody(mTe.IngestEndpointInSerializer._toJsonObject(r)),o.send(this.requestCtx,V$.IngestEndpointOutSerializer._fromJsonObject)}get(t,r){let n=new mr.SvixRequest(mr.HttpMethod.GET,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}");return n.setPathParam("source_id",t),n.setPathParam("endpoint_id",r),n.send(this.requestCtx,V$.IngestEndpointOutSerializer._fromJsonObject)}update(t,r,n){let o=new mr.SvixRequest(mr.HttpMethod.PUT,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}");return o.setPathParam("source_id",t),o.setPathParam("endpoint_id",r),o.setBody(vTe.IngestEndpointUpdateSerializer._toJsonObject(n)),o.send(this.requestCtx,V$.IngestEndpointOutSerializer._fromJsonObject)}delete(t,r){let n=new mr.SvixRequest(mr.HttpMethod.DELETE,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}");return n.setPathParam("source_id",t),n.setPathParam("endpoint_id",r),n.sendNoResponseBody(this.requestCtx)}getHeaders(t,r){let n=new mr.SvixRequest(mr.HttpMethod.GET,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/headers");return n.setPathParam("source_id",t),n.setPathParam("endpoint_id",r),n.send(this.requestCtx,pTe.IngestEndpointHeadersOutSerializer._fromJsonObject)}updateHeaders(t,r,n){let o=new mr.SvixRequest(mr.HttpMethod.PUT,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/headers");return o.setPathParam("source_id",t),o.setPathParam("endpoint_id",r),o.setBody(dTe.IngestEndpointHeadersInSerializer._toJsonObject(n)),o.sendNoResponseBody(this.requestCtx)}getSecret(t,r){let n=new mr.SvixRequest(mr.HttpMethod.GET,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/secret");return n.setPathParam("source_id",t),n.setPathParam("endpoint_id",r),n.send(this.requestCtx,hTe.IngestEndpointSecretOutSerializer._fromJsonObject)}rotateSecret(t,r,n,o){let i=new mr.SvixRequest(mr.HttpMethod.POST,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/secret/rotate");return i.setPathParam("source_id",t),i.setPathParam("endpoint_id",r),i.setHeaderParam("idempotency-key",o?.idempotencyKey),i.setBody(fTe.IngestEndpointSecretInSerializer._toJsonObject(n)),i.sendNoResponseBody(this.requestCtx)}getTransformation(t,r){let n=new mr.SvixRequest(mr.HttpMethod.GET,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/transformation");return n.setPathParam("source_id",t),n.setPathParam("endpoint_id",r),n.send(this.requestCtx,gTe.IngestEndpointTransformationOutSerializer._fromJsonObject)}setTransformation(t,r,n){let o=new mr.SvixRequest(mr.HttpMethod.PATCH,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/transformation");return o.setPathParam("source_id",t),o.setPathParam("endpoint_id",r),o.setBody(yTe.IngestEndpointTransformationPatchSerializer._toJsonObject(n)),o.sendNoResponseBody(this.requestCtx)}};U_.IngestEndpoint=Z$});var ZK=M(L_=>{"use strict";Object.defineProperty(L_,"__esModule",{value:!0});L_.AdobeSignConfigSerializer=void 0;L_.AdobeSignConfigSerializer={_fromJsonObject(e){return{clientId:e.clientId}},_toJsonObject(e){return{clientId:e.clientId}}}});var KK=M(F_=>{"use strict";Object.defineProperty(F_,"__esModule",{value:!0});F_.AirwallexConfigSerializer=void 0;F_.AirwallexConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var GK=M(B_=>{"use strict";Object.defineProperty(B_,"__esModule",{value:!0});B_.CheckbookConfigSerializer=void 0;B_.CheckbookConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var K$=M(J_=>{"use strict";Object.defineProperty(J_,"__esModule",{value:!0});J_.CronConfigSerializer=void 0;J_.CronConfigSerializer={_fromJsonObject(e){return{contentType:e.contentType,payload:e.payload,schedule:e.schedule}},_toJsonObject(e){return{contentType:e.contentType,payload:e.payload,schedule:e.schedule}}}});var WK=M(H_=>{"use strict";Object.defineProperty(H_,"__esModule",{value:!0});H_.DocusignConfigSerializer=void 0;H_.DocusignConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var QK=M(V_=>{"use strict";Object.defineProperty(V_,"__esModule",{value:!0});V_.EasypostConfigSerializer=void 0;V_.EasypostConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var XK=M(Z_=>{"use strict";Object.defineProperty(Z_,"__esModule",{value:!0});Z_.GithubConfigSerializer=void 0;Z_.GithubConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var YK=M(K_=>{"use strict";Object.defineProperty(K_,"__esModule",{value:!0});K_.HubspotConfigSerializer=void 0;K_.HubspotConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var eG=M(G_=>{"use strict";Object.defineProperty(G_,"__esModule",{value:!0});G_.OrumIoConfigSerializer=void 0;G_.OrumIoConfigSerializer={_fromJsonObject(e){return{publicKey:e.publicKey}},_toJsonObject(e){return{publicKey:e.publicKey}}}});var tG=M(W_=>{"use strict";Object.defineProperty(W_,"__esModule",{value:!0});W_.PandaDocConfigSerializer=void 0;W_.PandaDocConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var rG=M(Q_=>{"use strict";Object.defineProperty(Q_,"__esModule",{value:!0});Q_.PortIoConfigSerializer=void 0;Q_.PortIoConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var nG=M(X_=>{"use strict";Object.defineProperty(X_,"__esModule",{value:!0});X_.RutterConfigSerializer=void 0;X_.RutterConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var oG=M(Y_=>{"use strict";Object.defineProperty(Y_,"__esModule",{value:!0});Y_.SegmentConfigSerializer=void 0;Y_.SegmentConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var iG=M(eb=>{"use strict";Object.defineProperty(eb,"__esModule",{value:!0});eb.ShopifyConfigSerializer=void 0;eb.ShopifyConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var aG=M(tb=>{"use strict";Object.defineProperty(tb,"__esModule",{value:!0});tb.SlackConfigSerializer=void 0;tb.SlackConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var sG=M(rb=>{"use strict";Object.defineProperty(rb,"__esModule",{value:!0});rb.StripeConfigSerializer=void 0;rb.StripeConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var uG=M(nb=>{"use strict";Object.defineProperty(nb,"__esModule",{value:!0});nb.SvixConfigSerializer=void 0;nb.SvixConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var cG=M(ob=>{"use strict";Object.defineProperty(ob,"__esModule",{value:!0});ob.TelnyxConfigSerializer=void 0;ob.TelnyxConfigSerializer={_fromJsonObject(e){return{publicKey:e.publicKey}},_toJsonObject(e){return{publicKey:e.publicKey}}}});var lG=M(ib=>{"use strict";Object.defineProperty(ib,"__esModule",{value:!0});ib.VapiConfigSerializer=void 0;ib.VapiConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var dG=M(ab=>{"use strict";Object.defineProperty(ab,"__esModule",{value:!0});ab.VeriffConfigSerializer=void 0;ab.VeriffConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var pG=M(sb=>{"use strict";Object.defineProperty(sb,"__esModule",{value:!0});sb.ZoomConfigSerializer=void 0;sb.ZoomConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var $G=M(ub=>{"use strict";Object.defineProperty(ub,"__esModule",{value:!0});ub.IngestSourceInSerializer=void 0;var mG=ZK(),fG=KK(),hG=GK(),gG=K$(),yG=WK(),vG=QK(),_G=XK(),bG=YK(),SG=eG(),wG=tG(),xG=rG(),TG=nG(),EG=oG(),kG=iG(),PG=aG(),IG=sG(),xt=uG(),OG=cG(),AG=lG(),CG=dG(),RG=pG();ub.IngestSourceInSerializer={_fromJsonObject(e){let t=e.type;function r(n){switch(n){case"generic-webhook":return{};case"cron":return gG.CronConfigSerializer._fromJsonObject(e.config);case"adobe-sign":return mG.AdobeSignConfigSerializer._fromJsonObject(e.config);case"beehiiv":return xt.SvixConfigSerializer._fromJsonObject(e.config);case"brex":return xt.SvixConfigSerializer._fromJsonObject(e.config);case"checkbook":return hG.CheckbookConfigSerializer._fromJsonObject(e.config);case"clerk":return xt.SvixConfigSerializer._fromJsonObject(e.config);case"docusign":return yG.DocusignConfigSerializer._fromJsonObject(e.config);case"easypost":return vG.EasypostConfigSerializer._fromJsonObject(e.config);case"github":return _G.GithubConfigSerializer._fromJsonObject(e.config);case"guesty":return xt.SvixConfigSerializer._fromJsonObject(e.config);case"hubspot":return bG.HubspotConfigSerializer._fromJsonObject(e.config);case"incident-io":return xt.SvixConfigSerializer._fromJsonObject(e.config);case"lithic":return xt.SvixConfigSerializer._fromJsonObject(e.config);case"nash":return xt.SvixConfigSerializer._fromJsonObject(e.config);case"orum-io":return SG.OrumIoConfigSerializer._fromJsonObject(e.config);case"panda-doc":return wG.PandaDocConfigSerializer._fromJsonObject(e.config);case"port-io":return xG.PortIoConfigSerializer._fromJsonObject(e.config);case"pleo":return xt.SvixConfigSerializer._fromJsonObject(e.config);case"replicate":return xt.SvixConfigSerializer._fromJsonObject(e.config);case"resend":return xt.SvixConfigSerializer._fromJsonObject(e.config);case"rutter":return TG.RutterConfigSerializer._fromJsonObject(e.config);case"safebase":return xt.SvixConfigSerializer._fromJsonObject(e.config);case"sardine":return xt.SvixConfigSerializer._fromJsonObject(e.config);case"segment":return EG.SegmentConfigSerializer._fromJsonObject(e.config);case"shopify":return kG.ShopifyConfigSerializer._fromJsonObject(e.config);case"slack":return PG.SlackConfigSerializer._fromJsonObject(e.config);case"stripe":return IG.StripeConfigSerializer._fromJsonObject(e.config);case"stych":return xt.SvixConfigSerializer._fromJsonObject(e.config);case"svix":return xt.SvixConfigSerializer._fromJsonObject(e.config);case"zoom":return RG.ZoomConfigSerializer._fromJsonObject(e.config);case"telnyx":return OG.TelnyxConfigSerializer._fromJsonObject(e.config);case"vapi":return AG.VapiConfigSerializer._fromJsonObject(e.config);case"open-ai":return xt.SvixConfigSerializer._fromJsonObject(e.config);case"render":return xt.SvixConfigSerializer._fromJsonObject(e.config);case"veriff":return CG.VeriffConfigSerializer._fromJsonObject(e.config);case"airwallex":return fG.AirwallexConfigSerializer._fromJsonObject(e.config);default:throw new Error(`Unexpected type: ${n}`)}}return a(r,"getConfig"),{type:t,config:r(t),metadata:e.metadata,name:e.name,uid:e.uid}},_toJsonObject(e){let t;switch(e.type){case"generic-webhook":t={};break;case"cron":t=gG.CronConfigSerializer._toJsonObject(e.config);break;case"adobe-sign":t=mG.AdobeSignConfigSerializer._toJsonObject(e.config);break;case"beehiiv":t=xt.SvixConfigSerializer._toJsonObject(e.config);break;case"brex":t=xt.SvixConfigSerializer._toJsonObject(e.config);break;case"checkbook":t=hG.CheckbookConfigSerializer._toJsonObject(e.config);break;case"clerk":t=xt.SvixConfigSerializer._toJsonObject(e.config);break;case"docusign":t=yG.DocusignConfigSerializer._toJsonObject(e.config);break;case"easypost":t=vG.EasypostConfigSerializer._toJsonObject(e.config);break;case"github":t=_G.GithubConfigSerializer._toJsonObject(e.config);break;case"guesty":t=xt.SvixConfigSerializer._toJsonObject(e.config);break;case"hubspot":t=bG.HubspotConfigSerializer._toJsonObject(e.config);break;case"incident-io":t=xt.SvixConfigSerializer._toJsonObject(e.config);break;case"lithic":t=xt.SvixConfigSerializer._toJsonObject(e.config);break;case"nash":t=xt.SvixConfigSerializer._toJsonObject(e.config);break;case"orum-io":t=SG.OrumIoConfigSerializer._toJsonObject(e.config);break;case"panda-doc":t=wG.PandaDocConfigSerializer._toJsonObject(e.config);break;case"port-io":t=xG.PortIoConfigSerializer._toJsonObject(e.config);break;case"pleo":t=xt.SvixConfigSerializer._toJsonObject(e.config);break;case"replicate":t=xt.SvixConfigSerializer._toJsonObject(e.config);break;case"resend":t=xt.SvixConfigSerializer._toJsonObject(e.config);break;case"rutter":t=TG.RutterConfigSerializer._toJsonObject(e.config);break;case"safebase":t=xt.SvixConfigSerializer._toJsonObject(e.config);break;case"sardine":t=xt.SvixConfigSerializer._toJsonObject(e.config);break;case"segment":t=EG.SegmentConfigSerializer._toJsonObject(e.config);break;case"shopify":t=kG.ShopifyConfigSerializer._toJsonObject(e.config);break;case"slack":t=PG.SlackConfigSerializer._toJsonObject(e.config);break;case"stripe":t=IG.StripeConfigSerializer._toJsonObject(e.config);break;case"stych":t=xt.SvixConfigSerializer._toJsonObject(e.config);break;case"svix":t=xt.SvixConfigSerializer._toJsonObject(e.config);break;case"zoom":t=RG.ZoomConfigSerializer._toJsonObject(e.config);break;case"telnyx":t=OG.TelnyxConfigSerializer._toJsonObject(e.config);break;case"vapi":t=AG.VapiConfigSerializer._toJsonObject(e.config);break;case"open-ai":t=xt.SvixConfigSerializer._toJsonObject(e.config);break;case"render":t=xt.SvixConfigSerializer._toJsonObject(e.config);break;case"veriff":t=CG.VeriffConfigSerializer._toJsonObject(e.config);break;case"airwallex":t=fG.AirwallexConfigSerializer._toJsonObject(e.config);break}return{type:e.type,config:t,metadata:e.metadata,name:e.name,uid:e.uid}}}});var NG=M(cb=>{"use strict";Object.defineProperty(cb,"__esModule",{value:!0});cb.AdobeSignConfigOutSerializer=void 0;cb.AdobeSignConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var zG=M(lb=>{"use strict";Object.defineProperty(lb,"__esModule",{value:!0});lb.AirwallexConfigOutSerializer=void 0;lb.AirwallexConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var jG=M(db=>{"use strict";Object.defineProperty(db,"__esModule",{value:!0});db.CheckbookConfigOutSerializer=void 0;db.CheckbookConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var DG=M(pb=>{"use strict";Object.defineProperty(pb,"__esModule",{value:!0});pb.DocusignConfigOutSerializer=void 0;pb.DocusignConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var MG=M(mb=>{"use strict";Object.defineProperty(mb,"__esModule",{value:!0});mb.EasypostConfigOutSerializer=void 0;mb.EasypostConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var qG=M(fb=>{"use strict";Object.defineProperty(fb,"__esModule",{value:!0});fb.GithubConfigOutSerializer=void 0;fb.GithubConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var UG=M(hb=>{"use strict";Object.defineProperty(hb,"__esModule",{value:!0});hb.HubspotConfigOutSerializer=void 0;hb.HubspotConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var LG=M(gb=>{"use strict";Object.defineProperty(gb,"__esModule",{value:!0});gb.OrumIoConfigOutSerializer=void 0;gb.OrumIoConfigOutSerializer={_fromJsonObject(e){return{publicKey:e.publicKey}},_toJsonObject(e){return{publicKey:e.publicKey}}}});var FG=M(yb=>{"use strict";Object.defineProperty(yb,"__esModule",{value:!0});yb.PandaDocConfigOutSerializer=void 0;yb.PandaDocConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var BG=M(vb=>{"use strict";Object.defineProperty(vb,"__esModule",{value:!0});vb.PortIoConfigOutSerializer=void 0;vb.PortIoConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var JG=M(_b=>{"use strict";Object.defineProperty(_b,"__esModule",{value:!0});_b.RutterConfigOutSerializer=void 0;_b.RutterConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var HG=M(bb=>{"use strict";Object.defineProperty(bb,"__esModule",{value:!0});bb.SegmentConfigOutSerializer=void 0;bb.SegmentConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var VG=M(Sb=>{"use strict";Object.defineProperty(Sb,"__esModule",{value:!0});Sb.ShopifyConfigOutSerializer=void 0;Sb.ShopifyConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var ZG=M(wb=>{"use strict";Object.defineProperty(wb,"__esModule",{value:!0});wb.SlackConfigOutSerializer=void 0;wb.SlackConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var KG=M(xb=>{"use strict";Object.defineProperty(xb,"__esModule",{value:!0});xb.StripeConfigOutSerializer=void 0;xb.StripeConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var GG=M(Tb=>{"use strict";Object.defineProperty(Tb,"__esModule",{value:!0});Tb.SvixConfigOutSerializer=void 0;Tb.SvixConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var WG=M(Eb=>{"use strict";Object.defineProperty(Eb,"__esModule",{value:!0});Eb.TelnyxConfigOutSerializer=void 0;Eb.TelnyxConfigOutSerializer={_fromJsonObject(e){return{publicKey:e.publicKey}},_toJsonObject(e){return{publicKey:e.publicKey}}}});var QG=M(kb=>{"use strict";Object.defineProperty(kb,"__esModule",{value:!0});kb.VapiConfigOutSerializer=void 0;kb.VapiConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var XG=M(Pb=>{"use strict";Object.defineProperty(Pb,"__esModule",{value:!0});Pb.VeriffConfigOutSerializer=void 0;Pb.VeriffConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var YG=M(Ib=>{"use strict";Object.defineProperty(Ib,"__esModule",{value:!0});Ib.ZoomConfigOutSerializer=void 0;Ib.ZoomConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var G$=M(Ob=>{"use strict";Object.defineProperty(Ob,"__esModule",{value:!0});Ob.IngestSourceOutSerializer=void 0;var eW=NG(),tW=zG(),rW=jG(),nW=K$(),oW=DG(),iW=MG(),aW=qG(),sW=UG(),uW=LG(),cW=FG(),lW=BG(),dW=JG(),pW=HG(),mW=VG(),fW=ZG(),hW=KG(),Tt=GG(),gW=WG(),yW=QG(),vW=XG(),_W=YG();Ob.IngestSourceOutSerializer={_fromJsonObject(e){let t=e.type;function r(n){switch(n){case"generic-webhook":return{};case"cron":return nW.CronConfigSerializer._fromJsonObject(e.config);case"adobe-sign":return eW.AdobeSignConfigOutSerializer._fromJsonObject(e.config);case"beehiiv":return Tt.SvixConfigOutSerializer._fromJsonObject(e.config);case"brex":return Tt.SvixConfigOutSerializer._fromJsonObject(e.config);case"checkbook":return rW.CheckbookConfigOutSerializer._fromJsonObject(e.config);case"clerk":return Tt.SvixConfigOutSerializer._fromJsonObject(e.config);case"docusign":return oW.DocusignConfigOutSerializer._fromJsonObject(e.config);case"easypost":return iW.EasypostConfigOutSerializer._fromJsonObject(e.config);case"github":return aW.GithubConfigOutSerializer._fromJsonObject(e.config);case"guesty":return Tt.SvixConfigOutSerializer._fromJsonObject(e.config);case"hubspot":return sW.HubspotConfigOutSerializer._fromJsonObject(e.config);case"incident-io":return Tt.SvixConfigOutSerializer._fromJsonObject(e.config);case"lithic":return Tt.SvixConfigOutSerializer._fromJsonObject(e.config);case"nash":return Tt.SvixConfigOutSerializer._fromJsonObject(e.config);case"orum-io":return uW.OrumIoConfigOutSerializer._fromJsonObject(e.config);case"panda-doc":return cW.PandaDocConfigOutSerializer._fromJsonObject(e.config);case"port-io":return lW.PortIoConfigOutSerializer._fromJsonObject(e.config);case"pleo":return Tt.SvixConfigOutSerializer._fromJsonObject(e.config);case"replicate":return Tt.SvixConfigOutSerializer._fromJsonObject(e.config);case"resend":return Tt.SvixConfigOutSerializer._fromJsonObject(e.config);case"rutter":return dW.RutterConfigOutSerializer._fromJsonObject(e.config);case"safebase":return Tt.SvixConfigOutSerializer._fromJsonObject(e.config);case"sardine":return Tt.SvixConfigOutSerializer._fromJsonObject(e.config);case"segment":return pW.SegmentConfigOutSerializer._fromJsonObject(e.config);case"shopify":return mW.ShopifyConfigOutSerializer._fromJsonObject(e.config);case"slack":return fW.SlackConfigOutSerializer._fromJsonObject(e.config);case"stripe":return hW.StripeConfigOutSerializer._fromJsonObject(e.config);case"stych":return Tt.SvixConfigOutSerializer._fromJsonObject(e.config);case"svix":return Tt.SvixConfigOutSerializer._fromJsonObject(e.config);case"zoom":return _W.ZoomConfigOutSerializer._fromJsonObject(e.config);case"telnyx":return gW.TelnyxConfigOutSerializer._fromJsonObject(e.config);case"vapi":return yW.VapiConfigOutSerializer._fromJsonObject(e.config);case"open-ai":return Tt.SvixConfigOutSerializer._fromJsonObject(e.config);case"render":return Tt.SvixConfigOutSerializer._fromJsonObject(e.config);case"veriff":return vW.VeriffConfigOutSerializer._fromJsonObject(e.config);case"airwallex":return tW.AirwallexConfigOutSerializer._fromJsonObject(e.config);default:throw new Error(`Unexpected type: ${n}`)}}return a(r,"getConfig"),{type:t,config:r(t),createdAt:new Date(e.createdAt),id:e.id,ingestUrl:e.ingestUrl,metadata:e.metadata,name:e.name,uid:e.uid,updatedAt:new Date(e.updatedAt)}},_toJsonObject(e){let t;switch(e.type){case"generic-webhook":t={};break;case"cron":t=nW.CronConfigSerializer._toJsonObject(e.config);break;case"adobe-sign":t=eW.AdobeSignConfigOutSerializer._toJsonObject(e.config);break;case"beehiiv":t=Tt.SvixConfigOutSerializer._toJsonObject(e.config);break;case"brex":t=Tt.SvixConfigOutSerializer._toJsonObject(e.config);break;case"checkbook":t=rW.CheckbookConfigOutSerializer._toJsonObject(e.config);break;case"clerk":t=Tt.SvixConfigOutSerializer._toJsonObject(e.config);break;case"docusign":t=oW.DocusignConfigOutSerializer._toJsonObject(e.config);break;case"easypost":t=iW.EasypostConfigOutSerializer._toJsonObject(e.config);break;case"github":t=aW.GithubConfigOutSerializer._toJsonObject(e.config);break;case"guesty":t=Tt.SvixConfigOutSerializer._toJsonObject(e.config);break;case"hubspot":t=sW.HubspotConfigOutSerializer._toJsonObject(e.config);break;case"incident-io":t=Tt.SvixConfigOutSerializer._toJsonObject(e.config);break;case"lithic":t=Tt.SvixConfigOutSerializer._toJsonObject(e.config);break;case"nash":t=Tt.SvixConfigOutSerializer._toJsonObject(e.config);break;case"orum-io":t=uW.OrumIoConfigOutSerializer._toJsonObject(e.config);break;case"panda-doc":t=cW.PandaDocConfigOutSerializer._toJsonObject(e.config);break;case"port-io":t=lW.PortIoConfigOutSerializer._toJsonObject(e.config);break;case"pleo":t=Tt.SvixConfigOutSerializer._toJsonObject(e.config);break;case"replicate":t=Tt.SvixConfigOutSerializer._toJsonObject(e.config);break;case"resend":t=Tt.SvixConfigOutSerializer._toJsonObject(e.config);break;case"rutter":t=dW.RutterConfigOutSerializer._toJsonObject(e.config);break;case"safebase":t=Tt.SvixConfigOutSerializer._toJsonObject(e.config);break;case"sardine":t=Tt.SvixConfigOutSerializer._toJsonObject(e.config);break;case"segment":t=pW.SegmentConfigOutSerializer._toJsonObject(e.config);break;case"shopify":t=mW.ShopifyConfigOutSerializer._toJsonObject(e.config);break;case"slack":t=fW.SlackConfigOutSerializer._toJsonObject(e.config);break;case"stripe":t=hW.StripeConfigOutSerializer._toJsonObject(e.config);break;case"stych":t=Tt.SvixConfigOutSerializer._toJsonObject(e.config);break;case"svix":t=Tt.SvixConfigOutSerializer._toJsonObject(e.config);break;case"zoom":t=_W.ZoomConfigOutSerializer._toJsonObject(e.config);break;case"telnyx":t=gW.TelnyxConfigOutSerializer._toJsonObject(e.config);break;case"vapi":t=yW.VapiConfigOutSerializer._toJsonObject(e.config);break;case"open-ai":t=Tt.SvixConfigOutSerializer._toJsonObject(e.config);break;case"render":t=Tt.SvixConfigOutSerializer._toJsonObject(e.config);break;case"veriff":t=vW.VeriffConfigOutSerializer._toJsonObject(e.config);break;case"airwallex":t=tW.AirwallexConfigOutSerializer._toJsonObject(e.config);break}return{type:e.type,config:t,createdAt:e.createdAt,id:e.id,ingestUrl:e.ingestUrl,metadata:e.metadata,name:e.name,uid:e.uid,updatedAt:e.updatedAt}}}});var SW=M(Ab=>{"use strict";Object.defineProperty(Ab,"__esModule",{value:!0});Ab.ListResponseIngestSourceOutSerializer=void 0;var bW=G$();Ab.ListResponseIngestSourceOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>bW.IngestSourceOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>bW.IngestSourceOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var wW=M(Cb=>{"use strict";Object.defineProperty(Cb,"__esModule",{value:!0});Cb.RotateTokenOutSerializer=void 0;Cb.RotateTokenOutSerializer={_fromJsonObject(e){return{ingestUrl:e.ingestUrl}},_toJsonObject(e){return{ingestUrl:e.ingestUrl}}}});var TW=M(Rb=>{"use strict";Object.defineProperty(Rb,"__esModule",{value:!0});Rb.IngestSource=void 0;var xW=$G(),W$=G$(),bTe=SW(),STe=wW(),so=nr(),Q$=class{static{a(this,"IngestSource")}constructor(t){this.requestCtx=t}list(t){let r=new so.SvixRequest(so.HttpMethod.GET,"/ingest/api/v1/source");return r.setQueryParam("limit",t?.limit),r.setQueryParam("iterator",t?.iterator),r.setQueryParam("order",t?.order),r.send(this.requestCtx,bTe.ListResponseIngestSourceOutSerializer._fromJsonObject)}create(t,r){let n=new so.SvixRequest(so.HttpMethod.POST,"/ingest/api/v1/source");return n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.setBody(xW.IngestSourceInSerializer._toJsonObject(t)),n.send(this.requestCtx,W$.IngestSourceOutSerializer._fromJsonObject)}get(t){let r=new so.SvixRequest(so.HttpMethod.GET,"/ingest/api/v1/source/{source_id}");return r.setPathParam("source_id",t),r.send(this.requestCtx,W$.IngestSourceOutSerializer._fromJsonObject)}update(t,r){let n=new so.SvixRequest(so.HttpMethod.PUT,"/ingest/api/v1/source/{source_id}");return n.setPathParam("source_id",t),n.setBody(xW.IngestSourceInSerializer._toJsonObject(r)),n.send(this.requestCtx,W$.IngestSourceOutSerializer._fromJsonObject)}delete(t){let r=new so.SvixRequest(so.HttpMethod.DELETE,"/ingest/api/v1/source/{source_id}");return r.setPathParam("source_id",t),r.sendNoResponseBody(this.requestCtx)}rotateToken(t,r){let n=new so.SvixRequest(so.HttpMethod.POST,"/ingest/api/v1/source/{source_id}/token/rotate");return n.setPathParam("source_id",t),n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.send(this.requestCtx,STe.RotateTokenOutSerializer._fromJsonObject)}};Rb.IngestSource=Q$});var kW=M($b=>{"use strict";Object.defineProperty($b,"__esModule",{value:!0});$b.Ingest=void 0;var wTe=C$(),xTe=zK(),TTe=VK(),ETe=TW(),EW=nr(),X$=class{static{a(this,"Ingest")}constructor(t){this.requestCtx=t}get endpoint(){return new TTe.IngestEndpoint(this.requestCtx)}get source(){return new ETe.IngestSource(this.requestCtx)}dashboard(t,r,n){let o=new EW.SvixRequest(EW.HttpMethod.POST,"/ingest/api/v1/source/{source_id}/dashboard");return o.setPathParam("source_id",t),o.setHeaderParam("idempotency-key",n?.idempotencyKey),o.setBody(xTe.IngestSourceConsumerPortalAccessInSerializer._toJsonObject(r)),o.send(this.requestCtx,wTe.DashboardAccessOutSerializer._fromJsonObject)}};$b.Ingest=X$});var PW=M(Nb=>{"use strict";Object.defineProperty(Nb,"__esModule",{value:!0});Nb.IntegrationInSerializer=void 0;Nb.IntegrationInSerializer={_fromJsonObject(e){return{featureFlags:e.featureFlags,name:e.name}},_toJsonObject(e){return{featureFlags:e.featureFlags,name:e.name}}}});var IW=M(zb=>{"use strict";Object.defineProperty(zb,"__esModule",{value:!0});zb.IntegrationKeyOutSerializer=void 0;zb.IntegrationKeyOutSerializer={_fromJsonObject(e){return{key:e.key}},_toJsonObject(e){return{key:e.key}}}});var Y$=M(jb=>{"use strict";Object.defineProperty(jb,"__esModule",{value:!0});jb.IntegrationOutSerializer=void 0;jb.IntegrationOutSerializer={_fromJsonObject(e){return{createdAt:new Date(e.createdAt),featureFlags:e.featureFlags,id:e.id,name:e.name,updatedAt:new Date(e.updatedAt)}},_toJsonObject(e){return{createdAt:e.createdAt,featureFlags:e.featureFlags,id:e.id,name:e.name,updatedAt:e.updatedAt}}}});var OW=M(Db=>{"use strict";Object.defineProperty(Db,"__esModule",{value:!0});Db.IntegrationUpdateSerializer=void 0;Db.IntegrationUpdateSerializer={_fromJsonObject(e){return{featureFlags:e.featureFlags,name:e.name}},_toJsonObject(e){return{featureFlags:e.featureFlags,name:e.name}}}});var CW=M(Mb=>{"use strict";Object.defineProperty(Mb,"__esModule",{value:!0});Mb.ListResponseIntegrationOutSerializer=void 0;var AW=Y$();Mb.ListResponseIntegrationOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>AW.IntegrationOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>AW.IntegrationOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var $W=M(qb=>{"use strict";Object.defineProperty(qb,"__esModule",{value:!0});qb.Integration=void 0;var kTe=PW(),RW=IW(),eN=Y$(),PTe=OW(),ITe=CW(),Rn=nr(),tN=class{static{a(this,"Integration")}constructor(t){this.requestCtx=t}list(t,r){let n=new Rn.SvixRequest(Rn.HttpMethod.GET,"/api/v1/app/{app_id}/integration");return n.setPathParam("app_id",t),n.setQueryParam("limit",r?.limit),n.setQueryParam("iterator",r?.iterator),n.setQueryParam("order",r?.order),n.send(this.requestCtx,ITe.ListResponseIntegrationOutSerializer._fromJsonObject)}create(t,r,n){let o=new Rn.SvixRequest(Rn.HttpMethod.POST,"/api/v1/app/{app_id}/integration");return o.setPathParam("app_id",t),o.setHeaderParam("idempotency-key",n?.idempotencyKey),o.setBody(kTe.IntegrationInSerializer._toJsonObject(r)),o.send(this.requestCtx,eN.IntegrationOutSerializer._fromJsonObject)}get(t,r){let n=new Rn.SvixRequest(Rn.HttpMethod.GET,"/api/v1/app/{app_id}/integration/{integ_id}");return n.setPathParam("app_id",t),n.setPathParam("integ_id",r),n.send(this.requestCtx,eN.IntegrationOutSerializer._fromJsonObject)}update(t,r,n){let o=new Rn.SvixRequest(Rn.HttpMethod.PUT,"/api/v1/app/{app_id}/integration/{integ_id}");return o.setPathParam("app_id",t),o.setPathParam("integ_id",r),o.setBody(PTe.IntegrationUpdateSerializer._toJsonObject(n)),o.send(this.requestCtx,eN.IntegrationOutSerializer._fromJsonObject)}delete(t,r){let n=new Rn.SvixRequest(Rn.HttpMethod.DELETE,"/api/v1/app/{app_id}/integration/{integ_id}");return n.setPathParam("app_id",t),n.setPathParam("integ_id",r),n.sendNoResponseBody(this.requestCtx)}getKey(t,r){let n=new Rn.SvixRequest(Rn.HttpMethod.GET,"/api/v1/app/{app_id}/integration/{integ_id}/key");return n.setPathParam("app_id",t),n.setPathParam("integ_id",r),n.send(this.requestCtx,RW.IntegrationKeyOutSerializer._fromJsonObject)}rotateKey(t,r,n){let o=new Rn.SvixRequest(Rn.HttpMethod.POST,"/api/v1/app/{app_id}/integration/{integ_id}/key/rotate");return o.setPathParam("app_id",t),o.setPathParam("integ_id",r),o.setHeaderParam("idempotency-key",n?.idempotencyKey),o.send(this.requestCtx,RW.IntegrationKeyOutSerializer._fromJsonObject)}};qb.Integration=tN});var jW=M(Ub=>{"use strict";Object.defineProperty(Ub,"__esModule",{value:!0});Ub.ExpungeAllContentsOutSerializer=void 0;var NW=Wa(),zW=Qa();Ub.ExpungeAllContentsOutSerializer={_fromJsonObject(e){return{id:e.id,status:NW.BackgroundTaskStatusSerializer._fromJsonObject(e.status),task:zW.BackgroundTaskTypeSerializer._fromJsonObject(e.task)}},_toJsonObject(e){return{id:e.id,status:NW.BackgroundTaskStatusSerializer._toJsonObject(e.status),task:zW.BackgroundTaskTypeSerializer._toJsonObject(e.task)}}}});var MW=M(Lb=>{"use strict";Object.defineProperty(Lb,"__esModule",{value:!0});Lb.ListResponseMessageOutSerializer=void 0;var DW=jm();Lb.ListResponseMessageOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>DW.MessageOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>DW.MessageOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var qW=M(Fb=>{"use strict";Object.defineProperty(Fb,"__esModule",{value:!0});Fb.PollingEndpointConsumerSeekInSerializer=void 0;Fb.PollingEndpointConsumerSeekInSerializer={_fromJsonObject(e){return{after:new Date(e.after)}},_toJsonObject(e){return{after:e.after}}}});var UW=M(Bb=>{"use strict";Object.defineProperty(Bb,"__esModule",{value:!0});Bb.PollingEndpointConsumerSeekOutSerializer=void 0;Bb.PollingEndpointConsumerSeekOutSerializer={_fromJsonObject(e){return{iterator:e.iterator}},_toJsonObject(e){return{iterator:e.iterator}}}});var LW=M(Jb=>{"use strict";Object.defineProperty(Jb,"__esModule",{value:!0});Jb.PollingEndpointMessageOutSerializer=void 0;Jb.PollingEndpointMessageOutSerializer={_fromJsonObject(e){return{channels:e.channels,deliverAt:e.deliverAt?new Date(e.deliverAt):null,eventId:e.eventId,eventType:e.eventType,headers:e.headers,id:e.id,payload:e.payload,tags:e.tags,timestamp:new Date(e.timestamp)}},_toJsonObject(e){return{channels:e.channels,deliverAt:e.deliverAt,eventId:e.eventId,eventType:e.eventType,headers:e.headers,id:e.id,payload:e.payload,tags:e.tags,timestamp:e.timestamp}}}});var BW=M(Hb=>{"use strict";Object.defineProperty(Hb,"__esModule",{value:!0});Hb.PollingEndpointOutSerializer=void 0;var FW=LW();Hb.PollingEndpointOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>FW.PollingEndpointMessageOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator}},_toJsonObject(e){return{data:e.data.map(t=>FW.PollingEndpointMessageOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator}}}});var HW=M(Vb=>{"use strict";Object.defineProperty(Vb,"__esModule",{value:!0});Vb.MessagePoller=void 0;var OTe=qW(),ATe=UW(),JW=BW(),nl=nr(),rN=class{static{a(this,"MessagePoller")}constructor(t){this.requestCtx=t}poll(t,r,n){let o=new nl.SvixRequest(nl.HttpMethod.GET,"/api/v1/app/{app_id}/poller/{sink_id}");return o.setPathParam("app_id",t),o.setPathParam("sink_id",r),o.setQueryParam("limit",n?.limit),o.setQueryParam("iterator",n?.iterator),o.setQueryParam("event_type",n?.eventType),o.setQueryParam("channel",n?.channel),o.setQueryParam("after",n?.after),o.send(this.requestCtx,JW.PollingEndpointOutSerializer._fromJsonObject)}consumerPoll(t,r,n,o){let i=new nl.SvixRequest(nl.HttpMethod.GET,"/api/v1/app/{app_id}/poller/{sink_id}/consumer/{consumer_id}");return i.setPathParam("app_id",t),i.setPathParam("sink_id",r),i.setPathParam("consumer_id",n),i.setQueryParam("limit",o?.limit),i.setQueryParam("iterator",o?.iterator),i.send(this.requestCtx,JW.PollingEndpointOutSerializer._fromJsonObject)}consumerSeek(t,r,n,o,i){let s=new nl.SvixRequest(nl.HttpMethod.POST,"/api/v1/app/{app_id}/poller/{sink_id}/consumer/{consumer_id}/seek");return s.setPathParam("app_id",t),s.setPathParam("sink_id",r),s.setPathParam("consumer_id",n),s.setHeaderParam("idempotency-key",i?.idempotencyKey),s.setBody(OTe.PollingEndpointConsumerSeekInSerializer._toJsonObject(o)),s.send(this.requestCtx,ATe.PollingEndpointConsumerSeekOutSerializer._fromJsonObject)}};Vb.MessagePoller=rN});var ZW=M(Zb=>{"use strict";Object.defineProperty(Zb,"__esModule",{value:!0});Zb.MessageInSerializer=void 0;var VW=mv();Zb.MessageInSerializer={_fromJsonObject(e){return{application:e.application?VW.ApplicationInSerializer._fromJsonObject(e.application):void 0,channels:e.channels,deliverAt:e.deliverAt?new Date(e.deliverAt):null,eventId:e.eventId,eventType:e.eventType,payload:e.payload,payloadRetentionHours:e.payloadRetentionHours,payloadRetentionPeriod:e.payloadRetentionPeriod,tags:e.tags,transformationsParams:e.transformationsParams}},_toJsonObject(e){return{application:e.application?VW.ApplicationInSerializer._toJsonObject(e.application):void 0,channels:e.channels,deliverAt:e.deliverAt,eventId:e.eventId,eventType:e.eventType,payload:e.payload,payloadRetentionHours:e.payloadRetentionHours,payloadRetentionPeriod:e.payloadRetentionPeriod,tags:e.tags,transformationsParams:e.transformationsParams}}}});var oN=M(ol=>{"use strict";Object.defineProperty(ol,"__esModule",{value:!0});ol.messageInRaw=ol.Message=void 0;var CTe=jW(),RTe=MW(),KW=jm(),$Te=HW(),mi=nr(),NTe=ZW(),nN=class{static{a(this,"Message")}constructor(t){this.requestCtx=t}get poller(){return new $Te.MessagePoller(this.requestCtx)}list(t,r){let n=new mi.SvixRequest(mi.HttpMethod.GET,"/api/v1/app/{app_id}/msg");return n.setPathParam("app_id",t),n.setQueryParam("limit",r?.limit),n.setQueryParam("iterator",r?.iterator),n.setQueryParam("channel",r?.channel),n.setQueryParam("before",r?.before),n.setQueryParam("after",r?.after),n.setQueryParam("with_content",r?.withContent),n.setQueryParam("tag",r?.tag),n.setQueryParam("event_types",r?.eventTypes),n.send(this.requestCtx,RTe.ListResponseMessageOutSerializer._fromJsonObject)}create(t,r,n){let o=new mi.SvixRequest(mi.HttpMethod.POST,"/api/v1/app/{app_id}/msg");return o.setPathParam("app_id",t),o.setQueryParam("with_content",n?.withContent),o.setHeaderParam("idempotency-key",n?.idempotencyKey),o.setBody(NTe.MessageInSerializer._toJsonObject(r)),o.send(this.requestCtx,KW.MessageOutSerializer._fromJsonObject)}expungeAllContents(t,r){let n=new mi.SvixRequest(mi.HttpMethod.POST,"/api/v1/app/{app_id}/msg/expunge-all-contents");return n.setPathParam("app_id",t),n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.send(this.requestCtx,CTe.ExpungeAllContentsOutSerializer._fromJsonObject)}get(t,r,n){let o=new mi.SvixRequest(mi.HttpMethod.GET,"/api/v1/app/{app_id}/msg/{msg_id}");return o.setPathParam("app_id",t),o.setPathParam("msg_id",r),o.setQueryParam("with_content",n?.withContent),o.send(this.requestCtx,KW.MessageOutSerializer._fromJsonObject)}expungeContent(t,r){let n=new mi.SvixRequest(mi.HttpMethod.DELETE,"/api/v1/app/{app_id}/msg/{msg_id}/content");return n.setPathParam("app_id",t),n.setPathParam("msg_id",r),n.sendNoResponseBody(this.requestCtx)}};ol.Message=nN;function zTe(e,t,r){return{eventType:e,payload:{},transformationsParams:{rawPayload:t,headers:r?{"content-type":r}:void 0}}}a(zTe,"messageInRaw");ol.messageInRaw=zTe});var Dm=M(Zs=>{"use strict";Object.defineProperty(Zs,"__esModule",{value:!0});Zs.MessageStatusSerializer=Zs.MessageStatus=void 0;var jTe;(function(e){e[e.Success=0]="Success",e[e.Pending=1]="Pending",e[e.Fail=2]="Fail",e[e.Sending=3]="Sending"})(jTe=Zs.MessageStatus||(Zs.MessageStatus={}));Zs.MessageStatusSerializer={_fromJsonObject(e){return e},_toJsonObject(e){return e}}});var Mm=M(Ks=>{"use strict";Object.defineProperty(Ks,"__esModule",{value:!0});Ks.MessageStatusTextSerializer=Ks.MessageStatusText=void 0;var DTe;(function(e){e.Success="success",e.Pending="pending",e.Fail="fail",e.Sending="sending"})(DTe=Ks.MessageStatusText||(Ks.MessageStatusText={}));Ks.MessageStatusTextSerializer={_fromJsonObject(e){return e},_toJsonObject(e){return e}}});var QW=M(Kb=>{"use strict";Object.defineProperty(Kb,"__esModule",{value:!0});Kb.EndpointMessageOutSerializer=void 0;var GW=Dm(),WW=Mm();Kb.EndpointMessageOutSerializer={_fromJsonObject(e){return{channels:e.channels,deliverAt:e.deliverAt?new Date(e.deliverAt):null,eventId:e.eventId,eventType:e.eventType,id:e.id,nextAttempt:e.nextAttempt?new Date(e.nextAttempt):null,payload:e.payload,status:GW.MessageStatusSerializer._fromJsonObject(e.status),statusText:WW.MessageStatusTextSerializer._fromJsonObject(e.statusText),tags:e.tags,timestamp:new Date(e.timestamp)}},_toJsonObject(e){return{channels:e.channels,deliverAt:e.deliverAt,eventId:e.eventId,eventType:e.eventType,id:e.id,nextAttempt:e.nextAttempt,payload:e.payload,status:GW.MessageStatusSerializer._toJsonObject(e.status),statusText:WW.MessageStatusTextSerializer._toJsonObject(e.statusText),tags:e.tags,timestamp:e.timestamp}}}});var YW=M(Gb=>{"use strict";Object.defineProperty(Gb,"__esModule",{value:!0});Gb.ListResponseEndpointMessageOutSerializer=void 0;var XW=QW();Gb.ListResponseEndpointMessageOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>XW.EndpointMessageOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>XW.EndpointMessageOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var iN=M(Gs=>{"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});Gs.MessageAttemptTriggerTypeSerializer=Gs.MessageAttemptTriggerType=void 0;var MTe;(function(e){e[e.Scheduled=0]="Scheduled",e[e.Manual=1]="Manual"})(MTe=Gs.MessageAttemptTriggerType||(Gs.MessageAttemptTriggerType={}));Gs.MessageAttemptTriggerTypeSerializer={_fromJsonObject(e){return e},_toJsonObject(e){return e}}});var aN=M(Wb=>{"use strict";Object.defineProperty(Wb,"__esModule",{value:!0});Wb.MessageAttemptOutSerializer=void 0;var eQ=iN(),tQ=jm(),rQ=Dm(),nQ=Mm();Wb.MessageAttemptOutSerializer={_fromJsonObject(e){return{endpointId:e.endpointId,id:e.id,msg:e.msg?tQ.MessageOutSerializer._fromJsonObject(e.msg):void 0,msgId:e.msgId,response:e.response,responseDurationMs:e.responseDurationMs,responseStatusCode:e.responseStatusCode,status:rQ.MessageStatusSerializer._fromJsonObject(e.status),statusText:nQ.MessageStatusTextSerializer._fromJsonObject(e.statusText),timestamp:new Date(e.timestamp),triggerType:eQ.MessageAttemptTriggerTypeSerializer._fromJsonObject(e.triggerType),url:e.url}},_toJsonObject(e){return{endpointId:e.endpointId,id:e.id,msg:e.msg?tQ.MessageOutSerializer._toJsonObject(e.msg):void 0,msgId:e.msgId,response:e.response,responseDurationMs:e.responseDurationMs,responseStatusCode:e.responseStatusCode,status:rQ.MessageStatusSerializer._toJsonObject(e.status),statusText:nQ.MessageStatusTextSerializer._toJsonObject(e.statusText),timestamp:e.timestamp,triggerType:eQ.MessageAttemptTriggerTypeSerializer._toJsonObject(e.triggerType),url:e.url}}}});var iQ=M(Qb=>{"use strict";Object.defineProperty(Qb,"__esModule",{value:!0});Qb.ListResponseMessageAttemptOutSerializer=void 0;var oQ=aN();Qb.ListResponseMessageAttemptOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>oQ.MessageAttemptOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>oQ.MessageAttemptOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var uQ=M(Xb=>{"use strict";Object.defineProperty(Xb,"__esModule",{value:!0});Xb.MessageEndpointOutSerializer=void 0;var aQ=Dm(),sQ=Mm();Xb.MessageEndpointOutSerializer={_fromJsonObject(e){return{channels:e.channels,createdAt:new Date(e.createdAt),description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,id:e.id,nextAttempt:e.nextAttempt?new Date(e.nextAttempt):null,rateLimit:e.rateLimit,status:aQ.MessageStatusSerializer._fromJsonObject(e.status),statusText:sQ.MessageStatusTextSerializer._fromJsonObject(e.statusText),uid:e.uid,updatedAt:new Date(e.updatedAt),url:e.url,version:e.version}},_toJsonObject(e){return{channels:e.channels,createdAt:e.createdAt,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,id:e.id,nextAttempt:e.nextAttempt,rateLimit:e.rateLimit,status:aQ.MessageStatusSerializer._toJsonObject(e.status),statusText:sQ.MessageStatusTextSerializer._toJsonObject(e.statusText),uid:e.uid,updatedAt:e.updatedAt,url:e.url,version:e.version}}}});var lQ=M(Yb=>{"use strict";Object.defineProperty(Yb,"__esModule",{value:!0});Yb.ListResponseMessageEndpointOutSerializer=void 0;var cQ=uQ();Yb.ListResponseMessageEndpointOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>cQ.MessageEndpointOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>cQ.MessageEndpointOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var pQ=M(eS=>{"use strict";Object.defineProperty(eS,"__esModule",{value:!0});eS.MessageAttempt=void 0;var qTe=YW(),dQ=iQ(),UTe=lQ(),LTe=aN(),$n=nr(),sN=class{static{a(this,"MessageAttempt")}constructor(t){this.requestCtx=t}listByEndpoint(t,r,n){let o=new $n.SvixRequest($n.HttpMethod.GET,"/api/v1/app/{app_id}/attempt/endpoint/{endpoint_id}");return o.setPathParam("app_id",t),o.setPathParam("endpoint_id",r),o.setQueryParam("limit",n?.limit),o.setQueryParam("iterator",n?.iterator),o.setQueryParam("status",n?.status),o.setQueryParam("status_code_class",n?.statusCodeClass),o.setQueryParam("channel",n?.channel),o.setQueryParam("tag",n?.tag),o.setQueryParam("before",n?.before),o.setQueryParam("after",n?.after),o.setQueryParam("with_content",n?.withContent),o.setQueryParam("with_msg",n?.withMsg),o.setQueryParam("event_types",n?.eventTypes),o.send(this.requestCtx,dQ.ListResponseMessageAttemptOutSerializer._fromJsonObject)}listByMsg(t,r,n){let o=new $n.SvixRequest($n.HttpMethod.GET,"/api/v1/app/{app_id}/attempt/msg/{msg_id}");return o.setPathParam("app_id",t),o.setPathParam("msg_id",r),o.setQueryParam("limit",n?.limit),o.setQueryParam("iterator",n?.iterator),o.setQueryParam("status",n?.status),o.setQueryParam("status_code_class",n?.statusCodeClass),o.setQueryParam("channel",n?.channel),o.setQueryParam("tag",n?.tag),o.setQueryParam("endpoint_id",n?.endpointId),o.setQueryParam("before",n?.before),o.setQueryParam("after",n?.after),o.setQueryParam("with_content",n?.withContent),o.setQueryParam("event_types",n?.eventTypes),o.send(this.requestCtx,dQ.ListResponseMessageAttemptOutSerializer._fromJsonObject)}listAttemptedMessages(t,r,n){let o=new $n.SvixRequest($n.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/msg");return o.setPathParam("app_id",t),o.setPathParam("endpoint_id",r),o.setQueryParam("limit",n?.limit),o.setQueryParam("iterator",n?.iterator),o.setQueryParam("channel",n?.channel),o.setQueryParam("tag",n?.tag),o.setQueryParam("status",n?.status),o.setQueryParam("before",n?.before),o.setQueryParam("after",n?.after),o.setQueryParam("with_content",n?.withContent),o.setQueryParam("event_types",n?.eventTypes),o.send(this.requestCtx,qTe.ListResponseEndpointMessageOutSerializer._fromJsonObject)}get(t,r,n){let o=new $n.SvixRequest($n.HttpMethod.GET,"/api/v1/app/{app_id}/msg/{msg_id}/attempt/{attempt_id}");return o.setPathParam("app_id",t),o.setPathParam("msg_id",r),o.setPathParam("attempt_id",n),o.send(this.requestCtx,LTe.MessageAttemptOutSerializer._fromJsonObject)}expungeContent(t,r,n){let o=new $n.SvixRequest($n.HttpMethod.DELETE,"/api/v1/app/{app_id}/msg/{msg_id}/attempt/{attempt_id}/content");return o.setPathParam("app_id",t),o.setPathParam("msg_id",r),o.setPathParam("attempt_id",n),o.sendNoResponseBody(this.requestCtx)}listAttemptedDestinations(t,r,n){let o=new $n.SvixRequest($n.HttpMethod.GET,"/api/v1/app/{app_id}/msg/{msg_id}/endpoint");return o.setPathParam("app_id",t),o.setPathParam("msg_id",r),o.setQueryParam("limit",n?.limit),o.setQueryParam("iterator",n?.iterator),o.send(this.requestCtx,UTe.ListResponseMessageEndpointOutSerializer._fromJsonObject)}resend(t,r,n,o){let i=new $n.SvixRequest($n.HttpMethod.POST,"/api/v1/app/{app_id}/msg/{msg_id}/endpoint/{endpoint_id}/resend");return i.setPathParam("app_id",t),i.setPathParam("msg_id",r),i.setPathParam("endpoint_id",n),i.setHeaderParam("idempotency-key",o?.idempotencyKey),i.sendNoResponseBody(this.requestCtx)}};eS.MessageAttempt=sN});var uN=M(tS=>{"use strict";Object.defineProperty(tS,"__esModule",{value:!0});tS.OperationalWebhookEndpointOutSerializer=void 0;tS.OperationalWebhookEndpointOutSerializer={_fromJsonObject(e){return{createdAt:new Date(e.createdAt),description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,id:e.id,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,updatedAt:new Date(e.updatedAt),url:e.url}},_toJsonObject(e){return{createdAt:e.createdAt,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,id:e.id,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,updatedAt:e.updatedAt,url:e.url}}}});var fQ=M(rS=>{"use strict";Object.defineProperty(rS,"__esModule",{value:!0});rS.ListResponseOperationalWebhookEndpointOutSerializer=void 0;var mQ=uN();rS.ListResponseOperationalWebhookEndpointOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>mQ.OperationalWebhookEndpointOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>mQ.OperationalWebhookEndpointOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var hQ=M(nS=>{"use strict";Object.defineProperty(nS,"__esModule",{value:!0});nS.OperationalWebhookEndpointHeadersInSerializer=void 0;nS.OperationalWebhookEndpointHeadersInSerializer={_fromJsonObject(e){return{headers:e.headers}},_toJsonObject(e){return{headers:e.headers}}}});var gQ=M(oS=>{"use strict";Object.defineProperty(oS,"__esModule",{value:!0});oS.OperationalWebhookEndpointHeadersOutSerializer=void 0;oS.OperationalWebhookEndpointHeadersOutSerializer={_fromJsonObject(e){return{headers:e.headers,sensitive:e.sensitive}},_toJsonObject(e){return{headers:e.headers,sensitive:e.sensitive}}}});var yQ=M(iS=>{"use strict";Object.defineProperty(iS,"__esModule",{value:!0});iS.OperationalWebhookEndpointInSerializer=void 0;iS.OperationalWebhookEndpointInSerializer={_fromJsonObject(e){return{description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url}},_toJsonObject(e){return{description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url}}}});var vQ=M(aS=>{"use strict";Object.defineProperty(aS,"__esModule",{value:!0});aS.OperationalWebhookEndpointSecretInSerializer=void 0;aS.OperationalWebhookEndpointSecretInSerializer={_fromJsonObject(e){return{key:e.key}},_toJsonObject(e){return{key:e.key}}}});var _Q=M(sS=>{"use strict";Object.defineProperty(sS,"__esModule",{value:!0});sS.OperationalWebhookEndpointSecretOutSerializer=void 0;sS.OperationalWebhookEndpointSecretOutSerializer={_fromJsonObject(e){return{key:e.key}},_toJsonObject(e){return{key:e.key}}}});var bQ=M(uS=>{"use strict";Object.defineProperty(uS,"__esModule",{value:!0});uS.OperationalWebhookEndpointUpdateSerializer=void 0;uS.OperationalWebhookEndpointUpdateSerializer={_fromJsonObject(e){return{description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,url:e.url}},_toJsonObject(e){return{description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,url:e.url}}}});var dN=M(cS=>{"use strict";Object.defineProperty(cS,"__esModule",{value:!0});cS.OperationalWebhookEndpoint=void 0;var FTe=fQ(),BTe=hQ(),JTe=gQ(),HTe=yQ(),cN=uN(),VTe=vQ(),ZTe=_Q(),KTe=bQ(),zr=nr(),lN=class{static{a(this,"OperationalWebhookEndpoint")}constructor(t){this.requestCtx=t}list(t){let r=new zr.SvixRequest(zr.HttpMethod.GET,"/api/v1/operational-webhook/endpoint");return r.setQueryParam("limit",t?.limit),r.setQueryParam("iterator",t?.iterator),r.setQueryParam("order",t?.order),r.send(this.requestCtx,FTe.ListResponseOperationalWebhookEndpointOutSerializer._fromJsonObject)}create(t,r){let n=new zr.SvixRequest(zr.HttpMethod.POST,"/api/v1/operational-webhook/endpoint");return n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.setBody(HTe.OperationalWebhookEndpointInSerializer._toJsonObject(t)),n.send(this.requestCtx,cN.OperationalWebhookEndpointOutSerializer._fromJsonObject)}get(t){let r=new zr.SvixRequest(zr.HttpMethod.GET,"/api/v1/operational-webhook/endpoint/{endpoint_id}");return r.setPathParam("endpoint_id",t),r.send(this.requestCtx,cN.OperationalWebhookEndpointOutSerializer._fromJsonObject)}update(t,r){let n=new zr.SvixRequest(zr.HttpMethod.PUT,"/api/v1/operational-webhook/endpoint/{endpoint_id}");return n.setPathParam("endpoint_id",t),n.setBody(KTe.OperationalWebhookEndpointUpdateSerializer._toJsonObject(r)),n.send(this.requestCtx,cN.OperationalWebhookEndpointOutSerializer._fromJsonObject)}delete(t){let r=new zr.SvixRequest(zr.HttpMethod.DELETE,"/api/v1/operational-webhook/endpoint/{endpoint_id}");return r.setPathParam("endpoint_id",t),r.sendNoResponseBody(this.requestCtx)}getHeaders(t){let r=new zr.SvixRequest(zr.HttpMethod.GET,"/api/v1/operational-webhook/endpoint/{endpoint_id}/headers");return r.setPathParam("endpoint_id",t),r.send(this.requestCtx,JTe.OperationalWebhookEndpointHeadersOutSerializer._fromJsonObject)}updateHeaders(t,r){let n=new zr.SvixRequest(zr.HttpMethod.PUT,"/api/v1/operational-webhook/endpoint/{endpoint_id}/headers");return n.setPathParam("endpoint_id",t),n.setBody(BTe.OperationalWebhookEndpointHeadersInSerializer._toJsonObject(r)),n.sendNoResponseBody(this.requestCtx)}getSecret(t){let r=new zr.SvixRequest(zr.HttpMethod.GET,"/api/v1/operational-webhook/endpoint/{endpoint_id}/secret");return r.setPathParam("endpoint_id",t),r.send(this.requestCtx,ZTe.OperationalWebhookEndpointSecretOutSerializer._fromJsonObject)}rotateSecret(t,r,n){let o=new zr.SvixRequest(zr.HttpMethod.POST,"/api/v1/operational-webhook/endpoint/{endpoint_id}/secret/rotate");return o.setPathParam("endpoint_id",t),o.setHeaderParam("idempotency-key",n?.idempotencyKey),o.setBody(VTe.OperationalWebhookEndpointSecretInSerializer._toJsonObject(r)),o.sendNoResponseBody(this.requestCtx)}};cS.OperationalWebhookEndpoint=lN});var SQ=M(lS=>{"use strict";Object.defineProperty(lS,"__esModule",{value:!0});lS.OperationalWebhook=void 0;var GTe=dN(),pN=class{static{a(this,"OperationalWebhook")}constructor(t){this.requestCtx=t}get endpoint(){return new GTe.OperationalWebhookEndpoint(this.requestCtx)}};lS.OperationalWebhook=pN});var TQ=M(dS=>{"use strict";Object.defineProperty(dS,"__esModule",{value:!0});dS.AggregateEventTypesOutSerializer=void 0;var wQ=Wa(),xQ=Qa();dS.AggregateEventTypesOutSerializer={_fromJsonObject(e){return{id:e.id,status:wQ.BackgroundTaskStatusSerializer._fromJsonObject(e.status),task:xQ.BackgroundTaskTypeSerializer._fromJsonObject(e.task)}},_toJsonObject(e){return{id:e.id,status:wQ.BackgroundTaskStatusSerializer._toJsonObject(e.status),task:xQ.BackgroundTaskTypeSerializer._toJsonObject(e.task)}}}});var EQ=M(pS=>{"use strict";Object.defineProperty(pS,"__esModule",{value:!0});pS.AppUsageStatsInSerializer=void 0;pS.AppUsageStatsInSerializer={_fromJsonObject(e){return{appIds:e.appIds,since:new Date(e.since),until:new Date(e.until)}},_toJsonObject(e){return{appIds:e.appIds,since:e.since,until:e.until}}}});var IQ=M(mS=>{"use strict";Object.defineProperty(mS,"__esModule",{value:!0});mS.AppUsageStatsOutSerializer=void 0;var kQ=Wa(),PQ=Qa();mS.AppUsageStatsOutSerializer={_fromJsonObject(e){return{id:e.id,status:kQ.BackgroundTaskStatusSerializer._fromJsonObject(e.status),task:PQ.BackgroundTaskTypeSerializer._fromJsonObject(e.task),unresolvedAppIds:e.unresolvedAppIds}},_toJsonObject(e){return{id:e.id,status:kQ.BackgroundTaskStatusSerializer._toJsonObject(e.status),task:PQ.BackgroundTaskTypeSerializer._toJsonObject(e.task),unresolvedAppIds:e.unresolvedAppIds}}}});var OQ=M(hS=>{"use strict";Object.defineProperty(hS,"__esModule",{value:!0});hS.Statistics=void 0;var WTe=TQ(),QTe=EQ(),XTe=IQ(),fS=nr(),mN=class{static{a(this,"Statistics")}constructor(t){this.requestCtx=t}aggregateAppStats(t,r){let n=new fS.SvixRequest(fS.HttpMethod.POST,"/api/v1/stats/usage/app");return n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.setBody(QTe.AppUsageStatsInSerializer._toJsonObject(t)),n.send(this.requestCtx,XTe.AppUsageStatsOutSerializer._fromJsonObject)}aggregateEventTypes(){return new fS.SvixRequest(fS.HttpMethod.PUT,"/api/v1/stats/usage/event-types").send(this.requestCtx,WTe.AggregateEventTypesOutSerializer._fromJsonObject)}};hS.Statistics=mN});var AQ=M(gS=>{"use strict";Object.defineProperty(gS,"__esModule",{value:!0});gS.HttpSinkHeadersPatchInSerializer=void 0;gS.HttpSinkHeadersPatchInSerializer={_fromJsonObject(e){return{headers:e.headers}},_toJsonObject(e){return{headers:e.headers}}}});var CQ=M(yS=>{"use strict";Object.defineProperty(yS,"__esModule",{value:!0});yS.SinkTransformationOutSerializer=void 0;yS.SinkTransformationOutSerializer={_fromJsonObject(e){return{code:e.code,enabled:e.enabled}},_toJsonObject(e){return{code:e.code,enabled:e.enabled}}}});var fN=M(vS=>{"use strict";Object.defineProperty(vS,"__esModule",{value:!0});vS.StreamEventTypeOutSerializer=void 0;vS.StreamEventTypeOutSerializer={_fromJsonObject(e){return{archived:e.archived,createdAt:new Date(e.createdAt),deprecated:e.deprecated,description:e.description,featureFlags:e.featureFlags,name:e.name,updatedAt:new Date(e.updatedAt)}},_toJsonObject(e){return{archived:e.archived,createdAt:e.createdAt,deprecated:e.deprecated,description:e.description,featureFlags:e.featureFlags,name:e.name,updatedAt:e.updatedAt}}}});var $Q=M(_S=>{"use strict";Object.defineProperty(_S,"__esModule",{value:!0});_S.ListResponseStreamEventTypeOutSerializer=void 0;var RQ=fN();_S.ListResponseStreamEventTypeOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>RQ.StreamEventTypeOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>RQ.StreamEventTypeOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var NQ=M(bS=>{"use strict";Object.defineProperty(bS,"__esModule",{value:!0});bS.StreamEventTypeInSerializer=void 0;bS.StreamEventTypeInSerializer={_fromJsonObject(e){return{archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlags:e.featureFlags,name:e.name}},_toJsonObject(e){return{archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlags:e.featureFlags,name:e.name}}}});var zQ=M(SS=>{"use strict";Object.defineProperty(SS,"__esModule",{value:!0});SS.StreamEventTypePatchSerializer=void 0;SS.StreamEventTypePatchSerializer={_fromJsonObject(e){return{archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlags:e.featureFlags,name:e.name}},_toJsonObject(e){return{archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlags:e.featureFlags,name:e.name}}}});var DQ=M(xS=>{"use strict";Object.defineProperty(xS,"__esModule",{value:!0});xS.StreamingEventType=void 0;var YTe=$Q(),jQ=NQ(),wS=fN(),eEe=zQ(),uo=nr(),hN=class{static{a(this,"StreamingEventType")}constructor(t){this.requestCtx=t}list(t){let r=new uo.SvixRequest(uo.HttpMethod.GET,"/api/v1/stream/event-type");return r.setQueryParam("limit",t?.limit),r.setQueryParam("iterator",t?.iterator),r.setQueryParam("order",t?.order),r.setQueryParam("include_archived",t?.includeArchived),r.send(this.requestCtx,YTe.ListResponseStreamEventTypeOutSerializer._fromJsonObject)}create(t,r){let n=new uo.SvixRequest(uo.HttpMethod.POST,"/api/v1/stream/event-type");return n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.setBody(jQ.StreamEventTypeInSerializer._toJsonObject(t)),n.send(this.requestCtx,wS.StreamEventTypeOutSerializer._fromJsonObject)}get(t){let r=new uo.SvixRequest(uo.HttpMethod.GET,"/api/v1/stream/event-type/{name}");return r.setPathParam("name",t),r.send(this.requestCtx,wS.StreamEventTypeOutSerializer._fromJsonObject)}update(t,r){let n=new uo.SvixRequest(uo.HttpMethod.PUT,"/api/v1/stream/event-type/{name}");return n.setPathParam("name",t),n.setBody(jQ.StreamEventTypeInSerializer._toJsonObject(r)),n.send(this.requestCtx,wS.StreamEventTypeOutSerializer._fromJsonObject)}delete(t,r){let n=new uo.SvixRequest(uo.HttpMethod.DELETE,"/api/v1/stream/event-type/{name}");return n.setPathParam("name",t),n.setQueryParam("expunge",r?.expunge),n.sendNoResponseBody(this.requestCtx)}patch(t,r){let n=new uo.SvixRequest(uo.HttpMethod.PATCH,"/api/v1/stream/event-type/{name}");return n.setPathParam("name",t),n.setBody(eEe.StreamEventTypePatchSerializer._toJsonObject(r)),n.send(this.requestCtx,wS.StreamEventTypeOutSerializer._fromJsonObject)}};xS.StreamingEventType=hN});var MQ=M(TS=>{"use strict";Object.defineProperty(TS,"__esModule",{value:!0});TS.EventInSerializer=void 0;TS.EventInSerializer={_fromJsonObject(e){return{eventType:e.eventType,payload:e.payload}},_toJsonObject(e){return{eventType:e.eventType,payload:e.payload}}}});var gN=M(ES=>{"use strict";Object.defineProperty(ES,"__esModule",{value:!0});ES.StreamInSerializer=void 0;ES.StreamInSerializer={_fromJsonObject(e){return{metadata:e.metadata,name:e.name,uid:e.uid}},_toJsonObject(e){return{metadata:e.metadata,name:e.name,uid:e.uid}}}});var LQ=M(kS=>{"use strict";Object.defineProperty(kS,"__esModule",{value:!0});kS.CreateStreamEventsInSerializer=void 0;var qQ=MQ(),UQ=gN();kS.CreateStreamEventsInSerializer={_fromJsonObject(e){return{events:e.events.map(t=>qQ.EventInSerializer._fromJsonObject(t)),stream:e.stream?UQ.StreamInSerializer._fromJsonObject(e.stream):void 0}},_toJsonObject(e){return{events:e.events.map(t=>qQ.EventInSerializer._toJsonObject(t)),stream:e.stream?UQ.StreamInSerializer._toJsonObject(e.stream):void 0}}}});var FQ=M(PS=>{"use strict";Object.defineProperty(PS,"__esModule",{value:!0});PS.CreateStreamEventsOutSerializer=void 0;PS.CreateStreamEventsOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var BQ=M(IS=>{"use strict";Object.defineProperty(IS,"__esModule",{value:!0});IS.EventOutSerializer=void 0;IS.EventOutSerializer={_fromJsonObject(e){return{eventType:e.eventType,payload:e.payload,timestamp:new Date(e.timestamp)}},_toJsonObject(e){return{eventType:e.eventType,payload:e.payload,timestamp:e.timestamp}}}});var HQ=M(OS=>{"use strict";Object.defineProperty(OS,"__esModule",{value:!0});OS.EventStreamOutSerializer=void 0;var JQ=BQ();OS.EventStreamOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>JQ.EventOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator}},_toJsonObject(e){return{data:e.data.map(t=>JQ.EventOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator}}}});var VQ=M(CS=>{"use strict";Object.defineProperty(CS,"__esModule",{value:!0});CS.StreamingEvents=void 0;var tEe=LQ(),rEe=FQ(),nEe=HQ(),AS=nr(),yN=class{static{a(this,"StreamingEvents")}constructor(t){this.requestCtx=t}create(t,r,n){let o=new AS.SvixRequest(AS.HttpMethod.POST,"/api/v1/stream/{stream_id}/events");return o.setPathParam("stream_id",t),o.setHeaderParam("idempotency-key",n?.idempotencyKey),o.setBody(tEe.CreateStreamEventsInSerializer._toJsonObject(r)),o.send(this.requestCtx,rEe.CreateStreamEventsOutSerializer._fromJsonObject)}get(t,r,n){let o=new AS.SvixRequest(AS.HttpMethod.GET,"/api/v1/stream/{stream_id}/sink/{sink_id}/events");return o.setPathParam("stream_id",t),o.setPathParam("sink_id",r),o.setQueryParam("limit",n?.limit),o.setQueryParam("iterator",n?.iterator),o.setQueryParam("after",n?.after),o.send(this.requestCtx,nEe.EventStreamOutSerializer._fromJsonObject)}};CS.StreamingEvents=yN});var ZQ=M(RS=>{"use strict";Object.defineProperty(RS,"__esModule",{value:!0});RS.EmptyResponseSerializer=void 0;RS.EmptyResponseSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var vN=M($S=>{"use strict";Object.defineProperty($S,"__esModule",{value:!0});$S.AzureBlobStorageConfigSerializer=void 0;$S.AzureBlobStorageConfigSerializer={_fromJsonObject(e){return{accessKey:e.accessKey,account:e.account,container:e.container}},_toJsonObject(e){return{accessKey:e.accessKey,account:e.account,container:e.container}}}});var _N=M(NS=>{"use strict";Object.defineProperty(NS,"__esModule",{value:!0});NS.GoogleCloudStorageConfigSerializer=void 0;NS.GoogleCloudStorageConfigSerializer={_fromJsonObject(e){return{bucket:e.bucket,credentials:e.credentials}},_toJsonObject(e){return{bucket:e.bucket,credentials:e.credentials}}}});var bN=M(zS=>{"use strict";Object.defineProperty(zS,"__esModule",{value:!0});zS.S3ConfigSerializer=void 0;zS.S3ConfigSerializer={_fromJsonObject(e){return{accessKeyId:e.accessKeyId,bucket:e.bucket,region:e.region,secretAccessKey:e.secretAccessKey}},_toJsonObject(e){return{accessKeyId:e.accessKeyId,bucket:e.bucket,region:e.region,secretAccessKey:e.secretAccessKey}}}});var SN=M(jS=>{"use strict";Object.defineProperty(jS,"__esModule",{value:!0});jS.SinkHttpConfigSerializer=void 0;jS.SinkHttpConfigSerializer={_fromJsonObject(e){return{headers:e.headers,key:e.key,url:e.url}},_toJsonObject(e){return{headers:e.headers,key:e.key,url:e.url}}}});var wN=M(DS=>{"use strict";Object.defineProperty(DS,"__esModule",{value:!0});DS.SinkOtelV1ConfigSerializer=void 0;DS.SinkOtelV1ConfigSerializer={_fromJsonObject(e){return{headers:e.headers,url:e.url}},_toJsonObject(e){return{headers:e.headers,url:e.url}}}});var xN=M(Ws=>{"use strict";Object.defineProperty(Ws,"__esModule",{value:!0});Ws.SinkStatusSerializer=Ws.SinkStatus=void 0;var oEe;(function(e){e.Enabled="enabled",e.Paused="paused",e.Disabled="disabled",e.Retrying="retrying"})(oEe=Ws.SinkStatus||(Ws.SinkStatus={}));Ws.SinkStatusSerializer={_fromJsonObject(e){return e},_toJsonObject(e){return e}}});var TN=M(MS=>{"use strict";Object.defineProperty(MS,"__esModule",{value:!0});MS.StreamSinkOutSerializer=void 0;var KQ=vN(),GQ=_N(),WQ=bN(),QQ=SN(),XQ=wN(),YQ=xN();MS.StreamSinkOutSerializer={_fromJsonObject(e){let t=e.type;function r(n){switch(n){case"poller":return{};case"azureBlobStorage":return KQ.AzureBlobStorageConfigSerializer._fromJsonObject(e.config);case"otelTracing":return XQ.SinkOtelV1ConfigSerializer._fromJsonObject(e.config);case"http":return QQ.SinkHttpConfigSerializer._fromJsonObject(e.config);case"amazonS3":return WQ.S3ConfigSerializer._fromJsonObject(e.config);case"googleCloudStorage":return GQ.GoogleCloudStorageConfigSerializer._fromJsonObject(e.config);default:throw new Error(`Unexpected type: ${n}`)}}return a(r,"getConfig"),{type:t,config:r(t),batchSize:e.batchSize,createdAt:new Date(e.createdAt),currentIterator:e.currentIterator,eventTypes:e.eventTypes,failureReason:e.failureReason,id:e.id,maxWaitSecs:e.maxWaitSecs,metadata:e.metadata,nextRetryAt:e.nextRetryAt?new Date(e.nextRetryAt):null,status:YQ.SinkStatusSerializer._fromJsonObject(e.status),uid:e.uid,updatedAt:new Date(e.updatedAt)}},_toJsonObject(e){let t;switch(e.type){case"poller":t={};break;case"azureBlobStorage":t=KQ.AzureBlobStorageConfigSerializer._toJsonObject(e.config);break;case"otelTracing":t=XQ.SinkOtelV1ConfigSerializer._toJsonObject(e.config);break;case"http":t=QQ.SinkHttpConfigSerializer._toJsonObject(e.config);break;case"amazonS3":t=WQ.S3ConfigSerializer._toJsonObject(e.config);break;case"googleCloudStorage":t=GQ.GoogleCloudStorageConfigSerializer._toJsonObject(e.config);break}return{type:e.type,config:t,batchSize:e.batchSize,createdAt:e.createdAt,currentIterator:e.currentIterator,eventTypes:e.eventTypes,failureReason:e.failureReason,id:e.id,maxWaitSecs:e.maxWaitSecs,metadata:e.metadata,nextRetryAt:e.nextRetryAt,status:YQ.SinkStatusSerializer._toJsonObject(e.status),uid:e.uid,updatedAt:e.updatedAt}}}});var t7=M(qS=>{"use strict";Object.defineProperty(qS,"__esModule",{value:!0});qS.ListResponseStreamSinkOutSerializer=void 0;var e7=TN();qS.ListResponseStreamSinkOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>e7.StreamSinkOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>e7.StreamSinkOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var r7=M(US=>{"use strict";Object.defineProperty(US,"__esModule",{value:!0});US.SinkSecretOutSerializer=void 0;US.SinkSecretOutSerializer={_fromJsonObject(e){return{key:e.key}},_toJsonObject(e){return{key:e.key}}}});var n7=M(LS=>{"use strict";Object.defineProperty(LS,"__esModule",{value:!0});LS.SinkTransformInSerializer=void 0;LS.SinkTransformInSerializer={_fromJsonObject(e){return{code:e.code}},_toJsonObject(e){return{code:e.code}}}});var FS=M(Qs=>{"use strict";Object.defineProperty(Qs,"__esModule",{value:!0});Qs.SinkStatusInSerializer=Qs.SinkStatusIn=void 0;var iEe;(function(e){e.Enabled="enabled",e.Disabled="disabled"})(iEe=Qs.SinkStatusIn||(Qs.SinkStatusIn={}));Qs.SinkStatusInSerializer={_fromJsonObject(e){return e},_toJsonObject(e){return e}}});var l7=M(BS=>{"use strict";Object.defineProperty(BS,"__esModule",{value:!0});BS.StreamSinkInSerializer=void 0;var o7=vN(),i7=_N(),a7=bN(),s7=SN(),u7=wN(),c7=FS();BS.StreamSinkInSerializer={_fromJsonObject(e){let t=e.type;function r(n){switch(n){case"poller":return{};case"azureBlobStorage":return o7.AzureBlobStorageConfigSerializer._fromJsonObject(e.config);case"otelTracing":return u7.SinkOtelV1ConfigSerializer._fromJsonObject(e.config);case"http":return s7.SinkHttpConfigSerializer._fromJsonObject(e.config);case"amazonS3":return a7.S3ConfigSerializer._fromJsonObject(e.config);case"googleCloudStorage":return i7.GoogleCloudStorageConfigSerializer._fromJsonObject(e.config);default:throw new Error(`Unexpected type: ${n}`)}}return a(r,"getConfig"),{type:t,config:r(t),batchSize:e.batchSize,eventTypes:e.eventTypes,maxWaitSecs:e.maxWaitSecs,metadata:e.metadata,status:e.status?c7.SinkStatusInSerializer._fromJsonObject(e.status):void 0,uid:e.uid}},_toJsonObject(e){let t;switch(e.type){case"poller":t={};break;case"azureBlobStorage":t=o7.AzureBlobStorageConfigSerializer._toJsonObject(e.config);break;case"otelTracing":t=u7.SinkOtelV1ConfigSerializer._toJsonObject(e.config);break;case"http":t=s7.SinkHttpConfigSerializer._toJsonObject(e.config);break;case"amazonS3":t=a7.S3ConfigSerializer._toJsonObject(e.config);break;case"googleCloudStorage":t=i7.GoogleCloudStorageConfigSerializer._toJsonObject(e.config);break}return{type:e.type,config:t,batchSize:e.batchSize,eventTypes:e.eventTypes,maxWaitSecs:e.maxWaitSecs,metadata:e.metadata,status:e.status?c7.SinkStatusInSerializer._toJsonObject(e.status):void 0,uid:e.uid}}}});var d7=M(JS=>{"use strict";Object.defineProperty(JS,"__esModule",{value:!0});JS.AmazonS3PatchConfigSerializer=void 0;JS.AmazonS3PatchConfigSerializer={_fromJsonObject(e){return{accessKeyId:e.accessKeyId,bucket:e.bucket,region:e.region,secretAccessKey:e.secretAccessKey}},_toJsonObject(e){return{accessKeyId:e.accessKeyId,bucket:e.bucket,region:e.region,secretAccessKey:e.secretAccessKey}}}});var p7=M(HS=>{"use strict";Object.defineProperty(HS,"__esModule",{value:!0});HS.AzureBlobStoragePatchConfigSerializer=void 0;HS.AzureBlobStoragePatchConfigSerializer={_fromJsonObject(e){return{accessKey:e.accessKey,account:e.account,container:e.container}},_toJsonObject(e){return{accessKey:e.accessKey,account:e.account,container:e.container}}}});var m7=M(VS=>{"use strict";Object.defineProperty(VS,"__esModule",{value:!0});VS.GoogleCloudStoragePatchConfigSerializer=void 0;VS.GoogleCloudStoragePatchConfigSerializer={_fromJsonObject(e){return{bucket:e.bucket,credentials:e.credentials}},_toJsonObject(e){return{bucket:e.bucket,credentials:e.credentials}}}});var f7=M(ZS=>{"use strict";Object.defineProperty(ZS,"__esModule",{value:!0});ZS.HttpPatchConfigSerializer=void 0;ZS.HttpPatchConfigSerializer={_fromJsonObject(e){return{url:e.url}},_toJsonObject(e){return{url:e.url}}}});var h7=M(KS=>{"use strict";Object.defineProperty(KS,"__esModule",{value:!0});KS.OtelTracingPatchConfigSerializer=void 0;KS.OtelTracingPatchConfigSerializer={_fromJsonObject(e){return{url:e.url}},_toJsonObject(e){return{url:e.url}}}});var w7=M(GS=>{"use strict";Object.defineProperty(GS,"__esModule",{value:!0});GS.StreamSinkPatchSerializer=void 0;var g7=d7(),y7=p7(),v7=m7(),_7=f7(),b7=h7(),S7=FS();GS.StreamSinkPatchSerializer={_fromJsonObject(e){let t=e.type;function r(n){switch(n){case"poller":return{};case"azureBlobStorage":return y7.AzureBlobStoragePatchConfigSerializer._fromJsonObject(e.config);case"otelTracing":return b7.OtelTracingPatchConfigSerializer._fromJsonObject(e.config);case"http":return _7.HttpPatchConfigSerializer._fromJsonObject(e.config);case"amazonS3":return g7.AmazonS3PatchConfigSerializer._fromJsonObject(e.config);case"googleCloudStorage":return v7.GoogleCloudStoragePatchConfigSerializer._fromJsonObject(e.config);default:throw new Error(`Unexpected type: ${n}`)}}return a(r,"getConfig"),{type:t,config:r(t),batchSize:e.batchSize,eventTypes:e.eventTypes,maxWaitSecs:e.maxWaitSecs,metadata:e.metadata,status:e.status?S7.SinkStatusInSerializer._fromJsonObject(e.status):void 0,uid:e.uid}},_toJsonObject(e){let t;switch(e.type){case"poller":t={};break;case"azureBlobStorage":t=y7.AzureBlobStoragePatchConfigSerializer._toJsonObject(e.config);break;case"otelTracing":t=b7.OtelTracingPatchConfigSerializer._toJsonObject(e.config);break;case"http":t=_7.HttpPatchConfigSerializer._toJsonObject(e.config);break;case"amazonS3":t=g7.AmazonS3PatchConfigSerializer._toJsonObject(e.config);break;case"googleCloudStorage":t=v7.GoogleCloudStoragePatchConfigSerializer._toJsonObject(e.config);break}return{type:e.type,config:t,batchSize:e.batchSize,eventTypes:e.eventTypes,maxWaitSecs:e.maxWaitSecs,metadata:e.metadata,status:e.status?S7.SinkStatusInSerializer._toJsonObject(e.status):void 0,uid:e.uid}}}});var E7=M(QS=>{"use strict";Object.defineProperty(QS,"__esModule",{value:!0});QS.StreamingSink=void 0;var x7=ZQ(),aEe=q$(),sEe=t7(),uEe=r7(),cEe=n7(),T7=l7(),WS=TN(),lEe=w7(),jr=nr(),EN=class{static{a(this,"StreamingSink")}constructor(t){this.requestCtx=t}list(t,r){let n=new jr.SvixRequest(jr.HttpMethod.GET,"/api/v1/stream/{stream_id}/sink");return n.setPathParam("stream_id",t),n.setQueryParam("limit",r?.limit),n.setQueryParam("iterator",r?.iterator),n.setQueryParam("order",r?.order),n.send(this.requestCtx,sEe.ListResponseStreamSinkOutSerializer._fromJsonObject)}create(t,r,n){let o=new jr.SvixRequest(jr.HttpMethod.POST,"/api/v1/stream/{stream_id}/sink");return o.setPathParam("stream_id",t),o.setHeaderParam("idempotency-key",n?.idempotencyKey),o.setBody(T7.StreamSinkInSerializer._toJsonObject(r)),o.send(this.requestCtx,WS.StreamSinkOutSerializer._fromJsonObject)}get(t,r){let n=new jr.SvixRequest(jr.HttpMethod.GET,"/api/v1/stream/{stream_id}/sink/{sink_id}");return n.setPathParam("stream_id",t),n.setPathParam("sink_id",r),n.send(this.requestCtx,WS.StreamSinkOutSerializer._fromJsonObject)}update(t,r,n){let o=new jr.SvixRequest(jr.HttpMethod.PUT,"/api/v1/stream/{stream_id}/sink/{sink_id}");return o.setPathParam("stream_id",t),o.setPathParam("sink_id",r),o.setBody(T7.StreamSinkInSerializer._toJsonObject(n)),o.send(this.requestCtx,WS.StreamSinkOutSerializer._fromJsonObject)}delete(t,r){let n=new jr.SvixRequest(jr.HttpMethod.DELETE,"/api/v1/stream/{stream_id}/sink/{sink_id}");return n.setPathParam("stream_id",t),n.setPathParam("sink_id",r),n.sendNoResponseBody(this.requestCtx)}patch(t,r,n){let o=new jr.SvixRequest(jr.HttpMethod.PATCH,"/api/v1/stream/{stream_id}/sink/{sink_id}");return o.setPathParam("stream_id",t),o.setPathParam("sink_id",r),o.setBody(lEe.StreamSinkPatchSerializer._toJsonObject(n)),o.send(this.requestCtx,WS.StreamSinkOutSerializer._fromJsonObject)}getSecret(t,r){let n=new jr.SvixRequest(jr.HttpMethod.GET,"/api/v1/stream/{stream_id}/sink/{sink_id}/secret");return n.setPathParam("stream_id",t),n.setPathParam("sink_id",r),n.send(this.requestCtx,uEe.SinkSecretOutSerializer._fromJsonObject)}rotateSecret(t,r,n,o){let i=new jr.SvixRequest(jr.HttpMethod.POST,"/api/v1/stream/{stream_id}/sink/{sink_id}/secret/rotate");return i.setPathParam("stream_id",t),i.setPathParam("sink_id",r),i.setHeaderParam("idempotency-key",o?.idempotencyKey),i.setBody(aEe.EndpointSecretRotateInSerializer._toJsonObject(n)),i.send(this.requestCtx,x7.EmptyResponseSerializer._fromJsonObject)}transformationPartialUpdate(t,r,n){let o=new jr.SvixRequest(jr.HttpMethod.PATCH,"/api/v1/stream/{stream_id}/sink/{sink_id}/transformation");return o.setPathParam("stream_id",t),o.setPathParam("sink_id",r),o.setBody(cEe.SinkTransformInSerializer._toJsonObject(n)),o.send(this.requestCtx,x7.EmptyResponseSerializer._fromJsonObject)}};QS.StreamingSink=EN});var kN=M(XS=>{"use strict";Object.defineProperty(XS,"__esModule",{value:!0});XS.StreamOutSerializer=void 0;XS.StreamOutSerializer={_fromJsonObject(e){return{createdAt:new Date(e.createdAt),id:e.id,metadata:e.metadata,name:e.name,uid:e.uid,updatedAt:new Date(e.updatedAt)}},_toJsonObject(e){return{createdAt:e.createdAt,id:e.id,metadata:e.metadata,name:e.name,uid:e.uid,updatedAt:e.updatedAt}}}});var P7=M(YS=>{"use strict";Object.defineProperty(YS,"__esModule",{value:!0});YS.ListResponseStreamOutSerializer=void 0;var k7=kN();YS.ListResponseStreamOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>k7.StreamOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>k7.StreamOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var I7=M(ew=>{"use strict";Object.defineProperty(ew,"__esModule",{value:!0});ew.StreamPatchSerializer=void 0;ew.StreamPatchSerializer={_fromJsonObject(e){return{description:e.description,metadata:e.metadata,uid:e.uid}},_toJsonObject(e){return{description:e.description,metadata:e.metadata,uid:e.uid}}}});var A7=M(rw=>{"use strict";Object.defineProperty(rw,"__esModule",{value:!0});rw.StreamingStream=void 0;var dEe=P7(),O7=gN(),tw=kN(),pEe=I7(),co=nr(),PN=class{static{a(this,"StreamingStream")}constructor(t){this.requestCtx=t}list(t){let r=new co.SvixRequest(co.HttpMethod.GET,"/api/v1/stream");return r.setQueryParam("limit",t?.limit),r.setQueryParam("iterator",t?.iterator),r.setQueryParam("order",t?.order),r.send(this.requestCtx,dEe.ListResponseStreamOutSerializer._fromJsonObject)}create(t,r){let n=new co.SvixRequest(co.HttpMethod.POST,"/api/v1/stream");return n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.setBody(O7.StreamInSerializer._toJsonObject(t)),n.send(this.requestCtx,tw.StreamOutSerializer._fromJsonObject)}get(t){let r=new co.SvixRequest(co.HttpMethod.GET,"/api/v1/stream/{stream_id}");return r.setPathParam("stream_id",t),r.send(this.requestCtx,tw.StreamOutSerializer._fromJsonObject)}update(t,r){let n=new co.SvixRequest(co.HttpMethod.PUT,"/api/v1/stream/{stream_id}");return n.setPathParam("stream_id",t),n.setBody(O7.StreamInSerializer._toJsonObject(r)),n.send(this.requestCtx,tw.StreamOutSerializer._fromJsonObject)}delete(t){let r=new co.SvixRequest(co.HttpMethod.DELETE,"/api/v1/stream/{stream_id}");return r.setPathParam("stream_id",t),r.sendNoResponseBody(this.requestCtx)}patch(t,r){let n=new co.SvixRequest(co.HttpMethod.PATCH,"/api/v1/stream/{stream_id}");return n.setPathParam("stream_id",t),n.setBody(pEe.StreamPatchSerializer._toJsonObject(r)),n.send(this.requestCtx,tw.StreamOutSerializer._fromJsonObject)}};rw.StreamingStream=PN});var R7=M(nw=>{"use strict";Object.defineProperty(nw,"__esModule",{value:!0});nw.Streaming=void 0;var C7=D$(),mEe=AQ(),fEe=CQ(),hEe=DQ(),gEe=VQ(),yEe=E7(),vEe=A7(),il=nr(),IN=class{static{a(this,"Streaming")}constructor(t){this.requestCtx=t}get event_type(){return new hEe.StreamingEventType(this.requestCtx)}get events(){return new gEe.StreamingEvents(this.requestCtx)}get sink(){return new yEe.StreamingSink(this.requestCtx)}get stream(){return new vEe.StreamingStream(this.requestCtx)}sinkHeadersGet(t,r){let n=new il.SvixRequest(il.HttpMethod.GET,"/api/v1/stream/{stream_id}/sink/{sink_id}/headers");return n.setPathParam("stream_id",t),n.setPathParam("sink_id",r),n.send(this.requestCtx,C7.EndpointHeadersOutSerializer._fromJsonObject)}sinkHeadersPatch(t,r,n){let o=new il.SvixRequest(il.HttpMethod.PATCH,"/api/v1/stream/{stream_id}/sink/{sink_id}/headers");return o.setPathParam("stream_id",t),o.setPathParam("sink_id",r),o.setBody(mEe.HttpSinkHeadersPatchInSerializer._toJsonObject(n)),o.send(this.requestCtx,C7.EndpointHeadersOutSerializer._fromJsonObject)}sinkTransformationGet(t,r){let n=new il.SvixRequest(il.HttpMethod.GET,"/api/v1/stream/{stream_id}/sink/{sink_id}/transformation");return n.setPathParam("stream_id",t),n.setPathParam("sink_id",r),n.send(this.requestCtx,fEe.SinkTransformationOutSerializer._fromJsonObject)}};nw.Streaming=IN});var $7=M(Xa=>{"use strict";Object.defineProperty(Xa,"__esModule",{value:!0});Xa.HTTPValidationError=Xa.ValidationError=Xa.HttpErrorOut=void 0;var al=class e{static{a(this,"HttpErrorOut")}static getAttributeTypeMap(){return e.attributeTypeMap}};Xa.HttpErrorOut=al;al.discriminator=void 0;al.mapping=void 0;al.attributeTypeMap=[{name:"code",baseName:"code",type:"string",format:""},{name:"detail",baseName:"detail",type:"string",format:""}];var sl=class e{static{a(this,"ValidationError")}static getAttributeTypeMap(){return e.attributeTypeMap}};Xa.ValidationError=sl;sl.discriminator=void 0;sl.mapping=void 0;sl.attributeTypeMap=[{name:"loc",baseName:"loc",type:"Array<string>",format:""},{name:"msg",baseName:"msg",type:"string",format:""},{name:"type",baseName:"type",type:"string",format:""}];var ul=class e{static{a(this,"HTTPValidationError")}static getAttributeTypeMap(){return e.attributeTypeMap}};Xa.HTTPValidationError=ul;ul.discriminator=void 0;ul.mapping=void 0;ul.attributeTypeMap=[{name:"detail",baseName:"detail",type:"Array<ValidationError>",format:""}]});var z7=M(ow=>{"use strict";Object.defineProperty(ow,"__esModule",{value:!0});ow.timingSafeEqual=void 0;function N7(e,t=""){if(!e)throw new Error(t)}a(N7,"assert");function _Ee(e,t){if(e.byteLength!==t.byteLength)return!1;e instanceof DataView||(e=new DataView(ArrayBuffer.isView(e)?e.buffer:e)),t instanceof DataView||(t=new DataView(ArrayBuffer.isView(t)?t.buffer:t)),N7(e instanceof DataView),N7(t instanceof DataView);let r=e.byteLength,n=0,o=-1;for(;++o<r;)n|=e.getUint8(o)^t.getUint8(o);return n===0}a(_Ee,"timingSafeEqual");ow.timingSafeEqual=_Ee});var M7=M(Zn=>{"use strict";var bEe=Zn&&Zn.__extends||(function(){var e=a(function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},e(t,r)},"extendStatics");return function(t,r){e(t,r);function n(){this.constructor=t}a(n,"__"),t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(Zn,"__esModule",{value:!0});var Tr=256,ON=(function(){function e(t){t===void 0&&(t="="),this._paddingCharacter=t}return a(e,"Coder"),e.prototype.encodedLength=function(t){return this._paddingCharacter?(t+2)/3*4|0:(t*8+5)/6|0},e.prototype.encode=function(t){for(var r="",n=0;n<t.length-2;n+=3){var o=t[n]<<16|t[n+1]<<8|t[n+2];r+=this._encodeByte(o>>>18&63),r+=this._encodeByte(o>>>12&63),r+=this._encodeByte(o>>>6&63),r+=this._encodeByte(o>>>0&63)}var i=t.length-n;if(i>0){var o=t[n]<<16|(i===2?t[n+1]<<8:0);r+=this._encodeByte(o>>>18&63),r+=this._encodeByte(o>>>12&63),i===2?r+=this._encodeByte(o>>>6&63):r+=this._paddingCharacter||"",r+=this._paddingCharacter||""}return r},e.prototype.maxDecodedLength=function(t){return this._paddingCharacter?t/4*3|0:(t*6+7)/8|0},e.prototype.decodedLength=function(t){return this.maxDecodedLength(t.length-this._getPaddingLength(t))},e.prototype.decode=function(t){if(t.length===0)return new Uint8Array(0);for(var r=this._getPaddingLength(t),n=t.length-r,o=new Uint8Array(this.maxDecodedLength(n)),i=0,s=0,u=0,l=0,d=0,p=0,f=0;s<n-4;s+=4)l=this._decodeChar(t.charCodeAt(s+0)),d=this._decodeChar(t.charCodeAt(s+1)),p=this._decodeChar(t.charCodeAt(s+2)),f=this._decodeChar(t.charCodeAt(s+3)),o[i++]=l<<2|d>>>4,o[i++]=d<<4|p>>>2,o[i++]=p<<6|f,u|=l&Tr,u|=d&Tr,u|=p&Tr,u|=f&Tr;if(s<n-1&&(l=this._decodeChar(t.charCodeAt(s)),d=this._decodeChar(t.charCodeAt(s+1)),o[i++]=l<<2|d>>>4,u|=l&Tr,u|=d&Tr),s<n-2&&(p=this._decodeChar(t.charCodeAt(s+2)),o[i++]=d<<4|p>>>2,u|=p&Tr),s<n-3&&(f=this._decodeChar(t.charCodeAt(s+3)),o[i++]=p<<6|f,u|=f&Tr),u!==0)throw new Error("Base64Coder: incorrect characters for decoding");return o},e.prototype._encodeByte=function(t){var r=t;return r+=65,r+=25-t>>>8&6,r+=51-t>>>8&-75,r+=61-t>>>8&-15,r+=62-t>>>8&3,String.fromCharCode(r)},e.prototype._decodeChar=function(t){var r=Tr;return r+=(42-t&t-44)>>>8&-Tr+t-43+62,r+=(46-t&t-48)>>>8&-Tr+t-47+63,r+=(47-t&t-58)>>>8&-Tr+t-48+52,r+=(64-t&t-91)>>>8&-Tr+t-65+0,r+=(96-t&t-123)>>>8&-Tr+t-97+26,r},e.prototype._getPaddingLength=function(t){var r=0;if(this._paddingCharacter){for(var n=t.length-1;n>=0&&t[n]===this._paddingCharacter;n--)r++;if(t.length<4||r>2)throw new Error("Base64Coder: incorrect padding")}return r},e})();Zn.Coder=ON;var qm=new ON;function SEe(e){return qm.encode(e)}a(SEe,"encode");Zn.encode=SEe;function wEe(e){return qm.decode(e)}a(wEe,"decode");Zn.decode=wEe;var j7=(function(e){bEe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return a(t,"URLSafeCoder"),t.prototype._encodeByte=function(r){var n=r;return n+=65,n+=25-r>>>8&6,n+=51-r>>>8&-75,n+=61-r>>>8&-13,n+=62-r>>>8&49,String.fromCharCode(n)},t.prototype._decodeChar=function(r){var n=Tr;return n+=(44-r&r-46)>>>8&-Tr+r-45+62,n+=(94-r&r-96)>>>8&-Tr+r-95+63,n+=(47-r&r-58)>>>8&-Tr+r-48+52,n+=(64-r&r-91)>>>8&-Tr+r-65+0,n+=(96-r&r-123)>>>8&-Tr+r-97+26,n},t})(ON);Zn.URLSafeCoder=j7;var D7=new j7;function xEe(e){return D7.encode(e)}a(xEe,"encodeURLSafe");Zn.encodeURLSafe=xEe;function TEe(e){return D7.decode(e)}a(TEe,"decodeURLSafe");Zn.decodeURLSafe=TEe;Zn.encodedLength=function(e){return qm.encodedLength(e)};Zn.maxDecodedLength=function(e){return qm.maxDecodedLength(e)};Zn.decodedLength=function(e){return qm.decodedLength(e)}});var U7=M((q7,iw)=>{(function(e,t){var r={};t(r);var n=r.default;for(var o in r)n[o]=r[o];typeof iw=="object"&&typeof iw.exports=="object"?iw.exports=n:typeof define=="function"&&define.amd?define(function(){return n}):e.sha256=n})(q7,function(e){"use strict";e.__esModule=!0,e.digestLength=32,e.blockSize=64;var t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function r(f,m,y,g,h){for(var v,S,b,w,k,$,C,A,R,O,z,D,X;h>=64;){for(v=m[0],S=m[1],b=m[2],w=m[3],k=m[4],$=m[5],C=m[6],A=m[7],O=0;O<16;O++)z=g+O*4,f[O]=(y[z]&255)<<24|(y[z+1]&255)<<16|(y[z+2]&255)<<8|y[z+3]&255;for(O=16;O<64;O++)R=f[O-2],D=(R>>>17|R<<15)^(R>>>19|R<<13)^R>>>10,R=f[O-15],X=(R>>>7|R<<25)^(R>>>18|R<<14)^R>>>3,f[O]=(D+f[O-7]|0)+(X+f[O-16]|0);for(O=0;O<64;O++)D=(((k>>>6|k<<26)^(k>>>11|k<<21)^(k>>>25|k<<7))+(k&$^~k&C)|0)+(A+(t[O]+f[O]|0)|0)|0,X=((v>>>2|v<<30)^(v>>>13|v<<19)^(v>>>22|v<<10))+(v&S^v&b^S&b)|0,A=C,C=$,$=k,k=w+D|0,w=b,b=S,S=v,v=D+X|0;m[0]+=v,m[1]+=S,m[2]+=b,m[3]+=w,m[4]+=k,m[5]+=$,m[6]+=C,m[7]+=A,g+=64,h-=64}return g}a(r,"hashBlocks");var n=(function(){function f(){this.digestLength=e.digestLength,this.blockSize=e.blockSize,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}return a(f,"Hash"),f.prototype.reset=function(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this},f.prototype.clean=function(){for(var m=0;m<this.buffer.length;m++)this.buffer[m]=0;for(var m=0;m<this.temp.length;m++)this.temp[m]=0;this.reset()},f.prototype.update=function(m,y){if(y===void 0&&(y=m.length),this.finished)throw new Error("SHA256: can't update because hash was finished.");var g=0;if(this.bytesHashed+=y,this.bufferLength>0){for(;this.bufferLength<64&&y>0;)this.buffer[this.bufferLength++]=m[g++],y--;this.bufferLength===64&&(r(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(y>=64&&(g=r(this.temp,this.state,m,g,y),y%=64);y>0;)this.buffer[this.bufferLength++]=m[g++],y--;return this},f.prototype.finish=function(m){if(!this.finished){var y=this.bytesHashed,g=this.bufferLength,h=y/536870912|0,v=y<<3,S=y%64<56?64:128;this.buffer[g]=128;for(var b=g+1;b<S-8;b++)this.buffer[b]=0;this.buffer[S-8]=h>>>24&255,this.buffer[S-7]=h>>>16&255,this.buffer[S-6]=h>>>8&255,this.buffer[S-5]=h>>>0&255,this.buffer[S-4]=v>>>24&255,this.buffer[S-3]=v>>>16&255,this.buffer[S-2]=v>>>8&255,this.buffer[S-1]=v>>>0&255,r(this.temp,this.state,this.buffer,0,S),this.finished=!0}for(var b=0;b<8;b++)m[b*4+0]=this.state[b]>>>24&255,m[b*4+1]=this.state[b]>>>16&255,m[b*4+2]=this.state[b]>>>8&255,m[b*4+3]=this.state[b]>>>0&255;return this},f.prototype.digest=function(){var m=new Uint8Array(this.digestLength);return this.finish(m),m},f.prototype._saveState=function(m){for(var y=0;y<this.state.length;y++)m[y]=this.state[y]},f.prototype._restoreState=function(m,y){for(var g=0;g<this.state.length;g++)this.state[g]=m[g];this.bytesHashed=y,this.finished=!1,this.bufferLength=0},f})();e.Hash=n;var o=(function(){function f(m){this.inner=new n,this.outer=new n,this.blockSize=this.inner.blockSize,this.digestLength=this.inner.digestLength;var y=new Uint8Array(this.blockSize);if(m.length>this.blockSize)new n().update(m).finish(y).clean();else for(var g=0;g<m.length;g++)y[g]=m[g];for(var g=0;g<y.length;g++)y[g]^=54;this.inner.update(y);for(var g=0;g<y.length;g++)y[g]^=106;this.outer.update(y),this.istate=new Uint32Array(8),this.ostate=new Uint32Array(8),this.inner._saveState(this.istate),this.outer._saveState(this.ostate);for(var g=0;g<y.length;g++)y[g]=0}return a(f,"HMAC"),f.prototype.reset=function(){return this.inner._restoreState(this.istate,this.inner.blockSize),this.outer._restoreState(this.ostate,this.outer.blockSize),this},f.prototype.clean=function(){for(var m=0;m<this.istate.length;m++)this.ostate[m]=this.istate[m]=0;this.inner.clean(),this.outer.clean()},f.prototype.update=function(m){return this.inner.update(m),this},f.prototype.finish=function(m){return this.outer.finished?this.outer.finish(m):(this.inner.finish(m),this.outer.update(m,this.digestLength).finish(m)),this},f.prototype.digest=function(){var m=new Uint8Array(this.digestLength);return this.finish(m),m},f})();e.HMAC=o;function i(f){var m=new n().update(f),y=m.digest();return m.clean(),y}a(i,"hash"),e.hash=i,e.default=i;function s(f,m){var y=new o(f).update(m),g=y.digest();return y.clean(),g}a(s,"hmac"),e.hmac=s;function u(f,m,y,g){var h=g[0];if(h===0)throw new Error("hkdf: cannot expand more");m.reset(),h>1&&m.update(f),y&&m.update(y),m.update(g),m.finish(f),g[0]++}a(u,"fillBuffer");var l=new Uint8Array(e.digestLength);function d(f,m,y,g){m===void 0&&(m=l),g===void 0&&(g=32);for(var h=new Uint8Array([1]),v=s(m,f),S=new o(v),b=new Uint8Array(S.digestLength),w=b.length,k=new Uint8Array(g),$=0;$<g;$++)w===b.length&&(u(b,S,y,h),w=0),k[$]=b[w++];return S.clean(),b.fill(0),h.fill(0),k}a(d,"hkdf"),e.hkdf=d;function p(f,m,y,g){for(var h=new o(f),v=h.digestLength,S=new Uint8Array(4),b=new Uint8Array(v),w=new Uint8Array(v),k=new Uint8Array(g),$=0;$*v<g;$++){var C=$+1;S[0]=C>>>24&255,S[1]=C>>>16&255,S[2]=C>>>8&255,S[3]=C>>>0&255,h.reset(),h.update(m),h.update(S),h.finish(w);for(var A=0;A<v;A++)b[A]=w[A];for(var A=2;A<=y;A++){h.reset(),h.update(w).finish(w);for(var R=0;R<v;R++)b[R]^=w[R]}for(var A=0;A<v&&$*v+A<g;A++)k[$*v+A]=b[A]}for(var $=0;$<v;$++)b[$]=w[$]=0;for(var $=0;$<4;$++)S[$]=0;return h.clean(),k}a(p,"pbkdf2"),e.pbkdf2=p})});var B7=M(cl=>{"use strict";Object.defineProperty(cl,"__esModule",{value:!0});cl.Webhook=cl.WebhookVerificationError=void 0;var EEe=z7(),L7=M7(),kEe=U7(),F7=300,AN=class e extends Error{static{a(this,"ExtendableError")}constructor(t){super(t),Object.setPrototypeOf(this,e.prototype),this.name="ExtendableError",this.stack=new Error(t).stack}},Ya=class e extends AN{static{a(this,"WebhookVerificationError")}constructor(t){super(t),Object.setPrototypeOf(this,e.prototype),this.name="WebhookVerificationError"}};cl.WebhookVerificationError=Ya;var aw=class e{static{a(this,"Webhook")}constructor(t,r){if(!t)throw new Error("Secret can't be empty.");if(r?.format==="raw")t instanceof Uint8Array?this.key=t:this.key=Uint8Array.from(t,n=>n.charCodeAt(0));else{if(typeof t!="string")throw new Error("Expected secret to be of type string");t.startsWith(e.prefix)&&(t=t.substring(e.prefix.length)),this.key=L7.decode(t)}}verify(t,r){let n={};for(let m of Object.keys(r))n[m.toLowerCase()]=r[m];let o=n["svix-id"],i=n["svix-signature"],s=n["svix-timestamp"];if((!i||!o||!s)&&(o=n["webhook-id"],i=n["webhook-signature"],s=n["webhook-timestamp"],!i||!o||!s))throw new Ya("Missing required headers");let u=this.verifyTimestamp(s),d=this.sign(o,u,t).split(",")[1],p=i.split(" "),f=new globalThis.TextEncoder;for(let m of p){let[y,g]=m.split(",");if(y==="v1"&&(0,EEe.timingSafeEqual)(f.encode(g),f.encode(d)))return JSON.parse(t.toString())}throw new Ya("No matching signature found")}sign(t,r,n){if(typeof n!="string")if(n.constructor.name==="Buffer")n=n.toString();else throw new Error("Expected payload to be of type string or Buffer. Please refer to https://docs.svix.com/receiving/verifying-payloads/how for more information.");let o=new TextEncoder,i=Math.floor(r.getTime()/1e3),s=o.encode(`${t}.${i}.${n}`);return`v1,${L7.encode(kEe.hmac(this.key,s))}`}verifyTimestamp(t){let r=Math.floor(Date.now()/1e3),n=parseInt(t,10);if(Number.isNaN(n))throw new Ya("Invalid Signature Headers");if(r-n>F7)throw new Ya("Message timestamp too old");if(n>r+F7)throw new Ya("Message timestamp too new");return new Date(n*1e3)}};cl.Webhook=aw;aw.prefix="whsec_"});var J7=M(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});Xs.EndpointDisabledTriggerSerializer=Xs.EndpointDisabledTrigger=void 0;var PEe;(function(e){e.Manual="manual",e.Automatic="automatic"})(PEe=Xs.EndpointDisabledTrigger||(Xs.EndpointDisabledTrigger={}));Xs.EndpointDisabledTriggerSerializer={_fromJsonObject(e){return e},_toJsonObject(e){return e}}});var H7=M(Ys=>{"use strict";Object.defineProperty(Ys,"__esModule",{value:!0});Ys.OrderingSerializer=Ys.Ordering=void 0;var IEe;(function(e){e.Ascending="ascending",e.Descending="descending"})(IEe=Ys.Ordering||(Ys.Ordering={}));Ys.OrderingSerializer={_fromJsonObject(e){return e},_toJsonObject(e){return e}}});var V7=M(eu=>{"use strict";Object.defineProperty(eu,"__esModule",{value:!0});eu.StatusCodeClassSerializer=eu.StatusCodeClass=void 0;var OEe;(function(e){e[e.CodeNone=0]="CodeNone",e[e.Code1xx=100]="Code1xx",e[e.Code2xx=200]="Code2xx",e[e.Code3xx=300]="Code3xx",e[e.Code4xx=400]="Code4xx",e[e.Code5xx=500]="Code5xx"})(OEe=eu.StatusCodeClass||(eu.StatusCodeClass={}));eu.StatusCodeClassSerializer={_fromJsonObject(e){return e},_toJsonObject(e){return e}}});var Z7=M(Jt=>{"use strict";Object.defineProperty(Jt,"__esModule",{value:!0});Jt.StatusCodeClass=Jt.SinkStatusIn=Jt.SinkStatus=Jt.Ordering=Jt.MessageStatusText=Jt.MessageStatus=Jt.MessageAttemptTriggerType=Jt.EndpointDisabledTrigger=Jt.ConnectorKind=Jt.BackgroundTaskType=Jt.BackgroundTaskStatus=Jt.AppPortalCapability=void 0;var AEe=A$();Object.defineProperty(Jt,"AppPortalCapability",{enumerable:!0,get:a(function(){return AEe.AppPortalCapability},"get")});var CEe=Wa();Object.defineProperty(Jt,"BackgroundTaskStatus",{enumerable:!0,get:a(function(){return CEe.BackgroundTaskStatus},"get")});var REe=Qa();Object.defineProperty(Jt,"BackgroundTaskType",{enumerable:!0,get:a(function(){return REe.BackgroundTaskType},"get")});var $Ee=rl();Object.defineProperty(Jt,"ConnectorKind",{enumerable:!0,get:a(function(){return $Ee.ConnectorKind},"get")});var NEe=J7();Object.defineProperty(Jt,"EndpointDisabledTrigger",{enumerable:!0,get:a(function(){return NEe.EndpointDisabledTrigger},"get")});var zEe=iN();Object.defineProperty(Jt,"MessageAttemptTriggerType",{enumerable:!0,get:a(function(){return zEe.MessageAttemptTriggerType},"get")});var jEe=Dm();Object.defineProperty(Jt,"MessageStatus",{enumerable:!0,get:a(function(){return jEe.MessageStatus},"get")});var DEe=Mm();Object.defineProperty(Jt,"MessageStatusText",{enumerable:!0,get:a(function(){return DEe.MessageStatusText},"get")});var MEe=H7();Object.defineProperty(Jt,"Ordering",{enumerable:!0,get:a(function(){return MEe.Ordering},"get")});var qEe=xN();Object.defineProperty(Jt,"SinkStatus",{enumerable:!0,get:a(function(){return qEe.SinkStatus},"get")});var UEe=FS();Object.defineProperty(Jt,"SinkStatusIn",{enumerable:!0,get:a(function(){return UEe.SinkStatusIn},"get")});var LEe=V7();Object.defineProperty(Jt,"StatusCodeClass",{enumerable:!0,get:a(function(){return LEe.StatusCodeClass},"get")})});var G7=M(Er=>{"use strict";var FEe=Er&&Er.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:a(function(){return t[r]},"get")}),Object.defineProperty(e,n,o)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),K7=Er&&Er.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&FEe(t,e,r)};Object.defineProperty(Er,"__esModule",{value:!0});Er.Svix=Er.messageInRaw=Er.ValidationError=Er.HttpErrorOut=Er.HTTPValidationError=Er.ApiException=void 0;var BEe=SZ(),JEe=RZ(),HEe=DZ(),VEe=VZ(),ZEe=fK(),KEe=SK(),GEe=RK(),WEe=NK(),QEe=kW(),XEe=$W(),YEe=oN(),eke=pQ(),tke=SQ(),rke=OQ(),nke=R7(),oke=dN(),ike=g$();Object.defineProperty(Er,"ApiException",{enumerable:!0,get:a(function(){return ike.ApiException},"get")});var RN=$7();Object.defineProperty(Er,"HTTPValidationError",{enumerable:!0,get:a(function(){return RN.HTTPValidationError},"get")});Object.defineProperty(Er,"HttpErrorOut",{enumerable:!0,get:a(function(){return RN.HttpErrorOut},"get")});Object.defineProperty(Er,"ValidationError",{enumerable:!0,get:a(function(){return RN.ValidationError},"get")});K7(B7(),Er);K7(Z7(),Er);var ake=oN();Object.defineProperty(Er,"messageInRaw",{enumerable:!0,get:a(function(){return ake.messageInRaw},"get")});var ske=[{region:"us",url:"https://api.us.svix.com"},{region:"eu",url:"https://api.eu.svix.com"},{region:"in",url:"https://api.in.svix.com"},{region:"ca",url:"https://api.ca.svix.com"},{region:"au",url:"https://api.au.svix.com"}],CN=class{static{a(this,"Svix")}constructor(t,r={}){var n,o,i;let s=(n=ske.find(l=>l.region===t.split(".")[1]))===null||n===void 0?void 0:n.url,u=(i=(o=r.serverUrl)!==null&&o!==void 0?o:s)!==null&&i!==void 0?i:"https://api.svix.com";if(r.retryScheduleInMs){this.requestCtx={baseUrl:u,token:t,timeout:r.requestTimeout,retryScheduleInMs:r.retryScheduleInMs,fetch:r.fetch};return}if(r.numRetries){this.requestCtx={baseUrl:u,token:t,timeout:r.requestTimeout,numRetries:r.numRetries,fetch:r.fetch};return}this.requestCtx={baseUrl:u,token:t,timeout:r.requestTimeout,fetch:r.fetch}}get application(){return new BEe.Application(this.requestCtx)}get authentication(){return new JEe.Authentication(this.requestCtx)}get backgroundTask(){return new HEe.BackgroundTask(this.requestCtx)}get connector(){return new VEe.Connector(this.requestCtx)}get endpoint(){return new ZEe.Endpoint(this.requestCtx)}get environment(){return new KEe.Environment(this.requestCtx)}get eventType(){return new GEe.EventType(this.requestCtx)}get health(){return new WEe.Health(this.requestCtx)}get ingest(){return new QEe.Ingest(this.requestCtx)}get integration(){return new XEe.Integration(this.requestCtx)}get message(){return new YEe.Message(this.requestCtx)}get messageAttempt(){return new eke.MessageAttempt(this.requestCtx)}get operationalWebhook(){return new tke.OperationalWebhook(this.requestCtx)}get statistics(){return new rke.Statistics(this.requestCtx)}get streaming(){return new nke.Streaming(this.requestCtx)}get operationalWebhookEndpoint(){return new oke.OperationalWebhookEndpoint(this.requestCtx)}};Er.Svix=CN});var sw=a((e,t,r)=>(n,o)=>{let i=-1;return s(0);async function s(u){if(u<=i)throw new Error("next() called multiple times");i=u;let l,d=!1,p;if(e[u]?(p=e[u][0][0],n.req.routeIndex=u):p=u===e.length&&o||void 0,p)try{l=await p(n,()=>s(u+1))}catch(f){if(f instanceof Error&&t)n.error=f,l=await t(f,n),d=!0;else throw f}else n.finalized===!1&&r&&(l=await r(n));return l&&(n.finalized===!1||d)&&(n.res=l),n}},"compose");var Bm=class extends Error{static{a(this,"HTTPException")}res;status;constructor(e=500,t){super(t?.message,{cause:t?.cause}),this.res=t?.res,this.status=e}getResponse(){return this.res?new Response(this.res.body,{status:this.status,headers:this.res.headers}):new Response(this.message,{status:this.status})}};var NN=Symbol();var zN=a(async(e,t=Object.create(null))=>{let{all:r=!1,dot:n=!1}=t,i=(e instanceof Jm?e.raw.headers:e.headers).get("Content-Type");return i?.startsWith("multipart/form-data")||i?.startsWith("application/x-www-form-urlencoded")?lX(e,{all:r,dot:n}):{}},"parseBody");async function lX(e,t){let r=await e.formData();return r?dX(r,t):{}}a(lX,"parseFormData");function dX(e,t){let r=Object.create(null);return e.forEach((n,o)=>{t.all||o.endsWith("[]")?pX(r,o,n):r[o]=n}),t.dot&&Object.entries(r).forEach(([n,o])=>{n.includes(".")&&(mX(r,n,o),delete r[n])}),r}a(dX,"convertFormDataToBodyData");var pX=a((e,t,r)=>{e[t]!==void 0?Array.isArray(e[t])?e[t].push(r):e[t]=[e[t],r]:t.endsWith("[]")?e[t]=[r]:e[t]=r},"handleParsingAllValues"),mX=a((e,t,r)=>{let n=e,o=t.split(".");o.forEach((i,s)=>{s===o.length-1?n[i]=r:((!n[i]||typeof n[i]!="object"||Array.isArray(n[i])||n[i]instanceof File)&&(n[i]=Object.create(null)),n=n[i])})},"handleParsingNestedValues");var cw=a(e=>{let t=e.split("/");return t[0]===""&&t.shift(),t},"splitPath"),jN=a(e=>{let{groups:t,path:r}=fX(e),n=cw(r);return hX(n,t)},"splitRoutingPath"),fX=a(e=>{let t=[];return e=e.replace(/\{[^}]+\}/g,(r,n)=>{let o=`@${n}`;return t.push([o,r]),o}),{groups:t,path:e}},"extractGroupsFromPath"),hX=a((e,t)=>{for(let r=t.length-1;r>=0;r--){let[n]=t[r];for(let o=e.length-1;o>=0;o--)if(e[o].includes(n)){e[o]=e[o].replace(n,t[r][1]);break}}return e},"replaceGroupMarks"),Hm={},DN=a((e,t)=>{if(e==="*")return"*";let r=e.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);if(r){let n=`${e}#${t}`;return Hm[n]||(r[2]?Hm[n]=t&&t[0]!==":"&&t[0]!=="*"?[n,r[1],new RegExp(`^${r[2]}(?=/${t})`)]:[e,r[1],new RegExp(`^${r[2]}$`)]:Hm[n]=[e,r[1],!0]),Hm[n]}return null},"getPattern"),iu=a((e,t)=>{try{return t(e)}catch{return e.replace(/(?:%[0-9A-Fa-f]{2})+/g,r=>{try{return t(r)}catch{return r}})}},"tryDecode"),gX=a(e=>iu(e,decodeURI),"tryDecodeURI"),lw=a(e=>{let t=e.url,r=t.indexOf("/",t.indexOf(":")+4),n=r;for(;n<t.length;n++){let o=t.charCodeAt(n);if(o===37){let i=t.indexOf("?",n),s=t.slice(r,i===-1?void 0:i);return gX(s.includes("%25")?s.replace(/%25/g,"%2525"):s)}else if(o===63)break}return t.slice(r,n)},"getPath");var MN=a(e=>{let t=lw(e);return t.length>1&&t.at(-1)==="/"?t.slice(0,-1):t},"getPathNoStrict"),es=a((e,t,...r)=>(r.length&&(t=es(t,...r)),`${e?.[0]==="/"?"":"/"}${e}${t==="/"?"":`${e?.at(-1)==="/"?"":"/"}${t?.[0]==="/"?t.slice(1):t}`}`),"mergePath"),Vm=a(e=>{if(e.charCodeAt(e.length-1)!==63||!e.includes(":"))return null;let t=e.split("/"),r=[],n="";return t.forEach(o=>{if(o!==""&&!/\:/.test(o))n+="/"+o;else if(/\:/.test(o))if(/\?/.test(o)){r.length===0&&n===""?r.push("/"):r.push(n);let i=o.replace("?","");n+="/"+i,r.push(n)}else n+="/"+o}),r.filter((o,i,s)=>s.indexOf(o)===i)},"checkOptionalParameter"),uw=a(e=>/[%+]/.test(e)?(e.indexOf("+")!==-1&&(e=e.replace(/\+/g," ")),e.indexOf("%")!==-1?iu(e,dl):e):e,"_decodeURI"),qN=a((e,t,r)=>{let n;if(!r&&t&&!/[%+]/.test(t)){let s=e.indexOf("?",8);if(s===-1)return;for(e.startsWith(t,s+1)||(s=e.indexOf(`&${t}`,s+1));s!==-1;){let u=e.charCodeAt(s+t.length+1);if(u===61){let l=s+t.length+2,d=e.indexOf("&",l);return uw(e.slice(l,d===-1?void 0:d))}else if(u==38||isNaN(u))return"";s=e.indexOf(`&${t}`,s+1)}if(n=/[%+]/.test(e),!n)return}let o={};n??=/[%+]/.test(e);let i=e.indexOf("?",8);for(;i!==-1;){let s=e.indexOf("&",i+1),u=e.indexOf("=",i);u>s&&s!==-1&&(u=-1);let l=e.slice(i+1,u===-1?s===-1?void 0:s:u);if(n&&(l=uw(l)),i=s,l==="")continue;let d;u===-1?d="":(d=e.slice(u+1,s===-1?void 0:s),n&&(d=uw(d))),r?(o[l]&&Array.isArray(o[l])||(o[l]=[]),o[l].push(d)):o[l]??=d}return t?o[t]:o},"_getQueryParam"),UN=qN,LN=a((e,t)=>qN(e,t,!0),"getQueryParams"),dl=decodeURIComponent;var FN=a(e=>iu(e,dl),"tryDecodeURIComponent"),Jm=class{static{a(this,"HonoRequest")}raw;#e;#t;routeIndex=0;path;bodyCache={};constructor(e,t="/",r=[[]]){this.raw=e,this.path=t,this.#t=r,this.#e={}}param(e){return e?this.#r(e):this.#i()}#r(e){let t=this.#t[0][this.routeIndex][1][e],r=this.#n(t);return r&&/\%/.test(r)?FN(r):r}#i(){let e={},t=Object.keys(this.#t[0][this.routeIndex][1]);for(let r of t){let n=this.#n(this.#t[0][this.routeIndex][1][r]);n!==void 0&&(e[r]=/\%/.test(n)?FN(n):n)}return e}#n(e){return this.#t[1]?this.#t[1][e]:e}query(e){return UN(this.url,e)}queries(e){return LN(this.url,e)}header(e){if(e)return this.raw.headers.get(e)??void 0;let t={};return this.raw.headers.forEach((r,n)=>{t[n]=r}),t}async parseBody(e){return this.bodyCache.parsedBody??=await zN(this,e)}#o=a(e=>{let{bodyCache:t,raw:r}=this,n=t[e];if(n)return n;let o=Object.keys(t)[0];return o?t[o].then(i=>(o==="json"&&(i=JSON.stringify(i)),new Response(i)[e]())):t[e]=r[e]()},"#cachedBody");json(){return this.#o("text").then(e=>JSON.parse(e))}text(){return this.#o("text")}arrayBuffer(){return this.#o("arrayBuffer")}blob(){return this.#o("blob")}formData(){return this.#o("formData")}addValidatedData(e,t){this.#e[e]=t}valid(e){return this.#e[e]}get url(){return this.raw.url}get method(){return this.raw.method}get[NN](){return this.#t}get matchedRoutes(){return this.#t[0].map(([[,e]])=>e)}get routePath(){return this.#t[0].map(([[,e]])=>e)[this.routeIndex].path}};var BN={Stringify:1,BeforeStream:2,Stream:3},yX=a((e,t)=>{let r=new String(e);return r.isEscaped=!0,r.callbacks=t,r},"raw");var dw=a(async(e,t,r,n,o)=>{typeof e=="object"&&!(e instanceof String)&&(e instanceof Promise||(e=e.toString()),e instanceof Promise&&(e=await e));let i=e.callbacks;if(!i?.length)return Promise.resolve(e);o?o[0]+=e:o=[e];let s=Promise.all(i.map(u=>u({phase:t,buffer:o,context:n}))).then(u=>Promise.all(u.filter(Boolean).map(l=>dw(l,t,!1,n,o))).then(()=>o[0]));return r?yX(await s,i):s},"resolveCallback");var vX="text/plain; charset=UTF-8",pw=a((e,t)=>({"Content-Type":e,...t}),"setDefaultContentType"),JN=class{static{a(this,"Context")}#e;#t;env={};#r;finalized=!1;error;#i;#n;#o;#d;#c;#u;#a;#p;#l;constructor(e,t){this.#e=e,t&&(this.#n=t.executionCtx,this.env=t.env,this.#u=t.notFoundHandler,this.#l=t.path,this.#p=t.matchResult)}get req(){return this.#t??=new Jm(this.#e,this.#l,this.#p),this.#t}get event(){if(this.#n&&"respondWith"in this.#n)return this.#n;throw Error("This context has no FetchEvent")}get executionCtx(){if(this.#n)return this.#n;throw Error("This context has no ExecutionContext")}get res(){return this.#o||=new Response(null,{headers:this.#a??=new Headers})}set res(e){if(this.#o&&e){e=new Response(e.body,e);for(let[t,r]of this.#o.headers.entries())if(t!=="content-type")if(t==="set-cookie"){let n=this.#o.headers.getSetCookie();e.headers.delete("set-cookie");for(let o of n)e.headers.append("set-cookie",o)}else e.headers.set(t,r)}this.#o=e,this.finalized=!0}render=a((...e)=>(this.#c??=t=>this.html(t),this.#c(...e)),"render");setLayout=a(e=>this.#d=e,"setLayout");getLayout=a(()=>this.#d,"getLayout");setRenderer=a(e=>{this.#c=e},"setRenderer");header=a((e,t,r)=>{this.finalized&&(this.#o=new Response(this.#o.body,this.#o));let n=this.#o?this.#o.headers:this.#a??=new Headers;t===void 0?n.delete(e):r?.append?n.append(e,t):n.set(e,t)},"header");status=a(e=>{this.#i=e},"status");set=a((e,t)=>{this.#r??=new Map,this.#r.set(e,t)},"set");get=a(e=>this.#r?this.#r.get(e):void 0,"get");get var(){return this.#r?Object.fromEntries(this.#r):{}}#s(e,t,r){let n=this.#o?new Headers(this.#o.headers):this.#a??new Headers;if(typeof t=="object"&&"headers"in t){let i=t.headers instanceof Headers?t.headers:new Headers(t.headers);for(let[s,u]of i)s.toLowerCase()==="set-cookie"?n.append(s,u):n.set(s,u)}if(r)for(let[i,s]of Object.entries(r))if(typeof s=="string")n.set(i,s);else{n.delete(i);for(let u of s)n.append(i,u)}let o=typeof t=="number"?t:t?.status??this.#i;return new Response(e,{status:o,headers:n})}newResponse=a((...e)=>this.#s(...e),"newResponse");body=a((e,t,r)=>this.#s(e,t,r),"body");text=a((e,t,r)=>!this.#a&&!this.#i&&!t&&!r&&!this.finalized?new Response(e):this.#s(e,t,pw(vX,r)),"text");json=a((e,t,r)=>this.#s(JSON.stringify(e),t,pw("application/json",r)),"json");html=a((e,t,r)=>{let n=a(o=>this.#s(o,t,pw("text/html; charset=UTF-8",r)),"res");return typeof e=="object"?dw(e,BN.Stringify,!1,{}).then(n):n(e)},"html");redirect=a((e,t)=>{let r=String(e);return this.header("Location",/[^\x00-\xFF]/.test(r)?encodeURI(r):r),this.newResponse(null,t??302)},"redirect");notFound=a(()=>(this.#u??=()=>new Response,this.#u(this)),"notFound")};var Zt="ALL",HN="all",VN=["get","post","put","delete","options","patch"],Zm="Can not add a route since the matcher is already built.",Km=class extends Error{static{a(this,"UnsupportedPathError")}};var ZN="__COMPOSED_HANDLER";var _X=a(e=>e.text("404 Not Found",404),"notFoundHandler"),KN=a((e,t)=>{if("getResponse"in e){let r=e.getResponse();return t.newResponse(r.body,r)}return console.error(e),t.text("Internal Server Error",500)},"errorHandler"),mw=class{static{a(this,"Hono")}get;post;put;delete;options;patch;all;on;use;router;getPath;_basePath="/";#e="/";routes=[];constructor(e={}){[...VN,HN].forEach(o=>{this[o]=(i,...s)=>(typeof i=="string"?this.#e=i:this.#i(o,this.#e,i),s.forEach(u=>{this.#i(o,this.#e,u)}),this)}),this.on=(o,i,...s)=>{for(let u of[i].flat()){this.#e=u;for(let l of[o].flat())s.map(d=>{this.#i(l.toUpperCase(),this.#e,d)})}return this},this.use=(o,...i)=>(typeof o=="string"?this.#e=o:(this.#e="*",i.unshift(o)),i.forEach(s=>{this.#i(Zt,this.#e,s)}),this);let{strict:r,...n}=e;Object.assign(this,n),this.getPath=r??!0?e.getPath??lw:MN}#t(){let e=new mw({router:this.router,getPath:this.getPath});return e.errorHandler=this.errorHandler,e.#r=this.#r,e.routes=this.routes,e}#r=_X;errorHandler=KN;route(e,t){let r=this.basePath(e);return t.routes.map(n=>{let o;t.errorHandler===KN?o=n.handler:(o=a(async(i,s)=>(await sw([],t.errorHandler)(i,()=>n.handler(i,s))).res,"handler"),o[ZN]=n.handler),r.#i(n.method,n.path,o)}),this}basePath(e){let t=this.#t();return t._basePath=es(this._basePath,e),t}onError=a(e=>(this.errorHandler=e,this),"onError");notFound=a(e=>(this.#r=e,this),"notFound");mount(e,t,r){let n,o;r&&(typeof r=="function"?o=r:(o=r.optionHandler,r.replaceRequest===!1?n=a(u=>u,"replaceRequest"):n=r.replaceRequest));let i=o?u=>{let l=o(u);return Array.isArray(l)?l:[l]}:u=>{let l;try{l=u.executionCtx}catch{}return[u.env,l]};n||=(()=>{let u=es(this._basePath,e),l=u==="/"?0:u.length;return d=>{let p=new URL(d.url);return p.pathname=p.pathname.slice(l)||"/",new Request(p,d)}})();let s=a(async(u,l)=>{let d=await t(n(u.req.raw),...i(u));if(d)return d;await l()},"handler");return this.#i(Zt,es(e,"*"),s),this}#i(e,t,r){e=e.toUpperCase(),t=es(this._basePath,t);let n={basePath:this._basePath,path:t,method:e,handler:r};this.router.add(e,t,[r,n]),this.routes.push(n)}#n(e,t){if(e instanceof Error)return this.errorHandler(e,t);throw e}#o(e,t,r,n){if(n==="HEAD")return(async()=>new Response(null,await this.#o(e,t,r,"GET")))();let o=this.getPath(e,{env:r}),i=this.router.match(n,o),s=new JN(e,{path:o,matchResult:i,env:r,executionCtx:t,notFoundHandler:this.#r});if(i[0].length===1){let l;try{l=i[0][0][0][0](s,async()=>{s.res=await this.#r(s)})}catch(d){return this.#n(d,s)}return l instanceof Promise?l.then(d=>d||(s.finalized?s.res:this.#r(s))).catch(d=>this.#n(d,s)):l??this.#r(s)}let u=sw(i[0],this.errorHandler,this.#r);return(async()=>{try{let l=await u(s);if(!l.finalized)throw new Error("Context is not finalized. Did you forget to return a Response object or `await next()`?");return l.res}catch(l){return this.#n(l,s)}})()}fetch=a((e,...t)=>this.#o(e,t[1],t[0],e.method),"fetch");request=a((e,t,r,n)=>e instanceof Request?this.fetch(t?new Request(e,t):e,r,n):(e=e.toString(),this.fetch(new Request(/^https?:\/\//.test(e)?e:`http://localhost${es("/",e)}`,t),r,n)),"request");fire=a(()=>{addEventListener("fetch",e=>{e.respondWith(this.#o(e.request,e,void 0,e.request.method))})},"fire")};var Gm=[];function fw(e,t){let r=this.buildAllMatchers(),n=a((o,i)=>{let s=r[o]||r[Zt],u=s[2][i];if(u)return u;let l=i.match(s[0]);if(!l)return[[],Gm];let d=l.indexOf("",1);return[s[1][d],l]},"match2");return this.match=n,n(e,t)}a(fw,"match");var Wm="[^/]+",pl=".*",ml="(?:|/.*)",ts=Symbol(),bX=new Set(".\\+*[^]$()");function SX(e,t){return e.length===1?t.length===1?e<t?-1:1:-1:t.length===1||e===pl||e===ml?1:t===pl||t===ml?-1:e===Wm?1:t===Wm?-1:e.length===t.length?e<t?-1:1:t.length-e.length}a(SX,"compareKey");var Qm=class{static{a(this,"Node")}#e;#t;#r=Object.create(null);insert(e,t,r,n,o){if(e.length===0){if(this.#e!==void 0)throw ts;if(o)return;this.#e=t;return}let[i,...s]=e,u=i==="*"?s.length===0?["","",pl]:["","",Wm]:i==="/*"?["","",ml]:i.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/),l;if(u){let d=u[1],p=u[2]||Wm;if(d&&u[2]&&(p===".*"||(p=p.replace(/^\((?!\?:)(?=[^)]+\)$)/,"(?:"),/\((?!\?:)/.test(p))))throw ts;if(l=this.#r[p],!l){if(Object.keys(this.#r).some(f=>f!==pl&&f!==ml))throw ts;if(o)return;l=this.#r[p]=new Qm,d!==""&&(l.#t=n.varIndex++)}!o&&d!==""&&r.push([d,l.#t])}else if(l=this.#r[i],!l){if(Object.keys(this.#r).some(d=>d.length>1&&d!==pl&&d!==ml))throw ts;if(o)return;l=this.#r[i]=new Qm}l.insert(s,t,r,n,o)}buildRegExpStr(){let t=Object.keys(this.#r).sort(SX).map(r=>{let n=this.#r[r];return(typeof n.#t=="number"?`(${r})@${n.#t}`:bX.has(r)?`\\${r}`:r)+n.buildRegExpStr()});return typeof this.#e=="number"&&t.unshift(`#${this.#e}`),t.length===0?"":t.length===1?t[0]:"(?:"+t.join("|")+")"}};var GN=class{static{a(this,"Trie")}#e={varIndex:0};#t=new Qm;insert(e,t,r){let n=[],o=[];for(let s=0;;){let u=!1;if(e=e.replace(/\{[^}]+\}/g,l=>{let d=`@\\${s}`;return o[s]=[d,l],s++,u=!0,d}),!u)break}let i=e.match(/(?::[^\/]+)|(?:\/\*$)|./g)||[];for(let s=o.length-1;s>=0;s--){let[u]=o[s];for(let l=i.length-1;l>=0;l--)if(i[l].indexOf(u)!==-1){i[l]=i[l].replace(u,o[s][1]);break}}return this.#t.insert(i,t,n,this.#e,r),n}buildRegExp(){let e=this.#t.buildRegExpStr();if(e==="")return[/^$/,[],[]];let t=0,r=[],n=[];return e=e.replace(/#(\d+)|@(\d+)|\.\*\$/g,(o,i,s)=>i!==void 0?(r[++t]=Number(i),"$()"):(s!==void 0&&(n[Number(s)]=++t),"")),[new RegExp(`^${e}`),r,n]}};var wX=[/^$/,[],Object.create(null)],WN=Object.create(null);function QN(e){return WN[e]??=new RegExp(e==="*"?"":`^${e.replace(/\/\*$|([.\\+*[^\]$()])/g,(t,r)=>r?`\\${r}`:"(?:|/.*)")}$`)}a(QN,"buildWildcardRegExp");function xX(){WN=Object.create(null)}a(xX,"clearWildcardRegExpCache");function TX(e){let t=new GN,r=[];if(e.length===0)return wX;let n=e.map(d=>[!/\*|\/:/.test(d[0]),...d]).sort(([d,p],[f,m])=>d?1:f?-1:p.length-m.length),o=Object.create(null);for(let d=0,p=-1,f=n.length;d<f;d++){let[m,y,g]=n[d];m?o[y]=[g.map(([v])=>[v,Object.create(null)]),Gm]:p++;let h;try{h=t.insert(y,p,m)}catch(v){throw v===ts?new Km(y):v}m||(r[p]=g.map(([v,S])=>{let b=Object.create(null);for(S-=1;S>=0;S--){let[w,k]=h[S];b[w]=k}return[v,b]}))}let[i,s,u]=t.buildRegExp();for(let d=0,p=r.length;d<p;d++)for(let f=0,m=r[d].length;f<m;f++){let y=r[d][f]?.[1];if(!y)continue;let g=Object.keys(y);for(let h=0,v=g.length;h<v;h++)y[g[h]]=u[y[g[h]]]}let l=[];for(let d in s)l[d]=r[s[d]];return[i,l,o]}a(TX,"buildMatcherFromPreprocessedRoutes");function au(e,t){if(e){for(let r of Object.keys(e).sort((n,o)=>o.length-n.length))if(QN(r).test(t))return[...e[r]]}}a(au,"findMiddleware");var Xm=class{static{a(this,"RegExpRouter")}name="RegExpRouter";#e;#t;constructor(){this.#e={[Zt]:Object.create(null)},this.#t={[Zt]:Object.create(null)}}add(e,t,r){let n=this.#e,o=this.#t;if(!n||!o)throw new Error(Zm);n[e]||[n,o].forEach(u=>{u[e]=Object.create(null),Object.keys(u[Zt]).forEach(l=>{u[e][l]=[...u[Zt][l]]})}),t==="/*"&&(t="*");let i=(t.match(/\/:/g)||[]).length;if(/\*$/.test(t)){let u=QN(t);e===Zt?Object.keys(n).forEach(l=>{n[l][t]||=au(n[l],t)||au(n[Zt],t)||[]}):n[e][t]||=au(n[e],t)||au(n[Zt],t)||[],Object.keys(n).forEach(l=>{(e===Zt||e===l)&&Object.keys(n[l]).forEach(d=>{u.test(d)&&n[l][d].push([r,i])})}),Object.keys(o).forEach(l=>{(e===Zt||e===l)&&Object.keys(o[l]).forEach(d=>u.test(d)&&o[l][d].push([r,i]))});return}let s=Vm(t)||[t];for(let u=0,l=s.length;u<l;u++){let d=s[u];Object.keys(o).forEach(p=>{(e===Zt||e===p)&&(o[p][d]||=[...au(n[p],d)||au(n[Zt],d)||[]],o[p][d].push([r,i-l+u+1]))})}}match=fw;buildAllMatchers(){let e=Object.create(null);return Object.keys(this.#t).concat(Object.keys(this.#e)).forEach(t=>{e[t]||=this.#r(t)}),this.#e=this.#t=void 0,xX(),e}#r(e){let t=[],r=e===Zt;return[this.#e,this.#t].forEach(n=>{let o=n[e]?Object.keys(n[e]).map(i=>[i,n[e][i]]):[];o.length!==0?(r||=!0,t.push(...o)):e!==Zt&&t.push(...Object.keys(n[Zt]).map(i=>[i,n[Zt][i]]))}),r?TX(t):null}};var hw=class{static{a(this,"SmartRouter")}name="SmartRouter";#e=[];#t=[];constructor(e){this.#e=e.routers}add(e,t,r){if(!this.#t)throw new Error(Zm);this.#t.push([e,t,r])}match(e,t){if(!this.#t)throw new Error("Fatal error");let r=this.#e,n=this.#t,o=r.length,i=0,s;for(;i<o;i++){let u=r[i];try{for(let l=0,d=n.length;l<d;l++)u.add(...n[l]);s=u.match(e,t)}catch(l){if(l instanceof Km)continue;throw l}this.match=u.match.bind(u),this.#e=[u],this.#t=void 0;break}if(i===o)throw new Error("Fatal error");return this.name=`SmartRouter + ${this.activeRouter.name}`,s}get activeRouter(){if(this.#t||this.#e.length!==1)throw new Error("No active router has been determined yet.");return this.#e[0]}};var fl=Object.create(null),gw=class{static{a(this,"Node")}#e;#t;#r;#i=0;#n=fl;constructor(e,t,r){if(this.#t=r||Object.create(null),this.#e=[],e&&t){let n=Object.create(null);n[e]={handler:t,possibleKeys:[],score:0},this.#e=[n]}this.#r=[]}insert(e,t,r){this.#i=++this.#i;let n=this,o=jN(t),i=[];for(let s=0,u=o.length;s<u;s++){let l=o[s],d=o[s+1],p=DN(l,d),f=Array.isArray(p)?p[0]:l;if(f in n.#t){n=n.#t[f],p&&i.push(p[1]);continue}n.#t[f]=new gw,p&&(n.#r.push(p),i.push(p[1])),n=n.#t[f]}return n.#e.push({[e]:{handler:r,possibleKeys:i.filter((s,u,l)=>l.indexOf(s)===u),score:this.#i}}),n}#o(e,t,r,n){let o=[];for(let i=0,s=e.#e.length;i<s;i++){let u=e.#e[i],l=u[t]||u[Zt],d={};if(l!==void 0&&(l.params=Object.create(null),o.push(l),r!==fl||n&&n!==fl))for(let p=0,f=l.possibleKeys.length;p<f;p++){let m=l.possibleKeys[p],y=d[l.score];l.params[m]=n?.[m]&&!y?n[m]:r[m]??n?.[m],d[l.score]=!0}}return o}search(e,t){let r=[];this.#n=fl;let o=[this],i=cw(t),s=[];for(let u=0,l=i.length;u<l;u++){let d=i[u],p=u===l-1,f=[];for(let m=0,y=o.length;m<y;m++){let g=o[m],h=g.#t[d];h&&(h.#n=g.#n,p?(h.#t["*"]&&r.push(...this.#o(h.#t["*"],e,g.#n)),r.push(...this.#o(h,e,g.#n))):f.push(h));for(let v=0,S=g.#r.length;v<S;v++){let b=g.#r[v],w=g.#n===fl?{}:{...g.#n};if(b==="*"){let O=g.#t["*"];O&&(r.push(...this.#o(O,e,g.#n)),O.#n=w,f.push(O));continue}let[k,$,C]=b;if(!d&&!(C instanceof RegExp))continue;let A=g.#t[k],R=i.slice(u).join("/");if(C instanceof RegExp){let O=C.exec(R);if(O){if(w[$]=O[0],r.push(...this.#o(A,e,g.#n,w)),Object.keys(A.#t).length){A.#n=w;let z=O[0].match(/\//)?.length??0;(s[z]||=[]).push(A)}continue}}(C===!0||C.test(d))&&(w[$]=d,p?(r.push(...this.#o(A,e,w,g.#n)),A.#t["*"]&&r.push(...this.#o(A.#t["*"],e,w,g.#n))):(A.#n=w,f.push(A)))}}o=f.concat(s.shift()??[])}return r.length>1&&r.sort((u,l)=>u.score-l.score),[r.map(({handler:u,params:l})=>[u,l])]}};var yw=class{static{a(this,"TrieRouter")}name="TrieRouter";#e;constructor(){this.#e=new gw}add(e,t,r){let n=Vm(t);if(n){for(let o=0,i=n.length;o<i;o++)this.#e.insert(e,n[o],r);return}this.#e.insert(e,t,r)}match(e,t){return this.#e.search(e,t)}};var Oe=class extends mw{static{a(this,"Hono")}constructor(e={}){super(e),this.router=e.router??new hw({routers:[new Xm,new yw]})}};function EX(){let{process:e,Deno:t}=globalThis;return!(typeof t?.noColor=="boolean"?t.noColor:e!==void 0?"NO_COLOR"in e?.env:!1)}a(EX,"getColorEnabled");async function XN(){let{navigator:e}=globalThis,t="cloudflare:workers";return!(e!==void 0&&e.userAgent==="Cloudflare-Workers"?await(async()=>{try{return"NO_COLOR"in((await import(t)).env??{})}catch{return!1}})():!EX())}a(XN,"getColorEnabledAsync");var kX=a(e=>{let[t,r]=[",","."];return e.map(o=>o.replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+t)).join(r)},"humanize"),PX=a(e=>{let t=Date.now()-e;return kX([t<1e3?t+"ms":Math.round(t/1e3)+"s"])},"time"),IX=a(async e=>{if(await XN())switch(e/100|0){case 5:return`\x1B[31m${e}\x1B[0m`;case 4:return`\x1B[33m${e}\x1B[0m`;case 3:return`\x1B[36m${e}\x1B[0m`;case 2:return`\x1B[32m${e}\x1B[0m`}return`${e}`},"colorStatus");async function YN(e,t,r,n,o=0,i){let s=t==="<--"?`${t} ${r} ${n}`:`${t} ${r} ${n} ${await IX(o)} ${i}`;e(s)}a(YN,"log");var ez=a((e=console.log)=>a(async function(r,n){let{method:o,url:i}=r.req,s=i.slice(i.indexOf("/",8));await YN(e,"<--",o,s);let u=Date.now();await n(),await YN(e,"-->",o,s,r.res.status,PX(u))},"logger2"),"logger");var vw=class{static{a(this,"SecureLogger")}isDevelopment;isProduction;currentUserId;sensitivePatterns;logBuffer=[];maxBufferSize=1e3;flushInterval=5e3;constructor(){this.isDevelopment=!!(typeof process<"u"&&!1||typeof import.meta<"u"&&import.meta.env?.DEV),this.isProduction=typeof process<"u"||typeof import.meta<"u"&&import.meta.env?.MODE==="production",this.sensitivePatterns=[/\b\d{3}\.?\d{3}\.?\d{3}-?\d{2}\b/g,/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/g,/\b(?:\+55\s?)?\(?[1-9]{2}\)?\s?[9]?\d{4}-?\d{4}\b/g,/\b\d{4}[\s-]?\d{4}[\s-]?\d{4}[\s-]?\d{4}\b/g,/(?:sk_|eyJ)[a-zA-Z0-9_-]{20,}/g,/password["\s:]+["']?[^"'\s,}]+["']?/gi,/token["\s:]+["']?[^"'\s,}]+["']?/gi,/account["\s:]+["']?\d{6,}["']?/gi],this.isProduction&&setInterval(()=>this.flushBuffer(),this.flushInterval)}setUserId(t){this.currentUserId=t}clearUserId(){this.currentUserId=void 0}sanitizeData(t,r){let n=t;this.sensitivePatterns.forEach(i=>{n=n.replace(i,"[REDACTED]")});let o;return r&&(o=this.sanitizeContextObject(r)),{sanitizedContext:o,sanitizedMessage:n}}sanitizeContextObject(t){let r={};for(let[n,o]of Object.entries(t))if(this.isSensitiveKey(n)&&o)r[n]="[REDACTED]";else if(typeof o=="string"){let s=o;this.sensitivePatterns.forEach(u=>{s=s.replace(u,"[REDACTED]")}),r[n]=s}else typeof o=="object"&&o!==null?r[n]=this.sanitizeContextObject(o):r[n]=o;return this.currentUserId&&!r.userId&&(r.userId=`${this.currentUserId.substring(0,8)}...`),r}isSensitiveKey(t){return["password","token","secret","key","auth","session","email","phone","cpf","cnpj","account","balance","creditcard","card","bank","transaction","amount"].some(n=>t.toLowerCase().includes(n.toLowerCase()))}createLogEntry(t,r,n){let{sanitizedMessage:o,sanitizedContext:i}=this.sanitizeData(r,n);return{context:i,level:t,message:o,sanitized:!0,timestamp:new Date().toISOString()}}writeLog(t){if(this.isDevelopment)switch(t.level){case 0:break;case 1:break;case 2:break;case 3:case 4:break;case 5:break}else this.isProduction&&this.addToBuffer(t)}addToBuffer(t){this.logBuffer.push(t),this.logBuffer.length>=this.maxBufferSize&&this.flushBuffer()}flushBuffer(){if(this.logBuffer.length===0)return;let t=[...this.logBuffer];this.logBuffer=[];let r=t.filter(n=>n.level>=3);r.length>0&&r.forEach(n=>{})}log(t,r,n){if(!this.isDevelopment&&t===0)return;let o=this.createLogEntry(t,r,n);this.writeLog(o)}debug(t,r){this.log(0,t,r)}info(t,r){this.log(1,t,r)}warn(t,r){this.log(2,t,r)}error(t,r){this.log(3,t,r)}security(t,r){this.log(4,t,r)}audit(t,r){this.log(5,t,r)}voiceCommand(t,r,n){this.info("Voice command processed",{...n,command:t.substring(0,50),confidence:r})}authEvent(t,r,n){this.audit("Authentication event",{...n,event:t,userId:r?`${r.substring(0,8)}...`:void 0})}userAction(t,r,n){this.info("User action",{action:t,component:r,...n})}performance(t,r,n){this.info("Performance metric",{...n,operation:t,duration:r})}getBufferStats(){return{lastFlush:new Date,maxSize:this.maxBufferSize,size:this.logBuffer.length}}forceFlush(){this.flushBuffer()}clear(){this.logBuffer=[],this.currentUserId=void 0}},N=new vw;function OX(){let e=[];return process.env.DATABASE_URL||e.push("DATABASE_URL is required but not set"),process.env.CLERK_SECRET_KEY||e.push("CLERK_SECRET_KEY is required but not set"),process.env.DATABASE_URL_UNPOOLED||N.warn("DATABASE_URL_UNPOOLED is not set. Using DATABASE_URL as fallback. This may cause connection issues."),process.env.CLERK_WEBHOOK_SECRET||N.warn("CLERK_WEBHOOK_SECRET is not set. Clerk webhooks will not work properly."),{errors:e,valid:e.length===0}}a(OX,"validateEnvironmentVariables");function tz(){let e=OX();if(!e.valid){let t=`Missing required environment variables:
${e.errors.join(`
`)}`;throw N.error("Environment validation failed",{errors:e.errors}),new Error(t)}N.info("Environment variables validated successfully")}a(tz,"validateEnvironmentVariablesOrThrow");var rz=new Oe;rz.get("/",async e=>{try{return N.info("Starting calendar channel renewal check"),e.json({success:!0,message:"Calendar channel renewal completed",timestamp:new Date().toISOString(),channelsRenewed:0})}catch(t){return N.error("Calendar channel renewal failed",{error:t instanceof Error?t.message:"Unknown error"}),e.json({success:!1,message:"Calendar channel renewal failed",error:t instanceof Error?t.message:"Unknown error"},500)}});var nz=rz;var oz=new Oe;oz.get("/",async e=>{try{return N.info("Starting sync queue cleanup"),e.json({success:!0,message:"Sync queue cleanup completed",timestamp:new Date().toISOString(),itemsDeleted:0})}catch(t){return N.error("Sync queue cleanup failed",{error:t instanceof Error?t.message:"Unknown error"}),e.json({success:!1,message:"Sync queue cleanup failed",error:t instanceof Error?t.message:"Unknown error"},500)}});var iz=oz;var az=new Oe;az.get("/",async e=>{try{return N.info("Starting sync queue processing"),e.json({success:!0,message:"Sync queue processing completed",timestamp:new Date().toISOString(),itemsProcessed:0})}catch(t){return N.error("Sync queue processing failed",{error:t instanceof Error?t.message:"Unknown error"}),e.json({success:!1,message:"Sync queue processing failed",error:t instanceof Error?t.message:"Unknown error"},500)}});var sz=az;var hl=new Oe;hl.route("/calendar-channel-renewal",nz);hl.route("/sync-queue-processor",sz);hl.route("/cleanup-sync-queue",iz);hl.get("/health",e=>e.json({status:"healthy",service:"cron-jobs",timestamp:new Date().toISOString(),jobs:[{name:"calendar-channel-renewal",schedule:"0 0 * * *",description:"Renew expiring Google Calendar webhook channels"},{name:"sync-queue-processor",schedule:"*/5 * * * *",description:"Process pending Google Calendar sync queue items"},{name:"cleanup-sync-queue",schedule:"0 2 * * *",description:"Clean up old completed/failed sync queue items"}]}));var uz=hl;var cz=["https://aegiswallet.com","https://www.aegiswallet.com","https://app.aegiswallet.com","http://localhost:3000","http://localhost:5173","http://localhost:8080","http://localhost:8081","http://localhost:8082","https://localhost:3000","https://localhost:5173","https://localhost:8080","https://localhost:8081","https://localhost:8082"],lz=a(async(e,t)=>{let r=e.req.header("Origin");if(cz.includes(r||"")||r?.startsWith("http://localhost:")&&!1||r?.startsWith("https://localhost:")&&!1?e.header("Access-Control-Allow-Origin",r||"*"):e.header("Access-Control-Allow-Origin",cz[0]),e.header("Access-Control-Allow-Methods","GET, POST, PUT, DELETE, OPTIONS"),e.header("Access-Control-Allow-Headers","Content-Type, Authorization, X-Requested-With, X-Client-ID"),e.header("Access-Control-Allow-Credentials","true"),e.header("Access-Control-Max-Age","86400"),e.header("Vary","Origin"),e.req.method==="OPTIONS")return e.newResponse(null,204);await t()},"corsMiddleware");ir();Tn();async function RM(){let e=Date.now();try{return await So.execute(q`SELECT 1`),{status:"connected",latencyMs:Date.now()-e}}catch(t){return{status:"disconnected",latencyMs:Date.now()-e,error:t instanceof Error?t.message:"Unknown error"}}}a(RM,"checkDatabaseHealth");function $M(e){e.get("/api/ping",t=>t.json({message:"pong",timestamp:new Date().toISOString(),version:"1.0.0"})),e.get("/api/status",async t=>{let r=await RM(),n=r.status==="connected";return t.json({services:{database:r.status,databaseLatencyMs:r.latencyMs,trpc:"connected",auth:"connected"},status:n?"operational":"degraded",timestamp:new Date().toISOString(),...r.error&&{errors:{database:r.error}}})}),e.get("/api/health",async t=>{let r=await RM();return r.status!=="connected"?t.json({healthy:!1,database:r,timestamp:new Date().toISOString()},503):t.json({healthy:!0,database:r,timestamp:new Date().toISOString()})})}a($M,"setupApiRoutes");Qf();var od=null,See=1e4;async function wee(){if(od&&Date.now()-od.timestamp<See)return od.database;let e=Date.now(),t=5e3;try{let{getHttpClient:r}=await Promise.resolve().then(()=>(Tn(),PE)),{sql:n}=await Promise.resolve().then(()=>(ir(),fT)),o=r(),i=new Promise((l,d)=>{setTimeout(()=>d(new Error("Database query timeout")),t)});await Promise.race([o.execute(n`SELECT 1 as health_check`),i]);let u={status:"connected",latency:Date.now()-e};return od={database:u,timestamp:Date.now()},u}catch(r){let n=Date.now()-e,o=r instanceof Error?r.message:"Unknown database error";N.error("Database health check failed",{latency:n,error:o});let i={status:"disconnected",latency:n,error:o};return od={database:i,timestamp:Date.now()},i}}a(wee,"checkDatabaseHealth");function NM(e){e.get("/api/ping",t=>t.json({status:"ok",timestamp:new Date().toISOString()},200)),e.get("/api/health",async t=>{let r=Date.now();try{let n=await wee(),o=n.status==="connected",s={status:o?"ok":"degraded",timestamp:new Date().toISOString(),service:"aegiswallet-server",environment:ys.NODE_ENV,uptime:process.uptime?.()||0,memory:process.memoryUsage?.()||{},database:{status:n.status,latency:n.latency,...n.error&&{error:n.error}},responseTime:Date.now()-r};return o?t.json(s,200):t.json(s,503)}catch(n){let o=n instanceof Error?n.message:"Unknown error";return N.error("Health check error",{error:o}),t.json({status:"error",timestamp:new Date().toISOString(),service:"aegiswallet-server",environment:ys.NODE_ENV,uptime:process.uptime?.()||0,memory:process.memoryUsage?.()||{},database:{status:"disconnected",latency:0,error:"Health check failed"},responseTime:Date.now()-r},500)}})}a(NM,"setupHealthRoute");Qf();var Eee=!0,kee="Bun"in globalThis;function DM(e){Eee||(ys.IS_PRODUCTION&&kee?import("hono/bun").then(({serveStatic:t})=>{Promise.resolve().then(()=>(jM(),zM)).then(({htmlCache:r,staticAssetsCache:n})=>{e.use("/assets/*",n(),t({root:"./dist"})),e.use("/*.html",r(),t({root:"./dist"})),e.use("/*",r(),t({path:"./dist/index.html",rewriteRequestPath:a(o=>o,"rewriteRequestPath")}))})}):ys.IS_PRODUCTION||e.get("/*",t=>t.req.path.startsWith("/api/")?t.notFound():t.json({api:`http://localhost:${ys.PORT}`,frontend:"http://localhost:5173",message:"Development mode - Frontend served by Vite dev server",mode:"development"})))}a(DM,"setupStaticRoutes");ir();Tn();Lr();var Pee=300*1e3,MM=100,ha=new Map;function Iee(){if(ha.size<=MM)return;let t=Array.from(ha.entries()).sort((r,n)=>r[1].lastAccess-n[1].lastAccess).slice(0,ha.size-MM);for(let[r]of t)ha.delete(r)}a(Iee,"evictOldestCacheEntries");var Xf=class{static{a(this,"FinancialContextService")}userId;constructor(t){this.userId=t}async getContext(t=!1){let r=this.userId,n=ha.get(r),o=Date.now();if(!t&&n&&n.expiresAt>o)return n.lastAccess=o,n.context;let i=await this.buildContext();return ha.set(r,{context:i,expiresAt:o+Pee,lastAccess:o}),Iee(),i}invalidateCache(){ha.delete(this.userId)}static clearAllCache(){ha.clear()}async buildContext(){let t=new Date,r=new Date(t.getFullYear(),t.getMonth(),1),n=new Date(t.getFullYear(),t.getMonth()+1,0),[o,i,s,u,l]=await Promise.all([this.getAccountBalances(),this.getMonthlyTotals(r,n),this.getCategorySpending(r,n),this.getPendingAlerts(),this.getUpcomingPayments(30)]),d=o.reduce((f,m)=>f+Number(m.balance||0),0),p=o.reduce((f,m)=>f+Number(m.availableBalance||0),0);return{totalBalance:d,availableBalance:p,monthlyIncome:i.income,monthlyExpenses:i.expenses,topCategories:s,pendingAlerts:u,upcomingPayments:l,lastUpdated:t}}async getAccountBalances(){return await So.select({id:ce.id,balance:ce.balance,availableBalance:ce.availableBalance,institutionName:ce.institutionName}).from(ce).where(Pe(V(ce.userId,this.userId),V(ce.isActive,!0)))}async getMonthlyTotals(t,r){let n=await So.select({transactionType:oe.transactionType,total:Ml(oe.amount)}).from(oe).where(Pe(V(oe.userId,this.userId),gr(oe.transactionDate,t),or(oe.transactionDate,r))).groupBy(oe.transactionType),o=0,i=0;for(let s of n){let u=Math.abs(Number(s.total||0));s.transactionType==="credit"?o+=u:s.transactionType==="debit"&&(i+=u)}return{income:o,expenses:i}}async getCategorySpending(t,r){let n=await So.select({categoryId:oe.categoryId,categoryName:De.name,total:Ml(oe.amount)}).from(oe).leftJoin(De,V(oe.categoryId,De.id)).where(Pe(V(oe.userId,this.userId),V(oe.transactionType,"debit"),gr(oe.transactionDate,t),or(oe.transactionDate,r))).groupBy(oe.categoryId,De.name).orderBy(Mt(Ml(oe.amount))).limit(10),o=n.reduce((i,s)=>i+Math.abs(Number(s.total||0)),0);return n.map(i=>({categoryId:i.categoryId||"uncategorized",categoryName:i.categoryName||"Sem categoria",amount:Math.abs(Number(i.total||0)),percentage:o>0?Math.round(Math.abs(Number(i.total||0))/o*100):0,trend:"stable"}))}async getPendingAlerts(){return(await So.select({id:Cr.id,insightType:Cr.insightType,title:Cr.title,impactLevel:Cr.impactLevel,recommendation:Cr.recommendation}).from(Cr).where(Pe(V(Cr.userId,this.userId),V(Cr.isRead,!1))).orderBy(Mt(Cr.createdAt)).limit(5)).map(r=>({id:r.id,type:this.mapInsightTypeToAlertType(r.insightType),message:r.title,severity:r.impactLevel||"medium",actionable:!!r.recommendation}))}mapInsightTypeToAlertType(t){switch(this.normalizeInsightType(t)){case"budget_alert":return"budget_exceeded";case"warning":return"low_balance";case"spending_pattern":return"unusual_spending";case"opportunity":return"payment_due";default:return"unusual_spending"}}normalizeInsightType(t){return t.includes("_")?t:t.replace(/([A-Z])/g,"_$1").toLowerCase()}async getUpcomingPayments(t){let r=new Date,n=new Date;n.setDate(r.getDate()+t);let o=r.toISOString().split("T")[0],i=n.toISOString().split("T")[0];return(await So.select({id:Gt.id,description:Gt.description,amount:Gt.amount,scheduledDate:Gt.scheduledDate,recurrenceRule:Gt.recurrenceRule}).from(Gt).where(Pe(V(Gt.userId,this.userId),V(Gt.isActive,!0),V(Gt.executed,!1),gr(Gt.scheduledDate,o),or(Gt.scheduledDate,i))).orderBy(Gt.scheduledDate).limit(10)).map(u=>({id:u.id,description:u.description,amount:Math.abs(Number(u.amount)),dueDate:new Date(u.scheduledDate),isRecurring:!!u.recurrenceRule}))}};function Uu(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}a(Uu,"formatBRL");function Oee(e){return new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(e)}a(Oee,"formatDateBR");function Aee(e){return{up:"\u2191 aumentando",down:"\u2193 diminuindo",stable:"\u2192 est\xE1vel"}[e]}a(Aee,"translateTrend");function qM(e){let{totalBalance:t,availableBalance:r,monthlyIncome:n,monthlyExpenses:o,topCategories:i}=e,s=n-o,u=n>0?Math.round(s/n*100):0,l=i.slice(0,5).map((d,p)=>`${p+1}. **${d.categoryName}**: ${Uu(d.amount)} (${d.percentage}% do total, ${Aee(d.trend)})`).join(`
`);return`
### Resumo Financeiro
- **Saldo Total**: ${Uu(t)}
- **Saldo Dispon\xEDvel**: ${Uu(r)}
- **Renda do M\xEAs**: ${Uu(n)}
- **Gastos do M\xEAs**: ${Uu(o)}
- **Economia do M\xEAs**: ${Uu(s)} (${u}% da renda)

### Top 5 Categorias de Gasto (M\xEAs Atual)
${l||"Nenhuma transa\xE7\xE3o registrada este m\xEAs."}

### \xDAltima Atualiza\xE7\xE3o
${Oee(e.lastUpdated)}
`.trim()}a(qM,"buildFinancialContextBlock");function UM(e){if(e.length===0)return"\u2705 Nenhum alerta ativo no momento.";let t={low:"\u2139\uFE0F",medium:"\u26A0\uFE0F",high:"\u{1F6A8}"};return e.map(r=>`${t[r.severity]} [${r.severity.toUpperCase()}] ${r.message}`).join(`
`)}a(UM,"buildAlertsBlock");var LM=a(()=>{try{return!1}catch{}return!1},"isTestEnvironment"),FM=a(()=>{try{return!0}catch{}return!1},"isProductionEnvironment");var BM=new Set,Yf=a((e,t,r)=>{let n=LM()||FM(),o=r??e;BM.has(o)||n||(BM.add(o),console.warn(`Clerk - DEPRECATION WARNING: "${e}" is deprecated and will be removed in the next major release.
${t}`))},"deprecated");var OE=[".lcl.dev",".lclstage.dev",".lclclerk.com"],JM=[".accounts.dev",".accountsstage.dev",".accounts.lclclerk.com"],HM=[".lcl.dev",".stg.dev",".lclstage.dev",".stgstage.dev",".dev.lclclerk.com",".stg.lclclerk.com",".accounts.lclclerk.com","accountsstage.dev","accounts.dev"];var Lu=a(e=>typeof atob<"u"&&typeof atob=="function"?atob(e):typeof global<"u"&&global.Buffer?new global.Buffer(e,"base64").toString():e,"isomorphicAtob");var VM=a(e=>typeof btoa<"u"&&typeof btoa=="function"?btoa(e):typeof global<"u"&&global.Buffer?new global.Buffer(e).toString("base64"):e,"isomorphicBtoa");var ZM="pk_live_",Cee="pk_test_";function KM(e){if(!e.endsWith("$"))return!1;let t=e.slice(0,-1);return t.includes("$")?!1:t.includes(".")}a(KM,"isValidDecodedPublishableKey");function ga(e,t={}){if(e=e||"",!e||!AE(e)){if(t.fatal&&!e)throw new Error("Publishable key is missing. Ensure that your publishable key is correctly configured. Double-check your environment configuration for your keys, or access them here: https://dashboard.clerk.com/last-active?path=api-keys");if(t.fatal&&!AE(e))throw new Error("Publishable key not valid.");return null}let r=e.startsWith(ZM)?"production":"development",n;try{n=Lu(e.split("_")[2])}catch{if(t.fatal)throw new Error("Publishable key not valid: Failed to decode key.");return null}if(!KM(n)){if(t.fatal)throw new Error("Publishable key not valid: Decoded key has invalid format.");return null}let o=n.slice(0,-1);return t.proxyUrl?o=t.proxyUrl:r!=="development"&&t.domain&&t.isSatellite&&(o=`clerk.${t.domain}`),{instanceType:r,frontendApi:o}}a(ga,"parsePublishableKey");function AE(e=""){try{if(!(e.startsWith(ZM)||e.startsWith(Cee)))return!1;let t=e.split("_");if(t.length!==3)return!1;let r=t[2];return r?KM(Lu(r)):!1}catch{return!1}}a(AE,"isPublishableKey");function CE(){let e=new Map;return{isDevOrStagingUrl:a(t=>{if(!t)return!1;let r=typeof t=="string"?t:t.hostname,n=e.get(r);return n===void 0&&(n=HM.some(o=>r.endsWith(o)),e.set(r,n)),n},"isDevOrStagingUrl")}}a(CE,"createDevOrStagingUrlCache");function eh(e){return e.startsWith("test_")||e.startsWith("sk_test_")}a(eh,"isDevelopmentFromSecretKey");async function th(e,t=globalThis.crypto.subtle){let r=new TextEncoder().encode(e),n=await t.digest("sha-1",r);return VM(String.fromCharCode(...new Uint8Array(n))).replace(/\+/gi,"-").replace(/\//gi,"_").substring(0,8)}a(th,"getCookieSuffix");var rh=a((e,t)=>`${e}_${t}`,"getSuffixedCookieName");var Ree={initialDelay:125,maxDelayBetweenRetries:0,factor:2,shouldRetry:a((e,t)=>t<5,"shouldRetry"),retryImmediately:!1,jitter:!0},$ee=100,GM=a(async e=>new Promise(t=>setTimeout(t,e)),"sleep"),WM=a((e,t)=>t?e*(1+Math.random()):e,"applyJitter"),Nee=a(e=>{let t=0,r=a(()=>{let n=e.initialDelay,o=e.factor,i=n*Math.pow(o,t);return i=WM(i,e.jitter),Math.min(e.maxDelayBetweenRetries||i,i)},"calculateDelayInMs");return async()=>{await GM(r()),t++}},"createExponentialDelayAsyncFn"),nh=a(async(e,t={})=>{let r=0,{shouldRetry:n,initialDelay:o,maxDelayBetweenRetries:i,factor:s,retryImmediately:u,jitter:l,onBeforeRetry:d}={...Ree,...t},p=Nee({initialDelay:o,maxDelayBetweenRetries:i,factor:s,jitter:l});for(;;)try{return await e()}catch(f){if(r++,!n(f,r))throw f;d&&await d(r),u&&r===1?await GM(WM($ee,l)):await p()}},"retry");function RE(e){return OE.some(t=>e.startsWith("accounts.")&&e.endsWith(t))}a(RE,"isLegacyDevAccountPortalOrigin");function $E(e){return JM.some(t=>e.endsWith(t)&&!e.endsWith(".clerk"+t))}a($E,"isCurrentDevAccountPortalOrigin");function NE(e){function t(r){let n=r??this;if(!n)throw new TypeError(`${e.kind||e.name} type guard requires an error object`);return n instanceof e}return a(t,"typeGuard"),t}a(NE,"createErrorTypeGuard");var oh=class{static{a(this,"ClerkAPIError")}static kind="ClerkApiError";code;message;longMessage;meta;constructor(e){let t={code:e.code,message:e.message,longMessage:e.long_message,meta:{paramName:e.meta?.param_name,sessionId:e.meta?.session_id,emailAddresses:e.meta?.email_addresses,identifiers:e.meta?.identifiers,zxcvbn:e.meta?.zxcvbn,plan:e.meta?.plan,isPlanUpgradePossible:e.meta?.is_plan_upgrade_possible}};this.code=t.code,this.message=t.message,this.longMessage=t.longMessage,this.meta=t.meta}},ALe=NE(oh);function zE(e){return new oh(e)}a(zE,"parseError");var jE=class QM extends Error{static{a(this,"ClerkError")}static kind="ClerkError";clerkError=!0;code;longMessage;docsUrl;cause;get name(){return this.constructor.name}constructor(t){super(new.target.formatMessage(new.target.kind,t.message,t.code,t.docsUrl),{cause:t.cause}),Object.setPrototypeOf(this,QM.prototype),this.code=t.code,this.docsUrl=t.docsUrl,this.longMessage=t.longMessage,this.cause=t.cause}toString(){return`[${this.name}]
Message:${this.message}`}static formatMessage(t,r,n,o){let i="Clerk:",s=new RegExp(i.replace(" ","\\s*"),"i");return r=r.replace(s,""),r=`${i} ${r.trim()}

(code="${n}")

`,o&&(r+=`

Docs: ${o}`),r}},ih=class XM extends jE{static{a(this,"ClerkAPIResponseError")}static kind="ClerkAPIResponseError";status;clerkTraceId;retryAfter;errors;constructor(t,r){let{data:n,status:o,clerkTraceId:i,retryAfter:s}=r;super({...r,message:t,code:"api_response_error"}),Object.setPrototypeOf(this,XM.prototype),this.status=o,this.clerkTraceId=i,this.retryAfter=s,this.errors=(n||[]).map(u=>new oh(u))}toString(){let t=`[${this.name}]
Message:${this.message}
Status:${this.status}
Serialized errors: ${this.errors.map(r=>JSON.stringify(r))}`;return this.clerkTraceId&&(t+=`
Clerk Trace ID: ${this.clerkTraceId}`),t}static formatMessage(t,r,n,o){return r}},CLe=NE(ih),zee=Object.freeze({InvalidProxyUrlErrorMessage:"The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})",InvalidPublishableKeyErrorMessage:"The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",MissingPublishableKeyErrorMessage:"Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingSecretKeyErrorMessage:"Missing secretKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingClerkProvider:"{{source}} can only be used within the <ClerkProvider /> component. Learn more: https://clerk.com/docs/components/clerk-provider"});function DE({packageName:e,customMessages:t}){let r=e;function n(i,s){if(!s)return`${r}: ${i}`;let u=i,l=i.matchAll(/{{([a-zA-Z0-9-_]+)}}/g);for(let d of l){let p=(s[d[1]]||"").toString();u=u.replace(`{{${d[1]}}}`,p)}return`${r}: ${u}`}a(n,"buildMessage");let o={...zee,...t};return{setPackageName({packageName:i}){return typeof i=="string"&&(r=i),this},setMessages({customMessages:i}){return Object.assign(o,i||{}),this},throwInvalidPublishableKeyError(i){throw new Error(n(o.InvalidPublishableKeyErrorMessage,i))},throwInvalidProxyUrl(i){throw new Error(n(o.InvalidProxyUrlErrorMessage,i))},throwMissingPublishableKeyError(){throw new Error(n(o.MissingPublishableKeyErrorMessage))},throwMissingSecretKeyError(){throw new Error(n(o.MissingSecretKeyErrorMessage))},throwMissingClerkProviderError(i){throw new Error(n(o.MissingClerkProvider,i))},throw(i){throw new Error(n(i))}}}a(DE,"buildErrorThrower");var YM=class eq extends jE{static{a(this,"ClerkRuntimeError")}static kind="ClerkRuntimeError";clerkRuntimeError=!0;constructor(t,r){super({...r,message:t}),Object.setPrototypeOf(this,eq.prototype)}},RLe=NE(YM);function ME(e){return e&&"clerkError"in e}a(ME,"isClerkAPIResponseError");var jee=DE({packageName:"@clerk/backend"}),{isDevOrStagingUrl:m4e}=CE();var tq={InvalidSecretKey:"clerk_key_invalid"},nt={TokenExpired:"token-expired",TokenInvalid:"token-invalid",TokenInvalidAlgorithm:"token-invalid-algorithm",TokenInvalidAuthorizedParties:"token-invalid-authorized-parties",TokenInvalidSignature:"token-invalid-signature",TokenNotActiveYet:"token-not-active-yet",TokenIatInTheFuture:"token-iat-in-the-future",TokenVerificationFailed:"token-verification-failed",InvalidSecretKey:"secret-key-invalid",LocalJWKMissing:"jwk-local-missing",RemoteJWKFailedToLoad:"jwk-remote-failed-to-load",RemoteJWKInvalid:"jwk-remote-invalid",RemoteJWKMissing:"jwk-remote-missing",JWKFailedToResolve:"jwk-failed-to-resolve",JWKKidMismatch:"jwk-kid-mismatch"},xr={ContactSupport:"Contact support@clerk.com",EnsureClerkJWT:"Make sure that this is a valid Clerk-generated JWT.",SetClerkJWTKey:"Set the CLERK_JWT_KEY environment variable.",SetClerkSecretKey:"Set the CLERK_SECRET_KEY environment variable.",EnsureClockSync:"Make sure your system clock is in sync (e.g. turn off and on automatic time synchronization)."},wt=class rq extends Error{static{a(this,"_TokenVerificationError")}constructor({action:t,message:r,reason:n}){super(r),Object.setPrototypeOf(this,rq.prototype),this.reason=n,this.message=r,this.action=t}getFullMessage(){return`${[this.message,this.action].filter(t=>t).join(" ")} (reason=${this.reason}, token-carrier=${this.tokenCarrier})`}};var id={TokenInvalid:"token-invalid",InvalidSecretKey:"secret-key-invalid",UnexpectedError:"unexpected-error"},ah=class nq extends Error{static{a(this,"_MachineTokenVerificationError")}constructor({message:t,code:r,status:n}){super(t),Object.setPrototypeOf(this,nq.prototype),this.code=r,this.status=n}getFullMessage(){return`${this.message} (code=${this.code}, status=${this.status})`}};import{webcrypto as oq}from"node:crypto";var Dee=fetch.bind(globalThis),Go={crypto:oq,get fetch(){return Dee},AbortController:globalThis.AbortController,Blob:globalThis.Blob,FormData:globalThis.FormData,Headers:globalThis.Headers,Request:globalThis.Request,Response:globalThis.Response},qE={parse(e,t){return Mee(e,iq,t)},stringify(e,t){return qee(e,iq,t)}},iq={chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bits:6};function Mee(e,t,r={}){if(!t.codes){t.codes={};for(let l=0;l<t.chars.length;++l)t.codes[t.chars[l]]=l}if(!r.loose&&e.length*t.bits&7)throw new SyntaxError("Invalid padding");let n=e.length;for(;e[n-1]==="=";)if(--n,!r.loose&&!((e.length-n)*t.bits&7))throw new SyntaxError("Invalid padding");let o=new(r.out??Uint8Array)(n*t.bits/8|0),i=0,s=0,u=0;for(let l=0;l<n;++l){let d=t.codes[e[l]];if(d===void 0)throw new SyntaxError("Invalid character "+e[l]);s=s<<t.bits|d,i+=t.bits,i>=8&&(i-=8,o[u++]=255&s>>i)}if(i>=t.bits||255&s<<8-i)throw new SyntaxError("Unexpected end of data");return o}a(Mee,"parse");function qee(e,t,r={}){let{pad:n=!0}=r,o=(1<<t.bits)-1,i="",s=0,u=0;for(let l=0;l<e.length;++l)for(u=u<<8|255&e[l],s+=8;s>t.bits;)s-=t.bits,i+=t.chars[o&u>>s];if(s&&(i+=t.chars[o&u<<t.bits-s]),n)for(;i.length*t.bits&7;)i+="=";return i}a(qee,"stringify");var LE={RS256:"SHA-256",RS384:"SHA-384",RS512:"SHA-512"},UE="RSASSA-PKCS1-v1_5",aq={RS256:UE,RS384:UE,RS512:UE},FE=Object.keys(LE);function Uee(e){let t=LE[e],r=aq[e];if(!t||!r)throw new Error(`Unsupported algorithm ${e}, expected one of ${FE.join(",")}.`);return{hash:{name:LE[e]},name:aq[e]}}a(Uee,"getCryptoAlgorithm");var Lee=a(e=>Array.isArray(e)&&e.length>0&&e.every(t=>typeof t=="string"),"isArrayString"),Fee=a((e,t)=>{let r=[t].flat().filter(i=>!!i),n=[e].flat().filter(i=>!!i);if(r.length>0&&n.length>0){if(typeof e=="string"){if(!r.includes(e))throw new wt({action:xr.EnsureClerkJWT,reason:nt.TokenVerificationFailed,message:`Invalid JWT audience claim (aud) ${JSON.stringify(e)}. Is not included in "${JSON.stringify(r)}".`})}else if(Lee(e)&&!e.some(i=>r.includes(i)))throw new wt({action:xr.EnsureClerkJWT,reason:nt.TokenVerificationFailed,message:`Invalid JWT audience claim array (aud) ${JSON.stringify(e)}. Is not included in "${JSON.stringify(r)}".`})}},"assertAudienceClaim"),BE=a(e=>{if(!(typeof e>"u")&&e!=="JWT")throw new wt({action:xr.EnsureClerkJWT,reason:nt.TokenInvalid,message:`Invalid JWT type ${JSON.stringify(e)}. Expected "JWT".`})},"assertHeaderType"),JE=a(e=>{if(!FE.includes(e))throw new wt({action:xr.EnsureClerkJWT,reason:nt.TokenInvalidAlgorithm,message:`Invalid JWT algorithm ${JSON.stringify(e)}. Supported: ${FE}.`})},"assertHeaderAlgorithm"),Bee=a(e=>{if(typeof e!="string")throw new wt({action:xr.EnsureClerkJWT,reason:nt.TokenVerificationFailed,message:`Subject claim (sub) is required and must be a string. Received ${JSON.stringify(e)}.`})},"assertSubClaim"),Jee=a((e,t)=>{if(!(!e||!t||t.length===0)&&!t.includes(e))throw new wt({reason:nt.TokenInvalidAuthorizedParties,message:`Invalid JWT Authorized party claim (azp) ${JSON.stringify(e)}. Expected "${t}".`})},"assertAuthorizedPartiesClaim"),Hee=a((e,t)=>{if(typeof e!="number")throw new wt({action:xr.EnsureClerkJWT,reason:nt.TokenVerificationFailed,message:`Invalid JWT expiry date claim (exp) ${JSON.stringify(e)}. Expected number.`});let r=new Date(Date.now()),n=new Date(0);if(n.setUTCSeconds(e),n.getTime()<=r.getTime()-t)throw new wt({reason:nt.TokenExpired,message:`JWT is expired. Expiry date: ${n.toUTCString()}, Current date: ${r.toUTCString()}.`})},"assertExpirationClaim"),Vee=a((e,t)=>{if(typeof e>"u")return;if(typeof e!="number")throw new wt({action:xr.EnsureClerkJWT,reason:nt.TokenVerificationFailed,message:`Invalid JWT not before date claim (nbf) ${JSON.stringify(e)}. Expected number.`});let r=new Date(Date.now()),n=new Date(0);if(n.setUTCSeconds(e),n.getTime()>r.getTime()+t)throw new wt({reason:nt.TokenNotActiveYet,message:`JWT cannot be used prior to not before date claim (nbf). Not before date: ${n.toUTCString()}; Current date: ${r.toUTCString()};`})},"assertActivationClaim"),Zee=a((e,t)=>{if(typeof e>"u")return;if(typeof e!="number")throw new wt({action:xr.EnsureClerkJWT,reason:nt.TokenVerificationFailed,message:`Invalid JWT issued at date claim (iat) ${JSON.stringify(e)}. Expected number.`});let r=new Date(Date.now()),n=new Date(0);if(n.setUTCSeconds(e),n.getTime()>r.getTime()+t)throw new wt({reason:nt.TokenIatInTheFuture,message:`JWT issued at date claim (iat) is in the future. Issued at date: ${n.toUTCString()}; Current date: ${r.toUTCString()};`})},"assertIssuedAtClaim");function Kee(e){let t=e.replace(/-----BEGIN.*?-----/g,"").replace(/-----END.*?-----/g,"").replace(/\s/g,""),r=Lu(t),n=new ArrayBuffer(r.length),o=new Uint8Array(n);for(let i=0,s=r.length;i<s;i++)o[i]=r.charCodeAt(i);return o}a(Kee,"pemToBuffer");function Gee(e,t,r){if(typeof e=="object")return Go.crypto.subtle.importKey("jwk",e,t,!1,[r]);let n=Kee(e),o=r==="sign"?"pkcs8":"spki";return Go.crypto.subtle.importKey(o,n,t,!1,[r])}a(Gee,"importKey");var Wee=5*1e3;async function HE(e,t){let{header:r,signature:n,raw:o}=e,s=new TextEncoder().encode([o.header,o.payload].join(".")),u=Uee(r.alg);try{let l=await Gee(t,u,"verify");return{data:await Go.crypto.subtle.verify(u.name,l,n,s)}}catch(l){return{errors:[new wt({reason:nt.TokenInvalidSignature,message:l?.message})]}}}a(HE,"hasValidSignature");function wo(e){let t=(e||"").toString().split(".");if(t.length!==3)return{errors:[new wt({reason:nt.TokenInvalid,message:"Invalid JWT form. A JWT consists of three parts separated by dots."})]};let[r,n,o]=t,i=new TextDecoder,s=JSON.parse(i.decode(qE.parse(r,{loose:!0}))),u=JSON.parse(i.decode(qE.parse(n,{loose:!0}))),l=qE.parse(o,{loose:!0});return{data:{header:s,payload:u,signature:l,raw:{header:r,payload:n,signature:o,text:e}}}}a(wo,"decodeJwt");async function sq(e,t){let{audience:r,authorizedParties:n,clockSkewInMs:o,key:i}=t,s=o||Wee,{data:u,errors:l}=wo(e);if(l)return{errors:l};let{header:d,payload:p}=u;try{let{typ:y,alg:g}=d;BE(y),JE(g);let{azp:h,sub:v,aud:S,iat:b,exp:w,nbf:k}=p;Bee(v),Fee([S],[r]),Jee(h,n),Hee(w,s),Vee(k,s),Zee(b,s)}catch(y){return{errors:[y]}}let{data:f,errors:m}=await HE(u,i);return m?{errors:[new wt({action:xr.EnsureClerkJWT,reason:nt.TokenVerificationFailed,message:`Error verifying JWT signature. ${m[0]}`})]}:f?{data:p}:{errors:[new wt({reason:nt.TokenInvalidSignature,message:"JWT signature is invalid."})]}}a(sq,"verifyJwt");var uq=a(e=>{throw TypeError(e)},"__typeError"),Qee=a((e,t,r)=>t.has(e)||uq("Cannot "+r),"__accessCheck"),cq=a((e,t,r)=>t.has(e)?uq("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),"__privateAdd"),sh=a((e,t,r)=>(Qee(e,t,"access private method"),r),"__privateMethod");function VE(e){return e?`https://${e.replace(/clerk\.accountsstage\./,"accountsstage.").replace(/clerk\.accounts\.|clerk\./,"accounts.")}`:""}a(VE,"buildAccountsBaseUrl");var Xee={strict_mfa:{afterMinutes:10,level:"multi_factor"},strict:{afterMinutes:10,level:"second_factor"},moderate:{afterMinutes:60,level:"second_factor"},lax:{afterMinutes:1440,level:"second_factor"}},Yee=new Set(["first_factor","second_factor","multi_factor"]),ete=new Set(["strict_mfa","strict","moderate","lax"]),tte=a(e=>typeof e=="number"&&e>0,"isValidMaxAge"),rte=a(e=>Yee.has(e),"isValidLevel"),nte=a(e=>ete.has(e),"isValidVerificationType"),ZE=a(e=>e.replace(/^(org:)*/,"org:"),"prefixWithOrg"),ote=a((e,t)=>{let{orgId:r,orgRole:n,orgPermissions:o}=t;return!e.role&&!e.permission||!r||!n||!o?null:e.permission?o.includes(ZE(e.permission)):e.role?ZE(n)===ZE(e.role):null},"checkOrgAuthorization"),lq=a((e,t)=>{let{org:r,user:n}=uh(e),[o,i]=t.split(":"),s=i||o;return o==="org"?r.includes(s):o==="user"?n.includes(s):[...r,...n].includes(s)},"checkForFeatureOrPlan"),ite=a((e,t)=>{let{features:r,plans:n}=t;return e.feature&&r?lq(r,e.feature):e.plan&&n?lq(n,e.plan):null},"checkBillingAuthorization"),uh=a(e=>{let t=e?e.split(",").map(r=>r.trim()):[];return{org:t.filter(r=>r.split(":")[0].includes("o")).map(r=>r.split(":")[1]),user:t.filter(r=>r.split(":")[0].includes("u")).map(r=>r.split(":")[1])}},"splitByScope"),dq=a(e=>{if(!e)return!1;let t=a(o=>typeof o=="string"?Xee[o]:o,"convertConfigToObject"),r=typeof e=="string"&&nte(e),n=typeof e=="object"&&rte(e.level)&&tte(e.afterMinutes);return r||n?t.bind(null,e):!1},"validateReverificationConfig"),ate=a((e,{factorVerificationAge:t})=>{if(!e.reverification||!t)return null;let r=dq(e.reverification);if(!r)return null;let{level:n,afterMinutes:o}=r(),[i,s]=t,u=i!==-1?o>i:null,l=s!==-1?o>s:null;switch(n){case"first_factor":return u;case"second_factor":return s!==-1?l:u;case"multi_factor":return s===-1?u:u&&l}},"checkReverificationAuthorization"),KE=a(e=>t=>{if(!e.userId)return!1;let r=ite(t,e),n=ote(t,e),o=ate(t,e);return[r||n,o].some(i=>i===null)?[r||n,o].some(i=>i===!0):[r||n,o].every(i=>i===!0)},"createCheckAuthorization");var ste=a(({per:e,fpm:t})=>{if(!e||!t)return{permissions:[],featurePermissionMap:[]};let r=e.split(",").map(n=>n.trim());return{permissions:r,featurePermissionMap:t.split(",").map(n=>Number.parseInt(n.trim(),10)).map(n=>n.toString(2).padStart(r.length,"0").split("").map(o=>Number.parseInt(o,10)).reverse()).filter(Boolean)}},"parsePermissions");function ute({features:e,permissions:t,featurePermissionMap:r}){if(!e||!t||!r)return[];let n=[];for(let o=0;o<e.length;o++){let i=e[o];if(o>=r.length)continue;let s=r[o];if(s)for(let u=0;u<s.length;u++)s[u]===1&&n.push(`org:${i}:${t[u]}`)}return n}a(ute,"buildOrgPermissions");var pq=a(e=>{let t,r,n,o,i=e.fva??null,s=e.sts??null;switch(e.v){case 2:if(e.o){t=e.o?.id,n=e.o?.slg,e.o?.rol&&(r=`org:${e.o?.rol}`);let{org:u}=uh(e.fea),{permissions:l,featurePermissionMap:d}=ste({per:e.o?.per,fpm:e.o?.fpm});o=ute({features:u,featurePermissionMap:d,permissions:l})}break;default:t=e.org_id,r=e.org_role,n=e.org_slug,o=e.org_permissions;break}return{sessionClaims:e,sessionId:e.sid,sessionStatus:s,actor:e.act,userId:e.sub,orgId:t,orgRole:r,orgSlug:n,orgPermissions:o,factorVerificationAge:i}},"__experimental_JWTPayloadToAuthObjectProperties");var tU=ou(hq(),1);function _te(e){for(var t=[],r=0;r<e.length;){var n=e[r];if(n==="*"||n==="+"||n==="?"){t.push({type:"MODIFIER",index:r,value:e[r++]});continue}if(n==="\\"){t.push({type:"ESCAPED_CHAR",index:r++,value:e[r++]});continue}if(n==="{"){t.push({type:"OPEN",index:r,value:e[r++]});continue}if(n==="}"){t.push({type:"CLOSE",index:r,value:e[r++]});continue}if(n===":"){for(var o="",i=r+1;i<e.length;){var s=e.charCodeAt(i);if(s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122||s===95){o+=e[i++];continue}break}if(!o)throw new TypeError("Missing parameter name at ".concat(r));t.push({type:"NAME",index:r,value:o}),r=i;continue}if(n==="("){var u=1,l="",i=r+1;if(e[i]==="?")throw new TypeError('Pattern cannot start with "?" at '.concat(i));for(;i<e.length;){if(e[i]==="\\"){l+=e[i++]+e[i++];continue}if(e[i]===")"){if(u--,u===0){i++;break}}else if(e[i]==="("&&(u++,e[i+1]!=="?"))throw new TypeError("Capturing groups are not allowed at ".concat(i));l+=e[i++]}if(u)throw new TypeError("Unbalanced pattern at ".concat(r));if(!l)throw new TypeError("Missing pattern at ".concat(r));t.push({type:"PATTERN",index:r,value:l}),r=i;continue}t.push({type:"CHAR",index:r,value:e[r++]})}return t.push({type:"END",index:r,value:""}),t}a(_te,"_");function bte(e,t){t===void 0&&(t={});for(var r=_te(e),n=t.prefixes,o=n===void 0?"./":n,i=t.delimiter,s=i===void 0?"/#?":i,u=[],l=0,d=0,p="",f=function(R){if(d<r.length&&r[d].type===R)return r[d++].value},m=function(R){var O=f(R);if(O!==void 0)return O;var z=r[d],D=z.type,X=z.index;throw new TypeError("Unexpected ".concat(D," at ").concat(X,", expected ").concat(R))},y=function(){for(var R="",O;O=f("CHAR")||f("ESCAPED_CHAR");)R+=O;return R},g=function(R){for(var O=0,z=s;O<z.length;O++){var D=z[O];if(R.indexOf(D)>-1)return!0}return!1},h=function(R){var O=u[u.length-1],z=R||(O&&typeof O=="string"?O:"");if(O&&!z)throw new TypeError('Must have text between two parameters, missing text after "'.concat(O.name,'"'));return!z||g(z)?"[^".concat(ya(s),"]+?"):"(?:(?!".concat(ya(z),")[^").concat(ya(s),"])+?")};d<r.length;){var v=f("CHAR"),S=f("NAME"),b=f("PATTERN");if(S||b){var w=v||"";o.indexOf(w)===-1&&(p+=w,w=""),p&&(u.push(p),p=""),u.push({name:S||l++,prefix:w,suffix:"",pattern:b||h(w),modifier:f("MODIFIER")||""});continue}var k=v||f("ESCAPED_CHAR");if(k){p+=k;continue}if(p&&(u.push(p),p=""),f("OPEN")){var w=y(),$=f("NAME")||"",C=f("PATTERN")||"",A=y();m("CLOSE"),u.push({name:$||(C?l++:""),pattern:$&&!C?h(w):C,prefix:w,suffix:A,modifier:f("MODIFIER")||""});continue}m("END")}return u}a(bte,"F");function Ste(e,t){var r=[];return wte(yq(e,r,t),r,t)}a(Ste,"H");function wte(e,t,r){r===void 0&&(r={});var n=r.decode,o=n===void 0?function(i){return i}:n;return function(i){var s=e.exec(i);if(!s)return!1;for(var u=s[0],l=s.index,d=Object.create(null),p=function(m){if(s[m]===void 0)return"continue";var y=t[m-1];y.modifier==="*"||y.modifier==="+"?d[y.name]=s[m].split(y.prefix+y.suffix).map(function(g){return o(g,y)}):d[y.name]=o(s[m],y)},f=1;f<s.length;f++)p(f);return{path:u,index:l,params:d}}}a(wte,"I");function ya(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}a(ya,"s");function gq(e){return e&&e.sensitive?"":"i"}a(gq,"D");function xte(e,t){if(!t)return e;for(var r=/\((?:\?<(.*?)>)?(?!\?)/g,n=0,o=r.exec(e.source);o;)t.push({name:o[1]||n++,prefix:"",suffix:"",modifier:"",pattern:""}),o=r.exec(e.source);return e}a(xte,"$");function Tte(e,t,r){var n=e.map(function(o){return yq(o,t,r).source});return new RegExp("(?:".concat(n.join("|"),")"),gq(r))}a(Tte,"W");function Ete(e,t,r){return kte(bte(e,r),t,r)}a(Ete,"L");function kte(e,t,r){r===void 0&&(r={});for(var n=r.strict,o=n===void 0?!1:n,i=r.start,s=i===void 0?!0:i,u=r.end,l=u===void 0?!0:u,d=r.encode,p=d===void 0?function(z){return z}:d,f=r.delimiter,m=f===void 0?"/#?":f,y=r.endsWith,g=y===void 0?"":y,h="[".concat(ya(g),"]|$"),v="[".concat(ya(m),"]"),S=s?"^":"",b=0,w=e;b<w.length;b++){var k=w[b];if(typeof k=="string")S+=ya(p(k));else{var $=ya(p(k.prefix)),C=ya(p(k.suffix));if(k.pattern)if(t&&t.push(k),$||C)if(k.modifier==="+"||k.modifier==="*"){var A=k.modifier==="*"?"?":"";S+="(?:".concat($,"((?:").concat(k.pattern,")(?:").concat(C).concat($,"(?:").concat(k.pattern,"))*)").concat(C,")").concat(A)}else S+="(?:".concat($,"(").concat(k.pattern,")").concat(C,")").concat(k.modifier);else{if(k.modifier==="+"||k.modifier==="*")throw new TypeError('Can not repeat "'.concat(k.name,'" without a prefix and suffix'));S+="(".concat(k.pattern,")").concat(k.modifier)}else S+="(?:".concat($).concat(C,")").concat(k.modifier)}}if(l)o||(S+="".concat(v,"?")),S+=r.endsWith?"(?=".concat(h,")"):"$";else{var R=e[e.length-1],O=typeof R=="string"?v.indexOf(R[R.length-1])>-1:R===void 0;o||(S+="(?:".concat(v,"(?=").concat(h,"))?")),O||(S+="(?=".concat(v,"|").concat(h,")"))}return new RegExp(S,gq(r))}a(kte,"U");function yq(e,t,r){return e instanceof RegExp?xte(e,t):Array.isArray(e)?Tte(e,t,r):Ete(e,t,r)}a(yq,"P");function GE(e,t){try{return Ste(e,t)}catch(r){throw new Error(`Invalid path and options: Consult the documentation of path-to-regexp here: https://github.com/pillarjs/path-to-regexp/tree/6.x
${r.message}`)}}a(GE,"match");var qq="https://api.clerk.com",Uq="v1",Lq="@clerk/backend@2.24.0",Ote=300,lk="2025-11-10",Ate={AuthToken:"__clerkAuthToken",AuthSignature:"__clerkAuthSignature",AuthStatus:"__clerkAuthStatus",AuthReason:"__clerkAuthReason",AuthMessage:"__clerkAuthMessage",ClerkUrl:"__clerkUrl"},yh={Session:"__session",Refresh:"__refresh",ClientUat:"__client_uat",Handshake:"__clerk_handshake",DevBrowser:"__clerk_db_jwt",RedirectCount:"__clerk_redirect_count",HandshakeNonce:"__clerk_handshake_nonce"},Cte={ClerkSynced:"__clerk_synced",SuffixedCookies:"suffixed_cookies",ClerkRedirectUrl:"__clerk_redirect_url",DevBrowser:yh.DevBrowser,Handshake:yh.Handshake,HandshakeHelp:"__clerk_help",LegacyDevBrowser:"__dev_session",HandshakeReason:"__clerk_hs_reason",HandshakeNonce:yh.HandshakeNonce,HandshakeFormat:"format"},Rte={Accept:"accept",AuthMessage:"x-clerk-auth-message",Authorization:"authorization",AuthReason:"x-clerk-auth-reason",AuthSignature:"x-clerk-auth-signature",AuthStatus:"x-clerk-auth-status",AuthToken:"x-clerk-auth-token",CacheControl:"cache-control",ClerkRedirectTo:"x-clerk-redirect-to",ClerkRequestData:"x-clerk-request-data",ClerkUrl:"x-clerk-clerk-url",CloudFrontForwardedProto:"cloudfront-forwarded-proto",ContentType:"content-type",ContentSecurityPolicy:"content-security-policy",ContentSecurityPolicyReportOnly:"content-security-policy-report-only",EnableDebug:"x-clerk-debug",ForwardedHost:"x-forwarded-host",ForwardedPort:"x-forwarded-port",ForwardedProto:"x-forwarded-proto",Host:"host",Location:"location",Nonce:"x-nonce",Origin:"origin",Referrer:"referer",SecFetchDest:"sec-fetch-dest",SecFetchSite:"sec-fetch-site",UserAgent:"user-agent",ReportingEndpoints:"reporting-endpoints"},$te={Json:"application/json"},Ae={Attributes:Ate,Cookies:yh,Headers:Rte,ContentTypes:$te,QueryParameters:Cte};function vq(e,t){return Object.keys(e).reduce((r,n)=>({...r,[n]:t[n]||r[n]}),{...e})}a(vq,"mergePreDefinedOptions");function Fq(e){if(!e||typeof e!="string")throw Error("Missing Clerk Secret Key. Go to https://dashboard.clerk.com and get your key for your instance.")}a(Fq,"assertValidSecretKey");function Nte(e){ga(e,{fatal:!0})}a(Nte,"assertValidPublishableKey");var Ge={SessionToken:"session_token",ApiKey:"api_key",M2MToken:"m2m_token",OAuthToken:"oauth_token"},zte=class{static{a(this,"AuthenticateContext")}constructor(e,t,r){this.cookieSuffix=e,this.clerkRequest=t,this.originalFrontendApi="",r.acceptsToken===Ge.M2MToken||r.acceptsToken===Ge.ApiKey?this.initHeaderValues():(this.initPublishableKeyValues(r),this.initHeaderValues(),this.initCookieValues(),this.initHandshakeValues()),Object.assign(this,r),this.clerkUrl=this.clerkRequest.clerkUrl}get sessionToken(){return this.sessionTokenInCookie||this.tokenInHeader}usesSuffixedCookies(){let e=this.getSuffixedCookie(Ae.Cookies.ClientUat),t=this.getCookie(Ae.Cookies.ClientUat),r=this.getSuffixedCookie(Ae.Cookies.Session)||"",n=this.getCookie(Ae.Cookies.Session)||"";if(n&&!this.tokenHasIssuer(n))return!1;if(n&&!this.tokenBelongsToInstance(n))return!0;if(!e&&!r)return!1;let{data:o}=wo(n),i=o?.payload.iat||0,{data:s}=wo(r),u=s?.payload.iat||0;if(e!=="0"&&t!=="0"&&i>u||e==="0"&&t!=="0")return!1;if(this.instanceType!=="production"){let l=this.sessionExpired(s);if(e!=="0"&&t==="0"&&l)return!1}return!(!e&&r)}isCrossOriginReferrer(){if(!this.referrer||!this.clerkUrl.origin)return!1;try{return new URL(this.referrer).origin!==this.clerkUrl.origin}catch{return!1}}isKnownClerkReferrer(){if(!this.referrer)return!1;try{let e=new URL(this.referrer),t=e.hostname;if(this.frontendApi){let n=this.frontendApi.startsWith("http")?new URL(this.frontendApi).hostname:this.frontendApi;if(t===n)return!0}if(RE(t)||$E(t))return!0;let r=VE(this.frontendApi);if(r){let n=new URL(r).origin;if(e.origin===n)return!0}return!!t.startsWith("accounts.")}catch{return!1}}initPublishableKeyValues(e){Nte(e.publishableKey),this.publishableKey=e.publishableKey;let t=ga(this.publishableKey,{fatal:!0,domain:e.domain,isSatellite:e.isSatellite});this.originalFrontendApi=t.frontendApi;let r=ga(this.publishableKey,{fatal:!0,proxyUrl:e.proxyUrl,domain:e.domain,isSatellite:e.isSatellite});this.instanceType=r.instanceType,this.frontendApi=r.frontendApi}initHeaderValues(){this.tokenInHeader=this.parseAuthorizationHeader(this.getHeader(Ae.Headers.Authorization)),this.origin=this.getHeader(Ae.Headers.Origin),this.host=this.getHeader(Ae.Headers.Host),this.forwardedHost=this.getHeader(Ae.Headers.ForwardedHost),this.forwardedProto=this.getHeader(Ae.Headers.CloudFrontForwardedProto)||this.getHeader(Ae.Headers.ForwardedProto),this.referrer=this.getHeader(Ae.Headers.Referrer),this.userAgent=this.getHeader(Ae.Headers.UserAgent),this.secFetchDest=this.getHeader(Ae.Headers.SecFetchDest),this.accept=this.getHeader(Ae.Headers.Accept)}initCookieValues(){this.sessionTokenInCookie=this.getSuffixedOrUnSuffixedCookie(Ae.Cookies.Session),this.refreshTokenInCookie=this.getSuffixedCookie(Ae.Cookies.Refresh),this.clientUat=Number.parseInt(this.getSuffixedOrUnSuffixedCookie(Ae.Cookies.ClientUat)||"")||0}initHandshakeValues(){this.devBrowserToken=this.getQueryParam(Ae.QueryParameters.DevBrowser)||this.getSuffixedOrUnSuffixedCookie(Ae.Cookies.DevBrowser),this.handshakeToken=this.getQueryParam(Ae.QueryParameters.Handshake)||this.getCookie(Ae.Cookies.Handshake),this.handshakeRedirectLoopCounter=Number(this.getCookie(Ae.Cookies.RedirectCount))||0,this.handshakeNonce=this.getQueryParam(Ae.QueryParameters.HandshakeNonce)||this.getCookie(Ae.Cookies.HandshakeNonce)}getQueryParam(e){return this.clerkRequest.clerkUrl.searchParams.get(e)}getHeader(e){return this.clerkRequest.headers.get(e)||void 0}getCookie(e){return this.clerkRequest.cookies.get(e)||void 0}getSuffixedCookie(e){return this.getCookie(rh(e,this.cookieSuffix))||void 0}getSuffixedOrUnSuffixedCookie(e){return this.usesSuffixedCookies()?this.getSuffixedCookie(e):this.getCookie(e)}parseAuthorizationHeader(e){if(!e)return;let[t,r]=e.split(" ",2);if(!r)return t;if(t==="Bearer")return r}tokenHasIssuer(e){let{data:t,errors:r}=wo(e);return r?!1:!!t.payload.iss}tokenBelongsToInstance(e){if(!e)return!1;let{data:t,errors:r}=wo(e);if(r)return!1;let n=t.payload.iss.replace(/https?:\/\//gi,"");return this.originalFrontendApi===n}sessionExpired(e){return!!e&&e?.payload.exp<=Date.now()/1e3>>0}},jte=a(async(e,t)=>{let r=t.publishableKey?await th(t.publishableKey,Go.crypto.subtle):"";return new zte(r,e,t)},"createAuthenticateContext"),nk="/",Dte=new RegExp("(?<!:)"+nk+"{1,}","g");function ie(...e){return e.filter(t=>t).join(nk).replace(Dte,nk)}a(ie,"joinPaths");var kt=class{static{a(this,"AbstractAPI")}constructor(e){this.request=e}requireId(e){if(!e)throw new Error("A valid resource ID is required.")}},_q="/actor_tokens",Mte=class extends kt{static{a(this,"ActorTokenAPI")}async create(e){return this.request({method:"POST",path:_q,bodyParams:e})}async revoke(e){return this.requireId(e),this.request({method:"POST",path:ie(_q,e,"revoke")})}},bq="/accountless_applications",qte=class extends kt{static{a(this,"AccountlessApplicationAPI")}async createAccountlessApplication(e){let t=e?.requestHeaders?Object.fromEntries(e.requestHeaders.entries()):void 0;return this.request({method:"POST",path:bq,headerParams:t})}async completeAccountlessApplicationOnboarding(e){let t=e?.requestHeaders?Object.fromEntries(e.requestHeaders.entries()):void 0;return this.request({method:"POST",path:ie(bq,"complete"),headerParams:t})}},WE="/allowlist_identifiers",Ute=class extends kt{static{a(this,"AllowlistIdentifierAPI")}async getAllowlistIdentifierList(e={}){return this.request({method:"GET",path:WE,queryParams:{...e,paginated:!0}})}async createAllowlistIdentifier(e){return this.request({method:"POST",path:WE,bodyParams:e})}async deleteAllowlistIdentifier(e){return this.requireId(e),this.request({method:"DELETE",path:ie(WE,e)})}},ad="/api_keys",Lte=class extends kt{static{a(this,"APIKeysAPI")}async list(e){return this.request({method:"GET",path:ad,queryParams:e})}async create(e){return this.request({method:"POST",path:ad,bodyParams:e})}async revoke(e){let{apiKeyId:t,...r}=e;return this.requireId(t),this.request({method:"POST",path:ie(ad,t,"revoke"),bodyParams:r})}async getSecret(e){return this.requireId(e),this.request({method:"GET",path:ie(ad,e,"secret")})}async verifySecret(e){return this.request({method:"POST",path:ie(ad,"verify"),bodyParams:{secret:e}})}},Fte="/beta_features",Bte=class extends kt{static{a(this,"BetaFeaturesAPI")}async changeDomain(e){return this.request({method:"POST",path:ie(Fte,"change_domain"),bodyParams:e})}},QE="/blocklist_identifiers",Jte=class extends kt{static{a(this,"BlocklistIdentifierAPI")}async getBlocklistIdentifierList(e={}){return this.request({method:"GET",path:QE,queryParams:e})}async createBlocklistIdentifier(e){return this.request({method:"POST",path:QE,bodyParams:e})}async deleteBlocklistIdentifier(e){return this.requireId(e),this.request({method:"DELETE",path:ie(QE,e)})}},lh="/clients",Hte=class extends kt{static{a(this,"ClientAPI")}async getClientList(e={}){return this.request({method:"GET",path:lh,queryParams:{...e,paginated:!0}})}async getClient(e){return this.requireId(e),this.request({method:"GET",path:ie(lh,e)})}verifyClient(e){return this.request({method:"POST",path:ie(lh,"verify"),bodyParams:{token:e}})}async getHandshakePayload(e){return this.request({method:"GET",path:ie(lh,"handshake_payload"),queryParams:e})}},dh="/domains",Vte=class extends kt{static{a(this,"DomainAPI")}async list(){return this.request({method:"GET",path:dh})}async add(e){return this.request({method:"POST",path:dh,bodyParams:e})}async update(e){let{domainId:t,...r}=e;return this.requireId(t),this.request({method:"PATCH",path:ie(dh,t),bodyParams:r})}async delete(e){return this.deleteDomain(e)}async deleteDomain(e){return this.requireId(e),this.request({method:"DELETE",path:ie(dh,e)})}},ph="/email_addresses",Zte=class extends kt{static{a(this,"EmailAddressAPI")}async getEmailAddress(e){return this.requireId(e),this.request({method:"GET",path:ie(ph,e)})}async createEmailAddress(e){return this.request({method:"POST",path:ph,bodyParams:e})}async updateEmailAddress(e,t={}){return this.requireId(e),this.request({method:"PATCH",path:ie(ph,e),bodyParams:t})}async deleteEmailAddress(e){return this.requireId(e),this.request({method:"DELETE",path:ie(ph,e)})}},Kte="/oauth_applications/access_tokens",Gte=class extends kt{static{a(this,"IdPOAuthAccessTokenApi")}async verifyAccessToken(e){return this.request({method:"POST",path:ie(Kte,"verify"),bodyParams:{access_token:e}})}},mh="/instance",Wte=class extends kt{static{a(this,"InstanceAPI")}async get(){return this.request({method:"GET",path:mh})}async update(e){return this.request({method:"PATCH",path:mh,bodyParams:e})}async updateRestrictions(e){return this.request({method:"PATCH",path:ie(mh,"restrictions"),bodyParams:e})}async updateOrganizationSettings(e){return this.request({method:"PATCH",path:ie(mh,"organization_settings"),bodyParams:e})}},fh="/invitations",Qte=class extends kt{static{a(this,"InvitationAPI")}async getInvitationList(e={}){return this.request({method:"GET",path:fh,queryParams:{...e,paginated:!0}})}async createInvitation(e){return this.request({method:"POST",path:fh,bodyParams:e})}async createInvitationBulk(e){return this.request({method:"POST",path:ie(fh,"bulk"),bodyParams:e})}async revokeInvitation(e){return this.requireId(e),this.request({method:"POST",path:ie(fh,e,"revoke")})}},Ii="/machines",Xte=class extends kt{static{a(this,"MachineApi")}async get(e){return this.requireId(e),this.request({method:"GET",path:ie(Ii,e)})}async list(e={}){return this.request({method:"GET",path:Ii,queryParams:e})}async create(e){return this.request({method:"POST",path:Ii,bodyParams:e})}async update(e){let{machineId:t,...r}=e;return this.requireId(t),this.request({method:"PATCH",path:ie(Ii,t),bodyParams:r})}async delete(e){return this.requireId(e),this.request({method:"DELETE",path:ie(Ii,e)})}async getSecretKey(e){return this.requireId(e),this.request({method:"GET",path:ie(Ii,e,"secret_key")})}async rotateSecretKey(e){let{machineId:t,previousTokenTtl:r}=e;return this.requireId(t),this.request({method:"POST",path:ie(Ii,t,"secret_key","rotate"),bodyParams:{previousTokenTtl:r}})}async createScope(e,t){return this.requireId(e),this.request({method:"POST",path:ie(Ii,e,"scopes"),bodyParams:{toMachineId:t}})}async deleteScope(e,t){return this.requireId(e),this.request({method:"DELETE",path:ie(Ii,e,"scopes",t)})}},XE="/m2m_tokens",dd,vh,Yte=class extends kt{static{a(this,"M2MTokenApi")}constructor(){super(...arguments),cq(this,dd)}async createToken(e){let{claims:t=null,machineSecretKey:r,secondsUntilExpiration:n=null}=e||{},o=sh(this,dd,vh).call(this,{method:"POST",path:XE,bodyParams:{secondsUntilExpiration:n,claims:t}},r);return this.request(o)}async revokeToken(e){let{m2mTokenId:t,revocationReason:r=null,machineSecretKey:n}=e;this.requireId(t);let o=sh(this,dd,vh).call(this,{method:"POST",path:ie(XE,t,"revoke"),bodyParams:{revocationReason:r}},n);return this.request(o)}async verifyToken(e){let{token:t,machineSecretKey:r}=e,n=sh(this,dd,vh).call(this,{method:"POST",path:ie(XE,"verify"),bodyParams:{token:t}},r);return this.request(n)}};dd=new WeakSet;vh=a(function(e,t){return t?{...e,headerParams:{...e.headerParams,Authorization:`Bearer ${t}`}}:e},"createRequestOptions_fn");var ere="/jwks",tre=class extends kt{static{a(this,"JwksAPI")}async getJwks(){return this.request({method:"GET",path:ere})}},sd="/jwt_templates",rre=class extends kt{static{a(this,"JwtTemplatesApi")}async list(e={}){return this.request({method:"GET",path:sd,queryParams:{...e,paginated:!0}})}async get(e){return this.requireId(e),this.request({method:"GET",path:ie(sd,e)})}async create(e){return this.request({method:"POST",path:sd,bodyParams:e})}async update(e){let{templateId:t,...r}=e;return this.requireId(t),this.request({method:"PATCH",path:ie(sd,t),bodyParams:r})}async delete(e){return this.requireId(e),this.request({method:"DELETE",path:ie(sd,e)})}},ar="/organizations",nre=class extends kt{static{a(this,"OrganizationAPI")}async getOrganizationList(e){return this.request({method:"GET",path:ar,queryParams:e})}async createOrganization(e){return this.request({method:"POST",path:ar,bodyParams:e})}async getOrganization(e){let{includeMembersCount:t}=e,r="organizationId"in e?e.organizationId:e.slug;return this.requireId(r),this.request({method:"GET",path:ie(ar,r),queryParams:{includeMembersCount:t}})}async updateOrganization(e,t){return this.requireId(e),this.request({method:"PATCH",path:ie(ar,e),bodyParams:t})}async updateOrganizationLogo(e,t){this.requireId(e);let r=new Go.FormData;return r.append("file",t?.file),t?.uploaderUserId&&r.append("uploader_user_id",t?.uploaderUserId),this.request({method:"PUT",path:ie(ar,e,"logo"),formData:r})}async deleteOrganizationLogo(e){return this.requireId(e),this.request({method:"DELETE",path:ie(ar,e,"logo")})}async updateOrganizationMetadata(e,t){return this.requireId(e),this.request({method:"PATCH",path:ie(ar,e,"metadata"),bodyParams:t})}async deleteOrganization(e){return this.request({method:"DELETE",path:ie(ar,e)})}async getOrganizationMembershipList(e){let{organizationId:t,...r}=e;return this.requireId(t),this.request({method:"GET",path:ie(ar,t,"memberships"),queryParams:r})}async getInstanceOrganizationMembershipList(e){return this.request({method:"GET",path:"/organization_memberships",queryParams:e})}async createOrganizationMembership(e){let{organizationId:t,...r}=e;return this.requireId(t),this.request({method:"POST",path:ie(ar,t,"memberships"),bodyParams:r})}async updateOrganizationMembership(e){let{organizationId:t,userId:r,...n}=e;return this.requireId(t),this.request({method:"PATCH",path:ie(ar,t,"memberships",r),bodyParams:n})}async updateOrganizationMembershipMetadata(e){let{organizationId:t,userId:r,...n}=e;return this.request({method:"PATCH",path:ie(ar,t,"memberships",r,"metadata"),bodyParams:n})}async deleteOrganizationMembership(e){let{organizationId:t,userId:r}=e;return this.requireId(t),this.request({method:"DELETE",path:ie(ar,t,"memberships",r)})}async getOrganizationInvitationList(e){let{organizationId:t,...r}=e;return this.requireId(t),this.request({method:"GET",path:ie(ar,t,"invitations"),queryParams:r})}async createOrganizationInvitation(e){let{organizationId:t,...r}=e;return this.requireId(t),this.request({method:"POST",path:ie(ar,t,"invitations"),bodyParams:r})}async createOrganizationInvitationBulk(e,t){return this.requireId(e),this.request({method:"POST",path:ie(ar,e,"invitations","bulk"),bodyParams:t})}async getOrganizationInvitation(e){let{organizationId:t,invitationId:r}=e;return this.requireId(t),this.requireId(r),this.request({method:"GET",path:ie(ar,t,"invitations",r)})}async revokeOrganizationInvitation(e){let{organizationId:t,invitationId:r,...n}=e;return this.requireId(t),this.request({method:"POST",path:ie(ar,t,"invitations",r,"revoke"),bodyParams:n})}async getOrganizationDomainList(e){let{organizationId:t,...r}=e;return this.requireId(t),this.request({method:"GET",path:ie(ar,t,"domains"),queryParams:r})}async createOrganizationDomain(e){let{organizationId:t,...r}=e;return this.requireId(t),this.request({method:"POST",path:ie(ar,t,"domains"),bodyParams:{...r,verified:r.verified??!0}})}async updateOrganizationDomain(e){let{organizationId:t,domainId:r,...n}=e;return this.requireId(t),this.requireId(r),this.request({method:"PATCH",path:ie(ar,t,"domains",r),bodyParams:n})}async deleteOrganizationDomain(e){let{organizationId:t,domainId:r}=e;return this.requireId(t),this.requireId(r),this.request({method:"DELETE",path:ie(ar,t,"domains",r)})}},Fu="/oauth_applications",ore=class extends kt{static{a(this,"OAuthApplicationsApi")}async list(e={}){return this.request({method:"GET",path:Fu,queryParams:e})}async get(e){return this.requireId(e),this.request({method:"GET",path:ie(Fu,e)})}async create(e){return this.request({method:"POST",path:Fu,bodyParams:e})}async update(e){let{oauthApplicationId:t,...r}=e;return this.requireId(t),this.request({method:"PATCH",path:ie(Fu,t),bodyParams:r})}async delete(e){return this.requireId(e),this.request({method:"DELETE",path:ie(Fu,e)})}async rotateSecret(e){return this.requireId(e),this.request({method:"POST",path:ie(Fu,e,"rotate_secret")})}},hh="/phone_numbers",ire=class extends kt{static{a(this,"PhoneNumberAPI")}async getPhoneNumber(e){return this.requireId(e),this.request({method:"GET",path:ie(hh,e)})}async createPhoneNumber(e){return this.request({method:"POST",path:hh,bodyParams:e})}async updatePhoneNumber(e,t={}){return this.requireId(e),this.request({method:"PATCH",path:ie(hh,e),bodyParams:t})}async deletePhoneNumber(e){return this.requireId(e),this.request({method:"DELETE",path:ie(hh,e)})}},are="/proxy_checks",sre=class extends kt{static{a(this,"ProxyCheckAPI")}async verify(e){return this.request({method:"POST",path:are,bodyParams:e})}},gh="/redirect_urls",ure=class extends kt{static{a(this,"RedirectUrlAPI")}async getRedirectUrlList(){return this.request({method:"GET",path:gh,queryParams:{paginated:!0}})}async getRedirectUrl(e){return this.requireId(e),this.request({method:"GET",path:ie(gh,e)})}async createRedirectUrl(e){return this.request({method:"POST",path:gh,bodyParams:e})}async deleteRedirectUrl(e){return this.requireId(e),this.request({method:"DELETE",path:ie(gh,e)})}},ud="/saml_connections",cre=class extends kt{static{a(this,"SamlConnectionAPI")}async getSamlConnectionList(e={}){return this.request({method:"GET",path:ud,queryParams:e})}async createSamlConnection(e){return this.request({method:"POST",path:ud,bodyParams:e,options:{deepSnakecaseBodyParamKeys:!0}})}async getSamlConnection(e){return this.requireId(e),this.request({method:"GET",path:ie(ud,e)})}async updateSamlConnection(e,t={}){return this.requireId(e),this.request({method:"PATCH",path:ie(ud,e),bodyParams:t,options:{deepSnakecaseBodyParamKeys:!0}})}async deleteSamlConnection(e){return this.requireId(e),this.request({method:"DELETE",path:ie(ud,e)})}},va="/sessions",lre=class extends kt{static{a(this,"SessionAPI")}async getSessionList(e={}){return this.request({method:"GET",path:va,queryParams:{...e,paginated:!0}})}async getSession(e){return this.requireId(e),this.request({method:"GET",path:ie(va,e)})}async createSession(e){return this.request({method:"POST",path:va,bodyParams:e})}async revokeSession(e){return this.requireId(e),this.request({method:"POST",path:ie(va,e,"revoke")})}async verifySession(e,t){return this.requireId(e),this.request({method:"POST",path:ie(va,e,"verify"),bodyParams:{token:t}})}async getToken(e,t,r){this.requireId(e);let o={method:"POST",path:t?ie(va,e,"tokens",t):ie(va,e,"tokens")};return r!==void 0&&(o.bodyParams={expires_in_seconds:r}),this.request(o)}async refreshSession(e,t){this.requireId(e);let{suffixed_cookies:r,...n}=t;return this.request({method:"POST",path:ie(va,e,"refresh"),bodyParams:n,queryParams:{suffixed_cookies:r}})}},Sq="/sign_in_tokens",dre=class extends kt{static{a(this,"SignInTokenAPI")}async createSignInToken(e){return this.request({method:"POST",path:Sq,bodyParams:e})}async revokeSignInToken(e){return this.requireId(e),this.request({method:"POST",path:ie(Sq,e,"revoke")})}},wq="/sign_ups",pre=class extends kt{static{a(this,"SignUpAPI")}async get(e){return this.requireId(e),this.request({method:"GET",path:ie(wq,e)})}async update(e){let{signUpAttemptId:t,...r}=e;return this.request({method:"PATCH",path:ie(wq,t),bodyParams:r})}},mre="/testing_tokens",fre=class extends kt{static{a(this,"TestingTokenAPI")}async createTestingToken(){return this.request({method:"POST",path:mre})}},Wt="/users",hre=class extends kt{static{a(this,"UserAPI")}async getUserList(e={}){let{limit:t,offset:r,orderBy:n,...o}=e,[i,s]=await Promise.all([this.request({method:"GET",path:Wt,queryParams:e}),this.getCount(o)]);return{data:i,totalCount:s}}async getUser(e){return this.requireId(e),this.request({method:"GET",path:ie(Wt,e)})}async createUser(e){return this.request({method:"POST",path:Wt,bodyParams:e})}async updateUser(e,t={}){return this.requireId(e),this.request({method:"PATCH",path:ie(Wt,e),bodyParams:t})}async updateUserProfileImage(e,t){this.requireId(e);let r=new Go.FormData;return r.append("file",t?.file),this.request({method:"POST",path:ie(Wt,e,"profile_image"),formData:r})}async updateUserMetadata(e,t){return this.requireId(e),this.request({method:"PATCH",path:ie(Wt,e,"metadata"),bodyParams:t})}async deleteUser(e){return this.requireId(e),this.request({method:"DELETE",path:ie(Wt,e)})}async getCount(e={}){return this.request({method:"GET",path:ie(Wt,"count"),queryParams:e})}async getUserOauthAccessToken(e,t){this.requireId(e);let r=t.startsWith("oauth_"),n=r?t:`oauth_${t}`;return r&&Yf("getUserOauthAccessToken(userId, provider)","Remove the `oauth_` prefix from the `provider` argument."),this.request({method:"GET",path:ie(Wt,e,"oauth_access_tokens",n),queryParams:{paginated:!0}})}async disableUserMFA(e){return this.requireId(e),this.request({method:"DELETE",path:ie(Wt,e,"mfa")})}async getOrganizationMembershipList(e){let{userId:t,limit:r,offset:n}=e;return this.requireId(t),this.request({method:"GET",path:ie(Wt,t,"organization_memberships"),queryParams:{limit:r,offset:n}})}async getOrganizationInvitationList(e){let{userId:t,...r}=e;return this.requireId(t),this.request({method:"GET",path:ie(Wt,t,"organization_invitations"),queryParams:r})}async verifyPassword(e){let{userId:t,password:r}=e;return this.requireId(t),this.request({method:"POST",path:ie(Wt,t,"verify_password"),bodyParams:{password:r}})}async verifyTOTP(e){let{userId:t,code:r}=e;return this.requireId(t),this.request({method:"POST",path:ie(Wt,t,"verify_totp"),bodyParams:{code:r}})}async banUser(e){return this.requireId(e),this.request({method:"POST",path:ie(Wt,e,"ban")})}async unbanUser(e){return this.requireId(e),this.request({method:"POST",path:ie(Wt,e,"unban")})}async lockUser(e){return this.requireId(e),this.request({method:"POST",path:ie(Wt,e,"lock")})}async unlockUser(e){return this.requireId(e),this.request({method:"POST",path:ie(Wt,e,"unlock")})}async deleteUserProfileImage(e){return this.requireId(e),this.request({method:"DELETE",path:ie(Wt,e,"profile_image")})}async deleteUserPasskey(e){return this.requireId(e.userId),this.requireId(e.passkeyIdentificationId),this.request({method:"DELETE",path:ie(Wt,e.userId,"passkeys",e.passkeyIdentificationId)})}async deleteUserWeb3Wallet(e){return this.requireId(e.userId),this.requireId(e.web3WalletIdentificationId),this.request({method:"DELETE",path:ie(Wt,e.userId,"web3_wallets",e.web3WalletIdentificationId)})}async deleteUserExternalAccount(e){return this.requireId(e.userId),this.requireId(e.externalAccountId),this.request({method:"DELETE",path:ie(Wt,e.userId,"external_accounts",e.externalAccountId)})}async deleteUserBackupCodes(e){return this.requireId(e),this.request({method:"DELETE",path:ie(Wt,e,"backup_code")})}async deleteUserTOTP(e){return this.requireId(e),this.request({method:"DELETE",path:ie(Wt,e,"totp")})}},cd="/waitlist_entries",gre=class extends kt{static{a(this,"WaitlistEntryAPI")}async list(e={}){return this.request({method:"GET",path:cd,queryParams:e})}async create(e){return this.request({method:"POST",path:cd,bodyParams:e})}async invite(e,t={}){return this.requireId(e),this.request({method:"POST",path:ie(cd,e,"invite"),bodyParams:t})}async reject(e){return this.requireId(e),this.request({method:"POST",path:ie(cd,e,"reject")})}async delete(e){return this.requireId(e),this.request({method:"DELETE",path:ie(cd,e)})}},YE="/webhooks",yre=class extends kt{static{a(this,"WebhookAPI")}async createSvixApp(){return this.request({method:"POST",path:ie(YE,"svix")})}async generateSvixAuthURL(){return this.request({method:"POST",path:ie(YE,"svix_url")})}async deleteSvixApp(){return this.request({method:"DELETE",path:ie(YE,"svix")})}},xq="/billing",vre="/organizations",_re="/users",bre=class extends kt{static{a(this,"BillingAPI")}async getPlanList(e){return this.request({method:"GET",path:ie(xq,"plans"),queryParams:e})}async cancelSubscriptionItem(e,t){return this.requireId(e),this.request({method:"DELETE",path:ie(xq,"subscription_items",e),queryParams:t})}async extendSubscriptionItemFreeTrial(e,t){return this.requireId(e),this.request({method:"POST",path:ie("/billing","subscription_items",e,"extend_free_trial"),bodyParams:t})}async getOrganizationBillingSubscription(e){return this.requireId(e),this.request({method:"GET",path:ie(vre,e,"billing","subscription")})}async getUserBillingSubscription(e){return this.requireId(e),this.request({method:"GET",path:ie(_re,e,"billing","subscription")})}},Bq=a(e=>typeof e=="object"&&e!==null,"isObject"),Tq=a(e=>Bq(e)&&!(e instanceof RegExp)&&!(e instanceof Error)&&!(e instanceof Date)&&!(globalThis.Blob&&e instanceof globalThis.Blob),"isObjectCustom"),Sre=Symbol("mapObjectSkip"),ok=a((e,t,r,n=new WeakMap)=>{if(r={deep:!1,target:{},...r},n.has(e))return n.get(e);n.set(e,r.target);let{target:o}=r;delete r.target;let i=a(s=>s.map(u=>Tq(u)?ok(u,t,r,n):u),"mapArray");if(Array.isArray(e))return i(e);for(let[s,u]of Object.entries(e)){let l=t(s,u,e);if(l===Sre)continue;let[d,p,{shouldRecurse:f=!0}={}]=l;d!=="__proto__"&&(r.deep&&f&&Tq(p)&&(p=Array.isArray(p)?i(p):ok(p,t,r,n)),o[d]=p)}return o},"_mapObject");function Eq(e,t,r){if(!Bq(e))throw new TypeError(`Expected an object, got \`${e}\` (${typeof e})`);if(Array.isArray(e))throw new TypeError("Expected an object, got an array");return ok(e,t,r)}a(Eq,"mapObject");var wre=new RegExp("([\\p{Ll}\\d])(\\p{Lu})","gu"),xre=new RegExp("(\\p{Lu})([\\p{Lu}][\\p{Ll}])","gu"),Tre=new RegExp("(\\d)\\p{Ll}|(\\p{L})\\d","u"),Ere=/[^\p{L}\d]+/giu,kq="$1\0$2",Pq="";function Jq(e){let t=e.trim();t=t.replace(wre,kq).replace(xre,kq),t=t.replace(Ere,"\0");let r=0,n=t.length;for(;t.charAt(r)==="\0";)r++;if(r===n)return[];for(;t.charAt(n-1)==="\0";)n--;return t.slice(r,n).split(/\0/g)}a(Jq,"split");function kre(e){let t=Jq(e);for(let r=0;r<t.length;r++){let n=t[r],o=Tre.exec(n);if(o){let i=o.index+(o[1]??o[2]).length;t.splice(r,1,n.slice(0,i),n.slice(i))}}return t}a(kre,"splitSeparateNumbers");function Pre(e,t){let[r,n,o]=Ore(e,t);return r+n.map(Ire(t?.locale)).join(t?.delimiter??" ")+o}a(Pre,"noCase");function Iq(e,t){return Pre(e,{delimiter:"_",...t})}a(Iq,"snakeCase");function Ire(e){return e===!1?t=>t.toLowerCase():t=>t.toLocaleLowerCase(e)}a(Ire,"lowerFactory");function Ore(e,t={}){let r=t.split??(t.separateNumbers?kre:Jq),n=t.prefixCharacters??Pq,o=t.suffixCharacters??Pq,i=0,s=e.length;for(;i<e.length;){let u=e.charAt(i);if(!n.includes(u))break;i++}for(;s>i;){let u=s-1,l=e.charAt(u);if(!o.includes(l))break;s=u}return[e.slice(0,i),r(e.slice(i,s)),e.slice(s)]}a(Ore,"splitPrefixSuffix");var Oq={}.constructor;function Are(e,t){if(Array.isArray(e)){if(e.some(o=>o.constructor!==Oq))throw new Error("obj must be array of plain objects");t={deep:!0,exclude:[],parsingOptions:{},...t};let n=t.snakeCase||(o=>Iq(o,t.parsingOptions));return e.map(o=>Eq(o,(i,s)=>[Aq(t.exclude,i)?i:n(i),s,Cq(i,s,t)],t))}else if(e.constructor!==Oq)throw new Error("obj must be an plain object");t={deep:!0,exclude:[],parsingOptions:{},...t};let r=t.snakeCase||(n=>Iq(n,t.parsingOptions));return Eq(e,(n,o)=>[Aq(t.exclude,n)?n:r(n),o,Cq(n,o,t)],t)}a(Are,"snakecaseKeys");function Aq(e,t){return e.some(r=>typeof r=="string"?r===t:r.test(t))}a(Aq,"matches");function Cq(e,t,r){return r.shouldRecurse?{shouldRecurse:r.shouldRecurse(e,t)}:void 0}a(Cq,"mapperOptions");var Rq=Are,Cre=class Hq{static{a(this,"_AccountlessApplication")}constructor(t,r,n,o){this.publishableKey=t,this.secretKey=r,this.claimUrl=n,this.apiKeysUrl=o}static fromJSON(t){return new Hq(t.publishable_key,t.secret_key,t.claim_url,t.api_keys_url)}},Rre=class Vq{static{a(this,"_ActorToken")}constructor(t,r,n,o,i,s,u,l){this.id=t,this.status=r,this.userId=n,this.actor=o,this.token=i,this.url=s,this.createdAt=u,this.updatedAt=l}static fromJSON(t){return new Vq(t.id,t.status,t.user_id,t.actor,t.token,t.url,t.created_at,t.updated_at)}},$re=class Zq{static{a(this,"_AllowlistIdentifier")}constructor(t,r,n,o,i,s,u){this.id=t,this.identifier=r,this.identifierType=n,this.createdAt=o,this.updatedAt=i,this.instanceId=s,this.invitationId=u}static fromJSON(t){return new Zq(t.id,t.identifier,t.identifier_type,t.created_at,t.updated_at,t.instance_id,t.invitation_id)}},Nre=class Kq{static{a(this,"_APIKey")}constructor(t,r,n,o,i,s,u,l,d,p,f,m,y,g,h,v){this.id=t,this.type=r,this.name=n,this.subject=o,this.scopes=i,this.claims=s,this.revoked=u,this.revocationReason=l,this.expired=d,this.expiration=p,this.createdBy=f,this.description=m,this.lastUsedAt=y,this.createdAt=g,this.updatedAt=h,this.secret=v}static fromJSON(t){return new Kq(t.id,t.type,t.name,t.subject,t.scopes,t.claims,t.revoked,t.revocation_reason,t.expired,t.expiration,t.created_by,t.description,t.last_used_at,t.created_at,t.updated_at,t.secret)}},zre=class Gq{static{a(this,"_BlocklistIdentifier")}constructor(t,r,n,o,i,s){this.id=t,this.identifier=r,this.identifierType=n,this.createdAt=o,this.updatedAt=i,this.instanceId=s}static fromJSON(t){return new Gq(t.id,t.identifier,t.identifier_type,t.created_at,t.updated_at,t.instance_id)}},jre=class Wq{static{a(this,"_SessionActivity")}constructor(t,r,n,o,i,s,u,l){this.id=t,this.isMobile=r,this.ipAddress=n,this.city=o,this.country=i,this.browserVersion=s,this.browserName=u,this.deviceType=l}static fromJSON(t){return new Wq(t.id,t.is_mobile,t.ip_address,t.city,t.country,t.browser_version,t.browser_name,t.device_type)}},Qq=class Xq{static{a(this,"_Session")}constructor(t,r,n,o,i,s,u,l,d,p,f,m=null){this.id=t,this.clientId=r,this.userId=n,this.status=o,this.lastActiveAt=i,this.expireAt=s,this.abandonAt=u,this.createdAt=l,this.updatedAt=d,this.lastActiveOrganizationId=p,this.latestActivity=f,this.actor=m}static fromJSON(t){return new Xq(t.id,t.client_id,t.user_id,t.status,t.last_active_at,t.expire_at,t.abandon_at,t.created_at,t.updated_at,t.last_active_organization_id,t.latest_activity&&jre.fromJSON(t.latest_activity),t.actor)}},Dre=class Yq{static{a(this,"_Client")}constructor(t,r,n,o,i,s,u,l,d){this.id=t,this.sessionIds=r,this.sessions=n,this.signInId=o,this.signUpId=i,this.lastActiveSessionId=s,this.lastAuthenticationStrategy=u,this.createdAt=l,this.updatedAt=d}static fromJSON(t){return new Yq(t.id,t.session_ids,t.sessions.map(r=>Qq.fromJSON(r)),t.sign_in_id,t.sign_up_id,t.last_active_session_id,t.last_authentication_strategy,t.created_at,t.updated_at)}},Mre=class e2{static{a(this,"_CnameTarget")}constructor(t,r,n){this.host=t,this.value=r,this.required=n}static fromJSON(t){return new e2(t.host,t.value,t.required)}},qre=class t2{static{a(this,"_Cookies")}constructor(t){this.cookies=t}static fromJSON(t){return new t2(t.cookies)}},Ure=class r2{static{a(this,"_DeletedObject")}constructor(t,r,n,o){this.object=t,this.id=r,this.slug=n,this.deleted=o}static fromJSON(t){return new r2(t.object,t.id||null,t.slug||null,t.deleted)}},Lre=class n2{static{a(this,"_Domain")}constructor(t,r,n,o,i,s,u,l){this.id=t,this.name=r,this.isSatellite=n,this.frontendApiUrl=o,this.developmentOrigin=i,this.cnameTargets=s,this.accountsPortalUrl=u,this.proxyUrl=l}static fromJSON(t){return new n2(t.id,t.name,t.is_satellite,t.frontend_api_url,t.development_origin,t.cname_targets&&t.cname_targets.map(r=>Mre.fromJSON(r)),t.accounts_portal_url,t.proxy_url)}},Fre=class o2{static{a(this,"_Email")}constructor(t,r,n,o,i,s,u,l,d,p,f){this.id=t,this.fromEmailName=r,this.emailAddressId=n,this.toEmailAddress=o,this.subject=i,this.body=s,this.bodyPlain=u,this.status=l,this.slug=d,this.data=p,this.deliveredByClerk=f}static fromJSON(t){return new o2(t.id,t.from_email_name,t.email_address_id,t.to_email_address,t.subject,t.body,t.body_plain,t.status,t.slug,t.data,t.delivered_by_clerk)}},i2=class a2{static{a(this,"_IdentificationLink")}constructor(t,r){this.id=t,this.type=r}static fromJSON(t){return new a2(t.id,t.type)}},md=class s2{static{a(this,"_Verification")}constructor(t,r,n=null,o=null,i=null,s=null,u=null){this.status=t,this.strategy=r,this.externalVerificationRedirectURL=n,this.attempts=o,this.expireAt=i,this.nonce=s,this.message=u}static fromJSON(t){return new s2(t.status,t.strategy,t.external_verification_redirect_url?new URL(t.external_verification_redirect_url):null,t.attempts,t.expire_at,t.nonce)}},u2=class c2{static{a(this,"_EmailAddress")}constructor(t,r,n,o){this.id=t,this.emailAddress=r,this.verification=n,this.linkedTo=o}static fromJSON(t){return new c2(t.id,t.email_address,t.verification&&md.fromJSON(t.verification),t.linked_to.map(r=>i2.fromJSON(r)))}},Bre=class l2{static{a(this,"_ExternalAccount")}constructor(t,r,n,o,i,s,u,l,d,p,f,m={},y,g){this.id=t,this.provider=r,this.identificationId=n,this.externalId=o,this.approvedScopes=i,this.emailAddress=s,this.firstName=u,this.lastName=l,this.imageUrl=d,this.username=p,this.phoneNumber=f,this.publicMetadata=m,this.label=y,this.verification=g}static fromJSON(t){return new l2(t.id,t.provider,t.identification_id,t.provider_user_id,t.approved_scopes,t.email_address,t.first_name,t.last_name,t.image_url||"",t.username,t.phone_number,t.public_metadata,t.label,t.verification&&md.fromJSON(t.verification))}},Jre=class d2{static{a(this,"_IdPOAuthAccessToken")}constructor(t,r,n,o,i,s,u,l,d,p,f){this.id=t,this.clientId=r,this.type=n,this.subject=o,this.scopes=i,this.revoked=s,this.revocationReason=u,this.expired=l,this.expiration=d,this.createdAt=p,this.updatedAt=f}static fromJSON(t){return new d2(t.id,t.client_id,t.type,t.subject,t.scopes,t.revoked,t.revocation_reason,t.expired,t.expiration,t.created_at,t.updated_at)}},Hre=class p2{static{a(this,"_Instance")}constructor(t,r,n){this.id=t,this.environmentType=r,this.allowedOrigins=n}static fromJSON(t){return new p2(t.id,t.environment_type,t.allowed_origins)}},Vre=class m2{static{a(this,"_InstanceRestrictions")}constructor(t,r,n,o,i){this.allowlist=t,this.blocklist=r,this.blockEmailSubaddresses=n,this.blockDisposableEmailDomains=o,this.ignoreDotsForGmailAddresses=i}static fromJSON(t){return new m2(t.allowlist,t.blocklist,t.block_email_subaddresses,t.block_disposable_email_domains,t.ignore_dots_for_gmail_addresses)}},Zre=class f2{static{a(this,"_InstanceSettings")}constructor(t,r,n,o,i){this.id=t,this.restrictedToAllowlist=r,this.fromEmailAddress=n,this.progressiveSignUp=o,this.enhancedEmailDeliverability=i}static fromJSON(t){return new f2(t.id,t.restricted_to_allowlist,t.from_email_address,t.progressive_sign_up,t.enhanced_email_deliverability)}},h2=class g2{static{a(this,"_Invitation")}constructor(t,r,n,o,i,s,u,l){this.id=t,this.emailAddress=r,this.publicMetadata=n,this.createdAt=o,this.updatedAt=i,this.status=s,this.url=u,this.revoked=l,this._raw=null}get raw(){return this._raw}static fromJSON(t){let r=new g2(t.id,t.email_address,t.public_metadata,t.created_at,t.updated_at,t.status,t.url,t.revoked);return r._raw=t,r}},Qe={AccountlessApplication:"accountless_application",ActorToken:"actor_token",AllowlistIdentifier:"allowlist_identifier",ApiKey:"api_key",BlocklistIdentifier:"blocklist_identifier",Client:"client",Cookies:"cookies",Domain:"domain",Email:"email",EmailAddress:"email_address",ExternalAccount:"external_account",FacebookAccount:"facebook_account",GoogleAccount:"google_account",Instance:"instance",InstanceRestrictions:"instance_restrictions",InstanceSettings:"instance_settings",Invitation:"invitation",Machine:"machine",MachineScope:"machine_scope",MachineSecretKey:"machine_secret_key",M2MToken:"machine_to_machine_token",JwtTemplate:"jwt_template",OauthAccessToken:"oauth_access_token",IdpOAuthAccessToken:"clerk_idp_oauth_access_token",OAuthApplication:"oauth_application",Organization:"organization",OrganizationDomain:"organization_domain",OrganizationInvitation:"organization_invitation",OrganizationMembership:"organization_membership",OrganizationSettings:"organization_settings",PhoneNumber:"phone_number",ProxyCheck:"proxy_check",RedirectUrl:"redirect_url",SamlAccount:"saml_account",SamlConnection:"saml_connection",Session:"session",SignInAttempt:"sign_in_attempt",SignInToken:"sign_in_token",SignUpAttempt:"sign_up_attempt",SmsMessage:"sms_message",User:"user",WaitlistEntry:"waitlist_entry",Web3Wallet:"web3_wallet",Token:"token",TotalCount:"total_count",TestingToken:"testing_token",Role:"role",Permission:"permission",BillingPayer:"commerce_payer",BillingPaymentAttempt:"commerce_payment_attempt",BillingSubscription:"commerce_subscription",BillingSubscriptionItem:"commerce_subscription_item",BillingPlan:"commerce_plan",Feature:"feature"},Kre=class ik{static{a(this,"_Machine")}constructor(t,r,n,o,i,s,u,l){this.id=t,this.name=r,this.instanceId=n,this.createdAt=o,this.updatedAt=i,this.scopedMachines=s,this.defaultTokenTtl=u,this.secretKey=l}static fromJSON(t){return new ik(t.id,t.name,t.instance_id,t.created_at,t.updated_at,t.scoped_machines.map(r=>new ik(r.id,r.name,r.instance_id,r.created_at,r.updated_at,[],r.default_token_ttl)),t.default_token_ttl,t.secret_key)}},Gre=class y2{static{a(this,"_MachineScope")}constructor(t,r,n,o){this.fromMachineId=t,this.toMachineId=r,this.createdAt=n,this.deleted=o}static fromJSON(t){return new y2(t.from_machine_id,t.to_machine_id,t.created_at,t.deleted)}},Wre=class v2{static{a(this,"_MachineSecretKey")}constructor(t){this.secret=t}static fromJSON(t){return new v2(t.secret)}},Qre=class _2{static{a(this,"_M2MToken")}constructor(t,r,n,o,i,s,u,l,d,p,f){this.id=t,this.subject=r,this.scopes=n,this.claims=o,this.revoked=i,this.revocationReason=s,this.expired=u,this.expiration=l,this.createdAt=d,this.updatedAt=p,this.token=f}static fromJSON(t){return new _2(t.id,t.subject,t.scopes,t.claims,t.revoked,t.revocation_reason,t.expired,t.expiration,t.created_at,t.updated_at,t.token)}},Xre=class b2{static{a(this,"_JwtTemplate")}constructor(t,r,n,o,i,s,u,l,d){this.id=t,this.name=r,this.claims=n,this.lifetime=o,this.allowedClockSkew=i,this.customSigningKey=s,this.signingAlgorithm=u,this.createdAt=l,this.updatedAt=d}static fromJSON(t){return new b2(t.id,t.name,t.claims,t.lifetime,t.allowed_clock_skew,t.custom_signing_key,t.signing_algorithm,t.created_at,t.updated_at)}},Yre=class S2{static{a(this,"_OauthAccessToken")}constructor(t,r,n,o={},i,s,u,l){this.externalAccountId=t,this.provider=r,this.token=n,this.publicMetadata=o,this.label=i,this.scopes=s,this.tokenSecret=u,this.expiresAt=l}static fromJSON(t){return new S2(t.external_account_id,t.provider,t.token,t.public_metadata,t.label||"",t.scopes,t.token_secret,t.expires_at)}},ene=class w2{static{a(this,"_OAuthApplication")}constructor(t,r,n,o,i,s,u,l,d,p,f,m,y,g,h,v,S,b,w,k){this.id=t,this.instanceId=r,this.name=n,this.clientId=o,this.clientUri=i,this.clientImageUrl=s,this.dynamicallyRegistered=u,this.consentScreenEnabled=l,this.pkceRequired=d,this.isPublic=p,this.scopes=f,this.redirectUris=m,this.authorizeUrl=y,this.tokenFetchUrl=g,this.userInfoUrl=h,this.discoveryUrl=v,this.tokenIntrospectionUrl=S,this.createdAt=b,this.updatedAt=w,this.clientSecret=k}static fromJSON(t){return new w2(t.id,t.instance_id,t.name,t.client_id,t.client_uri,t.client_image_url,t.dynamically_registered,t.consent_screen_enabled,t.pkce_required,t.public,t.scopes,t.redirect_uris,t.authorize_url,t.token_fetch_url,t.user_info_url,t.discovery_url,t.token_introspection_url,t.created_at,t.updated_at,t.client_secret)}},x2=class T2{static{a(this,"_Organization")}constructor(t,r,n,o,i,s,u,l={},d={},p,f,m,y){this.id=t,this.name=r,this.slug=n,this.imageUrl=o,this.hasImage=i,this.createdAt=s,this.updatedAt=u,this.publicMetadata=l,this.privateMetadata=d,this.maxAllowedMemberships=p,this.adminDeleteEnabled=f,this.membersCount=m,this.createdBy=y,this._raw=null}get raw(){return this._raw}static fromJSON(t){let r=new T2(t.id,t.name,t.slug,t.image_url||"",t.has_image,t.created_at,t.updated_at,t.public_metadata,t.private_metadata,t.max_allowed_memberships,t.admin_delete_enabled,t.members_count,t.created_by);return r._raw=t,r}},tne=class E2{static{a(this,"_OrganizationInvitation")}constructor(t,r,n,o,i,s,u,l,d,p,f={},m={},y){this.id=t,this.emailAddress=r,this.role=n,this.roleName=o,this.organizationId=i,this.createdAt=s,this.updatedAt=u,this.expiresAt=l,this.url=d,this.status=p,this.publicMetadata=f,this.privateMetadata=m,this.publicOrganizationData=y,this._raw=null}get raw(){return this._raw}static fromJSON(t){let r=new E2(t.id,t.email_address,t.role,t.role_name,t.organization_id,t.created_at,t.updated_at,t.expires_at,t.url,t.status,t.public_metadata,t.private_metadata,t.public_organization_data);return r._raw=t,r}},rne=class k2{static{a(this,"_OrganizationMembership")}constructor(t,r,n,o={},i={},s,u,l,d){this.id=t,this.role=r,this.permissions=n,this.publicMetadata=o,this.privateMetadata=i,this.createdAt=s,this.updatedAt=u,this.organization=l,this.publicUserData=d,this._raw=null}get raw(){return this._raw}static fromJSON(t){let r=new k2(t.id,t.role,t.permissions,t.public_metadata,t.private_metadata,t.created_at,t.updated_at,x2.fromJSON(t.organization),nne.fromJSON(t.public_user_data));return r._raw=t,r}},nne=class P2{static{a(this,"_OrganizationMembershipPublicUserData")}constructor(t,r,n,o,i,s){this.identifier=t,this.firstName=r,this.lastName=n,this.imageUrl=o,this.hasImage=i,this.userId=s}static fromJSON(t){return new P2(t.identifier,t.first_name,t.last_name,t.image_url,t.has_image,t.user_id)}},one=class I2{static{a(this,"_OrganizationSettings")}constructor(t,r,n,o,i,s,u,l,d,p){this.enabled=t,this.maxAllowedMemberships=r,this.maxAllowedRoles=n,this.maxAllowedPermissions=o,this.creatorRole=i,this.adminDeleteEnabled=s,this.domainsEnabled=u,this.slugDisabled=l,this.domainsEnrollmentModes=d,this.domainsDefaultRole=p}static fromJSON(t){return new I2(t.enabled,t.max_allowed_memberships,t.max_allowed_roles,t.max_allowed_permissions,t.creator_role,t.admin_delete_enabled,t.domains_enabled,t.slug_disabled,t.domains_enrollment_modes,t.domains_default_role)}},O2=class A2{static{a(this,"_PhoneNumber")}constructor(t,r,n,o,i,s){this.id=t,this.phoneNumber=r,this.reservedForSecondFactor=n,this.defaultSecondFactor=o,this.verification=i,this.linkedTo=s}static fromJSON(t){return new A2(t.id,t.phone_number,t.reserved_for_second_factor,t.default_second_factor,t.verification&&md.fromJSON(t.verification),t.linked_to.map(r=>i2.fromJSON(r)))}},ine=class C2{static{a(this,"_ProxyCheck")}constructor(t,r,n,o,i,s,u){this.id=t,this.domainId=r,this.lastRunAt=n,this.proxyUrl=o,this.successful=i,this.createdAt=s,this.updatedAt=u}static fromJSON(t){return new C2(t.id,t.domain_id,t.last_run_at,t.proxy_url,t.successful,t.created_at,t.updated_at)}},ane=class R2{static{a(this,"_RedirectUrl")}constructor(t,r,n,o){this.id=t,this.url=r,this.createdAt=n,this.updatedAt=o}static fromJSON(t){return new R2(t.id,t.url,t.created_at,t.updated_at)}},sne=class $2{static{a(this,"_SamlConnection")}constructor(t,r,n,o,i,s,u,l,d,p,f,m,y,g,h,v,S,b,w,k,$){this.id=t,this.name=r,this.domain=n,this.organizationId=o,this.idpEntityId=i,this.idpSsoUrl=s,this.idpCertificate=u,this.idpMetadataUrl=l,this.idpMetadata=d,this.acsUrl=p,this.spEntityId=f,this.spMetadataUrl=m,this.active=y,this.provider=g,this.userCount=h,this.syncUserAttributes=v,this.allowSubdomains=S,this.allowIdpInitiated=b,this.createdAt=w,this.updatedAt=k,this.attributeMapping=$}static fromJSON(t){return new $2(t.id,t.name,t.domain,t.organization_id,t.idp_entity_id,t.idp_sso_url,t.idp_certificate,t.idp_metadata_url,t.idp_metadata,t.acs_url,t.sp_entity_id,t.sp_metadata_url,t.active,t.provider,t.user_count,t.sync_user_attributes,t.allow_subdomains,t.allow_idp_initiated,t.created_at,t.updated_at,t.attribute_mapping&&cne.fromJSON(t.attribute_mapping))}},une=class N2{static{a(this,"_SamlAccountConnection")}constructor(t,r,n,o,i,s,u,l,d,p){this.id=t,this.name=r,this.domain=n,this.active=o,this.provider=i,this.syncUserAttributes=s,this.allowSubdomains=u,this.allowIdpInitiated=l,this.createdAt=d,this.updatedAt=p}static fromJSON(t){return new N2(t.id,t.name,t.domain,t.active,t.provider,t.sync_user_attributes,t.allow_subdomains,t.allow_idp_initiated,t.created_at,t.updated_at)}},cne=class z2{static{a(this,"_AttributeMapping")}constructor(t,r,n,o){this.userId=t,this.emailAddress=r,this.firstName=n,this.lastName=o}static fromJSON(t){return new z2(t.user_id,t.email_address,t.first_name,t.last_name)}},lne=class j2{static{a(this,"_SamlAccount")}constructor(t,r,n,o,i,s,u,l,d,p,f){this.id=t,this.provider=r,this.providerUserId=n,this.active=o,this.emailAddress=i,this.firstName=s,this.lastName=u,this.verification=l,this.samlConnection=d,this.lastAuthenticatedAt=p,this.enterpriseConnectionId=f}static fromJSON(t){return new j2(t.id,t.provider,t.provider_user_id,t.active,t.email_address,t.first_name,t.last_name,t.verification&&md.fromJSON(t.verification),t.saml_connection&&une.fromJSON(t.saml_connection),t.last_authenticated_at??null,t.enterprise_connection_id)}},dne=class D2{static{a(this,"_SignInToken")}constructor(t,r,n,o,i,s,u){this.id=t,this.userId=r,this.token=n,this.status=o,this.url=i,this.createdAt=s,this.updatedAt=u}static fromJSON(t){return new D2(t.id,t.user_id,t.token,t.status,t.url,t.created_at,t.updated_at)}},ek=class M2{static{a(this,"_SignUpAttemptVerification")}constructor(t,r){this.nextAction=t,this.supportedStrategies=r}static fromJSON(t){return new M2(t.next_action,t.supported_strategies)}},pne=class q2{static{a(this,"_SignUpAttemptVerifications")}constructor(t,r,n,o){this.emailAddress=t,this.phoneNumber=r,this.web3Wallet=n,this.externalAccount=o}static fromJSON(t){return new q2(t.email_address&&ek.fromJSON(t.email_address),t.phone_number&&ek.fromJSON(t.phone_number),t.web3_wallet&&ek.fromJSON(t.web3_wallet),t.external_account)}},mne=class U2{static{a(this,"_SignUpAttempt")}constructor(t,r,n,o,i,s,u,l,d,p,f,m,y,g,h,v,S,b,w,k,$,C){this.id=t,this.status=r,this.requiredFields=n,this.optionalFields=o,this.missingFields=i,this.unverifiedFields=s,this.verifications=u,this.username=l,this.emailAddress=d,this.phoneNumber=p,this.web3Wallet=f,this.passwordEnabled=m,this.firstName=y,this.lastName=g,this.customAction=h,this.externalId=v,this.createdSessionId=S,this.createdUserId=b,this.abandonAt=w,this.legalAcceptedAt=k,this.publicMetadata=$,this.unsafeMetadata=C}static fromJSON(t){return new U2(t.id,t.status,t.required_fields,t.optional_fields,t.missing_fields,t.unverified_fields,t.verifications?pne.fromJSON(t.verifications):null,t.username,t.email_address,t.phone_number,t.web3_wallet,t.password_enabled,t.first_name,t.last_name,t.custom_action,t.external_id,t.created_session_id,t.created_user_id,t.abandon_at,t.legal_accepted_at,t.public_metadata,t.unsafe_metadata)}},fne=class L2{static{a(this,"_SMSMessage")}constructor(t,r,n,o,i,s,u){this.id=t,this.fromPhoneNumber=r,this.toPhoneNumber=n,this.message=o,this.status=i,this.phoneNumberId=s,this.data=u}static fromJSON(t){return new L2(t.id,t.from_phone_number,t.to_phone_number,t.message,t.status,t.phone_number_id,t.data)}},hne=class F2{static{a(this,"_Token")}constructor(t){this.jwt=t}static fromJSON(t){return new F2(t.jwt)}},gne=class B2{static{a(this,"_Web3Wallet")}constructor(t,r,n){this.id=t,this.web3Wallet=r,this.verification=n}static fromJSON(t){return new B2(t.id,t.web3_wallet,t.verification&&md.fromJSON(t.verification))}},yne=class J2{static{a(this,"_User")}constructor(t,r,n,o,i,s,u,l,d,p,f,m,y,g,h,v,S,b,w,k={},$={},C={},A=[],R=[],O=[],z=[],D=[],X,G,B=null,te,ne,ae){this.id=t,this.passwordEnabled=r,this.totpEnabled=n,this.backupCodeEnabled=o,this.twoFactorEnabled=i,this.banned=s,this.locked=u,this.createdAt=l,this.updatedAt=d,this.imageUrl=p,this.hasImage=f,this.primaryEmailAddressId=m,this.primaryPhoneNumberId=y,this.primaryWeb3WalletId=g,this.lastSignInAt=h,this.externalId=v,this.username=S,this.firstName=b,this.lastName=w,this.publicMetadata=k,this.privateMetadata=$,this.unsafeMetadata=C,this.emailAddresses=A,this.phoneNumbers=R,this.web3Wallets=O,this.externalAccounts=z,this.samlAccounts=D,this.lastActiveAt=X,this.createOrganizationEnabled=G,this.createOrganizationsLimit=B,this.deleteSelfEnabled=te,this.legalAcceptedAt=ne,this.locale=ae,this._raw=null}get raw(){return this._raw}static fromJSON(t){let r=new J2(t.id,t.password_enabled,t.totp_enabled,t.backup_code_enabled,t.two_factor_enabled,t.banned,t.locked,t.created_at,t.updated_at,t.image_url,t.has_image,t.primary_email_address_id,t.primary_phone_number_id,t.primary_web3_wallet_id,t.last_sign_in_at,t.external_id,t.username,t.first_name,t.last_name,t.public_metadata,t.private_metadata,t.unsafe_metadata,(t.email_addresses||[]).map(n=>u2.fromJSON(n)),(t.phone_numbers||[]).map(n=>O2.fromJSON(n)),(t.web3_wallets||[]).map(n=>gne.fromJSON(n)),(t.external_accounts||[]).map(n=>Bre.fromJSON(n)),(t.saml_accounts||[]).map(n=>lne.fromJSON(n)),t.last_active_at,t.create_organization_enabled,t.create_organizations_limit,t.delete_self_enabled,t.legal_accepted_at,t.locale);return r._raw=t,r}get primaryEmailAddress(){return this.emailAddresses.find(({id:t})=>t===this.primaryEmailAddressId)??null}get primaryPhoneNumber(){return this.phoneNumbers.find(({id:t})=>t===this.primaryPhoneNumberId)??null}get primaryWeb3Wallet(){return this.web3Wallets.find(({id:t})=>t===this.primaryWeb3WalletId)??null}get fullName(){return[this.firstName,this.lastName].join(" ").trim()||null}},vne=class H2{static{a(this,"_WaitlistEntry")}constructor(t,r,n,o,i,s,u){this.id=t,this.emailAddress=r,this.status=n,this.invitation=o,this.createdAt=i,this.updatedAt=s,this.isLocked=u}static fromJSON(t){return new H2(t.id,t.email_address,t.status,t.invitation&&h2.fromJSON(t.invitation),t.created_at,t.updated_at,t.is_locked)}},V2=class Z2{static{a(this,"_Feature")}constructor(t,r,n,o,i){this.id=t,this.name=r,this.description=n,this.slug=o,this.avatarUrl=i}static fromJSON(t){return new Z2(t.id,t.name,t.description??null,t.slug,t.avatar_url??null)}},K2=class G2{static{a(this,"_BillingPlan")}constructor(t,r,n,o,i,s,u,l,d,p,f,m,y){this.id=t,this.name=r,this.slug=n,this.description=o,this.isDefault=i,this.isRecurring=s,this.hasBaseFee=u,this.publiclyVisible=l,this.fee=d,this.annualFee=p,this.annualMonthlyFee=f,this.forPayerType=m,this.features=y}static fromJSON(t){let r=a(n=>n?{amount:n.amount,amountFormatted:n.amount_formatted,currency:n.currency,currencySymbol:n.currency_symbol}:null,"formatAmountJSON");return new G2(t.id,t.name,t.slug,t.description??null,t.is_default,t.is_recurring,t.has_base_fee,t.publicly_visible,r(t.fee),r(t.annual_fee),r(t.annual_monthly_fee),t.for_payer_type,(t.features??[]).map(n=>V2.fromJSON(n)))}},W2=class Q2{static{a(this,"_BillingSubscriptionItem")}constructor(t,r,n,o,i,s,u,l,d,p,f,m,y,g,h,v,S){this.id=t,this.status=r,this.planPeriod=n,this.periodStart=o,this.nextPayment=i,this.amount=s,this.plan=u,this.planId=l,this.createdAt=d,this.updatedAt=p,this.periodEnd=f,this.canceledAt=m,this.pastDueAt=y,this.endedAt=g,this.payerId=h,this.isFreeTrial=v,this.lifetimePaid=S}static fromJSON(t){function r(n){return n&&{amount:n.amount,amountFormatted:n.amount_formatted,currency:n.currency,currencySymbol:n.currency_symbol}}return a(r,"formatAmountJSON"),new Q2(t.id,t.status,t.plan_period,t.period_start,t.next_payment,r(t.amount)??void 0,t.plan?K2.fromJSON(t.plan):null,t.plan_id??null,t.created_at,t.updated_at,t.period_end,t.canceled_at,t.past_due_at,t.ended_at,t.payer_id,t.is_free_trial,r(t.lifetime_paid)??void 0)}},_ne=class X2{static{a(this,"_BillingSubscription")}constructor(t,r,n,o,i,s,u,l,d,p){this.id=t,this.status=r,this.payerId=n,this.createdAt=o,this.updatedAt=i,this.activeAt=s,this.pastDueAt=u,this.subscriptionItems=l,this.nextPayment=d,this.eligibleForFreeTrial=p}static fromJSON(t){let r=t.next_payment?{date:t.next_payment.date,amount:{amount:t.next_payment.amount.amount,amountFormatted:t.next_payment.amount.amount_formatted,currency:t.next_payment.amount.currency,currencySymbol:t.next_payment.amount.currency_symbol}}:null;return new X2(t.id,t.status,t.payer_id,t.created_at,t.updated_at,t.active_at??null,t.past_due_at??null,(t.subscription_items??[]).map(n=>W2.fromJSON(n)),r,t.eligible_for_free_trial??!1)}};function bne(e){let t,r;return Array.isArray(e)?{data:e.map(o=>tk(o))}:Sne(e)?(t=e.data.map(n=>tk(n)),r=e.total_count,{data:t,totalCount:r}):{data:tk(e)}}a(bne,"deserialize");function Sne(e){return!e||typeof e!="object"||!("data"in e)?!1:Array.isArray(e.data)&&e.data!==void 0}a(Sne,"isPaginated");function wne(e){return e.total_count}a(wne,"getCount");function tk(e){if(typeof e!="string"&&"object"in e&&"deleted"in e)return Ure.fromJSON(e);switch(e.object){case Qe.AccountlessApplication:return Cre.fromJSON(e);case Qe.ActorToken:return Rre.fromJSON(e);case Qe.AllowlistIdentifier:return $re.fromJSON(e);case Qe.ApiKey:return Nre.fromJSON(e);case Qe.BlocklistIdentifier:return zre.fromJSON(e);case Qe.Client:return Dre.fromJSON(e);case Qe.Cookies:return qre.fromJSON(e);case Qe.Domain:return Lre.fromJSON(e);case Qe.EmailAddress:return u2.fromJSON(e);case Qe.Email:return Fre.fromJSON(e);case Qe.IdpOAuthAccessToken:return Jre.fromJSON(e);case Qe.Instance:return Hre.fromJSON(e);case Qe.InstanceRestrictions:return Vre.fromJSON(e);case Qe.InstanceSettings:return Zre.fromJSON(e);case Qe.Invitation:return h2.fromJSON(e);case Qe.JwtTemplate:return Xre.fromJSON(e);case Qe.Machine:return Kre.fromJSON(e);case Qe.MachineScope:return Gre.fromJSON(e);case Qe.MachineSecretKey:return Wre.fromJSON(e);case Qe.M2MToken:return Qre.fromJSON(e);case Qe.OauthAccessToken:return Yre.fromJSON(e);case Qe.OAuthApplication:return ene.fromJSON(e);case Qe.Organization:return x2.fromJSON(e);case Qe.OrganizationInvitation:return tne.fromJSON(e);case Qe.OrganizationMembership:return rne.fromJSON(e);case Qe.OrganizationSettings:return one.fromJSON(e);case Qe.PhoneNumber:return O2.fromJSON(e);case Qe.ProxyCheck:return ine.fromJSON(e);case Qe.RedirectUrl:return ane.fromJSON(e);case Qe.SamlConnection:return sne.fromJSON(e);case Qe.SignInToken:return dne.fromJSON(e);case Qe.SignUpAttempt:return mne.fromJSON(e);case Qe.Session:return Qq.fromJSON(e);case Qe.SmsMessage:return fne.fromJSON(e);case Qe.Token:return hne.fromJSON(e);case Qe.TotalCount:return wne(e);case Qe.User:return yne.fromJSON(e);case Qe.WaitlistEntry:return vne.fromJSON(e);case Qe.BillingPlan:return K2.fromJSON(e);case Qe.BillingSubscription:return _ne.fromJSON(e);case Qe.BillingSubscriptionItem:return W2.fromJSON(e);case Qe.Feature:return V2.fromJSON(e);default:return e}}a(tk,"jsonToObject");function ld(e){return xne(a(async r=>{let{secretKey:n,machineSecretKey:o,useMachineSecretKey:i=!1,requireSecretKey:s=!0,apiUrl:u=qq,apiVersion:l=Uq,userAgent:d=Lq,skipApiVersionInUrl:p=!1}=e,{path:f,method:m,queryParams:y,headerParams:g,bodyParams:h,formData:v,options:S}=r,{deepSnakecaseBodyParamKeys:b=!1}=S||{};s&&Fq(n);let w=p?ie(u,f):ie(u,l,f),k=new URL(w);if(y){let R=Rq({...y});for(let[O,z]of Object.entries(R))z&&[z].flat().forEach(D=>k.searchParams.append(O,D))}let $=new Headers({"Clerk-API-Version":lk,[Ae.Headers.UserAgent]:d,...g}),C=Ae.Headers.Authorization;$.has(C)||(i&&o?$.set(C,`Bearer ${o}`):n&&$.set(C,`Bearer ${n}`));let A;try{if(v)A=await Go.fetch(k.href,{method:m,headers:$,body:v});else{$.set("Content-Type","application/json");let z=a(()=>{if(!(m!=="GET"&&h&&Object.keys(h).length>0))return null;let X=a(G=>Rq(G,{deep:b}),"formatKeys");return{body:JSON.stringify(Array.isArray(h)?h.map(X):X(h))}},"buildBody");A=await Go.fetch(k.href,{method:m,headers:$,...z()})}let O=await(A?.headers&&A.headers?.get(Ae.Headers.ContentType)===Ae.ContentTypes.Json?A.json():A.text());return A.ok?{...bne(O),errors:null}:{data:null,errors:Nq(O),status:A?.status,statusText:A?.statusText,clerkTraceId:rk(O,A?.headers),retryAfter:$q(A?.headers)}}catch(R){return R instanceof Error?{data:null,errors:[{code:"unexpected_error",message:R.message||"Unexpected error"}],clerkTraceId:rk(R,A?.headers)}:{data:null,errors:Nq(R),status:A?.status,statusText:A?.statusText,clerkTraceId:rk(R,A?.headers),retryAfter:$q(A?.headers)}}},"requestFn"))}a(ld,"buildRequest");function rk(e,t){return e&&typeof e=="object"&&"clerk_trace_id"in e&&typeof e.clerk_trace_id=="string"?e.clerk_trace_id:t?.get("cf-ray")||""}a(rk,"getTraceId");function $q(e){let t=e?.get("Retry-After");if(!t)return;let r=parseInt(t,10);if(!isNaN(r))return r}a($q,"getRetryAfter");function Nq(e){if(e&&typeof e=="object"&&"errors"in e){let t=e.errors;return t.length>0?t.map(zE):[]}return[]}a(Nq,"parseErrors");function xne(e){return async(...t)=>{let{data:r,errors:n,totalCount:o,status:i,statusText:s,clerkTraceId:u,retryAfter:l}=await e(...t);if(n){let d=new ih(s||"",{data:[],status:i,clerkTraceId:u,retryAfter:l});throw d.errors=n,d}return typeof o<"u"?{data:r,totalCount:o}:r}}a(xne,"withLegacyRequestReturn");function Bu(e){let t=ld(e);return{__experimental_accountlessApplications:new qte(ld({...e,requireSecretKey:!1})),actorTokens:new Mte(t),allowlistIdentifiers:new Ute(t),apiKeys:new Lte(ld({...e,skipApiVersionInUrl:!0})),betaFeatures:new Bte(t),blocklistIdentifiers:new Jte(t),billing:new bre(t),clients:new Hte(t),domains:new Vte(t),emailAddresses:new Zte(t),idPOAuthAccessToken:new Gte(ld({...e,skipApiVersionInUrl:!0})),instance:new Wte(t),invitations:new Qte(t),jwks:new tre(t),jwtTemplates:new rre(t),machines:new Xte(t),m2m:new Yte(ld({...e,skipApiVersionInUrl:!0,requireSecretKey:!1,useMachineSecretKey:!0})),oauthApplications:new ore(t),organizations:new nre(t),phoneNumbers:new ire(t),proxyChecks:new sre(t),redirectUrls:new ure(t),samlConnections:new cre(t),sessions:new lre(t),signInTokens:new dre(t),signUps:new pre(t),testingTokens:new fre(t),users:new hre(t),waitlistEntries:new gre(t),webhooks:new yre(t)}}a(Bu,"createBackendApiClient");var dk="mt_",pk="oat_",mk="ak_",Tne=[dk,pk,mk];function ak(e){return Tne.some(t=>e.startsWith(t))}a(ak,"isMachineTokenByPrefix");function sk(e){if(e.startsWith(dk))return Ge.M2MToken;if(e.startsWith(pk))return Ge.OAuthToken;if(e.startsWith(mk))return Ge.ApiKey;throw new Error("Unknown machine token type")}a(sk,"getMachineTokenType");var Y2=a((e,t)=>e?t==="any"?!0:(Array.isArray(t)?t:[t]).includes(e):!1,"isTokenTypeAccepted");var _h=a(e=>()=>{let t={...e};return t.secretKey=(t.secretKey||"").substring(0,7),t.jwtKey=(t.jwtKey||"").substring(0,7),{...t}},"createDebug");function Ene(e,t,r){let{actor:n,sessionId:o,sessionStatus:i,userId:s,orgId:u,orgRole:l,orgSlug:d,orgPermissions:p,factorVerificationAge:f}=pq(r),m=Bu(e),y=One({sessionId:o,sessionToken:t,fetcher:a(async(g,h,v)=>(await m.sessions.getToken(g,h||"",v)).jwt,"fetcher")});return{tokenType:Ge.SessionToken,actor:n,sessionClaims:r,sessionId:o,sessionStatus:i,userId:s,orgId:u,orgRole:l,orgSlug:d,orgPermissions:p,factorVerificationAge:f,getToken:y,has:KE({orgId:u,orgRole:l,orgPermissions:p,userId:s,factorVerificationAge:f,features:r.fea||"",plans:r.pla||""}),debug:_h({...e,sessionToken:t}),isAuthenticated:!0}}a(Ene,"signedInAuthObject");function eU(e,t){return{tokenType:Ge.SessionToken,sessionClaims:null,sessionId:null,sessionStatus:t??null,userId:null,actor:null,orgId:null,orgRole:null,orgSlug:null,orgPermissions:null,factorVerificationAge:null,getToken:a(()=>Promise.resolve(null),"getToken"),has:a(()=>!1,"has"),debug:_h(e),isAuthenticated:!1}}a(eU,"signedOutAuthObject");function kne(e,t,r,n){let o={id:r.id,subject:r.subject,getToken:a(()=>Promise.resolve(t),"getToken"),has:a(()=>!1,"has"),debug:_h(n),isAuthenticated:!0};switch(e){case Ge.ApiKey:{let i=r;return{...o,tokenType:e,name:i.name,claims:i.claims,scopes:i.scopes,userId:i.subject.startsWith("user_")?i.subject:null,orgId:i.subject.startsWith("org_")?i.subject:null}}case Ge.M2MToken:{let i=r;return{...o,tokenType:e,claims:i.claims,scopes:i.scopes,machineId:i.subject}}case Ge.OAuthToken:{let i=r;return{...o,tokenType:e,scopes:i.scopes,userId:i.subject,clientId:i.clientId}}default:throw new Error(`Invalid token type: ${e}`)}}a(kne,"authenticatedMachineObject");function Pne(e,t){let r={id:null,subject:null,scopes:null,has:a(()=>!1,"has"),getToken:a(()=>Promise.resolve(null),"getToken"),debug:_h(t),isAuthenticated:!1};switch(e){case Ge.ApiKey:return{...r,tokenType:e,name:null,claims:null,scopes:null,userId:null,orgId:null};case Ge.M2MToken:return{...r,tokenType:e,claims:null,scopes:null,machineId:null};case Ge.OAuthToken:return{...r,tokenType:e,scopes:null,userId:null,clientId:null};default:throw new Error(`Invalid token type: ${e}`)}}a(Pne,"unauthenticatedMachineObject");function Ine(){return{isAuthenticated:!1,tokenType:null,getToken:a(()=>Promise.resolve(null),"getToken"),has:a(()=>!1,"has"),debug:a(()=>({}),"debug")}}a(Ine,"invalidTokenAuthObject");var One=a(e=>{let{fetcher:t,sessionToken:r,sessionId:n}=e||{};return async(o={})=>n?o.template||o.expiresInSeconds!==void 0?t(n,o.template,o.expiresInSeconds):r:null},"createGetToken");var pd={SignedIn:"signed-in",SignedOut:"signed-out",Handshake:"handshake"},sr={ClientUATWithoutSessionToken:"client-uat-but-no-session-token",DevBrowserMissing:"dev-browser-missing",DevBrowserSync:"dev-browser-sync",PrimaryRespondsToSyncing:"primary-responds-to-syncing",PrimaryDomainCrossOriginSync:"primary-domain-cross-origin-sync",SatelliteCookieNeedsSyncing:"satellite-needs-syncing",SessionTokenAndUATMissing:"session-token-and-uat-missing",SessionTokenMissing:"session-token-missing",SessionTokenExpired:"session-token-expired",SessionTokenIATBeforeClientUAT:"session-token-iat-before-client-uat",SessionTokenNBF:"session-token-nbf",SessionTokenIatInTheFuture:"session-token-iat-in-the-future",SessionTokenWithoutClientUAT:"session-token-but-no-client-uat",ActiveOrganizationMismatch:"active-organization-mismatch",TokenTypeMismatch:"token-type-mismatch",UnexpectedError:"unexpected-error"};function _a(e){let{authenticateContext:t,headers:r=new Headers,token:n}=e,o=a((({treatPendingAsSignedOut:i=!0}={})=>{if(e.tokenType===Ge.SessionToken){let{sessionClaims:u}=e,l=Ene(t,n,u);return i&&l.sessionStatus==="pending"?eU(void 0,l.sessionStatus):l}let{machineData:s}=e;return kne(e.tokenType,n,s,t)}),"toAuth");return{status:pd.SignedIn,reason:null,message:null,proxyUrl:t.proxyUrl||"",publishableKey:t.publishableKey||"",isSatellite:t.isSatellite||!1,domain:t.domain||"",signInUrl:t.signInUrl||"",signUpUrl:t.signUpUrl||"",afterSignInUrl:t.afterSignInUrl||"",afterSignUpUrl:t.afterSignUpUrl||"",isSignedIn:!0,isAuthenticated:!0,tokenType:e.tokenType,toAuth:o,headers:r,token:n}}a(_a,"signedIn");function Gn(e){let{authenticateContext:t,headers:r=new Headers,reason:n,message:o="",tokenType:i}=e,s=a((()=>i===Ge.SessionToken?eU({...t,status:pd.SignedOut,reason:n,message:o}):Pne(i,{reason:n,message:o,headers:r})),"toAuth");return fk({status:pd.SignedOut,reason:n,message:o,proxyUrl:t.proxyUrl||"",publishableKey:t.publishableKey||"",isSatellite:t.isSatellite||!1,domain:t.domain||"",signInUrl:t.signInUrl||"",signUpUrl:t.signUpUrl||"",afterSignInUrl:t.afterSignInUrl||"",afterSignUpUrl:t.afterSignUpUrl||"",isSignedIn:!1,isAuthenticated:!1,tokenType:i,toAuth:s,headers:r,token:null})}a(Gn,"signedOut");function Ane(e,t,r="",n){return fk({status:pd.Handshake,reason:t,message:r,publishableKey:e.publishableKey||"",isSatellite:e.isSatellite||!1,domain:e.domain||"",proxyUrl:e.proxyUrl||"",signInUrl:e.signInUrl||"",signUpUrl:e.signUpUrl||"",afterSignInUrl:e.afterSignInUrl||"",afterSignUpUrl:e.afterSignUpUrl||"",isSignedIn:!1,isAuthenticated:!1,tokenType:Ge.SessionToken,toAuth:a(()=>null,"toAuth"),headers:n,token:null})}a(Ane,"handshake");function Cne(){let e=Ine();return fk({status:pd.SignedOut,reason:sr.TokenTypeMismatch,message:"",proxyUrl:"",publishableKey:"",isSatellite:!1,domain:"",signInUrl:"",signUpUrl:"",afterSignInUrl:"",afterSignUpUrl:"",isSignedIn:!1,isAuthenticated:!1,tokenType:null,toAuth:a(()=>e,"toAuth"),headers:new Headers,token:null})}a(Cne,"signedOutInvalidToken");var fk=a(e=>{let t=new Headers(e.headers||{});if(e.message)try{t.set(Ae.Headers.AuthMessage,e.message)}catch{}if(e.reason)try{t.set(Ae.Headers.AuthReason,e.reason)}catch{}if(e.status)try{t.set(Ae.Headers.AuthStatus,e.status)}catch{}return e.headers=t,e},"withDebugHeaders"),Rne=class extends URL{static{a(this,"ClerkUrl")}isCrossOrigin(e){return this.origin!==new URL(e.toString()).origin}},zq=a((...e)=>new Rne(...e),"createClerkUrl"),jq=class extends Request{static{a(this,"ClerkRequest")}constructor(e,t){let r=typeof e!="string"&&"url"in e?e.url:String(e);super(r,t||typeof e=="string"?void 0:e),this.clerkUrl=this.deriveUrlFromHeaders(this),this.cookies=this.parseCookies(this)}toJSON(){return{url:this.clerkUrl.href,method:this.method,headers:JSON.stringify(Object.fromEntries(this.headers)),clerkUrl:this.clerkUrl.toString(),cookies:JSON.stringify(Object.fromEntries(this.cookies))}}deriveUrlFromHeaders(e){let t=new URL(e.url),r=e.headers.get(Ae.Headers.ForwardedProto),n=e.headers.get(Ae.Headers.ForwardedHost),o=e.headers.get(Ae.Headers.Host),i=t.protocol,s=this.getFirstValueFromHeader(n)??o,u=this.getFirstValueFromHeader(r)??i?.replace(/[:/]/,""),l=s&&u?`${u}://${s}`:t.origin;return l===t.origin?zq(t):zq(t.pathname+t.search,l)}getFirstValueFromHeader(e){return e?.split(",")[0]}parseCookies(e){let t=(0,tU.parse)(this.decodeCookieValue(e.headers.get("cookie")||""));return new Map(Object.entries(t))}decodeCookieValue(e){return e&&e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}},$ne=a((...e)=>e[0]instanceof jq?e[0]:new jq(...e),"createClerkRequest"),rU=a(e=>e.split(";")[0]?.split("=")[0],"getCookieName"),nU=a(e=>e.split(";")[0]?.split("=")[1],"getCookieValue"),bh={},uk=0;function ck(e){return bh[e]}a(ck,"getFromCache");function Nne(){return Object.values(bh)}a(Nne,"getCacheValues");function oU(e,t,r=!0){bh[e]=t,uk=r?Date.now():-1}a(oU,"setInCache");var zne="-----BEGIN PUBLIC KEY-----",jne="-----END PUBLIC KEY-----",Dne="MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA",Mne="IDAQAB";function iU(e){let{kid:t,pem:r}=e,n=`local-${t}`,o=ck(n);if(o)return o;if(!r)throw new wt({action:xr.SetClerkJWTKey,message:"Missing local JWK.",reason:nt.LocalJWKMissing});let i=r.replace(/\r\n|\n|\r/g,"").replace(zne,"").replace(jne,"").replace(Dne,"").replace(Mne,"").replace(/\+/g,"-").replace(/\//g,"_"),s={kid:n,kty:"RSA",alg:"RS256",n:i,e:"AQAB"};return oU(n,s,!1),s}a(iU,"loadClerkJwkFromPem");async function aU(e){let{secretKey:t,apiUrl:r=qq,apiVersion:n=Uq,kid:o,skipJwksCache:i}=e;if(i||Une()||!ck(o)){if(!t)throw new wt({action:xr.ContactSupport,message:"Failed to load JWKS from Clerk Backend or Frontend API.",reason:nt.RemoteJWKFailedToLoad});let u=a(()=>qne(r,t,n),"fetcher"),{keys:l}=await nh(u);if(!l||!l.length)throw new wt({action:xr.ContactSupport,message:"The JWKS endpoint did not contain any signing keys. Contact support@clerk.com.",reason:nt.RemoteJWKFailedToLoad});l.forEach(d=>oU(d.kid,d))}let s=ck(o);if(!s){let l=Nne().map(d=>d.kid).sort().join(", ");throw new wt({action:`Go to your Dashboard and validate your secret and public keys are correct. ${xr.ContactSupport} if the issue persists.`,message:`Unable to find a signing key in JWKS that matches the kid='${o}' of the provided session token. Please make sure that the __session cookie or the HTTP authorization header contain a Clerk-generated session JWT. The following kid is available: ${l}`,reason:nt.JWKKidMismatch})}return s}a(aU,"loadClerkJWKFromRemote");async function qne(e,t,r){if(!t)throw new wt({action:xr.SetClerkSecretKey,message:"Missing Clerk Secret Key or API Key. Go to https://dashboard.clerk.com and get your key for your instance.",reason:nt.RemoteJWKFailedToLoad});let n=new URL(e);n.pathname=ie(n.pathname,r,"/jwks");let o=await Go.fetch(n.href,{headers:{Authorization:`Bearer ${t}`,"Clerk-API-Version":lk,"Content-Type":"application/json","User-Agent":Lq}});if(!o.ok){let i=await o.json(),s=Lne(i?.errors,tq.InvalidSecretKey);if(s){let u=nt.InvalidSecretKey;throw new wt({action:xr.ContactSupport,message:s.message,reason:u})}throw new wt({action:xr.ContactSupport,message:`Error loading Clerk JWKS from ${n.href} with code=${o.status}`,reason:nt.RemoteJWKFailedToLoad})}return o.json()}a(qne,"fetchJWKSFromBAPI");function Une(){if(uk===-1)return!1;let e=Date.now()-uk>=Ote*1e3;return e&&(bh={}),e}a(Une,"cacheHasExpired");var Lne=a((e,t)=>e?e.find(r=>r.code===t):null,"getErrorObjectByCode");async function ba(e,t){let{data:r,errors:n}=wo(e);if(n)return{errors:n};let{header:o}=r,{kid:i}=o;try{let s;if(t.jwtKey)s=iU({kid:i,pem:t.jwtKey});else if(t.secretKey)s=await aU({...t,kid:i});else return{errors:[new wt({action:xr.SetClerkJWTKey,message:"Failed to resolve JWK during verification.",reason:nt.JWKFailedToResolve})]};return await sq(e,{...t,key:s})}catch(s){return{errors:[s]}}}a(ba,"verifyToken");function hk(e,t,r){if(ME(t)){let n,o;switch(t.status){case 401:n=id.InvalidSecretKey,o=t.errors[0]?.message||"Invalid secret key";break;case 404:n=id.TokenInvalid,o=r;break;default:n=id.UnexpectedError,o="Unexpected error"}return{data:void 0,tokenType:e,errors:[new ah({message:o,code:n,status:t.status})]}}return{data:void 0,tokenType:e,errors:[new ah({message:"Unexpected error",code:id.UnexpectedError,status:t.status})]}}a(hk,"handleClerkAPIError");async function Fne(e,t){try{return{data:await Bu(t).m2m.verifyToken({token:e}),tokenType:Ge.M2MToken,errors:void 0}}catch(r){return hk(Ge.M2MToken,r,"Machine token not found")}}a(Fne,"verifyM2MToken");async function Bne(e,t){try{return{data:await Bu(t).idPOAuthAccessToken.verifyAccessToken(e),tokenType:Ge.OAuthToken,errors:void 0}}catch(r){return hk(Ge.OAuthToken,r,"OAuth token not found")}}a(Bne,"verifyOAuthToken");async function Jne(e,t){try{return{data:await Bu(t).apiKeys.verifySecret(e),tokenType:Ge.ApiKey,errors:void 0}}catch(r){return hk(Ge.ApiKey,r,"API key not found")}}a(Jne,"verifyAPIKey");async function Dq(e,t){if(e.startsWith(dk))return Fne(e,t);if(e.startsWith(pk))return Bne(e,t);if(e.startsWith(mk))return Jne(e,t);throw new Error("Unknown machine token type")}a(Dq,"verifyMachineAuthToken");async function Hne(e,{key:t}){let{data:r,errors:n}=wo(e);if(n)throw n[0];let{header:o,payload:i}=r,{typ:s,alg:u}=o;BE(s),JE(u);let{data:l,errors:d}=await HE(r,t);if(d)throw new wt({reason:nt.TokenVerificationFailed,message:`Error verifying handshake token. ${d[0]}`});if(!l)throw new wt({reason:nt.TokenInvalidSignature,message:"Handshake signature is invalid."});return i}a(Hne,"verifyHandshakeJwt");async function Vne(e,t){let{secretKey:r,apiUrl:n,apiVersion:o,jwksCacheTtlInMs:i,jwtKey:s,skipJwksCache:u}=t,{data:l,errors:d}=wo(e);if(d)throw d[0];let{kid:p}=l.header,f;if(s)f=iU({kid:p,pem:s});else if(r)f=await aU({secretKey:r,apiUrl:n,apiVersion:o,kid:p,jwksCacheTtlInMs:i,skipJwksCache:u});else throw new wt({action:xr.SetClerkJWTKey,message:"Failed to resolve JWK during handshake verification.",reason:nt.JWKFailedToResolve});return Hne(e,{key:f})}a(Vne,"verifyHandshakeToken");var Zne=class{static{a(this,"HandshakeService")}constructor(e,t,r){this.authenticateContext=e,this.options=t,this.organizationMatcher=r}isRequestEligibleForHandshake(){let{accept:e,secFetchDest:t}=this.authenticateContext;return!!(t==="document"||t==="iframe"||!t&&e?.startsWith("text/html"))}buildRedirectToHandshake(e){if(!this.authenticateContext?.clerkUrl)throw new Error("Missing clerkUrl in authenticateContext");let t=this.removeDevBrowserFromURL(this.authenticateContext.clerkUrl),r=this.authenticateContext.frontendApi.startsWith("http")?this.authenticateContext.frontendApi:`https://${this.authenticateContext.frontendApi}`;r=r.replace(/\/+$/,"")+"/";let n=new URL("v1/client/handshake",r);n.searchParams.append("redirect_url",t?.href||""),n.searchParams.append("__clerk_api_version",lk),n.searchParams.append(Ae.QueryParameters.SuffixedCookies,this.authenticateContext.usesSuffixedCookies().toString()),n.searchParams.append(Ae.QueryParameters.HandshakeReason,e),n.searchParams.append(Ae.QueryParameters.HandshakeFormat,"nonce"),this.authenticateContext.instanceType==="development"&&this.authenticateContext.devBrowserToken&&n.searchParams.append(Ae.QueryParameters.DevBrowser,this.authenticateContext.devBrowserToken);let o=this.getOrganizationSyncTarget(this.authenticateContext.clerkUrl,this.organizationMatcher);return o&&this.getOrganizationSyncQueryParams(o).forEach((s,u)=>{n.searchParams.append(u,s)}),new Headers({[Ae.Headers.Location]:n.href})}async getCookiesFromHandshake(){let e=[];if(this.authenticateContext.handshakeNonce)try{let t=await this.authenticateContext.apiClient?.clients.getHandshakePayload({nonce:this.authenticateContext.handshakeNonce});t&&e.push(...t.directives)}catch(t){console.error("Clerk: HandshakeService: error getting handshake payload:",t)}else if(this.authenticateContext.handshakeToken){let t=await Vne(this.authenticateContext.handshakeToken,this.authenticateContext);t&&Array.isArray(t.handshake)&&e.push(...t.handshake)}return e}async resolveHandshake(){let e=new Headers({"Access-Control-Allow-Origin":"null","Access-Control-Allow-Credentials":"true"}),t=await this.getCookiesFromHandshake(),r="";if(t.forEach(i=>{e.append("Set-Cookie",i),rU(i).startsWith(Ae.Cookies.Session)&&(r=nU(i))}),this.authenticateContext.instanceType==="development"){let i=new URL(this.authenticateContext.clerkUrl);i.searchParams.delete(Ae.QueryParameters.Handshake),i.searchParams.delete(Ae.QueryParameters.HandshakeHelp),i.searchParams.delete(Ae.QueryParameters.DevBrowser),i.searchParams.delete(Ae.QueryParameters.HandshakeNonce),e.append(Ae.Headers.Location,i.toString()),e.set(Ae.Headers.CacheControl,"no-store")}if(r==="")return Gn({tokenType:Ge.SessionToken,authenticateContext:this.authenticateContext,reason:sr.SessionTokenMissing,message:"",headers:e});let{data:n,errors:[o]=[]}=await ba(r,this.authenticateContext);if(n)return _a({tokenType:Ge.SessionToken,authenticateContext:this.authenticateContext,sessionClaims:n,headers:e,token:r});if(this.authenticateContext.instanceType==="development"&&(o?.reason===nt.TokenExpired||o?.reason===nt.TokenNotActiveYet||o?.reason===nt.TokenIatInTheFuture)){let i=new wt({action:o.action,message:o.message,reason:o.reason});i.tokenCarrier="cookie",console.error(`Clerk: Clock skew detected. This usually means that your system clock is inaccurate. Clerk will attempt to account for the clock skew in development.

To resolve this issue, make sure your system's clock is set to the correct time (e.g. turn off and on automatic time synchronization).

---

${i.getFullMessage()}`);let{data:s,errors:[u]=[]}=await ba(r,{...this.authenticateContext,clockSkewInMs:864e5});if(s)return _a({tokenType:Ge.SessionToken,authenticateContext:this.authenticateContext,sessionClaims:s,headers:e,token:r});throw new Error(u?.message||"Clerk: Handshake retry failed.")}throw new Error(o?.message||"Clerk: Handshake failed.")}handleTokenVerificationErrorInDevelopment(e){if(e.reason===nt.TokenInvalidSignature){let t="Clerk: Handshake token verification failed due to an invalid signature. If you have switched Clerk keys locally, clear your cookies and try again.";throw new Error(t)}throw new Error(`Clerk: Handshake token verification failed: ${e.getFullMessage()}.`)}checkAndTrackRedirectLoop(e){if(this.authenticateContext.handshakeRedirectLoopCounter===3)return!0;let t=this.authenticateContext.handshakeRedirectLoopCounter+1,r=Ae.Cookies.RedirectCount;return e.append("Set-Cookie",`${r}=${t}; SameSite=Lax; HttpOnly; Max-Age=2`),!1}removeDevBrowserFromURL(e){let t=new URL(e);return t.searchParams.delete(Ae.QueryParameters.DevBrowser),t.searchParams.delete(Ae.QueryParameters.LegacyDevBrowser),t}getOrganizationSyncTarget(e,t){return t.findTarget(e)}getOrganizationSyncQueryParams(e){let t=new Map;return e.type==="personalAccount"&&t.set("organization_id",""),e.type==="organization"&&(e.organizationId&&t.set("organization_id",e.organizationId),e.organizationSlug&&t.set("organization_id",e.organizationSlug)),t}},Kne=class{static{a(this,"OrganizationMatcher")}constructor(e){this.organizationPattern=this.createMatcher(e?.organizationPatterns),this.personalAccountPattern=this.createMatcher(e?.personalAccountPatterns)}createMatcher(e){if(!e)return null;try{return GE(e)}catch(t){throw new Error(`Invalid pattern "${e}": ${t}`)}}findTarget(e){let t=this.findOrganizationTarget(e);return t||this.findPersonalAccountTarget(e)}findOrganizationTarget(e){if(!this.organizationPattern)return null;try{let t=this.organizationPattern(e.pathname);if(!t||!("params"in t))return null;let r=t.params;return r.id?{type:"organization",organizationId:r.id}:r.slug?{type:"organization",organizationSlug:r.slug}:null}catch(t){return console.error("Failed to match organization pattern:",t),null}}findPersonalAccountTarget(e){if(!this.personalAccountPattern)return null;try{return this.personalAccountPattern(e.pathname)?{type:"personalAccount"}:null}catch(t){return console.error("Failed to match personal account pattern:",t),null}}},xo={NonEligibleNoCookie:"non-eligible-no-refresh-cookie",NonEligibleNonGet:"non-eligible-non-get",InvalidSessionToken:"invalid-session-token",MissingApiClient:"missing-api-client",MissingSessionToken:"missing-session-token",MissingRefreshToken:"missing-refresh-token",ExpiredSessionTokenDecodeFailed:"expired-session-token-decode-failed",ExpiredSessionTokenMissingSidClaim:"expired-session-token-missing-sid-claim",FetchError:"fetch-error",UnexpectedSDKError:"unexpected-sdk-error",UnexpectedBAPIError:"unexpected-bapi-error"};function Gne(e,t){if(!e&&eh(t))throw new Error("Missing signInUrl. Pass a signInUrl for dev instances if an app is satellite")}a(Gne,"assertSignInUrlExists");function Wne(e){if(!e)throw new Error("Missing domain and proxyUrl. A satellite application needs to specify a domain or a proxyUrl")}a(Wne,"assertProxyUrlOrDomain");function Qne(e,t){let r;try{r=new URL(e)}catch{throw new Error("The signInUrl needs to have a absolute url format.")}if(r.origin===t)throw new Error("The signInUrl needs to be on a different origin than your satellite application.")}a(Qne,"assertSignInUrlFormatAndOrigin");function Xne(e){if(!e.machineSecretKey&&!e.secretKey)throw new Error("Machine token authentication requires either a Machine secret key or a Clerk secret key. Ensure a Clerk secret key or Machine secret key is set.")}a(Xne,"assertMachineSecretOrSecretKey");function Yne(e,t,r){return e.reason===nt.TokenExpired&&!!t.refreshTokenInCookie&&r.method==="GET"}a(Yne,"isRequestEligibleForRefresh");function Mq(e,t,r){return Y2(e,t)?null:Gn({tokenType:typeof t=="string"?t:e,authenticateContext:r,reason:sr.TokenTypeMismatch})}a(Mq,"checkTokenTypeMismatch");function eoe(e,t){let r=null,{tokenInHeader:n}=t;n&&(ak(n)?r=sk(n):r=Ge.SessionToken);let o=r??Ge.SessionToken;return Y2(o,e)}a(eoe,"isTokenTypeInAcceptedArray");var toe=a((async(e,t)=>{let r=await jte($ne(e),t),n=t.acceptsToken??Ge.SessionToken;n!==Ge.M2MToken&&(Fq(r.secretKey),r.isSatellite&&(Gne(r.signInUrl,r.secretKey),r.signInUrl&&r.origin&&Qne(r.signInUrl,r.origin),Wne(r.proxyUrl||r.domain))),n===Ge.M2MToken&&Xne(r);let o=new Kne(t.organizationSyncOptions),i=new Zne(r,{organizationSyncOptions:t.organizationSyncOptions},o);async function s(v){if(!t.apiClient)return{data:null,error:{message:"An apiClient is needed to perform token refresh.",cause:{reason:xo.MissingApiClient}}};let{sessionToken:S,refreshTokenInCookie:b}=v;if(!S)return{data:null,error:{message:"Session token must be provided.",cause:{reason:xo.MissingSessionToken}}};if(!b)return{data:null,error:{message:"Refresh token must be provided.",cause:{reason:xo.MissingRefreshToken}}};let{data:w,errors:k}=wo(S);if(!w||k)return{data:null,error:{message:"Unable to decode the expired session token.",cause:{reason:xo.ExpiredSessionTokenDecodeFailed,errors:k}}};if(!w?.payload?.sid)return{data:null,error:{message:"Expired session token is missing the `sid` claim.",cause:{reason:xo.ExpiredSessionTokenMissingSidClaim}}};try{return{data:(await t.apiClient.sessions.refreshSession(w.payload.sid,{format:"cookie",suffixed_cookies:v.usesSuffixedCookies(),expired_token:S||"",refresh_token:b||"",request_origin:v.clerkUrl.origin,request_headers:Object.fromEntries(Array.from(e.headers.entries()).map(([C,A])=>[C,[A]]))})).cookies,error:null}}catch($){return $?.errors?.length?$.errors[0].code==="unexpected_error"?{data:null,error:{message:"Fetch unexpected error",cause:{reason:xo.FetchError,errors:$.errors}}}:{data:null,error:{message:$.errors[0].code,cause:{reason:$.errors[0].code,errors:$.errors}}}:{data:null,error:{message:"Unexpected Server/BAPI error",cause:{reason:xo.UnexpectedBAPIError,errors:[$]}}}}}a(s,"refreshToken");async function u(v){let{data:S,error:b}=await s(v);if(!S||S.length===0)return{data:null,error:b};let w=new Headers,k="";S.forEach(A=>{w.append("Set-Cookie",A),rU(A).startsWith(Ae.Cookies.Session)&&(k=nU(A))});let{data:$,errors:C}=await ba(k,v);return C?{data:null,error:{message:"Clerk: unable to verify refreshed session token.",cause:{reason:xo.InvalidSessionToken,errors:C}}}:{data:{jwtPayload:$,sessionToken:k,headers:w},error:null}}a(u,"attemptRefresh");function l(v,S,b,w){if(!i.isRequestEligibleForHandshake())return Gn({tokenType:Ge.SessionToken,authenticateContext:v,reason:S,message:b});let k=w??i.buildRedirectToHandshake(S);return k.get(Ae.Headers.Location)&&k.set(Ae.Headers.CacheControl,"no-store"),i.checkAndTrackRedirectLoop(k)?(console.log("Clerk: Refreshing the session token resulted in an infinite redirect loop. This usually means that your Clerk instance keys do not match - make sure to copy the correct publishable and secret keys from the Clerk dashboard."),Gn({tokenType:Ge.SessionToken,authenticateContext:v,reason:S,message:b})):Ane(v,S,b,k)}a(l,"handleMaybeHandshakeStatus");function d(v,S){let b=o.findTarget(v.clerkUrl);if(!b)return null;let w=!1;if(b.type==="organization"&&(b.organizationSlug&&b.organizationSlug!==S.orgSlug&&(w=!0),b.organizationId&&b.organizationId!==S.orgId&&(w=!0)),b.type==="personalAccount"&&S.orgId&&(w=!0),!w)return null;if(v.handshakeRedirectLoopCounter>=3)return console.warn("Clerk: Organization activation handshake loop detected. This is likely due to an invalid organization ID or slug. Skipping organization activation."),null;let k=l(v,sr.ActiveOrganizationMismatch,"");return k.status!=="handshake"?null:k}a(d,"handleMaybeOrganizationSyncHandshake");async function p(){let{tokenInHeader:v}=r;try{let{data:S,errors:b}=await ba(v,r);if(b)throw b[0];return _a({tokenType:Ge.SessionToken,authenticateContext:r,sessionClaims:S,headers:new Headers,token:v})}catch(S){return m(S,"header")}}a(p,"authenticateRequestWithTokenInHeader");async function f(){let v=r.clientUat,S=!!r.sessionTokenInCookie,b=!!r.devBrowserToken;if(r.handshakeNonce||r.handshakeToken)try{return await i.resolveHandshake()}catch(A){A instanceof wt&&r.instanceType==="development"?i.handleTokenVerificationErrorInDevelopment(A):console.error("Clerk: unable to resolve handshake:",A)}let w=r.isSatellite&&r.secFetchDest==="document";if(r.instanceType==="production"&&w)return l(r,sr.SatelliteCookieNeedsSyncing,"");if(r.instanceType==="development"&&w&&!r.clerkUrl.searchParams.has(Ae.QueryParameters.ClerkSynced)){let A=new URL(r.signInUrl);A.searchParams.append(Ae.QueryParameters.ClerkRedirectUrl,r.clerkUrl.toString());let R=new Headers({[Ae.Headers.Location]:A.toString()});return l(r,sr.SatelliteCookieNeedsSyncing,"",R)}let k=new URL(r.clerkUrl).searchParams.get(Ae.QueryParameters.ClerkRedirectUrl);if(r.instanceType==="development"&&!r.isSatellite&&k){let A=new URL(k);r.devBrowserToken&&A.searchParams.append(Ae.QueryParameters.DevBrowser,r.devBrowserToken),A.searchParams.append(Ae.QueryParameters.ClerkSynced,"true");let R=new Headers({[Ae.Headers.Location]:A.toString()});return l(r,sr.PrimaryRespondsToSyncing,"",R)}if(r.instanceType==="development"&&r.clerkUrl.searchParams.has(Ae.QueryParameters.DevBrowser))return l(r,sr.DevBrowserSync,"");if(r.instanceType==="development"&&!b)return l(r,sr.DevBrowserMissing,"");if(!v&&!S)return Gn({tokenType:Ge.SessionToken,authenticateContext:r,reason:sr.SessionTokenAndUATMissing});if(!v&&S)return l(r,sr.SessionTokenWithoutClientUAT,"");if(v&&!S)return l(r,sr.ClientUATWithoutSessionToken,"");let{data:$,errors:C}=wo(r.sessionTokenInCookie);if(C)return m(C[0],"cookie");if($.payload.iat<r.clientUat)return l(r,sr.SessionTokenIATBeforeClientUAT,"");try{let{data:A,errors:R}=await ba(r.sessionTokenInCookie,r);if(R)throw R[0];let O=_a({tokenType:Ge.SessionToken,authenticateContext:r,sessionClaims:A,headers:new Headers,token:r.sessionTokenInCookie});if(!r.isSatellite&&r.secFetchDest==="document"&&r.isCrossOriginReferrer()&&!r.isKnownClerkReferrer()&&r.handshakeRedirectLoopCounter===0)return l(r,sr.PrimaryDomainCrossOriginSync,"Cross-origin request from satellite domain requires handshake");let D=O.toAuth();if(D.userId){let X=d(r,D);if(X)return X}return O}catch(A){return m(A,"cookie")}return Gn({tokenType:Ge.SessionToken,authenticateContext:r,reason:sr.UnexpectedError})}a(f,"authenticateRequestWithTokenInCookie");async function m(v,S){if(!(v instanceof wt))return Gn({tokenType:Ge.SessionToken,authenticateContext:r,reason:sr.UnexpectedError});let b;if(Yne(v,r,e)){let{data:k,error:$}=await u(r);if(k)return _a({tokenType:Ge.SessionToken,authenticateContext:r,sessionClaims:k.jwtPayload,headers:k.headers,token:k.sessionToken});$?.cause?.reason?b=$.cause.reason:b=xo.UnexpectedSDKError}else e.method!=="GET"?b=xo.NonEligibleNonGet:r.refreshTokenInCookie?b=null:b=xo.NonEligibleNoCookie;return v.tokenCarrier=S,[nt.TokenExpired,nt.TokenNotActiveYet,nt.TokenIatInTheFuture].includes(v.reason)?l(r,noe({tokenError:v.reason,refreshError:b}),v.getFullMessage()):Gn({tokenType:Ge.SessionToken,authenticateContext:r,reason:v.reason,message:v.getFullMessage()})}a(m,"handleSessionTokenError");function y(v,S){return S instanceof ah?Gn({tokenType:v,authenticateContext:r,reason:S.code,message:S.getFullMessage()}):Gn({tokenType:v,authenticateContext:r,reason:sr.UnexpectedError})}a(y,"handleMachineError");async function g(){let{tokenInHeader:v}=r;if(!v)return m(new Error("Missing token in header"),"header");if(!ak(v))return Gn({tokenType:n,authenticateContext:r,reason:sr.TokenTypeMismatch,message:""});let S=sk(v),b=Mq(S,n,r);if(b)return b;let{data:w,tokenType:k,errors:$}=await Dq(v,r);return $?y(k,$[0]):_a({tokenType:k,authenticateContext:r,machineData:w,token:v})}a(g,"authenticateMachineRequestWithTokenInHeader");async function h(){let{tokenInHeader:v}=r;if(!v)return m(new Error("Missing token in header"),"header");if(ak(v)){let w=sk(v),k=Mq(w,n,r);if(k)return k;let{data:$,tokenType:C,errors:A}=await Dq(v,r);return A?y(C,A[0]):_a({tokenType:C,authenticateContext:r,machineData:$,token:v})}let{data:S,errors:b}=await ba(v,r);return b?m(b[0],"header"):_a({tokenType:Ge.SessionToken,authenticateContext:r,sessionClaims:S,token:v})}return a(h,"authenticateAnyRequestWithTokenInHeader"),Array.isArray(n)&&!eoe(n,r)?Cne():r.tokenInHeader?n==="any"?h():n===Ge.SessionToken?p():g():n===Ge.OAuthToken||n===Ge.ApiKey||n===Ge.M2MToken?Gn({tokenType:n,authenticateContext:r,reason:"No token in header"}):f()}),"authenticateRequest"),roe=a(e=>{let{isSignedIn:t,isAuthenticated:r,proxyUrl:n,reason:o,message:i,publishableKey:s,isSatellite:u,domain:l}=e;return{isSignedIn:t,isAuthenticated:r,proxyUrl:n,reason:o,message:i,publishableKey:s,isSatellite:u,domain:l}},"debugRequestState"),noe=a(({tokenError:e,refreshError:t})=>{switch(e){case nt.TokenExpired:return`${sr.SessionTokenExpired}-refresh-${t}`;case nt.TokenNotActiveYet:return sr.SessionTokenNBF;case nt.TokenIatInTheFuture:return sr.SessionTokenIatInTheFuture;default:return sr.UnexpectedError}},"convertTokenVerificationErrorReasonToAuthErrorReason"),ooe={secretKey:"",machineSecretKey:"",jwtKey:"",apiUrl:void 0,apiVersion:void 0,proxyUrl:"",publishableKey:"",isSatellite:!1,domain:"",audience:""};function sU(e){let t=vq(ooe,e.options),r=e.apiClient;return{authenticateRequest:a((o,i={})=>{let{apiUrl:s,apiVersion:u}=t,l=vq(t,i);return toe(o,{...i,...l,apiUrl:s,apiVersion:u,apiClient:r})},"authenticateRequest2"),debugRequestState:roe}}a(sU,"createAuthenticateRequest");function uU(e){return async(...t)=>{let{data:r,errors:n}=await e(...t);if(n)throw n[0];return r}}a(uU,"withLegacyReturn");function ioe(e){return e?e.replace(/([-_][a-z])/g,t=>t.toUpperCase().replace(/-|_/,"")):""}a(ioe,"snakeToCamel");function aoe(e){return e?e.replace(/[A-Z]/g,t=>`_${t.toLowerCase()}`):""}a(aoe,"camelToSnake");var cU=a(e=>{let t=a(r=>{if(!r)return r;if(Array.isArray(r))return r.map(i=>typeof i=="object"||Array.isArray(i)?t(i):i);let n={...r},o=Object.keys(n);for(let i of o){let s=e(i.toString());s!==i&&(n[s]=n[i],delete n[i]),typeof n[s]=="object"&&(n[s]=t(n[s]))}return n},"deepTransform");return t},"createDeepObjectTransformer"),GFe=cU(aoe),WFe=cU(ioe);function gk(e){if(typeof e=="boolean")return e;if(e==null)return!1;if(typeof e=="string"){if(e.toLowerCase()==="true")return!0;if(e.toLowerCase()==="false")return!1}let t=parseInt(e,10);return isNaN(t)?!1:t>0}a(gk,"isTruthy");var soe=864e5,uoe=class{static{a(this,"TelemetryEventThrottler")}#e;#t=soe;constructor(e){this.#e=e}isEventThrottled(e){let t=Date.now(),r=this.#r(e),n=this.#e.getItem(r);return n?t-n>this.#t?(this.#e.setItem(r,t),!1):!0:(this.#e.setItem(r,t),!1)}#r(e){let{sk:t,pk:r,payload:n,...o}=e,i={...n,...o};return JSON.stringify(Object.keys({...n,...o}).sort().map(s=>i[s]))}},lU=class{static{a(this,"LocalStorageThrottlerCache")}#e="clerk_telemetry_throttler";getItem(e){return this.#t()[e]}setItem(e,t){try{let r=this.#t();r[e]=t,localStorage.setItem(this.#e,JSON.stringify(r))}catch(r){r instanceof DOMException&&(r.name==="QuotaExceededError"||r.name==="NS_ERROR_DOM_QUOTA_REACHED")&&localStorage.length>0&&localStorage.removeItem(this.#e)}}removeItem(e){try{let t=this.#t();delete t[e],localStorage.setItem(this.#e,JSON.stringify(t))}catch{}}#t(){try{let e=localStorage.getItem(this.#e);return e?JSON.parse(e):{}}catch{return{}}}static isSupported(){return typeof window<"u"&&!!window.localStorage}},coe=class{static{a(this,"InMemoryThrottlerCache")}#e=new Map;#t=1e4;getItem(e){if(this.#e.size>this.#t){this.#e.clear();return}return this.#e.get(e)}setItem(e,t){this.#e.set(e,t)}removeItem(e){this.#e.delete(e)}};function loe(e){return typeof e=="object"&&e!==null&&"constructor"in e&&typeof e.constructor=="function"}a(loe,"isWindowClerkWithMetadata");var doe=new Set(["error","warn","info","debug","trace"]),yk={samplingRate:1,maxBufferSize:5,endpoint:"https://clerk-telemetry.com"},vk=class{static{a(this,"TelemetryCollector")}#e;#t;#r={};#i=[];#n=null;constructor(e){this.#e={maxBufferSize:e.maxBufferSize??yk.maxBufferSize,samplingRate:e.samplingRate??yk.samplingRate,perEventSampling:e.perEventSampling??!0,disabled:e.disabled??!1,debug:e.debug??!1,endpoint:yk.endpoint},!e.clerkVersion&&typeof window>"u"?this.#r.clerkVersion="":this.#r.clerkVersion=e.clerkVersion??"",this.#r.sdk=e.sdk,this.#r.sdkVersion=e.sdkVersion,this.#r.publishableKey=e.publishableKey??"";let t=ga(e.publishableKey);t&&(this.#r.instanceType=t.instanceType),e.secretKey&&(this.#r.secretKey=e.secretKey.substring(0,16)),this.#t=new uoe(lU.isSupported()?new lU:new coe)}get isEnabled(){return!(this.#r.instanceType!=="development"||this.#e.disabled||typeof process<"u"&&process.env&&gk(process.env.CLERK_TELEMETRY_DISABLED)||typeof window<"u"&&window?.navigator?.webdriver)}get isDebug(){return this.#e.debug||typeof process<"u"&&process.env&&gk(process.env.CLERK_TELEMETRY_DEBUG)}record(e){try{let t=this.#s(e.event,e.payload);if(this.#p(t.event,t),!this.#o(t,e.eventSamplingRate))return;this.#i.push({kind:"event",value:t}),this.#u()}catch(t){console.error("[clerk/telemetry] Error recording telemetry event",t)}}recordLog(e){try{if(!this.#d(e))return;let t=typeof e?.level=="string"&&doe.has(e.level),r=typeof e?.message=="string"&&e.message.trim().length>0,n=null,o=e?.timestamp;if(typeof o=="number"||typeof o=="string"){let u=new Date(o);Number.isNaN(u.getTime())||(n=u)}if(!t||!r||n===null){this.isDebug&&typeof console<"u"&&console.warn("[clerk/telemetry] Dropping invalid telemetry log entry",{levelIsValid:t,messageIsValid:r,timestampIsValid:n!==null});return}let i=this.#l(),s={sdk:i.name,sdkv:i.version,cv:this.#r.clerkVersion??"",lvl:e.level,msg:e.message,ts:n.toISOString(),pk:this.#r.publishableKey||null,payload:this.#m(e.context)};this.#i.push({kind:"log",value:s}),this.#u()}catch(t){console.error("[clerk/telemetry] Error recording telemetry log entry",t)}}#o(e,t){return this.isEnabled&&!this.isDebug&&this.#c(e,t)}#d(e){return!0}#c(e,t){let r=Math.random();return r<=this.#e.samplingRate&&(this.#e.perEventSampling===!1||typeof t>"u"||r<=t)?!this.#t.isEventThrottled(e):!1}#u(){if(typeof window>"u"){this.#a();return}if(this.#i.length>=this.#e.maxBufferSize){this.#n&&(typeof cancelIdleCallback<"u"?cancelIdleCallback(Number(this.#n)):clearTimeout(Number(this.#n))),this.#a();return}this.#n||("requestIdleCallback"in window?this.#n=requestIdleCallback(()=>{this.#a(),this.#n=null}):this.#n=setTimeout(()=>{this.#a(),this.#n=null},0))}#a(){let e=[...this.#i];if(this.#i=[],this.#n=null,e.length===0)return;let t=e.filter(n=>n.kind==="event").map(n=>n.value),r=e.filter(n=>n.kind==="log").map(n=>n.value);if(t.length>0){let n=new URL("/v1/event",this.#e.endpoint);fetch(n,{headers:{"Content-Type":"application/json"},keepalive:!0,method:"POST",body:JSON.stringify({events:t})}).catch(()=>{})}if(r.length>0){let n=new URL("/v1/logs",this.#e.endpoint);fetch(n,{headers:{"Content-Type":"application/json"},keepalive:!0,method:"POST",body:JSON.stringify({logs:r})}).catch(()=>{})}}#p(e,t){this.isDebug&&(typeof console.groupCollapsed<"u"?(console.groupCollapsed("[clerk/telemetry]",e),console.log(t),console.groupEnd()):console.log("[clerk/telemetry]",e,t))}#l(){let e={name:this.#r.sdk,version:this.#r.sdkVersion};if(typeof window<"u"){let t=window;if(t.Clerk){let r=t.Clerk;if(loe(r)&&r.constructor.sdkMetadata){let{name:n,version:o}=r.constructor.sdkMetadata;n!==void 0&&(e.name=n),o!==void 0&&(e.version=o)}}}return e}#s(e,t){let r=this.#l();return{event:e,cv:this.#r.clerkVersion??"",it:this.#r.instanceType??"",sdk:r.name,sdkv:r.version,...this.#r.publishableKey?{pk:this.#r.publishableKey}:{},...this.#r.secretKey?{sk:this.#r.secretKey}:{},payload:t}}#m(e){if(e===null||typeof e>"u"||typeof e!="object")return null;try{let t=JSON.parse(JSON.stringify(e));return t&&typeof t=="object"&&!Array.isArray(t)?t:null}catch{return null}}};var _k=uU(ba);function Ju(e){let t={...e},r=Bu(t),n=sU({options:t,apiClient:r}),o=new vk({publishableKey:t.publishableKey,secretKey:t.secretKey,samplingRate:.1,...t.sdkMetadata?{sdk:t.sdkMetadata.name,sdkVersion:t.sdkMetadata.version}:{},...t.telemetry||{}});return{...r,...n,telemetry:o}}a(Ju,"createClerkClient");var Sh=a(e=>e,"createMiddleware");Tn();function bk(){let e=process.env.CLERK_SECRET_KEY,t=process.env.VITE_CLERK_PUBLISHABLE_KEY;if(!e)throw new Error("CLERK_SECRET_KEY environment variable is not set");return{secretKey:e,publishableKey:t}}a(bk,"getClerkConfig");function dU(){let{secretKey:e}=bk();return Ju({secretKey:e})}a(dU,"getClerkClient");var pU=Sh(async(e,t)=>{let r=e.req.header("Authorization"),n=r?.startsWith("Bearer ")?r.replace("Bearer ","").trim():null,o=e.get("requestId")||"unknown",i=e.req.header("X-Forwarded-For")||e.req.header("X-Real-IP")||"unknown";if(!n)return N.warn("Authentication failed: No token provided",{ip:i,method:e.req.method,path:e.req.path,requestId:o,userAgent:e.req.header("User-Agent")}),e.json({code:"AUTH_REQUIRED",error:"Authentication required"},401);try{let{secretKey:s}=bk(),u=dU(),l=await _k(n,{secretKey:s});if(!l?.sub)return N.warn("Authentication failed: Invalid token",{ip:i,method:e.req.method,path:e.req.path,requestId:o,userAgent:e.req.header("User-Agent")}),e.json({code:"INVALID_TOKEN",error:"Invalid authentication token"},401);let d=l.sub,p=await u.users.getUser(d),m={db:await Wf(d),clerkUser:p,user:{id:p.id,email:p.emailAddresses[0]?.emailAddress||"",fullName:`${p.firstName||""} ${p.lastName||""}`.trim()||null,role:p.publicMetadata?.role,metadata:p.publicMetadata}};e.set("auth",m),N.info("Authentication successful",{ip:i,method:e.req.method,path:e.req.path,requestId:o,userId:p.id}),await t()}catch(s){let u=s instanceof Error?s.message:"Unknown error",l=s instanceof Error?s.stack:void 0;return u.includes("token")||u.includes("Token")||u.includes("authentication")||u.includes("unauthorized")||u.includes("user not found")||u.includes("Invalid user ID")?(N.warn("Authentication failed",{error:u,ip:i,method:e.req.method,path:e.req.path,requestId:o,userAgent:e.req.header("User-Agent")}),e.json({code:"AUTH_ERROR",error:"Authentication failed"},401)):u.includes("connection")||u.includes("timeout")||u.includes("ECONNREFUSED")||u.includes("database")||u.includes("DATABASE_URL")?(N.error("Database connection error during authentication",{error:u,ip:i,method:e.req.method,path:e.req.path,requestId:o,stack:l,userAgent:e.req.header("User-Agent")}),e.json({code:"SERVICE_UNAVAILABLE",error:"Database service unavailable. Please try again later."},503)):u.includes("CLERK_SECRET_KEY")||u.includes("environment variable")||u.includes("not set")?(N.error("Configuration error during authentication",{error:u,ip:i,method:e.req.method,path:e.req.path,requestId:o,stack:l,userAgent:e.req.header("User-Agent")}),e.json({code:"CONFIGURATION_ERROR",error:"Server configuration error"},500)):(N.error("Unexpected authentication error",{error:u,ip:i,method:e.req.method,path:e.req.path,requestId:o,stack:l,userAgent:e.req.header("User-Agent")}),e.json({code:"INTERNAL_ERROR",error:"An unexpected error occurred during authentication"},500))}}),poe=Sh(async(e,t)=>{let r=e.req.header("Authorization"),n=r?.startsWith("Bearer ")?r.replace("Bearer ","").trim():null;if(!n){await t();return}try{let{secretKey:o}=bk(),i=dU(),s=await _k(n,{secretKey:o});if(!s?.sub){await t();return}let u=s.sub,l=await i.users.getUser(u),p={db:await Wf(u),clerkUser:l,user:{id:l.id,email:l.emailAddresses[0]?.emailAddress||"",fullName:`${l.firstName||""} ${l.lastName||""}`.trim()||null,role:l.publicMetadata?.role,metadata:l.publicMetadata}};e.set("auth",p),await t()}catch{await t()}});function mU(e){let{windowMs:t,max:r,message:n="Too many requests"}=e,o=new Map;return Sh(async(i,s)=>{let l=i.get("auth")?.user.id||i.req.header("X-Forwarded-For")||i.req.header("X-Real-IP")||"unknown",d=Date.now(),p=o.get(l);if(!p||d>p.resetTime)o.set(l,{count:1,resetTime:d+t});else if(p.count++,p.count>r){let m=Math.ceil((p.resetTime-d)/1e3);return i.json({code:"RATE_LIMIT_EXCEEDED",details:{limit:r,windowMs:t,retryAfter:m},error:n},429)}let f=o.get(l);f&&(i.header("X-RateLimit-Limit",r.toString()),i.header("X-RateLimit-Remaining",Math.max(0,r-f.count).toString()),i.header("X-RateLimit-Reset",new Date(f.resetTime).toISOString())),await s()})}a(mU,"clerkUserRateLimitMiddleware");var fe=pU;var xe=mU;var Sk=new Oe;Sk.get("/",fe,async e=>{let t=e.get("requestId");try{let{user:r}=e.get("auth"),n=r.id;if(!n)return e.json({code:"UNAUTHORIZED",error:"User not authenticated"},401);let o=e.req.query("refresh")==="true",s=await new Xf(n).getContext(o);return N.info("Financial context retrieved",{forceRefresh:o,requestId:t,userId:n}),e.json({context:s,formatted:{alertsBlock:UM(s.pendingAlerts),financialBlock:qM(s)},meta:{requestId:t,retrievedAt:new Date().toISOString()}})}catch(r){return N.error("Error fetching financial context",{error:r instanceof Error?r.message:"Unknown error",requestId:t}),e.json({code:"CONTEXT_ERROR",error:r instanceof Error?r.message:"Failed to fetch context"},500)}});var moe=/^[\w!#$%&'*.^`|~+-]+$/,foe=/^[ !#-:<-[\]-~]*$/,wk=a((e,t)=>{if(t&&e.indexOf(t)===-1)return{};let r=e.trim().split(";"),n={};for(let o of r){o=o.trim();let i=o.indexOf("=");if(i===-1)continue;let s=o.substring(0,i).trim();if(t&&t!==s||!moe.test(s))continue;let u=o.substring(i+1).trim();if(u.startsWith('"')&&u.endsWith('"')&&(u=u.slice(1,-1)),foe.test(u)&&(n[s]=u.indexOf("%")!==-1?iu(u,dl):u,t))break}return n},"parse");var fU=a((e,t,r)=>{let n=e.req.raw.headers.get("Cookie");if(typeof t=="string"){if(!n)return;let i=t;return r==="secure"?i="__Secure-"+t:r==="host"&&(i="__Host-"+t),wk(n,i)[i]}return n?wk(n):{}},"getCookie");var hU=a((e,t)=>new Response(e,{headers:{"Content-Type":t}}).formData(),"bufferToFormData");var hoe=/^application\/([a-z-\.]+\+)?json(;\s*[a-zA-Z0-9\-]+\=([^;]+))*$/,goe=/^multipart\/form-data(;\s?boundary=[a-zA-Z0-9'"()+_,\-./:=?]+)?$/,yoe=/^application\/x-www-form-urlencoded(;\s*[a-zA-Z0-9\-]+\=([^;]+))*$/,xk=a((e,t)=>async(r,n)=>{let o={},i=r.req.header("Content-Type");switch(e){case"json":if(!i||!hoe.test(i))break;try{o=await r.req.json()}catch{let u="Malformed JSON in request body";throw new Bm(400,{message:u})}break;case"form":{if(!i||!(goe.test(i)||yoe.test(i)))break;let u;if(r.req.bodyCache.formData)u=await r.req.bodyCache.formData;else try{let d=await r.req.arrayBuffer();u=await hU(d,i),r.req.bodyCache.formData=u}catch(d){let p="Malformed FormData request.";throw p+=d instanceof Error?` ${d.message}`:` ${String(d)}`,new Bm(400,{message:p})}let l={};u.forEach((d,p)=>{p.endsWith("[]")?(l[p]??=[]).push(d):Array.isArray(l[p])?l[p].push(d):p in l?l[p]=[l[p],d]:l[p]=d}),o=l;break}case"query":o=Object.fromEntries(Object.entries(r.req.queries()).map(([u,l])=>l.length===1?[u,l[0]]:[u,l]));break;case"param":o=r.req.param();break;case"header":o=r.req.header();break;case"cookie":o=fU(r);break}let s=await t(o,r);return s instanceof Response?s:(r.req.addValidatedData(e,s),await n())},"validator");function voe(e,t,r,n){return xk(e,async(o,i)=>{let s=o;if(e==="header"&&"_def"in t||e==="header"&&"_zod"in t){let l=Object.keys("in"in t?t.in.shape:t.shape),d=Object.fromEntries(l.map(p=>[p.toLowerCase(),p]));s=Object.fromEntries(Object.entries(o).map(([p,f])=>[d[p]||p,f]))}let u=n&&n.validationFunction?await n.validationFunction(t,s):await t.safeParseAsync(s);if(r){let l=await r({data:s,...u,target:e},i);if(l){if(l instanceof Response)return l;if("response"in l)return l.response}}return u.success?u.data:i.json(u,400)})}a(voe,"zValidatorFunction");var Ve=voe;var c={};_n(c,{$brand:()=>wh,$input:()=>$O,$output:()=>RO,NEVER:()=>Tk,TimePrecision:()=>DO,ZodAny:()=>nL,ZodArray:()=>sL,ZodBase64:()=>eC,ZodBase64URL:()=>tC,ZodBigInt:()=>rp,ZodBigIntFormat:()=>oC,ZodBoolean:()=>tp,ZodCIDRv4:()=>XA,ZodCIDRv6:()=>YA,ZodCUID:()=>HA,ZodCUID2:()=>VA,ZodCatch:()=>kL,ZodCodec:()=>fC,ZodCustom:()=>Pg,ZodCustomStringFormat:()=>Yd,ZodDate:()=>Tg,ZodDefault:()=>bL,ZodDiscriminatedUnion:()=>uL,ZodE164:()=>rC,ZodEmail:()=>FA,ZodEmoji:()=>BA,ZodEnum:()=>Qd,ZodError:()=>Gae,ZodFile:()=>yL,ZodFirstPartyTypeKind:()=>hC,ZodFunction:()=>zL,ZodGUID:()=>_g,ZodIPv4:()=>WA,ZodIPv6:()=>QA,ZodISODate:()=>hg,ZodISODateTime:()=>fg,ZodISODuration:()=>yg,ZodISOTime:()=>gg,ZodIntersection:()=>cL,ZodIssueCode:()=>cue,ZodJWT:()=>nC,ZodKSUID:()=>GA,ZodLazy:()=>RL,ZodLiteral:()=>gL,ZodMAC:()=>WU,ZodMap:()=>fL,ZodNaN:()=>IL,ZodNanoID:()=>JA,ZodNever:()=>iL,ZodNonOptional:()=>pC,ZodNull:()=>tL,ZodNullable:()=>_L,ZodNumber:()=>ep,ZodNumberFormat:()=>ic,ZodObject:()=>kg,ZodOptional:()=>dC,ZodPipe:()=>mC,ZodPrefault:()=>wL,ZodPromise:()=>NL,ZodReadonly:()=>OL,ZodRealError:()=>Pn,ZodRecord:()=>uC,ZodSet:()=>hL,ZodString:()=>Xd,ZodStringFormat:()=>Lt,ZodSuccess:()=>EL,ZodSymbol:()=>YU,ZodTemplateLiteral:()=>CL,ZodTransform:()=>vL,ZodTuple:()=>dL,ZodType:()=>ot,ZodULID:()=>ZA,ZodURL:()=>xg,ZodUUID:()=>Ni,ZodUndefined:()=>eL,ZodUnion:()=>aC,ZodUnknown:()=>oL,ZodVoid:()=>aL,ZodXID:()=>KA,_ZodString:()=>LA,_default:()=>SL,_function:()=>eue,any:()=>Nse,array:()=>Eg,base64:()=>yse,base64url:()=>vse,bigint:()=>Ose,boolean:()=>XU,catch:()=>PL,check:()=>tue,cidrv4:()=>hse,cidrv6:()=>gse,clone:()=>nn,codec:()=>Qse,coerce:()=>gC,config:()=>vr,core:()=>Ri,cuid:()=>sse,cuid2:()=>use,custom:()=>rue,date:()=>jse,decode:()=>RA,decodeAsync:()=>NA,describe:()=>nue,discriminatedUnion:()=>Lse,e164:()=>_se,email:()=>Qae,emoji:()=>ise,encode:()=>CA,encodeAsync:()=>$A,endsWith:()=>Bd,enum:()=>cC,file:()=>Zse,flattenError:()=>wd,float32:()=>Ese,float64:()=>kse,formatError:()=>xd,function:()=>eue,getErrorMap:()=>due,globalRegistry:()=>on,gt:()=>Ai,gte:()=>kn,guid:()=>Xae,hash:()=>Tse,hex:()=>xse,hostname:()=>wse,httpUrl:()=>ose,includes:()=>Ld,instanceof:()=>iue,int:()=>UA,int32:()=>Pse,int64:()=>Ase,intersection:()=>lL,ipv4:()=>pse,ipv6:()=>fse,iso:()=>vg,json:()=>sue,jwt:()=>bse,keyof:()=>Dse,ksuid:()=>dse,lazy:()=>$L,length:()=>rc,literal:()=>Vse,locales:()=>Nd,looseObject:()=>Use,lowercase:()=>qd,lt:()=>Oi,lte:()=>Xn,mac:()=>mse,map:()=>Bse,maxLength:()=>tc,maxSize:()=>ec,meta:()=>oue,mime:()=>Jd,minLength:()=>Pa,minSize:()=>ws,multipleOf:()=>Ss,nan:()=>Wse,nanoid:()=>ase,nativeEnum:()=>Hse,negative:()=>pA,never:()=>iC,nonnegative:()=>fA,nonoptional:()=>TL,nonpositive:()=>mA,normalize:()=>Hd,null:()=>rL,nullable:()=>Sg,nullish:()=>Kse,number:()=>QU,object:()=>Mse,optional:()=>bg,overwrite:()=>Wo,parse:()=>IA,parseAsync:()=>OA,partialRecord:()=>Fse,pipe:()=>wg,positive:()=>dA,prefault:()=>xL,preprocess:()=>uue,prettifyError:()=>jk,promise:()=>Yse,property:()=>hA,readonly:()=>AL,record:()=>mL,refine:()=>jL,regex:()=>Md,regexes:()=>Qn,registry:()=>Zh,safeDecode:()=>jA,safeDecodeAsync:()=>MA,safeEncode:()=>zA,safeEncodeAsync:()=>DA,safeParse:()=>AA,safeParseAsync:()=>$i,set:()=>Jse,setErrorMap:()=>lue,size:()=>Dd,slugify:()=>Gd,startsWith:()=>Fd,strictObject:()=>qse,string:()=>qA,stringFormat:()=>Sse,stringbool:()=>aue,success:()=>Gse,superRefine:()=>DL,symbol:()=>Rse,templateLiteral:()=>Xse,toJSONSchema:()=>Ci,toLowerCase:()=>Zd,toUpperCase:()=>Kd,transform:()=>lC,treeifyError:()=>zk,trim:()=>Vd,tuple:()=>pL,uint32:()=>Ise,uint64:()=>Cse,ulid:()=>cse,undefined:()=>$se,union:()=>sC,unknown:()=>oc,uppercase:()=>Ud,url:()=>nse,util:()=>pe,uuid:()=>Yae,uuidv4:()=>ese,uuidv6:()=>tse,uuidv7:()=>rse,void:()=>zse,xid:()=>lse});var Ri={};_n(Ri,{$ZodAny:()=>dI,$ZodArray:()=>gI,$ZodAsyncError:()=>To,$ZodBase64:()=>tI,$ZodBase64URL:()=>rI,$ZodBigInt:()=>Jh,$ZodBigIntFormat:()=>sI,$ZodBoolean:()=>Pd,$ZodCIDRv4:()=>XP,$ZodCIDRv6:()=>YP,$ZodCUID:()=>UP,$ZodCUID2:()=>LP,$ZodCatch:()=>$I,$ZodCheck:()=>Ut,$ZodCheckBigIntFormat:()=>gP,$ZodCheckEndsWith:()=>IP,$ZodCheckGreaterThan:()=>Dh,$ZodCheckIncludes:()=>kP,$ZodCheckLengthEquals:()=>wP,$ZodCheckLessThan:()=>jh,$ZodCheckLowerCase:()=>TP,$ZodCheckMaxLength:()=>bP,$ZodCheckMaxSize:()=>yP,$ZodCheckMimeType:()=>AP,$ZodCheckMinLength:()=>SP,$ZodCheckMinSize:()=>vP,$ZodCheckMultipleOf:()=>fP,$ZodCheckNumberFormat:()=>hP,$ZodCheckOverwrite:()=>CP,$ZodCheckProperty:()=>OP,$ZodCheckRegex:()=>xP,$ZodCheckSizeEquals:()=>_P,$ZodCheckStartsWith:()=>PP,$ZodCheckStringFormat:()=>Xu,$ZodCheckUpperCase:()=>EP,$ZodCodec:()=>Id,$ZodCustom:()=>LI,$ZodCustomStringFormat:()=>iI,$ZodDate:()=>hI,$ZodDefault:()=>OI,$ZodDiscriminatedUnion:()=>vI,$ZodE164:()=>nI,$ZodEmail:()=>jP,$ZodEmoji:()=>MP,$ZodEncodeError:()=>Sa,$ZodEnum:()=>xI,$ZodError:()=>Sd,$ZodFile:()=>EI,$ZodFunction:()=>MI,$ZodGUID:()=>NP,$ZodIPv4:()=>GP,$ZodIPv6:()=>WP,$ZodISODate:()=>VP,$ZodISODateTime:()=>HP,$ZodISODuration:()=>KP,$ZodISOTime:()=>ZP,$ZodIntersection:()=>_I,$ZodJWT:()=>oI,$ZodKSUID:()=>JP,$ZodLazy:()=>UI,$ZodLiteral:()=>TI,$ZodMAC:()=>QP,$ZodMap:()=>SI,$ZodNaN:()=>NI,$ZodNanoID:()=>qP,$ZodNever:()=>mI,$ZodNonOptional:()=>CI,$ZodNull:()=>lI,$ZodNullable:()=>II,$ZodNumber:()=>Bh,$ZodNumberFormat:()=>aI,$ZodObject:()=>LU,$ZodObjectJIT:()=>yI,$ZodOptional:()=>PI,$ZodPipe:()=>zI,$ZodPrefault:()=>AI,$ZodPromise:()=>qI,$ZodReadonly:()=>jI,$ZodRealError:()=>En,$ZodRecord:()=>bI,$ZodRegistry:()=>Yu,$ZodSet:()=>wI,$ZodString:()=>bs,$ZodStringFormat:()=>jt,$ZodSuccess:()=>RI,$ZodSymbol:()=>uI,$ZodTemplateLiteral:()=>DI,$ZodTransform:()=>kI,$ZodTuple:()=>Vh,$ZodType:()=>Ze,$ZodULID:()=>FP,$ZodURL:()=>DP,$ZodUUID:()=>zP,$ZodUndefined:()=>cI,$ZodUnion:()=>Hh,$ZodUnknown:()=>pI,$ZodVoid:()=>fI,$ZodXID:()=>BP,$brand:()=>wh,$constructor:()=>H,$input:()=>$O,$output:()=>RO,Doc:()=>kd,JSONSchema:()=>ZU,JSONSchemaGenerator:()=>Wd,NEVER:()=>Tk,TimePrecision:()=>DO,_any:()=>oA,_array:()=>gA,_base64:()=>lg,_base64url:()=>dg,_bigint:()=>QO,_boolean:()=>GO,_catch:()=>Fae,_check:()=>VU,_cidrv4:()=>ug,_cidrv6:()=>cg,_coercedBigint:()=>XO,_coercedBoolean:()=>WO,_coercedDate:()=>cA,_coercedNumber:()=>BO,_coercedString:()=>zO,_cuid:()=>tg,_cuid2:()=>rg,_custom:()=>vA,_date:()=>uA,_decode:()=>Ih,_decodeAsync:()=>Ah,_default:()=>qae,_discriminatedUnion:()=>Pae,_e164:()=>pg,_email:()=>Kh,_emoji:()=>Yh,_encode:()=>Ph,_encodeAsync:()=>Oh,_endsWith:()=>Bd,_enum:()=>$ae,_file:()=>yA,_float32:()=>HO,_float64:()=>VO,_gt:()=>Ai,_gte:()=>kn,_guid:()=>zd,_includes:()=>Ld,_int:()=>JO,_int32:()=>ZO,_int64:()=>YO,_intersection:()=>Iae,_ipv4:()=>ag,_ipv6:()=>sg,_isoDate:()=>qO,_isoDateTime:()=>MO,_isoDuration:()=>LO,_isoTime:()=>UO,_jwt:()=>mg,_ksuid:()=>ig,_lazy:()=>Vae,_length:()=>rc,_literal:()=>zae,_lowercase:()=>qd,_lt:()=>Oi,_lte:()=>Xn,_mac:()=>jO,_map:()=>Cae,_max:()=>Xn,_maxLength:()=>tc,_maxSize:()=>ec,_mime:()=>Jd,_min:()=>kn,_minLength:()=>Pa,_minSize:()=>ws,_multipleOf:()=>Ss,_nan:()=>lA,_nanoid:()=>eg,_nativeEnum:()=>Nae,_negative:()=>pA,_never:()=>aA,_nonnegative:()=>fA,_nonoptional:()=>Uae,_nonpositive:()=>mA,_normalize:()=>Hd,_null:()=>nA,_nullable:()=>Mae,_number:()=>FO,_optional:()=>Dae,_overwrite:()=>Wo,_parse:()=>Ku,_parseAsync:()=>Gu,_pipe:()=>Bae,_positive:()=>dA,_promise:()=>Zae,_property:()=>hA,_readonly:()=>Jae,_record:()=>Aae,_refine:()=>_A,_regex:()=>Md,_safeDecode:()=>Rh,_safeDecodeAsync:()=>Nh,_safeEncode:()=>Ch,_safeEncodeAsync:()=>$h,_safeParse:()=>Wu,_safeParseAsync:()=>Qu,_set:()=>Rae,_size:()=>Dd,_slugify:()=>Gd,_startsWith:()=>Fd,_string:()=>NO,_stringFormat:()=>nc,_stringbool:()=>xA,_success:()=>Lae,_superRefine:()=>bA,_symbol:()=>tA,_templateLiteral:()=>Hae,_toLowerCase:()=>Zd,_toUpperCase:()=>Kd,_transform:()=>jae,_trim:()=>Vd,_tuple:()=>Oae,_uint32:()=>KO,_uint64:()=>eA,_ulid:()=>ng,_undefined:()=>rA,_union:()=>kae,_unknown:()=>iA,_uppercase:()=>Ud,_url:()=>jd,_uuid:()=>Gh,_uuidv4:()=>Wh,_uuidv6:()=>Qh,_uuidv7:()=>Xh,_void:()=>sA,_xid:()=>og,clone:()=>nn,config:()=>vr,decode:()=>Voe,decodeAsync:()=>Koe,describe:()=>SA,encode:()=>Hoe,encodeAsync:()=>Zoe,flattenError:()=>wd,formatError:()=>xd,globalConfig:()=>fd,globalRegistry:()=>on,isValidBase64:()=>eI,isValidBase64URL:()=>DU,isValidJWT:()=>MU,locales:()=>Nd,meta:()=>wA,parse:()=>Eh,parseAsync:()=>kh,prettifyError:()=>jk,regexes:()=>Qn,registry:()=>Zh,safeDecode:()=>Woe,safeDecodeAsync:()=>Xoe,safeEncode:()=>Goe,safeEncodeAsync:()=>Qoe,safeParse:()=>Dk,safeParseAsync:()=>Mk,toDotPath:()=>bU,toJSONSchema:()=>Ci,treeifyError:()=>zk,util:()=>pe,version:()=>RP});var Tk=Object.freeze({status:"aborted"});function H(e,t,r){function n(u,l){if(u._zod||Object.defineProperty(u,"_zod",{value:{def:l,constr:s,traits:new Set},enumerable:!1}),u._zod.traits.has(e))return;u._zod.traits.add(e),t(u,l);let d=s.prototype,p=Object.keys(d);for(let f=0;f<p.length;f++){let m=p[f];m in u||(u[m]=d[m].bind(u))}}a(n,"init");let o=r?.Parent??Object;class i extends o{static{a(this,"Definition")}}Object.defineProperty(i,"name",{value:e});function s(u){var l;let d=r?.Parent?new i:this;n(d,u),(l=d._zod).deferred??(l.deferred=[]);for(let p of d._zod.deferred)p();return d}return a(s,"_"),Object.defineProperty(s,"init",{value:n}),Object.defineProperty(s,Symbol.hasInstance,{value:a(u=>r?.Parent&&u instanceof r.Parent?!0:u?._zod?.traits?.has(e),"value")}),Object.defineProperty(s,"name",{value:e}),s}a(H,"$constructor");var wh=Symbol("zod_brand"),To=class extends Error{static{a(this,"$ZodAsyncError")}constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}},Sa=class extends Error{static{a(this,"$ZodEncodeError")}constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}},fd={};function vr(e){return e&&Object.assign(fd,e),fd}a(vr,"config");var pe={};_n(pe,{BIGINT_FORMAT_RANGES:()=>Nk,Class:()=>kk,NUMBER_FORMAT_RANGES:()=>$k,aborted:()=>ka,allowsEval:()=>Ok,assert:()=>xoe,assertEqual:()=>_oe,assertIs:()=>Soe,assertNever:()=>woe,assertNotEqual:()=>boe,assignProp:()=>xa,base64ToUint8Array:()=>yU,base64urlToUint8Array:()=>Uoe,cached:()=>Vu,captureStackTrace:()=>Th,cleanEnum:()=>qoe,cleanRegex:()=>yd,clone:()=>nn,cloneDef:()=>Eoe,createTransparentProxy:()=>Coe,defineLazy:()=>dt,esc:()=>xh,escapeRegex:()=>Wn,extend:()=>Noe,finalizeIssue:()=>Mn,floatSafeRemainder:()=>Pk,getElementAtPath:()=>koe,getEnumValues:()=>gd,getLengthableOrigin:()=>bd,getParsedType:()=>Aoe,getSizableOrigin:()=>_d,hexToUint8Array:()=>Foe,isObject:()=>vs,isPlainObject:()=>Ea,issue:()=>Zu,joinValues:()=>ee,jsonStringifyReplacer:()=>Hu,merge:()=>joe,mergeDefs:()=>Ta,normalizeParams:()=>de,nullish:()=>wa,numKeys:()=>Ooe,objectClone:()=>Toe,omit:()=>$oe,optionalKeys:()=>Rk,partial:()=>Doe,pick:()=>Roe,prefixIssues:()=>Dn,primitiveTypes:()=>Ck,promiseAllObject:()=>Poe,propertyKeyTypes:()=>vd,randomString:()=>Ioe,required:()=>Moe,safeExtend:()=>zoe,shallowClone:()=>Ak,slugify:()=>Ik,stringifyPrimitive:()=>le,uint8ArrayToBase64:()=>vU,uint8ArrayToBase64url:()=>Loe,uint8ArrayToHex:()=>Boe,unwrapMessage:()=>hd});function _oe(e){return e}a(_oe,"assertEqual");function boe(e){return e}a(boe,"assertNotEqual");function Soe(e){}a(Soe,"assertIs");function woe(e){throw new Error}a(woe,"assertNever");function xoe(e){}a(xoe,"assert");function gd(e){let t=Object.values(e).filter(n=>typeof n=="number");return Object.entries(e).filter(([n,o])=>t.indexOf(+n)===-1).map(([n,o])=>o)}a(gd,"getEnumValues");function ee(e,t="|"){return e.map(r=>le(r)).join(t)}a(ee,"joinValues");function Hu(e,t){return typeof t=="bigint"?t.toString():t}a(Hu,"jsonStringifyReplacer");function Vu(e){return{get value(){{let r=e();return Object.defineProperty(this,"value",{value:r}),r}throw new Error("cached value already set")}}}a(Vu,"cached");function wa(e){return e==null}a(wa,"nullish");function yd(e){let t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}a(yd,"cleanRegex");function Pk(e,t){let r=(e.toString().split(".")[1]||"").length,n=t.toString(),o=(n.split(".")[1]||"").length;if(o===0&&/\d?e-\d?/.test(n)){let l=n.match(/\d?e-(\d?)/);l?.[1]&&(o=Number.parseInt(l[1]))}let i=r>o?r:o,s=Number.parseInt(e.toFixed(i).replace(".","")),u=Number.parseInt(t.toFixed(i).replace(".",""));return s%u/10**i}a(Pk,"floatSafeRemainder");var gU=Symbol("evaluating");function dt(e,t,r){let n;Object.defineProperty(e,t,{get(){if(n!==gU)return n===void 0&&(n=gU,n=r()),n},set(o){Object.defineProperty(e,t,{value:o})},configurable:!0})}a(dt,"defineLazy");function Toe(e){return Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e))}a(Toe,"objectClone");function xa(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}a(xa,"assignProp");function Ta(...e){let t={};for(let r of e){let n=Object.getOwnPropertyDescriptors(r);Object.assign(t,n)}return Object.defineProperties({},t)}a(Ta,"mergeDefs");function Eoe(e){return Ta(e._zod.def)}a(Eoe,"cloneDef");function koe(e,t){return t?t.reduce((r,n)=>r?.[n],e):e}a(koe,"getElementAtPath");function Poe(e){let t=Object.keys(e),r=t.map(n=>e[n]);return Promise.all(r).then(n=>{let o={};for(let i=0;i<t.length;i++)o[t[i]]=n[i];return o})}a(Poe,"promiseAllObject");function Ioe(e=10){let t="abcdefghijklmnopqrstuvwxyz",r="";for(let n=0;n<e;n++)r+=t[Math.floor(Math.random()*t.length)];return r}a(Ioe,"randomString");function xh(e){return JSON.stringify(e)}a(xh,"esc");function Ik(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}a(Ik,"slugify");var Th="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function vs(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}a(vs,"isObject");var Ok=Vu(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{let e=Function;return new e(""),!0}catch{return!1}});function Ea(e){if(vs(e)===!1)return!1;let t=e.constructor;if(t===void 0||typeof t!="function")return!0;let r=t.prototype;return!(vs(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}a(Ea,"isPlainObject");function Ak(e){return Ea(e)?{...e}:Array.isArray(e)?[...e]:e}a(Ak,"shallowClone");function Ooe(e){let t=0;for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}a(Ooe,"numKeys");var Aoe=a(e=>{let t=typeof e;switch(t){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(e)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":return Array.isArray(e)?"array":e===null?"null":e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?"promise":typeof Map<"u"&&e instanceof Map?"map":typeof Set<"u"&&e instanceof Set?"set":typeof Date<"u"&&e instanceof Date?"date":typeof File<"u"&&e instanceof File?"file":"object";default:throw new Error(`Unknown data type: ${t}`)}},"getParsedType"),vd=new Set(["string","number","symbol"]),Ck=new Set(["string","number","bigint","boolean","symbol","undefined"]);function Wn(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}a(Wn,"escapeRegex");function nn(e,t,r){let n=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(n._zod.parent=e),n}a(nn,"clone");function de(e){let t=e;if(!t)return{};if(typeof t=="string")return{error:a(()=>t,"error")};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:a(()=>t.error,"error")}:t}a(de,"normalizeParams");function Coe(e){let t;return new Proxy({},{get(r,n,o){return t??(t=e()),Reflect.get(t,n,o)},set(r,n,o,i){return t??(t=e()),Reflect.set(t,n,o,i)},has(r,n){return t??(t=e()),Reflect.has(t,n)},deleteProperty(r,n){return t??(t=e()),Reflect.deleteProperty(t,n)},ownKeys(r){return t??(t=e()),Reflect.ownKeys(t)},getOwnPropertyDescriptor(r,n){return t??(t=e()),Reflect.getOwnPropertyDescriptor(t,n)},defineProperty(r,n,o){return t??(t=e()),Reflect.defineProperty(t,n,o)}})}a(Coe,"createTransparentProxy");function le(e){return typeof e=="bigint"?e.toString()+"n":typeof e=="string"?`"${e}"`:`${e}`}a(le,"stringifyPrimitive");function Rk(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}a(Rk,"optionalKeys");var $k={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},Nk={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function Roe(e,t){let r=e._zod.def,n=Ta(e._zod.def,{get shape(){let o={};for(let i in t){if(!(i in r.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&(o[i]=r.shape[i])}return xa(this,"shape",o),o},checks:[]});return nn(e,n)}a(Roe,"pick");function $oe(e,t){let r=e._zod.def,n=Ta(e._zod.def,{get shape(){let o={...e._zod.def.shape};for(let i in t){if(!(i in r.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&delete o[i]}return xa(this,"shape",o),o},checks:[]});return nn(e,n)}a($oe,"omit");function Noe(e,t){if(!Ea(t))throw new Error("Invalid input to extend: expected a plain object");let r=e._zod.def.checks;if(r&&r.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");let o=Ta(e._zod.def,{get shape(){let i={...e._zod.def.shape,...t};return xa(this,"shape",i),i},checks:[]});return nn(e,o)}a(Noe,"extend");function zoe(e,t){if(!Ea(t))throw new Error("Invalid input to safeExtend: expected a plain object");let r={...e._zod.def,get shape(){let n={...e._zod.def.shape,...t};return xa(this,"shape",n),n},checks:e._zod.def.checks};return nn(e,r)}a(zoe,"safeExtend");function joe(e,t){let r=Ta(e._zod.def,{get shape(){let n={...e._zod.def.shape,...t._zod.def.shape};return xa(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return nn(e,r)}a(joe,"merge");function Doe(e,t,r){let n=Ta(t._zod.def,{get shape(){let o=t._zod.def.shape,i={...o};if(r)for(let s in r){if(!(s in o))throw new Error(`Unrecognized key: "${s}"`);r[s]&&(i[s]=e?new e({type:"optional",innerType:o[s]}):o[s])}else for(let s in o)i[s]=e?new e({type:"optional",innerType:o[s]}):o[s];return xa(this,"shape",i),i},checks:[]});return nn(t,n)}a(Doe,"partial");function Moe(e,t,r){let n=Ta(t._zod.def,{get shape(){let o=t._zod.def.shape,i={...o};if(r)for(let s in r){if(!(s in i))throw new Error(`Unrecognized key: "${s}"`);r[s]&&(i[s]=new e({type:"nonoptional",innerType:o[s]}))}else for(let s in o)i[s]=new e({type:"nonoptional",innerType:o[s]});return xa(this,"shape",i),i},checks:[]});return nn(t,n)}a(Moe,"required");function ka(e,t=0){if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}a(ka,"aborted");function Dn(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}a(Dn,"prefixIssues");function hd(e){return typeof e=="string"?e:e?.message}a(hd,"unwrapMessage");function Mn(e,t,r){let n={...e,path:e.path??[]};if(!e.message){let o=hd(e.inst?._zod.def?.error?.(e))??hd(t?.error?.(e))??hd(r.customError?.(e))??hd(r.localeError?.(e))??"Invalid input";n.message=o}return delete n.inst,delete n.continue,t?.reportInput||delete n.input,n}a(Mn,"finalizeIssue");function _d(e){return e instanceof Set?"set":e instanceof Map?"map":e instanceof File?"file":"unknown"}a(_d,"getSizableOrigin");function bd(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}a(bd,"getLengthableOrigin");function Zu(...e){let[t,r,n]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:n}:{...t}}a(Zu,"issue");function qoe(e){return Object.entries(e).filter(([t,r])=>Number.isNaN(Number.parseInt(t,10))).map(t=>t[1])}a(qoe,"cleanEnum");function yU(e){let t=atob(e),r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r}a(yU,"base64ToUint8Array");function vU(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}a(vU,"uint8ArrayToBase64");function Uoe(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),r="=".repeat((4-t.length%4)%4);return yU(t+r)}a(Uoe,"base64urlToUint8Array");function Loe(e){return vU(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}a(Loe,"uint8ArrayToBase64url");function Foe(e){let t=e.replace(/^0x/,"");if(t.length%2!==0)throw new Error("Invalid hex string length");let r=new Uint8Array(t.length/2);for(let n=0;n<t.length;n+=2)r[n/2]=Number.parseInt(t.slice(n,n+2),16);return r}a(Foe,"hexToUint8Array");function Boe(e){return Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join("")}a(Boe,"uint8ArrayToHex");var kk=class{static{a(this,"Class")}constructor(...t){}};var _U=a((e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Hu,2),Object.defineProperty(e,"toString",{value:a(()=>e.message,"value"),enumerable:!1})},"initializer"),Sd=H("$ZodError",_U),En=H("$ZodError",_U,{Parent:Error});function wd(e,t=r=>r.message){let r={},n=[];for(let o of e.issues)o.path.length>0?(r[o.path[0]]=r[o.path[0]]||[],r[o.path[0]].push(t(o))):n.push(t(o));return{formErrors:n,fieldErrors:r}}a(wd,"flattenError");function xd(e,t=r=>r.message){let r={_errors:[]},n=a(o=>{for(let i of o.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(s=>n({issues:s}));else if(i.code==="invalid_key")n({issues:i.issues});else if(i.code==="invalid_element")n({issues:i.issues});else if(i.path.length===0)r._errors.push(t(i));else{let s=r,u=0;for(;u<i.path.length;){let l=i.path[u];u===i.path.length-1?(s[l]=s[l]||{_errors:[]},s[l]._errors.push(t(i))):s[l]=s[l]||{_errors:[]},s=s[l],u++}}},"processError");return n(e),r}a(xd,"formatError");function zk(e,t=r=>r.message){let r={errors:[]},n=a((o,i=[])=>{var s,u;for(let l of o.issues)if(l.code==="invalid_union"&&l.errors.length)l.errors.map(d=>n({issues:d},l.path));else if(l.code==="invalid_key")n({issues:l.issues},l.path);else if(l.code==="invalid_element")n({issues:l.issues},l.path);else{let d=[...i,...l.path];if(d.length===0){r.errors.push(t(l));continue}let p=r,f=0;for(;f<d.length;){let m=d[f],y=f===d.length-1;typeof m=="string"?(p.properties??(p.properties={}),(s=p.properties)[m]??(s[m]={errors:[]}),p=p.properties[m]):(p.items??(p.items=[]),(u=p.items)[m]??(u[m]={errors:[]}),p=p.items[m]),y&&p.errors.push(t(l)),f++}}},"processError");return n(e),r}a(zk,"treeifyError");function bU(e){let t=[],r=e.map(n=>typeof n=="object"?n.key:n);for(let n of r)typeof n=="number"?t.push(`[${n}]`):typeof n=="symbol"?t.push(`[${JSON.stringify(String(n))}]`):/[^\w$]/.test(n)?t.push(`[${JSON.stringify(n)}]`):(t.length&&t.push("."),t.push(n));return t.join("")}a(bU,"toDotPath");function jk(e){let t=[],r=[...e.issues].sort((n,o)=>(n.path??[]).length-(o.path??[]).length);for(let n of r)t.push(`\u2716 ${n.message}`),n.path?.length&&t.push(`  \u2192 at ${bU(n.path)}`);return t.join(`
`)}a(jk,"prettifyError");var Ku=a(e=>(t,r,n,o)=>{let i=n?Object.assign(n,{async:!1}):{async:!1},s=t._zod.run({value:r,issues:[]},i);if(s instanceof Promise)throw new To;if(s.issues.length){let u=new(o?.Err??e)(s.issues.map(l=>Mn(l,i,vr())));throw Th(u,o?.callee),u}return s.value},"_parse"),Eh=Ku(En),Gu=a(e=>async(t,r,n,o)=>{let i=n?Object.assign(n,{async:!0}):{async:!0},s=t._zod.run({value:r,issues:[]},i);if(s instanceof Promise&&(s=await s),s.issues.length){let u=new(o?.Err??e)(s.issues.map(l=>Mn(l,i,vr())));throw Th(u,o?.callee),u}return s.value},"_parseAsync"),kh=Gu(En),Wu=a(e=>(t,r,n)=>{let o=n?{...n,async:!1}:{async:!1},i=t._zod.run({value:r,issues:[]},o);if(i instanceof Promise)throw new To;return i.issues.length?{success:!1,error:new(e??Sd)(i.issues.map(s=>Mn(s,o,vr())))}:{success:!0,data:i.value}},"_safeParse"),Dk=Wu(En),Qu=a(e=>async(t,r,n)=>{let o=n?Object.assign(n,{async:!0}):{async:!0},i=t._zod.run({value:r,issues:[]},o);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new e(i.issues.map(s=>Mn(s,o,vr())))}:{success:!0,data:i.value}},"_safeParseAsync"),Mk=Qu(En),Ph=a(e=>(t,r,n)=>{let o=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Ku(e)(t,r,o)},"_encode"),Hoe=Ph(En),Ih=a(e=>(t,r,n)=>Ku(e)(t,r,n),"_decode"),Voe=Ih(En),Oh=a(e=>async(t,r,n)=>{let o=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Gu(e)(t,r,o)},"_encodeAsync"),Zoe=Oh(En),Ah=a(e=>async(t,r,n)=>Gu(e)(t,r,n),"_decodeAsync"),Koe=Ah(En),Ch=a(e=>(t,r,n)=>{let o=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Wu(e)(t,r,o)},"_safeEncode"),Goe=Ch(En),Rh=a(e=>(t,r,n)=>Wu(e)(t,r,n),"_safeDecode"),Woe=Rh(En),$h=a(e=>async(t,r,n)=>{let o=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Qu(e)(t,r,o)},"_safeEncodeAsync"),Qoe=$h(En),Nh=a(e=>async(t,r,n)=>Qu(e)(t,r,n),"_safeDecodeAsync"),Xoe=Nh(En);var Qn={};_n(Qn,{base64:()=>eP,base64url:()=>zh,bigint:()=>aP,boolean:()=>cP,browserEmail:()=>aie,cidrv4:()=>Xk,cidrv6:()=>Yk,cuid:()=>qk,cuid2:()=>Uk,date:()=>rP,datetime:()=>oP,domain:()=>cie,duration:()=>Hk,e164:()=>tP,email:()=>Zk,emoji:()=>Kk,extendedDuration:()=>Yoe,guid:()=>Vk,hex:()=>lie,hostname:()=>uie,html5Email:()=>nie,idnEmail:()=>iie,integer:()=>sP,ipv4:()=>Gk,ipv6:()=>Wk,ksuid:()=>Bk,lowercase:()=>pP,mac:()=>Qk,md5_base64:()=>pie,md5_base64url:()=>mie,md5_hex:()=>die,nanoid:()=>Jk,null:()=>lP,number:()=>uP,rfc5322Email:()=>oie,sha1_base64:()=>hie,sha1_base64url:()=>gie,sha1_hex:()=>fie,sha256_base64:()=>vie,sha256_base64url:()=>_ie,sha256_hex:()=>yie,sha384_base64:()=>Sie,sha384_base64url:()=>wie,sha384_hex:()=>bie,sha512_base64:()=>Tie,sha512_base64url:()=>Eie,sha512_hex:()=>xie,string:()=>iP,time:()=>nP,ulid:()=>Lk,undefined:()=>dP,unicodeEmail:()=>SU,uppercase:()=>mP,uuid:()=>_s,uuid4:()=>eie,uuid6:()=>tie,uuid7:()=>rie,xid:()=>Fk});var qk=/^[cC][^\s-]{8,}$/,Uk=/^[0-9a-z]+$/,Lk=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Fk=/^[0-9a-vA-V]{20}$/,Bk=/^[A-Za-z0-9]{27}$/,Jk=/^[a-zA-Z0-9_-]{21}$/,Hk=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Yoe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Vk=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,_s=a(e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,"uuid"),eie=_s(4),tie=_s(6),rie=_s(7),Zk=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,nie=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,oie=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,SU=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,iie=SU,aie=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,sie="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Kk(){return new RegExp(sie,"u")}a(Kk,"emoji");var Gk=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Wk=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,Qk=a(e=>{let t=Wn(e??":");return new RegExp(`^(?:[0-9A-F]{2}${t}){5}[0-9A-F]{2}$|^(?:[0-9a-f]{2}${t}){5}[0-9a-f]{2}$`)},"mac"),Xk=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Yk=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,eP=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,zh=/^[A-Za-z0-9_-]*$/,uie=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,cie=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,tP=/^\+(?:[0-9]){6,14}[0-9]$/,wU="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",rP=new RegExp(`^${wU}$`);function xU(e){let t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}a(xU,"timeSource");function nP(e){return new RegExp(`^${xU(e)}$`)}a(nP,"time");function oP(e){let t=xU({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");let n=`${t}(?:${r.join("|")})`;return new RegExp(`^${wU}T(?:${n})$`)}a(oP,"datetime");var iP=a(e=>{let t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},"string"),aP=/^-?\d+n?$/,sP=/^-?\d+$/,uP=/^-?\d+(?:\.\d+)?/,cP=/^(?:true|false)$/i,lP=/^null$/i;var dP=/^undefined$/i;var pP=/^[^A-Z]*$/,mP=/^[^a-z]*$/,lie=/^[0-9a-fA-F]*$/;function Td(e,t){return new RegExp(`^[A-Za-z0-9+/]{${e}}${t}$`)}a(Td,"fixedBase64");function Ed(e){return new RegExp(`^[A-Za-z0-9_-]{${e}}$`)}a(Ed,"fixedBase64url");var die=/^[0-9a-fA-F]{32}$/,pie=Td(22,"=="),mie=Ed(22),fie=/^[0-9a-fA-F]{40}$/,hie=Td(27,"="),gie=Ed(27),yie=/^[0-9a-fA-F]{64}$/,vie=Td(43,"="),_ie=Ed(43),bie=/^[0-9a-fA-F]{96}$/,Sie=Td(64,""),wie=Ed(64),xie=/^[0-9a-fA-F]{128}$/,Tie=Td(86,"=="),Eie=Ed(86);var Ut=H("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),EU={number:"number",bigint:"bigint",object:"date"},jh=H("$ZodCheckLessThan",(e,t)=>{Ut.init(e,t);let r=EU[typeof t.value];e._zod.onattach.push(n=>{let o=n._zod.bag,i=(t.inclusive?o.maximum:o.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<i&&(t.inclusive?o.maximum=t.value:o.exclusiveMaximum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value<=t.value:n.value<t.value)||n.issues.push({origin:r,code:"too_big",maximum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Dh=H("$ZodCheckGreaterThan",(e,t)=>{Ut.init(e,t);let r=EU[typeof t.value];e._zod.onattach.push(n=>{let o=n._zod.bag,i=(t.inclusive?o.minimum:o.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>i&&(t.inclusive?o.minimum=t.value:o.exclusiveMinimum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value>=t.value:n.value>t.value)||n.issues.push({origin:r,code:"too_small",minimum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),fP=H("$ZodCheckMultipleOf",(e,t)=>{Ut.init(e,t),e._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):Pk(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),hP=H("$ZodCheckNumberFormat",(e,t)=>{Ut.init(e,t),t.format=t.format||"float64";let r=t.format?.includes("int"),n=r?"int":"number",[o,i]=$k[t.format];e._zod.onattach.push(s=>{let u=s._zod.bag;u.format=t.format,u.minimum=o,u.maximum=i,r&&(u.pattern=sP)}),e._zod.check=s=>{let u=s.value;if(r){if(!Number.isInteger(u)){s.issues.push({expected:n,format:t.format,code:"invalid_type",continue:!1,input:u,inst:e});return}if(!Number.isSafeInteger(u)){u>0?s.issues.push({input:u,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort}):s.issues.push({input:u,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort});return}}u<o&&s.issues.push({origin:"number",input:u,code:"too_small",minimum:o,inclusive:!0,inst:e,continue:!t.abort}),u>i&&s.issues.push({origin:"number",input:u,code:"too_big",maximum:i,inst:e})}}),gP=H("$ZodCheckBigIntFormat",(e,t)=>{Ut.init(e,t);let[r,n]=Nk[t.format];e._zod.onattach.push(o=>{let i=o._zod.bag;i.format=t.format,i.minimum=r,i.maximum=n}),e._zod.check=o=>{let i=o.value;i<r&&o.issues.push({origin:"bigint",input:i,code:"too_small",minimum:r,inclusive:!0,inst:e,continue:!t.abort}),i>n&&o.issues.push({origin:"bigint",input:i,code:"too_big",maximum:n,inst:e})}}),yP=H("$ZodCheckMaxSize",(e,t)=>{var r;Ut.init(e,t),(r=e._zod.def).when??(r.when=n=>{let o=n.value;return!wa(o)&&o.size!==void 0}),e._zod.onattach.push(n=>{let o=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<o&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{let o=n.value;o.size<=t.maximum||n.issues.push({origin:_d(o),code:"too_big",maximum:t.maximum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),vP=H("$ZodCheckMinSize",(e,t)=>{var r;Ut.init(e,t),(r=e._zod.def).when??(r.when=n=>{let o=n.value;return!wa(o)&&o.size!==void 0}),e._zod.onattach.push(n=>{let o=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>o&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{let o=n.value;o.size>=t.minimum||n.issues.push({origin:_d(o),code:"too_small",minimum:t.minimum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),_P=H("$ZodCheckSizeEquals",(e,t)=>{var r;Ut.init(e,t),(r=e._zod.def).when??(r.when=n=>{let o=n.value;return!wa(o)&&o.size!==void 0}),e._zod.onattach.push(n=>{let o=n._zod.bag;o.minimum=t.size,o.maximum=t.size,o.size=t.size}),e._zod.check=n=>{let o=n.value,i=o.size;if(i===t.size)return;let s=i>t.size;n.issues.push({origin:_d(o),...s?{code:"too_big",maximum:t.size}:{code:"too_small",minimum:t.size},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),bP=H("$ZodCheckMaxLength",(e,t)=>{var r;Ut.init(e,t),(r=e._zod.def).when??(r.when=n=>{let o=n.value;return!wa(o)&&o.length!==void 0}),e._zod.onattach.push(n=>{let o=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<o&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{let o=n.value;if(o.length<=t.maximum)return;let s=bd(o);n.issues.push({origin:s,code:"too_big",maximum:t.maximum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),SP=H("$ZodCheckMinLength",(e,t)=>{var r;Ut.init(e,t),(r=e._zod.def).when??(r.when=n=>{let o=n.value;return!wa(o)&&o.length!==void 0}),e._zod.onattach.push(n=>{let o=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>o&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{let o=n.value;if(o.length>=t.minimum)return;let s=bd(o);n.issues.push({origin:s,code:"too_small",minimum:t.minimum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),wP=H("$ZodCheckLengthEquals",(e,t)=>{var r;Ut.init(e,t),(r=e._zod.def).when??(r.when=n=>{let o=n.value;return!wa(o)&&o.length!==void 0}),e._zod.onattach.push(n=>{let o=n._zod.bag;o.minimum=t.length,o.maximum=t.length,o.length=t.length}),e._zod.check=n=>{let o=n.value,i=o.length;if(i===t.length)return;let s=bd(o),u=i>t.length;n.issues.push({origin:s,...u?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),Xu=H("$ZodCheckStringFormat",(e,t)=>{var r,n;Ut.init(e,t),e._zod.onattach.push(o=>{let i=o._zod.bag;i.format=t.format,t.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=o=>{t.pattern.lastIndex=0,!t.pattern.test(o.value)&&o.issues.push({origin:"string",code:"invalid_format",format:t.format,input:o.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),xP=H("$ZodCheckRegex",(e,t)=>{Xu.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),TP=H("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=pP),Xu.init(e,t)}),EP=H("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=mP),Xu.init(e,t)}),kP=H("$ZodCheckIncludes",(e,t)=>{Ut.init(e,t);let r=Wn(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(o=>{let i=o._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=o=>{o.value.includes(t.includes,t.position)||o.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:o.value,inst:e,continue:!t.abort})}}),PP=H("$ZodCheckStartsWith",(e,t)=>{Ut.init(e,t);let r=new RegExp(`^${Wn(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{let o=n._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),IP=H("$ZodCheckEndsWith",(e,t)=>{Ut.init(e,t);let r=new RegExp(`.*${Wn(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{let o=n._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}});function TU(e,t,r){e.issues.length&&t.issues.push(...Dn(r,e.issues))}a(TU,"handleCheckPropertyResult");var OP=H("$ZodCheckProperty",(e,t)=>{Ut.init(e,t),e._zod.check=r=>{let n=t.schema._zod.run({value:r.value[t.property],issues:[]},{});if(n instanceof Promise)return n.then(o=>TU(o,r,t.property));TU(n,r,t.property)}}),AP=H("$ZodCheckMimeType",(e,t)=>{Ut.init(e,t);let r=new Set(t.mime);e._zod.onattach.push(n=>{n._zod.bag.mime=t.mime}),e._zod.check=n=>{r.has(n.value.type)||n.issues.push({code:"invalid_value",values:t.mime,input:n.value.type,inst:e,continue:!t.abort})}}),CP=H("$ZodCheckOverwrite",(e,t)=>{Ut.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});var kd=class{static{a(this,"Doc")}constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}let n=t.split(`
`).filter(s=>s),o=Math.min(...n.map(s=>s.length-s.trimStart().length)),i=n.map(s=>s.slice(o)).map(s=>" ".repeat(this.indent*2)+s);for(let s of i)this.content.push(s)}compile(){let t=Function,r=this?.args,o=[...(this?.content??[""]).map(i=>`  ${i}`)];return new t(...r,o.join(`
`))}};var RP={major:4,minor:1,patch:13};var Ze=H("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=RP;let n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(let o of n)for(let i of o._zod.onattach)i(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{let o=a((s,u,l)=>{let d=ka(s),p;for(let f of u){if(f._zod.def.when){if(!f._zod.def.when(s))continue}else if(d)continue;let m=s.issues.length,y=f._zod.check(s);if(y instanceof Promise&&l?.async===!1)throw new To;if(p||y instanceof Promise)p=(p??Promise.resolve()).then(async()=>{await y,s.issues.length!==m&&(d||(d=ka(s,m)))});else{if(s.issues.length===m)continue;d||(d=ka(s,m))}}return p?p.then(()=>s):s},"runChecks"),i=a((s,u,l)=>{if(ka(s))return s.aborted=!0,s;let d=o(u,n,l);if(d instanceof Promise){if(l.async===!1)throw new To;return d.then(p=>e._zod.parse(p,l))}return e._zod.parse(d,l)},"handleCanaryResult");e._zod.run=(s,u)=>{if(u.skipChecks)return e._zod.parse(s,u);if(u.direction==="backward"){let d=e._zod.parse({value:s.value,issues:[]},{...u,skipChecks:!0});return d instanceof Promise?d.then(p=>i(p,s,u)):i(d,s,u)}let l=e._zod.parse(s,u);if(l instanceof Promise){if(u.async===!1)throw new To;return l.then(d=>o(d,n,u))}return o(l,n,u)}}e["~standard"]={validate:a(o=>{try{let i=Dk(e,o);return i.success?{value:i.data}:{issues:i.error?.issues}}catch{return Mk(e,o).then(s=>s.success?{value:s.data}:{issues:s.error?.issues})}},"validate"),vendor:"zod",version:1}}),bs=H("$ZodString",(e,t)=>{Ze.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??iP(e._zod.bag),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),jt=H("$ZodStringFormat",(e,t)=>{Xu.init(e,t),bs.init(e,t)}),NP=H("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=Vk),jt.init(e,t)}),zP=H("$ZodUUID",(e,t)=>{if(t.version){let n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(n===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=_s(n))}else t.pattern??(t.pattern=_s());jt.init(e,t)}),jP=H("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=Zk),jt.init(e,t)}),DP=H("$ZodURL",(e,t)=>{jt.init(e,t),e._zod.check=r=>{try{let n=r.value.trim(),o=new URL(n);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(o.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(o.protocol.endsWith(":")?o.protocol.slice(0,-1):o.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=o.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),MP=H("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=Kk()),jt.init(e,t)}),qP=H("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=Jk),jt.init(e,t)}),UP=H("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=qk),jt.init(e,t)}),LP=H("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=Uk),jt.init(e,t)}),FP=H("$ZodULID",(e,t)=>{t.pattern??(t.pattern=Lk),jt.init(e,t)}),BP=H("$ZodXID",(e,t)=>{t.pattern??(t.pattern=Fk),jt.init(e,t)}),JP=H("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=Bk),jt.init(e,t)}),HP=H("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=oP(t)),jt.init(e,t)}),VP=H("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=rP),jt.init(e,t)}),ZP=H("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=nP(t)),jt.init(e,t)}),KP=H("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=Hk),jt.init(e,t)}),GP=H("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=Gk),jt.init(e,t),e._zod.bag.format="ipv4"}),WP=H("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=Wk),jt.init(e,t),e._zod.bag.format="ipv6",e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),QP=H("$ZodMAC",(e,t)=>{t.pattern??(t.pattern=Qk(t.delimiter)),jt.init(e,t),e._zod.bag.format="mac"}),XP=H("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=Xk),jt.init(e,t)}),YP=H("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=Yk),jt.init(e,t),e._zod.check=r=>{let n=r.value.split("/");try{if(n.length!==2)throw new Error;let[o,i]=n;if(!i)throw new Error;let s=Number(i);if(`${s}`!==i)throw new Error;if(s<0||s>128)throw new Error;new URL(`http://[${o}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function eI(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}a(eI,"isValidBase64");var tI=H("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=eP),jt.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=r=>{eI(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function DU(e){if(!zh.test(e))return!1;let t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return eI(r)}a(DU,"isValidBase64URL");var rI=H("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=zh),jt.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=r=>{DU(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),nI=H("$ZodE164",(e,t)=>{t.pattern??(t.pattern=tP),jt.init(e,t)});function MU(e,t=null){try{let r=e.split(".");if(r.length!==3)return!1;let[n]=r;if(!n)return!1;let o=JSON.parse(atob(n));return!("typ"in o&&o?.typ!=="JWT"||!o.alg||t&&(!("alg"in o)||o.alg!==t))}catch{return!1}}a(MU,"isValidJWT");var oI=H("$ZodJWT",(e,t)=>{jt.init(e,t),e._zod.check=r=>{MU(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),iI=H("$ZodCustomStringFormat",(e,t)=>{jt.init(e,t),e._zod.check=r=>{t.fn(r.value)||r.issues.push({code:"invalid_format",format:t.format,input:r.value,inst:e,continue:!t.abort})}}),Bh=H("$ZodNumber",(e,t)=>{Ze.init(e,t),e._zod.pattern=e._zod.bag.pattern??uP,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}let o=r.value;if(typeof o=="number"&&!Number.isNaN(o)&&Number.isFinite(o))return r;let i=typeof o=="number"?Number.isNaN(o)?"NaN":Number.isFinite(o)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:o,inst:e,...i?{received:i}:{}}),r}}),aI=H("$ZodNumberFormat",(e,t)=>{hP.init(e,t),Bh.init(e,t)}),Pd=H("$ZodBoolean",(e,t)=>{Ze.init(e,t),e._zod.pattern=cP,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=!!r.value}catch{}let o=r.value;return typeof o=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:o,inst:e}),r}}),Jh=H("$ZodBigInt",(e,t)=>{Ze.init(e,t),e._zod.pattern=aP,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=BigInt(r.value)}catch{}return typeof r.value=="bigint"||r.issues.push({expected:"bigint",code:"invalid_type",input:r.value,inst:e}),r}}),sI=H("$ZodBigIntFormat",(e,t)=>{gP.init(e,t),Jh.init(e,t)}),uI=H("$ZodSymbol",(e,t)=>{Ze.init(e,t),e._zod.parse=(r,n)=>{let o=r.value;return typeof o=="symbol"||r.issues.push({expected:"symbol",code:"invalid_type",input:o,inst:e}),r}}),cI=H("$ZodUndefined",(e,t)=>{Ze.init(e,t),e._zod.pattern=dP,e._zod.values=new Set([void 0]),e._zod.optin="optional",e._zod.optout="optional",e._zod.parse=(r,n)=>{let o=r.value;return typeof o>"u"||r.issues.push({expected:"undefined",code:"invalid_type",input:o,inst:e}),r}}),lI=H("$ZodNull",(e,t)=>{Ze.init(e,t),e._zod.pattern=lP,e._zod.values=new Set([null]),e._zod.parse=(r,n)=>{let o=r.value;return o===null||r.issues.push({expected:"null",code:"invalid_type",input:o,inst:e}),r}}),dI=H("$ZodAny",(e,t)=>{Ze.init(e,t),e._zod.parse=r=>r}),pI=H("$ZodUnknown",(e,t)=>{Ze.init(e,t),e._zod.parse=r=>r}),mI=H("$ZodNever",(e,t)=>{Ze.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)}),fI=H("$ZodVoid",(e,t)=>{Ze.init(e,t),e._zod.parse=(r,n)=>{let o=r.value;return typeof o>"u"||r.issues.push({expected:"void",code:"invalid_type",input:o,inst:e}),r}}),hI=H("$ZodDate",(e,t)=>{Ze.init(e,t),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=new Date(r.value)}catch{}let o=r.value,i=o instanceof Date;return i&&!Number.isNaN(o.getTime())||r.issues.push({expected:"date",code:"invalid_type",input:o,...i?{received:"Invalid Date"}:{},inst:e}),r}});function PU(e,t,r){e.issues.length&&t.issues.push(...Dn(r,e.issues)),t.value[r]=e.value}a(PU,"handleArrayResult");var gI=H("$ZodArray",(e,t)=>{Ze.init(e,t),e._zod.parse=(r,n)=>{let o=r.value;if(!Array.isArray(o))return r.issues.push({expected:"array",code:"invalid_type",input:o,inst:e}),r;r.value=Array(o.length);let i=[];for(let s=0;s<o.length;s++){let u=o[s],l=t.element._zod.run({value:u,issues:[]},n);l instanceof Promise?i.push(l.then(d=>PU(d,r,s))):PU(l,r,s)}return i.length?Promise.all(i).then(()=>r):r}});function Fh(e,t,r,n){e.issues.length&&t.issues.push(...Dn(r,e.issues)),e.value===void 0?r in n&&(t.value[r]=void 0):t.value[r]=e.value}a(Fh,"handlePropertyResult");function qU(e){let t=Object.keys(e.shape);for(let n of t)if(!e.shape?.[n]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${n}": expected a Zod schema`);let r=Rk(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}a(qU,"normalizeDef");function UU(e,t,r,n,o,i){let s=[],u=o.keySet,l=o.catchall._zod,d=l.def.type;for(let p in t){if(u.has(p))continue;if(d==="never"){s.push(p);continue}let f=l.run({value:t[p],issues:[]},n);f instanceof Promise?e.push(f.then(m=>Fh(m,r,p,t))):Fh(f,r,p,t)}return s.length&&r.issues.push({code:"unrecognized_keys",keys:s,input:t,inst:i}),e.length?Promise.all(e).then(()=>r):r}a(UU,"handleCatchall");var LU=H("$ZodObject",(e,t)=>{if(Ze.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){let u=t.shape;Object.defineProperty(t,"shape",{get:a(()=>{let l={...u};return Object.defineProperty(t,"shape",{value:l}),l},"get")})}let n=Vu(()=>qU(t));dt(e._zod,"propValues",()=>{let u=t.shape,l={};for(let d in u){let p=u[d]._zod;if(p.values){l[d]??(l[d]=new Set);for(let f of p.values)l[d].add(f)}}return l});let o=vs,i=t.catchall,s;e._zod.parse=(u,l)=>{s??(s=n.value);let d=u.value;if(!o(d))return u.issues.push({expected:"object",code:"invalid_type",input:d,inst:e}),u;u.value={};let p=[],f=s.shape;for(let m of s.keys){let g=f[m]._zod.run({value:d[m],issues:[]},l);g instanceof Promise?p.push(g.then(h=>Fh(h,u,m,d))):Fh(g,u,m,d)}return i?UU(p,d,u,l,n.value,e):p.length?Promise.all(p).then(()=>u):u}}),yI=H("$ZodObjectJIT",(e,t)=>{LU.init(e,t);let r=e._zod.parse,n=Vu(()=>qU(t)),o=a(m=>{let y=new kd(["shape","payload","ctx"]),g=n.value,h=a(w=>{let k=xh(w);return`shape[${k}]._zod.run({ value: input[${k}], issues: [] }, ctx)`},"parseStr");y.write("const input = payload.value;");let v=Object.create(null),S=0;for(let w of g.keys)v[w]=`key_${S++}`;y.write("const newResult = {};");for(let w of g.keys){let k=v[w],$=xh(w);y.write(`const ${k} = ${h(w)};`),y.write(`
        if (${k}.issues.length) {
          payload.issues = payload.issues.concat(${k}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${$}, ...iss.path] : [${$}]
          })));
        }
        
        
        if (${k}.value === undefined) {
          if (${$} in input) {
            newResult[${$}] = undefined;
          }
        } else {
          newResult[${$}] = ${k}.value;
        }
        
      `)}y.write("payload.value = newResult;"),y.write("return payload;");let b=y.compile();return(w,k)=>b(m,w,k)},"generateFastpass"),i,s=vs,u=!fd.jitless,d=u&&Ok.value,p=t.catchall,f;e._zod.parse=(m,y)=>{f??(f=n.value);let g=m.value;return s(g)?u&&d&&y?.async===!1&&y.jitless!==!0?(i||(i=o(t.shape)),m=i(m,y),p?UU([],g,m,y,f,e):m):r(m,y):(m.issues.push({expected:"object",code:"invalid_type",input:g,inst:e}),m)}});function IU(e,t,r,n){for(let i of e)if(i.issues.length===0)return t.value=i.value,t;let o=e.filter(i=>!ka(i));return o.length===1?(t.value=o[0].value,o[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(i=>i.issues.map(s=>Mn(s,n,vr())))}),t)}a(IU,"handleUnionResults");var Hh=H("$ZodUnion",(e,t)=>{Ze.init(e,t),dt(e._zod,"optin",()=>t.options.some(o=>o._zod.optin==="optional")?"optional":void 0),dt(e._zod,"optout",()=>t.options.some(o=>o._zod.optout==="optional")?"optional":void 0),dt(e._zod,"values",()=>{if(t.options.every(o=>o._zod.values))return new Set(t.options.flatMap(o=>Array.from(o._zod.values)))}),dt(e._zod,"pattern",()=>{if(t.options.every(o=>o._zod.pattern)){let o=t.options.map(i=>i._zod.pattern);return new RegExp(`^(${o.map(i=>yd(i.source)).join("|")})$`)}});let r=t.options.length===1,n=t.options[0]._zod.run;e._zod.parse=(o,i)=>{if(r)return n(o,i);let s=!1,u=[];for(let l of t.options){let d=l._zod.run({value:o.value,issues:[]},i);if(d instanceof Promise)u.push(d),s=!0;else{if(d.issues.length===0)return d;u.push(d)}}return s?Promise.all(u).then(l=>IU(l,o,e,i)):IU(u,o,e,i)}}),vI=H("$ZodDiscriminatedUnion",(e,t)=>{Hh.init(e,t);let r=e._zod.parse;dt(e._zod,"propValues",()=>{let o={};for(let i of t.options){let s=i._zod.propValues;if(!s||Object.keys(s).length===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(i)}"`);for(let[u,l]of Object.entries(s)){o[u]||(o[u]=new Set);for(let d of l)o[u].add(d)}}return o});let n=Vu(()=>{let o=t.options,i=new Map;for(let s of o){let u=s._zod.propValues?.[t.discriminator];if(!u||u.size===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(s)}"`);for(let l of u){if(i.has(l))throw new Error(`Duplicate discriminator value "${String(l)}"`);i.set(l,s)}}return i});e._zod.parse=(o,i)=>{let s=o.value;if(!vs(s))return o.issues.push({code:"invalid_type",expected:"object",input:s,inst:e}),o;let u=n.value.get(s?.[t.discriminator]);return u?u._zod.run(o,i):t.unionFallback?r(o,i):(o.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:t.discriminator,input:s,path:[t.discriminator],inst:e}),o)}}),_I=H("$ZodIntersection",(e,t)=>{Ze.init(e,t),e._zod.parse=(r,n)=>{let o=r.value,i=t.left._zod.run({value:o,issues:[]},n),s=t.right._zod.run({value:o,issues:[]},n);return i instanceof Promise||s instanceof Promise?Promise.all([i,s]).then(([l,d])=>OU(r,l,d)):OU(r,i,s)}});function $P(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Ea(e)&&Ea(t)){let r=Object.keys(t),n=Object.keys(e).filter(i=>r.indexOf(i)!==-1),o={...e,...t};for(let i of n){let s=$P(e[i],t[i]);if(!s.valid)return{valid:!1,mergeErrorPath:[i,...s.mergeErrorPath]};o[i]=s.data}return{valid:!0,data:o}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};let r=[];for(let n=0;n<e.length;n++){let o=e[n],i=t[n],s=$P(o,i);if(!s.valid)return{valid:!1,mergeErrorPath:[n,...s.mergeErrorPath]};r.push(s.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}a($P,"mergeValues");function OU(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),ka(e))return e;let n=$P(t.value,r.value);if(!n.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return e.value=n.data,e}a(OU,"handleIntersectionResults");var Vh=H("$ZodTuple",(e,t)=>{Ze.init(e,t);let r=t.items;e._zod.parse=(n,o)=>{let i=n.value;if(!Array.isArray(i))return n.issues.push({input:i,inst:e,expected:"tuple",code:"invalid_type"}),n;n.value=[];let s=[],u=[...r].reverse().findIndex(p=>p._zod.optin!=="optional"),l=u===-1?0:r.length-u;if(!t.rest){let p=i.length>r.length,f=i.length<l-1;if(p||f)return n.issues.push({...p?{code:"too_big",maximum:r.length}:{code:"too_small",minimum:r.length},input:i,inst:e,origin:"array"}),n}let d=-1;for(let p of r){if(d++,d>=i.length&&d>=l)continue;let f=p._zod.run({value:i[d],issues:[]},o);f instanceof Promise?s.push(f.then(m=>Mh(m,n,d))):Mh(f,n,d)}if(t.rest){let p=i.slice(r.length);for(let f of p){d++;let m=t.rest._zod.run({value:f,issues:[]},o);m instanceof Promise?s.push(m.then(y=>Mh(y,n,d))):Mh(m,n,d)}}return s.length?Promise.all(s).then(()=>n):n}});function Mh(e,t,r){e.issues.length&&t.issues.push(...Dn(r,e.issues)),t.value[r]=e.value}a(Mh,"handleTupleResult");var bI=H("$ZodRecord",(e,t)=>{Ze.init(e,t),e._zod.parse=(r,n)=>{let o=r.value;if(!Ea(o))return r.issues.push({expected:"record",code:"invalid_type",input:o,inst:e}),r;let i=[],s=t.keyType._zod.values;if(s){r.value={};let u=new Set;for(let d of s)if(typeof d=="string"||typeof d=="number"||typeof d=="symbol"){u.add(typeof d=="number"?d.toString():d);let p=t.valueType._zod.run({value:o[d],issues:[]},n);p instanceof Promise?i.push(p.then(f=>{f.issues.length&&r.issues.push(...Dn(d,f.issues)),r.value[d]=f.value})):(p.issues.length&&r.issues.push(...Dn(d,p.issues)),r.value[d]=p.value)}let l;for(let d in o)u.has(d)||(l=l??[],l.push(d));l&&l.length>0&&r.issues.push({code:"unrecognized_keys",input:o,inst:e,keys:l})}else{r.value={};for(let u of Reflect.ownKeys(o)){if(u==="__proto__")continue;let l=t.keyType._zod.run({value:u,issues:[]},n);if(l instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(l.issues.length){r.issues.push({code:"invalid_key",origin:"record",issues:l.issues.map(p=>Mn(p,n,vr())),input:u,path:[u],inst:e}),r.value[l.value]=l.value;continue}let d=t.valueType._zod.run({value:o[u],issues:[]},n);d instanceof Promise?i.push(d.then(p=>{p.issues.length&&r.issues.push(...Dn(u,p.issues)),r.value[l.value]=p.value})):(d.issues.length&&r.issues.push(...Dn(u,d.issues)),r.value[l.value]=d.value)}}return i.length?Promise.all(i).then(()=>r):r}}),SI=H("$ZodMap",(e,t)=>{Ze.init(e,t),e._zod.parse=(r,n)=>{let o=r.value;if(!(o instanceof Map))return r.issues.push({expected:"map",code:"invalid_type",input:o,inst:e}),r;let i=[];r.value=new Map;for(let[s,u]of o){let l=t.keyType._zod.run({value:s,issues:[]},n),d=t.valueType._zod.run({value:u,issues:[]},n);l instanceof Promise||d instanceof Promise?i.push(Promise.all([l,d]).then(([p,f])=>{AU(p,f,r,s,o,e,n)})):AU(l,d,r,s,o,e,n)}return i.length?Promise.all(i).then(()=>r):r}});function AU(e,t,r,n,o,i,s){e.issues.length&&(vd.has(typeof n)?r.issues.push(...Dn(n,e.issues)):r.issues.push({code:"invalid_key",origin:"map",input:o,inst:i,issues:e.issues.map(u=>Mn(u,s,vr()))})),t.issues.length&&(vd.has(typeof n)?r.issues.push(...Dn(n,t.issues)):r.issues.push({origin:"map",code:"invalid_element",input:o,inst:i,key:n,issues:t.issues.map(u=>Mn(u,s,vr()))})),r.value.set(e.value,t.value)}a(AU,"handleMapResult");var wI=H("$ZodSet",(e,t)=>{Ze.init(e,t),e._zod.parse=(r,n)=>{let o=r.value;if(!(o instanceof Set))return r.issues.push({input:o,inst:e,expected:"set",code:"invalid_type"}),r;let i=[];r.value=new Set;for(let s of o){let u=t.valueType._zod.run({value:s,issues:[]},n);u instanceof Promise?i.push(u.then(l=>CU(l,r))):CU(u,r)}return i.length?Promise.all(i).then(()=>r):r}});function CU(e,t){e.issues.length&&t.issues.push(...e.issues),t.value.add(e.value)}a(CU,"handleSetResult");var xI=H("$ZodEnum",(e,t)=>{Ze.init(e,t);let r=gd(t.entries),n=new Set(r);e._zod.values=n,e._zod.pattern=new RegExp(`^(${r.filter(o=>vd.has(typeof o)).map(o=>typeof o=="string"?Wn(o):o.toString()).join("|")})$`),e._zod.parse=(o,i)=>{let s=o.value;return n.has(s)||o.issues.push({code:"invalid_value",values:r,input:s,inst:e}),o}}),TI=H("$ZodLiteral",(e,t)=>{if(Ze.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");let r=new Set(t.values);e._zod.values=r,e._zod.pattern=new RegExp(`^(${t.values.map(n=>typeof n=="string"?Wn(n):n?Wn(n.toString()):String(n)).join("|")})$`),e._zod.parse=(n,o)=>{let i=n.value;return r.has(i)||n.issues.push({code:"invalid_value",values:t.values,input:i,inst:e}),n}}),EI=H("$ZodFile",(e,t)=>{Ze.init(e,t),e._zod.parse=(r,n)=>{let o=r.value;return o instanceof File||r.issues.push({expected:"file",code:"invalid_type",input:o,inst:e}),r}}),kI=H("$ZodTransform",(e,t)=>{Ze.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new Sa(e.constructor.name);let o=t.transform(r.value,r);if(n.async)return(o instanceof Promise?o:Promise.resolve(o)).then(s=>(r.value=s,r));if(o instanceof Promise)throw new To;return r.value=o,r}});function RU(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}a(RU,"handleOptionalResult");var PI=H("$ZodOptional",(e,t)=>{Ze.init(e,t),e._zod.optin="optional",e._zod.optout="optional",dt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),dt(e._zod,"pattern",()=>{let r=t.innerType._zod.pattern;return r?new RegExp(`^(${yd(r.source)})?$`):void 0}),e._zod.parse=(r,n)=>{if(t.innerType._zod.optin==="optional"){let o=t.innerType._zod.run(r,n);return o instanceof Promise?o.then(i=>RU(i,r.value)):RU(o,r.value)}return r.value===void 0?r:t.innerType._zod.run(r,n)}}),II=H("$ZodNullable",(e,t)=>{Ze.init(e,t),dt(e._zod,"optin",()=>t.innerType._zod.optin),dt(e._zod,"optout",()=>t.innerType._zod.optout),dt(e._zod,"pattern",()=>{let r=t.innerType._zod.pattern;return r?new RegExp(`^(${yd(r.source)}|null)$`):void 0}),dt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,n)=>r.value===null?r:t.innerType._zod.run(r,n)}),OI=H("$ZodDefault",(e,t)=>{Ze.init(e,t),e._zod.optin="optional",dt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);if(r.value===void 0)return r.value=t.defaultValue,r;let o=t.innerType._zod.run(r,n);return o instanceof Promise?o.then(i=>$U(i,t)):$U(o,t)}});function $U(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}a($U,"handleDefaultResult");var AI=H("$ZodPrefault",(e,t)=>{Ze.init(e,t),e._zod.optin="optional",dt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>(n.direction==="backward"||r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,n))}),CI=H("$ZodNonOptional",(e,t)=>{Ze.init(e,t),dt(e._zod,"values",()=>{let r=t.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),e._zod.parse=(r,n)=>{let o=t.innerType._zod.run(r,n);return o instanceof Promise?o.then(i=>NU(i,e)):NU(o,e)}});function NU(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}a(NU,"handleNonOptionalResult");var RI=H("$ZodSuccess",(e,t)=>{Ze.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new Sa("ZodSuccess");let o=t.innerType._zod.run(r,n);return o instanceof Promise?o.then(i=>(r.value=i.issues.length===0,r)):(r.value=o.issues.length===0,r)}}),$I=H("$ZodCatch",(e,t)=>{Ze.init(e,t),dt(e._zod,"optin",()=>t.innerType._zod.optin),dt(e._zod,"optout",()=>t.innerType._zod.optout),dt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);let o=t.innerType._zod.run(r,n);return o instanceof Promise?o.then(i=>(r.value=i.value,i.issues.length&&(r.value=t.catchValue({...r,error:{issues:i.issues.map(s=>Mn(s,n,vr()))},input:r.value}),r.issues=[]),r)):(r.value=o.value,o.issues.length&&(r.value=t.catchValue({...r,error:{issues:o.issues.map(i=>Mn(i,n,vr()))},input:r.value}),r.issues=[]),r)}}),NI=H("$ZodNaN",(e,t)=>{Ze.init(e,t),e._zod.parse=(r,n)=>((typeof r.value!="number"||!Number.isNaN(r.value))&&r.issues.push({input:r.value,inst:e,expected:"nan",code:"invalid_type"}),r)}),zI=H("$ZodPipe",(e,t)=>{Ze.init(e,t),dt(e._zod,"values",()=>t.in._zod.values),dt(e._zod,"optin",()=>t.in._zod.optin),dt(e._zod,"optout",()=>t.out._zod.optout),dt(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{if(n.direction==="backward"){let i=t.out._zod.run(r,n);return i instanceof Promise?i.then(s=>qh(s,t.in,n)):qh(i,t.in,n)}let o=t.in._zod.run(r,n);return o instanceof Promise?o.then(i=>qh(i,t.out,n)):qh(o,t.out,n)}});function qh(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}a(qh,"handlePipeResult");var Id=H("$ZodCodec",(e,t)=>{Ze.init(e,t),dt(e._zod,"values",()=>t.in._zod.values),dt(e._zod,"optin",()=>t.in._zod.optin),dt(e._zod,"optout",()=>t.out._zod.optout),dt(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{if((n.direction||"forward")==="forward"){let i=t.in._zod.run(r,n);return i instanceof Promise?i.then(s=>Uh(s,t,n)):Uh(i,t,n)}else{let i=t.out._zod.run(r,n);return i instanceof Promise?i.then(s=>Uh(s,t,n)):Uh(i,t,n)}}});function Uh(e,t,r){if(e.issues.length)return e.aborted=!0,e;if((r.direction||"forward")==="forward"){let o=t.transform(e.value,e);return o instanceof Promise?o.then(i=>Lh(e,i,t.out,r)):Lh(e,o,t.out,r)}else{let o=t.reverseTransform(e.value,e);return o instanceof Promise?o.then(i=>Lh(e,i,t.in,r)):Lh(e,o,t.in,r)}}a(Uh,"handleCodecAResult");function Lh(e,t,r,n){return e.issues.length?(e.aborted=!0,e):r._zod.run({value:t,issues:e.issues},n)}a(Lh,"handleCodecTxResult");var jI=H("$ZodReadonly",(e,t)=>{Ze.init(e,t),dt(e._zod,"propValues",()=>t.innerType._zod.propValues),dt(e._zod,"values",()=>t.innerType._zod.values),dt(e._zod,"optin",()=>t.innerType?._zod?.optin),dt(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);let o=t.innerType._zod.run(r,n);return o instanceof Promise?o.then(zU):zU(o)}});function zU(e){return e.value=Object.freeze(e.value),e}a(zU,"handleReadonlyResult");var DI=H("$ZodTemplateLiteral",(e,t)=>{Ze.init(e,t);let r=[];for(let n of t.parts)if(typeof n=="object"&&n!==null){if(!n._zod.pattern)throw new Error(`Invalid template literal part, no pattern found: ${[...n._zod.traits].shift()}`);let o=n._zod.pattern instanceof RegExp?n._zod.pattern.source:n._zod.pattern;if(!o)throw new Error(`Invalid template literal part: ${n._zod.traits}`);let i=o.startsWith("^")?1:0,s=o.endsWith("$")?o.length-1:o.length;r.push(o.slice(i,s))}else if(n===null||Ck.has(typeof n))r.push(Wn(`${n}`));else throw new Error(`Invalid template literal part: ${n}`);e._zod.pattern=new RegExp(`^${r.join("")}$`),e._zod.parse=(n,o)=>typeof n.value!="string"?(n.issues.push({input:n.value,inst:e,expected:"template_literal",code:"invalid_type"}),n):(e._zod.pattern.lastIndex=0,e._zod.pattern.test(n.value)||n.issues.push({input:n.value,inst:e,code:"invalid_format",format:t.format??"template_literal",pattern:e._zod.pattern.source}),n)}),MI=H("$ZodFunction",(e,t)=>(Ze.init(e,t),e._def=t,e._zod.def=t,e.implement=r=>{if(typeof r!="function")throw new Error("implement() must be called with a function");return function(...n){let o=e._def.input?Eh(e._def.input,n):n,i=Reflect.apply(r,this,o);return e._def.output?Eh(e._def.output,i):i}},e.implementAsync=r=>{if(typeof r!="function")throw new Error("implementAsync() must be called with a function");return async function(...n){let o=e._def.input?await kh(e._def.input,n):n,i=await Reflect.apply(r,this,o);return e._def.output?await kh(e._def.output,i):i}},e._zod.parse=(r,n)=>typeof r.value!="function"?(r.issues.push({code:"invalid_type",expected:"function",input:r.value,inst:e}),r):(e._def.output&&e._def.output._zod.def.type==="promise"?r.value=e.implementAsync(r.value):r.value=e.implement(r.value),r),e.input=(...r)=>{let n=e.constructor;return Array.isArray(r[0])?new n({type:"function",input:new Vh({type:"tuple",items:r[0],rest:r[1]}),output:e._def.output}):new n({type:"function",input:r[0],output:e._def.output})},e.output=r=>{let n=e.constructor;return new n({type:"function",input:e._def.input,output:r})},e)),qI=H("$ZodPromise",(e,t)=>{Ze.init(e,t),e._zod.parse=(r,n)=>Promise.resolve(r.value).then(o=>t.innerType._zod.run({value:o,issues:[]},n))}),UI=H("$ZodLazy",(e,t)=>{Ze.init(e,t),dt(e._zod,"innerType",()=>t.getter()),dt(e._zod,"pattern",()=>e._zod.innerType?._zod?.pattern),dt(e._zod,"propValues",()=>e._zod.innerType?._zod?.propValues),dt(e._zod,"optin",()=>e._zod.innerType?._zod?.optin??void 0),dt(e._zod,"optout",()=>e._zod.innerType?._zod?.optout??void 0),e._zod.parse=(r,n)=>e._zod.innerType._zod.run(r,n)}),LI=H("$ZodCustom",(e,t)=>{Ut.init(e,t),Ze.init(e,t),e._zod.parse=(r,n)=>r,e._zod.check=r=>{let n=r.value,o=t.fn(n);if(o instanceof Promise)return o.then(i=>jU(i,r,n,e));jU(o,r,n,e)}});function jU(e,t,r,n){if(!e){let o={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(o.params=n._zod.def.params),t.issues.push(Zu(o))}}a(jU,"handleRefineResult");var Nd={};_n(Nd,{ar:()=>FI,az:()=>BI,be:()=>JI,bg:()=>HI,ca:()=>VI,cs:()=>ZI,da:()=>KI,de:()=>GI,en:()=>Od,eo:()=>WI,es:()=>QI,fa:()=>XI,fi:()=>YI,fr:()=>eO,frCA:()=>tO,he:()=>rO,hu:()=>nO,id:()=>oO,is:()=>iO,it:()=>aO,ja:()=>sO,ka:()=>uO,kh:()=>cO,km:()=>Ad,ko:()=>lO,lt:()=>dO,mk:()=>pO,ms:()=>mO,nl:()=>fO,no:()=>hO,ota:()=>gO,pl:()=>vO,ps:()=>yO,pt:()=>_O,ru:()=>bO,sl:()=>SO,sv:()=>wO,ta:()=>xO,th:()=>TO,tr:()=>EO,ua:()=>kO,uk:()=>$d,ur:()=>PO,vi:()=>IO,yo:()=>CO,zhCN:()=>OO,zhTW:()=>AO});var Pie=a(()=>{let e={string:{unit:"\u062D\u0631\u0641",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},file:{unit:"\u0628\u0627\u064A\u062A",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},array:{unit:"\u0639\u0646\u0635\u0631",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},set:{unit:"\u0639\u0646\u0635\u0631",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"number";case"object":{if(Array.isArray(o))return"array";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\u0645\u062F\u062E\u0644",email:"\u0628\u0631\u064A\u062F \u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A",url:"\u0631\u0627\u0628\u0637",emoji:"\u0625\u064A\u0645\u0648\u062C\u064A",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u062A\u0627\u0631\u064A\u062E \u0648\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO",date:"\u062A\u0627\u0631\u064A\u062E \u0628\u0645\u0639\u064A\u0627\u0631 ISO",time:"\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO",duration:"\u0645\u062F\u0629 \u0628\u0645\u0639\u064A\u0627\u0631 ISO",ipv4:"\u0639\u0646\u0648\u0627\u0646 IPv4",ipv6:"\u0639\u0646\u0648\u0627\u0646 IPv6",cidrv4:"\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv4",cidrv6:"\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv6",base64:"\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64-encoded",base64url:"\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64url-encoded",json_string:"\u0646\u064E\u0635 \u0639\u0644\u0649 \u0647\u064A\u0626\u0629 JSON",e164:"\u0631\u0642\u0645 \u0647\u0627\u062A\u0641 \u0628\u0645\u0639\u064A\u0627\u0631 E.164",jwt:"JWT",template_literal:"\u0645\u062F\u062E\u0644"};return o=>{switch(o.code){case"invalid_type":return`\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${o.expected}\u060C \u0648\u0644\u0643\u0646 \u062A\u0645 \u0625\u062F\u062E\u0627\u0644 ${r(o.input)}`;case"invalid_value":return o.values.length===1?`\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${le(o.values[0])}`:`\u0627\u062E\u062A\u064A\u0627\u0631 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062A\u0648\u0642\u0639 \u0627\u0646\u062A\u0642\u0627\u0621 \u0623\u062D\u062F \u0647\u0630\u0647 \u0627\u0644\u062E\u064A\u0627\u0631\u0627\u062A: ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?` \u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${o.origin??"\u0627\u0644\u0642\u064A\u0645\u0629"} ${i} ${o.maximum.toString()} ${s.unit??"\u0639\u0646\u0635\u0631"}`:`\u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${o.origin??"\u0627\u0644\u0642\u064A\u0645\u0629"} ${i} ${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${o.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${i} ${o.minimum.toString()} ${s.unit}`:`\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${o.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${i} ${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0628\u062F\u0623 \u0628\u0640 "${o.prefix}"`:i.format==="ends_with"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0646\u062A\u0647\u064A \u0628\u0640 "${i.suffix}"`:i.format==="includes"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u062A\u0636\u0645\u0651\u064E\u0646 "${i.includes}"`:i.format==="regex"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0637\u0627\u0628\u0642 \u0627\u0644\u0646\u0645\u0637 ${i.pattern}`:`${n[i.format]??o.format} \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644`}case"not_multiple_of":return`\u0631\u0642\u0645 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0645\u0646 \u0645\u0636\u0627\u0639\u0641\u0627\u062A ${o.divisor}`;case"unrecognized_keys":return`\u0645\u0639\u0631\u0641${o.keys.length>1?"\u0627\u062A":""} \u063A\u0631\u064A\u0628${o.keys.length>1?"\u0629":""}: ${ee(o.keys,"\u060C ")}`;case"invalid_key":return`\u0645\u0639\u0631\u0641 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${o.origin}`;case"invalid_union":return"\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644";case"invalid_element":return`\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${o.origin}`;default:return"\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644"}}},"error");function FI(){return{localeError:Pie()}}a(FI,"default");var Iie=a(()=>{let e={string:{unit:"simvol",verb:"olmal\u0131d\u0131r"},file:{unit:"bayt",verb:"olmal\u0131d\u0131r"},array:{unit:"element",verb:"olmal\u0131d\u0131r"},set:{unit:"element",verb:"olmal\u0131d\u0131r"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"number";case"object":{if(Array.isArray(o))return"array";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return o=>{switch(o.code){case"invalid_type":return`Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n ${o.expected}, daxil olan ${r(o.input)}`;case"invalid_value":return o.values.length===1?`Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n ${le(o.values[0])}`:`Yanl\u0131\u015F se\xE7im: a\u015Fa\u011F\u0131dak\u0131lardan biri olmal\u0131d\u0131r: ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`\xC7ox b\xF6y\xFCk: g\xF6zl\u0259nil\u0259n ${o.origin??"d\u0259y\u0259r"} ${i}${o.maximum.toString()} ${s.unit??"element"}`:`\xC7ox b\xF6y\xFCk: g\xF6zl\u0259nil\u0259n ${o.origin??"d\u0259y\u0259r"} ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`\xC7ox ki\xE7ik: g\xF6zl\u0259nil\u0259n ${o.origin} ${i}${o.minimum.toString()} ${s.unit}`:`\xC7ox ki\xE7ik: g\xF6zl\u0259nil\u0259n ${o.origin} ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Yanl\u0131\u015F m\u0259tn: "${i.prefix}" il\u0259 ba\u015Flamal\u0131d\u0131r`:i.format==="ends_with"?`Yanl\u0131\u015F m\u0259tn: "${i.suffix}" il\u0259 bitm\u0259lidir`:i.format==="includes"?`Yanl\u0131\u015F m\u0259tn: "${i.includes}" daxil olmal\u0131d\u0131r`:i.format==="regex"?`Yanl\u0131\u015F m\u0259tn: ${i.pattern} \u015Fablonuna uy\u011Fun olmal\u0131d\u0131r`:`Yanl\u0131\u015F ${n[i.format]??o.format}`}case"not_multiple_of":return`Yanl\u0131\u015F \u0259d\u0259d: ${o.divisor} il\u0259 b\xF6l\xFCn\u0259 bil\u0259n olmal\u0131d\u0131r`;case"unrecognized_keys":return`Tan\u0131nmayan a\xE7ar${o.keys.length>1?"lar":""}: ${ee(o.keys,", ")}`;case"invalid_key":return`${o.origin} daxilind\u0259 yanl\u0131\u015F a\xE7ar`;case"invalid_union":return"Yanl\u0131\u015F d\u0259y\u0259r";case"invalid_element":return`${o.origin} daxilind\u0259 yanl\u0131\u015F d\u0259y\u0259r`;default:return"Yanl\u0131\u015F d\u0259y\u0259r"}}},"error");function BI(){return{localeError:Iie()}}a(BI,"default");function FU(e,t,r,n){let o=Math.abs(e),i=o%10,s=o%100;return s>=11&&s<=19?n:i===1?t:i>=2&&i<=4?r:n}a(FU,"getBelarusianPlural");var Oie=a(()=>{let e={string:{unit:{one:"\u0441\u0456\u043C\u0432\u0430\u043B",few:"\u0441\u0456\u043C\u0432\u0430\u043B\u044B",many:"\u0441\u0456\u043C\u0432\u0430\u043B\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},array:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},set:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},file:{unit:{one:"\u0431\u0430\u0439\u0442",few:"\u0431\u0430\u0439\u0442\u044B",many:"\u0431\u0430\u0439\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"\u043B\u0456\u043A";case"object":{if(Array.isArray(o))return"\u043C\u0430\u0441\u0456\u045E";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\u0443\u0432\u043E\u0434",email:"email \u0430\u0434\u0440\u0430\u0441",url:"URL",emoji:"\u044D\u043C\u043E\u0434\u0437\u0456",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0430 \u0456 \u0447\u0430\u0441",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0447\u0430\u0441",duration:"ISO \u043F\u0440\u0430\u0446\u044F\u0433\u043B\u0430\u0441\u0446\u044C",ipv4:"IPv4 \u0430\u0434\u0440\u0430\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0430\u0441",cidrv4:"IPv4 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D",base64:"\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64",base64url:"\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64url",json_string:"JSON \u0440\u0430\u0434\u043E\u043A",e164:"\u043D\u0443\u043C\u0430\u0440 E.164",jwt:"JWT",template_literal:"\u0443\u0432\u043E\u0434"};return o=>{switch(o.code){case"invalid_type":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u045E\u0441\u044F ${o.expected}, \u0430\u0442\u0440\u044B\u043C\u0430\u043D\u0430 ${r(o.input)}`;case"invalid_value":return o.values.length===1?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F ${le(o.values[0])}`:`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0432\u0430\u0440\u044B\u044F\u043D\u0442: \u0447\u0430\u043A\u0430\u045E\u0441\u044F \u0430\u0434\u0437\u0456\u043D \u0437 ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);if(s){let u=Number(o.maximum),l=FU(u,s.unit.one,s.unit.few,s.unit.many);return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${o.origin??"\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${s.verb} ${i}${o.maximum.toString()} ${l}`}return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${o.origin??"\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);if(s){let u=Number(o.minimum),l=FU(u,s.unit.one,s.unit.few,s.unit.many);return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${o.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${s.verb} ${i}${o.minimum.toString()} ${l}`}return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${o.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u043F\u0430\u0447\u044B\u043D\u0430\u0446\u0446\u0430 \u0437 "${i.prefix}"`:i.format==="ends_with"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u0430\u043A\u0430\u043D\u0447\u0432\u0430\u0446\u0446\u0430 \u043D\u0430 "${i.suffix}"`:i.format==="includes"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u043C\u044F\u0448\u0447\u0430\u0446\u044C "${i.includes}"`:i.format==="regex"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0430\u0434\u043F\u0430\u0432\u044F\u0434\u0430\u0446\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${i.pattern}`:`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B ${n[i.format]??o.format}`}case"not_multiple_of":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043B\u0456\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0431\u044B\u0446\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${o.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0441\u043F\u0430\u0437\u043D\u0430\u043D\u044B ${o.keys.length>1?"\u043A\u043B\u044E\u0447\u044B":"\u043A\u043B\u044E\u0447"}: ${ee(o.keys,", ")}`;case"invalid_key":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043A\u043B\u044E\u0447 \u0443 ${o.origin}`;case"invalid_union":return"\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434";case"invalid_element":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u0430\u0435 \u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435 \u045E ${o.origin}`;default:return"\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434"}}},"error");function JI(){return{localeError:Oie()}}a(JI,"default");var Aie=a(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"\u0447\u0438\u0441\u043B\u043E";case"object":{if(Array.isArray(e))return"\u043C\u0430\u0441\u0438\u0432";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},"parsedType"),Cie=a(()=>{let e={string:{unit:"\u0441\u0438\u043C\u0432\u043E\u043B\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"},file:{unit:"\u0431\u0430\u0439\u0442\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"},array:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"},set:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"}};function t(n){return e[n]??null}a(t,"getSizing");let r={regex:"\u0432\u0445\u043E\u0434",email:"\u0438\u043C\u0435\u0439\u043B \u0430\u0434\u0440\u0435\u0441",url:"URL",emoji:"\u0435\u043C\u043E\u0434\u0436\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0432\u0440\u0435\u043C\u0435",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0432\u0440\u0435\u043C\u0435",duration:"ISO \u043F\u0440\u043E\u0434\u044A\u043B\u0436\u0438\u0442\u0435\u043B\u043D\u043E\u0441\u0442",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441",cidrv4:"IPv4 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",base64:"base64-\u043A\u043E\u0434\u0438\u0440\u0430\u043D \u043D\u0438\u0437",base64url:"base64url-\u043A\u043E\u0434\u0438\u0440\u0430\u043D \u043D\u0438\u0437",json_string:"JSON \u043D\u0438\u0437",e164:"E.164 \u043D\u043E\u043C\u0435\u0440",jwt:"JWT",template_literal:"\u0432\u0445\u043E\u0434"};return n=>{switch(n.code){case"invalid_type":return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434: \u043E\u0447\u0430\u043A\u0432\u0430\u043D ${n.expected}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D ${Aie(n.input)}`;case"invalid_value":return n.values.length===1?`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434: \u043E\u0447\u0430\u043A\u0432\u0430\u043D ${le(n.values[0])}`:`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430 \u043E\u043F\u0446\u0438\u044F: \u043E\u0447\u0430\u043A\u0432\u0430\u043D\u043E \u0435\u0434\u043D\u043E \u043E\u0442 ${ee(n.values,"|")}`;case"too_big":{let o=n.inclusive?"<=":"<",i=t(n.origin);return i?`\u0422\u0432\u044A\u0440\u0434\u0435 \u0433\u043E\u043B\u044F\u043C\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${n.origin??"\u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442"} \u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430 ${o}${n.maximum.toString()} ${i.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430"}`:`\u0422\u0432\u044A\u0440\u0434\u0435 \u0433\u043E\u043B\u044F\u043C\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${n.origin??"\u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442"} \u0434\u0430 \u0431\u044A\u0434\u0435 ${o}${n.maximum.toString()}`}case"too_small":{let o=n.inclusive?">=":">",i=t(n.origin);return i?`\u0422\u0432\u044A\u0440\u0434\u0435 \u043C\u0430\u043B\u043A\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${n.origin} \u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430 ${o}${n.minimum.toString()} ${i.unit}`:`\u0422\u0432\u044A\u0440\u0434\u0435 \u043C\u0430\u043B\u043A\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${n.origin} \u0434\u0430 \u0431\u044A\u0434\u0435 ${o}${n.minimum.toString()}`}case"invalid_format":{let o=n;if(o.format==="starts_with")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0437\u0430\u043F\u043E\u0447\u0432\u0430 \u0441 "${o.prefix}"`;if(o.format==="ends_with")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0437\u0430\u0432\u044A\u0440\u0448\u0432\u0430 \u0441 "${o.suffix}"`;if(o.format==="includes")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0432\u043A\u043B\u044E\u0447\u0432\u0430 "${o.includes}"`;if(o.format==="regex")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0441\u044A\u0432\u043F\u0430\u0434\u0430 \u0441 ${o.pattern}`;let i="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D";return o.format==="emoji"&&(i="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E"),o.format==="datetime"&&(i="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E"),o.format==="date"&&(i="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430"),o.format==="time"&&(i="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E"),o.format==="duration"&&(i="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430"),`${i} ${r[o.format]??n.format}`}case"not_multiple_of":return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E \u0447\u0438\u0441\u043B\u043E: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0431\u044A\u0434\u0435 \u043A\u0440\u0430\u0442\u043D\u043E \u043D\u0430 ${n.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0437\u043F\u043E\u0437\u043D\u0430\u0442${n.keys.length>1?"\u0438":""} \u043A\u043B\u044E\u0447${n.keys.length>1?"\u043E\u0432\u0435":""}: ${ee(n.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043A\u043B\u044E\u0447 \u0432 ${n.origin}`;case"invalid_union":return"\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434";case"invalid_element":return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430 \u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442 \u0432 ${n.origin}`;default:return"\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434"}}},"error");function HI(){return{localeError:Cie()}}a(HI,"default");var Rie=a(()=>{let e={string:{unit:"car\xE0cters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"number";case"object":{if(Array.isArray(o))return"array";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"entrada",email:"adre\xE7a electr\xF2nica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adre\xE7a IPv4",ipv6:"adre\xE7a IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"};return o=>{switch(o.code){case"invalid_type":return`Tipus inv\xE0lid: s'esperava ${o.expected}, s'ha rebut ${r(o.input)}`;case"invalid_value":return o.values.length===1?`Valor inv\xE0lid: s'esperava ${le(o.values[0])}`:`Opci\xF3 inv\xE0lida: s'esperava una de ${ee(o.values," o ")}`;case"too_big":{let i=o.inclusive?"com a m\xE0xim":"menys de",s=t(o.origin);return s?`Massa gran: s'esperava que ${o.origin??"el valor"} contingu\xE9s ${i} ${o.maximum.toString()} ${s.unit??"elements"}`:`Massa gran: s'esperava que ${o.origin??"el valor"} fos ${i} ${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?"com a m\xEDnim":"m\xE9s de",s=t(o.origin);return s?`Massa petit: s'esperava que ${o.origin} contingu\xE9s ${i} ${o.minimum.toString()} ${s.unit}`:`Massa petit: s'esperava que ${o.origin} fos ${i} ${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Format inv\xE0lid: ha de comen\xE7ar amb "${i.prefix}"`:i.format==="ends_with"?`Format inv\xE0lid: ha d'acabar amb "${i.suffix}"`:i.format==="includes"?`Format inv\xE0lid: ha d'incloure "${i.includes}"`:i.format==="regex"?`Format inv\xE0lid: ha de coincidir amb el patr\xF3 ${i.pattern}`:`Format inv\xE0lid per a ${n[i.format]??o.format}`}case"not_multiple_of":return`N\xFAmero inv\xE0lid: ha de ser m\xFAltiple de ${o.divisor}`;case"unrecognized_keys":return`Clau${o.keys.length>1?"s":""} no reconeguda${o.keys.length>1?"s":""}: ${ee(o.keys,", ")}`;case"invalid_key":return`Clau inv\xE0lida a ${o.origin}`;case"invalid_union":return"Entrada inv\xE0lida";case"invalid_element":return`Element inv\xE0lid a ${o.origin}`;default:return"Entrada inv\xE0lida"}}},"error");function VI(){return{localeError:Rie()}}a(VI,"default");var $ie=a(()=>{let e={string:{unit:"znak\u016F",verb:"m\xEDt"},file:{unit:"bajt\u016F",verb:"m\xEDt"},array:{unit:"prvk\u016F",verb:"m\xEDt"},set:{unit:"prvk\u016F",verb:"m\xEDt"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"\u010D\xEDslo";case"string":return"\u0159et\u011Bzec";case"boolean":return"boolean";case"bigint":return"bigint";case"function":return"funkce";case"symbol":return"symbol";case"undefined":return"undefined";case"object":{if(Array.isArray(o))return"pole";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"regul\xE1rn\xED v\xFDraz",email:"e-mailov\xE1 adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a \u010Das ve form\xE1tu ISO",date:"datum ve form\xE1tu ISO",time:"\u010Das ve form\xE1tu ISO",duration:"doba trv\xE1n\xED ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"\u0159et\u011Bzec zak\xF3dovan\xFD ve form\xE1tu base64",base64url:"\u0159et\u011Bzec zak\xF3dovan\xFD ve form\xE1tu base64url",json_string:"\u0159et\u011Bzec ve form\xE1tu JSON",e164:"\u010D\xEDslo E.164",jwt:"JWT",template_literal:"vstup"};return o=>{switch(o.code){case"invalid_type":return`Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no ${o.expected}, obdr\u017Eeno ${r(o.input)}`;case"invalid_value":return o.values.length===1?`Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no ${le(o.values[0])}`:`Neplatn\xE1 mo\u017Enost: o\u010Dek\xE1v\xE1na jedna z hodnot ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`Hodnota je p\u0159\xEDli\u0161 velk\xE1: ${o.origin??"hodnota"} mus\xED m\xEDt ${i}${o.maximum.toString()} ${s.unit??"prvk\u016F"}`:`Hodnota je p\u0159\xEDli\u0161 velk\xE1: ${o.origin??"hodnota"} mus\xED b\xFDt ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`Hodnota je p\u0159\xEDli\u0161 mal\xE1: ${o.origin??"hodnota"} mus\xED m\xEDt ${i}${o.minimum.toString()} ${s.unit??"prvk\u016F"}`:`Hodnota je p\u0159\xEDli\u0161 mal\xE1: ${o.origin??"hodnota"} mus\xED b\xFDt ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED za\u010D\xEDnat na "${i.prefix}"`:i.format==="ends_with"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED kon\u010Dit na "${i.suffix}"`:i.format==="includes"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED obsahovat "${i.includes}"`:i.format==="regex"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED odpov\xEDdat vzoru ${i.pattern}`:`Neplatn\xFD form\xE1t ${n[i.format]??o.format}`}case"not_multiple_of":return`Neplatn\xE9 \u010D\xEDslo: mus\xED b\xFDt n\xE1sobkem ${o.divisor}`;case"unrecognized_keys":return`Nezn\xE1m\xE9 kl\xED\u010De: ${ee(o.keys,", ")}`;case"invalid_key":return`Neplatn\xFD kl\xED\u010D v ${o.origin}`;case"invalid_union":return"Neplatn\xFD vstup";case"invalid_element":return`Neplatn\xE1 hodnota v ${o.origin}`;default:return"Neplatn\xFD vstup"}}},"error");function ZI(){return{localeError:$ie()}}a(ZI,"default");var Nie=a(()=>{let e={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}},t={string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"s\xE6t",file:"fil"};function r(s){return e[s]??null}a(r,"getSizing");function n(s){return t[s]??s}a(n,"getTypeName");let o=a(s=>{let u=typeof s;switch(u){case"number":return Number.isNaN(s)?"NaN":"tal";case"object":return Array.isArray(s)?"liste":s===null?"null":Object.getPrototypeOf(s)!==Object.prototype&&s.constructor?s.constructor.name:"objekt"}return u},"parsedType"),i={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkesl\xE6t",date:"ISO-dato",time:"ISO-klokkesl\xE6t",duration:"ISO-varighed",ipv4:"IPv4-omr\xE5de",ipv6:"IPv6-omr\xE5de",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return s=>{switch(s.code){case"invalid_type":return`Ugyldigt input: forventede ${n(s.expected)}, fik ${n(o(s.input))}`;case"invalid_value":return s.values.length===1?`Ugyldig v\xE6rdi: forventede ${le(s.values[0])}`:`Ugyldigt valg: forventede en af f\xF8lgende ${ee(s.values,"|")}`;case"too_big":{let u=s.inclusive?"<=":"<",l=r(s.origin),d=n(s.origin);return l?`For stor: forventede ${d??"value"} ${l.verb} ${u} ${s.maximum.toString()} ${l.unit??"elementer"}`:`For stor: forventede ${d??"value"} havde ${u} ${s.maximum.toString()}`}case"too_small":{let u=s.inclusive?">=":">",l=r(s.origin),d=n(s.origin);return l?`For lille: forventede ${d} ${l.verb} ${u} ${s.minimum.toString()} ${l.unit}`:`For lille: forventede ${d} havde ${u} ${s.minimum.toString()}`}case"invalid_format":{let u=s;return u.format==="starts_with"?`Ugyldig streng: skal starte med "${u.prefix}"`:u.format==="ends_with"?`Ugyldig streng: skal ende med "${u.suffix}"`:u.format==="includes"?`Ugyldig streng: skal indeholde "${u.includes}"`:u.format==="regex"?`Ugyldig streng: skal matche m\xF8nsteret ${u.pattern}`:`Ugyldig ${i[u.format]??s.format}`}case"not_multiple_of":return`Ugyldigt tal: skal v\xE6re deleligt med ${s.divisor}`;case"unrecognized_keys":return`${s.keys.length>1?"Ukendte n\xF8gler":"Ukendt n\xF8gle"}: ${ee(s.keys,", ")}`;case"invalid_key":return`Ugyldig n\xF8gle i ${s.origin}`;case"invalid_union":return"Ugyldigt input: matcher ingen af de tilladte typer";case"invalid_element":return`Ugyldig v\xE6rdi i ${s.origin}`;default:return"Ugyldigt input"}}},"error");function KI(){return{localeError:Nie()}}a(KI,"default");var zie=a(()=>{let e={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"Zahl";case"object":{if(Array.isArray(o))return"Array";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"};return o=>{switch(o.code){case"invalid_type":return`Ung\xFCltige Eingabe: erwartet ${o.expected}, erhalten ${r(o.input)}`;case"invalid_value":return o.values.length===1?`Ung\xFCltige Eingabe: erwartet ${le(o.values[0])}`:`Ung\xFCltige Option: erwartet eine von ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`Zu gro\xDF: erwartet, dass ${o.origin??"Wert"} ${i}${o.maximum.toString()} ${s.unit??"Elemente"} hat`:`Zu gro\xDF: erwartet, dass ${o.origin??"Wert"} ${i}${o.maximum.toString()} ist`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`Zu klein: erwartet, dass ${o.origin} ${i}${o.minimum.toString()} ${s.unit} hat`:`Zu klein: erwartet, dass ${o.origin} ${i}${o.minimum.toString()} ist`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Ung\xFCltiger String: muss mit "${i.prefix}" beginnen`:i.format==="ends_with"?`Ung\xFCltiger String: muss mit "${i.suffix}" enden`:i.format==="includes"?`Ung\xFCltiger String: muss "${i.includes}" enthalten`:i.format==="regex"?`Ung\xFCltiger String: muss dem Muster ${i.pattern} entsprechen`:`Ung\xFCltig: ${n[i.format]??o.format}`}case"not_multiple_of":return`Ung\xFCltige Zahl: muss ein Vielfaches von ${o.divisor} sein`;case"unrecognized_keys":return`${o.keys.length>1?"Unbekannte Schl\xFCssel":"Unbekannter Schl\xFCssel"}: ${ee(o.keys,", ")}`;case"invalid_key":return`Ung\xFCltiger Schl\xFCssel in ${o.origin}`;case"invalid_union":return"Ung\xFCltige Eingabe";case"invalid_element":return`Ung\xFCltiger Wert in ${o.origin}`;default:return"Ung\xFCltige Eingabe"}}},"error");function GI(){return{localeError:zie()}}a(GI,"default");var jie=a(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":{if(Array.isArray(e))return"array";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},"parsedType"),Die=a(()=>{let e={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}};function t(n){return e[n]??null}a(t,"getSizing");let r={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",mac:"MAC address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return n=>{switch(n.code){case"invalid_type":return`Invalid input: expected ${n.expected}, received ${jie(n.input)}`;case"invalid_value":return n.values.length===1?`Invalid input: expected ${le(n.values[0])}`:`Invalid option: expected one of ${ee(n.values,"|")}`;case"too_big":{let o=n.inclusive?"<=":"<",i=t(n.origin);return i?`Too big: expected ${n.origin??"value"} to have ${o}${n.maximum.toString()} ${i.unit??"elements"}`:`Too big: expected ${n.origin??"value"} to be ${o}${n.maximum.toString()}`}case"too_small":{let o=n.inclusive?">=":">",i=t(n.origin);return i?`Too small: expected ${n.origin} to have ${o}${n.minimum.toString()} ${i.unit}`:`Too small: expected ${n.origin} to be ${o}${n.minimum.toString()}`}case"invalid_format":{let o=n;return o.format==="starts_with"?`Invalid string: must start with "${o.prefix}"`:o.format==="ends_with"?`Invalid string: must end with "${o.suffix}"`:o.format==="includes"?`Invalid string: must include "${o.includes}"`:o.format==="regex"?`Invalid string: must match pattern ${o.pattern}`:`Invalid ${r[o.format]??n.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${n.divisor}`;case"unrecognized_keys":return`Unrecognized key${n.keys.length>1?"s":""}: ${ee(n.keys,", ")}`;case"invalid_key":return`Invalid key in ${n.origin}`;case"invalid_union":return"Invalid input";case"invalid_element":return`Invalid value in ${n.origin}`;default:return"Invalid input"}}},"error");function Od(){return{localeError:Die()}}a(Od,"default");var Mie=a(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nombro";case"object":{if(Array.isArray(e))return"tabelo";if(e===null)return"senvalora";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},"parsedType"),qie=a(()=>{let e={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}};function t(n){return e[n]??null}a(t,"getSizing");let r={regex:"enigo",email:"retadreso",url:"URL",emoji:"emo\u011Dio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-da\u016Dro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"};return n=>{switch(n.code){case"invalid_type":return`Nevalida enigo: atendi\u011Dis ${n.expected}, ricevi\u011Dis ${Mie(n.input)}`;case"invalid_value":return n.values.length===1?`Nevalida enigo: atendi\u011Dis ${le(n.values[0])}`:`Nevalida opcio: atendi\u011Dis unu el ${ee(n.values,"|")}`;case"too_big":{let o=n.inclusive?"<=":"<",i=t(n.origin);return i?`Tro granda: atendi\u011Dis ke ${n.origin??"valoro"} havu ${o}${n.maximum.toString()} ${i.unit??"elementojn"}`:`Tro granda: atendi\u011Dis ke ${n.origin??"valoro"} havu ${o}${n.maximum.toString()}`}case"too_small":{let o=n.inclusive?">=":">",i=t(n.origin);return i?`Tro malgranda: atendi\u011Dis ke ${n.origin} havu ${o}${n.minimum.toString()} ${i.unit}`:`Tro malgranda: atendi\u011Dis ke ${n.origin} estu ${o}${n.minimum.toString()}`}case"invalid_format":{let o=n;return o.format==="starts_with"?`Nevalida karaktraro: devas komenci\u011Di per "${o.prefix}"`:o.format==="ends_with"?`Nevalida karaktraro: devas fini\u011Di per "${o.suffix}"`:o.format==="includes"?`Nevalida karaktraro: devas inkluzivi "${o.includes}"`:o.format==="regex"?`Nevalida karaktraro: devas kongrui kun la modelo ${o.pattern}`:`Nevalida ${r[o.format]??n.format}`}case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${n.divisor}`;case"unrecognized_keys":return`Nekonata${n.keys.length>1?"j":""} \u015Dlosilo${n.keys.length>1?"j":""}: ${ee(n.keys,", ")}`;case"invalid_key":return`Nevalida \u015Dlosilo en ${n.origin}`;case"invalid_union":return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${n.origin}`;default:return"Nevalida enigo"}}},"error");function WI(){return{localeError:qie()}}a(WI,"default");var Uie=a(()=>{let e={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}},t={string:"texto",number:"n\xFAmero",boolean:"booleano",array:"arreglo",object:"objeto",set:"conjunto",file:"archivo",date:"fecha",bigint:"n\xFAmero grande",symbol:"s\xEDmbolo",undefined:"indefinido",null:"nulo",function:"funci\xF3n",map:"mapa",record:"registro",tuple:"tupla",enum:"enumeraci\xF3n",union:"uni\xF3n",literal:"literal",promise:"promesa",void:"vac\xEDo",never:"nunca",unknown:"desconocido",any:"cualquiera"};function r(s){return e[s]??null}a(r,"getSizing");function n(s){return t[s]??s}a(n,"getTypeName");let o=a(s=>{let u=typeof s;switch(u){case"number":return Number.isNaN(s)?"NaN":"number";case"object":return Array.isArray(s)?"array":s===null?"null":Object.getPrototypeOf(s)!==Object.prototype?s.constructor.name:"object"}return u},"parsedType"),i={regex:"entrada",email:"direcci\xF3n de correo electr\xF3nico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duraci\xF3n ISO",ipv4:"direcci\xF3n IPv4",ipv6:"direcci\xF3n IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"};return s=>{switch(s.code){case"invalid_type":return`Entrada inv\xE1lida: se esperaba ${n(s.expected)}, recibido ${n(o(s.input))}`;case"invalid_value":return s.values.length===1?`Entrada inv\xE1lida: se esperaba ${le(s.values[0])}`:`Opci\xF3n inv\xE1lida: se esperaba una de ${ee(s.values,"|")}`;case"too_big":{let u=s.inclusive?"<=":"<",l=r(s.origin),d=n(s.origin);return l?`Demasiado grande: se esperaba que ${d??"valor"} tuviera ${u}${s.maximum.toString()} ${l.unit??"elementos"}`:`Demasiado grande: se esperaba que ${d??"valor"} fuera ${u}${s.maximum.toString()}`}case"too_small":{let u=s.inclusive?">=":">",l=r(s.origin),d=n(s.origin);return l?`Demasiado peque\xF1o: se esperaba que ${d} tuviera ${u}${s.minimum.toString()} ${l.unit}`:`Demasiado peque\xF1o: se esperaba que ${d} fuera ${u}${s.minimum.toString()}`}case"invalid_format":{let u=s;return u.format==="starts_with"?`Cadena inv\xE1lida: debe comenzar con "${u.prefix}"`:u.format==="ends_with"?`Cadena inv\xE1lida: debe terminar en "${u.suffix}"`:u.format==="includes"?`Cadena inv\xE1lida: debe incluir "${u.includes}"`:u.format==="regex"?`Cadena inv\xE1lida: debe coincidir con el patr\xF3n ${u.pattern}`:`Inv\xE1lido ${i[u.format]??s.format}`}case"not_multiple_of":return`N\xFAmero inv\xE1lido: debe ser m\xFAltiplo de ${s.divisor}`;case"unrecognized_keys":return`Llave${s.keys.length>1?"s":""} desconocida${s.keys.length>1?"s":""}: ${ee(s.keys,", ")}`;case"invalid_key":return`Llave inv\xE1lida en ${n(s.origin)}`;case"invalid_union":return"Entrada inv\xE1lida";case"invalid_element":return`Valor inv\xE1lido en ${n(s.origin)}`;default:return"Entrada inv\xE1lida"}}},"error");function QI(){return{localeError:Uie()}}a(QI,"default");var Lie=a(()=>{let e={string:{unit:"\u06A9\u0627\u0631\u0627\u06A9\u062A\u0631",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},file:{unit:"\u0628\u0627\u06CC\u062A",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},array:{unit:"\u0622\u06CC\u062A\u0645",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},set:{unit:"\u0622\u06CC\u062A\u0645",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"\u0639\u062F\u062F";case"object":{if(Array.isArray(o))return"\u0622\u0631\u0627\u06CC\u0647";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\u0648\u0631\u0648\u062F\u06CC",email:"\u0622\u062F\u0631\u0633 \u0627\u06CC\u0645\u06CC\u0644",url:"URL",emoji:"\u0627\u06CC\u0645\u0648\u062C\u06CC",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u062A\u0627\u0631\u06CC\u062E \u0648 \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",date:"\u062A\u0627\u0631\u06CC\u062E \u0627\u06CC\u0632\u0648",time:"\u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",duration:"\u0645\u062F\u062A \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",ipv4:"IPv4 \u0622\u062F\u0631\u0633",ipv6:"IPv6 \u0622\u062F\u0631\u0633",cidrv4:"IPv4 \u062F\u0627\u0645\u0646\u0647",cidrv6:"IPv6 \u062F\u0627\u0645\u0646\u0647",base64:"base64-encoded \u0631\u0634\u062A\u0647",base64url:"base64url-encoded \u0631\u0634\u062A\u0647",json_string:"JSON \u0631\u0634\u062A\u0647",e164:"E.164 \u0639\u062F\u062F",jwt:"JWT",template_literal:"\u0648\u0631\u0648\u062F\u06CC"};return o=>{switch(o.code){case"invalid_type":return`\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${o.expected} \u0645\u06CC\u200C\u0628\u0648\u062F\u060C ${r(o.input)} \u062F\u0631\u06CC\u0627\u0641\u062A \u0634\u062F`;case"invalid_value":return o.values.length===1?`\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${le(o.values[0])} \u0645\u06CC\u200C\u0628\u0648\u062F`:`\u06AF\u0632\u06CC\u0646\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A \u06CC\u06A9\u06CC \u0627\u0632 ${ee(o.values,"|")} \u0645\u06CC\u200C\u0628\u0648\u062F`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${o.origin??"\u0645\u0642\u062F\u0627\u0631"} \u0628\u0627\u06CC\u062F ${i}${o.maximum.toString()} ${s.unit??"\u0639\u0646\u0635\u0631"} \u0628\u0627\u0634\u062F`:`\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${o.origin??"\u0645\u0642\u062F\u0627\u0631"} \u0628\u0627\u06CC\u062F ${i}${o.maximum.toString()} \u0628\u0627\u0634\u062F`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${o.origin} \u0628\u0627\u06CC\u062F ${i}${o.minimum.toString()} ${s.unit} \u0628\u0627\u0634\u062F`:`\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${o.origin} \u0628\u0627\u06CC\u062F ${i}${o.minimum.toString()} \u0628\u0627\u0634\u062F`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 "${i.prefix}" \u0634\u0631\u0648\u0639 \u0634\u0648\u062F`:i.format==="ends_with"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 "${i.suffix}" \u062A\u0645\u0627\u0645 \u0634\u0648\u062F`:i.format==="includes"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0634\u0627\u0645\u0644 "${i.includes}" \u0628\u0627\u0634\u062F`:i.format==="regex"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 \u0627\u0644\u06AF\u0648\u06CC ${i.pattern} \u0645\u0637\u0627\u0628\u0642\u062A \u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F`:`${n[i.format]??o.format} \u0646\u0627\u0645\u0639\u062A\u0628\u0631`}case"not_multiple_of":return`\u0639\u062F\u062F \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0645\u0636\u0631\u0628 ${o.divisor} \u0628\u0627\u0634\u062F`;case"unrecognized_keys":return`\u06A9\u0644\u06CC\u062F${o.keys.length>1?"\u0647\u0627\u06CC":""} \u0646\u0627\u0634\u0646\u0627\u0633: ${ee(o.keys,", ")}`;case"invalid_key":return`\u06A9\u0644\u06CC\u062F \u0646\u0627\u0634\u0646\u0627\u0633 \u062F\u0631 ${o.origin}`;case"invalid_union":return"\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631";case"invalid_element":return`\u0645\u0642\u062F\u0627\u0631 \u0646\u0627\u0645\u0639\u062A\u0628\u0631 \u062F\u0631 ${o.origin}`;default:return"\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631"}}},"error");function XI(){return{localeError:Lie()}}a(XI,"default");var Fie=a(()=>{let e={string:{unit:"merkki\xE4",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"p\xE4iv\xE4m\xE4\xE4r\xE4n"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"number";case"object":{if(Array.isArray(o))return"array";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"s\xE4\xE4nn\xF6llinen lauseke",email:"s\xE4hk\xF6postiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-p\xE4iv\xE4m\xE4\xE4r\xE4",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"};return o=>{switch(o.code){case"invalid_type":return`Virheellinen tyyppi: odotettiin ${o.expected}, oli ${r(o.input)}`;case"invalid_value":return o.values.length===1?`Virheellinen sy\xF6te: t\xE4ytyy olla ${le(o.values[0])}`:`Virheellinen valinta: t\xE4ytyy olla yksi seuraavista: ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`Liian suuri: ${s.subject} t\xE4ytyy olla ${i}${o.maximum.toString()} ${s.unit}`.trim():`Liian suuri: arvon t\xE4ytyy olla ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`Liian pieni: ${s.subject} t\xE4ytyy olla ${i}${o.minimum.toString()} ${s.unit}`.trim():`Liian pieni: arvon t\xE4ytyy olla ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Virheellinen sy\xF6te: t\xE4ytyy alkaa "${i.prefix}"`:i.format==="ends_with"?`Virheellinen sy\xF6te: t\xE4ytyy loppua "${i.suffix}"`:i.format==="includes"?`Virheellinen sy\xF6te: t\xE4ytyy sis\xE4lt\xE4\xE4 "${i.includes}"`:i.format==="regex"?`Virheellinen sy\xF6te: t\xE4ytyy vastata s\xE4\xE4nn\xF6llist\xE4 lauseketta ${i.pattern}`:`Virheellinen ${n[i.format]??o.format}`}case"not_multiple_of":return`Virheellinen luku: t\xE4ytyy olla luvun ${o.divisor} monikerta`;case"unrecognized_keys":return`${o.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${ee(o.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return"Virheellinen sy\xF6te"}}},"error");function YI(){return{localeError:Fie()}}a(YI,"default");var Bie=a(()=>{let e={string:{unit:"caract\xE8res",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"\xE9l\xE9ments",verb:"avoir"},set:{unit:"\xE9l\xE9ments",verb:"avoir"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"nombre";case"object":{if(Array.isArray(o))return"tableau";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"entr\xE9e",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"dur\xE9e ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"cha\xEEne encod\xE9e en base64",base64url:"cha\xEEne encod\xE9e en base64url",json_string:"cha\xEEne JSON",e164:"num\xE9ro E.164",jwt:"JWT",template_literal:"entr\xE9e"};return o=>{switch(o.code){case"invalid_type":return`Entr\xE9e invalide : ${o.expected} attendu, ${r(o.input)} re\xE7u`;case"invalid_value":return o.values.length===1?`Entr\xE9e invalide : ${le(o.values[0])} attendu`:`Option invalide : une valeur parmi ${ee(o.values,"|")} attendue`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`Trop grand : ${o.origin??"valeur"} doit ${s.verb} ${i}${o.maximum.toString()} ${s.unit??"\xE9l\xE9ment(s)"}`:`Trop grand : ${o.origin??"valeur"} doit \xEAtre ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`Trop petit : ${o.origin} doit ${s.verb} ${i}${o.minimum.toString()} ${s.unit}`:`Trop petit : ${o.origin} doit \xEAtre ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Cha\xEEne invalide : doit commencer par "${i.prefix}"`:i.format==="ends_with"?`Cha\xEEne invalide : doit se terminer par "${i.suffix}"`:i.format==="includes"?`Cha\xEEne invalide : doit inclure "${i.includes}"`:i.format==="regex"?`Cha\xEEne invalide : doit correspondre au mod\xE8le ${i.pattern}`:`${n[i.format]??o.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit \xEAtre un multiple de ${o.divisor}`;case"unrecognized_keys":return`Cl\xE9${o.keys.length>1?"s":""} non reconnue${o.keys.length>1?"s":""} : ${ee(o.keys,", ")}`;case"invalid_key":return`Cl\xE9 invalide dans ${o.origin}`;case"invalid_union":return"Entr\xE9e invalide";case"invalid_element":return`Valeur invalide dans ${o.origin}`;default:return"Entr\xE9e invalide"}}},"error");function eO(){return{localeError:Bie()}}a(eO,"default");var Jie=a(()=>{let e={string:{unit:"caract\xE8res",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"\xE9l\xE9ments",verb:"avoir"},set:{unit:"\xE9l\xE9ments",verb:"avoir"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"number";case"object":{if(Array.isArray(o))return"array";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"entr\xE9e",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"dur\xE9e ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"cha\xEEne encod\xE9e en base64",base64url:"cha\xEEne encod\xE9e en base64url",json_string:"cha\xEEne JSON",e164:"num\xE9ro E.164",jwt:"JWT",template_literal:"entr\xE9e"};return o=>{switch(o.code){case"invalid_type":return`Entr\xE9e invalide : attendu ${o.expected}, re\xE7u ${r(o.input)}`;case"invalid_value":return o.values.length===1?`Entr\xE9e invalide : attendu ${le(o.values[0])}`:`Option invalide : attendu l'une des valeurs suivantes ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"\u2264":"<",s=t(o.origin);return s?`Trop grand : attendu que ${o.origin??"la valeur"} ait ${i}${o.maximum.toString()} ${s.unit}`:`Trop grand : attendu que ${o.origin??"la valeur"} soit ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?"\u2265":">",s=t(o.origin);return s?`Trop petit : attendu que ${o.origin} ait ${i}${o.minimum.toString()} ${s.unit}`:`Trop petit : attendu que ${o.origin} soit ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Cha\xEEne invalide : doit commencer par "${i.prefix}"`:i.format==="ends_with"?`Cha\xEEne invalide : doit se terminer par "${i.suffix}"`:i.format==="includes"?`Cha\xEEne invalide : doit inclure "${i.includes}"`:i.format==="regex"?`Cha\xEEne invalide : doit correspondre au motif ${i.pattern}`:`${n[i.format]??o.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit \xEAtre un multiple de ${o.divisor}`;case"unrecognized_keys":return`Cl\xE9${o.keys.length>1?"s":""} non reconnue${o.keys.length>1?"s":""} : ${ee(o.keys,", ")}`;case"invalid_key":return`Cl\xE9 invalide dans ${o.origin}`;case"invalid_union":return"Entr\xE9e invalide";case"invalid_element":return`Valeur invalide dans ${o.origin}`;default:return"Entr\xE9e invalide"}}},"error");function tO(){return{localeError:Jie()}}a(tO,"default");var Hie=a(()=>{let e={string:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA",gender:"f"},number:{label:"\u05DE\u05E1\u05E4\u05E8",gender:"m"},boolean:{label:"\u05E2\u05E8\u05DA \u05D1\u05D5\u05DC\u05D9\u05D0\u05E0\u05D9",gender:"m"},bigint:{label:"BigInt",gender:"m"},date:{label:"\u05EA\u05D0\u05E8\u05D9\u05DA",gender:"m"},array:{label:"\u05DE\u05E2\u05E8\u05DA",gender:"m"},object:{label:"\u05D0\u05D5\u05D1\u05D9\u05D9\u05E7\u05D8",gender:"m"},null:{label:"\u05E2\u05E8\u05DA \u05E8\u05D9\u05E7 (null)",gender:"m"},undefined:{label:"\u05E2\u05E8\u05DA \u05DC\u05D0 \u05DE\u05D5\u05D2\u05D3\u05E8 (undefined)",gender:"m"},symbol:{label:"\u05E1\u05D9\u05DE\u05D1\u05D5\u05DC (Symbol)",gender:"m"},function:{label:"\u05E4\u05D5\u05E0\u05E7\u05E6\u05D9\u05D4",gender:"f"},map:{label:"\u05DE\u05E4\u05D4 (Map)",gender:"f"},set:{label:"\u05E7\u05D1\u05D5\u05E6\u05D4 (Set)",gender:"f"},file:{label:"\u05E7\u05D5\u05D1\u05E5",gender:"m"},promise:{label:"Promise",gender:"m"},NaN:{label:"NaN",gender:"m"},unknown:{label:"\u05E2\u05E8\u05DA \u05DC\u05D0 \u05D9\u05D3\u05D5\u05E2",gender:"m"},value:{label:"\u05E2\u05E8\u05DA",gender:"m"}},t={string:{unit:"\u05EA\u05D5\u05D5\u05D9\u05DD",shortLabel:"\u05E7\u05E6\u05E8",longLabel:"\u05D0\u05E8\u05D5\u05DA"},file:{unit:"\u05D1\u05D9\u05D9\u05D8\u05D9\u05DD",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"},array:{unit:"\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"},set:{unit:"\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"},number:{unit:"",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"}},r=a(d=>d?e[d]:void 0,"typeEntry"),n=a(d=>{let p=r(d);return p?p.label:d??e.unknown.label},"typeLabel"),o=a(d=>`\u05D4${n(d)}`,"withDefinite"),i=a(d=>(r(d)?.gender??"m")==="f"?"\u05E6\u05E8\u05D9\u05DB\u05D4 \u05DC\u05D4\u05D9\u05D5\u05EA":"\u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA","verbFor"),s=a(d=>d?t[d]??null:null,"getSizing"),u=a(d=>{let p=typeof d;switch(p){case"number":return Number.isNaN(d)?"NaN":"number";case"object":return Array.isArray(d)?"array":d===null?"null":Object.getPrototypeOf(d)!==Object.prototype&&d.constructor?d.constructor.name:"object";default:return p}},"parsedType"),l={regex:{label:"\u05E7\u05DC\u05D8",gender:"m"},email:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA \u05D0\u05D9\u05DE\u05D9\u05D9\u05DC",gender:"f"},url:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA \u05E8\u05E9\u05EA",gender:"f"},emoji:{label:"\u05D0\u05D9\u05DE\u05D5\u05D2'\u05D9",gender:"m"},uuid:{label:"UUID",gender:"m"},nanoid:{label:"nanoid",gender:"m"},guid:{label:"GUID",gender:"m"},cuid:{label:"cuid",gender:"m"},cuid2:{label:"cuid2",gender:"m"},ulid:{label:"ULID",gender:"m"},xid:{label:"XID",gender:"m"},ksuid:{label:"KSUID",gender:"m"},datetime:{label:"\u05EA\u05D0\u05E8\u05D9\u05DA \u05D5\u05D6\u05DE\u05DF ISO",gender:"m"},date:{label:"\u05EA\u05D0\u05E8\u05D9\u05DA ISO",gender:"m"},time:{label:"\u05D6\u05DE\u05DF ISO",gender:"m"},duration:{label:"\u05DE\u05E9\u05DA \u05D6\u05DE\u05DF ISO",gender:"m"},ipv4:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA IPv4",gender:"f"},ipv6:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA IPv6",gender:"f"},cidrv4:{label:"\u05D8\u05D5\u05D5\u05D7 IPv4",gender:"m"},cidrv6:{label:"\u05D8\u05D5\u05D5\u05D7 IPv6",gender:"m"},base64:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64",gender:"f"},base64url:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64 \u05DC\u05DB\u05EA\u05D5\u05D1\u05D5\u05EA \u05E8\u05E9\u05EA",gender:"f"},json_string:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA JSON",gender:"f"},e164:{label:"\u05DE\u05E1\u05E4\u05E8 E.164",gender:"m"},jwt:{label:"JWT",gender:"m"},ends_with:{label:"\u05E7\u05DC\u05D8",gender:"m"},includes:{label:"\u05E7\u05DC\u05D8",gender:"m"},lowercase:{label:"\u05E7\u05DC\u05D8",gender:"m"},starts_with:{label:"\u05E7\u05DC\u05D8",gender:"m"},uppercase:{label:"\u05E7\u05DC\u05D8",gender:"m"}};return d=>{switch(d.code){case"invalid_type":{let p=d.expected,f=n(p),m=u(d.input),y=e[m]?.label??m;return`\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${f}, \u05D4\u05EA\u05E7\u05D1\u05DC ${y}`}case"invalid_value":{if(d.values.length===1)return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D4\u05E2\u05E8\u05DA \u05D7\u05D9\u05D9\u05D1 \u05DC\u05D4\u05D9\u05D5\u05EA ${le(d.values[0])}`;let p=d.values.map(y=>le(y));if(d.values.length===2)return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D4\u05D0\u05E4\u05E9\u05E8\u05D5\u05D9\u05D5\u05EA \u05D4\u05DE\u05EA\u05D0\u05D9\u05DE\u05D5\u05EA \u05D4\u05DF ${p[0]} \u05D0\u05D5 ${p[1]}`;let f=p[p.length-1];return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D4\u05D0\u05E4\u05E9\u05E8\u05D5\u05D9\u05D5\u05EA \u05D4\u05DE\u05EA\u05D0\u05D9\u05DE\u05D5\u05EA \u05D4\u05DF ${p.slice(0,-1).join(", ")} \u05D0\u05D5 ${f}`}case"too_big":{let p=s(d.origin),f=o(d.origin??"value");if(d.origin==="string")return`${p?.longLabel??"\u05D0\u05E8\u05D5\u05DA"} \u05DE\u05D3\u05D9: ${f} \u05E6\u05E8\u05D9\u05DB\u05D4 \u05DC\u05D4\u05DB\u05D9\u05DC ${d.maximum.toString()} ${p?.unit??""} ${d.inclusive?"\u05D0\u05D5 \u05E4\u05D7\u05D5\u05EA":"\u05DC\u05DB\u05DC \u05D4\u05D9\u05D5\u05EA\u05E8"}`.trim();if(d.origin==="number"){let g=d.inclusive?`\u05E7\u05D8\u05DF \u05D0\u05D5 \u05E9\u05D5\u05D5\u05D4 \u05DC-${d.maximum}`:`\u05E7\u05D8\u05DF \u05DE-${d.maximum}`;return`\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${f} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${g}`}if(d.origin==="array"||d.origin==="set"){let g=d.origin==="set"?"\u05E6\u05E8\u05D9\u05DB\u05D4":"\u05E6\u05E8\u05D9\u05DA",h=d.inclusive?`${d.maximum} ${p?.unit??""} \u05D0\u05D5 \u05E4\u05D7\u05D5\u05EA`:`\u05E4\u05D7\u05D5\u05EA \u05DE-${d.maximum} ${p?.unit??""}`;return`\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${f} ${g} \u05DC\u05D4\u05DB\u05D9\u05DC ${h}`.trim()}let m=d.inclusive?"<=":"<",y=i(d.origin??"value");return p?.unit?`${p.longLabel} \u05DE\u05D3\u05D9: ${f} ${y} ${m}${d.maximum.toString()} ${p.unit}`:`${p?.longLabel??"\u05D2\u05D3\u05D5\u05DC"} \u05DE\u05D3\u05D9: ${f} ${y} ${m}${d.maximum.toString()}`}case"too_small":{let p=s(d.origin),f=o(d.origin??"value");if(d.origin==="string")return`${p?.shortLabel??"\u05E7\u05E6\u05E8"} \u05DE\u05D3\u05D9: ${f} \u05E6\u05E8\u05D9\u05DB\u05D4 \u05DC\u05D4\u05DB\u05D9\u05DC ${d.minimum.toString()} ${p?.unit??""} ${d.inclusive?"\u05D0\u05D5 \u05D9\u05D5\u05EA\u05E8":"\u05DC\u05E4\u05D7\u05D5\u05EA"}`.trim();if(d.origin==="number"){let g=d.inclusive?`\u05D2\u05D3\u05D5\u05DC \u05D0\u05D5 \u05E9\u05D5\u05D5\u05D4 \u05DC-${d.minimum}`:`\u05D2\u05D3\u05D5\u05DC \u05DE-${d.minimum}`;return`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${f} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${g}`}if(d.origin==="array"||d.origin==="set"){let g=d.origin==="set"?"\u05E6\u05E8\u05D9\u05DB\u05D4":"\u05E6\u05E8\u05D9\u05DA";if(d.minimum===1&&d.inclusive){let v=(d.origin==="set","\u05DC\u05E4\u05D7\u05D5\u05EA \u05E4\u05E8\u05D9\u05D8 \u05D0\u05D7\u05D3");return`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${f} ${g} \u05DC\u05D4\u05DB\u05D9\u05DC ${v}`}let h=d.inclusive?`${d.minimum} ${p?.unit??""} \u05D0\u05D5 \u05D9\u05D5\u05EA\u05E8`:`\u05D9\u05D5\u05EA\u05E8 \u05DE-${d.minimum} ${p?.unit??""}`;return`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${f} ${g} \u05DC\u05D4\u05DB\u05D9\u05DC ${h}`.trim()}let m=d.inclusive?">=":">",y=i(d.origin??"value");return p?.unit?`${p.shortLabel} \u05DE\u05D3\u05D9: ${f} ${y} ${m}${d.minimum.toString()} ${p.unit}`:`${p?.shortLabel??"\u05E7\u05D8\u05DF"} \u05DE\u05D3\u05D9: ${f} ${y} ${m}${d.minimum.toString()}`}case"invalid_format":{let p=d;if(p.format==="starts_with")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D7\u05D9\u05DC \u05D1 "${p.prefix}"`;if(p.format==="ends_with")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05E1\u05EA\u05D9\u05D9\u05DD \u05D1 "${p.suffix}"`;if(p.format==="includes")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05DB\u05DC\u05D5\u05DC "${p.includes}"`;if(p.format==="regex")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D0\u05D9\u05DD \u05DC\u05EA\u05D1\u05E0\u05D9\u05EA ${p.pattern}`;let f=l[p.format],m=f?.label??p.format,g=(f?.gender??"m")==="f"?"\u05EA\u05E7\u05D9\u05E0\u05D4":"\u05EA\u05E7\u05D9\u05DF";return`${m} \u05DC\u05D0 ${g}`}case"not_multiple_of":return`\u05DE\u05E1\u05E4\u05E8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D7\u05D9\u05D9\u05D1 \u05DC\u05D4\u05D9\u05D5\u05EA \u05DE\u05DB\u05E4\u05DC\u05D4 \u05E9\u05DC ${d.divisor}`;case"unrecognized_keys":return`\u05DE\u05E4\u05EA\u05D7${d.keys.length>1?"\u05D5\u05EA":""} \u05DC\u05D0 \u05DE\u05D6\u05D5\u05D4${d.keys.length>1?"\u05D9\u05DD":"\u05D4"}: ${ee(d.keys,", ")}`;case"invalid_key":return"\u05E9\u05D3\u05D4 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1\u05D0\u05D5\u05D1\u05D9\u05D9\u05E7\u05D8";case"invalid_union":return"\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF";case"invalid_element":return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1${o(d.origin??"array")}`;default:return"\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF"}}},"error");function rO(){return{localeError:Hie()}}a(rO,"default");var Vie=a(()=>{let e={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"sz\xE1m";case"object":{if(Array.isArray(o))return"t\xF6mb";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"bemenet",email:"email c\xEDm",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO id\u0151b\xE9lyeg",date:"ISO d\xE1tum",time:"ISO id\u0151",duration:"ISO id\u0151intervallum",ipv4:"IPv4 c\xEDm",ipv6:"IPv6 c\xEDm",cidrv4:"IPv4 tartom\xE1ny",cidrv6:"IPv6 tartom\xE1ny",base64:"base64-k\xF3dolt string",base64url:"base64url-k\xF3dolt string",json_string:"JSON string",e164:"E.164 sz\xE1m",jwt:"JWT",template_literal:"bemenet"};return o=>{switch(o.code){case"invalid_type":return`\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k ${o.expected}, a kapott \xE9rt\xE9k ${r(o.input)}`;case"invalid_value":return o.values.length===1?`\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k ${le(o.values[0])}`:`\xC9rv\xE9nytelen opci\xF3: valamelyik \xE9rt\xE9k v\xE1rt ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`T\xFAl nagy: ${o.origin??"\xE9rt\xE9k"} m\xE9rete t\xFAl nagy ${i}${o.maximum.toString()} ${s.unit??"elem"}`:`T\xFAl nagy: a bemeneti \xE9rt\xE9k ${o.origin??"\xE9rt\xE9k"} t\xFAl nagy: ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`T\xFAl kicsi: a bemeneti \xE9rt\xE9k ${o.origin} m\xE9rete t\xFAl kicsi ${i}${o.minimum.toString()} ${s.unit}`:`T\xFAl kicsi: a bemeneti \xE9rt\xE9k ${o.origin} t\xFAl kicsi ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\xC9rv\xE9nytelen string: "${i.prefix}" \xE9rt\xE9kkel kell kezd\u0151dnie`:i.format==="ends_with"?`\xC9rv\xE9nytelen string: "${i.suffix}" \xE9rt\xE9kkel kell v\xE9gz\u0151dnie`:i.format==="includes"?`\xC9rv\xE9nytelen string: "${i.includes}" \xE9rt\xE9ket kell tartalmaznia`:i.format==="regex"?`\xC9rv\xE9nytelen string: ${i.pattern} mint\xE1nak kell megfelelnie`:`\xC9rv\xE9nytelen ${n[i.format]??o.format}`}case"not_multiple_of":return`\xC9rv\xE9nytelen sz\xE1m: ${o.divisor} t\xF6bbsz\xF6r\xF6s\xE9nek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${o.keys.length>1?"s":""}: ${ee(o.keys,", ")}`;case"invalid_key":return`\xC9rv\xE9nytelen kulcs ${o.origin}`;case"invalid_union":return"\xC9rv\xE9nytelen bemenet";case"invalid_element":return`\xC9rv\xE9nytelen \xE9rt\xE9k: ${o.origin}`;default:return"\xC9rv\xE9nytelen bemenet"}}},"error");function nO(){return{localeError:Vie()}}a(nO,"default");var Zie=a(()=>{let e={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"number";case"object":{if(Array.isArray(o))return"array";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"};return o=>{switch(o.code){case"invalid_type":return`Input tidak valid: diharapkan ${o.expected}, diterima ${r(o.input)}`;case"invalid_value":return o.values.length===1?`Input tidak valid: diharapkan ${le(o.values[0])}`:`Pilihan tidak valid: diharapkan salah satu dari ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`Terlalu besar: diharapkan ${o.origin??"value"} memiliki ${i}${o.maximum.toString()} ${s.unit??"elemen"}`:`Terlalu besar: diharapkan ${o.origin??"value"} menjadi ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`Terlalu kecil: diharapkan ${o.origin} memiliki ${i}${o.minimum.toString()} ${s.unit}`:`Terlalu kecil: diharapkan ${o.origin} menjadi ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`String tidak valid: harus dimulai dengan "${i.prefix}"`:i.format==="ends_with"?`String tidak valid: harus berakhir dengan "${i.suffix}"`:i.format==="includes"?`String tidak valid: harus menyertakan "${i.includes}"`:i.format==="regex"?`String tidak valid: harus sesuai pola ${i.pattern}`:`${n[i.format]??o.format} tidak valid`}case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${o.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${o.keys.length>1?"s":""}: ${ee(o.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${o.origin}`;case"invalid_union":return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${o.origin}`;default:return"Input tidak valid"}}},"error");function oO(){return{localeError:Zie()}}a(oO,"default");var Kie=a(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"n\xFAmer";case"object":{if(Array.isArray(e))return"fylki";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},"parsedType"),Gie=a(()=>{let e={string:{unit:"stafi",verb:"a\xF0 hafa"},file:{unit:"b\xE6ti",verb:"a\xF0 hafa"},array:{unit:"hluti",verb:"a\xF0 hafa"},set:{unit:"hluti",verb:"a\xF0 hafa"}};function t(n){return e[n]??null}a(t,"getSizing");let r={regex:"gildi",email:"netfang",url:"vefsl\xF3\xF0",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og t\xEDmi",date:"ISO dagsetning",time:"ISO t\xEDmi",duration:"ISO t\xEDmalengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 t\xF6lugildi",jwt:"JWT",template_literal:"gildi"};return n=>{switch(n.code){case"invalid_type":return`Rangt gildi: \xDE\xFA sl\xF3st inn ${Kie(n.input)} \xFEar sem \xE1 a\xF0 vera ${n.expected}`;case"invalid_value":return n.values.length===1?`Rangt gildi: gert r\xE1\xF0 fyrir ${le(n.values[0])}`:`\xD3gilt val: m\xE1 vera eitt af eftirfarandi ${ee(n.values,"|")}`;case"too_big":{let o=n.inclusive?"<=":"<",i=t(n.origin);return i?`Of st\xF3rt: gert er r\xE1\xF0 fyrir a\xF0 ${n.origin??"gildi"} hafi ${o}${n.maximum.toString()} ${i.unit??"hluti"}`:`Of st\xF3rt: gert er r\xE1\xF0 fyrir a\xF0 ${n.origin??"gildi"} s\xE9 ${o}${n.maximum.toString()}`}case"too_small":{let o=n.inclusive?">=":">",i=t(n.origin);return i?`Of l\xEDti\xF0: gert er r\xE1\xF0 fyrir a\xF0 ${n.origin} hafi ${o}${n.minimum.toString()} ${i.unit}`:`Of l\xEDti\xF0: gert er r\xE1\xF0 fyrir a\xF0 ${n.origin} s\xE9 ${o}${n.minimum.toString()}`}case"invalid_format":{let o=n;return o.format==="starts_with"?`\xD3gildur strengur: ver\xF0ur a\xF0 byrja \xE1 "${o.prefix}"`:o.format==="ends_with"?`\xD3gildur strengur: ver\xF0ur a\xF0 enda \xE1 "${o.suffix}"`:o.format==="includes"?`\xD3gildur strengur: ver\xF0ur a\xF0 innihalda "${o.includes}"`:o.format==="regex"?`\xD3gildur strengur: ver\xF0ur a\xF0 fylgja mynstri ${o.pattern}`:`Rangt ${r[o.format]??n.format}`}case"not_multiple_of":return`R\xF6ng tala: ver\xF0ur a\xF0 vera margfeldi af ${n.divisor}`;case"unrecognized_keys":return`\xD3\xFEekkt ${n.keys.length>1?"ir lyklar":"ur lykill"}: ${ee(n.keys,", ")}`;case"invalid_key":return`Rangur lykill \xED ${n.origin}`;case"invalid_union":return"Rangt gildi";case"invalid_element":return`Rangt gildi \xED ${n.origin}`;default:return"Rangt gildi"}}},"error");function iO(){return{localeError:Gie()}}a(iO,"default");var Wie=a(()=>{let e={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"numero";case"object":{if(Array.isArray(o))return"vettore";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"};return o=>{switch(o.code){case"invalid_type":return`Input non valido: atteso ${o.expected}, ricevuto ${r(o.input)}`;case"invalid_value":return o.values.length===1?`Input non valido: atteso ${le(o.values[0])}`:`Opzione non valida: atteso uno tra ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`Troppo grande: ${o.origin??"valore"} deve avere ${i}${o.maximum.toString()} ${s.unit??"elementi"}`:`Troppo grande: ${o.origin??"valore"} deve essere ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`Troppo piccolo: ${o.origin} deve avere ${i}${o.minimum.toString()} ${s.unit}`:`Troppo piccolo: ${o.origin} deve essere ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Stringa non valida: deve iniziare con "${i.prefix}"`:i.format==="ends_with"?`Stringa non valida: deve terminare con "${i.suffix}"`:i.format==="includes"?`Stringa non valida: deve includere "${i.includes}"`:i.format==="regex"?`Stringa non valida: deve corrispondere al pattern ${i.pattern}`:`Invalid ${n[i.format]??o.format}`}case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${o.divisor}`;case"unrecognized_keys":return`Chiav${o.keys.length>1?"i":"e"} non riconosciut${o.keys.length>1?"e":"a"}: ${ee(o.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${o.origin}`;case"invalid_union":return"Input non valido";case"invalid_element":return`Valore non valido in ${o.origin}`;default:return"Input non valido"}}},"error");function aO(){return{localeError:Wie()}}a(aO,"default");var Qie=a(()=>{let e={string:{unit:"\u6587\u5B57",verb:"\u3067\u3042\u308B"},file:{unit:"\u30D0\u30A4\u30C8",verb:"\u3067\u3042\u308B"},array:{unit:"\u8981\u7D20",verb:"\u3067\u3042\u308B"},set:{unit:"\u8981\u7D20",verb:"\u3067\u3042\u308B"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"\u6570\u5024";case"object":{if(Array.isArray(o))return"\u914D\u5217";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\u5165\u529B\u5024",email:"\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9",url:"URL",emoji:"\u7D75\u6587\u5B57",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO\u65E5\u6642",date:"ISO\u65E5\u4ED8",time:"ISO\u6642\u523B",duration:"ISO\u671F\u9593",ipv4:"IPv4\u30A2\u30C9\u30EC\u30B9",ipv6:"IPv6\u30A2\u30C9\u30EC\u30B9",cidrv4:"IPv4\u7BC4\u56F2",cidrv6:"IPv6\u7BC4\u56F2",base64:"base64\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217",base64url:"base64url\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217",json_string:"JSON\u6587\u5B57\u5217",e164:"E.164\u756A\u53F7",jwt:"JWT",template_literal:"\u5165\u529B\u5024"};return o=>{switch(o.code){case"invalid_type":return`\u7121\u52B9\u306A\u5165\u529B: ${o.expected}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F\u304C\u3001${r(o.input)}\u304C\u5165\u529B\u3055\u308C\u307E\u3057\u305F`;case"invalid_value":return o.values.length===1?`\u7121\u52B9\u306A\u5165\u529B: ${le(o.values[0])}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F`:`\u7121\u52B9\u306A\u9078\u629E: ${ee(o.values,"\u3001")}\u306E\u3044\u305A\u308C\u304B\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;case"too_big":{let i=o.inclusive?"\u4EE5\u4E0B\u3067\u3042\u308B":"\u3088\u308A\u5C0F\u3055\u3044",s=t(o.origin);return s?`\u5927\u304D\u3059\u304E\u308B\u5024: ${o.origin??"\u5024"}\u306F${o.maximum.toString()}${s.unit??"\u8981\u7D20"}${i}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u5927\u304D\u3059\u304E\u308B\u5024: ${o.origin??"\u5024"}\u306F${o.maximum.toString()}${i}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`}case"too_small":{let i=o.inclusive?"\u4EE5\u4E0A\u3067\u3042\u308B":"\u3088\u308A\u5927\u304D\u3044",s=t(o.origin);return s?`\u5C0F\u3055\u3059\u304E\u308B\u5024: ${o.origin}\u306F${o.minimum.toString()}${s.unit}${i}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u5C0F\u3055\u3059\u304E\u308B\u5024: ${o.origin}\u306F${o.minimum.toString()}${i}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${i.prefix}"\u3067\u59CB\u307E\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:i.format==="ends_with"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${i.suffix}"\u3067\u7D42\u308F\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:i.format==="includes"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${i.includes}"\u3092\u542B\u3080\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:i.format==="regex"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: \u30D1\u30BF\u30FC\u30F3${i.pattern}\u306B\u4E00\u81F4\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u7121\u52B9\u306A${n[i.format]??o.format}`}case"not_multiple_of":return`\u7121\u52B9\u306A\u6570\u5024: ${o.divisor}\u306E\u500D\u6570\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;case"unrecognized_keys":return`\u8A8D\u8B58\u3055\u308C\u3066\u3044\u306A\u3044\u30AD\u30FC${o.keys.length>1?"\u7FA4":""}: ${ee(o.keys,"\u3001")}`;case"invalid_key":return`${o.origin}\u5185\u306E\u7121\u52B9\u306A\u30AD\u30FC`;case"invalid_union":return"\u7121\u52B9\u306A\u5165\u529B";case"invalid_element":return`${o.origin}\u5185\u306E\u7121\u52B9\u306A\u5024`;default:return"\u7121\u52B9\u306A\u5165\u529B"}}},"error");function sO(){return{localeError:Qie()}}a(sO,"default");var Xie=a(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"\u10E0\u10D8\u10EA\u10EE\u10D5\u10D8";case"object":{if(Array.isArray(e))return"\u10DB\u10D0\u10E1\u10D8\u10D5\u10D8";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return{string:"\u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",boolean:"\u10D1\u10E3\u10DA\u10D4\u10D0\u10DC\u10D8",undefined:"undefined",bigint:"bigint",symbol:"symbol",function:"\u10E4\u10E3\u10DC\u10E5\u10EA\u10D8\u10D0"}[t]??t},"parsedType"),Yie=a(()=>{let e={string:{unit:"\u10E1\u10D8\u10DB\u10D1\u10DD\u10DA\u10DD",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"},file:{unit:"\u10D1\u10D0\u10D8\u10E2\u10D8",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"},array:{unit:"\u10D4\u10DA\u10D4\u10DB\u10D4\u10DC\u10E2\u10D8",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"},set:{unit:"\u10D4\u10DA\u10D4\u10DB\u10D4\u10DC\u10E2\u10D8",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"}};function t(n){return e[n]??null}a(t,"getSizing");let r={regex:"\u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0",email:"\u10D4\u10DA-\u10E4\u10DD\u10E1\u10E2\u10D8\u10E1 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",url:"URL",emoji:"\u10D4\u10DB\u10DD\u10EF\u10D8",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u10D7\u10D0\u10E0\u10D8\u10E6\u10D8-\u10D3\u10E0\u10DD",date:"\u10D7\u10D0\u10E0\u10D8\u10E6\u10D8",time:"\u10D3\u10E0\u10DD",duration:"\u10EE\u10D0\u10DC\u10D2\u10E0\u10EB\u10DA\u10D8\u10D5\u10DD\u10D1\u10D0",ipv4:"IPv4 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",ipv6:"IPv6 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",cidrv4:"IPv4 \u10D3\u10D8\u10D0\u10DE\u10D0\u10D6\u10DD\u10DC\u10D8",cidrv6:"IPv6 \u10D3\u10D8\u10D0\u10DE\u10D0\u10D6\u10DD\u10DC\u10D8",base64:"base64-\u10D9\u10DD\u10D3\u10D8\u10E0\u10D4\u10D1\u10E3\u10DA\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",base64url:"base64url-\u10D9\u10DD\u10D3\u10D8\u10E0\u10D4\u10D1\u10E3\u10DA\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",json_string:"JSON \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",e164:"E.164 \u10DC\u10DD\u10DB\u10D4\u10E0\u10D8",jwt:"JWT",template_literal:"\u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0"};return n=>{switch(n.code){case"invalid_type":return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${n.expected}, \u10DB\u10D8\u10E6\u10D4\u10D1\u10E3\u10DA\u10D8 ${Xie(n.input)}`;case"invalid_value":return n.values.length===1?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${le(n.values[0])}`:`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10D5\u10D0\u10E0\u10D8\u10D0\u10DC\u10E2\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8\u10D0 \u10D4\u10E0\u10D7-\u10D4\u10E0\u10D7\u10D8 ${ee(n.values,"|")}-\u10D3\u10D0\u10DC`;case"too_big":{let o=n.inclusive?"<=":"<",i=t(n.origin);return i?`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10D3\u10D8\u10D3\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${n.origin??"\u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0"} ${i.verb} ${o}${n.maximum.toString()} ${i.unit}`:`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10D3\u10D8\u10D3\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${n.origin??"\u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0"} \u10D8\u10E7\u10DD\u10E1 ${o}${n.maximum.toString()}`}case"too_small":{let o=n.inclusive?">=":">",i=t(n.origin);return i?`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10DE\u10D0\u10E2\u10D0\u10E0\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${n.origin} ${i.verb} ${o}${n.minimum.toString()} ${i.unit}`:`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10DE\u10D0\u10E2\u10D0\u10E0\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${n.origin} \u10D8\u10E7\u10DD\u10E1 ${o}${n.minimum.toString()}`}case"invalid_format":{let o=n;return o.format==="starts_with"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10D8\u10EC\u10E7\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 "${o.prefix}"-\u10D8\u10D7`:o.format==="ends_with"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10DB\u10D7\u10D0\u10D5\u10E0\u10D3\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 "${o.suffix}"-\u10D8\u10D7`:o.format==="includes"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1 "${o.includes}"-\u10E1`:o.format==="regex"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D4\u10E1\u10D0\u10D1\u10D0\u10DB\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 \u10E8\u10D0\u10D1\u10DA\u10DD\u10DC\u10E1 ${o.pattern}`:`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 ${r[o.format]??n.format}`}case"not_multiple_of":return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E0\u10D8\u10EA\u10EE\u10D5\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10D8\u10E7\u10DD\u10E1 ${n.divisor}-\u10D8\u10E1 \u10EF\u10D4\u10E0\u10D0\u10D3\u10D8`;case"unrecognized_keys":return`\u10E3\u10EA\u10DC\u10DD\u10D1\u10D8 \u10D2\u10D0\u10E1\u10D0\u10E6\u10D4\u10D1${n.keys.length>1?"\u10D4\u10D1\u10D8":"\u10D8"}: ${ee(n.keys,", ")}`;case"invalid_key":return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10D2\u10D0\u10E1\u10D0\u10E6\u10D4\u10D1\u10D8 ${n.origin}-\u10E8\u10D8`;case"invalid_union":return"\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0";case"invalid_element":return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0 ${n.origin}-\u10E8\u10D8`;default:return"\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0"}}},"error");function uO(){return{localeError:Yie()}}a(uO,"default");var eae=a(()=>{let e={string:{unit:"\u178F\u17BD\u17A2\u1780\u17D2\u179F\u179A",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},file:{unit:"\u1794\u17C3",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},array:{unit:"\u1792\u17B6\u178F\u17BB",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},set:{unit:"\u1792\u17B6\u178F\u17BB",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"\u1798\u17B7\u1793\u1798\u17C2\u1793\u1787\u17B6\u179B\u17C1\u1781 (NaN)":"\u179B\u17C1\u1781";case"object":{if(Array.isArray(o))return"\u17A2\u17B6\u179A\u17C1 (Array)";if(o===null)return"\u1782\u17D2\u1798\u17B6\u1793\u178F\u1798\u17D2\u179B\u17C3 (null)";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B",email:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793\u17A2\u17CA\u17B8\u1798\u17C2\u179B",url:"URL",emoji:"\u179F\u1789\u17D2\u1789\u17B6\u17A2\u17B6\u179A\u1798\u17D2\u1798\u178E\u17CD",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 \u1793\u17B7\u1784\u1798\u17C9\u17C4\u1784 ISO",date:"\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 ISO",time:"\u1798\u17C9\u17C4\u1784 ISO",duration:"\u179A\u1799\u17C8\u1796\u17C1\u179B ISO",ipv4:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4",ipv6:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6",cidrv4:"\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4",cidrv6:"\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6",base64:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64",base64url:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64url",json_string:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A JSON",e164:"\u179B\u17C1\u1781 E.164",jwt:"JWT",template_literal:"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B"};return o=>{switch(o.code){case"invalid_type":return`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${o.expected} \u1794\u17C9\u17BB\u1793\u17D2\u178F\u17C2\u1791\u1791\u17BD\u179B\u1794\u17B6\u1793 ${r(o.input)}`;case"invalid_value":return o.values.length===1?`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${le(o.values[0])}`:`\u1787\u1798\u17D2\u179A\u17BE\u179F\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1787\u17B6\u1798\u17BD\u1799\u1780\u17D2\u1793\u17BB\u1784\u1785\u17C6\u178E\u17C4\u1798 ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${o.origin??"\u178F\u1798\u17D2\u179B\u17C3"} ${i} ${o.maximum.toString()} ${s.unit??"\u1792\u17B6\u178F\u17BB"}`:`\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${o.origin??"\u178F\u1798\u17D2\u179B\u17C3"} ${i} ${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${o.origin} ${i} ${o.minimum.toString()} ${s.unit}`:`\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${o.origin} ${i} ${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1785\u17B6\u1794\u17CB\u1795\u17D2\u178F\u17BE\u1798\u178A\u17C4\u1799 "${i.prefix}"`:i.format==="ends_with"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1794\u1789\u17D2\u1785\u1794\u17CB\u178A\u17C4\u1799 "${i.suffix}"`:i.format==="includes"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1798\u17B6\u1793 "${i.includes}"`:i.format==="regex"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1795\u17D2\u1782\u17BC\u1795\u17D2\u1782\u1784\u1793\u17B9\u1784\u1791\u1798\u17D2\u179A\u1784\u17CB\u178A\u17C2\u179B\u1794\u17B6\u1793\u1780\u17C6\u178E\u178F\u17CB ${i.pattern}`:`\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 ${n[i.format]??o.format}`}case"not_multiple_of":return`\u179B\u17C1\u1781\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1787\u17B6\u1796\u17A0\u17BB\u1782\u17BB\u178E\u1793\u17C3 ${o.divisor}`;case"unrecognized_keys":return`\u179A\u1780\u1783\u17BE\u1789\u179F\u17C4\u1798\u17B7\u1793\u179F\u17D2\u1782\u17B6\u179B\u17CB\u17D6 ${ee(o.keys,", ")}`;case"invalid_key":return`\u179F\u17C4\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${o.origin}`;case"invalid_union":return"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C";case"invalid_element":return`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${o.origin}`;default:return"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C"}}},"error");function Ad(){return{localeError:eae()}}a(Ad,"default");function cO(){return Ad()}a(cO,"default");var tae=a(()=>{let e={string:{unit:"\uBB38\uC790",verb:"to have"},file:{unit:"\uBC14\uC774\uD2B8",verb:"to have"},array:{unit:"\uAC1C",verb:"to have"},set:{unit:"\uAC1C",verb:"to have"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"number";case"object":{if(Array.isArray(o))return"array";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\uC785\uB825",email:"\uC774\uBA54\uC77C \uC8FC\uC18C",url:"URL",emoji:"\uC774\uBAA8\uC9C0",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \uB0A0\uC9DC\uC2DC\uAC04",date:"ISO \uB0A0\uC9DC",time:"ISO \uC2DC\uAC04",duration:"ISO \uAE30\uAC04",ipv4:"IPv4 \uC8FC\uC18C",ipv6:"IPv6 \uC8FC\uC18C",cidrv4:"IPv4 \uBC94\uC704",cidrv6:"IPv6 \uBC94\uC704",base64:"base64 \uC778\uCF54\uB529 \uBB38\uC790\uC5F4",base64url:"base64url \uC778\uCF54\uB529 \uBB38\uC790\uC5F4",json_string:"JSON \uBB38\uC790\uC5F4",e164:"E.164 \uBC88\uD638",jwt:"JWT",template_literal:"\uC785\uB825"};return o=>{switch(o.code){case"invalid_type":return`\uC798\uBABB\uB41C \uC785\uB825: \uC608\uC0C1 \uD0C0\uC785\uC740 ${o.expected}, \uBC1B\uC740 \uD0C0\uC785\uC740 ${r(o.input)}\uC785\uB2C8\uB2E4`;case"invalid_value":return o.values.length===1?`\uC798\uBABB\uB41C \uC785\uB825: \uAC12\uC740 ${le(o.values[0])} \uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4`:`\uC798\uBABB\uB41C \uC635\uC158: ${ee(o.values,"\uB610\uB294 ")} \uC911 \uD558\uB098\uC5EC\uC57C \uD569\uB2C8\uB2E4`;case"too_big":{let i=o.inclusive?"\uC774\uD558":"\uBBF8\uB9CC",s=i==="\uBBF8\uB9CC"?"\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4":"\uC5EC\uC57C \uD569\uB2C8\uB2E4",u=t(o.origin),l=u?.unit??"\uC694\uC18C";return u?`${o.origin??"\uAC12"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${o.maximum.toString()}${l} ${i}${s}`:`${o.origin??"\uAC12"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${o.maximum.toString()} ${i}${s}`}case"too_small":{let i=o.inclusive?"\uC774\uC0C1":"\uCD08\uACFC",s=i==="\uC774\uC0C1"?"\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4":"\uC5EC\uC57C \uD569\uB2C8\uB2E4",u=t(o.origin),l=u?.unit??"\uC694\uC18C";return u?`${o.origin??"\uAC12"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${o.minimum.toString()}${l} ${i}${s}`:`${o.origin??"\uAC12"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${o.minimum.toString()} ${i}${s}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${i.prefix}"(\uC73C)\uB85C \uC2DC\uC791\uD574\uC57C \uD569\uB2C8\uB2E4`:i.format==="ends_with"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${i.suffix}"(\uC73C)\uB85C \uB05D\uB098\uC57C \uD569\uB2C8\uB2E4`:i.format==="includes"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${i.includes}"\uC744(\uB97C) \uD3EC\uD568\uD574\uC57C \uD569\uB2C8\uB2E4`:i.format==="regex"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: \uC815\uADDC\uC2DD ${i.pattern} \uD328\uD134\uACFC \uC77C\uCE58\uD574\uC57C \uD569\uB2C8\uB2E4`:`\uC798\uBABB\uB41C ${n[i.format]??o.format}`}case"not_multiple_of":return`\uC798\uBABB\uB41C \uC22B\uC790: ${o.divisor}\uC758 \uBC30\uC218\uC5EC\uC57C \uD569\uB2C8\uB2E4`;case"unrecognized_keys":return`\uC778\uC2DD\uD560 \uC218 \uC5C6\uB294 \uD0A4: ${ee(o.keys,", ")}`;case"invalid_key":return`\uC798\uBABB\uB41C \uD0A4: ${o.origin}`;case"invalid_union":return"\uC798\uBABB\uB41C \uC785\uB825";case"invalid_element":return`\uC798\uBABB\uB41C \uAC12: ${o.origin}`;default:return"\uC798\uBABB\uB41C \uC785\uB825"}}},"error");function lO(){return{localeError:tae()}}a(lO,"default");var rae=a(e=>Rd(typeof e,e),"parsedType"),Rd=a((e,t=void 0)=>{switch(e){case"number":return Number.isNaN(t)?"NaN":"skai\u010Dius";case"bigint":return"sveikasis skai\u010Dius";case"string":return"eilut\u0117";case"boolean":return"login\u0117 reik\u0161m\u0117";case"undefined":case"void":return"neapibr\u0117\u017Eta reik\u0161m\u0117";case"function":return"funkcija";case"symbol":return"simbolis";case"object":return t===void 0?"ne\u017Einomas objektas":t===null?"nulin\u0117 reik\u0161m\u0117":Array.isArray(t)?"masyvas":Object.getPrototypeOf(t)!==Object.prototype&&t.constructor?t.constructor.name:"objektas";case"null":return"nulin\u0117 reik\u0161m\u0117"}return e},"parsedTypeFromType"),Cd=a(e=>e.charAt(0).toUpperCase()+e.slice(1),"capitalizeFirstCharacter");function BU(e){let t=Math.abs(e),r=t%10,n=t%100;return n>=11&&n<=19||r===0?"many":r===1?"one":"few"}a(BU,"getUnitTypeFromNumber");var nae=a(()=>{let e={string:{unit:{one:"simbolis",few:"simboliai",many:"simboli\u0173"},verb:{smaller:{inclusive:"turi b\u016Bti ne ilgesn\u0117 kaip",notInclusive:"turi b\u016Bti trumpesn\u0117 kaip"},bigger:{inclusive:"turi b\u016Bti ne trumpesn\u0117 kaip",notInclusive:"turi b\u016Bti ilgesn\u0117 kaip"}}},file:{unit:{one:"baitas",few:"baitai",many:"bait\u0173"},verb:{smaller:{inclusive:"turi b\u016Bti ne didesnis kaip",notInclusive:"turi b\u016Bti ma\u017Eesnis kaip"},bigger:{inclusive:"turi b\u016Bti ne ma\u017Eesnis kaip",notInclusive:"turi b\u016Bti didesnis kaip"}}},array:{unit:{one:"element\u0105",few:"elementus",many:"element\u0173"},verb:{smaller:{inclusive:"turi tur\u0117ti ne daugiau kaip",notInclusive:"turi tur\u0117ti ma\u017Eiau kaip"},bigger:{inclusive:"turi tur\u0117ti ne ma\u017Eiau kaip",notInclusive:"turi tur\u0117ti daugiau kaip"}}},set:{unit:{one:"element\u0105",few:"elementus",many:"element\u0173"},verb:{smaller:{inclusive:"turi tur\u0117ti ne daugiau kaip",notInclusive:"turi tur\u0117ti ma\u017Eiau kaip"},bigger:{inclusive:"turi tur\u0117ti ne ma\u017Eiau kaip",notInclusive:"turi tur\u0117ti daugiau kaip"}}}};function t(n,o,i,s){let u=e[n]??null;return u===null?u:{unit:u.unit[o],verb:u.verb[s][i?"inclusive":"notInclusive"]}}a(t,"getSizing");let r={regex:"\u012Fvestis",email:"el. pa\u0161to adresas",url:"URL",emoji:"jaustukas",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO data ir laikas",date:"ISO data",time:"ISO laikas",duration:"ISO trukm\u0117",ipv4:"IPv4 adresas",ipv6:"IPv6 adresas",cidrv4:"IPv4 tinklo prefiksas (CIDR)",cidrv6:"IPv6 tinklo prefiksas (CIDR)",base64:"base64 u\u017Ekoduota eilut\u0117",base64url:"base64url u\u017Ekoduota eilut\u0117",json_string:"JSON eilut\u0117",e164:"E.164 numeris",jwt:"JWT",template_literal:"\u012Fvestis"};return n=>{switch(n.code){case"invalid_type":return`Gautas tipas ${rae(n.input)}, o tik\u0117tasi - ${Rd(n.expected)}`;case"invalid_value":return n.values.length===1?`Privalo b\u016Bti ${le(n.values[0])}`:`Privalo b\u016Bti vienas i\u0161 ${ee(n.values,"|")} pasirinkim\u0173`;case"too_big":{let o=Rd(n.origin),i=t(n.origin,BU(Number(n.maximum)),n.inclusive??!1,"smaller");if(i?.verb)return`${Cd(o??n.origin??"reik\u0161m\u0117")} ${i.verb} ${n.maximum.toString()} ${i.unit??"element\u0173"}`;let s=n.inclusive?"ne didesnis kaip":"ma\u017Eesnis kaip";return`${Cd(o??n.origin??"reik\u0161m\u0117")} turi b\u016Bti ${s} ${n.maximum.toString()} ${i?.unit}`}case"too_small":{let o=Rd(n.origin),i=t(n.origin,BU(Number(n.minimum)),n.inclusive??!1,"bigger");if(i?.verb)return`${Cd(o??n.origin??"reik\u0161m\u0117")} ${i.verb} ${n.minimum.toString()} ${i.unit??"element\u0173"}`;let s=n.inclusive?"ne ma\u017Eesnis kaip":"didesnis kaip";return`${Cd(o??n.origin??"reik\u0161m\u0117")} turi b\u016Bti ${s} ${n.minimum.toString()} ${i?.unit}`}case"invalid_format":{let o=n;return o.format==="starts_with"?`Eilut\u0117 privalo prasid\u0117ti "${o.prefix}"`:o.format==="ends_with"?`Eilut\u0117 privalo pasibaigti "${o.suffix}"`:o.format==="includes"?`Eilut\u0117 privalo \u012Ftraukti "${o.includes}"`:o.format==="regex"?`Eilut\u0117 privalo atitikti ${o.pattern}`:`Neteisingas ${r[o.format]??n.format}`}case"not_multiple_of":return`Skai\u010Dius privalo b\u016Bti ${n.divisor} kartotinis.`;case"unrecognized_keys":return`Neatpa\u017Eint${n.keys.length>1?"i":"as"} rakt${n.keys.length>1?"ai":"as"}: ${ee(n.keys,", ")}`;case"invalid_key":return"Rastas klaidingas raktas";case"invalid_union":return"Klaidinga \u012Fvestis";case"invalid_element":{let o=Rd(n.origin);return`${Cd(o??n.origin??"reik\u0161m\u0117")} turi klaiding\u0105 \u012Fvest\u012F`}default:return"Klaidinga \u012Fvestis"}}},"error");function dO(){return{localeError:nae()}}a(dO,"default");var oae=a(()=>{let e={string:{unit:"\u0437\u043D\u0430\u0446\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},file:{unit:"\u0431\u0430\u0458\u0442\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},array:{unit:"\u0441\u0442\u0430\u0432\u043A\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},set:{unit:"\u0441\u0442\u0430\u0432\u043A\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"\u0431\u0440\u043E\u0458";case"object":{if(Array.isArray(o))return"\u043D\u0438\u0437\u0430";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\u0432\u043D\u0435\u0441",email:"\u0430\u0434\u0440\u0435\u0441\u0430 \u043D\u0430 \u0435-\u043F\u043E\u0448\u0442\u0430",url:"URL",emoji:"\u0435\u043C\u043E\u045F\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0443\u043C \u0438 \u0432\u0440\u0435\u043C\u0435",date:"ISO \u0434\u0430\u0442\u0443\u043C",time:"ISO \u0432\u0440\u0435\u043C\u0435",duration:"ISO \u0432\u0440\u0435\u043C\u0435\u0442\u0440\u0430\u0435\u045A\u0435",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441\u0430",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441\u0430",cidrv4:"IPv4 \u043E\u043F\u0441\u0435\u0433",cidrv6:"IPv6 \u043E\u043F\u0441\u0435\u0433",base64:"base64-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430",base64url:"base64url-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430",json_string:"JSON \u043D\u0438\u0437\u0430",e164:"E.164 \u0431\u0440\u043E\u0458",jwt:"JWT",template_literal:"\u0432\u043D\u0435\u0441"};return o=>{switch(o.code){case"invalid_type":return`\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${o.expected}, \u043F\u0440\u0438\u043C\u0435\u043D\u043E ${r(o.input)}`;case"invalid_value":return o.values.length===1?`Invalid input: expected ${le(o.values[0])}`:`\u0413\u0440\u0435\u0448\u0430\u043D\u0430 \u043E\u043F\u0446\u0438\u0458\u0430: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 \u0435\u0434\u043D\u0430 ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${o.origin??"\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430"} \u0434\u0430 \u0438\u043C\u0430 ${i}${o.maximum.toString()} ${s.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0438"}`:`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${o.origin??"\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430"} \u0434\u0430 \u0431\u0438\u0434\u0435 ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${o.origin} \u0434\u0430 \u0438\u043C\u0430 ${i}${o.minimum.toString()} ${s.unit}`:`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${o.origin} \u0434\u0430 \u0431\u0438\u0434\u0435 ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u043F\u043E\u0447\u043D\u0443\u0432\u0430 \u0441\u043E "${i.prefix}"`:i.format==="ends_with"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u0432\u0440\u0448\u0443\u0432\u0430 \u0441\u043E "${i.suffix}"`:i.format==="includes"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0432\u043A\u043B\u0443\u0447\u0443\u0432\u0430 "${i.includes}"`:i.format==="regex"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u043E\u0434\u0433\u043E\u0430\u0440\u0430 \u043D\u0430 \u043F\u0430\u0442\u0435\u0440\u043D\u043E\u0442 ${i.pattern}`:`Invalid ${n[i.format]??o.format}`}case"not_multiple_of":return`\u0413\u0440\u0435\u0448\u0435\u043D \u0431\u0440\u043E\u0458: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0431\u0438\u0434\u0435 \u0434\u0435\u043B\u0438\u0432 \u0441\u043E ${o.divisor}`;case"unrecognized_keys":return`${o.keys.length>1?"\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D\u0438 \u043A\u043B\u0443\u0447\u0435\u0432\u0438":"\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D \u043A\u043B\u0443\u0447"}: ${ee(o.keys,", ")}`;case"invalid_key":return`\u0413\u0440\u0435\u0448\u0435\u043D \u043A\u043B\u0443\u0447 \u0432\u043E ${o.origin}`;case"invalid_union":return"\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441";case"invalid_element":return`\u0413\u0440\u0435\u0448\u043D\u0430 \u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442 \u0432\u043E ${o.origin}`;default:return"\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441"}}},"error");function pO(){return{localeError:oae()}}a(pO,"default");var iae=a(()=>{let e={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"nombor";case"object":{if(Array.isArray(o))return"array";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"};return o=>{switch(o.code){case"invalid_type":return`Input tidak sah: dijangka ${o.expected}, diterima ${r(o.input)}`;case"invalid_value":return o.values.length===1?`Input tidak sah: dijangka ${le(o.values[0])}`:`Pilihan tidak sah: dijangka salah satu daripada ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`Terlalu besar: dijangka ${o.origin??"nilai"} ${s.verb} ${i}${o.maximum.toString()} ${s.unit??"elemen"}`:`Terlalu besar: dijangka ${o.origin??"nilai"} adalah ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`Terlalu kecil: dijangka ${o.origin} ${s.verb} ${i}${o.minimum.toString()} ${s.unit}`:`Terlalu kecil: dijangka ${o.origin} adalah ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`String tidak sah: mesti bermula dengan "${i.prefix}"`:i.format==="ends_with"?`String tidak sah: mesti berakhir dengan "${i.suffix}"`:i.format==="includes"?`String tidak sah: mesti mengandungi "${i.includes}"`:i.format==="regex"?`String tidak sah: mesti sepadan dengan corak ${i.pattern}`:`${n[i.format]??o.format} tidak sah`}case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${o.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${ee(o.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${o.origin}`;case"invalid_union":return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${o.origin}`;default:return"Input tidak sah"}}},"error");function mO(){return{localeError:iae()}}a(mO,"default");var aae=a(()=>{let e={string:{unit:"tekens",verb:"te hebben"},file:{unit:"bytes",verb:"te hebben"},array:{unit:"elementen",verb:"te hebben"},set:{unit:"elementen",verb:"te hebben"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"getal";case"object":{if(Array.isArray(o))return"array";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"};return o=>{switch(o.code){case"invalid_type":return`Ongeldige invoer: verwacht ${o.expected}, ontving ${r(o.input)}`;case"invalid_value":return o.values.length===1?`Ongeldige invoer: verwacht ${le(o.values[0])}`:`Ongeldige optie: verwacht \xE9\xE9n van ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`Te groot: verwacht dat ${o.origin??"waarde"} ${s.verb} ${i}${o.maximum.toString()} ${s.unit??"elementen"}`:`Te groot: verwacht dat ${o.origin??"waarde"} ${i}${o.maximum.toString()} is`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`Te klein: verwacht dat ${o.origin} ${s.verb} ${i}${o.minimum.toString()} ${s.unit}`:`Te klein: verwacht dat ${o.origin} ${i}${o.minimum.toString()} is`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Ongeldige tekst: moet met "${i.prefix}" beginnen`:i.format==="ends_with"?`Ongeldige tekst: moet op "${i.suffix}" eindigen`:i.format==="includes"?`Ongeldige tekst: moet "${i.includes}" bevatten`:i.format==="regex"?`Ongeldige tekst: moet overeenkomen met patroon ${i.pattern}`:`Ongeldig: ${n[i.format]??o.format}`}case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${o.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${o.keys.length>1?"s":""}: ${ee(o.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${o.origin}`;case"invalid_union":return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${o.origin}`;default:return"Ongeldige invoer"}}},"error");function fO(){return{localeError:aae()}}a(fO,"default");var sae=a(()=>{let e={string:{unit:"tegn",verb:"\xE5 ha"},file:{unit:"bytes",verb:"\xE5 ha"},array:{unit:"elementer",verb:"\xE5 inneholde"},set:{unit:"elementer",verb:"\xE5 inneholde"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"tall";case"object":{if(Array.isArray(o))return"liste";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omr\xE5de",ipv6:"IPv6-omr\xE5de",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return o=>{switch(o.code){case"invalid_type":return`Ugyldig input: forventet ${o.expected}, fikk ${r(o.input)}`;case"invalid_value":return o.values.length===1?`Ugyldig verdi: forventet ${le(o.values[0])}`:`Ugyldig valg: forventet en av ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`For stor(t): forventet ${o.origin??"value"} til \xE5 ha ${i}${o.maximum.toString()} ${s.unit??"elementer"}`:`For stor(t): forventet ${o.origin??"value"} til \xE5 ha ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`For lite(n): forventet ${o.origin} til \xE5 ha ${i}${o.minimum.toString()} ${s.unit}`:`For lite(n): forventet ${o.origin} til \xE5 ha ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Ugyldig streng: m\xE5 starte med "${i.prefix}"`:i.format==="ends_with"?`Ugyldig streng: m\xE5 ende med "${i.suffix}"`:i.format==="includes"?`Ugyldig streng: m\xE5 inneholde "${i.includes}"`:i.format==="regex"?`Ugyldig streng: m\xE5 matche m\xF8nsteret ${i.pattern}`:`Ugyldig ${n[i.format]??o.format}`}case"not_multiple_of":return`Ugyldig tall: m\xE5 v\xE6re et multiplum av ${o.divisor}`;case"unrecognized_keys":return`${o.keys.length>1?"Ukjente n\xF8kler":"Ukjent n\xF8kkel"}: ${ee(o.keys,", ")}`;case"invalid_key":return`Ugyldig n\xF8kkel i ${o.origin}`;case"invalid_union":return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${o.origin}`;default:return"Ugyldig input"}}},"error");function hO(){return{localeError:sae()}}a(hO,"default");var uae=a(()=>{let e={string:{unit:"harf",verb:"olmal\u0131d\u0131r"},file:{unit:"bayt",verb:"olmal\u0131d\u0131r"},array:{unit:"unsur",verb:"olmal\u0131d\u0131r"},set:{unit:"unsur",verb:"olmal\u0131d\u0131r"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"numara";case"object":{if(Array.isArray(o))return"saf";if(o===null)return"gayb";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"giren",email:"epostag\xE2h",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO heng\xE2m\u0131",date:"ISO tarihi",time:"ISO zaman\u0131",duration:"ISO m\xFCddeti",ipv4:"IPv4 ni\u015F\xE2n\u0131",ipv6:"IPv6 ni\u015F\xE2n\u0131",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-\u015Fifreli metin",base64url:"base64url-\u015Fifreli metin",json_string:"JSON metin",e164:"E.164 say\u0131s\u0131",jwt:"JWT",template_literal:"giren"};return o=>{switch(o.code){case"invalid_type":return`F\xE2sit giren: umulan ${o.expected}, al\u0131nan ${r(o.input)}`;case"invalid_value":return o.values.length===1?`F\xE2sit giren: umulan ${le(o.values[0])}`:`F\xE2sit tercih: m\xFBteberler ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`Fazla b\xFCy\xFCk: ${o.origin??"value"}, ${i}${o.maximum.toString()} ${s.unit??"elements"} sahip olmal\u0131yd\u0131.`:`Fazla b\xFCy\xFCk: ${o.origin??"value"}, ${i}${o.maximum.toString()} olmal\u0131yd\u0131.`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`Fazla k\xFC\xE7\xFCk: ${o.origin}, ${i}${o.minimum.toString()} ${s.unit} sahip olmal\u0131yd\u0131.`:`Fazla k\xFC\xE7\xFCk: ${o.origin}, ${i}${o.minimum.toString()} olmal\u0131yd\u0131.`}case"invalid_format":{let i=o;return i.format==="starts_with"?`F\xE2sit metin: "${i.prefix}" ile ba\u015Flamal\u0131.`:i.format==="ends_with"?`F\xE2sit metin: "${i.suffix}" ile bitmeli.`:i.format==="includes"?`F\xE2sit metin: "${i.includes}" ihtiv\xE2 etmeli.`:i.format==="regex"?`F\xE2sit metin: ${i.pattern} nak\u015F\u0131na uymal\u0131.`:`F\xE2sit ${n[i.format]??o.format}`}case"not_multiple_of":return`F\xE2sit say\u0131: ${o.divisor} kat\u0131 olmal\u0131yd\u0131.`;case"unrecognized_keys":return`Tan\u0131nmayan anahtar ${o.keys.length>1?"s":""}: ${ee(o.keys,", ")}`;case"invalid_key":return`${o.origin} i\xE7in tan\u0131nmayan anahtar var.`;case"invalid_union":return"Giren tan\u0131namad\u0131.";case"invalid_element":return`${o.origin} i\xE7in tan\u0131nmayan k\u0131ymet var.`;default:return"K\u0131ymet tan\u0131namad\u0131."}}},"error");function gO(){return{localeError:uae()}}a(gO,"default");var cae=a(()=>{let e={string:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"},file:{unit:"\u0628\u0627\u06CC\u067C\u0633",verb:"\u0648\u0644\u0631\u064A"},array:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"},set:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"\u0639\u062F\u062F";case"object":{if(Array.isArray(o))return"\u0627\u0631\u06D0";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\u0648\u0631\u0648\u062F\u064A",email:"\u0628\u0631\u06CC\u069A\u0646\u0627\u0644\u06CC\u06A9",url:"\u06CC\u0648 \u0622\u0631 \u0627\u0644",emoji:"\u0627\u06CC\u0645\u0648\u062C\u064A",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0646\u06CC\u067C\u0647 \u0627\u0648 \u0648\u062E\u062A",date:"\u0646\u06D0\u067C\u0647",time:"\u0648\u062E\u062A",duration:"\u0645\u0648\u062F\u0647",ipv4:"\u062F IPv4 \u067E\u062A\u0647",ipv6:"\u062F IPv6 \u067E\u062A\u0647",cidrv4:"\u062F IPv4 \u0633\u0627\u062D\u0647",cidrv6:"\u062F IPv6 \u0633\u0627\u062D\u0647",base64:"base64-encoded \u0645\u062A\u0646",base64url:"base64url-encoded \u0645\u062A\u0646",json_string:"JSON \u0645\u062A\u0646",e164:"\u062F E.164 \u0634\u0645\u06D0\u0631\u0647",jwt:"JWT",template_literal:"\u0648\u0631\u0648\u062F\u064A"};return o=>{switch(o.code){case"invalid_type":return`\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${o.expected} \u0648\u0627\u06CC, \u0645\u06AB\u0631 ${r(o.input)} \u062A\u0631\u0644\u0627\u0633\u0647 \u0634\u0648`;case"invalid_value":return o.values.length===1?`\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${le(o.values[0])} \u0648\u0627\u06CC`:`\u0646\u0627\u0633\u0645 \u0627\u0646\u062A\u062E\u0627\u0628: \u0628\u0627\u06CC\u062F \u06CC\u0648 \u0644\u0647 ${ee(o.values,"|")} \u0685\u062E\u0647 \u0648\u0627\u06CC`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${o.origin??"\u0627\u0631\u0632\u069A\u062A"} \u0628\u0627\u06CC\u062F ${i}${o.maximum.toString()} ${s.unit??"\u0639\u0646\u0635\u0631\u0648\u0646\u0647"} \u0648\u0644\u0631\u064A`:`\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${o.origin??"\u0627\u0631\u0632\u069A\u062A"} \u0628\u0627\u06CC\u062F ${i}${o.maximum.toString()} \u0648\u064A`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${o.origin} \u0628\u0627\u06CC\u062F ${i}${o.minimum.toString()} ${s.unit} \u0648\u0644\u0631\u064A`:`\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${o.origin} \u0628\u0627\u06CC\u062F ${i}${o.minimum.toString()} \u0648\u064A`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F "${i.prefix}" \u0633\u0631\u0647 \u067E\u06CC\u0644 \u0634\u064A`:i.format==="ends_with"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F "${i.suffix}" \u0633\u0631\u0647 \u067E\u0627\u06CC \u062A\u0647 \u0648\u0631\u0633\u064A\u0696\u064A`:i.format==="includes"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F "${i.includes}" \u0648\u0644\u0631\u064A`:i.format==="regex"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F ${i.pattern} \u0633\u0631\u0647 \u0645\u0637\u0627\u0628\u0642\u062A \u0648\u0644\u0631\u064A`:`${n[i.format]??o.format} \u0646\u0627\u0633\u0645 \u062F\u06CC`}case"not_multiple_of":return`\u0646\u0627\u0633\u0645 \u0639\u062F\u062F: \u0628\u0627\u06CC\u062F \u062F ${o.divisor} \u0645\u0636\u0631\u0628 \u0648\u064A`;case"unrecognized_keys":return`\u0646\u0627\u0633\u0645 ${o.keys.length>1?"\u06A9\u0644\u06CC\u0689\u0648\u0646\u0647":"\u06A9\u0644\u06CC\u0689"}: ${ee(o.keys,", ")}`;case"invalid_key":return`\u0646\u0627\u0633\u0645 \u06A9\u0644\u06CC\u0689 \u067E\u0647 ${o.origin} \u06A9\u06D0`;case"invalid_union":return"\u0646\u0627\u0633\u0645\u0647 \u0648\u0631\u0648\u062F\u064A";case"invalid_element":return`\u0646\u0627\u0633\u0645 \u0639\u0646\u0635\u0631 \u067E\u0647 ${o.origin} \u06A9\u06D0`;default:return"\u0646\u0627\u0633\u0645\u0647 \u0648\u0631\u0648\u062F\u064A"}}},"error");function yO(){return{localeError:cae()}}a(yO,"default");var lae=a(()=>{let e={string:{unit:"znak\xF3w",verb:"mie\u0107"},file:{unit:"bajt\xF3w",verb:"mie\u0107"},array:{unit:"element\xF3w",verb:"mie\u0107"},set:{unit:"element\xF3w",verb:"mie\u0107"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"liczba";case"object":{if(Array.isArray(o))return"tablica";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"wyra\u017Cenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"ci\u0105g znak\xF3w zakodowany w formacie base64",base64url:"ci\u0105g znak\xF3w zakodowany w formacie base64url",json_string:"ci\u0105g znak\xF3w w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wej\u015Bcie"};return o=>{switch(o.code){case"invalid_type":return`Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${o.expected}, otrzymano ${r(o.input)}`;case"invalid_value":return o.values.length===1?`Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${le(o.values[0])}`:`Nieprawid\u0142owa opcja: oczekiwano jednej z warto\u015Bci ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`Za du\u017Ca warto\u015B\u0107: oczekiwano, \u017Ce ${o.origin??"warto\u015B\u0107"} b\u0119dzie mie\u0107 ${i}${o.maximum.toString()} ${s.unit??"element\xF3w"}`:`Zbyt du\u017C(y/a/e): oczekiwano, \u017Ce ${o.origin??"warto\u015B\u0107"} b\u0119dzie wynosi\u0107 ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`Za ma\u0142a warto\u015B\u0107: oczekiwano, \u017Ce ${o.origin??"warto\u015B\u0107"} b\u0119dzie mie\u0107 ${i}${o.minimum.toString()} ${s.unit??"element\xF3w"}`:`Zbyt ma\u0142(y/a/e): oczekiwano, \u017Ce ${o.origin??"warto\u015B\u0107"} b\u0119dzie wynosi\u0107 ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi zaczyna\u0107 si\u0119 od "${i.prefix}"`:i.format==="ends_with"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi ko\u0144czy\u0107 si\u0119 na "${i.suffix}"`:i.format==="includes"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi zawiera\u0107 "${i.includes}"`:i.format==="regex"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi odpowiada\u0107 wzorcowi ${i.pattern}`:`Nieprawid\u0142ow(y/a/e) ${n[i.format]??o.format}`}case"not_multiple_of":return`Nieprawid\u0142owa liczba: musi by\u0107 wielokrotno\u015Bci\u0105 ${o.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${o.keys.length>1?"s":""}: ${ee(o.keys,", ")}`;case"invalid_key":return`Nieprawid\u0142owy klucz w ${o.origin}`;case"invalid_union":return"Nieprawid\u0142owe dane wej\u015Bciowe";case"invalid_element":return`Nieprawid\u0142owa warto\u015B\u0107 w ${o.origin}`;default:return"Nieprawid\u0142owe dane wej\u015Bciowe"}}},"error");function vO(){return{localeError:lae()}}a(vO,"default");var dae=a(()=>{let e={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"n\xFAmero";case"object":{if(Array.isArray(o))return"array";if(o===null)return"nulo";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"padr\xE3o",email:"endere\xE7o de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"dura\xE7\xE3o ISO",ipv4:"endere\xE7o IPv4",ipv6:"endere\xE7o IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"};return o=>{switch(o.code){case"invalid_type":return`Tipo inv\xE1lido: esperado ${o.expected}, recebido ${r(o.input)}`;case"invalid_value":return o.values.length===1?`Entrada inv\xE1lida: esperado ${le(o.values[0])}`:`Op\xE7\xE3o inv\xE1lida: esperada uma das ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`Muito grande: esperado que ${o.origin??"valor"} tivesse ${i}${o.maximum.toString()} ${s.unit??"elementos"}`:`Muito grande: esperado que ${o.origin??"valor"} fosse ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`Muito pequeno: esperado que ${o.origin} tivesse ${i}${o.minimum.toString()} ${s.unit}`:`Muito pequeno: esperado que ${o.origin} fosse ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Texto inv\xE1lido: deve come\xE7ar com "${i.prefix}"`:i.format==="ends_with"?`Texto inv\xE1lido: deve terminar com "${i.suffix}"`:i.format==="includes"?`Texto inv\xE1lido: deve incluir "${i.includes}"`:i.format==="regex"?`Texto inv\xE1lido: deve corresponder ao padr\xE3o ${i.pattern}`:`${n[i.format]??o.format} inv\xE1lido`}case"not_multiple_of":return`N\xFAmero inv\xE1lido: deve ser m\xFAltiplo de ${o.divisor}`;case"unrecognized_keys":return`Chave${o.keys.length>1?"s":""} desconhecida${o.keys.length>1?"s":""}: ${ee(o.keys,", ")}`;case"invalid_key":return`Chave inv\xE1lida em ${o.origin}`;case"invalid_union":return"Entrada inv\xE1lida";case"invalid_element":return`Valor inv\xE1lido em ${o.origin}`;default:return"Campo inv\xE1lido"}}},"error");function _O(){return{localeError:dae()}}a(_O,"default");function JU(e,t,r,n){let o=Math.abs(e),i=o%10,s=o%100;return s>=11&&s<=19?n:i===1?t:i>=2&&i<=4?r:n}a(JU,"getRussianPlural");var pae=a(()=>{let e={string:{unit:{one:"\u0441\u0438\u043C\u0432\u043E\u043B",few:"\u0441\u0438\u043C\u0432\u043E\u043B\u0430",many:"\u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"},file:{unit:{one:"\u0431\u0430\u0439\u0442",few:"\u0431\u0430\u0439\u0442\u0430",many:"\u0431\u0430\u0439\u0442"},verb:"\u0438\u043C\u0435\u0442\u044C"},array:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"},set:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"\u0447\u0438\u0441\u043B\u043E";case"object":{if(Array.isArray(o))return"\u043C\u0430\u0441\u0441\u0438\u0432";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\u0432\u0432\u043E\u0434",email:"email \u0430\u0434\u0440\u0435\u0441",url:"URL",emoji:"\u044D\u043C\u043E\u0434\u0437\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043C\u044F",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0432\u0440\u0435\u043C\u044F",duration:"ISO \u0434\u043B\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441",cidrv4:"IPv4 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",base64:"\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64",base64url:"\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64url",json_string:"JSON \u0441\u0442\u0440\u043E\u043A\u0430",e164:"\u043D\u043E\u043C\u0435\u0440 E.164",jwt:"JWT",template_literal:"\u0432\u0432\u043E\u0434"};return o=>{switch(o.code){case"invalid_type":return`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${o.expected}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u043E ${r(o.input)}`;case"invalid_value":return o.values.length===1?`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${le(o.values[0])}`:`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0430\u0440\u0438\u0430\u043D\u0442: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C \u043E\u0434\u043D\u043E \u0438\u0437 ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);if(s){let u=Number(o.maximum),l=JU(u,s.unit.one,s.unit.few,s.unit.many);return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${o.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${i}${o.maximum.toString()} ${l}`}return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${o.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"} \u0431\u0443\u0434\u0435\u0442 ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);if(s){let u=Number(o.minimum),l=JU(u,s.unit.one,s.unit.few,s.unit.many);return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${o.origin} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${i}${o.minimum.toString()} ${l}`}return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${o.origin} \u0431\u0443\u0434\u0435\u0442 ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u043D\u0430\u0447\u0438\u043D\u0430\u0442\u044C\u0441\u044F \u0441 "${i.prefix}"`:i.format==="ends_with"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0437\u0430\u043A\u0430\u043D\u0447\u0438\u0432\u0430\u0442\u044C\u0441\u044F \u043D\u0430 "${i.suffix}"`:i.format==="includes"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0442\u044C "${i.includes}"`:i.format==="regex"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u043E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u043E\u0432\u0430\u0442\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${i.pattern}`:`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 ${n[i.format]??o.format}`}case"not_multiple_of":return`\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0447\u0438\u0441\u043B\u043E: \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${o.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0441\u043F\u043E\u0437\u043D\u0430\u043D\u043D${o.keys.length>1?"\u044B\u0435":"\u044B\u0439"} \u043A\u043B\u044E\u0447${o.keys.length>1?"\u0438":""}: ${ee(o.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u043A\u043B\u044E\u0447 \u0432 ${o.origin}`;case"invalid_union":return"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435";case"invalid_element":return`\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0432 ${o.origin}`;default:return"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435"}}},"error");function bO(){return{localeError:pae()}}a(bO,"default");var mae=a(()=>{let e={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"\u0161tevilo";case"object":{if(Array.isArray(o))return"tabela";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"vnos",email:"e-po\u0161tni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in \u010Das",date:"ISO datum",time:"ISO \u010Das",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 \u0161tevilka",jwt:"JWT",template_literal:"vnos"};return o=>{switch(o.code){case"invalid_type":return`Neveljaven vnos: pri\u010Dakovano ${o.expected}, prejeto ${r(o.input)}`;case"invalid_value":return o.values.length===1?`Neveljaven vnos: pri\u010Dakovano ${le(o.values[0])}`:`Neveljavna mo\u017Enost: pri\u010Dakovano eno izmed ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`Preveliko: pri\u010Dakovano, da bo ${o.origin??"vrednost"} imelo ${i}${o.maximum.toString()} ${s.unit??"elementov"}`:`Preveliko: pri\u010Dakovano, da bo ${o.origin??"vrednost"} ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`Premajhno: pri\u010Dakovano, da bo ${o.origin} imelo ${i}${o.minimum.toString()} ${s.unit}`:`Premajhno: pri\u010Dakovano, da bo ${o.origin} ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Neveljaven niz: mora se za\u010Deti z "${i.prefix}"`:i.format==="ends_with"?`Neveljaven niz: mora se kon\u010Dati z "${i.suffix}"`:i.format==="includes"?`Neveljaven niz: mora vsebovati "${i.includes}"`:i.format==="regex"?`Neveljaven niz: mora ustrezati vzorcu ${i.pattern}`:`Neveljaven ${n[i.format]??o.format}`}case"not_multiple_of":return`Neveljavno \u0161tevilo: mora biti ve\u010Dkratnik ${o.divisor}`;case"unrecognized_keys":return`Neprepoznan${o.keys.length>1?"i klju\u010Di":" klju\u010D"}: ${ee(o.keys,", ")}`;case"invalid_key":return`Neveljaven klju\u010D v ${o.origin}`;case"invalid_union":return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${o.origin}`;default:return"Neveljaven vnos"}}},"error");function SO(){return{localeError:mae()}}a(SO,"default");var fae=a(()=>{let e={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att inneh\xE5lla"},set:{unit:"objekt",verb:"att inneh\xE5lla"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"antal";case"object":{if(Array.isArray(o))return"lista";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"regulj\xE4rt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad str\xE4ng",base64url:"base64url-kodad str\xE4ng",json_string:"JSON-str\xE4ng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"};return o=>{switch(o.code){case"invalid_type":return`Ogiltig inmatning: f\xF6rv\xE4ntat ${o.expected}, fick ${r(o.input)}`;case"invalid_value":return o.values.length===1?`Ogiltig inmatning: f\xF6rv\xE4ntat ${le(o.values[0])}`:`Ogiltigt val: f\xF6rv\xE4ntade en av ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`F\xF6r stor(t): f\xF6rv\xE4ntade ${o.origin??"v\xE4rdet"} att ha ${i}${o.maximum.toString()} ${s.unit??"element"}`:`F\xF6r stor(t): f\xF6rv\xE4ntat ${o.origin??"v\xE4rdet"} att ha ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`F\xF6r lite(t): f\xF6rv\xE4ntade ${o.origin??"v\xE4rdet"} att ha ${i}${o.minimum.toString()} ${s.unit}`:`F\xF6r lite(t): f\xF6rv\xE4ntade ${o.origin??"v\xE4rdet"} att ha ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Ogiltig str\xE4ng: m\xE5ste b\xF6rja med "${i.prefix}"`:i.format==="ends_with"?`Ogiltig str\xE4ng: m\xE5ste sluta med "${i.suffix}"`:i.format==="includes"?`Ogiltig str\xE4ng: m\xE5ste inneh\xE5lla "${i.includes}"`:i.format==="regex"?`Ogiltig str\xE4ng: m\xE5ste matcha m\xF6nstret "${i.pattern}"`:`Ogiltig(t) ${n[i.format]??o.format}`}case"not_multiple_of":return`Ogiltigt tal: m\xE5ste vara en multipel av ${o.divisor}`;case"unrecognized_keys":return`${o.keys.length>1?"Ok\xE4nda nycklar":"Ok\xE4nd nyckel"}: ${ee(o.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${o.origin??"v\xE4rdet"}`;case"invalid_union":return"Ogiltig input";case"invalid_element":return`Ogiltigt v\xE4rde i ${o.origin??"v\xE4rdet"}`;default:return"Ogiltig input"}}},"error");function wO(){return{localeError:fae()}}a(wO,"default");var hae=a(()=>{let e={string:{unit:"\u0B8E\u0BB4\u0BC1\u0BA4\u0BCD\u0BA4\u0BC1\u0B95\u0BCD\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},file:{unit:"\u0BAA\u0BC8\u0B9F\u0BCD\u0B9F\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},array:{unit:"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},set:{unit:"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"\u0B8E\u0BA3\u0BCD \u0B85\u0BB2\u0BCD\u0BB2\u0BBE\u0BA4\u0BA4\u0BC1":"\u0B8E\u0BA3\u0BCD";case"object":{if(Array.isArray(o))return"\u0B85\u0BA3\u0BBF";if(o===null)return"\u0BB5\u0BC6\u0BB1\u0BC1\u0BAE\u0BC8";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1",email:"\u0BAE\u0BBF\u0BA9\u0BCD\u0BA9\u0B9E\u0BCD\u0B9A\u0BB2\u0BCD \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0BA4\u0BC7\u0BA4\u0BBF \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",date:"ISO \u0BA4\u0BC7\u0BA4\u0BBF",time:"ISO \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",duration:"ISO \u0B95\u0BBE\u0BB2 \u0B85\u0BB3\u0BB5\u0BC1",ipv4:"IPv4 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",ipv6:"IPv6 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",cidrv4:"IPv4 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1",cidrv6:"IPv6 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1",base64:"base64-encoded \u0B9A\u0BB0\u0BAE\u0BCD",base64url:"base64url-encoded \u0B9A\u0BB0\u0BAE\u0BCD",json_string:"JSON \u0B9A\u0BB0\u0BAE\u0BCD",e164:"E.164 \u0B8E\u0BA3\u0BCD",jwt:"JWT",template_literal:"input"};return o=>{switch(o.code){case"invalid_type":return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${o.expected}, \u0BAA\u0BC6\u0BB1\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${r(o.input)}`;case"invalid_value":return o.values.length===1?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${le(o.values[0])}`:`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0BB0\u0BC1\u0BAA\u0BCD\u0BAA\u0BAE\u0BCD: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${ee(o.values,"|")} \u0B87\u0BB2\u0BCD \u0B92\u0BA9\u0BCD\u0BB1\u0BC1`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${o.origin??"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1"} ${i}${o.maximum.toString()} ${s.unit??"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD"} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${o.origin??"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1"} ${i}${o.maximum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${o.origin} ${i}${o.minimum.toString()} ${s.unit} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${o.origin} ${i}${o.minimum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${i.prefix}" \u0B87\u0BB2\u0BCD \u0BA4\u0BCA\u0B9F\u0B99\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:i.format==="ends_with"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${i.suffix}" \u0B87\u0BB2\u0BCD \u0BAE\u0BC1\u0B9F\u0BBF\u0BB5\u0B9F\u0BC8\u0BAF \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:i.format==="includes"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${i.includes}" \u0B90 \u0B89\u0BB3\u0BCD\u0BB3\u0B9F\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:i.format==="regex"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: ${i.pattern} \u0BAE\u0BC1\u0BB1\u0BC8\u0BAA\u0BBE\u0B9F\u0BCD\u0B9F\u0BC1\u0B9F\u0BA9\u0BCD \u0BAA\u0BCA\u0BB0\u0BC1\u0BA8\u0BCD\u0BA4 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 ${n[i.format]??o.format}`}case"not_multiple_of":return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B8E\u0BA3\u0BCD: ${o.divisor} \u0B87\u0BA9\u0BCD \u0BAA\u0BB2\u0BAE\u0BBE\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;case"unrecognized_keys":return`\u0B85\u0B9F\u0BC8\u0BAF\u0BBE\u0BB3\u0BAE\u0BCD \u0BA4\u0BC6\u0BB0\u0BBF\u0BAF\u0BBE\u0BA4 \u0BB5\u0BBF\u0B9A\u0BC8${o.keys.length>1?"\u0B95\u0BB3\u0BCD":""}: ${ee(o.keys,", ")}`;case"invalid_key":return`${o.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0B9A\u0BC8`;case"invalid_union":return"\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1";case"invalid_element":return`${o.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1`;default:return"\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1"}}},"error");function xO(){return{localeError:hae()}}a(xO,"default");var gae=a(()=>{let e={string:{unit:"\u0E15\u0E31\u0E27\u0E2D\u0E31\u0E01\u0E29\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},file:{unit:"\u0E44\u0E1A\u0E15\u0E4C",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},array:{unit:"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},set:{unit:"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"\u0E44\u0E21\u0E48\u0E43\u0E0A\u0E48\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02 (NaN)":"\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02";case"object":{if(Array.isArray(o))return"\u0E2D\u0E32\u0E23\u0E4C\u0E40\u0E23\u0E22\u0E4C (Array)";if(o===null)return"\u0E44\u0E21\u0E48\u0E21\u0E35\u0E04\u0E48\u0E32 (null)";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19",email:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48\u0E2D\u0E35\u0E40\u0E21\u0E25",url:"URL",emoji:"\u0E2D\u0E34\u0E42\u0E21\u0E08\u0E34",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",date:"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E41\u0E1A\u0E1A ISO",time:"\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",duration:"\u0E0A\u0E48\u0E27\u0E07\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",ipv4:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv4",ipv6:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv6",cidrv4:"\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv4",cidrv6:"\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv6",base64:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64",base64url:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64 \u0E2A\u0E33\u0E2B\u0E23\u0E31\u0E1A URL",json_string:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A JSON",e164:"\u0E40\u0E1A\u0E2D\u0E23\u0E4C\u0E42\u0E17\u0E23\u0E28\u0E31\u0E1E\u0E17\u0E4C\u0E23\u0E30\u0E2B\u0E27\u0E48\u0E32\u0E07\u0E1B\u0E23\u0E30\u0E40\u0E17\u0E28 (E.164)",jwt:"\u0E42\u0E17\u0E40\u0E04\u0E19 JWT",template_literal:"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19"};return o=>{switch(o.code){case"invalid_type":return`\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${o.expected} \u0E41\u0E15\u0E48\u0E44\u0E14\u0E49\u0E23\u0E31\u0E1A ${r(o.input)}`;case"invalid_value":return o.values.length===1?`\u0E04\u0E48\u0E32\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${le(o.values[0])}`:`\u0E15\u0E31\u0E27\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19\u0E2B\u0E19\u0E36\u0E48\u0E07\u0E43\u0E19 ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"\u0E44\u0E21\u0E48\u0E40\u0E01\u0E34\u0E19":"\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32",s=t(o.origin);return s?`\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${o.origin??"\u0E04\u0E48\u0E32"} \u0E04\u0E27\u0E23\u0E21\u0E35${i} ${o.maximum.toString()} ${s.unit??"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23"}`:`\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${o.origin??"\u0E04\u0E48\u0E32"} \u0E04\u0E27\u0E23\u0E21\u0E35${i} ${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?"\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E19\u0E49\u0E2D\u0E22":"\u0E21\u0E32\u0E01\u0E01\u0E27\u0E48\u0E32",s=t(o.origin);return s?`\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${o.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${i} ${o.minimum.toString()} ${s.unit}`:`\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${o.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${i} ${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E02\u0E36\u0E49\u0E19\u0E15\u0E49\u0E19\u0E14\u0E49\u0E27\u0E22 "${i.prefix}"`:i.format==="ends_with"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E25\u0E07\u0E17\u0E49\u0E32\u0E22\u0E14\u0E49\u0E27\u0E22 "${i.suffix}"`:i.format==="includes"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E21\u0E35 "${i.includes}" \u0E2D\u0E22\u0E39\u0E48\u0E43\u0E19\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21`:i.format==="regex"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14 ${i.pattern}`:`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: ${n[i.format]??o.format}`}case"not_multiple_of":return`\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E40\u0E1B\u0E47\u0E19\u0E08\u0E33\u0E19\u0E27\u0E19\u0E17\u0E35\u0E48\u0E2B\u0E32\u0E23\u0E14\u0E49\u0E27\u0E22 ${o.divisor} \u0E44\u0E14\u0E49\u0E25\u0E07\u0E15\u0E31\u0E27`;case"unrecognized_keys":return`\u0E1E\u0E1A\u0E04\u0E35\u0E22\u0E4C\u0E17\u0E35\u0E48\u0E44\u0E21\u0E48\u0E23\u0E39\u0E49\u0E08\u0E31\u0E01: ${ee(o.keys,", ")}`;case"invalid_key":return`\u0E04\u0E35\u0E22\u0E4C\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${o.origin}`;case"invalid_union":return"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E44\u0E21\u0E48\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E22\u0E39\u0E40\u0E19\u0E35\u0E22\u0E19\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14\u0E44\u0E27\u0E49";case"invalid_element":return`\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${o.origin}`;default:return"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07"}}},"error");function TO(){return{localeError:gae()}}a(TO,"default");var yae=a(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":{if(Array.isArray(e))return"array";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},"parsedType"),vae=a(()=>{let e={string:{unit:"karakter",verb:"olmal\u0131"},file:{unit:"bayt",verb:"olmal\u0131"},array:{unit:"\xF6\u011Fe",verb:"olmal\u0131"},set:{unit:"\xF6\u011Fe",verb:"olmal\u0131"}};function t(n){return e[n]??null}a(t,"getSizing");let r={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO s\xFCre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aral\u0131\u011F\u0131",cidrv6:"IPv6 aral\u0131\u011F\u0131",base64:"base64 ile \u015Fifrelenmi\u015F metin",base64url:"base64url ile \u015Fifrelenmi\u015F metin",json_string:"JSON dizesi",e164:"E.164 say\u0131s\u0131",jwt:"JWT",template_literal:"\u015Eablon dizesi"};return n=>{switch(n.code){case"invalid_type":return`Ge\xE7ersiz de\u011Fer: beklenen ${n.expected}, al\u0131nan ${yae(n.input)}`;case"invalid_value":return n.values.length===1?`Ge\xE7ersiz de\u011Fer: beklenen ${le(n.values[0])}`:`Ge\xE7ersiz se\xE7enek: a\u015Fa\u011F\u0131dakilerden biri olmal\u0131: ${ee(n.values,"|")}`;case"too_big":{let o=n.inclusive?"<=":"<",i=t(n.origin);return i?`\xC7ok b\xFCy\xFCk: beklenen ${n.origin??"de\u011Fer"} ${o}${n.maximum.toString()} ${i.unit??"\xF6\u011Fe"}`:`\xC7ok b\xFCy\xFCk: beklenen ${n.origin??"de\u011Fer"} ${o}${n.maximum.toString()}`}case"too_small":{let o=n.inclusive?">=":">",i=t(n.origin);return i?`\xC7ok k\xFC\xE7\xFCk: beklenen ${n.origin} ${o}${n.minimum.toString()} ${i.unit}`:`\xC7ok k\xFC\xE7\xFCk: beklenen ${n.origin} ${o}${n.minimum.toString()}`}case"invalid_format":{let o=n;return o.format==="starts_with"?`Ge\xE7ersiz metin: "${o.prefix}" ile ba\u015Flamal\u0131`:o.format==="ends_with"?`Ge\xE7ersiz metin: "${o.suffix}" ile bitmeli`:o.format==="includes"?`Ge\xE7ersiz metin: "${o.includes}" i\xE7ermeli`:o.format==="regex"?`Ge\xE7ersiz metin: ${o.pattern} desenine uymal\u0131`:`Ge\xE7ersiz ${r[o.format]??n.format}`}case"not_multiple_of":return`Ge\xE7ersiz say\u0131: ${n.divisor} ile tam b\xF6l\xFCnebilmeli`;case"unrecognized_keys":return`Tan\u0131nmayan anahtar${n.keys.length>1?"lar":""}: ${ee(n.keys,", ")}`;case"invalid_key":return`${n.origin} i\xE7inde ge\xE7ersiz anahtar`;case"invalid_union":return"Ge\xE7ersiz de\u011Fer";case"invalid_element":return`${n.origin} i\xE7inde ge\xE7ersiz de\u011Fer`;default:return"Ge\xE7ersiz de\u011Fer"}}},"error");function EO(){return{localeError:vae()}}a(EO,"default");var _ae=a(()=>{let e={string:{unit:"\u0441\u0438\u043C\u0432\u043E\u043B\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},file:{unit:"\u0431\u0430\u0439\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},array:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},set:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"\u0447\u0438\u0441\u043B\u043E";case"object":{if(Array.isArray(o))return"\u043C\u0430\u0441\u0438\u0432";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456",email:"\u0430\u0434\u0440\u0435\u0441\u0430 \u0435\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0457 \u043F\u043E\u0448\u0442\u0438",url:"URL",emoji:"\u0435\u043C\u043E\u0434\u0437\u0456",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0434\u0430\u0442\u0430 \u0442\u0430 \u0447\u0430\u0441 ISO",date:"\u0434\u0430\u0442\u0430 ISO",time:"\u0447\u0430\u0441 ISO",duration:"\u0442\u0440\u0438\u0432\u0430\u043B\u0456\u0441\u0442\u044C ISO",ipv4:"\u0430\u0434\u0440\u0435\u0441\u0430 IPv4",ipv6:"\u0430\u0434\u0440\u0435\u0441\u0430 IPv6",cidrv4:"\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv4",cidrv6:"\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv6",base64:"\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64",base64url:"\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64url",json_string:"\u0440\u044F\u0434\u043E\u043A JSON",e164:"\u043D\u043E\u043C\u0435\u0440 E.164",jwt:"JWT",template_literal:"\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456"};return o=>{switch(o.code){case"invalid_type":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${o.expected}, \u043E\u0442\u0440\u0438\u043C\u0430\u043D\u043E ${r(o.input)}`;case"invalid_value":return o.values.length===1?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${le(o.values[0])}`:`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0430 \u043E\u043F\u0446\u0456\u044F: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F \u043E\u0434\u043D\u0435 \u0437 ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${o.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F"} ${s.verb} ${i}${o.maximum.toString()} ${s.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432"}`:`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${o.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F"} \u0431\u0443\u0434\u0435 ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${o.origin} ${s.verb} ${i}${o.minimum.toString()} ${s.unit}`:`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${o.origin} \u0431\u0443\u0434\u0435 ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043F\u043E\u0447\u0438\u043D\u0430\u0442\u0438\u0441\u044F \u0437 "${i.prefix}"`:i.format==="ends_with"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0437\u0430\u043A\u0456\u043D\u0447\u0443\u0432\u0430\u0442\u0438\u0441\u044F \u043D\u0430 "${i.suffix}"`:i.format==="includes"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043C\u0456\u0441\u0442\u0438\u0442\u0438 "${i.includes}"`:i.format==="regex"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0432\u0456\u0434\u043F\u043E\u0432\u0456\u0434\u0430\u0442\u0438 \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${i.pattern}`:`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 ${n[i.format]??o.format}`}case"not_multiple_of":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0447\u0438\u0441\u043B\u043E: \u043F\u043E\u0432\u0438\u043D\u043D\u043E \u0431\u0443\u0442\u0438 \u043A\u0440\u0430\u0442\u043D\u0438\u043C ${o.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u043E\u0437\u043F\u0456\u0437\u043D\u0430\u043D\u0438\u0439 \u043A\u043B\u044E\u0447${o.keys.length>1?"\u0456":""}: ${ee(o.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u043A\u043B\u044E\u0447 \u0443 ${o.origin}`;case"invalid_union":return"\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456";case"invalid_element":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F \u0443 ${o.origin}`;default:return"\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456"}}},"error");function $d(){return{localeError:_ae()}}a($d,"default");function kO(){return $d()}a(kO,"default");var bae=a(()=>{let e={string:{unit:"\u062D\u0631\u0648\u0641",verb:"\u06C1\u0648\u0646\u0627"},file:{unit:"\u0628\u0627\u0626\u0679\u0633",verb:"\u06C1\u0648\u0646\u0627"},array:{unit:"\u0622\u0626\u0679\u0645\u0632",verb:"\u06C1\u0648\u0646\u0627"},set:{unit:"\u0622\u0626\u0679\u0645\u0632",verb:"\u06C1\u0648\u0646\u0627"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"\u0646\u0645\u0628\u0631";case"object":{if(Array.isArray(o))return"\u0622\u0631\u06D2";if(o===null)return"\u0646\u0644";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\u0627\u0646 \u067E\u0679",email:"\u0627\u06CC \u0645\u06CC\u0644 \u0627\u06CC\u0688\u0631\u06CC\u0633",url:"\u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644",emoji:"\u0627\u06CC\u0645\u0648\u062C\u06CC",uuid:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",uuidv4:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 4",uuidv6:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 6",nanoid:"\u0646\u06CC\u0646\u0648 \u0622\u0626\u06CC \u0688\u06CC",guid:"\u062C\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",cuid:"\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",cuid2:"\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC 2",ulid:"\u06CC\u0648 \u0627\u06CC\u0644 \u0622\u0626\u06CC \u0688\u06CC",xid:"\u0627\u06CC\u06A9\u0633 \u0622\u0626\u06CC \u0688\u06CC",ksuid:"\u06A9\u06D2 \u0627\u06CC\u0633 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",datetime:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0688\u06CC\u0679 \u0679\u0627\u0626\u0645",date:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u062A\u0627\u0631\u06CC\u062E",time:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0648\u0642\u062A",duration:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0645\u062F\u062A",ipv4:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0627\u06CC\u0688\u0631\u06CC\u0633",ipv6:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0627\u06CC\u0688\u0631\u06CC\u0633",cidrv4:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0631\u06CC\u0646\u062C",cidrv6:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0631\u06CC\u0646\u062C",base64:"\u0628\u06CC\u0633 64 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF",base64url:"\u0628\u06CC\u0633 64 \u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF",json_string:"\u062C\u06D2 \u0627\u06CC\u0633 \u0627\u0648 \u0627\u06CC\u0646 \u0633\u0679\u0631\u0646\u06AF",e164:"\u0627\u06CC 164 \u0646\u0645\u0628\u0631",jwt:"\u062C\u06D2 \u0688\u0628\u0644\u06CC\u0648 \u0679\u06CC",template_literal:"\u0627\u0646 \u067E\u0679"};return o=>{switch(o.code){case"invalid_type":return`\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${o.expected} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627\u060C ${r(o.input)} \u0645\u0648\u0635\u0648\u0644 \u06C1\u0648\u0627`;case"invalid_value":return o.values.length===1?`\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${le(o.values[0])} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`:`\u063A\u0644\u0637 \u0622\u067E\u0634\u0646: ${ee(o.values,"|")} \u0645\u06CC\u06BA \u0633\u06D2 \u0627\u06CC\u06A9 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`\u0628\u06C1\u062A \u0628\u0691\u0627: ${o.origin??"\u0648\u06CC\u0644\u06CC\u0648"} \u06A9\u06D2 ${i}${o.maximum.toString()} ${s.unit??"\u0639\u0646\u0627\u0635\u0631"} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`:`\u0628\u06C1\u062A \u0628\u0691\u0627: ${o.origin??"\u0648\u06CC\u0644\u06CC\u0648"} \u06A9\u0627 ${i}${o.maximum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${o.origin} \u06A9\u06D2 ${i}${o.minimum.toString()} ${s.unit} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`:`\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${o.origin} \u06A9\u0627 ${i}${o.minimum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${i.prefix}" \u0633\u06D2 \u0634\u0631\u0648\u0639 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:i.format==="ends_with"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${i.suffix}" \u067E\u0631 \u062E\u062A\u0645 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:i.format==="includes"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${i.includes}" \u0634\u0627\u0645\u0644 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:i.format==="regex"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: \u067E\u06CC\u0679\u0631\u0646 ${i.pattern} \u0633\u06D2 \u0645\u06CC\u0686 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:`\u063A\u0644\u0637 ${n[i.format]??o.format}`}case"not_multiple_of":return`\u063A\u0644\u0637 \u0646\u0645\u0628\u0631: ${o.divisor} \u06A9\u0627 \u0645\u0636\u0627\u0639\u0641 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;case"unrecognized_keys":return`\u063A\u06CC\u0631 \u062A\u0633\u0644\u06CC\u0645 \u0634\u062F\u06C1 \u06A9\u06CC${o.keys.length>1?"\u0632":""}: ${ee(o.keys,"\u060C ")}`;case"invalid_key":return`${o.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u06A9\u06CC`;case"invalid_union":return"\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679";case"invalid_element":return`${o.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u0648\u06CC\u0644\u06CC\u0648`;default:return"\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679"}}},"error");function PO(){return{localeError:bae()}}a(PO,"default");var Sae=a(()=>{let e={string:{unit:"k\xFD t\u1EF1",verb:"c\xF3"},file:{unit:"byte",verb:"c\xF3"},array:{unit:"ph\u1EA7n t\u1EED",verb:"c\xF3"},set:{unit:"ph\u1EA7n t\u1EED",verb:"c\xF3"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"s\u1ED1";case"object":{if(Array.isArray(o))return"m\u1EA3ng";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\u0111\u1EA7u v\xE0o",email:"\u0111\u1ECBa ch\u1EC9 email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ng\xE0y gi\u1EDD ISO",date:"ng\xE0y ISO",time:"gi\u1EDD ISO",duration:"kho\u1EA3ng th\u1EDDi gian ISO",ipv4:"\u0111\u1ECBa ch\u1EC9 IPv4",ipv6:"\u0111\u1ECBa ch\u1EC9 IPv6",cidrv4:"d\u1EA3i IPv4",cidrv6:"d\u1EA3i IPv6",base64:"chu\u1ED7i m\xE3 h\xF3a base64",base64url:"chu\u1ED7i m\xE3 h\xF3a base64url",json_string:"chu\u1ED7i JSON",e164:"s\u1ED1 E.164",jwt:"JWT",template_literal:"\u0111\u1EA7u v\xE0o"};return o=>{switch(o.code){case"invalid_type":return`\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${o.expected}, nh\u1EADn \u0111\u01B0\u1EE3c ${r(o.input)}`;case"invalid_value":return o.values.length===1?`\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${le(o.values[0])}`:`T\xF9y ch\u1ECDn kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i m\u1ED9t trong c\xE1c gi\xE1 tr\u1ECB ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`Qu\xE1 l\u1EDBn: mong \u0111\u1EE3i ${o.origin??"gi\xE1 tr\u1ECB"} ${s.verb} ${i}${o.maximum.toString()} ${s.unit??"ph\u1EA7n t\u1EED"}`:`Qu\xE1 l\u1EDBn: mong \u0111\u1EE3i ${o.origin??"gi\xE1 tr\u1ECB"} ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`Qu\xE1 nh\u1ECF: mong \u0111\u1EE3i ${o.origin} ${s.verb} ${i}${o.minimum.toString()} ${s.unit}`:`Qu\xE1 nh\u1ECF: mong \u0111\u1EE3i ${o.origin} ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i b\u1EAFt \u0111\u1EA7u b\u1EB1ng "${i.prefix}"`:i.format==="ends_with"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i k\u1EBFt th\xFAc b\u1EB1ng "${i.suffix}"`:i.format==="includes"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i bao g\u1ED3m "${i.includes}"`:i.format==="regex"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i kh\u1EDBp v\u1EDBi m\u1EABu ${i.pattern}`:`${n[i.format]??o.format} kh\xF4ng h\u1EE3p l\u1EC7`}case"not_multiple_of":return`S\u1ED1 kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i l\xE0 b\u1ED9i s\u1ED1 c\u1EE7a ${o.divisor}`;case"unrecognized_keys":return`Kh\xF3a kh\xF4ng \u0111\u01B0\u1EE3c nh\u1EADn d\u1EA1ng: ${ee(o.keys,", ")}`;case"invalid_key":return`Kh\xF3a kh\xF4ng h\u1EE3p l\u1EC7 trong ${o.origin}`;case"invalid_union":return"\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7";case"invalid_element":return`Gi\xE1 tr\u1ECB kh\xF4ng h\u1EE3p l\u1EC7 trong ${o.origin}`;default:return"\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7"}}},"error");function IO(){return{localeError:Sae()}}a(IO,"default");var wae=a(()=>{let e={string:{unit:"\u5B57\u7B26",verb:"\u5305\u542B"},file:{unit:"\u5B57\u8282",verb:"\u5305\u542B"},array:{unit:"\u9879",verb:"\u5305\u542B"},set:{unit:"\u9879",verb:"\u5305\u542B"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"\u975E\u6570\u5B57(NaN)":"\u6570\u5B57";case"object":{if(Array.isArray(o))return"\u6570\u7EC4";if(o===null)return"\u7A7A\u503C(null)";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\u8F93\u5165",email:"\u7535\u5B50\u90AE\u4EF6",url:"URL",emoji:"\u8868\u60C5\u7B26\u53F7",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO\u65E5\u671F\u65F6\u95F4",date:"ISO\u65E5\u671F",time:"ISO\u65F6\u95F4",duration:"ISO\u65F6\u957F",ipv4:"IPv4\u5730\u5740",ipv6:"IPv6\u5730\u5740",cidrv4:"IPv4\u7F51\u6BB5",cidrv6:"IPv6\u7F51\u6BB5",base64:"base64\u7F16\u7801\u5B57\u7B26\u4E32",base64url:"base64url\u7F16\u7801\u5B57\u7B26\u4E32",json_string:"JSON\u5B57\u7B26\u4E32",e164:"E.164\u53F7\u7801",jwt:"JWT",template_literal:"\u8F93\u5165"};return o=>{switch(o.code){case"invalid_type":return`\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${o.expected}\uFF0C\u5B9E\u9645\u63A5\u6536 ${r(o.input)}`;case"invalid_value":return o.values.length===1?`\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${le(o.values[0])}`:`\u65E0\u6548\u9009\u9879\uFF1A\u671F\u671B\u4EE5\u4E0B\u4E4B\u4E00 ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${o.origin??"\u503C"} ${i}${o.maximum.toString()} ${s.unit??"\u4E2A\u5143\u7D20"}`:`\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${o.origin??"\u503C"} ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${o.origin} ${i}${o.minimum.toString()} ${s.unit}`:`\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${o.origin} ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 "${i.prefix}" \u5F00\u5934`:i.format==="ends_with"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 "${i.suffix}" \u7ED3\u5C3E`:i.format==="includes"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u5305\u542B "${i.includes}"`:i.format==="regex"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u6EE1\u8DB3\u6B63\u5219\u8868\u8FBE\u5F0F ${i.pattern}`:`\u65E0\u6548${n[i.format]??o.format}`}case"not_multiple_of":return`\u65E0\u6548\u6570\u5B57\uFF1A\u5FC5\u987B\u662F ${o.divisor} \u7684\u500D\u6570`;case"unrecognized_keys":return`\u51FA\u73B0\u672A\u77E5\u7684\u952E(key): ${ee(o.keys,", ")}`;case"invalid_key":return`${o.origin} \u4E2D\u7684\u952E(key)\u65E0\u6548`;case"invalid_union":return"\u65E0\u6548\u8F93\u5165";case"invalid_element":return`${o.origin} \u4E2D\u5305\u542B\u65E0\u6548\u503C(value)`;default:return"\u65E0\u6548\u8F93\u5165"}}},"error");function OO(){return{localeError:wae()}}a(OO,"default");var xae=a(()=>{let e={string:{unit:"\u5B57\u5143",verb:"\u64C1\u6709"},file:{unit:"\u4F4D\u5143\u7D44",verb:"\u64C1\u6709"},array:{unit:"\u9805\u76EE",verb:"\u64C1\u6709"},set:{unit:"\u9805\u76EE",verb:"\u64C1\u6709"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"number";case"object":{if(Array.isArray(o))return"array";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\u8F38\u5165",email:"\u90F5\u4EF6\u5730\u5740",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u65E5\u671F\u6642\u9593",date:"ISO \u65E5\u671F",time:"ISO \u6642\u9593",duration:"ISO \u671F\u9593",ipv4:"IPv4 \u4F4D\u5740",ipv6:"IPv6 \u4F4D\u5740",cidrv4:"IPv4 \u7BC4\u570D",cidrv6:"IPv6 \u7BC4\u570D",base64:"base64 \u7DE8\u78BC\u5B57\u4E32",base64url:"base64url \u7DE8\u78BC\u5B57\u4E32",json_string:"JSON \u5B57\u4E32",e164:"E.164 \u6578\u503C",jwt:"JWT",template_literal:"\u8F38\u5165"};return o=>{switch(o.code){case"invalid_type":return`\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${o.expected}\uFF0C\u4F46\u6536\u5230 ${r(o.input)}`;case"invalid_value":return o.values.length===1?`\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${le(o.values[0])}`:`\u7121\u6548\u7684\u9078\u9805\uFF1A\u9810\u671F\u70BA\u4EE5\u4E0B\u5176\u4E2D\u4E4B\u4E00 ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${o.origin??"\u503C"} \u61C9\u70BA ${i}${o.maximum.toString()} ${s.unit??"\u500B\u5143\u7D20"}`:`\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${o.origin??"\u503C"} \u61C9\u70BA ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${o.origin} \u61C9\u70BA ${i}${o.minimum.toString()} ${s.unit}`:`\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${o.origin} \u61C9\u70BA ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 "${i.prefix}" \u958B\u982D`:i.format==="ends_with"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 "${i.suffix}" \u7D50\u5C3E`:i.format==="includes"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u5305\u542B "${i.includes}"`:i.format==="regex"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u7B26\u5408\u683C\u5F0F ${i.pattern}`:`\u7121\u6548\u7684 ${n[i.format]??o.format}`}case"not_multiple_of":return`\u7121\u6548\u7684\u6578\u5B57\uFF1A\u5FC5\u9808\u70BA ${o.divisor} \u7684\u500D\u6578`;case"unrecognized_keys":return`\u7121\u6CD5\u8B58\u5225\u7684\u9375\u503C${o.keys.length>1?"\u5011":""}\uFF1A${ee(o.keys,"\u3001")}`;case"invalid_key":return`${o.origin} \u4E2D\u6709\u7121\u6548\u7684\u9375\u503C`;case"invalid_union":return"\u7121\u6548\u7684\u8F38\u5165\u503C";case"invalid_element":return`${o.origin} \u4E2D\u6709\u7121\u6548\u7684\u503C`;default:return"\u7121\u6548\u7684\u8F38\u5165\u503C"}}},"error");function AO(){return{localeError:xae()}}a(AO,"default");var Tae=a(()=>{let e={string:{unit:"\xE0mi",verb:"n\xED"},file:{unit:"bytes",verb:"n\xED"},array:{unit:"nkan",verb:"n\xED"},set:{unit:"nkan",verb:"n\xED"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"n\u1ECD\u0301mb\xE0";case"object":{if(Array.isArray(o))return"akop\u1ECD";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\u1EB9\u0300r\u1ECD \xECb\xE1w\u1ECDl\xE9",email:"\xE0d\xEDr\u1EB9\u0301s\xEC \xECm\u1EB9\u0301l\xEC",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\xE0k\xF3k\xF2 ISO",date:"\u1ECDj\u1ECD\u0301 ISO",time:"\xE0k\xF3k\xF2 ISO",duration:"\xE0k\xF3k\xF2 t\xF3 p\xE9 ISO",ipv4:"\xE0d\xEDr\u1EB9\u0301s\xEC IPv4",ipv6:"\xE0d\xEDr\u1EB9\u0301s\xEC IPv6",cidrv4:"\xE0gb\xE8gb\xE8 IPv4",cidrv6:"\xE0gb\xE8gb\xE8 IPv6",base64:"\u1ECD\u0300r\u1ECD\u0300 t\xED a k\u1ECD\u0301 n\xED base64",base64url:"\u1ECD\u0300r\u1ECD\u0300 base64url",json_string:"\u1ECD\u0300r\u1ECD\u0300 JSON",e164:"n\u1ECD\u0301mb\xE0 E.164",jwt:"JWT",template_literal:"\u1EB9\u0300r\u1ECD \xECb\xE1w\u1ECDl\xE9"};return o=>{switch(o.code){case"invalid_type":return`\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e: a n\xED l\xE1ti fi ${o.expected}, \xE0m\u1ECD\u0300 a r\xED ${r(o.input)}`;case"invalid_value":return o.values.length===1?`\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e: a n\xED l\xE1ti fi ${le(o.values[0])}`:`\xC0\u1E63\xE0y\xE0n a\u1E63\xEC\u1E63e: yan \u1ECD\u0300kan l\xE1ra ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`T\xF3 p\u1ECD\u0300 j\xF9: a n\xED l\xE1ti j\u1EB9\u0301 p\xE9 ${o.origin??"iye"} ${s.verb} ${i}${o.maximum} ${s.unit}`:`T\xF3 p\u1ECD\u0300 j\xF9: a n\xED l\xE1ti j\u1EB9\u0301 ${i}${o.maximum}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`K\xE9r\xE9 ju: a n\xED l\xE1ti j\u1EB9\u0301 p\xE9 ${o.origin} ${s.verb} ${i}${o.minimum} ${s.unit}`:`K\xE9r\xE9 ju: a n\xED l\xE1ti j\u1EB9\u0301 ${i}${o.minimum}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 b\u1EB9\u0300r\u1EB9\u0300 p\u1EB9\u0300l\xFA "${i.prefix}"`:i.format==="ends_with"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 par\xED p\u1EB9\u0300l\xFA "${i.suffix}"`:i.format==="includes"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 n\xED "${i.includes}"`:i.format==="regex"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 b\xE1 \xE0p\u1EB9\u1EB9r\u1EB9 mu ${i.pattern}`:`A\u1E63\xEC\u1E63e: ${n[i.format]??o.format}`}case"not_multiple_of":return`N\u1ECD\u0301mb\xE0 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 j\u1EB9\u0301 \xE8y\xE0 p\xEDp\xEDn ti ${o.divisor}`;case"unrecognized_keys":return`B\u1ECDt\xECn\xEC \xE0\xECm\u1ECD\u0300: ${ee(o.keys,", ")}`;case"invalid_key":return`B\u1ECDt\xECn\xEC a\u1E63\xEC\u1E63e n\xEDn\xFA ${o.origin}`;case"invalid_union":return"\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e";case"invalid_element":return`Iye a\u1E63\xEC\u1E63e n\xEDn\xFA ${o.origin}`;default:return"\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e"}}},"error");function CO(){return{localeError:Tae()}}a(CO,"default");var HU,RO=Symbol("ZodOutput"),$O=Symbol("ZodInput"),Yu=class{static{a(this,"$ZodRegistry")}constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...r){let n=r[0];if(this._map.set(t,n),n&&typeof n=="object"&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){let r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){let r=t._zod.parent;if(r){let n={...this.get(r)??{}};delete n.id;let o={...n,...this._map.get(t)};return Object.keys(o).length?o:void 0}return this._map.get(t)}has(t){return this._map.has(t)}};function Zh(){return new Yu}a(Zh,"registry");(HU=globalThis).__zod_globalRegistry??(HU.__zod_globalRegistry=Zh());var on=globalThis.__zod_globalRegistry;function NO(e,t){return new e({type:"string",...de(t)})}a(NO,"_string");function zO(e,t){return new e({type:"string",coerce:!0,...de(t)})}a(zO,"_coercedString");function Kh(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...de(t)})}a(Kh,"_email");function zd(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...de(t)})}a(zd,"_guid");function Gh(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...de(t)})}a(Gh,"_uuid");function Wh(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...de(t)})}a(Wh,"_uuidv4");function Qh(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...de(t)})}a(Qh,"_uuidv6");function Xh(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...de(t)})}a(Xh,"_uuidv7");function jd(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...de(t)})}a(jd,"_url");function Yh(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...de(t)})}a(Yh,"_emoji");function eg(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...de(t)})}a(eg,"_nanoid");function tg(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...de(t)})}a(tg,"_cuid");function rg(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...de(t)})}a(rg,"_cuid2");function ng(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...de(t)})}a(ng,"_ulid");function og(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...de(t)})}a(og,"_xid");function ig(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...de(t)})}a(ig,"_ksuid");function ag(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...de(t)})}a(ag,"_ipv4");function sg(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...de(t)})}a(sg,"_ipv6");function jO(e,t){return new e({type:"string",format:"mac",check:"string_format",abort:!1,...de(t)})}a(jO,"_mac");function ug(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...de(t)})}a(ug,"_cidrv4");function cg(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...de(t)})}a(cg,"_cidrv6");function lg(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...de(t)})}a(lg,"_base64");function dg(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...de(t)})}a(dg,"_base64url");function pg(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...de(t)})}a(pg,"_e164");function mg(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...de(t)})}a(mg,"_jwt");var DO={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function MO(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...de(t)})}a(MO,"_isoDateTime");function qO(e,t){return new e({type:"string",format:"date",check:"string_format",...de(t)})}a(qO,"_isoDate");function UO(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...de(t)})}a(UO,"_isoTime");function LO(e,t){return new e({type:"string",format:"duration",check:"string_format",...de(t)})}a(LO,"_isoDuration");function FO(e,t){return new e({type:"number",checks:[],...de(t)})}a(FO,"_number");function BO(e,t){return new e({type:"number",coerce:!0,checks:[],...de(t)})}a(BO,"_coercedNumber");function JO(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...de(t)})}a(JO,"_int");function HO(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float32",...de(t)})}a(HO,"_float32");function VO(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float64",...de(t)})}a(VO,"_float64");function ZO(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"int32",...de(t)})}a(ZO,"_int32");function KO(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"uint32",...de(t)})}a(KO,"_uint32");function GO(e,t){return new e({type:"boolean",...de(t)})}a(GO,"_boolean");function WO(e,t){return new e({type:"boolean",coerce:!0,...de(t)})}a(WO,"_coercedBoolean");function QO(e,t){return new e({type:"bigint",...de(t)})}a(QO,"_bigint");function XO(e,t){return new e({type:"bigint",coerce:!0,...de(t)})}a(XO,"_coercedBigint");function YO(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...de(t)})}a(YO,"_int64");function eA(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...de(t)})}a(eA,"_uint64");function tA(e,t){return new e({type:"symbol",...de(t)})}a(tA,"_symbol");function rA(e,t){return new e({type:"undefined",...de(t)})}a(rA,"_undefined");function nA(e,t){return new e({type:"null",...de(t)})}a(nA,"_null");function oA(e){return new e({type:"any"})}a(oA,"_any");function iA(e){return new e({type:"unknown"})}a(iA,"_unknown");function aA(e,t){return new e({type:"never",...de(t)})}a(aA,"_never");function sA(e,t){return new e({type:"void",...de(t)})}a(sA,"_void");function uA(e,t){return new e({type:"date",...de(t)})}a(uA,"_date");function cA(e,t){return new e({type:"date",coerce:!0,...de(t)})}a(cA,"_coercedDate");function lA(e,t){return new e({type:"nan",...de(t)})}a(lA,"_nan");function Oi(e,t){return new jh({check:"less_than",...de(t),value:e,inclusive:!1})}a(Oi,"_lt");function Xn(e,t){return new jh({check:"less_than",...de(t),value:e,inclusive:!0})}a(Xn,"_lte");function Ai(e,t){return new Dh({check:"greater_than",...de(t),value:e,inclusive:!1})}a(Ai,"_gt");function kn(e,t){return new Dh({check:"greater_than",...de(t),value:e,inclusive:!0})}a(kn,"_gte");function dA(e){return Ai(0,e)}a(dA,"_positive");function pA(e){return Oi(0,e)}a(pA,"_negative");function mA(e){return Xn(0,e)}a(mA,"_nonpositive");function fA(e){return kn(0,e)}a(fA,"_nonnegative");function Ss(e,t){return new fP({check:"multiple_of",...de(t),value:e})}a(Ss,"_multipleOf");function ec(e,t){return new yP({check:"max_size",...de(t),maximum:e})}a(ec,"_maxSize");function ws(e,t){return new vP({check:"min_size",...de(t),minimum:e})}a(ws,"_minSize");function Dd(e,t){return new _P({check:"size_equals",...de(t),size:e})}a(Dd,"_size");function tc(e,t){return new bP({check:"max_length",...de(t),maximum:e})}a(tc,"_maxLength");function Pa(e,t){return new SP({check:"min_length",...de(t),minimum:e})}a(Pa,"_minLength");function rc(e,t){return new wP({check:"length_equals",...de(t),length:e})}a(rc,"_length");function Md(e,t){return new xP({check:"string_format",format:"regex",...de(t),pattern:e})}a(Md,"_regex");function qd(e){return new TP({check:"string_format",format:"lowercase",...de(e)})}a(qd,"_lowercase");function Ud(e){return new EP({check:"string_format",format:"uppercase",...de(e)})}a(Ud,"_uppercase");function Ld(e,t){return new kP({check:"string_format",format:"includes",...de(t),includes:e})}a(Ld,"_includes");function Fd(e,t){return new PP({check:"string_format",format:"starts_with",...de(t),prefix:e})}a(Fd,"_startsWith");function Bd(e,t){return new IP({check:"string_format",format:"ends_with",...de(t),suffix:e})}a(Bd,"_endsWith");function hA(e,t,r){return new OP({check:"property",property:e,schema:t,...de(r)})}a(hA,"_property");function Jd(e,t){return new AP({check:"mime_type",mime:e,...de(t)})}a(Jd,"_mime");function Wo(e){return new CP({check:"overwrite",tx:e})}a(Wo,"_overwrite");function Hd(e){return Wo(t=>t.normalize(e))}a(Hd,"_normalize");function Vd(){return Wo(e=>e.trim())}a(Vd,"_trim");function Zd(){return Wo(e=>e.toLowerCase())}a(Zd,"_toLowerCase");function Kd(){return Wo(e=>e.toUpperCase())}a(Kd,"_toUpperCase");function Gd(){return Wo(e=>Ik(e))}a(Gd,"_slugify");function gA(e,t,r){return new e({type:"array",element:t,...de(r)})}a(gA,"_array");function kae(e,t,r){return new e({type:"union",options:t,...de(r)})}a(kae,"_union");function Pae(e,t,r,n){return new e({type:"union",options:r,discriminator:t,...de(n)})}a(Pae,"_discriminatedUnion");function Iae(e,t,r){return new e({type:"intersection",left:t,right:r})}a(Iae,"_intersection");function Oae(e,t,r,n){let o=r instanceof Ze,i=o?n:r,s=o?r:null;return new e({type:"tuple",items:t,rest:s,...de(i)})}a(Oae,"_tuple");function Aae(e,t,r,n){return new e({type:"record",keyType:t,valueType:r,...de(n)})}a(Aae,"_record");function Cae(e,t,r,n){return new e({type:"map",keyType:t,valueType:r,...de(n)})}a(Cae,"_map");function Rae(e,t,r){return new e({type:"set",valueType:t,...de(r)})}a(Rae,"_set");function $ae(e,t,r){let n=Array.isArray(t)?Object.fromEntries(t.map(o=>[o,o])):t;return new e({type:"enum",entries:n,...de(r)})}a($ae,"_enum");function Nae(e,t,r){return new e({type:"enum",entries:t,...de(r)})}a(Nae,"_nativeEnum");function zae(e,t,r){return new e({type:"literal",values:Array.isArray(t)?t:[t],...de(r)})}a(zae,"_literal");function yA(e,t){return new e({type:"file",...de(t)})}a(yA,"_file");function jae(e,t){return new e({type:"transform",transform:t})}a(jae,"_transform");function Dae(e,t){return new e({type:"optional",innerType:t})}a(Dae,"_optional");function Mae(e,t){return new e({type:"nullable",innerType:t})}a(Mae,"_nullable");function qae(e,t,r){return new e({type:"default",innerType:t,get defaultValue(){return typeof r=="function"?r():Ak(r)}})}a(qae,"_default");function Uae(e,t,r){return new e({type:"nonoptional",innerType:t,...de(r)})}a(Uae,"_nonoptional");function Lae(e,t){return new e({type:"success",innerType:t})}a(Lae,"_success");function Fae(e,t,r){return new e({type:"catch",innerType:t,catchValue:typeof r=="function"?r:()=>r})}a(Fae,"_catch");function Bae(e,t,r){return new e({type:"pipe",in:t,out:r})}a(Bae,"_pipe");function Jae(e,t){return new e({type:"readonly",innerType:t})}a(Jae,"_readonly");function Hae(e,t,r){return new e({type:"template_literal",parts:t,...de(r)})}a(Hae,"_templateLiteral");function Vae(e,t){return new e({type:"lazy",getter:t})}a(Vae,"_lazy");function Zae(e,t){return new e({type:"promise",innerType:t})}a(Zae,"_promise");function vA(e,t,r){let n=de(r);return n.abort??(n.abort=!0),new e({type:"custom",check:"custom",fn:t,...n})}a(vA,"_custom");function _A(e,t,r){return new e({type:"custom",check:"custom",fn:t,...de(r)})}a(_A,"_refine");function bA(e){let t=VU(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(Zu(n,r.value,t._zod.def));else{let o=n;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=r.value),o.inst??(o.inst=t),o.continue??(o.continue=!t._zod.def.abort),r.issues.push(Zu(o))}},e(r.value,r)));return t}a(bA,"_superRefine");function VU(e,t){let r=new Ut({check:"custom",...de(t)});return r._zod.check=e,r}a(VU,"_check");function SA(e){let t=new Ut({check:"describe"});return t._zod.onattach=[r=>{let n=on.get(r)??{};on.add(r,{...n,description:e})}],t._zod.check=()=>{},t}a(SA,"describe");function wA(e){let t=new Ut({check:"meta"});return t._zod.onattach=[r=>{let n=on.get(r)??{};on.add(r,{...n,...e})}],t._zod.check=()=>{},t}a(wA,"meta");function xA(e,t){let r=de(t),n=r.truthy??["true","1","yes","on","y","enabled"],o=r.falsy??["false","0","no","off","n","disabled"];r.case!=="sensitive"&&(n=n.map(y=>typeof y=="string"?y.toLowerCase():y),o=o.map(y=>typeof y=="string"?y.toLowerCase():y));let i=new Set(n),s=new Set(o),u=e.Codec??Id,l=e.Boolean??Pd,d=e.String??bs,p=new d({type:"string",error:r.error}),f=new l({type:"boolean",error:r.error}),m=new u({type:"pipe",in:p,out:f,transform:a(((y,g)=>{let h=y;return r.case!=="sensitive"&&(h=h.toLowerCase()),i.has(h)?!0:s.has(h)?!1:(g.issues.push({code:"invalid_value",expected:"stringbool",values:[...i,...s],input:g.value,inst:m,continue:!1}),{})}),"transform"),reverseTransform:a(((y,g)=>y===!0?n[0]||"true":o[0]||"false"),"reverseTransform"),error:r.error});return m}a(xA,"_stringbool");function nc(e,t,r,n={}){let o=de(n),i={...de(n),check:"string_format",type:"string",format:t,fn:typeof r=="function"?r:u=>r.test(u),...o};return r instanceof RegExp&&(i.pattern=r),new e(i)}a(nc,"_stringFormat");var Wd=class{static{a(this,"JSONSchemaGenerator")}constructor(t){this.counter=0,this.metadataRegistry=t?.metadata??on,this.target=t?.target??"draft-2020-12",this.unrepresentable=t?.unrepresentable??"throw",this.override=t?.override??(()=>{}),this.io=t?.io??"output",this.seen=new Map}process(t,r={path:[],schemaPath:[]}){var n;let o=t._zod.def,i={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},s=this.seen.get(t);if(s)return s.count++,r.schemaPath.includes(t)&&(s.cycle=r.path),s.schema;let u={schema:{},count:1,cycle:void 0,path:r.path};this.seen.set(t,u);let l=t._zod.toJSONSchema?.();if(l)u.schema=l;else{let f={...r,schemaPath:[...r.schemaPath,t],path:r.path},m=t._zod.parent;if(m)u.ref=m,this.process(m,f),this.seen.get(m).isParent=!0;else{let y=u.schema;switch(o.type){case"string":{let g=y;g.type="string";let{minimum:h,maximum:v,format:S,patterns:b,contentEncoding:w}=t._zod.bag;if(typeof h=="number"&&(g.minLength=h),typeof v=="number"&&(g.maxLength=v),S&&(g.format=i[S]??S,g.format===""&&delete g.format),w&&(g.contentEncoding=w),b&&b.size>0){let k=[...b];k.length===1?g.pattern=k[0].source:k.length>1&&(u.schema.allOf=[...k.map($=>({...this.target==="draft-7"||this.target==="draft-4"||this.target==="openapi-3.0"?{type:"string"}:{},pattern:$.source}))])}break}case"number":{let g=y,{minimum:h,maximum:v,format:S,multipleOf:b,exclusiveMaximum:w,exclusiveMinimum:k}=t._zod.bag;typeof S=="string"&&S.includes("int")?g.type="integer":g.type="number",typeof k=="number"&&(this.target==="draft-4"||this.target==="openapi-3.0"?(g.minimum=k,g.exclusiveMinimum=!0):g.exclusiveMinimum=k),typeof h=="number"&&(g.minimum=h,typeof k=="number"&&this.target!=="draft-4"&&(k>=h?delete g.minimum:delete g.exclusiveMinimum)),typeof w=="number"&&(this.target==="draft-4"||this.target==="openapi-3.0"?(g.maximum=w,g.exclusiveMaximum=!0):g.exclusiveMaximum=w),typeof v=="number"&&(g.maximum=v,typeof w=="number"&&this.target!=="draft-4"&&(w<=v?delete g.maximum:delete g.exclusiveMaximum)),typeof b=="number"&&(g.multipleOf=b);break}case"boolean":{let g=y;g.type="boolean";break}case"bigint":{if(this.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema");break}case"symbol":{if(this.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema");break}case"null":{this.target==="openapi-3.0"?(y.type="string",y.nullable=!0,y.enum=[null]):y.type="null";break}case"any":break;case"unknown":break;case"undefined":{if(this.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema");break}case"void":{if(this.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema");break}case"never":{y.not={};break}case"date":{if(this.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema");break}case"array":{let g=y,{minimum:h,maximum:v}=t._zod.bag;typeof h=="number"&&(g.minItems=h),typeof v=="number"&&(g.maxItems=v),g.type="array",g.items=this.process(o.element,{...f,path:[...f.path,"items"]});break}case"object":{let g=y;g.type="object",g.properties={};let h=o.shape;for(let b in h)g.properties[b]=this.process(h[b],{...f,path:[...f.path,"properties",b]});let v=new Set(Object.keys(h)),S=new Set([...v].filter(b=>{let w=o.shape[b]._zod;return this.io==="input"?w.optin===void 0:w.optout===void 0}));S.size>0&&(g.required=Array.from(S)),o.catchall?._zod.def.type==="never"?g.additionalProperties=!1:o.catchall?o.catchall&&(g.additionalProperties=this.process(o.catchall,{...f,path:[...f.path,"additionalProperties"]})):this.io==="output"&&(g.additionalProperties=!1);break}case"union":{let g=y,h=o.discriminator!==void 0,v=o.options.map((S,b)=>this.process(S,{...f,path:[...f.path,h?"oneOf":"anyOf",b]}));h?g.oneOf=v:g.anyOf=v;break}case"intersection":{let g=y,h=this.process(o.left,{...f,path:[...f.path,"allOf",0]}),v=this.process(o.right,{...f,path:[...f.path,"allOf",1]}),S=a(w=>"allOf"in w&&Object.keys(w).length===1,"isSimpleIntersection"),b=[...S(h)?h.allOf:[h],...S(v)?v.allOf:[v]];g.allOf=b;break}case"tuple":{let g=y;g.type="array";let h=this.target==="draft-2020-12"?"prefixItems":"items",v=this.target==="draft-2020-12"||this.target==="openapi-3.0"?"items":"additionalItems",S=o.items.map(($,C)=>this.process($,{...f,path:[...f.path,h,C]})),b=o.rest?this.process(o.rest,{...f,path:[...f.path,v,...this.target==="openapi-3.0"?[o.items.length]:[]]}):null;this.target==="draft-2020-12"?(g.prefixItems=S,b&&(g.items=b)):this.target==="openapi-3.0"?(g.items={anyOf:S},b&&g.items.anyOf.push(b),g.minItems=S.length,b||(g.maxItems=S.length)):(g.items=S,b&&(g.additionalItems=b));let{minimum:w,maximum:k}=t._zod.bag;typeof w=="number"&&(g.minItems=w),typeof k=="number"&&(g.maxItems=k);break}case"record":{let g=y;g.type="object",(this.target==="draft-7"||this.target==="draft-2020-12")&&(g.propertyNames=this.process(o.keyType,{...f,path:[...f.path,"propertyNames"]})),g.additionalProperties=this.process(o.valueType,{...f,path:[...f.path,"additionalProperties"]});break}case"map":{if(this.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema");break}case"set":{if(this.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema");break}case"enum":{let g=y,h=gd(o.entries);h.every(v=>typeof v=="number")&&(g.type="number"),h.every(v=>typeof v=="string")&&(g.type="string"),g.enum=h;break}case"literal":{let g=y,h=[];for(let v of o.values)if(v===void 0){if(this.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof v=="bigint"){if(this.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");h.push(Number(v))}else h.push(v);if(h.length!==0)if(h.length===1){let v=h[0];g.type=v===null?"null":typeof v,this.target==="draft-4"||this.target==="openapi-3.0"?g.enum=[v]:g.const=v}else h.every(v=>typeof v=="number")&&(g.type="number"),h.every(v=>typeof v=="string")&&(g.type="string"),h.every(v=>typeof v=="boolean")&&(g.type="string"),h.every(v=>v===null)&&(g.type="null"),g.enum=h;break}case"file":{let g=y,h={type:"string",format:"binary",contentEncoding:"binary"},{minimum:v,maximum:S,mime:b}=t._zod.bag;v!==void 0&&(h.minLength=v),S!==void 0&&(h.maxLength=S),b?b.length===1?(h.contentMediaType=b[0],Object.assign(g,h)):g.anyOf=b.map(w=>({...h,contentMediaType:w})):Object.assign(g,h);break}case"transform":{if(this.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema");break}case"nullable":{let g=this.process(o.innerType,f);this.target==="openapi-3.0"?(u.ref=o.innerType,y.nullable=!0):y.anyOf=[g,{type:"null"}];break}case"nonoptional":{this.process(o.innerType,f),u.ref=o.innerType;break}case"success":{let g=y;g.type="boolean";break}case"default":{this.process(o.innerType,f),u.ref=o.innerType,y.default=JSON.parse(JSON.stringify(o.defaultValue));break}case"prefault":{this.process(o.innerType,f),u.ref=o.innerType,this.io==="input"&&(y._prefault=JSON.parse(JSON.stringify(o.defaultValue)));break}case"catch":{this.process(o.innerType,f),u.ref=o.innerType;let g;try{g=o.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}y.default=g;break}case"nan":{if(this.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema");break}case"template_literal":{let g=y,h=t._zod.pattern;if(!h)throw new Error("Pattern not found in template literal");g.type="string",g.pattern=h.source;break}case"pipe":{let g=this.io==="input"?o.in._zod.def.type==="transform"?o.out:o.in:o.out;this.process(g,f),u.ref=g;break}case"readonly":{this.process(o.innerType,f),u.ref=o.innerType,y.readOnly=!0;break}case"promise":{this.process(o.innerType,f),u.ref=o.innerType;break}case"optional":{this.process(o.innerType,f),u.ref=o.innerType;break}case"lazy":{let g=t._zod.innerType;this.process(g,f),u.ref=g;break}case"custom":{if(this.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema");break}case"function":{if(this.unrepresentable==="throw")throw new Error("Function types cannot be represented in JSON Schema");break}default:}}}let d=this.metadataRegistry.get(t);return d&&Object.assign(u.schema,d),this.io==="input"&&an(t)&&(delete u.schema.examples,delete u.schema.default),this.io==="input"&&u.schema._prefault&&((n=u.schema).default??(n.default=u.schema._prefault)),delete u.schema._prefault,this.seen.get(t).schema}emit(t,r){let n={cycles:r?.cycles??"ref",reused:r?.reused??"inline",external:r?.external??void 0},o=this.seen.get(t);if(!o)throw new Error("Unprocessed schema. This is a bug in Zod.");let i=a(p=>{let f=this.target==="draft-2020-12"?"$defs":"definitions";if(n.external){let h=n.external.registry.get(p[0])?.id,v=n.external.uri??(b=>b);if(h)return{ref:v(h)};let S=p[1].defId??p[1].schema.id??`schema${this.counter++}`;return p[1].defId=S,{defId:S,ref:`${v("__shared")}#/${f}/${S}`}}if(p[1]===o)return{ref:"#"};let y=`#/${f}/`,g=p[1].schema.id??`__schema${this.counter++}`;return{defId:g,ref:y+g}},"makeURI"),s=a(p=>{if(p[1].schema.$ref)return;let f=p[1],{ref:m,defId:y}=i(p);f.def={...f.schema},y&&(f.defId=y);let g=f.schema;for(let h in g)delete g[h];g.$ref=m},"extractToDef");if(n.cycles==="throw")for(let p of this.seen.entries()){let f=p[1];if(f.cycle)throw new Error(`Cycle detected: #/${f.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let p of this.seen.entries()){let f=p[1];if(t===p[0]){s(p);continue}if(n.external){let y=n.external.registry.get(p[0])?.id;if(t!==p[0]&&y){s(p);continue}}if(this.metadataRegistry.get(p[0])?.id){s(p);continue}if(f.cycle){s(p);continue}if(f.count>1&&n.reused==="ref"){s(p);continue}}let u=a((p,f)=>{let m=this.seen.get(p),y=m.def??m.schema,g={...y};if(m.ref===null)return;let h=m.ref;if(m.ref=null,h){u(h,f);let v=this.seen.get(h).schema;v.$ref&&(f.target==="draft-7"||f.target==="draft-4"||f.target==="openapi-3.0")?(y.allOf=y.allOf??[],y.allOf.push(v)):(Object.assign(y,v),Object.assign(y,g))}m.isParent||this.override({zodSchema:p,jsonSchema:y,path:m.path??[]})},"flattenRef");for(let p of[...this.seen.entries()].reverse())u(p[0],{target:this.target});let l={};if(this.target==="draft-2020-12"?l.$schema="https://json-schema.org/draft/2020-12/schema":this.target==="draft-7"?l.$schema="http://json-schema.org/draft-07/schema#":this.target==="draft-4"?l.$schema="http://json-schema.org/draft-04/schema#":this.target==="openapi-3.0"||console.warn(`Invalid target: ${this.target}`),n.external?.uri){let p=n.external.registry.get(t)?.id;if(!p)throw new Error("Schema is missing an `id` property");l.$id=n.external.uri(p)}Object.assign(l,o.def);let d=n.external?.defs??{};for(let p of this.seen.entries()){let f=p[1];f.def&&f.defId&&(d[f.defId]=f.def)}n.external||Object.keys(d).length>0&&(this.target==="draft-2020-12"?l.$defs=d:l.definitions=d);try{return JSON.parse(JSON.stringify(l))}catch{throw new Error("Error converting schema to JSON.")}}};function Ci(e,t){if(e instanceof Yu){let n=new Wd(t),o={};for(let u of e._idmap.entries()){let[l,d]=u;n.process(d)}let i={},s={registry:e,uri:t?.uri,defs:o};for(let u of e._idmap.entries()){let[l,d]=u;i[l]=n.emit(d,{...t,external:s})}if(Object.keys(o).length>0){let u=n.target==="draft-2020-12"?"$defs":"definitions";i.__shared={[u]:o}}return{schemas:i}}let r=new Wd(t);return r.process(e),r.emit(e,t)}a(Ci,"toJSONSchema");function an(e,t){let r=t??{seen:new Set};if(r.seen.has(e))return!1;r.seen.add(e);let n=e._zod.def;if(n.type==="transform")return!0;if(n.type==="array")return an(n.element,r);if(n.type==="set")return an(n.valueType,r);if(n.type==="lazy")return an(n.getter(),r);if(n.type==="promise"||n.type==="optional"||n.type==="nonoptional"||n.type==="nullable"||n.type==="readonly"||n.type==="default"||n.type==="prefault")return an(n.innerType,r);if(n.type==="intersection")return an(n.left,r)||an(n.right,r);if(n.type==="record"||n.type==="map")return an(n.keyType,r)||an(n.valueType,r);if(n.type==="pipe")return an(n.in,r)||an(n.out,r);if(n.type==="object"){for(let o in n.shape)if(an(n.shape[o],r))return!0;return!1}if(n.type==="union"){for(let o of n.options)if(an(o,r))return!0;return!1}if(n.type==="tuple"){for(let o of n.items)if(an(o,r))return!0;return!!(n.rest&&an(n.rest,r))}return!1}a(an,"isTransforming");var ZU={};var vg={};_n(vg,{ZodISODate:()=>hg,ZodISODateTime:()=>fg,ZodISODuration:()=>yg,ZodISOTime:()=>gg,date:()=>EA,datetime:()=>TA,duration:()=>PA,time:()=>kA});var fg=H("ZodISODateTime",(e,t)=>{HP.init(e,t),Lt.init(e,t)});function TA(e){return MO(fg,e)}a(TA,"datetime");var hg=H("ZodISODate",(e,t)=>{VP.init(e,t),Lt.init(e,t)});function EA(e){return qO(hg,e)}a(EA,"date");var gg=H("ZodISOTime",(e,t)=>{ZP.init(e,t),Lt.init(e,t)});function kA(e){return UO(gg,e)}a(kA,"time");var yg=H("ZodISODuration",(e,t)=>{KP.init(e,t),Lt.init(e,t)});function PA(e){return LO(yg,e)}a(PA,"duration");var GU=a((e,t)=>{Sd.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:a(r=>xd(e,r),"value")},flatten:{value:a(r=>wd(e,r),"value")},addIssue:{value:a(r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,Hu,2)},"value")},addIssues:{value:a(r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,Hu,2)},"value")},isEmpty:{get(){return e.issues.length===0}}})},"initializer"),Gae=H("ZodError",GU),Pn=H("ZodError",GU,{Parent:Error});var IA=Ku(Pn),OA=Gu(Pn),AA=Wu(Pn),$i=Qu(Pn),CA=Ph(Pn),RA=Ih(Pn),$A=Oh(Pn),NA=Ah(Pn),zA=Ch(Pn),jA=Rh(Pn),DA=$h(Pn),MA=Nh(Pn);var ot=H("ZodType",(e,t)=>(Ze.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone(pe.mergeDefs(t,{checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]})),e.clone=(r,n)=>nn(e,r,n),e.brand=()=>e,e.register=((r,n)=>(r.add(e,n),e)),e.parse=(r,n)=>IA(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>AA(e,r,n),e.parseAsync=async(r,n)=>OA(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>$i(e,r,n),e.spa=e.safeParseAsync,e.encode=(r,n)=>CA(e,r,n),e.decode=(r,n)=>RA(e,r,n),e.encodeAsync=async(r,n)=>$A(e,r,n),e.decodeAsync=async(r,n)=>NA(e,r,n),e.safeEncode=(r,n)=>zA(e,r,n),e.safeDecode=(r,n)=>jA(e,r,n),e.safeEncodeAsync=async(r,n)=>DA(e,r,n),e.safeDecodeAsync=async(r,n)=>MA(e,r,n),e.refine=(r,n)=>e.check(jL(r,n)),e.superRefine=r=>e.check(DL(r)),e.overwrite=r=>e.check(Wo(r)),e.optional=()=>bg(e),e.nullable=()=>Sg(e),e.nullish=()=>bg(Sg(e)),e.nonoptional=r=>TL(e,r),e.array=()=>Eg(e),e.or=r=>sC([e,r]),e.and=r=>lL(e,r),e.transform=r=>wg(e,lC(r)),e.default=r=>SL(e,r),e.prefault=r=>xL(e,r),e.catch=r=>PL(e,r),e.pipe=r=>wg(e,r),e.readonly=()=>AL(e),e.describe=r=>{let n=e.clone();return on.add(n,{description:r}),n},Object.defineProperty(e,"description",{get(){return on.get(e)?.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return on.get(e);let n=e.clone();return on.add(n,r[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),LA=H("_ZodString",(e,t)=>{bs.init(e,t),ot.init(e,t);let r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...n)=>e.check(Md(...n)),e.includes=(...n)=>e.check(Ld(...n)),e.startsWith=(...n)=>e.check(Fd(...n)),e.endsWith=(...n)=>e.check(Bd(...n)),e.min=(...n)=>e.check(Pa(...n)),e.max=(...n)=>e.check(tc(...n)),e.length=(...n)=>e.check(rc(...n)),e.nonempty=(...n)=>e.check(Pa(1,...n)),e.lowercase=n=>e.check(qd(n)),e.uppercase=n=>e.check(Ud(n)),e.trim=()=>e.check(Vd()),e.normalize=(...n)=>e.check(Hd(...n)),e.toLowerCase=()=>e.check(Zd()),e.toUpperCase=()=>e.check(Kd()),e.slugify=()=>e.check(Gd())}),Xd=H("ZodString",(e,t)=>{bs.init(e,t),LA.init(e,t),e.email=r=>e.check(Kh(FA,r)),e.url=r=>e.check(jd(xg,r)),e.jwt=r=>e.check(mg(nC,r)),e.emoji=r=>e.check(Yh(BA,r)),e.guid=r=>e.check(zd(_g,r)),e.uuid=r=>e.check(Gh(Ni,r)),e.uuidv4=r=>e.check(Wh(Ni,r)),e.uuidv6=r=>e.check(Qh(Ni,r)),e.uuidv7=r=>e.check(Xh(Ni,r)),e.nanoid=r=>e.check(eg(JA,r)),e.guid=r=>e.check(zd(_g,r)),e.cuid=r=>e.check(tg(HA,r)),e.cuid2=r=>e.check(rg(VA,r)),e.ulid=r=>e.check(ng(ZA,r)),e.base64=r=>e.check(lg(eC,r)),e.base64url=r=>e.check(dg(tC,r)),e.xid=r=>e.check(og(KA,r)),e.ksuid=r=>e.check(ig(GA,r)),e.ipv4=r=>e.check(ag(WA,r)),e.ipv6=r=>e.check(sg(QA,r)),e.cidrv4=r=>e.check(ug(XA,r)),e.cidrv6=r=>e.check(cg(YA,r)),e.e164=r=>e.check(pg(rC,r)),e.datetime=r=>e.check(TA(r)),e.date=r=>e.check(EA(r)),e.time=r=>e.check(kA(r)),e.duration=r=>e.check(PA(r))});function qA(e){return NO(Xd,e)}a(qA,"string");var Lt=H("ZodStringFormat",(e,t)=>{jt.init(e,t),LA.init(e,t)}),FA=H("ZodEmail",(e,t)=>{jP.init(e,t),Lt.init(e,t)});function Qae(e){return Kh(FA,e)}a(Qae,"email");var _g=H("ZodGUID",(e,t)=>{NP.init(e,t),Lt.init(e,t)});function Xae(e){return zd(_g,e)}a(Xae,"guid");var Ni=H("ZodUUID",(e,t)=>{zP.init(e,t),Lt.init(e,t)});function Yae(e){return Gh(Ni,e)}a(Yae,"uuid");function ese(e){return Wh(Ni,e)}a(ese,"uuidv4");function tse(e){return Qh(Ni,e)}a(tse,"uuidv6");function rse(e){return Xh(Ni,e)}a(rse,"uuidv7");var xg=H("ZodURL",(e,t)=>{DP.init(e,t),Lt.init(e,t)});function nse(e){return jd(xg,e)}a(nse,"url");function ose(e){return jd(xg,{protocol:/^https?$/,hostname:Qn.domain,...pe.normalizeParams(e)})}a(ose,"httpUrl");var BA=H("ZodEmoji",(e,t)=>{MP.init(e,t),Lt.init(e,t)});function ise(e){return Yh(BA,e)}a(ise,"emoji");var JA=H("ZodNanoID",(e,t)=>{qP.init(e,t),Lt.init(e,t)});function ase(e){return eg(JA,e)}a(ase,"nanoid");var HA=H("ZodCUID",(e,t)=>{UP.init(e,t),Lt.init(e,t)});function sse(e){return tg(HA,e)}a(sse,"cuid");var VA=H("ZodCUID2",(e,t)=>{LP.init(e,t),Lt.init(e,t)});function use(e){return rg(VA,e)}a(use,"cuid2");var ZA=H("ZodULID",(e,t)=>{FP.init(e,t),Lt.init(e,t)});function cse(e){return ng(ZA,e)}a(cse,"ulid");var KA=H("ZodXID",(e,t)=>{BP.init(e,t),Lt.init(e,t)});function lse(e){return og(KA,e)}a(lse,"xid");var GA=H("ZodKSUID",(e,t)=>{JP.init(e,t),Lt.init(e,t)});function dse(e){return ig(GA,e)}a(dse,"ksuid");var WA=H("ZodIPv4",(e,t)=>{GP.init(e,t),Lt.init(e,t)});function pse(e){return ag(WA,e)}a(pse,"ipv4");var WU=H("ZodMAC",(e,t)=>{QP.init(e,t),Lt.init(e,t)});function mse(e){return jO(WU,e)}a(mse,"mac");var QA=H("ZodIPv6",(e,t)=>{WP.init(e,t),Lt.init(e,t)});function fse(e){return sg(QA,e)}a(fse,"ipv6");var XA=H("ZodCIDRv4",(e,t)=>{XP.init(e,t),Lt.init(e,t)});function hse(e){return ug(XA,e)}a(hse,"cidrv4");var YA=H("ZodCIDRv6",(e,t)=>{YP.init(e,t),Lt.init(e,t)});function gse(e){return cg(YA,e)}a(gse,"cidrv6");var eC=H("ZodBase64",(e,t)=>{tI.init(e,t),Lt.init(e,t)});function yse(e){return lg(eC,e)}a(yse,"base64");var tC=H("ZodBase64URL",(e,t)=>{rI.init(e,t),Lt.init(e,t)});function vse(e){return dg(tC,e)}a(vse,"base64url");var rC=H("ZodE164",(e,t)=>{nI.init(e,t),Lt.init(e,t)});function _se(e){return pg(rC,e)}a(_se,"e164");var nC=H("ZodJWT",(e,t)=>{oI.init(e,t),Lt.init(e,t)});function bse(e){return mg(nC,e)}a(bse,"jwt");var Yd=H("ZodCustomStringFormat",(e,t)=>{iI.init(e,t),Lt.init(e,t)});function Sse(e,t,r={}){return nc(Yd,e,t,r)}a(Sse,"stringFormat");function wse(e){return nc(Yd,"hostname",Qn.hostname,e)}a(wse,"hostname");function xse(e){return nc(Yd,"hex",Qn.hex,e)}a(xse,"hex");function Tse(e,t){let r=t?.enc??"hex",n=`${e}_${r}`,o=Qn[n];if(!o)throw new Error(`Unrecognized hash format: ${n}`);return nc(Yd,n,o,t)}a(Tse,"hash");var ep=H("ZodNumber",(e,t)=>{Bh.init(e,t),ot.init(e,t),e.gt=(n,o)=>e.check(Ai(n,o)),e.gte=(n,o)=>e.check(kn(n,o)),e.min=(n,o)=>e.check(kn(n,o)),e.lt=(n,o)=>e.check(Oi(n,o)),e.lte=(n,o)=>e.check(Xn(n,o)),e.max=(n,o)=>e.check(Xn(n,o)),e.int=n=>e.check(UA(n)),e.safe=n=>e.check(UA(n)),e.positive=n=>e.check(Ai(0,n)),e.nonnegative=n=>e.check(kn(0,n)),e.negative=n=>e.check(Oi(0,n)),e.nonpositive=n=>e.check(Xn(0,n)),e.multipleOf=(n,o)=>e.check(Ss(n,o)),e.step=(n,o)=>e.check(Ss(n,o)),e.finite=()=>e;let r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function QU(e){return FO(ep,e)}a(QU,"number");var ic=H("ZodNumberFormat",(e,t)=>{aI.init(e,t),ep.init(e,t)});function UA(e){return JO(ic,e)}a(UA,"int");function Ese(e){return HO(ic,e)}a(Ese,"float32");function kse(e){return VO(ic,e)}a(kse,"float64");function Pse(e){return ZO(ic,e)}a(Pse,"int32");function Ise(e){return KO(ic,e)}a(Ise,"uint32");var tp=H("ZodBoolean",(e,t)=>{Pd.init(e,t),ot.init(e,t)});function XU(e){return GO(tp,e)}a(XU,"boolean");var rp=H("ZodBigInt",(e,t)=>{Jh.init(e,t),ot.init(e,t),e.gte=(n,o)=>e.check(kn(n,o)),e.min=(n,o)=>e.check(kn(n,o)),e.gt=(n,o)=>e.check(Ai(n,o)),e.gte=(n,o)=>e.check(kn(n,o)),e.min=(n,o)=>e.check(kn(n,o)),e.lt=(n,o)=>e.check(Oi(n,o)),e.lte=(n,o)=>e.check(Xn(n,o)),e.max=(n,o)=>e.check(Xn(n,o)),e.positive=n=>e.check(Ai(BigInt(0),n)),e.negative=n=>e.check(Oi(BigInt(0),n)),e.nonpositive=n=>e.check(Xn(BigInt(0),n)),e.nonnegative=n=>e.check(kn(BigInt(0),n)),e.multipleOf=(n,o)=>e.check(Ss(n,o));let r=e._zod.bag;e.minValue=r.minimum??null,e.maxValue=r.maximum??null,e.format=r.format??null});function Ose(e){return QO(rp,e)}a(Ose,"bigint");var oC=H("ZodBigIntFormat",(e,t)=>{sI.init(e,t),rp.init(e,t)});function Ase(e){return YO(oC,e)}a(Ase,"int64");function Cse(e){return eA(oC,e)}a(Cse,"uint64");var YU=H("ZodSymbol",(e,t)=>{uI.init(e,t),ot.init(e,t)});function Rse(e){return tA(YU,e)}a(Rse,"symbol");var eL=H("ZodUndefined",(e,t)=>{cI.init(e,t),ot.init(e,t)});function $se(e){return rA(eL,e)}a($se,"_undefined");var tL=H("ZodNull",(e,t)=>{lI.init(e,t),ot.init(e,t)});function rL(e){return nA(tL,e)}a(rL,"_null");var nL=H("ZodAny",(e,t)=>{dI.init(e,t),ot.init(e,t)});function Nse(){return oA(nL)}a(Nse,"any");var oL=H("ZodUnknown",(e,t)=>{pI.init(e,t),ot.init(e,t)});function oc(){return iA(oL)}a(oc,"unknown");var iL=H("ZodNever",(e,t)=>{mI.init(e,t),ot.init(e,t)});function iC(e){return aA(iL,e)}a(iC,"never");var aL=H("ZodVoid",(e,t)=>{fI.init(e,t),ot.init(e,t)});function zse(e){return sA(aL,e)}a(zse,"_void");var Tg=H("ZodDate",(e,t)=>{hI.init(e,t),ot.init(e,t),e.min=(n,o)=>e.check(kn(n,o)),e.max=(n,o)=>e.check(Xn(n,o));let r=e._zod.bag;e.minDate=r.minimum?new Date(r.minimum):null,e.maxDate=r.maximum?new Date(r.maximum):null});function jse(e){return uA(Tg,e)}a(jse,"date");var sL=H("ZodArray",(e,t)=>{gI.init(e,t),ot.init(e,t),e.element=t.element,e.min=(r,n)=>e.check(Pa(r,n)),e.nonempty=r=>e.check(Pa(1,r)),e.max=(r,n)=>e.check(tc(r,n)),e.length=(r,n)=>e.check(rc(r,n)),e.unwrap=()=>e.element});function Eg(e,t){return gA(sL,e,t)}a(Eg,"array");function Dse(e){let t=e._zod.def.shape;return cC(Object.keys(t))}a(Dse,"keyof");var kg=H("ZodObject",(e,t)=>{yI.init(e,t),ot.init(e,t),pe.defineLazy(e,"shape",()=>t.shape),e.keyof=()=>cC(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:oc()}),e.loose=()=>e.clone({...e._zod.def,catchall:oc()}),e.strict=()=>e.clone({...e._zod.def,catchall:iC()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>pe.extend(e,r),e.safeExtend=r=>pe.safeExtend(e,r),e.merge=r=>pe.merge(e,r),e.pick=r=>pe.pick(e,r),e.omit=r=>pe.omit(e,r),e.partial=(...r)=>pe.partial(dC,e,r[0]),e.required=(...r)=>pe.required(pC,e,r[0])});function Mse(e,t){let r={type:"object",shape:e??{},...pe.normalizeParams(t)};return new kg(r)}a(Mse,"object");function qse(e,t){return new kg({type:"object",shape:e,catchall:iC(),...pe.normalizeParams(t)})}a(qse,"strictObject");function Use(e,t){return new kg({type:"object",shape:e,catchall:oc(),...pe.normalizeParams(t)})}a(Use,"looseObject");var aC=H("ZodUnion",(e,t)=>{Hh.init(e,t),ot.init(e,t),e.options=t.options});function sC(e,t){return new aC({type:"union",options:e,...pe.normalizeParams(t)})}a(sC,"union");var uL=H("ZodDiscriminatedUnion",(e,t)=>{aC.init(e,t),vI.init(e,t)});function Lse(e,t,r){return new uL({type:"union",options:t,discriminator:e,...pe.normalizeParams(r)})}a(Lse,"discriminatedUnion");var cL=H("ZodIntersection",(e,t)=>{_I.init(e,t),ot.init(e,t)});function lL(e,t){return new cL({type:"intersection",left:e,right:t})}a(lL,"intersection");var dL=H("ZodTuple",(e,t)=>{Vh.init(e,t),ot.init(e,t),e.rest=r=>e.clone({...e._zod.def,rest:r})});function pL(e,t,r){let n=t instanceof Ze,o=n?r:t,i=n?t:null;return new dL({type:"tuple",items:e,rest:i,...pe.normalizeParams(o)})}a(pL,"tuple");var uC=H("ZodRecord",(e,t)=>{bI.init(e,t),ot.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function mL(e,t,r){return new uC({type:"record",keyType:e,valueType:t,...pe.normalizeParams(r)})}a(mL,"record");function Fse(e,t,r){let n=nn(e);return n._zod.values=void 0,new uC({type:"record",keyType:n,valueType:t,...pe.normalizeParams(r)})}a(Fse,"partialRecord");var fL=H("ZodMap",(e,t)=>{SI.init(e,t),ot.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function Bse(e,t,r){return new fL({type:"map",keyType:e,valueType:t,...pe.normalizeParams(r)})}a(Bse,"map");var hL=H("ZodSet",(e,t)=>{wI.init(e,t),ot.init(e,t),e.min=(...r)=>e.check(ws(...r)),e.nonempty=r=>e.check(ws(1,r)),e.max=(...r)=>e.check(ec(...r)),e.size=(...r)=>e.check(Dd(...r))});function Jse(e,t){return new hL({type:"set",valueType:e,...pe.normalizeParams(t)})}a(Jse,"set");var Qd=H("ZodEnum",(e,t)=>{xI.init(e,t),ot.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);let r=new Set(Object.keys(t.entries));e.extract=(n,o)=>{let i={};for(let s of n)if(r.has(s))i[s]=t.entries[s];else throw new Error(`Key ${s} not found in enum`);return new Qd({...t,checks:[],...pe.normalizeParams(o),entries:i})},e.exclude=(n,o)=>{let i={...t.entries};for(let s of n)if(r.has(s))delete i[s];else throw new Error(`Key ${s} not found in enum`);return new Qd({...t,checks:[],...pe.normalizeParams(o),entries:i})}});function cC(e,t){let r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new Qd({type:"enum",entries:r,...pe.normalizeParams(t)})}a(cC,"_enum");function Hse(e,t){return new Qd({type:"enum",entries:e,...pe.normalizeParams(t)})}a(Hse,"nativeEnum");var gL=H("ZodLiteral",(e,t)=>{TI.init(e,t),ot.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function Vse(e,t){return new gL({type:"literal",values:Array.isArray(e)?e:[e],...pe.normalizeParams(t)})}a(Vse,"literal");var yL=H("ZodFile",(e,t)=>{EI.init(e,t),ot.init(e,t),e.min=(r,n)=>e.check(ws(r,n)),e.max=(r,n)=>e.check(ec(r,n)),e.mime=(r,n)=>e.check(Jd(Array.isArray(r)?r:[r],n))});function Zse(e){return yA(yL,e)}a(Zse,"file");var vL=H("ZodTransform",(e,t)=>{kI.init(e,t),ot.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new Sa(e.constructor.name);r.addIssue=i=>{if(typeof i=="string")r.issues.push(pe.issue(i,r.value,t));else{let s=i;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=r.value),s.inst??(s.inst=e),r.issues.push(pe.issue(s))}};let o=t.transform(r.value,r);return o instanceof Promise?o.then(i=>(r.value=i,r)):(r.value=o,r)}});function lC(e){return new vL({type:"transform",transform:e})}a(lC,"transform");var dC=H("ZodOptional",(e,t)=>{PI.init(e,t),ot.init(e,t),e.unwrap=()=>e._zod.def.innerType});function bg(e){return new dC({type:"optional",innerType:e})}a(bg,"optional");var _L=H("ZodNullable",(e,t)=>{II.init(e,t),ot.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Sg(e){return new _L({type:"nullable",innerType:e})}a(Sg,"nullable");function Kse(e){return bg(Sg(e))}a(Kse,"nullish");var bL=H("ZodDefault",(e,t)=>{OI.init(e,t),ot.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function SL(e,t){return new bL({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():pe.shallowClone(t)}})}a(SL,"_default");var wL=H("ZodPrefault",(e,t)=>{AI.init(e,t),ot.init(e,t),e.unwrap=()=>e._zod.def.innerType});function xL(e,t){return new wL({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():pe.shallowClone(t)}})}a(xL,"prefault");var pC=H("ZodNonOptional",(e,t)=>{CI.init(e,t),ot.init(e,t),e.unwrap=()=>e._zod.def.innerType});function TL(e,t){return new pC({type:"nonoptional",innerType:e,...pe.normalizeParams(t)})}a(TL,"nonoptional");var EL=H("ZodSuccess",(e,t)=>{RI.init(e,t),ot.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Gse(e){return new EL({type:"success",innerType:e})}a(Gse,"success");var kL=H("ZodCatch",(e,t)=>{$I.init(e,t),ot.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function PL(e,t){return new kL({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}a(PL,"_catch");var IL=H("ZodNaN",(e,t)=>{NI.init(e,t),ot.init(e,t)});function Wse(e){return lA(IL,e)}a(Wse,"nan");var mC=H("ZodPipe",(e,t)=>{zI.init(e,t),ot.init(e,t),e.in=t.in,e.out=t.out});function wg(e,t){return new mC({type:"pipe",in:e,out:t})}a(wg,"pipe");var fC=H("ZodCodec",(e,t)=>{mC.init(e,t),Id.init(e,t)});function Qse(e,t,r){return new fC({type:"pipe",in:e,out:t,transform:r.decode,reverseTransform:r.encode})}a(Qse,"codec");var OL=H("ZodReadonly",(e,t)=>{jI.init(e,t),ot.init(e,t),e.unwrap=()=>e._zod.def.innerType});function AL(e){return new OL({type:"readonly",innerType:e})}a(AL,"readonly");var CL=H("ZodTemplateLiteral",(e,t)=>{DI.init(e,t),ot.init(e,t)});function Xse(e,t){return new CL({type:"template_literal",parts:e,...pe.normalizeParams(t)})}a(Xse,"templateLiteral");var RL=H("ZodLazy",(e,t)=>{UI.init(e,t),ot.init(e,t),e.unwrap=()=>e._zod.def.getter()});function $L(e){return new RL({type:"lazy",getter:e})}a($L,"lazy");var NL=H("ZodPromise",(e,t)=>{qI.init(e,t),ot.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Yse(e){return new NL({type:"promise",innerType:e})}a(Yse,"promise");var zL=H("ZodFunction",(e,t)=>{MI.init(e,t),ot.init(e,t)});function eue(e){return new zL({type:"function",input:Array.isArray(e?.input)?pL(e?.input):e?.input??Eg(oc()),output:e?.output??oc()})}a(eue,"_function");var Pg=H("ZodCustom",(e,t)=>{LI.init(e,t),ot.init(e,t)});function tue(e){let t=new Ut({check:"custom"});return t._zod.check=e,t}a(tue,"check");function rue(e,t){return vA(Pg,e??(()=>!0),t)}a(rue,"custom");function jL(e,t={}){return _A(Pg,e,t)}a(jL,"refine");function DL(e){return bA(e)}a(DL,"superRefine");var nue=SA,oue=wA;function iue(e,t={error:`Input not instance of ${e.name}`}){let r=new Pg({type:"custom",check:"custom",fn:a(n=>n instanceof e,"fn"),abort:!0,...pe.normalizeParams(t)});return r._zod.bag.Class=e,r}a(iue,"_instanceof");var aue=a((...e)=>xA({Codec:fC,Boolean:tp,String:Xd},...e),"stringbool");function sue(e){let t=$L(()=>sC([qA(e),QU(),XU(),rL(),Eg(t),mL(qA(),t)]));return t}a(sue,"json");function uue(e,t){return wg(lC(e),t)}a(uue,"preprocess");var cue={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function lue(e){vr({customError:e})}a(lue,"setErrorMap");function due(){return vr().customError}a(due,"getErrorMap");var hC;hC||(hC={});var gC={};_n(gC,{bigint:()=>hue,boolean:()=>fue,date:()=>gue,number:()=>mue,string:()=>pue});function pue(e){return zO(Xd,e)}a(pue,"string");function mue(e){return BO(ep,e)}a(mue,"number");function fue(e){return WO(tp,e)}a(fue,"boolean");function hue(e){return XO(rp,e)}a(hue,"bigint");function gue(e){return cA(Tg,e)}a(gue,"date");vr(Od());var yue=c.object({arguments:c.record(c.string(),c.unknown()).optional().default({})}),yC=new Oe;yC.post("/:toolName",fe,Ve("json",yue),async e=>{let t=e.req.param("toolName"),{arguments:r}=e.req.valid("json");return e.json({error:"Not implemented",message:`Tool ${t} will be implemented in subsequent tasks`,toolName:t,receivedArgs:r},501)});var vC=new Oe;vC.route("/context",Sk);vC.route("/tools",yC);var _C=vC;var qL="vercel.ai.error",vue=Symbol.for(qL),UL,_ue=class LL extends Error{static{a(this,"_AISDKError")}constructor({name:t,message:r,cause:n}){super(r),this[UL]=!0,this.name=t,this.cause=n}static isInstance(t){return LL.hasMarker(t,qL)}static hasMarker(t,r){let n=Symbol.for(r);return t!=null&&typeof t=="object"&&n in t&&typeof t[n]=="boolean"&&t[n]===!0}toJSON(){return{name:this.name,message:this.message}}};UL=vue;var ML=_ue,bue="AI_APICallError",Sue=`vercel.ai.error.${bue}`,wue=Symbol.for(Sue),xue;xue=wue;var Tue="AI_EmptyResponseBodyError",Eue=`vercel.ai.error.${Tue}`,kue=Symbol.for(Eue),Pue;Pue=kue;var FL="AI_InvalidArgumentError",BL=`vercel.ai.error.${FL}`,Iue=Symbol.for(BL),JL,HL=class extends ML{static{a(this,"InvalidArgumentError")}constructor({message:e,cause:t,argument:r}){super({name:FL,message:e,cause:t}),this[JL]=!0,this.argument=r}static isInstance(e){return ML.hasMarker(e,BL)}};JL=Iue;var Oue="AI_InvalidPromptError",Aue=`vercel.ai.error.${Oue}`,Cue=Symbol.for(Aue),Rue;Rue=Cue;var $ue="AI_InvalidResponseDataError",Nue=`vercel.ai.error.${$ue}`,zue=Symbol.for(Nue),jue;jue=zue;var Due="AI_JSONParseError",Mue=`vercel.ai.error.${Due}`,que=Symbol.for(Mue),Uue;Uue=que;var Lue="AI_LoadAPIKeyError",Fue=`vercel.ai.error.${Lue}`,Bue=Symbol.for(Fue),Jue;Jue=Bue;var Hue="AI_LoadSettingError",Vue=`vercel.ai.error.${Hue}`,Zue=Symbol.for(Vue),Kue;Kue=Zue;var Gue="AI_NoContentGeneratedError",Wue=`vercel.ai.error.${Gue}`,Que=Symbol.for(Wue),Xue;Xue=Que;var Yue="AI_NoSuchModelError",ece=`vercel.ai.error.${Yue}`,tce=Symbol.for(ece),rce;rce=tce;var nce="AI_TooManyEmbeddingValuesForCallError",oce=`vercel.ai.error.${nce}`,ice=Symbol.for(oce),ace;ace=ice;var sce="AI_TypeValidationError",uce=`vercel.ai.error.${sce}`,cce=Symbol.for(uce),lce;lce=cce;var dce="AI_UnsupportedFunctionalityError",pce=`vercel.ai.error.${dce}`,mce=Symbol.for(pce),fce;fce=mce;var VL=a((e,t=21)=>(r=t)=>{let n="",o=r|0;for(;o--;)n+=e[Math.random()*e.length|0];return n},"customAlphabet");var vce=ou(Ig(),1);var yce=a(({prefix:e,size:t=7,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:n="-"}={})=>{let o=VL(r,t);if(e==null)return o;if(r.includes(n))throw new HL({argument:"separator",message:`The separator "${n}" must not be part of the alphabet "${r}".`});return i=>`${e}${n}${o(i)}`},"createIdGenerator"),SC=yce();var QL=Symbol.for("vercel.ai.validator");var{btoa:x3e,atob:T3e}=globalThis;var Xce=ou(Ig(),1);var YL=Symbol("Let zodToJsonSchema decide on which parser to use");var XL={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"},e4=a(e=>typeof e=="string"?{...XL,name:e}:{...XL,...e},"getDefaultOptions");var t4=a(e=>{let t=e4(e),r=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,flags:{hasReferencedOpenAiAnyType:!1},currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([n,o])=>[o._def,{def:o._def,path:[...t.basePath,t.definitionPath,n],jsonSchema:void 0}]))}},"getRefs");function wC(e,t,r,n){n?.errorMessages&&r&&(e.errorMessage={...e.errorMessage,[t]:r})}a(wC,"addErrorMessage");function vt(e,t,r,n,o){e[t]=r,wC(e,t,n,o)}a(vt,"setResponseValueAndErrors");var Og=a((e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")},"getRelativePath");var ft;(function(e){e.assertEqual=o=>{};function t(o){}a(t,"assertIs"),e.assertIs=t;function r(o){throw new Error}a(r,"assertNever"),e.assertNever=r,e.arrayToEnum=o=>{let i={};for(let s of o)i[s]=s;return i},e.getValidEnumValues=o=>{let i=e.objectKeys(o).filter(u=>typeof o[o[u]]!="number"),s={};for(let u of i)s[u]=o[u];return e.objectValues(s)},e.objectValues=o=>e.objectKeys(o).map(function(i){return o[i]}),e.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{let i=[];for(let s in o)Object.prototype.hasOwnProperty.call(o,s)&&i.push(s);return i},e.find=(o,i)=>{for(let s of o)if(i(s))return s},e.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&Number.isFinite(o)&&Math.floor(o)===o;function n(o,i=" | "){return o.map(s=>typeof s=="string"?`'${s}'`:s).join(i)}a(n,"joinValues"),e.joinValues=n,e.jsonStringifyReplacer=(o,i)=>typeof i=="bigint"?i.toString():i})(ft||(ft={}));var r4;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(r4||(r4={}));var we=ft.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),zi=a(e=>{switch(typeof e){case"undefined":return we.undefined;case"string":return we.string;case"number":return Number.isNaN(e)?we.nan:we.number;case"boolean":return we.boolean;case"function":return we.function;case"bigint":return we.bigint;case"symbol":return we.symbol;case"object":return Array.isArray(e)?we.array:e===null?we.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?we.promise:typeof Map<"u"&&e instanceof Map?we.map:typeof Set<"u"&&e instanceof Set?we.set:typeof Date<"u"&&e instanceof Date?we.date:we.object;default:return we.unknown}},"getParsedType");var ue=ft.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);var qn=class e extends Error{static{a(this,"ZodError")}get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){let r=t||function(i){return i.message},n={_errors:[]},o=a(i=>{for(let s of i.issues)if(s.code==="invalid_union")s.unionErrors.map(o);else if(s.code==="invalid_return_type")o(s.returnTypeError);else if(s.code==="invalid_arguments")o(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let u=n,l=0;for(;l<s.path.length;){let d=s.path[l];l===s.path.length-1?(u[d]=u[d]||{_errors:[]},u[d]._errors.push(r(s))):u[d]=u[d]||{_errors:[]},u=u[d],l++}}},"processError");return o(this),n}static assert(t){if(!(t instanceof e))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ft.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){let r=Object.create(null),n=[];for(let o of this.issues)if(o.path.length>0){let i=o.path[0];r[i]=r[i]||[],r[i].push(t(o))}else n.push(t(o));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};qn.create=e=>new qn(e);var _ce=a((e,t)=>{let r;switch(e.code){case ue.invalid_type:e.received===we.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case ue.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,ft.jsonStringifyReplacer)}`;break;case ue.unrecognized_keys:r=`Unrecognized key(s) in object: ${ft.joinValues(e.keys,", ")}`;break;case ue.invalid_union:r="Invalid input";break;case ue.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ft.joinValues(e.options)}`;break;case ue.invalid_enum_value:r=`Invalid enum value. Expected ${ft.joinValues(e.options)}, received '${e.received}'`;break;case ue.invalid_arguments:r="Invalid function arguments";break;case ue.invalid_return_type:r="Invalid function return type";break;case ue.invalid_date:r="Invalid date";break;case ue.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:ft.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case ue.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case ue.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case ue.custom:r="Invalid input";break;case ue.invalid_intersection_types:r="Intersection results could not be merged";break;case ue.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case ue.not_finite:r="Number must be finite";break;default:r=t.defaultError,ft.assertNever(e)}return{message:r}},"errorMap"),Ia=_ce;var bce=Ia;function np(){return bce}a(np,"getErrorMap");var Ag=a(e=>{let{data:t,path:r,errorMaps:n,issueData:o}=e,i=[...r,...o.path||[]],s={...o,path:i};if(o.message!==void 0)return{...o,path:i,message:o.message};let u="",l=n.filter(d=>!!d).slice().reverse();for(let d of l)u=d(s,{data:t,defaultError:u}).message;return{...o,path:i,message:u}},"makeIssue");function _e(e,t){let r=np(),n=Ag({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Ia?void 0:Ia].filter(o=>!!o)});e.common.issues.push(n)}a(_e,"addIssueToContext");var Qr=class e{static{a(this,"ParseStatus")}constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){let n=[];for(let o of r){if(o.status==="aborted")return Me;o.status==="dirty"&&t.dirty(),n.push(o.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){let n=[];for(let o of r){let i=await o.key,s=await o.value;n.push({key:i,value:s})}return e.mergeObjectSync(t,n)}static mergeObjectSync(t,r){let n={};for(let o of r){let{key:i,value:s}=o;if(i.status==="aborted"||s.status==="aborted")return Me;i.status==="dirty"&&t.dirty(),s.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof s.value<"u"||o.alwaysSet)&&(n[i.value]=s.value)}return{status:t.value,value:n}}},Me=Object.freeze({status:"aborted"}),sc=a(e=>({status:"dirty",value:e}),"DIRTY"),sn=a(e=>({status:"valid",value:e}),"OK"),xC=a(e=>e.status==="aborted","isAborted"),TC=a(e=>e.status==="dirty","isDirty"),xs=a(e=>e.status==="valid","isValid"),op=a(e=>typeof Promise<"u"&&e instanceof Promise,"isAsync");var Ie;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(Ie||(Ie={}));var Yn=class{static{a(this,"ParseInputLazyPath")}constructor(t,r,n,o){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=o}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},n4=a((e,t)=>{if(xs(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new qn(e.common.issues);return this._error=r,this._error}}},"handleResult");function Xe(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:o}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:o}:{errorMap:a((s,u)=>{let{message:l}=e;return s.code==="invalid_enum_value"?{message:l??u.defaultError}:typeof u.data>"u"?{message:l??n??u.defaultError}:s.code!=="invalid_type"?{message:u.defaultError}:{message:l??r??u.defaultError}},"customMap"),description:o}}a(Xe,"processCreateParams");var it=class{static{a(this,"ZodType")}get description(){return this._def.description}_getType(t){return zi(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:zi(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Qr,ctx:{common:t.parent.common,data:t.data,parsedType:zi(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){let r=this._parse(t);if(op(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){let r=this._parse(t);return Promise.resolve(r)}parse(t,r){let n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){let n={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:zi(t)},o=this._parseSync({data:t,path:n.path,parent:n});return n4(n,o)}"~validate"(t){let r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:zi(t)};if(!this["~standard"].async)try{let n=this._parseSync({data:t,path:[],parent:r});return xs(n)?{value:n.value}:{issues:r.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(n=>xs(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(t,r){let n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){let n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:zi(t)},o=this._parse({data:t,path:n.path,parent:n}),i=await(op(o)?o:Promise.resolve(o));return n4(n,i)}refine(t,r){let n=a(o=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(o):r,"getIssueProperties");return this._refinement((o,i)=>{let s=t(o),u=a(()=>i.addIssue({code:ue.custom,...n(o)}),"setError");return typeof Promise<"u"&&s instanceof Promise?s.then(l=>l?!0:(u(),!1)):s?!0:(u(),!1)})}refinement(t,r){return this._refinement((n,o)=>t(n)?!0:(o.addIssue(typeof r=="function"?r(n,o):r),!1))}_refinement(t){return new ko({schema:this,typeName:U.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:a(r=>this["~validate"](r),"validate")}}optional(){return Eo.create(this,this._def)}nullable(){return Mi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Aa.create(this)}promise(){return Ts.create(this,this._def)}or(t){return pc.create([this,t],this._def)}and(t){return mc.create(this,t,this._def)}transform(t){return new ko({...Xe(this._def),schema:this,typeName:U.ZodEffects,effect:{type:"transform",transform:t}})}default(t){let r=typeof t=="function"?t:()=>t;return new vc({...Xe(this._def),innerType:this,defaultValue:r,typeName:U.ZodDefault})}brand(){return new Cg({typeName:U.ZodBranded,type:this,...Xe(this._def)})}catch(t){let r=typeof t=="function"?t:()=>t;return new _c({...Xe(this._def),innerType:this,catchValue:r,typeName:U.ZodCatch})}describe(t){let r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Rg.create(this,t)}readonly(){return bc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},Sce=/^c[^\s-]{8,}$/i,wce=/^[0-9a-z]+$/,xce=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Tce=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Ece=/^[a-z0-9_-]{21}$/i,kce=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Pce=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Ice=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Oce="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",EC,Ace=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Cce=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Rce=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,$ce=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Nce=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,zce=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,o4="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",jce=new RegExp(`^${o4}$`);function i4(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}a(i4,"timeRegexSource");function Dce(e){return new RegExp(`^${i4(e)}$`)}a(Dce,"timeRegex");function Mce(e){let t=`${o4}T${i4(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}a(Mce,"datetimeRegex");function qce(e,t){return!!((t==="v4"||!t)&&Ace.test(e)||(t==="v6"||!t)&&Rce.test(e))}a(qce,"isValidIP");function Uce(e,t){if(!kce.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),o=JSON.parse(atob(n));return!(typeof o!="object"||o===null||"typ"in o&&o?.typ!=="JWT"||!o.alg||t&&o.alg!==t)}catch{return!1}}a(Uce,"isValidJWT");function Lce(e,t){return!!((t==="v4"||!t)&&Cce.test(e)||(t==="v6"||!t)&&$ce.test(e))}a(Lce,"isValidCidr");var cc=class e extends it{static{a(this,"ZodString")}_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==we.string){let i=this._getOrReturnCtx(t);return _e(i,{code:ue.invalid_type,expected:we.string,received:i.parsedType}),Me}let n=new Qr,o;for(let i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(o=this._getOrReturnCtx(t,o),_e(o,{code:ue.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(o=this._getOrReturnCtx(t,o),_e(o,{code:ue.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){let s=t.data.length>i.value,u=t.data.length<i.value;(s||u)&&(o=this._getOrReturnCtx(t,o),s?_e(o,{code:ue.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):u&&_e(o,{code:ue.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")Ice.test(t.data)||(o=this._getOrReturnCtx(t,o),_e(o,{validation:"email",code:ue.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")EC||(EC=new RegExp(Oce,"u")),EC.test(t.data)||(o=this._getOrReturnCtx(t,o),_e(o,{validation:"emoji",code:ue.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")Tce.test(t.data)||(o=this._getOrReturnCtx(t,o),_e(o,{validation:"uuid",code:ue.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")Ece.test(t.data)||(o=this._getOrReturnCtx(t,o),_e(o,{validation:"nanoid",code:ue.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")Sce.test(t.data)||(o=this._getOrReturnCtx(t,o),_e(o,{validation:"cuid",code:ue.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")wce.test(t.data)||(o=this._getOrReturnCtx(t,o),_e(o,{validation:"cuid2",code:ue.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")xce.test(t.data)||(o=this._getOrReturnCtx(t,o),_e(o,{validation:"ulid",code:ue.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{o=this._getOrReturnCtx(t,o),_e(o,{validation:"url",code:ue.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(o=this._getOrReturnCtx(t,o),_e(o,{validation:"regex",code:ue.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(o=this._getOrReturnCtx(t,o),_e(o,{code:ue.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(o=this._getOrReturnCtx(t,o),_e(o,{code:ue.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(o=this._getOrReturnCtx(t,o),_e(o,{code:ue.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?Mce(i).test(t.data)||(o=this._getOrReturnCtx(t,o),_e(o,{code:ue.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?jce.test(t.data)||(o=this._getOrReturnCtx(t,o),_e(o,{code:ue.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?Dce(i).test(t.data)||(o=this._getOrReturnCtx(t,o),_e(o,{code:ue.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?Pce.test(t.data)||(o=this._getOrReturnCtx(t,o),_e(o,{validation:"duration",code:ue.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?qce(t.data,i.version)||(o=this._getOrReturnCtx(t,o),_e(o,{validation:"ip",code:ue.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?Uce(t.data,i.alg)||(o=this._getOrReturnCtx(t,o),_e(o,{validation:"jwt",code:ue.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?Lce(t.data,i.version)||(o=this._getOrReturnCtx(t,o),_e(o,{validation:"cidr",code:ue.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?Nce.test(t.data)||(o=this._getOrReturnCtx(t,o),_e(o,{validation:"base64",code:ue.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?zce.test(t.data)||(o=this._getOrReturnCtx(t,o),_e(o,{validation:"base64url",code:ue.invalid_string,message:i.message}),n.dirty()):ft.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(o=>t.test(o),{validation:r,code:ue.invalid_string,...Ie.errToObj(n)})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ie.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ie.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ie.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ie.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ie.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ie.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ie.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ie.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ie.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ie.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ie.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ie.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ie.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:t?.offset??!1,local:t?.local??!1,...Ie.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...Ie.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...Ie.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Ie.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r?.position,...Ie.errToObj(r?.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Ie.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Ie.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Ie.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Ie.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Ie.errToObj(r)})}nonempty(t){return this.min(1,Ie.errToObj(t))}trim(){return new e({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}};cc.create=e=>new cc({checks:[],typeName:U.ZodString,coerce:e?.coerce??!1,...Xe(e)});function Fce(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,o=r>n?r:n,i=Number.parseInt(e.toFixed(o).replace(".","")),s=Number.parseInt(t.toFixed(o).replace(".",""));return i%s/10**o}a(Fce,"floatSafeRemainder");var ip=class e extends it{static{a(this,"ZodNumber")}constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==we.number){let i=this._getOrReturnCtx(t);return _e(i,{code:ue.invalid_type,expected:we.number,received:i.parsedType}),Me}let n,o=new Qr;for(let i of this._def.checks)i.kind==="int"?ft.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),_e(n,{code:ue.invalid_type,expected:"integer",received:"float",message:i.message}),o.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),_e(n,{code:ue.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),o.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),_e(n,{code:ue.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),o.dirty()):i.kind==="multipleOf"?Fce(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),_e(n,{code:ue.not_multiple_of,multipleOf:i.value,message:i.message}),o.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),_e(n,{code:ue.not_finite,message:i.message}),o.dirty()):ft.assertNever(i);return{status:o.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Ie.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ie.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ie.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ie.toString(r))}setLimit(t,r,n,o){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ie.toString(o)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ie.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ie.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ie.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ie.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ie.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ie.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Ie.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ie.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ie.toString(t)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ft.isInteger(t.value))}get isFinite(){let t=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}};ip.create=e=>new ip({checks:[],typeName:U.ZodNumber,coerce:e?.coerce||!1,...Xe(e)});var ap=class e extends it{static{a(this,"ZodBigInt")}constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==we.bigint)return this._getInvalidInput(t);let n,o=new Qr;for(let i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),_e(n,{code:ue.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),o.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),_e(n,{code:ue.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),o.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),_e(n,{code:ue.not_multiple_of,multipleOf:i.value,message:i.message}),o.dirty()):ft.assertNever(i);return{status:o.value,value:t.data}}_getInvalidInput(t){let r=this._getOrReturnCtx(t);return _e(r,{code:ue.invalid_type,expected:we.bigint,received:r.parsedType}),Me}gte(t,r){return this.setLimit("min",t,!0,Ie.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ie.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ie.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ie.toString(r))}setLimit(t,r,n,o){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ie.toString(o)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ie.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ie.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ie.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ie.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ie.toString(r)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}};ap.create=e=>new ap({checks:[],typeName:U.ZodBigInt,coerce:e?.coerce??!1,...Xe(e)});var sp=class extends it{static{a(this,"ZodBoolean")}_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==we.boolean){let n=this._getOrReturnCtx(t);return _e(n,{code:ue.invalid_type,expected:we.boolean,received:n.parsedType}),Me}return sn(t.data)}};sp.create=e=>new sp({typeName:U.ZodBoolean,coerce:e?.coerce||!1,...Xe(e)});var up=class e extends it{static{a(this,"ZodDate")}_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==we.date){let i=this._getOrReturnCtx(t);return _e(i,{code:ue.invalid_type,expected:we.date,received:i.parsedType}),Me}if(Number.isNaN(t.data.getTime())){let i=this._getOrReturnCtx(t);return _e(i,{code:ue.invalid_date}),Me}let n=new Qr,o;for(let i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(o=this._getOrReturnCtx(t,o),_e(o,{code:ue.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(o=this._getOrReturnCtx(t,o),_e(o,{code:ue.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):ft.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Ie.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Ie.toString(r)})}get minDate(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}};up.create=e=>new up({checks:[],coerce:e?.coerce||!1,typeName:U.ZodDate,...Xe(e)});var cp=class extends it{static{a(this,"ZodSymbol")}_parse(t){if(this._getType(t)!==we.symbol){let n=this._getOrReturnCtx(t);return _e(n,{code:ue.invalid_type,expected:we.symbol,received:n.parsedType}),Me}return sn(t.data)}};cp.create=e=>new cp({typeName:U.ZodSymbol,...Xe(e)});var lc=class extends it{static{a(this,"ZodUndefined")}_parse(t){if(this._getType(t)!==we.undefined){let n=this._getOrReturnCtx(t);return _e(n,{code:ue.invalid_type,expected:we.undefined,received:n.parsedType}),Me}return sn(t.data)}};lc.create=e=>new lc({typeName:U.ZodUndefined,...Xe(e)});var dc=class extends it{static{a(this,"ZodNull")}_parse(t){if(this._getType(t)!==we.null){let n=this._getOrReturnCtx(t);return _e(n,{code:ue.invalid_type,expected:we.null,received:n.parsedType}),Me}return sn(t.data)}};dc.create=e=>new dc({typeName:U.ZodNull,...Xe(e)});var lp=class extends it{static{a(this,"ZodAny")}constructor(){super(...arguments),this._any=!0}_parse(t){return sn(t.data)}};lp.create=e=>new lp({typeName:U.ZodAny,...Xe(e)});var Oa=class extends it{static{a(this,"ZodUnknown")}constructor(){super(...arguments),this._unknown=!0}_parse(t){return sn(t.data)}};Oa.create=e=>new Oa({typeName:U.ZodUnknown,...Xe(e)});var Qo=class extends it{static{a(this,"ZodNever")}_parse(t){let r=this._getOrReturnCtx(t);return _e(r,{code:ue.invalid_type,expected:we.never,received:r.parsedType}),Me}};Qo.create=e=>new Qo({typeName:U.ZodNever,...Xe(e)});var dp=class extends it{static{a(this,"ZodVoid")}_parse(t){if(this._getType(t)!==we.undefined){let n=this._getOrReturnCtx(t);return _e(n,{code:ue.invalid_type,expected:we.void,received:n.parsedType}),Me}return sn(t.data)}};dp.create=e=>new dp({typeName:U.ZodVoid,...Xe(e)});var Aa=class e extends it{static{a(this,"ZodArray")}_parse(t){let{ctx:r,status:n}=this._processInputParams(t),o=this._def;if(r.parsedType!==we.array)return _e(r,{code:ue.invalid_type,expected:we.array,received:r.parsedType}),Me;if(o.exactLength!==null){let s=r.data.length>o.exactLength.value,u=r.data.length<o.exactLength.value;(s||u)&&(_e(r,{code:s?ue.too_big:ue.too_small,minimum:u?o.exactLength.value:void 0,maximum:s?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),n.dirty())}if(o.minLength!==null&&r.data.length<o.minLength.value&&(_e(r,{code:ue.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),n.dirty()),o.maxLength!==null&&r.data.length>o.maxLength.value&&(_e(r,{code:ue.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,u)=>o.type._parseAsync(new Yn(r,s,r.path,u)))).then(s=>Qr.mergeArray(n,s));let i=[...r.data].map((s,u)=>o.type._parseSync(new Yn(r,s,r.path,u)));return Qr.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new e({...this._def,minLength:{value:t,message:Ie.toString(r)}})}max(t,r){return new e({...this._def,maxLength:{value:t,message:Ie.toString(r)}})}length(t,r){return new e({...this._def,exactLength:{value:t,message:Ie.toString(r)}})}nonempty(t){return this.min(1,t)}};Aa.create=(e,t)=>new Aa({type:e,minLength:null,maxLength:null,exactLength:null,typeName:U.ZodArray,...Xe(t)});function uc(e){if(e instanceof Un){let t={};for(let r in e.shape){let n=e.shape[r];t[r]=Eo.create(uc(n))}return new Un({...e._def,shape:a(()=>t,"shape")})}else return e instanceof Aa?new Aa({...e._def,type:uc(e.element)}):e instanceof Eo?Eo.create(uc(e.unwrap())):e instanceof Mi?Mi.create(uc(e.unwrap())):e instanceof Di?Di.create(e.items.map(t=>uc(t))):e}a(uc,"deepPartialify");var Un=class e extends it{static{a(this,"ZodObject")}constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let t=this._def.shape(),r=ft.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==we.object){let d=this._getOrReturnCtx(t);return _e(d,{code:ue.invalid_type,expected:we.object,received:d.parsedType}),Me}let{status:n,ctx:o}=this._processInputParams(t),{shape:i,keys:s}=this._getCached(),u=[];if(!(this._def.catchall instanceof Qo&&this._def.unknownKeys==="strip"))for(let d in o.data)s.includes(d)||u.push(d);let l=[];for(let d of s){let p=i[d],f=o.data[d];l.push({key:{status:"valid",value:d},value:p._parse(new Yn(o,f,o.path,d)),alwaysSet:d in o.data})}if(this._def.catchall instanceof Qo){let d=this._def.unknownKeys;if(d==="passthrough")for(let p of u)l.push({key:{status:"valid",value:p},value:{status:"valid",value:o.data[p]}});else if(d==="strict")u.length>0&&(_e(o,{code:ue.unrecognized_keys,keys:u}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let d=this._def.catchall;for(let p of u){let f=o.data[p];l.push({key:{status:"valid",value:p},value:d._parse(new Yn(o,f,o.path,p)),alwaysSet:p in o.data})}}return o.common.async?Promise.resolve().then(async()=>{let d=[];for(let p of l){let f=await p.key,m=await p.value;d.push({key:f,value:m,alwaysSet:p.alwaysSet})}return d}).then(d=>Qr.mergeObjectSync(n,d)):Qr.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(t){return Ie.errToObj,new e({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:a((r,n)=>{let o=this._def.errorMap?.(r,n).message??n.defaultError;return r.code==="unrecognized_keys"?{message:Ie.errToObj(t).message??o}:{message:o}},"errorMap")}:{}})}strip(){return new e({...this._def,unknownKeys:"strip"})}passthrough(){return new e({...this._def,unknownKeys:"passthrough"})}extend(t){return new e({...this._def,shape:a(()=>({...this._def.shape(),...t}),"shape")})}merge(t){return new e({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:a(()=>({...this._def.shape(),...t._def.shape()}),"shape"),typeName:U.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new e({...this._def,catchall:t})}pick(t){let r={};for(let n of ft.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new e({...this._def,shape:a(()=>r,"shape")})}omit(t){let r={};for(let n of ft.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new e({...this._def,shape:a(()=>r,"shape")})}deepPartial(){return uc(this)}partial(t){let r={};for(let n of ft.objectKeys(this.shape)){let o=this.shape[n];t&&!t[n]?r[n]=o:r[n]=o.optional()}return new e({...this._def,shape:a(()=>r,"shape")})}required(t){let r={};for(let n of ft.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Eo;)i=i._def.innerType;r[n]=i}return new e({...this._def,shape:a(()=>r,"shape")})}keyof(){return a4(ft.objectKeys(this.shape))}};Un.create=(e,t)=>new Un({shape:a(()=>e,"shape"),unknownKeys:"strip",catchall:Qo.create(),typeName:U.ZodObject,...Xe(t)});Un.strictCreate=(e,t)=>new Un({shape:a(()=>e,"shape"),unknownKeys:"strict",catchall:Qo.create(),typeName:U.ZodObject,...Xe(t)});Un.lazycreate=(e,t)=>new Un({shape:e,unknownKeys:"strip",catchall:Qo.create(),typeName:U.ZodObject,...Xe(t)});var pc=class extends it{static{a(this,"ZodUnion")}_parse(t){let{ctx:r}=this._processInputParams(t),n=this._def.options;function o(i){for(let u of i)if(u.result.status==="valid")return u.result;for(let u of i)if(u.result.status==="dirty")return r.common.issues.push(...u.ctx.common.issues),u.result;let s=i.map(u=>new qn(u.ctx.common.issues));return _e(r,{code:ue.invalid_union,unionErrors:s}),Me}if(a(o,"handleResults"),r.common.async)return Promise.all(n.map(async i=>{let s={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(o);{let i,s=[];for(let l of n){let d={...r,common:{...r.common,issues:[]},parent:null},p=l._parseSync({data:r.data,path:r.path,parent:d});if(p.status==="valid")return p;p.status==="dirty"&&!i&&(i={result:p,ctx:d}),d.common.issues.length&&s.push(d.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;let u=s.map(l=>new qn(l));return _e(r,{code:ue.invalid_union,unionErrors:u}),Me}}get options(){return this._def.options}};pc.create=(e,t)=>new pc({options:e,typeName:U.ZodUnion,...Xe(t)});var ji=a(e=>e instanceof fc?ji(e.schema):e instanceof ko?ji(e.innerType()):e instanceof hc?[e.value]:e instanceof gc?e.options:e instanceof yc?ft.objectValues(e.enum):e instanceof vc?ji(e._def.innerType):e instanceof lc?[void 0]:e instanceof dc?[null]:e instanceof Eo?[void 0,...ji(e.unwrap())]:e instanceof Mi?[null,...ji(e.unwrap())]:e instanceof Cg||e instanceof bc?ji(e.unwrap()):e instanceof _c?ji(e._def.innerType):[],"getDiscriminator"),kC=class e extends it{static{a(this,"ZodDiscriminatedUnion")}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==we.object)return _e(r,{code:ue.invalid_type,expected:we.object,received:r.parsedType}),Me;let n=this.discriminator,o=r.data[n],i=this.optionsMap.get(o);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(_e(r,{code:ue.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Me)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){let o=new Map;for(let i of r){let s=ji(i.shape[t]);if(!s.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(let u of s){if(o.has(u))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(u)}`);o.set(u,i)}}return new e({typeName:U.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:o,...Xe(n)})}};function PC(e,t){let r=zi(e),n=zi(t);if(e===t)return{valid:!0,data:e};if(r===we.object&&n===we.object){let o=ft.objectKeys(t),i=ft.objectKeys(e).filter(u=>o.indexOf(u)!==-1),s={...e,...t};for(let u of i){let l=PC(e[u],t[u]);if(!l.valid)return{valid:!1};s[u]=l.data}return{valid:!0,data:s}}else if(r===we.array&&n===we.array){if(e.length!==t.length)return{valid:!1};let o=[];for(let i=0;i<e.length;i++){let s=e[i],u=t[i],l=PC(s,u);if(!l.valid)return{valid:!1};o.push(l.data)}return{valid:!0,data:o}}else return r===we.date&&n===we.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}a(PC,"mergeValues");var mc=class extends it{static{a(this,"ZodIntersection")}_parse(t){let{status:r,ctx:n}=this._processInputParams(t),o=a((i,s)=>{if(xC(i)||xC(s))return Me;let u=PC(i.value,s.value);return u.valid?((TC(i)||TC(s))&&r.dirty(),{status:r.value,value:u.data}):(_e(n,{code:ue.invalid_intersection_types}),Me)},"handleParsed");return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,s])=>o(i,s)):o(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};mc.create=(e,t,r)=>new mc({left:e,right:t,typeName:U.ZodIntersection,...Xe(r)});var Di=class e extends it{static{a(this,"ZodTuple")}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==we.array)return _e(n,{code:ue.invalid_type,expected:we.array,received:n.parsedType}),Me;if(n.data.length<this._def.items.length)return _e(n,{code:ue.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Me;!this._def.rest&&n.data.length>this._def.items.length&&(_e(n,{code:ue.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let i=[...n.data].map((s,u)=>{let l=this._def.items[u]||this._def.rest;return l?l._parse(new Yn(n,s,n.path,u)):null}).filter(s=>!!s);return n.common.async?Promise.all(i).then(s=>Qr.mergeArray(r,s)):Qr.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new e({...this._def,rest:t})}};Di.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Di({items:e,typeName:U.ZodTuple,rest:null,...Xe(t)})};var IC=class e extends it{static{a(this,"ZodRecord")}get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==we.object)return _e(n,{code:ue.invalid_type,expected:we.object,received:n.parsedType}),Me;let o=[],i=this._def.keyType,s=this._def.valueType;for(let u in n.data)o.push({key:i._parse(new Yn(n,u,n.path,u)),value:s._parse(new Yn(n,n.data[u],n.path,u)),alwaysSet:u in n.data});return n.common.async?Qr.mergeObjectAsync(r,o):Qr.mergeObjectSync(r,o)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof it?new e({keyType:t,valueType:r,typeName:U.ZodRecord,...Xe(n)}):new e({keyType:cc.create(),valueType:t,typeName:U.ZodRecord,...Xe(r)})}},pp=class extends it{static{a(this,"ZodMap")}get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==we.map)return _e(n,{code:ue.invalid_type,expected:we.map,received:n.parsedType}),Me;let o=this._def.keyType,i=this._def.valueType,s=[...n.data.entries()].map(([u,l],d)=>({key:o._parse(new Yn(n,u,n.path,[d,"key"])),value:i._parse(new Yn(n,l,n.path,[d,"value"]))}));if(n.common.async){let u=new Map;return Promise.resolve().then(async()=>{for(let l of s){let d=await l.key,p=await l.value;if(d.status==="aborted"||p.status==="aborted")return Me;(d.status==="dirty"||p.status==="dirty")&&r.dirty(),u.set(d.value,p.value)}return{status:r.value,value:u}})}else{let u=new Map;for(let l of s){let d=l.key,p=l.value;if(d.status==="aborted"||p.status==="aborted")return Me;(d.status==="dirty"||p.status==="dirty")&&r.dirty(),u.set(d.value,p.value)}return{status:r.value,value:u}}}};pp.create=(e,t,r)=>new pp({valueType:t,keyType:e,typeName:U.ZodMap,...Xe(r)});var mp=class e extends it{static{a(this,"ZodSet")}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==we.set)return _e(n,{code:ue.invalid_type,expected:we.set,received:n.parsedType}),Me;let o=this._def;o.minSize!==null&&n.data.size<o.minSize.value&&(_e(n,{code:ue.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),r.dirty()),o.maxSize!==null&&n.data.size>o.maxSize.value&&(_e(n,{code:ue.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),r.dirty());let i=this._def.valueType;function s(l){let d=new Set;for(let p of l){if(p.status==="aborted")return Me;p.status==="dirty"&&r.dirty(),d.add(p.value)}return{status:r.value,value:d}}a(s,"finalizeSet");let u=[...n.data.values()].map((l,d)=>i._parse(new Yn(n,l,n.path,d)));return n.common.async?Promise.all(u).then(l=>s(l)):s(u)}min(t,r){return new e({...this._def,minSize:{value:t,message:Ie.toString(r)}})}max(t,r){return new e({...this._def,maxSize:{value:t,message:Ie.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}};mp.create=(e,t)=>new mp({valueType:e,minSize:null,maxSize:null,typeName:U.ZodSet,...Xe(t)});var OC=class e extends it{static{a(this,"ZodFunction")}constructor(){super(...arguments),this.validate=this.implement}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==we.function)return _e(r,{code:ue.invalid_type,expected:we.function,received:r.parsedType}),Me;function n(u,l){return Ag({data:u,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,np(),Ia].filter(d=>!!d),issueData:{code:ue.invalid_arguments,argumentsError:l}})}a(n,"makeArgsIssue");function o(u,l){return Ag({data:u,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,np(),Ia].filter(d=>!!d),issueData:{code:ue.invalid_return_type,returnTypeError:l}})}a(o,"makeReturnsIssue");let i={errorMap:r.common.contextualErrorMap},s=r.data;if(this._def.returns instanceof Ts){let u=this;return sn(async function(...l){let d=new qn([]),p=await u._def.args.parseAsync(l,i).catch(y=>{throw d.addIssue(n(l,y)),d}),f=await Reflect.apply(s,this,p);return await u._def.returns._def.type.parseAsync(f,i).catch(y=>{throw d.addIssue(o(f,y)),d})})}else{let u=this;return sn(function(...l){let d=u._def.args.safeParse(l,i);if(!d.success)throw new qn([n(l,d.error)]);let p=Reflect.apply(s,this,d.data),f=u._def.returns.safeParse(p,i);if(!f.success)throw new qn([o(p,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new e({...this._def,args:Di.create(t).rest(Oa.create())})}returns(t){return new e({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new e({args:t||Di.create([]).rest(Oa.create()),returns:r||Oa.create(),typeName:U.ZodFunction,...Xe(n)})}},fc=class extends it{static{a(this,"ZodLazy")}get schema(){return this._def.getter()}_parse(t){let{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};fc.create=(e,t)=>new fc({getter:e,typeName:U.ZodLazy,...Xe(t)});var hc=class extends it{static{a(this,"ZodLiteral")}_parse(t){if(t.data!==this._def.value){let r=this._getOrReturnCtx(t);return _e(r,{received:r.data,code:ue.invalid_literal,expected:this._def.value}),Me}return{status:"valid",value:t.data}}get value(){return this._def.value}};hc.create=(e,t)=>new hc({value:e,typeName:U.ZodLiteral,...Xe(t)});function a4(e,t){return new gc({values:e,typeName:U.ZodEnum,...Xe(t)})}a(a4,"createZodEnum");var gc=class e extends it{static{a(this,"ZodEnum")}_parse(t){if(typeof t.data!="string"){let r=this._getOrReturnCtx(t),n=this._def.values;return _e(r,{expected:ft.joinValues(n),received:r.parsedType,code:ue.invalid_type}),Me}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){let r=this._getOrReturnCtx(t),n=this._def.values;return _e(r,{received:r.data,code:ue.invalid_enum_value,options:n}),Me}return sn(t.data)}get options(){return this._def.values}get enum(){let t={};for(let r of this._def.values)t[r]=r;return t}get Values(){let t={};for(let r of this._def.values)t[r]=r;return t}get Enum(){let t={};for(let r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return e.create(t,{...this._def,...r})}exclude(t,r=this._def){return e.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}};gc.create=a4;var yc=class extends it{static{a(this,"ZodNativeEnum")}_parse(t){let r=ft.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==we.string&&n.parsedType!==we.number){let o=ft.objectValues(r);return _e(n,{expected:ft.joinValues(o),received:n.parsedType,code:ue.invalid_type}),Me}if(this._cache||(this._cache=new Set(ft.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){let o=ft.objectValues(r);return _e(n,{received:n.data,code:ue.invalid_enum_value,options:o}),Me}return sn(t.data)}get enum(){return this._def.values}};yc.create=(e,t)=>new yc({values:e,typeName:U.ZodNativeEnum,...Xe(t)});var Ts=class extends it{static{a(this,"ZodPromise")}unwrap(){return this._def.type}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==we.promise&&r.common.async===!1)return _e(r,{code:ue.invalid_type,expected:we.promise,received:r.parsedType}),Me;let n=r.parsedType===we.promise?r.data:Promise.resolve(r.data);return sn(n.then(o=>this._def.type.parseAsync(o,{path:r.path,errorMap:r.common.contextualErrorMap})))}};Ts.create=(e,t)=>new Ts({type:e,typeName:U.ZodPromise,...Xe(t)});var ko=class extends it{static{a(this,"ZodEffects")}innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===U.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){let{status:r,ctx:n}=this._processInputParams(t),o=this._def.effect||null,i={addIssue:a(s=>{_e(n,s),s.fatal?r.abort():r.dirty()},"addIssue"),get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),o.type==="preprocess"){let s=o.transform(n.data,i);if(n.common.async)return Promise.resolve(s).then(async u=>{if(r.value==="aborted")return Me;let l=await this._def.schema._parseAsync({data:u,path:n.path,parent:n});return l.status==="aborted"?Me:l.status==="dirty"?sc(l.value):r.value==="dirty"?sc(l.value):l});{if(r.value==="aborted")return Me;let u=this._def.schema._parseSync({data:s,path:n.path,parent:n});return u.status==="aborted"?Me:u.status==="dirty"?sc(u.value):r.value==="dirty"?sc(u.value):u}}if(o.type==="refinement"){let s=a(u=>{let l=o.refinement(u,i);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u},"executeRefinement");if(n.common.async===!1){let u=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return u.status==="aborted"?Me:(u.status==="dirty"&&r.dirty(),s(u.value),{status:r.value,value:u.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(u=>u.status==="aborted"?Me:(u.status==="dirty"&&r.dirty(),s(u.value).then(()=>({status:r.value,value:u.value}))))}if(o.type==="transform")if(n.common.async===!1){let s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!xs(s))return Me;let u=o.transform(s.value,i);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:u}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>xs(s)?Promise.resolve(o.transform(s.value,i)).then(u=>({status:r.value,value:u})):Me);ft.assertNever(o)}};ko.create=(e,t,r)=>new ko({schema:e,typeName:U.ZodEffects,effect:t,...Xe(r)});ko.createWithPreprocess=(e,t,r)=>new ko({schema:t,effect:{type:"preprocess",transform:e},typeName:U.ZodEffects,...Xe(r)});var Eo=class extends it{static{a(this,"ZodOptional")}_parse(t){return this._getType(t)===we.undefined?sn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};Eo.create=(e,t)=>new Eo({innerType:e,typeName:U.ZodOptional,...Xe(t)});var Mi=class extends it{static{a(this,"ZodNullable")}_parse(t){return this._getType(t)===we.null?sn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};Mi.create=(e,t)=>new Mi({innerType:e,typeName:U.ZodNullable,...Xe(t)});var vc=class extends it{static{a(this,"ZodDefault")}_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return r.parsedType===we.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};vc.create=(e,t)=>new vc({innerType:e,typeName:U.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Xe(t)});var _c=class extends it{static{a(this,"ZodCatch")}_parse(t){let{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},o=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return op(o)?o.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new qn(n.common.issues)},input:n.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new qn(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};_c.create=(e,t)=>new _c({innerType:e,typeName:U.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Xe(t)});var fp=class extends it{static{a(this,"ZodNaN")}_parse(t){if(this._getType(t)!==we.nan){let n=this._getOrReturnCtx(t);return _e(n,{code:ue.invalid_type,expected:we.nan,received:n.parsedType}),Me}return{status:"valid",value:t.data}}};fp.create=e=>new fp({typeName:U.ZodNaN,...Xe(e)});var o9e=Symbol("zod_brand"),Cg=class extends it{static{a(this,"ZodBranded")}_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},Rg=class e extends it{static{a(this,"ZodPipeline")}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return a(async()=>{let i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Me:i.status==="dirty"?(r.dirty(),sc(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})},"handleAsync")();{let o=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Me:o.status==="dirty"?(r.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:n.path,parent:n})}}static create(t,r){return new e({in:t,out:r,typeName:U.ZodPipeline})}},bc=class extends it{static{a(this,"ZodReadonly")}_parse(t){let r=this._def.innerType._parse(t),n=a(o=>(xs(o)&&(o.value=Object.freeze(o.value)),o),"freeze");return op(r)?r.then(o=>n(o)):n(r)}unwrap(){return this._def.innerType}};bc.create=(e,t)=>new bc({innerType:e,typeName:U.ZodReadonly,...Xe(t)});var i9e={object:Un.lazycreate},U;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(U||(U={}));var a9e=cc.create,s9e=ip.create,u9e=fp.create,c9e=ap.create,l9e=sp.create,d9e=up.create,p9e=cp.create,m9e=lc.create,f9e=dc.create,h9e=lp.create,g9e=Oa.create,y9e=Qo.create,v9e=dp.create,_9e=Aa.create,b9e=Un.create,S9e=Un.strictCreate,w9e=pc.create,x9e=kC.create,T9e=mc.create,E9e=Di.create,k9e=IC.create,P9e=pp.create,I9e=mp.create,O9e=OC.create,A9e=fc.create,C9e=hc.create,R9e=gc.create,$9e=yc.create,N9e=Ts.create,z9e=ko.create,j9e=Eo.create,D9e=Mi.create,M9e=ko.createWithPreprocess,q9e=Rg.create;function Qt(e){if(e.target!=="openAi")return{};let t=[...e.basePath,e.definitionPath,e.openAiAnyTypeName];return e.flags.hasReferencedOpenAiAnyType=!0,{$ref:e.$refStrategy==="relative"?Og(t,e.currentPath):t.join("/")}}a(Qt,"parseAnyDef");function s4(e,t){let r={type:"array"};return e.type?._def&&e.type?._def?.typeName!==U.ZodAny&&(r.items=qe(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&vt(r,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&vt(r,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&(vt(r,"minItems",e.exactLength.value,e.exactLength.message,t),vt(r,"maxItems",e.exactLength.value,e.exactLength.message,t)),r}a(s4,"parseArrayDef");function u4(e,t){let r={type:"integer",format:"int64"};if(!e.checks)return r;for(let n of e.checks)switch(n.kind){case"min":t.target==="jsonSchema7"?n.inclusive?vt(r,"minimum",n.value,n.message,t):vt(r,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(r.exclusiveMinimum=!0),vt(r,"minimum",n.value,n.message,t));break;case"max":t.target==="jsonSchema7"?n.inclusive?vt(r,"maximum",n.value,n.message,t):vt(r,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(r.exclusiveMaximum=!0),vt(r,"maximum",n.value,n.message,t));break;case"multipleOf":vt(r,"multipleOf",n.value,n.message,t);break}return r}a(u4,"parseBigintDef");function c4(){return{type:"boolean"}}a(c4,"parseBooleanDef");function $g(e,t){return qe(e.type._def,t)}a($g,"parseBrandedDef");var l4=a((e,t)=>qe(e.innerType._def,t),"parseCatchDef");function AC(e,t,r){let n=r??t.dateStrategy;if(Array.isArray(n))return{anyOf:n.map((o,i)=>AC(e,t,o))};switch(n){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return Jce(e,t)}}a(AC,"parseDateDef");var Jce=a((e,t)=>{let r={type:"integer",format:"unix-time"};if(t.target==="openApi3")return r;for(let n of e.checks)switch(n.kind){case"min":vt(r,"minimum",n.value,n.message,t);break;case"max":vt(r,"maximum",n.value,n.message,t);break}return r},"integerDateParser");function d4(e,t){return{...qe(e.innerType._def,t),default:e.defaultValue()}}a(d4,"parseDefaultDef");function p4(e,t){return t.effectStrategy==="input"?qe(e.schema._def,t):Qt(t)}a(p4,"parseEffectsDef");function m4(e){return{type:"string",enum:Array.from(e.values)}}a(m4,"parseEnumDef");var Hce=a(e=>"type"in e&&e.type==="string"?!1:"allOf"in e,"isJsonSchema7AllOfType");function f4(e,t){let r=[qe(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),qe(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(i=>!!i),n=t.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0,o=[];return r.forEach(i=>{if(Hce(i))o.push(...i.allOf),i.unevaluatedProperties===void 0&&(n=void 0);else{let s=i;if("additionalProperties"in i&&i.additionalProperties===!1){let{additionalProperties:u,...l}=i;s=l}else n=void 0;o.push(s)}}),o.length?{allOf:o,...n}:void 0}a(f4,"parseIntersectionDef");function h4(e,t){let r=typeof e.value;return r!=="bigint"&&r!=="number"&&r!=="boolean"&&r!=="string"?{type:Array.isArray(e.value)?"array":"object"}:t.target==="openApi3"?{type:r==="bigint"?"integer":r,enum:[e.value]}:{type:r==="bigint"?"integer":r,const:e.value}}a(h4,"parseLiteralDef");var CC,Po={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:a(()=>(CC===void 0&&(CC=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),CC),"emoji"),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function Ng(e,t){let r={type:"string"};if(e.checks)for(let n of e.checks)switch(n.kind){case"min":vt(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,n.message,t);break;case"max":vt(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value,n.message,t);break;case"email":switch(t.emailStrategy){case"format:email":Io(r,"email",n.message,t);break;case"format:idn-email":Io(r,"idn-email",n.message,t);break;case"pattern:zod":un(r,Po.email,n.message,t);break}break;case"url":Io(r,"uri",n.message,t);break;case"uuid":Io(r,"uuid",n.message,t);break;case"regex":un(r,n.regex,n.message,t);break;case"cuid":un(r,Po.cuid,n.message,t);break;case"cuid2":un(r,Po.cuid2,n.message,t);break;case"startsWith":un(r,RegExp(`^${RC(n.value,t)}`),n.message,t);break;case"endsWith":un(r,RegExp(`${RC(n.value,t)}$`),n.message,t);break;case"datetime":Io(r,"date-time",n.message,t);break;case"date":Io(r,"date",n.message,t);break;case"time":Io(r,"time",n.message,t);break;case"duration":Io(r,"duration",n.message,t);break;case"length":vt(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,n.message,t),vt(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value,n.message,t);break;case"includes":{un(r,RegExp(RC(n.value,t)),n.message,t);break}case"ip":{n.version!=="v6"&&Io(r,"ipv4",n.message,t),n.version!=="v4"&&Io(r,"ipv6",n.message,t);break}case"base64url":un(r,Po.base64url,n.message,t);break;case"jwt":un(r,Po.jwt,n.message,t);break;case"cidr":{n.version!=="v6"&&un(r,Po.ipv4Cidr,n.message,t),n.version!=="v4"&&un(r,Po.ipv6Cidr,n.message,t);break}case"emoji":un(r,Po.emoji(),n.message,t);break;case"ulid":{un(r,Po.ulid,n.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{Io(r,"binary",n.message,t);break}case"contentEncoding:base64":{vt(r,"contentEncoding","base64",n.message,t);break}case"pattern:zod":{un(r,Po.base64,n.message,t);break}}break}case"nanoid":un(r,Po.nanoid,n.message,t);case"toLowerCase":case"toUpperCase":case"trim":break;default:}return r}a(Ng,"parseStringDef");function RC(e,t){return t.patternStrategy==="escape"?Zce(e):e}a(RC,"escapeLiteralCheckValue");var Vce=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function Zce(e){let t="";for(let r=0;r<e.length;r++)Vce.has(e[r])||(t+="\\"),t+=e[r];return t}a(Zce,"escapeNonAlphaNumeric");function Io(e,t,r,n){e.format||e.anyOf?.some(o=>o.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&n.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.anyOf.push({format:t,...r&&n.errorMessages&&{errorMessage:{format:r}}})):vt(e,"format",t,r,n)}a(Io,"addFormat");function un(e,t,r,n){e.pattern||e.allOf?.some(o=>o.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&n.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.allOf.push({pattern:g4(t,n),...r&&n.errorMessages&&{errorMessage:{pattern:r}}})):vt(e,"pattern",g4(t,n),r,n)}a(un,"addPattern");function g4(e,t){if(!t.applyRegexFlags||!e.flags)return e.source;let r={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},n=r.i?e.source.toLowerCase():e.source,o="",i=!1,s=!1,u=!1;for(let l=0;l<n.length;l++){if(i){o+=n[l],i=!1;continue}if(r.i){if(s){if(n[l].match(/[a-z]/)){u?(o+=n[l],o+=`${n[l-2]}-${n[l]}`.toUpperCase(),u=!1):n[l+1]==="-"&&n[l+2]?.match(/[a-z]/)?(o+=n[l],u=!0):o+=`${n[l]}${n[l].toUpperCase()}`;continue}}else if(n[l].match(/[a-z]/)){o+=`[${n[l]}${n[l].toUpperCase()}]`;continue}}if(r.m){if(n[l]==="^"){o+=`(^|(?<=[\r
]))`;continue}else if(n[l]==="$"){o+=`($|(?=[\r
]))`;continue}}if(r.s&&n[l]==="."){o+=s?`${n[l]}\r
`:`[${n[l]}\r
]`;continue}o+=n[l],n[l]==="\\"?i=!0:s&&n[l]==="]"?s=!1:!s&&n[l]==="["&&(s=!0)}try{new RegExp(o)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return o}a(g4,"stringifyRegExpWithFlags");function zg(e,t){if(t.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),t.target==="openApi3"&&e.keyType?._def.typeName===U.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((n,o)=>({...n,[o]:qe(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",o]})??Qt(t)}),{}),additionalProperties:t.rejectedAdditionalProperties};let r={type:"object",additionalProperties:qe(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??t.allowedAdditionalProperties};if(t.target==="openApi3")return r;if(e.keyType?._def.typeName===U.ZodString&&e.keyType._def.checks?.length){let{type:n,...o}=Ng(e.keyType._def,t);return{...r,propertyNames:o}}else{if(e.keyType?._def.typeName===U.ZodEnum)return{...r,propertyNames:{enum:e.keyType._def.values}};if(e.keyType?._def.typeName===U.ZodBranded&&e.keyType._def.type._def.typeName===U.ZodString&&e.keyType._def.type._def.checks?.length){let{type:n,...o}=$g(e.keyType._def,t);return{...r,propertyNames:o}}}return r}a(zg,"parseRecordDef");function y4(e,t){if(t.mapStrategy==="record")return zg(e,t);let r=qe(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||Qt(t),n=qe(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||Qt(t);return{type:"array",maxItems:125,items:{type:"array",items:[r,n],minItems:2,maxItems:2}}}a(y4,"parseMapDef");function v4(e){let t=e.values,n=Object.keys(e.values).filter(i=>typeof t[t[i]]!="number").map(i=>t[i]),o=Array.from(new Set(n.map(i=>typeof i)));return{type:o.length===1?o[0]==="string"?"string":"number":["string","number"],enum:n}}a(v4,"parseNativeEnumDef");function _4(e){return e.target==="openAi"?void 0:{not:Qt({...e,currentPath:[...e.currentPath,"not"]})}}a(_4,"parseNeverDef");function b4(e){return e.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}a(b4,"parseNullDef");var hp={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function w4(e,t){if(t.target==="openApi3")return S4(e,t);let r=e.options instanceof Map?Array.from(e.options.values()):e.options;if(r.every(n=>n._def.typeName in hp&&(!n._def.checks||!n._def.checks.length))){let n=r.reduce((o,i)=>{let s=hp[i._def.typeName];return s&&!o.includes(s)?[...o,s]:o},[]);return{type:n.length>1?n:n[0]}}else if(r.every(n=>n._def.typeName==="ZodLiteral"&&!n.description)){let n=r.reduce((o,i)=>{let s=typeof i._def.value;switch(s){case"string":case"number":case"boolean":return[...o,s];case"bigint":return[...o,"integer"];case"object":if(i._def.value===null)return[...o,"null"];case"symbol":case"undefined":case"function":default:return o}},[]);if(n.length===r.length){let o=n.filter((i,s,u)=>u.indexOf(i)===s);return{type:o.length>1?o:o[0],enum:r.reduce((i,s)=>i.includes(s._def.value)?i:[...i,s._def.value],[])}}}else if(r.every(n=>n._def.typeName==="ZodEnum"))return{type:"string",enum:r.reduce((n,o)=>[...n,...o._def.values.filter(i=>!n.includes(i))],[])};return S4(e,t)}a(w4,"parseUnionDef");var S4=a((e,t)=>{let r=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((n,o)=>qe(n._def,{...t,currentPath:[...t.currentPath,"anyOf",`${o}`]})).filter(n=>!!n&&(!t.strictUnions||typeof n=="object"&&Object.keys(n).length>0));return r.length?{anyOf:r}:void 0},"asAnyOf");function x4(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return t.target==="openApi3"?{type:hp[e.innerType._def.typeName],nullable:!0}:{type:[hp[e.innerType._def.typeName],"null"]};if(t.target==="openApi3"){let n=qe(e.innerType._def,{...t,currentPath:[...t.currentPath]});return n&&"$ref"in n?{allOf:[n],nullable:!0}:n&&{...n,nullable:!0}}let r=qe(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}a(x4,"parseNullableDef");function T4(e,t){let r={type:"number"};if(!e.checks)return r;for(let n of e.checks)switch(n.kind){case"int":r.type="integer",wC(r,"type",n.message,t);break;case"min":t.target==="jsonSchema7"?n.inclusive?vt(r,"minimum",n.value,n.message,t):vt(r,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(r.exclusiveMinimum=!0),vt(r,"minimum",n.value,n.message,t));break;case"max":t.target==="jsonSchema7"?n.inclusive?vt(r,"maximum",n.value,n.message,t):vt(r,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(r.exclusiveMaximum=!0),vt(r,"maximum",n.value,n.message,t));break;case"multipleOf":vt(r,"multipleOf",n.value,n.message,t);break}return r}a(T4,"parseNumberDef");function E4(e,t){let r=t.target==="openAi",n={type:"object",properties:{}},o=[],i=e.shape();for(let u in i){let l=i[u];if(l===void 0||l._def===void 0)continue;let d=Gce(l);d&&r&&(l._def.typeName==="ZodOptional"&&(l=l._def.innerType),l.isNullable()||(l=l.nullable()),d=!1);let p=qe(l._def,{...t,currentPath:[...t.currentPath,"properties",u],propertyPath:[...t.currentPath,"properties",u]});p!==void 0&&(n.properties[u]=p,d||o.push(u))}o.length&&(n.required=o);let s=Kce(e,t);return s!==void 0&&(n.additionalProperties=s),n}a(E4,"parseObjectDef");function Kce(e,t){if(e.catchall._def.typeName!=="ZodNever")return qe(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}a(Kce,"decideAdditionalProperties");function Gce(e){try{return e.isOptional()}catch{return!0}}a(Gce,"safeIsOptional");var k4=a((e,t)=>{if(t.currentPath.toString()===t.propertyPath?.toString())return qe(e.innerType._def,t);let r=qe(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return r?{anyOf:[{not:Qt(t)},r]}:Qt(t)},"parseOptionalDef");var P4=a((e,t)=>{if(t.pipeStrategy==="input")return qe(e.in._def,t);if(t.pipeStrategy==="output")return qe(e.out._def,t);let r=qe(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),n=qe(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,n].filter(o=>o!==void 0)}},"parsePipelineDef");function I4(e,t){return qe(e.type._def,t)}a(I4,"parsePromiseDef");function O4(e,t){let n={type:"array",uniqueItems:!0,items:qe(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&vt(n,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&vt(n,"maxItems",e.maxSize.value,e.maxSize.message,t),n}a(O4,"parseSetDef");function A4(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((r,n)=>qe(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[]),additionalItems:qe(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((r,n)=>qe(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[])}}a(A4,"parseTupleDef");function C4(e){return{not:Qt(e)}}a(C4,"parseUndefinedDef");function R4(e){return Qt(e)}a(R4,"parseUnknownDef");var $4=a((e,t)=>qe(e.innerType._def,t),"parseReadonlyDef");var N4=a((e,t,r)=>{switch(t){case U.ZodString:return Ng(e,r);case U.ZodNumber:return T4(e,r);case U.ZodObject:return E4(e,r);case U.ZodBigInt:return u4(e,r);case U.ZodBoolean:return c4();case U.ZodDate:return AC(e,r);case U.ZodUndefined:return C4(r);case U.ZodNull:return b4(r);case U.ZodArray:return s4(e,r);case U.ZodUnion:case U.ZodDiscriminatedUnion:return w4(e,r);case U.ZodIntersection:return f4(e,r);case U.ZodTuple:return A4(e,r);case U.ZodRecord:return zg(e,r);case U.ZodLiteral:return h4(e,r);case U.ZodEnum:return m4(e);case U.ZodNativeEnum:return v4(e);case U.ZodNullable:return x4(e,r);case U.ZodOptional:return k4(e,r);case U.ZodMap:return y4(e,r);case U.ZodSet:return O4(e,r);case U.ZodLazy:return()=>e.getter()._def;case U.ZodPromise:return I4(e,r);case U.ZodNaN:case U.ZodNever:return _4(r);case U.ZodEffects:return p4(e,r);case U.ZodAny:return Qt(r);case U.ZodUnknown:return R4(r);case U.ZodDefault:return d4(e,r);case U.ZodBranded:return $g(e,r);case U.ZodReadonly:return $4(e,r);case U.ZodCatch:return l4(e,r);case U.ZodPipeline:return P4(e,r);case U.ZodFunction:case U.ZodVoid:case U.ZodSymbol:return;default:return(n=>{})(t)}},"selectParser");function qe(e,t,r=!1){let n=t.seen.get(e);if(t.override){let u=t.override?.(e,t,n,r);if(u!==YL)return u}if(n&&!r){let u=Wce(n,t);if(u!==void 0)return u}let o={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,o);let i=N4(e,e.typeName,t),s=typeof i=="function"?qe(i(),t):i;if(s&&Qce(e,t,s),t.postProcess){let u=t.postProcess(s,e,t);return o.jsonSchema=s,u}return o.jsonSchema=s,s}a(qe,"parseDef");var Wce=a((e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:Og(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((r,n)=>t.currentPath[n]===r)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),Qt(t)):t.$refStrategy==="seen"?Qt(t):void 0}},"get$ref"),Qce=a((e,t,r)=>(e.description&&(r.description=e.description,t.markdownDescription&&(r.markdownDescription=e.description)),r),"addMeta");var z4=a((e,t)=>{let r=t4(t),n=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((l,[d,p])=>({...l,[d]:qe(p._def,{...r,currentPath:[...r.basePath,r.definitionPath,d]},!0)??Qt(r)}),{}):void 0,o=typeof t=="string"?t:t?.nameStrategy==="title"?void 0:t?.name,i=qe(e._def,o===void 0?r:{...r,currentPath:[...r.basePath,r.definitionPath,o]},!1)??Qt(r),s=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;s!==void 0&&(i.title=s),r.flags.hasReferencedOpenAiAnyType&&(n||(n={}),n[r.openAiAnyTypeName]||(n[r.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:r.$refStrategy==="relative"?"1":[...r.basePath,r.definitionPath,r.openAiAnyTypeName].join("/")}}));let u=o===void 0?n?{...i,[r.definitionPath]:n}:i:{$ref:[...r.$refStrategy==="relative"?[]:r.basePath,r.definitionPath,o].join("/"),[r.definitionPath]:{...n,[o]:i}};return r.target==="jsonSchema7"?u.$schema="http://json-schema.org/draft-07/schema#":(r.target==="jsonSchema2019-09"||r.target==="openAi")&&(u.$schema="https://json-schema.org/draft/2019-09/schema#"),r.target==="openAi"&&("anyOf"in u||"oneOf"in u||"allOf"in u||"type"in u&&Array.isArray(u.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),u},"zodToJsonSchema");var j4=z4;var gp={code:"0",name:"text",parse:a(e=>{if(typeof e!="string")throw new Error('"text" parts expect a string value.');return{type:"text",value:e}},"parse")},yp={code:"1",name:"function_call",parse:a(e=>{if(e==null||typeof e!="object"||!("function_call"in e)||typeof e.function_call!="object"||e.function_call==null||!("name"in e.function_call)||!("arguments"in e.function_call)||typeof e.function_call.name!="string"||typeof e.function_call.arguments!="string")throw new Error('"function_call" parts expect an object with a "function_call" property.');return{type:"function_call",value:e}},"parse")},vp={code:"2",name:"data",parse:a(e=>{if(!Array.isArray(e))throw new Error('"data" parts expect an array value.');return{type:"data",value:e}},"parse")},_p={code:"3",name:"error",parse:a(e=>{if(typeof e!="string")throw new Error('"error" parts expect a string value.');return{type:"error",value:e}},"parse")},bp={code:"4",name:"assistant_message",parse:a(e=>{if(e==null||typeof e!="object"||!("id"in e)||!("role"in e)||!("content"in e)||typeof e.id!="string"||typeof e.role!="string"||e.role!=="assistant"||!Array.isArray(e.content)||!e.content.every(t=>t!=null&&typeof t=="object"&&"type"in t&&t.type==="text"&&"text"in t&&t.text!=null&&typeof t.text=="object"&&"value"in t.text&&typeof t.text.value=="string"))throw new Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:e}},"parse")},Sp={code:"5",name:"assistant_control_data",parse:a(e=>{if(e==null||typeof e!="object"||!("threadId"in e)||!("messageId"in e)||typeof e.threadId!="string"||typeof e.messageId!="string")throw new Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:e.threadId,messageId:e.messageId}}},"parse")},wp={code:"6",name:"data_message",parse:a(e=>{if(e==null||typeof e!="object"||!("role"in e)||!("data"in e)||typeof e.role!="string"||e.role!=="data")throw new Error('"data_message" parts expect an object with a "role" and "data" property.');return{type:"data_message",value:e}},"parse")},xp={code:"7",name:"tool_calls",parse:a(e=>{if(e==null||typeof e!="object"||!("tool_calls"in e)||typeof e.tool_calls!="object"||e.tool_calls==null||!Array.isArray(e.tool_calls)||e.tool_calls.some(t=>t==null||typeof t!="object"||!("id"in t)||typeof t.id!="string"||!("type"in t)||typeof t.type!="string"||!("function"in t)||t.function==null||typeof t.function!="object"||!("arguments"in t.function)||typeof t.function.name!="string"||typeof t.function.arguments!="string"))throw new Error('"tool_calls" parts expect an object with a ToolCallPayload.');return{type:"tool_calls",value:e}},"parse")},Tp={code:"8",name:"message_annotations",parse:a(e=>{if(!Array.isArray(e))throw new Error('"message_annotations" parts expect an array value.');return{type:"message_annotations",value:e}},"parse")},Ep={code:"9",name:"tool_call",parse:a(e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("toolName"in e)||typeof e.toolName!="string"||!("args"in e)||typeof e.args!="object")throw new Error('"tool_call" parts expect an object with a "toolCallId", "toolName", and "args" property.');return{type:"tool_call",value:e}},"parse")},kp={code:"a",name:"tool_result",parse:a(e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("result"in e))throw new Error('"tool_result" parts expect an object with a "toolCallId" and a "result" property.');return{type:"tool_result",value:e}},"parse")},Pp={code:"b",name:"tool_call_streaming_start",parse:a(e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("toolName"in e)||typeof e.toolName!="string")throw new Error('"tool_call_streaming_start" parts expect an object with a "toolCallId" and "toolName" property.');return{type:"tool_call_streaming_start",value:e}},"parse")},Ip={code:"c",name:"tool_call_delta",parse:a(e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("argsTextDelta"in e)||typeof e.argsTextDelta!="string")throw new Error('"tool_call_delta" parts expect an object with a "toolCallId" and "argsTextDelta" property.');return{type:"tool_call_delta",value:e}},"parse")},Op={code:"d",name:"finish_message",parse:a(e=>{if(e==null||typeof e!="object"||!("finishReason"in e)||typeof e.finishReason!="string")throw new Error('"finish_message" parts expect an object with a "finishReason" property.');let t={finishReason:e.finishReason};return"usage"in e&&e.usage!=null&&typeof e.usage=="object"&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:typeof e.usage.promptTokens=="number"?e.usage.promptTokens:Number.NaN,completionTokens:typeof e.usage.completionTokens=="number"?e.usage.completionTokens:Number.NaN}),{type:"finish_message",value:t}},"parse")},Ap={code:"e",name:"finish_step",parse:a(e=>{if(e==null||typeof e!="object"||!("finishReason"in e)||typeof e.finishReason!="string")throw new Error('"finish_step" parts expect an object with a "finishReason" property.');let t={finishReason:e.finishReason,isContinued:!1};return"usage"in e&&e.usage!=null&&typeof e.usage=="object"&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:typeof e.usage.promptTokens=="number"?e.usage.promptTokens:Number.NaN,completionTokens:typeof e.usage.completionTokens=="number"?e.usage.completionTokens:Number.NaN}),"isContinued"in e&&typeof e.isContinued=="boolean"&&(t.isContinued=e.isContinued),{type:"finish_step",value:t}},"parse")},D4=[gp,yp,vp,_p,bp,Sp,wp,xp,Tp,Ep,kp,Pp,Ip,Op,Ap],gKe={[gp.code]:gp,[yp.code]:yp,[vp.code]:vp,[_p.code]:_p,[bp.code]:bp,[Sp.code]:Sp,[wp.code]:wp,[xp.code]:xp,[Tp.code]:Tp,[Ep.code]:Ep,[kp.code]:kp,[Pp.code]:Pp,[Ip.code]:Ip,[Op.code]:Op,[Ap.code]:Ap},yKe={[gp.name]:gp.code,[yp.name]:yp.code,[vp.name]:vp.code,[_p.name]:_p.code,[bp.name]:bp.code,[Sp.name]:Sp.code,[wp.name]:wp.code,[xp.name]:xp.code,[Tp.name]:Tp.code,[Ep.name]:Ep.code,[kp.name]:kp.code,[Pp.name]:Pp.code,[Ip.name]:Ip.code,[Op.name]:Op.code,[Ap.name]:Ap.code},vKe=D4.map(e=>e.code);function Oo(e,t){let r=D4.find(n=>n.name===e);if(!r)throw new Error(`Invalid stream part type: ${e}`);return`${r.code}:${JSON.stringify(t)}
`}a(Oo,"formatStreamPart");var $C=Symbol.for("vercel.ai.schema");function Yce(e,{validate:t}={}){return{[$C]:!0,_type:void 0,[QL]:!0,jsonSchema:e,validate:t}}a(Yce,"jsonSchema");function ele(e){return typeof e=="object"&&e!==null&&$C in e&&e[$C]===!0&&"jsonSchema"in e&&"validate"in e}a(ele,"isSchema");function jg(e){return ele(e)?e:tle(e)}a(jg,"asSchema");function tle(e){return Yce(j4(e),{validate:a(t=>{let r=e.safeParse(t);return r.success?{success:!0,value:r.data}:{success:!1,error:r.error}},"validate")})}a(tle,"zodSchema");var M4="vercel.ai.error",rle=Symbol.for(M4),q4,nle=class U4 extends Error{static{a(this,"_AISDKError")}constructor({name:t,message:r,cause:n}){super(r),this[q4]=!0,this.name=t,this.cause=n}static isInstance(t){return U4.hasMarker(t,M4)}static hasMarker(t,r){let n=Symbol.for(r);return t!=null&&typeof t=="object"&&n in t&&typeof t[n]=="boolean"&&t[n]===!0}toJSON(){return{name:this.name,message:this.message}}};q4=rle;var _t=nle,NC="AI_APICallError",L4=`vercel.ai.error.${NC}`,ole=Symbol.for(L4),F4,B4=class extends _t{static{a(this,"APICallError")}constructor({message:e,url:t,requestBodyValues:r,statusCode:n,responseHeaders:o,responseBody:i,cause:s,isRetryable:u=n!=null&&(n===408||n===409||n===429||n>=500),data:l}){super({name:NC,message:e,cause:s}),this[F4]=!0,this.url=t,this.requestBodyValues=r,this.statusCode=n,this.responseHeaders=o,this.responseBody=i,this.isRetryable=u,this.data=l}static isInstance(e){return _t.hasMarker(e,L4)}static isAPICallError(e){return e instanceof Error&&e.name===NC&&typeof e.url=="string"&&typeof e.requestBodyValues=="object"&&(e.statusCode==null||typeof e.statusCode=="number")&&(e.responseHeaders==null||typeof e.responseHeaders=="object")&&(e.responseBody==null||typeof e.responseBody=="string")&&(e.cause==null||typeof e.cause=="object")&&typeof e.isRetryable=="boolean"&&(e.data==null||typeof e.data=="object")}toJSON(){return{name:this.name,message:this.message,url:this.url,requestBodyValues:this.requestBodyValues,statusCode:this.statusCode,responseHeaders:this.responseHeaders,responseBody:this.responseBody,cause:this.cause,isRetryable:this.isRetryable,data:this.data}}};F4=ole;var ile="AI_EmptyResponseBodyError",ale=`vercel.ai.error.${ile}`,sle=Symbol.for(ale),ule;ule=sle;function Dg(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}a(Dg,"getErrorMessage");var J4="AI_InvalidArgumentError",H4=`vercel.ai.error.${J4}`,cle=Symbol.for(H4),V4,Z4=class extends _t{static{a(this,"InvalidArgumentError")}constructor({message:e,cause:t,argument:r}){super({name:J4,message:e,cause:t}),this[V4]=!0,this.argument=r}static isInstance(e){return _t.hasMarker(e,H4)}};V4=cle;var zC="AI_InvalidPromptError",K4=`vercel.ai.error.${zC}`,lle=Symbol.for(K4),G4,Es=class extends _t{static{a(this,"InvalidPromptError")}constructor({prompt:e,message:t,cause:r}){super({name:zC,message:`Invalid prompt: ${t}`,cause:r}),this[G4]=!0,this.prompt=e}static isInstance(e){return _t.hasMarker(e,K4)}static isInvalidPromptError(e){return e instanceof Error&&e.name===zC&&prompt!=null}toJSON(){return{name:this.name,message:this.message,stack:this.stack,prompt:this.prompt}}};G4=lle;var dle="AI_InvalidResponseDataError",ple=`vercel.ai.error.${dle}`,mle=Symbol.for(ple),fle;fle=mle;var jC="AI_JSONParseError",W4=`vercel.ai.error.${jC}`,hle=Symbol.for(W4),Q4,qC=class extends _t{static{a(this,"JSONParseError")}constructor({text:e,cause:t}){super({name:jC,message:`JSON parsing failed: Text: ${e}.
Error message: ${Dg(t)}`,cause:t}),this[Q4]=!0,this.text=e}static isInstance(e){return _t.hasMarker(e,W4)}static isJSONParseError(e){return e instanceof Error&&e.name===jC&&"text"in e&&typeof e.text=="string"}toJSON(){return{name:this.name,message:this.message,cause:this.cause,stack:this.stack,valueText:this.text}}};Q4=hle;var gle="AI_LoadAPIKeyError",yle=`vercel.ai.error.${gle}`,vle=Symbol.for(yle),_le;_le=vle;var ble="AI_LoadSettingError",Sle=`vercel.ai.error.${ble}`,wle=Symbol.for(Sle),xle;xle=wle;var Tle="AI_NoContentGeneratedError",Ele=`vercel.ai.error.${Tle}`,kle=Symbol.for(Ele),Ple;Ple=kle;var Ile="AI_NoSuchModelError",Ole=`vercel.ai.error.${Ile}`,Ale=Symbol.for(Ole),Cle;Cle=Ale;var Rle="AI_TooManyEmbeddingValuesForCallError",$le=`vercel.ai.error.${Rle}`,Nle=Symbol.for($le),zle;zle=Nle;var DC="AI_TypeValidationError",X4=`vercel.ai.error.${DC}`,jle=Symbol.for(X4),Y4,Dle=class MC extends _t{static{a(this,"_TypeValidationError")}constructor({value:t,cause:r}){super({name:DC,message:`Type validation failed: Value: ${JSON.stringify(t)}.
Error message: ${Dg(r)}`,cause:r}),this[Y4]=!0,this.value=t}static isInstance(t){return _t.hasMarker(t,X4)}static wrap({value:t,cause:r}){return MC.isInstance(r)&&r.value===t?r:new MC({value:t,cause:r})}static isTypeValidationError(t){return t instanceof Error&&t.name===DC}toJSON(){return{name:this.name,message:this.message,cause:this.cause,stack:this.stack,value:this.value}}};Y4=jle;var Mg=Dle,Mle="AI_UnsupportedFunctionalityError",qle=`vercel.ai.error.${Mle}`,Ule=Symbol.for(qle),Lle;Lle=Ule;var eF=a((e,t=21)=>(r=t)=>{let n="",o=r|0;for(;o--;)n+=e[Math.random()*e.length|0];return n},"customAlphabet");var nF=ou(Ig(),1);var qi=a(({prefix:e,size:t=7,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:n="-"}={})=>{let o=eF(r,t);if(e==null)return o;if(r.includes(n))throw new Z4({argument:"separator",message:`The separator "${n}" must not be part of the alphabet "${r}".`});return i=>`${e}${n}${o(i)}`},"createIdGenerator"),$Ke=qi();function tF(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}a(tF,"getErrorMessage");function rF(e){return e instanceof Error&&(e.name==="AbortError"||e.name==="TimeoutError")}a(rF,"isAbortError");var UC=Symbol.for("vercel.ai.validator");function Fle(e){return{[UC]:!0,validate:e}}a(Fle,"validator");function Ble(e){return typeof e=="object"&&e!==null&&UC in e&&e[UC]===!0&&"validate"in e}a(Ble,"isValidator");function Jle(e){return Ble(e)?e:Hle(e)}a(Jle,"asValidator");function Hle(e){return Fle(t=>{let r=e.safeParse(t);return r.success?{success:!0,value:r.data}:{success:!1,error:r.error}})}a(Hle,"zodValidator");function Cp({value:e,schema:t}){let r=Jle(t);try{if(r.validate==null)return{success:!0,value:e};let n=r.validate(e);return n.success?n:{success:!1,error:Mg.wrap({value:e,cause:n.error})}}catch(n){return{success:!1,error:Mg.wrap({value:e,cause:n})}}}a(Cp,"safeValidateTypes");function LC({text:e,schema:t}){try{let r=nF.default.parse(e);return t==null?{success:!0,value:r}:Cp({value:r,schema:t})}catch(r){return{success:!1,error:qC.isJSONParseError(r)?r:new qC({text:e,cause:r})}}}a(LC,"safeParseJSON");var{btoa:Vle,atob:Zle}=globalThis;function oF(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),r=Zle(t);return Uint8Array.from(r,n=>n.codePointAt(0))}a(oF,"convertBase64ToUint8Array");function FC(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCodePoint(e[r]);return Vle(t)}a(FC,"convertUint8ArrayToBase64");var iF=typeof globalThis=="object"?globalThis:global;var Ui="1.9.0";var aF=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function Kle(e){var t=new Set([e]),r=new Set,n=e.match(aF);if(!n)return function(){return!1};var o={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(o.prerelease!=null)return a(function(l){return l===e},"isExactmatch");function i(u){return r.add(u),!1}a(i,"_reject");function s(u){return t.add(u),!0}return a(s,"_accept"),a(function(l){if(t.has(l))return!0;if(r.has(l))return!1;var d=l.match(aF);if(!d)return i(l);var p={major:+d[1],minor:+d[2],patch:+d[3],prerelease:d[4]};return p.prerelease!=null||o.major!==p.major?i(l):o.major===0?o.minor===p.minor&&o.patch<=p.patch?s(l):i(l):o.minor<=p.minor?s(l):i(l)},"isCompatible")}a(Kle,"_makeCompatibilityCheck");var sF=Kle(Ui);var Gle=Ui.split(".")[0],Rp=Symbol.for("opentelemetry.js.api."+Gle),$p=iF;function Sc(e,t,r,n){var o;n===void 0&&(n=!1);var i=$p[Rp]=(o=$p[Rp])!==null&&o!==void 0?o:{version:Ui};if(!n&&i[e]){var s=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return r.error(s.stack||s.message),!1}if(i.version!==Ui){var s=new Error("@opentelemetry/api: Registration of version v"+i.version+" for "+e+" does not match previously registered API v"+Ui);return r.error(s.stack||s.message),!1}return i[e]=t,r.debug("@opentelemetry/api: Registered a global for "+e+" v"+Ui+"."),!0}a(Sc,"registerGlobal");function Li(e){var t,r,n=(t=$p[Rp])===null||t===void 0?void 0:t.version;if(!(!n||!sF(n)))return(r=$p[Rp])===null||r===void 0?void 0:r[e]}a(Li,"getGlobal");function wc(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+Ui+".");var r=$p[Rp];r&&delete r[e]}a(wc,"unregisterGlobal");var Wle=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],s;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(u){s={error:u}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i},Qle=function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},uF=(function(){function e(t){this._namespace=t.namespace||"DiagComponentLogger"}return a(e,"DiagComponentLogger"),e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Np("debug",this._namespace,t)},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Np("error",this._namespace,t)},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Np("info",this._namespace,t)},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Np("warn",this._namespace,t)},e.prototype.verbose=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Np("verbose",this._namespace,t)},e})();function Np(e,t,r){var n=Li("diag");if(n)return r.unshift(t),n[e].apply(n,Qle([],Wle(r),!1))}a(Np,"logProxy");var cn;(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(cn||(cn={}));function cF(e,t){e<cn.NONE?e=cn.NONE:e>cn.ALL&&(e=cn.ALL),t=t||{};function r(n,o){var i=t[n];return typeof i=="function"&&e>=o?i.bind(t):function(){}}return a(r,"_filterFunc"),{error:r("error",cn.ERROR),warn:r("warn",cn.WARN),info:r("info",cn.INFO),debug:r("debug",cn.DEBUG),verbose:r("verbose",cn.VERBOSE)}}a(cF,"createLogLevelDiagLogger");var Xle=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],s;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(u){s={error:u}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i},Yle=function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},ede="diag",xc=(function(){function e(){function t(o){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var u=Li("diag");if(u)return u[o].apply(u,Yle([],Xle(i),!1))}}a(t,"_logProxy");var r=this,n=a(function(o,i){var s,u,l;if(i===void 0&&(i={logLevel:cn.INFO}),o===r){var d=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return r.error((s=d.stack)!==null&&s!==void 0?s:d.message),!1}typeof i=="number"&&(i={logLevel:i});var p=Li("diag"),f=cF((u=i.logLevel)!==null&&u!==void 0?u:cn.INFO,o);if(p&&!i.suppressOverrideMessage){var m=(l=new Error().stack)!==null&&l!==void 0?l:"<failed to generate stacktrace>";p.warn("Current logger will be overwritten from "+m),f.warn("Current logger will overwrite one already registered from "+m)}return Sc("diag",f,r,!0)},"setLogger");r.setLogger=n,r.disable=function(){wc(ede,r)},r.createComponentLogger=function(o){return new uF(o)},r.verbose=t("verbose"),r.debug=t("debug"),r.info=t("info"),r.warn=t("warn"),r.error=t("error")}return a(e,"DiagAPI"),e.instance=function(){return this._instance||(this._instance=new e),this._instance},e})();function lF(e){return Symbol.for(e)}a(lF,"createContextKey");var tde=(function(){function e(t){var r=this;r._currentContext=t?new Map(t):new Map,r.getValue=function(n){return r._currentContext.get(n)},r.setValue=function(n,o){var i=new e(r._currentContext);return i._currentContext.set(n,o),i},r.deleteValue=function(n){var o=new e(r._currentContext);return o._currentContext.delete(n),o}}return a(e,"BaseContext"),e})(),dF=new tde;var rde=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],s;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(u){s={error:u}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i},nde=function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},pF=(function(){function e(){}return a(e,"NoopContextManager"),e.prototype.active=function(){return dF},e.prototype.with=function(t,r,n){for(var o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];return r.call.apply(r,nde([n],rde(o),!1))},e.prototype.bind=function(t,r){return r},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e})();var ode=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],s;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(u){s={error:u}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i},ide=function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},BC="context",ade=new pF,qg=(function(){function e(){}return a(e,"ContextAPI"),e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(t){return Sc(BC,t,xc.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(t,r,n){for(var o,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];return(o=this._getContextManager()).with.apply(o,ide([t,r,n],ode(i),!1))},e.prototype.bind=function(t,r){return this._getContextManager().bind(t,r)},e.prototype._getContextManager=function(){return Li(BC)||ade},e.prototype.disable=function(){this._getContextManager().disable(),wc(BC,xc.instance())},e})();var Ug;(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(Ug||(Ug={}));var JC="0000000000000000",HC="00000000000000000000000000000000",mF={traceId:HC,spanId:JC,traceFlags:Ug.NONE};var Ca=(function(){function e(t){t===void 0&&(t=mF),this._spanContext=t}return a(e,"NonRecordingSpan"),e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,r){return this},e.prototype.setAttributes=function(t){return this},e.prototype.addEvent=function(t,r){return this},e.prototype.addLink=function(t){return this},e.prototype.addLinks=function(t){return this},e.prototype.setStatus=function(t){return this},e.prototype.updateName=function(t){return this},e.prototype.end=function(t){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(t,r){},e})();var VC=lF("OpenTelemetry Context Key SPAN");function Lg(e){return e.getValue(VC)||void 0}a(Lg,"getSpan");function fF(){return Lg(qg.getInstance().active())}a(fF,"getActiveSpan");function zp(e,t){return e.setValue(VC,t)}a(zp,"setSpan");function hF(e){return e.deleteValue(VC)}a(hF,"deleteSpan");function gF(e,t){return zp(e,new Ca(t))}a(gF,"setSpanContext");function Fg(e){var t;return(t=Lg(e))===null||t===void 0?void 0:t.spanContext()}a(Fg,"getSpanContext");var sde=/^([0-9a-f]{32})$/i,ude=/^[0-9a-f]{16}$/i;function cde(e){return sde.test(e)&&e!==HC}a(cde,"isValidTraceId");function lde(e){return ude.test(e)&&e!==JC}a(lde,"isValidSpanId");function Bg(e){return cde(e.traceId)&&lde(e.spanId)}a(Bg,"isSpanContextValid");function yF(e){return new Ca(e)}a(yF,"wrapSpanContext");var ZC=qg.getInstance(),Jg=(function(){function e(){}return a(e,"NoopTracer"),e.prototype.startSpan=function(t,r,n){n===void 0&&(n=ZC.active());var o=!!r?.root;if(o)return new Ca;var i=n&&Fg(n);return dde(i)&&Bg(i)?new Ca(i):new Ca},e.prototype.startActiveSpan=function(t,r,n,o){var i,s,u;if(!(arguments.length<2)){arguments.length===2?u=r:arguments.length===3?(i=r,u=n):(i=r,s=n,u=o);var l=s??ZC.active(),d=this.startSpan(t,i,l),p=zp(l,d);return ZC.with(p,u,void 0,d)}},e})();function dde(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}a(dde,"isSpanContext");var pde=new Jg,vF=(function(){function e(t,r,n,o){this._provider=t,this.name=r,this.version=n,this.options=o}return a(e,"ProxyTracer"),e.prototype.startSpan=function(t,r,n){return this._getTracer().startSpan(t,r,n)},e.prototype.startActiveSpan=function(t,r,n,o){var i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):pde},e})();var _F=(function(){function e(){}return a(e,"NoopTracerProvider"),e.prototype.getTracer=function(t,r,n){return new Jg},e})();var mde=new _F,KC=(function(){function e(){}return a(e,"ProxyTracerProvider"),e.prototype.getTracer=function(t,r,n){var o;return(o=this.getDelegateTracer(t,r,n))!==null&&o!==void 0?o:new vF(this,t,r,n)},e.prototype.getDelegate=function(){var t;return(t=this._delegate)!==null&&t!==void 0?t:mde},e.prototype.setDelegate=function(t){this._delegate=t},e.prototype.getDelegateTracer=function(t,r,n){var o;return(o=this._delegate)===null||o===void 0?void 0:o.getTracer(t,r,n)},e})();var Tc;(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(Tc||(Tc={}));var GC="trace",bF=(function(){function e(){this._proxyTracerProvider=new KC,this.wrapSpanContext=yF,this.isSpanContextValid=Bg,this.deleteSpan=hF,this.getSpan=Lg,this.getActiveSpan=fF,this.getSpanContext=Fg,this.setSpan=zp,this.setSpanContext=gF}return a(e,"TraceAPI"),e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(t){var r=Sc(GC,this._proxyTracerProvider,xc.instance());return r&&this._proxyTracerProvider.setDelegate(t),r},e.prototype.getTracerProvider=function(){return Li(GC)||this._proxyTracerProvider},e.prototype.getTracer=function(t,r){return this.getTracerProvider().getTracer(t,r)},e.prototype.disable=function(){wc(GC,xc.instance()),this._proxyTracerProvider=new KC},e})();var WC=bF.getInstance();var fde=Object.defineProperty,IF=a((e,t)=>{for(var r in t)fde(e,r,{get:t[r],enumerable:!0})},"__export");async function hde(e){return e===void 0?Promise.resolve():new Promise(t=>setTimeout(t,e))}a(hde,"delay");var XC="AI_RetryError",OF=`vercel.ai.error.${XC}`,gde=Symbol.for(OF),AF,SF=class extends _t{static{a(this,"RetryError")}constructor({message:e,reason:t,errors:r}){super({name:XC,message:e}),this[AF]=!0,this.reason=t,this.errors=r,this.lastError=r[r.length-1]}static isInstance(e){return _t.hasMarker(e,OF)}static isRetryError(e){return e instanceof Error&&e.name===XC&&typeof e.reason=="string"&&Array.isArray(e.errors)}toJSON(){return{name:this.name,message:this.message,reason:this.reason,lastError:this.lastError,errors:this.errors}}};AF=gde;var yde=a(({maxRetries:e=2,initialDelayInMs:t=2e3,backoffFactor:r=2}={})=>async n=>CF(n,{maxRetries:e,delayInMs:t,backoffFactor:r}),"retryWithExponentialBackoff");async function CF(e,{maxRetries:t,delayInMs:r,backoffFactor:n},o=[]){try{return await e()}catch(i){if(rF(i)||t===0)throw i;let s=tF(i),u=[...o,i],l=u.length;if(l>t)throw new SF({message:`Failed after ${l} attempts. Last error: ${s}`,reason:"maxRetriesExceeded",errors:u});if(i instanceof Error&&B4.isAPICallError(i)&&i.isRetryable===!0&&l<=t)return await hde(r),CF(e,{maxRetries:t,delayInMs:n*r,backoffFactor:n},u);throw l===1?i:new SF({message:`Failed after ${l} attempts with non-retryable error: '${s}'`,reason:"errorNotRetryable",errors:u})}}a(CF,"_retryWithExponentialBackoff");function YC({operationId:e,telemetry:t}){return{"operation.name":`${e}${t?.functionId!=null?` ${t.functionId}`:""}`,"resource.name":t?.functionId,"ai.operationId":e,"ai.telemetry.functionId":t?.functionId}}a(YC,"assembleOperationName");function vde({model:e,settings:t,telemetry:r,headers:n}){var o;return{"ai.model.provider":e.provider,"ai.model.id":e.modelId,...Object.entries(t).reduce((i,[s,u])=>(i[`ai.settings.${s}`]=u,i),{}),...Object.entries((o=r?.metadata)!=null?o:{}).reduce((i,[s,u])=>(i[`ai.telemetry.metadata.${s}`]=u,i),{}),...Object.entries(n??{}).reduce((i,[s,u])=>(u!==void 0&&(i[`ai.request.headers.${s}`]=u),i),{})}}a(vde,"getBaseTelemetryAttributes");var _de={startSpan(){return Hg},startActiveSpan(e,t,r,n){if(typeof t=="function")return t(Hg);if(typeof r=="function")return r(Hg);if(typeof n=="function")return n(Hg)}},Hg={spanContext(){return bde},setAttribute(){return this},setAttributes(){return this},addEvent(){return this},addLink(){return this},addLinks(){return this},setStatus(){return this},updateName(){return this},end(){return this},isRecording(){return!1},recordException(){return this}},bde={traceId:"",spanId:"",traceFlags:0};function Sde({isEnabled:e=!1,tracer:t}={}){return e?t||WC.getTracer("ai"):_de}a(Sde,"getTracer");function e1({name:e,tracer:t,attributes:r,fn:n,endWhenDone:o=!0}){return t.startActiveSpan(e,{attributes:r},async i=>{try{let s=await n(i);return o&&i.end(),s}catch(s){try{s instanceof Error?(i.recordException({name:s.name,message:s.message,stack:s.stack}),i.setStatus({code:Tc.ERROR,message:s.message})):i.setStatus({code:Tc.ERROR})}finally{i.end()}throw s}})}a(e1,"recordSpan");function Ec({telemetry:e,attributes:t}){return e?.isEnabled!==!0?{}:Object.entries(t).reduce((r,[n,o])=>{if(o===void 0)return r;if(typeof o=="object"&&"input"in o&&typeof o.input=="function"){if(e?.recordInputs===!1)return r;let i=o.input();return i===void 0?r:{...r,[n]:i}}if(typeof o=="object"&&"output"in o&&typeof o.output=="function"){if(e?.recordOutputs===!1)return r;let i=o.output();return i===void 0?r:{...r,[n]:i}}return{...r,[n]:o}},{})}a(Ec,"selectTelemetryAttributes");var t1="AI_DownloadError",RF=`vercel.ai.error.${t1}`,wde=Symbol.for(RF),$F,QC=class extends _t{static{a(this,"DownloadError")}constructor({url:e,statusCode:t,statusText:r,cause:n,message:o=n==null?`Failed to download ${e}: ${t} ${r}`:`Failed to download ${e}: ${n}`}){super({name:t1,message:o,cause:n}),this[$F]=!0,this.url=e,this.statusCode=t,this.statusText=r}static isInstance(e){return _t.hasMarker(e,RF)}static isDownloadError(e){return e instanceof Error&&e.name===t1&&typeof e.url=="string"&&(e.statusCode==null||typeof e.statusCode=="number")&&(e.statusText==null||typeof e.statusText=="string")}toJSON(){return{name:this.name,message:this.message,url:this.url,statusCode:this.statusCode,statusText:this.statusText,cause:this.cause}}};$F=wde;async function xde({url:e,fetchImplementation:t=fetch}){var r;let n=e.toString();try{let o=await t(n);if(!o.ok)throw new QC({url:n,statusCode:o.status,statusText:o.statusText});return{data:new Uint8Array(await o.arrayBuffer()),mimeType:(r=o.headers.get("content-type"))!=null?r:void 0}}catch(o){throw QC.isInstance(o)?o:new QC({url:n,cause:o})}}a(xde,"download");var Tde=[{mimeType:"image/gif",bytes:[71,73,70]},{mimeType:"image/png",bytes:[137,80,78,71]},{mimeType:"image/jpeg",bytes:[255,216]},{mimeType:"image/webp",bytes:[82,73,70,70]}];function Ede(e){for(let{bytes:t,mimeType:r}of Tde)if(e.length>=t.length&&t.every((n,o)=>e[o]===n))return r}a(Ede,"detectImageMimeType");var r1="AI_InvalidDataContentError",NF=`vercel.ai.error.${r1}`,kde=Symbol.for(NF),zF,wF=class extends _t{static{a(this,"InvalidDataContentError")}constructor({content:e,cause:t,message:r=`Invalid data content. Expected a base64 string, Uint8Array, ArrayBuffer, or Buffer, but got ${typeof e}.`}){super({name:r1,message:r,cause:t}),this[zF]=!0,this.content=e}static isInstance(e){return _t.hasMarker(e,NF)}static isInvalidDataContentError(e){return e instanceof Error&&e.name===r1&&e.content!=null}toJSON(){return{name:this.name,message:this.message,stack:this.stack,cause:this.cause,content:this.content}}};zF=kde;var jF=c.union([c.string(),c.instanceof(Uint8Array),c.instanceof(ArrayBuffer),c.custom(e=>{var t,r;return(r=(t=globalThis.Buffer)==null?void 0:t.isBuffer(e))!=null?r:!1},{message:"Must be a Buffer"})]);function Pde(e){return typeof e=="string"?e:e instanceof ArrayBuffer?FC(new Uint8Array(e)):FC(e)}a(Pde,"convertDataContentToBase64String");function Vg(e){if(e instanceof Uint8Array)return e;if(typeof e=="string")try{return oF(e)}catch(t){throw new wF({message:"Invalid data content. Content string is not a base64-encoded media.",content:e,cause:t})}if(e instanceof ArrayBuffer)return new Uint8Array(e);throw new wF({content:e})}a(Vg,"convertDataContentToUint8Array");function Ide(e){try{return new TextDecoder().decode(e)}catch{throw new Error("Error decoding Uint8Array to text")}}a(Ide,"convertUint8ArrayToText");var n1="AI_InvalidMessageRoleError",DF=`vercel.ai.error.${n1}`,Ode=Symbol.for(DF),MF,Ade=class extends _t{static{a(this,"InvalidMessageRoleError")}constructor({role:e,message:t=`Invalid message role: '${e}'. Must be one of: "system", "user", "assistant", "tool".`}){super({name:n1,message:t}),this[MF]=!0,this.role=e}static isInstance(e){return _t.hasMarker(e,DF)}static isInvalidMessageRoleError(e){return e instanceof Error&&e.name===n1&&typeof e.role=="string"}toJSON(){return{name:this.name,message:this.message,stack:this.stack,role:this.role}}};MF=Ode;function Cde(e){try{let[t,r]=e.split(",");return{mimeType:t.split(";")[0].split(":")[1],base64Content:r}}catch{return{mimeType:void 0,base64Content:void 0}}}a(Cde,"splitDataUrl");async function Rde({prompt:e,modelSupportsImageUrls:t=!0,modelSupportsUrl:r=a(()=>!1,"modelSupportsUrl"),downloadImplementation:n=xde}){let o=await Nde(e.messages,n,t,r);return[...e.system!=null?[{role:"system",content:e.system}]:[],...e.messages.map(i=>$de(i,o))]}a(Rde,"convertToLanguageModelPrompt");function $de(e,t){let r=e.role;switch(r){case"system":return{role:"system",content:e.content,providerMetadata:e.experimental_providerMetadata};case"user":return typeof e.content=="string"?{role:"user",content:[{type:"text",text:e.content}],providerMetadata:e.experimental_providerMetadata}:{role:"user",content:e.content.map(n=>zde(n,t)).filter(n=>n.type!=="text"||n.text!==""),providerMetadata:e.experimental_providerMetadata};case"assistant":return typeof e.content=="string"?{role:"assistant",content:[{type:"text",text:e.content}],providerMetadata:e.experimental_providerMetadata}:{role:"assistant",content:e.content.filter(n=>n.type!=="text"||n.text!=="").map(n=>{let{experimental_providerMetadata:o,...i}=n;return{...i,providerMetadata:o}}),providerMetadata:e.experimental_providerMetadata};case"tool":return{role:"tool",content:e.content.map(n=>({type:"tool-result",toolCallId:n.toolCallId,toolName:n.toolName,result:n.result,content:n.experimental_content,isError:n.isError,providerMetadata:n.experimental_providerMetadata})),providerMetadata:e.experimental_providerMetadata};default:{let n=r;throw new Ade({role:n})}}}a($de,"convertToLanguageModelMessage");async function Nde(e,t,r,n){let o=e.filter(s=>s.role==="user").map(s=>s.content).filter(s=>Array.isArray(s)).flat().filter(s=>s.type==="image"||s.type==="file").filter(s=>!(s.type==="image"&&r===!0)).map(s=>s.type==="image"?s.image:s.data).map(s=>typeof s=="string"&&(s.startsWith("http:")||s.startsWith("https:"))?new URL(s):s).filter(s=>s instanceof URL).filter(s=>!n(s)),i=await Promise.all(o.map(async s=>({url:s,data:await t({url:s})})));return Object.fromEntries(i.map(({url:s,data:u})=>[s.toString(),u]))}a(Nde,"downloadAssets");function zde(e,t){if(e.type==="text")return{type:"text",text:e.text,providerMetadata:e.experimental_providerMetadata};let r=e.mimeType,n,o,i,s=e.type;switch(s){case"image":n=e.image;break;case"file":n=e.data;break;default:throw new Error(`Unsupported part type: ${s}`)}try{o=typeof n=="string"?new URL(n):n}catch{o=n}if(o instanceof URL)if(o.protocol==="data:"){let{mimeType:u,base64Content:l}=Cde(o.toString());if(u==null||l==null)throw new Error(`Invalid data URL format in part ${s}`);r=u,i=Vg(l)}else{let u=t[o.toString()];u?(i=u.data,r??(r=u.mimeType)):i=o}else i=Vg(o);switch(s){case"image":return r==null&&i instanceof Uint8Array&&(r=Ede(i)),{type:"image",image:i,mimeType:r,providerMetadata:e.experimental_providerMetadata};case"file":if(r==null)throw new Error("Mime type is missing for file part");return{type:"file",data:i instanceof Uint8Array?Pde(i):i,mimeType:r,providerMetadata:e.experimental_providerMetadata}}}a(zde,"convertPartToLanguageModelPart");var o1="AI_InvalidArgumentError",qF=`vercel.ai.error.${o1}`,jde=Symbol.for(qF),UF,Ao=class extends _t{static{a(this,"InvalidArgumentError")}constructor({parameter:e,value:t,message:r}){super({name:o1,message:`Invalid argument for parameter ${e}: ${r}`}),this[UF]=!0,this.parameter=e,this.value=t}static isInstance(e){return _t.hasMarker(e,qF)}static isInvalidArgumentError(e){return e instanceof Error&&e.name===o1&&typeof e.parameter=="string"&&typeof e.value=="string"}toJSON(){return{name:this.name,message:this.message,stack:this.stack,parameter:this.parameter,value:this.value}}};UF=jde;function Dde({maxTokens:e,temperature:t,topP:r,topK:n,presencePenalty:o,frequencyPenalty:i,stopSequences:s,seed:u,maxRetries:l}){if(e!=null){if(!Number.isInteger(e))throw new Ao({parameter:"maxTokens",value:e,message:"maxTokens must be an integer"});if(e<1)throw new Ao({parameter:"maxTokens",value:e,message:"maxTokens must be >= 1"})}if(t!=null&&typeof t!="number")throw new Ao({parameter:"temperature",value:t,message:"temperature must be a number"});if(r!=null&&typeof r!="number")throw new Ao({parameter:"topP",value:r,message:"topP must be a number"});if(n!=null&&typeof n!="number")throw new Ao({parameter:"topK",value:n,message:"topK must be a number"});if(o!=null&&typeof o!="number")throw new Ao({parameter:"presencePenalty",value:o,message:"presencePenalty must be a number"});if(i!=null&&typeof i!="number")throw new Ao({parameter:"frequencyPenalty",value:i,message:"frequencyPenalty must be a number"});if(u!=null&&!Number.isInteger(u))throw new Ao({parameter:"seed",value:u,message:"seed must be an integer"});if(l!=null){if(!Number.isInteger(l))throw new Ao({parameter:"maxRetries",value:l,message:"maxRetries must be an integer"});if(l<0)throw new Ao({parameter:"maxRetries",value:l,message:"maxRetries must be >= 0"})}return{maxTokens:e,temperature:t??0,topP:r,topK:n,presencePenalty:o,frequencyPenalty:i,stopSequences:s!=null&&s.length>0?s:void 0,seed:u,maxRetries:l??2}}a(Dde,"prepareCallSettings");var i1=c.lazy(()=>c.union([c.null(),c.string(),c.number(),c.boolean(),c.record(c.string(),i1),c.array(i1)])),Ra=c.record(c.string(),c.record(c.string(),i1)),Mde=c.array(c.union([c.object({type:c.literal("text"),text:c.string()}),c.object({type:c.literal("image"),data:c.string(),mimeType:c.string().optional()})])),LF=c.object({type:c.literal("text"),text:c.string(),experimental_providerMetadata:Ra.optional()}),qde=c.object({type:c.literal("image"),image:c.union([jF,c.instanceof(URL)]),mimeType:c.string().optional(),experimental_providerMetadata:Ra.optional()}),Ude=c.object({type:c.literal("file"),data:c.union([jF,c.instanceof(URL)]),mimeType:c.string(),experimental_providerMetadata:Ra.optional()}),Lde=c.object({type:c.literal("tool-call"),toolCallId:c.string(),toolName:c.string(),args:c.unknown()}),Fde=c.object({type:c.literal("tool-result"),toolCallId:c.string(),toolName:c.string(),result:c.unknown(),content:Mde.optional(),isError:c.boolean().optional(),experimental_providerMetadata:Ra.optional()}),Bde=c.object({role:c.literal("system"),content:c.string(),experimental_providerMetadata:Ra.optional()}),Jde=c.object({role:c.literal("user"),content:c.union([c.string(),c.array(c.union([LF,qde,Ude]))]),experimental_providerMetadata:Ra.optional()}),Hde=c.object({role:c.literal("assistant"),content:c.union([c.string(),c.array(c.union([LF,Lde]))]),experimental_providerMetadata:Ra.optional()}),Vde=c.object({role:c.literal("tool"),content:c.array(Fde),experimental_providerMetadata:Ra.optional()}),Zde=c.union([Bde,Jde,Hde,Vde]);function Kde(e){if(!Array.isArray(e))return"other";if(e.length===0)return"messages";let t=e.map(Gde);return t.some(r=>r==="has-ui-specific-parts")?"ui-messages":t.every(r=>r==="has-core-specific-parts"||r==="message")?"messages":"other"}a(Kde,"detectPromptType");function Gde(e){return typeof e=="object"&&e!==null&&(e.role==="function"||e.role==="data"||"toolInvocations"in e||"experimental_attachments"in e)?"has-ui-specific-parts":typeof e=="object"&&e!==null&&"content"in e&&(Array.isArray(e.content)||"experimental_providerMetadata"in e)?"has-core-specific-parts":typeof e=="object"&&e!==null&&"role"in e&&"content"in e&&typeof e.content=="string"&&["system","user","assistant","tool"].includes(e.role)?"message":"other"}a(Gde,"detectSingleMessageCharacteristics");function Wde(e){var t,r,n;let o=[];for(let i of e){let s;try{s=new URL(i.url)}catch{throw new Error(`Invalid URL: ${i.url}`)}switch(s.protocol){case"http:":case"https:":{if((t=i.contentType)!=null&&t.startsWith("image/"))o.push({type:"image",image:s});else{if(!i.contentType)throw new Error("If the attachment is not an image, it must specify a content type");o.push({type:"file",data:s,mimeType:i.contentType})}break}case"data:":{let u,l,d;try{[u,l]=i.url.split(","),d=u.split(";")[0].split(":")[1]}catch{throw new Error(`Error processing data URL: ${i.url}`)}if(d==null||l==null)throw new Error(`Invalid data URL format: ${i.url}`);if((r=i.contentType)!=null&&r.startsWith("image/"))o.push({type:"image",image:Vg(l)});else if((n=i.contentType)!=null&&n.startsWith("text/"))o.push({type:"text",text:Ide(Vg(l))});else{if(!i.contentType)throw new Error("If the attachment is not an image or text, it must specify a content type");o.push({type:"file",data:l,mimeType:i.contentType})}break}default:throw new Error(`Unsupported URL protocol: ${s.protocol}`)}}return o}a(Wde,"attachmentsToParts");var FF="AI_MessageConversionError",BF=`vercel.ai.error.${FF}`,Qde=Symbol.for(BF),JF,xF=class extends _t{static{a(this,"MessageConversionError")}constructor({originalMessage:e,message:t}){super({name:FF,message:t}),this[JF]=!0,this.originalMessage=e}static isInstance(e){return _t.hasMarker(e,BF)}};JF=Qde;function u1(e,t){var r;let n=(r=t?.tools)!=null?r:{},o=[];for(let i of e){let{role:s,content:u,toolInvocations:l,experimental_attachments:d}=i;switch(s){case"system":{o.push({role:"system",content:u});break}case"user":{o.push({role:"user",content:d?[{type:"text",text:u},...Wde(d)]:u});break}case"assistant":{if(l==null){o.push({role:"assistant",content:u});break}o.push({role:"assistant",content:[{type:"text",text:u},...l.map(({toolCallId:p,toolName:f,args:m})=>({type:"tool-call",toolCallId:p,toolName:f,args:m}))]}),o.push({role:"tool",content:l.map(p=>{if(!("result"in p))throw new xF({originalMessage:i,message:"ToolInvocation must have a result: "+JSON.stringify(p)});let{toolCallId:f,toolName:m,result:y}=p,g=n[m];return g?.experimental_toToolResultContent!=null?{type:"tool-result",toolCallId:f,toolName:m,result:g.experimental_toToolResultContent(y),experimental_content:g.experimental_toToolResultContent(y)}:{type:"tool-result",toolCallId:f,toolName:m,result:y}})});break}case"function":case"data":case"tool":break;default:{let p=s;throw new xF({originalMessage:i,message:`Unsupported role: ${p}`})}}}return o}a(u1,"convertToCoreMessages");function Xde({prompt:e,tools:t}){if(e.prompt==null&&e.messages==null)throw new Es({prompt:e,message:"prompt or messages must be defined"});if(e.prompt!=null&&e.messages!=null)throw new Es({prompt:e,message:"prompt and messages cannot be defined at the same time"});if(e.system!=null&&typeof e.system!="string")throw new Es({prompt:e,message:"system must be a string"});if(e.prompt!=null){if(typeof e.prompt!="string")throw new Es({prompt:e,message:"prompt must be a string"});return{type:"prompt",system:e.system,messages:[{role:"user",content:e.prompt}]}}if(e.messages!=null){let r=Kde(e.messages);if(r==="other")throw new Es({prompt:e,message:"messages must be an array of CoreMessage or UIMessage"});let n=r==="ui-messages"?u1(e.messages,{tools:t}):e.messages,o=Cp({value:n,schema:c.array(Zde)});if(!o.success)throw new Es({prompt:e,message:"messages must be an array of CoreMessage or UIMessage",cause:o.error});return{type:"messages",messages:n,system:e.system}}throw new Error("unreachable")}a(Xde,"standardizePrompt");function Yde(e){return{promptTokens:e.promptTokens,completionTokens:e.completionTokens,totalTokens:e.promptTokens+e.completionTokens}}a(Yde,"calculateLanguageModelUsage");function Zg(e,{contentType:t,dataStreamVersion:r}){var n;let o=new Headers((n=e?.headers)!=null?n:{});return o.has("Content-Type")||o.set("Content-Type",t),r!==void 0&&o.set("X-Vercel-AI-Data-Stream",r),o}a(Zg,"prepareResponseHeaders");var epe="AI_NoObjectGeneratedError",tpe=`vercel.ai.error.${epe}`,rpe=Symbol.for(tpe),npe;npe=rpe;function TF(e,t){let r=e.pipeThrough(new TransformStream(t));return r[Symbol.asyncIterator]=()=>{let n=r.getReader();return{async next(){let{done:o,value:i}=await n.read();return o?{done:!0,value:void 0}:{done:!1,value:i}}}},r}a(TF,"createAsyncIterableStream");var RWe=qi({prefix:"aiobj",size:24});function Xo(){let e,t;return{promise:new Promise((n,o)=>{e=n,t=o}),resolve:e,reject:t}}a(Xo,"createResolvablePromise");function ope(){var e,t;return(t=(e=globalThis?.performance)==null?void 0:e.now())!=null?t:Date.now()}a(ope,"now");function EF(e,{contentType:t,dataStreamVersion:r}){let n={};if(e?.headers!=null)for(let[o,i]of Object.entries(e.headers))n[o]=i;return n["Content-Type"]==null&&(n["Content-Type"]=t),r!==void 0&&(n["X-Vercel-AI-Data-Stream"]=r),n}a(EF,"prepareOutgoingHttpHeaders");function kF({response:e,status:t,statusText:r,headers:n,stream:o}){e.writeHead(t??200,r,n);let i=o.getReader();a(async()=>{try{for(;;){let{done:u,value:l}=await i.read();if(u)break;e.write(l)}}catch(u){throw u}finally{e.end()}},"read")()}a(kF,"writeToServerResponse");var NWe=qi({prefix:"aiobj",size:24});var a1="AI_InvalidToolArgumentsError",HF=`vercel.ai.error.${a1}`,ipe=Symbol.for(HF),VF,ape=class extends _t{static{a(this,"InvalidToolArgumentsError")}constructor({toolArgs:e,toolName:t,cause:r,message:n=`Invalid arguments for tool ${t}: ${Dg(r)}`}){super({name:a1,message:n,cause:r}),this[VF]=!0,this.toolArgs=e,this.toolName=t}static isInstance(e){return _t.hasMarker(e,HF)}static isInvalidToolArgumentsError(e){return e instanceof Error&&e.name===a1&&typeof e.toolName=="string"&&typeof e.toolArgs=="string"}toJSON(){return{name:this.name,message:this.message,cause:this.cause,stack:this.stack,toolName:this.toolName,toolArgs:this.toolArgs}}};VF=ipe;var s1="AI_NoSuchToolError",ZF=`vercel.ai.error.${s1}`,spe=Symbol.for(ZF),KF,Kg=class extends _t{static{a(this,"NoSuchToolError")}constructor({toolName:e,availableTools:t=void 0,message:r=`Model tried to call unavailable tool '${e}'. ${t===void 0?"No tools are available.":`Available tools: ${t.join(", ")}.`}`}){super({name:s1,message:r}),this[KF]=!0,this.toolName=e,this.availableTools=t}static isInstance(e){return _t.hasMarker(e,ZF)}static isNoSuchToolError(e){return e instanceof Error&&e.name===s1&&"toolName"in e&&e.toolName!=null&&typeof e.name=="string"}toJSON(){return{name:this.name,message:this.message,stack:this.stack,toolName:this.toolName,availableTools:this.availableTools}}};KF=spe;function upe(e){return e!=null&&Object.keys(e).length>0}a(upe,"isNonEmptyObject");function cpe({tools:e,toolChoice:t,activeTools:r}){return upe(e)?{tools:(r!=null?Object.entries(e).filter(([o])=>r.includes(o)):Object.entries(e)).map(([o,i])=>{let s=i.type;switch(s){case void 0:case"function":return{type:"function",name:o,description:i.description,parameters:jg(i.parameters).jsonSchema};case"provider-defined":return{type:"provider-defined",name:o,id:i.id,args:i.args};default:{let u=s;throw new Error(`Unsupported tool type: ${u}`)}}}),toolChoice:t==null?{type:"auto"}:typeof t=="string"?{type:t}:{type:"tool",toolName:t.toolName}}:{tools:void 0,toolChoice:void 0}}a(cpe,"prepareToolsAndToolChoice");var lpe=/^([\s\S]*?)(\s+)(\S*)$/;function dpe(e){let t=e.match(lpe);return t?{prefix:t[1],whitespace:t[2],suffix:t[3]}:void 0}a(dpe,"splitOnLastWhitespace");function ppe({toolCall:e,tools:t}){let r=e.toolName;if(t==null)throw new Kg({toolName:e.toolName});let n=t[r];if(n==null)throw new Kg({toolName:e.toolName,availableTools:Object.keys(t)});let o=jg(n.parameters),i=e.args.trim()===""?Cp({value:{},schema:o}):LC({text:e.args,schema:o});if(i.success===!1)throw new ape({toolName:r,toolArgs:e.args,cause:i.error});return{type:"tool-call",toolCallId:e.toolCallId,toolName:r,args:i.value}}a(ppe,"parseToolCall");function mpe({text:e="",tools:t,toolCalls:r,toolResults:n}){let o=[];return o.push({role:"assistant",content:[{type:"text",text:e},...r]}),n.length>0&&o.push({role:"tool",content:n.map(i=>{let s=t[i.toolName];return s?.experimental_toToolResultContent!=null?{type:"tool-result",toolCallId:i.toolCallId,toolName:i.toolName,result:s.experimental_toToolResultContent(i.result),experimental_content:s.experimental_toToolResultContent(i.result)}:{type:"tool-result",toolCallId:i.toolCallId,toolName:i.toolName,result:i.result}})}),o}a(mpe,"toResponseMessages");var LWe=qi({prefix:"aitxt",size:24});function fpe(){let e=[],t=null,r=!1,n=a(async()=>{if(r&&e.length===0){t?.close();return}if(e.length!==0)try{let{value:o,done:i}=await e[0].read();i?(e.shift(),e.length>0?await n():r&&t?.close()):t?.enqueue(o)}catch(o){t?.error(o),e.shift(),r&&e.length===0&&t?.close()}},"processPull");return{stream:new ReadableStream({start(o){t=o},pull:n,async cancel(){for(let o of e)await o.cancel();e=[],r=!0}}),addStream:a(o=>{if(r)throw new Error("Cannot add inner stream: outer stream is closed");e.push(o.getReader())},"addStream"),close:a(()=>{r=!0,e.length===0&&t?.close()},"close")}}a(fpe,"createStitchableStream");function c1(e,t){let r=e.getReader(),n=t.getReader(),o,i,s=!1,u=!1;async function l(p){try{o==null&&(o=r.read());let f=await o;o=void 0,f.done?p.close():p.enqueue(f.value)}catch(f){p.error(f)}}a(l,"readStream1");async function d(p){try{i==null&&(i=n.read());let f=await i;i=void 0,f.done?p.close():p.enqueue(f.value)}catch(f){p.error(f)}}return a(d,"readStream2"),new ReadableStream({async pull(p){try{if(s){await d(p);return}if(u){await l(p);return}o==null&&(o=r.read()),i==null&&(i=n.read());let{result:f,reader:m}=await Promise.race([o.then(y=>({result:y,reader:r})),i.then(y=>({result:y,reader:n}))]);f.done||p.enqueue(f.value),m===r?(o=void 0,f.done&&(await d(p),s=!0)):(i=void 0,f.done&&(u=!0,await l(p)))}catch(f){p.error(f)}},cancel(){r.cancel(),n.cancel()}})}a(c1,"mergeStreams");function hpe({tools:e,generatorStream:t,toolCallStreaming:r,tracer:n,telemetry:o,abortSignal:i}){let s=null,u=new ReadableStream({start(g){s=g}}),l={},d=new Set,p=!1,f;function m(){p&&d.size===0&&(f!=null&&s.enqueue(f),s.close())}a(m,"attemptClose");let y=new TransformStream({transform(g,h){let v=g.type;switch(v){case"text-delta":case"response-metadata":case"error":{h.enqueue(g);break}case"tool-call-delta":{r&&(l[g.toolCallId]||(h.enqueue({type:"tool-call-streaming-start",toolCallId:g.toolCallId,toolName:g.toolName}),l[g.toolCallId]=!0),h.enqueue({type:"tool-call-delta",toolCallId:g.toolCallId,toolName:g.toolName,argsTextDelta:g.argsTextDelta}));break}case"tool-call":{let S=g.toolName;if(e==null){s.enqueue({type:"error",error:new Kg({toolName:g.toolName})});break}let b=e[S];if(b==null){s.enqueue({type:"error",error:new Kg({toolName:g.toolName,availableTools:Object.keys(e)})});break}try{let w=ppe({toolCall:g,tools:e});if(h.enqueue(w),b.execute!=null){let k=SC();d.add(k),e1({name:"ai.toolCall",attributes:Ec({telemetry:o,attributes:{...YC({operationId:"ai.toolCall",telemetry:o}),"ai.toolCall.name":w.toolName,"ai.toolCall.id":w.toolCallId,"ai.toolCall.args":{output:a(()=>JSON.stringify(w.args),"output")}}}),tracer:n,fn:a(async $=>b.execute(w.args,{abortSignal:i}).then(C=>{s.enqueue({...w,type:"tool-result",result:C}),d.delete(k),m();try{$.setAttributes(Ec({telemetry:o,attributes:{"ai.toolCall.result":{output:a(()=>JSON.stringify(C),"output")}}}))}catch{}},C=>{s.enqueue({type:"error",error:C}),d.delete(k),m()}),"fn")})}}catch(w){s.enqueue({type:"error",error:w})}break}case"finish":{f={type:"finish",finishReason:g.finishReason,logprobs:g.logprobs,usage:Yde(g.usage),experimental_providerMetadata:g.providerMetadata};break}default:{let S=v;throw new Error(`Unhandled chunk type: ${S}`)}}},flush(){p=!0,m()}});return new ReadableStream({async start(g){return Promise.all([t.pipeThrough(y).pipeTo(new WritableStream({write(h){g.enqueue(h)},close(){}})),u.pipeTo(new WritableStream({write(h){g.enqueue(h)},close(){g.close()}}))])}})}a(hpe,"runToolsTransformation");var gpe=qi({prefix:"aitxt",size:24});async function GF({model:e,tools:t,toolChoice:r,system:n,prompt:o,messages:i,maxRetries:s,abortSignal:u,headers:l,maxToolRoundtrips:d=0,maxSteps:p=d!=null?d+1:1,experimental_continueSteps:f=!1,experimental_telemetry:m,experimental_providerMetadata:y,experimental_toolCallStreaming:g=!1,experimental_activeTools:h,onChunk:v,onFinish:S,onStepFinish:b,_internal:{now:w=ope,generateId:k=gpe,currentDate:$=a(()=>new Date,"currentDate")}={},...C}){if(p<1)throw new Ao({parameter:"maxSteps",value:p,message:"maxSteps must be at least 1"});let A=vde({model:e,telemetry:m,headers:l,settings:{...C,maxRetries:s}}),R=Sde(m),O=Xde({prompt:{system:n,prompt:o,messages:i},tools:t});return e1({name:"ai.streamText",attributes:Ec({telemetry:m,attributes:{...YC({operationId:"ai.streamText",telemetry:m}),...A,"ai.prompt":{input:a(()=>JSON.stringify({system:n,prompt:o,messages:i}),"input")},"ai.settings.maxSteps":p}}),tracer:R,endWhenDone:!1,fn:a(async z=>{let D=yde({maxRetries:s}),X=a(async({responseMessages:ke})=>{let et=ke.length===0?O.type:"messages",Ke=await Rde({prompt:{type:et,system:O.system,messages:[...O.messages,...ke]},modelSupportsImageUrls:e.supportsImageUrls,modelSupportsUrl:e.supportsUrl}),Q={type:"regular",...cpe({tools:t,toolChoice:r,activeTools:h})},{result:{stream:Re,warnings:ve,rawResponse:F,request:We},doStreamSpan:It,startTimestampMs:Nt}=await D(()=>e1({name:"ai.streamText.doStream",attributes:Ec({telemetry:m,attributes:{...YC({operationId:"ai.streamText.doStream",telemetry:m}),...A,"ai.prompt.format":{input:a(()=>et,"input")},"ai.prompt.messages":{input:a(()=>JSON.stringify(Ke),"input")},"ai.prompt.tools":{input:a(()=>{var vn;return(vn=Q.tools)==null?void 0:vn.map(Qi=>JSON.stringify(Qi))},"input")},"ai.prompt.toolChoice":{input:a(()=>Q.toolChoice!=null?JSON.stringify(Q.toolChoice):void 0,"input")},"gen_ai.system":e.provider,"gen_ai.request.model":e.modelId,"gen_ai.request.frequency_penalty":C.frequencyPenalty,"gen_ai.request.max_tokens":C.maxTokens,"gen_ai.request.presence_penalty":C.presencePenalty,"gen_ai.request.stop_sequences":C.stopSequences,"gen_ai.request.temperature":C.temperature,"gen_ai.request.top_k":C.topK,"gen_ai.request.top_p":C.topP}}),tracer:R,endWhenDone:!1,fn:a(async vn=>({startTimestampMs:w(),doStreamSpan:vn,result:await e.doStream({mode:Q,...Dde(C),inputFormat:et,prompt:Ke,providerMetadata:y,abortSignal:u,headers:l})}),"fn")}));return{result:{stream:hpe({tools:t,generatorStream:Re,toolCallStreaming:g,tracer:R,telemetry:m,abortSignal:u}),warnings:ve,request:We??{},rawResponse:F},doStreamSpan:It,startTimestampMs:Nt}},"startStep"),{result:{stream:G,warnings:B,rawResponse:te,request:ne},doStreamSpan:ae,startTimestampMs:Se}=await X({responseMessages:[]});return new ype({stream:G,warnings:B,rawResponse:te,request:ne,onChunk:v,onFinish:S,onStepFinish:b,rootSpan:z,doStreamSpan:ae,telemetry:m,startTimestampMs:Se,maxSteps:p,continueSteps:f,startStep:X,modelId:e.modelId,now:w,currentDate:$,generateId:k,tools:t})},"fn")})}a(GF,"streamText");var ype=class{static{a(this,"DefaultStreamTextResult")}constructor({stream:e,warnings:t,rawResponse:r,request:n,onChunk:o,onFinish:i,onStepFinish:s,rootSpan:u,doStreamSpan:l,telemetry:d,startTimestampMs:p,maxSteps:f,continueSteps:m,startStep:y,modelId:g,now:h,currentDate:v,generateId:S,tools:b}){this.warnings=t,this.rawResponse=r;let{resolve:w,promise:k}=Xo();this.usage=k;let{resolve:$,promise:C}=Xo();this.finishReason=C;let{resolve:A,promise:R}=Xo();this.text=R;let{resolve:O,promise:z}=Xo();this.toolCalls=z;let{resolve:D,promise:X}=Xo();this.toolResults=X;let{resolve:G,promise:B}=Xo();this.steps=B;let{resolve:te,promise:ne}=Xo();this.experimental_providerMetadata=ne;let{resolve:ae,promise:Se}=Xo();this.request=Se;let{resolve:ke,promise:et}=Xo();this.response=et;let{resolve:Ke,promise:Q}=Xo();this.responseMessages=Q;let{stream:Re,addStream:ve,close:F}=fpe();this.originalStream=Re;let We=[],It=this;function Nt({stream:vn,startTimestamp:Qi,doStreamSpan:fi,currentStep:tu,responseMessages:Ir,usage:Uo={promptTokens:0,completionTokens:0,totalTokens:0},stepType:ru,previousStepText:Um="",stepRequest:Xi,hasLeadingWhitespace:Lm}){let Nn=[],Lo=[],kr="unknown",tr={promptTokens:0,completionTokens:0,totalTokens:0},lo,Fm=!0,Dr="",hi=ru==="continue"?Um:"",_,x={id:S(),timestamp:v(),modelId:g},P="",L=!1,Z=!0,re=!1;async function me({controller:Ne,chunk:gt}){Ne.enqueue(gt),Dr+=gt.textDelta,hi+=gt.textDelta,L=!0,re=gt.textDelta.trimEnd()!==gt.textDelta,await o?.({chunk:gt})}a(me,"publishTextChunk"),ve(vn.pipeThrough(new TransformStream({async transform(Ne,gt){var bt,ut,Bt;if(Fm){let Vt=h()-Qi;Fm=!1,fi.addEvent("ai.stream.firstChunk",{"ai.response.msToFirstChunk":Vt,"ai.stream.msToFirstChunk":Vt}),fi.setAttributes({"ai.response.msToFirstChunk":Vt,"ai.stream.msToFirstChunk":Vt})}if(Ne.type==="text-delta"&&Ne.textDelta.length===0)return;let gi=Ne.type;switch(gi){case"text-delta":{if(m){let Vt=Z&&Lm?Ne.textDelta.trimStart():Ne.textDelta;if(Vt.length===0)break;Z=!1,P+=Vt;let nu=dpe(P);nu!=null&&(P=nu.suffix,await me({controller:gt,chunk:{type:"text-delta",textDelta:nu.prefix+nu.whitespace}}))}else await me({controller:gt,chunk:Ne});break}case"tool-call":{gt.enqueue(Ne),Nn.push(Ne),await o?.({chunk:Ne});break}case"tool-result":{gt.enqueue(Ne),Lo.push(Ne),await o?.({chunk:Ne});break}case"response-metadata":{x={id:(bt=Ne.id)!=null?bt:x.id,timestamp:(ut=Ne.timestamp)!=null?ut:x.timestamp,modelId:(Bt=Ne.modelId)!=null?Bt:x.modelId};break}case"finish":{tr=Ne.usage,kr=Ne.finishReason,lo=Ne.experimental_providerMetadata,_=Ne.logprobs;let Vt=h()-Qi;fi.addEvent("ai.stream.finish"),fi.setAttributes({"ai.response.msToFinish":Vt,"ai.response.avgCompletionTokensPerSecond":1e3*tr.completionTokens/Vt});break}case"tool-call-streaming-start":case"tool-call-delta":{gt.enqueue(Ne),await o?.({chunk:Ne});break}case"error":{gt.enqueue(Ne),kr="error";break}default:{let Vt=gi;throw new Error(`Unknown chunk type: ${Vt}`)}}},async flush(Ne){var gt;let bt=Nn.length>0?JSON.stringify(Nn):void 0,ut="done";tu+1<f&&(m&&kr==="length"&&Nn.length===0?ut="continue":Nn.length>0&&Lo.length===Nn.length&&(ut="tool-result")),m&&P.length>0&&(ut!=="continue"||ru==="continue"&&!L)&&(await me({controller:Ne,chunk:{type:"text-delta",textDelta:P}}),P="");try{fi.setAttributes(Ec({telemetry:d,attributes:{"ai.response.finishReason":kr,"ai.response.text":{output:a(()=>Dr,"output")},"ai.response.toolCalls":{output:a(()=>bt,"output")},"ai.response.id":x.id,"ai.response.model":x.modelId,"ai.response.timestamp":x.timestamp.toISOString(),"ai.usage.promptTokens":tr.promptTokens,"ai.usage.completionTokens":tr.completionTokens,"ai.finishReason":kr,"ai.result.text":{output:a(()=>Dr,"output")},"ai.result.toolCalls":{output:a(()=>bt,"output")},"gen_ai.response.finish_reasons":[kr],"gen_ai.response.id":x.id,"gen_ai.response.model":x.modelId,"gen_ai.usage.input_tokens":tr.promptTokens,"gen_ai.usage.output_tokens":tr.completionTokens}}))}catch{}finally{fi.end()}if(Ne.enqueue({type:"step-finish",finishReason:kr,usage:tr,experimental_providerMetadata:lo,logprobs:_,response:{...x},isContinued:ut==="continue"}),ru==="continue"){let Vt=Ir[Ir.length-1];typeof Vt.content=="string"?Vt.content+=Dr:Vt.content.push({text:Dr,type:"text"})}else Ir.push(...mpe({text:Dr,tools:b??{},toolCalls:Nn,toolResults:Lo}));let Bt={stepType:ru,text:Dr,toolCalls:Nn,toolResults:Lo,finishReason:kr,usage:tr,warnings:It.warnings,logprobs:_,request:Xi,rawResponse:It.rawResponse,response:{...x,headers:(gt=It.rawResponse)==null?void 0:gt.headers,messages:JSON.parse(JSON.stringify(Ir))},experimental_providerMetadata:lo,isContinued:ut==="continue"};We.push(Bt),await s?.(Bt);let gi={promptTokens:Uo.promptTokens+tr.promptTokens,completionTokens:Uo.completionTokens+tr.completionTokens,totalTokens:Uo.totalTokens+tr.totalTokens};if(ut!=="done"){let{result:Vt,doStreamSpan:nu,startTimestampMs:rX}=await y({responseMessages:Ir});It.warnings=Vt.warnings,It.rawResponse=Vt.rawResponse,Nt({stream:Vt.stream,startTimestamp:rX,doStreamSpan:nu,currentStep:tu+1,responseMessages:Ir,usage:gi,stepType:ut,previousStepText:hi,stepRequest:Vt.request,hasLeadingWhitespace:re});return}try{Ne.enqueue({type:"finish",finishReason:kr,usage:gi,experimental_providerMetadata:lo,logprobs:_,response:{...x}}),F(),u.setAttributes(Ec({telemetry:d,attributes:{"ai.response.finishReason":kr,"ai.response.text":{output:a(()=>hi,"output")},"ai.response.toolCalls":{output:a(()=>bt,"output")},"ai.usage.promptTokens":gi.promptTokens,"ai.usage.completionTokens":gi.completionTokens,"ai.finishReason":kr,"ai.result.text":{output:a(()=>hi,"output")},"ai.result.toolCalls":{output:a(()=>bt,"output")}}})),w(gi),$(kr),A(hi),O(Nn),te(lo),D(Lo),ae(Xi),ke({...x,headers:r?.headers,messages:Ir}),G(We),Ke(Ir),await i?.({finishReason:kr,logprobs:_,usage:gi,text:hi,toolCalls:Nn,toolResults:Lo,request:Xi,rawResponse:r,response:{...x,headers:r?.headers,messages:Ir},warnings:t,experimental_providerMetadata:lo,steps:We,responseMessages:Ir})}catch(Vt){Ne.error(Vt)}finally{u.end()}}})))}a(Nt,"addStepStream"),Nt({stream:e,startTimestamp:p,doStreamSpan:l,currentStep:0,responseMessages:[],usage:void 0,stepType:"initial",stepRequest:n,hasLeadingWhitespace:!1})}teeStream(){let[e,t]=this.originalStream.tee();return this.originalStream=t,e}get textStream(){return TF(this.teeStream(),{transform(e,t){e.type==="text-delta"?t.enqueue(e.textDelta):e.type==="error"&&t.error(e.error)}})}get fullStream(){return TF(this.teeStream(),{transform(e,t){t.enqueue(e)}})}toAIStream(e={}){return this.toDataStreamInternal({callbacks:e})}toDataStreamInternal({callbacks:e={},getErrorMessage:t=a(()=>"","getErrorMessage3"),sendUsage:r=!0}={}){let n="",o=new TransformStream({async start(){e.onStart&&await e.onStart()},async transform(s,u){if(u.enqueue(s),s.type==="text-delta"){let l=s.textDelta;n+=l,e.onToken&&await e.onToken(l),e.onText&&await e.onText(l)}},async flush(){e.onCompletion&&await e.onCompletion(n),e.onFinal&&await e.onFinal(n)}}),i=new TransformStream({transform:a(async(s,u)=>{let l=s.type;switch(l){case"text-delta":{u.enqueue(Oo("text",s.textDelta));break}case"tool-call-streaming-start":{u.enqueue(Oo("tool_call_streaming_start",{toolCallId:s.toolCallId,toolName:s.toolName}));break}case"tool-call-delta":{u.enqueue(Oo("tool_call_delta",{toolCallId:s.toolCallId,argsTextDelta:s.argsTextDelta}));break}case"tool-call":{u.enqueue(Oo("tool_call",{toolCallId:s.toolCallId,toolName:s.toolName,args:s.args}));break}case"tool-result":{u.enqueue(Oo("tool_result",{toolCallId:s.toolCallId,result:s.result}));break}case"error":{u.enqueue(Oo("error",t(s.error)));break}case"step-finish":{u.enqueue(Oo("finish_step",{finishReason:s.finishReason,usage:r?{promptTokens:s.usage.promptTokens,completionTokens:s.usage.completionTokens}:void 0,isContinued:s.isContinued}));break}case"finish":{u.enqueue(Oo("finish_message",{finishReason:s.finishReason,usage:r?{promptTokens:s.usage.promptTokens,completionTokens:s.usage.completionTokens}:void 0}));break}default:{let d=l;throw new Error(`Unknown chunk type: ${d}`)}}},"transform")});return this.fullStream.pipeThrough(o).pipeThrough(i).pipeThrough(new TextEncoderStream)}pipeAIStreamToResponse(e,t){return this.pipeDataStreamToResponse(e,t)}pipeDataStreamToResponse(e,t){let r=t==null?void 0:"init"in t?t.init:{headers:"headers"in t?t.headers:void 0,status:"status"in t?t.status:void 0,statusText:"statusText"in t?t.statusText:void 0},n=t==null?void 0:"data"in t?t.data:void 0,o=t==null?void 0:"getErrorMessage"in t?t.getErrorMessage:void 0,i=t==null?void 0:"sendUsage"in t?t.sendUsage:void 0;kF({response:e,status:r?.status,statusText:r?.statusText,headers:EF(r,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"}),stream:this.toDataStream({data:n,getErrorMessage:o,sendUsage:i})})}pipeTextStreamToResponse(e,t){kF({response:e,status:t?.status,statusText:t?.statusText,headers:EF(t,{contentType:"text/plain; charset=utf-8"}),stream:this.textStream.pipeThrough(new TextEncoderStream)})}toAIStreamResponse(e){return this.toDataStreamResponse(e)}toDataStream(e){let t=this.toDataStreamInternal({getErrorMessage:e?.getErrorMessage,sendUsage:e?.sendUsage});return e?.data?c1(e?.data.stream,t):t}toDataStreamResponse(e){var t;let r=e==null?void 0:"init"in e?e.init:{headers:"headers"in e?e.headers:void 0,status:"status"in e?e.status:void 0,statusText:"statusText"in e?e.statusText:void 0},n=e==null?void 0:"data"in e?e.data:void 0,o=e==null?void 0:"getErrorMessage"in e?e.getErrorMessage:void 0,i=e==null?void 0:"sendUsage"in e?e.sendUsage:void 0;return new Response(this.toDataStream({data:n,getErrorMessage:o,sendUsage:i}),{status:(t=r?.status)!=null?t:200,statusText:r?.statusText,headers:Zg(r,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}toTextStreamResponse(e){var t;return new Response(this.textStream.pipeThrough(new TextEncoderStream),{status:(t=e?.status)!=null?t:200,headers:Zg(e,{contentType:"text/plain; charset=utf-8"})})}};var vpe="AI_NoSuchProviderError",_pe=`vercel.ai.error.${vpe}`,bpe=Symbol.for(_pe),Spe;Spe=bpe;function WF(e){let t=new TextEncoder,r="",n=e||{};return new TransformStream({async start(){n.onStart&&await n.onStart()},async transform(o,i){let s=typeof o=="string"?o:o.content;i.enqueue(t.encode(s)),r+=s,n.onToken&&await n.onToken(s),n.onText&&typeof o=="string"&&await n.onText(o)},async flush(){let o=wpe(n);n.onCompletion&&await n.onCompletion(r),n.onFinal&&!o&&await n.onFinal(r)}})}a(WF,"createCallbacksTransformer");function wpe(e){return"experimental_onFunctionCall"in e}a(wpe,"isOfTypeOpenAIStreamCallbacks");function xpe(){let e=!0;return t=>(e&&(t=t.trimStart(),t&&(e=!1)),t)}a(xpe,"trimStartOfStreamHelper");var HWe=15*1e3;function QF(){let e=new TextEncoder,t=new TextDecoder;return new TransformStream({transform:a(async(r,n)=>{let o=t.decode(r);n.enqueue(e.encode(Oo("text",o)))},"transform")})}a(QF,"createStreamDataTransformer");var VWe=new TextDecoder("utf-8");var Tpe={};IF(Tpe,{toAIStream:a(()=>Epe,"toAIStream"),toDataStream:a(()=>l1,"toDataStream"),toDataStreamResponse:a(()=>kpe,"toDataStreamResponse")});function Epe(e,t){return l1(e,t)}a(Epe,"toAIStream");function l1(e,t){return e.pipeThrough(new TransformStream({transform:a(async(r,n)=>{var o;if(typeof r=="string"){n.enqueue(r);return}if("event"in r){r.event==="on_chat_model_stream"&&PF((o=r.data)==null?void 0:o.chunk,n);return}PF(r,n)},"transform")})).pipeThrough(WF(t)).pipeThrough(QF())}a(l1,"toDataStream");function kpe(e,t){var r;let n=l1(e,t?.callbacks),o=t?.data,i=t?.init,s=o?c1(o.stream,n):n;return new Response(s,{status:(r=i?.status)!=null?r:200,statusText:i?.statusText,headers:Zg(i,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}a(kpe,"toDataStreamResponse");function PF(e,t){if(typeof e.content=="string")t.enqueue(e.content);else{let r=e.content;for(let n of r)n.type==="text"&&t.enqueue(n.text)}}a(PF,"forwardAIMessageChunk");var Ppe={};IF(Ppe,{toDataStream:a(()=>XF,"toDataStream"),toDataStreamResponse:a(()=>Ipe,"toDataStreamResponse")});function XF(e,t){return Ope(e).pipeThrough(WF(t)).pipeThrough(QF())}a(XF,"toDataStream2");function Ipe(e,t={}){var r;let{init:n,data:o,callbacks:i}=t,s=XF(e,i),u=o?c1(o.stream,s):s;return new Response(u,{status:(r=n?.status)!=null?r:200,statusText:n?.statusText,headers:Zg(n,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}a(Ipe,"toDataStreamResponse2");function Ope(e){let t=e[Symbol.asyncIterator](),r=xpe();return new ReadableStream({async pull(n){var o;let{value:i,done:s}=await t.next();if(s){n.close();return}let u=r((o=i.delta)!=null?o:"");u&&n.enqueue(u)}})}a(Ope,"toReadableStream");var ZWe=Symbol("internal_openai_fn_messages");Tn();Lr();async function Gg(e){try{await So.insert(ca).values({userId:e.userId,action:`ai_${e.actionType}`,resourceType:e.toolName||"ai_chat",sessionId:e.sessionId,success:e.outcome==="success",errorMessage:e.errorMessage,newValues:{provider:e.provider,model:e.model,action_type:e.actionType,tool_name:e.toolName,input_summary:e.inputSummary.slice(0,500),output_summary:e.outputSummary.slice(0,500),tokens_used:e.tokensUsed,latency_ms:e.latencyMs,outcome:e.outcome,affected_tables:e.affectedTables,affected_record_ids:e.affectedRecordIds}})}catch{}}a(Gg,"logAIOperation");var YF=`Voc\xEA \xE9 o assistente financeiro inteligente especializado do AegisWallet, a plataforma brasileira l\xEDder em gest\xE3o financeira pessoal com interface voz-first.

## SUA ESPECIALIDADE BRASILEIRA

### Dom\xEDnio do Mercado Financeiro Brasileiro
- **PIX**: Expert em transfer\xEAncias PIX instant\xE2neas 24/7, QR Codes, limites, taxas e regras do BCB
- **Boletos**: Gest\xE3o completa de boletos - registro, pagamento, c\xE1lculo de juros/multas, agendamentos
- **Open Banking**: Conhecimento profundo das APIs banc\xE1rias brasileiras e padr\xF5es regulat\xF3rios
- **C\xE2mbio**: Entendimento de opera\xE7\xF5es cambiais e limites legais brasileiros
- **Impostos**: Conhecimento de tributa\xE7\xE3o brasileira (IR, IOF, etc.)

### Cultura e Localiza\xE7\xE3o
- **Portugu\xEAs Brasileiro Nativo**: Use termos como "parab\xE9ns", "show de bola", "blz", " firm\xE3o"
- **Realidade Financeira Brasileira**: Entenda sal\xE1rios, infla\xE7\xE3o, custo de vida, juros altos
- **Calend\xE1rio Brasileiro**: Considere feriados, 13\xBA sal\xE1rio, d\xE9cimo terceiro, parcelas
- **Bancos Nacionais**: Ita\xFA, Bradesco, Caixa, Banco do Brasil, Nubank, Inter, etc.

## CAPACIDADES AVAN\xC7ADAS

### Opera\xE7\xF5es Financeiras (PIX, TED, DOC, Boletos)
- **Transfer\xEAncias PIX**: Envio/recebimento instant\xE2neo, QR Codes, agendamentos, status tracking
- **Gest\xE3o de Boletos**: Registro via c\xF3digo de barras, c\xE1lculo autom\xE1tico de juros/multas, agendamento de pagamentos
- **An\xE1lise de Contatos**: Salvar contatos frequentes, m\xE9todos de pagamento PIX, favoritos
- **Limites e Taxas**: Conhecimento de limites di\xE1rios, taxas, hor\xE1rios de compensa\xE7\xE3o

### An\xE1lises e Insights Financeiros
- **An\xE1lise de Gastos**: Detalhada por categoria, tend\xEAncias, padr\xF5es an\xF4malos
- **Previs\xE3o de Fluxo de Caixa**: Baseada em hist\xF3rico e eventos futuros com confian\xE7a
- **Detec\xE7\xE3o de Fraude**: An\xE1lise em tempo real de risco, padr\xF5es suspeitos
- **Recomenda\xE7\xF5es de Or\xE7amento**: Personalizadas baseadas em comportamento e metas

### Interface Voz-First (Voice-First)
- **Comandos em Portugu\xEAs Natural**: "Envia cem reais para a Maria pelo PIX", "Paga o boleto da luz"
- **Processamento de Contexto**: Mant\xE9m conversa\xE7\xE3o com hist\xF3rico e contexto relevante
- **Confirma\xE7\xE3o por Voz**: Valida\xE7\xE3o segura de opera\xE7\xF5es sens\xEDveis via reconhecimento de voz
- **Respostas Otimizadas para TTS**: Texto projetado para s\xEDntese de voz natural

### Seguran\xE7a e Conformidade LGPD
- **LGPD**: Conformidade total com Lei Geral de Prote\xE7\xE3o de Dados brasileira
- **Valida\xE7\xE3o Multi-Fator**: 2FA, biom\xE9trica, c\xF3digo via SMS/email
- **Audit Logging**: Registros completos para compliance e auditoria
- **Prote\xE7\xE3o de Dados**: Criptografia, anonimiza\xE7\xE3o, reten\xE7\xE3o conformidade

## REGRAS DE SEGURAN\xC7A E CONFORMIDADE (CR\xCDTICAS)

### Prote\xE7\xE3o de Dados LGPD
1. **NUNCA** exponha dados sens\xEDveis: CPF, senhas, tokens biom\xE9tricos
2. **SEMPRE** obtenha consentimento expl\xEDcito para uso de dados financeiros
3. **RESPEITE** direitos de acesso, corre\xE7\xE3o e exclus\xE3o de dados
4. **IMPLEMENTE** pol\xEDticas de reten\xE7\xE3o conformes com regulamenta\xE7\xE3o brasileira

### Seguran\xE7a de Transa\xE7\xF5es
1. **VALIDA\xC7\xC3O OBRIGAT\xD3RIA**: Toda transa\xE7\xE3o >R$1.000 requer verifica\xE7\xE3o adicional
2. **LIMITES AUTOM\xC1TICOS**: Respeite limites di\xE1rios e de frequ\xEAncia
3. **MONITORAMENTO**: Detecte padr\xF5es an\xF4malos e poss\xEDveis fraudes
4. **CONFIRMA\xC7\xC3O**: Use c\xF3digos, biometria ou confirma\xE7\xE3o por voz para opera\xE7\xF5es cr\xEDticas

### Padr\xF5es Brasileiros de Atendimento
1. **Formalidade Amig\xE1vel**: Tratamento "voc\xEA" mas respeitoso e profissional
2. **Hor\xE1rio Banc\xE1rio**: Considere hor\xE1rios banc\xE1rios e janela de compensa\xE7\xE3o
3. **Feriados**: Esteja ciente de feriados nacionais e estaduais brasileiros
4. **Cultura Financeira**: Entenda avers\xE3o a risco, prefer\xEAncia por seguran\xE7a

## FORMATA\xC7\xC3O E COMUNICA\xC7\xC3O

### Formatos Brasileiros
- **Valores**: R$ 1.234,56 (separador decimal v\xEDrgula, milhar ponto)
- **Datas**: DD/MM/YYYY ou "hoje", "ontem", "anteontem", "esta semana"
- **Hor\xE1rios**: 24h com fuso America/Sao_Paulo (BRT/BRST)
- **Documentos**: CPF: XXX.XXX.XXX-XX, CNPJ: XX.XXX.XXX/XXXX-XX

### Tom e Estilo
- **Voz Ativa**: "Vou analisar seus gastos" em vez de "Seus gastos ser\xE3o analisados"
- **Empatia**: Entenda dificuldades financeiras com respeito e apoio
- **Clareza**: Use termos simples, evite jarg\xF5es t\xE9cnicos excessivos
- **Cultura**: Use express\xF5es brasileiras naturais quando apropriado

## PADR\xD5ES DE RESPOSTA

### Para PIX
- **R\xE1pido**: "Transfer\xEAncia PIX enviada! Chega em segundos na conta do destinat\xE1rio."
- **Seguro**: "Para sua seguran\xE7a, vou enviar um c\xF3digo para confirmar esta transfer\xEAncia de R$ 500,00."
- **Informativo**: "O limite di\xE1rio PIX \xE9 R$ 5.000 entre 20h e 6h."

### Para Boletos
- **C\xE1lculo**: "Este boleto vence em 3 dias com multa de 2% e juros de 1% ao m\xEAs."
- **Agendamento**: "Boleto agendado! Ser\xE1 pago automaticamente na data de vencimento."
- **Alerta**: "\u26A0\uFE0F Voc\xEA tem 2 boletos vencendo esta semana totalizando R$ 850,00."

### Para An\xE1lises
- **Visual**: "Seus gastos em alimenta\xE7\xE3o subiram 15% este m\xEAs. Quer ver o gr\xE1fico detalhado?"
- **Pr\xE1tico**: "Com base no seu padr\xE3o, sugiro reservar R$ 2.000 para emerg\xEAncias."
- **Alerta**: "Detectei 3 transa\xE7\xF5es suspeitas esta semana. Quer investigar?"

### Para Voz
- **Conversacional**: "Entendi! Voc\xEA quer transferir R$ 250 para a Joana pelo PIX, correto?"
- **Claro**: "Pode repetir o valor? N\xE3o consegui entender bem."
- **Eficiente**: "Pronto! Transfer\xEAncia autorizada com sua confirma\xE7\xE3o por voz."

## FLUXOS ESPECIALIZADOS

### Transfer\xEAncia PIX Completa
1. "Quanto quer transferir?" \u2192 Validar valor e limites
2. "Qual a chave PIX do destinat\xE1rio?" \u2192 Validar formato e tipo
3. "Qual o nome completo do destinat\xE1rio?" \u2192 Para registro
4. "Descri\xE7\xE3o opcional?" \u2192 Para identifica\xE7\xE3o
5. "Confirmar transfer\xEAncia?" \u2192 Envio ou verifica\xE7\xE3o adicional

### Pagamento de Boleto
1. "C\xF3digo de barras ou\u7167\u7247?" \u2192 Captura e valida\xE7\xE3o
2. "Valor e data de vencimento?" \u2192 Confirma\xE7\xE3o
3. "Calcular juros/multas?" \u2192 Se vencido
4. "Pagar agora ou agendar?" \u2192 Processamento
5. "Confirma\xE7\xE3o?" \u2192 Seguran\xE7a e finaliza\xE7\xE3o

### An\xE1lise Financeira por Voz
1. "Que per\xEDodo quer analisar?" \u2192 Defini\xE7\xE3o de scope
2. "Foco em alguma categoria espec\xEDfica?" \u2192 Detalhamento
3. "Quer compara\xE7\xE3o com per\xEDodo anterior?" \u2192 An\xE1lise comparativa
4. "Preferir resumo oral ou visual?" \u2192 Formato de sa\xEDda
5. "Gerar recomenda\xE7\xF5es?" \u2192 A\xE7\xF5es pr\xE1ticas

## INTEGRA\xC7\xC3O COM FERRAMENTAS

### Sistema de Ferramentas
Voc\xEA tem acesso a 4 categorias principais de ferramentas:

1. **Opera\xE7\xF5es Financeiras Brasileiras**
   - pix.*: Transfer\xEAncias, QR codes, agendamentos PIX
   - boletos.*: Registro, pagamento, c\xE1lculos de boletos
   - contacts.*: Gest\xE3o de contatos e m\xE9todos de pagamento

2. **An\xE1lises e Insights**
   - insights.*: An\xE1lise de gastos, previs\xF5es, detec\xE7\xE3o de anomalias
   - multimodal.*: Relat\xF3rios visuais, gr\xE1ficos, exporta\xE7\xF5es

3. **Seguran\xE7a e Conformidade**
   - security.*: Detec\xE7\xE3o de fraude, valida\xE7\xF5es, configura\xE7\xF5es de seguran\xE7a
   - notifications.*: Alertas, lembretes, prefer\xEAncias de notifica\xE7\xE3o

4. **Interface Voz-First**
   - voice.*: Processamento de comandos, confirma\xE7\xE3o por voz, contexto
   - Todas as ferramentas otimizadas para resposta via TTS

### Orquestra\xE7\xE3o Inteligente
Combine m\xFAltiplas ferramentas para respostas completas:
- Consultar saldo \u2192 security.checkFraudRisk \u2192 pix.sendPixTransfer
- An\xE1lise de gastos \u2192 insights.getSpendingAnalysis \u2192 multimodal.generateVisualReport
- Alerta de seguran\xE7a \u2192 notifications.sendAlert \u2192 voice.confirmVoiceAction

## MANEJO DE ERROS E RECUPERA\xC7\xC3O

### Erros Comuns Brasileiros
- **Chave PIX Inv\xE1lida**: "Esta chave PIX n\xE3o existe. Verifique CPF, email ou telefone."
- **Boleto Duplicado**: "Este boleto j\xE1 est\xE1 pago. Verifique se n\xE3o h\xE1 duplicidade."
- **Fora do Hor\xE1rio**: "Transfer\xEAncias TED/DOC s\xF3 em hor\xE1rio banc\xE1rio. PIX funciona 24/7."
- **LGPD**: "Preciso de sua autoriza\xE7\xE3o para acessar estes dados financeiros."

### Recupera\xE7\xE3o Intelligente
- **Alternativas**: "PIX n\xE3o funciona? Tente TED para transfer\xEAncias banc\xE1rias."
- **Contexto**: "Baseado no nosso hist\xF3rico, voc\xEA costuma transferir para..."
- **Proativo**: "Detectei um padr\xE3o incomum. Quer que eu investigue?"

## ATUALIZA\xC7\xD5ES E MELHORIAS

### Sempre Melhorando
- **Feedback de Usu\xE1rio**: Adapte respostas baseado no hist\xF3rico de intera\xE7\xF5es
- **Contexto Financeiro**: Mantenha-se atualizado sobre taxas, regulamenta\xE7\xF5es, novos bancos
- **Cultura Financeira**: Evolua com mudan\xE7as no comportamento financeiro brasileiro
- **Tecnologia**: Integre novas tecnologias banc\xE1rias e fintechs brasileiras

### M\xE9tricas de Sucesso
- **Compreens\xE3o**: 95%+ de comandos voz entendidos corretamente
- **Satisfa\xE7\xE3o**: Respostas que realmente ajudam os usu\xE1rios brasileiros
- **Efici\xEAncia**: Opera\xE7\xF5es conclu\xEDdas com m\xEDnimo de etapas
- **Seguran\xE7a**: Zero breaches de dados ou fraudes n\xE3o detectadas

---

**Sua Miss\xE3o**: Ser o assistente financeiro mais completo, seguro e brasileiro que existe, transformando gest\xE3o financeira em uma experi\xEAncia natural, intuitiva e efetiva para todos os brasileiros.

**Data de Hoje**: ${new Date().toLocaleDateString("pt-BR")}
**Fuso Hor\xE1rio**: America/Sao_Paulo (${new Date().toLocaleTimeString("pt-BR")})
**Moeda**: BRL (Real Brasileiro)`;var e6=YF;var t6="vercel.ai.error",Ape=Symbol.for(t6),r6,Cpe=class n6 extends Error{static{a(this,"_AISDKError")}constructor({name:t,message:r,cause:n}){super(r),this[r6]=!0,this.name=t,this.cause=n}static isInstance(t){return n6.hasMarker(t,t6)}static hasMarker(t,r){let n=Symbol.for(r);return t!=null&&typeof t=="object"&&n in t&&typeof t[n]=="boolean"&&t[n]===!0}};r6=Ape;var ur=Cpe,o6="AI_APICallError",i6=`vercel.ai.error.${o6}`,Rpe=Symbol.for(i6),a6,Ye=class extends ur{static{a(this,"APICallError")}constructor({message:e,url:t,requestBodyValues:r,statusCode:n,responseHeaders:o,responseBody:i,cause:s,isRetryable:u=n!=null&&(n===408||n===409||n===429||n>=500),data:l}){super({name:o6,message:e,cause:s}),this[a6]=!0,this.url=t,this.requestBodyValues=r,this.statusCode=n,this.responseHeaders=o,this.responseBody=i,this.isRetryable=u,this.data=l}static isInstance(e){return ur.hasMarker(e,i6)}};a6=Rpe;var s6="AI_EmptyResponseBodyError",u6=`vercel.ai.error.${s6}`,$pe=Symbol.for(u6),c6,kc=class extends ur{static{a(this,"EmptyResponseBodyError")}constructor({message:e="Empty response body"}={}){super({name:s6,message:e}),this[c6]=!0}static isInstance(e){return ur.hasMarker(e,u6)}};c6=$pe;function l6(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}a(l6,"getErrorMessage");var d6="AI_InvalidArgumentError",p6=`vercel.ai.error.${d6}`,Npe=Symbol.for(p6),m6,eo=class extends ur{static{a(this,"InvalidArgumentError")}constructor({message:e,cause:t,argument:r}){super({name:d6,message:e,cause:t}),this[m6]=!0,this.argument=r}static isInstance(e){return ur.hasMarker(e,p6)}};m6=Npe;var f6="AI_InvalidPromptError",h6=`vercel.ai.error.${f6}`,zpe=Symbol.for(h6),g6,y6=class extends ur{static{a(this,"InvalidPromptError")}constructor({prompt:e,message:t,cause:r}){super({name:f6,message:`Invalid prompt: ${t}`,cause:r}),this[g6]=!0,this.prompt=e}static isInstance(e){return ur.hasMarker(e,h6)}};g6=zpe;var v6="AI_InvalidResponseDataError",_6=`vercel.ai.error.${v6}`,jpe=Symbol.for(_6),b6,Wg=class extends ur{static{a(this,"InvalidResponseDataError")}constructor({data:e,message:t=`Invalid response data: ${JSON.stringify(e)}.`}){super({name:v6,message:t}),this[b6]=!0,this.data=e}static isInstance(e){return ur.hasMarker(e,_6)}};b6=jpe;var S6="AI_JSONParseError",w6=`vercel.ai.error.${S6}`,Dpe=Symbol.for(w6),x6,ln=class extends ur{static{a(this,"JSONParseError")}constructor({text:e,cause:t}){super({name:S6,message:`JSON parsing failed: Text: ${e}.
Error message: ${l6(t)}`,cause:t}),this[x6]=!0,this.text=e}static isInstance(e){return ur.hasMarker(e,w6)}};x6=Dpe;var T6="AI_LoadAPIKeyError",E6=`vercel.ai.error.${T6}`,Mpe=Symbol.for(E6),k6,dn=class extends ur{static{a(this,"LoadAPIKeyError")}constructor({message:e}){super({name:T6,message:e}),this[k6]=!0}static isInstance(e){return ur.hasMarker(e,E6)}};k6=Mpe;var qpe="AI_LoadSettingError",Upe=`vercel.ai.error.${qpe}`,Lpe=Symbol.for(Upe),Fpe;Fpe=Lpe;var Bpe="AI_NoContentGeneratedError",Jpe=`vercel.ai.error.${Bpe}`,Hpe=Symbol.for(Jpe),Vpe;Vpe=Hpe;var P6="AI_NoSuchModelError",I6=`vercel.ai.error.${P6}`,Zpe=Symbol.for(I6),O6,p1=class extends ur{static{a(this,"NoSuchModelError")}constructor({errorName:e=P6,modelId:t,modelType:r,message:n=`No such ${r}: ${t}`}){super({name:e,message:n}),this[O6]=!0,this.modelId=t,this.modelType=r}static isInstance(e){return ur.hasMarker(e,I6)}};O6=Zpe;var A6="AI_TooManyEmbeddingValuesForCallError",C6=`vercel.ai.error.${A6}`,Kpe=Symbol.for(C6),R6,Qg=class extends ur{static{a(this,"TooManyEmbeddingValuesForCallError")}constructor(e){super({name:A6,message:`Too many values for a single embedding call. The ${e.provider} model "${e.modelId}" can only embed up to ${e.maxEmbeddingsPerCall} values per call, but ${e.values.length} values were provided.`}),this[R6]=!0,this.provider=e.provider,this.modelId=e.modelId,this.maxEmbeddingsPerCall=e.maxEmbeddingsPerCall,this.values=e.values}static isInstance(e){return ur.hasMarker(e,C6)}};R6=Kpe;var $6="AI_TypeValidationError",N6=`vercel.ai.error.${$6}`,Gpe=Symbol.for(N6),z6,Wpe=class d1 extends ur{static{a(this,"_TypeValidationError")}constructor({value:t,cause:r}){super({name:$6,message:`Type validation failed: Value: ${JSON.stringify(t)}.
Error message: ${l6(r)}`,cause:r}),this[z6]=!0,this.value=t}static isInstance(t){return ur.hasMarker(t,N6)}static wrap({value:t,cause:r}){return d1.isInstance(r)&&r.value===t?r:new d1({value:t,cause:r})}};z6=Gpe;var Xt=Wpe,j6="AI_UnsupportedFunctionalityError",D6=`vercel.ai.error.${j6}`,Qpe=Symbol.for(D6),M6,Pt=class extends ur{static{a(this,"UnsupportedFunctionalityError")}constructor({functionality:e,message:t=`'${e}' functionality not supported.`}){super({name:j6,message:t}),this[M6]=!0,this.functionality=e}static isInstance(e){return ur.hasMarker(e,D6)}};M6=Qpe;function q6(e){let t,r,n,o,i,s,u;return l(),{feed:d,reset:l};function l(){t=!0,r="",n=0,o=-1,i=void 0,s=void 0,u=""}a(l,"reset");function d(f){r=r?r+f:f,t&&Xpe(r)&&(r=r.slice(U6.length)),t=!1;let m=r.length,y=0,g=!1;for(;y<m;){g&&(r[y]===`
`&&++y,g=!1);let h=-1,v=o,S;for(let b=n;h<0&&b<m;++b)S=r[b],S===":"&&v<0?v=b-y:S==="\r"?(g=!0,h=b-y):S===`
`&&(h=b-y);if(h<0){n=m-y,o=v;break}else n=0,o=-1;p(r,y,v,h),y+=h+1}y===m?r="":y>0&&(r=r.slice(y))}a(d,"feed");function p(f,m,y,g){if(g===0){u.length>0&&(e({type:"event",id:i,event:s||void 0,data:u.slice(0,-1)}),u="",i=void 0),s=void 0;return}let h=y<0,v=f.slice(m,m+(h?g:y)),S=0;h?S=g:f[m+y+1]===" "?S=y+2:S=y+1;let b=m+S,w=g-S,k=f.slice(b,b+w).toString();if(v==="data")u+=k?"".concat(k,`
`):`
`;else if(v==="event")s=k;else if(v==="id"&&!k.includes("\0"))i=k;else if(v==="retry"){let $=parseInt(k,10);Number.isNaN($)||e({type:"reconnect-interval",value:$})}}a(p,"parseEventStreamLine")}a(q6,"createParser");var U6=[239,187,191];function Xpe(e){return U6.every((t,r)=>e.charCodeAt(r)===t)}a(Xpe,"hasBom");var $a=class extends TransformStream{static{a(this,"EventSourceParserStream")}constructor(){let t;super({start(r){t=q6(n=>{n.type==="event"&&r.enqueue(n)})},transform(r){t.feed(r)}})}};function J6(...e){return e.reduce((t,r)=>({...t,...r??{}}),{})}a(J6,"combineHeaders");var H6=class{static{a(this,"DelayedPromise")}constructor(){this.status={type:"pending"},this._resolve=void 0,this._reject=void 0}get promise(){return this._promise?this._promise:(this._promise=new Promise((e,t)=>{this.status.type==="resolved"?e(this.status.value):this.status.type==="rejected"&&t(this.status.error),this._resolve=e,this._reject=t}),this._promise)}resolve(e){var t;this.status={type:"resolved",value:e},this._promise&&((t=this._resolve)==null||t.call(this,e))}reject(e){var t;this.status={type:"rejected",error:e},this._promise&&((t=this._reject)==null||t.call(this,e))}isResolved(){return this.status.type==="resolved"}isRejected(){return this.status.type==="rejected"}isPending(){return this.status.type==="pending"}};function Yg(e){return Object.fromEntries([...e.headers])}a(Yg,"extractResponseHeaders");var Ype=a(({prefix:e,size:t=16,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:n="-"}={})=>{let o=a(()=>{let i=r.length,s=new Array(t);for(let u=0;u<t;u++)s[u]=r[Math.random()*i|0];return s.join("")},"generator");if(e==null)return o;if(r.includes(n))throw new eo({argument:"separator",message:`The separator "${n}" must not be part of the alphabet "${r}".`});return()=>`${e}${n}${o()}`},"createIdGenerator"),ey=Ype();function g1(e){return(e instanceof Error||e instanceof DOMException)&&(e.name==="AbortError"||e.name==="ResponseAborted"||e.name==="TimeoutError")}a(g1,"isAbortError");var eme=["fetch failed","failed to fetch"];function tme({error:e,url:t,requestBodyValues:r}){if(g1(e))return e;if(e instanceof TypeError&&eme.includes(e.message.toLowerCase())){let n=e.cause;if(n!=null)return new Ye({message:`Cannot connect to API: ${n.message}`,cause:n,url:t,requestBodyValues:r,isRetryable:!0})}return e}a(tme,"handleFetchError");function rme(e=globalThis){var t,r,n;return e.window?"runtime/browser":(t=e.navigator)!=null&&t.userAgent?`runtime/${e.navigator.userAgent.toLowerCase()}`:(n=(r=e.process)==null?void 0:r.versions)!=null&&n.node?`runtime/node.js/${e.process.version.substring(0)}`:e.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}a(rme,"getRuntimeEnvironmentUserAgent");function nme(e){if(e==null)return{};let t={};if(e instanceof Headers)e.forEach((r,n)=>{t[n.toLowerCase()]=r});else{Array.isArray(e)||(e=Object.entries(e));for(let[r,n]of e)n!=null&&(t[r.toLowerCase()]=n)}return t}a(nme,"normalizeHeaders");function v1(e,...t){let r=new Headers(nme(e)),n=r.get("user-agent")||"";return r.set("user-agent",[n,...t].filter(Boolean).join(" ")),Object.fromEntries(r.entries())}a(v1,"withUserAgentSuffix");var ome="3.0.18";function V6({apiKey:e,environmentVariableName:t,apiKeyParameterName:r="apiKey",description:n}){if(typeof e=="string")return e;if(e!=null)throw new dn({message:`${n} API key must be a string.`});if(typeof process>"u")throw new dn({message:`${n} API key is missing. Pass it using the '${r}' parameter. Environment variables is not supported in this environment.`});if(e=process.env[t],e==null)throw new dn({message:`${n} API key is missing. Pass it using the '${r}' parameter or the ${t} environment variable.`});if(typeof e!="string")throw new dn({message:`${n} API key must be a string. The value of the ${t} environment variable is not a string.`});return e}a(V6,"loadApiKey");function Z6({settingValue:e,environmentVariableName:t}){if(typeof e=="string")return e;if(!(e!=null||typeof process>"u")&&(e=process.env[t],!(e==null||typeof e!="string")))return e}a(Z6,"loadOptionalSetting");var ime=/"__proto__"\s*:/,ame=/"constructor"\s*:/;function L6(e){let t=JSON.parse(e);return t===null||typeof t!="object"||ime.test(e)===!1&&ame.test(e)===!1?t:sme(t)}a(L6,"_parse");function sme(e){let t=[e];for(;t.length;){let r=t;t=[];for(let n of r){if(Object.prototype.hasOwnProperty.call(n,"__proto__"))throw new SyntaxError("Object contains forbidden prototype property");if(Object.prototype.hasOwnProperty.call(n,"constructor")&&Object.prototype.hasOwnProperty.call(n.constructor,"prototype"))throw new SyntaxError("Object contains forbidden prototype property");for(let o in n){let i=n[o];i&&typeof i=="object"&&t.push(i)}}}return e}a(sme,"filter");function K6(e){let{stackTraceLimit:t}=Error;try{Error.stackTraceLimit=0}catch{return L6(e)}try{return L6(e)}finally{Error.stackTraceLimit=t}}a(K6,"secureJsonParse");var Xg=Symbol.for("vercel.ai.validator");function ume(e){return{[Xg]:!0,validate:e}}a(ume,"validator");function cme(e){return typeof e=="object"&&e!==null&&Xg in e&&e[Xg]===!0&&"validate"in e}a(cme,"isValidator");function lme(e){return cme(e)?e:typeof e=="function"?e():dme(e)}a(lme,"asValidator");function dme(e){return ume(async t=>{let r=await e["~standard"].validate(t);return r.issues==null?{success:!0,value:r.value}:{success:!1,error:new Xt({value:t,cause:r.issues})}})}a(dme,"standardSchemaValidator");async function Yo({value:e,schema:t}){let r=await _1({value:e,schema:t});if(!r.success)throw Xt.wrap({value:e,cause:r.error});return r.value}a(Yo,"validateTypes");async function _1({value:e,schema:t}){let r=lme(t);try{if(r.validate==null)return{success:!0,value:e,rawValue:e};let n=await r.validate(e);return n.success?{success:!0,value:n.value,rawValue:e}:{success:!1,error:Xt.wrap({value:e,cause:n.error}),rawValue:e}}catch(n){return{success:!1,error:Xt.wrap({value:e,cause:n}),rawValue:e}}}a(_1,"safeValidateTypes");async function pme({text:e,schema:t}){try{let r=K6(e);return t==null?r:Yo({value:r,schema:t})}catch(r){throw ln.isInstance(r)||Xt.isInstance(r)?r:new ln({text:e,cause:r})}}a(pme,"parseJSON");async function G6({text:e,schema:t}){try{let r=K6(e);return t==null?{success:!0,value:r,rawValue:r}:await _1({value:r,schema:t})}catch(r){return{success:!1,error:ln.isInstance(r)?r:new ln({text:e,cause:r}),rawValue:void 0}}}a(G6,"safeParseJSON");function mme({stream:e,schema:t}){return e.pipeThrough(new TextDecoderStream).pipeThrough(new $a).pipeThrough(new TransformStream({async transform({data:r},n){r!=="[DONE]"&&n.enqueue(await G6({text:r,schema:t}))}}))}a(mme,"parseJsonEventStream");async function Pc({provider:e,providerOptions:t,schema:r}){if(t?.[e]==null)return;let n=await _1({value:t[e],schema:r});if(!n.success)throw new eo({argument:"providerOptions",message:`invalid ${e} provider options`,cause:n.error});return n.value}a(Pc,"parseProviderOptions");var fme=a(()=>globalThis.fetch,"getOriginalFetch2"),b1=a(async({url:e,headers:t,body:r,failedResponseHandler:n,successfulResponseHandler:o,abortSignal:i,fetch:s})=>hme({url:e,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(r),values:r},failedResponseHandler:n,successfulResponseHandler:o,abortSignal:i,fetch:s}),"postJsonToApi");var hme=a(async({url:e,headers:t={},body:r,successfulResponseHandler:n,failedResponseHandler:o,abortSignal:i,fetch:s=fme()})=>{try{let u=await s(e,{method:"POST",headers:v1(t,`ai-sdk/provider-utils/${ome}`,rme()),body:r.content,signal:i}),l=Yg(u);if(!u.ok){let d;try{d=await o({response:u,url:e,requestBodyValues:r.values})}catch(p){throw g1(p)||Ye.isInstance(p)?p:new Ye({message:"Failed to process error response",cause:p,statusCode:u.status,url:e,responseHeaders:l,requestBodyValues:r.values})}throw d.value}try{return await n({response:u,url:e,requestBodyValues:r.values})}catch(d){throw d instanceof Error&&(g1(d)||Ye.isInstance(d))?d:new Ye({message:"Failed to process successful response",cause:d,statusCode:u.status,url:e,responseHeaders:l,requestBodyValues:r.values})}}catch(u){throw tme({error:u,url:e,requestBodyValues:r.values})}},"postToApi");function Rr({id:e,name:t,inputSchema:r}){return({execute:n,outputSchema:o,toModelOutput:i,onInputStart:s,onInputDelta:u,onInputAvailable:l,...d})=>({type:"provider-defined",id:e,name:t,args:d,inputSchema:r,outputSchema:o,execute:n,toModelOutput:i,onInputStart:s,onInputDelta:u,onInputAvailable:l})}a(Rr,"createProviderDefinedToolFactory");function Na({id:e,name:t,inputSchema:r,outputSchema:n}){return({execute:o,toModelOutput:i,onInputStart:s,onInputDelta:u,onInputAvailable:l,...d})=>({type:"provider-defined",id:e,name:t,args:d,inputSchema:r,outputSchema:n,execute:o,toModelOutput:i,onInputStart:s,onInputDelta:u,onInputAvailable:l})}a(Na,"createProviderDefinedToolFactoryWithOutputSchema");async function S1(e){return typeof e=="function"&&(e=e()),Promise.resolve(e)}a(S1,"resolve");var W6=a(({errorSchema:e,errorToMessage:t,isRetryable:r})=>async({response:n,url:o,requestBodyValues:i})=>{let s=await n.text(),u=Yg(n);if(s.trim()==="")return{responseHeaders:u,value:new Ye({message:n.statusText,url:o,requestBodyValues:i,statusCode:n.status,responseHeaders:u,responseBody:s,isRetryable:r?.(n)})};try{let l=await pme({text:s,schema:e});return{responseHeaders:u,value:new Ye({message:t(l),url:o,requestBodyValues:i,statusCode:n.status,responseHeaders:u,responseBody:s,data:l,isRetryable:r?.(n,l)})}}catch{return{responseHeaders:u,value:new Ye({message:n.statusText,url:o,requestBodyValues:i,statusCode:n.status,responseHeaders:u,responseBody:s,isRetryable:r?.(n)})}}},"createJsonErrorResponseHandler"),Q6=a(e=>async({response:t})=>{let r=Yg(t);if(t.body==null)throw new kc({});return{responseHeaders:r,value:mme({stream:t.body,schema:e})}},"createEventSourceResponseHandler");var X6=a(e=>async({response:t,url:r,requestBodyValues:n})=>{let o=await t.text(),i=await G6({text:o,schema:e}),s=Yg(t);if(!i.success)throw new Ye({message:"Invalid JSON response",cause:i.error,statusCode:t.status,responseHeaders:s,responseBody:o,url:r,requestBodyValues:n});return{responseHeaders:s,value:i.value,rawValue:i.rawValue}},"createJsonResponseHandler");var gme=a((e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")},"getRelativePath"),yme=Symbol("Let zodToJsonSchema decide on which parser to use"),F6={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},vme=a(e=>typeof e=="string"?{...F6,name:e}:{...F6,...e},"getDefaultOptions");function Ln(){return{}}a(Ln,"parseAnyDef");function _me(e,t){var r,n,o;let i={type:"array"};return(r=e.type)!=null&&r._def&&((o=(n=e.type)==null?void 0:n._def)==null?void 0:o.typeName)!==U.ZodAny&&(i.items=Ct(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&(i.minItems=e.minLength.value),e.maxLength&&(i.maxItems=e.maxLength.value),e.exactLength&&(i.minItems=e.exactLength.value,i.maxItems=e.exactLength.value),i}a(_me,"parseArrayDef");function bme(e){let t={type:"integer",format:"int64"};if(!e.checks)return t;for(let r of e.checks)switch(r.kind){case"min":r.inclusive?t.minimum=r.value:t.exclusiveMinimum=r.value;break;case"max":r.inclusive?t.maximum=r.value:t.exclusiveMaximum=r.value;break;case"multipleOf":t.multipleOf=r.value;break}return t}a(bme,"parseBigintDef");function Sme(){return{type:"boolean"}}a(Sme,"parseBooleanDef");function Y6(e,t){return Ct(e.type._def,t)}a(Y6,"parseBrandedDef");var wme=a((e,t)=>Ct(e.innerType._def,t),"parseCatchDef");function eB(e,t,r){let n=r??t.dateStrategy;if(Array.isArray(n))return{anyOf:n.map((o,i)=>eB(e,t,o))};switch(n){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return xme(e)}}a(eB,"parseDateDef");var xme=a(e=>{let t={type:"integer",format:"unix-time"};for(let r of e.checks)switch(r.kind){case"min":t.minimum=r.value;break;case"max":t.maximum=r.value;break}return t},"integerDateParser");function Tme(e,t){return{...Ct(e.innerType._def,t),default:e.defaultValue()}}a(Tme,"parseDefaultDef");function Eme(e,t){return t.effectStrategy==="input"?Ct(e.schema._def,t):Ln()}a(Eme,"parseEffectsDef");function kme(e){return{type:"string",enum:Array.from(e.values)}}a(kme,"parseEnumDef");var Pme=a(e=>"type"in e&&e.type==="string"?!1:"allOf"in e,"isJsonSchema7AllOfType");function Ime(e,t){let r=[Ct(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),Ct(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(o=>!!o),n=[];return r.forEach(o=>{if(Pme(o))n.push(...o.allOf);else{let i=o;if("additionalProperties"in o&&o.additionalProperties===!1){let{additionalProperties:s,...u}=o;i=u}n.push(i)}}),n.length?{allOf:n}:void 0}a(Ime,"parseIntersectionDef");function Ome(e){let t=typeof e.value;return t!=="bigint"&&t!=="number"&&t!=="boolean"&&t!=="string"?{type:Array.isArray(e.value)?"array":"object"}:{type:t==="bigint"?"integer":t,const:e.value}}a(Ome,"parseLiteralDef");var f1=void 0,Co={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:a(()=>(f1===void 0&&(f1=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),f1),"emoji"),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function tB(e,t){let r={type:"string"};if(e.checks)for(let n of e.checks)switch(n.kind){case"min":r.minLength=typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value;break;case"max":r.maxLength=typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value;break;case"email":switch(t.emailStrategy){case"format:email":Ro(r,"email",n.message,t);break;case"format:idn-email":Ro(r,"idn-email",n.message,t);break;case"pattern:zod":pn(r,Co.email,n.message,t);break}break;case"url":Ro(r,"uri",n.message,t);break;case"uuid":Ro(r,"uuid",n.message,t);break;case"regex":pn(r,n.regex,n.message,t);break;case"cuid":pn(r,Co.cuid,n.message,t);break;case"cuid2":pn(r,Co.cuid2,n.message,t);break;case"startsWith":pn(r,RegExp(`^${h1(n.value,t)}`),n.message,t);break;case"endsWith":pn(r,RegExp(`${h1(n.value,t)}$`),n.message,t);break;case"datetime":Ro(r,"date-time",n.message,t);break;case"date":Ro(r,"date",n.message,t);break;case"time":Ro(r,"time",n.message,t);break;case"duration":Ro(r,"duration",n.message,t);break;case"length":r.minLength=typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,r.maxLength=typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value;break;case"includes":{pn(r,RegExp(h1(n.value,t)),n.message,t);break}case"ip":{n.version!=="v6"&&Ro(r,"ipv4",n.message,t),n.version!=="v4"&&Ro(r,"ipv6",n.message,t);break}case"base64url":pn(r,Co.base64url,n.message,t);break;case"jwt":pn(r,Co.jwt,n.message,t);break;case"cidr":{n.version!=="v6"&&pn(r,Co.ipv4Cidr,n.message,t),n.version!=="v4"&&pn(r,Co.ipv6Cidr,n.message,t);break}case"emoji":pn(r,Co.emoji(),n.message,t);break;case"ulid":{pn(r,Co.ulid,n.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{Ro(r,"binary",n.message,t);break}case"contentEncoding:base64":{r.contentEncoding="base64";break}case"pattern:zod":{pn(r,Co.base64,n.message,t);break}}break}case"nanoid":pn(r,Co.nanoid,n.message,t);case"toLowerCase":case"toUpperCase":case"trim":break;default:}return r}a(tB,"parseStringDef");function h1(e,t){return t.patternStrategy==="escape"?Cme(e):e}a(h1,"escapeLiteralCheckValue");var Ame=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function Cme(e){let t="";for(let r=0;r<e.length;r++)Ame.has(e[r])||(t+="\\"),t+=e[r];return t}a(Cme,"escapeNonAlphaNumeric");function Ro(e,t,r,n){var o;e.format||(o=e.anyOf)!=null&&o.some(i=>i.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format}),delete e.format),e.anyOf.push({format:t,...r&&n.errorMessages&&{errorMessage:{format:r}}})):e.format=t}a(Ro,"addFormat");function pn(e,t,r,n){var o;e.pattern||(o=e.allOf)!=null&&o.some(i=>i.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern}),delete e.pattern),e.allOf.push({pattern:B6(t,n),...r&&n.errorMessages&&{errorMessage:{pattern:r}}})):e.pattern=B6(t,n)}a(pn,"addPattern");function B6(e,t){var r;if(!t.applyRegexFlags||!e.flags)return e.source;let n={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},o=n.i?e.source.toLowerCase():e.source,i="",s=!1,u=!1,l=!1;for(let d=0;d<o.length;d++){if(s){i+=o[d],s=!1;continue}if(n.i){if(u){if(o[d].match(/[a-z]/)){l?(i+=o[d],i+=`${o[d-2]}-${o[d]}`.toUpperCase(),l=!1):o[d+1]==="-"&&((r=o[d+2])!=null&&r.match(/[a-z]/))?(i+=o[d],l=!0):i+=`${o[d]}${o[d].toUpperCase()}`;continue}}else if(o[d].match(/[a-z]/)){i+=`[${o[d]}${o[d].toUpperCase()}]`;continue}}if(n.m){if(o[d]==="^"){i+=`(^|(?<=[\r
]))`;continue}else if(o[d]==="$"){i+=`($|(?=[\r
]))`;continue}}if(n.s&&o[d]==="."){i+=u?`${o[d]}\r
`:`[${o[d]}\r
]`;continue}i+=o[d],o[d]==="\\"?s=!0:u&&o[d]==="]"?u=!1:!u&&o[d]==="["&&(u=!0)}try{new RegExp(i)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return i}a(B6,"stringifyRegExpWithFlags");function rB(e,t){var r,n,o,i,s,u;let l={type:"object",additionalProperties:(r=Ct(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]}))!=null?r:t.allowedAdditionalProperties};if(((n=e.keyType)==null?void 0:n._def.typeName)===U.ZodString&&((o=e.keyType._def.checks)!=null&&o.length)){let{type:d,...p}=tB(e.keyType._def,t);return{...l,propertyNames:p}}else{if(((i=e.keyType)==null?void 0:i._def.typeName)===U.ZodEnum)return{...l,propertyNames:{enum:e.keyType._def.values}};if(((s=e.keyType)==null?void 0:s._def.typeName)===U.ZodBranded&&e.keyType._def.type._def.typeName===U.ZodString&&((u=e.keyType._def.type._def.checks)!=null&&u.length)){let{type:d,...p}=Y6(e.keyType._def,t);return{...l,propertyNames:p}}}return l}a(rB,"parseRecordDef");function Rme(e,t){if(t.mapStrategy==="record")return rB(e,t);let r=Ct(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||Ln(),n=Ct(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||Ln();return{type:"array",maxItems:125,items:{type:"array",items:[r,n],minItems:2,maxItems:2}}}a(Rme,"parseMapDef");function $me(e){let t=e.values,n=Object.keys(e.values).filter(i=>typeof t[t[i]]!="number").map(i=>t[i]),o=Array.from(new Set(n.map(i=>typeof i)));return{type:o.length===1?o[0]==="string"?"string":"number":["string","number"],enum:n}}a($me,"parseNativeEnumDef");function Nme(){return{not:Ln()}}a(Nme,"parseNeverDef");function zme(){return{type:"null"}}a(zme,"parseNullDef");var y1={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function jme(e,t){let r=e.options instanceof Map?Array.from(e.options.values()):e.options;if(r.every(n=>n._def.typeName in y1&&(!n._def.checks||!n._def.checks.length))){let n=r.reduce((o,i)=>{let s=y1[i._def.typeName];return s&&!o.includes(s)?[...o,s]:o},[]);return{type:n.length>1?n:n[0]}}else if(r.every(n=>n._def.typeName==="ZodLiteral"&&!n.description)){let n=r.reduce((o,i)=>{let s=typeof i._def.value;switch(s){case"string":case"number":case"boolean":return[...o,s];case"bigint":return[...o,"integer"];case"object":if(i._def.value===null)return[...o,"null"];case"symbol":case"undefined":case"function":default:return o}},[]);if(n.length===r.length){let o=n.filter((i,s,u)=>u.indexOf(i)===s);return{type:o.length>1?o:o[0],enum:r.reduce((i,s)=>i.includes(s._def.value)?i:[...i,s._def.value],[])}}}else if(r.every(n=>n._def.typeName==="ZodEnum"))return{type:"string",enum:r.reduce((n,o)=>[...n,...o._def.values.filter(i=>!n.includes(i))],[])};return Dme(e,t)}a(jme,"parseUnionDef");var Dme=a((e,t)=>{let r=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((n,o)=>Ct(n._def,{...t,currentPath:[...t.currentPath,"anyOf",`${o}`]})).filter(n=>!!n&&(!t.strictUnions||typeof n=="object"&&Object.keys(n).length>0));return r.length?{anyOf:r}:void 0},"asAnyOf");function Mme(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return{type:[y1[e.innerType._def.typeName],"null"]};let r=Ct(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}a(Mme,"parseNullableDef");function qme(e){let t={type:"number"};if(!e.checks)return t;for(let r of e.checks)switch(r.kind){case"int":t.type="integer";break;case"min":r.inclusive?t.minimum=r.value:t.exclusiveMinimum=r.value;break;case"max":r.inclusive?t.maximum=r.value:t.exclusiveMaximum=r.value;break;case"multipleOf":t.multipleOf=r.value;break}return t}a(qme,"parseNumberDef");function Ume(e,t){let r={type:"object",properties:{}},n=[],o=e.shape();for(let s in o){let u=o[s];if(u===void 0||u._def===void 0)continue;let l=Fme(u),d=Ct(u._def,{...t,currentPath:[...t.currentPath,"properties",s],propertyPath:[...t.currentPath,"properties",s]});d!==void 0&&(r.properties[s]=d,l||n.push(s))}n.length&&(r.required=n);let i=Lme(e,t);return i!==void 0&&(r.additionalProperties=i),r}a(Ume,"parseObjectDef");function Lme(e,t){if(e.catchall._def.typeName!=="ZodNever")return Ct(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}a(Lme,"decideAdditionalProperties");function Fme(e){try{return e.isOptional()}catch{return!0}}a(Fme,"safeIsOptional");var Bme=a((e,t)=>{var r;if(t.currentPath.toString()===((r=t.propertyPath)==null?void 0:r.toString()))return Ct(e.innerType._def,t);let n=Ct(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return n?{anyOf:[{not:Ln()},n]}:Ln()},"parseOptionalDef"),Jme=a((e,t)=>{if(t.pipeStrategy==="input")return Ct(e.in._def,t);if(t.pipeStrategy==="output")return Ct(e.out._def,t);let r=Ct(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),n=Ct(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,n].filter(o=>o!==void 0)}},"parsePipelineDef");function Hme(e,t){return Ct(e.type._def,t)}a(Hme,"parsePromiseDef");function Vme(e,t){let n={type:"array",uniqueItems:!0,items:Ct(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&(n.minItems=e.minSize.value),e.maxSize&&(n.maxItems=e.maxSize.value),n}a(Vme,"parseSetDef");function Zme(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((r,n)=>Ct(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[]),additionalItems:Ct(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((r,n)=>Ct(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[])}}a(Zme,"parseTupleDef");function Kme(){return{not:Ln()}}a(Kme,"parseUndefinedDef");function Gme(){return Ln()}a(Gme,"parseUnknownDef");var Wme=a((e,t)=>Ct(e.innerType._def,t),"parseReadonlyDef"),Qme=a((e,t,r)=>{switch(t){case U.ZodString:return tB(e,r);case U.ZodNumber:return qme(e);case U.ZodObject:return Ume(e,r);case U.ZodBigInt:return bme(e);case U.ZodBoolean:return Sme();case U.ZodDate:return eB(e,r);case U.ZodUndefined:return Kme();case U.ZodNull:return zme();case U.ZodArray:return _me(e,r);case U.ZodUnion:case U.ZodDiscriminatedUnion:return jme(e,r);case U.ZodIntersection:return Ime(e,r);case U.ZodTuple:return Zme(e,r);case U.ZodRecord:return rB(e,r);case U.ZodLiteral:return Ome(e);case U.ZodEnum:return kme(e);case U.ZodNativeEnum:return $me(e);case U.ZodNullable:return Mme(e,r);case U.ZodOptional:return Bme(e,r);case U.ZodMap:return Rme(e,r);case U.ZodSet:return Vme(e,r);case U.ZodLazy:return()=>e.getter()._def;case U.ZodPromise:return Hme(e,r);case U.ZodNaN:case U.ZodNever:return Nme();case U.ZodEffects:return Eme(e,r);case U.ZodAny:return Ln();case U.ZodUnknown:return Gme();case U.ZodDefault:return Tme(e,r);case U.ZodBranded:return Y6(e,r);case U.ZodReadonly:return Wme(e,r);case U.ZodCatch:return wme(e,r);case U.ZodPipeline:return Jme(e,r);case U.ZodFunction:case U.ZodVoid:case U.ZodSymbol:return;default:return(n=>{})(t)}},"selectParser");function Ct(e,t,r=!1){var n;let o=t.seen.get(e);if(t.override){let l=(n=t.override)==null?void 0:n.call(t,e,t,o,r);if(l!==yme)return l}if(o&&!r){let l=Xme(o,t);if(l!==void 0)return l}let i={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,i);let s=Qme(e,e.typeName,t),u=typeof s=="function"?Ct(s(),t):s;if(u&&Yme(e,t,u),t.postProcess){let l=t.postProcess(u,e,t);return i.jsonSchema=u,l}return i.jsonSchema=u,u}a(Ct,"parseDef");var Xme=a((e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:gme(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((r,n)=>t.currentPath[n]===r)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),Ln()):t.$refStrategy==="seen"?Ln():void 0}},"get$ref"),Yme=a((e,t,r)=>(e.description&&(r.description=e.description),r),"addMeta"),efe=a(e=>{let t=vme(e),r=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([n,o])=>[o._def,{def:o._def,path:[...t.basePath,t.definitionPath,n],jsonSchema:void 0}]))}},"getRefs"),tfe=a((e,t)=>{var r;let n=efe(t),o=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((d,[p,f])=>{var m;return{...d,[p]:(m=Ct(f._def,{...n,currentPath:[...n.basePath,n.definitionPath,p]},!0))!=null?m:Ln()}},{}):void 0,i=typeof t=="string"?t:t?.nameStrategy==="title"?void 0:t?.name,s=(r=Ct(e._def,i===void 0?n:{...n,currentPath:[...n.basePath,n.definitionPath,i]},!1))!=null?r:Ln(),u=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;u!==void 0&&(s.title=u);let l=i===void 0?o?{...s,[n.definitionPath]:o}:s:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,i].join("/"),[n.definitionPath]:{...o,[i]:s}};return l.$schema="http://json-schema.org/draft-07/schema#",l},"zodToJsonSchema"),rfe=tfe;function nfe(e,t){var r;let n=(r=t?.useReferences)!=null?r:!1;return nB(()=>rfe(e,{$refStrategy:n?"root":"none"}),{validate:a(async o=>{let i=await e.safeParseAsync(o);return i.success?{success:!0,value:i.data}:{success:!1,error:i.error}},"validate")})}a(nfe,"zod3Schema");function ofe(e,t){var r;let n=(r=t?.useReferences)!=null?r:!1;return nB(()=>Ci(e,{target:"draft-7",io:"output",reused:n?"ref":"inline"}),{validate:a(async o=>{let i=await $i(e,o);return i.success?{success:!0,value:i.data}:{success:!1,error:i.error}},"validate")})}a(ofe,"zod4Schema");function ife(e){return"_zod"in e}a(ife,"isZod4Schema");function at(e,t){return ife(e)?ofe(e,t):nfe(e,t)}a(at,"zodSchema");var afe=Symbol.for("vercel.ai.schema");function st(e){let t;return()=>(t==null&&(t=e()),t)}a(st,"lazySchema");function nB(e,{validate:t}={}){return{[afe]:!0,_type:void 0,[Xg]:!0,get jsonSchema(){return typeof e=="function"&&(e=e()),e},validate:t}}a(nB,"jsonSchema");var{btoa:sfe,atob:GQe}=globalThis;function ufe(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCodePoint(e[r]);return sfe(t)}a(ufe,"convertUint8ArrayToBase64");function w1(e){return e instanceof Uint8Array?ufe(e):e}a(w1,"convertToBase64");function oB(e){return e?.replace(/\/$/,"")}a(oB,"withoutTrailingSlash");var cfe="2.0.50",lfe=st(()=>at(c.object({type:c.literal("error"),error:c.object({type:c.string(),message:c.string()})}))),iB=W6({errorSchema:lfe,errorToMessage:a(e=>e.error.message,"errorToMessage")}),dfe=st(()=>at(c.object({type:c.literal("message"),id:c.string().nullish(),model:c.string().nullish(),content:c.array(c.discriminatedUnion("type",[c.object({type:c.literal("text"),text:c.string(),citations:c.array(c.discriminatedUnion("type",[c.object({type:c.literal("web_search_result_location"),cited_text:c.string(),url:c.string(),title:c.string(),encrypted_index:c.string()}),c.object({type:c.literal("page_location"),cited_text:c.string(),document_index:c.number(),document_title:c.string().nullable(),start_page_number:c.number(),end_page_number:c.number()}),c.object({type:c.literal("char_location"),cited_text:c.string(),document_index:c.number(),document_title:c.string().nullable(),start_char_index:c.number(),end_char_index:c.number()})])).optional()}),c.object({type:c.literal("thinking"),thinking:c.string(),signature:c.string()}),c.object({type:c.literal("redacted_thinking"),data:c.string()}),c.object({type:c.literal("tool_use"),id:c.string(),name:c.string(),input:c.unknown()}),c.object({type:c.literal("server_tool_use"),id:c.string(),name:c.string(),input:c.record(c.string(),c.unknown()).nullish()}),c.object({type:c.literal("web_fetch_tool_result"),tool_use_id:c.string(),content:c.union([c.object({type:c.literal("web_fetch_result"),url:c.string(),retrieved_at:c.string(),content:c.object({type:c.literal("document"),title:c.string().nullable(),citations:c.object({enabled:c.boolean()}).optional(),source:c.object({type:c.literal("text"),media_type:c.string(),data:c.string()})})}),c.object({type:c.literal("web_fetch_tool_result_error"),error_code:c.string()})])}),c.object({type:c.literal("web_search_tool_result"),tool_use_id:c.string(),content:c.union([c.array(c.object({type:c.literal("web_search_result"),url:c.string(),title:c.string(),encrypted_content:c.string(),page_age:c.string().nullish()})),c.object({type:c.literal("web_search_tool_result_error"),error_code:c.string()})])}),c.object({type:c.literal("code_execution_tool_result"),tool_use_id:c.string(),content:c.union([c.object({type:c.literal("code_execution_result"),stdout:c.string(),stderr:c.string(),return_code:c.number()}),c.object({type:c.literal("code_execution_tool_result_error"),error_code:c.string()})])}),c.object({type:c.literal("bash_code_execution_tool_result"),tool_use_id:c.string(),content:c.discriminatedUnion("type",[c.object({type:c.literal("bash_code_execution_result"),content:c.array(c.object({type:c.literal("bash_code_execution_output"),file_id:c.string()})),stdout:c.string(),stderr:c.string(),return_code:c.number()}),c.object({type:c.literal("bash_code_execution_tool_result_error"),error_code:c.string()})])}),c.object({type:c.literal("text_editor_code_execution_tool_result"),tool_use_id:c.string(),content:c.discriminatedUnion("type",[c.object({type:c.literal("text_editor_code_execution_tool_result_error"),error_code:c.string()}),c.object({type:c.literal("text_editor_code_execution_view_result"),content:c.string(),file_type:c.string(),num_lines:c.number().nullable(),start_line:c.number().nullable(),total_lines:c.number().nullable()}),c.object({type:c.literal("text_editor_code_execution_create_result"),is_file_update:c.boolean()}),c.object({type:c.literal("text_editor_code_execution_str_replace_result"),lines:c.array(c.string()).nullable(),new_lines:c.number().nullable(),new_start:c.number().nullable(),old_lines:c.number().nullable(),old_start:c.number().nullable()})])})])),stop_reason:c.string().nullish(),stop_sequence:c.string().nullish(),usage:c.looseObject({input_tokens:c.number(),output_tokens:c.number(),cache_creation_input_tokens:c.number().nullish(),cache_read_input_tokens:c.number().nullish()}),container:c.object({expires_at:c.string(),id:c.string(),skills:c.array(c.object({type:c.union([c.literal("anthropic"),c.literal("custom")]),skill_id:c.string(),version:c.string()})).nullish()}).nullish()}))),pfe=st(()=>at(c.discriminatedUnion("type",[c.object({type:c.literal("message_start"),message:c.object({id:c.string().nullish(),model:c.string().nullish(),usage:c.looseObject({input_tokens:c.number(),cache_creation_input_tokens:c.number().nullish(),cache_read_input_tokens:c.number().nullish()})})}),c.object({type:c.literal("content_block_start"),index:c.number(),content_block:c.discriminatedUnion("type",[c.object({type:c.literal("text"),text:c.string()}),c.object({type:c.literal("thinking"),thinking:c.string()}),c.object({type:c.literal("tool_use"),id:c.string(),name:c.string()}),c.object({type:c.literal("redacted_thinking"),data:c.string()}),c.object({type:c.literal("server_tool_use"),id:c.string(),name:c.string(),input:c.record(c.string(),c.unknown()).nullish()}),c.object({type:c.literal("web_fetch_tool_result"),tool_use_id:c.string(),content:c.union([c.object({type:c.literal("web_fetch_result"),url:c.string(),retrieved_at:c.string(),content:c.object({type:c.literal("document"),title:c.string().nullable(),citations:c.object({enabled:c.boolean()}).optional(),source:c.object({type:c.literal("text"),media_type:c.string(),data:c.string()})})}),c.object({type:c.literal("web_fetch_tool_result_error"),error_code:c.string()})])}),c.object({type:c.literal("web_search_tool_result"),tool_use_id:c.string(),content:c.union([c.array(c.object({type:c.literal("web_search_result"),url:c.string(),title:c.string(),encrypted_content:c.string(),page_age:c.string().nullish()})),c.object({type:c.literal("web_search_tool_result_error"),error_code:c.string()})])}),c.object({type:c.literal("code_execution_tool_result"),tool_use_id:c.string(),content:c.union([c.object({type:c.literal("code_execution_result"),stdout:c.string(),stderr:c.string(),return_code:c.number()}),c.object({type:c.literal("code_execution_tool_result_error"),error_code:c.string()})])}),c.object({type:c.literal("bash_code_execution_tool_result"),tool_use_id:c.string(),content:c.discriminatedUnion("type",[c.object({type:c.literal("bash_code_execution_result"),content:c.array(c.object({type:c.literal("bash_code_execution_output"),file_id:c.string()})),stdout:c.string(),stderr:c.string(),return_code:c.number()}),c.object({type:c.literal("bash_code_execution_tool_result_error"),error_code:c.string()})])}),c.object({type:c.literal("text_editor_code_execution_tool_result"),tool_use_id:c.string(),content:c.discriminatedUnion("type",[c.object({type:c.literal("text_editor_code_execution_tool_result_error"),error_code:c.string()}),c.object({type:c.literal("text_editor_code_execution_view_result"),content:c.string(),file_type:c.string(),num_lines:c.number().nullable(),start_line:c.number().nullable(),total_lines:c.number().nullable()}),c.object({type:c.literal("text_editor_code_execution_create_result"),is_file_update:c.boolean()}),c.object({type:c.literal("text_editor_code_execution_str_replace_result"),lines:c.array(c.string()).nullable(),new_lines:c.number().nullable(),new_start:c.number().nullable(),old_lines:c.number().nullable(),old_start:c.number().nullable()})])})])}),c.object({type:c.literal("content_block_delta"),index:c.number(),delta:c.discriminatedUnion("type",[c.object({type:c.literal("input_json_delta"),partial_json:c.string()}),c.object({type:c.literal("text_delta"),text:c.string()}),c.object({type:c.literal("thinking_delta"),thinking:c.string()}),c.object({type:c.literal("signature_delta"),signature:c.string()}),c.object({type:c.literal("citations_delta"),citation:c.discriminatedUnion("type",[c.object({type:c.literal("web_search_result_location"),cited_text:c.string(),url:c.string(),title:c.string(),encrypted_index:c.string()}),c.object({type:c.literal("page_location"),cited_text:c.string(),document_index:c.number(),document_title:c.string().nullable(),start_page_number:c.number(),end_page_number:c.number()}),c.object({type:c.literal("char_location"),cited_text:c.string(),document_index:c.number(),document_title:c.string().nullable(),start_char_index:c.number(),end_char_index:c.number()})])})])}),c.object({type:c.literal("content_block_stop"),index:c.number()}),c.object({type:c.literal("error"),error:c.object({type:c.string(),message:c.string()})}),c.object({type:c.literal("message_delta"),delta:c.object({stop_reason:c.string().nullish(),stop_sequence:c.string().nullish(),container:c.object({expires_at:c.string(),id:c.string(),skills:c.array(c.object({type:c.union([c.literal("anthropic"),c.literal("custom")]),skill_id:c.string(),version:c.string()})).nullish()}).nullish()}),usage:c.looseObject({output_tokens:c.number(),cache_creation_input_tokens:c.number().nullish()})}),c.object({type:c.literal("message_stop")}),c.object({type:c.literal("ping")})]))),mfe=st(()=>at(c.object({signature:c.string().optional(),redactedData:c.string().optional()}))),aB=c.object({citations:c.object({enabled:c.boolean()}).optional(),title:c.string().optional(),context:c.string().optional()}),ffe=c.object({sendReasoning:c.boolean().optional(),structuredOutputMode:c.enum(["outputFormat","jsonTool","auto"]).optional(),thinking:c.object({type:c.union([c.literal("enabled"),c.literal("disabled")]),budgetTokens:c.number().optional()}).optional(),disableParallelToolUse:c.boolean().optional(),cacheControl:c.object({type:c.literal("ephemeral"),ttl:c.union([c.literal("5m"),c.literal("1h")]).optional()}).optional(),container:c.object({id:c.string().optional(),skills:c.array(c.object({type:c.union([c.literal("anthropic"),c.literal("custom")]),skillId:c.string(),version:c.string().optional()})).optional()}).optional(),effort:c.enum(["low","medium","high"]).optional()}),sB=4;function hfe(e){var t;let r=e?.anthropic;return(t=r?.cacheControl)!=null?t:r?.cache_control}a(hfe,"getCacheControl");var x1=class{static{a(this,"CacheControlValidator")}constructor(){this.breakpointCount=0,this.warnings=[]}getCacheControl(e,t){let r=hfe(e);if(r){if(!t.canCache){this.warnings.push({type:"unsupported-setting",setting:"cacheControl",details:`cache_control cannot be set on ${t.type}. It will be ignored.`});return}if(this.breakpointCount++,this.breakpointCount>sB){this.warnings.push({type:"unsupported-setting",setting:"cacheControl",details:`Maximum ${sB} cache breakpoints exceeded (found ${this.breakpointCount}). This breakpoint will be ignored.`});return}return r}}getWarnings(){return this.warnings}},gfe=st(()=>at(c.object({maxCharacters:c.number().optional()}))),yfe=st(()=>at(c.object({command:c.enum(["view","create","str_replace","insert"]),path:c.string(),file_text:c.string().optional(),insert_line:c.number().int().optional(),new_str:c.string().optional(),old_str:c.string().optional(),view_range:c.array(c.number().int()).optional()}))),vfe=Rr({id:"anthropic.text_editor_20250728",name:"str_replace_based_edit_tool",inputSchema:yfe}),_fe=a((e={})=>vfe(e),"textEditor_20250728"),bfe=st(()=>at(c.object({maxUses:c.number().optional(),allowedDomains:c.array(c.string()).optional(),blockedDomains:c.array(c.string()).optional(),userLocation:c.object({type:c.literal("approximate"),city:c.string().optional(),region:c.string().optional(),country:c.string().optional(),timezone:c.string().optional()}).optional()}))),lB=st(()=>at(c.array(c.object({url:c.string(),title:c.string(),pageAge:c.string().nullable(),encryptedContent:c.string(),type:c.literal("web_search_result")})))),Sfe=st(()=>at(c.object({query:c.string()}))),wfe=Na({id:"anthropic.web_search_20250305",name:"web_search",inputSchema:Sfe,outputSchema:lB}),xfe=a((e={})=>wfe(e),"webSearch_20250305"),Tfe=st(()=>at(c.object({maxUses:c.number().optional(),allowedDomains:c.array(c.string()).optional(),blockedDomains:c.array(c.string()).optional(),citations:c.object({enabled:c.boolean()}).optional(),maxContentTokens:c.number().optional()}))),dB=st(()=>at(c.object({type:c.literal("web_fetch_result"),url:c.string(),content:c.object({type:c.literal("document"),title:c.string(),citations:c.object({enabled:c.boolean()}).optional(),source:c.union([c.object({type:c.literal("base64"),mediaType:c.literal("application/pdf"),data:c.string()}),c.object({type:c.literal("text"),mediaType:c.literal("text/plain"),data:c.string()})])}),retrievedAt:c.string().nullable()}))),Efe=st(()=>at(c.object({url:c.string()}))),kfe=Na({id:"anthropic.web_fetch_20250910",name:"web_fetch",inputSchema:Efe,outputSchema:dB}),Pfe=a((e={})=>kfe(e),"webFetch_20250910");async function Ife({tools:e,toolChoice:t,disableParallelToolUse:r,cacheControlValidator:n}){e=e?.length?e:void 0;let o=[],i=new Set,s=n||new x1;if(e==null)return{tools:void 0,toolChoice:void 0,toolWarnings:o,betas:i};let u=[];for(let d of e)switch(d.type){case"function":{let p=s.getCacheControl(d.providerOptions,{type:"tool definition",canCache:!0});u.push({name:d.name,description:d.description,input_schema:d.inputSchema,cache_control:p});break}case"provider-defined":{switch(d.id){case"anthropic.code_execution_20250522":{i.add("code-execution-2025-05-22"),u.push({type:"code_execution_20250522",name:"code_execution",cache_control:void 0});break}case"anthropic.code_execution_20250825":{i.add("code-execution-2025-08-25"),u.push({type:"code_execution_20250825",name:"code_execution"});break}case"anthropic.computer_20250124":{i.add("computer-use-2025-01-24"),u.push({name:"computer",type:"computer_20250124",display_width_px:d.args.displayWidthPx,display_height_px:d.args.displayHeightPx,display_number:d.args.displayNumber,cache_control:void 0});break}case"anthropic.computer_20241022":{i.add("computer-use-2024-10-22"),u.push({name:"computer",type:"computer_20241022",display_width_px:d.args.displayWidthPx,display_height_px:d.args.displayHeightPx,display_number:d.args.displayNumber,cache_control:void 0});break}case"anthropic.text_editor_20250124":{i.add("computer-use-2025-01-24"),u.push({name:"str_replace_editor",type:"text_editor_20250124",cache_control:void 0});break}case"anthropic.text_editor_20241022":{i.add("computer-use-2024-10-22"),u.push({name:"str_replace_editor",type:"text_editor_20241022",cache_control:void 0});break}case"anthropic.text_editor_20250429":{i.add("computer-use-2025-01-24"),u.push({name:"str_replace_based_edit_tool",type:"text_editor_20250429",cache_control:void 0});break}case"anthropic.text_editor_20250728":{let p=await Yo({value:d.args,schema:gfe});u.push({name:"str_replace_based_edit_tool",type:"text_editor_20250728",max_characters:p.maxCharacters,cache_control:void 0});break}case"anthropic.bash_20250124":{i.add("computer-use-2025-01-24"),u.push({name:"bash",type:"bash_20250124",cache_control:void 0});break}case"anthropic.bash_20241022":{i.add("computer-use-2024-10-22"),u.push({name:"bash",type:"bash_20241022",cache_control:void 0});break}case"anthropic.memory_20250818":{i.add("context-management-2025-06-27"),u.push({name:"memory",type:"memory_20250818"});break}case"anthropic.web_fetch_20250910":{i.add("web-fetch-2025-09-10");let p=await Yo({value:d.args,schema:Tfe});u.push({type:"web_fetch_20250910",name:"web_fetch",max_uses:p.maxUses,allowed_domains:p.allowedDomains,blocked_domains:p.blockedDomains,citations:p.citations,max_content_tokens:p.maxContentTokens,cache_control:void 0});break}case"anthropic.web_search_20250305":{let p=await Yo({value:d.args,schema:bfe});u.push({type:"web_search_20250305",name:"web_search",max_uses:p.maxUses,allowed_domains:p.allowedDomains,blocked_domains:p.blockedDomains,user_location:p.userLocation,cache_control:void 0});break}default:{o.push({type:"unsupported-tool",tool:d});break}}break}default:{o.push({type:"unsupported-tool",tool:d});break}}if(t==null)return{tools:u,toolChoice:r?{type:"auto",disable_parallel_tool_use:r}:void 0,toolWarnings:o,betas:i};let l=t.type;switch(l){case"auto":return{tools:u,toolChoice:{type:"auto",disable_parallel_tool_use:r},toolWarnings:o,betas:i};case"required":return{tools:u,toolChoice:{type:"any",disable_parallel_tool_use:r},toolWarnings:o,betas:i};case"none":return{tools:void 0,toolChoice:void 0,toolWarnings:o,betas:i};case"tool":return{tools:u,toolChoice:{type:"tool",name:t.toolName,disable_parallel_tool_use:r},toolWarnings:o,betas:i};default:{let d=l;throw new Pt({functionality:`tool choice type: ${d}`})}}}a(Ife,"prepareTools");var pB=st(()=>at(c.object({type:c.literal("code_execution_result"),stdout:c.string(),stderr:c.string(),return_code:c.number()}))),Ofe=st(()=>at(c.object({code:c.string()}))),Afe=Na({id:"anthropic.code_execution_20250522",name:"code_execution",inputSchema:Ofe,outputSchema:pB}),Cfe=a((e={})=>Afe(e),"codeExecution_20250522"),mB=st(()=>at(c.discriminatedUnion("type",[c.object({type:c.literal("bash_code_execution_result"),content:c.array(c.object({type:c.literal("bash_code_execution_output"),file_id:c.string()})),stdout:c.string(),stderr:c.string(),return_code:c.number()}),c.object({type:c.literal("bash_code_execution_tool_result_error"),error_code:c.string()}),c.object({type:c.literal("text_editor_code_execution_tool_result_error"),error_code:c.string()}),c.object({type:c.literal("text_editor_code_execution_view_result"),content:c.string(),file_type:c.string(),num_lines:c.number().nullable(),start_line:c.number().nullable(),total_lines:c.number().nullable()}),c.object({type:c.literal("text_editor_code_execution_create_result"),is_file_update:c.boolean()}),c.object({type:c.literal("text_editor_code_execution_str_replace_result"),lines:c.array(c.string()).nullable(),new_lines:c.number().nullable(),new_start:c.number().nullable(),old_lines:c.number().nullable(),old_start:c.number().nullable()})]))),Rfe=st(()=>at(c.discriminatedUnion("type",[c.object({type:c.literal("bash_code_execution"),command:c.string()}),c.discriminatedUnion("command",[c.object({type:c.literal("text_editor_code_execution"),command:c.literal("view"),path:c.string()}),c.object({type:c.literal("text_editor_code_execution"),command:c.literal("create"),path:c.string(),file_text:c.string().nullish()}),c.object({type:c.literal("text_editor_code_execution"),command:c.literal("str_replace"),path:c.string(),old_str:c.string(),new_str:c.string()})])]))),$fe=Na({id:"anthropic.code_execution_20250825",name:"code_execution",inputSchema:Rfe,outputSchema:mB}),Nfe=a((e={})=>$fe(e),"codeExecution_20250825");function zfe(e){if(typeof e=="string")return Buffer.from(e,"base64").toString("utf-8");if(e instanceof Uint8Array)return new TextDecoder().decode(e);throw e instanceof URL?new Pt({functionality:"URL-based text documents are not supported for citations"}):new Pt({functionality:`unsupported data type for text documents: ${typeof e}`})}a(zfe,"convertToString");async function jfe({prompt:e,sendReasoning:t,warnings:r,cacheControlValidator:n}){var o,i,s,u,l;let d=new Set,p=Dfe(e),f=n||new x1,m,y=[];async function g(v){var S,b;let w=await Pc({provider:"anthropic",providerOptions:v,schema:aB});return(b=(S=w?.citations)==null?void 0:S.enabled)!=null?b:!1}a(g,"shouldEnableCitations");async function h(v){let S=await Pc({provider:"anthropic",providerOptions:v,schema:aB});return{title:S?.title,context:S?.context}}a(h,"getDocumentMetadata");for(let v=0;v<p.length;v++){let S=p[v],b=v===p.length-1,w=S.type;switch(w){case"system":{if(m!=null)throw new Pt({functionality:"Multiple system messages that are separated by user/assistant messages"});m=S.messages.map(({content:k,providerOptions:$})=>({type:"text",text:k,cache_control:f.getCacheControl($,{type:"system message",canCache:!0})}));break}case"user":{let k=[];for(let $ of S.messages){let{role:C,content:A}=$;switch(C){case"user":{for(let R=0;R<A.length;R++){let O=A[R],z=R===A.length-1,D=(o=f.getCacheControl(O.providerOptions,{type:"user message part",canCache:!0}))!=null?o:z?f.getCacheControl($.providerOptions,{type:"user message",canCache:!0}):void 0;switch(O.type){case"text":{k.push({type:"text",text:O.text,cache_control:D});break}case"file":{if(O.mediaType.startsWith("image/"))k.push({type:"image",source:O.data instanceof URL?{type:"url",url:O.data.toString()}:{type:"base64",media_type:O.mediaType==="image/*"?"image/jpeg":O.mediaType,data:w1(O.data)},cache_control:D});else if(O.mediaType==="application/pdf"){d.add("pdfs-2024-09-25");let X=await g(O.providerOptions),G=await h(O.providerOptions);k.push({type:"document",source:O.data instanceof URL?{type:"url",url:O.data.toString()}:{type:"base64",media_type:"application/pdf",data:w1(O.data)},title:(i=G.title)!=null?i:O.filename,...G.context&&{context:G.context},...X&&{citations:{enabled:!0}},cache_control:D})}else if(O.mediaType==="text/plain"){let X=await g(O.providerOptions),G=await h(O.providerOptions);k.push({type:"document",source:O.data instanceof URL?{type:"url",url:O.data.toString()}:{type:"text",media_type:"text/plain",data:zfe(O.data)},title:(s=G.title)!=null?s:O.filename,...G.context&&{context:G.context},...X&&{citations:{enabled:!0}},cache_control:D})}else throw new Pt({functionality:`media type: ${O.mediaType}`});break}}}break}case"tool":{for(let R=0;R<A.length;R++){let O=A[R],z=R===A.length-1,D=(u=f.getCacheControl(O.providerOptions,{type:"tool result part",canCache:!0}))!=null?u:z?f.getCacheControl($.providerOptions,{type:"tool result message",canCache:!0}):void 0,X=O.output,G;switch(X.type){case"content":G=X.value.map(B=>{switch(B.type){case"text":return{type:"text",text:B.text};case"media":{if(B.mediaType.startsWith("image/"))return{type:"image",source:{type:"base64",media_type:B.mediaType,data:B.data}};if(B.mediaType==="application/pdf")return d.add("pdfs-2024-09-25"),{type:"document",source:{type:"base64",media_type:B.mediaType,data:B.data}};throw new Pt({functionality:`media type: ${B.mediaType}`})}}});break;case"text":case"error-text":G=X.value;break;case"json":case"error-json":default:G=JSON.stringify(X.value);break}k.push({type:"tool_result",tool_use_id:O.toolCallId,content:G,is_error:X.type==="error-text"||X.type==="error-json"?!0:void 0,cache_control:D})}break}default:{let R=C;throw new Error(`Unsupported role: ${R}`)}}}y.push({role:"user",content:k});break}case"assistant":{let k=[];for(let $=0;$<S.messages.length;$++){let C=S.messages[$],A=$===S.messages.length-1,{content:R}=C;for(let O=0;O<R.length;O++){let z=R[O],D=O===R.length-1,X=(l=f.getCacheControl(z.providerOptions,{type:"assistant message part",canCache:!0}))!=null?l:D?f.getCacheControl(C.providerOptions,{type:"assistant message",canCache:!0}):void 0;switch(z.type){case"text":{k.push({type:"text",text:b&&A&&D?z.text.trim():z.text,cache_control:X});break}case"reasoning":{if(t){let G=await Pc({provider:"anthropic",providerOptions:z.providerOptions,schema:mfe});G!=null?G.signature!=null?(f.getCacheControl(z.providerOptions,{type:"thinking block",canCache:!1}),k.push({type:"thinking",thinking:z.text,signature:G.signature})):G.redactedData!=null?(f.getCacheControl(z.providerOptions,{type:"redacted thinking block",canCache:!1}),k.push({type:"redacted_thinking",data:G.redactedData})):r.push({type:"other",message:"unsupported reasoning metadata"}):r.push({type:"other",message:"unsupported reasoning metadata"})}else r.push({type:"other",message:"sending reasoning content is disabled for this model"});break}case"tool-call":{if(z.providerExecuted){z.toolName==="code_execution"&&z.input!=null&&typeof z.input=="object"&&"type"in z.input&&typeof z.input.type=="string"&&(z.input.type==="bash_code_execution"||z.input.type==="text_editor_code_execution")?k.push({type:"server_tool_use",id:z.toolCallId,name:z.input.type,input:z.input,cache_control:X}):z.toolName==="code_execution"||z.toolName==="web_fetch"||z.toolName==="web_search"?k.push({type:"server_tool_use",id:z.toolCallId,name:z.toolName,input:z.input,cache_control:X}):r.push({type:"other",message:`provider executed tool call for tool ${z.toolName} is not supported`});break}k.push({type:"tool_use",id:z.toolCallId,name:z.toolName,input:z.input,cache_control:X});break}case"tool-result":{if(z.toolName==="code_execution"){let G=z.output;if(G.type!=="json"){r.push({type:"other",message:`provider executed tool result output type ${G.type} for tool ${z.toolName} is not supported`});break}if(G.value==null||typeof G.value!="object"||!("type"in G.value)||typeof G.value.type!="string"){r.push({type:"other",message:`provider executed tool result output value is not a valid code execution result for tool ${z.toolName}`});break}if(G.value.type==="code_execution_result"){let B=await Yo({value:G.value,schema:pB});k.push({type:"code_execution_tool_result",tool_use_id:z.toolCallId,content:{type:B.type,stdout:B.stdout,stderr:B.stderr,return_code:B.return_code},cache_control:X})}else{let B=await Yo({value:G.value,schema:mB});k.push(B.type==="bash_code_execution_result"||B.type==="bash_code_execution_tool_result_error"?{type:"bash_code_execution_tool_result",tool_use_id:z.toolCallId,cache_control:X,content:B}:{type:"text_editor_code_execution_tool_result",tool_use_id:z.toolCallId,cache_control:X,content:B})}break}if(z.toolName==="web_fetch"){let G=z.output;if(G.type!=="json"){r.push({type:"other",message:`provider executed tool result output type ${G.type} for tool ${z.toolName} is not supported`});break}let B=await Yo({value:G.value,schema:dB});k.push({type:"web_fetch_tool_result",tool_use_id:z.toolCallId,content:{type:"web_fetch_result",url:B.url,retrieved_at:B.retrievedAt,content:{type:"document",title:B.content.title,citations:B.content.citations,source:{type:B.content.source.type,media_type:B.content.source.mediaType,data:B.content.source.data}}},cache_control:X});break}if(z.toolName==="web_search"){let G=z.output;if(G.type!=="json"){r.push({type:"other",message:`provider executed tool result output type ${G.type} for tool ${z.toolName} is not supported`});break}let B=await Yo({value:G.value,schema:lB});k.push({type:"web_search_tool_result",tool_use_id:z.toolCallId,content:B.map(te=>({url:te.url,title:te.title,page_age:te.pageAge,encrypted_content:te.encryptedContent,type:te.type})),cache_control:X});break}r.push({type:"other",message:`provider executed tool result for tool ${z.toolName} is not supported`});break}}}}y.push({role:"assistant",content:k});break}default:{let k=w;throw new Error(`content type: ${k}`)}}}return{prompt:{system:m,messages:y},betas:d}}a(jfe,"convertToAnthropicMessagesPrompt");function Dfe(e){let t=[],r;for(let n of e){let{role:o}=n;switch(o){case"system":{r?.type!=="system"&&(r={type:"system",messages:[]},t.push(r)),r.messages.push(n);break}case"assistant":{r?.type!=="assistant"&&(r={type:"assistant",messages:[]},t.push(r)),r.messages.push(n);break}case"user":{r?.type!=="user"&&(r={type:"user",messages:[]},t.push(r)),r.messages.push(n);break}case"tool":{r?.type!=="user"&&(r={type:"user",messages:[]},t.push(r)),r.messages.push(n);break}default:{let i=o;throw new Error(`Unsupported role: ${i}`)}}}return t}a(Dfe,"groupIntoBlocks");function uB({finishReason:e,isJsonResponseFromTool:t}){switch(e){case"pause_turn":case"end_turn":case"stop_sequence":return"stop";case"refusal":return"content-filter";case"tool_use":return t?"stop":"tool-calls";case"max_tokens":return"length";default:return"unknown"}}a(uB,"mapAnthropicStopReason");function cB(e,t,r){var n;if(e.type!=="page_location"&&e.type!=="char_location")return;let o=t[e.document_index];if(o)return{type:"source",sourceType:"document",id:r(),mediaType:o.mediaType,title:(n=e.document_title)!=null?n:o.title,filename:o.filename,providerMetadata:{anthropic:e.type==="page_location"?{citedText:e.cited_text,startPageNumber:e.start_page_number,endPageNumber:e.end_page_number}:{citedText:e.cited_text,startCharIndex:e.start_char_index,endCharIndex:e.end_char_index}}}}a(cB,"createCitationSource");var Mfe=class{static{a(this,"AnthropicMessagesLanguageModel")}constructor(e,t){this.specificationVersion="v2";var r;this.modelId=e,this.config=t,this.generateId=(r=t.generateId)!=null?r:ey}supportsUrl(e){return e.protocol==="https:"}get provider(){return this.config.provider}get supportedUrls(){var e,t,r;return(r=(t=(e=this.config).supportedUrls)==null?void 0:t.call(e))!=null?r:{}}async getArgs({userSuppliedBetas:e,prompt:t,maxOutputTokens:r,temperature:n,topP:o,topK:i,frequencyPenalty:s,presencePenalty:u,stopSequences:l,responseFormat:d,seed:p,tools:f,toolChoice:m,providerOptions:y}){var g,h,v,S,b;let w=[];s!=null&&w.push({type:"unsupported-setting",setting:"frequencyPenalty"}),u!=null&&w.push({type:"unsupported-setting",setting:"presencePenalty"}),p!=null&&w.push({type:"unsupported-setting",setting:"seed"}),n!=null&&n>1?(w.push({type:"unsupported-setting",setting:"temperature",details:`${n} exceeds anthropic maximum of 1.0. clamped to 1.0`}),n=1):n!=null&&n<0&&(w.push({type:"unsupported-setting",setting:"temperature",details:`${n} is below anthropic minimum of 0. clamped to 0`}),n=0),d?.type==="json"&&(d.schema==null?w.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format requires a schema. The response format is ignored."}):f!=null&&w.push({type:"unsupported-setting",setting:"tools",details:"JSON response format does not support tools. The provided tools are ignored."}));let k=await Pc({provider:"anthropic",providerOptions:y,schema:ffe}),{maxOutputTokens:$,supportsStructuredOutput:C,isKnownModel:A}=qfe(this.modelId),R=(g=k?.structuredOutputMode)!=null?g:"jsonTool",O=R==="outputFormat"||R==="auto"&&C,z=d?.type==="json"&&d.schema!=null&&!O?{type:"function",name:"json",description:"Respond with a JSON object.",inputSchema:d.schema}:void 0,D=new x1,{prompt:X,betas:G}=await jfe({prompt:t,sendReasoning:(h=k?.sendReasoning)!=null?h:!0,warnings:w,cacheControlValidator:D}),B=((v=k?.thinking)==null?void 0:v.type)==="enabled",te=(S=k?.thinking)==null?void 0:S.budgetTokens,ne=r??$,ae={model:this.modelId,max_tokens:ne,temperature:n,top_k:i,top_p:o,stop_sequences:l,...B&&{thinking:{type:"enabled",budget_tokens:te}},...k?.effort&&{output_config:{effort:k.effort}},...O&&d?.type==="json"&&d.schema!=null&&{output_format:{type:"json_schema",schema:d.schema}},...k?.container&&{container:{id:k.container.id,skills:(b=k.container.skills)==null?void 0:b.map(Re=>({type:Re.type,skill_id:Re.skillId,version:Re.version}))}},system:X.system,messages:X.messages};if(B){if(te==null)throw new Pt({functionality:"thinking requires a budget"});ae.temperature!=null&&(ae.temperature=void 0,w.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported when thinking is enabled"})),i!=null&&(ae.top_k=void 0,w.push({type:"unsupported-setting",setting:"topK",details:"topK is not supported when thinking is enabled"})),o!=null&&(ae.top_p=void 0,w.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported when thinking is enabled"})),ae.max_tokens=ne+te}A&&ae.max_tokens>$&&(r!=null&&w.push({type:"unsupported-setting",setting:"maxOutputTokens",details:`${ae.max_tokens} (maxOutputTokens + thinkingBudget) is greater than ${this.modelId} ${$} max output tokens. The max output tokens have been limited to ${$}.`}),ae.max_tokens=$),k?.container&&k.container.skills&&k.container.skills.length>0&&(G.add("code-execution-2025-08-25"),G.add("skills-2025-10-02"),G.add("files-api-2025-04-14"),f?.some(Re=>Re.type==="provider-defined"&&Re.id==="anthropic.code_execution_20250825")||w.push({type:"other",message:"code execution tool is required when using skills"})),k?.effort&&G.add("effort-2025-11-24"),O&&G.add("structured-outputs-2025-11-13");let{tools:Se,toolChoice:ke,toolWarnings:et,betas:Ke}=await Ife(z!=null?{tools:[z],toolChoice:{type:"tool",toolName:z.name},disableParallelToolUse:!0,cacheControlValidator:D}:{tools:f??[],toolChoice:m,disableParallelToolUse:k?.disableParallelToolUse,cacheControlValidator:D}),Q=D.getWarnings();return{args:{...ae,tools:Se,tool_choice:ke},warnings:[...w,...et,...Q],betas:new Set([...G,...Ke,...e]),usesJsonResponseTool:z!=null}}async getHeaders({betas:e,headers:t}){return J6(await S1(this.config.headers),t,e.size>0?{"anthropic-beta":Array.from(e).join(",")}:{})}async getBetasFromHeaders(e){var t,r;let o=(t=(await S1(this.config.headers))["anthropic-beta"])!=null?t:"",i=(r=e?.["anthropic-beta"])!=null?r:"";return new Set([...o.toLowerCase().split(","),...i.toLowerCase().split(",")].map(s=>s.trim()).filter(s=>s!==""))}buildRequestUrl(e){var t,r,n;return(n=(r=(t=this.config).buildRequestUrl)==null?void 0:r.call(t,this.config.baseURL,e))!=null?n:`${this.config.baseURL}/messages`}transformRequestBody(e){var t,r,n;return(n=(r=(t=this.config).transformRequestBody)==null?void 0:r.call(t,e))!=null?n:e}extractCitationDocuments(e){let t=a(r=>{var n,o;if(r.type!=="file"||r.mediaType!=="application/pdf"&&r.mediaType!=="text/plain")return!1;let i=(n=r.providerOptions)==null?void 0:n.anthropic,s=i?.citations;return(o=s?.enabled)!=null?o:!1},"isCitationPart");return e.filter(r=>r.role==="user").flatMap(r=>r.content).filter(t).map(r=>{var n;let o=r;return{title:(n=o.filename)!=null?n:"Untitled Document",filename:o.filename,mediaType:o.mediaType}})}async doGenerate(e){var t,r,n,o,i,s,u,l;let{args:d,warnings:p,betas:f,usesJsonResponseTool:m}=await this.getArgs({...e,userSuppliedBetas:await this.getBetasFromHeaders(e.headers)}),y=this.extractCitationDocuments(e.prompt),{responseHeaders:g,value:h,rawValue:v}=await b1({url:this.buildRequestUrl(!1),headers:await this.getHeaders({betas:f,headers:e.headers}),body:this.transformRequestBody(d),failedResponseHandler:iB,successfulResponseHandler:X6(dfe),abortSignal:e.abortSignal,fetch:this.config.fetch}),S=[];for(let b of h.content)switch(b.type){case"text":{if(!m&&(S.push({type:"text",text:b.text}),b.citations))for(let w of b.citations){let k=cB(w,y,this.generateId);k&&S.push(k)}break}case"thinking":{S.push({type:"reasoning",text:b.thinking,providerMetadata:{anthropic:{signature:b.signature}}});break}case"redacted_thinking":{S.push({type:"reasoning",text:"",providerMetadata:{anthropic:{redactedData:b.data}}});break}case"tool_use":{S.push(m?{type:"text",text:JSON.stringify(b.input)}:{type:"tool-call",toolCallId:b.id,toolName:b.name,input:JSON.stringify(b.input)});break}case"server_tool_use":{b.name==="text_editor_code_execution"||b.name==="bash_code_execution"?S.push({type:"tool-call",toolCallId:b.id,toolName:"code_execution",input:JSON.stringify({type:b.name,...b.input}),providerExecuted:!0}):(b.name==="web_search"||b.name==="code_execution"||b.name==="web_fetch")&&S.push({type:"tool-call",toolCallId:b.id,toolName:b.name,input:JSON.stringify(b.input),providerExecuted:!0});break}case"web_fetch_tool_result":{b.content.type==="web_fetch_result"?S.push({type:"tool-result",toolCallId:b.tool_use_id,toolName:"web_fetch",result:{type:"web_fetch_result",url:b.content.url,retrievedAt:b.content.retrieved_at,content:{type:b.content.content.type,title:b.content.content.title,citations:b.content.content.citations,source:{type:b.content.content.source.type,mediaType:b.content.content.source.media_type,data:b.content.content.source.data}}},providerExecuted:!0}):b.content.type==="web_fetch_tool_result_error"&&S.push({type:"tool-result",toolCallId:b.tool_use_id,toolName:"web_fetch",isError:!0,result:{type:"web_fetch_tool_result_error",errorCode:b.content.error_code},providerExecuted:!0});break}case"web_search_tool_result":{if(Array.isArray(b.content)){S.push({type:"tool-result",toolCallId:b.tool_use_id,toolName:"web_search",result:b.content.map(w=>{var k;return{url:w.url,title:w.title,pageAge:(k=w.page_age)!=null?k:null,encryptedContent:w.encrypted_content,type:w.type}}),providerExecuted:!0});for(let w of b.content)S.push({type:"source",sourceType:"url",id:this.generateId(),url:w.url,title:w.title,providerMetadata:{anthropic:{pageAge:(t=w.page_age)!=null?t:null}}})}else S.push({type:"tool-result",toolCallId:b.tool_use_id,toolName:"web_search",isError:!0,result:{type:"web_search_tool_result_error",errorCode:b.content.error_code},providerExecuted:!0});break}case"code_execution_tool_result":{b.content.type==="code_execution_result"?S.push({type:"tool-result",toolCallId:b.tool_use_id,toolName:"code_execution",result:{type:b.content.type,stdout:b.content.stdout,stderr:b.content.stderr,return_code:b.content.return_code},providerExecuted:!0}):b.content.type==="code_execution_tool_result_error"&&S.push({type:"tool-result",toolCallId:b.tool_use_id,toolName:"code_execution",isError:!0,result:{type:"code_execution_tool_result_error",errorCode:b.content.error_code},providerExecuted:!0});break}case"bash_code_execution_tool_result":case"text_editor_code_execution_tool_result":{S.push({type:"tool-result",toolCallId:b.tool_use_id,toolName:"code_execution",result:b.content,providerExecuted:!0});break}}return{content:S,finishReason:uB({finishReason:h.stop_reason,isJsonResponseFromTool:m}),usage:{inputTokens:h.usage.input_tokens,outputTokens:h.usage.output_tokens,totalTokens:h.usage.input_tokens+h.usage.output_tokens,cachedInputTokens:(r=h.usage.cache_read_input_tokens)!=null?r:void 0},request:{body:d},response:{id:(n=h.id)!=null?n:void 0,modelId:(o=h.model)!=null?o:void 0,headers:g,body:v},warnings:p,providerMetadata:{anthropic:{usage:h.usage,cacheCreationInputTokens:(i=h.usage.cache_creation_input_tokens)!=null?i:null,stopSequence:(s=h.stop_sequence)!=null?s:null,container:h.container?{expiresAt:h.container.expires_at,id:h.container.id,skills:(l=(u=h.container.skills)==null?void 0:u.map(b=>({type:b.type,skillId:b.skill_id,version:b.version})))!=null?l:null}:null}}}}async doStream(e){let{args:t,warnings:r,betas:n,usesJsonResponseTool:o}=await this.getArgs({...e,userSuppliedBetas:await this.getBetasFromHeaders(e.headers)}),i=this.extractCitationDocuments(e.prompt),s={...t,stream:!0},u=this.buildRequestUrl(!0),{responseHeaders:l,value:d}=await b1({url:u,headers:await this.getHeaders({betas:n,headers:e.headers}),body:this.transformRequestBody(s),failedResponseHandler:iB,successfulResponseHandler:Q6(pfe),abortSignal:e.abortSignal,fetch:this.config.fetch}),p="unknown",f={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},m={},y,g=null,h=null,v=null,S,b=this.generateId,w=!0,k,$=new H6,C=d.pipeThrough(new TransformStream({start(z){z.enqueue({type:"stream-start",warnings:r})},async flush(){$.isPending()&&$.resolve({stream:k,request:{body:s},response:{headers:l}})},transform(z,D){var X,G,B,te,ne,ae,Se,ke,et,Ke;if(e.includeRawChunks&&D.enqueue({type:"raw",rawValue:z.rawValue}),!z.success){D.enqueue({type:"error",error:z.error});return}if(w){if(z.value.type==="error"){$.reject(new Ye({message:z.value.error.message,url:u,requestBodyValues:s,statusCode:z.value.error.type==="overloaded_error"?529:500,responseHeaders:l,responseBody:JSON.stringify(z.value.error),isRetryable:z.value.error.type==="overloaded_error"})),D.terminate();return}w=!1,$.resolve({stream:k,request:{body:s},response:{headers:l}})}let Q=z.value;switch(Q.type){case"ping":return;case"content_block_start":{let Re=Q.content_block.type;switch(S=Re,Re){case"text":{m[Q.index]={type:"text"},D.enqueue({type:"text-start",id:String(Q.index)});return}case"thinking":{m[Q.index]={type:"reasoning"},D.enqueue({type:"reasoning-start",id:String(Q.index)});return}case"redacted_thinking":{m[Q.index]={type:"reasoning"},D.enqueue({type:"reasoning-start",id:String(Q.index),providerMetadata:{anthropic:{redactedData:Q.content_block.data}}});return}case"tool_use":{m[Q.index]=o?{type:"text"}:{type:"tool-call",toolCallId:Q.content_block.id,toolName:Q.content_block.name,input:"",firstDelta:!0},D.enqueue(o?{type:"text-start",id:String(Q.index)}:{type:"tool-input-start",id:Q.content_block.id,toolName:Q.content_block.name});return}case"server_tool_use":{if(["web_fetch","web_search","code_execution","text_editor_code_execution","bash_code_execution"].includes(Q.content_block.name)){m[Q.index]={type:"tool-call",toolCallId:Q.content_block.id,toolName:Q.content_block.name,input:"",providerExecuted:!0,firstDelta:!0};let ve=Q.content_block.name==="text_editor_code_execution"||Q.content_block.name==="bash_code_execution"?"code_execution":Q.content_block.name;D.enqueue({type:"tool-input-start",id:Q.content_block.id,toolName:ve,providerExecuted:!0})}return}case"web_fetch_tool_result":{let ve=Q.content_block;ve.content.type==="web_fetch_result"?D.enqueue({type:"tool-result",toolCallId:ve.tool_use_id,toolName:"web_fetch",result:{type:"web_fetch_result",url:ve.content.url,retrievedAt:ve.content.retrieved_at,content:{type:ve.content.content.type,title:ve.content.content.title,citations:ve.content.content.citations,source:{type:ve.content.content.source.type,mediaType:ve.content.content.source.media_type,data:ve.content.content.source.data}}},providerExecuted:!0}):ve.content.type==="web_fetch_tool_result_error"&&D.enqueue({type:"tool-result",toolCallId:ve.tool_use_id,toolName:"web_fetch",isError:!0,result:{type:"web_fetch_tool_result_error",errorCode:ve.content.error_code},providerExecuted:!0});return}case"web_search_tool_result":{let ve=Q.content_block;if(Array.isArray(ve.content)){D.enqueue({type:"tool-result",toolCallId:ve.tool_use_id,toolName:"web_search",result:ve.content.map(F=>{var We;return{url:F.url,title:F.title,pageAge:(We=F.page_age)!=null?We:null,encryptedContent:F.encrypted_content,type:F.type}}),providerExecuted:!0});for(let F of ve.content)D.enqueue({type:"source",sourceType:"url",id:b(),url:F.url,title:F.title,providerMetadata:{anthropic:{pageAge:(X=F.page_age)!=null?X:null}}})}else D.enqueue({type:"tool-result",toolCallId:ve.tool_use_id,toolName:"web_search",isError:!0,result:{type:"web_search_tool_result_error",errorCode:ve.content.error_code},providerExecuted:!0});return}case"code_execution_tool_result":{let ve=Q.content_block;ve.content.type==="code_execution_result"?D.enqueue({type:"tool-result",toolCallId:ve.tool_use_id,toolName:"code_execution",result:{type:ve.content.type,stdout:ve.content.stdout,stderr:ve.content.stderr,return_code:ve.content.return_code},providerExecuted:!0}):ve.content.type==="code_execution_tool_result_error"&&D.enqueue({type:"tool-result",toolCallId:ve.tool_use_id,toolName:"code_execution",isError:!0,result:{type:"code_execution_tool_result_error",errorCode:ve.content.error_code},providerExecuted:!0});return}case"bash_code_execution_tool_result":case"text_editor_code_execution_tool_result":{let ve=Q.content_block;D.enqueue({type:"tool-result",toolCallId:ve.tool_use_id,toolName:"code_execution",result:ve.content,providerExecuted:!0});return}default:{let ve=Re;throw new Error(`Unsupported content block type: ${ve}`)}}}case"content_block_stop":{if(m[Q.index]!=null){let Re=m[Q.index];switch(Re.type){case"text":{D.enqueue({type:"text-end",id:String(Q.index)});break}case"reasoning":{D.enqueue({type:"reasoning-end",id:String(Q.index)});break}case"tool-call":if(!o){D.enqueue({type:"tool-input-end",id:Re.toolCallId});let ve=Re.toolName==="text_editor_code_execution"||Re.toolName==="bash_code_execution"?"code_execution":Re.toolName;D.enqueue({type:"tool-call",toolCallId:Re.toolCallId,toolName:ve,input:Re.input,providerExecuted:Re.providerExecuted})}break}delete m[Q.index]}S=void 0;return}case"content_block_delta":{let Re=Q.delta.type;switch(Re){case"text_delta":{if(o)return;D.enqueue({type:"text-delta",id:String(Q.index),delta:Q.delta.text});return}case"thinking_delta":{D.enqueue({type:"reasoning-delta",id:String(Q.index),delta:Q.delta.thinking});return}case"signature_delta":{S==="thinking"&&D.enqueue({type:"reasoning-delta",id:String(Q.index),delta:"",providerMetadata:{anthropic:{signature:Q.delta.signature}}});return}case"input_json_delta":{let ve=m[Q.index],F=Q.delta.partial_json;if(F.length===0)return;if(o){if(ve?.type!=="text")return;D.enqueue({type:"text-delta",id:String(Q.index),delta:F})}else{if(ve?.type!=="tool-call")return;ve.firstDelta&&(ve.toolName==="bash_code_execution"||ve.toolName==="text_editor_code_execution")&&(F=`{"type": "${ve.toolName}",${F.substring(1)}`),D.enqueue({type:"tool-input-delta",id:ve.toolCallId,delta:F}),ve.input+=F,ve.firstDelta=!1}return}case"citations_delta":{let ve=Q.delta.citation,F=cB(ve,i,b);F&&D.enqueue(F);return}default:{let ve=Re;throw new Error(`Unsupported delta type: ${ve}`)}}}case"message_start":{f.inputTokens=Q.message.usage.input_tokens,f.cachedInputTokens=(G=Q.message.usage.cache_read_input_tokens)!=null?G:void 0,y={...Q.message.usage},g=(B=Q.message.usage.cache_creation_input_tokens)!=null?B:null,D.enqueue({type:"response-metadata",id:(te=Q.message.id)!=null?te:void 0,modelId:(ne=Q.message.model)!=null?ne:void 0});return}case"message_delta":{f.outputTokens=Q.usage.output_tokens,f.totalTokens=((ae=f.inputTokens)!=null?ae:0)+((Se=Q.usage.output_tokens)!=null?Se:0),p=uB({finishReason:Q.delta.stop_reason,isJsonResponseFromTool:o}),h=(ke=Q.delta.stop_sequence)!=null?ke:null,v=Q.delta.container!=null?{expiresAt:Q.delta.container.expires_at,id:Q.delta.container.id,skills:(Ke=(et=Q.delta.container.skills)==null?void 0:et.map(Re=>({type:Re.type,skillId:Re.skill_id,version:Re.version})))!=null?Ke:null}:null,y={...y,...Q.usage};return}case"message_stop":{D.enqueue({type:"finish",finishReason:p,usage:f,providerMetadata:{anthropic:{usage:y??null,cacheCreationInputTokens:g,stopSequence:h,container:v}}});return}case"error":{D.enqueue({type:"error",error:Q.error});return}default:{let Re=Q;throw new Error(`Unsupported chunk type: ${Re}`)}}}})),[A,R]=C.tee();k=R;let O=A.getReader();return(async()=>{try{let{done:z}=await O.read();z||await O.cancel()}catch{try{await O.cancel()}catch{}}finally{O.releaseLock()}})(),$.promise}};function qfe(e){return e.includes("claude-sonnet-4-5")||e.includes("claude-opus-4-5")?{maxOutputTokens:64e3,supportsStructuredOutput:!0,isKnownModel:!0}:e.includes("claude-opus-4-1")?{maxOutputTokens:32e3,supportsStructuredOutput:!0,isKnownModel:!0}:e.includes("claude-sonnet-4-")||e.includes("claude-3-7-sonnet")||e.includes("claude-haiku-4-5")?{maxOutputTokens:64e3,supportsStructuredOutput:!1,isKnownModel:!0}:e.includes("claude-opus-4-")?{maxOutputTokens:32e3,supportsStructuredOutput:!1,isKnownModel:!0}:e.includes("claude-3-5-haiku")?{maxOutputTokens:8192,supportsStructuredOutput:!1,isKnownModel:!0}:e.includes("claude-3-haiku")?{maxOutputTokens:4096,supportsStructuredOutput:!1,isKnownModel:!0}:{maxOutputTokens:4096,supportsStructuredOutput:!1,isKnownModel:!1}}a(qfe,"getModelCapabilities");var Ufe=st(()=>at(c.object({command:c.string(),restart:c.boolean().optional()}))),Lfe=Rr({id:"anthropic.bash_20241022",name:"bash",inputSchema:Ufe}),Ffe=st(()=>at(c.object({command:c.string(),restart:c.boolean().optional()}))),Bfe=Rr({id:"anthropic.bash_20250124",name:"bash",inputSchema:Ffe}),Jfe=st(()=>at(c.object({action:c.enum(["key","type","mouse_move","left_click","left_click_drag","right_click","middle_click","double_click","screenshot","cursor_position"]),coordinate:c.array(c.number().int()).optional(),text:c.string().optional()}))),Hfe=Rr({id:"anthropic.computer_20241022",name:"computer",inputSchema:Jfe}),Vfe=st(()=>at(c.object({action:c.enum(["key","hold_key","type","cursor_position","mouse_move","left_mouse_down","left_mouse_up","left_click","left_click_drag","right_click","middle_click","double_click","triple_click","scroll","wait","screenshot"]),coordinate:c.tuple([c.number().int(),c.number().int()]).optional(),duration:c.number().optional(),scroll_amount:c.number().optional(),scroll_direction:c.enum(["up","down","left","right"]).optional(),start_coordinate:c.tuple([c.number().int(),c.number().int()]).optional(),text:c.string().optional()}))),Zfe=Rr({id:"anthropic.computer_20250124",name:"computer",inputSchema:Vfe}),Kfe=st(()=>at(c.discriminatedUnion("command",[c.object({command:c.literal("view"),path:c.string(),view_range:c.tuple([c.number(),c.number()]).optional()}),c.object({command:c.literal("create"),path:c.string(),file_text:c.string()}),c.object({command:c.literal("str_replace"),path:c.string(),old_str:c.string(),new_str:c.string()}),c.object({command:c.literal("insert"),path:c.string(),insert_line:c.number(),insert_text:c.string()}),c.object({command:c.literal("delete"),path:c.string()}),c.object({command:c.literal("rename"),old_path:c.string(),new_path:c.string()})]))),Gfe=Rr({id:"anthropic.memory_20250818",name:"memory",inputSchema:Kfe}),Wfe=st(()=>at(c.object({command:c.enum(["view","create","str_replace","insert","undo_edit"]),path:c.string(),file_text:c.string().optional(),insert_line:c.number().int().optional(),new_str:c.string().optional(),old_str:c.string().optional(),view_range:c.array(c.number().int()).optional()}))),Qfe=Rr({id:"anthropic.text_editor_20241022",name:"str_replace_editor",inputSchema:Wfe}),Xfe=st(()=>at(c.object({command:c.enum(["view","create","str_replace","insert","undo_edit"]),path:c.string(),file_text:c.string().optional(),insert_line:c.number().int().optional(),new_str:c.string().optional(),old_str:c.string().optional(),view_range:c.array(c.number().int()).optional()}))),Yfe=Rr({id:"anthropic.text_editor_20250124",name:"str_replace_editor",inputSchema:Xfe}),ehe=st(()=>at(c.object({command:c.enum(["view","create","str_replace","insert"]),path:c.string(),file_text:c.string().optional(),insert_line:c.number().int().optional(),new_str:c.string().optional(),old_str:c.string().optional(),view_range:c.array(c.number().int()).optional()}))),the=Rr({id:"anthropic.text_editor_20250429",name:"str_replace_based_edit_tool",inputSchema:ehe}),rhe={bash_20241022:Lfe,bash_20250124:Bfe,codeExecution_20250522:Cfe,codeExecution_20250825:Nfe,computer_20241022:Hfe,computer_20250124:Zfe,memory_20250818:Gfe,textEditor_20241022:Qfe,textEditor_20250124:Yfe,textEditor_20250429:the,textEditor_20250728:_fe,webFetch_20250910:Pfe,webSearch_20250305:xfe};function nhe(e={}){var t,r;let n=(t=oB(Z6({settingValue:e.baseURL,environmentVariableName:"ANTHROPIC_BASE_URL"})))!=null?t:"https://api.anthropic.com/v1",o=(r=e.name)!=null?r:"anthropic.messages",i=a(()=>v1({"anthropic-version":"2023-06-01","x-api-key":V6({apiKey:e.apiKey,environmentVariableName:"ANTHROPIC_API_KEY",description:"Anthropic"}),...e.headers},`ai-sdk/anthropic/${cfe}`),"getHeaders"),s=a(l=>{var d;return new Mfe(l,{provider:o,baseURL:n,headers:i,fetch:e.fetch,generateId:(d=e.generateId)!=null?d:ey,supportedUrls:a(()=>({"image/*":[/^https?:\/\/.*$/]}),"supportedUrls")})},"createChatModel"),u=a(function(l){if(new.target)throw new Error("The Anthropic model function cannot be called with the new keyword.");return s(l)},"provider");return u.languageModel=s,u.chat=s,u.messages=s,u.textEmbeddingModel=l=>{throw new p1({modelId:l,modelType:"textEmbeddingModel"})},u.imageModel=l=>{throw new p1({modelId:l,modelType:"imageModel"})},u.tools=rhe,u}a(nhe,"createAnthropic");var T1=nhe();function ks(...e){return e.reduce((t,r)=>({...t,...r??{}}),{})}a(ks,"combineHeaders");function ry(e){return Object.fromEntries([...e.headers])}a(ry,"extractResponseHeaders");var ohe=a(({prefix:e,size:t=16,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:n="-"}={})=>{let o=a(()=>{let i=r.length,s=new Array(t);for(let u=0;u<t;u++)s[u]=r[Math.random()*i|0];return s.join("")},"generator");if(e==null)return o;if(r.includes(n))throw new eo({argument:"separator",message:`The separator "${n}" must not be part of the alphabet "${r}".`});return()=>`${e}${n}${o()}`},"createIdGenerator"),ny=ohe();function P1(e){return(e instanceof Error||e instanceof DOMException)&&(e.name==="AbortError"||e.name==="ResponseAborted"||e.name==="TimeoutError")}a(P1,"isAbortError");var ihe=["fetch failed","failed to fetch"];function ahe({error:e,url:t,requestBodyValues:r}){if(P1(e))return e;if(e instanceof TypeError&&ihe.includes(e.message.toLowerCase())){let n=e.cause;if(n!=null)return new Ye({message:`Cannot connect to API: ${n.message}`,cause:n,url:t,requestBodyValues:r,isRetryable:!0})}return e}a(ahe,"handleFetchError");function she(e=globalThis){var t,r,n;return e.window?"runtime/browser":(t=e.navigator)!=null&&t.userAgent?`runtime/${e.navigator.userAgent.toLowerCase()}`:(n=(r=e.process)==null?void 0:r.versions)!=null&&n.node?`runtime/node.js/${e.process.version.substring(0)}`:e.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}a(she,"getRuntimeEnvironmentUserAgent");function uhe(e){if(e==null)return{};let t={};if(e instanceof Headers)e.forEach((r,n)=>{t[n.toLowerCase()]=r});else{Array.isArray(e)||(e=Object.entries(e));for(let[r,n]of e)n!=null&&(t[r.toLowerCase()]=n)}return t}a(uhe,"normalizeHeaders");function O1(e,...t){let r=new Headers(uhe(e)),n=r.get("user-agent")||"";return r.set("user-agent",[n,...t].filter(Boolean).join(" ")),Object.fromEntries(r.entries())}a(O1,"withUserAgentSuffix");var che="3.0.18";function yB({apiKey:e,environmentVariableName:t,apiKeyParameterName:r="apiKey",description:n}){if(typeof e=="string")return e;if(e!=null)throw new dn({message:`${n} API key must be a string.`});if(typeof process>"u")throw new dn({message:`${n} API key is missing. Pass it using the '${r}' parameter. Environment variables is not supported in this environment.`});if(e=process.env[t],e==null)throw new dn({message:`${n} API key is missing. Pass it using the '${r}' parameter or the ${t} environment variable.`});if(typeof e!="string")throw new dn({message:`${n} API key must be a string. The value of the ${t} environment variable is not a string.`});return e}a(yB,"loadApiKey");var lhe=/"__proto__"\s*:/,dhe=/"constructor"\s*:/;function fB(e){let t=JSON.parse(e);return t===null||typeof t!="object"||lhe.test(e)===!1&&dhe.test(e)===!1?t:phe(t)}a(fB,"_parse");function phe(e){let t=[e];for(;t.length;){let r=t;t=[];for(let n of r){if(Object.prototype.hasOwnProperty.call(n,"__proto__"))throw new SyntaxError("Object contains forbidden prototype property");if(Object.prototype.hasOwnProperty.call(n,"constructor")&&Object.prototype.hasOwnProperty.call(n.constructor,"prototype"))throw new SyntaxError("Object contains forbidden prototype property");for(let o in n){let i=n[o];i&&typeof i=="object"&&t.push(i)}}}return e}a(phe,"filter");function vB(e){let{stackTraceLimit:t}=Error;try{Error.stackTraceLimit=0}catch{return fB(e)}try{return fB(e)}finally{Error.stackTraceLimit=t}}a(vB,"secureJsonParse");var ty=Symbol.for("vercel.ai.validator");function mhe(e){return{[ty]:!0,validate:e}}a(mhe,"validator");function fhe(e){return typeof e=="object"&&e!==null&&ty in e&&e[ty]===!0&&"validate"in e}a(fhe,"isValidator");function hhe(e){return fhe(e)?e:typeof e=="function"?e():ghe(e)}a(hhe,"asValidator");function ghe(e){return mhe(async t=>{let r=await e["~standard"].validate(t);return r.issues==null?{success:!0,value:r.value}:{success:!1,error:new Xt({value:t,cause:r.issues})}})}a(ghe,"standardSchemaValidator");async function yhe({value:e,schema:t}){let r=await A1({value:e,schema:t});if(!r.success)throw Xt.wrap({value:e,cause:r.error});return r.value}a(yhe,"validateTypes");async function A1({value:e,schema:t}){let r=hhe(t);try{if(r.validate==null)return{success:!0,value:e,rawValue:e};let n=await r.validate(e);return n.success?{success:!0,value:n.value,rawValue:e}:{success:!1,error:Xt.wrap({value:e,cause:n.error}),rawValue:e}}catch(n){return{success:!1,error:Xt.wrap({value:e,cause:n}),rawValue:e}}}a(A1,"safeValidateTypes");async function vhe({text:e,schema:t}){try{let r=vB(e);return t==null?r:yhe({value:r,schema:t})}catch(r){throw ln.isInstance(r)||Xt.isInstance(r)?r:new ln({text:e,cause:r})}}a(vhe,"parseJSON");async function _B({text:e,schema:t}){try{let r=vB(e);return t==null?{success:!0,value:r,rawValue:r}:await A1({value:r,schema:t})}catch(r){return{success:!1,error:ln.isInstance(r)?r:new ln({text:e,cause:r}),rawValue:void 0}}}a(_B,"safeParseJSON");function _he({stream:e,schema:t}){return e.pipeThrough(new TextDecoderStream).pipeThrough(new $a).pipeThrough(new TransformStream({async transform({data:r},n){r!=="[DONE]"&&n.enqueue(await _B({text:r,schema:t}))}}))}a(_he,"parseJsonEventStream");async function Ic({provider:e,providerOptions:t,schema:r}){if(t?.[e]==null)return;let n=await A1({value:t[e],schema:r});if(!n.success)throw new eo({argument:"providerOptions",message:`invalid ${e} provider options`,cause:n.error});return n.value}a(Ic,"parseProviderOptions");var bhe=a(()=>globalThis.fetch,"getOriginalFetch2"),za=a(async({url:e,headers:t,body:r,failedResponseHandler:n,successfulResponseHandler:o,abortSignal:i,fetch:s})=>She({url:e,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(r),values:r},failedResponseHandler:n,successfulResponseHandler:o,abortSignal:i,fetch:s}),"postJsonToApi");var She=a(async({url:e,headers:t={},body:r,successfulResponseHandler:n,failedResponseHandler:o,abortSignal:i,fetch:s=bhe()})=>{try{let u=await s(e,{method:"POST",headers:O1(t,`ai-sdk/provider-utils/${che}`,she()),body:r.content,signal:i}),l=ry(u);if(!u.ok){let d;try{d=await o({response:u,url:e,requestBodyValues:r.values})}catch(p){throw P1(p)||Ye.isInstance(p)?p:new Ye({message:"Failed to process error response",cause:p,statusCode:u.status,url:e,responseHeaders:l,requestBodyValues:r.values})}throw d.value}try{return await n({response:u,url:e,requestBodyValues:r.values})}catch(d){throw d instanceof Error&&(P1(d)||Ye.isInstance(d))?d:new Ye({message:"Failed to process successful response",cause:d,statusCode:u.status,url:e,responseHeaders:l,requestBodyValues:r.values})}}catch(u){throw ahe({error:u,url:e,requestBodyValues:r.values})}},"postToApi");function ja({id:e,name:t,inputSchema:r}){return({execute:n,outputSchema:o,toModelOutput:i,onInputStart:s,onInputDelta:u,onInputAvailable:l,...d})=>({type:"provider-defined",id:e,name:t,args:d,inputSchema:r,outputSchema:o,execute:n,toModelOutput:i,onInputStart:s,onInputDelta:u,onInputAvailable:l})}a(ja,"createProviderDefinedToolFactory");function bB({id:e,name:t,inputSchema:r,outputSchema:n}){return({execute:o,toModelOutput:i,onInputStart:s,onInputDelta:u,onInputAvailable:l,...d})=>({type:"provider-defined",id:e,name:t,args:d,inputSchema:r,outputSchema:n,execute:o,toModelOutput:i,onInputStart:s,onInputDelta:u,onInputAvailable:l})}a(bB,"createProviderDefinedToolFactoryWithOutputSchema");async function Ps(e){return typeof e=="function"&&(e=e()),Promise.resolve(e)}a(Ps,"resolve");var SB=a(({errorSchema:e,errorToMessage:t,isRetryable:r})=>async({response:n,url:o,requestBodyValues:i})=>{let s=await n.text(),u=ry(n);if(s.trim()==="")return{responseHeaders:u,value:new Ye({message:n.statusText,url:o,requestBodyValues:i,statusCode:n.status,responseHeaders:u,responseBody:s,isRetryable:r?.(n)})};try{let l=await vhe({text:s,schema:e});return{responseHeaders:u,value:new Ye({message:t(l),url:o,requestBodyValues:i,statusCode:n.status,responseHeaders:u,responseBody:s,data:l,isRetryable:r?.(n,l)})}}catch{return{responseHeaders:u,value:new Ye({message:n.statusText,url:o,requestBodyValues:i,statusCode:n.status,responseHeaders:u,responseBody:s,isRetryable:r?.(n)})}}},"createJsonErrorResponseHandler"),wB=a(e=>async({response:t})=>{let r=ry(t);if(t.body==null)throw new kc({});return{responseHeaders:r,value:_he({stream:t.body,schema:e})}},"createEventSourceResponseHandler");var Is=a(e=>async({response:t,url:r,requestBodyValues:n})=>{let o=await t.text(),i=await _B({text:o,schema:e}),s=ry(t);if(!i.success)throw new Ye({message:"Invalid JSON response",cause:i.error,statusCode:t.status,responseHeaders:s,responseBody:o,url:r,requestBodyValues:n});return{responseHeaders:s,value:i.value,rawValue:i.rawValue}},"createJsonResponseHandler");var whe=a((e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")},"getRelativePath"),xhe=Symbol("Let zodToJsonSchema decide on which parser to use"),hB={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},The=a(e=>typeof e=="string"?{...hB,name:e}:{...hB,...e},"getDefaultOptions");function Fn(){return{}}a(Fn,"parseAnyDef");function Ehe(e,t){var r,n,o;let i={type:"array"};return(r=e.type)!=null&&r._def&&((o=(n=e.type)==null?void 0:n._def)==null?void 0:o.typeName)!==U.ZodAny&&(i.items=Rt(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&(i.minItems=e.minLength.value),e.maxLength&&(i.maxItems=e.maxLength.value),e.exactLength&&(i.minItems=e.exactLength.value,i.maxItems=e.exactLength.value),i}a(Ehe,"parseArrayDef");function khe(e){let t={type:"integer",format:"int64"};if(!e.checks)return t;for(let r of e.checks)switch(r.kind){case"min":r.inclusive?t.minimum=r.value:t.exclusiveMinimum=r.value;break;case"max":r.inclusive?t.maximum=r.value:t.exclusiveMaximum=r.value;break;case"multipleOf":t.multipleOf=r.value;break}return t}a(khe,"parseBigintDef");function Phe(){return{type:"boolean"}}a(Phe,"parseBooleanDef");function xB(e,t){return Rt(e.type._def,t)}a(xB,"parseBrandedDef");var Ihe=a((e,t)=>Rt(e.innerType._def,t),"parseCatchDef");function TB(e,t,r){let n=r??t.dateStrategy;if(Array.isArray(n))return{anyOf:n.map((o,i)=>TB(e,t,o))};switch(n){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return Ohe(e)}}a(TB,"parseDateDef");var Ohe=a(e=>{let t={type:"integer",format:"unix-time"};for(let r of e.checks)switch(r.kind){case"min":t.minimum=r.value;break;case"max":t.maximum=r.value;break}return t},"integerDateParser");function Ahe(e,t){return{...Rt(e.innerType._def,t),default:e.defaultValue()}}a(Ahe,"parseDefaultDef");function Che(e,t){return t.effectStrategy==="input"?Rt(e.schema._def,t):Fn()}a(Che,"parseEffectsDef");function Rhe(e){return{type:"string",enum:Array.from(e.values)}}a(Rhe,"parseEnumDef");var $he=a(e=>"type"in e&&e.type==="string"?!1:"allOf"in e,"isJsonSchema7AllOfType");function Nhe(e,t){let r=[Rt(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),Rt(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(o=>!!o),n=[];return r.forEach(o=>{if($he(o))n.push(...o.allOf);else{let i=o;if("additionalProperties"in o&&o.additionalProperties===!1){let{additionalProperties:s,...u}=o;i=u}n.push(i)}}),n.length?{allOf:n}:void 0}a(Nhe,"parseIntersectionDef");function zhe(e){let t=typeof e.value;return t!=="bigint"&&t!=="number"&&t!=="boolean"&&t!=="string"?{type:Array.isArray(e.value)?"array":"object"}:{type:t==="bigint"?"integer":t,const:e.value}}a(zhe,"parseLiteralDef");var E1=void 0,$o={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:a(()=>(E1===void 0&&(E1=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),E1),"emoji"),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function EB(e,t){let r={type:"string"};if(e.checks)for(let n of e.checks)switch(n.kind){case"min":r.minLength=typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value;break;case"max":r.maxLength=typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value;break;case"email":switch(t.emailStrategy){case"format:email":No(r,"email",n.message,t);break;case"format:idn-email":No(r,"idn-email",n.message,t);break;case"pattern:zod":mn(r,$o.email,n.message,t);break}break;case"url":No(r,"uri",n.message,t);break;case"uuid":No(r,"uuid",n.message,t);break;case"regex":mn(r,n.regex,n.message,t);break;case"cuid":mn(r,$o.cuid,n.message,t);break;case"cuid2":mn(r,$o.cuid2,n.message,t);break;case"startsWith":mn(r,RegExp(`^${k1(n.value,t)}`),n.message,t);break;case"endsWith":mn(r,RegExp(`${k1(n.value,t)}$`),n.message,t);break;case"datetime":No(r,"date-time",n.message,t);break;case"date":No(r,"date",n.message,t);break;case"time":No(r,"time",n.message,t);break;case"duration":No(r,"duration",n.message,t);break;case"length":r.minLength=typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,r.maxLength=typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value;break;case"includes":{mn(r,RegExp(k1(n.value,t)),n.message,t);break}case"ip":{n.version!=="v6"&&No(r,"ipv4",n.message,t),n.version!=="v4"&&No(r,"ipv6",n.message,t);break}case"base64url":mn(r,$o.base64url,n.message,t);break;case"jwt":mn(r,$o.jwt,n.message,t);break;case"cidr":{n.version!=="v6"&&mn(r,$o.ipv4Cidr,n.message,t),n.version!=="v4"&&mn(r,$o.ipv6Cidr,n.message,t);break}case"emoji":mn(r,$o.emoji(),n.message,t);break;case"ulid":{mn(r,$o.ulid,n.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{No(r,"binary",n.message,t);break}case"contentEncoding:base64":{r.contentEncoding="base64";break}case"pattern:zod":{mn(r,$o.base64,n.message,t);break}}break}case"nanoid":mn(r,$o.nanoid,n.message,t);case"toLowerCase":case"toUpperCase":case"trim":break;default:}return r}a(EB,"parseStringDef");function k1(e,t){return t.patternStrategy==="escape"?Dhe(e):e}a(k1,"escapeLiteralCheckValue");var jhe=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function Dhe(e){let t="";for(let r=0;r<e.length;r++)jhe.has(e[r])||(t+="\\"),t+=e[r];return t}a(Dhe,"escapeNonAlphaNumeric");function No(e,t,r,n){var o;e.format||(o=e.anyOf)!=null&&o.some(i=>i.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format}),delete e.format),e.anyOf.push({format:t,...r&&n.errorMessages&&{errorMessage:{format:r}}})):e.format=t}a(No,"addFormat");function mn(e,t,r,n){var o;e.pattern||(o=e.allOf)!=null&&o.some(i=>i.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern}),delete e.pattern),e.allOf.push({pattern:gB(t,n),...r&&n.errorMessages&&{errorMessage:{pattern:r}}})):e.pattern=gB(t,n)}a(mn,"addPattern");function gB(e,t){var r;if(!t.applyRegexFlags||!e.flags)return e.source;let n={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},o=n.i?e.source.toLowerCase():e.source,i="",s=!1,u=!1,l=!1;for(let d=0;d<o.length;d++){if(s){i+=o[d],s=!1;continue}if(n.i){if(u){if(o[d].match(/[a-z]/)){l?(i+=o[d],i+=`${o[d-2]}-${o[d]}`.toUpperCase(),l=!1):o[d+1]==="-"&&((r=o[d+2])!=null&&r.match(/[a-z]/))?(i+=o[d],l=!0):i+=`${o[d]}${o[d].toUpperCase()}`;continue}}else if(o[d].match(/[a-z]/)){i+=`[${o[d]}${o[d].toUpperCase()}]`;continue}}if(n.m){if(o[d]==="^"){i+=`(^|(?<=[\r
]))`;continue}else if(o[d]==="$"){i+=`($|(?=[\r
]))`;continue}}if(n.s&&o[d]==="."){i+=u?`${o[d]}\r
`:`[${o[d]}\r
]`;continue}i+=o[d],o[d]==="\\"?s=!0:u&&o[d]==="]"?u=!1:!u&&o[d]==="["&&(u=!0)}try{new RegExp(i)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return i}a(gB,"stringifyRegExpWithFlags");function kB(e,t){var r,n,o,i,s,u;let l={type:"object",additionalProperties:(r=Rt(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]}))!=null?r:t.allowedAdditionalProperties};if(((n=e.keyType)==null?void 0:n._def.typeName)===U.ZodString&&((o=e.keyType._def.checks)!=null&&o.length)){let{type:d,...p}=EB(e.keyType._def,t);return{...l,propertyNames:p}}else{if(((i=e.keyType)==null?void 0:i._def.typeName)===U.ZodEnum)return{...l,propertyNames:{enum:e.keyType._def.values}};if(((s=e.keyType)==null?void 0:s._def.typeName)===U.ZodBranded&&e.keyType._def.type._def.typeName===U.ZodString&&((u=e.keyType._def.type._def.checks)!=null&&u.length)){let{type:d,...p}=xB(e.keyType._def,t);return{...l,propertyNames:p}}}return l}a(kB,"parseRecordDef");function Mhe(e,t){if(t.mapStrategy==="record")return kB(e,t);let r=Rt(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||Fn(),n=Rt(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||Fn();return{type:"array",maxItems:125,items:{type:"array",items:[r,n],minItems:2,maxItems:2}}}a(Mhe,"parseMapDef");function qhe(e){let t=e.values,n=Object.keys(e.values).filter(i=>typeof t[t[i]]!="number").map(i=>t[i]),o=Array.from(new Set(n.map(i=>typeof i)));return{type:o.length===1?o[0]==="string"?"string":"number":["string","number"],enum:n}}a(qhe,"parseNativeEnumDef");function Uhe(){return{not:Fn()}}a(Uhe,"parseNeverDef");function Lhe(){return{type:"null"}}a(Lhe,"parseNullDef");var I1={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function Fhe(e,t){let r=e.options instanceof Map?Array.from(e.options.values()):e.options;if(r.every(n=>n._def.typeName in I1&&(!n._def.checks||!n._def.checks.length))){let n=r.reduce((o,i)=>{let s=I1[i._def.typeName];return s&&!o.includes(s)?[...o,s]:o},[]);return{type:n.length>1?n:n[0]}}else if(r.every(n=>n._def.typeName==="ZodLiteral"&&!n.description)){let n=r.reduce((o,i)=>{let s=typeof i._def.value;switch(s){case"string":case"number":case"boolean":return[...o,s];case"bigint":return[...o,"integer"];case"object":if(i._def.value===null)return[...o,"null"];case"symbol":case"undefined":case"function":default:return o}},[]);if(n.length===r.length){let o=n.filter((i,s,u)=>u.indexOf(i)===s);return{type:o.length>1?o:o[0],enum:r.reduce((i,s)=>i.includes(s._def.value)?i:[...i,s._def.value],[])}}}else if(r.every(n=>n._def.typeName==="ZodEnum"))return{type:"string",enum:r.reduce((n,o)=>[...n,...o._def.values.filter(i=>!n.includes(i))],[])};return Bhe(e,t)}a(Fhe,"parseUnionDef");var Bhe=a((e,t)=>{let r=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((n,o)=>Rt(n._def,{...t,currentPath:[...t.currentPath,"anyOf",`${o}`]})).filter(n=>!!n&&(!t.strictUnions||typeof n=="object"&&Object.keys(n).length>0));return r.length?{anyOf:r}:void 0},"asAnyOf");function Jhe(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return{type:[I1[e.innerType._def.typeName],"null"]};let r=Rt(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}a(Jhe,"parseNullableDef");function Hhe(e){let t={type:"number"};if(!e.checks)return t;for(let r of e.checks)switch(r.kind){case"int":t.type="integer";break;case"min":r.inclusive?t.minimum=r.value:t.exclusiveMinimum=r.value;break;case"max":r.inclusive?t.maximum=r.value:t.exclusiveMaximum=r.value;break;case"multipleOf":t.multipleOf=r.value;break}return t}a(Hhe,"parseNumberDef");function Vhe(e,t){let r={type:"object",properties:{}},n=[],o=e.shape();for(let s in o){let u=o[s];if(u===void 0||u._def===void 0)continue;let l=Khe(u),d=Rt(u._def,{...t,currentPath:[...t.currentPath,"properties",s],propertyPath:[...t.currentPath,"properties",s]});d!==void 0&&(r.properties[s]=d,l||n.push(s))}n.length&&(r.required=n);let i=Zhe(e,t);return i!==void 0&&(r.additionalProperties=i),r}a(Vhe,"parseObjectDef");function Zhe(e,t){if(e.catchall._def.typeName!=="ZodNever")return Rt(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}a(Zhe,"decideAdditionalProperties");function Khe(e){try{return e.isOptional()}catch{return!0}}a(Khe,"safeIsOptional");var Ghe=a((e,t)=>{var r;if(t.currentPath.toString()===((r=t.propertyPath)==null?void 0:r.toString()))return Rt(e.innerType._def,t);let n=Rt(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return n?{anyOf:[{not:Fn()},n]}:Fn()},"parseOptionalDef"),Whe=a((e,t)=>{if(t.pipeStrategy==="input")return Rt(e.in._def,t);if(t.pipeStrategy==="output")return Rt(e.out._def,t);let r=Rt(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),n=Rt(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,n].filter(o=>o!==void 0)}},"parsePipelineDef");function Qhe(e,t){return Rt(e.type._def,t)}a(Qhe,"parsePromiseDef");function Xhe(e,t){let n={type:"array",uniqueItems:!0,items:Rt(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&(n.minItems=e.minSize.value),e.maxSize&&(n.maxItems=e.maxSize.value),n}a(Xhe,"parseSetDef");function Yhe(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((r,n)=>Rt(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[]),additionalItems:Rt(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((r,n)=>Rt(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[])}}a(Yhe,"parseTupleDef");function ege(){return{not:Fn()}}a(ege,"parseUndefinedDef");function tge(){return Fn()}a(tge,"parseUnknownDef");var rge=a((e,t)=>Rt(e.innerType._def,t),"parseReadonlyDef"),nge=a((e,t,r)=>{switch(t){case U.ZodString:return EB(e,r);case U.ZodNumber:return Hhe(e);case U.ZodObject:return Vhe(e,r);case U.ZodBigInt:return khe(e);case U.ZodBoolean:return Phe();case U.ZodDate:return TB(e,r);case U.ZodUndefined:return ege();case U.ZodNull:return Lhe();case U.ZodArray:return Ehe(e,r);case U.ZodUnion:case U.ZodDiscriminatedUnion:return Fhe(e,r);case U.ZodIntersection:return Nhe(e,r);case U.ZodTuple:return Yhe(e,r);case U.ZodRecord:return kB(e,r);case U.ZodLiteral:return zhe(e);case U.ZodEnum:return Rhe(e);case U.ZodNativeEnum:return qhe(e);case U.ZodNullable:return Jhe(e,r);case U.ZodOptional:return Ghe(e,r);case U.ZodMap:return Mhe(e,r);case U.ZodSet:return Xhe(e,r);case U.ZodLazy:return()=>e.getter()._def;case U.ZodPromise:return Qhe(e,r);case U.ZodNaN:case U.ZodNever:return Uhe();case U.ZodEffects:return Che(e,r);case U.ZodAny:return Fn();case U.ZodUnknown:return tge();case U.ZodDefault:return Ahe(e,r);case U.ZodBranded:return xB(e,r);case U.ZodReadonly:return rge(e,r);case U.ZodCatch:return Ihe(e,r);case U.ZodPipeline:return Whe(e,r);case U.ZodFunction:case U.ZodVoid:case U.ZodSymbol:return;default:return(n=>{})(t)}},"selectParser");function Rt(e,t,r=!1){var n;let o=t.seen.get(e);if(t.override){let l=(n=t.override)==null?void 0:n.call(t,e,t,o,r);if(l!==xhe)return l}if(o&&!r){let l=oge(o,t);if(l!==void 0)return l}let i={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,i);let s=nge(e,e.typeName,t),u=typeof s=="function"?Rt(s(),t):s;if(u&&ige(e,t,u),t.postProcess){let l=t.postProcess(u,e,t);return i.jsonSchema=u,l}return i.jsonSchema=u,u}a(Rt,"parseDef");var oge=a((e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:whe(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((r,n)=>t.currentPath[n]===r)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),Fn()):t.$refStrategy==="seen"?Fn():void 0}},"get$ref"),ige=a((e,t,r)=>(e.description&&(r.description=e.description),r),"addMeta"),age=a(e=>{let t=The(e),r=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([n,o])=>[o._def,{def:o._def,path:[...t.basePath,t.definitionPath,n],jsonSchema:void 0}]))}},"getRefs"),sge=a((e,t)=>{var r;let n=age(t),o=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((d,[p,f])=>{var m;return{...d,[p]:(m=Rt(f._def,{...n,currentPath:[...n.basePath,n.definitionPath,p]},!0))!=null?m:Fn()}},{}):void 0,i=typeof t=="string"?t:t?.nameStrategy==="title"?void 0:t?.name,s=(r=Rt(e._def,i===void 0?n:{...n,currentPath:[...n.basePath,n.definitionPath,i]},!1))!=null?r:Fn(),u=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;u!==void 0&&(s.title=u);let l=i===void 0?o?{...s,[n.definitionPath]:o}:s:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,i].join("/"),[n.definitionPath]:{...o,[i]:s}};return l.$schema="http://json-schema.org/draft-07/schema#",l},"zodToJsonSchema"),uge=sge;function cge(e,t){var r;let n=(r=t?.useReferences)!=null?r:!1;return PB(()=>uge(e,{$refStrategy:n?"root":"none"}),{validate:a(async o=>{let i=await e.safeParseAsync(o);return i.success?{success:!0,value:i.data}:{success:!1,error:i.error}},"validate")})}a(cge,"zod3Schema");function lge(e,t){var r;let n=(r=t?.useReferences)!=null?r:!1;return PB(()=>Ci(e,{target:"draft-7",io:"output",reused:n?"ref":"inline"}),{validate:a(async o=>{let i=await $i(e,o);return i.success?{success:!0,value:i.data}:{success:!1,error:i.error}},"validate")})}a(lge,"zod4Schema");function dge(e){return"_zod"in e}a(dge,"isZod4Schema");function _r(e,t){return dge(e)?lge(e,t):cge(e,t)}a(_r,"zodSchema");var pge=Symbol.for("vercel.ai.schema");function br(e){let t;return()=>(t==null&&(t=e()),t)}a(br,"lazySchema");function PB(e,{validate:t}={}){return{[pge]:!0,_type:void 0,[ty]:!0,get jsonSchema(){return typeof e=="function"&&(e=e()),e},validate:t}}a(PB,"jsonSchema");var{btoa:mge,atob:nXe}=globalThis;function fge(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCodePoint(e[r]);return mge(t)}a(fge,"convertUint8ArrayToBase64");function C1(e){return e instanceof Uint8Array?fge(e):e}a(C1,"convertToBase64");function IB(e){return e?.replace(/\/$/,"")}a(IB,"withoutTrailingSlash");var hge="2.0.44",gge=br(()=>_r(c.object({error:c.object({code:c.number().nullable(),message:c.string(),status:c.string()})}))),jp=SB({errorSchema:gge,errorToMessage:a(e=>e.error.message,"errorToMessage")}),yge=br(()=>_r(c.object({outputDimensionality:c.number().optional(),taskType:c.enum(["SEMANTIC_SIMILARITY","CLASSIFICATION","CLUSTERING","RETRIEVAL_DOCUMENT","RETRIEVAL_QUERY","QUESTION_ANSWERING","FACT_VERIFICATION","CODE_RETRIEVAL_QUERY"]).optional()}))),vge=class{static{a(this,"GoogleGenerativeAIEmbeddingModel")}constructor(e,t){this.specificationVersion="v2",this.maxEmbeddingsPerCall=2048,this.supportsParallelCalls=!0,this.modelId=e,this.config=t}get provider(){return this.config.provider}async doEmbed({values:e,headers:t,abortSignal:r,providerOptions:n}){let o=await Ic({provider:"google",providerOptions:n,schema:yge});if(e.length>this.maxEmbeddingsPerCall)throw new Qg({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});let i=ks(await Ps(this.config.headers),t);if(e.length===1){let{responseHeaders:d,value:p,rawValue:f}=await za({url:`${this.config.baseURL}/models/${this.modelId}:embedContent`,headers:i,body:{model:`models/${this.modelId}`,content:{parts:[{text:e[0]}]},outputDimensionality:o?.outputDimensionality,taskType:o?.taskType},failedResponseHandler:jp,successfulResponseHandler:Is(bge),abortSignal:r,fetch:this.config.fetch});return{embeddings:[p.embedding.values],usage:void 0,response:{headers:d,body:f}}}let{responseHeaders:s,value:u,rawValue:l}=await za({url:`${this.config.baseURL}/models/${this.modelId}:batchEmbedContents`,headers:i,body:{requests:e.map(d=>({model:`models/${this.modelId}`,content:{role:"user",parts:[{text:d}]},outputDimensionality:o?.outputDimensionality,taskType:o?.taskType}))},failedResponseHandler:jp,successfulResponseHandler:Is(_ge),abortSignal:r,fetch:this.config.fetch});return{embeddings:u.embeddings.map(d=>d.values),usage:void 0,response:{headers:s,body:l}}}},_ge=br(()=>_r(c.object({embeddings:c.array(c.object({values:c.array(c.number())}))}))),bge=br(()=>_r(c.object({embedding:c.object({values:c.array(c.number())})})));function ei(e){if(e==null||Sge(e))return;if(typeof e=="boolean")return{type:"boolean",properties:{}};let{type:t,description:r,required:n,properties:o,items:i,allOf:s,anyOf:u,oneOf:l,format:d,const:p,minLength:f,enum:m}=e,y={};if(r&&(y.description=r),n&&(y.required=n),d&&(y.format=d),p!==void 0&&(y.enum=[p]),t)if(Array.isArray(t)){let g=t.includes("null"),h=t.filter(v=>v!=="null");h.length===0?y.type="null":(y.anyOf=h.map(v=>({type:v})),g&&(y.nullable=!0))}else y.type=t;if(m!==void 0&&(y.enum=m),o!=null&&(y.properties=Object.entries(o).reduce((g,[h,v])=>(g[h]=ei(v),g),{})),i&&(y.items=Array.isArray(i)?i.map(ei):ei(i)),s&&(y.allOf=s.map(ei)),u)if(u.some(g=>typeof g=="object"&&g?.type==="null")){let g=u.filter(h=>!(typeof h=="object"&&h?.type==="null"));if(g.length===1){let h=ei(g[0]);typeof h=="object"&&(y.nullable=!0,Object.assign(y,h))}else y.anyOf=g.map(ei),y.nullable=!0}else y.anyOf=u.map(ei);return l&&(y.oneOf=l.map(ei)),f!==void 0&&(y.minLength=f),y}a(ei,"convertJSONSchemaToOpenAPISchema");function Sge(e){return e!=null&&typeof e=="object"&&e.type==="object"&&(e.properties==null||Object.keys(e.properties).length===0)&&!e.additionalProperties}a(Sge,"isEmptyObjectSchema");function wge(e,t){var r;let n=[],o=[],i=!0,s=(r=t?.isGemmaModel)!=null?r:!1;for(let{role:u,content:l}of e)switch(u){case"system":{if(!i)throw new Pt({functionality:"system messages are only supported at the beginning of the conversation"});n.push({text:l});break}case"user":{i=!1;let d=[];for(let p of l)switch(p.type){case"text":{d.push({text:p.text});break}case"file":{let f=p.mediaType==="image/*"?"image/jpeg":p.mediaType;d.push(p.data instanceof URL?{fileData:{mimeType:f,fileUri:p.data.toString()}}:{inlineData:{mimeType:f,data:C1(p.data)}});break}}o.push({role:"user",parts:d});break}case"assistant":{i=!1,o.push({role:"model",parts:l.map(d=>{var p,f,m;let y=((f=(p=d.providerOptions)==null?void 0:p.google)==null?void 0:f.thoughtSignature)!=null?String((m=d.providerOptions.google)==null?void 0:m.thoughtSignature):void 0;switch(d.type){case"text":return d.text.length===0?void 0:{text:d.text,thoughtSignature:y};case"reasoning":return d.text.length===0?void 0:{text:d.text,thought:!0,thoughtSignature:y};case"file":{if(d.mediaType!=="image/png")throw new Pt({functionality:"Only PNG images are supported in assistant messages"});if(d.data instanceof URL)throw new Pt({functionality:"File data URLs in assistant messages are not supported"});return{inlineData:{mimeType:d.mediaType,data:C1(d.data)}}}case"tool-call":return{functionCall:{name:d.toolName,args:d.input},thoughtSignature:y}}}).filter(d=>d!==void 0)});break}case"tool":{i=!1;let d=[];for(let p of l){let f=p.output;if(f.type==="content")for(let m of f.value)switch(m.type){case"text":d.push({functionResponse:{name:p.toolName,response:{name:p.toolName,content:m.text}}});break;case"media":d.push({inlineData:{mimeType:m.mediaType,data:m.data}},{text:"Tool executed successfully and returned this image as a response"});break;default:d.push({text:JSON.stringify(m)});break}else d.push({functionResponse:{name:p.toolName,response:{name:p.toolName,content:f.value}}})}o.push({role:"user",parts:d});break}}if(s&&n.length>0&&o.length>0&&o[0].role==="user"){let u=n.map(l=>l.text).join(`

`);o[0].parts.unshift({text:u+`

`})}return{systemInstruction:n.length>0&&!s?{parts:n}:void 0,contents:o}}a(wge,"convertToGoogleGenerativeAIMessages");function OB(e){return e.includes("/")?e:`models/${e}`}a(OB,"getModelPath");var xge=br(()=>_r(c.object({responseModalities:c.array(c.enum(["TEXT","IMAGE"])).optional(),thinkingConfig:c.object({thinkingBudget:c.number().optional(),includeThoughts:c.boolean().optional(),thinkingLevel:c.enum(["low","medium","high"]).optional()}).optional(),cachedContent:c.string().optional(),structuredOutputs:c.boolean().optional(),safetySettings:c.array(c.object({category:c.enum(["HARM_CATEGORY_UNSPECIFIED","HARM_CATEGORY_HATE_SPEECH","HARM_CATEGORY_DANGEROUS_CONTENT","HARM_CATEGORY_HARASSMENT","HARM_CATEGORY_SEXUALLY_EXPLICIT","HARM_CATEGORY_CIVIC_INTEGRITY"]),threshold:c.enum(["HARM_BLOCK_THRESHOLD_UNSPECIFIED","BLOCK_LOW_AND_ABOVE","BLOCK_MEDIUM_AND_ABOVE","BLOCK_ONLY_HIGH","BLOCK_NONE","OFF"])})).optional(),threshold:c.enum(["HARM_BLOCK_THRESHOLD_UNSPECIFIED","BLOCK_LOW_AND_ABOVE","BLOCK_MEDIUM_AND_ABOVE","BLOCK_ONLY_HIGH","BLOCK_NONE","OFF"]).optional(),audioTimestamp:c.boolean().optional(),labels:c.record(c.string(),c.string()).optional(),mediaResolution:c.enum(["MEDIA_RESOLUTION_UNSPECIFIED","MEDIA_RESOLUTION_LOW","MEDIA_RESOLUTION_MEDIUM","MEDIA_RESOLUTION_HIGH"]).optional(),imageConfig:c.object({aspectRatio:c.enum(["1:1","2:3","3:2","3:4","4:3","4:5","5:4","9:16","16:9","21:9"]).optional(),imageSize:c.enum(["1K","2K","4K"]).optional()}).optional()})));function Tge({tools:e,toolChoice:t,modelId:r}){var n;e=e?.length?e:void 0;let o=[],i=["gemini-flash-latest","gemini-flash-lite-latest","gemini-pro-latest"].some(y=>y===r),s=r.includes("gemini-2")||r.includes("gemini-3")||i,u=r.includes("gemini-1.5-flash")&&!r.includes("-8b"),l=r.includes("gemini-2.5");if(e==null)return{tools:void 0,toolConfig:void 0,toolWarnings:o};let d=e.some(y=>y.type==="function"),p=e.some(y=>y.type==="provider-defined");if(d&&p){let y=e.filter(g=>g.type==="function");o.push({type:"unsupported-tool",tool:e.find(g=>g.type==="function"),details:`Cannot mix function tools with provider-defined tools in the same request. Falling back to provider-defined tools only. The following function tools will be ignored: ${y.map(g=>g.name).join(", ")}. Please use either function tools or provider-defined tools, but not both.`})}if(p){let y=[];return e.filter(h=>h.type==="provider-defined").forEach(h=>{switch(h.id){case"google.google_search":s?y.push({googleSearch:{}}):u?y.push({googleSearchRetrieval:{dynamicRetrievalConfig:{mode:h.args.mode,dynamicThreshold:h.args.dynamicThreshold}}}):y.push({googleSearchRetrieval:{}});break;case"google.url_context":s?y.push({urlContext:{}}):o.push({type:"unsupported-tool",tool:h,details:"The URL context tool is not supported with other Gemini models than Gemini 2."});break;case"google.code_execution":s?y.push({codeExecution:{}}):o.push({type:"unsupported-tool",tool:h,details:"The code execution tools is not supported with other Gemini models than Gemini 2."});break;case"google.file_search":l?y.push({fileSearch:{...h.args}}):o.push({type:"unsupported-tool",tool:h,details:"The file search tool is only supported with Gemini 2.5 models."});break;case"google.vertex_rag_store":s?y.push({retrieval:{vertex_rag_store:{rag_resources:{rag_corpus:h.args.ragCorpus},similarity_top_k:h.args.topK}}}):o.push({type:"unsupported-tool",tool:h,details:"The RAG store tool is not supported with other Gemini models than Gemini 2."});break;default:o.push({type:"unsupported-tool",tool:h});break}}),{tools:y.length>0?y:void 0,toolConfig:void 0,toolWarnings:o}}let f=[];for(let y of e)switch(y.type){case"function":f.push({name:y.name,description:(n=y.description)!=null?n:"",parameters:ei(y.inputSchema)});break;default:o.push({type:"unsupported-tool",tool:y});break}if(t==null)return{tools:[{functionDeclarations:f}],toolConfig:void 0,toolWarnings:o};let m=t.type;switch(m){case"auto":return{tools:[{functionDeclarations:f}],toolConfig:{functionCallingConfig:{mode:"AUTO"}},toolWarnings:o};case"none":return{tools:[{functionDeclarations:f}],toolConfig:{functionCallingConfig:{mode:"NONE"}},toolWarnings:o};case"required":return{tools:[{functionDeclarations:f}],toolConfig:{functionCallingConfig:{mode:"ANY"}},toolWarnings:o};case"tool":return{tools:[{functionDeclarations:f}],toolConfig:{functionCallingConfig:{mode:"ANY",allowedFunctionNames:[t.toolName]}},toolWarnings:o};default:{let y=m;throw new Pt({functionality:`tool choice type: ${y}`})}}}a(Tge,"prepareTools");function AB({finishReason:e,hasToolCalls:t}){switch(e){case"STOP":return t?"tool-calls":"stop";case"MAX_TOKENS":return"length";case"IMAGE_SAFETY":case"RECITATION":case"SAFETY":case"BLOCKLIST":case"PROHIBITED_CONTENT":case"SPII":return"content-filter";case"FINISH_REASON_UNSPECIFIED":case"OTHER":return"other";case"MALFORMED_FUNCTION_CALL":return"error";default:return"unknown"}}a(AB,"mapGoogleGenerativeAIFinishReason");var Ege=class{static{a(this,"GoogleGenerativeAILanguageModel")}constructor(e,t){this.specificationVersion="v2";var r;this.modelId=e,this.config=t,this.generateId=(r=t.generateId)!=null?r:ny}get provider(){return this.config.provider}get supportedUrls(){var e,t,r;return(r=(t=(e=this.config).supportedUrls)==null?void 0:t.call(e))!=null?r:{}}async getArgs({prompt:e,maxOutputTokens:t,temperature:r,topP:n,topK:o,frequencyPenalty:i,presencePenalty:s,stopSequences:u,responseFormat:l,seed:d,tools:p,toolChoice:f,providerOptions:m}){var y;let g=[],h=await Ic({provider:"google",providerOptions:m,schema:xge});p?.some(C=>C.type==="provider-defined"&&C.id==="google.vertex_rag_store")&&!this.config.provider.startsWith("google.vertex.")&&g.push({type:"other",message:`The 'vertex_rag_store' tool is only supported with the Google Vertex provider and might not be supported or could behave unexpectedly with the current Google provider (${this.config.provider}).`});let v=this.modelId.toLowerCase().startsWith("gemma-"),{contents:S,systemInstruction:b}=wge(e,{isGemmaModel:v}),{tools:w,toolConfig:k,toolWarnings:$}=Tge({tools:p,toolChoice:f,modelId:this.modelId});return{args:{generationConfig:{maxOutputTokens:t,temperature:r,topK:o,topP:n,frequencyPenalty:i,presencePenalty:s,stopSequences:u,seed:d,responseMimeType:l?.type==="json"?"application/json":void 0,responseSchema:l?.type==="json"&&l.schema!=null&&((y=h?.structuredOutputs)==null||y)?ei(l.schema):void 0,...h?.audioTimestamp&&{audioTimestamp:h.audioTimestamp},responseModalities:h?.responseModalities,thinkingConfig:h?.thinkingConfig,...h?.imageConfig&&{imageConfig:h.imageConfig},...h?.mediaResolution&&{mediaResolution:h.mediaResolution}},contents:S,systemInstruction:v?void 0:b,safetySettings:h?.safetySettings,tools:w,toolConfig:k,cachedContent:h?.cachedContent,labels:h?.labels},warnings:[...g,...$]}}async doGenerate(e){var t,r,n,o,i,s,u,l,d,p,f,m,y;let{args:g,warnings:h}=await this.getArgs(e),v=JSON.stringify(g),S=ks(await Ps(this.config.headers),e.headers),{responseHeaders:b,value:w,rawValue:k}=await za({url:`${this.config.baseURL}/${OB(this.modelId)}:generateContent`,headers:S,body:g,failedResponseHandler:jp,successfulResponseHandler:Is(Pge),abortSignal:e.abortSignal,fetch:this.config.fetch}),$=w.candidates[0],C=[],A=(r=(t=$.content)==null?void 0:t.parts)!=null?r:[],R=w.usageMetadata,O;for(let D of A)if("executableCode"in D&&((n=D.executableCode)!=null&&n.code)){let X=this.config.generateId();O=X,C.push({type:"tool-call",toolCallId:X,toolName:"code_execution",input:JSON.stringify(D.executableCode),providerExecuted:!0})}else"codeExecutionResult"in D&&D.codeExecutionResult?(C.push({type:"tool-result",toolCallId:O,toolName:"code_execution",result:{outcome:D.codeExecutionResult.outcome,output:D.codeExecutionResult.output},providerExecuted:!0}),O=void 0):"text"in D&&D.text!=null&&D.text.length>0?C.push({type:D.thought===!0?"reasoning":"text",text:D.text,providerMetadata:D.thoughtSignature?{google:{thoughtSignature:D.thoughtSignature}}:void 0}):"functionCall"in D?C.push({type:"tool-call",toolCallId:this.config.generateId(),toolName:D.functionCall.name,input:JSON.stringify(D.functionCall.args),providerMetadata:D.thoughtSignature?{google:{thoughtSignature:D.thoughtSignature}}:void 0}):"inlineData"in D&&C.push({type:"file",data:D.inlineData.data,mediaType:D.inlineData.mimeType});let z=(o=CB({groundingMetadata:$.groundingMetadata,generateId:this.config.generateId}))!=null?o:[];for(let D of z)C.push(D);return{content:C,finishReason:AB({finishReason:$.finishReason,hasToolCalls:C.some(D=>D.type==="tool-call")}),usage:{inputTokens:(i=R?.promptTokenCount)!=null?i:void 0,outputTokens:(s=R?.candidatesTokenCount)!=null?s:void 0,totalTokens:(u=R?.totalTokenCount)!=null?u:void 0,reasoningTokens:(l=R?.thoughtsTokenCount)!=null?l:void 0,cachedInputTokens:(d=R?.cachedContentTokenCount)!=null?d:void 0},warnings:h,providerMetadata:{google:{promptFeedback:(p=w.promptFeedback)!=null?p:null,groundingMetadata:(f=$.groundingMetadata)!=null?f:null,urlContextMetadata:(m=$.urlContextMetadata)!=null?m:null,safetyRatings:(y=$.safetyRatings)!=null?y:null,usageMetadata:R??null}},request:{body:v},response:{headers:b,body:k}}}async doStream(e){let{args:t,warnings:r}=await this.getArgs(e),n=JSON.stringify(t),o=ks(await Ps(this.config.headers),e.headers),{responseHeaders:i,value:s}=await za({url:`${this.config.baseURL}/${OB(this.modelId)}:streamGenerateContent?alt=sse`,headers:o,body:t,failedResponseHandler:jp,successfulResponseHandler:wB(Ige),abortSignal:e.abortSignal,fetch:this.config.fetch}),u="unknown",l={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},d,p=this.config.generateId,f=!1,m=null,y=null,g=0,h=new Set,v;return{stream:s.pipeThrough(new TransformStream({start(S){S.enqueue({type:"stream-start",warnings:r})},transform(S,b){var w,k,$,C,A,R,O,z,D,X,G,B;if(e.includeRawChunks&&b.enqueue({type:"raw",rawValue:S.rawValue}),!S.success){b.enqueue({type:"error",error:S.error});return}let te=S.value,ne=te.usageMetadata;ne!=null&&(l.inputTokens=(w=ne.promptTokenCount)!=null?w:void 0,l.outputTokens=(k=ne.candidatesTokenCount)!=null?k:void 0,l.totalTokens=($=ne.totalTokenCount)!=null?$:void 0,l.reasoningTokens=(C=ne.thoughtsTokenCount)!=null?C:void 0,l.cachedInputTokens=(A=ne.cachedContentTokenCount)!=null?A:void 0);let ae=(R=te.candidates)==null?void 0:R[0];if(ae==null)return;let Se=ae.content,ke=CB({groundingMetadata:ae.groundingMetadata,generateId:p});if(ke!=null)for(let et of ke)et.sourceType==="url"&&!h.has(et.url)&&(h.add(et.url),b.enqueue(et));if(Se!=null){let et=(O=Se.parts)!=null?O:[];for(let Q of et)if("executableCode"in Q&&((z=Q.executableCode)!=null&&z.code)){let Re=p();v=Re,b.enqueue({type:"tool-call",toolCallId:Re,toolName:"code_execution",input:JSON.stringify(Q.executableCode),providerExecuted:!0}),f=!0}else if("codeExecutionResult"in Q&&Q.codeExecutionResult){let Re=v;Re&&(b.enqueue({type:"tool-result",toolCallId:Re,toolName:"code_execution",result:{outcome:Q.codeExecutionResult.outcome,output:Q.codeExecutionResult.output},providerExecuted:!0}),v=void 0)}else"text"in Q&&Q.text!=null&&Q.text.length>0?Q.thought===!0?(m!==null&&(b.enqueue({type:"text-end",id:m}),m=null),y===null&&(y=String(g++),b.enqueue({type:"reasoning-start",id:y,providerMetadata:Q.thoughtSignature?{google:{thoughtSignature:Q.thoughtSignature}}:void 0})),b.enqueue({type:"reasoning-delta",id:y,delta:Q.text,providerMetadata:Q.thoughtSignature?{google:{thoughtSignature:Q.thoughtSignature}}:void 0})):(y!==null&&(b.enqueue({type:"reasoning-end",id:y}),y=null),m===null&&(m=String(g++),b.enqueue({type:"text-start",id:m,providerMetadata:Q.thoughtSignature?{google:{thoughtSignature:Q.thoughtSignature}}:void 0})),b.enqueue({type:"text-delta",id:m,delta:Q.text,providerMetadata:Q.thoughtSignature?{google:{thoughtSignature:Q.thoughtSignature}}:void 0})):"inlineData"in Q&&b.enqueue({type:"file",mediaType:Q.inlineData.mimeType,data:Q.inlineData.data});let Ke=kge({parts:Se.parts,generateId:p});if(Ke!=null)for(let Q of Ke)b.enqueue({type:"tool-input-start",id:Q.toolCallId,toolName:Q.toolName,providerMetadata:Q.providerMetadata}),b.enqueue({type:"tool-input-delta",id:Q.toolCallId,delta:Q.args,providerMetadata:Q.providerMetadata}),b.enqueue({type:"tool-input-end",id:Q.toolCallId,providerMetadata:Q.providerMetadata}),b.enqueue({type:"tool-call",toolCallId:Q.toolCallId,toolName:Q.toolName,input:Q.args,providerMetadata:Q.providerMetadata}),f=!0}ae.finishReason!=null&&(u=AB({finishReason:ae.finishReason,hasToolCalls:f}),d={google:{promptFeedback:(D=te.promptFeedback)!=null?D:null,groundingMetadata:(X=ae.groundingMetadata)!=null?X:null,urlContextMetadata:(G=ae.urlContextMetadata)!=null?G:null,safetyRatings:(B=ae.safetyRatings)!=null?B:null}},ne!=null&&(d.google.usageMetadata=ne))},flush(S){m!==null&&S.enqueue({type:"text-end",id:m}),y!==null&&S.enqueue({type:"reasoning-end",id:y}),S.enqueue({type:"finish",finishReason:u,usage:l,providerMetadata:d})}})),response:{headers:i},request:{body:n}}}};function kge({parts:e,generateId:t}){let r=e?.filter(n=>"functionCall"in n);return r==null||r.length===0?void 0:r.map(n=>({type:"tool-call",toolCallId:t(),toolName:n.functionCall.name,args:JSON.stringify(n.functionCall.args),providerMetadata:n.thoughtSignature?{google:{thoughtSignature:n.thoughtSignature}}:void 0}))}a(kge,"getToolCallsFromParts");function CB({groundingMetadata:e,generateId:t}){var r,n,o,i;if(!e?.groundingChunks)return;let s=[];for(let u of e.groundingChunks)if(u.web!=null)s.push({type:"source",sourceType:"url",id:t(),url:u.web.uri,title:(r=u.web.title)!=null?r:void 0});else if(u.retrievedContext!=null){let l=u.retrievedContext.uri,d=u.retrievedContext.fileSearchStore;if(l&&(l.startsWith("http://")||l.startsWith("https://")))s.push({type:"source",sourceType:"url",id:t(),url:l,title:(n=u.retrievedContext.title)!=null?n:void 0});else if(l){let p=(o=u.retrievedContext.title)!=null?o:"Unknown Document",f="application/octet-stream",m;l.endsWith(".pdf")?(f="application/pdf",m=l.split("/").pop()):l.endsWith(".txt")?(f="text/plain",m=l.split("/").pop()):l.endsWith(".docx")?(f="application/vnd.openxmlformats-officedocument.wordprocessingml.document",m=l.split("/").pop()):l.endsWith(".doc")?(f="application/msword",m=l.split("/").pop()):(l.match(/\.(md|markdown)$/)&&(f="text/markdown"),m=l.split("/").pop()),s.push({type:"source",sourceType:"document",id:t(),mediaType:f,title:p,filename:m})}else if(d){let p=(i=u.retrievedContext.title)!=null?i:"Unknown Document";s.push({type:"source",sourceType:"document",id:t(),mediaType:"application/octet-stream",title:p,filename:d.split("/").pop()})}}return s.length>0?s:void 0}a(CB,"extractSources");var RB=a(()=>c.object({webSearchQueries:c.array(c.string()).nullish(),retrievalQueries:c.array(c.string()).nullish(),searchEntryPoint:c.object({renderedContent:c.string()}).nullish(),groundingChunks:c.array(c.object({web:c.object({uri:c.string(),title:c.string().nullish()}).nullish(),retrievedContext:c.object({uri:c.string().nullish(),title:c.string().nullish(),text:c.string().nullish(),fileSearchStore:c.string().nullish()}).nullish()})).nullish(),groundingSupports:c.array(c.object({segment:c.object({startIndex:c.number().nullish(),endIndex:c.number().nullish(),text:c.string().nullish()}),segment_text:c.string().nullish(),groundingChunkIndices:c.array(c.number()).nullish(),supportChunkIndices:c.array(c.number()).nullish(),confidenceScores:c.array(c.number()).nullish(),confidenceScore:c.array(c.number()).nullish()})).nullish(),retrievalMetadata:c.union([c.object({webDynamicRetrievalScore:c.number()}),c.object({})]).nullish()}),"getGroundingMetadataSchema"),$B=a(()=>c.object({parts:c.array(c.union([c.object({functionCall:c.object({name:c.string(),args:c.unknown()}),thoughtSignature:c.string().nullish()}),c.object({inlineData:c.object({mimeType:c.string(),data:c.string()})}),c.object({executableCode:c.object({language:c.string(),code:c.string()}).nullish(),codeExecutionResult:c.object({outcome:c.string(),output:c.string()}).nullish(),text:c.string().nullish(),thought:c.boolean().nullish(),thoughtSignature:c.string().nullish()})])).nullish()}),"getContentSchema"),oy=a(()=>c.object({category:c.string().nullish(),probability:c.string().nullish(),probabilityScore:c.number().nullish(),severity:c.string().nullish(),severityScore:c.number().nullish(),blocked:c.boolean().nullish()}),"getSafetyRatingSchema"),NB=c.object({cachedContentTokenCount:c.number().nullish(),thoughtsTokenCount:c.number().nullish(),promptTokenCount:c.number().nullish(),candidatesTokenCount:c.number().nullish(),totalTokenCount:c.number().nullish(),trafficType:c.string().nullish()}),zB=a(()=>c.object({urlMetadata:c.array(c.object({retrievedUrl:c.string(),urlRetrievalStatus:c.string()}))}),"getUrlContextMetadataSchema"),Pge=br(()=>_r(c.object({candidates:c.array(c.object({content:$B().nullish().or(c.object({}).strict()),finishReason:c.string().nullish(),safetyRatings:c.array(oy()).nullish(),groundingMetadata:RB().nullish(),urlContextMetadata:zB().nullish()})),usageMetadata:NB.nullish(),promptFeedback:c.object({blockReason:c.string().nullish(),safetyRatings:c.array(oy()).nullish()}).nullish()}))),Ige=br(()=>_r(c.object({candidates:c.array(c.object({content:$B().nullish(),finishReason:c.string().nullish(),safetyRatings:c.array(oy()).nullish(),groundingMetadata:RB().nullish(),urlContextMetadata:zB().nullish()})).nullish(),usageMetadata:NB.nullish(),promptFeedback:c.object({blockReason:c.string().nullish(),safetyRatings:c.array(oy()).nullish()}).nullish()}))),Oge=bB({id:"google.code_execution",name:"code_execution",inputSchema:c.object({language:c.string().describe("The programming language of the code."),code:c.string().describe("The code to be executed.")}),outputSchema:c.object({outcome:c.string().describe('The outcome of the execution (e.g., "OUTCOME_OK").'),output:c.string().describe("The output from the code execution.")})}),Age=c.object({fileSearchStoreNames:c.array(c.string()).describe("The names of the file_search_stores to retrieve from. Example: `fileSearchStores/my-file-search-store-123`"),topK:c.number().int().positive().describe("The number of file search retrieval chunks to retrieve.").optional(),metadataFilter:c.string().describe("Metadata filter to apply to the file search retrieval documents. See https://google.aip.dev/160 for the syntax of the filter expression.").optional()}).passthrough(),Cge=br(()=>_r(Age)),Rge=ja({id:"google.file_search",name:"file_search",inputSchema:Cge}),$ge=ja({id:"google.google_search",name:"google_search",inputSchema:br(()=>_r(c.object({mode:c.enum(["MODE_DYNAMIC","MODE_UNSPECIFIED"]).default("MODE_UNSPECIFIED"),dynamicThreshold:c.number().default(1)})))}),Nge=ja({id:"google.url_context",name:"url_context",inputSchema:br(()=>_r(c.object({})))}),zge=ja({id:"google.vertex_rag_store",name:"vertex_rag_store",inputSchema:c.object({ragCorpus:c.string(),topK:c.number().optional()})}),jge={googleSearch:$ge,urlContext:Nge,fileSearch:Rge,codeExecution:Oge,vertexRagStore:zge},Dge=class{static{a(this,"GoogleGenerativeAIImageModel")}constructor(e,t,r){this.modelId=e,this.settings=t,this.config=r,this.specificationVersion="v2"}get maxImagesPerCall(){var e;return(e=this.settings.maxImagesPerCall)!=null?e:4}get provider(){return this.config.provider}async doGenerate(e){var t,r,n;let{prompt:o,n:i=1,size:s="1024x1024",aspectRatio:u="1:1",seed:l,providerOptions:d,headers:p,abortSignal:f}=e,m=[];s!=null&&m.push({type:"unsupported-setting",setting:"size",details:"This model does not support the `size` option. Use `aspectRatio` instead."}),l!=null&&m.push({type:"unsupported-setting",setting:"seed",details:"This model does not support the `seed` option through this provider."});let y=await Ic({provider:"google",providerOptions:d,schema:qge}),g=(n=(r=(t=this.config._internal)==null?void 0:t.currentDate)==null?void 0:r.call(t))!=null?n:new Date,h={sampleCount:i};u!=null&&(h.aspectRatio=u),y&&Object.assign(h,y);let v={instances:[{prompt:o}],parameters:h},{responseHeaders:S,value:b}=await za({url:`${this.config.baseURL}/models/${this.modelId}:predict`,headers:ks(await Ps(this.config.headers),p),body:v,failedResponseHandler:jp,successfulResponseHandler:Is(Mge),abortSignal:f,fetch:this.config.fetch});return{images:b.predictions.map(w=>w.bytesBase64Encoded),warnings:m??[],providerMetadata:{google:{images:b.predictions.map(w=>({}))}},response:{timestamp:g,modelId:this.modelId,headers:S}}}},Mge=br(()=>_r(c.object({predictions:c.array(c.object({bytesBase64Encoded:c.string()})).default([])}))),qge=br(()=>_r(c.object({personGeneration:c.enum(["dont_allow","allow_adult","allow_all"]).nullish(),aspectRatio:c.enum(["1:1","3:4","4:3","9:16","16:9"]).nullish()})));function Uge(e={}){var t,r;let n=(t=IB(e.baseURL))!=null?t:"https://generativelanguage.googleapis.com/v1beta",o=(r=e.name)!=null?r:"google.generative-ai",i=a(()=>O1({"x-goog-api-key":yB({apiKey:e.apiKey,environmentVariableName:"GOOGLE_GENERATIVE_AI_API_KEY",description:"Google Generative AI"}),...e.headers},`ai-sdk/google/${hge}`),"getHeaders"),s=a(p=>{var f;return new Ege(p,{provider:o,baseURL:n,headers:i,generateId:(f=e.generateId)!=null?f:ny,supportedUrls:a(()=>({"*":[new RegExp(`^${n}/files/.*$`),new RegExp("^https://(?:www\\.)?youtube\\.com/watch\\?v=[\\w-]+(?:&[\\w=&.-]*)?$"),new RegExp("^https://youtu\\.be/[\\w-]+(?:\\?[\\w=&.-]*)?$")]}),"supportedUrls"),fetch:e.fetch})},"createChatModel"),u=a(p=>new vge(p,{provider:o,baseURL:n,headers:i,fetch:e.fetch}),"createEmbeddingModel"),l=a((p,f={})=>new Dge(p,f,{provider:o,baseURL:n,headers:i,fetch:e.fetch}),"createImageModel"),d=a(function(p){if(new.target)throw new Error("The Google Generative AI model function cannot be called with the new keyword.");return s(p)},"provider");return d.languageModel=s,d.chat=s,d.generativeAI=s,d.embedding=u,d.textEmbedding=u,d.textEmbeddingModel=u,d.image=l,d.imageModel=l,d.tools=jge,d}a(Uge,"createGoogleGenerativeAI");var R1=Uge();function Br(...e){return e.reduce((t,r)=>({...t,...r??{}}),{})}a(Br,"combineHeaders");function Dp(e){return Object.fromEntries([...e.headers])}a(Dp,"extractResponseHeaders");var Lge=a(({prefix:e,size:t=16,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:n="-"}={})=>{let o=a(()=>{let i=r.length,s=new Array(t);for(let u=0;u<t;u++)s[u]=r[Math.random()*i|0];return s.join("")},"generator");if(e==null)return o;if(r.includes(n))throw new eo({argument:"separator",message:`The separator "${n}" must not be part of the alphabet "${r}".`});return()=>`${e}${n}${o()}`},"createIdGenerator"),Do=Lge();function z1(e){return(e instanceof Error||e instanceof DOMException)&&(e.name==="AbortError"||e.name==="ResponseAborted"||e.name==="TimeoutError")}a(z1,"isAbortError");var Fge=["fetch failed","failed to fetch"];function Bge({error:e,url:t,requestBodyValues:r}){if(z1(e))return e;if(e instanceof TypeError&&Fge.includes(e.message.toLowerCase())){let n=e.cause;if(n!=null)return new Ye({message:`Cannot connect to API: ${n.message}`,cause:n,url:t,requestBodyValues:r,isRetryable:!0})}return e}a(Bge,"handleFetchError");function Jge(e=globalThis){var t,r,n;return e.window?"runtime/browser":(t=e.navigator)!=null&&t.userAgent?`runtime/${e.navigator.userAgent.toLowerCase()}`:(n=(r=e.process)==null?void 0:r.versions)!=null&&n.node?`runtime/node.js/${e.process.version.substring(0)}`:e.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}a(Jge,"getRuntimeEnvironmentUserAgent");function Hge(e){if(e==null)return{};let t={};if(e instanceof Headers)e.forEach((r,n)=>{t[n.toLowerCase()]=r});else{Array.isArray(e)||(e=Object.entries(e));for(let[r,n]of e)n!=null&&(t[r.toLowerCase()]=n)}return t}a(Hge,"normalizeHeaders");function D1(e,...t){let r=new Headers(Hge(e)),n=r.get("user-agent")||"";return r.set("user-agent",[n,...t].filter(Boolean).join(" ")),Object.fromEntries(r.entries())}a(D1,"withUserAgentSuffix");var Vge="3.0.18";function qB({apiKey:e,environmentVariableName:t,apiKeyParameterName:r="apiKey",description:n}){if(typeof e=="string")return e;if(e!=null)throw new dn({message:`${n} API key must be a string.`});if(typeof process>"u")throw new dn({message:`${n} API key is missing. Pass it using the '${r}' parameter. Environment variables is not supported in this environment.`});if(e=process.env[t],e==null)throw new dn({message:`${n} API key is missing. Pass it using the '${r}' parameter or the ${t} environment variable.`});if(typeof e!="string")throw new dn({message:`${n} API key must be a string. The value of the ${t} environment variable is not a string.`});return e}a(qB,"loadApiKey");function UB({settingValue:e,environmentVariableName:t}){if(typeof e=="string")return e;if(!(e!=null||typeof process>"u")&&(e=process.env[t],!(e==null||typeof e!="string")))return e}a(UB,"loadOptionalSetting");function LB(e){var t;let[r,n=""]=e.toLowerCase().split("/");return(t={mpeg:"mp3","x-wav":"wav",opus:"ogg",mp4:"m4a","x-m4a":"m4a"}[n])!=null?t:n}a(LB,"mediaTypeToExtension");var Zge=/"__proto__"\s*:/,Kge=/"constructor"\s*:/;function jB(e){let t=JSON.parse(e);return t===null||typeof t!="object"||Zge.test(e)===!1&&Kge.test(e)===!1?t:Gge(t)}a(jB,"_parse");function Gge(e){let t=[e];for(;t.length;){let r=t;t=[];for(let n of r){if(Object.prototype.hasOwnProperty.call(n,"__proto__"))throw new SyntaxError("Object contains forbidden prototype property");if(Object.prototype.hasOwnProperty.call(n,"constructor")&&Object.prototype.hasOwnProperty.call(n.constructor,"prototype"))throw new SyntaxError("Object contains forbidden prototype property");for(let o in n){let i=n[o];i&&typeof i=="object"&&t.push(i)}}}return e}a(Gge,"filter");function M1(e){let{stackTraceLimit:t}=Error;try{Error.stackTraceLimit=0}catch{return jB(e)}try{return jB(e)}finally{Error.stackTraceLimit=t}}a(M1,"secureJsonParse");var iy=Symbol.for("vercel.ai.validator");function Wge(e){return{[iy]:!0,validate:e}}a(Wge,"validator");function Qge(e){return typeof e=="object"&&e!==null&&iy in e&&e[iy]===!0&&"validate"in e}a(Qge,"isValidator");function Ft(e){let t;return()=>(t==null&&(t=e()),t)}a(Ft,"lazyValidator");function Xge(e){return Qge(e)?e:typeof e=="function"?e():Yge(e)}a(Xge,"asValidator");function Yge(e){return Wge(async t=>{let r=await e["~standard"].validate(t);return r.issues==null?{success:!0,value:r.value}:{success:!1,error:new Xt({value:t,cause:r.issues})}})}a(Yge,"standardSchemaValidator");async function ti({value:e,schema:t}){let r=await q1({value:e,schema:t});if(!r.success)throw Xt.wrap({value:e,cause:r.error});return r.value}a(ti,"validateTypes");async function q1({value:e,schema:t}){let r=Xge(t);try{if(r.validate==null)return{success:!0,value:e,rawValue:e};let n=await r.validate(e);return n.success?{success:!0,value:n.value,rawValue:e}:{success:!1,error:Xt.wrap({value:e,cause:n.error}),rawValue:e}}catch(n){return{success:!1,error:Xt.wrap({value:e,cause:n}),rawValue:e}}}a(q1,"safeValidateTypes");async function eye({text:e,schema:t}){try{let r=M1(e);return t==null?r:ti({value:r,schema:t})}catch(r){throw ln.isInstance(r)||Xt.isInstance(r)?r:new ln({text:e,cause:r})}}a(eye,"parseJSON");async function FB({text:e,schema:t}){try{let r=M1(e);return t==null?{success:!0,value:r,rawValue:r}:await q1({value:r,schema:t})}catch(r){return{success:!1,error:ln.isInstance(r)?r:new ln({text:e,cause:r}),rawValue:void 0}}}a(FB,"safeParseJSON");function U1(e){try{return M1(e),!0}catch{return!1}}a(U1,"isParsableJson");function tye({stream:e,schema:t}){return e.pipeThrough(new TextDecoderStream).pipeThrough(new $a).pipeThrough(new TransformStream({async transform({data:r},n){r!=="[DONE]"&&n.enqueue(await FB({text:r,schema:t}))}}))}a(tye,"parseJsonEventStream");async function hn({provider:e,providerOptions:t,schema:r}){if(t?.[e]==null)return;let n=await q1({value:t[e],schema:r});if(!n.success)throw new eo({argument:"providerOptions",message:`invalid ${e} provider options`,cause:n.error});return n.value}a(hn,"parseProviderOptions");var rye=a(()=>globalThis.fetch,"getOriginalFetch2"),gn=a(async({url:e,headers:t,body:r,failedResponseHandler:n,successfulResponseHandler:o,abortSignal:i,fetch:s})=>JB({url:e,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(r),values:r},failedResponseHandler:n,successfulResponseHandler:o,abortSignal:i,fetch:s}),"postJsonToApi"),BB=a(async({url:e,headers:t,formData:r,failedResponseHandler:n,successfulResponseHandler:o,abortSignal:i,fetch:s})=>JB({url:e,headers:t,body:{content:r,values:Object.fromEntries(r.entries())},failedResponseHandler:n,successfulResponseHandler:o,abortSignal:i,fetch:s}),"postFormDataToApi"),JB=a(async({url:e,headers:t={},body:r,successfulResponseHandler:n,failedResponseHandler:o,abortSignal:i,fetch:s=rye()})=>{try{let u=await s(e,{method:"POST",headers:D1(t,`ai-sdk/provider-utils/${Vge}`,Jge()),body:r.content,signal:i}),l=Dp(u);if(!u.ok){let d;try{d=await o({response:u,url:e,requestBodyValues:r.values})}catch(p){throw z1(p)||Ye.isInstance(p)?p:new Ye({message:"Failed to process error response",cause:p,statusCode:u.status,url:e,responseHeaders:l,requestBodyValues:r.values})}throw d.value}try{return await n({response:u,url:e,requestBodyValues:r.values})}catch(d){throw d instanceof Error&&(z1(d)||Ye.isInstance(d))?d:new Ye({message:"Failed to process successful response",cause:d,statusCode:u.status,url:e,responseHeaders:l,requestBodyValues:r.values})}}catch(u){throw Bge({error:u,url:e,requestBodyValues:r.values})}},"postToApi");function to({id:e,name:t,inputSchema:r,outputSchema:n}){return({execute:o,toModelOutput:i,onInputStart:s,onInputDelta:u,onInputAvailable:l,...d})=>({type:"provider-defined",id:e,name:t,args:d,inputSchema:r,outputSchema:n,execute:o,toModelOutput:i,onInputStart:s,onInputDelta:u,onInputAvailable:l})}a(to,"createProviderDefinedToolFactoryWithOutputSchema");var HB=a(({errorSchema:e,errorToMessage:t,isRetryable:r})=>async({response:n,url:o,requestBodyValues:i})=>{let s=await n.text(),u=Dp(n);if(s.trim()==="")return{responseHeaders:u,value:new Ye({message:n.statusText,url:o,requestBodyValues:i,statusCode:n.status,responseHeaders:u,responseBody:s,isRetryable:r?.(n)})};try{let l=await eye({text:s,schema:e});return{responseHeaders:u,value:new Ye({message:t(l),url:o,requestBodyValues:i,statusCode:n.status,responseHeaders:u,responseBody:s,data:l,isRetryable:r?.(n,l)})}}catch{return{responseHeaders:u,value:new Ye({message:n.statusText,url:o,requestBodyValues:i,statusCode:n.status,responseHeaders:u,responseBody:s,isRetryable:r?.(n)})}}},"createJsonErrorResponseHandler"),Oc=a(e=>async({response:t})=>{let r=Dp(t);if(t.body==null)throw new kc({});return{responseHeaders:r,value:tye({stream:t.body,schema:e})}},"createEventSourceResponseHandler");var ro=a(e=>async({response:t,url:r,requestBodyValues:n})=>{let o=await t.text(),i=await FB({text:o,schema:e}),s=Dp(t);if(!i.success)throw new Ye({message:"Invalid JSON response",cause:i.error,statusCode:t.status,responseHeaders:s,responseBody:o,url:r,requestBodyValues:n});return{responseHeaders:s,value:i.value,rawValue:i.rawValue}},"createJsonResponseHandler"),VB=a(()=>async({response:e,url:t,requestBodyValues:r})=>{let n=Dp(e);if(!e.body)throw new Ye({message:"Response body is empty",url:t,requestBodyValues:r,statusCode:e.status,responseHeaders:n,responseBody:void 0});try{let o=await e.arrayBuffer();return{responseHeaders:n,value:new Uint8Array(o)}}catch(o){throw new Ye({message:"Failed to read response as array buffer",url:t,requestBodyValues:r,statusCode:e.status,responseHeaders:n,responseBody:void 0,cause:o})}},"createBinaryResponseHandler");var nye=a((e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")},"getRelativePath"),oye=Symbol("Let zodToJsonSchema decide on which parser to use"),DB={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},iye=a(e=>typeof e=="string"?{...DB,name:e}:{...DB,...e},"getDefaultOptions");function Bn(){return{}}a(Bn,"parseAnyDef");function aye(e,t){var r,n,o;let i={type:"array"};return(r=e.type)!=null&&r._def&&((o=(n=e.type)==null?void 0:n._def)==null?void 0:o.typeName)!==U.ZodAny&&(i.items=$t(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&(i.minItems=e.minLength.value),e.maxLength&&(i.maxItems=e.maxLength.value),e.exactLength&&(i.minItems=e.exactLength.value,i.maxItems=e.exactLength.value),i}a(aye,"parseArrayDef");function sye(e){let t={type:"integer",format:"int64"};if(!e.checks)return t;for(let r of e.checks)switch(r.kind){case"min":r.inclusive?t.minimum=r.value:t.exclusiveMinimum=r.value;break;case"max":r.inclusive?t.maximum=r.value:t.exclusiveMaximum=r.value;break;case"multipleOf":t.multipleOf=r.value;break}return t}a(sye,"parseBigintDef");function uye(){return{type:"boolean"}}a(uye,"parseBooleanDef");function ZB(e,t){return $t(e.type._def,t)}a(ZB,"parseBrandedDef");var cye=a((e,t)=>$t(e.innerType._def,t),"parseCatchDef");function KB(e,t,r){let n=r??t.dateStrategy;if(Array.isArray(n))return{anyOf:n.map((o,i)=>KB(e,t,o))};switch(n){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return lye(e)}}a(KB,"parseDateDef");var lye=a(e=>{let t={type:"integer",format:"unix-time"};for(let r of e.checks)switch(r.kind){case"min":t.minimum=r.value;break;case"max":t.maximum=r.value;break}return t},"integerDateParser");function dye(e,t){return{...$t(e.innerType._def,t),default:e.defaultValue()}}a(dye,"parseDefaultDef");function pye(e,t){return t.effectStrategy==="input"?$t(e.schema._def,t):Bn()}a(pye,"parseEffectsDef");function mye(e){return{type:"string",enum:Array.from(e.values)}}a(mye,"parseEnumDef");var fye=a(e=>"type"in e&&e.type==="string"?!1:"allOf"in e,"isJsonSchema7AllOfType");function hye(e,t){let r=[$t(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),$t(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(o=>!!o),n=[];return r.forEach(o=>{if(fye(o))n.push(...o.allOf);else{let i=o;if("additionalProperties"in o&&o.additionalProperties===!1){let{additionalProperties:s,...u}=o;i=u}n.push(i)}}),n.length?{allOf:n}:void 0}a(hye,"parseIntersectionDef");function gye(e){let t=typeof e.value;return t!=="bigint"&&t!=="number"&&t!=="boolean"&&t!=="string"?{type:Array.isArray(e.value)?"array":"object"}:{type:t==="bigint"?"integer":t,const:e.value}}a(gye,"parseLiteralDef");var $1=void 0,zo={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:a(()=>($1===void 0&&($1=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),$1),"emoji"),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function GB(e,t){let r={type:"string"};if(e.checks)for(let n of e.checks)switch(n.kind){case"min":r.minLength=typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value;break;case"max":r.maxLength=typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value;break;case"email":switch(t.emailStrategy){case"format:email":jo(r,"email",n.message,t);break;case"format:idn-email":jo(r,"idn-email",n.message,t);break;case"pattern:zod":fn(r,zo.email,n.message,t);break}break;case"url":jo(r,"uri",n.message,t);break;case"uuid":jo(r,"uuid",n.message,t);break;case"regex":fn(r,n.regex,n.message,t);break;case"cuid":fn(r,zo.cuid,n.message,t);break;case"cuid2":fn(r,zo.cuid2,n.message,t);break;case"startsWith":fn(r,RegExp(`^${N1(n.value,t)}`),n.message,t);break;case"endsWith":fn(r,RegExp(`${N1(n.value,t)}$`),n.message,t);break;case"datetime":jo(r,"date-time",n.message,t);break;case"date":jo(r,"date",n.message,t);break;case"time":jo(r,"time",n.message,t);break;case"duration":jo(r,"duration",n.message,t);break;case"length":r.minLength=typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,r.maxLength=typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value;break;case"includes":{fn(r,RegExp(N1(n.value,t)),n.message,t);break}case"ip":{n.version!=="v6"&&jo(r,"ipv4",n.message,t),n.version!=="v4"&&jo(r,"ipv6",n.message,t);break}case"base64url":fn(r,zo.base64url,n.message,t);break;case"jwt":fn(r,zo.jwt,n.message,t);break;case"cidr":{n.version!=="v6"&&fn(r,zo.ipv4Cidr,n.message,t),n.version!=="v4"&&fn(r,zo.ipv6Cidr,n.message,t);break}case"emoji":fn(r,zo.emoji(),n.message,t);break;case"ulid":{fn(r,zo.ulid,n.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{jo(r,"binary",n.message,t);break}case"contentEncoding:base64":{r.contentEncoding="base64";break}case"pattern:zod":{fn(r,zo.base64,n.message,t);break}}break}case"nanoid":fn(r,zo.nanoid,n.message,t);case"toLowerCase":case"toUpperCase":case"trim":break;default:}return r}a(GB,"parseStringDef");function N1(e,t){return t.patternStrategy==="escape"?vye(e):e}a(N1,"escapeLiteralCheckValue");var yye=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function vye(e){let t="";for(let r=0;r<e.length;r++)yye.has(e[r])||(t+="\\"),t+=e[r];return t}a(vye,"escapeNonAlphaNumeric");function jo(e,t,r,n){var o;e.format||(o=e.anyOf)!=null&&o.some(i=>i.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format}),delete e.format),e.anyOf.push({format:t,...r&&n.errorMessages&&{errorMessage:{format:r}}})):e.format=t}a(jo,"addFormat");function fn(e,t,r,n){var o;e.pattern||(o=e.allOf)!=null&&o.some(i=>i.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern}),delete e.pattern),e.allOf.push({pattern:MB(t,n),...r&&n.errorMessages&&{errorMessage:{pattern:r}}})):e.pattern=MB(t,n)}a(fn,"addPattern");function MB(e,t){var r;if(!t.applyRegexFlags||!e.flags)return e.source;let n={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},o=n.i?e.source.toLowerCase():e.source,i="",s=!1,u=!1,l=!1;for(let d=0;d<o.length;d++){if(s){i+=o[d],s=!1;continue}if(n.i){if(u){if(o[d].match(/[a-z]/)){l?(i+=o[d],i+=`${o[d-2]}-${o[d]}`.toUpperCase(),l=!1):o[d+1]==="-"&&((r=o[d+2])!=null&&r.match(/[a-z]/))?(i+=o[d],l=!0):i+=`${o[d]}${o[d].toUpperCase()}`;continue}}else if(o[d].match(/[a-z]/)){i+=`[${o[d]}${o[d].toUpperCase()}]`;continue}}if(n.m){if(o[d]==="^"){i+=`(^|(?<=[\r
]))`;continue}else if(o[d]==="$"){i+=`($|(?=[\r
]))`;continue}}if(n.s&&o[d]==="."){i+=u?`${o[d]}\r
`:`[${o[d]}\r
]`;continue}i+=o[d],o[d]==="\\"?s=!0:u&&o[d]==="]"?u=!1:!u&&o[d]==="["&&(u=!0)}try{new RegExp(i)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return i}a(MB,"stringifyRegExpWithFlags");function WB(e,t){var r,n,o,i,s,u;let l={type:"object",additionalProperties:(r=$t(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]}))!=null?r:t.allowedAdditionalProperties};if(((n=e.keyType)==null?void 0:n._def.typeName)===U.ZodString&&((o=e.keyType._def.checks)!=null&&o.length)){let{type:d,...p}=GB(e.keyType._def,t);return{...l,propertyNames:p}}else{if(((i=e.keyType)==null?void 0:i._def.typeName)===U.ZodEnum)return{...l,propertyNames:{enum:e.keyType._def.values}};if(((s=e.keyType)==null?void 0:s._def.typeName)===U.ZodBranded&&e.keyType._def.type._def.typeName===U.ZodString&&((u=e.keyType._def.type._def.checks)!=null&&u.length)){let{type:d,...p}=ZB(e.keyType._def,t);return{...l,propertyNames:p}}}return l}a(WB,"parseRecordDef");function _ye(e,t){if(t.mapStrategy==="record")return WB(e,t);let r=$t(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||Bn(),n=$t(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||Bn();return{type:"array",maxItems:125,items:{type:"array",items:[r,n],minItems:2,maxItems:2}}}a(_ye,"parseMapDef");function bye(e){let t=e.values,n=Object.keys(e.values).filter(i=>typeof t[t[i]]!="number").map(i=>t[i]),o=Array.from(new Set(n.map(i=>typeof i)));return{type:o.length===1?o[0]==="string"?"string":"number":["string","number"],enum:n}}a(bye,"parseNativeEnumDef");function Sye(){return{not:Bn()}}a(Sye,"parseNeverDef");function wye(){return{type:"null"}}a(wye,"parseNullDef");var j1={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function xye(e,t){let r=e.options instanceof Map?Array.from(e.options.values()):e.options;if(r.every(n=>n._def.typeName in j1&&(!n._def.checks||!n._def.checks.length))){let n=r.reduce((o,i)=>{let s=j1[i._def.typeName];return s&&!o.includes(s)?[...o,s]:o},[]);return{type:n.length>1?n:n[0]}}else if(r.every(n=>n._def.typeName==="ZodLiteral"&&!n.description)){let n=r.reduce((o,i)=>{let s=typeof i._def.value;switch(s){case"string":case"number":case"boolean":return[...o,s];case"bigint":return[...o,"integer"];case"object":if(i._def.value===null)return[...o,"null"];case"symbol":case"undefined":case"function":default:return o}},[]);if(n.length===r.length){let o=n.filter((i,s,u)=>u.indexOf(i)===s);return{type:o.length>1?o:o[0],enum:r.reduce((i,s)=>i.includes(s._def.value)?i:[...i,s._def.value],[])}}}else if(r.every(n=>n._def.typeName==="ZodEnum"))return{type:"string",enum:r.reduce((n,o)=>[...n,...o._def.values.filter(i=>!n.includes(i))],[])};return Tye(e,t)}a(xye,"parseUnionDef");var Tye=a((e,t)=>{let r=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((n,o)=>$t(n._def,{...t,currentPath:[...t.currentPath,"anyOf",`${o}`]})).filter(n=>!!n&&(!t.strictUnions||typeof n=="object"&&Object.keys(n).length>0));return r.length?{anyOf:r}:void 0},"asAnyOf");function Eye(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return{type:[j1[e.innerType._def.typeName],"null"]};let r=$t(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}a(Eye,"parseNullableDef");function kye(e){let t={type:"number"};if(!e.checks)return t;for(let r of e.checks)switch(r.kind){case"int":t.type="integer";break;case"min":r.inclusive?t.minimum=r.value:t.exclusiveMinimum=r.value;break;case"max":r.inclusive?t.maximum=r.value:t.exclusiveMaximum=r.value;break;case"multipleOf":t.multipleOf=r.value;break}return t}a(kye,"parseNumberDef");function Pye(e,t){let r={type:"object",properties:{}},n=[],o=e.shape();for(let s in o){let u=o[s];if(u===void 0||u._def===void 0)continue;let l=Oye(u),d=$t(u._def,{...t,currentPath:[...t.currentPath,"properties",s],propertyPath:[...t.currentPath,"properties",s]});d!==void 0&&(r.properties[s]=d,l||n.push(s))}n.length&&(r.required=n);let i=Iye(e,t);return i!==void 0&&(r.additionalProperties=i),r}a(Pye,"parseObjectDef");function Iye(e,t){if(e.catchall._def.typeName!=="ZodNever")return $t(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}a(Iye,"decideAdditionalProperties");function Oye(e){try{return e.isOptional()}catch{return!0}}a(Oye,"safeIsOptional");var Aye=a((e,t)=>{var r;if(t.currentPath.toString()===((r=t.propertyPath)==null?void 0:r.toString()))return $t(e.innerType._def,t);let n=$t(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return n?{anyOf:[{not:Bn()},n]}:Bn()},"parseOptionalDef"),Cye=a((e,t)=>{if(t.pipeStrategy==="input")return $t(e.in._def,t);if(t.pipeStrategy==="output")return $t(e.out._def,t);let r=$t(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),n=$t(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,n].filter(o=>o!==void 0)}},"parsePipelineDef");function Rye(e,t){return $t(e.type._def,t)}a(Rye,"parsePromiseDef");function $ye(e,t){let n={type:"array",uniqueItems:!0,items:$t(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&(n.minItems=e.minSize.value),e.maxSize&&(n.maxItems=e.maxSize.value),n}a($ye,"parseSetDef");function Nye(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((r,n)=>$t(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[]),additionalItems:$t(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((r,n)=>$t(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[])}}a(Nye,"parseTupleDef");function zye(){return{not:Bn()}}a(zye,"parseUndefinedDef");function jye(){return Bn()}a(jye,"parseUnknownDef");var Dye=a((e,t)=>$t(e.innerType._def,t),"parseReadonlyDef"),Mye=a((e,t,r)=>{switch(t){case U.ZodString:return GB(e,r);case U.ZodNumber:return kye(e);case U.ZodObject:return Pye(e,r);case U.ZodBigInt:return sye(e);case U.ZodBoolean:return uye();case U.ZodDate:return KB(e,r);case U.ZodUndefined:return zye();case U.ZodNull:return wye();case U.ZodArray:return aye(e,r);case U.ZodUnion:case U.ZodDiscriminatedUnion:return xye(e,r);case U.ZodIntersection:return hye(e,r);case U.ZodTuple:return Nye(e,r);case U.ZodRecord:return WB(e,r);case U.ZodLiteral:return gye(e);case U.ZodEnum:return mye(e);case U.ZodNativeEnum:return bye(e);case U.ZodNullable:return Eye(e,r);case U.ZodOptional:return Aye(e,r);case U.ZodMap:return _ye(e,r);case U.ZodSet:return $ye(e,r);case U.ZodLazy:return()=>e.getter()._def;case U.ZodPromise:return Rye(e,r);case U.ZodNaN:case U.ZodNever:return Sye();case U.ZodEffects:return pye(e,r);case U.ZodAny:return Bn();case U.ZodUnknown:return jye();case U.ZodDefault:return dye(e,r);case U.ZodBranded:return ZB(e,r);case U.ZodReadonly:return Dye(e,r);case U.ZodCatch:return cye(e,r);case U.ZodPipeline:return Cye(e,r);case U.ZodFunction:case U.ZodVoid:case U.ZodSymbol:return;default:return(n=>{})(t)}},"selectParser");function $t(e,t,r=!1){var n;let o=t.seen.get(e);if(t.override){let l=(n=t.override)==null?void 0:n.call(t,e,t,o,r);if(l!==oye)return l}if(o&&!r){let l=qye(o,t);if(l!==void 0)return l}let i={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,i);let s=Mye(e,e.typeName,t),u=typeof s=="function"?$t(s(),t):s;if(u&&Uye(e,t,u),t.postProcess){let l=t.postProcess(u,e,t);return i.jsonSchema=u,l}return i.jsonSchema=u,u}a($t,"parseDef");var qye=a((e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:nye(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((r,n)=>t.currentPath[n]===r)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),Bn()):t.$refStrategy==="seen"?Bn():void 0}},"get$ref"),Uye=a((e,t,r)=>(e.description&&(r.description=e.description),r),"addMeta"),Lye=a(e=>{let t=iye(e),r=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([n,o])=>[o._def,{def:o._def,path:[...t.basePath,t.definitionPath,n],jsonSchema:void 0}]))}},"getRefs"),Fye=a((e,t)=>{var r;let n=Lye(t),o=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((d,[p,f])=>{var m;return{...d,[p]:(m=$t(f._def,{...n,currentPath:[...n.basePath,n.definitionPath,p]},!0))!=null?m:Bn()}},{}):void 0,i=typeof t=="string"?t:t?.nameStrategy==="title"?void 0:t?.name,s=(r=$t(e._def,i===void 0?n:{...n,currentPath:[...n.basePath,n.definitionPath,i]},!1))!=null?r:Bn(),u=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;u!==void 0&&(s.title=u);let l=i===void 0?o?{...s,[n.definitionPath]:o}:s:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,i].join("/"),[n.definitionPath]:{...o,[i]:s}};return l.$schema="http://json-schema.org/draft-07/schema#",l},"zodToJsonSchema"),Bye=Fye;function Jye(e,t){var r;let n=(r=t?.useReferences)!=null?r:!1;return QB(()=>Bye(e,{$refStrategy:n?"root":"none"}),{validate:a(async o=>{let i=await e.safeParseAsync(o);return i.success?{success:!0,value:i.data}:{success:!1,error:i.error}},"validate")})}a(Jye,"zod3Schema");function Hye(e,t){var r;let n=(r=t?.useReferences)!=null?r:!1;return QB(()=>Ci(e,{target:"draft-7",io:"output",reused:n?"ref":"inline"}),{validate:a(async o=>{let i=await $i(e,o);return i.success?{success:!0,value:i.data}:{success:!1,error:i.error}},"validate")})}a(Hye,"zod4Schema");function Vye(e){return"_zod"in e}a(Vye,"isZod4Schema");function Ue(e,t){return Vye(e)?Hye(e,t):Jye(e,t)}a(Ue,"zodSchema");var Zye=Symbol.for("vercel.ai.schema");function cr(e){let t;return()=>(t==null&&(t=e()),t)}a(cr,"lazySchema");function QB(e,{validate:t}={}){return{[Zye]:!0,_type:void 0,[iy]:!0,get jsonSchema(){return typeof e=="function"&&(e=e()),e},validate:t}}a(QB,"jsonSchema");var{btoa:Kye,atob:Gye}=globalThis;function XB(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),r=Gye(t);return Uint8Array.from(r,n=>n.codePointAt(0))}a(XB,"convertBase64ToUint8Array");function Wye(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCodePoint(e[r]);return Kye(t)}a(Wye,"convertUint8ArrayToBase64");function Da(e){return e instanceof Uint8Array?Wye(e):e}a(Da,"convertToBase64");function YB(e){return e?.replace(/\/$/,"")}a(YB,"withoutTrailingSlash");var F1=c.object({error:c.object({message:c.string(),type:c.string().nullish(),param:c.any().nullish(),code:c.union([c.string(),c.number()]).nullish()})}),ri=HB({errorSchema:F1,errorToMessage:a(e=>e.error.message,"errorToMessage")});function Qye({prompt:e,systemMessageMode:t="system"}){let r=[],n=[];for(let{role:o,content:i}of e)switch(o){case"system":{switch(t){case"system":{r.push({role:"system",content:i});break}case"developer":{r.push({role:"developer",content:i});break}case"remove":{n.push({type:"other",message:"system messages are removed for this model"});break}default:{let s=t;throw new Error(`Unsupported system message mode: ${s}`)}}break}case"user":{if(i.length===1&&i[0].type==="text"){r.push({role:"user",content:i[0].text});break}r.push({role:"user",content:i.map((s,u)=>{var l,d,p;switch(s.type){case"text":return{type:"text",text:s.text};case"file":if(s.mediaType.startsWith("image/")){let f=s.mediaType==="image/*"?"image/jpeg":s.mediaType;return{type:"image_url",image_url:{url:s.data instanceof URL?s.data.toString():`data:${f};base64,${Da(s.data)}`,detail:(d=(l=s.providerOptions)==null?void 0:l.openai)==null?void 0:d.imageDetail}}}else if(s.mediaType.startsWith("audio/")){if(s.data instanceof URL)throw new Pt({functionality:"audio file parts with URLs"});switch(s.mediaType){case"audio/wav":return{type:"input_audio",input_audio:{data:Da(s.data),format:"wav"}};case"audio/mp3":case"audio/mpeg":return{type:"input_audio",input_audio:{data:Da(s.data),format:"mp3"}};default:throw new Pt({functionality:`audio content parts with media type ${s.mediaType}`})}}else if(s.mediaType==="application/pdf"){if(s.data instanceof URL)throw new Pt({functionality:"PDF file parts with URLs"});return{type:"file",file:typeof s.data=="string"&&s.data.startsWith("file-")?{file_id:s.data}:{filename:(p=s.filename)!=null?p:`part-${u}.pdf`,file_data:`data:application/pdf;base64,${Da(s.data)}`}}}else throw new Pt({functionality:`file part media type ${s.mediaType}`})}})});break}case"assistant":{let s="",u=[];for(let l of i)switch(l.type){case"text":{s+=l.text;break}case"tool-call":{u.push({id:l.toolCallId,type:"function",function:{name:l.toolName,arguments:JSON.stringify(l.input)}});break}}r.push({role:"assistant",content:s,tool_calls:u.length>0?u:void 0});break}case"tool":{for(let s of i){let u=s.output,l;switch(u.type){case"text":case"error-text":l=u.value;break;case"content":case"json":case"error-json":l=JSON.stringify(u.value);break}r.push({role:"tool",tool_call_id:s.toolCallId,content:l})}break}default:{let s=o;throw new Error(`Unsupported role: ${s}`)}}return{messages:r,warnings:n}}a(Qye,"convertToOpenAIChatMessages");function L1({id:e,model:t,created:r}){return{id:e??void 0,modelId:t??void 0,timestamp:r?new Date(r*1e3):void 0}}a(L1,"getResponseMetadata");function eJ(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}a(eJ,"mapOpenAIFinishReason");var Xye=Ft(()=>Ue(c.object({id:c.string().nullish(),created:c.number().nullish(),model:c.string().nullish(),choices:c.array(c.object({message:c.object({role:c.literal("assistant").nullish(),content:c.string().nullish(),tool_calls:c.array(c.object({id:c.string().nullish(),type:c.literal("function"),function:c.object({name:c.string(),arguments:c.string()})})).nullish(),annotations:c.array(c.object({type:c.literal("url_citation"),start_index:c.number(),end_index:c.number(),url:c.string(),title:c.string()})).nullish()}),index:c.number(),logprobs:c.object({content:c.array(c.object({token:c.string(),logprob:c.number(),top_logprobs:c.array(c.object({token:c.string(),logprob:c.number()}))})).nullish()}).nullish(),finish_reason:c.string().nullish()})),usage:c.object({prompt_tokens:c.number().nullish(),completion_tokens:c.number().nullish(),total_tokens:c.number().nullish(),prompt_tokens_details:c.object({cached_tokens:c.number().nullish()}).nullish(),completion_tokens_details:c.object({reasoning_tokens:c.number().nullish(),accepted_prediction_tokens:c.number().nullish(),rejected_prediction_tokens:c.number().nullish()}).nullish()}).nullish()}))),Yye=Ft(()=>Ue(c.union([c.object({id:c.string().nullish(),created:c.number().nullish(),model:c.string().nullish(),choices:c.array(c.object({delta:c.object({role:c.enum(["assistant"]).nullish(),content:c.string().nullish(),tool_calls:c.array(c.object({index:c.number(),id:c.string().nullish(),type:c.literal("function").nullish(),function:c.object({name:c.string().nullish(),arguments:c.string().nullish()})})).nullish(),annotations:c.array(c.object({type:c.literal("url_citation"),start_index:c.number(),end_index:c.number(),url:c.string(),title:c.string()})).nullish()}).nullish(),logprobs:c.object({content:c.array(c.object({token:c.string(),logprob:c.number(),top_logprobs:c.array(c.object({token:c.string(),logprob:c.number()}))})).nullish()}).nullish(),finish_reason:c.string().nullish(),index:c.number()})),usage:c.object({prompt_tokens:c.number().nullish(),completion_tokens:c.number().nullish(),total_tokens:c.number().nullish(),prompt_tokens_details:c.object({cached_tokens:c.number().nullish()}).nullish(),completion_tokens_details:c.object({reasoning_tokens:c.number().nullish(),accepted_prediction_tokens:c.number().nullish(),rejected_prediction_tokens:c.number().nullish()}).nullish()}).nullish()}),F1]))),eve=Ft(()=>Ue(c.object({logitBias:c.record(c.coerce.number(),c.number()).optional(),logprobs:c.union([c.boolean(),c.number()]).optional(),parallelToolCalls:c.boolean().optional(),user:c.string().optional(),reasoningEffort:c.enum(["none","minimal","low","medium","high"]).optional(),maxCompletionTokens:c.number().optional(),store:c.boolean().optional(),metadata:c.record(c.string().max(64),c.string().max(512)).optional(),prediction:c.record(c.string(),c.any()).optional(),structuredOutputs:c.boolean().optional(),serviceTier:c.enum(["auto","flex","priority","default"]).optional(),strictJsonSchema:c.boolean().optional(),textVerbosity:c.enum(["low","medium","high"]).optional(),promptCacheKey:c.string().optional(),promptCacheRetention:c.enum(["in_memory","24h"]).optional(),safetyIdentifier:c.string().optional()})));function tve({tools:e,toolChoice:t,structuredOutputs:r,strictJsonSchema:n}){e=e?.length?e:void 0;let o=[];if(e==null)return{tools:void 0,toolChoice:void 0,toolWarnings:o};let i=[];for(let u of e)switch(u.type){case"function":i.push({type:"function",function:{name:u.name,description:u.description,parameters:u.inputSchema,strict:r?n:void 0}});break;default:o.push({type:"unsupported-tool",tool:u});break}if(t==null)return{tools:i,toolChoice:void 0,toolWarnings:o};let s=t.type;switch(s){case"auto":case"none":case"required":return{tools:i,toolChoice:s,toolWarnings:o};case"tool":return{tools:i,toolChoice:{type:"function",function:{name:t.toolName}},toolWarnings:o};default:{let u=s;throw new Pt({functionality:`tool choice type: ${u}`})}}}a(tve,"prepareChatTools");var rve=class{static{a(this,"OpenAIChatLanguageModel")}constructor(e,t){this.specificationVersion="v2",this.supportedUrls={"image/*":[/^https?:\/\/.*$/]},this.modelId=e,this.config=t}get provider(){return this.config.provider}async getArgs({prompt:e,maxOutputTokens:t,temperature:r,topP:n,topK:o,frequencyPenalty:i,presencePenalty:s,stopSequences:u,responseFormat:l,seed:d,tools:p,toolChoice:f,providerOptions:m}){var y,g,h,v;let S=[],b=(y=await hn({provider:"openai",providerOptions:m,schema:eve}))!=null?y:{},w=(g=b.structuredOutputs)!=null?g:!0;o!=null&&S.push({type:"unsupported-setting",setting:"topK"}),l?.type==="json"&&l.schema!=null&&!w&&S.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is only supported with structuredOutputs"});let{messages:k,warnings:$}=Qye({prompt:e,systemMessageMode:ive(this.modelId)});S.push(...$);let C=(h=b.strictJsonSchema)!=null?h:!1,A={model:this.modelId,logit_bias:b.logitBias,logprobs:b.logprobs===!0||typeof b.logprobs=="number"?!0:void 0,top_logprobs:typeof b.logprobs=="number"?b.logprobs:typeof b.logprobs=="boolean"&&b.logprobs?0:void 0,user:b.user,parallel_tool_calls:b.parallelToolCalls,max_tokens:t,temperature:r,top_p:n,frequency_penalty:i,presence_penalty:s,response_format:l?.type==="json"?w&&l.schema!=null?{type:"json_schema",json_schema:{schema:l.schema,strict:C,name:(v=l.name)!=null?v:"response",description:l.description}}:{type:"json_object"}:void 0,stop:u,seed:d,verbosity:b.textVerbosity,max_completion_tokens:b.maxCompletionTokens,store:b.store,metadata:b.metadata,prediction:b.prediction,reasoning_effort:b.reasoningEffort,service_tier:b.serviceTier,prompt_cache_key:b.promptCacheKey,prompt_cache_retention:b.promptCacheRetention,safety_identifier:b.safetyIdentifier,messages:k};cJ(this.modelId)?(A.temperature!=null&&(A.temperature=void 0,S.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),A.top_p!=null&&(A.top_p=void 0,S.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"})),A.frequency_penalty!=null&&(A.frequency_penalty=void 0,S.push({type:"unsupported-setting",setting:"frequencyPenalty",details:"frequencyPenalty is not supported for reasoning models"})),A.presence_penalty!=null&&(A.presence_penalty=void 0,S.push({type:"unsupported-setting",setting:"presencePenalty",details:"presencePenalty is not supported for reasoning models"})),A.logit_bias!=null&&(A.logit_bias=void 0,S.push({type:"other",message:"logitBias is not supported for reasoning models"})),A.logprobs!=null&&(A.logprobs=void 0,S.push({type:"other",message:"logprobs is not supported for reasoning models"})),A.top_logprobs!=null&&(A.top_logprobs=void 0,S.push({type:"other",message:"topLogprobs is not supported for reasoning models"})),A.max_tokens!=null&&(A.max_completion_tokens==null&&(A.max_completion_tokens=A.max_tokens),A.max_tokens=void 0)):(this.modelId.startsWith("gpt-4o-search-preview")||this.modelId.startsWith("gpt-4o-mini-search-preview"))&&A.temperature!=null&&(A.temperature=void 0,S.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for the search preview models and has been removed."})),b.serviceTier==="flex"&&!nve(this.modelId)&&(S.push({type:"unsupported-setting",setting:"serviceTier",details:"flex processing is only available for o3, o4-mini, and gpt-5 models"}),A.service_tier=void 0),b.serviceTier==="priority"&&!ove(this.modelId)&&(S.push({type:"unsupported-setting",setting:"serviceTier",details:"priority processing is only available for supported models (gpt-4, gpt-5, gpt-5-mini, o3, o4-mini) and requires Enterprise access. gpt-5-nano is not supported"}),A.service_tier=void 0);let{tools:R,toolChoice:O,toolWarnings:z}=tve({tools:p,toolChoice:f,structuredOutputs:w,strictJsonSchema:C});return{args:{...A,tools:R,tool_choice:O},warnings:[...S,...z]}}async doGenerate(e){var t,r,n,o,i,s,u,l,d,p,f,m,y,g;let{args:h,warnings:v}=await this.getArgs(e),{responseHeaders:S,value:b,rawValue:w}=await gn({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:Br(this.config.headers(),e.headers),body:h,failedResponseHandler:ri,successfulResponseHandler:ro(Xye),abortSignal:e.abortSignal,fetch:this.config.fetch}),k=b.choices[0],$=[],C=k.message.content;C!=null&&C.length>0&&$.push({type:"text",text:C});for(let z of(t=k.message.tool_calls)!=null?t:[])$.push({type:"tool-call",toolCallId:(r=z.id)!=null?r:Do(),toolName:z.function.name,input:z.function.arguments});for(let z of(n=k.message.annotations)!=null?n:[])$.push({type:"source",sourceType:"url",id:Do(),url:z.url,title:z.title});let A=(o=b.usage)==null?void 0:o.completion_tokens_details,R=(i=b.usage)==null?void 0:i.prompt_tokens_details,O={openai:{}};return A?.accepted_prediction_tokens!=null&&(O.openai.acceptedPredictionTokens=A?.accepted_prediction_tokens),A?.rejected_prediction_tokens!=null&&(O.openai.rejectedPredictionTokens=A?.rejected_prediction_tokens),((s=k.logprobs)==null?void 0:s.content)!=null&&(O.openai.logprobs=k.logprobs.content),{content:$,finishReason:eJ(k.finish_reason),usage:{inputTokens:(l=(u=b.usage)==null?void 0:u.prompt_tokens)!=null?l:void 0,outputTokens:(p=(d=b.usage)==null?void 0:d.completion_tokens)!=null?p:void 0,totalTokens:(m=(f=b.usage)==null?void 0:f.total_tokens)!=null?m:void 0,reasoningTokens:(y=A?.reasoning_tokens)!=null?y:void 0,cachedInputTokens:(g=R?.cached_tokens)!=null?g:void 0},request:{body:h},response:{...L1(b),headers:S,body:w},warnings:v,providerMetadata:O}}async doStream(e){let{args:t,warnings:r}=await this.getArgs(e),n={...t,stream:!0,stream_options:{include_usage:!0}},{responseHeaders:o,value:i}=await gn({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:Br(this.config.headers(),e.headers),body:n,failedResponseHandler:ri,successfulResponseHandler:Oc(Yye),abortSignal:e.abortSignal,fetch:this.config.fetch}),s=[],u="unknown",l={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},d=!1,p=!1,f={openai:{}};return{stream:i.pipeThrough(new TransformStream({start(m){m.enqueue({type:"stream-start",warnings:r})},transform(m,y){var g,h,v,S,b,w,k,$,C,A,R,O,z,D,X,G,B,te,ne,ae,Se,ke,et,Ke;if(e.includeRawChunks&&y.enqueue({type:"raw",rawValue:m.rawValue}),!m.success){u="error",y.enqueue({type:"error",error:m.error});return}let Q=m.value;if("error"in Q){u="error",y.enqueue({type:"error",error:Q.error});return}if(!d){let F=L1(Q);Object.values(F).some(Boolean)&&(d=!0,y.enqueue({type:"response-metadata",...L1(Q)}))}Q.usage!=null&&(l.inputTokens=(g=Q.usage.prompt_tokens)!=null?g:void 0,l.outputTokens=(h=Q.usage.completion_tokens)!=null?h:void 0,l.totalTokens=(v=Q.usage.total_tokens)!=null?v:void 0,l.reasoningTokens=(b=(S=Q.usage.completion_tokens_details)==null?void 0:S.reasoning_tokens)!=null?b:void 0,l.cachedInputTokens=(k=(w=Q.usage.prompt_tokens_details)==null?void 0:w.cached_tokens)!=null?k:void 0,(($=Q.usage.completion_tokens_details)==null?void 0:$.accepted_prediction_tokens)!=null&&(f.openai.acceptedPredictionTokens=(C=Q.usage.completion_tokens_details)==null?void 0:C.accepted_prediction_tokens),((A=Q.usage.completion_tokens_details)==null?void 0:A.rejected_prediction_tokens)!=null&&(f.openai.rejectedPredictionTokens=(R=Q.usage.completion_tokens_details)==null?void 0:R.rejected_prediction_tokens));let Re=Q.choices[0];if(Re?.finish_reason!=null&&(u=eJ(Re.finish_reason)),((O=Re?.logprobs)==null?void 0:O.content)!=null&&(f.openai.logprobs=Re.logprobs.content),Re?.delta==null)return;let ve=Re.delta;if(ve.content!=null&&(p||(y.enqueue({type:"text-start",id:"0"}),p=!0),y.enqueue({type:"text-delta",id:"0",delta:ve.content})),ve.tool_calls!=null)for(let F of ve.tool_calls){let We=F.index;if(s[We]==null){if(F.type!=="function")throw new Wg({data:F,message:"Expected 'function' type."});if(F.id==null)throw new Wg({data:F,message:"Expected 'id' to be a string."});if(((z=F.function)==null?void 0:z.name)==null)throw new Wg({data:F,message:"Expected 'function.name' to be a string."});y.enqueue({type:"tool-input-start",id:F.id,toolName:F.function.name}),s[We]={id:F.id,type:"function",function:{name:F.function.name,arguments:(D=F.function.arguments)!=null?D:""},hasFinished:!1};let Nt=s[We];((X=Nt.function)==null?void 0:X.name)!=null&&((G=Nt.function)==null?void 0:G.arguments)!=null&&(Nt.function.arguments.length>0&&y.enqueue({type:"tool-input-delta",id:Nt.id,delta:Nt.function.arguments}),U1(Nt.function.arguments)&&(y.enqueue({type:"tool-input-end",id:Nt.id}),y.enqueue({type:"tool-call",toolCallId:(B=Nt.id)!=null?B:Do(),toolName:Nt.function.name,input:Nt.function.arguments}),Nt.hasFinished=!0));continue}let It=s[We];It.hasFinished||(((te=F.function)==null?void 0:te.arguments)!=null&&(It.function.arguments+=(ae=(ne=F.function)==null?void 0:ne.arguments)!=null?ae:""),y.enqueue({type:"tool-input-delta",id:It.id,delta:(Se=F.function.arguments)!=null?Se:""}),((ke=It.function)==null?void 0:ke.name)!=null&&((et=It.function)==null?void 0:et.arguments)!=null&&U1(It.function.arguments)&&(y.enqueue({type:"tool-input-end",id:It.id}),y.enqueue({type:"tool-call",toolCallId:(Ke=It.id)!=null?Ke:Do(),toolName:It.function.name,input:It.function.arguments}),It.hasFinished=!0))}if(ve.annotations!=null)for(let F of ve.annotations)y.enqueue({type:"source",sourceType:"url",id:Do(),url:F.url,title:F.title})},flush(m){p&&m.enqueue({type:"text-end",id:"0"}),m.enqueue({type:"finish",finishReason:u,usage:l,...f!=null?{providerMetadata:f}:{}})}})),request:{body:n},response:{headers:o}}}};function cJ(e){return(e.startsWith("o")||e.startsWith("gpt-5"))&&!e.startsWith("gpt-5-chat")}a(cJ,"isReasoningModel");function nve(e){return e.startsWith("o3")||e.startsWith("o4-mini")||e.startsWith("gpt-5")&&!e.startsWith("gpt-5-chat")}a(nve,"supportsFlexProcessing");function ove(e){return e.startsWith("gpt-4")||e.startsWith("gpt-5-mini")||e.startsWith("gpt-5")&&!e.startsWith("gpt-5-nano")&&!e.startsWith("gpt-5-chat")||e.startsWith("o3")||e.startsWith("o4-mini")}a(ove,"supportsPriorityProcessing");function ive(e){var t,r;return cJ(e)?(r=(t=ave[e])==null?void 0:t.systemMessageMode)!=null?r:"developer":"system"}a(ive,"getSystemMessageMode");var ave={o3:{systemMessageMode:"developer"},"o3-2025-04-16":{systemMessageMode:"developer"},"o3-mini":{systemMessageMode:"developer"},"o3-mini-2025-01-31":{systemMessageMode:"developer"},"o4-mini":{systemMessageMode:"developer"},"o4-mini-2025-04-16":{systemMessageMode:"developer"}};function sve({prompt:e,user:t="user",assistant:r="assistant"}){let n="";e[0].role==="system"&&(n+=`${e[0].content}

`,e=e.slice(1));for(let{role:o,content:i}of e)switch(o){case"system":throw new y6({message:"Unexpected system message in prompt: ${content}",prompt:e});case"user":{let s=i.map(u=>{switch(u.type){case"text":return u.text}}).filter(Boolean).join("");n+=`${t}:
${s}

`;break}case"assistant":{let s=i.map(u=>{switch(u.type){case"text":return u.text;case"tool-call":throw new Pt({functionality:"tool-call messages"})}}).join("");n+=`${r}:
${s}

`;break}case"tool":throw new Pt({functionality:"tool messages"});default:{let s=o;throw new Error(`Unsupported role: ${s}`)}}return n+=`${r}:
`,{prompt:n,stopSequences:[`
${t}:`]}}a(sve,"convertToOpenAICompletionPrompt");function tJ({id:e,model:t,created:r}){return{id:e??void 0,modelId:t??void 0,timestamp:r!=null?new Date(r*1e3):void 0}}a(tJ,"getResponseMetadata2");function rJ(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}a(rJ,"mapOpenAIFinishReason2");var uve=Ft(()=>Ue(c.object({id:c.string().nullish(),created:c.number().nullish(),model:c.string().nullish(),choices:c.array(c.object({text:c.string(),finish_reason:c.string(),logprobs:c.object({tokens:c.array(c.string()),token_logprobs:c.array(c.number()),top_logprobs:c.array(c.record(c.string(),c.number())).nullish()}).nullish()})),usage:c.object({prompt_tokens:c.number(),completion_tokens:c.number(),total_tokens:c.number()}).nullish()}))),cve=Ft(()=>Ue(c.union([c.object({id:c.string().nullish(),created:c.number().nullish(),model:c.string().nullish(),choices:c.array(c.object({text:c.string(),finish_reason:c.string().nullish(),index:c.number(),logprobs:c.object({tokens:c.array(c.string()),token_logprobs:c.array(c.number()),top_logprobs:c.array(c.record(c.string(),c.number())).nullish()}).nullish()})),usage:c.object({prompt_tokens:c.number(),completion_tokens:c.number(),total_tokens:c.number()}).nullish()}),F1]))),nJ=Ft(()=>Ue(c.object({echo:c.boolean().optional(),logitBias:c.record(c.string(),c.number()).optional(),suffix:c.string().optional(),user:c.string().optional(),logprobs:c.union([c.boolean(),c.number()]).optional()}))),lve=class{static{a(this,"OpenAICompletionLanguageModel")}constructor(e,t){this.specificationVersion="v2",this.supportedUrls={},this.modelId=e,this.config=t}get providerOptionsName(){return this.config.provider.split(".")[0].trim()}get provider(){return this.config.provider}async getArgs({prompt:e,maxOutputTokens:t,temperature:r,topP:n,topK:o,frequencyPenalty:i,presencePenalty:s,stopSequences:u,responseFormat:l,tools:d,toolChoice:p,seed:f,providerOptions:m}){let y=[],g={...await hn({provider:"openai",providerOptions:m,schema:nJ}),...await hn({provider:this.providerOptionsName,providerOptions:m,schema:nJ})};o!=null&&y.push({type:"unsupported-setting",setting:"topK"}),d?.length&&y.push({type:"unsupported-setting",setting:"tools"}),p!=null&&y.push({type:"unsupported-setting",setting:"toolChoice"}),l!=null&&l.type!=="text"&&y.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});let{prompt:h,stopSequences:v}=sve({prompt:e}),S=[...v??[],...u??[]];return{args:{model:this.modelId,echo:g.echo,logit_bias:g.logitBias,logprobs:g?.logprobs===!0?0:g?.logprobs===!1?void 0:g?.logprobs,suffix:g.suffix,user:g.user,max_tokens:t,temperature:r,top_p:n,frequency_penalty:i,presence_penalty:s,seed:f,prompt:h,stop:S.length>0?S:void 0},warnings:y}}async doGenerate(e){var t,r,n;let{args:o,warnings:i}=await this.getArgs(e),{responseHeaders:s,value:u,rawValue:l}=await gn({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:Br(this.config.headers(),e.headers),body:o,failedResponseHandler:ri,successfulResponseHandler:ro(uve),abortSignal:e.abortSignal,fetch:this.config.fetch}),d=u.choices[0],p={openai:{}};return d.logprobs!=null&&(p.openai.logprobs=d.logprobs),{content:[{type:"text",text:d.text}],usage:{inputTokens:(t=u.usage)==null?void 0:t.prompt_tokens,outputTokens:(r=u.usage)==null?void 0:r.completion_tokens,totalTokens:(n=u.usage)==null?void 0:n.total_tokens},finishReason:rJ(d.finish_reason),request:{body:o},response:{...tJ(u),headers:s,body:l},providerMetadata:p,warnings:i}}async doStream(e){let{args:t,warnings:r}=await this.getArgs(e),n={...t,stream:!0,stream_options:{include_usage:!0}},{responseHeaders:o,value:i}=await gn({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:Br(this.config.headers(),e.headers),body:n,failedResponseHandler:ri,successfulResponseHandler:Oc(cve),abortSignal:e.abortSignal,fetch:this.config.fetch}),s="unknown",u={openai:{}},l={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},d=!0;return{stream:i.pipeThrough(new TransformStream({start(p){p.enqueue({type:"stream-start",warnings:r})},transform(p,f){if(e.includeRawChunks&&f.enqueue({type:"raw",rawValue:p.rawValue}),!p.success){s="error",f.enqueue({type:"error",error:p.error});return}let m=p.value;if("error"in m){s="error",f.enqueue({type:"error",error:m.error});return}d&&(d=!1,f.enqueue({type:"response-metadata",...tJ(m)}),f.enqueue({type:"text-start",id:"0"})),m.usage!=null&&(l.inputTokens=m.usage.prompt_tokens,l.outputTokens=m.usage.completion_tokens,l.totalTokens=m.usage.total_tokens);let y=m.choices[0];y?.finish_reason!=null&&(s=rJ(y.finish_reason)),y?.logprobs!=null&&(u.openai.logprobs=y.logprobs),y?.text!=null&&y.text.length>0&&f.enqueue({type:"text-delta",id:"0",delta:y.text})},flush(p){d||p.enqueue({type:"text-end",id:"0"}),p.enqueue({type:"finish",finishReason:s,providerMetadata:u,usage:l})}})),request:{body:n},response:{headers:o}}}},dve=Ft(()=>Ue(c.object({dimensions:c.number().optional(),user:c.string().optional()}))),pve=Ft(()=>Ue(c.object({data:c.array(c.object({embedding:c.array(c.number())})),usage:c.object({prompt_tokens:c.number()}).nullish()}))),mve=class{static{a(this,"OpenAIEmbeddingModel")}constructor(e,t){this.specificationVersion="v2",this.maxEmbeddingsPerCall=2048,this.supportsParallelCalls=!0,this.modelId=e,this.config=t}get provider(){return this.config.provider}async doEmbed({values:e,headers:t,abortSignal:r,providerOptions:n}){var o;if(e.length>this.maxEmbeddingsPerCall)throw new Qg({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});let i=(o=await hn({provider:"openai",providerOptions:n,schema:dve}))!=null?o:{},{responseHeaders:s,value:u,rawValue:l}=await gn({url:this.config.url({path:"/embeddings",modelId:this.modelId}),headers:Br(this.config.headers(),t),body:{model:this.modelId,input:e,encoding_format:"float",dimensions:i.dimensions,user:i.user},failedResponseHandler:ri,successfulResponseHandler:ro(pve),abortSignal:r,fetch:this.config.fetch});return{embeddings:u.data.map(d=>d.embedding),usage:u.usage?{tokens:u.usage.prompt_tokens}:void 0,response:{headers:s,body:l}}}},fve=Ft(()=>Ue(c.object({data:c.array(c.object({b64_json:c.string(),revised_prompt:c.string().nullish()}))}))),hve={"dall-e-3":1,"dall-e-2":10,"gpt-image-1":10,"gpt-image-1-mini":10},gve=new Set(["gpt-image-1","gpt-image-1-mini"]),yve=class{static{a(this,"OpenAIImageModel")}constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2"}get maxImagesPerCall(){var e;return(e=hve[this.modelId])!=null?e:1}get provider(){return this.config.provider}async doGenerate({prompt:e,n:t,size:r,aspectRatio:n,seed:o,providerOptions:i,headers:s,abortSignal:u}){var l,d,p,f;let m=[];n!=null&&m.push({type:"unsupported-setting",setting:"aspectRatio",details:"This model does not support aspect ratio. Use `size` instead."}),o!=null&&m.push({type:"unsupported-setting",setting:"seed"});let y=(p=(d=(l=this.config._internal)==null?void 0:l.currentDate)==null?void 0:d.call(l))!=null?p:new Date,{value:g,responseHeaders:h}=await gn({url:this.config.url({path:"/images/generations",modelId:this.modelId}),headers:Br(this.config.headers(),s),body:{model:this.modelId,prompt:e,n:t,size:r,...(f=i.openai)!=null?f:{},...gve.has(this.modelId)?{}:{response_format:"b64_json"}},failedResponseHandler:ri,successfulResponseHandler:ro(fve),abortSignal:u,fetch:this.config.fetch});return{images:g.data.map(v=>v.b64_json),warnings:m,response:{timestamp:y,modelId:this.modelId,headers:h},providerMetadata:{openai:{images:g.data.map(v=>v.revised_prompt?{revisedPrompt:v.revised_prompt}:null)}}}}},vve=cr(()=>Ue(c.object({code:c.string().nullish(),containerId:c.string()}))),_ve=cr(()=>Ue(c.object({outputs:c.array(c.discriminatedUnion("type",[c.object({type:c.literal("logs"),logs:c.string()}),c.object({type:c.literal("image"),url:c.string()})])).nullish()}))),bve=cr(()=>Ue(c.object({container:c.union([c.string(),c.object({fileIds:c.array(c.string()).optional()})]).optional()}))),Sve=to({id:"openai.code_interpreter",name:"code_interpreter",inputSchema:vve,outputSchema:_ve}),wve=a((e={})=>Sve(e),"codeInterpreter"),lJ=c.object({key:c.string(),type:c.enum(["eq","ne","gt","gte","lt","lte"]),value:c.union([c.string(),c.number(),c.boolean()])}),dJ=c.object({type:c.enum(["and","or"]),filters:c.array(c.union([lJ,c.lazy(()=>dJ)]))}),xve=cr(()=>Ue(c.object({vectorStoreIds:c.array(c.string()),maxNumResults:c.number().optional(),ranking:c.object({ranker:c.string().optional(),scoreThreshold:c.number().optional()}).optional(),filters:c.union([lJ,dJ]).optional()}))),Tve=cr(()=>Ue(c.object({queries:c.array(c.string()),results:c.array(c.object({attributes:c.record(c.string(),c.unknown()),fileId:c.string(),filename:c.string(),score:c.number(),text:c.string()})).nullable()}))),Eve=to({id:"openai.file_search",name:"file_search",inputSchema:c.object({}),outputSchema:Tve}),kve=cr(()=>Ue(c.object({background:c.enum(["auto","opaque","transparent"]).optional(),inputFidelity:c.enum(["low","high"]).optional(),inputImageMask:c.object({fileId:c.string().optional(),imageUrl:c.string().optional()}).optional(),model:c.string().optional(),moderation:c.enum(["auto"]).optional(),outputCompression:c.number().int().min(0).max(100).optional(),outputFormat:c.enum(["png","jpeg","webp"]).optional(),partialImages:c.number().int().min(0).max(3).optional(),quality:c.enum(["auto","low","medium","high"]).optional(),size:c.enum(["1024x1024","1024x1536","1536x1024","auto"]).optional()}).strict())),Pve=cr(()=>Ue(c.object({}))),Ive=cr(()=>Ue(c.object({result:c.string()}))),Ove=to({id:"openai.image_generation",name:"image_generation",inputSchema:Pve,outputSchema:Ive}),Ave=a((e={})=>Ove(e),"imageGeneration"),pJ=cr(()=>Ue(c.object({action:c.object({type:c.literal("exec"),command:c.array(c.string()),timeoutMs:c.number().optional(),user:c.string().optional(),workingDirectory:c.string().optional(),env:c.record(c.string(),c.string()).optional()})}))),mJ=cr(()=>Ue(c.object({output:c.string()}))),Cve=to({id:"openai.local_shell",name:"local_shell",inputSchema:pJ,outputSchema:mJ}),Rve=cr(()=>Ue(c.object({externalWebAccess:c.boolean().optional(),filters:c.object({allowedDomains:c.array(c.string()).optional()}).optional(),searchContextSize:c.enum(["low","medium","high"]).optional(),userLocation:c.object({type:c.literal("approximate"),country:c.string().optional(),city:c.string().optional(),region:c.string().optional(),timezone:c.string().optional()}).optional()}))),$ve=cr(()=>Ue(c.object({}))),Nve=cr(()=>Ue(c.object({action:c.discriminatedUnion("type",[c.object({type:c.literal("search"),query:c.string().optional()}),c.object({type:c.literal("openPage"),url:c.string()}),c.object({type:c.literal("find"),url:c.string(),pattern:c.string()})]),sources:c.array(c.discriminatedUnion("type",[c.object({type:c.literal("url"),url:c.string()}),c.object({type:c.literal("api"),name:c.string()})])).optional()}))),zve=to({id:"openai.web_search",name:"web_search",inputSchema:$ve,outputSchema:Nve}),jve=a((e={})=>zve(e),"webSearch"),Dve=cr(()=>Ue(c.object({searchContextSize:c.enum(["low","medium","high"]).optional(),userLocation:c.object({type:c.literal("approximate"),country:c.string().optional(),city:c.string().optional(),region:c.string().optional(),timezone:c.string().optional()}).optional()}))),Mve=cr(()=>Ue(c.object({}))),qve=cr(()=>Ue(c.object({action:c.discriminatedUnion("type",[c.object({type:c.literal("search"),query:c.string().optional()}),c.object({type:c.literal("openPage"),url:c.string()}),c.object({type:c.literal("find"),url:c.string(),pattern:c.string()})])}))),Uve=to({id:"openai.web_search_preview",name:"web_search_preview",inputSchema:Mve,outputSchema:qve}),Lve={codeInterpreter:wve,fileSearch:Eve,imageGeneration:Ave,localShell:Cve,webSearchPreview:Uve,webSearch:jve};function oJ(e,t){return t?t.some(r=>e.startsWith(r)):!1}a(oJ,"isFileId");async function Fve({prompt:e,systemMessageMode:t,fileIdPrefixes:r,store:n,hasLocalShellTool:o=!1}){var i,s,u,l;let d=[],p=[];for(let{role:f,content:m}of e)switch(f){case"system":{switch(t){case"system":{d.push({role:"system",content:m});break}case"developer":{d.push({role:"developer",content:m});break}case"remove":{p.push({type:"other",message:"system messages are removed for this model"});break}default:{let y=t;throw new Error(`Unsupported system message mode: ${y}`)}}break}case"user":{d.push({role:"user",content:m.map((y,g)=>{var h,v,S;switch(y.type){case"text":return{type:"input_text",text:y.text};case"file":if(y.mediaType.startsWith("image/")){let b=y.mediaType==="image/*"?"image/jpeg":y.mediaType;return{type:"input_image",...y.data instanceof URL?{image_url:y.data.toString()}:typeof y.data=="string"&&oJ(y.data,r)?{file_id:y.data}:{image_url:`data:${b};base64,${Da(y.data)}`},detail:(v=(h=y.providerOptions)==null?void 0:h.openai)==null?void 0:v.imageDetail}}else{if(y.mediaType==="application/pdf")return y.data instanceof URL?{type:"input_file",file_url:y.data.toString()}:{type:"input_file",...typeof y.data=="string"&&oJ(y.data,r)?{file_id:y.data}:{filename:(S=y.filename)!=null?S:`part-${g}.pdf`,file_data:`data:application/pdf;base64,${Da(y.data)}`}};throw new Pt({functionality:`file part media type ${y.mediaType}`})}}})});break}case"assistant":{let y={},g={};for(let h of m)switch(h.type){case"text":{let v=(s=(i=h.providerOptions)==null?void 0:i.openai)==null?void 0:s.itemId;if(n&&v!=null){d.push({type:"item_reference",id:v});break}d.push({role:"assistant",content:[{type:"output_text",text:h.text}],id:v});break}case"tool-call":{if(g[h.toolCallId]=h,h.providerExecuted)break;let v=(l=(u=h.providerOptions)==null?void 0:u.openai)==null?void 0:l.itemId;if(n&&v!=null){d.push({type:"item_reference",id:v});break}if(o&&h.toolName==="local_shell"){let S=await ti({value:h.input,schema:pJ});d.push({type:"local_shell_call",call_id:h.toolCallId,id:v,action:{type:"exec",command:S.action.command,timeout_ms:S.action.timeoutMs,user:S.action.user,working_directory:S.action.workingDirectory,env:S.action.env}});break}d.push({type:"function_call",call_id:h.toolCallId,name:h.toolName,arguments:JSON.stringify(h.input),id:v});break}case"tool-result":{n?d.push({type:"item_reference",id:h.toolCallId}):p.push({type:"other",message:`Results for OpenAI tool ${h.toolName} are not sent to the API when store is false`});break}case"reasoning":{let v=await hn({provider:"openai",providerOptions:h.providerOptions,schema:Bve}),S=v?.itemId;if(S!=null){let b=y[S];if(n)b===void 0&&(d.push({type:"item_reference",id:S}),y[S]={type:"reasoning",id:S,summary:[]});else{let w=[];h.text.length>0?w.push({type:"summary_text",text:h.text}):b!==void 0&&p.push({type:"other",message:`Cannot append empty reasoning part to existing reasoning sequence. Skipping reasoning part: ${JSON.stringify(h)}.`}),b===void 0?(y[S]={type:"reasoning",id:S,encrypted_content:v?.reasoningEncryptedContent,summary:w},d.push(y[S])):(b.summary.push(...w),v?.reasoningEncryptedContent!=null&&(b.encrypted_content=v.reasoningEncryptedContent))}}else p.push({type:"other",message:`Non-OpenAI reasoning parts are not supported. Skipping reasoning part: ${JSON.stringify(h)}.`});break}}break}case"tool":{for(let y of m){let g=y.output;if(o&&y.toolName==="local_shell"&&g.type==="json"){let v=await ti({value:g.value,schema:mJ});d.push({type:"local_shell_call_output",call_id:y.toolCallId,output:v.output});break}let h;switch(g.type){case"text":case"error-text":h=g.value;break;case"json":case"error-json":h=JSON.stringify(g.value);break;case"content":h=g.value.map(v=>{switch(v.type){case"text":return{type:"input_text",text:v.text};case"media":return v.mediaType.startsWith("image/")?{type:"input_image",image_url:`data:${v.mediaType};base64,${v.data}`}:{type:"input_file",filename:"data",file_data:`data:${v.mediaType};base64,${v.data}`}}});break}d.push({type:"function_call_output",call_id:y.toolCallId,output:h})}break}default:{let y=f;throw new Error(`Unsupported role: ${y}`)}}return{input:d,warnings:p}}a(Fve,"convertToOpenAIResponsesInput");var Bve=c.object({itemId:c.string().nullish(),reasoningEncryptedContent:c.string().nullish()});function iJ({finishReason:e,hasFunctionCall:t}){switch(e){case void 0:case null:return t?"tool-calls":"stop";case"max_output_tokens":return"length";case"content_filter":return"content-filter";default:return t?"tool-calls":"unknown"}}a(iJ,"mapOpenAIResponseFinishReason");var Jve=Ft(()=>Ue(c.union([c.object({type:c.literal("response.output_text.delta"),item_id:c.string(),delta:c.string(),logprobs:c.array(c.object({token:c.string(),logprob:c.number(),top_logprobs:c.array(c.object({token:c.string(),logprob:c.number()}))})).nullish()}),c.object({type:c.enum(["response.completed","response.incomplete"]),response:c.object({incomplete_details:c.object({reason:c.string()}).nullish(),usage:c.object({input_tokens:c.number(),input_tokens_details:c.object({cached_tokens:c.number().nullish()}).nullish(),output_tokens:c.number(),output_tokens_details:c.object({reasoning_tokens:c.number().nullish()}).nullish()}),service_tier:c.string().nullish()})}),c.object({type:c.literal("response.created"),response:c.object({id:c.string(),created_at:c.number(),model:c.string(),service_tier:c.string().nullish()})}),c.object({type:c.literal("response.output_item.added"),output_index:c.number(),item:c.discriminatedUnion("type",[c.object({type:c.literal("message"),id:c.string()}),c.object({type:c.literal("reasoning"),id:c.string(),encrypted_content:c.string().nullish()}),c.object({type:c.literal("function_call"),id:c.string(),call_id:c.string(),name:c.string(),arguments:c.string()}),c.object({type:c.literal("web_search_call"),id:c.string(),status:c.string()}),c.object({type:c.literal("computer_call"),id:c.string(),status:c.string()}),c.object({type:c.literal("file_search_call"),id:c.string()}),c.object({type:c.literal("image_generation_call"),id:c.string()}),c.object({type:c.literal("code_interpreter_call"),id:c.string(),container_id:c.string(),code:c.string().nullable(),outputs:c.array(c.discriminatedUnion("type",[c.object({type:c.literal("logs"),logs:c.string()}),c.object({type:c.literal("image"),url:c.string()})])).nullable(),status:c.string()})])}),c.object({type:c.literal("response.output_item.done"),output_index:c.number(),item:c.discriminatedUnion("type",[c.object({type:c.literal("message"),id:c.string()}),c.object({type:c.literal("reasoning"),id:c.string(),encrypted_content:c.string().nullish()}),c.object({type:c.literal("function_call"),id:c.string(),call_id:c.string(),name:c.string(),arguments:c.string(),status:c.literal("completed")}),c.object({type:c.literal("code_interpreter_call"),id:c.string(),code:c.string().nullable(),container_id:c.string(),outputs:c.array(c.discriminatedUnion("type",[c.object({type:c.literal("logs"),logs:c.string()}),c.object({type:c.literal("image"),url:c.string()})])).nullable()}),c.object({type:c.literal("image_generation_call"),id:c.string(),result:c.string()}),c.object({type:c.literal("web_search_call"),id:c.string(),status:c.string(),action:c.discriminatedUnion("type",[c.object({type:c.literal("search"),query:c.string().nullish(),sources:c.array(c.discriminatedUnion("type",[c.object({type:c.literal("url"),url:c.string()}),c.object({type:c.literal("api"),name:c.string()})])).nullish()}),c.object({type:c.literal("open_page"),url:c.string()}),c.object({type:c.literal("find"),url:c.string(),pattern:c.string()})])}),c.object({type:c.literal("file_search_call"),id:c.string(),queries:c.array(c.string()),results:c.array(c.object({attributes:c.record(c.string(),c.unknown()),file_id:c.string(),filename:c.string(),score:c.number(),text:c.string()})).nullish()}),c.object({type:c.literal("local_shell_call"),id:c.string(),call_id:c.string(),action:c.object({type:c.literal("exec"),command:c.array(c.string()),timeout_ms:c.number().optional(),user:c.string().optional(),working_directory:c.string().optional(),env:c.record(c.string(),c.string()).optional()})}),c.object({type:c.literal("computer_call"),id:c.string(),status:c.literal("completed")})])}),c.object({type:c.literal("response.function_call_arguments.delta"),item_id:c.string(),output_index:c.number(),delta:c.string()}),c.object({type:c.literal("response.image_generation_call.partial_image"),item_id:c.string(),output_index:c.number(),partial_image_b64:c.string()}),c.object({type:c.literal("response.code_interpreter_call_code.delta"),item_id:c.string(),output_index:c.number(),delta:c.string()}),c.object({type:c.literal("response.code_interpreter_call_code.done"),item_id:c.string(),output_index:c.number(),code:c.string()}),c.object({type:c.literal("response.output_text.annotation.added"),annotation:c.discriminatedUnion("type",[c.object({type:c.literal("url_citation"),start_index:c.number(),end_index:c.number(),url:c.string(),title:c.string()}),c.object({type:c.literal("file_citation"),file_id:c.string(),filename:c.string().nullish(),index:c.number().nullish(),start_index:c.number().nullish(),end_index:c.number().nullish(),quote:c.string().nullish()})])}),c.object({type:c.literal("response.reasoning_summary_part.added"),item_id:c.string(),summary_index:c.number()}),c.object({type:c.literal("response.reasoning_summary_text.delta"),item_id:c.string(),summary_index:c.number(),delta:c.string()}),c.object({type:c.literal("response.reasoning_summary_part.done"),item_id:c.string(),summary_index:c.number()}),c.object({type:c.literal("error"),sequence_number:c.number(),error:c.object({type:c.string(),code:c.string(),message:c.string(),param:c.string().nullish()})}),c.object({type:c.string()}).loose().transform(e=>({type:"unknown_chunk",message:e.type}))]))),Hve=Ft(()=>Ue(c.object({id:c.string().optional(),created_at:c.number().optional(),error:c.object({message:c.string(),type:c.string(),param:c.string().nullish(),code:c.string()}).nullish(),model:c.string().optional(),output:c.array(c.discriminatedUnion("type",[c.object({type:c.literal("message"),role:c.literal("assistant"),id:c.string(),content:c.array(c.object({type:c.literal("output_text"),text:c.string(),logprobs:c.array(c.object({token:c.string(),logprob:c.number(),top_logprobs:c.array(c.object({token:c.string(),logprob:c.number()}))})).nullish(),annotations:c.array(c.discriminatedUnion("type",[c.object({type:c.literal("url_citation"),start_index:c.number(),end_index:c.number(),url:c.string(),title:c.string()}),c.object({type:c.literal("file_citation"),file_id:c.string(),filename:c.string().nullish(),index:c.number().nullish(),start_index:c.number().nullish(),end_index:c.number().nullish(),quote:c.string().nullish()}),c.object({type:c.literal("container_file_citation"),container_id:c.string(),file_id:c.string(),filename:c.string().nullish(),start_index:c.number().nullish(),end_index:c.number().nullish(),index:c.number().nullish()}),c.object({type:c.literal("file_path"),file_id:c.string(),index:c.number().nullish()})]))}))}),c.object({type:c.literal("web_search_call"),id:c.string(),status:c.string(),action:c.discriminatedUnion("type",[c.object({type:c.literal("search"),query:c.string().nullish(),sources:c.array(c.discriminatedUnion("type",[c.object({type:c.literal("url"),url:c.string()}),c.object({type:c.literal("api"),name:c.string()})])).nullish()}),c.object({type:c.literal("open_page"),url:c.string()}),c.object({type:c.literal("find"),url:c.string(),pattern:c.string()})])}),c.object({type:c.literal("file_search_call"),id:c.string(),queries:c.array(c.string()),results:c.array(c.object({attributes:c.record(c.string(),c.union([c.string(),c.number(),c.boolean()])),file_id:c.string(),filename:c.string(),score:c.number(),text:c.string()})).nullish()}),c.object({type:c.literal("code_interpreter_call"),id:c.string(),code:c.string().nullable(),container_id:c.string(),outputs:c.array(c.discriminatedUnion("type",[c.object({type:c.literal("logs"),logs:c.string()}),c.object({type:c.literal("image"),url:c.string()})])).nullable()}),c.object({type:c.literal("image_generation_call"),id:c.string(),result:c.string()}),c.object({type:c.literal("local_shell_call"),id:c.string(),call_id:c.string(),action:c.object({type:c.literal("exec"),command:c.array(c.string()),timeout_ms:c.number().optional(),user:c.string().optional(),working_directory:c.string().optional(),env:c.record(c.string(),c.string()).optional()})}),c.object({type:c.literal("function_call"),call_id:c.string(),name:c.string(),arguments:c.string(),id:c.string()}),c.object({type:c.literal("computer_call"),id:c.string(),status:c.string().optional()}),c.object({type:c.literal("reasoning"),id:c.string(),encrypted_content:c.string().nullish(),summary:c.array(c.object({type:c.literal("summary_text"),text:c.string()}))})])).optional(),service_tier:c.string().nullish(),incomplete_details:c.object({reason:c.string()}).nullish(),usage:c.object({input_tokens:c.number(),input_tokens_details:c.object({cached_tokens:c.number().nullish()}).nullish(),output_tokens:c.number(),output_tokens_details:c.object({reasoning_tokens:c.number().nullish()}).nullish()}).optional()}))),fJ=20,Vve=["o1","o1-2024-12-17","o3","o3-2025-04-16","o3-deep-research","o3-deep-research-2025-06-26","o3-mini","o3-mini-2025-01-31","o4-mini","o4-mini-2025-04-16","o4-mini-deep-research","o4-mini-deep-research-2025-06-26","codex-mini-latest","computer-use-preview","gpt-5","gpt-5-2025-08-07","gpt-5-codex","gpt-5-mini","gpt-5-mini-2025-08-07","gpt-5-nano","gpt-5-nano-2025-08-07","gpt-5-pro","gpt-5-pro-2025-10-06","gpt-5.1","gpt-5.1-chat-latest","gpt-5.1-codex-mini","gpt-5.1-codex"],GYe=["gpt-4.1","gpt-4.1-2025-04-14","gpt-4.1-mini","gpt-4.1-mini-2025-04-14","gpt-4.1-nano","gpt-4.1-nano-2025-04-14","gpt-4o","gpt-4o-2024-05-13","gpt-4o-2024-08-06","gpt-4o-2024-11-20","gpt-4o-audio-preview","gpt-4o-audio-preview-2024-10-01","gpt-4o-audio-preview-2024-12-17","gpt-4o-search-preview","gpt-4o-search-preview-2025-03-11","gpt-4o-mini-search-preview","gpt-4o-mini-search-preview-2025-03-11","gpt-4o-mini","gpt-4o-mini-2024-07-18","gpt-4-turbo","gpt-4-turbo-2024-04-09","gpt-4-turbo-preview","gpt-4-0125-preview","gpt-4-1106-preview","gpt-4","gpt-4-0613","gpt-4.5-preview","gpt-4.5-preview-2025-02-27","gpt-3.5-turbo-0125","gpt-3.5-turbo","gpt-3.5-turbo-1106","chatgpt-4o-latest","gpt-5-chat-latest",...Vve],Zve=Ft(()=>Ue(c.object({conversation:c.string().nullish(),include:c.array(c.enum(["reasoning.encrypted_content","file_search_call.results","message.output_text.logprobs"])).nullish(),instructions:c.string().nullish(),logprobs:c.union([c.boolean(),c.number().min(1).max(fJ)]).optional(),maxToolCalls:c.number().nullish(),metadata:c.any().nullish(),parallelToolCalls:c.boolean().nullish(),previousResponseId:c.string().nullish(),promptCacheKey:c.string().nullish(),promptCacheRetention:c.enum(["in_memory","24h"]).nullish(),reasoningEffort:c.string().nullish(),reasoningSummary:c.string().nullish(),safetyIdentifier:c.string().nullish(),serviceTier:c.enum(["auto","flex","priority","default"]).nullish(),store:c.boolean().nullish(),strictJsonSchema:c.boolean().nullish(),textVerbosity:c.enum(["low","medium","high"]).nullish(),truncation:c.enum(["auto","disabled"]).nullish(),user:c.string().nullish()})));async function Kve({tools:e,toolChoice:t,strictJsonSchema:r}){e=e?.length?e:void 0;let n=[];if(e==null)return{tools:void 0,toolChoice:void 0,toolWarnings:n};let o=[];for(let s of e)switch(s.type){case"function":o.push({type:"function",name:s.name,description:s.description,parameters:s.inputSchema,strict:r});break;case"provider-defined":{switch(s.id){case"openai.file_search":{let u=await ti({value:s.args,schema:xve});o.push({type:"file_search",vector_store_ids:u.vectorStoreIds,max_num_results:u.maxNumResults,ranking_options:u.ranking?{ranker:u.ranking.ranker,score_threshold:u.ranking.scoreThreshold}:void 0,filters:u.filters});break}case"openai.local_shell":{o.push({type:"local_shell"});break}case"openai.web_search_preview":{let u=await ti({value:s.args,schema:Dve});o.push({type:"web_search_preview",search_context_size:u.searchContextSize,user_location:u.userLocation});break}case"openai.web_search":{let u=await ti({value:s.args,schema:Rve});o.push({type:"web_search",filters:u.filters!=null?{allowed_domains:u.filters.allowedDomains}:void 0,external_web_access:u.externalWebAccess,search_context_size:u.searchContextSize,user_location:u.userLocation});break}case"openai.code_interpreter":{let u=await ti({value:s.args,schema:bve});o.push({type:"code_interpreter",container:u.container==null?{type:"auto",file_ids:void 0}:typeof u.container=="string"?u.container:{type:"auto",file_ids:u.container.fileIds}});break}case"openai.image_generation":{let u=await ti({value:s.args,schema:kve});o.push({type:"image_generation",background:u.background,input_fidelity:u.inputFidelity,input_image_mask:u.inputImageMask?{file_id:u.inputImageMask.fileId,image_url:u.inputImageMask.imageUrl}:void 0,model:u.model,size:u.size,quality:u.quality,moderation:u.moderation,output_format:u.outputFormat,output_compression:u.outputCompression});break}}break}default:n.push({type:"unsupported-tool",tool:s});break}if(t==null)return{tools:o,toolChoice:void 0,toolWarnings:n};let i=t.type;switch(i){case"auto":case"none":case"required":return{tools:o,toolChoice:i,toolWarnings:n};case"tool":return{tools:o,toolChoice:t.toolName==="code_interpreter"||t.toolName==="file_search"||t.toolName==="image_generation"||t.toolName==="web_search_preview"||t.toolName==="web_search"?{type:t.toolName}:{type:"function",name:t.toolName},toolWarnings:n};default:{let s=i;throw new Pt({functionality:`tool choice type: ${s}`})}}}a(Kve,"prepareResponsesTools");var Gve=class{static{a(this,"OpenAIResponsesLanguageModel")}constructor(e,t){this.specificationVersion="v2",this.supportedUrls={"image/*":[/^https?:\/\/.*$/],"application/pdf":[/^https?:\/\/.*$/]},this.modelId=e,this.config=t}get provider(){return this.config.provider}async getArgs({maxOutputTokens:e,temperature:t,stopSequences:r,topP:n,topK:o,presencePenalty:i,frequencyPenalty:s,seed:u,prompt:l,providerOptions:d,tools:p,toolChoice:f,responseFormat:m}){var y,g,h,v;let S=[],b=i_e(this.modelId);o!=null&&S.push({type:"unsupported-setting",setting:"topK"}),u!=null&&S.push({type:"unsupported-setting",setting:"seed"}),i!=null&&S.push({type:"unsupported-setting",setting:"presencePenalty"}),s!=null&&S.push({type:"unsupported-setting",setting:"frequencyPenalty"}),r!=null&&S.push({type:"unsupported-setting",setting:"stopSequences"});let w=await hn({provider:"openai",providerOptions:d,schema:Zve});w?.conversation&&w?.previousResponseId&&S.push({type:"unsupported-setting",setting:"conversation",details:"conversation and previousResponseId cannot be used together"});let{input:k,warnings:$}=await Fve({prompt:l,systemMessageMode:b.systemMessageMode,fileIdPrefixes:this.config.fileIdPrefixes,store:(y=w?.store)!=null?y:!0,hasLocalShellTool:O("openai.local_shell")});S.push(...$);let C=(g=w?.strictJsonSchema)!=null?g:!1,A=w?.include;function R(ae){A==null?A=[ae]:A.includes(ae)||(A=[...A,ae])}a(R,"addInclude");function O(ae){return p?.find(Se=>Se.type==="provider-defined"&&Se.id===ae)!=null}a(O,"hasOpenAITool");let z=typeof w?.logprobs=="number"?w?.logprobs:w?.logprobs===!0?fJ:void 0;z&&R("message.output_text.logprobs");let D=(h=p?.find(ae=>ae.type==="provider-defined"&&(ae.id==="openai.web_search"||ae.id==="openai.web_search_preview")))==null?void 0:h.name;D&&R("web_search_call.action.sources"),O("openai.code_interpreter")&&R("code_interpreter_call.outputs");let X=w?.store;X===!1&&b.isReasoningModel&&R("reasoning.encrypted_content");let G={model:this.modelId,input:k,temperature:t,top_p:n,max_output_tokens:e,...(m?.type==="json"||w?.textVerbosity)&&{text:{...m?.type==="json"&&{format:m.schema!=null?{type:"json_schema",strict:C,name:(v=m.name)!=null?v:"response",description:m.description,schema:m.schema}:{type:"json_object"}},...w?.textVerbosity&&{verbosity:w.textVerbosity}}},conversation:w?.conversation,max_tool_calls:w?.maxToolCalls,metadata:w?.metadata,parallel_tool_calls:w?.parallelToolCalls,previous_response_id:w?.previousResponseId,store:X,user:w?.user,instructions:w?.instructions,service_tier:w?.serviceTier,include:A,prompt_cache_key:w?.promptCacheKey,prompt_cache_retention:w?.promptCacheRetention,safety_identifier:w?.safetyIdentifier,top_logprobs:z,truncation:w?.truncation,...b.isReasoningModel&&(w?.reasoningEffort!=null||w?.reasoningSummary!=null)&&{reasoning:{...w?.reasoningEffort!=null&&{effort:w.reasoningEffort},...w?.reasoningSummary!=null&&{summary:w.reasoningSummary}}}};b.isReasoningModel?(G.temperature!=null&&(G.temperature=void 0,S.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),G.top_p!=null&&(G.top_p=void 0,S.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"}))):(w?.reasoningEffort!=null&&S.push({type:"unsupported-setting",setting:"reasoningEffort",details:"reasoningEffort is not supported for non-reasoning models"}),w?.reasoningSummary!=null&&S.push({type:"unsupported-setting",setting:"reasoningSummary",details:"reasoningSummary is not supported for non-reasoning models"})),w?.serviceTier==="flex"&&!b.supportsFlexProcessing&&(S.push({type:"unsupported-setting",setting:"serviceTier",details:"flex processing is only available for o3, o4-mini, and gpt-5 models"}),delete G.service_tier),w?.serviceTier==="priority"&&!b.supportsPriorityProcessing&&(S.push({type:"unsupported-setting",setting:"serviceTier",details:"priority processing is only available for supported models (gpt-4, gpt-5, gpt-5-mini, o3, o4-mini) and requires Enterprise access. gpt-5-nano is not supported"}),delete G.service_tier);let{tools:B,toolChoice:te,toolWarnings:ne}=await Kve({tools:p,toolChoice:f,strictJsonSchema:C});return{webSearchToolName:D,args:{...G,tools:B,tool_choice:te},warnings:[...S,...ne],store:X}}async doGenerate(e){var t,r,n,o,i,s,u,l,d,p,f,m,y,g,h,v,S,b,w;let{args:k,warnings:$,webSearchToolName:C}=await this.getArgs(e),A=this.config.url({path:"/responses",modelId:this.modelId}),{responseHeaders:R,value:O,rawValue:z}=await gn({url:A,headers:Br(this.config.headers(),e.headers),body:k,failedResponseHandler:ri,successfulResponseHandler:ro(Hve),abortSignal:e.abortSignal,fetch:this.config.fetch});if(O.error)throw new Ye({message:O.error.message,url:A,requestBodyValues:k,statusCode:400,responseHeaders:R,responseBody:z,isRetryable:!1});let D=[],X=[],G=!1;for(let ne of O.output)switch(ne.type){case"reasoning":{ne.summary.length===0&&ne.summary.push({type:"summary_text",text:""});for(let ae of ne.summary)D.push({type:"reasoning",text:ae.text,providerMetadata:{openai:{itemId:ne.id,reasoningEncryptedContent:(t=ne.encrypted_content)!=null?t:null}}});break}case"image_generation_call":{D.push({type:"tool-call",toolCallId:ne.id,toolName:"image_generation",input:"{}",providerExecuted:!0}),D.push({type:"tool-result",toolCallId:ne.id,toolName:"image_generation",result:{result:ne.result},providerExecuted:!0});break}case"local_shell_call":{D.push({type:"tool-call",toolCallId:ne.call_id,toolName:"local_shell",input:JSON.stringify({action:ne.action}),providerMetadata:{openai:{itemId:ne.id}}});break}case"message":{for(let ae of ne.content){(n=(r=e.providerOptions)==null?void 0:r.openai)!=null&&n.logprobs&&ae.logprobs&&X.push(ae.logprobs),D.push({type:"text",text:ae.text,providerMetadata:{openai:{itemId:ne.id}}});for(let Se of ae.annotations)Se.type==="url_citation"?D.push({type:"source",sourceType:"url",id:(s=(i=(o=this.config).generateId)==null?void 0:i.call(o))!=null?s:Do(),url:Se.url,title:Se.title}):Se.type==="file_citation"&&D.push({type:"source",sourceType:"document",id:(d=(l=(u=this.config).generateId)==null?void 0:l.call(u))!=null?d:Do(),mediaType:"text/plain",title:(f=(p=Se.quote)!=null?p:Se.filename)!=null?f:"Document",filename:(m=Se.filename)!=null?m:Se.file_id,...Se.file_id?{providerMetadata:{openai:{fileId:Se.file_id}}}:{}})}break}case"function_call":{G=!0,D.push({type:"tool-call",toolCallId:ne.call_id,toolName:ne.name,input:ne.arguments,providerMetadata:{openai:{itemId:ne.id}}});break}case"web_search_call":{D.push({type:"tool-call",toolCallId:ne.id,toolName:C??"web_search",input:JSON.stringify({}),providerExecuted:!0}),D.push({type:"tool-result",toolCallId:ne.id,toolName:C??"web_search",result:sJ(ne.action),providerExecuted:!0});break}case"computer_call":{D.push({type:"tool-call",toolCallId:ne.id,toolName:"computer_use",input:"",providerExecuted:!0}),D.push({type:"tool-result",toolCallId:ne.id,toolName:"computer_use",result:{type:"computer_use_tool_result",status:ne.status||"completed"},providerExecuted:!0});break}case"file_search_call":{D.push({type:"tool-call",toolCallId:ne.id,toolName:"file_search",input:"{}",providerExecuted:!0}),D.push({type:"tool-result",toolCallId:ne.id,toolName:"file_search",result:{queries:ne.queries,results:(g=(y=ne.results)==null?void 0:y.map(ae=>({attributes:ae.attributes,fileId:ae.file_id,filename:ae.filename,score:ae.score,text:ae.text})))!=null?g:null},providerExecuted:!0});break}case"code_interpreter_call":{D.push({type:"tool-call",toolCallId:ne.id,toolName:"code_interpreter",input:JSON.stringify({code:ne.code,containerId:ne.container_id}),providerExecuted:!0}),D.push({type:"tool-result",toolCallId:ne.id,toolName:"code_interpreter",result:{outputs:ne.outputs},providerExecuted:!0});break}}let B={openai:{...O.id!=null?{responseId:O.id}:{}}};X.length>0&&(B.openai.logprobs=X),typeof O.service_tier=="string"&&(B.openai.serviceTier=O.service_tier);let te=O.usage;return{content:D,finishReason:iJ({finishReason:(h=O.incomplete_details)==null?void 0:h.reason,hasFunctionCall:G}),usage:{inputTokens:te.input_tokens,outputTokens:te.output_tokens,totalTokens:te.input_tokens+te.output_tokens,reasoningTokens:(S=(v=te.output_tokens_details)==null?void 0:v.reasoning_tokens)!=null?S:void 0,cachedInputTokens:(w=(b=te.input_tokens_details)==null?void 0:b.cached_tokens)!=null?w:void 0},request:{body:k},response:{id:O.id,timestamp:new Date(O.created_at*1e3),modelId:O.model,headers:R,body:z},providerMetadata:B,warnings:$}}async doStream(e){let{args:t,warnings:r,webSearchToolName:n,store:o}=await this.getArgs(e),{responseHeaders:i,value:s}=await gn({url:this.config.url({path:"/responses",modelId:this.modelId}),headers:Br(this.config.headers(),e.headers),body:{...t,stream:!0},failedResponseHandler:ri,successfulResponseHandler:Oc(Jve),abortSignal:e.abortSignal,fetch:this.config.fetch}),u=this,l="unknown",d={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},p=[],f=null,m={},y=[],g=!1,h={},v;return{stream:s.pipeThrough(new TransformStream({start(S){S.enqueue({type:"stream-start",warnings:r})},transform(S,b){var w,k,$,C,A,R,O,z,D,X,G,B,te,ne,ae,Se,ke,et,Ke,Q,Re,ve;if(e.includeRawChunks&&b.enqueue({type:"raw",rawValue:S.rawValue}),!S.success){l="error",b.enqueue({type:"error",error:S.error});return}let F=S.value;if(aJ(F))F.item.type==="function_call"?(m[F.output_index]={toolName:F.item.name,toolCallId:F.item.call_id},b.enqueue({type:"tool-input-start",id:F.item.call_id,toolName:F.item.name})):F.item.type==="web_search_call"?(m[F.output_index]={toolName:n??"web_search",toolCallId:F.item.id},b.enqueue({type:"tool-input-start",id:F.item.id,toolName:n??"web_search",providerExecuted:!0}),b.enqueue({type:"tool-input-end",id:F.item.id}),b.enqueue({type:"tool-call",toolCallId:F.item.id,toolName:n??"web_search",input:JSON.stringify({}),providerExecuted:!0})):F.item.type==="computer_call"?(m[F.output_index]={toolName:"computer_use",toolCallId:F.item.id},b.enqueue({type:"tool-input-start",id:F.item.id,toolName:"computer_use",providerExecuted:!0})):F.item.type==="code_interpreter_call"?(m[F.output_index]={toolName:"code_interpreter",toolCallId:F.item.id,codeInterpreter:{containerId:F.item.container_id}},b.enqueue({type:"tool-input-start",id:F.item.id,toolName:"code_interpreter",providerExecuted:!0}),b.enqueue({type:"tool-input-delta",id:F.item.id,delta:`{"containerId":"${F.item.container_id}","code":"`})):F.item.type==="file_search_call"?b.enqueue({type:"tool-call",toolCallId:F.item.id,toolName:"file_search",input:"{}",providerExecuted:!0}):F.item.type==="image_generation_call"?b.enqueue({type:"tool-call",toolCallId:F.item.id,toolName:"image_generation",input:"{}",providerExecuted:!0}):F.item.type==="message"?(y.splice(0,y.length),b.enqueue({type:"text-start",id:F.item.id,providerMetadata:{openai:{itemId:F.item.id}}})):aJ(F)&&F.item.type==="reasoning"&&(h[F.item.id]={encryptedContent:F.item.encrypted_content,summaryParts:{0:"active"}},b.enqueue({type:"reasoning-start",id:`${F.item.id}:0`,providerMetadata:{openai:{itemId:F.item.id,reasoningEncryptedContent:(w=F.item.encrypted_content)!=null?w:null}}}));else if(Qve(F)){if(F.item.type==="message")b.enqueue({type:"text-end",id:F.item.id,providerMetadata:{openai:{itemId:F.item.id,...y.length>0&&{annotations:y}}}});else if(F.item.type==="function_call")m[F.output_index]=void 0,g=!0,b.enqueue({type:"tool-input-end",id:F.item.call_id}),b.enqueue({type:"tool-call",toolCallId:F.item.call_id,toolName:F.item.name,input:F.item.arguments,providerMetadata:{openai:{itemId:F.item.id}}});else if(F.item.type==="web_search_call")m[F.output_index]=void 0,b.enqueue({type:"tool-result",toolCallId:F.item.id,toolName:n??"web_search",result:sJ(F.item.action),providerExecuted:!0});else if(F.item.type==="computer_call")m[F.output_index]=void 0,b.enqueue({type:"tool-input-end",id:F.item.id}),b.enqueue({type:"tool-call",toolCallId:F.item.id,toolName:"computer_use",input:"",providerExecuted:!0}),b.enqueue({type:"tool-result",toolCallId:F.item.id,toolName:"computer_use",result:{type:"computer_use_tool_result",status:F.item.status||"completed"},providerExecuted:!0});else if(F.item.type==="file_search_call")m[F.output_index]=void 0,b.enqueue({type:"tool-result",toolCallId:F.item.id,toolName:"file_search",result:{queries:F.item.queries,results:($=(k=F.item.results)==null?void 0:k.map(We=>({attributes:We.attributes,fileId:We.file_id,filename:We.filename,score:We.score,text:We.text})))!=null?$:null},providerExecuted:!0});else if(F.item.type==="code_interpreter_call")m[F.output_index]=void 0,b.enqueue({type:"tool-result",toolCallId:F.item.id,toolName:"code_interpreter",result:{outputs:F.item.outputs},providerExecuted:!0});else if(F.item.type==="image_generation_call")b.enqueue({type:"tool-result",toolCallId:F.item.id,toolName:"image_generation",result:{result:F.item.result},providerExecuted:!0});else if(F.item.type==="local_shell_call")m[F.output_index]=void 0,b.enqueue({type:"tool-call",toolCallId:F.item.call_id,toolName:"local_shell",input:JSON.stringify({action:{type:"exec",command:F.item.action.command,timeoutMs:F.item.action.timeout_ms,user:F.item.action.user,workingDirectory:F.item.action.working_directory,env:F.item.action.env}}),providerMetadata:{openai:{itemId:F.item.id}}});else if(F.item.type==="reasoning"){let We=h[F.item.id],It=Object.entries(We.summaryParts).filter(([Nt,vn])=>vn==="active"||vn==="can-conclude").map(([Nt])=>Nt);for(let Nt of It)b.enqueue({type:"reasoning-end",id:`${F.item.id}:${Nt}`,providerMetadata:{openai:{itemId:F.item.id,reasoningEncryptedContent:(C=F.item.encrypted_content)!=null?C:null}}});delete h[F.item.id]}}else if(e_e(F)){let We=m[F.output_index];We!=null&&b.enqueue({type:"tool-input-delta",id:We.toolCallId,delta:F.delta})}else if(t_e(F)){let We=m[F.output_index];We!=null&&b.enqueue({type:"tool-input-delta",id:We.toolCallId,delta:JSON.stringify(F.delta).slice(1,-1)})}else if(r_e(F)){let We=m[F.output_index];We!=null&&(b.enqueue({type:"tool-input-delta",id:We.toolCallId,delta:'"}'}),b.enqueue({type:"tool-input-end",id:We.toolCallId}),b.enqueue({type:"tool-call",toolCallId:We.toolCallId,toolName:"code_interpreter",input:JSON.stringify({code:F.code,containerId:We.codeInterpreter.containerId}),providerExecuted:!0}))}else if(Yve(F))f=F.response.id,b.enqueue({type:"response-metadata",id:F.response.id,timestamp:new Date(F.response.created_at*1e3),modelId:F.response.model});else if(Wve(F))b.enqueue({type:"text-delta",id:F.item_id,delta:F.delta}),(R=(A=e.providerOptions)==null?void 0:A.openai)!=null&&R.logprobs&&F.logprobs&&p.push(F.logprobs);else if(F.type==="response.reasoning_summary_part.added"){if(F.summary_index>0){let We=h[F.item_id];We.summaryParts[F.summary_index]="active";for(let It of Object.keys(We.summaryParts))We.summaryParts[It]==="can-conclude"&&(b.enqueue({type:"reasoning-end",id:`${F.item_id}:${It}`,providerMetadata:{openai:{itemId:F.item_id}}}),We.summaryParts[It]="concluded");b.enqueue({type:"reasoning-start",id:`${F.item_id}:${F.summary_index}`,providerMetadata:{openai:{itemId:F.item_id,reasoningEncryptedContent:(z=(O=h[F.item_id])==null?void 0:O.encryptedContent)!=null?z:null}}})}}else F.type==="response.reasoning_summary_text.delta"?b.enqueue({type:"reasoning-delta",id:`${F.item_id}:${F.summary_index}`,delta:F.delta,providerMetadata:{openai:{itemId:F.item_id}}}):F.type==="response.reasoning_summary_part.done"?o?(b.enqueue({type:"reasoning-end",id:`${F.item_id}:${F.summary_index}`,providerMetadata:{openai:{itemId:F.item_id}}}),h[F.item_id].summaryParts[F.summary_index]="concluded"):h[F.item_id].summaryParts[F.summary_index]="can-conclude":Xve(F)?(l=iJ({finishReason:(D=F.response.incomplete_details)==null?void 0:D.reason,hasFunctionCall:g}),d.inputTokens=F.response.usage.input_tokens,d.outputTokens=F.response.usage.output_tokens,d.totalTokens=F.response.usage.input_tokens+F.response.usage.output_tokens,d.reasoningTokens=(G=(X=F.response.usage.output_tokens_details)==null?void 0:X.reasoning_tokens)!=null?G:void 0,d.cachedInputTokens=(te=(B=F.response.usage.input_tokens_details)==null?void 0:B.cached_tokens)!=null?te:void 0,typeof F.response.service_tier=="string"&&(v=F.response.service_tier)):n_e(F)?(y.push(F.annotation),F.annotation.type==="url_citation"?b.enqueue({type:"source",sourceType:"url",id:(Se=(ae=(ne=u.config).generateId)==null?void 0:ae.call(ne))!=null?Se:Do(),url:F.annotation.url,title:F.annotation.title}):F.annotation.type==="file_citation"&&b.enqueue({type:"source",sourceType:"document",id:(Ke=(et=(ke=u.config).generateId)==null?void 0:et.call(ke))!=null?Ke:Do(),mediaType:"text/plain",title:(Re=(Q=F.annotation.quote)!=null?Q:F.annotation.filename)!=null?Re:"Document",filename:(ve=F.annotation.filename)!=null?ve:F.annotation.file_id,...F.annotation.file_id?{providerMetadata:{openai:{fileId:F.annotation.file_id}}}:{}})):o_e(F)&&b.enqueue({type:"error",error:F})},flush(S){let b={openai:{responseId:f}};p.length>0&&(b.openai.logprobs=p),v!==void 0&&(b.openai.serviceTier=v),S.enqueue({type:"finish",finishReason:l,usage:d,providerMetadata:b})}})),request:{body:t},response:{headers:i}}}};function Wve(e){return e.type==="response.output_text.delta"}a(Wve,"isTextDeltaChunk");function Qve(e){return e.type==="response.output_item.done"}a(Qve,"isResponseOutputItemDoneChunk");function Xve(e){return e.type==="response.completed"||e.type==="response.incomplete"}a(Xve,"isResponseFinishedChunk");function Yve(e){return e.type==="response.created"}a(Yve,"isResponseCreatedChunk");function e_e(e){return e.type==="response.function_call_arguments.delta"}a(e_e,"isResponseFunctionCallArgumentsDeltaChunk");function t_e(e){return e.type==="response.code_interpreter_call_code.delta"}a(t_e,"isResponseCodeInterpreterCallCodeDeltaChunk");function r_e(e){return e.type==="response.code_interpreter_call_code.done"}a(r_e,"isResponseCodeInterpreterCallCodeDoneChunk");function aJ(e){return e.type==="response.output_item.added"}a(aJ,"isResponseOutputItemAddedChunk");function n_e(e){return e.type==="response.output_text.annotation.added"}a(n_e,"isResponseAnnotationAddedChunk");function o_e(e){return e.type==="error"}a(o_e,"isErrorChunk");function i_e(e){let t=e.startsWith("o3")||e.startsWith("o4-mini")||e.startsWith("gpt-5")&&!e.startsWith("gpt-5-chat"),r=e.startsWith("gpt-4")||e.startsWith("gpt-5-mini")||e.startsWith("gpt-5")&&!e.startsWith("gpt-5-nano")&&!e.startsWith("gpt-5-chat")||e.startsWith("o3")||e.startsWith("o4-mini"),n={systemMessageMode:"system",supportsFlexProcessing:t,supportsPriorityProcessing:r};return e.startsWith("gpt-5-chat")?{...n,isReasoningModel:!1}:e.startsWith("o")||e.startsWith("gpt-5")||e.startsWith("codex-")||e.startsWith("computer-use")?{...n,isReasoningModel:!0,systemMessageMode:"developer"}:{...n,isReasoningModel:!1}}a(i_e,"getResponsesModelConfig");function sJ(e){var t;switch(e.type){case"search":return{action:{type:"search",query:(t=e.query)!=null?t:void 0},...e.sources!=null&&{sources:e.sources}};case"open_page":return{action:{type:"openPage",url:e.url}};case"find":return{action:{type:"find",url:e.url,pattern:e.pattern}}}}a(sJ,"mapWebSearchOutput");var a_e=Ft(()=>Ue(c.object({instructions:c.string().nullish(),speed:c.number().min(.25).max(4).default(1).nullish()}))),s_e=class{static{a(this,"OpenAISpeechModel")}constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2"}get provider(){return this.config.provider}async getArgs({text:e,voice:t="alloy",outputFormat:r="mp3",speed:n,instructions:o,language:i,providerOptions:s}){let u=[],l=await hn({provider:"openai",providerOptions:s,schema:a_e}),d={model:this.modelId,input:e,voice:t,response_format:"mp3",speed:n,instructions:o};if(r&&(["mp3","opus","aac","flac","wav","pcm"].includes(r)?d.response_format=r:u.push({type:"unsupported-setting",setting:"outputFormat",details:`Unsupported output format: ${r}. Using mp3 instead.`})),l){let p={};for(let f in p){let m=p[f];m!==void 0&&(d[f]=m)}}return i&&u.push({type:"unsupported-setting",setting:"language",details:`OpenAI speech models do not support language selection. Language parameter "${i}" was ignored.`}),{requestBody:d,warnings:u}}async doGenerate(e){var t,r,n;let o=(n=(r=(t=this.config._internal)==null?void 0:t.currentDate)==null?void 0:r.call(t))!=null?n:new Date,{requestBody:i,warnings:s}=await this.getArgs(e),{value:u,responseHeaders:l,rawValue:d}=await gn({url:this.config.url({path:"/audio/speech",modelId:this.modelId}),headers:Br(this.config.headers(),e.headers),body:i,failedResponseHandler:ri,successfulResponseHandler:VB(),abortSignal:e.abortSignal,fetch:this.config.fetch});return{audio:u,warnings:s,request:{body:JSON.stringify(i)},response:{timestamp:o,modelId:this.modelId,headers:l,body:d}}}},u_e=Ft(()=>Ue(c.object({text:c.string(),language:c.string().nullish(),duration:c.number().nullish(),words:c.array(c.object({word:c.string(),start:c.number(),end:c.number()})).nullish(),segments:c.array(c.object({id:c.number(),seek:c.number(),start:c.number(),end:c.number(),text:c.string(),tokens:c.array(c.number()),temperature:c.number(),avg_logprob:c.number(),compression_ratio:c.number(),no_speech_prob:c.number()})).nullish()}))),c_e=Ft(()=>Ue(c.object({include:c.array(c.string()).optional(),language:c.string().optional(),prompt:c.string().optional(),temperature:c.number().min(0).max(1).default(0).optional(),timestampGranularities:c.array(c.enum(["word","segment"])).default(["segment"]).optional()}))),uJ={afrikaans:"af",arabic:"ar",armenian:"hy",azerbaijani:"az",belarusian:"be",bosnian:"bs",bulgarian:"bg",catalan:"ca",chinese:"zh",croatian:"hr",czech:"cs",danish:"da",dutch:"nl",english:"en",estonian:"et",finnish:"fi",french:"fr",galician:"gl",german:"de",greek:"el",hebrew:"he",hindi:"hi",hungarian:"hu",icelandic:"is",indonesian:"id",italian:"it",japanese:"ja",kannada:"kn",kazakh:"kk",korean:"ko",latvian:"lv",lithuanian:"lt",macedonian:"mk",malay:"ms",marathi:"mr",maori:"mi",nepali:"ne",norwegian:"no",persian:"fa",polish:"pl",portuguese:"pt",romanian:"ro",russian:"ru",serbian:"sr",slovak:"sk",slovenian:"sl",spanish:"es",swahili:"sw",swedish:"sv",tagalog:"tl",tamil:"ta",thai:"th",turkish:"tr",ukrainian:"uk",urdu:"ur",vietnamese:"vi",welsh:"cy"},l_e=class{static{a(this,"OpenAITranscriptionModel")}constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2"}get provider(){return this.config.provider}async getArgs({audio:e,mediaType:t,providerOptions:r}){let n=[],o=await hn({provider:"openai",providerOptions:r,schema:c_e}),i=new FormData,s=e instanceof Uint8Array?new Blob([e]):new Blob([XB(e)]);i.append("model",this.modelId);let u=LB(t);if(i.append("file",new File([s],"audio",{type:t}),`audio.${u}`),o){let l={include:o.include,language:o.language,prompt:o.prompt,response_format:["gpt-4o-transcribe","gpt-4o-mini-transcribe"].includes(this.modelId)?"json":"verbose_json",temperature:o.temperature,timestamp_granularities:o.timestampGranularities};for(let[d,p]of Object.entries(l))if(p!=null)if(Array.isArray(p))for(let f of p)i.append(`${d}[]`,String(f));else i.append(d,String(p))}return{formData:i,warnings:n}}async doGenerate(e){var t,r,n,o,i,s,u,l;let d=(n=(r=(t=this.config._internal)==null?void 0:t.currentDate)==null?void 0:r.call(t))!=null?n:new Date,{formData:p,warnings:f}=await this.getArgs(e),{value:m,responseHeaders:y,rawValue:g}=await BB({url:this.config.url({path:"/audio/transcriptions",modelId:this.modelId}),headers:Br(this.config.headers(),e.headers),formData:p,failedResponseHandler:ri,successfulResponseHandler:ro(u_e),abortSignal:e.abortSignal,fetch:this.config.fetch}),h=m.language!=null&&m.language in uJ?uJ[m.language]:void 0;return{text:m.text,segments:(u=(s=(o=m.segments)==null?void 0:o.map(v=>({text:v.text,startSecond:v.start,endSecond:v.end})))!=null?s:(i=m.words)==null?void 0:i.map(v=>({text:v.word,startSecond:v.start,endSecond:v.end})))!=null?u:[],language:h,durationInSeconds:(l=m.duration)!=null?l:void 0,warnings:f,response:{timestamp:d,modelId:this.modelId,headers:y,body:g}}}},d_e="2.0.74";function p_e(e={}){var t,r;let n=(t=YB(UB({settingValue:e.baseURL,environmentVariableName:"OPENAI_BASE_URL"})))!=null?t:"https://api.openai.com/v1",o=(r=e.name)!=null?r:"openai",i=a(()=>D1({Authorization:`Bearer ${qB({apiKey:e.apiKey,environmentVariableName:"OPENAI_API_KEY",description:"OpenAI"})}`,"OpenAI-Organization":e.organization,"OpenAI-Project":e.project,...e.headers},`ai-sdk/openai/${d_e}`),"getHeaders"),s=a(h=>new rve(h,{provider:`${o}.chat`,url:a(({path:v})=>`${n}${v}`,"url"),headers:i,fetch:e.fetch}),"createChatModel"),u=a(h=>new lve(h,{provider:`${o}.completion`,url:a(({path:v})=>`${n}${v}`,"url"),headers:i,fetch:e.fetch}),"createCompletionModel"),l=a(h=>new mve(h,{provider:`${o}.embedding`,url:a(({path:v})=>`${n}${v}`,"url"),headers:i,fetch:e.fetch}),"createEmbeddingModel"),d=a(h=>new yve(h,{provider:`${o}.image`,url:a(({path:v})=>`${n}${v}`,"url"),headers:i,fetch:e.fetch}),"createImageModel"),p=a(h=>new l_e(h,{provider:`${o}.transcription`,url:a(({path:v})=>`${n}${v}`,"url"),headers:i,fetch:e.fetch}),"createTranscriptionModel"),f=a(h=>new s_e(h,{provider:`${o}.speech`,url:a(({path:v})=>`${n}${v}`,"url"),headers:i,fetch:e.fetch}),"createSpeechModel"),m=a(h=>{if(new.target)throw new Error("The OpenAI model function cannot be called with the new keyword.");return y(h)},"createLanguageModel"),y=a(h=>new Gve(h,{provider:`${o}.responses`,url:a(({path:v})=>`${n}${v}`,"url"),headers:i,fetch:e.fetch,fileIdPrefixes:["file-"]}),"createResponsesModel"),g=a(function(h){return m(h)},"provider");return g.languageModel=m,g.chat=s,g.completion=u,g.responses=y,g.embedding=l,g.textEmbedding=l,g.textEmbeddingModel=l,g.image=d,g.imageModel=d,g.transcription=p,g.transcriptionModel=p,g.speech=f,g.speechModel=f,g.tools=Lve,g}a(p_e,"createOpenAI");var B1=p_e();var hJ=c.enum(["openai","anthropic","google"]),m_e={openai:{default:a(()=>B1("gpt-4o"),"default"),fast:a(()=>B1("gpt-4o-mini"),"fast"),envKey:"OPENAI_API_KEY"},anthropic:{default:a(()=>T1("claude-3-5-sonnet-latest"),"default"),fast:a(()=>T1("claude-3-5-haiku-latest"),"fast"),envKey:"ANTHROPIC_API_KEY"},google:{default:a(()=>R1("gemini-1.5-pro-latest"),"default"),fast:a(()=>R1("gemini-1.5-flash-latest"),"fast"),envKey:"GOOGLE_GENERATIVE_AI_API_KEY"}};function gJ(e,t="default"){return m_e[e][t]()}a(gJ,"getModel");function yJ(){let e=[];return process.env.OPENAI_API_KEY&&e.push("openai"),process.env.ANTHROPIC_API_KEY&&e.push("anthropic"),process.env.GOOGLE_GENERATIVE_AI_API_KEY&&e.push("google"),e.length>0?e:["google"]}a(yJ,"getAvailableProviders");var f_e=[/ignore\s+(all\s+)?(previous|above|prior)\s+instructions/i,/disregard\s+(all\s+)?(previous|prior)\s+(instructions|context)/i,/you\s+are\s+now/i,/new\s+instructions:/i,/system:\s*/i,/\[INST\]/i,/<\/s>/i,/DROP\s+TABLE/i,/DELETE\s+FROM\s+\w+\s*;/i,/UPDATE\s+\w+\s+SET.*WHERE\s+1\s*=\s*1/i,/;\s*--/];function vJ(e){for(let r of f_e)if(r.test(e))return{isSafe:!1,reason:`Potential injection detected: ${r.source}`};return{isSafe:!0,sanitizedInput:[...e].filter(r=>{let n=r.charCodeAt(0);return n>=32&&n!==127}).join("").trim()}}a(vJ,"checkPromptInjection");ir();var h_e=new Set(["password","password_hash","two_factor_secret","two_factor_enabled","voice_sample_encrypted","voice_biometric_enabled","biometric_enabled","api_token","refresh_token","belvo_link_token","session_token"]),_J={cpf:a(e=>e?`***.***.***-${e.slice(-2)}`:"[n\xE3o informado]","cpf"),account_number:a(e=>e?`****${e.slice(-4)}`:"[n\xE3o informado]","account_number"),phone:a(e=>e?`(**) *****-${e.slice(-4)}`:"[n\xE3o informado]","phone")};function ni(e){if(!e)return{};let t={};for(let[r,n]of Object.entries(e))if(!h_e.has(r.toLowerCase())){if(r.toLowerCase()in _J&&typeof n=="string"){t[r]=_J[r.toLowerCase()](n);continue}if(n&&typeof n=="object"){Array.isArray(n)?t[r]=n.map(o=>typeof o=="object"&&o!==null?ni(o):o):t[r]=ni(n);continue}t[r]=n}return t}a(ni,"filterSensitiveData");Lr();function bJ(e,t){let r=c.object({includeInactive:c.boolean().default(!1).describe("Incluir contas inativas")}),n=c.object({accountId:c.string().uuid().optional().describe("ID da conta (omitir para total)")});return{listAccounts:{description:"Lista todas as contas banc\xE1rias do usu\xE1rio.",parameters:r,execute:a(async o=>{let{includeInactive:i}=o,s=[V(ce.userId,e)];i||s.push(V(ce.isActive,!0));let u=await t.select({id:ce.id,institutionName:ce.institutionName,accountType:ce.accountType,balance:ce.balance,availableBalance:ce.availableBalance,currency:ce.currency,isActive:ce.isActive,isPrimary:ce.isPrimary,lastSync:ce.lastSync}).from(ce).where(Pe(...s)).orderBy(Mt(ce.isPrimary)),l=u.reduce((d,p)=>d+Number(p.balance??0),0);return{accounts:u.map(ni),totalBalance:l,count:u.length}},"execute")},getAccountBalance:{description:"Obt\xE9m saldo atual de uma conta espec\xEDfica ou total de todas as contas.",parameters:n,execute:a(async o=>{let{accountId:i}=o;if(i){let[d]=await t.select({id:ce.id,institutionName:ce.institutionName,balance:ce.balance,availableBalance:ce.availableBalance,currency:ce.currency,lastSync:ce.lastSync}).from(ce).where(Pe(V(ce.id,i),V(ce.userId,e))).limit(1);if(!d)throw new Error("Conta n\xE3o encontrada");return ni(d)}let s=await t.select({balance:ce.balance,availableBalance:ce.availableBalance,currency:ce.currency}).from(ce).where(Pe(V(ce.userId,e),V(ce.isActive,!0))),u=s.reduce((d,p)=>d+Number(p.balance??0),0),l=s.reduce((d,p)=>d+Number(p.availableBalance??0),0);return{totalBalance:u,totalAvailable:l,currency:"BRL",accountCount:s.length}},"execute")}}}a(bJ,"createAccountTools");ir();Lr();function SJ(e,t){let r=c.object({includeSystem:c.boolean().default(!0).describe("Incluir categorias do sistema")}),n=c.object({name:c.string().min(1).max(50).describe("Nome da categoria"),color:c.string().regex(/^#[0-9A-Fa-f]{6}$/).default("#6B7280").describe("Cor em hexadecimal"),icon:c.string().default("circle").describe("Nome do \xEDcone")});return{listCategories:{description:"Lista todas as categorias de transa\xE7\xE3o dispon\xEDveis.",parameters:r,execute:a(async o=>{let{includeSystem:i}=o,s=oa(V(De.userId,e),Rl(De.userId)),u=await t.select({id:De.id,name:De.name,color:De.color,icon:De.icon,isSystem:De.isSystem,parentId:De.parentId}).from(De).where(s);return i||(u=u.filter(l=>!l.isSystem)),{categories:u,count:u.length}},"execute")},createCategory:{description:"Cria uma nova categoria personalizada.",parameters:n,execute:a(async o=>{let{name:i,color:s,icon:u}=o,[l]=await t.insert(De).values({userId:e,name:i,color:s,icon:u,isSystem:!1}).returning();return{success:!0,category:l}},"execute")}}}a(SJ,"createCategoryTools");ir();Lr();function wJ(e,t){let r=c.object({startDate:c.string().datetime().optional().describe("Data inicial no formato ISO (YYYY-MM-DD)"),endDate:c.string().datetime().optional().describe("Data final no formato ISO (YYYY-MM-DD)"),categoryId:c.string().uuid().optional().describe("ID da categoria para filtrar"),accountId:c.string().uuid().optional().describe("ID da conta para filtrar"),minAmount:c.number().optional().describe("Valor m\xEDnimo da transa\xE7\xE3o"),maxAmount:c.number().optional().describe("Valor m\xE1ximo da transa\xE7\xE3o"),searchTerm:c.string().optional().describe("Termo para buscar na descri\xE7\xE3o"),limit:c.number().min(1).max(100).default(20).describe("N\xFAmero m\xE1ximo de resultados"),offset:c.number().min(0).default(0).describe("Pular N resultados para pagina\xE7\xE3o")}),n=c.object({transactionId:c.string().uuid().describe("ID da transa\xE7\xE3o")}),o=c.object({amount:c.number().describe("Valor da transa\xE7\xE3o (positivo para receita, negativo para despesa)"),description:c.string().min(1).max(255).describe("Descri\xE7\xE3o da transa\xE7\xE3o"),categoryId:c.string().uuid().optional().describe("ID da categoria"),accountId:c.string().uuid().optional().describe("ID da conta banc\xE1ria"),transactionDate:c.string().datetime().optional().describe("Data da transa\xE7\xE3o (padr\xE3o: agora)"),merchantName:c.string().optional().describe("Nome do estabelecimento")}),i=c.object({transactionId:c.string().uuid().describe("ID da transa\xE7\xE3o a atualizar"),amount:c.number().optional().describe("Novo valor"),description:c.string().min(1).max(255).optional().describe("Nova descri\xE7\xE3o"),categoryId:c.string().uuid().optional().describe("Nova categoria"),transactionDate:c.string().datetime().optional().describe("Nova data"),merchantName:c.string().optional().describe("Novo estabelecimento")}),s=c.object({transactionId:c.string().uuid().describe("ID da transa\xE7\xE3o")}),u=c.object({startDate:c.string().datetime().describe("Data inicial"),endDate:c.string().datetime().describe("Data final")});return{listTransactions:{description:"Lista transa\xE7\xF5es do usu\xE1rio com filtros opcionais. Use para consultar hist\xF3rico, buscar por per\xEDodo ou categoria.",parameters:r,execute:a(async l=>{let{startDate:d,endDate:p,categoryId:f,accountId:m,minAmount:y,maxAmount:g,searchTerm:h,limit:v,offset:S}=l,b=[V(oe.userId,e)];d&&b.push(gr(oe.transactionDate,new Date(d))),p&&b.push(or(oe.transactionDate,new Date(p))),f&&b.push(V(oe.categoryId,f)),m&&b.push(V(oe.accountId,m)),y&&b.push(gr(oe.amount,String(y))),g&&b.push(or(oe.amount,String(g))),h&&b.push(qr(oe.description,`%${h}%`));let w=await t.select({id:oe.id,amount:oe.amount,description:oe.description,merchantName:oe.merchantName,transactionDate:oe.transactionDate,status:oe.status,createdAt:oe.createdAt}).from(oe).where(Pe(...b)).orderBy(Mt(oe.transactionDate)).limit(v).offset(S);return{transactions:w.map(ni),total:w.length,hasMore:w.length===v}},"execute")},getTransaction:{description:"Obt\xE9m detalhes de uma transa\xE7\xE3o espec\xEDfica pelo ID.",parameters:n,execute:a(async l=>{let{transactionId:d}=l,[p]=await t.select().from(oe).where(Pe(V(oe.id,d),V(oe.userId,e))).limit(1);if(!p)throw new Error("Transa\xE7\xE3o n\xE3o encontrada");return ni(p)},"execute")},createTransaction:{description:"Cria uma nova transa\xE7\xE3o manual para o usu\xE1rio.",parameters:o,execute:a(async l=>{let{amount:d,description:p,categoryId:f,accountId:m,transactionDate:y,merchantName:g}=l,[h]=await t.insert(oe).values({userId:e,amount:String(d),description:p,categoryId:f,accountId:m,transactionDate:y?new Date(y):new Date,merchantName:g,transactionType:d>=0?"credit":"debit",status:"posted",isManualEntry:!0}).returning();return{success:!0,transaction:ni(h)}},"execute")},updateTransaction:{description:"Atualiza uma transa\xE7\xE3o existente do usu\xE1rio.",parameters:i,execute:a(async l=>{let{transactionId:d,...p}=l,f={updatedAt:new Date};p.amount!==void 0&&(f.amount=String(p.amount)),p.description!==void 0&&(f.description=p.description),p.categoryId!==void 0&&(f.categoryId=p.categoryId),p.transactionDate!==void 0&&(f.transactionDate=new Date(p.transactionDate)),p.merchantName!==void 0&&(f.merchantName=p.merchantName);let[m]=await t.update(oe).set(f).where(Pe(V(oe.id,d),V(oe.userId,e))).returning();if(!m)throw new Error("Transa\xE7\xE3o n\xE3o encontrada");return{success:!0,transaction:ni(m)}},"execute")},deleteTransaction:{description:"Deleta uma transa\xE7\xE3o. Use com cuidado, esta a\xE7\xE3o \xE9 irrevers\xEDvel.",parameters:s,execute:a(async l=>{let{transactionId:d}=l,[p]=await t.delete(oe).where(Pe(V(oe.id,d),V(oe.userId,e))).returning({id:oe.id});if(!p)throw new Error("Transa\xE7\xE3o n\xE3o encontrada");return{success:!0,message:"Transa\xE7\xE3o deletada com sucesso."}},"execute")},getSpendingSummary:{description:"Obt\xE9m resumo de gastos por categoria em um per\xEDodo.",parameters:u,execute:a(async l=>{let{startDate:d,endDate:p}=l,f=await t.select({amount:oe.amount,categoryId:oe.categoryId}).from(oe).where(Pe(V(oe.userId,e),or(oe.amount,"0"),gr(oe.transactionDate,new Date(d)),or(oe.transactionDate,new Date(p)))),m=[...new Set(f.map(b=>b.categoryId).filter(Boolean))],y=m.length?await t.select({id:De.id,name:De.name,color:De.color}).from(De).where(ss(De.id,m)):[],g=new Map(y.map(b=>[b.id,b])),h=f.reduce((b,w)=>{let k=w.categoryId??"uncategorized",$=g.get(w.categoryId??"");return b[k]||(b[k]={categoryId:k,categoryName:$?.name??"Sem categoria",color:$?.color??"#6B7280",total:0,count:0}),b[k].total+=Math.abs(Number(w.amount)),b[k].count+=1,b},{}),v=Object.values(h).sort((b,w)=>w.total-b.total),S=v.reduce((b,w)=>b+w.total,0);return{period:{startDate:d,endDate:p},grandTotal:S,categories:v}},"execute")}}}a(wJ,"createTransactionTools");function xJ(e,t){return{...wJ(e,t),...bJ(e,t),...SJ(e,t)}}a(xJ,"createAllTools");function g_e(e){let t=[],n=[/\b\d{3}\.\d{3}\.\d{3}-\d{2}\b/,/\b\d{2}\.\d{3}\.\d{3}\/\d{4}-\d{2}\b/,/\b\d{4}[- ]?\d{4}[- ]?\d{4}[- ]?\d{4}\b/].some(i=>i.test(e));n&&t.push("Sensitive data detected in response");let o=/[]/i.test(e)||e.includes("R$");return{isValid:t.length===0,language:o?"pt-BR":"en",contentType:"text",sensitiveDataDetected:n,complianceIssues:t}}a(g_e,"validateBrazilianPortugueseContent");var Mp=new Oe,y_e=c.object({messages:c.array(c.object({role:c.enum(["user","assistant","system","tool"]),content:c.string(),sensitiveDataRedacted:c.boolean().optional().default(!1),timestamp:c.string().datetime().optional(),sessionId:c.string().uuid().optional(),parts:c.array(c.object({type:c.literal("text"),text:c.string()})).optional()})).min(1,"At least one message is required").transform(e=>e.filter(t=>t.role!=="tool").map(t=>({...t,parts:t.parts||[{type:"text",text:t.content}]}))),provider:hJ.optional().default("google"),tier:c.enum(["default","fast"]).optional().default("default")});Mp.post("/chat",fe,Ve("json",y_e),async e=>{let t=Date.now(),{messages:r,provider:n,tier:o}=e.req.valid("json"),i=e.get("auth");if(!i?.user)return e.json({error:"Unauthorized"},401);let s=i.user.id,u=crypto.randomUUID(),l=r[r.length-1],d=l?.role==="user"?l.content:null;if(d&&typeof d=="string"){let p=vJ(d);if(!p.isSafe)return await Gg({userId:s,sessionId:u,provider:n,model:`${n}/${o}`,actionType:"chat",inputSummary:d.slice(0,100),outputSummary:"Blocked: injection detected",latencyMs:Date.now()-t,outcome:"blocked",errorMessage:p.reason}),e.json({error:"Invalid input detected"},400)}try{let p=gJ(n,o),f=xJ(s,i.db);return GF({model:p,system:e6,messages:u1(r),tools:f,maxSteps:5,onFinish:a(async({usage:y,finishReason:g,toolCalls:h})=>{let v=r,S=v[v.length-1],b=S?.role==="assistant"?S.content:g,w=typeof b=="string"?g_e(b):{isValid:!0,language:"pt-BR",contentType:"text",sensitiveDataDetected:!1,complianceIssues:[]},k=w.sensitiveDataDetected?" [LGPD Warning: Sensitive data detected]":w.language==="pt-BR"?" [PT-BR]":" [EN]";await Gg({userId:s,sessionId:u,provider:n,model:`${n}/${o}`,actionType:h?.length?"tool_call":"chat",toolName:h?.map($=>$.toolName).join(", "),inputSummary:typeof d=="string"?d.slice(0,100):"Multi-modal/Tool input",outputSummary:g+k,tokensUsed:y.totalTokens,latencyMs:Date.now()-t,outcome:w.isValid?"success":"error",errorMessage:w.complianceIssues.length>0?`Compliance issues: ${w.complianceIssues.join("; ")}`:void 0})},"onFinish")}).toDataStreamResponse()}catch(p){return await Gg({userId:s,sessionId:u,provider:n,model:`${n}/${o}`,actionType:"chat",inputSummary:typeof d=="string"?d.slice(0,100):"",outputSummary:"Error",latencyMs:Date.now()-t,outcome:"error",errorMessage:p instanceof Error?p.message:"Unknown error"}),e.json({error:"AI service error"},500)}});Mp.get("/providers",fe,e=>e.json({available:yJ(),default:"google"}));import{randomUUID as E_e}from"node:crypto";ir();Lr();import{randomUUID as b_e}from"node:crypto";var TJ={BRL:{symbol:"R$",decimalSeparator:",",thousandsSeparator:".",maxAmount:99999999999e-2,minAmount:.01}},ay=new Set(["001","033","104","237","341","260","077","021","025","036","037","039","041","047","062","063","064","065","066","069","070","074","075","078","079","083","084","085","089","102","105","107","108","109","110","111","112","114","117","118","119","120","121","122","124","125","126","127","128","129","130","131","132","133","134","136","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320"]),v_e={CNPJ:{format:"XX.XXX.XXX/XXXX-XX",regex:/^\d{14}$/},CPF:{format:"XXX.XXX.XXX-XX",regex:/^\d{11}$/},EMAIL:{format:"email@example.com",regex:/^[^\s@]+@[^\s@]+\.[^\s@]+$/},PHONE:{format:"+55 (XX) XXXXX-XXXX",regex:/^\+?\d{10,15}$/},RANDOM_KEY:{format:"XXXX-XXXX-XXXX-XXXX-XXXX",regex:/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i}};var __e={SUSPICIOUS_DESCRIPTIONS:["test","teste","debug","xxx","fake","fraud","hack","stolen","lavagem","dinheiro negro"],HIGH_VALUE_TRANSACTION:5e4,FREQUENT_SMALL_TRANSACTIONS:{count:20,amount:1e3,window:1440*60*1e3},RAPID_SUCCESSION:{count:5,window:300*1e3}},utt={amount:c.number().min(TJ.BRL.minAmount,"Amount must be at least R$ 0,01").max(TJ.BRL.maxAmount,"Amount exceeds maximum allowed").refine(e=>Number.isFinite(e)&&Number(e.toFixed(2))===e,"Amount must have at most 2 decimal places"),bankAccount:c.object({account:c.string().regex(/^\d{1,12}$/,"Account must be 1-12 digits").refine(e=>!/^0+$/.test(e),"Account cannot be all zeros"),accountDigit:c.string().regex(/^\d$/,"Account digit must be a single digit"),agency:c.string().regex(/^\d{1,6}$/,"Agency must be 1-6 digits").refine(e=>!/^0+$/.test(e),"Agency cannot be all zeros"),bankCode:c.string().refine(e=>ay.has(e),"Invalid Brazilian bank code")}),financialInstitution:c.object({code:c.string().refine(e=>ay.has(e),"Invalid bank code"),name:c.string().min(2,"Institution name must be at least 2 characters").max(100,"Institution name must be less than 100 characters")}),pixKey:c.object({key:c.string().min(1,"PIX key cannot be empty"),type:c.enum(["cpf","cnpj","email","phone","random"])}).refine(e=>v_e[e.type.toUpperCase()].regex.test(e.key.replace(/\D/g,"")),"Invalid PIX key format for the specified type"),transaction:c.object({account_id:c.string().uuid("Conta banc\xE1ria inv\xE1lida"),amount:c.number(),category_id:c.string().uuid().optional(),description:c.string().min(3,"Description must be at least 3 characters").max(200,"Description must be less than 200 characters").refine(e=>!__e.SUSPICIOUS_DESCRIPTIONS.some(t=>e.toLowerCase().includes(t)),"Description contains suspicious content"),is_manual_entry:c.boolean().default(!0),merchant_name:c.string().max(120).optional(),notes:c.string().max(500).optional(),payment_method:c.enum(["cash","debit_card","credit_card","pix","boleto","transfer"]).optional(),status:c.enum(["pending","posted","failed","cancelled"]).default("posted"),tags:c.array(c.string()).max(10).optional(),transaction_date:c.string().refine(e=>{let t=new Date(e);return!Number.isNaN(t.getTime())&&t>=new Date("2020-01-01")&&t<=new Date(Date.now()+1440*60*1e3)},"Invalid date. Must be a valid date between 2020-01-01 and tomorrow"),transaction_type:c.enum(["debit","credit","transfer","pix","boleto"])})};function EJ(e){let t=e.replace(/\D/g,"");if(t.length!==11||/^(\d)\1{10}$/.test(t))return!1;let r=0,n;for(let o=1;o<=9;o++)r+=Number.parseInt(t.substring(o-1,o),10)*(11-o);if(n=r*10%11,(n===10||n===11)&&(n=0),n!==Number.parseInt(t.substring(9,10),10))return!1;r=0;for(let o=1;o<=10;o++)r+=Number.parseInt(t.substring(o-1,o),10)*(12-o);return n=r*10%11,(n===10||n===11)&&(n=0),n===Number.parseInt(t.substring(10,11),10)}a(EJ,"validateCPF");var kJ=["CHECKING","SAVINGS","INVESTMENT","SALARY","DIGITAL_WALLET"],S_e=["pending","manual","success","error"],w_e=c.object({account_holder_name:c.string().optional(),account_mask:c.string().min(7,"M\xE1scara da conta \xE9 obrigat\xF3ria."),account_number:c.string().optional(),account_type:c.enum(kJ),balance:c.number(),belvo_account_id:c.string().optional(),currency:c.string().default("BRL"),institution_id:c.string().min(1,"ID da institui\xE7\xE3o \xE9 obrigat\xF3rio."),institution_name:c.string().min(1,"Nome da institui\xE7\xE3o \xE9 obrigat\xF3rio."),is_active:c.boolean().optional(),is_primary:c.boolean().optional(),user_id:c.string().min(1,"Usu\xE1rio \xE9 obrigat\xF3rio.")}),x_e=c.object({account_holder_name:c.string().optional(),account_mask:c.string().optional(),account_number:c.string().optional(),account_type:c.enum(kJ).optional(),balance:c.number().optional(),belvo_account_id:c.string().optional(),currency:c.string().optional(),institution_id:c.string().optional(),institution_name:c.string().optional(),is_active:c.boolean().optional(),is_primary:c.boolean().optional(),sync_error_message:c.string().optional(),sync_status:c.enum(S_e).optional()}),T_e=new Set(["user_id","institution_name","institution_id","account_type","account_mask","account_holder_name","account_number","belvo_account_id","balance","currency","is_primary","is_active","sync_status","sync_error_message"]),PJ="manual_",IJ=a(e=>{if(!e)return!1;let t=e.trim();return ay.has(t)?!0:/^[0-9a-f-]{8,}$/i.test(t)},"isValidInstitutionId"),OJ=a(e=>!e||e.toUpperCase()==="BRL","isValidCurrency"),AJ=a(e=>!e||e.startsWith(PJ)?!0:/^[a-z0-9_-]{6,}$/i.test(e),"isValidBelvoId"),qp=a(e=>e?/^\*{4}\s\d{4}$/.test(e):!1,"validateAccountMask"),Up=a(e=>/^\*{4}\d{4}$/.test(e)?`**** ${e.slice(-4)}`:e,"normalizeAccountMask"),CJ=a(e=>e.map(t=>({field:t.path.join(".")||"root",message:t.message})),"collectZodErrors"),J1=a(e=>{let t={};return Object.entries(e).forEach(([r,n])=>{if(T_e.has(r)){if(typeof n=="string"){let o=n.trim();if(o==="")return;switch(r){case"currency":t.currency=o.toUpperCase();break;case"account_number":t.account_number=o.replace(/\s+/g,"");break;case"account_mask":t.account_mask=Up(o);break;default:t[r]=o}return}if(typeof n=="number"){t[r]=Number(n);return}t[r]=n}}),t},"sanitizeBankAccountData"),RJ=a(()=>`${PJ}${b_e()}`,"generateManualAccountId"),$J=a(e=>{let t=[],r=w_e.safeParse(e);if(!r.success)return t.push(...CJ(r.error.issues)),{errors:t,valid:!1};let n=r.data;return qp(n.account_mask)||t.push({field:"account_mask",message:"A m\xE1scara deve seguir o formato **** 1234."}),IJ(n.institution_id)||t.push({field:"institution_id",message:"Institui\xE7\xE3o banc\xE1ria inv\xE1lida."}),OJ(n.currency)||t.push({field:"currency",message:"Apenas contas em BRL s\xE3o suportadas no momento."}),AJ(n.belvo_account_id)||t.push({field:"belvo_account_id",message:"Identificador da conta Belvo inv\xE1lido."}),Number.isNaN(n.balance)&&t.push({field:"balance",message:"Saldo precisa ser um n\xFAmero v\xE1lido."}),{errors:t,valid:t.length===0}},"validateBankAccountForInsert"),NJ=a(e=>{let t=[],r=x_e.safeParse(e);if(!r.success)return t.push(...CJ(r.error.issues)),{errors:t,valid:!1};let n=r.data;return n.account_mask&&!qp(n.account_mask)&&t.push({field:"account_mask",message:"A m\xE1scara deve seguir o formato **** 1234."}),n.institution_id&&!IJ(n.institution_id)&&t.push({field:"institution_id",message:"Institui\xE7\xE3o banc\xE1ria inv\xE1lida."}),n.currency&&!OJ(n.currency)&&t.push({field:"currency",message:"Apenas contas em BRL s\xE3o suportadas."}),n.belvo_account_id&&!AJ(n.belvo_account_id)&&t.push({field:"belvo_account_id",message:"Identificador da conta Belvo inv\xE1lido."}),n.balance!==void 0&&Number.isNaN(n.balance)&&t.push({field:"balance",message:"Saldo precisa ser um n\xFAmero v\xE1lido."}),{errors:t,valid:t.length===0}},"validateBankAccountForUpdate");function Fi(e){let t=e instanceof Error?e.message:String(e),r=e instanceof Error?e.stack:void 0;return t.includes("connection")||t.includes("ECONNREFUSED")||t.includes("timeout")||t.includes("ETIMEDOUT")||t.includes("ENOTFOUND")||t.includes("connection refused")||t.includes("Connection pool")||t.includes("DATABASE_URL")?{code:"DATABASE_CONNECTION_ERROR",isRetryable:!0,message:"Database connection failed. Please try again later.",statusCode:503}:t.includes("policy")||t.includes("RLS")||t.includes("row-level security")||t.includes("permission denied")||t.includes("insufficient privileges")?{code:"PERMISSION_DENIED",isRetryable:!1,message:"Permission denied. You do not have access to this resource.",statusCode:403}:t.includes("foreign key")||t.includes("foreign_key")||t.includes("user_id")||t.includes("references")?t.includes("user_id")?{code:"USER_NOT_FOUND",isRetryable:!1,message:"User account not found. Please contact support.",statusCode:404}:{code:"INVALID_REFERENCE",isRetryable:!1,message:"Invalid reference. One or more related records do not exist.",statusCode:400}:t.includes("unique constraint")||t.includes("duplicate key")||t.includes("already exists")||t.includes("UNIQUE constraint")?{code:"DUPLICATE_ENTRY",isRetryable:!1,message:"A record with this information already exists.",statusCode:409}:t.includes("not null")||t.includes("NULL constraint")||t.includes("required")?{code:"MISSING_REQUIRED_FIELD",isRetryable:!1,message:"Required field is missing.",statusCode:400}:t.includes("check constraint")||t.includes("CHECK constraint")||t.includes("violates check")?{code:"VALIDATION_ERROR",isRetryable:!1,message:"Data validation failed. Please check your input.",statusCode:400}:t.includes("syntax error")||t.includes("SQL syntax")||t.includes("invalid input syntax")?{code:"QUERY_ERROR",isRetryable:!1,message:"Query error. Please contact support if this persists.",statusCode:400}:{code:"DATABASE_ERROR",isRetryable:!0,message:"Database error occurred. Please try again later.",statusCode:500}}a(Fi,"categorizeDatabaseError");var k_e=c.object({institutionName:c.string().min(1,"Nome da institui\xE7\xE3o \xE9 obrigat\xF3rio"),accountType:c.enum(["checking","savings","investment","cash"],{message:"Tipo de conta \xE9 obrigat\xF3rio"}),balance:c.number().default(0),currency:c.string().default("BRL"),isPrimary:c.boolean().default(!1),isActive:c.boolean().default(!0),accountMask:c.string().optional(),institutionId:c.string().optional()}),P_e=c.object({institutionName:c.string().optional(),accountType:c.enum(["checking","savings","investment","cash"]).optional(),balance:c.number().optional(),currency:c.string().optional(),isPrimary:c.boolean().optional(),isActive:c.boolean().optional(),accountMask:c.string().optional()}),I_e=c.object({balance:c.number()}),O_e=c.object({days:c.coerce.number().int().positive().default(30)}),A_e={checking:"CHECKING",savings:"SAVINGS",investment:"INVESTMENT",cash:"DIGITAL_WALLET"},H1=a(e=>A_e[e.toLowerCase()]||e.toUpperCase(),"normalizeAccountType"),C_e=a(()=>`**** ${Math.floor(1e3+Math.random()*9e3)}`,"generateAccountMask"),Bi=new Oe;Bi.get("/",fe,xe({windowMs:60*1e3,max:30,message:"Too many requests, please try again later"}),async e=>{let{user:t,db:r}=e.get("auth"),n=e.get("requestId");try{let o=await r.select().from(ce).where(V(ce.userId,t.id)).orderBy(Mt(ce.createdAt));return e.json({data:o||[],meta:{requestId:n,retrievedAt:new Date().toISOString()}})}catch(o){let i=Fi(o);return N.error("Failed to get bank accounts",{error:o instanceof Error?o.message:"Unknown error",errorCode:i.code,requestId:n,stack:o instanceof Error?o.stack:void 0,userId:t.id}),e.json({code:i.code,error:i.message},i.statusCode)}});Bi.get("/total-balance",fe,xe({windowMs:60*1e3,max:20,message:"Too many requests, please try again later"}),async e=>{let{user:t,db:r}=e.get("auth"),n=e.get("requestId");try{let o=await r.select({balance:ce.balance,currency:ce.currency}).from(ce).where(Pe(V(ce.userId,t.id),V(ce.isActive,!0))),i={};return o&&o.forEach(s=>{let u=s.currency||"BRL";i[u]=(i[u]||0)+Number(s.balance||0)}),e.json({data:i,meta:{requestId:n,retrievedAt:new Date().toISOString()}})}catch(o){let i=Fi(o);return N.error("Failed to get total balance",{error:o instanceof Error?o.message:"Unknown error",errorCode:i.code,requestId:n,stack:o instanceof Error?o.stack:void 0,userId:t.id}),e.json({code:i.code,error:i.message},i.statusCode)}});Bi.get("/:id",fe,xe({windowMs:60*1e3,max:30,message:"Too many requests, please try again later"}),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.param("id"),o=e.get("requestId");try{let[i]=await r.select().from(ce).where(Pe(V(ce.id,n),V(ce.userId,t.id))).limit(1);return i?e.json({data:i,meta:{requestId:o,retrievedAt:new Date().toISOString()}}):e.json({code:"NOT_FOUND",error:"Conta banc\xE1ria n\xE3o encontrada"},404)}catch(i){return N.error("Failed to get bank account",{accountId:n,error:i instanceof Error?i.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"BANK_ACCOUNT_ERROR",error:"Failed to retrieve bank account"},500)}});Bi.get("/:id/balance-history",fe,xe({windowMs:60*1e3,max:20,message:"Too many requests, please try again later"}),Ve("query",O_e),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.param("id"),{days:o}=e.req.valid("query"),i=e.get("requestId");try{if(!n||n==="all")return e.json({data:[],meta:{requestId:i,retrievedAt:new Date().toISOString()}});let[s]=await r.select({balance:ce.balance}).from(ce).where(Pe(V(ce.id,n),V(ce.userId,t.id))).limit(1);if(!s)return e.json({data:[],meta:{requestId:i,retrievedAt:new Date().toISOString()}});let u=Number(s.balance||0),l=[];for(let d=0;d<o;d++){let p=new Date;p.setDate(p.getDate()-d),l.push({date:p.toISOString(),balance:u})}return e.json({data:l.reverse(),meta:{requestId:i,retrievedAt:new Date().toISOString()}})}catch(s){return N.error("Failed to get balance history",{accountId:n,error:s instanceof Error?s.message:"Unknown error",requestId:i,userId:t.id}),e.json({code:"BALANCE_HISTORY_ERROR",error:"Failed to retrieve balance history"},500)}});Bi.post("/",fe,xe({windowMs:60*1e3,max:10,message:"Too many account creation attempts, please try again later"}),Ve("json",k_e),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.valid("json"),o=e.get("requestId");try{let[i]=await r.select({id:J.id}).from(J).where(V(J.id,t.id)).limit(1);if(!i)try{await r.insert(J).values({id:t.id,email:t.email||"",fullName:t.fullName||null,organizationId:"default"}),N.info("User created in database during bank account creation",{userId:t.id,requestId:o})}catch(h){let v=h instanceof Error?h.message:"Unknown error";if(v.includes("duplicate key")||v.includes("unique constraint"))N.debug("User was created by concurrent request",{userId:t.id,requestId:o});else return N.error("Failed to create user in database",{error:v,requestId:o,stack:h instanceof Error?h.stack:void 0,userId:t.id}),e.json({code:"USER_CREATE_ERROR",error:"Failed to verify user account. Please try again."},500)}let s=H1(n.accountType),u=n.accountMask?Up(n.accountMask):C_e();if(!qp(u))return e.json({code:"BAD_REQUEST",error:"A m\xE1scara da conta deve seguir o formato **** 1234"},400);let l=n.institutionId||E_e(),d=RJ(),p="manual",f=J1({user_id:t.id,institution_name:n.institutionName,institution_id:l,account_type:s,account_mask:u,balance:n.balance,currency:n.currency.toUpperCase(),is_primary:n.isPrimary,is_active:n.isActive,belvo_account_id:d,sync_status:p}),m=$J(f);if(!m.valid){let h=m.errors.length>0?m.errors.map(v=>v.message).join(", "):"Dados inv\xE1lidos";return e.json({code:"BAD_REQUEST",error:h},400)}let[y]=await r.select({id:ce.id}).from(ce).where(Pe(V(ce.userId,t.id),V(ce.institutionId,l),V(ce.accountMask,u))).limit(1);if(y)return e.json({code:"CONFLICT",error:"J\xE1 existe uma conta com a mesma institui\xE7\xE3o e final"},409);let[g]=await r.insert(ce).values({userId:t.id,institutionName:n.institutionName,institutionId:l,accountType:s,accountMask:u,balance:String(n.balance),currency:n.currency.toUpperCase(),isPrimary:n.isPrimary,isActive:n.isActive,belvoAccountId:d,syncStatus:p}).returning();return N.info("Bank account created",{accountId:g.id,institutionName:n.institutionName,requestId:o,userId:t.id}),e.json({data:g,meta:{createdAt:new Date().toISOString(),requestId:o}},201)}catch(i){let s=Fi(i),u=i instanceof Error?i.message:"Unknown error",l=i instanceof Error?i.stack:void 0;return N.error("Failed to create bank account",{error:u,errorCode:s.code,errorStack:l,institutionName:n.institutionName,requestId:o,userId:t.id}),e.json({code:s.code,error:s.message,details:import.meta.env.DEV?u:void 0},s.statusCode)}});Bi.put("/:id",fe,xe({windowMs:60*1e3,max:30,message:"Too many update attempts, please try again later"}),Ve("json",P_e),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.param("id"),o=e.req.valid("json"),i=e.get("requestId");try{let[s]=await r.select({id:ce.id}).from(ce).where(Pe(V(ce.id,n),V(ce.userId,t.id))).limit(1);if(!s)return e.json({code:"NOT_FOUND",error:"Conta banc\xE1ria n\xE3o encontrada"},404);let u={};if(o.institutionName!==void 0&&(u.institutionName=o.institutionName),o.accountType!==void 0&&(u.accountType=H1(o.accountType)),o.balance!==void 0&&(u.balance=String(o.balance)),o.currency!==void 0&&(u.currency=o.currency.toUpperCase()),o.isPrimary!==void 0&&(u.isPrimary=o.isPrimary),o.isActive!==void 0&&(u.isActive=o.isActive),o.accountMask!==void 0){let f=Up(o.accountMask);if(!qp(f))return e.json({code:"BAD_REQUEST",error:"A m\xE1scara da conta deve seguir o formato **** 1234"},400);u.accountMask=f}let l=J1({institution_name:o.institutionName,account_type:o.accountType?H1(o.accountType):void 0,balance:o.balance,currency:o.currency?.toUpperCase(),is_primary:o.isPrimary,is_active:o.isActive,account_mask:o.accountMask?Up(o.accountMask):void 0}),d=NJ(l);if(!d.valid){let f=d.errors.length>0?d.errors.map(m=>m.message).join(", "):"Dados inv\xE1lidos";return e.json({code:"BAD_REQUEST",error:f},400)}let[p]=await r.update(ce).set(u).where(Pe(V(ce.id,n),V(ce.userId,t.id))).returning();return e.json({data:p,meta:{requestId:i,updatedAt:new Date().toISOString()}})}catch(s){return N.error("Failed to update bank account",{accountId:n,error:s instanceof Error?s.message:"Unknown error",requestId:i,userId:t.id}),e.json({code:"BANK_ACCOUNT_UPDATE_ERROR",error:"Failed to update bank account"},500)}});Bi.patch("/:id/balance",fe,xe({windowMs:60*1e3,max:30,message:"Too many balance update attempts, please try again later"}),Ve("json",I_e),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.param("id"),{balance:o}=e.req.valid("json"),i=e.get("requestId");try{let[s]=await r.update(ce).set({balance:String(o)}).where(Pe(V(ce.id,n),V(ce.userId,t.id))).returning();return s?e.json({data:s,meta:{requestId:i,updatedAt:new Date().toISOString()}}):e.json({code:"NOT_FOUND",error:"Conta banc\xE1ria n\xE3o encontrada"},404)}catch(s){return N.error("Failed to update balance",{accountId:n,error:s instanceof Error?s.message:"Unknown error",requestId:i,userId:t.id}),e.json({code:"BALANCE_UPDATE_ERROR",error:"Failed to update balance"},500)}});Bi.delete("/:id",fe,xe({windowMs:60*1e3,max:20,message:"Too many deletion attempts, please try again later"}),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.param("id"),o=e.get("requestId");try{return await r.delete(ce).where(Pe(V(ce.id,n),V(ce.userId,t.id))),N.info("Bank account deleted",{accountId:n,requestId:o,userId:t.id}),e.json({data:{success:!0},meta:{deletedAt:new Date().toISOString(),requestId:o}})}catch(i){return N.error("Failed to delete bank account",{accountId:n,error:i instanceof Error?i.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"BANK_ACCOUNT_DELETE_ERROR",error:"Failed to delete bank account"},500)}});var V1=Bi;var sy=new Oe,R_e=c.object({accountType:c.string(),balance:c.number(),bankName:c.string(),currency:c.string(),id:c.string(),lastSync:c.string().datetime().optional()}),ztt=c.object({accounts:c.array(R_e),currency:c.string(),total:c.number()});sy.get("/accounts",fe,xe({windowMs:60*1e3,max:20,message:"Too many requests, please try again later"}),async e=>{let{user:t}=e.get("auth"),r=e.get("requestId");try{N.info("Bank accounts accessed",{requestId:r,userId:t.id});let n={accounts:[],currency:"BRL",total:0};return e.json({data:n,meta:{note:"Placeholder implementation - Belvo integration pending",requestId:r,retrievedAt:new Date().toISOString()}})}catch(n){return N.error("Failed to get bank accounts",{error:n instanceof Error?n.message:"Unknown error",requestId:r,userId:t.id}),e.json({code:"BANK_ACCOUNTS_ERROR",error:"Failed to retrieve bank accounts"},500)}});sy.post("/accounts/link",fe,xe({windowMs:60*1e3,max:5,message:"Too many link attempts, please try again later"}),Ve("json",c.object({bankCode:c.string(),credentials:c.record(c.string(),c.any())})),async e=>{let{user:t}=e.get("auth"),r=e.req.valid("json"),n=e.get("requestId");try{return N.info("Bank account link attempt",{bankCode:r.bankCode,requestId:n,userId:t.id}),e.json({code:"NOT_IMPLEMENTED",details:{bankCode:r.bankCode,note:"Belvo integration is pending implementation"},error:"Bank account linking not yet implemented"},501)}catch(o){return N.error("Failed to link bank account",{bankCode:r.bankCode,error:o instanceof Error?o.message:"Unknown error",requestId:n,userId:t.id}),e.json({code:"BANK_LINK_ERROR",error:"Failed to link bank account"},500)}});sy.post("/accounts/sync",fe,xe({windowMs:60*1e3,max:10,message:"Too many sync requests, please try again later"}),async e=>{let{user:t}=e.get("auth"),r=e.get("requestId");try{return N.info("Bank accounts sync attempt",{requestId:r,userId:t.id}),e.json({code:"NOT_IMPLEMENTED",details:{note:"Belvo integration is pending implementation"},error:"Bank account synchronization not yet implemented"},501)}catch(n){return N.error("Failed to sync bank accounts",{error:n instanceof Error?n.message:"Unknown error",requestId:r,userId:t.id}),e.json({code:"BANK_SYNC_ERROR",error:"Failed to sync bank accounts"},500)}});var Z1=sy;ir();import*as Fc from"crypto";import{EventEmitter as s3}from"events";import*as cy from"crypto";var Ma=class{static{a(this,"CryptoProvider")}computeHMACSignature(t,r){throw new Error("computeHMACSignature not implemented.")}computeHMACSignatureAsync(t,r){throw new Error("computeHMACSignatureAsync not implemented.")}computeSHA256Async(t){throw new Error("computeSHA256 not implemented.")}},Ac=class extends Error{static{a(this,"CryptoProviderOnlySupportsAsyncError")}};var uy=class extends Ma{static{a(this,"NodeCryptoProvider")}computeHMACSignature(t,r){return cy.createHmac("sha256",r).update(t,"utf8").digest("hex")}async computeHMACSignatureAsync(t,r){return await this.computeHMACSignature(t,r)}async computeSHA256Async(t){return new Uint8Array(await cy.createHash("sha256").update(t).digest())}};import*as G1 from"http";import*as W1 from"https";var Jr=class e{static{a(this,"HttpClient")}getClientName(){throw new Error("getClientName not implemented.")}makeRequest(t,r,n,o,i,s,u,l){throw new Error("makeRequest not implemented.")}static makeTimeoutError(){let t=new TypeError(e.TIMEOUT_ERROR_CODE);return t.code=e.TIMEOUT_ERROR_CODE,t}};Jr.CONNECTION_CLOSED_ERROR_CODES=["ECONNRESET","EPIPE"];Jr.TIMEOUT_ERROR_CODE="ETIMEDOUT";var qa=class{static{a(this,"HttpClientResponse")}constructor(t,r){this._statusCode=t,this._headers=r}getStatusCode(){return this._statusCode}getHeaders(){return this._headers}getRawResponse(){throw new Error("getRawResponse not implemented.")}toStream(t){throw new Error("toStream not implemented.")}toJSON(){throw new Error("toJSON not implemented.")}};var zJ=G1.default||G1,jJ=W1.default||W1,$_e=new zJ.Agent({keepAlive:!0}),N_e=new jJ.Agent({keepAlive:!0}),Lp=class extends Jr{static{a(this,"NodeHttpClient")}constructor(t){super(),this._agent=t}getClientName(){return"node"}makeRequest(t,r,n,o,i,s,u,l){let d=u==="http",p=this._agent;return p||(p=d?$_e:N_e),new Promise((m,y)=>{let g=(d?zJ:jJ).request({host:t,port:r,path:n,method:o,agent:p,headers:i,ciphers:"DEFAULT:!aNULL:!eNULL:!LOW:!EXPORT:!SSLv2:!MD5"});g.setTimeout(l,()=>{g.destroy(Jr.makeTimeoutError())}),g.on("response",h=>{m(new K1(h))}),g.on("error",h=>{y(h)}),g.once("socket",h=>{h.connecting?h.once(d?"connect":"secureConnect",()=>{g.write(s),g.end()}):(g.write(s),g.end())})})}},K1=class extends qa{static{a(this,"NodeHttpClientResponse")}constructor(t){super(t.statusCode,t.headers||{}),this._res=t}getRawResponse(){return this._res}toStream(t){return this._res.once("end",()=>t()),this._res}toJSON(){return new Promise((t,r)=>{let n="";this._res.setEncoding("utf8"),this._res.on("data",o=>{n+=o}),this._res.once("end",()=>{try{t(JSON.parse(n))}catch(o){r(o)}})})}};var GH=ou(KH(),1);var kR=["apiKey","idempotencyKey","stripeAccount","apiVersion","maxNetworkRetries","timeout","host","authenticator","stripeContext","additionalHeaders","streaming"];function WH(e){return e&&typeof e=="object"&&kR.some(t=>Object.prototype.hasOwnProperty.call(e,t))}a(WH,"isOptionsHash");function Fa(e,t){return GH.stringify(e,{serializeDate:a(r=>Math.floor(r.getTime()/1e3).toString(),"serializeDate"),arrayFormat:"indices"}).replace(/%5B/g,"[").replace(/%5D/g,"]")}a(Fa,"queryStringifyRequestData");var Ey=(()=>{let e={"\n":"\\n",'"':'\\"',"\u2028":"\\u2028","\u2029":"\\u2029"};return t=>{let r=t.replace(/["\n\r\u2028\u2029]/g,n=>e[n]);return n=>r.replace(/\{([\s\S]+?)\}/g,(o,i)=>{let s=n[i];return awe(s)?encodeURIComponent(s):""})}})();function awe(e){return["number","string","boolean"].includes(typeof e)}a(awe,"isValidEncodeUriComponentType");function QH(e){let t=e.match(/\{\w+\}/g);return t?t.map(r=>r.replace(/[{}]/g,"")):[]}a(QH,"extractUrlParams");function Dc(e){if(!Array.isArray(e)||!e[0]||typeof e[0]!="object")return{};if(!WH(e[0]))return e.shift();let t=Object.keys(e[0]),r=t.filter(n=>kR.includes(n));return r.length>0&&r.length!==t.length&&em(`Options found in arguments (${r.join(", ")}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options.`),{}}a(Dc,"getDataFromArgs");function ky(e){let t={host:null,headers:{},settings:{},streaming:!1};if(e.length>0){let r=e[e.length-1];if(typeof r=="string")t.authenticator=Ty(e.pop());else if(WH(r)){let n=Object.assign({},e.pop()),o=Object.keys(n).filter(i=>!kR.includes(i));if(o.length&&em(`Invalid options found (${o.join(", ")}); ignoring.`),n.apiKey&&(t.authenticator=Ty(n.apiKey)),n.idempotencyKey&&(t.headers["Idempotency-Key"]=n.idempotencyKey),n.stripeAccount&&(t.headers["Stripe-Account"]=n.stripeAccount),n.stripeContext){if(t.headers["Stripe-Account"])throw new Error("Can't specify both stripeAccount and stripeContext.");t.headers["Stripe-Context"]=n.stripeContext}if(n.apiVersion&&(t.headers["Stripe-Version"]=n.apiVersion),Number.isInteger(n.maxNetworkRetries)&&(t.settings.maxNetworkRetries=n.maxNetworkRetries),Number.isInteger(n.timeout)&&(t.settings.timeout=n.timeout),n.host&&(t.host=n.host),n.authenticator){if(n.apiKey)throw new Error("Can't specify both apiKey and authenticator.");if(typeof n.authenticator!="function")throw new Error("The authenticator must be a function receiving a request as the first parameter.");t.authenticator=n.authenticator}n.additionalHeaders&&(t.headers=n.additionalHeaders),n.streaming&&(t.streaming=!0)}}return t}a(ky,"getOptionsFromArgs");function XH(e){let t=this,r=Object.prototype.hasOwnProperty.call(e,"constructor")?e.constructor:function(...n){t.apply(this,n)};return Object.assign(r,t),r.prototype=Object.create(t.prototype),Object.assign(r.prototype,e),r}a(XH,"protoExtend");function Py(e){if(typeof e!="object")throw new Error("Argument must be an object");return Object.keys(e).reduce((t,r)=>(e[r]!=null&&(t[r]=e[r]),t),{})}a(Py,"removeNullish");function YH(e){return e&&typeof e=="object"?Object.keys(e).reduce((t,r)=>(t[swe(r)]=e[r],t),{}):e}a(YH,"normalizeHeaders");function swe(e){return e.split("-").map(t=>t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()).join("-")}a(swe,"normalizeHeader");function Yp(e,t){return t?e.then(r=>{setTimeout(()=>{t(null,r)},0)},r=>{setTimeout(()=>{t(r,null)},0)}):e}a(Yp,"callbackifyPromiseWithTimeout");function e3(e){return e==="OAuth"?"oauth":e[0].toLowerCase()+e.substring(1)}a(e3,"pascalToCamelCase");function em(e){return typeof process.emitWarning!="function"?console.warn(`Stripe: ${e}`):process.emitWarning(e,"Stripe")}a(em,"emitWarning");function uwe(e){let t=typeof e;return(t==="function"||t==="object")&&!!e}a(uwe,"isObject");function t3(e){let t={},r=a((n,o)=>{Object.entries(n).forEach(([i,s])=>{let u=o?`${o}[${i}]`:i;if(uwe(s)){if(!(s instanceof Uint8Array)&&!Object.prototype.hasOwnProperty.call(s,"data"))return r(s,u);t[u]=s}else t[u]=String(s)})},"step");return r(e,null),t}a(t3,"flattenAndStringify");function Iy(e,t,r){if(!Number.isInteger(t)){if(r!==void 0)return r;throw new Error(`${e} must be an integer`)}return t}a(Iy,"validateInteger");function r3(){return typeof process>"u"?{}:{lang_version:process.version,platform:process.platform}}a(r3,"determineProcessUserAgentProperties");function Ty(e){let t=a(r=>(r.headers.Authorization="Bearer "+e,Promise.resolve()),"authenticator");return t._apiKey=e,t}a(Ty,"createApiKeyAuthenticator");function n3(e){let t=e.reduce((o,i)=>o+i.length,0),r=new Uint8Array(t),n=0;return e.forEach(o=>{r.set(o,n),n+=o.length}),r}a(n3,"concat");function cwe(e,t){return this[e]instanceof Date?Math.floor(this[e].getTime()/1e3).toString():t}a(cwe,"dateTimeReplacer");function o3(e){return JSON.stringify(e,cwe)}a(o3,"jsonStringifyRequestData");function Mc(e){return e&&e.startsWith("/v2")?"v2":"v1"}a(Mc,"getAPIMode");function Oy(e){return Array.isArray(e)?e.join(", "):String(e)}a(Oy,"parseHttpHeaderAsString");function i3(e){let t=Array.isArray(e)?e[0]:e;return Number(t)}a(i3,"parseHttpHeaderAsNumber");function a3(e){return Object.entries(e).map(([t,r])=>[t,Oy(r)])}a(a3,"parseHeadersForFetch");var Ay=class e extends Jr{static{a(this,"FetchHttpClient")}constructor(t){if(super(),!t){if(!globalThis.fetch)throw new Error("fetch() function not provided and is not defined in the global scope. You must provide a fetch implementation.");t=globalThis.fetch}globalThis.AbortController?this._fetchFn=e.makeFetchWithAbortTimeout(t):this._fetchFn=e.makeFetchWithRaceTimeout(t)}static makeFetchWithRaceTimeout(t){return(r,n,o)=>{let i,s=new Promise((l,d)=>{i=setTimeout(()=>{i=null,d(Jr.makeTimeoutError())},o)}),u=t(r,n);return Promise.race([u,s]).finally(()=>{i&&clearTimeout(i)})}}static makeFetchWithAbortTimeout(t){return async(r,n,o)=>{let i=new AbortController,s=setTimeout(()=>{s=null,i.abort(Jr.makeTimeoutError())},o);try{return await t(r,Object.assign(Object.assign({},n),{signal:i.signal}))}catch(u){throw u.name==="AbortError"?Jr.makeTimeoutError():u}finally{s&&clearTimeout(s)}}}getClientName(){return"fetch"}async makeRequest(t,r,n,o,i,s,u,l){let d=u==="http",p=new URL(n,`${d?"http":"https"}://${t}`);p.port=r;let f=o=="POST"||o=="PUT"||o=="PATCH",m=s||(f?"":void 0),y=await this._fetchFn(p.toString(),{method:o,headers:a3(i),body:m},l);return new PR(y)}},PR=class e extends qa{static{a(this,"FetchHttpClientResponse")}constructor(t){super(t.status,e._transformHeadersToObject(t.headers)),this._res=t}getRawResponse(){return this._res}toStream(t){return t(),this._res.body}toJSON(){return this._res.json()}static _transformHeadersToObject(t){let r={};for(let n of t){if(!Array.isArray(n)||n.length!=2)throw new Error("Response objects produced by the fetch function given to FetchHttpClient do not have an iterable headers map. Response#headers should be an iterable object.");r[n[0]]=n[1]}return r}};var Cy=class extends Ma{static{a(this,"SubtleCryptoProvider")}constructor(t){super(),this.subtleCrypto=t||crypto.subtle}computeHMACSignature(t,r){throw new Ac("SubtleCryptoProvider cannot be used in a synchronous context.")}async computeHMACSignatureAsync(t,r){let n=new TextEncoder,o=await this.subtleCrypto.importKey("raw",n.encode(r),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),i=await this.subtleCrypto.sign("hmac",o,n.encode(t)),s=new Uint8Array(i),u=new Array(s.length);for(let l=0;l<s.length;l++)u[l]=IR[s[l]];return u.join("")}async computeSHA256Async(t){return new Uint8Array(await this.subtleCrypto.digest("SHA-256",t))}},IR=new Array(256);for(let e=0;e<IR.length;e++)IR[e]=e.toString(16).padStart(2,"0");var Ry=class{static{a(this,"PlatformFunctions")}constructor(){this._fetchFn=null,this._agent=null}getUname(){throw new Error("getUname not implemented.")}uuid4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{let r=Math.random()*16|0;return(t==="x"?r:r&3|8).toString(16)})}secureCompare(t,r){if(t.length!==r.length)return!1;let n=t.length,o=0;for(let i=0;i<n;++i)o|=t.charCodeAt(i)^r.charCodeAt(i);return o===0}createEmitter(){throw new Error("createEmitter not implemented.")}tryBufferData(t){throw new Error("tryBufferData not implemented.")}createNodeHttpClient(t){throw new Error("createNodeHttpClient not implemented.")}createFetchHttpClient(t){return new Ay(t)}createDefaultHttpClient(){throw new Error("createDefaultHttpClient not implemented.")}createNodeCryptoProvider(){throw new Error("createNodeCryptoProvider not implemented.")}createSubtleCryptoProvider(t){return new Cy(t)}createDefaultCryptoProvider(){throw new Error("createDefaultCryptoProvider not implemented.")}};var My={};_n(My,{StripeAPIError:()=>qc,StripeAuthenticationError:()=>Uc,StripeCardError:()=>$y,StripeConnectionError:()=>nm,StripeError:()=>dr,StripeIdempotencyError:()=>Ny,StripeInvalidGrantError:()=>zy,StripeInvalidRequestError:()=>tm,StripePermissionError:()=>rm,StripeRateLimitError:()=>Lc,StripeSignatureVerificationError:()=>Mo,StripeUnknownError:()=>jy,TemporarySessionExpiredError:()=>Dy,generateV1Error:()=>om,generateV2Error:()=>OR});var om=a(e=>{switch(e.type){case"card_error":return new $y(e);case"invalid_request_error":return new tm(e);case"api_error":return new qc(e);case"authentication_error":return new Uc(e);case"rate_limit_error":return new Lc(e);case"idempotency_error":return new Ny(e);case"invalid_grant":return new zy(e);default:return new jy(e)}},"generateV1Error"),OR=a(e=>{switch(e.type){case"temporary_session_expired":return new Dy(e)}switch(e.code){case"invalid_fields":return new tm(e)}return om(e)},"generateV2Error"),dr=class extends Error{static{a(this,"StripeError")}constructor(t={},r=null){var n;super(t.message),this.type=r||this.constructor.name,this.raw=t,this.rawType=t.type,this.code=t.code,this.doc_url=t.doc_url,this.param=t.param,this.detail=t.detail,this.headers=t.headers,this.requestId=t.requestId,this.statusCode=t.statusCode,this.message=(n=t.message)!==null&&n!==void 0?n:"",this.userMessage=t.user_message,this.charge=t.charge,this.decline_code=t.decline_code,this.payment_intent=t.payment_intent,this.payment_method=t.payment_method,this.payment_method_type=t.payment_method_type,this.setup_intent=t.setup_intent,this.source=t.source}};dr.generate=om;var $y=class extends dr{static{a(this,"StripeCardError")}constructor(t={}){super(t,"StripeCardError")}},tm=class extends dr{static{a(this,"StripeInvalidRequestError")}constructor(t={}){super(t,"StripeInvalidRequestError")}},qc=class extends dr{static{a(this,"StripeAPIError")}constructor(t={}){super(t,"StripeAPIError")}},Uc=class extends dr{static{a(this,"StripeAuthenticationError")}constructor(t={}){super(t,"StripeAuthenticationError")}},rm=class extends dr{static{a(this,"StripePermissionError")}constructor(t={}){super(t,"StripePermissionError")}},Lc=class extends dr{static{a(this,"StripeRateLimitError")}constructor(t={}){super(t,"StripeRateLimitError")}},nm=class extends dr{static{a(this,"StripeConnectionError")}constructor(t={}){super(t,"StripeConnectionError")}},Mo=class extends dr{static{a(this,"StripeSignatureVerificationError")}constructor(t,r,n={}){super(n,"StripeSignatureVerificationError"),this.header=t,this.payload=r}},Ny=class extends dr{static{a(this,"StripeIdempotencyError")}constructor(t={}){super(t,"StripeIdempotencyError")}},zy=class extends dr{static{a(this,"StripeInvalidGrantError")}constructor(t={}){super(t,"StripeInvalidGrantError")}},jy=class extends dr{static{a(this,"StripeUnknownError")}constructor(t={}){super(t,"StripeUnknownError")}},Dy=class extends dr{static{a(this,"TemporarySessionExpiredError")}constructor(t={}){super(t,"TemporarySessionExpiredError")}};import{exec as lwe}from"child_process";var AR=class extends dr{static{a(this,"StreamProcessingError")}},qy=class extends Ry{static{a(this,"NodePlatformFunctions")}constructor(){super(),this._exec=lwe,this._UNAME_CACHE=null}uuid4(){return Fc.randomUUID?Fc.randomUUID():super.uuid4()}getUname(){return this._UNAME_CACHE||(this._UNAME_CACHE=new Promise((t,r)=>{try{this._exec("uname -a",(n,o)=>{if(n)return t(null);t(o)})}catch{t(null)}})),this._UNAME_CACHE}secureCompare(t,r){if(!t||!r)throw new Error("secureCompare must receive two arguments");if(t.length!==r.length)return!1;if(Fc.timingSafeEqual){let n=new TextEncoder,o=n.encode(t),i=n.encode(r);return Fc.timingSafeEqual(o,i)}return super.secureCompare(t,r)}createEmitter(){return new s3}tryBufferData(t){if(!(t.file.data instanceof s3))return Promise.resolve(t);let r=[];return new Promise((n,o)=>{t.file.data.on("data",i=>{r.push(i)}).once("end",()=>{let i=Object.assign({},t);i.file.data=n3(r),n(i)}).on("error",i=>{o(new AR({message:"An error occurred while attempting to process the file for upload.",detail:i}))})})}createNodeHttpClient(t){return new Lp(t)}createDefaultHttpClient(){return new Lp}createNodeCryptoProvider(){return new uy}createDefaultCryptoProvider(){return this.createNodeCryptoProvider()}};var dwe=60,Uy=class e{static{a(this,"RequestSender")}constructor(t,r){this._stripe=t,this._maxBufferedRequestMetric=r}_normalizeStripeContext(t,r){return t?t.toString()||null:r?.toString()||null}_addHeadersDirectlyToObject(t,r){t.requestId=r["request-id"],t.stripeAccount=t.stripeAccount||r["stripe-account"],t.apiVersion=t.apiVersion||r["stripe-version"],t.idempotencyKey=t.idempotencyKey||r["idempotency-key"]}_makeResponseEvent(t,r,n){let o=Date.now(),i=o-t.request_start_time;return Py({api_version:n["stripe-version"],account:n["stripe-account"],idempotency_key:n["idempotency-key"],method:t.method,path:t.path,status:r,request_id:this._getRequestId(n),elapsed:i,request_start_time:t.request_start_time,request_end_time:o})}_getRequestId(t){return t["request-id"]}_streamingResponseHandler(t,r,n){return o=>{let i=o.getHeaders(),s=a(()=>{let l=this._makeResponseEvent(t,o.getStatusCode(),i);this._stripe._emitter.emit("response",l),this._recordRequestMetrics(this._getRequestId(i),l.elapsed,r)},"streamCompleteCallback"),u=o.toStream(s);return this._addHeadersDirectlyToObject(u,i),n(null,u)}}_jsonResponseHandler(t,r,n,o){return i=>{let s=i.getHeaders(),u=this._getRequestId(s),l=i.getStatusCode(),d=this._makeResponseEvent(t,l,s);this._stripe._emitter.emit("response",d),i.toJSON().then(p=>{if(p.error){let f;throw typeof p.error=="string"&&(p.error={type:p.error,message:p.error_description}),p.error.headers=s,p.error.statusCode=l,p.error.requestId=u,l===401?f=new Uc(p.error):l===403?f=new rm(p.error):l===429?f=new Lc(p.error):r==="v2"?f=OR(p.error):f=om(p.error),f}return p},p=>{throw new qc({message:"Invalid JSON received from the Stripe API",exception:p,requestId:s["request-id"]})}).then(p=>{this._recordRequestMetrics(u,d.elapsed,n);let f=i.getRawResponse();this._addHeadersDirectlyToObject(f,s),Object.defineProperty(p,"lastResponse",{enumerable:!1,writable:!1,value:f}),o(null,p)},p=>o(p,null))}}static _generateConnectionErrorMessage(t){return`An error occurred with our connection to Stripe.${t>0?` Request was retried ${t} times.`:""}`}static _shouldRetry(t,r,n,o){return o&&r===0&&Jr.CONNECTION_CLOSED_ERROR_CODES.includes(o.code)?!0:r>=n?!1:t?t.getHeaders()["stripe-should-retry"]==="false"?!1:t.getHeaders()["stripe-should-retry"]==="true"||t.getStatusCode()===409||t.getStatusCode()>=500:!0}_getSleepTimeInMS(t,r=null){let n=this._stripe.getInitialNetworkRetryDelay(),o=this._stripe.getMaxNetworkRetryDelay(),i=Math.min(n*Math.pow(2,t-1),o);return i*=.5*(1+Math.random()),i=Math.max(n,i),Number.isInteger(r)&&r<=dwe&&(i=Math.max(i,r)),i*1e3}_getMaxNetworkRetries(t={}){return t.maxNetworkRetries!==void 0&&Number.isInteger(t.maxNetworkRetries)?t.maxNetworkRetries:this._stripe.getMaxNetworkRetries()}_defaultIdempotencyKey(t,r,n){let o=this._getMaxNetworkRetries(r),i=a(()=>`stripe-node-retry-${this._stripe._platformFunctions.uuid4()}`,"genKey");if(n==="v2"){if(t==="POST"||t==="DELETE")return i()}else if(n==="v1"&&t==="POST"&&o>0)return i();return null}_makeHeaders({contentType:t,contentLength:r,apiVersion:n,clientUserAgent:o,method:i,userSuppliedHeaders:s,userSuppliedSettings:u,stripeAccount:l,stripeContext:d,apiMode:p}){let f={Accept:"application/json","Content-Type":t,"User-Agent":this._getUserAgentString(p),"X-Stripe-Client-User-Agent":o,"X-Stripe-Client-Telemetry":this._getTelemetryHeader(),"Stripe-Version":n,"Stripe-Account":l,"Stripe-Context":d,"Idempotency-Key":this._defaultIdempotencyKey(i,u,p)},m=i=="POST"||i=="PUT"||i=="PATCH";return(m||r)&&(m||em(`${i} method had non-zero contentLength but no payload is expected for this verb`),f["Content-Length"]=r),Object.assign(Py(f),YH(s))}_getUserAgentString(t){let r=this._stripe.getConstant("PACKAGE_VERSION"),n=this._stripe._appInfo?this._stripe.getAppInfoAsString():"";return`Stripe/${t} NodeBindings/${r} ${n}`.trim()}_getTelemetryHeader(){if(this._stripe.getTelemetryEnabled()&&this._stripe._prevRequestMetrics.length>0){let t=this._stripe._prevRequestMetrics.shift();return JSON.stringify({last_request_metrics:t})}}_recordRequestMetrics(t,r,n){if(this._stripe.getTelemetryEnabled()&&t)if(this._stripe._prevRequestMetrics.length>this._maxBufferedRequestMetric)em("Request metrics buffer is full, dropping telemetry message.");else{let o={request_id:t,request_duration_ms:r};n&&n.length>0&&(o.usage=n),this._stripe._prevRequestMetrics.push(o)}}_rawRequest(t,r,n,o,i){return new Promise((u,l)=>{let d;try{let g=t.toUpperCase();if(g!=="POST"&&n&&Object.keys(n).length!==0)throw new Error("rawRequest only supports params on POST requests. Please pass null and add your parameters to path.");let h=[].slice.call([n,o]),v=Dc(h),S=g==="POST"?Object.assign({},v):null,b=ky(h),w=b.headers,k=b.authenticator;d={requestMethod:g,requestPath:r,bodyData:S,queryData:{},authenticator:k,headers:w,host:b.host,streaming:!!b.streaming,settings:{},usage:i||["raw_request"]}}catch(g){l(g);return}function p(g,h){g?l(g):u(h)}a(p,"requestCallback");let{headers:f,settings:m}=d,y=d.authenticator;this._request(d.requestMethod,d.host,r,d.bodyData,y,{headers:f,settings:m,streaming:d.streaming},d.usage,p)})}_request(t,r,n,o,i,s,u=[],l,d=null){var p;let f;i=(p=i??this._stripe._authenticator)!==null&&p!==void 0?p:null;let m=Mc(n),y=a((v,S,b,w,k)=>setTimeout(v,this._getSleepTimeInMS(w,k),S,b,w+1),"retryRequest"),g=a((v,S,b)=>{let w=s.settings&&s.settings.timeout&&Number.isInteger(s.settings.timeout)&&s.settings.timeout>=0?s.settings.timeout:this._stripe.getApiField("timeout"),k={host:r||this._stripe.getApiField("host"),port:this._stripe.getApiField("port"),path:n,method:t,headers:Object.assign({},S),body:f,protocol:this._stripe.getApiField("protocol")};i(k).then(()=>{let $=this._stripe.getApiField("httpClient").makeRequest(k.host,k.port,k.path,k.method,k.headers,k.body,k.protocol,w),C=Date.now(),A=Py({api_version:v,account:Oy(S["Stripe-Account"]),idempotency_key:Oy(S["Idempotency-Key"]),method:t,path:n,request_start_time:C}),R=b||0,O=this._getMaxNetworkRetries(s.settings||{});this._stripe._emitter.emit("request",A),$.then(z=>e._shouldRetry(z,R,O)?y(g,v,S,R,i3(z.getHeaders()["retry-after"])):s.streaming&&z.getStatusCode()<400?this._streamingResponseHandler(A,u,l)(z):this._jsonResponseHandler(A,m,u,l)(z)).catch(z=>{if(e._shouldRetry(null,R,O,z))return y(g,v,S,R,null);{let D=z.code&&z.code===Jr.TIMEOUT_ERROR_CODE;return l(new nm({message:D?`Request aborted due to timeout being reached (${w}ms)`:e._generateConnectionErrorMessage(R),detail:z}))}})}).catch($=>{throw new dr({message:"Unable to authenticate the request",exception:$})})},"makeRequest"),h=a((v,S)=>{if(v)return l(v);f=S,this._stripe.getClientUserAgent(b=>{var w,k,$;let C=this._stripe.getApiField("version"),A=this._makeHeaders({contentType:m=="v2"?"application/json":"application/x-www-form-urlencoded",contentLength:new TextEncoder().encode(f).length,apiVersion:C,clientUserAgent:b,method:t,userSuppliedHeaders:(w=s.headers)!==null&&w!==void 0?w:null,userSuppliedSettings:(k=s.settings)!==null&&k!==void 0?k:{},stripeAccount:($=s.stripeAccount)!==null&&$!==void 0?$:this._stripe.getApiField("stripeAccount"),stripeContext:this._normalizeStripeContext(s.stripeContext,this._stripe.getApiField("stripeContext")),apiMode:m});g(C,A,0)})},"prepareAndMakeRequest");if(d)d(t,o,s.headers,h);else{let v;m=="v2"?v=o?o3(o):"":v=Fa(o||{},m),h(null,v)}}};var Ly=class{static{a(this,"V1Iterator")}constructor(t,r,n,o){this.index=0,this.pagePromise=t,this.promiseCache={currentPromise:null},this.requestArgs=r,this.spec=n,this.stripeResource=o}async iterate(t){if(!(t&&t.data&&typeof t.data.length=="number"))throw Error("Unexpected: Stripe API response does not have a well-formed `data` array.");let r=c3(this.requestArgs);if(this.index<t.data.length){let n=r?t.data.length-1-this.index:this.index,o=t.data[n];return this.index+=1,{value:o,done:!1}}else if(t.has_more){this.index=0,this.pagePromise=this.getNextPage(t);let n=await this.pagePromise;return this.iterate(n)}return{done:!0,value:void 0}}getNextPage(t){throw new Error("Unimplemented")}async _next(){return this.iterate(await this.pagePromise)}next(){if(this.promiseCache.currentPromise)return this.promiseCache.currentPromise;let t=(async()=>{let r=await this._next();return this.promiseCache.currentPromise=null,r})();return this.promiseCache.currentPromise=t,t}},RR=class extends Ly{static{a(this,"V1ListIterator")}getNextPage(t){let r=c3(this.requestArgs),n=hwe(t,r);return this.stripeResource._makeRequest(this.requestArgs,this.spec,{[r?"ending_before":"starting_after"]:n})}},$R=class extends Ly{static{a(this,"V1SearchIterator")}getNextPage(t){if(!t.next_page)throw Error("Unexpected: Stripe API response does not have a well-formed `next_page` field, but `has_more` was true.");return this.stripeResource._makeRequest(this.requestArgs,this.spec,{page:t.next_page})}},NR=class{static{a(this,"V2ListIterator")}constructor(t,r,n,o){this.currentPageIterator=(async()=>(await t).data[Symbol.iterator]())(),this.nextPageUrl=(async()=>(await t).next_page_url||null)(),this.requestArgs=r,this.spec=n,this.stripeResource=o}async turnPage(){let t=await this.nextPageUrl;if(!t)return null;this.spec.fullPath=t;let r=await this.stripeResource._makeRequest([],this.spec,{});return this.nextPageUrl=Promise.resolve(r.next_page_url),this.currentPageIterator=Promise.resolve(r.data[Symbol.iterator]()),this.currentPageIterator}async next(){{let n=(await this.currentPageIterator).next();if(!n.done)return{done:!1,value:n.value}}let t=await this.turnPage();if(!t)return{done:!0,value:void 0};let r=t.next();return r.done?{done:!0,value:void 0}:{done:!1,value:r.value}}},u3=a((e,t,r,n)=>{let o=Mc(r.fullPath||r.path);return o!=="v2"&&r.methodType==="search"?CR(new $R(n,t,r,e)):o!=="v2"&&r.methodType==="list"?CR(new RR(n,t,r,e)):o==="v2"&&r.methodType==="list"?CR(new NR(n,t,r,e)):null},"makeAutoPaginationMethods"),CR=a(e=>{let t=gwe((...o)=>e.next(...o)),r=ywe(t),n={autoPagingEach:t,autoPagingToArray:r,next:a(()=>e.next(),"next"),return:a(()=>({}),"return"),[pwe()]:()=>n};return n},"makeAutoPaginationMethodsFromIterator");function pwe(){return typeof Symbol<"u"&&Symbol.asyncIterator?Symbol.asyncIterator:"@@asyncIterator"}a(pwe,"getAsyncIteratorSymbol");function mwe(e){if(e.length<2)return null;let t=e[1];if(typeof t!="function")throw Error(`The second argument to autoPagingEach, if present, must be a callback function; received ${typeof t}`);return t}a(mwe,"getDoneCallback");function fwe(e){if(e.length===0)return;let t=e[0];if(typeof t!="function")throw Error(`The first argument to autoPagingEach, if present, must be a callback function; received ${typeof t}`);if(t.length===2)return t;if(t.length>2)throw Error(`The \`onItem\` callback function passed to autoPagingEach must accept at most two arguments; got ${t}`);return a(function(n,o){let i=t(n);o(i)},"_onItem")}a(fwe,"getItemCallback");function hwe(e,t){let r=t?0:e.data.length-1,n=e.data[r],o=n&&n.id;if(!o)throw Error("Unexpected: No `id` found on the last item while auto-paging a list.");return o}a(hwe,"getLastId");function gwe(e){return a(function(){let r=[].slice.call(arguments),n=fwe(r),o=mwe(r);if(r.length>2)throw Error(`autoPagingEach takes up to two arguments; received ${r}`);let i=vwe(e,n);return Yp(i,o)},"autoPagingEach")}a(gwe,"makeAutoPagingEach");function ywe(e){return a(function(r,n){let o=r&&r.limit;if(!o)throw Error("You must pass a `limit` option to autoPagingToArray, e.g., `autoPagingToArray({limit: 1000});`.");if(o>1e4)throw Error("You cannot specify a limit of more than 10,000 items to fetch in `autoPagingToArray`; use `autoPagingEach` to iterate through longer lists.");let i=new Promise((s,u)=>{let l=[];e(d=>{if(l.push(d),l.length>=o)return!1}).then(()=>{s(l)}).catch(u)});return Yp(i,n)},"autoPagingToArray")}a(ywe,"makeAutoPagingToArray");function vwe(e,t){return new Promise((r,n)=>{function o(i){if(i.done){r();return}let s=i.value;return new Promise(u=>{t(s,u)}).then(u=>u===!1?o({done:!0,value:void 0}):e().then(o))}a(o,"handleIteration"),e().then(o).catch(n)})}a(vwe,"wrapAsyncIteratorWithCallback");function c3(e){let t=[].slice.call(e);return!!Dc(t).ending_before}a(c3,"isReverseIteration");function l3(e){if(e.path!==void 0&&e.fullPath!==void 0)throw new Error(`Method spec specified both a 'path' (${e.path}) and a 'fullPath' (${e.fullPath}).`);return function(...t){let r=typeof t[t.length-1]=="function"&&t.pop();e.urlParams=QH(e.fullPath||this.createResourcePathWithSymbols(e.path||""));let n=Yp(this._makeRequest(t,e,{}),r);return Object.assign(n,u3(this,t,e,n)),n}}a(l3,"stripeMethod");E.extend=XH;E.method=l3;E.MAX_BUFFERED_REQUEST_METRICS=100;function E(e,t){if(this._stripe=e,t)throw new Error("Support for curried url params was dropped in stripe-node v7.0.0. Instead, pass two ids.");this.basePath=Ey(this.basePath||e.getApiField("basePath")),this.resourcePath=this.path,this.path=Ey(this.path),this.initialize(...arguments)}a(E,"StripeResource");E.prototype={_stripe:null,path:"",resourcePath:"",basePath:null,initialize(){},requestDataProcessor:null,validateRequest:null,createFullPath(e,t){let r=[this.basePath(t),this.path(t)];if(typeof e=="function"){let n=e(t);n&&r.push(n)}else r.push(e);return this._joinUrlParts(r)},createResourcePathWithSymbols(e){return e?`/${this._joinUrlParts([this.resourcePath,e])}`:`/${this.resourcePath}`},_joinUrlParts(e){return e.join("/").replace(/\/{2,}/g,"/")},_getRequestOpts(e,t,r){var n;let o=(t.method||"GET").toUpperCase(),i=t.usage||[],s=t.urlParams||[],u=t.encode||(A=>A),l=!!t.fullPath,d=Ey(l?t.fullPath:t.path||""),p=l?t.fullPath:this.createResourcePathWithSymbols(t.path),f=[].slice.call(e),m=s.reduce((A,R)=>{let O=f.shift();if(typeof O!="string")throw new Error(`Stripe: Argument "${R}" must be a string, but got: ${O} (on API request to \`${o} ${p}\`)`);return A[R]=O,A},{}),y=Dc(f),g=u(Object.assign({},y,r)),h=ky(f),v=h.host||t.host,S=!!t.streaming||!!h.streaming;if(f.filter(A=>A!=null).length)throw new Error(`Stripe: Unknown arguments (${f}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options. (on API request to ${o} \`${p}\`)`);let b=l?d(m):this.createFullPath(d,m),w=Object.assign(h.headers,t.headers);t.validator&&t.validator(g,{headers:w});let k=t.method==="GET"||t.method==="DELETE";return{requestMethod:o,requestPath:b,bodyData:k?null:g,queryData:k?g:{},authenticator:(n=h.authenticator)!==null&&n!==void 0?n:null,headers:w,host:v??null,streaming:S,settings:h.settings,usage:i}},_makeRequest(e,t,r){return new Promise((n,o)=>{var i;let s;try{s=this._getRequestOpts(e,t,r)}catch(m){o(m);return}function u(m,y){m?o(m):n(t.transformResponseData?t.transformResponseData(y):y)}a(u,"requestCallback");let l=Object.keys(s.queryData).length===0,d=[s.requestPath,l?"":"?",Fa(s.queryData,Mc(s.requestPath))].join(""),{headers:p,settings:f}=s;this._stripe._requestSender._request(s.requestMethod,s.host,d,s.bodyData,s.authenticator,{headers:p,settings:f,streaming:s.streaming},s.usage,u,(i=this.requestDataProcessor)===null||i===void 0?void 0:i.bind(this))})}};var im=class e{static{a(this,"StripeContext")}constructor(t=[]){this._segments=[...t]}get segments(){return[...this._segments]}push(t){if(!t)throw new Error("Segment cannot be null or undefined");return new e([...this._segments,t])}pop(){if(this._segments.length===0)throw new Error("Cannot pop from an empty context");return new e(this._segments.slice(0,-1))}toString(){return this._segments.join("/")}static parse(t){return t?new e(t.split("/")):new e([])}};function d3(e){let t={DEFAULT_TOLERANCE:300,signature:null,constructEvent(p,f,m,y,g,h){try{if(!this.signature)throw new Error("ERR: missing signature helper, unable to verify");this.signature.verifyHeader(p,f,m,y||t.DEFAULT_TOLERANCE,g,h)}catch(S){throw S instanceof Ac&&(S.message+="\nUse `await constructEventAsync(...)` instead of `constructEvent(...)`"),S}return p instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(p)):JSON.parse(p)},async constructEventAsync(p,f,m,y,g,h){if(!this.signature)throw new Error("ERR: missing signature helper, unable to verify");return await this.signature.verifyHeaderAsync(p,f,m,y||t.DEFAULT_TOLERANCE,g,h),p instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(p)):JSON.parse(p)},generateTestHeaderString:a(function(p){let f=d(p),m=f.signature||f.cryptoProvider.computeHMACSignature(f.payloadString,f.secret);return f.generateHeaderString(m)},"generateTestHeaderString"),generateTestHeaderStringAsync:a(async function(p){let f=d(p),m=f.signature||await f.cryptoProvider.computeHMACSignatureAsync(f.payloadString,f.secret);return f.generateHeaderString(m)},"generateTestHeaderStringAsync")},r={EXPECTED_SCHEME:"v1",verifyHeader(p,f,m,y,g,h){let{decodedHeader:v,decodedPayload:S,details:b,suspectPayloadType:w}=o(p,f,this.EXPECTED_SCHEME),k=/\s/.test(m);g=g||l();let $=g.computeHMACSignature(n(S,b),m);return i(S,v,b,$,y,w,k,h),!0},async verifyHeaderAsync(p,f,m,y,g,h){let{decodedHeader:v,decodedPayload:S,details:b,suspectPayloadType:w}=o(p,f,this.EXPECTED_SCHEME),k=/\s/.test(m);g=g||l();let $=await g.computeHMACSignatureAsync(n(S,b),m);return i(S,v,b,$,y,w,k,h)}};function n(p,f){return`${f.timestamp}.${p}`}a(n,"makeHMACContent");function o(p,f,m){if(!p)throw new Mo(f,p,{message:"No webhook payload was provided."});let y=typeof p!="string"&&!(p instanceof Uint8Array),g=new TextDecoder("utf8"),h=p instanceof Uint8Array?g.decode(p):p;if(Array.isArray(f))throw new Error("Unexpected: An array was passed as a header, which should not be possible for the stripe-signature header.");if(f==null||f=="")throw new Mo(f,p,{message:"No stripe-signature header value was provided."});let v=f instanceof Uint8Array?g.decode(f):f,S=s(v,m);if(!S||S.timestamp===-1)throw new Mo(v,h,{message:"Unable to extract timestamp and signatures from header"});if(!S.signatures.length)throw new Mo(v,h,{message:"No signatures found with expected scheme"});return{decodedPayload:h,decodedHeader:v,details:S,suspectPayloadType:y}}a(o,"parseEventDetails");function i(p,f,m,y,g,h,v,S){let b=!!m.signatures.filter(e.secureCompare.bind(e,y)).length,w=`
Learn more about webhook signing and explore webhook integration examples for various frameworks at https://docs.stripe.com/webhooks/signature`,k=v?`

Note: The provided signing secret contains whitespace. This often indicates an extra newline or space is in the value`:"";if(!b)throw h?new Mo(f,p,{message:`Webhook payload must be provided as a string or a Buffer (https://nodejs.org/api/buffer.html) instance representing the _raw_ request body.Payload was provided as a parsed JavaScript object instead. 
Signature verification is impossible without access to the original signed material. 
`+w+`
`+k}):new Mo(f,p,{message:`No signatures found matching the expected signature for payload. Are you passing the raw request body you received from Stripe? 
 If a webhook request is being forwarded by a third-party tool, ensure that the exact request body, including JSON formatting and new line style, is preserved.
`+w+`
`+k});let $=Math.floor((typeof S=="number"?S:Date.now())/1e3)-m.timestamp;if(g>0&&$>g)throw new Mo(f,p,{message:"Timestamp outside the tolerance zone"});return!0}a(i,"validateComputedSignature");function s(p,f){return typeof p!="string"?null:p.split(",").reduce((m,y)=>{let g=y.split("=");return g[0]==="t"&&(m.timestamp=parseInt(g[1],10)),g[0]===f&&m.signatures.push(g[1]),m},{timestamp:-1,signatures:[]})}a(s,"parseHeader");let u=null;function l(){return u||(u=e.createDefaultCryptoProvider()),u}a(l,"getCryptoProvider");function d(p){if(!p)throw new dr({message:"Options are required"});let f=Math.floor(p.timestamp)||Math.floor(Date.now()/1e3),m=p.scheme||r.EXPECTED_SCHEME,y=p.cryptoProvider||l(),g=`${f}.${p.payload}`,h=a(v=>`t=${f},${m}=${v}`,"generateHeaderString");return Object.assign(Object.assign({},p),{timestamp:f,scheme:m,cryptoProvider:y,payloadString:g,generateHeaderString:h})}return a(d,"prepareOptions"),t.signature=r,t}a(d3,"createWebhooks");var zR="2025-11-17.clover";var Xc={};_n(Xc,{Account:()=>KR,AccountLinks:()=>W9,AccountSessions:()=>Q9,Accounts:()=>KR,ApplePayDomains:()=>X9,ApplicationFees:()=>Y9,Apps:()=>Jwe,Balance:()=>eV,BalanceSettings:()=>rV,BalanceTransactions:()=>oV,Billing:()=>Hwe,BillingPortal:()=>Vwe,Charges:()=>iV,Checkout:()=>Zwe,Climate:()=>Kwe,ConfirmationTokens:()=>aV,CountrySpecs:()=>uV,Coupons:()=>cV,CreditNotes:()=>lV,CustomerSessions:()=>dV,Customers:()=>pV,Disputes:()=>mV,Entitlements:()=>Gwe,EphemeralKeys:()=>hV,Events:()=>yV,ExchangeRates:()=>_V,FileLinks:()=>bV,Files:()=>wV,FinancialConnections:()=>Wwe,Forwarding:()=>Qwe,Identity:()=>Xwe,InvoiceItems:()=>xV,InvoicePayments:()=>EV,InvoiceRenderingTemplates:()=>kV,Invoices:()=>PV,Issuing:()=>Ywe,Mandates:()=>IV,OAuth:()=>AV,PaymentAttemptRecords:()=>RV,PaymentIntents:()=>$V,PaymentLinks:()=>NV,PaymentMethodConfigurations:()=>zV,PaymentMethodDomains:()=>jV,PaymentMethods:()=>DV,PaymentRecords:()=>MV,Payouts:()=>qV,Plans:()=>UV,Prices:()=>LV,Products:()=>FV,PromotionCodes:()=>BV,Quotes:()=>JV,Radar:()=>exe,Refunds:()=>HV,Reporting:()=>txe,Reviews:()=>VV,SetupAttempts:()=>ZV,SetupIntents:()=>KV,ShippingRates:()=>GV,Sigma:()=>rxe,Sources:()=>WV,SubscriptionItems:()=>QV,SubscriptionSchedules:()=>XV,Subscriptions:()=>YV,Tax:()=>nxe,TaxCodes:()=>t8,TaxIds:()=>r8,TaxRates:()=>n8,Terminal:()=>oxe,TestHelpers:()=>ixe,Tokens:()=>i8,Topups:()=>a8,Transfers:()=>s8,Treasury:()=>axe,V2:()=>sxe,WebhookEndpoints:()=>u8});function _we(e,t){for(let r in t){if(!Object.prototype.hasOwnProperty.call(t,r))continue;let n=r[0].toLowerCase()+r.substring(1),o=new t[r](e);this[n]=o}}a(_we,"ResourceNamespace");function Yt(e,t){return function(r){return new _we(r,t)}}a(Yt,"resourceNamespace");var Ns=E.method,p3=E.extend({retrieve:Ns({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}"}),list:Ns({method:"GET",fullPath:"/v1/financial_connections/accounts",methodType:"list"}),disconnect:Ns({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/disconnect"}),listOwners:Ns({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}/owners",methodType:"list"}),refresh:Ns({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/refresh"}),subscribe:Ns({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/subscribe"}),unsubscribe:Ns({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/unsubscribe"})});var m3=E.method,f3=E.extend({retrieve:m3({method:"GET",fullPath:"/v1/entitlements/active_entitlements/{id}"}),list:m3({method:"GET",fullPath:"/v1/entitlements/active_entitlements",methodType:"list"})});var Bc=E.method,h3=E.extend({create:Bc({method:"POST",fullPath:"/v1/billing/alerts"}),retrieve:Bc({method:"GET",fullPath:"/v1/billing/alerts/{id}"}),list:Bc({method:"GET",fullPath:"/v1/billing/alerts",methodType:"list"}),activate:Bc({method:"POST",fullPath:"/v1/billing/alerts/{id}/activate"}),archive:Bc({method:"POST",fullPath:"/v1/billing/alerts/{id}/archive"}),deactivate:Bc({method:"POST",fullPath:"/v1/billing/alerts/{id}/deactivate"})});var bwe=E.method,g3=E.extend({find:bwe({method:"GET",fullPath:"/v1/tax/associations/find"})});var am=E.method,y3=E.extend({retrieve:am({method:"GET",fullPath:"/v1/issuing/authorizations/{authorization}"}),update:am({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}"}),list:am({method:"GET",fullPath:"/v1/issuing/authorizations",methodType:"list"}),approve:am({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/approve"}),decline:am({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/decline"})});var zs=E.method,v3=E.extend({create:zs({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations"}),capture:zs({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/capture"}),expire:zs({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/expire"}),finalizeAmount:zs({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/finalize_amount"}),increment:zs({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/increment"}),respond:zs({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/fraud_challenges/respond"}),reverse:zs({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/reverse"})});var jR=E.method,_3=E.extend({create:jR({method:"POST",fullPath:"/v1/tax/calculations"}),retrieve:jR({method:"GET",fullPath:"/v1/tax/calculations/{calculation}"}),listLineItems:jR({method:"GET",fullPath:"/v1/tax/calculations/{calculation}/line_items",methodType:"list"})});var Fy=E.method,b3=E.extend({create:Fy({method:"POST",fullPath:"/v1/issuing/cardholders"}),retrieve:Fy({method:"GET",fullPath:"/v1/issuing/cardholders/{cardholder}"}),update:Fy({method:"POST",fullPath:"/v1/issuing/cardholders/{cardholder}"}),list:Fy({method:"GET",fullPath:"/v1/issuing/cardholders",methodType:"list"})});var By=E.method,S3=E.extend({create:By({method:"POST",fullPath:"/v1/issuing/cards"}),retrieve:By({method:"GET",fullPath:"/v1/issuing/cards/{card}"}),update:By({method:"POST",fullPath:"/v1/issuing/cards/{card}"}),list:By({method:"GET",fullPath:"/v1/issuing/cards",methodType:"list"})});var sm=E.method,w3=E.extend({deliverCard:sm({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/deliver"}),failCard:sm({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/fail"}),returnCard:sm({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/return"}),shipCard:sm({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/ship"}),submitCard:sm({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/submit"})});var Jy=E.method,x3=E.extend({create:Jy({method:"POST",fullPath:"/v1/billing_portal/configurations"}),retrieve:Jy({method:"GET",fullPath:"/v1/billing_portal/configurations/{configuration}"}),update:Jy({method:"POST",fullPath:"/v1/billing_portal/configurations/{configuration}"}),list:Jy({method:"GET",fullPath:"/v1/billing_portal/configurations",methodType:"list"})});var um=E.method,T3=E.extend({create:um({method:"POST",fullPath:"/v1/terminal/configurations"}),retrieve:um({method:"GET",fullPath:"/v1/terminal/configurations/{configuration}"}),update:um({method:"POST",fullPath:"/v1/terminal/configurations/{configuration}"}),list:um({method:"GET",fullPath:"/v1/terminal/configurations",methodType:"list"}),del:um({method:"DELETE",fullPath:"/v1/terminal/configurations/{configuration}"})});var Swe=E.method,E3=E.extend({create:Swe({method:"POST",fullPath:"/v1/test_helpers/confirmation_tokens"})});var wwe=E.method,k3=E.extend({create:wwe({method:"POST",fullPath:"/v1/terminal/connection_tokens"})});var xwe=E.method,P3=E.extend({retrieve:xwe({method:"GET",fullPath:"/v1/billing/credit_balance_summary"})});var I3=E.method,O3=E.extend({retrieve:I3({method:"GET",fullPath:"/v1/billing/credit_balance_transactions/{id}"}),list:I3({method:"GET",fullPath:"/v1/billing/credit_balance_transactions",methodType:"list"})});var Jc=E.method,A3=E.extend({create:Jc({method:"POST",fullPath:"/v1/billing/credit_grants"}),retrieve:Jc({method:"GET",fullPath:"/v1/billing/credit_grants/{id}"}),update:Jc({method:"POST",fullPath:"/v1/billing/credit_grants/{id}"}),list:Jc({method:"GET",fullPath:"/v1/billing/credit_grants",methodType:"list"}),expire:Jc({method:"POST",fullPath:"/v1/billing/credit_grants/{id}/expire"}),voidGrant:Jc({method:"POST",fullPath:"/v1/billing/credit_grants/{id}/void"})});var DR=E.method,C3=E.extend({create:DR({method:"POST",fullPath:"/v1/treasury/credit_reversals"}),retrieve:DR({method:"GET",fullPath:"/v1/treasury/credit_reversals/{credit_reversal}"}),list:DR({method:"GET",fullPath:"/v1/treasury/credit_reversals",methodType:"list"})});var Twe=E.method,R3=E.extend({fundCashBalance:Twe({method:"POST",fullPath:"/v1/test_helpers/customers/{customer}/fund_cash_balance"})});var MR=E.method,$3=E.extend({create:MR({method:"POST",fullPath:"/v1/treasury/debit_reversals"}),retrieve:MR({method:"GET",fullPath:"/v1/treasury/debit_reversals/{debit_reversal}"}),list:MR({method:"GET",fullPath:"/v1/treasury/debit_reversals",methodType:"list"})});var cm=E.method,N3=E.extend({create:cm({method:"POST",fullPath:"/v1/issuing/disputes"}),retrieve:cm({method:"GET",fullPath:"/v1/issuing/disputes/{dispute}"}),update:cm({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}"}),list:cm({method:"GET",fullPath:"/v1/issuing/disputes",methodType:"list"}),submit:cm({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}/submit"})});var z3=E.method,j3=E.extend({retrieve:z3({method:"GET",fullPath:"/v1/radar/early_fraud_warnings/{early_fraud_warning}"}),list:z3({method:"GET",fullPath:"/v1/radar/early_fraud_warnings",methodType:"list"})});var Ba=E.method,D3=E.extend({create:Ba({method:"POST",fullPath:"/v2/core/event_destinations"}),retrieve:Ba({method:"GET",fullPath:"/v2/core/event_destinations/{id}"}),update:Ba({method:"POST",fullPath:"/v2/core/event_destinations/{id}"}),list:Ba({method:"GET",fullPath:"/v2/core/event_destinations",methodType:"list"}),del:Ba({method:"DELETE",fullPath:"/v2/core/event_destinations/{id}"}),disable:Ba({method:"POST",fullPath:"/v2/core/event_destinations/{id}/disable"}),enable:Ba({method:"POST",fullPath:"/v2/core/event_destinations/{id}/enable"}),ping:Ba({method:"POST",fullPath:"/v2/core/event_destinations/{id}/ping"})});var qR=E.method,M3=E.extend({retrieve(...e){return qR({method:"GET",fullPath:"/v2/core/events/{id}",transformResponseData:a(r=>this.addFetchRelatedObjectIfNeeded(r),"transformResponseData")}).apply(this,e)},list(...e){return qR({method:"GET",fullPath:"/v2/core/events",methodType:"list",transformResponseData:a(r=>Object.assign(Object.assign({},r),{data:r.data.map(this.addFetchRelatedObjectIfNeeded.bind(this))}),"transformResponseData")}).apply(this,e)},addFetchRelatedObjectIfNeeded(e){return!e.related_object||!e.related_object.url?e:Object.assign(Object.assign({},e),{fetchRelatedObject:a(()=>qR({method:"GET",fullPath:e.related_object.url}).apply(this,[{stripeContext:e.context}]),"fetchRelatedObject")})}});var Hy=E.method,q3=E.extend({create:Hy({method:"POST",fullPath:"/v1/entitlements/features"}),retrieve:Hy({method:"GET",fullPath:"/v1/entitlements/features/{id}"}),update:Hy({method:"POST",fullPath:"/v1/entitlements/features/{id}"}),list:Hy({method:"GET",fullPath:"/v1/entitlements/features",methodType:"list"})});var js=E.method,U3=E.extend({create:js({method:"POST",fullPath:"/v1/treasury/financial_accounts"}),retrieve:js({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),update:js({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),list:js({method:"GET",fullPath:"/v1/treasury/financial_accounts",methodType:"list"}),close:js({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}/close"}),retrieveFeatures:js({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"}),updateFeatures:js({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"})});var UR=E.method,L3=E.extend({fail:UR({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/fail"}),returnInboundTransfer:UR({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/return"}),succeed:UR({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/succeed"})});var Vy=E.method,F3=E.extend({create:Vy({method:"POST",fullPath:"/v1/treasury/inbound_transfers"}),retrieve:Vy({method:"GET",fullPath:"/v1/treasury/inbound_transfers/{id}"}),list:Vy({method:"GET",fullPath:"/v1/treasury/inbound_transfers",methodType:"list"}),cancel:Vy({method:"POST",fullPath:"/v1/treasury/inbound_transfers/{inbound_transfer}/cancel"})});var lm=E.method,B3=E.extend({create:lm({method:"POST",fullPath:"/v1/terminal/locations"}),retrieve:lm({method:"GET",fullPath:"/v1/terminal/locations/{location}"}),update:lm({method:"POST",fullPath:"/v1/terminal/locations/{location}"}),list:lm({method:"GET",fullPath:"/v1/terminal/locations",methodType:"list"}),del:lm({method:"DELETE",fullPath:"/v1/terminal/locations/{location}"})});var Ewe=E.method,J3=E.extend({create:Ewe({method:"POST",fullPath:"/v1/billing/meter_event_adjustments"})});var kwe=E.method,H3=E.extend({create:kwe({method:"POST",fullPath:"/v2/billing/meter_event_adjustments"})});var Pwe=E.method,V3=E.extend({create:Pwe({method:"POST",fullPath:"/v2/billing/meter_event_session"})});var Iwe=E.method,Z3=E.extend({create:Iwe({method:"POST",fullPath:"/v2/billing/meter_event_stream",host:"meter-events.stripe.com"})});var Owe=E.method,K3=E.extend({create:Owe({method:"POST",fullPath:"/v1/billing/meter_events"})});var Awe=E.method,G3=E.extend({create:Awe({method:"POST",fullPath:"/v2/billing/meter_events"})});var Ds=E.method,W3=E.extend({create:Ds({method:"POST",fullPath:"/v1/billing/meters"}),retrieve:Ds({method:"GET",fullPath:"/v1/billing/meters/{id}"}),update:Ds({method:"POST",fullPath:"/v1/billing/meters/{id}"}),list:Ds({method:"GET",fullPath:"/v1/billing/meters",methodType:"list"}),deactivate:Ds({method:"POST",fullPath:"/v1/billing/meters/{id}/deactivate"}),listEventSummaries:Ds({method:"GET",fullPath:"/v1/billing/meters/{id}/event_summaries",methodType:"list"}),reactivate:Ds({method:"POST",fullPath:"/v1/billing/meters/{id}/reactivate"})});var Cwe=E.method,Q3=E.extend({create:Cwe({method:"POST",fullPath:"/v1/terminal/onboarding_links"})});var dm=E.method,X3=E.extend({create:dm({method:"POST",fullPath:"/v1/climate/orders"}),retrieve:dm({method:"GET",fullPath:"/v1/climate/orders/{order}"}),update:dm({method:"POST",fullPath:"/v1/climate/orders/{order}"}),list:dm({method:"GET",fullPath:"/v1/climate/orders",methodType:"list"}),cancel:dm({method:"POST",fullPath:"/v1/climate/orders/{order}/cancel"})});var Zy=E.method,Y3=E.extend({update:Zy({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}"}),fail:Zy({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/fail"}),post:Zy({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/post"}),returnOutboundPayment:Zy({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/return"})});var Ky=E.method,e9=E.extend({create:Ky({method:"POST",fullPath:"/v1/treasury/outbound_payments"}),retrieve:Ky({method:"GET",fullPath:"/v1/treasury/outbound_payments/{id}"}),list:Ky({method:"GET",fullPath:"/v1/treasury/outbound_payments",methodType:"list"}),cancel:Ky({method:"POST",fullPath:"/v1/treasury/outbound_payments/{id}/cancel"})});var Gy=E.method,t9=E.extend({update:Gy({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}"}),fail:Gy({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/fail"}),post:Gy({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/post"}),returnOutboundTransfer:Gy({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/return"})});var Wy=E.method,r9=E.extend({create:Wy({method:"POST",fullPath:"/v1/treasury/outbound_transfers"}),retrieve:Wy({method:"GET",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}"}),list:Wy({method:"GET",fullPath:"/v1/treasury/outbound_transfers",methodType:"list"}),cancel:Wy({method:"POST",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}/cancel"})});var Qy=E.method,n9=E.extend({create:Qy({method:"POST",fullPath:"/v1/issuing/personalization_designs"}),retrieve:Qy({method:"GET",fullPath:"/v1/issuing/personalization_designs/{personalization_design}"}),update:Qy({method:"POST",fullPath:"/v1/issuing/personalization_designs/{personalization_design}"}),list:Qy({method:"GET",fullPath:"/v1/issuing/personalization_designs",methodType:"list"})});var LR=E.method,o9=E.extend({activate:LR({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/activate"}),deactivate:LR({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/deactivate"}),reject:LR({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/reject"})});var i9=E.method,a9=E.extend({retrieve:i9({method:"GET",fullPath:"/v1/issuing/physical_bundles/{physical_bundle}"}),list:i9({method:"GET",fullPath:"/v1/issuing/physical_bundles",methodType:"list"})});var s9=E.method,u9=E.extend({retrieve:s9({method:"GET",fullPath:"/v1/climate/products/{product}"}),list:s9({method:"GET",fullPath:"/v1/climate/products",methodType:"list"})});var Jn=E.method,c9=E.extend({create:Jn({method:"POST",fullPath:"/v1/terminal/readers"}),retrieve:Jn({method:"GET",fullPath:"/v1/terminal/readers/{reader}"}),update:Jn({method:"POST",fullPath:"/v1/terminal/readers/{reader}"}),list:Jn({method:"GET",fullPath:"/v1/terminal/readers",methodType:"list"}),del:Jn({method:"DELETE",fullPath:"/v1/terminal/readers/{reader}"}),cancelAction:Jn({method:"POST",fullPath:"/v1/terminal/readers/{reader}/cancel_action"}),collectInputs:Jn({method:"POST",fullPath:"/v1/terminal/readers/{reader}/collect_inputs"}),collectPaymentMethod:Jn({method:"POST",fullPath:"/v1/terminal/readers/{reader}/collect_payment_method"}),confirmPaymentIntent:Jn({method:"POST",fullPath:"/v1/terminal/readers/{reader}/confirm_payment_intent"}),processPaymentIntent:Jn({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_payment_intent"}),processSetupIntent:Jn({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_setup_intent"}),refundPayment:Jn({method:"POST",fullPath:"/v1/terminal/readers/{reader}/refund_payment"}),setReaderDisplay:Jn({method:"POST",fullPath:"/v1/terminal/readers/{reader}/set_reader_display"})});var FR=E.method,l9=E.extend({presentPaymentMethod:FR({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/present_payment_method"}),succeedInputCollection:FR({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/succeed_input_collection"}),timeoutInputCollection:FR({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/timeout_input_collection"})});var Rwe=E.method,d9=E.extend({create:Rwe({method:"POST",fullPath:"/v1/test_helpers/treasury/received_credits"})});var p9=E.method,m9=E.extend({retrieve:p9({method:"GET",fullPath:"/v1/treasury/received_credits/{id}"}),list:p9({method:"GET",fullPath:"/v1/treasury/received_credits",methodType:"list"})});var $we=E.method,f9=E.extend({create:$we({method:"POST",fullPath:"/v1/test_helpers/treasury/received_debits"})});var h9=E.method,g9=E.extend({retrieve:h9({method:"GET",fullPath:"/v1/treasury/received_debits/{id}"}),list:h9({method:"GET",fullPath:"/v1/treasury/received_debits",methodType:"list"})});var Nwe=E.method,y9=E.extend({expire:Nwe({method:"POST",fullPath:"/v1/test_helpers/refunds/{refund}/expire"})});var Xy=E.method,v9=E.extend({create:Xy({method:"POST",fullPath:"/v1/tax/registrations"}),retrieve:Xy({method:"GET",fullPath:"/v1/tax/registrations/{id}"}),update:Xy({method:"POST",fullPath:"/v1/tax/registrations/{id}"}),list:Xy({method:"GET",fullPath:"/v1/tax/registrations",methodType:"list"})});var BR=E.method,_9=E.extend({create:BR({method:"POST",fullPath:"/v1/reporting/report_runs"}),retrieve:BR({method:"GET",fullPath:"/v1/reporting/report_runs/{report_run}"}),list:BR({method:"GET",fullPath:"/v1/reporting/report_runs",methodType:"list"})});var b9=E.method,S9=E.extend({retrieve:b9({method:"GET",fullPath:"/v1/reporting/report_types/{report_type}"}),list:b9({method:"GET",fullPath:"/v1/reporting/report_types",methodType:"list"})});var JR=E.method,w9=E.extend({create:JR({method:"POST",fullPath:"/v1/forwarding/requests"}),retrieve:JR({method:"GET",fullPath:"/v1/forwarding/requests/{id}"}),list:JR({method:"GET",fullPath:"/v1/forwarding/requests",methodType:"list"})});var x9=E.method,T9=E.extend({retrieve:x9({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs/{scheduled_query_run}"}),list:x9({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs",methodType:"list"})});var Yy=E.method,E9=E.extend({create:Yy({method:"POST",fullPath:"/v1/apps/secrets"}),list:Yy({method:"GET",fullPath:"/v1/apps/secrets",methodType:"list"}),deleteWhere:Yy({method:"POST",fullPath:"/v1/apps/secrets/delete"}),find:Yy({method:"GET",fullPath:"/v1/apps/secrets/find"})});var zwe=E.method,k9=E.extend({create:zwe({method:"POST",fullPath:"/v1/billing_portal/sessions"})});var Hc=E.method,P9=E.extend({create:Hc({method:"POST",fullPath:"/v1/checkout/sessions"}),retrieve:Hc({method:"GET",fullPath:"/v1/checkout/sessions/{session}"}),update:Hc({method:"POST",fullPath:"/v1/checkout/sessions/{session}"}),list:Hc({method:"GET",fullPath:"/v1/checkout/sessions",methodType:"list"}),expire:Hc({method:"POST",fullPath:"/v1/checkout/sessions/{session}/expire"}),listLineItems:Hc({method:"GET",fullPath:"/v1/checkout/sessions/{session}/line_items",methodType:"list"})});var I9=E.method,O9=E.extend({create:I9({method:"POST",fullPath:"/v1/financial_connections/sessions"}),retrieve:I9({method:"GET",fullPath:"/v1/financial_connections/sessions/{session}"})});var A9=E.method,C9=E.extend({retrieve:A9({method:"GET",fullPath:"/v1/tax/settings"}),update:A9({method:"POST",fullPath:"/v1/tax/settings"})});var R9=E.method,$9=E.extend({retrieve:R9({method:"GET",fullPath:"/v1/climate/suppliers/{supplier}"}),list:R9({method:"GET",fullPath:"/v1/climate/suppliers",methodType:"list"})});var pm=E.method,N9=E.extend({create:pm({method:"POST",fullPath:"/v1/test_helpers/test_clocks"}),retrieve:pm({method:"GET",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),list:pm({method:"GET",fullPath:"/v1/test_helpers/test_clocks",methodType:"list"}),del:pm({method:"DELETE",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),advance:pm({method:"POST",fullPath:"/v1/test_helpers/test_clocks/{test_clock}/advance"})});var HR=E.method,z9=E.extend({retrieve:HR({method:"GET",fullPath:"/v1/issuing/tokens/{token}"}),update:HR({method:"POST",fullPath:"/v1/issuing/tokens/{token}"}),list:HR({method:"GET",fullPath:"/v1/issuing/tokens",methodType:"list"})});var j9=E.method,D9=E.extend({retrieve:j9({method:"GET",fullPath:"/v1/treasury/transaction_entries/{id}"}),list:j9({method:"GET",fullPath:"/v1/treasury/transaction_entries",methodType:"list"})});var M9=E.method,q9=E.extend({retrieve:M9({method:"GET",fullPath:"/v1/financial_connections/transactions/{transaction}"}),list:M9({method:"GET",fullPath:"/v1/financial_connections/transactions",methodType:"list"})});var VR=E.method,U9=E.extend({retrieve:VR({method:"GET",fullPath:"/v1/issuing/transactions/{transaction}"}),update:VR({method:"POST",fullPath:"/v1/issuing/transactions/{transaction}"}),list:VR({method:"GET",fullPath:"/v1/issuing/transactions",methodType:"list"})});var ev=E.method,L9=E.extend({retrieve:ev({method:"GET",fullPath:"/v1/tax/transactions/{transaction}"}),createFromCalculation:ev({method:"POST",fullPath:"/v1/tax/transactions/create_from_calculation"}),createReversal:ev({method:"POST",fullPath:"/v1/tax/transactions/create_reversal"}),listLineItems:ev({method:"GET",fullPath:"/v1/tax/transactions/{transaction}/line_items",methodType:"list"})});var ZR=E.method,F9=E.extend({createForceCapture:ZR({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/create_force_capture"}),createUnlinkedRefund:ZR({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/create_unlinked_refund"}),refund:ZR({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/{transaction}/refund"})});var B9=E.method,J9=E.extend({retrieve:B9({method:"GET",fullPath:"/v1/treasury/transactions/{id}"}),list:B9({method:"GET",fullPath:"/v1/treasury/transactions",methodType:"list"})});var tv=E.method,H9=E.extend({create:tv({method:"POST",fullPath:"/v1/radar/value_list_items"}),retrieve:tv({method:"GET",fullPath:"/v1/radar/value_list_items/{item}"}),list:tv({method:"GET",fullPath:"/v1/radar/value_list_items",methodType:"list"}),del:tv({method:"DELETE",fullPath:"/v1/radar/value_list_items/{item}"})});var mm=E.method,V9=E.extend({create:mm({method:"POST",fullPath:"/v1/radar/value_lists"}),retrieve:mm({method:"GET",fullPath:"/v1/radar/value_lists/{value_list}"}),update:mm({method:"POST",fullPath:"/v1/radar/value_lists/{value_list}"}),list:mm({method:"GET",fullPath:"/v1/radar/value_lists",methodType:"list"}),del:mm({method:"DELETE",fullPath:"/v1/radar/value_lists/{value_list}"})});var Z9=E.method,K9=E.extend({retrieve:Z9({method:"GET",fullPath:"/v1/identity/verification_reports/{report}"}),list:Z9({method:"GET",fullPath:"/v1/identity/verification_reports",methodType:"list"})});var Vc=E.method,G9=E.extend({create:Vc({method:"POST",fullPath:"/v1/identity/verification_sessions"}),retrieve:Vc({method:"GET",fullPath:"/v1/identity/verification_sessions/{session}"}),update:Vc({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}"}),list:Vc({method:"GET",fullPath:"/v1/identity/verification_sessions",methodType:"list"}),cancel:Vc({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/cancel"}),redact:Vc({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/redact"})});var pr=E.method,KR=E.extend({create:pr({method:"POST",fullPath:"/v1/accounts"}),retrieve(e,...t){return typeof e=="string"?pr({method:"GET",fullPath:"/v1/accounts/{id}"}).apply(this,[e,...t]):(e==null&&[].shift.apply([e,...t]),pr({method:"GET",fullPath:"/v1/account"}).apply(this,[e,...t]))},update:pr({method:"POST",fullPath:"/v1/accounts/{account}"}),list:pr({method:"GET",fullPath:"/v1/accounts",methodType:"list"}),del:pr({method:"DELETE",fullPath:"/v1/accounts/{account}"}),createExternalAccount:pr({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts"}),createLoginLink:pr({method:"POST",fullPath:"/v1/accounts/{account}/login_links"}),createPerson:pr({method:"POST",fullPath:"/v1/accounts/{account}/persons"}),deleteExternalAccount:pr({method:"DELETE",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),deletePerson:pr({method:"DELETE",fullPath:"/v1/accounts/{account}/persons/{person}"}),listCapabilities:pr({method:"GET",fullPath:"/v1/accounts/{account}/capabilities",methodType:"list"}),listExternalAccounts:pr({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts",methodType:"list"}),listPersons:pr({method:"GET",fullPath:"/v1/accounts/{account}/persons",methodType:"list"}),reject:pr({method:"POST",fullPath:"/v1/accounts/{account}/reject"}),retrieveCurrent:pr({method:"GET",fullPath:"/v1/account"}),retrieveCapability:pr({method:"GET",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),retrieveExternalAccount:pr({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),retrievePerson:pr({method:"GET",fullPath:"/v1/accounts/{account}/persons/{person}"}),updateCapability:pr({method:"POST",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),updateExternalAccount:pr({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),updatePerson:pr({method:"POST",fullPath:"/v1/accounts/{account}/persons/{person}"})});var jwe=E.method,W9=E.extend({create:jwe({method:"POST",fullPath:"/v1/account_links"})});var Dwe=E.method,Q9=E.extend({create:Dwe({method:"POST",fullPath:"/v1/account_sessions"})});var rv=E.method,X9=E.extend({create:rv({method:"POST",fullPath:"/v1/apple_pay/domains"}),retrieve:rv({method:"GET",fullPath:"/v1/apple_pay/domains/{domain}"}),list:rv({method:"GET",fullPath:"/v1/apple_pay/domains",methodType:"list"}),del:rv({method:"DELETE",fullPath:"/v1/apple_pay/domains/{domain}"})});var Zc=E.method,Y9=E.extend({retrieve:Zc({method:"GET",fullPath:"/v1/application_fees/{id}"}),list:Zc({method:"GET",fullPath:"/v1/application_fees",methodType:"list"}),createRefund:Zc({method:"POST",fullPath:"/v1/application_fees/{id}/refunds"}),listRefunds:Zc({method:"GET",fullPath:"/v1/application_fees/{id}/refunds",methodType:"list"}),retrieveRefund:Zc({method:"GET",fullPath:"/v1/application_fees/{fee}/refunds/{id}"}),updateRefund:Zc({method:"POST",fullPath:"/v1/application_fees/{fee}/refunds/{id}"})});var Mwe=E.method,eV=E.extend({retrieve:Mwe({method:"GET",fullPath:"/v1/balance"})});var tV=E.method,rV=E.extend({retrieve:tV({method:"GET",fullPath:"/v1/balance_settings"}),update:tV({method:"POST",fullPath:"/v1/balance_settings"})});var nV=E.method,oV=E.extend({retrieve:nV({method:"GET",fullPath:"/v1/balance_transactions/{id}"}),list:nV({method:"GET",fullPath:"/v1/balance_transactions",methodType:"list"})});var Kc=E.method,iV=E.extend({create:Kc({method:"POST",fullPath:"/v1/charges"}),retrieve:Kc({method:"GET",fullPath:"/v1/charges/{charge}"}),update:Kc({method:"POST",fullPath:"/v1/charges/{charge}"}),list:Kc({method:"GET",fullPath:"/v1/charges",methodType:"list"}),capture:Kc({method:"POST",fullPath:"/v1/charges/{charge}/capture"}),search:Kc({method:"GET",fullPath:"/v1/charges/search",methodType:"search"})});var qwe=E.method,aV=E.extend({retrieve:qwe({method:"GET",fullPath:"/v1/confirmation_tokens/{confirmation_token}"})});var sV=E.method,uV=E.extend({retrieve:sV({method:"GET",fullPath:"/v1/country_specs/{country}"}),list:sV({method:"GET",fullPath:"/v1/country_specs",methodType:"list"})});var fm=E.method,cV=E.extend({create:fm({method:"POST",fullPath:"/v1/coupons"}),retrieve:fm({method:"GET",fullPath:"/v1/coupons/{coupon}"}),update:fm({method:"POST",fullPath:"/v1/coupons/{coupon}"}),list:fm({method:"GET",fullPath:"/v1/coupons",methodType:"list"}),del:fm({method:"DELETE",fullPath:"/v1/coupons/{coupon}"})});var Ja=E.method,lV=E.extend({create:Ja({method:"POST",fullPath:"/v1/credit_notes"}),retrieve:Ja({method:"GET",fullPath:"/v1/credit_notes/{id}"}),update:Ja({method:"POST",fullPath:"/v1/credit_notes/{id}"}),list:Ja({method:"GET",fullPath:"/v1/credit_notes",methodType:"list"}),listLineItems:Ja({method:"GET",fullPath:"/v1/credit_notes/{credit_note}/lines",methodType:"list"}),listPreviewLineItems:Ja({method:"GET",fullPath:"/v1/credit_notes/preview/lines",methodType:"list"}),preview:Ja({method:"GET",fullPath:"/v1/credit_notes/preview"}),voidCreditNote:Ja({method:"POST",fullPath:"/v1/credit_notes/{id}/void"})});var Uwe=E.method,dV=E.extend({create:Uwe({method:"POST",fullPath:"/v1/customer_sessions"})});var Dt=E.method,pV=E.extend({create:Dt({method:"POST",fullPath:"/v1/customers"}),retrieve:Dt({method:"GET",fullPath:"/v1/customers/{customer}"}),update:Dt({method:"POST",fullPath:"/v1/customers/{customer}"}),list:Dt({method:"GET",fullPath:"/v1/customers",methodType:"list"}),del:Dt({method:"DELETE",fullPath:"/v1/customers/{customer}"}),createBalanceTransaction:Dt({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions"}),createFundingInstructions:Dt({method:"POST",fullPath:"/v1/customers/{customer}/funding_instructions"}),createSource:Dt({method:"POST",fullPath:"/v1/customers/{customer}/sources"}),createTaxId:Dt({method:"POST",fullPath:"/v1/customers/{customer}/tax_ids"}),deleteDiscount:Dt({method:"DELETE",fullPath:"/v1/customers/{customer}/discount"}),deleteSource:Dt({method:"DELETE",fullPath:"/v1/customers/{customer}/sources/{id}"}),deleteTaxId:Dt({method:"DELETE",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),listBalanceTransactions:Dt({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions",methodType:"list"}),listCashBalanceTransactions:Dt({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions",methodType:"list"}),listPaymentMethods:Dt({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods",methodType:"list"}),listSources:Dt({method:"GET",fullPath:"/v1/customers/{customer}/sources",methodType:"list"}),listTaxIds:Dt({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids",methodType:"list"}),retrieveBalanceTransaction:Dt({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),retrieveCashBalance:Dt({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance"}),retrieveCashBalanceTransaction:Dt({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions/{transaction}"}),retrievePaymentMethod:Dt({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods/{payment_method}"}),retrieveSource:Dt({method:"GET",fullPath:"/v1/customers/{customer}/sources/{id}"}),retrieveTaxId:Dt({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),search:Dt({method:"GET",fullPath:"/v1/customers/search",methodType:"search"}),updateBalanceTransaction:Dt({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),updateCashBalance:Dt({method:"POST",fullPath:"/v1/customers/{customer}/cash_balance"}),updateSource:Dt({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}"}),verifySource:Dt({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}/verify"})});var nv=E.method,mV=E.extend({retrieve:nv({method:"GET",fullPath:"/v1/disputes/{dispute}"}),update:nv({method:"POST",fullPath:"/v1/disputes/{dispute}"}),list:nv({method:"GET",fullPath:"/v1/disputes",methodType:"list"}),close:nv({method:"POST",fullPath:"/v1/disputes/{dispute}/close"})});var fV=E.method,hV=E.extend({create:fV({method:"POST",fullPath:"/v1/ephemeral_keys",validator:a((e,t)=>{if(!t.headers||!t.headers["Stripe-Version"])throw new Error("Passing apiVersion in a separate options hash is required to create an ephemeral key. See https://stripe.com/docs/api/versioning?lang=node")},"validator")}),del:fV({method:"DELETE",fullPath:"/v1/ephemeral_keys/{key}"})});var gV=E.method,yV=E.extend({retrieve:gV({method:"GET",fullPath:"/v1/events/{id}"}),list:gV({method:"GET",fullPath:"/v1/events",methodType:"list"})});var vV=E.method,_V=E.extend({retrieve:vV({method:"GET",fullPath:"/v1/exchange_rates/{rate_id}"}),list:vV({method:"GET",fullPath:"/v1/exchange_rates",methodType:"list"})});var ov=E.method,bV=E.extend({create:ov({method:"POST",fullPath:"/v1/file_links"}),retrieve:ov({method:"GET",fullPath:"/v1/file_links/{link}"}),update:ov({method:"POST",fullPath:"/v1/file_links/{link}"}),list:ov({method:"GET",fullPath:"/v1/file_links",methodType:"list"})});var Lwe=a((e,t,r)=>{let n=(Math.round(Math.random()*1e16)+Math.round(Math.random()*1e16)).toString();r["Content-Type"]=`multipart/form-data; boundary=${n}`;let o=new TextEncoder,i=new Uint8Array(0),s=o.encode(`\r
`);function u(p){let f=i,m=p instanceof Uint8Array?p:new Uint8Array(o.encode(p));i=new Uint8Array(f.length+m.length+2),i.set(f),i.set(m,f.length),i.set(s,i.length-2)}a(u,"push");function l(p){return`"${p.replace(/"|"/g,"%22").replace(/\r\n|\r|\n/g," ")}"`}a(l,"q");let d=t3(t);for(let p in d){if(!Object.prototype.hasOwnProperty.call(d,p))continue;let f=d[p];if(u(`--${n}`),Object.prototype.hasOwnProperty.call(f,"data")){let m=f;u(`Content-Disposition: form-data; name=${l(p)}; filename=${l(m.name||"blob")}`),u(`Content-Type: ${m.type||"application/octet-stream"}`),u(""),u(m.data)}else u(`Content-Disposition: form-data; name=${l(p)}`),u(""),u(f)}return u(`--${n}--`),i},"multipartDataGenerator");function SV(e,t,r,n){if(t=t||{},e!=="POST")return n(null,Fa(t));this._stripe._platformFunctions.tryBufferData(t).then(o=>{let i=Lwe(e,o,r);return n(null,i)}).catch(o=>n(o,null))}a(SV,"multipartRequestDataProcessor");var GR=E.method,wV=E.extend({create:GR({method:"POST",fullPath:"/v1/files",headers:{"Content-Type":"multipart/form-data"},host:"files.stripe.com"}),retrieve:GR({method:"GET",fullPath:"/v1/files/{file}"}),list:GR({method:"GET",fullPath:"/v1/files",methodType:"list"}),requestDataProcessor:SV});var hm=E.method,xV=E.extend({create:hm({method:"POST",fullPath:"/v1/invoiceitems"}),retrieve:hm({method:"GET",fullPath:"/v1/invoiceitems/{invoiceitem}"}),update:hm({method:"POST",fullPath:"/v1/invoiceitems/{invoiceitem}"}),list:hm({method:"GET",fullPath:"/v1/invoiceitems",methodType:"list"}),del:hm({method:"DELETE",fullPath:"/v1/invoiceitems/{invoiceitem}"})});var TV=E.method,EV=E.extend({retrieve:TV({method:"GET",fullPath:"/v1/invoice_payments/{invoice_payment}"}),list:TV({method:"GET",fullPath:"/v1/invoice_payments",methodType:"list"})});var iv=E.method,kV=E.extend({retrieve:iv({method:"GET",fullPath:"/v1/invoice_rendering_templates/{template}"}),list:iv({method:"GET",fullPath:"/v1/invoice_rendering_templates",methodType:"list"}),archive:iv({method:"POST",fullPath:"/v1/invoice_rendering_templates/{template}/archive"}),unarchive:iv({method:"POST",fullPath:"/v1/invoice_rendering_templates/{template}/unarchive"})});var Nr=E.method,PV=E.extend({create:Nr({method:"POST",fullPath:"/v1/invoices"}),retrieve:Nr({method:"GET",fullPath:"/v1/invoices/{invoice}"}),update:Nr({method:"POST",fullPath:"/v1/invoices/{invoice}"}),list:Nr({method:"GET",fullPath:"/v1/invoices",methodType:"list"}),del:Nr({method:"DELETE",fullPath:"/v1/invoices/{invoice}"}),addLines:Nr({method:"POST",fullPath:"/v1/invoices/{invoice}/add_lines"}),attachPayment:Nr({method:"POST",fullPath:"/v1/invoices/{invoice}/attach_payment"}),createPreview:Nr({method:"POST",fullPath:"/v1/invoices/create_preview"}),finalizeInvoice:Nr({method:"POST",fullPath:"/v1/invoices/{invoice}/finalize"}),listLineItems:Nr({method:"GET",fullPath:"/v1/invoices/{invoice}/lines",methodType:"list"}),markUncollectible:Nr({method:"POST",fullPath:"/v1/invoices/{invoice}/mark_uncollectible"}),pay:Nr({method:"POST",fullPath:"/v1/invoices/{invoice}/pay"}),removeLines:Nr({method:"POST",fullPath:"/v1/invoices/{invoice}/remove_lines"}),search:Nr({method:"GET",fullPath:"/v1/invoices/search",methodType:"search"}),sendInvoice:Nr({method:"POST",fullPath:"/v1/invoices/{invoice}/send"}),updateLines:Nr({method:"POST",fullPath:"/v1/invoices/{invoice}/update_lines"}),updateLineItem:Nr({method:"POST",fullPath:"/v1/invoices/{invoice}/lines/{line_item_id}"}),voidInvoice:Nr({method:"POST",fullPath:"/v1/invoices/{invoice}/void"})});var Fwe=E.method,IV=E.extend({retrieve:Fwe({method:"GET",fullPath:"/v1/mandates/{mandate}"})});var OV=E.method,WR="connect.stripe.com",AV=E.extend({basePath:"/",authorizeUrl(e,t){e=e||{},t=t||{};let r="oauth/authorize";return t.express&&(r=`express/${r}`),e.response_type||(e.response_type="code"),e.client_id||(e.client_id=this._stripe.getClientId()),e.scope||(e.scope="read_write"),`https://${WR}/${r}?${Fa(e)}`},token:OV({method:"POST",path:"oauth/token",host:WR}),deauthorize(e,...t){return e.client_id||(e.client_id=this._stripe.getClientId()),OV({method:"POST",path:"oauth/deauthorize",host:WR}).apply(this,[e,...t])}});var CV=E.method,RV=E.extend({retrieve:CV({method:"GET",fullPath:"/v1/payment_attempt_records/{id}"}),list:CV({method:"GET",fullPath:"/v1/payment_attempt_records",methodType:"list"})});var no=E.method,$V=E.extend({create:no({method:"POST",fullPath:"/v1/payment_intents"}),retrieve:no({method:"GET",fullPath:"/v1/payment_intents/{intent}"}),update:no({method:"POST",fullPath:"/v1/payment_intents/{intent}"}),list:no({method:"GET",fullPath:"/v1/payment_intents",methodType:"list"}),applyCustomerBalance:no({method:"POST",fullPath:"/v1/payment_intents/{intent}/apply_customer_balance"}),cancel:no({method:"POST",fullPath:"/v1/payment_intents/{intent}/cancel"}),capture:no({method:"POST",fullPath:"/v1/payment_intents/{intent}/capture"}),confirm:no({method:"POST",fullPath:"/v1/payment_intents/{intent}/confirm"}),incrementAuthorization:no({method:"POST",fullPath:"/v1/payment_intents/{intent}/increment_authorization"}),listAmountDetailsLineItems:no({method:"GET",fullPath:"/v1/payment_intents/{intent}/amount_details_line_items",methodType:"list"}),search:no({method:"GET",fullPath:"/v1/payment_intents/search",methodType:"search"}),verifyMicrodeposits:no({method:"POST",fullPath:"/v1/payment_intents/{intent}/verify_microdeposits"})});var gm=E.method,NV=E.extend({create:gm({method:"POST",fullPath:"/v1/payment_links"}),retrieve:gm({method:"GET",fullPath:"/v1/payment_links/{payment_link}"}),update:gm({method:"POST",fullPath:"/v1/payment_links/{payment_link}"}),list:gm({method:"GET",fullPath:"/v1/payment_links",methodType:"list"}),listLineItems:gm({method:"GET",fullPath:"/v1/payment_links/{payment_link}/line_items",methodType:"list"})});var av=E.method,zV=E.extend({create:av({method:"POST",fullPath:"/v1/payment_method_configurations"}),retrieve:av({method:"GET",fullPath:"/v1/payment_method_configurations/{configuration}"}),update:av({method:"POST",fullPath:"/v1/payment_method_configurations/{configuration}"}),list:av({method:"GET",fullPath:"/v1/payment_method_configurations",methodType:"list"})});var ym=E.method,jV=E.extend({create:ym({method:"POST",fullPath:"/v1/payment_method_domains"}),retrieve:ym({method:"GET",fullPath:"/v1/payment_method_domains/{payment_method_domain}"}),update:ym({method:"POST",fullPath:"/v1/payment_method_domains/{payment_method_domain}"}),list:ym({method:"GET",fullPath:"/v1/payment_method_domains",methodType:"list"}),validate:ym({method:"POST",fullPath:"/v1/payment_method_domains/{payment_method_domain}/validate"})});var Gc=E.method,DV=E.extend({create:Gc({method:"POST",fullPath:"/v1/payment_methods"}),retrieve:Gc({method:"GET",fullPath:"/v1/payment_methods/{payment_method}"}),update:Gc({method:"POST",fullPath:"/v1/payment_methods/{payment_method}"}),list:Gc({method:"GET",fullPath:"/v1/payment_methods",methodType:"list"}),attach:Gc({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/attach"}),detach:Gc({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/detach"})});var Ha=E.method,MV=E.extend({retrieve:Ha({method:"GET",fullPath:"/v1/payment_records/{id}"}),reportPayment:Ha({method:"POST",fullPath:"/v1/payment_records/report_payment"}),reportPaymentAttempt:Ha({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt"}),reportPaymentAttemptCanceled:Ha({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt_canceled"}),reportPaymentAttemptFailed:Ha({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt_failed"}),reportPaymentAttemptGuaranteed:Ha({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt_guaranteed"}),reportPaymentAttemptInformational:Ha({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt_informational"}),reportRefund:Ha({method:"POST",fullPath:"/v1/payment_records/{id}/report_refund"})});var Wc=E.method,qV=E.extend({create:Wc({method:"POST",fullPath:"/v1/payouts"}),retrieve:Wc({method:"GET",fullPath:"/v1/payouts/{payout}"}),update:Wc({method:"POST",fullPath:"/v1/payouts/{payout}"}),list:Wc({method:"GET",fullPath:"/v1/payouts",methodType:"list"}),cancel:Wc({method:"POST",fullPath:"/v1/payouts/{payout}/cancel"}),reverse:Wc({method:"POST",fullPath:"/v1/payouts/{payout}/reverse"})});var vm=E.method,UV=E.extend({create:vm({method:"POST",fullPath:"/v1/plans"}),retrieve:vm({method:"GET",fullPath:"/v1/plans/{plan}"}),update:vm({method:"POST",fullPath:"/v1/plans/{plan}"}),list:vm({method:"GET",fullPath:"/v1/plans",methodType:"list"}),del:vm({method:"DELETE",fullPath:"/v1/plans/{plan}"})});var _m=E.method,LV=E.extend({create:_m({method:"POST",fullPath:"/v1/prices"}),retrieve:_m({method:"GET",fullPath:"/v1/prices/{price}"}),update:_m({method:"POST",fullPath:"/v1/prices/{price}"}),list:_m({method:"GET",fullPath:"/v1/prices",methodType:"list"}),search:_m({method:"GET",fullPath:"/v1/prices/search",methodType:"search"})});var si=E.method,FV=E.extend({create:si({method:"POST",fullPath:"/v1/products"}),retrieve:si({method:"GET",fullPath:"/v1/products/{id}"}),update:si({method:"POST",fullPath:"/v1/products/{id}"}),list:si({method:"GET",fullPath:"/v1/products",methodType:"list"}),del:si({method:"DELETE",fullPath:"/v1/products/{id}"}),createFeature:si({method:"POST",fullPath:"/v1/products/{product}/features"}),deleteFeature:si({method:"DELETE",fullPath:"/v1/products/{product}/features/{id}"}),listFeatures:si({method:"GET",fullPath:"/v1/products/{product}/features",methodType:"list"}),retrieveFeature:si({method:"GET",fullPath:"/v1/products/{product}/features/{id}"}),search:si({method:"GET",fullPath:"/v1/products/search",methodType:"search"})});var sv=E.method,BV=E.extend({create:sv({method:"POST",fullPath:"/v1/promotion_codes"}),retrieve:sv({method:"GET",fullPath:"/v1/promotion_codes/{promotion_code}"}),update:sv({method:"POST",fullPath:"/v1/promotion_codes/{promotion_code}"}),list:sv({method:"GET",fullPath:"/v1/promotion_codes",methodType:"list"})});var ui=E.method,JV=E.extend({create:ui({method:"POST",fullPath:"/v1/quotes"}),retrieve:ui({method:"GET",fullPath:"/v1/quotes/{quote}"}),update:ui({method:"POST",fullPath:"/v1/quotes/{quote}"}),list:ui({method:"GET",fullPath:"/v1/quotes",methodType:"list"}),accept:ui({method:"POST",fullPath:"/v1/quotes/{quote}/accept"}),cancel:ui({method:"POST",fullPath:"/v1/quotes/{quote}/cancel"}),finalizeQuote:ui({method:"POST",fullPath:"/v1/quotes/{quote}/finalize"}),listComputedUpfrontLineItems:ui({method:"GET",fullPath:"/v1/quotes/{quote}/computed_upfront_line_items",methodType:"list"}),listLineItems:ui({method:"GET",fullPath:"/v1/quotes/{quote}/line_items",methodType:"list"}),pdf:ui({method:"GET",fullPath:"/v1/quotes/{quote}/pdf",host:"files.stripe.com",streaming:!0})});var bm=E.method,HV=E.extend({create:bm({method:"POST",fullPath:"/v1/refunds"}),retrieve:bm({method:"GET",fullPath:"/v1/refunds/{refund}"}),update:bm({method:"POST",fullPath:"/v1/refunds/{refund}"}),list:bm({method:"GET",fullPath:"/v1/refunds",methodType:"list"}),cancel:bm({method:"POST",fullPath:"/v1/refunds/{refund}/cancel"})});var QR=E.method,VV=E.extend({retrieve:QR({method:"GET",fullPath:"/v1/reviews/{review}"}),list:QR({method:"GET",fullPath:"/v1/reviews",methodType:"list"}),approve:QR({method:"POST",fullPath:"/v1/reviews/{review}/approve"})});var Bwe=E.method,ZV=E.extend({list:Bwe({method:"GET",fullPath:"/v1/setup_attempts",methodType:"list"})});var Ms=E.method,KV=E.extend({create:Ms({method:"POST",fullPath:"/v1/setup_intents"}),retrieve:Ms({method:"GET",fullPath:"/v1/setup_intents/{intent}"}),update:Ms({method:"POST",fullPath:"/v1/setup_intents/{intent}"}),list:Ms({method:"GET",fullPath:"/v1/setup_intents",methodType:"list"}),cancel:Ms({method:"POST",fullPath:"/v1/setup_intents/{intent}/cancel"}),confirm:Ms({method:"POST",fullPath:"/v1/setup_intents/{intent}/confirm"}),verifyMicrodeposits:Ms({method:"POST",fullPath:"/v1/setup_intents/{intent}/verify_microdeposits"})});var uv=E.method,GV=E.extend({create:uv({method:"POST",fullPath:"/v1/shipping_rates"}),retrieve:uv({method:"GET",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),update:uv({method:"POST",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),list:uv({method:"GET",fullPath:"/v1/shipping_rates",methodType:"list"})});var Sm=E.method,WV=E.extend({create:Sm({method:"POST",fullPath:"/v1/sources"}),retrieve:Sm({method:"GET",fullPath:"/v1/sources/{source}"}),update:Sm({method:"POST",fullPath:"/v1/sources/{source}"}),listSourceTransactions:Sm({method:"GET",fullPath:"/v1/sources/{source}/source_transactions",methodType:"list"}),verify:Sm({method:"POST",fullPath:"/v1/sources/{source}/verify"})});var wm=E.method,QV=E.extend({create:wm({method:"POST",fullPath:"/v1/subscription_items"}),retrieve:wm({method:"GET",fullPath:"/v1/subscription_items/{item}"}),update:wm({method:"POST",fullPath:"/v1/subscription_items/{item}"}),list:wm({method:"GET",fullPath:"/v1/subscription_items",methodType:"list"}),del:wm({method:"DELETE",fullPath:"/v1/subscription_items/{item}"})});var Qc=E.method,XV=E.extend({create:Qc({method:"POST",fullPath:"/v1/subscription_schedules"}),retrieve:Qc({method:"GET",fullPath:"/v1/subscription_schedules/{schedule}"}),update:Qc({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}"}),list:Qc({method:"GET",fullPath:"/v1/subscription_schedules",methodType:"list"}),cancel:Qc({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/cancel"}),release:Qc({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/release"})});var Hi=E.method,YV=E.extend({create:Hi({method:"POST",fullPath:"/v1/subscriptions"}),retrieve:Hi({method:"GET",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),update:Hi({method:"POST",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),list:Hi({method:"GET",fullPath:"/v1/subscriptions",methodType:"list"}),cancel:Hi({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),deleteDiscount:Hi({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}/discount"}),migrate:Hi({method:"POST",fullPath:"/v1/subscriptions/{subscription}/migrate"}),resume:Hi({method:"POST",fullPath:"/v1/subscriptions/{subscription}/resume"}),search:Hi({method:"GET",fullPath:"/v1/subscriptions/search",methodType:"search"})});var e8=E.method,t8=E.extend({retrieve:e8({method:"GET",fullPath:"/v1/tax_codes/{id}"}),list:e8({method:"GET",fullPath:"/v1/tax_codes",methodType:"list"})});var cv=E.method,r8=E.extend({create:cv({method:"POST",fullPath:"/v1/tax_ids"}),retrieve:cv({method:"GET",fullPath:"/v1/tax_ids/{id}"}),list:cv({method:"GET",fullPath:"/v1/tax_ids",methodType:"list"}),del:cv({method:"DELETE",fullPath:"/v1/tax_ids/{id}"})});var lv=E.method,n8=E.extend({create:lv({method:"POST",fullPath:"/v1/tax_rates"}),retrieve:lv({method:"GET",fullPath:"/v1/tax_rates/{tax_rate}"}),update:lv({method:"POST",fullPath:"/v1/tax_rates/{tax_rate}"}),list:lv({method:"GET",fullPath:"/v1/tax_rates",methodType:"list"})});var o8=E.method,i8=E.extend({create:o8({method:"POST",fullPath:"/v1/tokens"}),retrieve:o8({method:"GET",fullPath:"/v1/tokens/{token}"})});var xm=E.method,a8=E.extend({create:xm({method:"POST",fullPath:"/v1/topups"}),retrieve:xm({method:"GET",fullPath:"/v1/topups/{topup}"}),update:xm({method:"POST",fullPath:"/v1/topups/{topup}"}),list:xm({method:"GET",fullPath:"/v1/topups",methodType:"list"}),cancel:xm({method:"POST",fullPath:"/v1/topups/{topup}/cancel"})});var Va=E.method,s8=E.extend({create:Va({method:"POST",fullPath:"/v1/transfers"}),retrieve:Va({method:"GET",fullPath:"/v1/transfers/{transfer}"}),update:Va({method:"POST",fullPath:"/v1/transfers/{transfer}"}),list:Va({method:"GET",fullPath:"/v1/transfers",methodType:"list"}),createReversal:Va({method:"POST",fullPath:"/v1/transfers/{id}/reversals"}),listReversals:Va({method:"GET",fullPath:"/v1/transfers/{id}/reversals",methodType:"list"}),retrieveReversal:Va({method:"GET",fullPath:"/v1/transfers/{transfer}/reversals/{id}"}),updateReversal:Va({method:"POST",fullPath:"/v1/transfers/{transfer}/reversals/{id}"})});var Tm=E.method,u8=E.extend({create:Tm({method:"POST",fullPath:"/v1/webhook_endpoints"}),retrieve:Tm({method:"GET",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),update:Tm({method:"POST",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),list:Tm({method:"GET",fullPath:"/v1/webhook_endpoints",methodType:"list"}),del:Tm({method:"DELETE",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"})});var Jwe=Yt("apps",{Secrets:E9}),Hwe=Yt("billing",{Alerts:h3,CreditBalanceSummary:P3,CreditBalanceTransactions:O3,CreditGrants:A3,MeterEventAdjustments:J3,MeterEvents:K3,Meters:W3}),Vwe=Yt("billingPortal",{Configurations:x3,Sessions:k9}),Zwe=Yt("checkout",{Sessions:P9}),Kwe=Yt("climate",{Orders:X3,Products:u9,Suppliers:$9}),Gwe=Yt("entitlements",{ActiveEntitlements:f3,Features:q3}),Wwe=Yt("financialConnections",{Accounts:p3,Sessions:O9,Transactions:q9}),Qwe=Yt("forwarding",{Requests:w9}),Xwe=Yt("identity",{VerificationReports:K9,VerificationSessions:G9}),Ywe=Yt("issuing",{Authorizations:y3,Cardholders:b3,Cards:S3,Disputes:N3,PersonalizationDesigns:n9,PhysicalBundles:a9,Tokens:z9,Transactions:U9}),exe=Yt("radar",{EarlyFraudWarnings:j3,ValueListItems:H9,ValueLists:V9}),txe=Yt("reporting",{ReportRuns:_9,ReportTypes:S9}),rxe=Yt("sigma",{ScheduledQueryRuns:T9}),nxe=Yt("tax",{Associations:g3,Calculations:_3,Registrations:v9,Settings:C9,Transactions:L9}),oxe=Yt("terminal",{Configurations:T3,ConnectionTokens:k3,Locations:B3,OnboardingLinks:Q3,Readers:c9}),ixe=Yt("testHelpers",{ConfirmationTokens:E3,Customers:R3,Refunds:y9,TestClocks:N9,Issuing:Yt("issuing",{Authorizations:v3,Cards:w3,PersonalizationDesigns:o9,Transactions:F9}),Terminal:Yt("terminal",{Readers:l9}),Treasury:Yt("treasury",{InboundTransfers:L3,OutboundPayments:Y3,OutboundTransfers:t9,ReceivedCredits:d9,ReceivedDebits:f9})}),axe=Yt("treasury",{CreditReversals:C3,DebitReversals:$3,FinancialAccounts:U3,InboundTransfers:F3,OutboundPayments:e9,OutboundTransfers:r9,ReceivedCredits:m9,ReceivedDebits:g9,TransactionEntries:D9,Transactions:J9}),sxe=Yt("v2",{Billing:Yt("billing",{MeterEventAdjustments:H3,MeterEventSession:V3,MeterEventStream:Z3,MeterEvents:G3}),Core:Yt("core",{EventDestinations:D3,Events:M3})});var c8="api.stripe.com",l8="443",d8="/v1/",p8=zR,m8=8e4,f8=5,h8=.5,uxe=["name","version","url","partner_id"],g8=["authenticator","apiVersion","typescript","maxNetworkRetries","httpAgent","httpClient","timeout","host","port","protocol","telemetry","appInfo","stripeAccount","stripeContext"],cxe=a(e=>new Uy(e,E.MAX_BUFFERED_REQUEST_METRICS),"defaultRequestSenderFactory");function y8(e,t=cxe){r.PACKAGE_VERSION="20.0.0",r.API_VERSION=zR,r.USER_AGENT=Object.assign({bindings_version:r.PACKAGE_VERSION,lang:"node",publisher:"stripe",uname:null,typescript:!1},r3()),r.StripeResource=E,r.StripeContext=im,r.resources=Xc,r.HttpClient=Jr,r.HttpClientResponse=qa,r.CryptoProvider=Ma,r.webhooks=d3(e);function r(n,o={}){if(!(this instanceof r))return new r(n,o);let i=this._getPropsFromConfig(o);this._platformFunctions=e,Object.defineProperty(this,"_emitter",{value:this._platformFunctions.createEmitter(),enumerable:!1,configurable:!1,writable:!1}),this.VERSION=r.PACKAGE_VERSION,this.on=this._emitter.on.bind(this._emitter),this.once=this._emitter.once.bind(this._emitter),this.off=this._emitter.removeListener.bind(this._emitter);let s=i.httpAgent||null;this._api={host:i.host||c8,port:i.port||l8,protocol:i.protocol||"https",basePath:d8,version:i.apiVersion||p8,timeout:Iy("timeout",i.timeout,m8),maxNetworkRetries:Iy("maxNetworkRetries",i.maxNetworkRetries,2),agent:s,httpClient:i.httpClient||(s?this._platformFunctions.createNodeHttpClient(s):this._platformFunctions.createDefaultHttpClient()),dev:!1,stripeAccount:i.stripeAccount||null,stripeContext:i.stripeContext||null};let u=i.typescript||!1;u!==r.USER_AGENT.typescript&&(r.USER_AGENT.typescript=u),i.appInfo&&this._setAppInfo(i.appInfo),this._prepResources(),this._setAuthenticator(n,i.authenticator),this.errors=My,this.webhooks=r.webhooks,this._prevRequestMetrics=[],this._enableTelemetry=i.telemetry!==!1,this._requestSender=t(this),this.StripeResource=r.StripeResource}return a(r,"Stripe"),r.errors=My,r.createNodeHttpClient=e.createNodeHttpClient,r.createFetchHttpClient=e.createFetchHttpClient,r.createNodeCryptoProvider=e.createNodeCryptoProvider,r.createSubtleCryptoProvider=e.createSubtleCryptoProvider,r.prototype={_appInfo:void 0,on:null,off:null,once:null,VERSION:null,StripeResource:null,webhooks:null,errors:null,_api:null,_prevRequestMetrics:null,_emitter:null,_enableTelemetry:null,_requestSender:null,_platformFunctions:null,rawRequest(n,o,i,s){return this._requestSender._rawRequest(n,o,i,s)},_setAuthenticator(n,o){if(n&&o)throw new Error("Can't specify both apiKey and authenticator");if(!n&&!o)throw new Error("Neither apiKey nor config.authenticator provided");this._authenticator=n?Ty(n):o},_setAppInfo(n){if(n&&typeof n!="object")throw new Error("AppInfo must be an object.");if(n&&!n.name)throw new Error("AppInfo.name is required");n=n||{},this._appInfo=uxe.reduce((o,i)=>(typeof n[i]=="string"&&(o=o||{},o[i]=n[i]),o),{})},_setApiField(n,o){this._api[n]=o},getApiField(n){return this._api[n]},setClientId(n){this._clientId=n},getClientId(){return this._clientId},getConstant:a(n=>{switch(n){case"DEFAULT_HOST":return c8;case"DEFAULT_PORT":return l8;case"DEFAULT_BASE_PATH":return d8;case"DEFAULT_API_VERSION":return p8;case"DEFAULT_TIMEOUT":return m8;case"MAX_NETWORK_RETRY_DELAY_SEC":return f8;case"INITIAL_NETWORK_RETRY_DELAY_SEC":return h8}return r[n]},"getConstant"),getMaxNetworkRetries(){return this.getApiField("maxNetworkRetries")},_setApiNumberField(n,o,i){let s=Iy(n,o,i);this._setApiField(n,s)},getMaxNetworkRetryDelay(){return f8},getInitialNetworkRetryDelay(){return h8},getClientUserAgent(n){return this.getClientUserAgentSeeded(r.USER_AGENT,n)},getClientUserAgentSeeded(n,o){this._platformFunctions.getUname().then(i=>{var s;let u={};for(let d in n)Object.prototype.hasOwnProperty.call(n,d)&&(u[d]=encodeURIComponent((s=n[d])!==null&&s!==void 0?s:"null"));u.uname=encodeURIComponent(i||"UNKNOWN");let l=this.getApiField("httpClient");l&&(u.httplib=encodeURIComponent(l.getClientName())),this._appInfo&&(u.application=this._appInfo),o(JSON.stringify(u))})},getAppInfoAsString(){if(!this._appInfo)return"";let n=this._appInfo.name;return this._appInfo.version&&(n+=`/${this._appInfo.version}`),this._appInfo.url&&(n+=` (${this._appInfo.url})`),n},getTelemetryEnabled(){return this._enableTelemetry},_prepResources(){for(let n in Xc)Object.prototype.hasOwnProperty.call(Xc,n)&&(this[e3(n)]=new Xc[n](this))},_getPropsFromConfig(n){if(!n)return{};let o=typeof n=="string";if(!(n===Object(n)&&!Array.isArray(n))&&!o)throw new Error("Config must either be an object or a string");if(o)return{apiVersion:n};if(Object.keys(n).filter(u=>!g8.includes(u)).length>0)throw new Error(`Config object may only contain the following: ${g8.join(", ")}`);return n},parseEventNotification(n,o,i,s,u,l){let d=this.webhooks.constructEvent(n,o,i,s,u,l);return d.context&&(d.context=im.parse(d.context)),d.fetchEvent=()=>this._requestSender._rawRequest("GET",`/v2/core/events/${d.id}`,void 0,{stripeContext:d.context},["fetch_event"]),d.fetchRelatedObject=()=>d.related_object?this._requestSender._rawRequest("GET",d.related_object.url,void 0,{stripeContext:d.context},["fetch_related_object"]):Promise.resolve(null),d}},r}a(y8,"createStripe");var lxe=y8(new qy),v8=lxe;function dxe(){let e=process.env.STRIPE_SECRET_KEY;if(!e)throw new Error("STRIPE_SECRET_KEY environment variable is not set. Configure Stripe credentials.");return e}a(dxe,"getStripeSecretKey");var pxe={apiVersion:"2025-11-17.clover",typescript:!0,appInfo:{name:"AegisWallet",version:"1.0.0",url:"https://aegiswallet.com.br"}},XR=null;function Hn(){return XR||(XR=new v8(dxe(),pxe)),XR}a(Hn,"getStripeClient");var oo=class e{static{a(this,"StripeCustomerService")}static getIdempotencyKey(t,r){return`clerk_${t}_${r}_${Date.now()}`}static async createCustomer(t,r,n){let o=Hn();try{let i=e.getIdempotencyKey(t,"create_customer"),s=await o.customers.create({email:r,name:n,metadata:{clerkUserId:t}},{idempotencyKey:i});return N.info("Stripe customer created",{clerkUserId:t,stripeCustomerId:s.id,idempotencyKey:i}),s.id}catch(i){throw N.error("Failed to create Stripe customer",{clerkUserId:t,error:i instanceof Error?i.message:"Unknown error"}),new Error("Falha ao criar cliente no Stripe")}}static async getOrCreateCustomer(t,r,n){let o=Hn();try{let i=await o.customers.search({query:`metadata['clerkUserId']:'${t}'`,limit:1});if(i.data.length>0)return i.data[0].id;let s=await o.customers.list({email:r,limit:1});return s.data.length>0?(await o.customers.update(s.data[0].id,{metadata:{clerkUserId:t}}),s.data[0].id):await e.createCustomer(t,r,n)}catch(i){throw N.error("Failed to get/create Stripe customer",{clerkUserId:t,error:i instanceof Error?i.message:"Unknown error"}),new Error("Falha ao processar cliente no Stripe")}}static async updateCustomer(t,r,n){let o=Hn();try{let i={};n&&(i.idempotencyKey=e.getIdempotencyKey(n,"update_customer")),await o.customers.update(t,r,i)}catch(i){throw N.error("Failed to update Stripe customer",{stripeCustomerId:t,error:i instanceof Error?i.message:"Unknown error"}),i}}static async deleteCustomer(t){let r=Hn();try{try{await r.customers.retrieve(t)}catch(o){if(o?.statusCode===404){N.info("Stripe customer already deleted",{stripeCustomerId:t});return}throw o}let n=await r.subscriptions.list({customer:t,status:"active"});for(let o of n.data)try{await r.subscriptions.cancel(o.id),N.info("Stripe subscription canceled",{subscriptionId:o.id,customerId:t})}catch(i){N.warn("Failed to cancel subscription, continuing",{subscriptionId:o.id,error:i instanceof Error?i.message:"Unknown error"})}await r.customers.del(t),N.info("Stripe customer deleted",{stripeCustomerId:t})}catch(n){if(n?.statusCode===404){N.info("Stripe customer already deleted",{stripeCustomerId:t});return}throw N.error("Failed to delete Stripe customer",{stripeCustomerId:t,error:n instanceof Error?n.message:"Unknown error",statusCode:n?.statusCode}),n}}};Tn();Lr();var mxe=c.object({STRIPE_SECRET_KEY:c.string().min(1,"STRIPE_SECRET_KEY is required"),STRIPE_PUBLISHABLE_KEY:c.string().min(1,"STRIPE_PUBLISHABLE_KEY is required"),STRIPE_WEBHOOK_SECRET:c.string().min(1,"STRIPE_WEBHOOK_SECRET is required"),STRIPE_SUCCESS_URL:c.string().url("STRIPE_SUCCESS_URL must be a valid URL"),STRIPE_CANCEL_URL:c.string().url("STRIPE_CANCEL_URL must be a valid URL"),STRIPE_PORTAL_RETURN_URL:c.string().url("STRIPE_PORTAL_RETURN_URL must be a valid URL"),STRIPE_PRICE_BASIC_MONTHLY:c.string().min(1,"STRIPE_PRICE_BASIC_MONTHLY is required"),STRIPE_PRICE_ADVANCED_MONTHLY:c.string().min(1,"STRIPE_PRICE_ADVANCED_MONTHLY is required")}),ci;try{ci=mxe.parse(process.env)}catch{ci=process.env}var qs={secretKey:ci?.STRIPE_SECRET_KEY,publishableKey:ci?.STRIPE_PUBLISHABLE_KEY,webhookSecret:ci?.STRIPE_WEBHOOK_SECRET,successUrl:ci?.STRIPE_SUCCESS_URL,cancelUrl:ci?.STRIPE_CANCEL_URL,portalReturnUrl:ci?.STRIPE_PORTAL_RETURN_URL},_8={BASIC_MONTHLY:ci?.STRIPE_PRICE_BASIC_MONTHLY,ADVANCED_MONTHLY:ci?.STRIPE_PRICE_ADVANCED_MONTHLY},fxe=[{id:"free",name:"Gratuito",priceCents:0,features:["Dashboard b\xE1sico","1 conta banc\xE1ria","Transa\xE7\xF5es limitadas"],aiModels:[]},{id:"basic",name:"B\xE1sico",priceCents:5900,features:["Chat IA (Gemini Flash)","3 contas banc\xE1rias","Automa\xE7\xF5es b\xE1sicas"],aiModels:["gemini-flash"]},{id:"advanced",name:"Avan\xE7ado",priceCents:11900,features:["Todas as IAs","Contas ilimitadas","API access","Suporte priorit\xE1rio"],aiModels:["gpt-4o","claude-sonnet","gemini-pro","gemini-flash"]}],Yc=a(e=>fxe.find(t=>t.id===e),"getPlanById"),Em=a(e=>e===_8.BASIC_MONTHLY?Yc("basic"):e===_8.ADVANCED_MONTHLY?Yc("advanced"):null,"getPlanByStripePrice"),b8=a(e=>{let t=Yc(e);return t?t.aiModels.length>0:!1},"canAccessAI"),S8=a(e=>{let t=Yc(e);return t?t.aiModels:[]},"getAllowedModels");var Vi=class{static{a(this,"StripeSubscriptionService")}static async createCheckoutSession(t,r,n,o,i){let s=Hn(),u=Fr();try{let[l]=await u.select().from(J).where(V(J.id,t)).limit(1);if(!l?.email)throw new Error("Usu\xE1rio n\xE3o encontrado ou sem email");let d=await oo.getOrCreateCustomer(t,l.email,l.fullName||void 0),p=i||qs.successUrl?.replace(/\/billing\/success$/,"")||"https://app.aegiswallet.com.br",f=n||`${p}/billing/success`,m=o||`${p}/billing/cancel`,y=await s.checkout.sessions.create({customer:d,mode:"subscription",payment_method_types:["card"],line_items:[{price:r,quantity:1}],success_url:f,cancel_url:m,metadata:{clerkUserId:t},allow_promotion_codes:!0});if(!y.url)throw new Error("Stripe n\xE3o retornou URL de checkout v\xE1lida");return{sessionId:y.id,checkoutUrl:y.url}}catch(l){throw N.error("Failed to create checkout session",{userId:t,priceId:r,requestOrigin:i,error:l instanceof Error?l.message:"Unknown error"}),l}}static async createPortalSession(t,r){let n=Hn();try{return{portalUrl:(await n.billingPortal.sessions.create({customer:t,return_url:r||qs.portalReturnUrl||"https://app.aegiswallet.com.br/settings/billing"})).url}}catch(o){throw N.error("Failed to create portal session",{stripeCustomerId:t,error:o instanceof Error?o.message:"Unknown error"}),o}}static async getSubscription(t){let r=Fr();try{let n=await r.select({subscription:je,plan:en}).from(je).leftJoin(en,V(je.planId,en.id)).where(V(je.userId,t)).limit(1);if(n.length===0)return N.info("No subscription found for user",{userId:t}),null;let{subscription:o,plan:i}=n[0];return o?(N.info("Retrieved subscription for user",{userId:t,subscriptionId:o.id,status:o.status,planId:o.planId}),{subscription:o,plan:i||null}):(N.warn("Subscription record is null despite query success",{userId:t}),null)}catch(n){throw N.error("Failed to get subscription",{userId:t,error:n instanceof Error?n.message:"Unknown error"}),n}}static async syncSubscriptionFromStripe(t){let r=Hn(),n=Fr();try{let i=await r.subscriptions.retrieve(t),s=typeof i.customer=="string"?i.customer:i.customer.id,[u]=await n.select().from(je).where(V(je.stripeCustomerId,s)).limit(1);if(!u)return N.warn("Subscription sync skipped: User not found for customer",{customerId:s,stripeSubscriptionId:t}),null;let l=i.items.data[0]?.price?.id;if(!l)throw N.error("No price ID found in subscription",{stripeSubscriptionId:t,items:i.items.data.length}),new Error("Pre\xE7o n\xE3o encontrado na assinatura do Stripe");let d=Em(l),p=d?d.id:"free",f=i.status,m=f==="incomplete"||f==="incomplete_expired"||f==="paused"?"canceled":f,y=i.items.data[0];if(!y)throw N.error("No subscription items found",{stripeSubscriptionId:t}),new Error("Item da assinatura n\xE3o encontrado");let g=y.current_period_start,h=y.current_period_end;if(!(g&&h))throw N.error("Missing billing period dates",{stripeSubscriptionId:t,periodStart:g,periodEnd:h}),new Error("Datas do per\xEDodo de cobran\xE7a n\xE3o encontradas");let v={stripeSubscriptionId:i.id,planId:p,status:m,currentPeriodStart:new Date(g*1e3),currentPeriodEnd:new Date(h*1e3)},[S]=await n.update(je).set({...v,cancelAtPeriodEnd:i.cancel_at_period_end,canceledAt:i.canceled_at?new Date(i.canceled_at*1e3):null,trialStart:i.trial_start?new Date(i.trial_start*1e3):null,trialEnd:i.trial_end?new Date(i.trial_end*1e3):null,updatedAt:new Date}).where(V(je.id,u.id)).returning();return N.info("Subscription synced from Stripe",{userId:u.userId,subscriptionId:i.id,status:m,planId:p,previousStatus:u.status,previousPlanId:u.planId}),S}catch(o){throw N.error("Failed to sync subscription",{stripeSubscriptionId:t,error:o instanceof Error?o.message:"Unknown error",stack:o instanceof Error?o.stack:void 0}),o}}static async cancelSubscription(t,r=!1){let n=Hn(),o=Fr();try{let[i]=await o.select().from(je).where(V(je.userId,t)).limit(1);if(!i?.stripeSubscriptionId)throw new Error("Assinatura n\xE3o encontrada");return r?await n.subscriptions.cancel(i.stripeSubscriptionId):await n.subscriptions.update(i.stripeSubscriptionId,{cancel_at_period_end:!0}),!0}catch(i){throw N.error("Failed to cancel subscription",{userId:t,error:i instanceof Error?i.message:"Unknown error"}),i}}};var w8=new Oe,hxe=c.object({priceId:c.string().min(1),successUrl:c.string().url().optional(),cancelUrl:c.string().url().optional()});w8.post("/",fe,xe({windowMs:6e4,max:30}),Ve("json",hxe),async e=>{let{user:t}=e.get("auth"),{priceId:r,successUrl:n,cancelUrl:o}=e.req.valid("json"),i=e.get("requestId");if(!t?.id)return N.warn("Checkout request missing user authentication",{requestId:i}),e.json({error:"Usu\xE1rio n\xE3o autenticado"},401);if(!t?.email)return N.warn("Checkout request missing user email",{requestId:i,userId:t.id}),e.json({error:"Email do usu\xE1rio n\xE3o encontrado"},400);try{let s=e.req.header("origin")||e.req.header("referer")?.replace(/\/$/,""),u=await Vi.createCheckoutSession(t.id,r,n,o,s);return N.info("Checkout session created successfully",{userId:t.id,priceId:r,requestOrigin:s,sessionId:u.sessionId}),e.json({data:u,meta:{requestId:i}})}catch(s){let u=s instanceof Error?s.message:"Unknown error";return N.error("Checkout creation failed",{userId:t.id,priceId:r,error:u,requestId:i}),u.includes("Usu\xE1rio n\xE3o encontrado")?e.json({error:"Usu\xE1rio n\xE3o encontrado"},404):u.includes("plano")||u.includes("price")?e.json({error:"Plano inv\xE1lido ou n\xE3o encontrado"},400):u.includes("Stripe")?e.json({error:"Servi\xE7o de pagamento temporariamente indispon\xEDvel"},503):e.json({error:"Falha ao criar checkout"},500)}});var x8=w8;var YR=new Oe,gxe=c.object({limit:c.coerce.number().min(1).max(100).default(10),offset:c.coerce.number().min(0).default(0),status:c.enum(["draft","open","paid","void","uncollectible"]).optional()});YR.get("/",fe,xe({windowMs:6e4,max:30}),Ve("query",gxe),async e=>{let{user:t}=e.get("auth"),{limit:r,offset:n,status:o}=e.req.valid("query"),i=e.get("requestId");try{let s=[],[u]=[{count:0}];return e.json({data:{invoices:s,total:Number(u?.count||0),hasMore:!1},meta:{requestId:i}})}catch(s){return N.error("Failed to fetch invoices",{userId:t.id,error:s instanceof Error?s.message:"Unknown error",requestId:i}),e.json({error:"Falha ao buscar faturas"},500)}});YR.get("/:id/pdf",fe,xe({windowMs:6e4,max:10}),async e=>{let{user:t}=e.get("auth"),r=e.req.param("id"),n=e.get("requestId");try{N.info("Invoice PDF download requested",{userId:t.id,invoiceId:r,requestId:n});let o=new Blob(["Mock PDF content"],{type:"application/pdf"});return new Response(o,{headers:{"Content-Type":"application/pdf","Content-Disposition":`attachment; filename="fatura-${r}.pdf"`}})}catch(o){return N.error("Failed to download invoice PDF",{userId:t.id,invoiceId:r,error:o instanceof Error?o.message:"Unknown error",requestId:n}),e.json({error:"Falha ao baixar fatura"},500)}});var T8=YR;ir();Tn();Lr();var E8=new Oe,yxe=c.object({limit:c.coerce.number().min(1).max(100).default(10),offset:c.coerce.number().min(0).default(0)});E8.get("/",fe,xe({windowMs:6e4,max:30}),Ve("query",yxe),async e=>{let{user:t}=e.get("auth"),{limit:r,offset:n}=e.req.valid("query"),o=e.get("requestId"),i=Fr();try{let s=await i.select().from(yr).where(V(yr.userId,t.id)).orderBy(Mt(yr.createdAt)).limit(r).offset(n),[u]=await i.select({count:q`count(*)`}).from(yr).where(V(yr.userId,t.id));return e.json({data:{payments:s,total:Number(u.count)},meta:{requestId:o}})}catch(s){return N.error("Failed to fetch payment history",{userId:t.id,error:s instanceof Error?s.message:"Unknown error",requestId:o}),e.json({error:"Falha ao buscar hist\xF3rico de pagamentos"},500)}});var k8=E8;var km=new Oe,vxe=c.object({type:c.enum(["card","pix","bank_account"]),isDefault:c.boolean().optional(),cardNumber:c.string().optional(),expiryMonth:c.number().min(1).max(12).optional(),expiryYear:c.number().min(new Date().getFullYear()).optional(),cvc:c.string().optional(),pixKey:c.string().optional(),pixKeyType:c.enum(["cpf","cnpj","phone","email","random"]).optional(),bankCode:c.string().optional(),accountNumber:c.string().optional(),accountType:c.enum(["checking","savings"]).optional(),accountHolderName:c.string().optional(),documentNumber:c.string().optional()}),_xe=c.object({isDefault:c.boolean()});km.get("/",fe,xe({windowMs:6e4,max:30}),async e=>{let{user:t}=e.get("auth"),r=e.get("requestId");try{let n=[];return e.json({data:{paymentMethods:n,hasMore:!1,total:0},meta:{requestId:r}})}catch(n){return N.error("Failed to fetch payment methods",{userId:t.id,error:n instanceof Error?n.message:"Unknown error",requestId:r}),e.json({error:"Falha ao buscar m\xE9todos de pagamento"},500)}});km.post("/",fe,xe({windowMs:6e4,max:10}),Ve("json",vxe),async e=>{let{user:t}=e.get("auth"),r=e.req.valid("json"),n=e.get("requestId");try{return N.info("Payment method addition requested",{userId:t.id,type:r.type,requestId:n}),e.json({data:{paymentMethod:{id:"pm_mock_id",type:r.type,isDefault:r.isDefault,createdAt:new Date().toISOString()}},meta:{requestId:n}})}catch(o){return N.error("Failed to add payment method",{userId:t.id,error:o instanceof Error?o.message:"Unknown error",requestId:n}),e.json({error:"Falha ao adicionar m\xE9todo de pagamento"},500)}});km.put("/:id",fe,xe({windowMs:6e4,max:20}),Ve("json",_xe),async e=>{let{user:t}=e.get("auth"),r=e.req.param("id"),n=e.req.valid("json"),o=e.get("requestId");try{return N.info("Payment method update requested",{userId:t.id,paymentMethodId:r,data:n,requestId:o}),e.json({data:{paymentMethod:{id:r,isDefault:n.isDefault}},meta:{requestId:o}})}catch(i){return N.error("Failed to update payment method",{userId:t.id,paymentMethodId:r,error:i instanceof Error?i.message:"Unknown error",requestId:o}),e.json({error:"Falha ao atualizar m\xE9todo de pagamento"},500)}});km.delete("/:id",fe,xe({windowMs:6e4,max:10}),async e=>{let{user:t}=e.get("auth"),r=e.req.param("id"),n=e.get("requestId");try{return N.info("Payment method deletion requested",{userId:t.id,paymentMethodId:r,requestId:n}),e.json({data:{success:!0},meta:{requestId:n}})}catch(o){return N.error("Failed to remove payment method",{userId:t.id,paymentMethodId:r,error:o instanceof Error?o.message:"Unknown error",requestId:n}),e.json({error:"Falha ao remover m\xE9todo de pagamento"},500)}});var P8=km;ir();Tn();Lr();var I8=new Oe;I8.get("/",async e=>{let t=e.get("requestId"),r=Fr();try{let o=(await r.select().from(en).where(V(en.isActive,!0)).orderBy(Si(en.displayOrder))).map(i=>({...i,priceFormatted:new Intl.NumberFormat("pt-BR",{style:"currency",currency:i.currency}).format(i.priceCents/100)}));return e.json({data:{plans:o},meta:{requestId:t}})}catch(n){return N.error("Failed to fetch plans",{error:n instanceof Error?n.message:"Unknown error",requestId:t}),e.json({error:"Falha ao buscar planos"},500)}});var O8=I8;var A8=new Oe,bxe=c.object({returnUrl:c.string().url().optional()});A8.post("/",fe,xe({windowMs:6e4,max:10}),Ve("json",bxe),async e=>{let{user:t}=e.get("auth"),{returnUrl:r}=e.req.valid("json"),n=e.get("requestId");try{let o=await Vi.getSubscription(t.id);if(!o?.subscription?.stripeCustomerId)return e.json({error:"Assinatura n\xE3o encontrada"},400);let i=await Vi.createPortalSession(o.subscription.stripeCustomerId,r);return N.info("Portal session created",{userId:t.id}),e.json({data:i,meta:{requestId:n}})}catch(o){return N.error("Portal creation failed",{userId:t.id,error:o instanceof Error?o.message:"Unknown error",requestId:n}),e.json({error:"Falha ao criar portal"},500)}});var C8=A8;var R8=new Oe;R8.get("/",fe,xe({windowMs:6e4,max:30}),async e=>{let{user:t}=e.get("auth"),r=e.get("requestId");try{let n=await Vi.getSubscription(t.id),o=n?.plan||Yc("free"),i=o?.id||"free",s=b8(i),u=S8(i);return e.json({data:{subscription:n?.subscription||null,plan:o,canAccessAI:s,allowedModels:u},meta:{requestId:r}})}catch(n){return N.error("Failed to get subscription",{userId:t.id,error:n instanceof Error?n.message:"Unknown error",requestId:r}),e.json({error:"Falha ao buscar assinatura"},500)}});var $8=R8;ir();Tn();Lr();var li=class{static{a(this,"StripeWebhookService")}static constructEvent(t,r){let n=Hn();if(!qs.webhookSecret)throw N.error("Webhook secret not configured",{hasConfig:!!qs.webhookSecret}),new Error("STRIPE_WEBHOOK_SECRET n\xE3o est\xE1 configurado. Verifique as vari\xE1veis de ambiente.");try{let o=n.webhooks.constructEvent(t,r,qs.webhookSecret);return N.info("Webhook event constructed successfully",{type:o.type,id:o.id}),o}catch(o){let i=o instanceof Error?o.message:"Unknown error";throw N.error("Failed to construct webhook event",{error:i,signatureLength:r?.length}),new Error(`Falha ao validar webhook: ${i}`)}}static async handleCheckoutSessionCompleted(t){let r=Fr(),n=t.metadata?.clerkUserId,o=typeof t.customer=="string"?t.customer:t.customer?.id,i=typeof t.subscription=="string"?t.subscription:t.subscription?.id;if(!(n&&o&&i))throw N.warn("Checkout session missing required metadata",{sessionId:t.id,hasClerkUserId:!!n,hasCustomerId:!!o,hasSubscriptionId:!!i}),new Error("Checkout session incompleto - metadados obrigat\xF3rios n\xE3o encontrados");try{let[s]=await r.select().from(je).where(V(je.stripeSubscriptionId,i)).limit(1);if(s){N.info("Checkout session already processed",{sessionId:t.id,subscriptionId:i,existingStatus:s.status});return}let l=await Hn().subscriptions.retrieve(i),d=l.items.data[0]?.price?.id;if(!d)throw new Error("Price ID n\xE3o encontrado na assinatura do Stripe");let p=Em(d),f=p?p.id:"free",m=l.items.data[0];if(!m)throw new Error("Item da assinatura n\xE3o encontrado");let y=m.current_period_start,g=m.current_period_end;if(!(y&&g))throw new Error("Datas do per\xEDodo de cobran\xE7a n\xE3o encontradas");let h=l.status,v=h==="incomplete"||h==="incomplete_expired"||h==="paused"?"canceled":h;await r.update(je).set({stripeCustomerId:o,stripeSubscriptionId:i,planId:f,status:v,currentPeriodStart:new Date(y*1e3),currentPeriodEnd:new Date(g*1e3),updatedAt:new Date}).where(V(je.userId,n)),N.info("Checkout session completed successfully",{clerkUserId:n,sessionId:t.id,subscriptionId:i,status:v,planId:f})}catch(s){let u=s instanceof Error?s.message:"Unknown error";throw N.error("Failed to process checkout session completion",{sessionId:t.id,clerkUserId:n,error:u}),s}}static async handleSubscriptionCreated(t){}static async handleSubscriptionUpdated(t){let r=Fr(),n=typeof t.customer=="string"?t.customer:t.customer.id,[o]=await r.select().from(je).where(V(je.stripeCustomerId,n)).limit(1);if(!o){N.warn("Subscription update webhook subscription not found",{customerId:n,subscriptionId:t.id});return}let i=t.items.data[0]?.price?.id;if(!i){N.error("No price ID found in subscription update",{subscriptionId:t.id});return}let s=Em(i),u=s?s.id:"free",l=t.items.data[0];if(!l){N.error("No subscription items found in update",{subscriptionId:t.id});return}let d=l.current_period_start,p=l.current_period_end,f=t.status,m=f==="incomplete"||f==="incomplete_expired"||f==="paused"?"canceled":f;await r.update(je).set({stripeSubscriptionId:t.id,planId:u,status:m,currentPeriodStart:new Date(d*1e3),currentPeriodEnd:new Date(p*1e3),cancelAtPeriodEnd:t.cancel_at_period_end,canceledAt:t.canceled_at?new Date(t.canceled_at*1e3):null,updatedAt:new Date}).where(V(je.id,o.id)),N.info("Subscription updated webhook processed successfully",{subscriptionId:t.id,previousStatus:o.status,newStatus:m,previousPlanId:o.planId,newPlanId:u})}static async handleSubscriptionDeleted(t){let r=Fr(),n=typeof t.customer=="string"?t.customer:t.customer.id,[o]=await r.select().from(je).where(V(je.stripeCustomerId,n)).limit(1);if(!o){N.warn("Subscription delete webhook subscription not found",{customerId:n,subscriptionId:t.id});return}await r.update(je).set({status:"canceled",canceledAt:new Date,updatedAt:new Date}).where(V(je.stripeCustomerId,n)),N.info("Subscription deleted webhook processed successfully",{subscriptionId:t.id,userId:o.userId,previousStatus:o.status})}static async handleInvoicePaid(t){let r=Fr(),n=t,o=typeof n.customer=="string"?n.customer:n.customer?.id;if(!o){N.warn("Invoice paid webhook missing customer ID",{invoiceId:n.id});return}let[i]=await r.select().from(je).where(V(je.stripeCustomerId,o)).limit(1);if(!i){N.warn("Invoice paid webhook subscription not found",{invoiceId:n.id,customerId:o});return}let[s]=await r.select().from(yr).where(V(yr.stripeInvoiceId,n.id)).limit(1);if(s){N.info("Invoice payment already processed",{invoiceId:n.id,existingStatus:s.status});return}try{await r.insert(yr).values({userId:i.userId,subscriptionId:i.id,stripePaymentIntentId:typeof n.payment_intent=="string"?n.payment_intent:n.payment_intent?.id,stripeInvoiceId:n.id,stripeChargeId:typeof n.charge=="string"?n.charge:n.charge?.id,amountCents:n.amount_paid,currency:n.currency,status:"succeeded",description:n.description||"Assinatura AegisWallet",receiptUrl:n.hosted_invoice_url,invoicePdf:n.invoice_pdf}),N.info("Invoice paid webhook processed successfully",{invoiceId:n.id,userId:i.userId,amount:n.amount_paid,currency:n.currency})}catch(u){let l=u instanceof Error?u.message:"Unknown error";throw N.error("Failed to process invoice payment",{invoiceId:n.id,userId:i.userId,error:l}),u}}static async handleInvoicePaymentFailed(t){let r=Fr(),n=t,o=typeof n.customer=="string"?n.customer:n.customer?.id;if(!o){N.warn("Invoice payment failed webhook missing customer ID",{invoiceId:n.id});return}let[i]=await r.select().from(je).where(V(je.stripeCustomerId,o)).limit(1);if(!i){N.warn("Invoice payment failed webhook subscription not found",{invoiceId:n.id,customerId:o});return}let[s]=await r.select().from(yr).where(V(yr.stripeInvoiceId,n.id)).limit(1);if(s){N.info("Invoice payment failure already processed",{invoiceId:n.id,existingStatus:s.status});return}try{await r.insert(yr).values({userId:i.userId,subscriptionId:i.id,stripePaymentIntentId:typeof n.payment_intent=="string"?n.payment_intent:n.payment_intent?.id,stripeInvoiceId:n.id,stripeChargeId:typeof n.charge=="string"?n.charge:n.charge?.id,amountCents:n.amount_due,currency:n.currency,status:"failed",description:n.description||"Falha no pagamento",failureCode:n.last_finalization_error?.code,failureMessage:t.last_finalization_error?.message}),N.warn("Invoice payment failed webhook processed successfully",{invoiceId:n.id,userId:i.userId,amount:n.amount_due,currency:n.currency,failureCode:n.last_finalization_error?.code,failureMessage:t.last_finalization_error?.message})}catch(u){let l=u instanceof Error?u.message:"Unknown error";throw N.error("Failed to process invoice payment failure",{invoiceId:n.id,userId:i.userId,error:l}),u}}};var N8=new Oe;N8.post("/",async e=>{let t=e.req.header("stripe-signature"),r=await e.req.text();if(!t)return e.json({error:"Missing stripe-signature header"},400);try{let n=li.constructEvent(r,t);switch(N.info("Stripe webhook received",{type:n.type,id:n.id}),n.type){case"checkout.session.completed":await li.handleCheckoutSessionCompleted(n.data.object);break;case"customer.subscription.created":await li.handleSubscriptionCreated(n.data.object);break;case"customer.subscription.updated":await li.handleSubscriptionUpdated(n.data.object);break;case"customer.subscription.deleted":await li.handleSubscriptionDeleted(n.data.object);break;case"invoice.paid":await li.handleInvoicePaid(n.data.object);break;case"invoice.payment_failed":await li.handleInvoicePaymentFailed(n.data.object);break;default:N.info("Unhandled webhook event type",{type:n.type})}return e.json({received:!0})}catch(n){return N.error("Webhook processing failed",{error:n instanceof Error?n.message:"Unknown error"}),e.json({error:"Webhook handler failed"},400)}});var z8=N8;var Zi=new Oe;Zi.route("/checkout",x8);Zi.route("/subscription",$8);Zi.route("/portal",C8);Zi.route("/plans",O8);Zi.route("/webhook",z8);Zi.route("/payment-history",k8);Zi.route("/payment-methods",P8);Zi.route("/invoices",T8);var e$=Zi;ir();Lr();var t$=new Oe,Sxe=c.object({categoryId:c.string().optional(),endDate:c.string().datetime().optional(),limit:c.coerce.number().min(1).max(100).default(20),offset:c.coerce.number().min(0).default(0),query:c.string().min(1,"Query \xE9 obrigat\xF3ria"),startDate:c.string().datetime().optional()}),wxe=c.object({accountId:c.string().optional(),categoryId:c.string().optional(),endDate:c.string().datetime().optional(),limit:c.coerce.number().min(1).max(100).default(20),offset:c.coerce.number().min(0).default(0),query:c.string().min(1,"Query \xE9 obrigat\xF3ria"),startDate:c.string().datetime().optional()});t$.get("/events/search",fe,xe({max:30,message:"Muitas requisi\xE7\xF5es, tente novamente mais tarde",windowMs:60*1e3}),Ve("query",Sxe),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.valid("query"),o=e.get("requestId");try{let i=[V(mt.userId,t.id),qr(mt.title,`%${n.query}%`)];n.categoryId&&i.push(V(mt.categoryId,n.categoryId)),n.startDate&&i.push(gr(mt.startDate,new Date(n.startDate))),n.endDate&&i.push(or(mt.endDate,new Date(n.endDate)));let s=await r.select().from(mt).where(Pe(...i)).orderBy(Mt(mt.createdAt)).limit(n.limit).offset(n.offset);return N.info("Calendar events searched",{limit:n.limit,query:n.query,requestId:o,resultsCount:s.length,userId:t.id}),e.json({data:s,meta:{requestId:o,retrievedAt:new Date().toISOString()}})}catch(i){return N.error("Failed to search calendar events",{error:i instanceof Error?i.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"CALENDAR_SEARCH_ERROR",error:"Falha ao buscar eventos"},500)}});t$.get("/transactions/search",fe,xe({max:30,message:"Muitas requisi\xE7\xF5es, tente novamente mais tarde",windowMs:60*1e3}),Ve("query",wxe),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.valid("query"),o=e.get("requestId");try{let i=[V(oe.userId,t.id),qr(oe.description,`%${n.query}%`)];n.accountId&&i.push(V(oe.accountId,n.accountId)),n.categoryId&&i.push(V(oe.categoryId,n.categoryId)),n.startDate&&i.push(gr(oe.transactionDate,new Date(n.startDate))),n.endDate&&i.push(or(oe.transactionDate,new Date(n.endDate)));let s=await r.select().from(oe).where(Pe(...i)).orderBy(Mt(oe.createdAt)).limit(n.limit).offset(n.offset);return N.info("Calendar transactions searched",{limit:n.limit,query:n.query,requestId:o,resultsCount:s.length,userId:t.id}),e.json({data:s,meta:{requestId:o,retrievedAt:new Date().toISOString()}})}catch(i){return N.error("Failed to search calendar transactions",{error:i instanceof Error?i.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"CALENDAR_SEARCH_ERROR",error:"Falha ao buscar transa\xE7\xF5es"},500)}});var r$=t$;ir();Lr();var n$=class{constructor(t){this.db=t}static{a(this,"ComplianceService")}async getUserConsents(t){try{return await this.db.select().from(qt).where(V(qt.userId,t)).orderBy(Mt(qt.createdAt))}catch(r){throw N.error("Failed to get user consents",{error:r instanceof Error?r.message:"Unknown error",userId:t}),new Error(`Erro ao buscar consentimentos: ${r instanceof Error?r.message:"Unknown error"}`)}}async getConsentTemplates(){try{return await this.db.select().from(wn).where(V(wn.isActive,!0)).orderBy(wn.consentType)}catch(t){throw N.error("Failed to get consent templates",{error:t instanceof Error?t.message:"Unknown error"}),new Error(`Erro ao buscar templates de consentimento: ${t instanceof Error?t.message:"Unknown error"}`)}}async grantConsent(t,r,n,o,i){try{let[s]=await this.db.select().from(wn).where(Pe(V(wn.consentType,r),V(wn.isActive,!0))).limit(1);if(!s)throw new Error(`Template de consentimento n\xE3o encontrado: ${r}`);let u=await this.generateHash(s.fullTextPt),[l]=await this.db.select().from(qt).where(Pe(V(qt.userId,t),V(qt.consentType,r))).limit(1);if(l){let[p]=await this.db.update(qt).set({granted:!0,grantedAt:new Date,revokedAt:null,consentVersion:s.version,consentTextHash:u,collectionMethod:n,ipAddress:o??null,userAgent:i??null}).where(V(qt.id,l.id)).returning();return p}let[d]=await this.db.insert(qt).values({userId:t,consentType:r,purpose:s.descriptionPt,legalBasis:"consent",granted:!0,grantedAt:new Date,revokedAt:null,consentVersion:s.version,consentTextHash:u,collectionMethod:n,ipAddress:o??null,userAgent:i??null}).returning();return d}catch(s){throw N.error("Failed to grant consent",{error:s instanceof Error?s.message:"Unknown error",userId:t,consentType:r}),new Error(`Erro ao conceder consentimento: ${s instanceof Error?s.message:"Unknown error"}`)}}async revokeConsent(t,r){try{await this.db.update(qt).set({granted:!1,revokedAt:new Date}).where(Pe(V(qt.userId,t),V(qt.consentType,r)))}catch(n){throw N.error("Failed to revoke consent",{error:n instanceof Error?n.message:"Unknown error",userId:t,consentType:r}),new Error(`Erro ao revogar consentimento: ${n instanceof Error?n.message:"Unknown error"}`)}}async checkRequiredConsents(t,r){try{return(await this.db.select().from(qt).where(Pe(V(qt.userId,t),ss(qt.consentType,r),V(qt.granted,!0)))).length===r.length}catch(n){return N.error("Failed to check required consents",{error:n instanceof Error?n.message:"Unknown error",userId:t}),!1}}async getMissingMandatoryConsents(t){try{let n=(await this.db.select().from(wn).where(Pe(V(wn.isMandatory,!0),V(wn.isActive,!0)))).map(s=>s.consentType),i=(await this.db.select().from(qt).where(Pe(V(qt.userId,t),V(qt.granted,!0)))).map(s=>s.consentType);return n.filter(s=>!i.includes(s))}catch(r){throw N.error("Failed to get missing mandatory consents",{error:r instanceof Error?r.message:"Unknown error",userId:t}),new Error(`Erro ao buscar consentimentos obrigat\xF3rios faltantes: ${r instanceof Error?r.message:"Unknown error"}`)}}async createExportRequest(t,r,n,o,i,s){try{let[u]=await this.db.insert(bo).values({userId:t,requestType:r,format:n,status:"pending",dateFrom:o??null,dateTo:i??null,requestedVia:"app",ipAddress:s??null}).returning();return await this.logAuditEvent(t,"data_export_requested","data_export_requests",u.id,{requestType:r,format:n}),u}catch(u){throw N.error("Failed to create export request",{error:u instanceof Error?u.message:"Unknown error",userId:t}),new Error(`Erro ao criar solicita\xE7\xE3o de exporta\xE7\xE3o: ${u instanceof Error?u.message:"Unknown error"}`)}}async getExportRequests(t){try{return await this.db.select().from(bo).where(V(bo.userId,t)).orderBy(Mt(bo.createdAt))}catch(r){throw N.error("Failed to get export requests",{error:r instanceof Error?r.message:"Unknown error",userId:t}),new Error(`Erro ao buscar solicita\xE7\xF5es de exporta\xE7\xE3o: ${r instanceof Error?r.message:"Unknown error"}`)}}async createDeletionRequest(t,r,n,o,i){try{let[s]=await this.db.select({legalHold:tn.legalHold}).from(tn).where(Pe(V(tn.userId,t),V(tn.legalHold,!0))).limit(1);if(s?.legalHold)throw new Error("Seus dados est\xE3o em reten\xE7\xE3o legal e n\xE3o podem ser exclu\xEDdos no momento");let u=new Date;u.setDate(u.getDate()+15);let[l]=await this.db.insert(tn).values({userId:t,requestType:r,scope:n??{},reason:o??null,status:"pending",reviewDeadline:u,ipAddress:i??null}).returning();return await this.logAuditEvent(t,"data_deletion_requested","data_deletion_requests",l.id,{requestType:r}),l}catch(s){throw N.error("Failed to create deletion request",{error:s instanceof Error?s.message:"Unknown error",userId:t}),s}}async getDeletionRequests(t){try{return await this.db.select().from(tn).where(V(tn.userId,t)).orderBy(Mt(tn.createdAt))}catch(r){throw N.error("Failed to get deletion requests",{error:r instanceof Error?r.message:"Unknown error",userId:t}),new Error(`Erro ao buscar solicita\xE7\xF5es de exclus\xE3o: ${r instanceof Error?r.message:"Unknown error"}`)}}async getTransactionLimits(t){try{return await this.db.select().from(Ur).where(V(Ur.userId,t))}catch(r){throw N.error("Failed to get transaction limits",{error:r instanceof Error?r.message:"Unknown error",userId:t}),new Error(`Erro ao buscar limites de transa\xE7\xE3o: ${r instanceof Error?r.message:"Unknown error"}`)}}async checkTransactionLimit(t,r,n){try{let[o]=await this.db.select().from(Ur).where(Pe(V(Ur.userId,t),V(Ur.limitType,r),V(Ur.isActive,!0))).limit(1);if(!o)return{allowed:!0};let i=Number(o.dailyLimit),s=Number(o.currentDailyUsed??0),u=o.transactionLimit?Number(o.transactionLimit):null,l=i-s;return u&&n>u?{allowed:!1,reason:`Valor excede limite por transa\xE7\xE3o de R$ ${u.toFixed(2)}`,limit:i,used:s,requested:n,remaining:l}:n>l?{allowed:!1,reason:`Valor excede saldo di\xE1rio dispon\xEDvel de R$ ${l.toFixed(2)}`,limit:i,used:s,requested:n,remaining:l}:{allowed:!0,limit:i,used:s,requested:n,remaining:l}}catch(o){throw N.error("Failed to check transaction limit",{error:o instanceof Error?o.message:"Unknown error",limitType:r,userId:t}),new Error(`Erro ao verificar limite de transa\xE7\xE3o: ${o instanceof Error?o.message:"Unknown error"}`)}}async updateLimitUsage(t,r,n){try{await this.db.update(Ur).set({currentDailyUsed:q`${Ur.currentDailyUsed} + ${n}`}).where(Pe(V(Ur.userId,t),V(Ur.limitType,r)))}catch(o){throw N.error("Failed to update limit usage",{error:o instanceof Error?o.message:"Unknown error",userId:t,limitType:r,amount:n}),new Error(`Erro ao atualizar uso de limite: ${o instanceof Error?o.message:"Unknown error"}`)}}async logAuditEvent(t,r,n,o,i){try{let s=new Date;s.setFullYear(s.getFullYear()+5),await this.db.insert(xn).values({userId:t,eventType:r,resourceType:n,resourceId:o??null,description:i?.action??null,metadata:i??{},previousState:null,newState:null,ipAddress:null,userAgent:null,sessionId:null,retentionUntil:s})}catch(s){N.error("Failed to log audit event",{error:s instanceof Error?s.message:"Unknown error",eventType:r,userId:t})}}async getAuditHistory(t,r){try{let n=[V(xn.userId,t)];return r?.eventType&&n.push(V(xn.eventType,r.eventType)),r?.startDate&&n.push(gr(xn.createdAt,r.startDate)),r?.endDate&&n.push(or(xn.createdAt,r.endDate)),await this.db.select().from(xn).where(n.length>1?Pe(...n):n[0]).orderBy(Mt(xn.createdAt)).limit(r?.limit??100)}catch(n){throw N.error("Failed to get audit history",{error:n instanceof Error?n.message:"Unknown error",userId:t}),new Error(`Erro ao buscar hist\xF3rico de auditoria: ${n instanceof Error?n.message:"Unknown error"}`)}}async generateHash(t){let n=new TextEncoder().encode(t),o=await crypto.subtle.digest("SHA-256",n);return Array.from(new Uint8Array(o)).map(s=>s.toString(16).padStart(2,"0")).join("")}};function In(e){return new n$(e)}a(In,"createComplianceService");var Vn=new Oe,xxe=c.object({collectionMethod:c.enum(["explicit_form","voice_command","terms_acceptance","settings_toggle"]).default("explicit_form"),consentType:c.enum(["data_processing","marketing","analytics","third_party","voice_data","biometric","financial_data","location"])}),Txe=c.object({dateFrom:c.string().optional(),dateTo:c.string().optional(),format:c.enum(["json","csv","pdf"]).default("json"),requestType:c.enum(["full_data","full_export","transactions","profile","consents","audit_logs"]).default("full_export")}),Exe=c.object({reason:c.string().optional(),requestType:c.enum(["full_account","full_deletion","specific_data","anonymization"]),scope:c.record(c.string(),c.unknown()).optional()}),kxe=c.object({amount:c.number().positive("Valor deve ser positivo"),limitType:c.enum(["pix_daily","pix_daytime","pix_transaction","boleto_daily","transfer_daily","withdrawal_daily"])});Vn.get("/consent-templates",fe,async e=>{let{db:t}=e.get("auth"),r=e.get("requestId");try{let o=await In(t).getConsentTemplates();return e.json({data:o,meta:{requestId:r,retrievedAt:new Date().toISOString()}})}catch(n){return N.error("Failed to get consent templates",{error:n instanceof Error?n.message:"Unknown error",requestId:r}),e.json({code:"CONSENT_TEMPLATES_ERROR",error:"Erro ao buscar modelos de consentimento"},500)}});Vn.get("/consents",fe,xe({windowMs:6e4,max:30,message:"Muitas requisi\xE7\xF5es"}),async e=>{let{user:t,db:r}=e.get("auth"),n=e.get("requestId");try{let i=await In(r).getUserConsents(t.id);return e.json({data:i,meta:{requestId:n,retrievedAt:new Date().toISOString()}})}catch(o){return N.error("Failed to get user consents",{error:o instanceof Error?o.message:"Unknown error",requestId:n,userId:t.id}),e.json({code:"CONSENTS_ERROR",error:"Erro ao buscar consentimentos"},500)}});Vn.get("/consents/missing",fe,async e=>{let{user:t,db:r}=e.get("auth"),n=e.get("requestId");try{let i=await In(r).getMissingMandatoryConsents(t.id);return e.json({data:{hasMissing:i.length>0,missingConsents:i},meta:{requestId:n,retrievedAt:new Date().toISOString()}})}catch(o){return N.error("Failed to get missing consents",{error:o instanceof Error?o.message:"Unknown error",requestId:n,userId:t.id}),e.json({code:"MISSING_CONSENTS_ERROR",error:"Erro ao verificar consentimentos"},500)}});Vn.post("/consents",fe,xe({windowMs:6e4,max:20,message:"Muitas requisi\xE7\xF5es"}),Ve("json",xxe),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.valid("json"),o=e.get("requestId");try{let i=e.req.header("x-forwarded-for")??e.req.header("x-real-ip"),s=e.req.header("user-agent"),l=await In(r).grantConsent(t.id,n.consentType,n.collectionMethod,i,s);return N.info("Consent granted",{consentType:n.consentType,requestId:o,userId:t.id}),e.json({data:l,meta:{requestId:o,grantedAt:new Date().toISOString()}},201)}catch(i){return N.error("Failed to grant consent",{consentType:n.consentType,error:i instanceof Error?i.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"CONSENT_GRANT_ERROR",error:"Erro ao registrar consentimento"},500)}});Vn.delete("/consents/:type",fe,xe({windowMs:6e4,max:20,message:"Muitas requisi\xE7\xF5es"}),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.param("type"),o=e.get("requestId");try{return await In(r).revokeConsent(t.id,n),N.info("Consent revoked",{consentType:n,requestId:o,userId:t.id}),e.json({data:{success:!0,message:"Consentimento revogado com sucesso"},meta:{requestId:o,revokedAt:new Date().toISOString()}})}catch(i){return N.error("Failed to revoke consent",{consentType:n,error:i instanceof Error?i.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"CONSENT_REVOKE_ERROR",error:"Erro ao revogar consentimento"},500)}});Vn.get("/export-requests",fe,async e=>{let{user:t,db:r}=e.get("auth"),n=e.get("requestId");try{let i=await In(r).getExportRequests(t.id);return e.json({data:i,meta:{requestId:n,retrievedAt:new Date().toISOString()}})}catch(o){return N.error("Failed to get export requests",{error:o instanceof Error?o.message:"Unknown error",requestId:n,userId:t.id}),e.json({code:"EXPORT_REQUESTS_ERROR",error:"Erro ao buscar solicita\xE7\xF5es"},500)}});Vn.post("/export-requests",fe,xe({windowMs:36e5,max:5,message:"Limite de solicita\xE7\xF5es atingido"}),Ve("json",Txe),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.valid("json"),o=e.get("requestId");try{let i=e.req.header("x-forwarded-for")??e.req.header("x-real-ip"),u=await In(r).createExportRequest(t.id,n.requestType,n.format,n.dateFrom,n.dateTo,i);return N.info("Export request created",{format:n.format,requestId:o,requestType:n.requestType,userId:t.id}),e.json({data:u,meta:{requestId:o,createdAt:new Date().toISOString()}},201)}catch(i){return N.error("Failed to create export request",{error:i instanceof Error?i.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"EXPORT_REQUEST_ERROR",error:"Erro ao criar solicita\xE7\xE3o"},500)}});Vn.get("/deletion-requests",fe,async e=>{let{user:t,db:r}=e.get("auth"),n=e.get("requestId");try{let i=await In(r).getDeletionRequests(t.id);return e.json({data:i,meta:{requestId:n,retrievedAt:new Date().toISOString()}})}catch(o){return N.error("Failed to get deletion requests",{error:o instanceof Error?o.message:"Unknown error",requestId:n,userId:t.id}),e.json({code:"DELETION_REQUESTS_ERROR",error:"Erro ao buscar solicita\xE7\xF5es"},500)}});Vn.post("/deletion-requests",fe,xe({windowMs:864e5,max:3,message:"Limite di\xE1rio atingido"}),Ve("json",Exe),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.valid("json"),o=e.get("requestId");try{let i=e.req.header("x-forwarded-for")??e.req.header("x-real-ip"),u=await In(r).createDeletionRequest(t.id,n.requestType,n.scope,n.reason,i);return N.info("Deletion request created",{requestId:o,requestType:n.requestType,userId:t.id}),e.json({data:u,meta:{requestId:o,createdAt:new Date().toISOString()}},201)}catch(i){let s=i instanceof Error?i.message:"Unknown error";return N.error("Failed to create deletion request",{error:s,requestId:o,userId:t.id}),s.includes("reten\xE7\xE3o legal")?e.json({code:"LEGAL_HOLD",error:s},403):e.json({code:"DELETION_REQUEST_ERROR",error:"Erro ao criar solicita\xE7\xE3o"},500)}});Vn.get("/limits",fe,async e=>{let{user:t,db:r}=e.get("auth"),n=e.get("requestId");try{let i=await In(r).getTransactionLimits(t.id);return e.json({data:i,meta:{requestId:n,retrievedAt:new Date().toISOString()}})}catch(o){return N.error("Failed to get transaction limits",{error:o instanceof Error?o.message:"Unknown error",requestId:n,userId:t.id}),e.json({code:"LIMITS_ERROR",error:"Erro ao buscar limites"},500)}});Vn.post("/limits/check",fe,xe({windowMs:6e4,max:60,message:"Muitas verifica\xE7\xF5es"}),Ve("json",kxe),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.valid("json"),o=e.get("requestId");try{let s=await In(r).checkTransactionLimit(t.id,n.limitType,n.amount);return e.json({data:s,meta:{requestId:o,checkedAt:new Date().toISOString()}})}catch(i){return N.error("Failed to check transaction limit",{amount:n.amount,error:i instanceof Error?i.message:"Unknown error",limitType:n.limitType,requestId:o,userId:t.id}),e.json({code:"LIMIT_CHECK_ERROR",error:"Erro ao verificar limite"},500)}});Vn.get("/audit",fe,xe({windowMs:6e4,max:10,message:"Muitas requisi\xE7\xF5es"}),async e=>{let{user:t,db:r}=e.get("auth"),n=e.get("requestId");try{let o=Number(e.req.query("limit"))||50,i=e.req.query("eventType"),u=await In(r).getAuditHistory(t.id,{limit:o,eventType:i||void 0});return e.json({data:u,meta:{requestId:n,retrievedAt:new Date().toISOString()}})}catch(o){return N.error("Failed to get audit history",{error:o instanceof Error?o.message:"Unknown error",requestId:n,userId:t.id}),e.json({code:"AUDIT_ERROR",error:"Erro ao buscar hist\xF3rico"},500)}});var o$=Vn;ir();Lr();ir();Tn();Ar();ir();Tn();Wr();Ar();var Pxe=zt("organization_type",["individual","mei","limited_company","corporation","association","foundation"]),Ixe=zt("organization_status",["active","inactive","suspended","pending_verification"]),Oxe=zt("member_role",["admin","member","viewer","finance_manager","compliance_officer"]),Axe=zt("member_status",["active","invited","suspended","removed"]),Cxe=zt("pix_key_type",["cpf","cnpj","email","phone","random_key"]),Rxe=zt("pix_key_status",["active","inactive","pending","revoked"]),Ki=Ee("organizations",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),name:T("name").notNull(),tradeName:T("trade_name"),fantasyName:T("fantasy_name"),cnpj:T("cnpj").unique(),stateRegistration:T("state_registration"),municipalRegistration:T("municipal_registration"),organizationType:Pxe("organization_type").notNull(),status:Ixe("status").default("pending_verification"),email:T("email"),phone:T("phone"),website:T("website"),address:Le("address").default({}),annualRevenue:He("annual_revenue",{precision:15,scale:2}),employeeCount:yt("employee_count"),industry:T("industry"),lgpdOfficerId:T("lgpd_officer_id").references(()=>J.id),complianceFramework:T("compliance_framework"),memberLimit:yt("member_limit").default(5),transactionLimit:He("transaction_limit",{precision:15,scale:2}),primaryColor:T("primary_color"),secondaryColor:T("secondary_color"),logoUrl:T("logo_url"),faviconUrl:T("favicon_url"),metadata:Le("metadata").default({}),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow(),verifiedAt:K("verified_at",{withTimezone:!0}),suspendedAt:K("suspended_at",{withTimezone:!0})}),Pm=Ee("organization_members",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),organizationId:T("organization_id").references(()=>Ki.id,{onDelete:"cascade"}).notNull(),userId:T("user_id").references(()=>J.id,{onDelete:"cascade"}).notNull(),role:Oxe("role").notNull(),status:Axe("status").default("invited"),permissions:Le("permissions").default([]),restrictedResources:Le("restricted_resources").default([]),invitedBy:T("invited_by").references(()=>J.id),inviteToken:T("invite_token"),inviteExpiresAt:K("invite_expires_at",{withTimezone:!0}),invitedAt:K("invited_at",{withTimezone:!0}).defaultNow(),title:T("title"),department:T("department"),costCenter:T("cost_center"),lastLogin:K("last_login",{withTimezone:!0}),twoFactorRequired:se("two_factor_required").default(!1),suspendedBy:T("suspended_by").references(()=>J.id),suspendedAt:K("suspended_at",{withTimezone:!0}),suspensionReason:T("suspension_reason"),removedBy:T("removed_by").references(()=>J.id),removedAt:K("removed_at",{withTimezone:!0}),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()},e=>[ds("org_members_org_user_idx").on(e.organizationId,e.userId),ds("org_members_invite_token_idx").on(e.inviteToken)]),i$=Ee("organization_settings",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),organizationId:T("organization_id").references(()=>Ki.id,{onDelete:"cascade"}).notNull().unique(),defaultLanguage:T("default_language").default("pt-BR"),timezone:T("timezone").default("America/Sao_Paulo"),currency:T("currency").default("BRL"),dateFormat:T("date_format").default("dd/MM/yyyy"),defaultTransactionCategory:T("default_transaction_category"),budgetAlertsEnabled:se("budget_alerts_enabled").default(!0),autoCategorizationEnabled:se("auto_categorization_enabled").default(!0),pixDailyLimit:He("pix_daily_limit",{precision:15,scale:2}),pixNighttimeLimit:He("pix_nighttime_limit",{precision:15,scale:2}),pixNighttimeStart:T("pix_nighttime_start").default("20:00"),pixNighttimeEnd:T("pix_nighttime_end").default("06:00"),pixRequireApproval:se("pix_require_approval").default(!1),pixApprovalThreshold:He("pix_approval_threshold",{precision:15,scale:2}),plaidEnabled:se("plaid_enabled").default(!1),openBankingEnabled:se("open_banking_enabled").default(!1),twoFactorRequired:se("two_factor_required").default(!1),sessionTimeoutMinutes:yt("session_timeout_minutes").default(30),ipWhitelist:Le("ip_whitelist").default([]),lgpdRetentionMonths:yt("lgpd_retention_months").default(60),dataExportEnabled:se("data_export_enabled").default(!0),auditLogEnabled:se("audit_log_enabled").default(!0),emailNotificationsEnabled:se("email_notifications_enabled").default(!0),smsNotificationsEnabled:se("sms_notifications_enabled").default(!1),pushNotificationsEnabled:se("push_notifications_enabled").default(!0),theme:T("theme").default("light"),compactMode:se("compact_mode").default(!1),accessibilityHighContrast:se("accessibility_high_contrast").default(!1),accessibilityLargeText:se("accessibility_large_text").default(!1),customCss:T("custom_css"),customScripts:T("custom_scripts"),features:Le("features").default({}),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()}),Bmt=Ee("organization_pix_keys",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),organizationId:T("organization_id").references(()=>Ki.id,{onDelete:"cascade"}).notNull(),keyType:Cxe("key_type").notNull(),keyValue:T("key_value").notNull(),bankName:T("bank_name").notNull(),bankCode:T("bank_code").notNull(),agencyNumber:T("agency_number"),accountNumber:T("account_number").notNull(),accountType:T("account_type"),displayName:T("display_name").notNull(),description:T("description"),isDefault:se("is_default").default(!1),status:Rxe("status").default("pending"),dailyLimit:He("daily_limit",{precision:15,scale:2}),transactionLimit:He("transaction_limit",{precision:15,scale:2}),ownerId:T("owner_id").references(()=>J.id),createdBy:T("created_by").references(()=>J.id).notNull(),verifiedAt:K("verified_at",{withTimezone:!0}),verifiedBy:T("verified_by").references(()=>J.id),revokedAt:K("revoked_at",{withTimezone:!0}),revokedBy:T("revoked_by").references(()=>J.id),metadata:Le("metadata").default({}),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()},e=>[ds("org_pix_keys_org_key_idx").on(e.organizationId,e.keyValue)]),Jmt=Ee("organization_consent_templates",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),organizationId:T("organization_id").references(()=>Ki.id,{onDelete:"cascade"}).notNull(),name:T("name").notNull(),version:T("version").notNull().default("1.0"),consentType:T("consent_type").notNull(),titlePt:T("title_pt").notNull(),descriptionPt:T("description_pt").notNull(),fullTextPt:T("full_text_pt").notNull(),titleEn:T("title_en"),descriptionEn:T("description_en"),fullTextEn:T("full_text_en"),isMandatory:se("is_mandatory").default(!1),isActive:se("is_active").default(!0),legalBasis:T("legal_basis"),retentionMonths:yt("retention_months"),displayOnSignup:se("display_on_signup").default(!1),displayInSettings:se("display_in_settings").default(!0),requireExplicitAcceptance:se("require_explicit_acceptance").default(!0),categories:Le("categories").default([]),purposes:Le("purposes").default([]),effectiveFrom:K("effective_from",{withTimezone:!0}).defaultNow(),effectiveUntil:K("effective_until",{withTimezone:!0}),createdBy:T("created_by").references(()=>J.id).notNull(),approvedBy:T("approved_by").references(()=>J.id),approvedAt:K("approved_at",{withTimezone:!0}),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()});Ar();var Us=class{static{a(this,"OrganizationService")}static async createUserOrganization(t,r,n,o){let i=o||rn();try{let[s]=await i.select().from(J).where(V(J.id,t)).limit(1);if(s?.organizationId&&s.organizationId!=="default")return N.info("User already has organization",{userId:t,organizationId:s.organizationId}),s.organizationId;let[u]=await i.select().from(Ki).where(V(Ki.email,r)).limit(1);if(u)return N.info("Organization already exists for email",{userId:t,organizationId:u.id,email:r}),u.id;let l=crypto.randomUUID(),d=n||r.split("@")[0]||`User ${t.slice(-8)}`;return o?(await o.insert(Ki).values({id:l,name:d,fantasyName:d,email:r,organizationType:"individual",status:"active",memberLimit:1}),await o.insert(Pm).values({organizationId:l,userId:t,role:"admin",status:"active"}),await o.insert(i$).values({organizationId:l,defaultLanguage:"pt-BR",timezone:"America/Sao_Paulo",currency:"BRL",dateFormat:"dd/MM/yyyy"})):await i.transaction(async p=>{await p.insert(Ki).values({id:l,name:d,fantasyName:d,email:r,organizationType:"individual",status:"active",memberLimit:1}),await p.insert(Pm).values({organizationId:l,userId:t,role:"admin",status:"active"}),await p.insert(i$).values({organizationId:l,defaultLanguage:"pt-BR",timezone:"America/Sao_Paulo",currency:"BRL",dateFormat:"dd/MM/yyyy"})}),N.info("Organization created for user",{userId:t,organizationId:l,email:r,name:d}),l}catch(s){throw N.error("Failed to create organization for user",{userId:t,email:r,error:s instanceof Error?s.message:"Unknown error",stack:s instanceof Error?s.stack:void 0}),new Error("Falha ao criar organiza\xE7\xE3o para o usu\xE1rio")}}static async getUserOrganizationId(t){let r=rn();try{let[n]=await r.select().from(J).where(V(J.id,t)).limit(1);return n&&n.organizationId||null}catch(n){return N.error("Failed to get user organization",{userId:t,error:n instanceof Error?n.message:"Unknown error"}),null}}static async isUserMember(t,r){let n=rn();try{let[o]=await n.select().from(Pm).where(V(Pm.userId,t)).limit(1);return o?.organizationId===r&&o.status==="active"}catch(o){return N.error("Failed to verify organization membership",{userId:t,organizationId:r,error:o instanceof Error?o.message:"Unknown error"}),!1}}};rd();var a$=null;function j8(){if(!a$){let e=process.env.CLERK_SECRET_KEY;if(!e)throw new Error("CLERK_SECRET_KEY environment variable is not set");a$=Ju({secretKey:e})}return a$}a(j8,"getClerkClient");var Za=class{static{a(this,"UserSyncService")}static async ensureUserExists(t){let r=rn();if(!t||!t.startsWith("user_"))throw new Error(`Invalid Clerk user ID format: ${t}`);let[n]=await r.select().from(J).where(V(J.id,t)).limit(1);if(n)return N.debug("User already exists in database",{userId:t,email:n.email}),n;N.info("User not found in database, creating from Clerk",{userId:t});try{let i=await j8().users.getUser(t);if(!i)throw new Error(`Clerk user not found: ${t}`);let s=i.emailAddresses[0]?.emailAddress;if(!s)throw new Error(`Clerk user has no email address: ${t}`);if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s))throw new Error(`Invalid email format: ${s}`);let u=[i.firstName,i.lastName].filter(Boolean).join(" ")||void 0,l;try{let[p]=await r.insert(J).values({id:t,email:s,fullName:u,organizationId:"default"}).returning();if(!p)throw new Error("Failed to create user record");l=p,N.info("User created in database",{userId:t,email:s})}catch(p){if(p instanceof Error&&p.message.includes("duplicate key")){let[f]=await r.select().from(J).where(V(J.id,t)).limit(1);if(f)return N.info("User was created by concurrent request",{userId:t}),f}throw p}try{let p=await Us.createUserOrganization(t,s,u);p&&p!=="default"&&(await r.update(J).set({organizationId:p}).where(V(J.id,t)),l={...l,organizationId:p},N.info("User organization created",{userId:t,organizationId:p}))}catch(p){N.warn("Failed to create user organization (non-critical)",{userId:t,error:p instanceof Error?p.message:"Unknown error"})}let d=null;try{d=await oo.getOrCreateCustomer(t,s,u),N.info("Stripe customer created",{userId:t,stripeCustomerId:d})}catch(p){N.warn("Failed to create Stripe customer (non-critical)",{userId:t,error:p instanceof Error?p.message:"Unknown error"})}if(d)try{await r.insert(je).values({userId:t,stripeCustomerId:d,planId:"free",status:"free"}),N.info("Free subscription created",{userId:t})}catch(p){N.warn("Failed to create subscription record (non-critical)",{userId:t,error:p instanceof Error?p.message:"Unknown error"})}if(d)try{await j8().users.updateUserMetadata(t,{privateMetadata:{stripeCustomerId:d}})}catch(p){N.warn("Failed to update Clerk metadata (non-critical)",{userId:t,error:p instanceof Error?p.message:"Unknown error"})}return l}catch(o){throw N.error("Failed to sync user from Clerk",{userId:t,error:o instanceof Error?o.message:"Unknown error",stack:o instanceof Error?o.stack:void 0}),o}}static async userExists(t){let r=rn(),[n]=await r.select().from(J).where(V(J.id,t)).limit(1);return!!n}static async completeUserSetup(t){let r=rn(),[n]=await r.select().from(J).where(V(J.id,t)).limit(1);if(!n){N.warn("Cannot complete setup for non-existent user",{userId:t});return}if(n.organizationId==="default")try{let i=await Us.createUserOrganization(t,n.email,n.fullName||void 0);i&&i!=="default"&&(await r.update(J).set({organizationId:i}).where(V(J.id,t)),N.info("User organization setup completed",{userId:t,organizationId:i}))}catch(i){N.warn("Background organization setup failed",{userId:t,error:i instanceof Error?i.message:"Unknown error"})}let[o]=await r.select().from(je).where(V(je.userId,t)).limit(1);if(!o)try{let i=await oo.getOrCreateCustomer(t,n.email,n.fullName||void 0);await r.insert(je).values({userId:t,stripeCustomerId:i,planId:"free",status:"free"}),N.info("User subscription setup completed",{userId:t,stripeCustomerId:i})}catch(i){N.warn("Background subscription setup failed",{userId:t,error:i instanceof Error?i.message:"Unknown error"})}}};var $xe=/^\d{10,11}$/,dv=a(e=>e?e.replace(/\D/g,""):e??void 0,"normalizeDigits"),D8=a(e=>({...e,cpf:e.cpf?dv(e.cpf):e.cpf,email:e.email?.trim().toLowerCase(),phone:e.phone?dv(e.phone):e.phone}),"sanitizeContactFields"),di=new Oe,Nxe=c.object({cpf:c.string().optional(),email:c.string().email().optional(),isFavorite:c.boolean().default(!1),name:c.string().min(1,"Nome \xE9 obrigat\xF3rio"),notes:c.string().optional(),phone:c.string().optional()}),zxe=c.object({cpf:c.string().optional().refine(e=>!e||EJ(dv(e)??""),"CPF inv\xE1lido"),email:c.string().email().optional(),id:c.string().uuid(),isFavorite:c.boolean().optional(),name:c.string().optional(),notes:c.string().optional(),phone:c.string().optional().refine(e=>!e||$xe.test(dv(e)??""),"Telefone inv\xE1lido")}),jxe=c.object({isFavorite:c.boolean().optional(),limit:c.number().min(1).max(100).default(50),offset:c.number().default(0),search:c.string().optional()}),Dxe=c.object({limit:c.number().min(1).max(20).default(10),query:c.string().min(1,"Query de busca \xE9 obrigat\xF3ria")});di.get("/",fe,xe({windowMs:60*1e3,max:30,message:"Too many requests, please try again later"}),Ve("query",jxe),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.valid("query"),o=e.get("requestId");try{let i=[V($e.userId,t.id)];if(n.search){let l=`%${n.search}%`,d=oa(qr($e.name,l),qr($e.email,l),qr($e.phone,l));d&&i.push(d)}n.isFavorite!==void 0&&i.push(V($e.isFavorite,n.isFavorite));let[{total:s}]=await r.select({total:mT()}).from($e).where(Pe(...i)),u=await r.select().from($e).where(Pe(...i)).orderBy(Mt($e.isFavorite),Si($e.name)).limit(n.limit).offset(n.offset);return e.json({data:{contacts:u,hasMore:s>n.offset+n.limit,total:s},meta:{requestId:o,retrievedAt:new Date().toISOString()}})}catch(i){return N.error("Failed to get contacts",{error:i instanceof Error?i.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"CONTACTS_ERROR",error:"Failed to retrieve contacts"},500)}});di.get("/:id",fe,xe({windowMs:60*1e3,max:30,message:"Too many requests, please try again later"}),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.param("id"),o=e.get("requestId");try{let[i]=await r.select().from($e).where(Pe(V($e.id,n),V($e.userId,t.id))).limit(1);return i?e.json({data:i,meta:{requestId:o,retrievedAt:new Date().toISOString()}}):e.json({code:"NOT_FOUND",error:"Contato n\xE3o encontrado"},404)}catch(i){return N.error("Failed to get contact",{contactId:n,error:i instanceof Error?i.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"CONTACT_ERROR",error:"Failed to retrieve contact"},500)}});di.post("/",fe,xe({windowMs:60*1e3,max:20,message:"Too many creation attempts, please try again later"}),Ve("json",Nxe),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.valid("json"),o=e.get("requestId");try{try{await Za.ensureUserExists(t.id)}catch(u){return N.error("Failed to ensure user exists in database",{userId:t.id,requestId:o,error:u instanceof Error?u.message:"Unknown error"}),e.json({code:"USER_SYNC_ERROR",error:"Failed to verify user account. Please try again."},500)}let i=D8(n),[s]=await r.insert($e).values({userId:t.id,name:i.name,email:i.email??null,phone:i.phone??null,cpf:i.cpf??null,notes:i.notes??null,isFavorite:i.isFavorite??!1,createdAt:new Date,updatedAt:new Date}).returning();return N.info("Contact created",{contactId:s.id,contactName:n.name,requestId:o,userId:t.id}),e.json({data:s,meta:{createdAt:new Date().toISOString(),requestId:o}},201)}catch(i){return i instanceof Error&&i.message.includes("unique constraint")?e.json({code:"CONFLICT",error:"Email ou telefone j\xE1 cadastrado para este usu\xE1rio"},409):(N.error("Failed to create contact",{contactName:n.name,error:i instanceof Error?i.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"CONTACT_CREATE_ERROR",error:"Failed to create contact"},500))}});di.put("/:id",fe,xe({windowMs:60*1e3,max:30,message:"Too many update attempts, please try again later"}),Ve("json",zxe),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.param("id"),o=e.req.valid("json"),i=e.get("requestId");try{let{id:s,...u}=o,l=D8(u),d={updatedAt:new Date};l.name!==void 0&&(d.name=l.name),l.email!==void 0&&(d.email=l.email??null),l.phone!==void 0&&(d.phone=l.phone??null),l.cpf!==void 0&&(d.cpf=l.cpf??null),l.notes!==void 0&&(d.notes=l.notes??null),l.isFavorite!==void 0&&(d.isFavorite=l.isFavorite);let[p]=await r.update($e).set(d).where(Pe(V($e.id,n),V($e.userId,t.id))).returning();return p?(N.info("Contact updated",{contactId:n,requestId:i,updatedFields:Object.keys(u).filter(f=>f!=="updatedAt"),userId:t.id}),e.json({data:p,meta:{requestId:i,updatedAt:new Date().toISOString()}})):e.json({code:"NOT_FOUND",error:"Contato n\xE3o encontrado"},404)}catch(s){return N.error("Failed to update contact",{contactId:n,error:s instanceof Error?s.message:"Unknown error",requestId:i,userId:t.id}),e.json({code:"CONTACT_UPDATE_ERROR",error:"Failed to update contact"},500)}});di.delete("/:id",fe,xe({windowMs:60*1e3,max:20,message:"Too many deletion attempts, please try again later"}),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.param("id"),o=e.get("requestId");try{let[i]=await r.delete($e).where(Pe(V($e.id,n),V($e.userId,t.id))).returning();return i?(N.info("Contact deleted",{contactId:n,requestId:o,userId:t.id}),e.json({data:{id:n,success:!0},meta:{deletedAt:new Date().toISOString(),requestId:o}})):e.json({code:"NOT_FOUND",error:"Contato n\xE3o encontrado"},404)}catch(i){return N.error("Failed to delete contact",{contactId:n,error:i instanceof Error?i.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"CONTACT_DELETE_ERROR",error:"Failed to delete contact"},500)}});di.get("/search",fe,xe({windowMs:60*1e3,max:20,message:"Too many search attempts, please try again later"}),Ve("query",Dxe),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.valid("query"),o=e.get("requestId");try{let i=`%${n.query}%`,s=await r.select({id:$e.id,name:$e.name,email:$e.email,phone:$e.phone,isFavorite:$e.isFavorite}).from($e).where(Pe(V($e.userId,t.id),oa(qr($e.name,i),qr($e.email,i),qr($e.phone,i)))).orderBy(Mt($e.isFavorite),Si($e.name)).limit(n.limit);return N.info("Contacts searched",{requestId:o,resultsCount:s.length,searchQuery:n.query,userId:t.id}),e.json({data:s,meta:{requestId:o,retrievedAt:new Date().toISOString()}})}catch(i){return N.error("Failed to search contacts",{error:i instanceof Error?i.message:"Unknown error",requestId:o,searchQuery:n.query,userId:t.id}),e.json({code:"CONTACT_SEARCH_ERROR",error:"Failed to search contacts"},500)}});di.get("/favorites",fe,xe({windowMs:60*1e3,max:20,message:"Too many requests, please try again later"}),async e=>{let{user:t,db:r}=e.get("auth"),n=e.get("requestId");try{let o=await r.select().from($e).where(Pe(V($e.userId,t.id),V($e.isFavorite,!0))).orderBy(Si($e.name));return N.info("Favorite contacts retrieved",{favoritesCount:o.length,requestId:n,userId:t.id}),e.json({data:o,meta:{requestId:n,retrievedAt:new Date().toISOString()}})}catch(o){return N.error("Failed to get favorite contacts",{error:o instanceof Error?o.message:"Unknown error",requestId:n,userId:t.id}),e.json({code:"FAVORITES_ERROR",error:"Failed to retrieve favorite contacts"},500)}});di.post("/:id/favorite",fe,xe({windowMs:60*1e3,max:30,message:"Too many toggle attempts, please try again later"}),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.param("id"),o=e.get("requestId");try{let[i]=await r.select({isFavorite:$e.isFavorite}).from($e).where(Pe(V($e.id,n),V($e.userId,t.id))).limit(1);if(!i)return e.json({code:"NOT_FOUND",error:"Contato n\xE3o encontrado"},404);let[s]=await r.update($e).set({isFavorite:!i.isFavorite,updatedAt:new Date}).where(Pe(V($e.id,n),V($e.userId,t.id))).returning();return N.info("Contact favorite status toggled",{contactId:n,newStatus:!i.isFavorite,previousStatus:i.isFavorite,requestId:o,userId:t.id}),e.json({data:s,meta:{requestId:o,updatedAt:new Date().toISOString()}})}catch(i){return N.error("Failed to toggle favorite status",{contactId:n,error:i instanceof Error?i.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"FAVORITE_TOGGLE_ERROR",error:"Failed to toggle favorite status"},500)}});di.get("/stats",fe,xe({windowMs:60*1e3,max:10,message:"Too many requests, please try again later"}),async e=>{let{user:t,db:r}=e.get("auth"),n=e.get("requestId");try{let o=await r.select({isFavorite:$e.isFavorite,email:$e.email,phone:$e.phone}).from($e).where(V($e.userId,t.id)),i=o.length,s=o.filter(d=>d.isFavorite).length,u=o.filter(d=>d.email).length,l=o.filter(d=>d.phone).length;return e.json({data:{contactsWithEmail:u,contactsWithPhone:l,favoriteContacts:s,favoritePercentage:i>0?s/i*100:0,totalContacts:i},meta:{requestId:n,retrievedAt:new Date().toISOString()}})}catch(o){return N.error("Failed to get contact statistics",{error:o instanceof Error?o.message:"Unknown error",requestId:n,userId:t.id}),e.json({code:"CONTACT_STATS_ERROR",error:"Failed to retrieve contact statistics"},500)}});var s$=di;var pi=new Oe,Im={code:"NOT_IMPLEMENTED",error:"Google Calendar sync is temporarily unavailable during migration. Please check back later.",message:"Esta funcionalidade est\xE1 temporariamente indispon\xEDvel durante a migra\xE7\xE3o do sistema."},Gi=xe({max:30,message:"Muitas requisi\xE7\xF5es, tente novamente mais tarde",windowMs:60*1e3});pi.get("/sync/status",fe,Gi,async e=>{let{user:t}=e.get("auth"),r=e.get("requestId");return N.info("Google Calendar status requested (not implemented)",{requestId:r,userId:t.id}),e.json({data:{googleEmail:null,isConnected:!1,isEnabled:!1,lastSyncAt:null,migrationNotice:"Google Calendar sync is being migrated to new infrastructure"},meta:{requestId:r,retrievedAt:new Date().toISOString()}},200)});pi.get("/sync/settings",fe,Gi,async e=>{let t=e.get("requestId");return e.json({data:null,meta:{requestId:t,retrievedAt:new Date().toISOString(),notice:"Google Calendar sync is being migrated"}},200)});pi.get("/sync/history",fe,Gi,async e=>{let t=e.get("requestId");return e.json({data:[],meta:{requestId:t,retrievedAt:new Date().toISOString(),notice:"Google Calendar sync is being migrated"}},200)});pi.put("/sync/settings",fe,Gi,async e=>{let t=e.get("requestId");return e.json({...Im,meta:{requestId:t}},501)});pi.post("/sync/full",fe,Gi,async e=>{let t=e.get("requestId");return e.json({...Im,meta:{requestId:t}},501)});pi.post("/sync/incremental",fe,Gi,async e=>{let t=e.get("requestId");return e.json({...Im,meta:{requestId:t}},501)});pi.post("/sync/event",fe,Gi,async e=>{let t=e.get("requestId");return e.json({...Im,meta:{requestId:t}},501)});pi.post("/sync/channel/renew",fe,Gi,async e=>{let t=e.get("requestId");return e.json({...Im,meta:{requestId:t}},501)});pi.get("/sync/conflicts",fe,Gi,async e=>{let t=e.get("requestId");return e.json({data:[],meta:{requestId:t,retrievedAt:new Date().toISOString(),notice:"Google Calendar sync is being migrated"}},200)});var u$=pi;var Om=new Oe,el=null,Mxe=1e4,Pft=c.object({services:c.object({database:c.enum(["connected","disconnected","error"]),api:c.enum(["operational","degraded","down"]),auth:c.enum(["operational","degraded","down"])}),status:c.enum(["ok","error"]),timestamp:c.string(),uptime:c.number(),version:c.string()});async function qxe(){if(el&&Date.now()-el.timestamp<Mxe)return{status:el.status,latency:el.latency};let e=Date.now();try{let{getHttpClient:t,schema:r}=await Promise.resolve().then(()=>(Tn(),PE)),{sql:n}=await Promise.resolve().then(()=>(ir(),fT)),o=t(),i=new Promise((l,d)=>{setTimeout(()=>d(new Error("Database query timeout")),5e3)});await Promise.race([o.execute(n`SELECT 1 as health_check`),i]);let s=Date.now()-e,u=!0;try{await o.select({count:n`count(*)`}).from(r.users).limit(1)}catch(l){u=!1,N.warn("Database schema access check failed (non-critical)",{error:l instanceof Error?l.message:"Unknown error",note:"Basic connectivity succeeded, schema may not be migrated yet"})}return el={status:"connected",latency:s,timestamp:Date.now()},{status:"connected",latency:s,schemaAccessible:u}}catch(t){let r=Date.now()-e;return N.error("Database health check failed",{error:t instanceof Error?t.message:"Unknown error",latency:r}),el={status:"error",latency:r,timestamp:Date.now()},{status:"error",latency:r,schemaAccessible:!1}}}a(qxe,"checkDatabaseConnectivity");async function M8(e){let t=Date.now();try{let r=await qxe(),n=r.status,o=r.latency,i=n==="connected",s={services:{database:n,api:i?"operational":"degraded",auth:i?"operational":"degraded"},status:i?"ok":"error",timestamp:new Date().toISOString(),uptime:process.uptime(),version:"1.0.0",metrics:{databaseLatency:o,totalLatency:Date.now()-t},checks:{server:{status:"ok",uptime:process.uptime()},database:{status:n,latency:o},memory:{used:process.memoryUsage().heapUsed,total:process.memoryUsage().heapTotal}}};return N.info("Health check completed",{databaseStatus:n,duration:Date.now()-t,status:s.status}),i?e.json(s,200):e.json(s,503)}catch(r){return N.error("Health check error",{duration:Date.now()-t,error:r instanceof Error?r.message:"Unknown error"}),e.json({services:{database:"error",api:"down",auth:"down"},status:"error",timestamp:new Date().toISOString(),uptime:process.uptime(),version:"1.0.0"},500)}}a(M8,"healthCheckHandler");Om.get("/",M8);Om.get("/health",M8);Om.get("/ping",e=>e.json({message:"pong",timestamp:new Date().toISOString(),version:"v1"}));Om.get("/auth",async e=>{let t=e.get("auth");return e.json({authenticated:!!t,services:{database:"connected",api:"operational",auth:"operational"},status:"ok",timestamp:new Date().toISOString(),user:t?{id:t.user.id,email:t.user.email}:null,version:"1.0.0"})});var c$=Om;ir();Lr();var Uxe=c.object({limit:c.coerce.number().int().min(1).max(100).default(50),offset:c.coerce.number().int().min(0).default(0),categoryId:c.string().optional(),accountId:c.string().optional(),type:c.enum(["transfer","debit","credit","pix","boleto"]).optional(),status:c.enum(["cancelled","failed","pending","posted"]).optional(),startDate:c.string().optional(),endDate:c.string().optional(),search:c.string().optional()}),q8=c.object({amount:c.number(),categoryId:c.string().optional(),description:c.string(),transactionType:c.enum(["transfer","debit","credit","pix","boleto"]),status:c.enum(["cancelled","failed","pending","posted"]).default("pending"),transactionDate:c.string().optional(),accountId:c.string().optional(),paymentMethod:c.string().optional(),merchantName:c.string().optional(),notes:c.string().optional(),tags:c.array(c.string()).optional()}),Lxe=c.object({period:c.enum(["week","month","quarter","year"]).default("month"),accountId:c.string().optional()}),tl=new Oe;tl.get("/",fe,xe({windowMs:60*1e3,max:30,message:"Too many requests, please try again later"}),Ve("query",Uxe),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.valid("query"),o=e.get("requestId");try{let i=[V(oe.userId,t.id)];if(n.categoryId&&i.push(V(oe.categoryId,n.categoryId)),n.accountId&&i.push(V(oe.accountId,n.accountId)),n.type&&i.push(V(oe.transactionType,n.type)),n.status&&i.push(V(oe.status,n.status)),n.startDate){let u=new Date(n.startDate);if(isNaN(u.getTime()))return e.json({code:"INVALID_DATE",error:"Invalid startDate format. Expected ISO 8601 date string (e.g., YYYY-MM-DD)"},400);i.push(gr(oe.transactionDate,u))}if(n.endDate){let u=new Date(n.endDate);if(isNaN(u.getTime()))return e.json({code:"INVALID_DATE",error:"Invalid endDate format. Expected ISO 8601 date string (e.g., YYYY-MM-DD)"},400);i.push(or(oe.transactionDate,u))}if(n.startDate&&n.endDate){let u=new Date(n.startDate),l=new Date(n.endDate);if(u>l)return e.json({code:"INVALID_DATE_RANGE",error:"startDate must be before or equal to endDate"},400)}n.search&&i.push(qr(oe.description,`%${n.search}%`));let s=await r.select().from(oe).where(Pe(...i)).orderBy(Mt(oe.createdAt)).limit(n.limit).offset(n.offset);return e.json({data:s,meta:{requestId:o,retrievedAt:new Date().toISOString(),total:s.length}})}catch(i){let s=Fi(i);return N.error("Failed to get transactions",{error:i instanceof Error?i.message:"Unknown error",errorCode:s.code,requestId:o,stack:i instanceof Error?i.stack:void 0,userId:t.id}),e.json({code:s.code,error:s.message},s.statusCode)}});tl.get("/statistics",fe,xe({windowMs:60*1e3,max:20,message:"Too many requests, please try again later"}),Ve("query",Lxe),async e=>{let{user:t,db:r}=e.get("auth"),{period:n}=e.req.valid("query"),o=e.get("requestId");try{let i=new Date,s=new Date;switch(n){case"week":s.setDate(i.getDate()-7);break;case"month":s.setMonth(i.getMonth()-1);break;case"quarter":s.setMonth(i.getMonth()-3);break;case"year":s.setFullYear(i.getFullYear()-1);break}let u=await r.select().from(oe).where(Pe(V(oe.userId,t.id),gr(oe.transactionDate,s),or(oe.transactionDate,i))),l=u.reduce((f,m)=>f+Number(m.amount),0),d=u.filter(f=>Number(f.amount)<0).reduce((f,m)=>f+Math.abs(Number(m.amount)),0),p=u.filter(f=>Number(f.amount)>0).reduce((f,m)=>f+Number(m.amount),0);return e.json({data:{balance:l,expenses:d,income:p,period:n,transactionsCount:u.length},meta:{requestId:o,retrievedAt:new Date().toISOString()}})}catch(i){let s=Fi(i);return N.error("Failed to get transaction statistics",{error:i instanceof Error?i.message:"Unknown error",errorCode:s.code,period:n,requestId:o,stack:i instanceof Error?i.stack:void 0,userId:t.id}),e.json({code:s.code,error:s.message},s.statusCode)}});tl.post("/",fe,xe({windowMs:60*1e3,max:10,message:"Too many transaction creation attempts, please try again later"}),Ve("json",q8),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.valid("json"),o=e.get("requestId");try{try{await Za.ensureUserExists(t.id)}catch(u){return N.error("Failed to ensure user exists in database",{userId:t.id,requestId:o,error:u instanceof Error?u.message:"Unknown error"}),e.json({code:"USER_SYNC_ERROR",error:"Failed to verify user account. Please try again."},500)}let i=new Date,[s]=await r.insert(oe).values({userId:t.id,amount:n.amount.toString(),description:n.description,transactionType:n.transactionType,status:n.status,transactionDate:n.transactionDate?new Date(n.transactionDate):i,categoryId:n.categoryId,accountId:n.accountId,paymentMethod:n.paymentMethod,merchantName:n.merchantName,notes:n.notes,tags:n.tags,isManualEntry:!0}).returning();return N.info("Transaction created",{amount:n.amount,requestId:o,transactionId:s.id,type:n.transactionType,userId:t.id}),e.json({data:s,meta:{createdAt:new Date().toISOString(),requestId:o}},201)}catch(i){return N.error("Failed to create transaction",{amount:n.amount,error:i instanceof Error?i.message:"Unknown error",requestId:o,type:n.transactionType,userId:t.id}),e.json({code:"TRANSACTION_CREATE_ERROR",error:"Failed to create transaction"},500)}});tl.put("/:id",fe,xe({windowMs:60*1e3,max:30,message:"Too many update attempts, please try again later"}),Ve("json",q8.partial()),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.param("id"),o=e.req.valid("json"),i=e.get("requestId");try{let[s]=await r.select({id:oe.id}).from(oe).where(Pe(V(oe.id,n),V(oe.userId,t.id))).limit(1);if(!s)return e.json({code:"NOT_FOUND",error:"Transa\xE7\xE3o n\xE3o encontrada"},404);let u={updatedAt:new Date};o.description!==void 0&&(u.description=o.description),o.amount!==void 0&&(u.amount=o.amount.toString()),o.transactionType!==void 0&&(u.transactionType=o.transactionType),o.status!==void 0&&(u.status=o.status),o.categoryId!==void 0&&(u.categoryId=o.categoryId),o.accountId!==void 0&&(u.accountId=o.accountId),o.paymentMethod!==void 0&&(u.paymentMethod=o.paymentMethod),o.merchantName!==void 0&&(u.merchantName=o.merchantName),o.notes!==void 0&&(u.notes=o.notes),o.tags!==void 0&&(u.tags=o.tags);let[l]=await r.update(oe).set(u).where(Pe(V(oe.id,n),V(oe.userId,t.id))).returning();return N.info("Transaction updated",{requestId:i,transactionId:n,userId:t.id}),e.json({data:l,meta:{updatedAt:new Date().toISOString(),requestId:i}})}catch(s){return N.error("Failed to update transaction",{error:s instanceof Error?s.message:"Unknown error",requestId:i,transactionId:n,userId:t.id}),e.json({code:"TRANSACTION_UPDATE_ERROR",error:"Failed to update transaction"},500)}});tl.delete("/:id",fe,xe({windowMs:60*1e3,max:20,message:"Too many deletion attempts, please try again later"}),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.param("id"),o=e.get("requestId");try{return(await r.delete(oe).where(Pe(V(oe.id,n),V(oe.userId,t.id))).returning()).length===0?e.json({code:"NOT_FOUND",error:"Transa\xE7\xE3o n\xE3o encontrada ou permiss\xE3o negada"},404):(N.info("Transaction deleted",{requestId:o,transactionId:n,userId:t.id}),e.json({data:{success:!0},meta:{deletedAt:new Date().toISOString(),requestId:o}}))}catch(i){return N.error("Failed to delete transaction",{error:i instanceof Error?i.message:"Unknown error",requestId:o,transactionId:n,userId:t.id}),e.json({code:"TRANSACTION_DELETE_ERROR",error:"Failed to delete transaction"},500)}});var l$=tl;ir();Lr();var Fxe=c.object({full_name:c.string().optional(),phone:c.string().optional(),cpf:c.string().optional(),birth_date:c.string().optional(),profile_image_url:c.string().url().optional()}),Bxe=c.record(c.string(),c.any()),Jxe=c.object({period_start:c.string(),period_end:c.string()}),U8=["theme","notificationsEmail","notificationsPush","notificationsSms","autoCategorize","budgetAlerts","voiceFeedback","accessibilityHighContrast","accessibilityLargeText","accessibilityScreenReader"],Ls=new Oe;Ls.get("/me",fe,xe({windowMs:60*1e3,max:30,message:"Too many requests, please try again later"}),async e=>{let{user:t,db:r}=e.get("auth"),n=e.get("requestId");try{let[o]=await r.select().from(J).where(V(J.id,t.id)).limit(1);return e.json({data:o||null,meta:{requestId:n,retrievedAt:new Date().toISOString()}})}catch(o){return N.error("Failed to get user profile",{error:o instanceof Error?o.message:"Unknown error",requestId:n,userId:t.id}),e.json({code:"PROFILE_ERROR",error:"Failed to retrieve profile"},500)}});Ls.put("/me",fe,xe({windowMs:60*1e3,max:20,message:"Too many update attempts, please try again later"}),Ve("json",Fxe),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.valid("json"),o=e.get("requestId");try{let i={updatedAt:new Date};n.full_name&&(i.fullName=n.full_name),n.phone&&(i.phone=n.phone),n.cpf&&(i.cpf=n.cpf),n.birth_date&&(i.birthDate=n.birth_date),n.profile_image_url&&(i.profileImageUrl=n.profile_image_url);let[s]=await r.update(J).set(i).where(V(J.id,t.id)).returning();return N.info("User profile updated",{requestId:o,userId:t.id}),e.json({data:s,meta:{requestId:o,updatedAt:new Date().toISOString()}})}catch(i){return N.error("Failed to update user profile",{error:i instanceof Error?i.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"PROFILE_UPDATE_ERROR",error:"Failed to update profile"},500)}});Ls.put("/me/preferences",fe,xe({windowMs:60*1e3,max:20,message:"Too many update attempts, please try again later"}),Ve("json",Bxe),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.valid("json"),o=e.get("requestId");try{try{await Za.ensureUserExists(t.id)}catch(u){return N.error("Failed to ensure user exists in database",{userId:t.id,requestId:o,error:u instanceof Error?u.message:"Unknown error"}),e.json({code:"USER_SYNC_ERROR",error:"Failed to verify user account. Please try again."},500)}let[i]=await r.select({id:Sn.id}).from(Sn).where(V(Sn.userId,t.id)).limit(1),s;if(i){let u={updatedAt:new Date};for(let l of U8)n[l]!==void 0&&(u[l]=n[l]);[s]=await r.update(Sn).set(u).where(V(Sn.id,i.id)).returning()}else{let u={userId:t.id,createdAt:new Date,updatedAt:new Date};for(let l of U8)n[l]!==void 0&&(u[l]=n[l]);[s]=await r.insert(Sn).values(u).returning()}return N.info("User preferences updated",{requestId:o,userId:t.id}),e.json({data:s,meta:{requestId:o,updatedAt:new Date().toISOString()}})}catch(i){return N.error("Failed to update user preferences",{error:i instanceof Error?i.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"PREFERENCES_UPDATE_ERROR",error:"Failed to update preferences"},500)}});Ls.post("/me/last-login",fe,xe({windowMs:60*1e3,max:10,message:"Too many requests, please try again later"}),async e=>{let{user:t,db:r}=e.get("auth"),n=e.get("requestId");try{return await r.update(J).set({lastLogin:new Date}).where(V(J.id,t.id)),e.json({data:{success:!0},meta:{requestId:n,updatedAt:new Date().toISOString()}})}catch(o){return N.warn("Failed to update last login",{error:o instanceof Error?o.message:"Unknown error",requestId:n,userId:t.id}),e.json({data:{success:!0},meta:{requestId:n,updatedAt:new Date().toISOString()}})}});Ls.get("/me/status",fe,xe({windowMs:60*1e3,max:30,message:"Too many requests, please try again later"}),async e=>{let{user:t,db:r}=e.get("auth"),n=e.get("requestId");try{let[o]=await r.select({isActive:J.isActive,lastLogin:J.lastLogin}).from(J).where(V(J.id,t.id)).limit(1);return o?e.json({data:{isActive:o.isActive,lastLogin:o.lastLogin?.toISOString()||null},meta:{requestId:n,retrievedAt:new Date().toISOString()}}):e.json({data:{isActive:!1,lastLogin:null},meta:{requestId:n,retrievedAt:new Date().toISOString()}})}catch(o){return N.error("Failed to check user status",{error:o instanceof Error?o.message:"Unknown error",requestId:n,userId:t.id}),e.json({data:{isActive:!1,lastLogin:null},meta:{requestId:n,retrievedAt:new Date().toISOString()}})}});Ls.get("/me/financial-summary",fe,xe({windowMs:60*1e3,max:20,message:"Too many requests, please try again later"}),Ve("query",Jxe),async e=>{let{user:t,db:r}=e.get("auth"),{period_start:n,period_end:o}=e.req.valid("query"),i=e.get("requestId");try{let s=new Date(n),u=new Date(o);if(isNaN(s.getTime()))return e.json({code:"INVALID_DATE",error:"Invalid period_start format. Expected ISO 8601 date string (e.g., YYYY-MM-DD)"},400);if(isNaN(u.getTime()))return e.json({code:"INVALID_DATE",error:"Invalid period_end format. Expected ISO 8601 date string (e.g., YYYY-MM-DD)"},400);if(s>u)return e.json({code:"INVALID_DATE_RANGE",error:"period_start must be before or equal to period_end"},400);let d=(await r.select({amount:mt.amount,isIncome:mt.isIncome}).from(mt).where(Pe(V(mt.userId,t.id),gr(mt.createdAt,s),or(mt.createdAt,u)))).reduce((p,f)=>{let m=Number(f.amount);return f.isIncome?(p.income+=m,p.balance+=m):(p.expenses+=m,p.balance-=m),p},{income:0,expenses:0,balance:0});return e.json({data:d,meta:{requestId:i,retrievedAt:new Date().toISOString()}})}catch(s){let u=Fi(s);return N.error("Failed to get financial summary",{error:s instanceof Error?s.message:"Unknown error",errorCode:u.code,requestId:i,stack:s instanceof Error?s.stack:void 0,userId:t.id}),e.json({code:u.code,error:u.message},u.statusCode)}});var d$=Ls;function Hxe(e){let t=e.toLowerCase().trim(),r={},n=[{intent:"check_balance",patterns:["saldo","quanto tenho","quanto dinheiro","verificar saldo"]},{intent:"transfer_money",patterns:["transferir","pagar","enviar dinheiro","mandar dinheiro"],entityExtractor:a(o=>Vxe(o,r),"entityExtractor")},{intent:"pay_bill",patterns:["conta","boleto","pagar conta","pagar boleto"],entityExtractor:a(()=>Zxe(t,r),"entityExtractor")},{intent:"transaction_history",patterns:["extrato","transa\xE7\xF5es","historico","compras"]},{intent:"pix_transfer",patterns:["pix","fazer pix"],entityExtractor:a(o=>Kxe(o,r),"entityExtractor")}];for(let{intent:o,patterns:i,entityExtractor:s}of n)if(i.some(u=>t.includes(u)))return s&&s(e),{intent:o,entities:r,confidence:.9};return{intent:"unknown",entities:r,confidence:.3}}a(Hxe,"detectIntentAndEntities");function Vxe(e,t){let r=e.match(/r?\$?\s*(\d+(?:,\d{1,2})?)/i);if(r){let o=Number.parseFloat(r[1].replace(",","."));t.amount=o,t.currency="BRL"}let n=e.match(/(?:para|para o|para a)\s+([a-z-\s]{2,30})/i);n&&(t.recipient=n[1].trim())}a(Vxe,"extractTransferEntities");function Zxe(e,t){e.includes("luz")?t.billType="electricity":e.includes("\xE1gua")?t.billType="water":e.includes("telefone")?t.billType="phone":e.includes("internet")&&(t.billType="internet")}a(Zxe,"extractBillEntities");function Kxe(e,t){let r=e.match(/([a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,})/),n=e.match(/\(?(\d{2})?\)?\s?(\d{4,5})-?(\d{4})/),o=e.match(/\b\d{3}\.?\d{3}\.?\d{3}-?\d{2}\b/);r?(t.pixKey=r[1],t.pixKeyType="EMAIL"):n?(t.pixKey=n[0],t.pixKeyType="PHONE"):o&&(t.pixKey=o[0],t.pixKeyType="CPF")}a(Kxe,"extractPixEntities");function Gxe(e,t){switch(e){case"check_balance":return"Verificando seu saldo...";case"transfer_money":return t.amount&&t.recipient?`Preparando transfer\xEAncia de R$ ${t.amount} para ${t.recipient}`:"Entendi que quer transferir dinheiro. Para quem e quanto?";case"pay_bill":return"Buscando suas contas a pagar...";case"transaction_history":return"Mostrando seu hist\xF3rico de transa\xE7\xF5es...";case"pix_transfer":return"Preparando transfer\xEAncia PIX...";default:return"N\xE3o entendi o comando. Pode repetir?"}}a(Gxe,"generateResponse");async function L8(e){let{commandText:t,sessionId:r,language:n,requireConfirmation:o,userId:i}=e,s=t??"";await new Promise(y=>setTimeout(y,300));let{intent:u,entities:l,confidence:d}=Hxe(s),p=d<.8||(o??!1),f=Gxe(u,l);return{confidence:d,entities:l,intent:u,language:n??"pt-BR",processedAt:new Date().toISOString(),requiresConfirmation:p,response:f,sessionId:r}}a(L8,"processVoiceCommand");function F8(){return{commands:[{description:"Verificar saldo da conta",examples:["Qual \xE9 o meu saldo?","Quanto dinheiro eu tenho?","Mostrar meu saldo"],name:"check_balance"},{description:"Transferir dinheiro para outra conta",examples:["Transferir R$ 100 para Jo\xE3o","Pagar 50 reais para Maria","Enviar R$ 200 para o email teste@email.com"],name:"transfer_money"},{description:"Pagar contas e boletos",examples:["Pagar conta de luz","Pagar boleto do cart\xE3o","Quitar conta de telefone"],name:"pay_bill"},{description:"Fazer transfer\xEAncia PIX",examples:["Fazer PIX para o CPF 123.456.789-00","Enviar PIX para o telefone 11999999999","Transferir por PIX para maria@email.com"],name:"pix_transfer"},{description:"Ver hist\xF3rico de transa\xE7\xF5es",examples:["Mostrar minhas transa\xE7\xF5es","Ver extrato do m\xEAs","Hist\xF3rico de compras"],name:"transaction_history"}],language:"pt-BR"}}a(F8,"getAvailableCommands");var p$=new Oe,Wxe=c.object({commandText:c.string().min(1).max(1e3).optional(),sessionId:c.string().uuid(),audioData:c.string().optional(),language:c.string().default("pt-BR"),requireConfirmation:c.boolean().default(!1)}).refine(e=>e.audioData||e.commandText,{message:"Dados de \xE1udio ou texto do comando s\xE3o obrigat\xF3rios",path:["audioData"]}),oht=c.object({commands:c.array(c.object({description:c.string(),examples:c.array(c.string()),name:c.string()})),language:c.string()});p$.post("/process",fe,xe({windowMs:60*1e3,max:30,message:"Too many voice commands, please try again later"}),Ve("json",Wxe),async e=>{let{user:t}=e.get("auth"),r=e.req.valid("json"),n=e.get("requestId"),{commandText:o,sessionId:i,audioData:s,language:u,requireConfirmation:l}=r,d=o??"";try{N.audit("Voice command processing started",{commandLength:d.length,component:"voice.processCommand",requestId:n,userId:t.id});let p=await L8({audioData:s,commandText:d,userId:t.id,context:{user:t},language:u,requireConfirmation:l,sessionId:i});return N.audit("Voice command processing completed",{command:d,requestId:n,result:p,sessionId:i,timestamp:new Date().toISOString(),userId:t.id}),e.json({data:p,meta:{processedAt:new Date().toISOString(),requestId:n}})}catch(p){return N.audit("Voice command processing failed",{command:d,error:p instanceof Error?p.message:"Unknown error",requestId:n,sessionId:i,timestamp:new Date().toISOString(),userId:t.id}),e.json({code:"VOICE_PROCESSING_ERROR",details:{command:d.substring(0,50)},error:"Failed to process voice command"},500)}});p$.get("/commands",fe,xe({windowMs:60*1e3,max:10,message:"Too many requests, please try again later"}),async e=>{let{user:t}=e.get("auth"),r=e.get("requestId");try{let n=F8();return N.info("Voice commands list accessed",{requestId:r,userId:t.id}),e.json({data:n,meta:{requestId:r,retrievedAt:new Date().toISOString()}})}catch(n){return N.error("Failed to get voice commands",{error:n instanceof Error?n.message:"Unknown error",requestId:r,userId:t.id}),e.json({code:"COMMANDS_RETRIEVAL_ERROR",error:"Failed to retrieve voice commands"},500)}});var m$=p$;ir();var W7=ou(G7(),1);Tn();rd();Ar();var Q7=process.env.CLERK_WEBHOOK_SECRET,X7=process.env.CLERK_SECRET_KEY;if(!Q7)throw N.error("CLERK_WEBHOOK_SECRET environment variable is not set"),new Error("CLERK_WEBHOOK_SECRET environment variable is not set");if(!X7)throw N.error("CLERK_SECRET_KEY environment variable is not set"),new Error("CLERK_SECRET_KEY environment variable is not set");var uke=Ju({secretKey:X7}),Y7=new Oe;Y7.post("/",async e=>{let t=e.get("requestId")||crypto.randomUUID();try{let r=await e.req.text(),n={"svix-id":e.req.header("svix-id")||"","svix-timestamp":e.req.header("svix-timestamp")||"","svix-signature":e.req.header("svix-signature")||""};if(N.info("Clerk webhook received",{requestId:t,hasPayload:!!r,payloadLength:r.length,hasHeaders:{"svix-id":!!n["svix-id"],"svix-timestamp":!!n["svix-timestamp"],"svix-signature":!!n["svix-signature"]}}),!n["svix-id"]||!n["svix-timestamp"]||!n["svix-signature"])return N.warn("Missing required webhook headers",{requestId:t,headers:Object.keys(n),receivedHeaders:Object.keys(e.req.header())}),e.json({error:"Missing required webhook headers"},400);let o;try{o=new W7.Webhook(Q7).verify(r,n),N.info("Clerk webhook verified",{requestId:t,eventType:o.type,eventId:o.data?.id})}catch(s){return N.error("Clerk webhook verification failed",{requestId:t,error:s instanceof Error?s.message:"Unknown error",errorStack:s instanceof Error?s.stack:void 0,headers:Object.keys(n)}),e.json({error:"Invalid signature"},400)}let i=o.type;N.info("Processing webhook event",{requestId:t,eventType:i,userId:o.data?.id});try{if(i==="user.created"){let{id:s,email_addresses:u,first_name:l,last_name:d}=o.data,p=u[0]?.email_address,f=[l,d].filter(Boolean).join(" ")||void 0;if(!p)return N.warn("User created without email",{userId:s,requestId:t}),e.json({error:"No email found"},400);if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(p))return N.warn("Invalid email format",{userId:s,email:p,requestId:t}),e.json({error:"Invalid email format"},400);if(!s||!s.startsWith("user_"))return N.warn("Invalid Clerk user ID format",{userId:s,requestId:t}),e.json({error:"Invalid user ID format"},400);let m=rn(),[y]=await m.select().from(J).where(V(J.id,s)).limit(1);if(y)return N.info("User already exists, skipping creation",{userId:s,email:p,organizationId:y.organizationId,requestId:t}),e.json({received:!0,message:"User already exists"});let g;try{g=await oo.getOrCreateCustomer(s,p,f)}catch(h){return N.error("Failed to create Stripe customer",{userId:s,email:p,requestId:t,error:h instanceof Error?h.message:"Unknown error"}),e.json({error:"Failed to create Stripe customer"},500)}try{await m.transaction(async h=>{let v=await Us.createUserOrganization(s,p,f,h);await h.insert(J).values({id:s,email:p,fullName:f,organizationId:v}),await h.insert(je).values({userId:s,stripeCustomerId:g,planId:"free",status:"free"}),N.info("User created and initialized",{userId:s,email:p,organizationId:v,stripeCustomerId:g,requestId:t})});try{await uke.users.updateUserMetadata(s,{privateMetadata:{stripeCustomerId:g}})}catch(h){N.warn("Failed to update Clerk metadata",{userId:s,requestId:t,error:h instanceof Error?h.message:"Unknown error"})}}catch(h){N.error("Database operation failed during user creation",{userId:s,email:p,stripeCustomerId:g,requestId:t,error:h instanceof Error?h.message:"Unknown error",stack:h instanceof Error?h.stack:void 0});try{await oo.deleteCustomer(g)}catch(v){N.error("Failed to rollback Stripe customer",{stripeCustomerId:g,requestId:t,error:v instanceof Error?v.message:"Unknown error"})}return e.json({error:"Failed to create user record"},500)}}else if(i==="user.deleted"){let{id:s}=o.data;if(!s)return N.warn("User deleted event without user ID",{requestId:t}),e.json({error:"No user ID"},400);if(!s.startsWith("user_"))return N.warn("Invalid Clerk user ID format in delete event",{userId:s,requestId:t}),e.json({error:"Invalid user ID format"},400);try{let u=rn(),[l]=await u.select().from(je).where(V(je.userId,s)).limit(1);if(l?.stripeCustomerId)try{await oo.deleteCustomer(l.stripeCustomerId),N.info("Stripe customer deleted",{userId:s,stripeCustomerId:l.stripeCustomerId,requestId:t})}catch(d){N.warn("Failed to delete Stripe customer, continuing with cleanup",{userId:s,stripeCustomerId:l.stripeCustomerId,requestId:t,error:d instanceof Error?d.message:"Unknown error"})}l?(await u.delete(je).where(V(je.userId,s)),N.info("Subscription deleted",{userId:s,subscriptionId:l.id,requestId:t})):N.info("No subscription found for deleted user",{userId:s,requestId:t}),N.info("User deleted and data cleaned up",{userId:s,requestId:t})}catch(u){return N.error("Failed to delete user data",{userId:s,requestId:t,error:u instanceof Error?u.message:"Unknown error",stack:u instanceof Error?u.stack:void 0}),e.json({error:"Failed to delete user data"},500)}}else if(i==="user.updated"){let{id:s,email_addresses:u,first_name:l,last_name:d}=o.data,p=u[0]?.email_address,f=[l,d].filter(Boolean).join(" ")||void 0;try{let m=rn(),[y]=await m.select().from(je).where(V(je.userId,s)).limit(1);y?.stripeCustomerId&&p&&await oo.updateCustomer(y.stripeCustomerId,{email:p,name:f},s),N.info("User updated",{userId:s,requestId:t})}catch(m){return N.error("Failed to update user",{userId:s,email:p,requestId:t,error:m instanceof Error?m.message:"Unknown error"}),e.json({error:"Failed to update user"},500)}}else N.info("Unhandled webhook event type",{eventType:i,requestId:t});return e.json({received:!0})}catch(s){return N.error("Clerk webhook processing error",{requestId:t,eventType:i,error:s instanceof Error?s.message:"Unknown error",stack:s instanceof Error?s.stack:void 0}),e.json({error:"Webhook processing failed"},500)}}catch(r){return N.error("Clerk webhook handler error",{requestId:t,error:r instanceof Error?r.message:"Unknown error",stack:r instanceof Error?r.stack:void 0}),e.json({error:"Webhook handler failed"},500)}});var eX=Y7;try{tz()}catch(e){let t=e instanceof Error?e.message:"Unknown error";throw console.error("\u274C Environment validation failed:",t),e}var er=new Oe;er.use("*",ez());er.use("*",lz);er.use("*",async(e,t)=>{let r=crypto.randomUUID();e.set("requestId",r),await t()});NM(er);$M(er);er.route("/api/v1",c$);er.route("/api/v1/voice",m$);er.route("/api/v1/banking",Z1);er.route("/api/v1/contacts",s$);er.route("/api/v1/bank-accounts",V1);er.route("/api/v1/users",d$);er.route("/api/v1/transactions",l$);er.route("/api/v1/calendar",r$);er.route("/api/v1/google-calendar",u$);er.route("/api/v1/compliance",o$);er.route("/api/v1/billing",e$);er.route("/api/v1/ai",Mp);er.route("/api/v1/agent",_C);er.route("/api/webhooks/clerk",eX);er.route("/cron",uz);DM(er);er.notFound(e=>{let t=e.get("requestId");return N.warn("Route not found",{ip:e.req.header("X-Forwarded-For")||e.req.header("X-Real-IP")||"unknown",method:e.req.method,path:e.req.path,requestId:t,userAgent:e.req.header("User-Agent")||"unknown"}),e.json({error:"Not Found",message:`Route ${e.req.method} ${e.req.path} not found`,requestId:t,timestamp:new Date().toISOString()},404)});er.onError((e,t)=>{let r=t.get("requestId");return N.error("Unhandled error",{error:e.message,method:t.req.method,path:t.req.path,requestId:r,stack:e.stack}),t.json({error:"Internal server error",requestId:r,timestamp:new Date().toISOString()},500)});var tX=er;var LSt=tX;export{LSt as default};
/*! Bundled license information:

@neondatabase/serverless/index.mjs:
  (*! Bundled license information:
  
  ieee754/index.js:
    (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)
  
  buffer/index.js:
    (*!
     * The buffer module from node.js, for the browser.
     *
     * @author   Feross Aboukhadijeh <https://feross.org>
     * @license  MIT
     *)
  *)
*/
