// Bundled for Vercel Serverless Functions
// Generated at: 2025-12-01T01:59:29.290Z
var mN=Object.create;var yu=Object.defineProperty;var fN=Object.getOwnPropertyDescriptor;var hN=Object.getOwnPropertyNames;var gN=Object.getPrototypeOf,yN=Object.prototype.hasOwnProperty;var s=(e,t)=>yu(e,"name",{value:t,configurable:!0}),vN=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,n)=>(typeof require<"u"?require:t)[n]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var tt=(e,t)=>()=>(e&&(t=e(e=0)),t);var de=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),cr=(e,t)=>{for(var n in t)yu(e,n,{get:t[n],enumerable:!0})},_N=(e,t,n,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of hN(t))!yN.call(e,r)&&r!==n&&yu(e,r,{get:()=>t[r],enumerable:!(o=fN(t,r))||o.enumerable});return e};var vu=(e,t,n)=>(n=e!=null?mN(gN(e)):{},_N(t||!e||!e.__esModule?yu(n,"default",{value:e,enumerable:!0}):n,e));var He,Dx,zx,Su,Iu,Cn=tt(()=>{He="ALL",Dx="all",zx=["get","post","put","delete","options","patch"],Su="Can not add a route since the matcher is already built.",Iu=class extends Error{static{s(this,"UnsupportedPathError")}}});var Ci,Zp=tt(()=>{Ci="__COMPOSED_HANDLER"});var Em,Zi,Mu=tt(()=>{"use strict";Em={staticAssets:"public, max-age=31536000, immutable",htmlFiles:"no-cache, no-store, must-revalidate",apiResponses:"private, max-age=60",dynamicContent:"private, no-cache"},Zi={NODE_ENV:"production",PORT:Number(process.env.PORT)||3e3,IS_DEVELOPMENT:!1,IS_PRODUCTION:!0,DATABASE_URL:process.env.DATABASE_URL||"",DATABASE_URL_UNPOOLED:process.env.DATABASE_URL_UNPOOLED||"",CLERK_PUBLISHABLE_KEY:process.env.VITE_CLERK_PUBLISHABLE_KEY||process.env.CLERK_PUBLISHABLE_KEY||"",CLERK_SECRET_KEY:process.env.CLERK_SECRET_KEY||"",API_URL:process.env.VITE_API_URL||process.env.API_URL||"http://localhost:3000",CORS_ORIGINS:(process.env.CORS_ORIGINS||"http://localhost:5173,http://localhost:3000").split(",")}});var fS,hS=tt(()=>{fS=/^\s*(?:text\/(?!event-stream(?:[;\s]|$))[^;\s]+|application\/(?:javascript|json|xml|xml-dtd|ecmascript|dart|postscript|rtf|tar|toml|vnd\.dart|vnd\.ms-fontobject|vnd\.ms-opentype|wasm|x-httpd-php|x-javascript|x-ns-proxy-autoconfig|x-sh|x-tar|x-virtualbox-hdd|x-virtualbox-ova|x-virtualbox-ovf|x-virtualbox-vbox|x-virtualbox-vdi|x-virtualbox-vhd|x-virtualbox-vmdk|x-www-form-urlencoded)|font\/(?:otf|ttf)|image\/(?:bmp|vnd\.adobe\.photoshop|vnd\.microsoft\.icon|vnd\.ms-dds|x-icon|x-ms-bmp)|message\/rfc822|model\/gltf-binary|x-shader\/x-fragment|x-shader\/x-vertex|[^;\s]+?\+(?:json|text|xml|yaml))(?:[;\s]|$)/i});var Pm,gS,rj,km,Am=tt(()=>{Pm=s((e,t=km)=>{let n=/\.([a-zA-Z0-9]+?)$/,o=e.match(n);if(!o)return;let r=t[o[1]];return r&&r.startsWith("text")&&(r+="; charset=utf-8"),r},"getMimeType"),gS=s(e=>{for(let t in km)if(km[t]===e)return t},"getExtension"),rj={aac:"audio/aac",avi:"video/x-msvideo",avif:"image/avif",av1:"video/av1",bin:"application/octet-stream",bmp:"image/bmp",css:"text/css",csv:"text/csv",eot:"application/vnd.ms-fontobject",epub:"application/epub+zip",gif:"image/gif",gz:"application/gzip",htm:"text/html",html:"text/html",ico:"image/x-icon",ics:"text/calendar",jpeg:"image/jpeg",jpg:"image/jpeg",js:"text/javascript",json:"application/json",jsonld:"application/ld+json",map:"application/json",mid:"audio/x-midi",midi:"audio/x-midi",mjs:"text/javascript",mp3:"audio/mpeg",mp4:"video/mp4",mpeg:"video/mpeg",oga:"audio/ogg",ogv:"video/ogg",ogx:"application/ogg",opus:"audio/opus",otf:"font/otf",pdf:"application/pdf",png:"image/png",rtf:"application/rtf",svg:"image/svg+xml",tif:"image/tiff",tiff:"image/tiff",ts:"video/mp2t",ttf:"font/ttf",txt:"text/plain",wasm:"application/wasm",webm:"video/webm",weba:"audio/webm",webmanifest:"application/manifest+json",webp:"image/webp",woff:"font/woff",woff2:"font/woff2",xhtml:"application/xhtml+xml",xml:"application/xml",zip:"application/zip","3gp":"video/3gpp","3g2":"video/3gpp2",gltf:"model/gltf+json",glb:"model/gltf-binary"},km=rj});var yS,vS=tt(()=>{yS=s((...e)=>{let t=e.filter(r=>r!=="").join("/");t=t.replace(/(?<=\/)\/+/g,"");let n=t.split("/"),o=[];for(let r of n)r===".."&&o.length>0&&o.at(-1)!==".."?o.pop():r!=="."&&o.push(r);return o.join("/")||"."},"defaultJoin")});var _S,nj,oj,bS,xS=tt(()=>{hS();Am();vS();_S={br:".br",zstd:".zst",gzip:".gz"},nj=Object.keys(_S),oj="index.html",bS=s(e=>{let t=e.root??"./",n=e.path,o=e.join??yS;return async(r,a)=>{if(r.finalized)return a();let c;if(e.path)c=e.path;else try{if(c=decodeURIComponent(r.req.path),/(?:^|[\/\\])\.\.(?:$|[\/\\])/.test(c))throw new Error}catch{return await e.onNotFound?.(r.req.path,r),a()}let u=o(t,!n&&e.rewriteRequestPath?e.rewriteRequestPath(c):c);e.isDir&&await e.isDir(u)&&(u=o(u,oj));let l=e.getContent,d=await l(u,r);if(d instanceof Response)return r.newResponse(d.body,d);if(d){let p=e.mimes&&Pm(u,e.mimes)||Pm(u);if(r.header("Content-Type",p||"application/octet-stream"),e.precompressed&&(!p||fS.test(p))){let m=new Set(r.req.header("Accept-Encoding")?.split(",").map(f=>f.trim()));for(let f of nj){if(!m.has(f))continue;let y=await l(u+_S[f],r);if(y){d=y,r.header("Content-Encoding",f),r.header("Vary","Accept-Encoding",{append:!0});break}}}return await e.onFound?.(u,r),r.body(d)}await e.onNotFound?.(u,r),await a()}},"serveStatic")});import{stat as aj}from"node:fs/promises";import{join as ij}from"node:path";var wS,SS=tt(()=>{xS();wS=s(e=>s(async function(n,o){return bS({...e,getContent:s(async c=>{let u=Bun.file(c);return await u.exists()?u:null},"getContent"),join:ij,isDir:s(async c=>{let u;try{u=(await aj(c)).isDirectory()}catch{}return u},"isDir")})(n,o)},"serveStatic2"),"serveStatic")});var IS=tt(()=>{});var TS,ES=tt(()=>{IS();TS=s((e,t)=>{for(let[n,o]of Object.entries(t)){let r=new RegExp("/:"+n+"(?:{[^/]+})?\\??");e=e.replace(r,o?`/${o}`:"")}return e},"replaceUrlParam")});var sj,kS,PS=tt(()=>{sj=1024,kS=s(({concurrency:e,interval:t}={})=>{if(e||=sj,e===1/0)return{run:s(async r=>r(),"run")};let n=new Set,o=s(async(r,a,c)=>{if(n.size>=e)return a||=new Promise(d=>c=d),setTimeout(()=>o(r,a,c)),a;let u={};n.add(u);let l=await r();return t?setTimeout(()=>n.delete(u),t):n.delete(u),c?(c(l),a):l},"run");return{run:o}},"createPool")});var AS,$m,$S=tt(()=>{Zp();AS=s(e=>e.length>1,"isMiddleware"),$m=s(e=>e[Ci]?$m(e[Ci]):e,"findTargetHandler")});var RS,cj,uj,lj,dj,Vi,OS,Rm,Om=tt(()=>{Cn();$S();RS=s(e=>e.split(/[\/\\]/).slice(0,-1).join("/"),"dirname"),cj=s(e=>e.replace(/(\\)/g,"/").replace(/\/$/g,""),"normalizePath"),uj=s((e,t)=>{e.length===0||t?e.push(".."):e.pop()},"handleParent"),lj=s((e,t)=>{e=e.replace(/^\.(?!.)/,""),e!==""&&t.push(e)},"handleNonDot"),dj=s((e,t)=>{let n=!1;for(let o of e)o===".."?(uj(t,n),n=!0):(lj(o,t),n=!1)},"handleSegments"),Vi=s((...e)=>{e=e.map(cj);let t=[];return dj(e.join("/").split("/"),t),(e[0][0]==="/"?"/":"")+t.join("/")},"joinPaths"),OS=s(e=>e.routes.reduce((t,{method:n,handler:o,path:r})=>{let a=$m(o);return["GET",He].includes(n)&&!AS(a)&&t.push({path:r}),t},[]),"filterStaticGenerateRoutes"),Rm=s(e=>e.split("/").some(t=>t.startsWith(":")||t.includes("*")),"isDynamicRoute")});var CS,Uu,M8,Cm=tt(()=>{Om();CS="HONO_SSG_CONTEXT",Uu="x-hono-disable-ssg",M8=(()=>{try{return new Response("SSG is disabled",{status:404,headers:{[Uu]:"true"}})}catch{return null}})()});var pj,mj,fj,hj,gj,yj,vj,_j,bj,xj,wj,NS,Sj,Ij,jS,DS=tt(()=>{ES();PS();Am();Cm();Om();pj=2,mj="text/plain",fj="./static",hj=s((e,t,n,o)=>{let r=vj(n,o);return e.endsWith(`.${r}`)?Vi(t,e):e==="/"?Vi(t,`index.${r}`):e.endsWith("/")?Vi(t,e,`index.${r}`):Vi(t,`${e}.${r}`)},"generateFilePath"),gj=s(async e=>{let t=e.headers.get("Content-Type");try{return t?.includes("text")||t?.includes("json")?await e.text():await e.arrayBuffer()}catch(n){throw new Error(`Error processing response: ${n instanceof Error?n.message:"Unknown error"}`)}},"parseResponseContent"),yj={"text/html":"html","text/xml":"xml","application/xml":"xml","application/yaml":"yaml"},vj=s((e,t)=>{let n=t||yj;return e in n?n[e]:gS(e)||"html"},"determineExtension"),_j=s(e=>Array.isArray(e)?async t=>{let n=t;for(let o of e){let r=await o(n);if(r===!1)return!1;r instanceof Request&&(n=r)}return n}:e,"combineBeforeRequestHooks"),bj=s(e=>Array.isArray(e)?async t=>{let n=t;for(let o of e){let r=await o(n);if(r===!1)return!1;r instanceof Response&&(n=r)}return n}:e,"combineAfterResponseHooks"),xj=s((e,t,n)=>Array.isArray(e)?async o=>{for(let r of e)await r(o,t,n)}:e,"combineAfterGenerateHooks"),wj=s(function*(e,t,n,o){let r="http://localhost",a=kS({concurrency:o});for(let c of OS(e)){let u=new URL(c.path,r).toString(),l=new Request(u);yield new Promise(async(d,p)=>{try{if(t){let f=await t(l);if(!f){d(void 0);return}l=f}if(await a.run(()=>e.fetch(l)),!l.ssgParams){if(Rm(c.path)){d(void 0);return}l.ssgParams=[{}]}let m={method:l.method,headers:l.headers};d((function*(){for(let f of l.ssgParams)yield new Promise(async(y,g)=>{try{let v=TS(c.path,f),b=await a.run(()=>e.request(v,m,{[CS]:!0}));if(b.headers.get(Uu)){y(void 0);return}if(n){let x=await n(b);if(!x){y(void 0);return}b=x}let w=b.headers.get("Content-Type")?.split(";")[0]||mj,_=await gj(b);y({routePath:v,mimeType:w,content:_})}catch(v){g(v)}})})())}catch(m){p(m)}})}},"fetchRoutesContent"),NS=new Set,Sj=s(async(e,t,n,o)=>{let r=await e;if(!r)return;let{routePath:a,content:c,mimeType:u}=r,l=hj(a,n,u,o),d=RS(l);return NS.has(d)||(await t.mkdir(d,{recursive:!0}),NS.add(d)),typeof c=="string"?await t.writeFile(l,c):c instanceof ArrayBuffer&&await t.writeFile(l,new Uint8Array(c)),l},"saveContentToFile"),Ij={afterResponseHook:s(e=>e.status!==200?!1:e,"afterResponseHook")},jS=s(async(e,t,n)=>{let o,r=[],a=[],c=n?.plugins||[Ij],u=[],l=[],d=[];n?.beforeRequestHook&&u.push(...Array.isArray(n.beforeRequestHook)?n.beforeRequestHook:[n.beforeRequestHook]),n?.afterResponseHook&&l.push(...Array.isArray(n.afterResponseHook)?n.afterResponseHook:[n.afterResponseHook]),n?.afterGenerateHook&&d.push(...Array.isArray(n.afterGenerateHook)?n.afterGenerateHook:[n.afterGenerateHook]);for(let p of c)p.beforeRequestHook&&u.push(...Array.isArray(p.beforeRequestHook)?p.beforeRequestHook:[p.beforeRequestHook]),p.afterResponseHook&&l.push(...Array.isArray(p.afterResponseHook)?p.afterResponseHook:[p.afterResponseHook]),p.afterGenerateHook&&d.push(...Array.isArray(p.afterGenerateHook)?p.afterGenerateHook:[p.afterGenerateHook]);try{let p=n?.dir??fj,m=n?.concurrency??pj,f=_j(u.length>0?u:[b=>b]),y=bj(l.length>0?l:[b=>b]),g=wj(e,f,y,m);for(let b of g)r.push(b.then(w=>{if(w)for(let _ of w)a.push(Sj(_,t,p,n?.extensionMap).catch(x=>x))}));await Promise.all(r);let v=[];for(let b of a){let w=await b;if(typeof w=="string")v.push(w);else if(w)throw w}o={success:!0,files:v}}catch(p){let m=p instanceof Error?p:new Error(String(p));o={success:!1,files:[],error:m}}return d.length>0&&await xj(d,t,n)(o,t,n),o},"toSSG")});var zS=tt(()=>{DS();Cm()});var Tj,Nm,MS,US=tt(()=>{zS();({write:Tj}=Bun),Nm={writeFile:s(async(e,t)=>{await Tj(e,t)},"writeFile"),mkdir:s(async()=>{},"mkdir")},MS=s(async(e,t)=>jS(e,Nm,t),"toSSG")});var LS,qS,FS,BS=tt(()=>{LS=class{static{s(this,"WSContext")}#e;constructor(e){this.#e=e,this.raw=e.raw,this.url=e.url?new URL(e.url):null,this.protocol=e.protocol??null}send(e,t){this.#e.send(e,t??{})}raw;binaryType="arraybuffer";get readyState(){return this.#e.readyState}url;protocol;close(e,t){this.#e.close(e,t)}},qS=s(e=>new MessageEvent("message",{data:e}),"createWSMessageEvent"),FS=s(e=>(...t)=>{if(typeof t[0]=="function"){let[n,o]=t;return s(async function(a,c){let u=await n(a),l=await e(a,u,o);if(l)return l;await c()},"upgradeWebSocket")}else{let[n,o,r]=t;return(async()=>{let a=await e(n,o,r);if(!a)throw new Error("Failed to upgrade WebSocket");return a})()}},"defineWebSocketHelper")});var Lu,jm=tt(()=>{Lu=s(e=>"server"in e.env?e.env.server:e.env,"getBunServer")});var Dm,zm,Mm,ZS,VS=tt(()=>{BS();jm();Dm=s(e=>new LS({send:s((t,n)=>{e.send(t,n?.compress)},"send"),raw:e,readyState:e.readyState,url:e.data.url,protocol:e.data.protocol,close(t,n){e.close(t,n)}}),"createWSContext"),zm=FS((e,t)=>{let n=Lu(e);if(!n)throw new TypeError("env has to include the 2nd argument of fetch.");if(n.upgrade(e.req.raw,{data:{events:t,url:new URL(e.req.url),protocol:e.req.url}}))return new Response(null)}),Mm={open(e){let t=e.data.events;t.onOpen&&t.onOpen(new Event("open"),Dm(e))},close(e,t,n){let o=e.data.events;o.onClose&&o.onClose(new CloseEvent("close",{code:t,reason:n}),Dm(e))},message(e,t){let n=e.data.events;if(n.onMessage){let o=typeof t=="string"?t:t.buffer;n.onMessage(qS(o),Dm(e))}}},ZS=s(()=>({upgradeWebSocket:zm,websocket:Mm}),"createBunWebSocket")});var HS,GS=tt(()=>{jm();HS=s(e=>{let t=Lu(e);if(!t)throw new TypeError("env has to include the 2nd argument of fetch.");if(typeof t.requestIP!="function")throw new TypeError("server.requestIP is not a function.");let n=t.requestIP(e.req.raw);return n?{remote:{address:n.address,addressType:n.family==="IPv6"||n.family==="IPv4"?n.family:void 0,port:n.port}}:{remote:{}}},"getConnInfo")});var JS={};cr(JS,{bunFileSystemModule:()=>Nm,createBunWebSocket:()=>ZS,getConnInfo:()=>HS,serveStatic:()=>wS,toSSG:()=>MS,upgradeWebSocket:()=>zm,websocket:()=>Mm});var KS=tt(()=>{SS();US();VS();GS()});var WS={};cr(WS,{htmlCache:()=>kj,staticAssetsCache:()=>Ej});var Ej,kj,XS=tt(()=>{"use strict";Mu();Ej=s(()=>async(e,t)=>{e.header("Cache-Control",Em.staticAssets),await t()},"staticAssetsCache"),kj=s(()=>async(e,t)=>{e.header("Cache-Control",Em.htmlFiles),e.header("Pragma","no-cache"),e.header("Expires","0"),await t()},"htmlCache")});var Kl=de((bte,Oa)=>{"use strict";var z4=typeof Buffer<"u",LT=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,qT=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function FT(e,t,n){n==null&&t!==null&&typeof t=="object"&&(n=t,t=void 0),z4&&Buffer.isBuffer(e)&&(e=e.toString()),e&&e.charCodeAt(0)===65279&&(e=e.slice(1));let o=JSON.parse(e,t);if(o===null||typeof o!="object")return o;let r=n&&n.protoAction||"error",a=n&&n.constructorAction||"error";if(r==="ignore"&&a==="ignore")return o;if(r!=="ignore"&&a!=="ignore"){if(LT.test(e)===!1&&qT.test(e)===!1)return o}else if(r!=="ignore"&&a==="ignore"){if(LT.test(e)===!1)return o}else if(qT.test(e)===!1)return o;return BT(o,{protoAction:r,constructorAction:a,safe:n&&n.safe})}s(FT,"_parse");function BT(e,{protoAction:t="error",constructorAction:n="error",safe:o}={}){let r=[e];for(;r.length;){let a=r;r=[];for(let c of a){if(t!=="ignore"&&Object.prototype.hasOwnProperty.call(c,"__proto__")){if(o===!0)return null;if(t==="error")throw new SyntaxError("Object contains forbidden prototype property");delete c.__proto__}if(n!=="ignore"&&Object.prototype.hasOwnProperty.call(c,"constructor")&&Object.prototype.hasOwnProperty.call(c.constructor,"prototype")){if(o===!0)return null;if(n==="error")throw new SyntaxError("Object contains forbidden prototype property");delete c.constructor}for(let u in c){let l=c[u];l&&typeof l=="object"&&r.push(l)}}}return e}s(BT,"filter");function Fv(e,t,n){let o=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return FT(e,t,n)}finally{Error.stackTraceLimit=o}}s(Fv,"parse");function M4(e,t){let n=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return FT(e,t,{safe:!0})}catch{return null}finally{Error.stackTraceLimit=n}}s(M4,"safeParse");Oa.exports=Fv;Oa.exports.default=Fv;Oa.exports.parse=Fv;Oa.exports.safeParse=M4;Oa.exports.scan=BT});var Co=de((ufe,JP)=>{"use strict";JP.exports=TypeError});var WP=de((lfe,KP)=>{KP.exports=vN("util").inspect});var $c=de((dfe,gA)=>{var mb=typeof Map=="function"&&Map.prototype,ob=Object.getOwnPropertyDescriptor&&mb?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Rd=mb&&ob&&typeof ob.get=="function"?ob.get:null,XP=mb&&Map.prototype.forEach,fb=typeof Set=="function"&&Set.prototype,ab=Object.getOwnPropertyDescriptor&&fb?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Od=fb&&ab&&typeof ab.get=="function"?ab.get:null,YP=fb&&Set.prototype.forEach,VV=typeof WeakMap=="function"&&WeakMap.prototype,kc=VV?WeakMap.prototype.has:null,HV=typeof WeakSet=="function"&&WeakSet.prototype,Pc=HV?WeakSet.prototype.has:null,GV=typeof WeakRef=="function"&&WeakRef.prototype,QP=GV?WeakRef.prototype.deref:null,JV=Boolean.prototype.valueOf,KV=Object.prototype.toString,WV=Function.prototype.toString,XV=String.prototype.match,hb=String.prototype.slice,co=String.prototype.replace,YV=String.prototype.toUpperCase,eA=String.prototype.toLowerCase,uA=RegExp.prototype.test,tA=Array.prototype.concat,Xr=Array.prototype.join,QV=Array.prototype.slice,rA=Math.floor,cb=typeof BigInt=="function"?BigInt.prototype.valueOf:null,ib=Object.getOwnPropertySymbols,ub=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,ni=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Ac=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===ni||!0)?Symbol.toStringTag:null,lA=Object.prototype.propertyIsEnumerable,nA=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function oA(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||uA.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var o=e<0?-rA(-e):rA(e);if(o!==e){var r=String(o),a=hb.call(t,r.length+1);return co.call(r,n,"$&_")+"."+co.call(co.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return co.call(t,n,"$&_")}s(oA,"addNumericSeparator");var lb=WP(),aA=lb.custom,iA=mA(aA)?aA:null,dA={__proto__:null,double:'"',single:"'"},eH={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};gA.exports=s(function e(t,n,o,r){var a=n||{};if(kn(a,"quoteStyle")&&!kn(dA,a.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(kn(a,"maxStringLength")&&(typeof a.maxStringLength=="number"?a.maxStringLength<0&&a.maxStringLength!==1/0:a.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var c=kn(a,"customInspect")?a.customInspect:!0;if(typeof c!="boolean"&&c!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(kn(a,"indent")&&a.indent!==null&&a.indent!=="	"&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(kn(a,"numericSeparator")&&typeof a.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var u=a.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return hA(t,a);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var l=String(t);return u?oA(t,l):l}if(typeof t=="bigint"){var d=String(t)+"n";return u?oA(t,d):d}var p=typeof a.depth>"u"?5:a.depth;if(typeof o>"u"&&(o=0),o>=p&&p>0&&typeof t=="object")return db(t)?"[Array]":"[Object]";var m=vH(a,o);if(typeof r>"u")r=[];else if(fA(r,t)>=0)return"[Circular]";function f(V,Q,fe){if(Q&&(r=QV.call(r),r.push(Q)),fe){var Y={depth:a.depth};return kn(a,"quoteStyle")&&(Y.quoteStyle=a.quoteStyle),e(V,Y,o+1,r)}return e(V,a,o+1,r)}if(s(f,"inspect"),typeof t=="function"&&!sA(t)){var y=uH(t),g=$d(t,f);return"[Function"+(y?": "+y:" (anonymous)")+"]"+(g.length>0?" { "+Xr.call(g,", ")+" }":"")}if(mA(t)){var v=ni?co.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):ub.call(t);return typeof t=="object"&&!ni?Ec(v):v}if(hH(t)){for(var b="<"+eA.call(String(t.nodeName)),w=t.attributes||[],_=0;_<w.length;_++)b+=" "+w[_].name+"="+pA(tH(w[_].value),"double",a);return b+=">",t.childNodes&&t.childNodes.length&&(b+="..."),b+="</"+eA.call(String(t.nodeName))+">",b}if(db(t)){if(t.length===0)return"[]";var x=$d(t,f);return m&&!yH(x)?"["+pb(x,m)+"]":"[ "+Xr.call(x,", ")+" ]"}if(nH(t)){var E=$d(t,f);return!("cause"in Error.prototype)&&"cause"in t&&!lA.call(t,"cause")?"{ ["+String(t)+"] "+Xr.call(tA.call("[cause]: "+f(t.cause),E),", ")+" }":E.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+Xr.call(E,", ")+" }"}if(typeof t=="object"&&c){if(iA&&typeof t[iA]=="function"&&lb)return lb(t,{depth:p-o});if(c!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(lH(t)){var D=[];return XP&&XP.call(t,function(V,Q){D.push(f(Q,t,!0)+" => "+f(V,t))}),cA("Map",Rd.call(t),D,m)}if(mH(t)){var Z=[];return YP&&YP.call(t,function(V){Z.push(f(V,t))}),cA("Set",Od.call(t),Z,m)}if(dH(t))return sb("WeakMap");if(fH(t))return sb("WeakSet");if(pH(t))return sb("WeakRef");if(aH(t))return Ec(f(Number(t)));if(sH(t))return Ec(f(cb.call(t)));if(iH(t))return Ec(JV.call(t));if(oH(t))return Ec(f(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(typeof globalThis<"u"&&t===globalThis||typeof global<"u"&&t===global)return"{ [object globalThis] }";if(!rH(t)&&!sA(t)){var j=$d(t,f),G=nA?nA(t)===Object.prototype:t instanceof Object||t.constructor===Object,N=t instanceof Object?"":"null prototype",$=!G&&Ac&&Object(t)===t&&Ac in t?hb.call(uo(t),8,-1):N?"Object":"",O=G||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",te=O+($||N?"["+Xr.call(tA.call([],$||[],N||[]),": ")+"] ":"");return j.length===0?te+"{}":m?te+"{"+pb(j,m)+"}":te+"{ "+Xr.call(j,", ")+" }"}return String(t)},"inspect_");function pA(e,t,n){var o=n.quoteStyle||t,r=dA[o];return r+e+r}s(pA,"wrapQuotes");function tH(e){return co.call(String(e),/"/g,"&quot;")}s(tH,"quote");function No(e){return!Ac||!(typeof e=="object"&&(Ac in e||typeof e[Ac]<"u"))}s(No,"canTrustToString");function db(e){return uo(e)==="[object Array]"&&No(e)}s(db,"isArray");function rH(e){return uo(e)==="[object Date]"&&No(e)}s(rH,"isDate");function sA(e){return uo(e)==="[object RegExp]"&&No(e)}s(sA,"isRegExp");function nH(e){return uo(e)==="[object Error]"&&No(e)}s(nH,"isError");function oH(e){return uo(e)==="[object String]"&&No(e)}s(oH,"isString");function aH(e){return uo(e)==="[object Number]"&&No(e)}s(aH,"isNumber");function iH(e){return uo(e)==="[object Boolean]"&&No(e)}s(iH,"isBoolean");function mA(e){if(ni)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!ub)return!1;try{return ub.call(e),!0}catch{}return!1}s(mA,"isSymbol");function sH(e){if(!e||typeof e!="object"||!cb)return!1;try{return cb.call(e),!0}catch{}return!1}s(sH,"isBigInt");var cH=Object.prototype.hasOwnProperty||function(e){return e in this};function kn(e,t){return cH.call(e,t)}s(kn,"has");function uo(e){return KV.call(e)}s(uo,"toStr");function uH(e){if(e.name)return e.name;var t=XV.call(WV.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}s(uH,"nameOf");function fA(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,o=e.length;n<o;n++)if(e[n]===t)return n;return-1}s(fA,"indexOf");function lH(e){if(!Rd||!e||typeof e!="object")return!1;try{Rd.call(e);try{Od.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}s(lH,"isMap");function dH(e){if(!kc||!e||typeof e!="object")return!1;try{kc.call(e,kc);try{Pc.call(e,Pc)}catch{return!0}return e instanceof WeakMap}catch{}return!1}s(dH,"isWeakMap");function pH(e){if(!QP||!e||typeof e!="object")return!1;try{return QP.call(e),!0}catch{}return!1}s(pH,"isWeakRef");function mH(e){if(!Od||!e||typeof e!="object")return!1;try{Od.call(e);try{Rd.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}s(mH,"isSet");function fH(e){if(!Pc||!e||typeof e!="object")return!1;try{Pc.call(e,Pc);try{kc.call(e,kc)}catch{return!0}return e instanceof WeakSet}catch{}return!1}s(fH,"isWeakSet");function hH(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}s(hH,"isElement");function hA(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,o="... "+n+" more character"+(n>1?"s":"");return hA(hb.call(e,0,t.maxStringLength),t)+o}var r=eH[t.quoteStyle||"single"];r.lastIndex=0;var a=co.call(co.call(e,r,"\\$1"),/[\x00-\x1f]/g,gH);return pA(a,"single",t)}s(hA,"inspectString");function gH(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+YV.call(t.toString(16))}s(gH,"lowbyte");function Ec(e){return"Object("+e+")"}s(Ec,"markBoxed");function sb(e){return e+" { ? }"}s(sb,"weakCollectionOf");function cA(e,t,n,o){var r=o?pb(n,o):Xr.call(n,", ");return e+" ("+t+") {"+r+"}"}s(cA,"collectionOf");function yH(e){for(var t=0;t<e.length;t++)if(fA(e[t],`
`)>=0)return!1;return!0}s(yH,"singleLineValues");function vH(e,t){var n;if(e.indent==="	")n="	";else if(typeof e.indent=="number"&&e.indent>0)n=Xr.call(Array(e.indent+1)," ");else return null;return{base:n,prev:Xr.call(Array(t+1),n)}}s(vH,"getIndent");function pb(e,t){if(e.length===0)return"";var n=`
`+t.prev+t.base;return n+Xr.call(e,","+n)+`
`+t.prev}s(pb,"indentedJoin");function $d(e,t){var n=db(e),o=[];if(n){o.length=e.length;for(var r=0;r<e.length;r++)o[r]=kn(e,r)?t(e[r],e):""}var a=typeof ib=="function"?ib(e):[],c;if(ni){c={};for(var u=0;u<a.length;u++)c["$"+a[u]]=a[u]}for(var l in e)kn(e,l)&&(n&&String(Number(l))===l&&l<e.length||ni&&c["$"+l]instanceof Symbol||(uA.call(/[^\w$]/,l)?o.push(t(l,e)+": "+t(e[l],e)):o.push(l+": "+t(e[l],e))));if(typeof ib=="function")for(var d=0;d<a.length;d++)lA.call(e,a[d])&&o.push("["+t(a[d])+"]: "+t(e[a[d]],e));return o}s($d,"arrObjKeys")});var vA=de((mfe,yA)=>{"use strict";var _H=$c(),bH=Co(),Cd=s(function(e,t,n){for(var o=e,r;(r=o.next)!=null;o=r)if(r.key===t)return o.next=r.next,n||(r.next=e.next,e.next=r),r},"listGetNode"),xH=s(function(e,t){if(e){var n=Cd(e,t);return n&&n.value}},"listGet"),wH=s(function(e,t,n){var o=Cd(e,t);o?o.value=n:e.next={key:t,next:e.next,value:n}},"listSet"),SH=s(function(e,t){return e?!!Cd(e,t):!1},"listHas"),IH=s(function(e,t){if(e)return Cd(e,t,!0)},"listDelete");yA.exports=s(function(){var t,n={assert:s(function(o){if(!n.has(o))throw new bH("Side channel does not contain "+_H(o))},"assert"),delete:s(function(o){var r=t&&t.next,a=IH(t,o);return a&&r&&r===a&&(t=void 0),!!a},"delete"),get:s(function(o){return xH(t,o)},"get"),has:s(function(o){return SH(t,o)},"has"),set:s(function(o,r){t||(t={next:void 0}),wH(t,o,r)},"set")};return n},"getSideChannelList")});var gb=de((hfe,_A)=>{"use strict";_A.exports=Object});var xA=de((gfe,bA)=>{"use strict";bA.exports=Error});var SA=de((yfe,wA)=>{"use strict";wA.exports=EvalError});var TA=de((vfe,IA)=>{"use strict";IA.exports=RangeError});var kA=de((_fe,EA)=>{"use strict";EA.exports=ReferenceError});var AA=de((bfe,PA)=>{"use strict";PA.exports=SyntaxError});var RA=de((xfe,$A)=>{"use strict";$A.exports=URIError});var CA=de((wfe,OA)=>{"use strict";OA.exports=Math.abs});var jA=de((Sfe,NA)=>{"use strict";NA.exports=Math.floor});var zA=de((Ife,DA)=>{"use strict";DA.exports=Math.max});var UA=de((Tfe,MA)=>{"use strict";MA.exports=Math.min});var qA=de((Efe,LA)=>{"use strict";LA.exports=Math.pow});var BA=de((kfe,FA)=>{"use strict";FA.exports=Math.round});var VA=de((Pfe,ZA)=>{"use strict";ZA.exports=Number.isNaN||s(function(t){return t!==t},"isNaN")});var GA=de(($fe,HA)=>{"use strict";var TH=VA();HA.exports=s(function(t){return TH(t)||t===0?t:t<0?-1:1},"sign")});var KA=de((Ofe,JA)=>{"use strict";JA.exports=Object.getOwnPropertyDescriptor});var yb=de((Cfe,WA)=>{"use strict";var Nd=KA();if(Nd)try{Nd([],"length")}catch{Nd=null}WA.exports=Nd});var YA=de((Nfe,XA)=>{"use strict";var jd=Object.defineProperty||!1;if(jd)try{jd({},"a",{value:1})}catch{jd=!1}XA.exports=jd});var e$=de((jfe,QA)=>{"use strict";QA.exports=s(function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},n=Symbol("test"),o=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(o)!=="[object Symbol]")return!1;var r=42;t[n]=r;for(var a in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var c=Object.getOwnPropertySymbols(t);if(c.length!==1||c[0]!==n||!Object.prototype.propertyIsEnumerable.call(t,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var u=Object.getOwnPropertyDescriptor(t,n);if(u.value!==r||u.enumerable!==!0)return!1}return!0},"hasSymbols")});var n$=de((zfe,r$)=>{"use strict";var t$=typeof Symbol<"u"&&Symbol,EH=e$();r$.exports=s(function(){return typeof t$!="function"||typeof Symbol!="function"||typeof t$("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:EH()},"hasNativeSymbols")});var vb=de((Ufe,o$)=>{"use strict";o$.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null});var _b=de((Lfe,a$)=>{"use strict";var kH=gb();a$.exports=kH.getPrototypeOf||null});var c$=de((qfe,s$)=>{"use strict";var PH="Function.prototype.bind called on incompatible ",AH=Object.prototype.toString,$H=Math.max,RH="[object Function]",i$=s(function(t,n){for(var o=[],r=0;r<t.length;r+=1)o[r]=t[r];for(var a=0;a<n.length;a+=1)o[a+t.length]=n[a];return o},"concatty"),OH=s(function(t,n){for(var o=[],r=n||0,a=0;r<t.length;r+=1,a+=1)o[a]=t[r];return o},"slicy"),CH=s(function(e,t){for(var n="",o=0;o<e.length;o+=1)n+=e[o],o+1<e.length&&(n+=t);return n},"joiny");s$.exports=s(function(t){var n=this;if(typeof n!="function"||AH.apply(n)!==RH)throw new TypeError(PH+n);for(var o=OH(arguments,1),r,a=s(function(){if(this instanceof r){var p=n.apply(this,i$(o,arguments));return Object(p)===p?p:this}return n.apply(t,i$(o,arguments))},"binder"),c=$H(0,n.length-o.length),u=[],l=0;l<c;l++)u[l]="$"+l;if(r=Function("binder","return function ("+CH(u,",")+"){ return binder.apply(this,arguments); }")(a),n.prototype){var d=s(function(){},"Empty");d.prototype=n.prototype,r.prototype=new d,d.prototype=null}return r},"bind")});var Rc=de((Bfe,u$)=>{"use strict";var NH=c$();u$.exports=Function.prototype.bind||NH});var Dd=de((Zfe,l$)=>{"use strict";l$.exports=Function.prototype.call});var bb=de((Vfe,d$)=>{"use strict";d$.exports=Function.prototype.apply});var m$=de((Hfe,p$)=>{"use strict";p$.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply});var h$=de((Gfe,f$)=>{"use strict";var jH=Rc(),DH=bb(),zH=Dd(),MH=m$();f$.exports=MH||jH.call(zH,DH)});var xb=de((Jfe,g$)=>{"use strict";var UH=Rc(),LH=Co(),qH=Dd(),FH=h$();g$.exports=s(function(t){if(t.length<1||typeof t[0]!="function")throw new LH("a function is required");return FH(UH,qH,t)},"callBindBasic")});var w$=de((Wfe,x$)=>{"use strict";var BH=xb(),y$=yb(),_$;try{_$=[].__proto__===Array.prototype}catch(e){if(!e||typeof e!="object"||!("code"in e)||e.code!=="ERR_PROTO_ACCESS")throw e}var wb=!!_$&&y$&&y$(Object.prototype,"__proto__"),b$=Object,v$=b$.getPrototypeOf;x$.exports=wb&&typeof wb.get=="function"?BH([wb.get]):typeof v$=="function"?s(function(t){return v$(t==null?t:b$(t))},"getDunder"):!1});var k$=de((Yfe,E$)=>{"use strict";var S$=vb(),I$=_b(),T$=w$();E$.exports=S$?s(function(t){return S$(t)},"getProto"):I$?s(function(t){if(!t||typeof t!="object"&&typeof t!="function")throw new TypeError("getProto: not an object");return I$(t)},"getProto"):T$?s(function(t){return T$(t)},"getProto"):null});var A$=de((ehe,P$)=>{"use strict";var ZH=Function.prototype.call,VH=Object.prototype.hasOwnProperty,HH=Rc();P$.exports=HH.call(ZH,VH)});var Ud=de((the,j$)=>{"use strict";var we,GH=gb(),JH=xA(),KH=SA(),WH=TA(),XH=kA(),si=AA(),ii=Co(),YH=RA(),QH=CA(),eG=jA(),tG=zA(),rG=UA(),nG=qA(),oG=BA(),aG=GA(),C$=Function,Sb=s(function(e){try{return C$('"use strict"; return ('+e+").constructor;")()}catch{}},"getEvalledConstructor"),Oc=yb(),iG=YA(),Ib=s(function(){throw new ii},"throwTypeError"),sG=Oc?(function(){try{return arguments.callee,Ib}catch{try{return Oc(arguments,"callee").get}catch{return Ib}}})():Ib,oi=n$()(),wt=k$(),cG=_b(),uG=vb(),N$=bb(),Cc=Dd(),ai={},lG=typeof Uint8Array>"u"||!wt?we:wt(Uint8Array),jo={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?we:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?we:ArrayBuffer,"%ArrayIteratorPrototype%":oi&&wt?wt([][Symbol.iterator]()):we,"%AsyncFromSyncIteratorPrototype%":we,"%AsyncFunction%":ai,"%AsyncGenerator%":ai,"%AsyncGeneratorFunction%":ai,"%AsyncIteratorPrototype%":ai,"%Atomics%":typeof Atomics>"u"?we:Atomics,"%BigInt%":typeof BigInt>"u"?we:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?we:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?we:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?we:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":JH,"%eval%":eval,"%EvalError%":KH,"%Float16Array%":typeof Float16Array>"u"?we:Float16Array,"%Float32Array%":typeof Float32Array>"u"?we:Float32Array,"%Float64Array%":typeof Float64Array>"u"?we:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?we:FinalizationRegistry,"%Function%":C$,"%GeneratorFunction%":ai,"%Int8Array%":typeof Int8Array>"u"?we:Int8Array,"%Int16Array%":typeof Int16Array>"u"?we:Int16Array,"%Int32Array%":typeof Int32Array>"u"?we:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":oi&&wt?wt(wt([][Symbol.iterator]())):we,"%JSON%":typeof JSON=="object"?JSON:we,"%Map%":typeof Map>"u"?we:Map,"%MapIteratorPrototype%":typeof Map>"u"||!oi||!wt?we:wt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":GH,"%Object.getOwnPropertyDescriptor%":Oc,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?we:Promise,"%Proxy%":typeof Proxy>"u"?we:Proxy,"%RangeError%":WH,"%ReferenceError%":XH,"%Reflect%":typeof Reflect>"u"?we:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?we:Set,"%SetIteratorPrototype%":typeof Set>"u"||!oi||!wt?we:wt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?we:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":oi&&wt?wt(""[Symbol.iterator]()):we,"%Symbol%":oi?Symbol:we,"%SyntaxError%":si,"%ThrowTypeError%":sG,"%TypedArray%":lG,"%TypeError%":ii,"%Uint8Array%":typeof Uint8Array>"u"?we:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?we:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?we:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?we:Uint32Array,"%URIError%":YH,"%WeakMap%":typeof WeakMap>"u"?we:WeakMap,"%WeakRef%":typeof WeakRef>"u"?we:WeakRef,"%WeakSet%":typeof WeakSet>"u"?we:WeakSet,"%Function.prototype.call%":Cc,"%Function.prototype.apply%":N$,"%Object.defineProperty%":iG,"%Object.getPrototypeOf%":cG,"%Math.abs%":QH,"%Math.floor%":eG,"%Math.max%":tG,"%Math.min%":rG,"%Math.pow%":nG,"%Math.round%":oG,"%Math.sign%":aG,"%Reflect.getPrototypeOf%":uG};if(wt)try{null.error}catch(e){$$=wt(wt(e)),jo["%Error.prototype%"]=$$}var $$,dG=s(function e(t){var n;if(t==="%AsyncFunction%")n=Sb("async function () {}");else if(t==="%GeneratorFunction%")n=Sb("function* () {}");else if(t==="%AsyncGeneratorFunction%")n=Sb("async function* () {}");else if(t==="%AsyncGenerator%"){var o=e("%AsyncGeneratorFunction%");o&&(n=o.prototype)}else if(t==="%AsyncIteratorPrototype%"){var r=e("%AsyncGenerator%");r&&wt&&(n=wt(r.prototype))}return jo[t]=n,n},"doEval"),R$={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Nc=Rc(),zd=A$(),pG=Nc.call(Cc,Array.prototype.concat),mG=Nc.call(N$,Array.prototype.splice),O$=Nc.call(Cc,String.prototype.replace),Md=Nc.call(Cc,String.prototype.slice),fG=Nc.call(Cc,RegExp.prototype.exec),hG=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,gG=/\\(\\)?/g,yG=s(function(t){var n=Md(t,0,1),o=Md(t,-1);if(n==="%"&&o!=="%")throw new si("invalid intrinsic syntax, expected closing `%`");if(o==="%"&&n!=="%")throw new si("invalid intrinsic syntax, expected opening `%`");var r=[];return O$(t,hG,function(a,c,u,l){r[r.length]=u?O$(l,gG,"$1"):c||a}),r},"stringToPath"),vG=s(function(t,n){var o=t,r;if(zd(R$,o)&&(r=R$[o],o="%"+r[0]+"%"),zd(jo,o)){var a=jo[o];if(a===ai&&(a=dG(o)),typeof a>"u"&&!n)throw new ii("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:o,value:a}}throw new si("intrinsic "+t+" does not exist!")},"getBaseIntrinsic");j$.exports=s(function(t,n){if(typeof t!="string"||t.length===0)throw new ii("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new ii('"allowMissing" argument must be a boolean');if(fG(/^%?[^%]*%?$/,t)===null)throw new si("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var o=yG(t),r=o.length>0?o[0]:"",a=vG("%"+r+"%",n),c=a.name,u=a.value,l=!1,d=a.alias;d&&(r=d[0],mG(o,pG([0,1],d)));for(var p=1,m=!0;p<o.length;p+=1){var f=o[p],y=Md(f,0,1),g=Md(f,-1);if((y==='"'||y==="'"||y==="`"||g==='"'||g==="'"||g==="`")&&y!==g)throw new si("property names with quotes must have matching quotes");if((f==="constructor"||!m)&&(l=!0),r+="."+f,c="%"+r+"%",zd(jo,c))u=jo[c];else if(u!=null){if(!(f in u)){if(!n)throw new ii("base intrinsic for "+t+" exists, but the property is not available.");return}if(Oc&&p+1>=o.length){var v=Oc(u,f);m=!!v,m&&"get"in v&&!("originalValue"in v.get)?u=v.get:u=u[f]}else m=zd(u,f),u=u[f];m&&!l&&(jo[c]=u)}}return u},"GetIntrinsic")});var Tb=de((nhe,M$)=>{"use strict";var D$=Ud(),z$=xb(),_G=z$([D$("%String.prototype.indexOf%")]);M$.exports=s(function(t,n){var o=D$(t,!!n);return typeof o=="function"&&_G(t,".prototype.")>-1?z$([o]):o},"callBoundIntrinsic")});var Eb=de((ahe,L$)=>{"use strict";var bG=Ud(),jc=Tb(),xG=$c(),wG=Co(),U$=bG("%Map%",!0),SG=jc("Map.prototype.get",!0),IG=jc("Map.prototype.set",!0),TG=jc("Map.prototype.has",!0),EG=jc("Map.prototype.delete",!0),kG=jc("Map.prototype.size",!0);L$.exports=!!U$&&s(function(){var t,n={assert:s(function(o){if(!n.has(o))throw new wG("Side channel does not contain "+xG(o))},"assert"),delete:s(function(o){if(t){var r=EG(t,o);return kG(t)===0&&(t=void 0),r}return!1},"delete"),get:s(function(o){if(t)return SG(t,o)},"get"),has:s(function(o){return t?TG(t,o):!1},"has"),set:s(function(o,r){t||(t=new U$),IG(t,o,r)},"set")};return n},"getSideChannelMap")});var F$=de((she,q$)=>{"use strict";var PG=Ud(),qd=Tb(),AG=$c(),Ld=Eb(),$G=Co(),ci=PG("%WeakMap%",!0),RG=qd("WeakMap.prototype.get",!0),OG=qd("WeakMap.prototype.set",!0),CG=qd("WeakMap.prototype.has",!0),NG=qd("WeakMap.prototype.delete",!0);q$.exports=ci?s(function(){var t,n,o={assert:s(function(r){if(!o.has(r))throw new $G("Side channel does not contain "+AG(r))},"assert"),delete:s(function(r){if(ci&&r&&(typeof r=="object"||typeof r=="function")){if(t)return NG(t,r)}else if(Ld&&n)return n.delete(r);return!1},"delete"),get:s(function(r){return ci&&r&&(typeof r=="object"||typeof r=="function")&&t?RG(t,r):n&&n.get(r)},"get"),has:s(function(r){return ci&&r&&(typeof r=="object"||typeof r=="function")&&t?CG(t,r):!!n&&n.has(r)},"has"),set:s(function(r,a){ci&&r&&(typeof r=="object"||typeof r=="function")?(t||(t=new ci),OG(t,r,a)):Ld&&(n||(n=Ld()),n.set(r,a))},"set")};return o},"getSideChannelWeakMap"):Ld});var Z$=de((uhe,B$)=>{"use strict";var jG=Co(),DG=$c(),zG=vA(),MG=Eb(),UG=F$(),LG=UG||MG||zG;B$.exports=s(function(){var t,n={assert:s(function(o){if(!n.has(o))throw new jG("Side channel does not contain "+DG(o))},"assert"),delete:s(function(o){return!!t&&t.delete(o)},"delete"),get:s(function(o){return t&&t.get(o)},"get"),has:s(function(o){return!!t&&t.has(o)},"has"),set:s(function(o,r){t||(t=LG()),t.set(o,r)},"set")};return n},"getSideChannel")});var Fd=de((dhe,V$)=>{"use strict";var qG=String.prototype.replace,FG=/%20/g,kb={RFC1738:"RFC1738",RFC3986:"RFC3986"};V$.exports={default:kb.RFC3986,formatters:{RFC1738:s(function(e){return qG.call(e,FG,"+")},"RFC1738"),RFC3986:s(function(e){return String(e)},"RFC3986")},RFC1738:kb.RFC1738,RFC3986:kb.RFC3986}});var $b=de((mhe,G$)=>{"use strict";var BG=Fd(),Pb=Object.prototype.hasOwnProperty,Do=Array.isArray,Yr=(function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),ZG=s(function(t){for(;t.length>1;){var n=t.pop(),o=n.obj[n.prop];if(Do(o)){for(var r=[],a=0;a<o.length;++a)typeof o[a]<"u"&&r.push(o[a]);n.obj[n.prop]=r}}},"compactQueue"),H$=s(function(t,n){for(var o=n&&n.plainObjects?{__proto__:null}:{},r=0;r<t.length;++r)typeof t[r]<"u"&&(o[r]=t[r]);return o},"arrayToObject"),VG=s(function e(t,n,o){if(!n)return t;if(typeof n!="object"&&typeof n!="function"){if(Do(t))t.push(n);else if(t&&typeof t=="object")(o&&(o.plainObjects||o.allowPrototypes)||!Pb.call(Object.prototype,n))&&(t[n]=!0);else return[t,n];return t}if(!t||typeof t!="object")return[t].concat(n);var r=t;return Do(t)&&!Do(n)&&(r=H$(t,o)),Do(t)&&Do(n)?(n.forEach(function(a,c){if(Pb.call(t,c)){var u=t[c];u&&typeof u=="object"&&a&&typeof a=="object"?t[c]=e(u,a,o):t.push(a)}else t[c]=a}),t):Object.keys(n).reduce(function(a,c){var u=n[c];return Pb.call(a,c)?a[c]=e(a[c],u,o):a[c]=u,a},r)},"merge"),HG=s(function(t,n){return Object.keys(n).reduce(function(o,r){return o[r]=n[r],o},t)},"assignSingleSource"),GG=s(function(e,t,n){var o=e.replace(/\+/g," ");if(n==="iso-8859-1")return o.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(o)}catch{return o}},"decode"),Ab=1024,JG=s(function(t,n,o,r,a){if(t.length===0)return t;var c=t;if(typeof t=="symbol"?c=Symbol.prototype.toString.call(t):typeof t!="string"&&(c=String(t)),o==="iso-8859-1")return escape(c).replace(/%u[0-9a-f]{4}/gi,function(y){return"%26%23"+parseInt(y.slice(2),16)+"%3B"});for(var u="",l=0;l<c.length;l+=Ab){for(var d=c.length>=Ab?c.slice(l,l+Ab):c,p=[],m=0;m<d.length;++m){var f=d.charCodeAt(m);if(f===45||f===46||f===95||f===126||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||a===BG.RFC1738&&(f===40||f===41)){p[p.length]=d.charAt(m);continue}if(f<128){p[p.length]=Yr[f];continue}if(f<2048){p[p.length]=Yr[192|f>>6]+Yr[128|f&63];continue}if(f<55296||f>=57344){p[p.length]=Yr[224|f>>12]+Yr[128|f>>6&63]+Yr[128|f&63];continue}m+=1,f=65536+((f&1023)<<10|d.charCodeAt(m)&1023),p[p.length]=Yr[240|f>>18]+Yr[128|f>>12&63]+Yr[128|f>>6&63]+Yr[128|f&63]}u+=p.join("")}return u},"encode"),KG=s(function(t){for(var n=[{obj:{o:t},prop:"o"}],o=[],r=0;r<n.length;++r)for(var a=n[r],c=a.obj[a.prop],u=Object.keys(c),l=0;l<u.length;++l){var d=u[l],p=c[d];typeof p=="object"&&p!==null&&o.indexOf(p)===-1&&(n.push({obj:c,prop:d}),o.push(p))}return ZG(n),t},"compact"),WG=s(function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},"isRegExp"),XG=s(function(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},"isBuffer"),YG=s(function(t,n){return[].concat(t,n)},"combine"),QG=s(function(t,n){if(Do(t)){for(var o=[],r=0;r<t.length;r+=1)o.push(n(t[r]));return o}return n(t)},"maybeMap");G$.exports={arrayToObject:H$,assign:HG,combine:YG,compact:KG,decode:GG,encode:JG,isBuffer:XG,isRegExp:WG,maybeMap:QG,merge:VG}});var Q$=de((hhe,Y$)=>{"use strict";var K$=Z$(),Bd=$b(),Dc=Fd(),e9=Object.prototype.hasOwnProperty,W$={brackets:s(function(t){return t+"[]"},"brackets"),comma:"comma",indices:s(function(t,n){return t+"["+n+"]"},"indices"),repeat:s(function(t){return t},"repeat")},Qr=Array.isArray,t9=Array.prototype.push,X$=s(function(e,t){t9.apply(e,Qr(t)?t:[t])},"pushToArray"),r9=Date.prototype.toISOString,J$=Dc.default,yt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Bd.encode,encodeValuesOnly:!1,filter:void 0,format:J$,formatter:Dc.formatters[J$],indices:!1,serializeDate:s(function(t){return r9.call(t)},"serializeDate"),skipNulls:!1,strictNullHandling:!1},n9=s(function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"},"isNonNullishPrimitive"),Rb={},o9=s(function e(t,n,o,r,a,c,u,l,d,p,m,f,y,g,v,b,w,_){for(var x=t,E=_,D=0,Z=!1;(E=E.get(Rb))!==void 0&&!Z;){var j=E.get(t);if(D+=1,typeof j<"u"){if(j===D)throw new RangeError("Cyclic object value");Z=!0}typeof E.get(Rb)>"u"&&(D=0)}if(typeof p=="function"?x=p(n,x):x instanceof Date?x=y(x):o==="comma"&&Qr(x)&&(x=Bd.maybeMap(x,function(Ue){return Ue instanceof Date?y(Ue):Ue})),x===null){if(c)return d&&!b?d(n,yt.encoder,w,"key",g):n;x=""}if(n9(x)||Bd.isBuffer(x)){if(d){var G=b?n:d(n,yt.encoder,w,"key",g);return[v(G)+"="+v(d(x,yt.encoder,w,"value",g))]}return[v(n)+"="+v(String(x))]}var N=[];if(typeof x>"u")return N;var $;if(o==="comma"&&Qr(x))b&&d&&(x=Bd.maybeMap(x,d)),$=[{value:x.length>0?x.join(",")||null:void 0}];else if(Qr(p))$=p;else{var O=Object.keys(x);$=m?O.sort(m):O}var te=l?String(n).replace(/\./g,"%2E"):String(n),V=r&&Qr(x)&&x.length===1?te+"[]":te;if(a&&Qr(x)&&x.length===0)return V+"[]";for(var Q=0;Q<$.length;++Q){var fe=$[Q],Y=typeof fe=="object"&&fe&&typeof fe.value<"u"?fe.value:x[fe];if(!(u&&Y===null)){var re=f&&l?String(fe).replace(/\./g,"%2E"):String(fe),ke=Qr(x)?typeof o=="function"?o(V,re):V:V+(f?"."+re:"["+re+"]");_.set(t,D);var ct=K$();ct.set(Rb,_),X$(N,e(Y,ke,o,r,a,c,u,l,o==="comma"&&b&&Qr(x)?null:d,p,m,f,y,g,v,b,w,ct))}}return N},"stringify"),a9=s(function(t){if(!t)return yt;if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=t.charset||yt.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var o=Dc.default;if(typeof t.format<"u"){if(!e9.call(Dc.formatters,t.format))throw new TypeError("Unknown format option provided.");o=t.format}var r=Dc.formatters[o],a=yt.filter;(typeof t.filter=="function"||Qr(t.filter))&&(a=t.filter);var c;if(t.arrayFormat in W$?c=t.arrayFormat:"indices"in t?c=t.indices?"indices":"repeat":c=yt.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u=typeof t.allowDots>"u"?t.encodeDotInKeys===!0?!0:yt.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:yt.addQueryPrefix,allowDots:u,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:yt.allowEmptyArrays,arrayFormat:c,charset:n,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:yt.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?yt.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:yt.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:yt.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:yt.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:yt.encodeValuesOnly,filter:a,format:o,formatter:r,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:yt.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:yt.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:yt.strictNullHandling}},"normalizeStringifyOptions");Y$.exports=function(e,t){var n=e,o=a9(t),r,a;typeof o.filter=="function"?(a=o.filter,n=a("",n)):Qr(o.filter)&&(a=o.filter,r=a);var c=[];if(typeof n!="object"||n===null)return"";var u=W$[o.arrayFormat],l=u==="comma"&&o.commaRoundTrip;r||(r=Object.keys(n)),o.sort&&r.sort(o.sort);for(var d=K$(),p=0;p<r.length;++p){var m=r[p],f=n[m];o.skipNulls&&f===null||X$(c,o9(f,m,u,l,o.allowEmptyArrays,o.strictNullHandling,o.skipNulls,o.encodeDotInKeys,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.format,o.formatter,o.encodeValuesOnly,o.charset,d))}var y=c.join(o.delimiter),g=o.addQueryPrefix===!0?"?":"";return o.charsetSentinel&&(o.charset==="iso-8859-1"?g+="utf8=%26%2310003%3B&":g+="utf8=%E2%9C%93&"),y.length>0?g+y:""}});var nR=de((yhe,rR)=>{"use strict";var zo=$b(),Ob=Object.prototype.hasOwnProperty,eR=Array.isArray,at={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:zo.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},i9=s(function(e){return e.replace(/&#(\d+);/g,function(t,n){return String.fromCharCode(parseInt(n,10))})},"interpretNumericEntities"),tR=s(function(e,t,n){if(e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1)return e.split(",");if(t.throwOnLimitExceeded&&n>=t.arrayLimit)throw new RangeError("Array limit exceeded. Only "+t.arrayLimit+" element"+(t.arrayLimit===1?"":"s")+" allowed in an array.");return e},"parseArrayValue"),s9="utf8=%26%2310003%3B",c9="utf8=%E2%9C%93",u9=s(function(t,n){var o={__proto__:null},r=n.ignoreQueryPrefix?t.replace(/^\?/,""):t;r=r.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var a=n.parameterLimit===1/0?void 0:n.parameterLimit,c=r.split(n.delimiter,n.throwOnLimitExceeded?a+1:a);if(n.throwOnLimitExceeded&&c.length>a)throw new RangeError("Parameter limit exceeded. Only "+a+" parameter"+(a===1?"":"s")+" allowed.");var u=-1,l,d=n.charset;if(n.charsetSentinel)for(l=0;l<c.length;++l)c[l].indexOf("utf8=")===0&&(c[l]===c9?d="utf-8":c[l]===s9&&(d="iso-8859-1"),u=l,l=c.length);for(l=0;l<c.length;++l)if(l!==u){var p=c[l],m=p.indexOf("]="),f=m===-1?p.indexOf("="):m+1,y,g;f===-1?(y=n.decoder(p,at.decoder,d,"key"),g=n.strictNullHandling?null:""):(y=n.decoder(p.slice(0,f),at.decoder,d,"key"),g=zo.maybeMap(tR(p.slice(f+1),n,eR(o[y])?o[y].length:0),function(b){return n.decoder(b,at.decoder,d,"value")})),g&&n.interpretNumericEntities&&d==="iso-8859-1"&&(g=i9(String(g))),p.indexOf("[]=")>-1&&(g=eR(g)?[g]:g);var v=Ob.call(o,y);v&&n.duplicates==="combine"?o[y]=zo.combine(o[y],g):(!v||n.duplicates==="last")&&(o[y]=g)}return o},"parseQueryStringValues"),l9=s(function(e,t,n,o){var r=0;if(e.length>0&&e[e.length-1]==="[]"){var a=e.slice(0,-1).join("");r=Array.isArray(t)&&t[a]?t[a].length:0}for(var c=o?t:tR(t,n,r),u=e.length-1;u>=0;--u){var l,d=e[u];if(d==="[]"&&n.parseArrays)l=n.allowEmptyArrays&&(c===""||n.strictNullHandling&&c===null)?[]:zo.combine([],c);else{l=n.plainObjects?{__proto__:null}:{};var p=d.charAt(0)==="["&&d.charAt(d.length-1)==="]"?d.slice(1,-1):d,m=n.decodeDotInKeys?p.replace(/%2E/g,"."):p,f=parseInt(m,10);!n.parseArrays&&m===""?l={0:c}:!isNaN(f)&&d!==m&&String(f)===m&&f>=0&&n.parseArrays&&f<=n.arrayLimit?(l=[],l[f]=c):m!=="__proto__"&&(l[m]=c)}c=l}return c},"parseObject"),d9=s(function(t,n,o,r){if(t){var a=o.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,c=/(\[[^[\]]*])/,u=/(\[[^[\]]*])/g,l=o.depth>0&&c.exec(a),d=l?a.slice(0,l.index):a,p=[];if(d){if(!o.plainObjects&&Ob.call(Object.prototype,d)&&!o.allowPrototypes)return;p.push(d)}for(var m=0;o.depth>0&&(l=u.exec(a))!==null&&m<o.depth;){if(m+=1,!o.plainObjects&&Ob.call(Object.prototype,l[1].slice(1,-1))&&!o.allowPrototypes)return;p.push(l[1])}if(l){if(o.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+o.depth+" and strictDepth is true");p.push("["+a.slice(l.index)+"]")}return l9(p,n,o,r)}},"parseQueryStringKeys"),p9=s(function(t){if(!t)return at;if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.decodeDotInKeys<"u"&&typeof t.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(t.decoder!==null&&typeof t.decoder<"u"&&typeof t.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof t.throwOnLimitExceeded<"u"&&typeof t.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var n=typeof t.charset>"u"?at.charset:t.charset,o=typeof t.duplicates>"u"?at.duplicates:t.duplicates;if(o!=="combine"&&o!=="first"&&o!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var r=typeof t.allowDots>"u"?t.decodeDotInKeys===!0?!0:at.allowDots:!!t.allowDots;return{allowDots:r,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:at.allowEmptyArrays,allowPrototypes:typeof t.allowPrototypes=="boolean"?t.allowPrototypes:at.allowPrototypes,allowSparse:typeof t.allowSparse=="boolean"?t.allowSparse:at.allowSparse,arrayLimit:typeof t.arrayLimit=="number"?t.arrayLimit:at.arrayLimit,charset:n,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:at.charsetSentinel,comma:typeof t.comma=="boolean"?t.comma:at.comma,decodeDotInKeys:typeof t.decodeDotInKeys=="boolean"?t.decodeDotInKeys:at.decodeDotInKeys,decoder:typeof t.decoder=="function"?t.decoder:at.decoder,delimiter:typeof t.delimiter=="string"||zo.isRegExp(t.delimiter)?t.delimiter:at.delimiter,depth:typeof t.depth=="number"||t.depth===!1?+t.depth:at.depth,duplicates:o,ignoreQueryPrefix:t.ignoreQueryPrefix===!0,interpretNumericEntities:typeof t.interpretNumericEntities=="boolean"?t.interpretNumericEntities:at.interpretNumericEntities,parameterLimit:typeof t.parameterLimit=="number"?t.parameterLimit:at.parameterLimit,parseArrays:t.parseArrays!==!1,plainObjects:typeof t.plainObjects=="boolean"?t.plainObjects:at.plainObjects,strictDepth:typeof t.strictDepth=="boolean"?!!t.strictDepth:at.strictDepth,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:at.strictNullHandling,throwOnLimitExceeded:typeof t.throwOnLimitExceeded=="boolean"?t.throwOnLimitExceeded:!1}},"normalizeParseOptions");rR.exports=function(e,t){var n=p9(t);if(e===""||e===null||typeof e>"u")return n.plainObjects?{__proto__:null}:{};for(var o=typeof e=="string"?u9(e,n):e,r=n.plainObjects?{__proto__:null}:{},a=Object.keys(o),c=0;c<a.length;++c){var u=a[c],l=d9(u,o[u],n,typeof e=="string");r=zo.merge(r,l,n)}return n.allowSparse===!0?r:zo.compact(r)}});var aR=de((_he,oR)=>{"use strict";var m9=Q$(),f9=nR(),h9=Fd();oR.exports={formats:h9,parse:f9,stringify:m9}});var zp=s(e=>t=>e.fetch(t),"handle");var Mp=s((e,t,n)=>(o,r)=>{let a=-1;return c(0);async function c(u){if(u<=a)throw new Error("next() called multiple times");a=u;let l,d=!1,p;if(e[u]?(p=e[u][0][0],o.req.routeIndex=u):p=u===e.length&&r||void 0,p)try{l=await p(o,()=>c(u+1))}catch(m){if(m instanceof Error&&t)o.error=m,l=await t(m,o),d=!0;else throw m}else o.finalized===!1&&n&&(l=await n(o));return l&&(o.finalized===!1||d)&&(o.res=l),o}},"compose");var _u=class extends Error{static{s(this,"HTTPException")}res;status;constructor(e=500,t){super(t?.message,{cause:t?.cause}),this.res=t?.res,this.status=e}getResponse(){return this.res?new Response(this.res.body,{status:this.status,headers:this.res.headers}):new Response(this.message,{status:this.status})}};var Tx=Symbol();var Ex=s(async(e,t=Object.create(null))=>{let{all:n=!1,dot:o=!1}=t,a=(e instanceof bu?e.raw.headers:e.headers).get("Content-Type");return a?.startsWith("multipart/form-data")||a?.startsWith("application/x-www-form-urlencoded")?bN(e,{all:n,dot:o}):{}},"parseBody");async function bN(e,t){let n=await e.formData();return n?xN(n,t):{}}s(bN,"parseFormData");function xN(e,t){let n=Object.create(null);return e.forEach((o,r)=>{t.all||r.endsWith("[]")?wN(n,r,o):n[r]=o}),t.dot&&Object.entries(n).forEach(([o,r])=>{o.includes(".")&&(SN(n,o,r),delete n[o])}),n}s(xN,"convertFormDataToBodyData");var wN=s((e,t,n)=>{e[t]!==void 0?Array.isArray(e[t])?e[t].push(n):e[t]=[e[t],n]:t.endsWith("[]")?e[t]=[n]:e[t]=n},"handleParsingAllValues"),SN=s((e,t,n)=>{let o=e,r=t.split(".");r.forEach((a,c)=>{c===r.length-1?o[a]=n:((!o[a]||typeof o[a]!="object"||Array.isArray(o[a])||o[a]instanceof File)&&(o[a]=Object.create(null)),o=o[a])})},"handleParsingNestedValues");var Lp=s(e=>{let t=e.split("/");return t[0]===""&&t.shift(),t},"splitPath"),kx=s(e=>{let{groups:t,path:n}=IN(e),o=Lp(n);return TN(o,t)},"splitRoutingPath"),IN=s(e=>{let t=[];return e=e.replace(/\{[^}]+\}/g,(n,o)=>{let r=`@${o}`;return t.push([r,n]),r}),{groups:t,path:e}},"extractGroupsFromPath"),TN=s((e,t)=>{for(let n=t.length-1;n>=0;n--){let[o]=t[n];for(let r=e.length-1;r>=0;r--)if(e[r].includes(o)){e[r]=e[r].replace(o,t[n][1]);break}}return e},"replaceGroupMarks"),xu={},Px=s((e,t)=>{if(e==="*")return"*";let n=e.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);if(n){let o=`${e}#${t}`;return xu[o]||(n[2]?xu[o]=t&&t[0]!==":"&&t[0]!=="*"?[o,n[1],new RegExp(`^${n[2]}(?=/${t})`)]:[e,n[1],new RegExp(`^${n[2]}$`)]:xu[o]=[e,n[1],!0]),xu[o]}return null},"getPattern"),Yo=s((e,t)=>{try{return t(e)}catch{return e.replace(/(?:%[0-9A-Fa-f]{2})+/g,n=>{try{return t(n)}catch{return n}})}},"tryDecode"),EN=s(e=>Yo(e,decodeURI),"tryDecodeURI"),qp=s(e=>{let t=e.url,n=t.indexOf("/",t.indexOf(":")+4),o=n;for(;o<t.length;o++){let r=t.charCodeAt(o);if(r===37){let a=t.indexOf("?",o),c=t.slice(n,a===-1?void 0:a);return EN(c.includes("%25")?c.replace(/%25/g,"%2525"):c)}else if(r===63)break}return t.slice(n,o)},"getPath");var Ax=s(e=>{let t=qp(e);return t.length>1&&t.at(-1)==="/"?t.slice(0,-1):t},"getPathNoStrict"),vo=s((e,t,...n)=>(n.length&&(t=vo(t,...n)),`${e?.[0]==="/"?"":"/"}${e}${t==="/"?"":`${e?.at(-1)==="/"?"":"/"}${t?.[0]==="/"?t.slice(1):t}`}`),"mergePath"),wu=s(e=>{if(e.charCodeAt(e.length-1)!==63||!e.includes(":"))return null;let t=e.split("/"),n=[],o="";return t.forEach(r=>{if(r!==""&&!/\:/.test(r))o+="/"+r;else if(/\:/.test(r))if(/\?/.test(r)){n.length===0&&o===""?n.push("/"):n.push(o);let a=r.replace("?","");o+="/"+a,n.push(o)}else o+="/"+r}),n.filter((r,a,c)=>c.indexOf(r)===a)},"checkOptionalParameter"),Up=s(e=>/[%+]/.test(e)?(e.indexOf("+")!==-1&&(e=e.replace(/\+/g," ")),e.indexOf("%")!==-1?Yo(e,Oi):e):e,"_decodeURI"),$x=s((e,t,n)=>{let o;if(!n&&t&&!/[%+]/.test(t)){let c=e.indexOf("?",8);if(c===-1)return;for(e.startsWith(t,c+1)||(c=e.indexOf(`&${t}`,c+1));c!==-1;){let u=e.charCodeAt(c+t.length+1);if(u===61){let l=c+t.length+2,d=e.indexOf("&",l);return Up(e.slice(l,d===-1?void 0:d))}else if(u==38||isNaN(u))return"";c=e.indexOf(`&${t}`,c+1)}if(o=/[%+]/.test(e),!o)return}let r={};o??=/[%+]/.test(e);let a=e.indexOf("?",8);for(;a!==-1;){let c=e.indexOf("&",a+1),u=e.indexOf("=",a);u>c&&c!==-1&&(u=-1);let l=e.slice(a+1,u===-1?c===-1?void 0:c:u);if(o&&(l=Up(l)),a=c,l==="")continue;let d;u===-1?d="":(d=e.slice(u+1,c===-1?void 0:c),o&&(d=Up(d))),n?(r[l]&&Array.isArray(r[l])||(r[l]=[]),r[l].push(d)):r[l]??=d}return t?r[t]:r},"_getQueryParam"),Rx=$x,Ox=s((e,t)=>$x(e,t,!0),"getQueryParams"),Oi=decodeURIComponent;var Cx=s(e=>Yo(e,Oi),"tryDecodeURIComponent"),bu=class{static{s(this,"HonoRequest")}raw;#e;#t;routeIndex=0;path;bodyCache={};constructor(e,t="/",n=[[]]){this.raw=e,this.path=t,this.#t=n,this.#e={}}param(e){return e?this.#r(e):this.#a()}#r(e){let t=this.#t[0][this.routeIndex][1][e],n=this.#o(t);return n&&/\%/.test(n)?Cx(n):n}#a(){let e={},t=Object.keys(this.#t[0][this.routeIndex][1]);for(let n of t){let o=this.#o(this.#t[0][this.routeIndex][1][n]);o!==void 0&&(e[n]=/\%/.test(o)?Cx(o):o)}return e}#o(e){return this.#t[1]?this.#t[1][e]:e}query(e){return Rx(this.url,e)}queries(e){return Ox(this.url,e)}header(e){if(e)return this.raw.headers.get(e)??void 0;let t={};return this.raw.headers.forEach((n,o)=>{t[o]=n}),t}async parseBody(e){return this.bodyCache.parsedBody??=await Ex(this,e)}#n=s(e=>{let{bodyCache:t,raw:n}=this,o=t[e];if(o)return o;let r=Object.keys(t)[0];return r?t[r].then(a=>(r==="json"&&(a=JSON.stringify(a)),new Response(a)[e]())):t[e]=n[e]()},"#cachedBody");json(){return this.#n("text").then(e=>JSON.parse(e))}text(){return this.#n("text")}arrayBuffer(){return this.#n("arrayBuffer")}blob(){return this.#n("blob")}formData(){return this.#n("formData")}addValidatedData(e,t){this.#e[e]=t}valid(e){return this.#e[e]}get url(){return this.raw.url}get method(){return this.raw.method}get[Tx](){return this.#t}get matchedRoutes(){return this.#t[0].map(([[,e]])=>e)}get routePath(){return this.#t[0].map(([[,e]])=>e)[this.routeIndex].path}};var Nx={Stringify:1,BeforeStream:2,Stream:3},kN=s((e,t)=>{let n=new String(e);return n.isEscaped=!0,n.callbacks=t,n},"raw");var Fp=s(async(e,t,n,o,r)=>{typeof e=="object"&&!(e instanceof String)&&(e instanceof Promise||(e=e.toString()),e instanceof Promise&&(e=await e));let a=e.callbacks;if(!a?.length)return Promise.resolve(e);r?r[0]+=e:r=[e];let c=Promise.all(a.map(u=>u({phase:t,buffer:r,context:o}))).then(u=>Promise.all(u.filter(Boolean).map(l=>Fp(l,t,!1,o,r))).then(()=>r[0]));return n?kN(await c,a):c},"resolveCallback");var PN="text/plain; charset=UTF-8",Bp=s((e,t)=>({"Content-Type":e,...t}),"setDefaultContentType"),jx=class{static{s(this,"Context")}#e;#t;env={};#r;finalized=!1;error;#a;#o;#n;#l;#c;#u;#s;#d;#p;constructor(e,t){this.#e=e,t&&(this.#o=t.executionCtx,this.env=t.env,this.#u=t.notFoundHandler,this.#p=t.path,this.#d=t.matchResult)}get req(){return this.#t??=new bu(this.#e,this.#p,this.#d),this.#t}get event(){if(this.#o&&"respondWith"in this.#o)return this.#o;throw Error("This context has no FetchEvent")}get executionCtx(){if(this.#o)return this.#o;throw Error("This context has no ExecutionContext")}get res(){return this.#n||=new Response(null,{headers:this.#s??=new Headers})}set res(e){if(this.#n&&e){e=new Response(e.body,e);for(let[t,n]of this.#n.headers.entries())if(t!=="content-type")if(t==="set-cookie"){let o=this.#n.headers.getSetCookie();e.headers.delete("set-cookie");for(let r of o)e.headers.append("set-cookie",r)}else e.headers.set(t,n)}this.#n=e,this.finalized=!0}render=s((...e)=>(this.#c??=t=>this.html(t),this.#c(...e)),"render");setLayout=s(e=>this.#l=e,"setLayout");getLayout=s(()=>this.#l,"getLayout");setRenderer=s(e=>{this.#c=e},"setRenderer");header=s((e,t,n)=>{this.finalized&&(this.#n=new Response(this.#n.body,this.#n));let o=this.#n?this.#n.headers:this.#s??=new Headers;t===void 0?o.delete(e):n?.append?o.append(e,t):o.set(e,t)},"header");status=s(e=>{this.#a=e},"status");set=s((e,t)=>{this.#r??=new Map,this.#r.set(e,t)},"set");get=s(e=>this.#r?this.#r.get(e):void 0,"get");get var(){return this.#r?Object.fromEntries(this.#r):{}}#i(e,t,n){let o=this.#n?new Headers(this.#n.headers):this.#s??new Headers;if(typeof t=="object"&&"headers"in t){let a=t.headers instanceof Headers?t.headers:new Headers(t.headers);for(let[c,u]of a)c.toLowerCase()==="set-cookie"?o.append(c,u):o.set(c,u)}if(n)for(let[a,c]of Object.entries(n))if(typeof c=="string")o.set(a,c);else{o.delete(a);for(let u of c)o.append(a,u)}let r=typeof t=="number"?t:t?.status??this.#a;return new Response(e,{status:r,headers:o})}newResponse=s((...e)=>this.#i(...e),"newResponse");body=s((e,t,n)=>this.#i(e,t,n),"body");text=s((e,t,n)=>!this.#s&&!this.#a&&!t&&!n&&!this.finalized?new Response(e):this.#i(e,t,Bp(PN,n)),"text");json=s((e,t,n)=>this.#i(JSON.stringify(e),t,Bp("application/json",n)),"json");html=s((e,t,n)=>{let o=s(r=>this.#i(r,t,Bp("text/html; charset=UTF-8",n)),"res");return typeof e=="object"?Fp(e,Nx.Stringify,!1,{}).then(o):o(e)},"html");redirect=s((e,t)=>{let n=String(e);return this.header("Location",/[^\x00-\xFF]/.test(n)?encodeURI(n):n),this.newResponse(null,t??302)},"redirect");notFound=s(()=>(this.#u??=()=>new Response,this.#u(this)),"notFound")};Cn();Zp();var AN=s(e=>e.text("404 Not Found",404),"notFoundHandler"),Mx=s((e,t)=>{if("getResponse"in e){let n=e.getResponse();return t.newResponse(n.body,n)}return console.error(e),t.text("Internal Server Error",500)},"errorHandler"),Vp=class{static{s(this,"Hono")}get;post;put;delete;options;patch;all;on;use;router;getPath;_basePath="/";#e="/";routes=[];constructor(e={}){[...zx,Dx].forEach(r=>{this[r]=(a,...c)=>(typeof a=="string"?this.#e=a:this.#a(r,this.#e,a),c.forEach(u=>{this.#a(r,this.#e,u)}),this)}),this.on=(r,a,...c)=>{for(let u of[a].flat()){this.#e=u;for(let l of[r].flat())c.map(d=>{this.#a(l.toUpperCase(),this.#e,d)})}return this},this.use=(r,...a)=>(typeof r=="string"?this.#e=r:(this.#e="*",a.unshift(r)),a.forEach(c=>{this.#a(He,this.#e,c)}),this);let{strict:n,...o}=e;Object.assign(this,o),this.getPath=n??!0?e.getPath??qp:Ax}#t(){let e=new Vp({router:this.router,getPath:this.getPath});return e.errorHandler=this.errorHandler,e.#r=this.#r,e.routes=this.routes,e}#r=AN;errorHandler=Mx;route(e,t){let n=this.basePath(e);return t.routes.map(o=>{let r;t.errorHandler===Mx?r=o.handler:(r=s(async(a,c)=>(await Mp([],t.errorHandler)(a,()=>o.handler(a,c))).res,"handler"),r[Ci]=o.handler),n.#a(o.method,o.path,r)}),this}basePath(e){let t=this.#t();return t._basePath=vo(this._basePath,e),t}onError=s(e=>(this.errorHandler=e,this),"onError");notFound=s(e=>(this.#r=e,this),"notFound");mount(e,t,n){let o,r;n&&(typeof n=="function"?r=n:(r=n.optionHandler,n.replaceRequest===!1?o=s(u=>u,"replaceRequest"):o=n.replaceRequest));let a=r?u=>{let l=r(u);return Array.isArray(l)?l:[l]}:u=>{let l;try{l=u.executionCtx}catch{}return[u.env,l]};o||=(()=>{let u=vo(this._basePath,e),l=u==="/"?0:u.length;return d=>{let p=new URL(d.url);return p.pathname=p.pathname.slice(l)||"/",new Request(p,d)}})();let c=s(async(u,l)=>{let d=await t(o(u.req.raw),...a(u));if(d)return d;await l()},"handler");return this.#a(He,vo(e,"*"),c),this}#a(e,t,n){e=e.toUpperCase(),t=vo(this._basePath,t);let o={basePath:this._basePath,path:t,method:e,handler:n};this.router.add(e,t,[n,o]),this.routes.push(o)}#o(e,t){if(e instanceof Error)return this.errorHandler(e,t);throw e}#n(e,t,n,o){if(o==="HEAD")return(async()=>new Response(null,await this.#n(e,t,n,"GET")))();let r=this.getPath(e,{env:n}),a=this.router.match(o,r),c=new jx(e,{path:r,matchResult:a,env:n,executionCtx:t,notFoundHandler:this.#r});if(a[0].length===1){let l;try{l=a[0][0][0][0](c,async()=>{c.res=await this.#r(c)})}catch(d){return this.#o(d,c)}return l instanceof Promise?l.then(d=>d||(c.finalized?c.res:this.#r(c))).catch(d=>this.#o(d,c)):l??this.#r(c)}let u=Mp(a[0],this.errorHandler,this.#r);return(async()=>{try{let l=await u(c);if(!l.finalized)throw new Error("Context is not finalized. Did you forget to return a Response object or `await next()`?");return l.res}catch(l){return this.#o(l,c)}})()}fetch=s((e,...t)=>this.#n(e,t[1],t[0],e.method),"fetch");request=s((e,t,n,o)=>e instanceof Request?this.fetch(t?new Request(e,t):e,n,o):(e=e.toString(),this.fetch(new Request(/^https?:\/\//.test(e)?e:`http://localhost${vo("/",e)}`,t),n,o)),"request");fire=s(()=>{addEventListener("fetch",e=>{e.respondWith(this.#n(e.request,e,void 0,e.request.method))})},"fire")};Cn();Cn();var Tu=[];function Hp(e,t){let n=this.buildAllMatchers(),o=s((r,a)=>{let c=n[r]||n[He],u=c[2][a];if(u)return u;let l=a.match(c[0]);if(!l)return[[],Tu];let d=l.indexOf("",1);return[c[1][d],l]},"match2");return this.match=o,o(e,t)}s(Hp,"match");var Eu="[^/]+",Ni=".*",ji="(?:|/.*)",_o=Symbol(),$N=new Set(".\\+*[^]$()");function RN(e,t){return e.length===1?t.length===1?e<t?-1:1:-1:t.length===1||e===Ni||e===ji?1:t===Ni||t===ji?-1:e===Eu?1:t===Eu?-1:e.length===t.length?e<t?-1:1:t.length-e.length}s(RN,"compareKey");var ku=class{static{s(this,"Node")}#e;#t;#r=Object.create(null);insert(e,t,n,o,r){if(e.length===0){if(this.#e!==void 0)throw _o;if(r)return;this.#e=t;return}let[a,...c]=e,u=a==="*"?c.length===0?["","",Ni]:["","",Eu]:a==="/*"?["","",ji]:a.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/),l;if(u){let d=u[1],p=u[2]||Eu;if(d&&u[2]&&(p===".*"||(p=p.replace(/^\((?!\?:)(?=[^)]+\)$)/,"(?:"),/\((?!\?:)/.test(p))))throw _o;if(l=this.#r[p],!l){if(Object.keys(this.#r).some(m=>m!==Ni&&m!==ji))throw _o;if(r)return;l=this.#r[p]=new ku,d!==""&&(l.#t=o.varIndex++)}!r&&d!==""&&n.push([d,l.#t])}else if(l=this.#r[a],!l){if(Object.keys(this.#r).some(d=>d.length>1&&d!==Ni&&d!==ji))throw _o;if(r)return;l=this.#r[a]=new ku}l.insert(c,t,n,o,r)}buildRegExpStr(){let t=Object.keys(this.#r).sort(RN).map(n=>{let o=this.#r[n];return(typeof o.#t=="number"?`(${n})@${o.#t}`:$N.has(n)?`\\${n}`:n)+o.buildRegExpStr()});return typeof this.#e=="number"&&t.unshift(`#${this.#e}`),t.length===0?"":t.length===1?t[0]:"(?:"+t.join("|")+")"}};var Ux=class{static{s(this,"Trie")}#e={varIndex:0};#t=new ku;insert(e,t,n){let o=[],r=[];for(let c=0;;){let u=!1;if(e=e.replace(/\{[^}]+\}/g,l=>{let d=`@\\${c}`;return r[c]=[d,l],c++,u=!0,d}),!u)break}let a=e.match(/(?::[^\/]+)|(?:\/\*$)|./g)||[];for(let c=r.length-1;c>=0;c--){let[u]=r[c];for(let l=a.length-1;l>=0;l--)if(a[l].indexOf(u)!==-1){a[l]=a[l].replace(u,r[c][1]);break}}return this.#t.insert(a,t,o,this.#e,n),o}buildRegExp(){let e=this.#t.buildRegExpStr();if(e==="")return[/^$/,[],[]];let t=0,n=[],o=[];return e=e.replace(/#(\d+)|@(\d+)|\.\*\$/g,(r,a,c)=>a!==void 0?(n[++t]=Number(a),"$()"):(c!==void 0&&(o[Number(c)]=++t),"")),[new RegExp(`^${e}`),n,o]}};var ON=[/^$/,[],Object.create(null)],Lx=Object.create(null);function qx(e){return Lx[e]??=new RegExp(e==="*"?"":`^${e.replace(/\/\*$|([.\\+*[^\]$()])/g,(t,n)=>n?`\\${n}`:"(?:|/.*)")}$`)}s(qx,"buildWildcardRegExp");function CN(){Lx=Object.create(null)}s(CN,"clearWildcardRegExpCache");function NN(e){let t=new Ux,n=[];if(e.length===0)return ON;let o=e.map(d=>[!/\*|\/:/.test(d[0]),...d]).sort(([d,p],[m,f])=>d?1:m?-1:p.length-f.length),r=Object.create(null);for(let d=0,p=-1,m=o.length;d<m;d++){let[f,y,g]=o[d];f?r[y]=[g.map(([b])=>[b,Object.create(null)]),Tu]:p++;let v;try{v=t.insert(y,p,f)}catch(b){throw b===_o?new Iu(y):b}f||(n[p]=g.map(([b,w])=>{let _=Object.create(null);for(w-=1;w>=0;w--){let[x,E]=v[w];_[x]=E}return[b,_]}))}let[a,c,u]=t.buildRegExp();for(let d=0,p=n.length;d<p;d++)for(let m=0,f=n[d].length;m<f;m++){let y=n[d][m]?.[1];if(!y)continue;let g=Object.keys(y);for(let v=0,b=g.length;v<b;v++)y[g[v]]=u[y[g[v]]]}let l=[];for(let d in c)l[d]=n[c[d]];return[a,l,r]}s(NN,"buildMatcherFromPreprocessedRoutes");function Qo(e,t){if(e){for(let n of Object.keys(e).sort((o,r)=>r.length-o.length))if(qx(n).test(t))return[...e[n]]}}s(Qo,"findMiddleware");var Pu=class{static{s(this,"RegExpRouter")}name="RegExpRouter";#e;#t;constructor(){this.#e={[He]:Object.create(null)},this.#t={[He]:Object.create(null)}}add(e,t,n){let o=this.#e,r=this.#t;if(!o||!r)throw new Error(Su);o[e]||[o,r].forEach(u=>{u[e]=Object.create(null),Object.keys(u[He]).forEach(l=>{u[e][l]=[...u[He][l]]})}),t==="/*"&&(t="*");let a=(t.match(/\/:/g)||[]).length;if(/\*$/.test(t)){let u=qx(t);e===He?Object.keys(o).forEach(l=>{o[l][t]||=Qo(o[l],t)||Qo(o[He],t)||[]}):o[e][t]||=Qo(o[e],t)||Qo(o[He],t)||[],Object.keys(o).forEach(l=>{(e===He||e===l)&&Object.keys(o[l]).forEach(d=>{u.test(d)&&o[l][d].push([n,a])})}),Object.keys(r).forEach(l=>{(e===He||e===l)&&Object.keys(r[l]).forEach(d=>u.test(d)&&r[l][d].push([n,a]))});return}let c=wu(t)||[t];for(let u=0,l=c.length;u<l;u++){let d=c[u];Object.keys(r).forEach(p=>{(e===He||e===p)&&(r[p][d]||=[...Qo(o[p],d)||Qo(o[He],d)||[]],r[p][d].push([n,a-l+u+1]))})}}match=Hp;buildAllMatchers(){let e=Object.create(null);return Object.keys(this.#t).concat(Object.keys(this.#e)).forEach(t=>{e[t]||=this.#r(t)}),this.#e=this.#t=void 0,CN(),e}#r(e){let t=[],n=e===He;return[this.#e,this.#t].forEach(o=>{let r=o[e]?Object.keys(o[e]).map(a=>[a,o[e][a]]):[];r.length!==0?(n||=!0,t.push(...r)):e!==He&&t.push(...Object.keys(o[He]).map(a=>[a,o[He][a]]))}),n?NN(t):null}};Cn();Cn();var Gp=class{static{s(this,"SmartRouter")}name="SmartRouter";#e=[];#t=[];constructor(e){this.#e=e.routers}add(e,t,n){if(!this.#t)throw new Error(Su);this.#t.push([e,t,n])}match(e,t){if(!this.#t)throw new Error("Fatal error");let n=this.#e,o=this.#t,r=n.length,a=0,c;for(;a<r;a++){let u=n[a];try{for(let l=0,d=o.length;l<d;l++)u.add(...o[l]);c=u.match(e,t)}catch(l){if(l instanceof Iu)continue;throw l}this.match=u.match.bind(u),this.#e=[u],this.#t=void 0;break}if(a===r)throw new Error("Fatal error");return this.name=`SmartRouter + ${this.activeRouter.name}`,c}get activeRouter(){if(this.#t||this.#e.length!==1)throw new Error("No active router has been determined yet.");return this.#e[0]}};Cn();var Di=Object.create(null),Jp=class{static{s(this,"Node")}#e;#t;#r;#a=0;#o=Di;constructor(e,t,n){if(this.#t=n||Object.create(null),this.#e=[],e&&t){let o=Object.create(null);o[e]={handler:t,possibleKeys:[],score:0},this.#e=[o]}this.#r=[]}insert(e,t,n){this.#a=++this.#a;let o=this,r=kx(t),a=[];for(let c=0,u=r.length;c<u;c++){let l=r[c],d=r[c+1],p=Px(l,d),m=Array.isArray(p)?p[0]:l;if(m in o.#t){o=o.#t[m],p&&a.push(p[1]);continue}o.#t[m]=new Jp,p&&(o.#r.push(p),a.push(p[1])),o=o.#t[m]}return o.#e.push({[e]:{handler:n,possibleKeys:a.filter((c,u,l)=>l.indexOf(c)===u),score:this.#a}}),o}#n(e,t,n,o){let r=[];for(let a=0,c=e.#e.length;a<c;a++){let u=e.#e[a],l=u[t]||u[He],d={};if(l!==void 0&&(l.params=Object.create(null),r.push(l),n!==Di||o&&o!==Di))for(let p=0,m=l.possibleKeys.length;p<m;p++){let f=l.possibleKeys[p],y=d[l.score];l.params[f]=o?.[f]&&!y?o[f]:n[f]??o?.[f],d[l.score]=!0}}return r}search(e,t){let n=[];this.#o=Di;let r=[this],a=Lp(t),c=[];for(let u=0,l=a.length;u<l;u++){let d=a[u],p=u===l-1,m=[];for(let f=0,y=r.length;f<y;f++){let g=r[f],v=g.#t[d];v&&(v.#o=g.#o,p?(v.#t["*"]&&n.push(...this.#n(v.#t["*"],e,g.#o)),n.push(...this.#n(v,e,g.#o))):m.push(v));for(let b=0,w=g.#r.length;b<w;b++){let _=g.#r[b],x=g.#o===Di?{}:{...g.#o};if(_==="*"){let N=g.#t["*"];N&&(n.push(...this.#n(N,e,g.#o)),N.#o=x,m.push(N));continue}let[E,D,Z]=_;if(!d&&!(Z instanceof RegExp))continue;let j=g.#t[E],G=a.slice(u).join("/");if(Z instanceof RegExp){let N=Z.exec(G);if(N){if(x[D]=N[0],n.push(...this.#n(j,e,g.#o,x)),Object.keys(j.#t).length){j.#o=x;let $=N[0].match(/\//)?.length??0;(c[$]||=[]).push(j)}continue}}(Z===!0||Z.test(d))&&(x[D]=d,p?(n.push(...this.#n(j,e,x,g.#o)),j.#t["*"]&&n.push(...this.#n(j.#t["*"],e,x,g.#o))):(j.#o=x,m.push(j)))}}r=m.concat(c.shift()??[])}return n.length>1&&n.sort((u,l)=>u.score-l.score),[n.map(({handler:u,params:l})=>[u,l])]}};var Kp=class{static{s(this,"TrieRouter")}name="TrieRouter";#e;constructor(){this.#e=new Jp}add(e,t,n){let o=wu(t);if(o){for(let r=0,a=o.length;r<a;r++)this.#e.insert(e,o[r],n);return}this.#e.insert(e,t,n)}match(e,t){return this.#e.search(e,t)}};var ne=class extends Vp{static{s(this,"Hono")}constructor(e={}){super(e),this.router=e.router??new Gp({routers:[new Pu,new Kp]})}};function jN(){let{process:e,Deno:t}=globalThis;return!(typeof t?.noColor=="boolean"?t.noColor:e!==void 0?"NO_COLOR"in e?.env:!1)}s(jN,"getColorEnabled");async function Fx(){let{navigator:e}=globalThis,t="cloudflare:workers";return!(e!==void 0&&e.userAgent==="Cloudflare-Workers"?await(async()=>{try{return"NO_COLOR"in((await import(t)).env??{})}catch{return!1}})():!jN())}s(Fx,"getColorEnabledAsync");var DN=s(e=>{let[t,n]=[",","."];return e.map(r=>r.replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+t)).join(n)},"humanize"),zN=s(e=>{let t=Date.now()-e;return DN([t<1e3?t+"ms":Math.round(t/1e3)+"s"])},"time"),MN=s(async e=>{if(await Fx())switch(e/100|0){case 5:return`\x1B[31m${e}\x1B[0m`;case 4:return`\x1B[33m${e}\x1B[0m`;case 3:return`\x1B[36m${e}\x1B[0m`;case 2:return`\x1B[32m${e}\x1B[0m`}return`${e}`},"colorStatus");async function Bx(e,t,n,o,r=0,a){let c=t==="<--"?`${t} ${n} ${o}`:`${t} ${n} ${o} ${await MN(r)} ${a}`;e(c)}s(Bx,"log");var Zx=s((e=console.log)=>s(async function(n,o){let{method:r,url:a}=n.req,c=a.slice(a.indexOf("/",8));await Bx(e,"<--",r,c);let u=Date.now();await o(),await Bx(e,"-->",r,c,n.res.status,zN(u))},"logger2"),"logger");var Wp=class{static{s(this,"SecureLogger")}isDevelopment;isProduction;currentUserId;sensitivePatterns;logBuffer=[];maxBufferSize=1e3;flushInterval=5e3;constructor(){this.isDevelopment=!!(typeof process<"u"&&!1||typeof import.meta<"u"&&import.meta.env?.DEV),this.isProduction=typeof process<"u"||typeof import.meta<"u"&&import.meta.env?.MODE==="production",this.sensitivePatterns=[/\b\d{3}\.?\d{3}\.?\d{3}-?\d{2}\b/g,/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/g,/\b(?:\+55\s?)?\(?[1-9]{2}\)?\s?[9]?\d{4}-?\d{4}\b/g,/\b\d{4}[\s-]?\d{4}[\s-]?\d{4}[\s-]?\d{4}\b/g,/(?:sk_|eyJ)[a-zA-Z0-9_-]{20,}/g,/password["\s:]+["']?[^"'\s,}]+["']?/gi,/token["\s:]+["']?[^"'\s,}]+["']?/gi,/account["\s:]+["']?\d{6,}["']?/gi],this.isProduction&&setInterval(()=>this.flushBuffer(),this.flushInterval)}setUserId(t){this.currentUserId=t}clearUserId(){this.currentUserId=void 0}sanitizeData(t,n){let o=t;this.sensitivePatterns.forEach(a=>{o=o.replace(a,"[REDACTED]")});let r;return n&&(r=this.sanitizeContextObject(n)),{sanitizedContext:r,sanitizedMessage:o}}sanitizeContextObject(t){let n={};for(let[o,r]of Object.entries(t))if(this.isSensitiveKey(o)&&r)n[o]="[REDACTED]";else if(typeof r=="string"){let c=r;this.sensitivePatterns.forEach(u=>{c=c.replace(u,"[REDACTED]")}),n[o]=c}else typeof r=="object"&&r!==null?n[o]=this.sanitizeContextObject(r):n[o]=r;return this.currentUserId&&!n.userId&&(n.userId=`${this.currentUserId.substring(0,8)}...`),n}isSensitiveKey(t){return["password","token","secret","key","auth","session","email","phone","cpf","cnpj","account","balance","creditcard","card","bank","transaction","amount"].some(o=>t.toLowerCase().includes(o.toLowerCase()))}createLogEntry(t,n,o){let{sanitizedMessage:r,sanitizedContext:a}=this.sanitizeData(n,o);return{context:a,level:t,message:r,sanitized:!0,timestamp:new Date().toISOString()}}writeLog(t){if(this.isDevelopment)switch(t.level){case 0:break;case 1:break;case 2:break;case 3:case 4:break;case 5:break}else this.isProduction&&this.addToBuffer(t)}addToBuffer(t){this.logBuffer.push(t),this.logBuffer.length>=this.maxBufferSize&&this.flushBuffer()}flushBuffer(){if(this.logBuffer.length===0)return;let t=[...this.logBuffer];this.logBuffer=[];let n=t.filter(o=>o.level>=3);n.length>0&&n.forEach(o=>{})}log(t,n,o){if(!this.isDevelopment&&t===0)return;let r=this.createLogEntry(t,n,o);this.writeLog(r)}debug(t,n){this.log(0,t,n)}info(t,n){this.log(1,t,n)}warn(t,n){this.log(2,t,n)}error(t,n){this.log(3,t,n)}security(t,n){this.log(4,t,n)}audit(t,n){this.log(5,t,n)}voiceCommand(t,n,o){this.info("Voice command processed",{...o,command:t.substring(0,50),confidence:n})}authEvent(t,n,o){this.audit("Authentication event",{...o,event:t,userId:n?`${n.substring(0,8)}...`:void 0})}userAction(t,n,o){this.info("User action",{action:t,component:n,...o})}performance(t,n,o){this.info("Performance metric",{...o,operation:t,duration:n})}getBufferStats(){return{lastFlush:new Date,maxSize:this.maxBufferSize,size:this.logBuffer.length}}forceFlush(){this.flushBuffer()}clear(){this.logBuffer=[],this.currentUserId=void 0}},T=new Wp;var Vx=new ne;Vx.get("/",async e=>{try{return T.info("Starting calendar channel renewal check"),e.json({success:!0,message:"Calendar channel renewal completed",timestamp:new Date().toISOString(),channelsRenewed:0})}catch(t){return T.error("Calendar channel renewal failed",{error:t instanceof Error?t.message:"Unknown error"}),e.json({success:!1,message:"Calendar channel renewal failed",error:t instanceof Error?t.message:"Unknown error"},500)}});var Hx=Vx;var Gx=new ne;Gx.get("/",async e=>{try{return T.info("Starting sync queue cleanup"),e.json({success:!0,message:"Sync queue cleanup completed",timestamp:new Date().toISOString(),itemsDeleted:0})}catch(t){return T.error("Sync queue cleanup failed",{error:t instanceof Error?t.message:"Unknown error"}),e.json({success:!1,message:"Sync queue cleanup failed",error:t instanceof Error?t.message:"Unknown error"},500)}});var Jx=Gx;var Kx=new ne;Kx.get("/",async e=>{try{return T.info("Starting sync queue processing"),e.json({success:!0,message:"Sync queue processing completed",timestamp:new Date().toISOString(),itemsProcessed:0})}catch(t){return T.error("Sync queue processing failed",{error:t instanceof Error?t.message:"Unknown error"}),e.json({success:!1,message:"Sync queue processing failed",error:t instanceof Error?t.message:"Unknown error"},500)}});var Wx=Kx;var zi=new ne;zi.route("/calendar-channel-renewal",Hx);zi.route("/sync-queue-processor",Wx);zi.route("/cleanup-sync-queue",Jx);zi.get("/health",e=>e.json({status:"healthy",service:"cron-jobs",timestamp:new Date().toISOString(),jobs:[{name:"calendar-channel-renewal",schedule:"0 0 * * *",description:"Renew expiring Google Calendar webhook channels"},{name:"sync-queue-processor",schedule:"*/5 * * * *",description:"Process pending Google Calendar sync queue items"},{name:"cleanup-sync-queue",schedule:"0 2 * * *",description:"Clean up old completed/failed sync queue items"}]}));var Xx=zi;var Yx=["https://aegiswallet.com","https://www.aegiswallet.com","https://app.aegiswallet.com","http://localhost:3000","http://localhost:5173","http://localhost:8080","http://localhost:8081","http://localhost:8082","https://localhost:3000","https://localhost:5173","https://localhost:8080","https://localhost:8081","https://localhost:8082"],Qx=s(async(e,t)=>{let n=e.req.header("Origin");if(Yx.includes(n||"")||n?.startsWith("http://localhost:")&&!1||n?.startsWith("https://localhost:")&&!1?e.header("Access-Control-Allow-Origin",n||"*"):e.header("Access-Control-Allow-Origin",Yx[0]),e.header("Access-Control-Allow-Methods","GET, POST, PUT, DELETE, OPTIONS"),e.header("Access-Control-Allow-Headers","Content-Type, Authorization, X-Requested-With, X-Client-ID"),e.header("Access-Control-Allow-Credentials","true"),e.header("Access-Control-Max-Age","86400"),e.header("Vary","Origin"),e.req.method==="OPTIONS")return e.newResponse(null,204);await t()},"corsMiddleware");import{sql as tj}from"drizzle-orm";import{neon as KN,Pool as WN}from"@neondatabase/serverless";import{drizzle as XN}from"drizzle-orm/neon-http";import{drizzle as YN}from"drizzle-orm/neon-serverless";var zu={};cr(zu,{accountBalanceHistory:()=>oa,accountBalanceHistoryRelations:()=>ww,aiInsights:()=>_t,aiInsightsRelations:()=>Uw,alertRules:()=>la,alertRulesRelations:()=>Vw,auditLogs:()=>jn,auditLogsRelations:()=>Gw,bankAccounts:()=>M,bankAccountsRelations:()=>xw,bankSyncLogs:()=>Dn,bankSyncLogsRelations:()=>Sw,boletoPayments:()=>Un,boletoPaymentsRelations:()=>Dw,boletoStatusEnum:()=>iw,boletos:()=>Mr,boletosRelations:()=>jw,budgetCategories:()=>Zn,budgetCategoriesRelations:()=>qw,chatMessages:()=>fa,chatMessagesRelations:()=>Bw,chatSessions:()=>Lr,chatSessionsRelations:()=>Fw,collectionMethodEnum:()=>um,commandIntents:()=>yw,complianceAuditLogs:()=>Ht,complianceAuditLogsRelations:()=>oS,complianceEventTypeEnum:()=>gm,consentTemplates:()=>Vt,consentTemplatesRelations:()=>Yw,consentTypeEnum:()=>Nu,contactPaymentMethods:()=>sa,contactPaymentMethodsRelations:()=>Nw,contacts:()=>oe,contactsRelations:()=>Cw,dataDeletionRequests:()=>Ct,dataDeletionRequestsRelations:()=>tS,dataExportRequests:()=>ra,dataExportRequestsRelations:()=>Xw,dataRetentionPolicies:()=>ju,dataRetentionPoliciesRelations:()=>eS,deletionRequestStatusEnum:()=>dm,deletionRequestTypeEnum:()=>lm,errorLogs:()=>xo,errorLogsRelations:()=>Jw,eventReminders:()=>Ln,eventRemindersRelations:()=>Aw,eventTypes:()=>wo,eventTypesRelations:()=>kw,exportFormatEnum:()=>mm,exportRequestTypeEnum:()=>pm,exportStatusEnum:()=>fm,financialEvents:()=>Se,financialEventsRelations:()=>Pw,legalHolds:()=>ua,legalHoldsRelations:()=>aS,lgpdConsentLogs:()=>ta,lgpdConsentLogsRelations:()=>Ww,lgpdConsents:()=>Le,lgpdConsentsRelations:()=>Qw,lgpdExportRequests:()=>br,lgpdExportRequestsRelations:()=>rS,limitTypeEnum:()=>hm,notificationLogs:()=>da,notificationLogsRelations:()=>Hw,notifications:()=>dn,notificationsRelations:()=>Zw,paymentHistory:()=>It,paymentHistoryRelations:()=>cS,paymentMethodTypeEnum:()=>uw,paymentStatusEnum:()=>om,pixKeyTypeEnum:()=>mw,pixKeys:()=>pa,pixKeysRelations:()=>$w,pixQrCodes:()=>pn,pixQrCodesRelations:()=>Rw,pixTransactionStatusEnum:()=>fw,pixTransactionTypeEnum:()=>hw,pixTransactions:()=>Ur,pixTransactionsRelations:()=>Ow,spendingPatterns:()=>Bn,spendingPatternsRelations:()=>Lw,subscriptionPlans:()=>Ot,subscriptionPlansRelations:()=>iS,subscriptionStatusEnum:()=>nm,subscriptions:()=>Te,subscriptionsRelations:()=>sS,transactionCategories:()=>ie,transactionCategoriesRelations:()=>Iw,transactionLimits:()=>Et,transactionLimitsRelations:()=>nS,transactionSchedules:()=>Ye,transactionSchedulesRelations:()=>Ew,transactions:()=>R,transactionsRelations:()=>Tw,userPreferences:()=>Zt,userPreferencesRelations:()=>_w,userSecurity:()=>bo,userSecurityRelations:()=>bw,userSessions:()=>ea,userSessionsRelations:()=>Kw,users:()=>k,usersRelations:()=>vw,voiceCommands:()=>ma,voiceCommandsRelations:()=>zw,voiceTranscriptions:()=>ha,voiceTranscriptionsRelations:()=>Mw});import{boolean as Au,inet as Mi,jsonb as Qp,pgTable as Ui,text as Pe,timestamp as Qt}from"drizzle-orm/pg-core";import{boolean as Bt,date as UN,integer as Xp,pgTable as Yp,text as At,timestamp as Nn}from"drizzle-orm/pg-core";var k=Yp("users",{id:At("id").primaryKey(),email:At("email").unique().notNull(),fullName:At("full_name"),phone:At("phone"),cpf:At("cpf").unique(),birthDate:UN("birth_date"),autonomyLevel:Xp("autonomy_level").default(50),voiceCommandEnabled:Bt("voice_command_enabled").default(!0),language:At("language").default("pt-BR"),timezone:At("timezone").default("America/Sao_Paulo"),currency:At("currency").default("BRL"),profileImageUrl:At("profile_image_url"),isActive:Bt("is_active").default(!0),lastLogin:Nn("last_login",{withTimezone:!0}),createdAt:Nn("created_at",{withTimezone:!0}).defaultNow(),updatedAt:Nn("updated_at",{withTimezone:!0}).defaultNow()}),Zt=Yp("user_preferences",{id:At("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:At("user_id").references(()=>k.id,{onDelete:"cascade"}),theme:At("theme").default("system"),notificationsEmail:Bt("notifications_email").default(!0),notificationsPush:Bt("notifications_push").default(!0),notificationsSms:Bt("notifications_sms").default(!1),autoCategorize:Bt("auto_categorize").default(!0),budgetAlerts:Bt("budget_alerts").default(!0),voiceFeedback:Bt("voice_feedback").default(!0),accessibilityHighContrast:Bt("accessibility_high_contrast").default(!1),accessibilityLargeText:Bt("accessibility_large_text").default(!1),accessibilityScreenReader:Bt("accessibility_screen_reader").default(!1),createdAt:Nn("created_at",{withTimezone:!0}).defaultNow(),updatedAt:Nn("updated_at",{withTimezone:!0}).defaultNow()}),bo=Yp("user_security",{id:At("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:At("user_id").references(()=>k.id,{onDelete:"cascade"}),biometricEnabled:Bt("biometric_enabled").default(!1),twoFactorEnabled:Bt("two_factor_enabled").default(!1),twoFactorSecret:At("two_factor_secret"),voiceBiometricEnabled:Bt("voice_biometric_enabled").default(!1),voiceSampleEncrypted:At("voice_sample_encrypted"),sessionTimeoutMinutes:Xp("session_timeout_minutes").default(30),maxFailedAttempts:Xp("max_failed_attempts").default(5),lockedUntil:Nn("locked_until",{withTimezone:!0}),createdAt:Nn("created_at",{withTimezone:!0}).defaultNow(),updatedAt:Nn("updated_at",{withTimezone:!0}).defaultNow()});var jn=Ui("audit_logs",{id:Pe("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:Pe("user_id").references(()=>k.id,{onDelete:"cascade"}),action:Pe("action").notNull(),resourceType:Pe("resource_type"),resourceId:Pe("resource_id"),oldValues:Qp("old_values"),newValues:Qp("new_values"),ipAddress:Mi("ip_address"),userAgent:Pe("user_agent"),sessionId:Pe("session_id"),success:Au("success").default(!0),errorMessage:Pe("error_message"),createdAt:Qt("created_at",{withTimezone:!0}).defaultNow()}),xo=Ui("error_logs",{id:Pe("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:Pe("user_id").references(()=>k.id,{onDelete:"cascade"}),errorType:Pe("error_type").notNull(),errorCode:Pe("error_code"),errorMessage:Pe("error_message").notNull(),stackTrace:Pe("stack_trace"),context:Qp("context"),userAgent:Pe("user_agent"),ipAddress:Mi("ip_address"),sessionId:Pe("session_id"),isResolved:Au("is_resolved").default(!1),resolvedAt:Qt("resolved_at",{withTimezone:!0}),resolvedBy:Pe("resolved_by").references(()=>k.id),createdAt:Qt("created_at",{withTimezone:!0}).defaultNow()}),ea=Ui("user_sessions",{id:Pe("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:Pe("user_id").references(()=>k.id,{onDelete:"cascade"}),sessionToken:Pe("session_token").unique().notNull(),deviceType:Pe("device_type"),deviceId:Pe("device_id"),ipAddress:Mi("ip_address"),userAgent:Pe("user_agent"),isActive:Au("is_active").default(!0),lastActivity:Qt("last_activity",{withTimezone:!0}).defaultNow(),expiresAt:Qt("expires_at",{withTimezone:!0}).notNull(),createdAt:Qt("created_at",{withTimezone:!0}).defaultNow()}),ta=Ui("lgpd_consent_logs",{id:Pe("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:Pe("user_id").references(()=>k.id,{onDelete:"cascade"}),consentType:Pe("consent_type").notNull(),consentGiven:Au("consent_given").notNull(),consentVersion:Pe("consent_version").notNull(),ipAddress:Mi("ip_address"),userAgent:Pe("user_agent"),consentedAt:Qt("consented_at",{withTimezone:!0}).defaultNow(),revokedAt:Qt("revoked_at",{withTimezone:!0}),createdAt:Qt("created_at",{withTimezone:!0}).defaultNow()}),ra=Ui("data_export_requests",{id:Pe("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:Pe("user_id").references(()=>k.id,{onDelete:"cascade"}),requestType:Pe("request_type").notNull(),status:Pe("status").default("pending"),processedAt:Qt("processed_at",{withTimezone:!0}),downloadUrl:Pe("download_url"),expiresAt:Qt("expires_at",{withTimezone:!0}),ipAddress:Mi("ip_address"),userAgent:Pe("user_agent"),requestedAt:Qt("requested_at",{withTimezone:!0}).defaultNow(),createdAt:Qt("created_at",{withTimezone:!0}).defaultNow()});import{boolean as ew,decimal as $u,integer as tw,pgTable as em,text as lt,timestamp as na}from"drizzle-orm/pg-core";var M=em("bank_accounts",{id:lt("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:lt("user_id").references(()=>k.id,{onDelete:"cascade"}),belvoAccountId:lt("belvo_account_id").unique().notNull(),institutionId:lt("institution_id").notNull(),institutionName:lt("institution_name").notNull(),accountType:lt("account_type").notNull(),accountNumber:lt("account_number"),accountMask:lt("account_mask").notNull(),accountHolderName:lt("account_holder_name"),balance:$u("balance",{precision:15,scale:2}).default("0"),availableBalance:$u("available_balance",{precision:15,scale:2}).default("0"),currency:lt("currency").default("BRL"),isActive:ew("is_active").default(!0),isPrimary:ew("is_primary").default(!1),lastSync:na("last_sync",{withTimezone:!0}),syncStatus:lt("sync_status").default("pending"),syncErrorMessage:lt("sync_error_message"),createdAt:na("created_at",{withTimezone:!0}).defaultNow(),updatedAt:na("updated_at",{withTimezone:!0}).defaultNow()}),oa=em("account_balance_history",{id:lt("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),accountId:lt("account_id").references(()=>M.id,{onDelete:"cascade"}),balance:$u("balance",{precision:15,scale:2}).notNull(),availableBalance:$u("available_balance",{precision:15,scale:2}),recordedAt:na("recorded_at",{withTimezone:!0}).defaultNow(),source:lt("source").default("sync")}),Dn=em("bank_sync_logs",{id:lt("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:lt("user_id").references(()=>k.id,{onDelete:"cascade"}),accountId:lt("account_id").references(()=>M.id,{onDelete:"cascade"}),syncType:lt("sync_type").notNull(),status:lt("status").notNull(),recordsSynced:tw("records_synced").default(0),errorMessage:lt("error_message"),startedAt:na("started_at",{withTimezone:!0}).defaultNow(),completedAt:na("completed_at",{withTimezone:!0}),durationMs:tw("duration_ms")});import{boolean as nw,integer as Li,jsonb as rw,pgEnum as ow,pgTable as rm,text as dt,timestamp as zr,uuid as tm}from"drizzle-orm/pg-core";var nm=ow("subscription_status",["free","trialing","active","past_due","canceled","unpaid"]),om=ow("payment_status",["succeeded","failed","pending"]),Ot=rm("subscription_plans",{id:dt("id").primaryKey(),name:dt("name").notNull(),description:dt("description"),priceCents:Li("price_cents").notNull().default(0),currency:dt("currency").notNull().default("BRL"),interval:dt("interval"),stripeProductId:dt("stripe_product_id"),stripePriceId:dt("stripe_price_id"),features:rw("features").$type().default([]),aiModels:rw("ai_models").$type().default([]),maxBankAccounts:Li("max_bank_accounts").default(1),maxTransactionsPerMonth:Li("max_transactions_per_month"),isActive:nw("is_active").default(!0),displayOrder:Li("display_order").default(0),createdAt:zr("created_at",{withTimezone:!0}).defaultNow(),updatedAt:zr("updated_at",{withTimezone:!0}).defaultNow()}),Te=rm("subscriptions",{id:tm("id").primaryKey().defaultRandom(),userId:dt("user_id").notNull().unique().references(()=>k.id,{onDelete:"cascade"}),stripeCustomerId:dt("stripe_customer_id"),stripeSubscriptionId:dt("stripe_subscription_id").unique(),planId:dt("plan_id").notNull().default("free").references(()=>Ot.id),status:nm("status").notNull().default("free"),currentPeriodStart:zr("current_period_start",{withTimezone:!0}),currentPeriodEnd:zr("current_period_end",{withTimezone:!0}),cancelAtPeriodEnd:nw("cancel_at_period_end").default(!1),canceledAt:zr("canceled_at",{withTimezone:!0}),trialStart:zr("trial_start",{withTimezone:!0}),trialEnd:zr("trial_end",{withTimezone:!0}),createdAt:zr("created_at",{withTimezone:!0}).defaultNow(),updatedAt:zr("updated_at",{withTimezone:!0}).defaultNow()}),It=rm("payment_history",{id:tm("id").primaryKey().defaultRandom(),userId:dt("user_id").notNull().references(()=>k.id,{onDelete:"cascade"}),subscriptionId:tm("subscription_id").references(()=>Te.id,{onDelete:"set null"}),stripePaymentIntentId:dt("stripe_payment_intent_id"),stripeInvoiceId:dt("stripe_invoice_id"),stripeChargeId:dt("stripe_charge_id"),amountCents:Li("amount_cents").notNull(),currency:dt("currency").notNull().default("BRL"),status:om("status").notNull(),description:dt("description"),receiptUrl:dt("receipt_url"),invoicePdf:dt("invoice_pdf"),failureCode:dt("failure_code"),failureMessage:dt("failure_message"),createdAt:zr("created_at",{withTimezone:!0}).defaultNow()});import{date as FN,decimal as aa,pgEnum as BN,pgTable as aw,text as Tt,timestamp as qi}from"drizzle-orm/pg-core";import{boolean as zn,date as LN,decimal as Ru,jsonb as qN,pgTable as am,text as $e,timestamp as Mn}from"drizzle-orm/pg-core";var ie=am("transaction_categories",{id:$e("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:$e("user_id").references(()=>k.id,{onDelete:"cascade"}),name:$e("name").notNull(),color:$e("color").default("#6B7280"),icon:$e("icon").default("circle"),isSystem:zn("is_system").default(!1),parentId:$e("parent_id"),createdAt:Mn("created_at",{withTimezone:!0}).defaultNow(),updatedAt:Mn("updated_at",{withTimezone:!0}).defaultNow()}),R=am("transactions",{id:$e("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:$e("user_id").references(()=>k.id,{onDelete:"cascade"}),accountId:$e("account_id").references(()=>M.id,{onDelete:"set null"}),categoryId:$e("category_id").references(()=>ie.id,{onDelete:"set null"}),amount:Ru("amount",{precision:15,scale:2}).notNull(),originalAmount:Ru("original_amount",{precision:15,scale:2}),currency:$e("currency").default("BRL"),description:$e("description").notNull(),merchantName:$e("merchant_name"),transactionDate:Mn("transaction_date",{withTimezone:!0}).notNull(),postedDate:Mn("posted_date",{withTimezone:!0}),transactionType:$e("transaction_type").notNull(),paymentMethod:$e("payment_method"),status:$e("status").default("posted"),isRecurring:zn("is_recurring").default(!1),recurringRule:qN("recurring_rule"),tags:$e("tags").array(),notes:$e("notes"),attachments:$e("attachments").array(),confidenceScore:Ru("confidence_score",{precision:3,scale:2}),isCategorized:zn("is_categorized").default(!1),isManualEntry:zn("is_manual_entry").default(!1),externalId:$e("external_id"),externalSource:$e("external_source"),createdAt:Mn("created_at",{withTimezone:!0}).defaultNow(),updatedAt:Mn("updated_at",{withTimezone:!0}).defaultNow()}),Ye=am("transaction_schedules",{id:$e("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:$e("user_id").references(()=>k.id,{onDelete:"cascade"}),accountId:$e("account_id").references(()=>M.id,{onDelete:"set null"}),categoryId:$e("category_id").references(()=>ie.id,{onDelete:"set null"}),amount:Ru("amount",{precision:15,scale:2}).notNull(),description:$e("description").notNull(),recipientName:$e("recipient_name"),recipientAccount:$e("recipient_account"),recipientPixKey:$e("recipient_pix_key"),scheduledDate:LN("scheduled_date").notNull(),recurrenceRule:$e("recurrence_rule"),isActive:zn("is_active").default(!0),autoExecute:zn("auto_execute").default(!1),notificationSent:zn("notification_sent").default(!1),executed:zn("executed").default(!1),executedTransactionId:$e("executed_transaction_id").references(()=>R.id),createdAt:Mn("created_at",{withTimezone:!0}).defaultNow(),updatedAt:Mn("updated_at",{withTimezone:!0}).defaultNow()});var iw=BN("boleto_status",["pending","paid","overdue","cancelled","scheduled"]),Mr=aw("boletos",{id:Tt("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:Tt("user_id").references(()=>k.id,{onDelete:"cascade"}),barcode:Tt("barcode").unique().notNull(),lineIdDigitable:Tt("line_id_digitable").unique().notNull(),amount:aa("amount",{precision:15,scale:2}).notNull(),dueDate:FN("due_date").notNull(),beneficiaryName:Tt("beneficiary_name").notNull(),beneficiaryCnpj:Tt("beneficiary_cnpj"),description:Tt("description"),status:Tt("status").default("pending"),paymentDate:qi("payment_date",{withTimezone:!0}),paidAmount:aa("paid_amount",{precision:15,scale:2}),paidWith:Tt("paid_with"),transactionId:Tt("transaction_id").references(()=>R.id),fineAmount:aa("fine_amount",{precision:15,scale:2}).default("0"),interestAmount:aa("interest_amount",{precision:15,scale:2}).default("0"),discountAmount:aa("discount_amount",{precision:15,scale:2}).default("0"),pdfUrl:Tt("pdf_url"),createdAt:qi("created_at",{withTimezone:!0}).defaultNow(),updatedAt:qi("updated_at",{withTimezone:!0}).defaultNow()}),Un=aw("boleto_payments",{id:Tt("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),boletoId:Tt("boleto_id").references(()=>Mr.id,{onDelete:"cascade"}),amount:aa("amount",{precision:15,scale:2}).notNull(),paymentDate:qi("payment_date",{withTimezone:!0}).defaultNow(),paymentMethod:Tt("payment_method").notNull(),transactionId:Tt("transaction_id").references(()=>R.id),status:Tt("status").default("processing"),externalId:Tt("external_id"),createdAt:qi("created_at",{withTimezone:!0}).defaultNow()});import{boolean as ia,date as ZN,decimal as VN,integer as HN,jsonb as sw,pgTable as im,text as Re,timestamp as yr}from"drizzle-orm/pg-core";var wo=im("event_types",{id:Re("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),name:Re("name").unique().notNull(),description:Re("description"),color:Re("color").default("#3B82F6"),icon:Re("icon").default("calendar"),isSystem:ia("is_system").default(!0),defaultReminderHours:HN("default_reminder_hours").default(24),createdAt:yr("created_at",{withTimezone:!0}).defaultNow(),updatedAt:yr("updated_at",{withTimezone:!0}).defaultNow()}),Se=im("financial_events",{id:Re("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:Re("user_id").references(()=>k.id,{onDelete:"cascade"}).notNull(),accountId:Re("account_id").references(()=>M.id,{onDelete:"set null"}),categoryId:Re("category_id").references(()=>ie.id,{onDelete:"set null"}),eventTypeId:Re("event_type_id").references(()=>wo.id,{onDelete:"set null"}),title:Re("title").notNull(),description:Re("description"),amount:VN("amount",{precision:15,scale:2}).notNull(),status:Re("status").notNull().default("pending"),startDate:yr("start_date",{withTimezone:!0}).notNull(),endDate:yr("end_date",{withTimezone:!0}).notNull(),allDay:ia("all_day").default(!1),color:Re("color").notNull().default("blue"),icon:Re("icon"),isIncome:ia("is_income").default(!1),isCompleted:ia("is_completed").default(!1),isRecurring:ia("is_recurring").default(!1),recurrenceRule:Re("recurrence_rule"),parentEventId:Re("parent_event_id"),location:Re("location"),notes:Re("notes"),dueDate:ZN("due_date"),completedAt:yr("completed_at",{withTimezone:!0}),priority:Re("priority").default("normal"),tags:Re("tags").array(),attachments:Re("attachments").array(),brazilianEventType:Re("brazilian_event_type"),installmentInfo:sw("installment_info"),merchantCategory:Re("merchant_category"),metadata:sw("metadata"),transactionId:Re("transaction_id").references(()=>R.id,{onDelete:"set null"}),createdAt:yr("created_at",{withTimezone:!0}).defaultNow(),updatedAt:yr("updated_at",{withTimezone:!0}).defaultNow()}),Ln=im("event_reminders",{id:Re("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:Re("user_id").references(()=>k.id,{onDelete:"cascade"}),eventId:Re("event_id").references(()=>Se.id,{onDelete:"cascade"}),remindAt:yr("remind_at",{withTimezone:!0}).notNull(),reminderType:Re("reminder_type").default("notification"),message:Re("message"),isSent:ia("is_sent").default(!1),sentAt:yr("sent_at",{withTimezone:!0}),createdAt:yr("created_at",{withTimezone:!0}).defaultNow(),updatedAt:yr("updated_at",{withTimezone:!0}).defaultNow()});import{boolean as sm,jsonb as GN,pgEnum as JN,pgTable as cw,text as vr,timestamp as Ou}from"drizzle-orm/pg-core";var uw=JN("payment_method_type",["PIX","BANK_ACCOUNT","BOLETO"]),oe=cw("contacts",{id:vr("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:vr("user_id").references(()=>k.id,{onDelete:"cascade"}),name:vr("name").notNull(),email:vr("email"),phone:vr("phone"),cpf:vr("cpf"),cnpj:vr("cnpj"),notes:vr("notes"),isFavorite:sm("is_favorite").default(!1),createdAt:Ou("created_at",{withTimezone:!0}).defaultNow(),updatedAt:Ou("updated_at",{withTimezone:!0}).defaultNow()}),sa=cw("contact_payment_methods",{id:vr("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),contactId:vr("contact_id").references(()=>oe.id,{onDelete:"cascade"}),methodType:vr("method_type").notNull(),methodDetails:GN("method_details").notNull(),isDefault:sm("is_default").default(!1),isActive:sm("is_active").default(!0),createdAt:Ou("created_at",{withTimezone:!0}).defaultNow(),updatedAt:Ou("updated_at",{withTimezone:!0}).defaultNow()});import{boolean as _r,date as lw,decimal as ca,inet as Cu,integer as cm,jsonb as Fi,pgEnum as ln,pgTable as qn,text as ae,timestamp as Ne,uniqueIndex as dw}from"drizzle-orm/pg-core";var Nu=ln("consent_type",["data_processing","marketing","analytics","third_party","third_party_sharing","voice_data","voice_recording","biometric","financial_data","location","open_banking"]),um=ln("collection_method",["signup","settings","settings_toggle","prompt","api","import","explicit_form","terms_acceptance","voice_command"]),lm=ln("deletion_request_type",["full_account","full_deletion","specific_data","anonymization","partial_deletion","consent_withdrawal"]),dm=ln("deletion_request_status",["pending","verified","approved","processing","completed","rejected","cancelled"]),pm=ln("export_request_type",["full_data","full_export","transactions","profile","consents","audit_logs","financial_only","voice_commands","specific_period"]),mm=ln("export_format",["json","csv","pdf"]),fm=ln("export_status",["pending","processing","completed","failed","expired"]),hm=ln("limit_type",["pix_daily","pix_daytime","pix_nighttime","pix_transaction","pix_total_daily","boleto_daily","ted_daily","transfer_daily","withdrawal_daily","total_daily","total_monthly"]),gm=ln("compliance_event_type",["consent_granted","consent_revoked","data_export_requested","data_export_completed","data_deletion_requested","data_deletion_completed","data_accessed","data_modified","limit_updated","policy_acknowledged"]),Vt=qn("consent_templates",{id:ae("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),consentType:Nu("consent_type").notNull(),version:ae("version").notNull().default("1.0"),titlePt:ae("title_pt").notNull(),descriptionPt:ae("description_pt").notNull(),fullTextPt:ae("full_text_pt").notNull(),titleEn:ae("title_en"),descriptionEn:ae("description_en"),fullTextEn:ae("full_text_en"),isMandatory:_r("is_mandatory").default(!1),isActive:_r("is_active").default(!0),legalBasis:ae("legal_basis"),effectiveFrom:Ne("effective_from",{withTimezone:!0}).defaultNow(),effectiveUntil:Ne("effective_until",{withTimezone:!0}),createdAt:Ne("created_at",{withTimezone:!0}).defaultNow(),updatedAt:Ne("updated_at",{withTimezone:!0}).defaultNow()}),Le=qn("lgpd_consents",{id:ae("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:ae("user_id").references(()=>k.id,{onDelete:"cascade"}).notNull(),consentType:Nu("consent_type").notNull(),purpose:ae("purpose").notNull(),legalBasis:ae("legal_basis").notNull(),granted:_r("granted").notNull().default(!1),grantedAt:Ne("granted_at",{withTimezone:!0}),revokedAt:Ne("revoked_at",{withTimezone:!0}),consentVersion:ae("consent_version").notNull(),consentTextHash:ae("consent_text_hash"),collectionMethod:um("collection_method").notNull(),ipAddress:Cu("ip_address"),userAgent:ae("user_agent"),createdAt:Ne("created_at",{withTimezone:!0}).defaultNow(),updatedAt:Ne("updated_at",{withTimezone:!0}).defaultNow()},e=>[dw("lgpd_consents_user_type_version_idx").on(e.userId,e.consentType,e.consentVersion)]),ju=qn("data_retention_policies",{id:ae("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),dataType:ae("data_type").notNull().unique(),description:ae("description"),descriptionPt:ae("description_pt"),retentionMonths:cm("retention_months").notNull(),retentionPeriodLabel:ae("retention_period_label"),autoDelete:_r("auto_delete").default(!1),deletionMethod:ae("deletion_method").default("hard_delete"),legalHold:_r("legal_hold").default(!1),legalBasis:ae("legal_basis"),legalRequirement:_r("legal_requirement").default(!1),isActive:_r("is_active").default(!0),createdAt:Ne("created_at",{withTimezone:!0}).defaultNow(),updatedAt:Ne("updated_at",{withTimezone:!0}).defaultNow()}),Ct=qn("data_deletion_requests",{id:ae("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:ae("user_id").references(()=>k.id,{onDelete:"cascade"}).notNull(),requestType:lm("request_type").notNull(),scope:Fi("scope").default({}),reason:ae("reason"),status:dm("status").default("pending"),verificationCode:ae("verification_code"),verifiedAt:Ne("verified_at",{withTimezone:!0}),reviewDeadline:Ne("review_deadline",{withTimezone:!0}),processedAt:Ne("processed_at",{withTimezone:!0}),processedBy:ae("processed_by"),processingNotes:ae("processing_notes"),legalHold:_r("legal_hold").default(!1),legalHoldReason:ae("legal_hold_reason"),ipAddress:Cu("ip_address"),userAgent:ae("user_agent"),createdAt:Ne("created_at",{withTimezone:!0}).defaultNow(),updatedAt:Ne("updated_at",{withTimezone:!0}).defaultNow()}),br=qn("lgpd_export_requests",{id:ae("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:ae("user_id").references(()=>k.id,{onDelete:"cascade"}).notNull(),requestType:pm("request_type").notNull(),format:mm("format").default("json"),dateFrom:lw("date_from"),dateTo:lw("date_to"),status:fm("status").default("pending"),processedAt:Ne("processed_at",{withTimezone:!0}),downloadUrl:ae("download_url"),downloadExpiresAt:Ne("download_expires_at",{withTimezone:!0}),fileSizeBytes:cm("file_size_bytes"),errorMessage:ae("error_message"),retryCount:cm("retry_count").default(0),requestedVia:ae("requested_via").default("app"),ipAddress:Cu("ip_address"),userAgent:ae("user_agent"),createdAt:Ne("created_at",{withTimezone:!0}).defaultNow(),updatedAt:Ne("updated_at",{withTimezone:!0}).defaultNow()}),Et=qn("transaction_limits",{id:ae("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:ae("user_id").references(()=>k.id,{onDelete:"cascade"}).notNull(),limitType:hm("limit_type").notNull(),dailyLimit:ca("daily_limit",{precision:15,scale:2}).notNull(),transactionLimit:ca("transaction_limit",{precision:15,scale:2}),monthlyLimit:ca("monthly_limit",{precision:15,scale:2}),currentDailyUsed:ca("current_daily_used",{precision:15,scale:2}).default("0"),currentMonthlyUsed:ca("current_monthly_used",{precision:15,scale:2}).default("0"),lastResetAt:Ne("last_reset_at",{withTimezone:!0}).defaultNow(),nighttimeLimit:ca("nighttime_limit",{precision:15,scale:2}),nighttimeStart:ae("nighttime_start").default("20:00"),nighttimeEnd:ae("nighttime_end").default("06:00"),isActive:_r("is_active").default(!0),createdAt:Ne("created_at",{withTimezone:!0}).defaultNow(),updatedAt:Ne("updated_at",{withTimezone:!0}).defaultNow()},e=>[dw("transaction_limits_user_type_idx").on(e.userId,e.limitType)]),Ht=qn("compliance_audit_logs",{id:ae("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:ae("user_id").references(()=>k.id,{onDelete:"set null"}),eventType:gm("event_type").notNull(),resourceType:ae("resource_type").notNull(),resourceId:ae("resource_id"),description:ae("description"),metadata:Fi("metadata").default({}),previousState:Fi("previous_state"),newState:Fi("new_state"),ipAddress:Cu("ip_address"),userAgent:ae("user_agent"),sessionId:ae("session_id"),retentionUntil:Ne("retention_until",{withTimezone:!0}),createdAt:Ne("created_at",{withTimezone:!0}).defaultNow()}),ua=qn("legal_holds",{id:ae("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:ae("user_id").references(()=>k.id,{onDelete:"cascade"}).notNull(),reason:ae("reason").notNull(),description:ae("description"),referenceNumber:ae("reference_number"),dataTypes:Fi("data_types").default([]),allData:_r("all_data").default(!1),active:_r("active").default(!0),startedAt:Ne("started_at",{withTimezone:!0}).defaultNow(),expiresAt:Ne("expires_at",{withTimezone:!0}),releasedAt:Ne("released_at",{withTimezone:!0}),releasedBy:ae("released_by"),releaseReason:ae("release_reason"),createdBy:ae("created_by").notNull(),createdAt:Ne("created_at",{withTimezone:!0}).defaultNow(),updatedAt:Ne("updated_at",{withTimezone:!0}).defaultNow()});import{boolean as pw,jsonb as ym,pgTable as vm,text as ft,timestamp as Fn}from"drizzle-orm/pg-core";var dn=vm("notifications",{id:ft("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:ft("user_id").references(()=>k.id,{onDelete:"cascade"}),title:ft("title").notNull(),message:ft("message").notNull(),type:ft("type").notNull(),category:ft("category"),priority:ft("priority").default("normal"),isRead:pw("is_read").default(!1),readAt:Fn("read_at",{withTimezone:!0}),actionUrl:ft("action_url"),actionText:ft("action_text"),metadata:ym("metadata"),expiresAt:Fn("expires_at",{withTimezone:!0}),createdAt:Fn("created_at",{withTimezone:!0}).defaultNow()}),la=vm("alert_rules",{id:ft("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:ft("user_id").references(()=>k.id,{onDelete:"cascade"}),ruleName:ft("rule_name").notNull(),ruleType:ft("rule_type").notNull(),conditions:ym("conditions").notNull(),actions:ym("actions").notNull(),isActive:pw("is_active").default(!0),createdAt:Fn("created_at",{withTimezone:!0}).defaultNow(),updatedAt:Fn("updated_at",{withTimezone:!0}).defaultNow()}),da=vm("notification_logs",{id:ft("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),notificationId:ft("notification_id").references(()=>dn.id,{onDelete:"cascade"}),deliveryMethod:ft("delivery_method").notNull(),status:ft("status").notNull(),sentAt:Fn("sent_at",{withTimezone:!0}).defaultNow(),deliveredAt:Fn("delivered_at",{withTimezone:!0}),errorMessage:ft("error_message"),externalId:ft("external_id"),createdAt:Fn("created_at",{withTimezone:!0}).defaultNow()});import{boolean as Du,decimal as _m,integer as bm,pgEnum as xm,pgTable as wm,text as je,timestamp as xr}from"drizzle-orm/pg-core";var mw=xm("pix_key_type",["CPF","CNPJ","EMAIL","PHONE","RANDOM"]),fw=xm("pix_transaction_status",["pending","processing","completed","failed","cancelled","reversed"]),hw=xm("pix_transaction_type_enum",["sent","received","scheduled"]),pa=wm("pix_keys",{id:je("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:je("user_id").references(()=>k.id,{onDelete:"cascade"}),keyType:je("key_type").notNull(),keyValue:je("key_value").notNull(),keyName:je("key_name").notNull(),bankName:je("bank_name"),isFavorite:Du("is_favorite").default(!1),isActive:Du("is_active").default(!0),verificationStatus:je("verification_status").default("pending"),lastUsed:xr("last_used",{withTimezone:!0}),usageCount:bm("usage_count").default(0),createdAt:xr("created_at",{withTimezone:!0}).defaultNow(),updatedAt:xr("updated_at",{withTimezone:!0}).defaultNow()}),pn=wm("pix_qr_codes",{id:je("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:je("user_id").references(()=>k.id,{onDelete:"cascade"}),qrCodeData:je("qr_code_data").notNull(),pixCopyPaste:je("pix_copy_paste").notNull(),amount:_m("amount",{precision:15,scale:2}),description:je("description"),recipientName:je("recipient_name"),recipientPixKey:je("recipient_pix_key"),expiresAt:xr("expires_at",{withTimezone:!0}),isActive:Du("is_active").default(!0),isSingleUse:Du("is_single_use").default(!1),usageCount:bm("usage_count").default(0),maxUsage:bm("max_usage"),createdAt:xr("created_at",{withTimezone:!0}).defaultNow(),updatedAt:xr("updated_at",{withTimezone:!0}).defaultNow()}),Ur=wm("pix_transactions",{id:je("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:je("user_id").references(()=>k.id,{onDelete:"cascade"}),transactionId:je("transaction_id").references(()=>R.id,{onDelete:"set null"}),endToEndId:je("end_to_end_id").unique(),pixKey:je("pix_key").notNull(),pixKeyType:je("pix_key_type").notNull(),recipientName:je("recipient_name").notNull(),recipientDocument:je("recipient_document"),recipientBank:je("recipient_bank"),amount:_m("amount",{precision:15,scale:2}).notNull(),description:je("description"),transactionDate:xr("transaction_date",{withTimezone:!0}).notNull(),status:je("status").default("pending"),transactionType:je("transaction_type").default("sent"),scheduledFor:xr("scheduled_for",{withTimezone:!0}),processedAt:xr("processed_at",{withTimezone:!0}),qrCodeId:je("qr_code_id").references(()=>pn.id),externalId:je("external_id"),errorMessage:je("error_message"),feeAmount:_m("fee_amount",{precision:15,scale:2}).default("0"),createdAt:xr("created_at",{withTimezone:!0}).defaultNow(),updatedAt:xr("updated_at",{withTimezone:!0}).defaultNow()});import{boolean as Bi,date as gw,decimal as So,integer as Sm,jsonb as wr,pgTable as mn,text as he,timestamp as Nt}from"drizzle-orm/pg-core";var ma=mn("voice_commands",{id:he("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:he("user_id").references(()=>k.id,{onDelete:"cascade"}),commandText:he("command_text").notNull(),audioFileUrl:he("audio_file_url"),intent:he("intent").notNull(),intentConfidence:So("intent_confidence",{precision:3,scale:2}),entities:wr("entities"),responseText:he("response_text"),responseAudioUrl:he("response_audio_url"),processingTimeMs:Sm("processing_time_ms"),status:he("status").default("processed"),errorMessage:he("error_message"),context:wr("context"),createdAt:Nt("created_at",{withTimezone:!0}).defaultNow()}),yw=mn("command_intents",{id:he("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),intentName:he("intent_name").unique().notNull(),description:he("description"),examplePhrases:he("example_phrases").array(),requiredEntities:he("required_entities").array(),actionHandler:he("action_handler"),isActive:Bi("is_active").default(!0),createdAt:Nt("created_at",{withTimezone:!0}).defaultNow(),updatedAt:Nt("updated_at",{withTimezone:!0}).defaultNow()}),_t=mn("ai_insights",{id:he("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:he("user_id").references(()=>k.id,{onDelete:"cascade"}),insightType:he("insight_type").notNull(),title:he("title").notNull(),description:he("description").notNull(),recommendation:he("recommendation"),impactLevel:he("impact_level").default("medium"),categoryId:he("category_id").references(()=>ie.id),data:wr("data"),isRead:Bi("is_read").default(!1),isActioned:Bi("is_actioned").default(!1),expiresAt:Nt("expires_at",{withTimezone:!0}),createdAt:Nt("created_at",{withTimezone:!0}).defaultNow()}),Bn=mn("spending_patterns",{id:he("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:he("user_id").references(()=>k.id,{onDelete:"cascade"}),categoryId:he("category_id").references(()=>ie.id),periodStart:gw("period_start").notNull(),periodEnd:gw("period_end").notNull(),periodType:he("period_type").notNull(),totalAmount:So("total_amount",{precision:15,scale:2}).notNull(),transactionCount:Sm("transaction_count").notNull(),averageTransaction:So("average_transaction",{precision:15,scale:2}),trendPercentage:So("trend_percentage",{precision:5,scale:2}),patternData:wr("pattern_data"),createdAt:Nt("created_at",{withTimezone:!0}).defaultNow()}),Zn=mn("budget_categories",{id:he("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:he("user_id").references(()=>k.id,{onDelete:"cascade"}),categoryId:he("category_id").references(()=>ie.id,{onDelete:"cascade"}),budgetAmount:So("budget_amount",{precision:15,scale:2}).notNull(),periodType:he("period_type").notNull(),alertThreshold:So("alert_threshold",{precision:5,scale:2}).default("80"),isActive:Bi("is_active").default(!0),createdAt:Nt("created_at",{withTimezone:!0}).defaultNow(),updatedAt:Nt("updated_at",{withTimezone:!0}).defaultNow()}),Lr=mn("chat_sessions",{id:he("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:he("user_id").references(()=>k.id,{onDelete:"cascade"}),title:he("title"),isActive:Bi("is_active").default(!0),metadata:wr("metadata"),createdAt:Nt("created_at",{withTimezone:!0}).defaultNow(),updatedAt:Nt("updated_at",{withTimezone:!0}).defaultNow()}),fa=mn("chat_messages",{id:he("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),sessionId:he("session_id").references(()=>Lr.id,{onDelete:"cascade"}),role:he("role").notNull(),content:he("content").notNull(),attachments:wr("attachments"),context:wr("context"),createdAt:Nt("created_at",{withTimezone:!0}).defaultNow()}),ha=mn("voice_transcriptions",{id:he("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:he("user_id").references(()=>k.id,{onDelete:"cascade"}),audioStoragePath:he("audio_storage_path").notNull(),transcript:he("transcript").notNull(),confidenceScore:So("confidence_score",{precision:3,scale:2}),language:he("language").notNull(),processingTimeMs:Sm("processing_time_ms").notNull(),expiresAt:Nt("expires_at",{withTimezone:!0}).notNull(),createdAt:Nt("created_at",{withTimezone:!0}).defaultNow(),updatedAt:Nt("updated_at",{withTimezone:!0}).defaultNow()}),gW=mn("chat_context_snapshots",{id:he("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),conversationId:he("conversation_id").references(()=>Lr.id,{onDelete:"cascade"}),recentTransactions:wr("recent_transactions"),accountBalances:wr("account_balances"),upcomingEvents:wr("upcoming_events"),userPreferences:wr("user_preferences"),createdAt:Nt("created_at",{withTimezone:!0}).defaultNow()});import{relations as ge}from"drizzle-orm";var vw=ge(k,({one:e,many:t})=>({preferences:e(Zt,{fields:[k.id],references:[Zt.userId]}),security:e(bo,{fields:[k.id],references:[bo.userId]}),bankAccounts:t(M),transactionCategories:t(ie),transactions:t(R),transactionSchedules:t(Ye),financialEvents:t(Se),eventReminders:t(Ln),pixKeys:t(pa),pixQrCodes:t(pn),pixTransactions:t(Ur),contacts:t(oe),boletos:t(Mr),voiceCommands:t(ma),voiceTranscriptions:t(ha),aiInsights:t(_t),spendingPatterns:t(Bn),budgetCategories:t(Zn),chatSessions:t(Lr),notifications:t(dn),alertRules:t(la),auditLogs:t(jn),errorLogs:t(xo),userSessions:t(ea),lgpdConsentLogs:t(ta),dataExportRequests:t(ra),bankSyncLogs:t(Dn),lgpdConsents:t(Le),dataDeletionRequests:t(Ct),lgpdExportRequests:t(br),transactionLimits:t(Et),complianceAuditLogs:t(Ht),legalHolds:t(ua),subscriptions:t(Te),paymentHistory:t(It)})),_w=ge(Zt,({one:e})=>({user:e(k,{fields:[Zt.userId],references:[k.id]})})),bw=ge(bo,({one:e})=>({user:e(k,{fields:[bo.userId],references:[k.id]})})),xw=ge(M,({one:e,many:t})=>({user:e(k,{fields:[M.userId],references:[k.id]}),balanceHistory:t(oa),syncLogs:t(Dn),transactions:t(R),transactionSchedules:t(Ye),financialEvents:t(Se)})),ww=ge(oa,({one:e})=>({account:e(M,{fields:[oa.accountId],references:[M.id]})})),Sw=ge(Dn,({one:e})=>({user:e(k,{fields:[Dn.userId],references:[k.id]}),account:e(M,{fields:[Dn.accountId],references:[M.id]})})),Iw=ge(ie,({one:e,many:t})=>({user:e(k,{fields:[ie.userId],references:[k.id]}),parent:e(ie,{fields:[ie.parentId],references:[ie.id],relationName:"categoryParent"}),children:t(ie,{relationName:"categoryParent"}),transactions:t(R),transactionSchedules:t(Ye),financialEvents:t(Se),aiInsights:t(_t),spendingPatterns:t(Bn),budgetCategories:t(Zn)})),Tw=ge(R,({one:e,many:t})=>({user:e(k,{fields:[R.userId],references:[k.id]}),account:e(M,{fields:[R.accountId],references:[M.id]}),category:e(ie,{fields:[R.categoryId],references:[ie.id]}),pixTransactions:t(Ur),boletoPayments:t(Un),financialEvents:t(Se)})),Ew=ge(Ye,({one:e})=>({user:e(k,{fields:[Ye.userId],references:[k.id]}),account:e(M,{fields:[Ye.accountId],references:[M.id]}),category:e(ie,{fields:[Ye.categoryId],references:[ie.id]}),executedTransaction:e(R,{fields:[Ye.executedTransactionId],references:[R.id]})})),kw=ge(wo,({many:e})=>({financialEvents:e(Se)})),Pw=ge(Se,({one:e,many:t})=>({user:e(k,{fields:[Se.userId],references:[k.id]}),account:e(M,{fields:[Se.accountId],references:[M.id]}),category:e(ie,{fields:[Se.categoryId],references:[ie.id]}),eventType:e(wo,{fields:[Se.eventTypeId],references:[wo.id]}),parentEvent:e(Se,{fields:[Se.parentEventId],references:[Se.id],relationName:"eventParent"}),childEvents:t(Se,{relationName:"eventParent"}),transaction:e(R,{fields:[Se.transactionId],references:[R.id]}),reminders:t(Ln)})),Aw=ge(Ln,({one:e})=>({user:e(k,{fields:[Ln.userId],references:[k.id]}),event:e(Se,{fields:[Ln.eventId],references:[Se.id]})})),$w=ge(pa,({one:e})=>({user:e(k,{fields:[pa.userId],references:[k.id]})})),Rw=ge(pn,({one:e,many:t})=>({user:e(k,{fields:[pn.userId],references:[k.id]}),pixTransactions:t(Ur)})),Ow=ge(Ur,({one:e})=>({user:e(k,{fields:[Ur.userId],references:[k.id]}),transaction:e(R,{fields:[Ur.transactionId],references:[R.id]}),qrCode:e(pn,{fields:[Ur.qrCodeId],references:[pn.id]})})),Cw=ge(oe,({one:e,many:t})=>({user:e(k,{fields:[oe.userId],references:[k.id]}),paymentMethods:t(sa)})),Nw=ge(sa,({one:e})=>({contact:e(oe,{fields:[sa.contactId],references:[oe.id]})})),jw=ge(Mr,({one:e,many:t})=>({user:e(k,{fields:[Mr.userId],references:[k.id]}),transaction:e(R,{fields:[Mr.transactionId],references:[R.id]}),payments:t(Un)})),Dw=ge(Un,({one:e})=>({boleto:e(Mr,{fields:[Un.boletoId],references:[Mr.id]}),transaction:e(R,{fields:[Un.transactionId],references:[R.id]})})),zw=ge(ma,({one:e})=>({user:e(k,{fields:[ma.userId],references:[k.id]})})),Mw=ge(ha,({one:e})=>({user:e(k,{fields:[ha.userId],references:[k.id]})})),Uw=ge(_t,({one:e})=>({user:e(k,{fields:[_t.userId],references:[k.id]}),category:e(ie,{fields:[_t.categoryId],references:[ie.id]})})),Lw=ge(Bn,({one:e})=>({user:e(k,{fields:[Bn.userId],references:[k.id]}),category:e(ie,{fields:[Bn.categoryId],references:[ie.id]})})),qw=ge(Zn,({one:e})=>({user:e(k,{fields:[Zn.userId],references:[k.id]}),category:e(ie,{fields:[Zn.categoryId],references:[ie.id]})})),Fw=ge(Lr,({one:e,many:t})=>({user:e(k,{fields:[Lr.userId],references:[k.id]}),messages:t(fa)})),Bw=ge(fa,({one:e})=>({session:e(Lr,{fields:[fa.sessionId],references:[Lr.id]})})),Zw=ge(dn,({one:e,many:t})=>({user:e(k,{fields:[dn.userId],references:[k.id]}),logs:t(da)})),Vw=ge(la,({one:e})=>({user:e(k,{fields:[la.userId],references:[k.id]})})),Hw=ge(da,({one:e})=>({notification:e(dn,{fields:[da.notificationId],references:[dn.id]})})),Gw=ge(jn,({one:e})=>({user:e(k,{fields:[jn.userId],references:[k.id]})})),Jw=ge(xo,({one:e})=>({user:e(k,{fields:[xo.userId],references:[k.id]}),resolvedByUser:e(k,{fields:[xo.resolvedBy],references:[k.id],relationName:"resolvedByUser"})})),Kw=ge(ea,({one:e})=>({user:e(k,{fields:[ea.userId],references:[k.id]})})),Ww=ge(ta,({one:e})=>({user:e(k,{fields:[ta.userId],references:[k.id]})})),Xw=ge(ra,({one:e})=>({user:e(k,{fields:[ra.userId],references:[k.id]})})),Yw=ge(Vt,({many:e})=>({consents:e(Le)})),Qw=ge(Le,({one:e})=>({user:e(k,{fields:[Le.userId],references:[k.id]})})),eS=ge(ju,()=>({})),tS=ge(Ct,({one:e})=>({user:e(k,{fields:[Ct.userId],references:[k.id]})})),rS=ge(br,({one:e})=>({user:e(k,{fields:[br.userId],references:[k.id]})})),nS=ge(Et,({one:e})=>({user:e(k,{fields:[Et.userId],references:[k.id]})})),oS=ge(Ht,({one:e})=>({user:e(k,{fields:[Ht.userId],references:[k.id]})})),aS=ge(ua,({one:e})=>({user:e(k,{fields:[ua.userId],references:[k.id]})})),iS=ge(Ot,({many:e})=>({subscriptions:e(Te)})),sS=ge(Te,({one:e,many:t})=>({user:e(k,{fields:[Te.userId],references:[k.id]}),plan:e(Ot,{fields:[Te.planId],references:[Ot.id]}),paymentHistory:t(It)})),cS=ge(It,({one:e})=>({user:e(k,{fields:[It.userId],references:[k.id]}),subscription:e(Te,{fields:[It.subscriptionId],references:[Te.id]})}));var lS=s(()=>{let e=process.env.DATABASE_URL;if(!e)throw new Error("DATABASE_URL environment variable is not set");return e},"getPooledDatabaseUrl"),QN=s(()=>{let e=process.env.DATABASE_URL_UNPOOLED;return e||(console.warn("DATABASE_URL_UNPOOLED not set, using DATABASE_URL as fallback"),lS())},"getDirectDatabaseUrl"),ej=s(()=>{let e=KN(lS());return XN(e,{schema:zu})},"createHttpClient"),Im=null,ur=s(()=>(Im||(Im=ej()),Im),"getHttpClient");var uS=null,Tm=null,fn=s(()=>(Tm||(uS=new WN({connectionString:QN()}),Tm=YN(uS,{schema:zu})),Tm),"getPoolClient");var qr=typeof window>"u"&&process.env.DATABASE_URL?ur():null,JW=typeof window>"u"&&process.env.DATABASE_URL_UNPOOLED?fn():null;async function dS(){let e=Date.now();try{return await qr.execute(tj`SELECT 1`),{status:"connected",latencyMs:Date.now()-e}}catch(t){return{status:"disconnected",latencyMs:Date.now()-e,error:t instanceof Error?t.message:"Unknown error"}}}s(dS,"checkDatabaseHealth");function pS(e){e.get("/api/ping",t=>t.json({message:"pong",timestamp:new Date().toISOString(),version:"1.0.0"})),e.get("/api/status",async t=>{let n=await dS(),o=n.status==="connected";return t.json({services:{database:n.status,databaseLatencyMs:n.latencyMs,trpc:"connected",auth:"connected"},status:o?"operational":"degraded",timestamp:new Date().toISOString(),...n.error&&{errors:{database:n.error}}})}),e.get("/api/health",async t=>{let n=await dS();return n.status!=="connected"?t.json({healthy:!1,database:n,timestamp:new Date().toISOString()},503):t.json({healthy:!0,database:n,timestamp:new Date().toISOString()})})}s(pS,"setupApiRoutes");Mu();function mS(e){e.get("/api/health",t=>t.json({environment:Zi.NODE_ENV,memory:process.memoryUsage?.()||{},service:"aegiswallet-server",status:"ok",timestamp:new Date().toISOString(),uptime:process.uptime?.()||0}))}s(mS,"setupHealthRoute");Mu();var Pj=process.env.VERCEL==="1"||process.env.VERCEL==="true";function YS(e){Pj||(Zi.IS_PRODUCTION?Promise.resolve().then(()=>(KS(),JS)).then(({serveStatic:t})=>{Promise.resolve().then(()=>(XS(),WS)).then(({htmlCache:n,staticAssetsCache:o})=>{e.use("/assets/*",o(),t({root:"./dist"})),e.use("/*.html",n(),t({root:"./dist"})),e.use("/*",n(),t({path:"./dist/index.html",rewriteRequestPath:s(r=>r,"rewriteRequestPath")}))})}):e.get("/*",t=>t.req.path.startsWith("/api/")?t.notFound():t.json({api:`http://localhost:${Zi.PORT}`,frontend:"http://localhost:5173",message:"Development mode - Frontend served by Vite dev server",mode:"development"})))}s(YS,"setupStaticRoutes");import{and as Hi,desc as QS,eq as Sr,gte as Um,lte as Lm,sum as qm}from"drizzle-orm";var Aj=300*1e3,eI=100,Vn=new Map;function $j(){if(Vn.size<=eI)return;let t=Array.from(Vn.entries()).sort((n,o)=>n[1].lastAccess-o[1].lastAccess).slice(0,Vn.size-eI);for(let[n]of t)Vn.delete(n)}s($j,"evictOldestCacheEntries");var qu=class{static{s(this,"FinancialContextService")}userId;constructor(t){this.userId=t}async getContext(t=!1){let n=this.userId,o=Vn.get(n),r=Date.now();if(!t&&o&&o.expiresAt>r)return o.lastAccess=r,o.context;let a=await this.buildContext();return Vn.set(n,{context:a,expiresAt:r+Aj,lastAccess:r}),$j(),a}invalidateCache(){Vn.delete(this.userId)}static clearAllCache(){Vn.clear()}async buildContext(){let t=new Date,n=new Date(t.getFullYear(),t.getMonth(),1),o=new Date(t.getFullYear(),t.getMonth()+1,0),[r,a,c,u,l]=await Promise.all([this.getAccountBalances(),this.getMonthlyTotals(n,o),this.getCategorySpending(n,o),this.getPendingAlerts(),this.getUpcomingPayments(30)]),d=r.reduce((m,f)=>m+Number(f.balance||0),0),p=r.reduce((m,f)=>m+Number(f.availableBalance||0),0);return{totalBalance:d,availableBalance:p,monthlyIncome:a.income,monthlyExpenses:a.expenses,topCategories:c,pendingAlerts:u,upcomingPayments:l,lastUpdated:t}}async getAccountBalances(){return await qr.select({id:M.id,balance:M.balance,availableBalance:M.availableBalance,institutionName:M.institutionName}).from(M).where(Hi(Sr(M.userId,this.userId),Sr(M.isActive,!0)))}async getMonthlyTotals(t,n){let o=await qr.select({transactionType:R.transactionType,total:qm(R.amount)}).from(R).where(Hi(Sr(R.userId,this.userId),Um(R.transactionDate,t),Lm(R.transactionDate,n))).groupBy(R.transactionType),r=0,a=0;for(let c of o){let u=Math.abs(Number(c.total||0));c.transactionType==="credit"?r+=u:c.transactionType==="debit"&&(a+=u)}return{income:r,expenses:a}}async getCategorySpending(t,n){let o=await qr.select({categoryId:R.categoryId,categoryName:ie.name,total:qm(R.amount)}).from(R).leftJoin(ie,Sr(R.categoryId,ie.id)).where(Hi(Sr(R.userId,this.userId),Sr(R.transactionType,"debit"),Um(R.transactionDate,t),Lm(R.transactionDate,n))).groupBy(R.categoryId,ie.name).orderBy(QS(qm(R.amount))).limit(10),r=o.reduce((a,c)=>a+Math.abs(Number(c.total||0)),0);return o.map(a=>({categoryId:a.categoryId||"uncategorized",categoryName:a.categoryName||"Sem categoria",amount:Math.abs(Number(a.total||0)),percentage:r>0?Math.round(Math.abs(Number(a.total||0))/r*100):0,trend:"stable"}))}async getPendingAlerts(){return(await qr.select({id:_t.id,insightType:_t.insightType,title:_t.title,impactLevel:_t.impactLevel,recommendation:_t.recommendation}).from(_t).where(Hi(Sr(_t.userId,this.userId),Sr(_t.isRead,!1))).orderBy(QS(_t.createdAt)).limit(5)).map(n=>({id:n.id,type:this.mapInsightTypeToAlertType(n.insightType),message:n.title,severity:n.impactLevel||"medium",actionable:!!n.recommendation}))}mapInsightTypeToAlertType(t){switch(this.normalizeInsightType(t)){case"budget_alert":return"budget_exceeded";case"warning":return"low_balance";case"spending_pattern":return"unusual_spending";case"opportunity":return"payment_due";default:return"unusual_spending"}}normalizeInsightType(t){return t.includes("_")?t:t.replace(/([A-Z])/g,"_$1").toLowerCase()}async getUpcomingPayments(t){let n=new Date,o=new Date;o.setDate(n.getDate()+t);let r=n.toISOString().split("T")[0],a=o.toISOString().split("T")[0];return(await qr.select({id:Ye.id,description:Ye.description,amount:Ye.amount,scheduledDate:Ye.scheduledDate,recurrenceRule:Ye.recurrenceRule}).from(Ye).where(Hi(Sr(Ye.userId,this.userId),Sr(Ye.isActive,!0),Sr(Ye.executed,!1),Um(Ye.scheduledDate,r),Lm(Ye.scheduledDate,a))).orderBy(Ye.scheduledDate).limit(10)).map(u=>({id:u.id,description:u.description,amount:Math.abs(Number(u.amount)),dueDate:new Date(u.scheduledDate),isRecurring:!!u.recurrenceRule}))}};function ga(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}s(ga,"formatBRL");function Rj(e){return new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(e)}s(Rj,"formatDateBR");function Oj(e){return{up:"\u2191 aumentando",down:"\u2193 diminuindo",stable:"\u2192 est\xE1vel"}[e]}s(Oj,"translateTrend");function tI(e){let{totalBalance:t,availableBalance:n,monthlyIncome:o,monthlyExpenses:r,topCategories:a}=e,c=o-r,u=o>0?Math.round(c/o*100):0,l=a.slice(0,5).map((d,p)=>`${p+1}. **${d.categoryName}**: ${ga(d.amount)} (${d.percentage}% do total, ${Oj(d.trend)})`).join(`
`);return`
### Resumo Financeiro
- **Saldo Total**: ${ga(t)}
- **Saldo Dispon\xEDvel**: ${ga(n)}
- **Renda do M\xEAs**: ${ga(o)}
- **Gastos do M\xEAs**: ${ga(r)}
- **Economia do M\xEAs**: ${ga(c)} (${u}% da renda)

### Top 5 Categorias de Gasto (M\xEAs Atual)
${l||"Nenhuma transa\xE7\xE3o registrada este m\xEAs."}

### \xDAltima Atualiza\xE7\xE3o
${Rj(e.lastUpdated)}
`.trim()}s(tI,"buildFinancialContextBlock");function rI(e){if(e.length===0)return"\u2705 Nenhum alerta ativo no momento.";let t={low:"\u2139\uFE0F",medium:"\u26A0\uFE0F",high:"\u{1F6A8}"};return e.map(n=>`${t[n.severity]} [${n.severity.toUpperCase()}] ${n.message}`).join(`
`)}s(rI,"buildAlertsBlock");import{createClerkClient as Cj,verifyToken as nI}from"@clerk/backend";var Fu=s(e=>e,"createMiddleware");function Fm(){let e=process.env.CLERK_SECRET_KEY,t=process.env.VITE_CLERK_PUBLISHABLE_KEY;if(!e)throw new Error("CLERK_SECRET_KEY environment variable is not set");return{secretKey:e,publishableKey:t}}s(Fm,"getClerkConfig");function oI(){let{secretKey:e}=Fm();return Cj({secretKey:e})}s(oI,"getClerkClient");var aI=Fu(async(e,t)=>{let n=e.req.header("Authorization"),o=n?.startsWith("Bearer ")?n.replace("Bearer ","").trim():null,r=e.get("requestId")||"unknown",a=e.req.header("X-Forwarded-For")||e.req.header("X-Real-IP")||"unknown";if(!o)return T.warn("Authentication failed: No token provided",{ip:a,method:e.req.method,path:e.req.path,requestId:r,userAgent:e.req.header("User-Agent")}),e.json({code:"AUTH_REQUIRED",error:"Authentication required"},401);try{let{secretKey:c}=Fm(),u=oI(),l=await nI(o,{secretKey:c});if(!l?.sub)return T.warn("Authentication failed: Invalid token",{ip:a,method:e.req.method,path:e.req.path,requestId:r,userAgent:e.req.header("User-Agent")}),e.json({code:"INVALID_TOKEN",error:"Invalid authentication token"},401);let d=l.sub,p=await u.users.getUser(d),f={db:ur(),clerkUser:p,user:{id:p.id,email:p.emailAddresses[0]?.emailAddress||"",fullName:`${p.firstName||""} ${p.lastName||""}`.trim()||null,role:p.publicMetadata?.role,metadata:p.publicMetadata}};e.set("auth",f),T.info("Authentication successful",{ip:a,method:e.req.method,path:e.req.path,requestId:r,userId:p.id}),await t()}catch(c){return T.error("Authentication error",{error:c instanceof Error?c.message:"Unknown error",ip:a,method:e.req.method,path:e.req.path,requestId:r,userAgent:e.req.header("User-Agent")}),e.json({code:"AUTH_ERROR",error:"Authentication failed"},500)}}),Nj=Fu(async(e,t)=>{let n=e.req.header("Authorization"),o=n?.startsWith("Bearer ")?n.replace("Bearer ","").trim():null;if(!o){await t();return}try{let{secretKey:r}=Fm(),a=oI(),c=await nI(o,{secretKey:r});if(!c?.sub){await t();return}let u=c.sub,l=await a.users.getUser(u),p={db:ur(),clerkUser:l,user:{id:l.id,email:l.emailAddresses[0]?.emailAddress||"",fullName:`${l.firstName||""} ${l.lastName||""}`.trim()||null,role:l.publicMetadata?.role,metadata:l.publicMetadata}};e.set("auth",p),await t()}catch{await t()}});function iI(e){let{windowMs:t,max:n,message:o="Too many requests"}=e,r=new Map;return Fu(async(a,c)=>{let l=a.get("auth")?.user.id||a.req.header("X-Forwarded-For")||a.req.header("X-Real-IP")||"unknown",d=Date.now(),p=r.get(l);if(!p||d>p.resetTime)r.set(l,{count:1,resetTime:d+t});else if(p.count++,p.count>n){let f=Math.ceil((p.resetTime-d)/1e3);return a.json({code:"RATE_LIMIT_EXCEEDED",details:{limit:n,windowMs:t,retryAfter:f},error:o},429)}let m=r.get(l);m&&(a.header("X-RateLimit-Limit",n.toString()),a.header("X-RateLimit-Remaining",Math.max(0,n-m.count).toString()),a.header("X-RateLimit-Reset",new Date(m.resetTime).toISOString())),await c()})}s(iI,"clerkUserRateLimitMiddleware");var B=aI;var X=iI;var Bm=new ne;Bm.get("/",B,async e=>{let t=e.get("requestId");try{let{user:n}=e.get("auth"),o=n.id;if(!o)return e.json({code:"UNAUTHORIZED",error:"User not authenticated"},401);let r=e.req.query("refresh")==="true",c=await new qu(o).getContext(r);return T.info("Financial context retrieved",{forceRefresh:r,requestId:t,userId:o}),e.json({context:c,formatted:{alertsBlock:rI(c.pendingAlerts),financialBlock:tI(c)},meta:{requestId:t,retrievedAt:new Date().toISOString()}})}catch(n){return T.error("Error fetching financial context",{error:n instanceof Error?n.message:"Unknown error",requestId:t}),e.json({code:"CONTEXT_ERROR",error:n instanceof Error?n.message:"Failed to fetch context"},500)}});var jj=/^[\w!#$%&'*.^`|~+-]+$/,Dj=/^[ !#-:<-[\]-~]*$/,Zm=s((e,t)=>{if(t&&e.indexOf(t)===-1)return{};let n=e.trim().split(";"),o={};for(let r of n){r=r.trim();let a=r.indexOf("=");if(a===-1)continue;let c=r.substring(0,a).trim();if(t&&t!==c||!jj.test(c))continue;let u=r.substring(a+1).trim();if(u.startsWith('"')&&u.endsWith('"')&&(u=u.slice(1,-1)),Dj.test(u)&&(o[c]=u.indexOf("%")!==-1?Yo(u,Oi):u,t))break}return o},"parse");var sI=s((e,t,n)=>{let o=e.req.raw.headers.get("Cookie");if(typeof t=="string"){if(!o)return;let a=t;return n==="secure"?a="__Secure-"+t:n==="host"&&(a="__Host-"+t),Zm(o,a)[a]}return o?Zm(o):{}},"getCookie");var cI=s((e,t)=>new Response(e,{headers:{"Content-Type":t}}).formData(),"bufferToFormData");var zj=/^application\/([a-z-\.]+\+)?json(;\s*[a-zA-Z0-9\-]+\=([^;]+))*$/,Mj=/^multipart\/form-data(;\s?boundary=[a-zA-Z0-9'"()+_,\-./:=?]+)?$/,Uj=/^application\/x-www-form-urlencoded(;\s*[a-zA-Z0-9\-]+\=([^;]+))*$/,Vm=s((e,t)=>async(n,o)=>{let r={},a=n.req.header("Content-Type");switch(e){case"json":if(!a||!zj.test(a))break;try{r=await n.req.json()}catch{let u="Malformed JSON in request body";throw new _u(400,{message:u})}break;case"form":{if(!a||!(Mj.test(a)||Uj.test(a)))break;let u;if(n.req.bodyCache.formData)u=await n.req.bodyCache.formData;else try{let d=await n.req.arrayBuffer();u=await cI(d,a),n.req.bodyCache.formData=u}catch(d){let p="Malformed FormData request.";throw p+=d instanceof Error?` ${d.message}`:` ${String(d)}`,new _u(400,{message:p})}let l={};u.forEach((d,p)=>{p.endsWith("[]")?(l[p]??=[]).push(d):Array.isArray(l[p])?l[p].push(d):p in l?l[p]=[l[p],d]:l[p]=d}),r=l;break}case"query":r=Object.fromEntries(Object.entries(n.req.queries()).map(([u,l])=>l.length===1?[u,l[0]]:[u,l]));break;case"param":r=n.req.param();break;case"header":r=n.req.header();break;case"cookie":r=sI(n);break}let c=await t(r,n);return c instanceof Response?c:(n.req.addValidatedData(e,c),await o())},"validator");function Lj(e,t,n,o){return Vm(e,async(r,a)=>{let c=r;if(e==="header"&&"_def"in t||e==="header"&&"_zod"in t){let l=Object.keys("in"in t?t.in.shape:t.shape),d=Object.fromEntries(l.map(p=>[p.toLowerCase(),p]));c=Object.fromEntries(Object.entries(r).map(([p,m])=>[d[p]||p,m]))}let u=o&&o.validationFunction?await o.validationFunction(t,c):await t.safeParseAsync(c);if(n){let l=await n({data:c,...u,target:e},a);if(l){if(l instanceof Response)return l;if("response"in l)return l.response}}return u.success?u.data:a.json(u,400)})}s(Lj,"zValidatorFunction");var pe=Lj;var i={};cr(i,{$brand:()=>Bu,$input:()=>ry,$output:()=>ty,NEVER:()=>Hm,TimePrecision:()=>iy,ZodAny:()=>WI,ZodArray:()=>eT,ZodBase64:()=>Sv,ZodBase64URL:()=>Iv,ZodBigInt:()=>zs,ZodBigIntFormat:()=>kv,ZodBoolean:()=>Ds,ZodCIDRv4:()=>xv,ZodCIDRv6:()=>wv,ZodCUID:()=>fv,ZodCUID2:()=>hv,ZodCatch:()=>_T,ZodCodec:()=>zv,ZodCustom:()=>Jl,ZodCustomStringFormat:()=>Ns,ZodDate:()=>Vl,ZodDefault:()=>mT,ZodDiscriminatedUnion:()=>tT,ZodE164:()=>Tv,ZodEmail:()=>dv,ZodEmoji:()=>pv,ZodEnum:()=>Os,ZodError:()=>yM,ZodFile:()=>lT,ZodFirstPartyTypeKind:()=>le,ZodFunction:()=>PT,ZodGUID:()=>Ll,ZodIPv4:()=>_v,ZodIPv6:()=>bv,ZodISODate:()=>Dl,ZodISODateTime:()=>jl,ZodISODuration:()=>Ml,ZodISOTime:()=>zl,ZodIntersection:()=>rT,ZodIssueCode:()=>RU,ZodJWT:()=>Ev,ZodKSUID:()=>vv,ZodLazy:()=>TT,ZodLiteral:()=>uT,ZodMAC:()=>BI,ZodMap:()=>sT,ZodNaN:()=>xT,ZodNanoID:()=>mv,ZodNever:()=>YI,ZodNonOptional:()=>jv,ZodNull:()=>JI,ZodNullable:()=>pT,ZodNumber:()=>js,ZodNumberFormat:()=>Ra,ZodObject:()=>Gl,ZodOptional:()=>Nv,ZodPipe:()=>Dv,ZodPrefault:()=>hT,ZodPromise:()=>kT,ZodReadonly:()=>wT,ZodRealError:()=>Kt,ZodRecord:()=>Rv,ZodSet:()=>cT,ZodString:()=>Cs,ZodStringFormat:()=>Fe,ZodSuccess:()=>vT,ZodSymbol:()=>HI,ZodTemplateLiteral:()=>IT,ZodTransform:()=>dT,ZodTuple:()=>oT,ZodType:()=>ve,ZodULID:()=>gv,ZodURL:()=>Zl,ZodUUID:()=>vn,ZodUndefined:()=>GI,ZodUnion:()=>Av,ZodUnknown:()=>XI,ZodVoid:()=>QI,ZodXID:()=>yv,_ZodString:()=>lv,_default:()=>fT,_function:()=>wU,any:()=>rU,array:()=>Hl,base64:()=>UM,base64url:()=>LM,bigint:()=>XM,boolean:()=>VI,catch:()=>bT,check:()=>SU,cidrv4:()=>zM,cidrv6:()=>MM,clone:()=>jt,codec:()=>_U,coerce:()=>Mv,config:()=>pt,core:()=>yn,cuid:()=>AM,cuid2:()=>$M,custom:()=>IU,date:()=>oU,decode:()=>tv,decodeAsync:()=>nv,describe:()=>TU,discriminatedUnion:()=>uU,e164:()=>qM,email:()=>_M,emoji:()=>kM,encode:()=>ev,encodeAsync:()=>rv,endsWith:()=>ws,enum:()=>Ov,file:()=>hU,flattenError:()=>ts,float32:()=>GM,float64:()=>JM,formatError:()=>rs,function:()=>wU,getErrorMap:()=>CU,globalRegistry:()=>Dt,gt:()=>gn,gte:()=>Jt,guid:()=>bM,hash:()=>HM,hex:()=>VM,hostname:()=>ZM,httpUrl:()=>EM,includes:()=>bs,instanceof:()=>kU,int:()=>uv,int32:()=>KM,int64:()=>YM,intersection:()=>nT,ipv4:()=>NM,ipv6:()=>DM,iso:()=>Ul,json:()=>AU,jwt:()=>FM,keyof:()=>aU,ksuid:()=>CM,lazy:()=>ET,length:()=>Pa,literal:()=>fU,locales:()=>ms,looseObject:()=>cU,lowercase:()=>vs,lt:()=>hn,lte:()=>pr,mac:()=>jM,map:()=>dU,maxLength:()=>ka,maxSize:()=>Ea,meta:()=>EU,mime:()=>Ss,minLength:()=>Yn,minSize:()=>Po,multipleOf:()=>ko,nan:()=>vU,nanoid:()=>PM,nativeEnum:()=>mU,negative:()=>jy,never:()=>Pv,nonnegative:()=>zy,nonoptional:()=>yT,nonpositive:()=>Dy,normalize:()=>Is,null:()=>KI,nullable:()=>Fl,nullish:()=>gU,number:()=>ZI,object:()=>iU,optional:()=>ql,overwrite:()=>Fr,parse:()=>Xy,parseAsync:()=>Yy,partialRecord:()=>lU,pipe:()=>Bl,positive:()=>Ny,prefault:()=>gT,preprocess:()=>$U,prettifyError:()=>of,promise:()=>xU,property:()=>My,readonly:()=>ST,record:()=>iT,refine:()=>AT,regex:()=>ys,regexes:()=>dr,registry:()=>fl,safeDecode:()=>av,safeDecodeAsync:()=>sv,safeEncode:()=>ov,safeEncodeAsync:()=>iv,safeParse:()=>Qy,safeParseAsync:()=>Rs,set:()=>pU,setErrorMap:()=>OU,size:()=>gs,slugify:()=>Ps,startsWith:()=>xs,strictObject:()=>sU,string:()=>cv,stringFormat:()=>BM,stringbool:()=>PU,success:()=>yU,superRefine:()=>$T,symbol:()=>eU,templateLiteral:()=>bU,toJSONSchema:()=>$s,toLowerCase:()=>Es,toUpperCase:()=>ks,transform:()=>Cv,treeifyError:()=>nf,trim:()=>Ts,tuple:()=>aT,uint32:()=>WM,uint64:()=>QM,ulid:()=>RM,undefined:()=>tU,union:()=>$v,unknown:()=>$a,uppercase:()=>_s,url:()=>TM,util:()=>F,uuid:()=>xM,uuidv4:()=>wM,uuidv6:()=>SM,uuidv7:()=>IM,void:()=>nU,xid:()=>OM});var yn={};cr(yn,{$ZodAny:()=>Nh,$ZodArray:()=>Uh,$ZodAsyncError:()=>Ir,$ZodBase64:()=>Ih,$ZodBase64URL:()=>Th,$ZodBigInt:()=>dl,$ZodBigIntFormat:()=>$h,$ZodBoolean:()=>is,$ZodCIDRv4:()=>xh,$ZodCIDRv6:()=>wh,$ZodCUID:()=>uh,$ZodCUID2:()=>lh,$ZodCatch:()=>rg,$ZodCheck:()=>qe,$ZodCheckBigIntFormat:()=>Uf,$ZodCheckEndsWith:()=>Xf,$ZodCheckGreaterThan:()=>ol,$ZodCheckIncludes:()=>Kf,$ZodCheckLengthEquals:()=>Vf,$ZodCheckLessThan:()=>nl,$ZodCheckLowerCase:()=>Gf,$ZodCheckMaxLength:()=>Bf,$ZodCheckMaxSize:()=>Lf,$ZodCheckMimeType:()=>Qf,$ZodCheckMinLength:()=>Zf,$ZodCheckMinSize:()=>qf,$ZodCheckMultipleOf:()=>zf,$ZodCheckNumberFormat:()=>Mf,$ZodCheckOverwrite:()=>eh,$ZodCheckProperty:()=>Yf,$ZodCheckRegex:()=>Hf,$ZodCheckSizeEquals:()=>Ff,$ZodCheckStartsWith:()=>Wf,$ZodCheckStringFormat:()=>Ia,$ZodCheckUpperCase:()=>Jf,$ZodCodec:()=>ss,$ZodCustom:()=>lg,$ZodCustomStringFormat:()=>Ph,$ZodDate:()=>Mh,$ZodDefault:()=>Yh,$ZodDiscriminatedUnion:()=>qh,$ZodE164:()=>Eh,$ZodEmail:()=>ah,$ZodEmoji:()=>sh,$ZodEncodeError:()=>Hn,$ZodEnum:()=>Hh,$ZodError:()=>es,$ZodFile:()=>Jh,$ZodFunction:()=>sg,$ZodGUID:()=>nh,$ZodIPv4:()=>vh,$ZodIPv6:()=>_h,$ZodISODate:()=>hh,$ZodISODateTime:()=>fh,$ZodISODuration:()=>yh,$ZodISOTime:()=>gh,$ZodIntersection:()=>Fh,$ZodJWT:()=>kh,$ZodKSUID:()=>mh,$ZodLazy:()=>ug,$ZodLiteral:()=>Gh,$ZodMAC:()=>bh,$ZodMap:()=>Zh,$ZodNaN:()=>ng,$ZodNanoID:()=>ch,$ZodNever:()=>Dh,$ZodNonOptional:()=>eg,$ZodNull:()=>Ch,$ZodNullable:()=>Xh,$ZodNumber:()=>ll,$ZodNumberFormat:()=>Ah,$ZodObject:()=>NI,$ZodObjectJIT:()=>Lh,$ZodOptional:()=>Wh,$ZodPipe:()=>og,$ZodPrefault:()=>Qh,$ZodPromise:()=>cg,$ZodReadonly:()=>ag,$ZodRealError:()=>Gt,$ZodRecord:()=>Bh,$ZodRegistry:()=>Ta,$ZodSet:()=>Vh,$ZodString:()=>Eo,$ZodStringFormat:()=>ze,$ZodSuccess:()=>tg,$ZodSymbol:()=>Rh,$ZodTemplateLiteral:()=>ig,$ZodTransform:()=>Kh,$ZodTuple:()=>ml,$ZodType:()=>me,$ZodULID:()=>dh,$ZodURL:()=>ih,$ZodUUID:()=>oh,$ZodUndefined:()=>Oh,$ZodUnion:()=>pl,$ZodUnknown:()=>jh,$ZodVoid:()=>zh,$ZodXID:()=>ph,$brand:()=>Bu,$constructor:()=>I,$input:()=>ry,$output:()=>ty,Doc:()=>as,JSONSchema:()=>LI,JSONSchemaGenerator:()=>As,NEVER:()=>Hm,TimePrecision:()=>iy,_any:()=>ky,_array:()=>Uy,_base64:()=>Rl,_base64url:()=>Ol,_bigint:()=>by,_boolean:()=>vy,_catch:()=>lM,_check:()=>UI,_cidrv4:()=>Al,_cidrv6:()=>$l,_coercedBigint:()=>xy,_coercedBoolean:()=>_y,_coercedDate:()=>Oy,_coercedNumber:()=>py,_coercedString:()=>oy,_cuid:()=>wl,_cuid2:()=>Sl,_custom:()=>qy,_date:()=>Ry,_decode:()=>Ku,_decodeAsync:()=>Xu,_default:()=>sM,_discriminatedUnion:()=>Kz,_e164:()=>Cl,_email:()=>hl,_emoji:()=>bl,_encode:()=>Ju,_encodeAsync:()=>Wu,_endsWith:()=>ws,_enum:()=>tM,_file:()=>Ly,_float32:()=>fy,_float64:()=>hy,_gt:()=>gn,_gte:()=>Jt,_guid:()=>fs,_includes:()=>bs,_int:()=>my,_int32:()=>gy,_int64:()=>wy,_intersection:()=>Wz,_ipv4:()=>kl,_ipv6:()=>Pl,_isoDate:()=>cy,_isoDateTime:()=>sy,_isoDuration:()=>ly,_isoTime:()=>uy,_jwt:()=>Nl,_ksuid:()=>El,_lazy:()=>fM,_length:()=>Pa,_literal:()=>nM,_lowercase:()=>vs,_lt:()=>hn,_lte:()=>pr,_mac:()=>ay,_map:()=>Qz,_max:()=>pr,_maxLength:()=>ka,_maxSize:()=>Ea,_mime:()=>Ss,_min:()=>Jt,_minLength:()=>Yn,_minSize:()=>Po,_multipleOf:()=>ko,_nan:()=>Cy,_nanoid:()=>xl,_nativeEnum:()=>rM,_negative:()=>jy,_never:()=>Ay,_nonnegative:()=>zy,_nonoptional:()=>cM,_nonpositive:()=>Dy,_normalize:()=>Is,_null:()=>Ey,_nullable:()=>iM,_number:()=>dy,_optional:()=>aM,_overwrite:()=>Fr,_parse:()=>ba,_parseAsync:()=>xa,_pipe:()=>dM,_positive:()=>Ny,_promise:()=>hM,_property:()=>My,_readonly:()=>pM,_record:()=>Yz,_refine:()=>Fy,_regex:()=>ys,_safeDecode:()=>Qu,_safeDecodeAsync:()=>tl,_safeEncode:()=>Yu,_safeEncodeAsync:()=>el,_safeParse:()=>wa,_safeParseAsync:()=>Sa,_set:()=>eM,_size:()=>gs,_slugify:()=>Ps,_startsWith:()=>xs,_string:()=>ny,_stringFormat:()=>Aa,_stringbool:()=>Hy,_success:()=>uM,_superRefine:()=>By,_symbol:()=>Iy,_templateLiteral:()=>mM,_toLowerCase:()=>Es,_toUpperCase:()=>ks,_transform:()=>oM,_trim:()=>Ts,_tuple:()=>Xz,_uint32:()=>yy,_uint64:()=>Sy,_ulid:()=>Il,_undefined:()=>Ty,_union:()=>Jz,_unknown:()=>Py,_uppercase:()=>_s,_url:()=>hs,_uuid:()=>gl,_uuidv4:()=>yl,_uuidv6:()=>vl,_uuidv7:()=>_l,_void:()=>$y,_xid:()=>Tl,clone:()=>jt,config:()=>pt,decode:()=>fD,decodeAsync:()=>gD,describe:()=>Zy,encode:()=>mD,encodeAsync:()=>hD,flattenError:()=>ts,formatError:()=>rs,globalConfig:()=>Gi,globalRegistry:()=>Dt,isValidBase64:()=>Sh,isValidBase64URL:()=>$I,isValidJWT:()=>RI,locales:()=>ms,meta:()=>Vy,parse:()=>Hu,parseAsync:()=>Gu,prettifyError:()=>of,regexes:()=>dr,registry:()=>fl,safeDecode:()=>vD,safeDecodeAsync:()=>bD,safeEncode:()=>yD,safeEncodeAsync:()=>_D,safeParse:()=>af,safeParseAsync:()=>sf,toDotPath:()=>mI,toJSONSchema:()=>$s,treeifyError:()=>nf,util:()=>F,version:()=>th});var Hm=Object.freeze({status:"aborted"});function I(e,t,n){function o(u,l){if(u._zod||Object.defineProperty(u,"_zod",{value:{def:l,constr:c,traits:new Set},enumerable:!1}),u._zod.traits.has(e))return;u._zod.traits.add(e),t(u,l);let d=c.prototype,p=Object.keys(d);for(let m=0;m<p.length;m++){let f=p[m];f in u||(u[f]=d[f].bind(u))}}s(o,"init");let r=n?.Parent??Object;class a extends r{static{s(this,"Definition")}}Object.defineProperty(a,"name",{value:e});function c(u){var l;let d=n?.Parent?new a:this;o(d,u),(l=d._zod).deferred??(l.deferred=[]);for(let p of d._zod.deferred)p();return d}return s(c,"_"),Object.defineProperty(c,"init",{value:o}),Object.defineProperty(c,Symbol.hasInstance,{value:s(u=>n?.Parent&&u instanceof n.Parent?!0:u?._zod?.traits?.has(e),"value")}),Object.defineProperty(c,"name",{value:e}),c}s(I,"$constructor");var Bu=Symbol("zod_brand"),Ir=class extends Error{static{s(this,"$ZodAsyncError")}constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}},Hn=class extends Error{static{s(this,"$ZodEncodeError")}constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}},Gi={};function pt(e){return e&&Object.assign(Gi,e),Gi}s(pt,"config");var F={};cr(F,{BIGINT_FORMAT_RANGES:()=>rf,Class:()=>Jm,NUMBER_FORMAT_RANGES:()=>tf,aborted:()=>Xn,allowsEval:()=>Xm,assert:()=>Vj,assertEqual:()=>qj,assertIs:()=>Bj,assertNever:()=>Zj,assertNotEqual:()=>Fj,assignProp:()=>Jn,base64ToUint8Array:()=>lI,base64urlToUint8Array:()=>cD,cached:()=>va,captureStackTrace:()=>Vu,cleanEnum:()=>sD,cleanRegex:()=>Wi,clone:()=>jt,cloneDef:()=>Gj,createTransparentProxy:()=>Qj,defineLazy:()=>xe,esc:()=>Zu,escapeRegex:()=>lr,extend:()=>rD,finalizeIssue:()=>tr,floatSafeRemainder:()=>Km,getElementAtPath:()=>Jj,getEnumValues:()=>Ki,getLengthableOrigin:()=>Qi,getParsedType:()=>Yj,getSizableOrigin:()=>Yi,hexToUint8Array:()=>lD,isObject:()=>Io,isPlainObject:()=>Wn,issue:()=>_a,joinValues:()=>P,jsonStringifyReplacer:()=>ya,merge:()=>oD,mergeDefs:()=>Kn,normalizeParams:()=>q,nullish:()=>Gn,numKeys:()=>Xj,objectClone:()=>Hj,omit:()=>tD,optionalKeys:()=>ef,partial:()=>aD,pick:()=>eD,prefixIssues:()=>er,primitiveTypes:()=>Qm,promiseAllObject:()=>Kj,propertyKeyTypes:()=>Xi,randomString:()=>Wj,required:()=>iD,safeExtend:()=>nD,shallowClone:()=>Ym,slugify:()=>Wm,stringifyPrimitive:()=>U,uint8ArrayToBase64:()=>dI,uint8ArrayToBase64url:()=>uD,uint8ArrayToHex:()=>dD,unwrapMessage:()=>Ji});function qj(e){return e}s(qj,"assertEqual");function Fj(e){return e}s(Fj,"assertNotEqual");function Bj(e){}s(Bj,"assertIs");function Zj(e){throw new Error}s(Zj,"assertNever");function Vj(e){}s(Vj,"assert");function Ki(e){let t=Object.values(e).filter(o=>typeof o=="number");return Object.entries(e).filter(([o,r])=>t.indexOf(+o)===-1).map(([o,r])=>r)}s(Ki,"getEnumValues");function P(e,t="|"){return e.map(n=>U(n)).join(t)}s(P,"joinValues");function ya(e,t){return typeof t=="bigint"?t.toString():t}s(ya,"jsonStringifyReplacer");function va(e){return{get value(){{let n=e();return Object.defineProperty(this,"value",{value:n}),n}throw new Error("cached value already set")}}}s(va,"cached");function Gn(e){return e==null}s(Gn,"nullish");function Wi(e){let t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}s(Wi,"cleanRegex");function Km(e,t){let n=(e.toString().split(".")[1]||"").length,o=t.toString(),r=(o.split(".")[1]||"").length;if(r===0&&/\d?e-\d?/.test(o)){let l=o.match(/\d?e-(\d?)/);l?.[1]&&(r=Number.parseInt(l[1]))}let a=n>r?n:r,c=Number.parseInt(e.toFixed(a).replace(".","")),u=Number.parseInt(t.toFixed(a).replace(".",""));return c%u/10**a}s(Km,"floatSafeRemainder");var uI=Symbol("evaluating");function xe(e,t,n){let o;Object.defineProperty(e,t,{get(){if(o!==uI)return o===void 0&&(o=uI,o=n()),o},set(r){Object.defineProperty(e,t,{value:r})},configurable:!0})}s(xe,"defineLazy");function Hj(e){return Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e))}s(Hj,"objectClone");function Jn(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}s(Jn,"assignProp");function Kn(...e){let t={};for(let n of e){let o=Object.getOwnPropertyDescriptors(n);Object.assign(t,o)}return Object.defineProperties({},t)}s(Kn,"mergeDefs");function Gj(e){return Kn(e._zod.def)}s(Gj,"cloneDef");function Jj(e,t){return t?t.reduce((n,o)=>n?.[o],e):e}s(Jj,"getElementAtPath");function Kj(e){let t=Object.keys(e),n=t.map(o=>e[o]);return Promise.all(n).then(o=>{let r={};for(let a=0;a<t.length;a++)r[t[a]]=o[a];return r})}s(Kj,"promiseAllObject");function Wj(e=10){let t="abcdefghijklmnopqrstuvwxyz",n="";for(let o=0;o<e;o++)n+=t[Math.floor(Math.random()*t.length)];return n}s(Wj,"randomString");function Zu(e){return JSON.stringify(e)}s(Zu,"esc");function Wm(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}s(Wm,"slugify");var Vu="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Io(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}s(Io,"isObject");var Xm=va(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{let e=Function;return new e(""),!0}catch{return!1}});function Wn(e){if(Io(e)===!1)return!1;let t=e.constructor;if(t===void 0||typeof t!="function")return!0;let n=t.prototype;return!(Io(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}s(Wn,"isPlainObject");function Ym(e){return Wn(e)?{...e}:Array.isArray(e)?[...e]:e}s(Ym,"shallowClone");function Xj(e){let t=0;for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}s(Xj,"numKeys");var Yj=s(e=>{let t=typeof e;switch(t){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(e)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":return Array.isArray(e)?"array":e===null?"null":e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?"promise":typeof Map<"u"&&e instanceof Map?"map":typeof Set<"u"&&e instanceof Set?"set":typeof Date<"u"&&e instanceof Date?"date":typeof File<"u"&&e instanceof File?"file":"object";default:throw new Error(`Unknown data type: ${t}`)}},"getParsedType"),Xi=new Set(["string","number","symbol"]),Qm=new Set(["string","number","bigint","boolean","symbol","undefined"]);function lr(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}s(lr,"escapeRegex");function jt(e,t,n){let o=new e._zod.constr(t??e._zod.def);return(!t||n?.parent)&&(o._zod.parent=e),o}s(jt,"clone");function q(e){let t=e;if(!t)return{};if(typeof t=="string")return{error:s(()=>t,"error")};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:s(()=>t.error,"error")}:t}s(q,"normalizeParams");function Qj(e){let t;return new Proxy({},{get(n,o,r){return t??(t=e()),Reflect.get(t,o,r)},set(n,o,r,a){return t??(t=e()),Reflect.set(t,o,r,a)},has(n,o){return t??(t=e()),Reflect.has(t,o)},deleteProperty(n,o){return t??(t=e()),Reflect.deleteProperty(t,o)},ownKeys(n){return t??(t=e()),Reflect.ownKeys(t)},getOwnPropertyDescriptor(n,o){return t??(t=e()),Reflect.getOwnPropertyDescriptor(t,o)},defineProperty(n,o,r){return t??(t=e()),Reflect.defineProperty(t,o,r)}})}s(Qj,"createTransparentProxy");function U(e){return typeof e=="bigint"?e.toString()+"n":typeof e=="string"?`"${e}"`:`${e}`}s(U,"stringifyPrimitive");function ef(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}s(ef,"optionalKeys");var tf={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},rf={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function eD(e,t){let n=e._zod.def,o=Kn(e._zod.def,{get shape(){let r={};for(let a in t){if(!(a in n.shape))throw new Error(`Unrecognized key: "${a}"`);t[a]&&(r[a]=n.shape[a])}return Jn(this,"shape",r),r},checks:[]});return jt(e,o)}s(eD,"pick");function tD(e,t){let n=e._zod.def,o=Kn(e._zod.def,{get shape(){let r={...e._zod.def.shape};for(let a in t){if(!(a in n.shape))throw new Error(`Unrecognized key: "${a}"`);t[a]&&delete r[a]}return Jn(this,"shape",r),r},checks:[]});return jt(e,o)}s(tD,"omit");function rD(e,t){if(!Wn(t))throw new Error("Invalid input to extend: expected a plain object");let n=e._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");let r=Kn(e._zod.def,{get shape(){let a={...e._zod.def.shape,...t};return Jn(this,"shape",a),a},checks:[]});return jt(e,r)}s(rD,"extend");function nD(e,t){if(!Wn(t))throw new Error("Invalid input to safeExtend: expected a plain object");let n={...e._zod.def,get shape(){let o={...e._zod.def.shape,...t};return Jn(this,"shape",o),o},checks:e._zod.def.checks};return jt(e,n)}s(nD,"safeExtend");function oD(e,t){let n=Kn(e._zod.def,{get shape(){let o={...e._zod.def.shape,...t._zod.def.shape};return Jn(this,"shape",o),o},get catchall(){return t._zod.def.catchall},checks:[]});return jt(e,n)}s(oD,"merge");function aD(e,t,n){let o=Kn(t._zod.def,{get shape(){let r=t._zod.def.shape,a={...r};if(n)for(let c in n){if(!(c in r))throw new Error(`Unrecognized key: "${c}"`);n[c]&&(a[c]=e?new e({type:"optional",innerType:r[c]}):r[c])}else for(let c in r)a[c]=e?new e({type:"optional",innerType:r[c]}):r[c];return Jn(this,"shape",a),a},checks:[]});return jt(t,o)}s(aD,"partial");function iD(e,t,n){let o=Kn(t._zod.def,{get shape(){let r=t._zod.def.shape,a={...r};if(n)for(let c in n){if(!(c in a))throw new Error(`Unrecognized key: "${c}"`);n[c]&&(a[c]=new e({type:"nonoptional",innerType:r[c]}))}else for(let c in r)a[c]=new e({type:"nonoptional",innerType:r[c]});return Jn(this,"shape",a),a},checks:[]});return jt(t,o)}s(iD,"required");function Xn(e,t=0){if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(e.issues[n]?.continue!==!0)return!0;return!1}s(Xn,"aborted");function er(e,t){return t.map(n=>{var o;return(o=n).path??(o.path=[]),n.path.unshift(e),n})}s(er,"prefixIssues");function Ji(e){return typeof e=="string"?e:e?.message}s(Ji,"unwrapMessage");function tr(e,t,n){let o={...e,path:e.path??[]};if(!e.message){let r=Ji(e.inst?._zod.def?.error?.(e))??Ji(t?.error?.(e))??Ji(n.customError?.(e))??Ji(n.localeError?.(e))??"Invalid input";o.message=r}return delete o.inst,delete o.continue,t?.reportInput||delete o.input,o}s(tr,"finalizeIssue");function Yi(e){return e instanceof Set?"set":e instanceof Map?"map":e instanceof File?"file":"unknown"}s(Yi,"getSizableOrigin");function Qi(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}s(Qi,"getLengthableOrigin");function _a(...e){let[t,n,o]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:o}:{...t}}s(_a,"issue");function sD(e){return Object.entries(e).filter(([t,n])=>Number.isNaN(Number.parseInt(t,10))).map(t=>t[1])}s(sD,"cleanEnum");function lI(e){let t=atob(e),n=new Uint8Array(t.length);for(let o=0;o<t.length;o++)n[o]=t.charCodeAt(o);return n}s(lI,"base64ToUint8Array");function dI(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return btoa(t)}s(dI,"uint8ArrayToBase64");function cD(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),n="=".repeat((4-t.length%4)%4);return lI(t+n)}s(cD,"base64urlToUint8Array");function uD(e){return dI(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}s(uD,"uint8ArrayToBase64url");function lD(e){let t=e.replace(/^0x/,"");if(t.length%2!==0)throw new Error("Invalid hex string length");let n=new Uint8Array(t.length/2);for(let o=0;o<t.length;o+=2)n[o/2]=Number.parseInt(t.slice(o,o+2),16);return n}s(lD,"hexToUint8Array");function dD(e){return Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join("")}s(dD,"uint8ArrayToHex");var Jm=class{static{s(this,"Class")}constructor(...t){}};var pI=s((e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,ya,2),Object.defineProperty(e,"toString",{value:s(()=>e.message,"value"),enumerable:!1})},"initializer"),es=I("$ZodError",pI),Gt=I("$ZodError",pI,{Parent:Error});function ts(e,t=n=>n.message){let n={},o=[];for(let r of e.issues)r.path.length>0?(n[r.path[0]]=n[r.path[0]]||[],n[r.path[0]].push(t(r))):o.push(t(r));return{formErrors:o,fieldErrors:n}}s(ts,"flattenError");function rs(e,t=n=>n.message){let n={_errors:[]},o=s(r=>{for(let a of r.issues)if(a.code==="invalid_union"&&a.errors.length)a.errors.map(c=>o({issues:c}));else if(a.code==="invalid_key")o({issues:a.issues});else if(a.code==="invalid_element")o({issues:a.issues});else if(a.path.length===0)n._errors.push(t(a));else{let c=n,u=0;for(;u<a.path.length;){let l=a.path[u];u===a.path.length-1?(c[l]=c[l]||{_errors:[]},c[l]._errors.push(t(a))):c[l]=c[l]||{_errors:[]},c=c[l],u++}}},"processError");return o(e),n}s(rs,"formatError");function nf(e,t=n=>n.message){let n={errors:[]},o=s((r,a=[])=>{var c,u;for(let l of r.issues)if(l.code==="invalid_union"&&l.errors.length)l.errors.map(d=>o({issues:d},l.path));else if(l.code==="invalid_key")o({issues:l.issues},l.path);else if(l.code==="invalid_element")o({issues:l.issues},l.path);else{let d=[...a,...l.path];if(d.length===0){n.errors.push(t(l));continue}let p=n,m=0;for(;m<d.length;){let f=d[m],y=m===d.length-1;typeof f=="string"?(p.properties??(p.properties={}),(c=p.properties)[f]??(c[f]={errors:[]}),p=p.properties[f]):(p.items??(p.items=[]),(u=p.items)[f]??(u[f]={errors:[]}),p=p.items[f]),y&&p.errors.push(t(l)),m++}}},"processError");return o(e),n}s(nf,"treeifyError");function mI(e){let t=[],n=e.map(o=>typeof o=="object"?o.key:o);for(let o of n)typeof o=="number"?t.push(`[${o}]`):typeof o=="symbol"?t.push(`[${JSON.stringify(String(o))}]`):/[^\w$]/.test(o)?t.push(`[${JSON.stringify(o)}]`):(t.length&&t.push("."),t.push(o));return t.join("")}s(mI,"toDotPath");function of(e){let t=[],n=[...e.issues].sort((o,r)=>(o.path??[]).length-(r.path??[]).length);for(let o of n)t.push(`\u2716 ${o.message}`),o.path?.length&&t.push(`  \u2192 at ${mI(o.path)}`);return t.join(`
`)}s(of,"prettifyError");var ba=s(e=>(t,n,o,r)=>{let a=o?Object.assign(o,{async:!1}):{async:!1},c=t._zod.run({value:n,issues:[]},a);if(c instanceof Promise)throw new Ir;if(c.issues.length){let u=new(r?.Err??e)(c.issues.map(l=>tr(l,a,pt())));throw Vu(u,r?.callee),u}return c.value},"_parse"),Hu=ba(Gt),xa=s(e=>async(t,n,o,r)=>{let a=o?Object.assign(o,{async:!0}):{async:!0},c=t._zod.run({value:n,issues:[]},a);if(c instanceof Promise&&(c=await c),c.issues.length){let u=new(r?.Err??e)(c.issues.map(l=>tr(l,a,pt())));throw Vu(u,r?.callee),u}return c.value},"_parseAsync"),Gu=xa(Gt),wa=s(e=>(t,n,o)=>{let r=o?{...o,async:!1}:{async:!1},a=t._zod.run({value:n,issues:[]},r);if(a instanceof Promise)throw new Ir;return a.issues.length?{success:!1,error:new(e??es)(a.issues.map(c=>tr(c,r,pt())))}:{success:!0,data:a.value}},"_safeParse"),af=wa(Gt),Sa=s(e=>async(t,n,o)=>{let r=o?Object.assign(o,{async:!0}):{async:!0},a=t._zod.run({value:n,issues:[]},r);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new e(a.issues.map(c=>tr(c,r,pt())))}:{success:!0,data:a.value}},"_safeParseAsync"),sf=Sa(Gt),Ju=s(e=>(t,n,o)=>{let r=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return ba(e)(t,n,r)},"_encode"),mD=Ju(Gt),Ku=s(e=>(t,n,o)=>ba(e)(t,n,o),"_decode"),fD=Ku(Gt),Wu=s(e=>async(t,n,o)=>{let r=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return xa(e)(t,n,r)},"_encodeAsync"),hD=Wu(Gt),Xu=s(e=>async(t,n,o)=>xa(e)(t,n,o),"_decodeAsync"),gD=Xu(Gt),Yu=s(e=>(t,n,o)=>{let r=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return wa(e)(t,n,r)},"_safeEncode"),yD=Yu(Gt),Qu=s(e=>(t,n,o)=>wa(e)(t,n,o),"_safeDecode"),vD=Qu(Gt),el=s(e=>async(t,n,o)=>{let r=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return Sa(e)(t,n,r)},"_safeEncodeAsync"),_D=el(Gt),tl=s(e=>async(t,n,o)=>Sa(e)(t,n,o),"_safeDecodeAsync"),bD=tl(Gt);var dr={};cr(dr,{base64:()=>Sf,base64url:()=>rl,bigint:()=>Af,boolean:()=>Of,browserEmail:()=>PD,cidrv4:()=>xf,cidrv6:()=>wf,cuid:()=>cf,cuid2:()=>uf,date:()=>Tf,datetime:()=>kf,domain:()=>RD,duration:()=>ff,e164:()=>If,email:()=>gf,emoji:()=>yf,extendedDuration:()=>xD,guid:()=>hf,hex:()=>OD,hostname:()=>$D,html5Email:()=>TD,idnEmail:()=>kD,integer:()=>$f,ipv4:()=>vf,ipv6:()=>_f,ksuid:()=>pf,lowercase:()=>jf,mac:()=>bf,md5_base64:()=>ND,md5_base64url:()=>jD,md5_hex:()=>CD,nanoid:()=>mf,null:()=>Cf,number:()=>Rf,rfc5322Email:()=>ED,sha1_base64:()=>zD,sha1_base64url:()=>MD,sha1_hex:()=>DD,sha256_base64:()=>LD,sha256_base64url:()=>qD,sha256_hex:()=>UD,sha384_base64:()=>BD,sha384_base64url:()=>ZD,sha384_hex:()=>FD,sha512_base64:()=>HD,sha512_base64url:()=>GD,sha512_hex:()=>VD,string:()=>Pf,time:()=>Ef,ulid:()=>lf,undefined:()=>Nf,unicodeEmail:()=>fI,uppercase:()=>Df,uuid:()=>To,uuid4:()=>wD,uuid6:()=>SD,uuid7:()=>ID,xid:()=>df});var cf=/^[cC][^\s-]{8,}$/,uf=/^[0-9a-z]+$/,lf=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,df=/^[0-9a-vA-V]{20}$/,pf=/^[A-Za-z0-9]{27}$/,mf=/^[a-zA-Z0-9_-]{21}$/,ff=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,xD=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,hf=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,To=s(e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,"uuid"),wD=To(4),SD=To(6),ID=To(7),gf=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,TD=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ED=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,fI=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,kD=fI,PD=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,AD="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function yf(){return new RegExp(AD,"u")}s(yf,"emoji");var vf=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,_f=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,bf=s(e=>{let t=lr(e??":");return new RegExp(`^(?:[0-9A-F]{2}${t}){5}[0-9A-F]{2}$|^(?:[0-9a-f]{2}${t}){5}[0-9a-f]{2}$`)},"mac"),xf=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,wf=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Sf=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,rl=/^[A-Za-z0-9_-]*$/,$D=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,RD=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,If=/^\+(?:[0-9]){6,14}[0-9]$/,hI="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Tf=new RegExp(`^${hI}$`);function gI(e){let t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}s(gI,"timeSource");function Ef(e){return new RegExp(`^${gI(e)}$`)}s(Ef,"time");function kf(e){let t=gI({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");let o=`${t}(?:${n.join("|")})`;return new RegExp(`^${hI}T(?:${o})$`)}s(kf,"datetime");var Pf=s(e=>{let t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},"string"),Af=/^-?\d+n?$/,$f=/^-?\d+$/,Rf=/^-?\d+(?:\.\d+)?/,Of=/^(?:true|false)$/i,Cf=/^null$/i;var Nf=/^undefined$/i;var jf=/^[^A-Z]*$/,Df=/^[^a-z]*$/,OD=/^[0-9a-fA-F]*$/;function ns(e,t){return new RegExp(`^[A-Za-z0-9+/]{${e}}${t}$`)}s(ns,"fixedBase64");function os(e){return new RegExp(`^[A-Za-z0-9_-]{${e}}$`)}s(os,"fixedBase64url");var CD=/^[0-9a-fA-F]{32}$/,ND=ns(22,"=="),jD=os(22),DD=/^[0-9a-fA-F]{40}$/,zD=ns(27,"="),MD=os(27),UD=/^[0-9a-fA-F]{64}$/,LD=ns(43,"="),qD=os(43),FD=/^[0-9a-fA-F]{96}$/,BD=ns(64,""),ZD=os(64),VD=/^[0-9a-fA-F]{128}$/,HD=ns(86,"=="),GD=os(86);var qe=I("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),vI={number:"number",bigint:"bigint",object:"date"},nl=I("$ZodCheckLessThan",(e,t)=>{qe.init(e,t);let n=vI[typeof t.value];e._zod.onattach.push(o=>{let r=o._zod.bag,a=(t.inclusive?r.maximum:r.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<a&&(t.inclusive?r.maximum=t.value:r.exclusiveMaximum=t.value)}),e._zod.check=o=>{(t.inclusive?o.value<=t.value:o.value<t.value)||o.issues.push({origin:n,code:"too_big",maximum:t.value,input:o.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),ol=I("$ZodCheckGreaterThan",(e,t)=>{qe.init(e,t);let n=vI[typeof t.value];e._zod.onattach.push(o=>{let r=o._zod.bag,a=(t.inclusive?r.minimum:r.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>a&&(t.inclusive?r.minimum=t.value:r.exclusiveMinimum=t.value)}),e._zod.check=o=>{(t.inclusive?o.value>=t.value:o.value>t.value)||o.issues.push({origin:n,code:"too_small",minimum:t.value,input:o.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),zf=I("$ZodCheckMultipleOf",(e,t)=>{qe.init(e,t),e._zod.onattach.push(n=>{var o;(o=n._zod.bag).multipleOf??(o.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):Km(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),Mf=I("$ZodCheckNumberFormat",(e,t)=>{qe.init(e,t),t.format=t.format||"float64";let n=t.format?.includes("int"),o=n?"int":"number",[r,a]=tf[t.format];e._zod.onattach.push(c=>{let u=c._zod.bag;u.format=t.format,u.minimum=r,u.maximum=a,n&&(u.pattern=$f)}),e._zod.check=c=>{let u=c.value;if(n){if(!Number.isInteger(u)){c.issues.push({expected:o,format:t.format,code:"invalid_type",continue:!1,input:u,inst:e});return}if(!Number.isSafeInteger(u)){u>0?c.issues.push({input:u,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:o,continue:!t.abort}):c.issues.push({input:u,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:o,continue:!t.abort});return}}u<r&&c.issues.push({origin:"number",input:u,code:"too_small",minimum:r,inclusive:!0,inst:e,continue:!t.abort}),u>a&&c.issues.push({origin:"number",input:u,code:"too_big",maximum:a,inst:e})}}),Uf=I("$ZodCheckBigIntFormat",(e,t)=>{qe.init(e,t);let[n,o]=rf[t.format];e._zod.onattach.push(r=>{let a=r._zod.bag;a.format=t.format,a.minimum=n,a.maximum=o}),e._zod.check=r=>{let a=r.value;a<n&&r.issues.push({origin:"bigint",input:a,code:"too_small",minimum:n,inclusive:!0,inst:e,continue:!t.abort}),a>o&&r.issues.push({origin:"bigint",input:a,code:"too_big",maximum:o,inst:e})}}),Lf=I("$ZodCheckMaxSize",(e,t)=>{var n;qe.init(e,t),(n=e._zod.def).when??(n.when=o=>{let r=o.value;return!Gn(r)&&r.size!==void 0}),e._zod.onattach.push(o=>{let r=o._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<r&&(o._zod.bag.maximum=t.maximum)}),e._zod.check=o=>{let r=o.value;r.size<=t.maximum||o.issues.push({origin:Yi(r),code:"too_big",maximum:t.maximum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),qf=I("$ZodCheckMinSize",(e,t)=>{var n;qe.init(e,t),(n=e._zod.def).when??(n.when=o=>{let r=o.value;return!Gn(r)&&r.size!==void 0}),e._zod.onattach.push(o=>{let r=o._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>r&&(o._zod.bag.minimum=t.minimum)}),e._zod.check=o=>{let r=o.value;r.size>=t.minimum||o.issues.push({origin:Yi(r),code:"too_small",minimum:t.minimum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),Ff=I("$ZodCheckSizeEquals",(e,t)=>{var n;qe.init(e,t),(n=e._zod.def).when??(n.when=o=>{let r=o.value;return!Gn(r)&&r.size!==void 0}),e._zod.onattach.push(o=>{let r=o._zod.bag;r.minimum=t.size,r.maximum=t.size,r.size=t.size}),e._zod.check=o=>{let r=o.value,a=r.size;if(a===t.size)return;let c=a>t.size;o.issues.push({origin:Yi(r),...c?{code:"too_big",maximum:t.size}:{code:"too_small",minimum:t.size},inclusive:!0,exact:!0,input:o.value,inst:e,continue:!t.abort})}}),Bf=I("$ZodCheckMaxLength",(e,t)=>{var n;qe.init(e,t),(n=e._zod.def).when??(n.when=o=>{let r=o.value;return!Gn(r)&&r.length!==void 0}),e._zod.onattach.push(o=>{let r=o._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<r&&(o._zod.bag.maximum=t.maximum)}),e._zod.check=o=>{let r=o.value;if(r.length<=t.maximum)return;let c=Qi(r);o.issues.push({origin:c,code:"too_big",maximum:t.maximum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),Zf=I("$ZodCheckMinLength",(e,t)=>{var n;qe.init(e,t),(n=e._zod.def).when??(n.when=o=>{let r=o.value;return!Gn(r)&&r.length!==void 0}),e._zod.onattach.push(o=>{let r=o._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>r&&(o._zod.bag.minimum=t.minimum)}),e._zod.check=o=>{let r=o.value;if(r.length>=t.minimum)return;let c=Qi(r);o.issues.push({origin:c,code:"too_small",minimum:t.minimum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),Vf=I("$ZodCheckLengthEquals",(e,t)=>{var n;qe.init(e,t),(n=e._zod.def).when??(n.when=o=>{let r=o.value;return!Gn(r)&&r.length!==void 0}),e._zod.onattach.push(o=>{let r=o._zod.bag;r.minimum=t.length,r.maximum=t.length,r.length=t.length}),e._zod.check=o=>{let r=o.value,a=r.length;if(a===t.length)return;let c=Qi(r),u=a>t.length;o.issues.push({origin:c,...u?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:o.value,inst:e,continue:!t.abort})}}),Ia=I("$ZodCheckStringFormat",(e,t)=>{var n,o;qe.init(e,t),e._zod.onattach.push(r=>{let a=r._zod.bag;a.format=t.format,t.pattern&&(a.patterns??(a.patterns=new Set),a.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:t.format,input:r.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(o=e._zod).check??(o.check=()=>{})}),Hf=I("$ZodCheckRegex",(e,t)=>{Ia.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),Gf=I("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=jf),Ia.init(e,t)}),Jf=I("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=Df),Ia.init(e,t)}),Kf=I("$ZodCheckIncludes",(e,t)=>{qe.init(e,t);let n=lr(t.includes),o=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=o,e._zod.onattach.push(r=>{let a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(o)}),e._zod.check=r=>{r.value.includes(t.includes,t.position)||r.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:r.value,inst:e,continue:!t.abort})}}),Wf=I("$ZodCheckStartsWith",(e,t)=>{qe.init(e,t);let n=new RegExp(`^${lr(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(o=>{let r=o._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),e._zod.check=o=>{o.value.startsWith(t.prefix)||o.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:o.value,inst:e,continue:!t.abort})}}),Xf=I("$ZodCheckEndsWith",(e,t)=>{qe.init(e,t);let n=new RegExp(`.*${lr(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(o=>{let r=o._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),e._zod.check=o=>{o.value.endsWith(t.suffix)||o.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:o.value,inst:e,continue:!t.abort})}});function yI(e,t,n){e.issues.length&&t.issues.push(...er(n,e.issues))}s(yI,"handleCheckPropertyResult");var Yf=I("$ZodCheckProperty",(e,t)=>{qe.init(e,t),e._zod.check=n=>{let o=t.schema._zod.run({value:n.value[t.property],issues:[]},{});if(o instanceof Promise)return o.then(r=>yI(r,n,t.property));yI(o,n,t.property)}}),Qf=I("$ZodCheckMimeType",(e,t)=>{qe.init(e,t);let n=new Set(t.mime);e._zod.onattach.push(o=>{o._zod.bag.mime=t.mime}),e._zod.check=o=>{n.has(o.value.type)||o.issues.push({code:"invalid_value",values:t.mime,input:o.value.type,inst:e,continue:!t.abort})}}),eh=I("$ZodCheckOverwrite",(e,t)=>{qe.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});var as=class{static{s(this,"Doc")}constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}let o=t.split(`
`).filter(c=>c),r=Math.min(...o.map(c=>c.length-c.trimStart().length)),a=o.map(c=>c.slice(r)).map(c=>" ".repeat(this.indent*2)+c);for(let c of a)this.content.push(c)}compile(){let t=Function,n=this?.args,r=[...(this?.content??[""]).map(a=>`  ${a}`)];return new t(...n,r.join(`
`))}};var th={major:4,minor:1,patch:13};var me=I("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=th;let o=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&o.unshift(e);for(let r of o)for(let a of r._zod.onattach)a(e);if(o.length===0)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{let r=s((c,u,l)=>{let d=Xn(c),p;for(let m of u){if(m._zod.def.when){if(!m._zod.def.when(c))continue}else if(d)continue;let f=c.issues.length,y=m._zod.check(c);if(y instanceof Promise&&l?.async===!1)throw new Ir;if(p||y instanceof Promise)p=(p??Promise.resolve()).then(async()=>{await y,c.issues.length!==f&&(d||(d=Xn(c,f)))});else{if(c.issues.length===f)continue;d||(d=Xn(c,f))}}return p?p.then(()=>c):c},"runChecks"),a=s((c,u,l)=>{if(Xn(c))return c.aborted=!0,c;let d=r(u,o,l);if(d instanceof Promise){if(l.async===!1)throw new Ir;return d.then(p=>e._zod.parse(p,l))}return e._zod.parse(d,l)},"handleCanaryResult");e._zod.run=(c,u)=>{if(u.skipChecks)return e._zod.parse(c,u);if(u.direction==="backward"){let d=e._zod.parse({value:c.value,issues:[]},{...u,skipChecks:!0});return d instanceof Promise?d.then(p=>a(p,c,u)):a(d,c,u)}let l=e._zod.parse(c,u);if(l instanceof Promise){if(u.async===!1)throw new Ir;return l.then(d=>r(d,o,u))}return r(l,o,u)}}e["~standard"]={validate:s(r=>{try{let a=af(e,r);return a.success?{value:a.data}:{issues:a.error?.issues}}catch{return sf(e,r).then(c=>c.success?{value:c.data}:{issues:c.error?.issues})}},"validate"),vendor:"zod",version:1}}),Eo=I("$ZodString",(e,t)=>{me.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??Pf(e._zod.bag),e._zod.parse=(n,o)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),ze=I("$ZodStringFormat",(e,t)=>{Ia.init(e,t),Eo.init(e,t)}),nh=I("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=hf),ze.init(e,t)}),oh=I("$ZodUUID",(e,t)=>{if(t.version){let o={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(o===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=To(o))}else t.pattern??(t.pattern=To());ze.init(e,t)}),ah=I("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=gf),ze.init(e,t)}),ih=I("$ZodURL",(e,t)=>{ze.init(e,t),e._zod.check=n=>{try{let o=n.value.trim(),r=new URL(o);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(r.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(r.protocol.endsWith(":")?r.protocol.slice(0,-1):r.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=r.href:n.value=o;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),sh=I("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=yf()),ze.init(e,t)}),ch=I("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=mf),ze.init(e,t)}),uh=I("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=cf),ze.init(e,t)}),lh=I("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=uf),ze.init(e,t)}),dh=I("$ZodULID",(e,t)=>{t.pattern??(t.pattern=lf),ze.init(e,t)}),ph=I("$ZodXID",(e,t)=>{t.pattern??(t.pattern=df),ze.init(e,t)}),mh=I("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=pf),ze.init(e,t)}),fh=I("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=kf(t)),ze.init(e,t)}),hh=I("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=Tf),ze.init(e,t)}),gh=I("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=Ef(t)),ze.init(e,t)}),yh=I("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=ff),ze.init(e,t)}),vh=I("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=vf),ze.init(e,t),e._zod.bag.format="ipv4"}),_h=I("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=_f),ze.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),bh=I("$ZodMAC",(e,t)=>{t.pattern??(t.pattern=bf(t.delimiter)),ze.init(e,t),e._zod.bag.format="mac"}),xh=I("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=xf),ze.init(e,t)}),wh=I("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=wf),ze.init(e,t),e._zod.check=n=>{let o=n.value.split("/");try{if(o.length!==2)throw new Error;let[r,a]=o;if(!a)throw new Error;let c=Number(a);if(`${c}`!==a)throw new Error;if(c<0||c>128)throw new Error;new URL(`http://[${r}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function Sh(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}s(Sh,"isValidBase64");var Ih=I("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=Sf),ze.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{Sh(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function $I(e){if(!rl.test(e))return!1;let t=e.replace(/[-_]/g,o=>o==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return Sh(n)}s($I,"isValidBase64URL");var Th=I("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=rl),ze.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{$I(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),Eh=I("$ZodE164",(e,t)=>{t.pattern??(t.pattern=If),ze.init(e,t)});function RI(e,t=null){try{let n=e.split(".");if(n.length!==3)return!1;let[o]=n;if(!o)return!1;let r=JSON.parse(atob(o));return!("typ"in r&&r?.typ!=="JWT"||!r.alg||t&&(!("alg"in r)||r.alg!==t))}catch{return!1}}s(RI,"isValidJWT");var kh=I("$ZodJWT",(e,t)=>{ze.init(e,t),e._zod.check=n=>{RI(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),Ph=I("$ZodCustomStringFormat",(e,t)=>{ze.init(e,t),e._zod.check=n=>{t.fn(n.value)||n.issues.push({code:"invalid_format",format:t.format,input:n.value,inst:e,continue:!t.abort})}}),ll=I("$ZodNumber",(e,t)=>{me.init(e,t),e._zod.pattern=e._zod.bag.pattern??Rf,e._zod.parse=(n,o)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}let r=n.value;if(typeof r=="number"&&!Number.isNaN(r)&&Number.isFinite(r))return n;let a=typeof r=="number"?Number.isNaN(r)?"NaN":Number.isFinite(r)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:r,inst:e,...a?{received:a}:{}}),n}}),Ah=I("$ZodNumberFormat",(e,t)=>{Mf.init(e,t),ll.init(e,t)}),is=I("$ZodBoolean",(e,t)=>{me.init(e,t),e._zod.pattern=Of,e._zod.parse=(n,o)=>{if(t.coerce)try{n.value=!!n.value}catch{}let r=n.value;return typeof r=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:r,inst:e}),n}}),dl=I("$ZodBigInt",(e,t)=>{me.init(e,t),e._zod.pattern=Af,e._zod.parse=(n,o)=>{if(t.coerce)try{n.value=BigInt(n.value)}catch{}return typeof n.value=="bigint"||n.issues.push({expected:"bigint",code:"invalid_type",input:n.value,inst:e}),n}}),$h=I("$ZodBigIntFormat",(e,t)=>{Uf.init(e,t),dl.init(e,t)}),Rh=I("$ZodSymbol",(e,t)=>{me.init(e,t),e._zod.parse=(n,o)=>{let r=n.value;return typeof r=="symbol"||n.issues.push({expected:"symbol",code:"invalid_type",input:r,inst:e}),n}}),Oh=I("$ZodUndefined",(e,t)=>{me.init(e,t),e._zod.pattern=Nf,e._zod.values=new Set([void 0]),e._zod.optin="optional",e._zod.optout="optional",e._zod.parse=(n,o)=>{let r=n.value;return typeof r>"u"||n.issues.push({expected:"undefined",code:"invalid_type",input:r,inst:e}),n}}),Ch=I("$ZodNull",(e,t)=>{me.init(e,t),e._zod.pattern=Cf,e._zod.values=new Set([null]),e._zod.parse=(n,o)=>{let r=n.value;return r===null||n.issues.push({expected:"null",code:"invalid_type",input:r,inst:e}),n}}),Nh=I("$ZodAny",(e,t)=>{me.init(e,t),e._zod.parse=n=>n}),jh=I("$ZodUnknown",(e,t)=>{me.init(e,t),e._zod.parse=n=>n}),Dh=I("$ZodNever",(e,t)=>{me.init(e,t),e._zod.parse=(n,o)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)}),zh=I("$ZodVoid",(e,t)=>{me.init(e,t),e._zod.parse=(n,o)=>{let r=n.value;return typeof r>"u"||n.issues.push({expected:"void",code:"invalid_type",input:r,inst:e}),n}}),Mh=I("$ZodDate",(e,t)=>{me.init(e,t),e._zod.parse=(n,o)=>{if(t.coerce)try{n.value=new Date(n.value)}catch{}let r=n.value,a=r instanceof Date;return a&&!Number.isNaN(r.getTime())||n.issues.push({expected:"date",code:"invalid_type",input:r,...a?{received:"Invalid Date"}:{},inst:e}),n}});function bI(e,t,n){e.issues.length&&t.issues.push(...er(n,e.issues)),t.value[n]=e.value}s(bI,"handleArrayResult");var Uh=I("$ZodArray",(e,t)=>{me.init(e,t),e._zod.parse=(n,o)=>{let r=n.value;if(!Array.isArray(r))return n.issues.push({expected:"array",code:"invalid_type",input:r,inst:e}),n;n.value=Array(r.length);let a=[];for(let c=0;c<r.length;c++){let u=r[c],l=t.element._zod.run({value:u,issues:[]},o);l instanceof Promise?a.push(l.then(d=>bI(d,n,c))):bI(l,n,c)}return a.length?Promise.all(a).then(()=>n):n}});function ul(e,t,n,o){e.issues.length&&t.issues.push(...er(n,e.issues)),e.value===void 0?n in o&&(t.value[n]=void 0):t.value[n]=e.value}s(ul,"handlePropertyResult");function OI(e){let t=Object.keys(e.shape);for(let o of t)if(!e.shape?.[o]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${o}": expected a Zod schema`);let n=ef(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}s(OI,"normalizeDef");function CI(e,t,n,o,r,a){let c=[],u=r.keySet,l=r.catchall._zod,d=l.def.type;for(let p in t){if(u.has(p))continue;if(d==="never"){c.push(p);continue}let m=l.run({value:t[p],issues:[]},o);m instanceof Promise?e.push(m.then(f=>ul(f,n,p,t))):ul(m,n,p,t)}return c.length&&n.issues.push({code:"unrecognized_keys",keys:c,input:t,inst:a}),e.length?Promise.all(e).then(()=>n):n}s(CI,"handleCatchall");var NI=I("$ZodObject",(e,t)=>{if(me.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){let u=t.shape;Object.defineProperty(t,"shape",{get:s(()=>{let l={...u};return Object.defineProperty(t,"shape",{value:l}),l},"get")})}let o=va(()=>OI(t));xe(e._zod,"propValues",()=>{let u=t.shape,l={};for(let d in u){let p=u[d]._zod;if(p.values){l[d]??(l[d]=new Set);for(let m of p.values)l[d].add(m)}}return l});let r=Io,a=t.catchall,c;e._zod.parse=(u,l)=>{c??(c=o.value);let d=u.value;if(!r(d))return u.issues.push({expected:"object",code:"invalid_type",input:d,inst:e}),u;u.value={};let p=[],m=c.shape;for(let f of c.keys){let g=m[f]._zod.run({value:d[f],issues:[]},l);g instanceof Promise?p.push(g.then(v=>ul(v,u,f,d))):ul(g,u,f,d)}return a?CI(p,d,u,l,o.value,e):p.length?Promise.all(p).then(()=>u):u}}),Lh=I("$ZodObjectJIT",(e,t)=>{NI.init(e,t);let n=e._zod.parse,o=va(()=>OI(t)),r=s(f=>{let y=new as(["shape","payload","ctx"]),g=o.value,v=s(x=>{let E=Zu(x);return`shape[${E}]._zod.run({ value: input[${E}], issues: [] }, ctx)`},"parseStr");y.write("const input = payload.value;");let b=Object.create(null),w=0;for(let x of g.keys)b[x]=`key_${w++}`;y.write("const newResult = {};");for(let x of g.keys){let E=b[x],D=Zu(x);y.write(`const ${E} = ${v(x)};`),y.write(`
        if (${E}.issues.length) {
          payload.issues = payload.issues.concat(${E}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${D}, ...iss.path] : [${D}]
          })));
        }
        
        
        if (${E}.value === undefined) {
          if (${D} in input) {
            newResult[${D}] = undefined;
          }
        } else {
          newResult[${D}] = ${E}.value;
        }
        
      `)}y.write("payload.value = newResult;"),y.write("return payload;");let _=y.compile();return(x,E)=>_(f,x,E)},"generateFastpass"),a,c=Io,u=!Gi.jitless,d=u&&Xm.value,p=t.catchall,m;e._zod.parse=(f,y)=>{m??(m=o.value);let g=f.value;return c(g)?u&&d&&y?.async===!1&&y.jitless!==!0?(a||(a=r(t.shape)),f=a(f,y),p?CI([],g,f,y,m,e):f):n(f,y):(f.issues.push({expected:"object",code:"invalid_type",input:g,inst:e}),f)}});function xI(e,t,n,o){for(let a of e)if(a.issues.length===0)return t.value=a.value,t;let r=e.filter(a=>!Xn(a));return r.length===1?(t.value=r[0].value,r[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(a=>a.issues.map(c=>tr(c,o,pt())))}),t)}s(xI,"handleUnionResults");var pl=I("$ZodUnion",(e,t)=>{me.init(e,t),xe(e._zod,"optin",()=>t.options.some(r=>r._zod.optin==="optional")?"optional":void 0),xe(e._zod,"optout",()=>t.options.some(r=>r._zod.optout==="optional")?"optional":void 0),xe(e._zod,"values",()=>{if(t.options.every(r=>r._zod.values))return new Set(t.options.flatMap(r=>Array.from(r._zod.values)))}),xe(e._zod,"pattern",()=>{if(t.options.every(r=>r._zod.pattern)){let r=t.options.map(a=>a._zod.pattern);return new RegExp(`^(${r.map(a=>Wi(a.source)).join("|")})$`)}});let n=t.options.length===1,o=t.options[0]._zod.run;e._zod.parse=(r,a)=>{if(n)return o(r,a);let c=!1,u=[];for(let l of t.options){let d=l._zod.run({value:r.value,issues:[]},a);if(d instanceof Promise)u.push(d),c=!0;else{if(d.issues.length===0)return d;u.push(d)}}return c?Promise.all(u).then(l=>xI(l,r,e,a)):xI(u,r,e,a)}}),qh=I("$ZodDiscriminatedUnion",(e,t)=>{pl.init(e,t);let n=e._zod.parse;xe(e._zod,"propValues",()=>{let r={};for(let a of t.options){let c=a._zod.propValues;if(!c||Object.keys(c).length===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(a)}"`);for(let[u,l]of Object.entries(c)){r[u]||(r[u]=new Set);for(let d of l)r[u].add(d)}}return r});let o=va(()=>{let r=t.options,a=new Map;for(let c of r){let u=c._zod.propValues?.[t.discriminator];if(!u||u.size===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(c)}"`);for(let l of u){if(a.has(l))throw new Error(`Duplicate discriminator value "${String(l)}"`);a.set(l,c)}}return a});e._zod.parse=(r,a)=>{let c=r.value;if(!Io(c))return r.issues.push({code:"invalid_type",expected:"object",input:c,inst:e}),r;let u=o.value.get(c?.[t.discriminator]);return u?u._zod.run(r,a):t.unionFallback?n(r,a):(r.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:t.discriminator,input:c,path:[t.discriminator],inst:e}),r)}}),Fh=I("$ZodIntersection",(e,t)=>{me.init(e,t),e._zod.parse=(n,o)=>{let r=n.value,a=t.left._zod.run({value:r,issues:[]},o),c=t.right._zod.run({value:r,issues:[]},o);return a instanceof Promise||c instanceof Promise?Promise.all([a,c]).then(([l,d])=>wI(n,l,d)):wI(n,a,c)}});function rh(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Wn(e)&&Wn(t)){let n=Object.keys(t),o=Object.keys(e).filter(a=>n.indexOf(a)!==-1),r={...e,...t};for(let a of o){let c=rh(e[a],t[a]);if(!c.valid)return{valid:!1,mergeErrorPath:[a,...c.mergeErrorPath]};r[a]=c.data}return{valid:!0,data:r}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};let n=[];for(let o=0;o<e.length;o++){let r=e[o],a=t[o],c=rh(r,a);if(!c.valid)return{valid:!1,mergeErrorPath:[o,...c.mergeErrorPath]};n.push(c.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}s(rh,"mergeValues");function wI(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),Xn(e))return e;let o=rh(t.value,n.value);if(!o.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(o.mergeErrorPath)}`);return e.value=o.data,e}s(wI,"handleIntersectionResults");var ml=I("$ZodTuple",(e,t)=>{me.init(e,t);let n=t.items;e._zod.parse=(o,r)=>{let a=o.value;if(!Array.isArray(a))return o.issues.push({input:a,inst:e,expected:"tuple",code:"invalid_type"}),o;o.value=[];let c=[],u=[...n].reverse().findIndex(p=>p._zod.optin!=="optional"),l=u===-1?0:n.length-u;if(!t.rest){let p=a.length>n.length,m=a.length<l-1;if(p||m)return o.issues.push({...p?{code:"too_big",maximum:n.length}:{code:"too_small",minimum:n.length},input:a,inst:e,origin:"array"}),o}let d=-1;for(let p of n){if(d++,d>=a.length&&d>=l)continue;let m=p._zod.run({value:a[d],issues:[]},r);m instanceof Promise?c.push(m.then(f=>al(f,o,d))):al(m,o,d)}if(t.rest){let p=a.slice(n.length);for(let m of p){d++;let f=t.rest._zod.run({value:m,issues:[]},r);f instanceof Promise?c.push(f.then(y=>al(y,o,d))):al(f,o,d)}}return c.length?Promise.all(c).then(()=>o):o}});function al(e,t,n){e.issues.length&&t.issues.push(...er(n,e.issues)),t.value[n]=e.value}s(al,"handleTupleResult");var Bh=I("$ZodRecord",(e,t)=>{me.init(e,t),e._zod.parse=(n,o)=>{let r=n.value;if(!Wn(r))return n.issues.push({expected:"record",code:"invalid_type",input:r,inst:e}),n;let a=[],c=t.keyType._zod.values;if(c){n.value={};let u=new Set;for(let d of c)if(typeof d=="string"||typeof d=="number"||typeof d=="symbol"){u.add(typeof d=="number"?d.toString():d);let p=t.valueType._zod.run({value:r[d],issues:[]},o);p instanceof Promise?a.push(p.then(m=>{m.issues.length&&n.issues.push(...er(d,m.issues)),n.value[d]=m.value})):(p.issues.length&&n.issues.push(...er(d,p.issues)),n.value[d]=p.value)}let l;for(let d in r)u.has(d)||(l=l??[],l.push(d));l&&l.length>0&&n.issues.push({code:"unrecognized_keys",input:r,inst:e,keys:l})}else{n.value={};for(let u of Reflect.ownKeys(r)){if(u==="__proto__")continue;let l=t.keyType._zod.run({value:u,issues:[]},o);if(l instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(l.issues.length){n.issues.push({code:"invalid_key",origin:"record",issues:l.issues.map(p=>tr(p,o,pt())),input:u,path:[u],inst:e}),n.value[l.value]=l.value;continue}let d=t.valueType._zod.run({value:r[u],issues:[]},o);d instanceof Promise?a.push(d.then(p=>{p.issues.length&&n.issues.push(...er(u,p.issues)),n.value[l.value]=p.value})):(d.issues.length&&n.issues.push(...er(u,d.issues)),n.value[l.value]=d.value)}}return a.length?Promise.all(a).then(()=>n):n}}),Zh=I("$ZodMap",(e,t)=>{me.init(e,t),e._zod.parse=(n,o)=>{let r=n.value;if(!(r instanceof Map))return n.issues.push({expected:"map",code:"invalid_type",input:r,inst:e}),n;let a=[];n.value=new Map;for(let[c,u]of r){let l=t.keyType._zod.run({value:c,issues:[]},o),d=t.valueType._zod.run({value:u,issues:[]},o);l instanceof Promise||d instanceof Promise?a.push(Promise.all([l,d]).then(([p,m])=>{SI(p,m,n,c,r,e,o)})):SI(l,d,n,c,r,e,o)}return a.length?Promise.all(a).then(()=>n):n}});function SI(e,t,n,o,r,a,c){e.issues.length&&(Xi.has(typeof o)?n.issues.push(...er(o,e.issues)):n.issues.push({code:"invalid_key",origin:"map",input:r,inst:a,issues:e.issues.map(u=>tr(u,c,pt()))})),t.issues.length&&(Xi.has(typeof o)?n.issues.push(...er(o,t.issues)):n.issues.push({origin:"map",code:"invalid_element",input:r,inst:a,key:o,issues:t.issues.map(u=>tr(u,c,pt()))})),n.value.set(e.value,t.value)}s(SI,"handleMapResult");var Vh=I("$ZodSet",(e,t)=>{me.init(e,t),e._zod.parse=(n,o)=>{let r=n.value;if(!(r instanceof Set))return n.issues.push({input:r,inst:e,expected:"set",code:"invalid_type"}),n;let a=[];n.value=new Set;for(let c of r){let u=t.valueType._zod.run({value:c,issues:[]},o);u instanceof Promise?a.push(u.then(l=>II(l,n))):II(u,n)}return a.length?Promise.all(a).then(()=>n):n}});function II(e,t){e.issues.length&&t.issues.push(...e.issues),t.value.add(e.value)}s(II,"handleSetResult");var Hh=I("$ZodEnum",(e,t)=>{me.init(e,t);let n=Ki(t.entries),o=new Set(n);e._zod.values=o,e._zod.pattern=new RegExp(`^(${n.filter(r=>Xi.has(typeof r)).map(r=>typeof r=="string"?lr(r):r.toString()).join("|")})$`),e._zod.parse=(r,a)=>{let c=r.value;return o.has(c)||r.issues.push({code:"invalid_value",values:n,input:c,inst:e}),r}}),Gh=I("$ZodLiteral",(e,t)=>{if(me.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");let n=new Set(t.values);e._zod.values=n,e._zod.pattern=new RegExp(`^(${t.values.map(o=>typeof o=="string"?lr(o):o?lr(o.toString()):String(o)).join("|")})$`),e._zod.parse=(o,r)=>{let a=o.value;return n.has(a)||o.issues.push({code:"invalid_value",values:t.values,input:a,inst:e}),o}}),Jh=I("$ZodFile",(e,t)=>{me.init(e,t),e._zod.parse=(n,o)=>{let r=n.value;return r instanceof File||n.issues.push({expected:"file",code:"invalid_type",input:r,inst:e}),n}}),Kh=I("$ZodTransform",(e,t)=>{me.init(e,t),e._zod.parse=(n,o)=>{if(o.direction==="backward")throw new Hn(e.constructor.name);let r=t.transform(n.value,n);if(o.async)return(r instanceof Promise?r:Promise.resolve(r)).then(c=>(n.value=c,n));if(r instanceof Promise)throw new Ir;return n.value=r,n}});function TI(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}s(TI,"handleOptionalResult");var Wh=I("$ZodOptional",(e,t)=>{me.init(e,t),e._zod.optin="optional",e._zod.optout="optional",xe(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),xe(e._zod,"pattern",()=>{let n=t.innerType._zod.pattern;return n?new RegExp(`^(${Wi(n.source)})?$`):void 0}),e._zod.parse=(n,o)=>{if(t.innerType._zod.optin==="optional"){let r=t.innerType._zod.run(n,o);return r instanceof Promise?r.then(a=>TI(a,n.value)):TI(r,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,o)}}),Xh=I("$ZodNullable",(e,t)=>{me.init(e,t),xe(e._zod,"optin",()=>t.innerType._zod.optin),xe(e._zod,"optout",()=>t.innerType._zod.optout),xe(e._zod,"pattern",()=>{let n=t.innerType._zod.pattern;return n?new RegExp(`^(${Wi(n.source)}|null)$`):void 0}),xe(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,o)=>n.value===null?n:t.innerType._zod.run(n,o)}),Yh=I("$ZodDefault",(e,t)=>{me.init(e,t),e._zod.optin="optional",xe(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,o)=>{if(o.direction==="backward")return t.innerType._zod.run(n,o);if(n.value===void 0)return n.value=t.defaultValue,n;let r=t.innerType._zod.run(n,o);return r instanceof Promise?r.then(a=>EI(a,t)):EI(r,t)}});function EI(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}s(EI,"handleDefaultResult");var Qh=I("$ZodPrefault",(e,t)=>{me.init(e,t),e._zod.optin="optional",xe(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,o)=>(o.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,o))}),eg=I("$ZodNonOptional",(e,t)=>{me.init(e,t),xe(e._zod,"values",()=>{let n=t.innerType._zod.values;return n?new Set([...n].filter(o=>o!==void 0)):void 0}),e._zod.parse=(n,o)=>{let r=t.innerType._zod.run(n,o);return r instanceof Promise?r.then(a=>kI(a,e)):kI(r,e)}});function kI(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}s(kI,"handleNonOptionalResult");var tg=I("$ZodSuccess",(e,t)=>{me.init(e,t),e._zod.parse=(n,o)=>{if(o.direction==="backward")throw new Hn("ZodSuccess");let r=t.innerType._zod.run(n,o);return r instanceof Promise?r.then(a=>(n.value=a.issues.length===0,n)):(n.value=r.issues.length===0,n)}}),rg=I("$ZodCatch",(e,t)=>{me.init(e,t),xe(e._zod,"optin",()=>t.innerType._zod.optin),xe(e._zod,"optout",()=>t.innerType._zod.optout),xe(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,o)=>{if(o.direction==="backward")return t.innerType._zod.run(n,o);let r=t.innerType._zod.run(n,o);return r instanceof Promise?r.then(a=>(n.value=a.value,a.issues.length&&(n.value=t.catchValue({...n,error:{issues:a.issues.map(c=>tr(c,o,pt()))},input:n.value}),n.issues=[]),n)):(n.value=r.value,r.issues.length&&(n.value=t.catchValue({...n,error:{issues:r.issues.map(a=>tr(a,o,pt()))},input:n.value}),n.issues=[]),n)}}),ng=I("$ZodNaN",(e,t)=>{me.init(e,t),e._zod.parse=(n,o)=>((typeof n.value!="number"||!Number.isNaN(n.value))&&n.issues.push({input:n.value,inst:e,expected:"nan",code:"invalid_type"}),n)}),og=I("$ZodPipe",(e,t)=>{me.init(e,t),xe(e._zod,"values",()=>t.in._zod.values),xe(e._zod,"optin",()=>t.in._zod.optin),xe(e._zod,"optout",()=>t.out._zod.optout),xe(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,o)=>{if(o.direction==="backward"){let a=t.out._zod.run(n,o);return a instanceof Promise?a.then(c=>il(c,t.in,o)):il(a,t.in,o)}let r=t.in._zod.run(n,o);return r instanceof Promise?r.then(a=>il(a,t.out,o)):il(r,t.out,o)}});function il(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}s(il,"handlePipeResult");var ss=I("$ZodCodec",(e,t)=>{me.init(e,t),xe(e._zod,"values",()=>t.in._zod.values),xe(e._zod,"optin",()=>t.in._zod.optin),xe(e._zod,"optout",()=>t.out._zod.optout),xe(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,o)=>{if((o.direction||"forward")==="forward"){let a=t.in._zod.run(n,o);return a instanceof Promise?a.then(c=>sl(c,t,o)):sl(a,t,o)}else{let a=t.out._zod.run(n,o);return a instanceof Promise?a.then(c=>sl(c,t,o)):sl(a,t,o)}}});function sl(e,t,n){if(e.issues.length)return e.aborted=!0,e;if((n.direction||"forward")==="forward"){let r=t.transform(e.value,e);return r instanceof Promise?r.then(a=>cl(e,a,t.out,n)):cl(e,r,t.out,n)}else{let r=t.reverseTransform(e.value,e);return r instanceof Promise?r.then(a=>cl(e,a,t.in,n)):cl(e,r,t.in,n)}}s(sl,"handleCodecAResult");function cl(e,t,n,o){return e.issues.length?(e.aborted=!0,e):n._zod.run({value:t,issues:e.issues},o)}s(cl,"handleCodecTxResult");var ag=I("$ZodReadonly",(e,t)=>{me.init(e,t),xe(e._zod,"propValues",()=>t.innerType._zod.propValues),xe(e._zod,"values",()=>t.innerType._zod.values),xe(e._zod,"optin",()=>t.innerType?._zod?.optin),xe(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(n,o)=>{if(o.direction==="backward")return t.innerType._zod.run(n,o);let r=t.innerType._zod.run(n,o);return r instanceof Promise?r.then(PI):PI(r)}});function PI(e){return e.value=Object.freeze(e.value),e}s(PI,"handleReadonlyResult");var ig=I("$ZodTemplateLiteral",(e,t)=>{me.init(e,t);let n=[];for(let o of t.parts)if(typeof o=="object"&&o!==null){if(!o._zod.pattern)throw new Error(`Invalid template literal part, no pattern found: ${[...o._zod.traits].shift()}`);let r=o._zod.pattern instanceof RegExp?o._zod.pattern.source:o._zod.pattern;if(!r)throw new Error(`Invalid template literal part: ${o._zod.traits}`);let a=r.startsWith("^")?1:0,c=r.endsWith("$")?r.length-1:r.length;n.push(r.slice(a,c))}else if(o===null||Qm.has(typeof o))n.push(lr(`${o}`));else throw new Error(`Invalid template literal part: ${o}`);e._zod.pattern=new RegExp(`^${n.join("")}$`),e._zod.parse=(o,r)=>typeof o.value!="string"?(o.issues.push({input:o.value,inst:e,expected:"template_literal",code:"invalid_type"}),o):(e._zod.pattern.lastIndex=0,e._zod.pattern.test(o.value)||o.issues.push({input:o.value,inst:e,code:"invalid_format",format:t.format??"template_literal",pattern:e._zod.pattern.source}),o)}),sg=I("$ZodFunction",(e,t)=>(me.init(e,t),e._def=t,e._zod.def=t,e.implement=n=>{if(typeof n!="function")throw new Error("implement() must be called with a function");return function(...o){let r=e._def.input?Hu(e._def.input,o):o,a=Reflect.apply(n,this,r);return e._def.output?Hu(e._def.output,a):a}},e.implementAsync=n=>{if(typeof n!="function")throw new Error("implementAsync() must be called with a function");return async function(...o){let r=e._def.input?await Gu(e._def.input,o):o,a=await Reflect.apply(n,this,r);return e._def.output?await Gu(e._def.output,a):a}},e._zod.parse=(n,o)=>typeof n.value!="function"?(n.issues.push({code:"invalid_type",expected:"function",input:n.value,inst:e}),n):(e._def.output&&e._def.output._zod.def.type==="promise"?n.value=e.implementAsync(n.value):n.value=e.implement(n.value),n),e.input=(...n)=>{let o=e.constructor;return Array.isArray(n[0])?new o({type:"function",input:new ml({type:"tuple",items:n[0],rest:n[1]}),output:e._def.output}):new o({type:"function",input:n[0],output:e._def.output})},e.output=n=>{let o=e.constructor;return new o({type:"function",input:e._def.input,output:n})},e)),cg=I("$ZodPromise",(e,t)=>{me.init(e,t),e._zod.parse=(n,o)=>Promise.resolve(n.value).then(r=>t.innerType._zod.run({value:r,issues:[]},o))}),ug=I("$ZodLazy",(e,t)=>{me.init(e,t),xe(e._zod,"innerType",()=>t.getter()),xe(e._zod,"pattern",()=>e._zod.innerType?._zod?.pattern),xe(e._zod,"propValues",()=>e._zod.innerType?._zod?.propValues),xe(e._zod,"optin",()=>e._zod.innerType?._zod?.optin??void 0),xe(e._zod,"optout",()=>e._zod.innerType?._zod?.optout??void 0),e._zod.parse=(n,o)=>e._zod.innerType._zod.run(n,o)}),lg=I("$ZodCustom",(e,t)=>{qe.init(e,t),me.init(e,t),e._zod.parse=(n,o)=>n,e._zod.check=n=>{let o=n.value,r=t.fn(o);if(r instanceof Promise)return r.then(a=>AI(a,n,o,e));AI(r,n,o,e)}});function AI(e,t,n,o){if(!e){let r={code:"custom",input:n,inst:o,path:[...o._zod.def.path??[]],continue:!o._zod.def.abort};o._zod.def.params&&(r.params=o._zod.def.params),t.issues.push(_a(r))}}s(AI,"handleRefineResult");var ms={};cr(ms,{ar:()=>dg,az:()=>pg,be:()=>mg,bg:()=>fg,ca:()=>hg,cs:()=>gg,da:()=>yg,de:()=>vg,en:()=>cs,eo:()=>_g,es:()=>bg,fa:()=>xg,fi:()=>wg,fr:()=>Sg,frCA:()=>Ig,he:()=>Tg,hu:()=>Eg,id:()=>kg,is:()=>Pg,it:()=>Ag,ja:()=>$g,ka:()=>Rg,kh:()=>Og,km:()=>us,ko:()=>Cg,lt:()=>Ng,mk:()=>jg,ms:()=>Dg,nl:()=>zg,no:()=>Mg,ota:()=>Ug,pl:()=>qg,ps:()=>Lg,pt:()=>Fg,ru:()=>Bg,sl:()=>Zg,sv:()=>Vg,ta:()=>Hg,th:()=>Gg,tr:()=>Jg,ua:()=>Kg,uk:()=>ps,ur:()=>Wg,vi:()=>Xg,yo:()=>ey,zhCN:()=>Yg,zhTW:()=>Qg});var KD=s(()=>{let e={string:{unit:"\u062D\u0631\u0641",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},file:{unit:"\u0628\u0627\u064A\u062A",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},array:{unit:"\u0639\u0646\u0635\u0631",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},set:{unit:"\u0639\u0646\u0635\u0631",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"}};function t(r){return e[r]??null}s(t,"getSizing");let n=s(r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"number";case"object":{if(Array.isArray(r))return"array";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},"parsedType"),o={regex:"\u0645\u062F\u062E\u0644",email:"\u0628\u0631\u064A\u062F \u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A",url:"\u0631\u0627\u0628\u0637",emoji:"\u0625\u064A\u0645\u0648\u062C\u064A",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u062A\u0627\u0631\u064A\u062E \u0648\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO",date:"\u062A\u0627\u0631\u064A\u062E \u0628\u0645\u0639\u064A\u0627\u0631 ISO",time:"\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO",duration:"\u0645\u062F\u0629 \u0628\u0645\u0639\u064A\u0627\u0631 ISO",ipv4:"\u0639\u0646\u0648\u0627\u0646 IPv4",ipv6:"\u0639\u0646\u0648\u0627\u0646 IPv6",cidrv4:"\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv4",cidrv6:"\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv6",base64:"\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64-encoded",base64url:"\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64url-encoded",json_string:"\u0646\u064E\u0635 \u0639\u0644\u0649 \u0647\u064A\u0626\u0629 JSON",e164:"\u0631\u0642\u0645 \u0647\u0627\u062A\u0641 \u0628\u0645\u0639\u064A\u0627\u0631 E.164",jwt:"JWT",template_literal:"\u0645\u062F\u062E\u0644"};return r=>{switch(r.code){case"invalid_type":return`\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${r.expected}\u060C \u0648\u0644\u0643\u0646 \u062A\u0645 \u0625\u062F\u062E\u0627\u0644 ${n(r.input)}`;case"invalid_value":return r.values.length===1?`\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${U(r.values[0])}`:`\u0627\u062E\u062A\u064A\u0627\u0631 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062A\u0648\u0642\u0639 \u0627\u0646\u062A\u0642\u0627\u0621 \u0623\u062D\u062F \u0647\u0630\u0647 \u0627\u0644\u062E\u064A\u0627\u0631\u0627\u062A: ${P(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",c=t(r.origin);return c?` \u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${r.origin??"\u0627\u0644\u0642\u064A\u0645\u0629"} ${a} ${r.maximum.toString()} ${c.unit??"\u0639\u0646\u0635\u0631"}`:`\u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${r.origin??"\u0627\u0644\u0642\u064A\u0645\u0629"} ${a} ${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?">=":">",c=t(r.origin);return c?`\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${r.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${a} ${r.minimum.toString()} ${c.unit}`:`\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${r.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${a} ${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0628\u062F\u0623 \u0628\u0640 "${r.prefix}"`:a.format==="ends_with"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0646\u062A\u0647\u064A \u0628\u0640 "${a.suffix}"`:a.format==="includes"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u062A\u0636\u0645\u0651\u064E\u0646 "${a.includes}"`:a.format==="regex"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0637\u0627\u0628\u0642 \u0627\u0644\u0646\u0645\u0637 ${a.pattern}`:`${o[a.format]??r.format} \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644`}case"not_multiple_of":return`\u0631\u0642\u0645 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0645\u0646 \u0645\u0636\u0627\u0639\u0641\u0627\u062A ${r.divisor}`;case"unrecognized_keys":return`\u0645\u0639\u0631\u0641${r.keys.length>1?"\u0627\u062A":""} \u063A\u0631\u064A\u0628${r.keys.length>1?"\u0629":""}: ${P(r.keys,"\u060C ")}`;case"invalid_key":return`\u0645\u0639\u0631\u0641 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${r.origin}`;case"invalid_union":return"\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644";case"invalid_element":return`\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${r.origin}`;default:return"\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644"}}},"error");function dg(){return{localeError:KD()}}s(dg,"default");var WD=s(()=>{let e={string:{unit:"simvol",verb:"olmal\u0131d\u0131r"},file:{unit:"bayt",verb:"olmal\u0131d\u0131r"},array:{unit:"element",verb:"olmal\u0131d\u0131r"},set:{unit:"element",verb:"olmal\u0131d\u0131r"}};function t(r){return e[r]??null}s(t,"getSizing");let n=s(r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"number";case"object":{if(Array.isArray(r))return"array";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},"parsedType"),o={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return r=>{switch(r.code){case"invalid_type":return`Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n ${r.expected}, daxil olan ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n ${U(r.values[0])}`:`Yanl\u0131\u015F se\xE7im: a\u015Fa\u011F\u0131dak\u0131lardan biri olmal\u0131d\u0131r: ${P(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",c=t(r.origin);return c?`\xC7ox b\xF6y\xFCk: g\xF6zl\u0259nil\u0259n ${r.origin??"d\u0259y\u0259r"} ${a}${r.maximum.toString()} ${c.unit??"element"}`:`\xC7ox b\xF6y\xFCk: g\xF6zl\u0259nil\u0259n ${r.origin??"d\u0259y\u0259r"} ${a}${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?">=":">",c=t(r.origin);return c?`\xC7ox ki\xE7ik: g\xF6zl\u0259nil\u0259n ${r.origin} ${a}${r.minimum.toString()} ${c.unit}`:`\xC7ox ki\xE7ik: g\xF6zl\u0259nil\u0259n ${r.origin} ${a}${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`Yanl\u0131\u015F m\u0259tn: "${a.prefix}" il\u0259 ba\u015Flamal\u0131d\u0131r`:a.format==="ends_with"?`Yanl\u0131\u015F m\u0259tn: "${a.suffix}" il\u0259 bitm\u0259lidir`:a.format==="includes"?`Yanl\u0131\u015F m\u0259tn: "${a.includes}" daxil olmal\u0131d\u0131r`:a.format==="regex"?`Yanl\u0131\u015F m\u0259tn: ${a.pattern} \u015Fablonuna uy\u011Fun olmal\u0131d\u0131r`:`Yanl\u0131\u015F ${o[a.format]??r.format}`}case"not_multiple_of":return`Yanl\u0131\u015F \u0259d\u0259d: ${r.divisor} il\u0259 b\xF6l\xFCn\u0259 bil\u0259n olmal\u0131d\u0131r`;case"unrecognized_keys":return`Tan\u0131nmayan a\xE7ar${r.keys.length>1?"lar":""}: ${P(r.keys,", ")}`;case"invalid_key":return`${r.origin} daxilind\u0259 yanl\u0131\u015F a\xE7ar`;case"invalid_union":return"Yanl\u0131\u015F d\u0259y\u0259r";case"invalid_element":return`${r.origin} daxilind\u0259 yanl\u0131\u015F d\u0259y\u0259r`;default:return"Yanl\u0131\u015F d\u0259y\u0259r"}}},"error");function pg(){return{localeError:WD()}}s(pg,"default");function jI(e,t,n,o){let r=Math.abs(e),a=r%10,c=r%100;return c>=11&&c<=19?o:a===1?t:a>=2&&a<=4?n:o}s(jI,"getBelarusianPlural");var XD=s(()=>{let e={string:{unit:{one:"\u0441\u0456\u043C\u0432\u0430\u043B",few:"\u0441\u0456\u043C\u0432\u0430\u043B\u044B",many:"\u0441\u0456\u043C\u0432\u0430\u043B\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},array:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},set:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},file:{unit:{one:"\u0431\u0430\u0439\u0442",few:"\u0431\u0430\u0439\u0442\u044B",many:"\u0431\u0430\u0439\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"}};function t(r){return e[r]??null}s(t,"getSizing");let n=s(r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"\u043B\u0456\u043A";case"object":{if(Array.isArray(r))return"\u043C\u0430\u0441\u0456\u045E";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},"parsedType"),o={regex:"\u0443\u0432\u043E\u0434",email:"email \u0430\u0434\u0440\u0430\u0441",url:"URL",emoji:"\u044D\u043C\u043E\u0434\u0437\u0456",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0430 \u0456 \u0447\u0430\u0441",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0447\u0430\u0441",duration:"ISO \u043F\u0440\u0430\u0446\u044F\u0433\u043B\u0430\u0441\u0446\u044C",ipv4:"IPv4 \u0430\u0434\u0440\u0430\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0430\u0441",cidrv4:"IPv4 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D",base64:"\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64",base64url:"\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64url",json_string:"JSON \u0440\u0430\u0434\u043E\u043A",e164:"\u043D\u0443\u043C\u0430\u0440 E.164",jwt:"JWT",template_literal:"\u0443\u0432\u043E\u0434"};return r=>{switch(r.code){case"invalid_type":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u045E\u0441\u044F ${r.expected}, \u0430\u0442\u0440\u044B\u043C\u0430\u043D\u0430 ${n(r.input)}`;case"invalid_value":return r.values.length===1?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F ${U(r.values[0])}`:`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0432\u0430\u0440\u044B\u044F\u043D\u0442: \u0447\u0430\u043A\u0430\u045E\u0441\u044F \u0430\u0434\u0437\u0456\u043D \u0437 ${P(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",c=t(r.origin);if(c){let u=Number(r.maximum),l=jI(u,c.unit.one,c.unit.few,c.unit.many);return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${r.origin??"\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${c.verb} ${a}${r.maximum.toString()} ${l}`}return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${r.origin??"\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${a}${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?">=":">",c=t(r.origin);if(c){let u=Number(r.minimum),l=jI(u,c.unit.one,c.unit.few,c.unit.many);return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${r.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${c.verb} ${a}${r.minimum.toString()} ${l}`}return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${r.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${a}${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u043F\u0430\u0447\u044B\u043D\u0430\u0446\u0446\u0430 \u0437 "${a.prefix}"`:a.format==="ends_with"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u0430\u043A\u0430\u043D\u0447\u0432\u0430\u0446\u0446\u0430 \u043D\u0430 "${a.suffix}"`:a.format==="includes"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u043C\u044F\u0448\u0447\u0430\u0446\u044C "${a.includes}"`:a.format==="regex"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0430\u0434\u043F\u0430\u0432\u044F\u0434\u0430\u0446\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${a.pattern}`:`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B ${o[a.format]??r.format}`}case"not_multiple_of":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043B\u0456\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0431\u044B\u0446\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${r.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0441\u043F\u0430\u0437\u043D\u0430\u043D\u044B ${r.keys.length>1?"\u043A\u043B\u044E\u0447\u044B":"\u043A\u043B\u044E\u0447"}: ${P(r.keys,", ")}`;case"invalid_key":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043A\u043B\u044E\u0447 \u0443 ${r.origin}`;case"invalid_union":return"\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434";case"invalid_element":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u0430\u0435 \u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435 \u045E ${r.origin}`;default:return"\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434"}}},"error");function mg(){return{localeError:XD()}}s(mg,"default");var YD=s(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"\u0447\u0438\u0441\u043B\u043E";case"object":{if(Array.isArray(e))return"\u043C\u0430\u0441\u0438\u0432";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},"parsedType"),QD=s(()=>{let e={string:{unit:"\u0441\u0438\u043C\u0432\u043E\u043B\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"},file:{unit:"\u0431\u0430\u0439\u0442\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"},array:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"},set:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"}};function t(o){return e[o]??null}s(t,"getSizing");let n={regex:"\u0432\u0445\u043E\u0434",email:"\u0438\u043C\u0435\u0439\u043B \u0430\u0434\u0440\u0435\u0441",url:"URL",emoji:"\u0435\u043C\u043E\u0434\u0436\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0432\u0440\u0435\u043C\u0435",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0432\u0440\u0435\u043C\u0435",duration:"ISO \u043F\u0440\u043E\u0434\u044A\u043B\u0436\u0438\u0442\u0435\u043B\u043D\u043E\u0441\u0442",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441",cidrv4:"IPv4 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",base64:"base64-\u043A\u043E\u0434\u0438\u0440\u0430\u043D \u043D\u0438\u0437",base64url:"base64url-\u043A\u043E\u0434\u0438\u0440\u0430\u043D \u043D\u0438\u0437",json_string:"JSON \u043D\u0438\u0437",e164:"E.164 \u043D\u043E\u043C\u0435\u0440",jwt:"JWT",template_literal:"\u0432\u0445\u043E\u0434"};return o=>{switch(o.code){case"invalid_type":return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434: \u043E\u0447\u0430\u043A\u0432\u0430\u043D ${o.expected}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D ${YD(o.input)}`;case"invalid_value":return o.values.length===1?`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434: \u043E\u0447\u0430\u043A\u0432\u0430\u043D ${U(o.values[0])}`:`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430 \u043E\u043F\u0446\u0438\u044F: \u043E\u0447\u0430\u043A\u0432\u0430\u043D\u043E \u0435\u0434\u043D\u043E \u043E\u0442 ${P(o.values,"|")}`;case"too_big":{let r=o.inclusive?"<=":"<",a=t(o.origin);return a?`\u0422\u0432\u044A\u0440\u0434\u0435 \u0433\u043E\u043B\u044F\u043C\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${o.origin??"\u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442"} \u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430 ${r}${o.maximum.toString()} ${a.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430"}`:`\u0422\u0432\u044A\u0440\u0434\u0435 \u0433\u043E\u043B\u044F\u043C\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${o.origin??"\u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442"} \u0434\u0430 \u0431\u044A\u0434\u0435 ${r}${o.maximum.toString()}`}case"too_small":{let r=o.inclusive?">=":">",a=t(o.origin);return a?`\u0422\u0432\u044A\u0440\u0434\u0435 \u043C\u0430\u043B\u043A\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${o.origin} \u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430 ${r}${o.minimum.toString()} ${a.unit}`:`\u0422\u0432\u044A\u0440\u0434\u0435 \u043C\u0430\u043B\u043A\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${o.origin} \u0434\u0430 \u0431\u044A\u0434\u0435 ${r}${o.minimum.toString()}`}case"invalid_format":{let r=o;if(r.format==="starts_with")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0437\u0430\u043F\u043E\u0447\u0432\u0430 \u0441 "${r.prefix}"`;if(r.format==="ends_with")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0437\u0430\u0432\u044A\u0440\u0448\u0432\u0430 \u0441 "${r.suffix}"`;if(r.format==="includes")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0432\u043A\u043B\u044E\u0447\u0432\u0430 "${r.includes}"`;if(r.format==="regex")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0441\u044A\u0432\u043F\u0430\u0434\u0430 \u0441 ${r.pattern}`;let a="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D";return r.format==="emoji"&&(a="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E"),r.format==="datetime"&&(a="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E"),r.format==="date"&&(a="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430"),r.format==="time"&&(a="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E"),r.format==="duration"&&(a="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430"),`${a} ${n[r.format]??o.format}`}case"not_multiple_of":return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E \u0447\u0438\u0441\u043B\u043E: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0431\u044A\u0434\u0435 \u043A\u0440\u0430\u0442\u043D\u043E \u043D\u0430 ${o.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0437\u043F\u043E\u0437\u043D\u0430\u0442${o.keys.length>1?"\u0438":""} \u043A\u043B\u044E\u0447${o.keys.length>1?"\u043E\u0432\u0435":""}: ${P(o.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043A\u043B\u044E\u0447 \u0432 ${o.origin}`;case"invalid_union":return"\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434";case"invalid_element":return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430 \u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442 \u0432 ${o.origin}`;default:return"\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434"}}},"error");function fg(){return{localeError:QD()}}s(fg,"default");var ez=s(()=>{let e={string:{unit:"car\xE0cters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}};function t(r){return e[r]??null}s(t,"getSizing");let n=s(r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"number";case"object":{if(Array.isArray(r))return"array";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},"parsedType"),o={regex:"entrada",email:"adre\xE7a electr\xF2nica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adre\xE7a IPv4",ipv6:"adre\xE7a IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"};return r=>{switch(r.code){case"invalid_type":return`Tipus inv\xE0lid: s'esperava ${r.expected}, s'ha rebut ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Valor inv\xE0lid: s'esperava ${U(r.values[0])}`:`Opci\xF3 inv\xE0lida: s'esperava una de ${P(r.values," o ")}`;case"too_big":{let a=r.inclusive?"com a m\xE0xim":"menys de",c=t(r.origin);return c?`Massa gran: s'esperava que ${r.origin??"el valor"} contingu\xE9s ${a} ${r.maximum.toString()} ${c.unit??"elements"}`:`Massa gran: s'esperava que ${r.origin??"el valor"} fos ${a} ${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?"com a m\xEDnim":"m\xE9s de",c=t(r.origin);return c?`Massa petit: s'esperava que ${r.origin} contingu\xE9s ${a} ${r.minimum.toString()} ${c.unit}`:`Massa petit: s'esperava que ${r.origin} fos ${a} ${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`Format inv\xE0lid: ha de comen\xE7ar amb "${a.prefix}"`:a.format==="ends_with"?`Format inv\xE0lid: ha d'acabar amb "${a.suffix}"`:a.format==="includes"?`Format inv\xE0lid: ha d'incloure "${a.includes}"`:a.format==="regex"?`Format inv\xE0lid: ha de coincidir amb el patr\xF3 ${a.pattern}`:`Format inv\xE0lid per a ${o[a.format]??r.format}`}case"not_multiple_of":return`N\xFAmero inv\xE0lid: ha de ser m\xFAltiple de ${r.divisor}`;case"unrecognized_keys":return`Clau${r.keys.length>1?"s":""} no reconeguda${r.keys.length>1?"s":""}: ${P(r.keys,", ")}`;case"invalid_key":return`Clau inv\xE0lida a ${r.origin}`;case"invalid_union":return"Entrada inv\xE0lida";case"invalid_element":return`Element inv\xE0lid a ${r.origin}`;default:return"Entrada inv\xE0lida"}}},"error");function hg(){return{localeError:ez()}}s(hg,"default");var tz=s(()=>{let e={string:{unit:"znak\u016F",verb:"m\xEDt"},file:{unit:"bajt\u016F",verb:"m\xEDt"},array:{unit:"prvk\u016F",verb:"m\xEDt"},set:{unit:"prvk\u016F",verb:"m\xEDt"}};function t(r){return e[r]??null}s(t,"getSizing");let n=s(r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"\u010D\xEDslo";case"string":return"\u0159et\u011Bzec";case"boolean":return"boolean";case"bigint":return"bigint";case"function":return"funkce";case"symbol":return"symbol";case"undefined":return"undefined";case"object":{if(Array.isArray(r))return"pole";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},"parsedType"),o={regex:"regul\xE1rn\xED v\xFDraz",email:"e-mailov\xE1 adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a \u010Das ve form\xE1tu ISO",date:"datum ve form\xE1tu ISO",time:"\u010Das ve form\xE1tu ISO",duration:"doba trv\xE1n\xED ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"\u0159et\u011Bzec zak\xF3dovan\xFD ve form\xE1tu base64",base64url:"\u0159et\u011Bzec zak\xF3dovan\xFD ve form\xE1tu base64url",json_string:"\u0159et\u011Bzec ve form\xE1tu JSON",e164:"\u010D\xEDslo E.164",jwt:"JWT",template_literal:"vstup"};return r=>{switch(r.code){case"invalid_type":return`Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no ${r.expected}, obdr\u017Eeno ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no ${U(r.values[0])}`:`Neplatn\xE1 mo\u017Enost: o\u010Dek\xE1v\xE1na jedna z hodnot ${P(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",c=t(r.origin);return c?`Hodnota je p\u0159\xEDli\u0161 velk\xE1: ${r.origin??"hodnota"} mus\xED m\xEDt ${a}${r.maximum.toString()} ${c.unit??"prvk\u016F"}`:`Hodnota je p\u0159\xEDli\u0161 velk\xE1: ${r.origin??"hodnota"} mus\xED b\xFDt ${a}${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?">=":">",c=t(r.origin);return c?`Hodnota je p\u0159\xEDli\u0161 mal\xE1: ${r.origin??"hodnota"} mus\xED m\xEDt ${a}${r.minimum.toString()} ${c.unit??"prvk\u016F"}`:`Hodnota je p\u0159\xEDli\u0161 mal\xE1: ${r.origin??"hodnota"} mus\xED b\xFDt ${a}${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED za\u010D\xEDnat na "${a.prefix}"`:a.format==="ends_with"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED kon\u010Dit na "${a.suffix}"`:a.format==="includes"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED obsahovat "${a.includes}"`:a.format==="regex"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED odpov\xEDdat vzoru ${a.pattern}`:`Neplatn\xFD form\xE1t ${o[a.format]??r.format}`}case"not_multiple_of":return`Neplatn\xE9 \u010D\xEDslo: mus\xED b\xFDt n\xE1sobkem ${r.divisor}`;case"unrecognized_keys":return`Nezn\xE1m\xE9 kl\xED\u010De: ${P(r.keys,", ")}`;case"invalid_key":return`Neplatn\xFD kl\xED\u010D v ${r.origin}`;case"invalid_union":return"Neplatn\xFD vstup";case"invalid_element":return`Neplatn\xE1 hodnota v ${r.origin}`;default:return"Neplatn\xFD vstup"}}},"error");function gg(){return{localeError:tz()}}s(gg,"default");var rz=s(()=>{let e={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}},t={string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"s\xE6t",file:"fil"};function n(c){return e[c]??null}s(n,"getSizing");function o(c){return t[c]??c}s(o,"getTypeName");let r=s(c=>{let u=typeof c;switch(u){case"number":return Number.isNaN(c)?"NaN":"tal";case"object":return Array.isArray(c)?"liste":c===null?"null":Object.getPrototypeOf(c)!==Object.prototype&&c.constructor?c.constructor.name:"objekt"}return u},"parsedType"),a={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkesl\xE6t",date:"ISO-dato",time:"ISO-klokkesl\xE6t",duration:"ISO-varighed",ipv4:"IPv4-omr\xE5de",ipv6:"IPv6-omr\xE5de",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return c=>{switch(c.code){case"invalid_type":return`Ugyldigt input: forventede ${o(c.expected)}, fik ${o(r(c.input))}`;case"invalid_value":return c.values.length===1?`Ugyldig v\xE6rdi: forventede ${U(c.values[0])}`:`Ugyldigt valg: forventede en af f\xF8lgende ${P(c.values,"|")}`;case"too_big":{let u=c.inclusive?"<=":"<",l=n(c.origin),d=o(c.origin);return l?`For stor: forventede ${d??"value"} ${l.verb} ${u} ${c.maximum.toString()} ${l.unit??"elementer"}`:`For stor: forventede ${d??"value"} havde ${u} ${c.maximum.toString()}`}case"too_small":{let u=c.inclusive?">=":">",l=n(c.origin),d=o(c.origin);return l?`For lille: forventede ${d} ${l.verb} ${u} ${c.minimum.toString()} ${l.unit}`:`For lille: forventede ${d} havde ${u} ${c.minimum.toString()}`}case"invalid_format":{let u=c;return u.format==="starts_with"?`Ugyldig streng: skal starte med "${u.prefix}"`:u.format==="ends_with"?`Ugyldig streng: skal ende med "${u.suffix}"`:u.format==="includes"?`Ugyldig streng: skal indeholde "${u.includes}"`:u.format==="regex"?`Ugyldig streng: skal matche m\xF8nsteret ${u.pattern}`:`Ugyldig ${a[u.format]??c.format}`}case"not_multiple_of":return`Ugyldigt tal: skal v\xE6re deleligt med ${c.divisor}`;case"unrecognized_keys":return`${c.keys.length>1?"Ukendte n\xF8gler":"Ukendt n\xF8gle"}: ${P(c.keys,", ")}`;case"invalid_key":return`Ugyldig n\xF8gle i ${c.origin}`;case"invalid_union":return"Ugyldigt input: matcher ingen af de tilladte typer";case"invalid_element":return`Ugyldig v\xE6rdi i ${c.origin}`;default:return"Ugyldigt input"}}},"error");function yg(){return{localeError:rz()}}s(yg,"default");var nz=s(()=>{let e={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}};function t(r){return e[r]??null}s(t,"getSizing");let n=s(r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"Zahl";case"object":{if(Array.isArray(r))return"Array";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},"parsedType"),o={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"};return r=>{switch(r.code){case"invalid_type":return`Ung\xFCltige Eingabe: erwartet ${r.expected}, erhalten ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Ung\xFCltige Eingabe: erwartet ${U(r.values[0])}`:`Ung\xFCltige Option: erwartet eine von ${P(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",c=t(r.origin);return c?`Zu gro\xDF: erwartet, dass ${r.origin??"Wert"} ${a}${r.maximum.toString()} ${c.unit??"Elemente"} hat`:`Zu gro\xDF: erwartet, dass ${r.origin??"Wert"} ${a}${r.maximum.toString()} ist`}case"too_small":{let a=r.inclusive?">=":">",c=t(r.origin);return c?`Zu klein: erwartet, dass ${r.origin} ${a}${r.minimum.toString()} ${c.unit} hat`:`Zu klein: erwartet, dass ${r.origin} ${a}${r.minimum.toString()} ist`}case"invalid_format":{let a=r;return a.format==="starts_with"?`Ung\xFCltiger String: muss mit "${a.prefix}" beginnen`:a.format==="ends_with"?`Ung\xFCltiger String: muss mit "${a.suffix}" enden`:a.format==="includes"?`Ung\xFCltiger String: muss "${a.includes}" enthalten`:a.format==="regex"?`Ung\xFCltiger String: muss dem Muster ${a.pattern} entsprechen`:`Ung\xFCltig: ${o[a.format]??r.format}`}case"not_multiple_of":return`Ung\xFCltige Zahl: muss ein Vielfaches von ${r.divisor} sein`;case"unrecognized_keys":return`${r.keys.length>1?"Unbekannte Schl\xFCssel":"Unbekannter Schl\xFCssel"}: ${P(r.keys,", ")}`;case"invalid_key":return`Ung\xFCltiger Schl\xFCssel in ${r.origin}`;case"invalid_union":return"Ung\xFCltige Eingabe";case"invalid_element":return`Ung\xFCltiger Wert in ${r.origin}`;default:return"Ung\xFCltige Eingabe"}}},"error");function vg(){return{localeError:nz()}}s(vg,"default");var oz=s(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":{if(Array.isArray(e))return"array";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},"parsedType"),az=s(()=>{let e={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}};function t(o){return e[o]??null}s(t,"getSizing");let n={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",mac:"MAC address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return o=>{switch(o.code){case"invalid_type":return`Invalid input: expected ${o.expected}, received ${oz(o.input)}`;case"invalid_value":return o.values.length===1?`Invalid input: expected ${U(o.values[0])}`:`Invalid option: expected one of ${P(o.values,"|")}`;case"too_big":{let r=o.inclusive?"<=":"<",a=t(o.origin);return a?`Too big: expected ${o.origin??"value"} to have ${r}${o.maximum.toString()} ${a.unit??"elements"}`:`Too big: expected ${o.origin??"value"} to be ${r}${o.maximum.toString()}`}case"too_small":{let r=o.inclusive?">=":">",a=t(o.origin);return a?`Too small: expected ${o.origin} to have ${r}${o.minimum.toString()} ${a.unit}`:`Too small: expected ${o.origin} to be ${r}${o.minimum.toString()}`}case"invalid_format":{let r=o;return r.format==="starts_with"?`Invalid string: must start with "${r.prefix}"`:r.format==="ends_with"?`Invalid string: must end with "${r.suffix}"`:r.format==="includes"?`Invalid string: must include "${r.includes}"`:r.format==="regex"?`Invalid string: must match pattern ${r.pattern}`:`Invalid ${n[r.format]??o.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${o.divisor}`;case"unrecognized_keys":return`Unrecognized key${o.keys.length>1?"s":""}: ${P(o.keys,", ")}`;case"invalid_key":return`Invalid key in ${o.origin}`;case"invalid_union":return"Invalid input";case"invalid_element":return`Invalid value in ${o.origin}`;default:return"Invalid input"}}},"error");function cs(){return{localeError:az()}}s(cs,"default");var iz=s(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nombro";case"object":{if(Array.isArray(e))return"tabelo";if(e===null)return"senvalora";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},"parsedType"),sz=s(()=>{let e={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}};function t(o){return e[o]??null}s(t,"getSizing");let n={regex:"enigo",email:"retadreso",url:"URL",emoji:"emo\u011Dio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-da\u016Dro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"};return o=>{switch(o.code){case"invalid_type":return`Nevalida enigo: atendi\u011Dis ${o.expected}, ricevi\u011Dis ${iz(o.input)}`;case"invalid_value":return o.values.length===1?`Nevalida enigo: atendi\u011Dis ${U(o.values[0])}`:`Nevalida opcio: atendi\u011Dis unu el ${P(o.values,"|")}`;case"too_big":{let r=o.inclusive?"<=":"<",a=t(o.origin);return a?`Tro granda: atendi\u011Dis ke ${o.origin??"valoro"} havu ${r}${o.maximum.toString()} ${a.unit??"elementojn"}`:`Tro granda: atendi\u011Dis ke ${o.origin??"valoro"} havu ${r}${o.maximum.toString()}`}case"too_small":{let r=o.inclusive?">=":">",a=t(o.origin);return a?`Tro malgranda: atendi\u011Dis ke ${o.origin} havu ${r}${o.minimum.toString()} ${a.unit}`:`Tro malgranda: atendi\u011Dis ke ${o.origin} estu ${r}${o.minimum.toString()}`}case"invalid_format":{let r=o;return r.format==="starts_with"?`Nevalida karaktraro: devas komenci\u011Di per "${r.prefix}"`:r.format==="ends_with"?`Nevalida karaktraro: devas fini\u011Di per "${r.suffix}"`:r.format==="includes"?`Nevalida karaktraro: devas inkluzivi "${r.includes}"`:r.format==="regex"?`Nevalida karaktraro: devas kongrui kun la modelo ${r.pattern}`:`Nevalida ${n[r.format]??o.format}`}case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${o.divisor}`;case"unrecognized_keys":return`Nekonata${o.keys.length>1?"j":""} \u015Dlosilo${o.keys.length>1?"j":""}: ${P(o.keys,", ")}`;case"invalid_key":return`Nevalida \u015Dlosilo en ${o.origin}`;case"invalid_union":return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${o.origin}`;default:return"Nevalida enigo"}}},"error");function _g(){return{localeError:sz()}}s(_g,"default");var cz=s(()=>{let e={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}},t={string:"texto",number:"n\xFAmero",boolean:"booleano",array:"arreglo",object:"objeto",set:"conjunto",file:"archivo",date:"fecha",bigint:"n\xFAmero grande",symbol:"s\xEDmbolo",undefined:"indefinido",null:"nulo",function:"funci\xF3n",map:"mapa",record:"registro",tuple:"tupla",enum:"enumeraci\xF3n",union:"uni\xF3n",literal:"literal",promise:"promesa",void:"vac\xEDo",never:"nunca",unknown:"desconocido",any:"cualquiera"};function n(c){return e[c]??null}s(n,"getSizing");function o(c){return t[c]??c}s(o,"getTypeName");let r=s(c=>{let u=typeof c;switch(u){case"number":return Number.isNaN(c)?"NaN":"number";case"object":return Array.isArray(c)?"array":c===null?"null":Object.getPrototypeOf(c)!==Object.prototype?c.constructor.name:"object"}return u},"parsedType"),a={regex:"entrada",email:"direcci\xF3n de correo electr\xF3nico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duraci\xF3n ISO",ipv4:"direcci\xF3n IPv4",ipv6:"direcci\xF3n IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"};return c=>{switch(c.code){case"invalid_type":return`Entrada inv\xE1lida: se esperaba ${o(c.expected)}, recibido ${o(r(c.input))}`;case"invalid_value":return c.values.length===1?`Entrada inv\xE1lida: se esperaba ${U(c.values[0])}`:`Opci\xF3n inv\xE1lida: se esperaba una de ${P(c.values,"|")}`;case"too_big":{let u=c.inclusive?"<=":"<",l=n(c.origin),d=o(c.origin);return l?`Demasiado grande: se esperaba que ${d??"valor"} tuviera ${u}${c.maximum.toString()} ${l.unit??"elementos"}`:`Demasiado grande: se esperaba que ${d??"valor"} fuera ${u}${c.maximum.toString()}`}case"too_small":{let u=c.inclusive?">=":">",l=n(c.origin),d=o(c.origin);return l?`Demasiado peque\xF1o: se esperaba que ${d} tuviera ${u}${c.minimum.toString()} ${l.unit}`:`Demasiado peque\xF1o: se esperaba que ${d} fuera ${u}${c.minimum.toString()}`}case"invalid_format":{let u=c;return u.format==="starts_with"?`Cadena inv\xE1lida: debe comenzar con "${u.prefix}"`:u.format==="ends_with"?`Cadena inv\xE1lida: debe terminar en "${u.suffix}"`:u.format==="includes"?`Cadena inv\xE1lida: debe incluir "${u.includes}"`:u.format==="regex"?`Cadena inv\xE1lida: debe coincidir con el patr\xF3n ${u.pattern}`:`Inv\xE1lido ${a[u.format]??c.format}`}case"not_multiple_of":return`N\xFAmero inv\xE1lido: debe ser m\xFAltiplo de ${c.divisor}`;case"unrecognized_keys":return`Llave${c.keys.length>1?"s":""} desconocida${c.keys.length>1?"s":""}: ${P(c.keys,", ")}`;case"invalid_key":return`Llave inv\xE1lida en ${o(c.origin)}`;case"invalid_union":return"Entrada inv\xE1lida";case"invalid_element":return`Valor inv\xE1lido en ${o(c.origin)}`;default:return"Entrada inv\xE1lida"}}},"error");function bg(){return{localeError:cz()}}s(bg,"default");var uz=s(()=>{let e={string:{unit:"\u06A9\u0627\u0631\u0627\u06A9\u062A\u0631",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},file:{unit:"\u0628\u0627\u06CC\u062A",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},array:{unit:"\u0622\u06CC\u062A\u0645",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},set:{unit:"\u0622\u06CC\u062A\u0645",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"}};function t(r){return e[r]??null}s(t,"getSizing");let n=s(r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"\u0639\u062F\u062F";case"object":{if(Array.isArray(r))return"\u0622\u0631\u0627\u06CC\u0647";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},"parsedType"),o={regex:"\u0648\u0631\u0648\u062F\u06CC",email:"\u0622\u062F\u0631\u0633 \u0627\u06CC\u0645\u06CC\u0644",url:"URL",emoji:"\u0627\u06CC\u0645\u0648\u062C\u06CC",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u062A\u0627\u0631\u06CC\u062E \u0648 \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",date:"\u062A\u0627\u0631\u06CC\u062E \u0627\u06CC\u0632\u0648",time:"\u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",duration:"\u0645\u062F\u062A \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",ipv4:"IPv4 \u0622\u062F\u0631\u0633",ipv6:"IPv6 \u0622\u062F\u0631\u0633",cidrv4:"IPv4 \u062F\u0627\u0645\u0646\u0647",cidrv6:"IPv6 \u062F\u0627\u0645\u0646\u0647",base64:"base64-encoded \u0631\u0634\u062A\u0647",base64url:"base64url-encoded \u0631\u0634\u062A\u0647",json_string:"JSON \u0631\u0634\u062A\u0647",e164:"E.164 \u0639\u062F\u062F",jwt:"JWT",template_literal:"\u0648\u0631\u0648\u062F\u06CC"};return r=>{switch(r.code){case"invalid_type":return`\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${r.expected} \u0645\u06CC\u200C\u0628\u0648\u062F\u060C ${n(r.input)} \u062F\u0631\u06CC\u0627\u0641\u062A \u0634\u062F`;case"invalid_value":return r.values.length===1?`\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${U(r.values[0])} \u0645\u06CC\u200C\u0628\u0648\u062F`:`\u06AF\u0632\u06CC\u0646\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A \u06CC\u06A9\u06CC \u0627\u0632 ${P(r.values,"|")} \u0645\u06CC\u200C\u0628\u0648\u062F`;case"too_big":{let a=r.inclusive?"<=":"<",c=t(r.origin);return c?`\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${r.origin??"\u0645\u0642\u062F\u0627\u0631"} \u0628\u0627\u06CC\u062F ${a}${r.maximum.toString()} ${c.unit??"\u0639\u0646\u0635\u0631"} \u0628\u0627\u0634\u062F`:`\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${r.origin??"\u0645\u0642\u062F\u0627\u0631"} \u0628\u0627\u06CC\u062F ${a}${r.maximum.toString()} \u0628\u0627\u0634\u062F`}case"too_small":{let a=r.inclusive?">=":">",c=t(r.origin);return c?`\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${r.origin} \u0628\u0627\u06CC\u062F ${a}${r.minimum.toString()} ${c.unit} \u0628\u0627\u0634\u062F`:`\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${r.origin} \u0628\u0627\u06CC\u062F ${a}${r.minimum.toString()} \u0628\u0627\u0634\u062F`}case"invalid_format":{let a=r;return a.format==="starts_with"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 "${a.prefix}" \u0634\u0631\u0648\u0639 \u0634\u0648\u062F`:a.format==="ends_with"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 "${a.suffix}" \u062A\u0645\u0627\u0645 \u0634\u0648\u062F`:a.format==="includes"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0634\u0627\u0645\u0644 "${a.includes}" \u0628\u0627\u0634\u062F`:a.format==="regex"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 \u0627\u0644\u06AF\u0648\u06CC ${a.pattern} \u0645\u0637\u0627\u0628\u0642\u062A \u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F`:`${o[a.format]??r.format} \u0646\u0627\u0645\u0639\u062A\u0628\u0631`}case"not_multiple_of":return`\u0639\u062F\u062F \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0645\u0636\u0631\u0628 ${r.divisor} \u0628\u0627\u0634\u062F`;case"unrecognized_keys":return`\u06A9\u0644\u06CC\u062F${r.keys.length>1?"\u0647\u0627\u06CC":""} \u0646\u0627\u0634\u0646\u0627\u0633: ${P(r.keys,", ")}`;case"invalid_key":return`\u06A9\u0644\u06CC\u062F \u0646\u0627\u0634\u0646\u0627\u0633 \u062F\u0631 ${r.origin}`;case"invalid_union":return"\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631";case"invalid_element":return`\u0645\u0642\u062F\u0627\u0631 \u0646\u0627\u0645\u0639\u062A\u0628\u0631 \u062F\u0631 ${r.origin}`;default:return"\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631"}}},"error");function xg(){return{localeError:uz()}}s(xg,"default");var lz=s(()=>{let e={string:{unit:"merkki\xE4",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"p\xE4iv\xE4m\xE4\xE4r\xE4n"}};function t(r){return e[r]??null}s(t,"getSizing");let n=s(r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"number";case"object":{if(Array.isArray(r))return"array";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},"parsedType"),o={regex:"s\xE4\xE4nn\xF6llinen lauseke",email:"s\xE4hk\xF6postiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-p\xE4iv\xE4m\xE4\xE4r\xE4",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"};return r=>{switch(r.code){case"invalid_type":return`Virheellinen tyyppi: odotettiin ${r.expected}, oli ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Virheellinen sy\xF6te: t\xE4ytyy olla ${U(r.values[0])}`:`Virheellinen valinta: t\xE4ytyy olla yksi seuraavista: ${P(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",c=t(r.origin);return c?`Liian suuri: ${c.subject} t\xE4ytyy olla ${a}${r.maximum.toString()} ${c.unit}`.trim():`Liian suuri: arvon t\xE4ytyy olla ${a}${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?">=":">",c=t(r.origin);return c?`Liian pieni: ${c.subject} t\xE4ytyy olla ${a}${r.minimum.toString()} ${c.unit}`.trim():`Liian pieni: arvon t\xE4ytyy olla ${a}${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`Virheellinen sy\xF6te: t\xE4ytyy alkaa "${a.prefix}"`:a.format==="ends_with"?`Virheellinen sy\xF6te: t\xE4ytyy loppua "${a.suffix}"`:a.format==="includes"?`Virheellinen sy\xF6te: t\xE4ytyy sis\xE4lt\xE4\xE4 "${a.includes}"`:a.format==="regex"?`Virheellinen sy\xF6te: t\xE4ytyy vastata s\xE4\xE4nn\xF6llist\xE4 lauseketta ${a.pattern}`:`Virheellinen ${o[a.format]??r.format}`}case"not_multiple_of":return`Virheellinen luku: t\xE4ytyy olla luvun ${r.divisor} monikerta`;case"unrecognized_keys":return`${r.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${P(r.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return"Virheellinen sy\xF6te"}}},"error");function wg(){return{localeError:lz()}}s(wg,"default");var dz=s(()=>{let e={string:{unit:"caract\xE8res",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"\xE9l\xE9ments",verb:"avoir"},set:{unit:"\xE9l\xE9ments",verb:"avoir"}};function t(r){return e[r]??null}s(t,"getSizing");let n=s(r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"nombre";case"object":{if(Array.isArray(r))return"tableau";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},"parsedType"),o={regex:"entr\xE9e",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"dur\xE9e ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"cha\xEEne encod\xE9e en base64",base64url:"cha\xEEne encod\xE9e en base64url",json_string:"cha\xEEne JSON",e164:"num\xE9ro E.164",jwt:"JWT",template_literal:"entr\xE9e"};return r=>{switch(r.code){case"invalid_type":return`Entr\xE9e invalide : ${r.expected} attendu, ${n(r.input)} re\xE7u`;case"invalid_value":return r.values.length===1?`Entr\xE9e invalide : ${U(r.values[0])} attendu`:`Option invalide : une valeur parmi ${P(r.values,"|")} attendue`;case"too_big":{let a=r.inclusive?"<=":"<",c=t(r.origin);return c?`Trop grand : ${r.origin??"valeur"} doit ${c.verb} ${a}${r.maximum.toString()} ${c.unit??"\xE9l\xE9ment(s)"}`:`Trop grand : ${r.origin??"valeur"} doit \xEAtre ${a}${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?">=":">",c=t(r.origin);return c?`Trop petit : ${r.origin} doit ${c.verb} ${a}${r.minimum.toString()} ${c.unit}`:`Trop petit : ${r.origin} doit \xEAtre ${a}${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`Cha\xEEne invalide : doit commencer par "${a.prefix}"`:a.format==="ends_with"?`Cha\xEEne invalide : doit se terminer par "${a.suffix}"`:a.format==="includes"?`Cha\xEEne invalide : doit inclure "${a.includes}"`:a.format==="regex"?`Cha\xEEne invalide : doit correspondre au mod\xE8le ${a.pattern}`:`${o[a.format]??r.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit \xEAtre un multiple de ${r.divisor}`;case"unrecognized_keys":return`Cl\xE9${r.keys.length>1?"s":""} non reconnue${r.keys.length>1?"s":""} : ${P(r.keys,", ")}`;case"invalid_key":return`Cl\xE9 invalide dans ${r.origin}`;case"invalid_union":return"Entr\xE9e invalide";case"invalid_element":return`Valeur invalide dans ${r.origin}`;default:return"Entr\xE9e invalide"}}},"error");function Sg(){return{localeError:dz()}}s(Sg,"default");var pz=s(()=>{let e={string:{unit:"caract\xE8res",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"\xE9l\xE9ments",verb:"avoir"},set:{unit:"\xE9l\xE9ments",verb:"avoir"}};function t(r){return e[r]??null}s(t,"getSizing");let n=s(r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"number";case"object":{if(Array.isArray(r))return"array";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},"parsedType"),o={regex:"entr\xE9e",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"dur\xE9e ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"cha\xEEne encod\xE9e en base64",base64url:"cha\xEEne encod\xE9e en base64url",json_string:"cha\xEEne JSON",e164:"num\xE9ro E.164",jwt:"JWT",template_literal:"entr\xE9e"};return r=>{switch(r.code){case"invalid_type":return`Entr\xE9e invalide : attendu ${r.expected}, re\xE7u ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Entr\xE9e invalide : attendu ${U(r.values[0])}`:`Option invalide : attendu l'une des valeurs suivantes ${P(r.values,"|")}`;case"too_big":{let a=r.inclusive?"\u2264":"<",c=t(r.origin);return c?`Trop grand : attendu que ${r.origin??"la valeur"} ait ${a}${r.maximum.toString()} ${c.unit}`:`Trop grand : attendu que ${r.origin??"la valeur"} soit ${a}${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?"\u2265":">",c=t(r.origin);return c?`Trop petit : attendu que ${r.origin} ait ${a}${r.minimum.toString()} ${c.unit}`:`Trop petit : attendu que ${r.origin} soit ${a}${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`Cha\xEEne invalide : doit commencer par "${a.prefix}"`:a.format==="ends_with"?`Cha\xEEne invalide : doit se terminer par "${a.suffix}"`:a.format==="includes"?`Cha\xEEne invalide : doit inclure "${a.includes}"`:a.format==="regex"?`Cha\xEEne invalide : doit correspondre au motif ${a.pattern}`:`${o[a.format]??r.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit \xEAtre un multiple de ${r.divisor}`;case"unrecognized_keys":return`Cl\xE9${r.keys.length>1?"s":""} non reconnue${r.keys.length>1?"s":""} : ${P(r.keys,", ")}`;case"invalid_key":return`Cl\xE9 invalide dans ${r.origin}`;case"invalid_union":return"Entr\xE9e invalide";case"invalid_element":return`Valeur invalide dans ${r.origin}`;default:return"Entr\xE9e invalide"}}},"error");function Ig(){return{localeError:pz()}}s(Ig,"default");var mz=s(()=>{let e={string:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA",gender:"f"},number:{label:"\u05DE\u05E1\u05E4\u05E8",gender:"m"},boolean:{label:"\u05E2\u05E8\u05DA \u05D1\u05D5\u05DC\u05D9\u05D0\u05E0\u05D9",gender:"m"},bigint:{label:"BigInt",gender:"m"},date:{label:"\u05EA\u05D0\u05E8\u05D9\u05DA",gender:"m"},array:{label:"\u05DE\u05E2\u05E8\u05DA",gender:"m"},object:{label:"\u05D0\u05D5\u05D1\u05D9\u05D9\u05E7\u05D8",gender:"m"},null:{label:"\u05E2\u05E8\u05DA \u05E8\u05D9\u05E7 (null)",gender:"m"},undefined:{label:"\u05E2\u05E8\u05DA \u05DC\u05D0 \u05DE\u05D5\u05D2\u05D3\u05E8 (undefined)",gender:"m"},symbol:{label:"\u05E1\u05D9\u05DE\u05D1\u05D5\u05DC (Symbol)",gender:"m"},function:{label:"\u05E4\u05D5\u05E0\u05E7\u05E6\u05D9\u05D4",gender:"f"},map:{label:"\u05DE\u05E4\u05D4 (Map)",gender:"f"},set:{label:"\u05E7\u05D1\u05D5\u05E6\u05D4 (Set)",gender:"f"},file:{label:"\u05E7\u05D5\u05D1\u05E5",gender:"m"},promise:{label:"Promise",gender:"m"},NaN:{label:"NaN",gender:"m"},unknown:{label:"\u05E2\u05E8\u05DA \u05DC\u05D0 \u05D9\u05D3\u05D5\u05E2",gender:"m"},value:{label:"\u05E2\u05E8\u05DA",gender:"m"}},t={string:{unit:"\u05EA\u05D5\u05D5\u05D9\u05DD",shortLabel:"\u05E7\u05E6\u05E8",longLabel:"\u05D0\u05E8\u05D5\u05DA"},file:{unit:"\u05D1\u05D9\u05D9\u05D8\u05D9\u05DD",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"},array:{unit:"\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"},set:{unit:"\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"},number:{unit:"",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"}},n=s(d=>d?e[d]:void 0,"typeEntry"),o=s(d=>{let p=n(d);return p?p.label:d??e.unknown.label},"typeLabel"),r=s(d=>`\u05D4${o(d)}`,"withDefinite"),a=s(d=>(n(d)?.gender??"m")==="f"?"\u05E6\u05E8\u05D9\u05DB\u05D4 \u05DC\u05D4\u05D9\u05D5\u05EA":"\u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA","verbFor"),c=s(d=>d?t[d]??null:null,"getSizing"),u=s(d=>{let p=typeof d;switch(p){case"number":return Number.isNaN(d)?"NaN":"number";case"object":return Array.isArray(d)?"array":d===null?"null":Object.getPrototypeOf(d)!==Object.prototype&&d.constructor?d.constructor.name:"object";default:return p}},"parsedType"),l={regex:{label:"\u05E7\u05DC\u05D8",gender:"m"},email:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA \u05D0\u05D9\u05DE\u05D9\u05D9\u05DC",gender:"f"},url:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA \u05E8\u05E9\u05EA",gender:"f"},emoji:{label:"\u05D0\u05D9\u05DE\u05D5\u05D2'\u05D9",gender:"m"},uuid:{label:"UUID",gender:"m"},nanoid:{label:"nanoid",gender:"m"},guid:{label:"GUID",gender:"m"},cuid:{label:"cuid",gender:"m"},cuid2:{label:"cuid2",gender:"m"},ulid:{label:"ULID",gender:"m"},xid:{label:"XID",gender:"m"},ksuid:{label:"KSUID",gender:"m"},datetime:{label:"\u05EA\u05D0\u05E8\u05D9\u05DA \u05D5\u05D6\u05DE\u05DF ISO",gender:"m"},date:{label:"\u05EA\u05D0\u05E8\u05D9\u05DA ISO",gender:"m"},time:{label:"\u05D6\u05DE\u05DF ISO",gender:"m"},duration:{label:"\u05DE\u05E9\u05DA \u05D6\u05DE\u05DF ISO",gender:"m"},ipv4:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA IPv4",gender:"f"},ipv6:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA IPv6",gender:"f"},cidrv4:{label:"\u05D8\u05D5\u05D5\u05D7 IPv4",gender:"m"},cidrv6:{label:"\u05D8\u05D5\u05D5\u05D7 IPv6",gender:"m"},base64:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64",gender:"f"},base64url:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64 \u05DC\u05DB\u05EA\u05D5\u05D1\u05D5\u05EA \u05E8\u05E9\u05EA",gender:"f"},json_string:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA JSON",gender:"f"},e164:{label:"\u05DE\u05E1\u05E4\u05E8 E.164",gender:"m"},jwt:{label:"JWT",gender:"m"},ends_with:{label:"\u05E7\u05DC\u05D8",gender:"m"},includes:{label:"\u05E7\u05DC\u05D8",gender:"m"},lowercase:{label:"\u05E7\u05DC\u05D8",gender:"m"},starts_with:{label:"\u05E7\u05DC\u05D8",gender:"m"},uppercase:{label:"\u05E7\u05DC\u05D8",gender:"m"}};return d=>{switch(d.code){case"invalid_type":{let p=d.expected,m=o(p),f=u(d.input),y=e[f]?.label??f;return`\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${m}, \u05D4\u05EA\u05E7\u05D1\u05DC ${y}`}case"invalid_value":{if(d.values.length===1)return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D4\u05E2\u05E8\u05DA \u05D7\u05D9\u05D9\u05D1 \u05DC\u05D4\u05D9\u05D5\u05EA ${U(d.values[0])}`;let p=d.values.map(y=>U(y));if(d.values.length===2)return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D4\u05D0\u05E4\u05E9\u05E8\u05D5\u05D9\u05D5\u05EA \u05D4\u05DE\u05EA\u05D0\u05D9\u05DE\u05D5\u05EA \u05D4\u05DF ${p[0]} \u05D0\u05D5 ${p[1]}`;let m=p[p.length-1];return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D4\u05D0\u05E4\u05E9\u05E8\u05D5\u05D9\u05D5\u05EA \u05D4\u05DE\u05EA\u05D0\u05D9\u05DE\u05D5\u05EA \u05D4\u05DF ${p.slice(0,-1).join(", ")} \u05D0\u05D5 ${m}`}case"too_big":{let p=c(d.origin),m=r(d.origin??"value");if(d.origin==="string")return`${p?.longLabel??"\u05D0\u05E8\u05D5\u05DA"} \u05DE\u05D3\u05D9: ${m} \u05E6\u05E8\u05D9\u05DB\u05D4 \u05DC\u05D4\u05DB\u05D9\u05DC ${d.maximum.toString()} ${p?.unit??""} ${d.inclusive?"\u05D0\u05D5 \u05E4\u05D7\u05D5\u05EA":"\u05DC\u05DB\u05DC \u05D4\u05D9\u05D5\u05EA\u05E8"}`.trim();if(d.origin==="number"){let g=d.inclusive?`\u05E7\u05D8\u05DF \u05D0\u05D5 \u05E9\u05D5\u05D5\u05D4 \u05DC-${d.maximum}`:`\u05E7\u05D8\u05DF \u05DE-${d.maximum}`;return`\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${m} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${g}`}if(d.origin==="array"||d.origin==="set"){let g=d.origin==="set"?"\u05E6\u05E8\u05D9\u05DB\u05D4":"\u05E6\u05E8\u05D9\u05DA",v=d.inclusive?`${d.maximum} ${p?.unit??""} \u05D0\u05D5 \u05E4\u05D7\u05D5\u05EA`:`\u05E4\u05D7\u05D5\u05EA \u05DE-${d.maximum} ${p?.unit??""}`;return`\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${m} ${g} \u05DC\u05D4\u05DB\u05D9\u05DC ${v}`.trim()}let f=d.inclusive?"<=":"<",y=a(d.origin??"value");return p?.unit?`${p.longLabel} \u05DE\u05D3\u05D9: ${m} ${y} ${f}${d.maximum.toString()} ${p.unit}`:`${p?.longLabel??"\u05D2\u05D3\u05D5\u05DC"} \u05DE\u05D3\u05D9: ${m} ${y} ${f}${d.maximum.toString()}`}case"too_small":{let p=c(d.origin),m=r(d.origin??"value");if(d.origin==="string")return`${p?.shortLabel??"\u05E7\u05E6\u05E8"} \u05DE\u05D3\u05D9: ${m} \u05E6\u05E8\u05D9\u05DB\u05D4 \u05DC\u05D4\u05DB\u05D9\u05DC ${d.minimum.toString()} ${p?.unit??""} ${d.inclusive?"\u05D0\u05D5 \u05D9\u05D5\u05EA\u05E8":"\u05DC\u05E4\u05D7\u05D5\u05EA"}`.trim();if(d.origin==="number"){let g=d.inclusive?`\u05D2\u05D3\u05D5\u05DC \u05D0\u05D5 \u05E9\u05D5\u05D5\u05D4 \u05DC-${d.minimum}`:`\u05D2\u05D3\u05D5\u05DC \u05DE-${d.minimum}`;return`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${m} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${g}`}if(d.origin==="array"||d.origin==="set"){let g=d.origin==="set"?"\u05E6\u05E8\u05D9\u05DB\u05D4":"\u05E6\u05E8\u05D9\u05DA";if(d.minimum===1&&d.inclusive){let b=(d.origin==="set","\u05DC\u05E4\u05D7\u05D5\u05EA \u05E4\u05E8\u05D9\u05D8 \u05D0\u05D7\u05D3");return`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${m} ${g} \u05DC\u05D4\u05DB\u05D9\u05DC ${b}`}let v=d.inclusive?`${d.minimum} ${p?.unit??""} \u05D0\u05D5 \u05D9\u05D5\u05EA\u05E8`:`\u05D9\u05D5\u05EA\u05E8 \u05DE-${d.minimum} ${p?.unit??""}`;return`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${m} ${g} \u05DC\u05D4\u05DB\u05D9\u05DC ${v}`.trim()}let f=d.inclusive?">=":">",y=a(d.origin??"value");return p?.unit?`${p.shortLabel} \u05DE\u05D3\u05D9: ${m} ${y} ${f}${d.minimum.toString()} ${p.unit}`:`${p?.shortLabel??"\u05E7\u05D8\u05DF"} \u05DE\u05D3\u05D9: ${m} ${y} ${f}${d.minimum.toString()}`}case"invalid_format":{let p=d;if(p.format==="starts_with")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D7\u05D9\u05DC \u05D1 "${p.prefix}"`;if(p.format==="ends_with")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05E1\u05EA\u05D9\u05D9\u05DD \u05D1 "${p.suffix}"`;if(p.format==="includes")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05DB\u05DC\u05D5\u05DC "${p.includes}"`;if(p.format==="regex")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D0\u05D9\u05DD \u05DC\u05EA\u05D1\u05E0\u05D9\u05EA ${p.pattern}`;let m=l[p.format],f=m?.label??p.format,g=(m?.gender??"m")==="f"?"\u05EA\u05E7\u05D9\u05E0\u05D4":"\u05EA\u05E7\u05D9\u05DF";return`${f} \u05DC\u05D0 ${g}`}case"not_multiple_of":return`\u05DE\u05E1\u05E4\u05E8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D7\u05D9\u05D9\u05D1 \u05DC\u05D4\u05D9\u05D5\u05EA \u05DE\u05DB\u05E4\u05DC\u05D4 \u05E9\u05DC ${d.divisor}`;case"unrecognized_keys":return`\u05DE\u05E4\u05EA\u05D7${d.keys.length>1?"\u05D5\u05EA":""} \u05DC\u05D0 \u05DE\u05D6\u05D5\u05D4${d.keys.length>1?"\u05D9\u05DD":"\u05D4"}: ${P(d.keys,", ")}`;case"invalid_key":return"\u05E9\u05D3\u05D4 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1\u05D0\u05D5\u05D1\u05D9\u05D9\u05E7\u05D8";case"invalid_union":return"\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF";case"invalid_element":return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1${r(d.origin??"array")}`;default:return"\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF"}}},"error");function Tg(){return{localeError:mz()}}s(Tg,"default");var fz=s(()=>{let e={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}};function t(r){return e[r]??null}s(t,"getSizing");let n=s(r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"sz\xE1m";case"object":{if(Array.isArray(r))return"t\xF6mb";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},"parsedType"),o={regex:"bemenet",email:"email c\xEDm",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO id\u0151b\xE9lyeg",date:"ISO d\xE1tum",time:"ISO id\u0151",duration:"ISO id\u0151intervallum",ipv4:"IPv4 c\xEDm",ipv6:"IPv6 c\xEDm",cidrv4:"IPv4 tartom\xE1ny",cidrv6:"IPv6 tartom\xE1ny",base64:"base64-k\xF3dolt string",base64url:"base64url-k\xF3dolt string",json_string:"JSON string",e164:"E.164 sz\xE1m",jwt:"JWT",template_literal:"bemenet"};return r=>{switch(r.code){case"invalid_type":return`\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k ${r.expected}, a kapott \xE9rt\xE9k ${n(r.input)}`;case"invalid_value":return r.values.length===1?`\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k ${U(r.values[0])}`:`\xC9rv\xE9nytelen opci\xF3: valamelyik \xE9rt\xE9k v\xE1rt ${P(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",c=t(r.origin);return c?`T\xFAl nagy: ${r.origin??"\xE9rt\xE9k"} m\xE9rete t\xFAl nagy ${a}${r.maximum.toString()} ${c.unit??"elem"}`:`T\xFAl nagy: a bemeneti \xE9rt\xE9k ${r.origin??"\xE9rt\xE9k"} t\xFAl nagy: ${a}${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?">=":">",c=t(r.origin);return c?`T\xFAl kicsi: a bemeneti \xE9rt\xE9k ${r.origin} m\xE9rete t\xFAl kicsi ${a}${r.minimum.toString()} ${c.unit}`:`T\xFAl kicsi: a bemeneti \xE9rt\xE9k ${r.origin} t\xFAl kicsi ${a}${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`\xC9rv\xE9nytelen string: "${a.prefix}" \xE9rt\xE9kkel kell kezd\u0151dnie`:a.format==="ends_with"?`\xC9rv\xE9nytelen string: "${a.suffix}" \xE9rt\xE9kkel kell v\xE9gz\u0151dnie`:a.format==="includes"?`\xC9rv\xE9nytelen string: "${a.includes}" \xE9rt\xE9ket kell tartalmaznia`:a.format==="regex"?`\xC9rv\xE9nytelen string: ${a.pattern} mint\xE1nak kell megfelelnie`:`\xC9rv\xE9nytelen ${o[a.format]??r.format}`}case"not_multiple_of":return`\xC9rv\xE9nytelen sz\xE1m: ${r.divisor} t\xF6bbsz\xF6r\xF6s\xE9nek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${r.keys.length>1?"s":""}: ${P(r.keys,", ")}`;case"invalid_key":return`\xC9rv\xE9nytelen kulcs ${r.origin}`;case"invalid_union":return"\xC9rv\xE9nytelen bemenet";case"invalid_element":return`\xC9rv\xE9nytelen \xE9rt\xE9k: ${r.origin}`;default:return"\xC9rv\xE9nytelen bemenet"}}},"error");function Eg(){return{localeError:fz()}}s(Eg,"default");var hz=s(()=>{let e={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}};function t(r){return e[r]??null}s(t,"getSizing");let n=s(r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"number";case"object":{if(Array.isArray(r))return"array";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},"parsedType"),o={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"};return r=>{switch(r.code){case"invalid_type":return`Input tidak valid: diharapkan ${r.expected}, diterima ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Input tidak valid: diharapkan ${U(r.values[0])}`:`Pilihan tidak valid: diharapkan salah satu dari ${P(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",c=t(r.origin);return c?`Terlalu besar: diharapkan ${r.origin??"value"} memiliki ${a}${r.maximum.toString()} ${c.unit??"elemen"}`:`Terlalu besar: diharapkan ${r.origin??"value"} menjadi ${a}${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?">=":">",c=t(r.origin);return c?`Terlalu kecil: diharapkan ${r.origin} memiliki ${a}${r.minimum.toString()} ${c.unit}`:`Terlalu kecil: diharapkan ${r.origin} menjadi ${a}${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`String tidak valid: harus dimulai dengan "${a.prefix}"`:a.format==="ends_with"?`String tidak valid: harus berakhir dengan "${a.suffix}"`:a.format==="includes"?`String tidak valid: harus menyertakan "${a.includes}"`:a.format==="regex"?`String tidak valid: harus sesuai pola ${a.pattern}`:`${o[a.format]??r.format} tidak valid`}case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${r.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${r.keys.length>1?"s":""}: ${P(r.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${r.origin}`;case"invalid_union":return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${r.origin}`;default:return"Input tidak valid"}}},"error");function kg(){return{localeError:hz()}}s(kg,"default");var gz=s(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"n\xFAmer";case"object":{if(Array.isArray(e))return"fylki";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},"parsedType"),yz=s(()=>{let e={string:{unit:"stafi",verb:"a\xF0 hafa"},file:{unit:"b\xE6ti",verb:"a\xF0 hafa"},array:{unit:"hluti",verb:"a\xF0 hafa"},set:{unit:"hluti",verb:"a\xF0 hafa"}};function t(o){return e[o]??null}s(t,"getSizing");let n={regex:"gildi",email:"netfang",url:"vefsl\xF3\xF0",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og t\xEDmi",date:"ISO dagsetning",time:"ISO t\xEDmi",duration:"ISO t\xEDmalengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 t\xF6lugildi",jwt:"JWT",template_literal:"gildi"};return o=>{switch(o.code){case"invalid_type":return`Rangt gildi: \xDE\xFA sl\xF3st inn ${gz(o.input)} \xFEar sem \xE1 a\xF0 vera ${o.expected}`;case"invalid_value":return o.values.length===1?`Rangt gildi: gert r\xE1\xF0 fyrir ${U(o.values[0])}`:`\xD3gilt val: m\xE1 vera eitt af eftirfarandi ${P(o.values,"|")}`;case"too_big":{let r=o.inclusive?"<=":"<",a=t(o.origin);return a?`Of st\xF3rt: gert er r\xE1\xF0 fyrir a\xF0 ${o.origin??"gildi"} hafi ${r}${o.maximum.toString()} ${a.unit??"hluti"}`:`Of st\xF3rt: gert er r\xE1\xF0 fyrir a\xF0 ${o.origin??"gildi"} s\xE9 ${r}${o.maximum.toString()}`}case"too_small":{let r=o.inclusive?">=":">",a=t(o.origin);return a?`Of l\xEDti\xF0: gert er r\xE1\xF0 fyrir a\xF0 ${o.origin} hafi ${r}${o.minimum.toString()} ${a.unit}`:`Of l\xEDti\xF0: gert er r\xE1\xF0 fyrir a\xF0 ${o.origin} s\xE9 ${r}${o.minimum.toString()}`}case"invalid_format":{let r=o;return r.format==="starts_with"?`\xD3gildur strengur: ver\xF0ur a\xF0 byrja \xE1 "${r.prefix}"`:r.format==="ends_with"?`\xD3gildur strengur: ver\xF0ur a\xF0 enda \xE1 "${r.suffix}"`:r.format==="includes"?`\xD3gildur strengur: ver\xF0ur a\xF0 innihalda "${r.includes}"`:r.format==="regex"?`\xD3gildur strengur: ver\xF0ur a\xF0 fylgja mynstri ${r.pattern}`:`Rangt ${n[r.format]??o.format}`}case"not_multiple_of":return`R\xF6ng tala: ver\xF0ur a\xF0 vera margfeldi af ${o.divisor}`;case"unrecognized_keys":return`\xD3\xFEekkt ${o.keys.length>1?"ir lyklar":"ur lykill"}: ${P(o.keys,", ")}`;case"invalid_key":return`Rangur lykill \xED ${o.origin}`;case"invalid_union":return"Rangt gildi";case"invalid_element":return`Rangt gildi \xED ${o.origin}`;default:return"Rangt gildi"}}},"error");function Pg(){return{localeError:yz()}}s(Pg,"default");var vz=s(()=>{let e={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}};function t(r){return e[r]??null}s(t,"getSizing");let n=s(r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"numero";case"object":{if(Array.isArray(r))return"vettore";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},"parsedType"),o={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"};return r=>{switch(r.code){case"invalid_type":return`Input non valido: atteso ${r.expected}, ricevuto ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Input non valido: atteso ${U(r.values[0])}`:`Opzione non valida: atteso uno tra ${P(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",c=t(r.origin);return c?`Troppo grande: ${r.origin??"valore"} deve avere ${a}${r.maximum.toString()} ${c.unit??"elementi"}`:`Troppo grande: ${r.origin??"valore"} deve essere ${a}${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?">=":">",c=t(r.origin);return c?`Troppo piccolo: ${r.origin} deve avere ${a}${r.minimum.toString()} ${c.unit}`:`Troppo piccolo: ${r.origin} deve essere ${a}${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`Stringa non valida: deve iniziare con "${a.prefix}"`:a.format==="ends_with"?`Stringa non valida: deve terminare con "${a.suffix}"`:a.format==="includes"?`Stringa non valida: deve includere "${a.includes}"`:a.format==="regex"?`Stringa non valida: deve corrispondere al pattern ${a.pattern}`:`Invalid ${o[a.format]??r.format}`}case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${r.divisor}`;case"unrecognized_keys":return`Chiav${r.keys.length>1?"i":"e"} non riconosciut${r.keys.length>1?"e":"a"}: ${P(r.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${r.origin}`;case"invalid_union":return"Input non valido";case"invalid_element":return`Valore non valido in ${r.origin}`;default:return"Input non valido"}}},"error");function Ag(){return{localeError:vz()}}s(Ag,"default");var _z=s(()=>{let e={string:{unit:"\u6587\u5B57",verb:"\u3067\u3042\u308B"},file:{unit:"\u30D0\u30A4\u30C8",verb:"\u3067\u3042\u308B"},array:{unit:"\u8981\u7D20",verb:"\u3067\u3042\u308B"},set:{unit:"\u8981\u7D20",verb:"\u3067\u3042\u308B"}};function t(r){return e[r]??null}s(t,"getSizing");let n=s(r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"\u6570\u5024";case"object":{if(Array.isArray(r))return"\u914D\u5217";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},"parsedType"),o={regex:"\u5165\u529B\u5024",email:"\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9",url:"URL",emoji:"\u7D75\u6587\u5B57",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO\u65E5\u6642",date:"ISO\u65E5\u4ED8",time:"ISO\u6642\u523B",duration:"ISO\u671F\u9593",ipv4:"IPv4\u30A2\u30C9\u30EC\u30B9",ipv6:"IPv6\u30A2\u30C9\u30EC\u30B9",cidrv4:"IPv4\u7BC4\u56F2",cidrv6:"IPv6\u7BC4\u56F2",base64:"base64\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217",base64url:"base64url\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217",json_string:"JSON\u6587\u5B57\u5217",e164:"E.164\u756A\u53F7",jwt:"JWT",template_literal:"\u5165\u529B\u5024"};return r=>{switch(r.code){case"invalid_type":return`\u7121\u52B9\u306A\u5165\u529B: ${r.expected}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F\u304C\u3001${n(r.input)}\u304C\u5165\u529B\u3055\u308C\u307E\u3057\u305F`;case"invalid_value":return r.values.length===1?`\u7121\u52B9\u306A\u5165\u529B: ${U(r.values[0])}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F`:`\u7121\u52B9\u306A\u9078\u629E: ${P(r.values,"\u3001")}\u306E\u3044\u305A\u308C\u304B\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;case"too_big":{let a=r.inclusive?"\u4EE5\u4E0B\u3067\u3042\u308B":"\u3088\u308A\u5C0F\u3055\u3044",c=t(r.origin);return c?`\u5927\u304D\u3059\u304E\u308B\u5024: ${r.origin??"\u5024"}\u306F${r.maximum.toString()}${c.unit??"\u8981\u7D20"}${a}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u5927\u304D\u3059\u304E\u308B\u5024: ${r.origin??"\u5024"}\u306F${r.maximum.toString()}${a}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`}case"too_small":{let a=r.inclusive?"\u4EE5\u4E0A\u3067\u3042\u308B":"\u3088\u308A\u5927\u304D\u3044",c=t(r.origin);return c?`\u5C0F\u3055\u3059\u304E\u308B\u5024: ${r.origin}\u306F${r.minimum.toString()}${c.unit}${a}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u5C0F\u3055\u3059\u304E\u308B\u5024: ${r.origin}\u306F${r.minimum.toString()}${a}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`}case"invalid_format":{let a=r;return a.format==="starts_with"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${a.prefix}"\u3067\u59CB\u307E\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:a.format==="ends_with"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${a.suffix}"\u3067\u7D42\u308F\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:a.format==="includes"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${a.includes}"\u3092\u542B\u3080\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:a.format==="regex"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: \u30D1\u30BF\u30FC\u30F3${a.pattern}\u306B\u4E00\u81F4\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u7121\u52B9\u306A${o[a.format]??r.format}`}case"not_multiple_of":return`\u7121\u52B9\u306A\u6570\u5024: ${r.divisor}\u306E\u500D\u6570\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;case"unrecognized_keys":return`\u8A8D\u8B58\u3055\u308C\u3066\u3044\u306A\u3044\u30AD\u30FC${r.keys.length>1?"\u7FA4":""}: ${P(r.keys,"\u3001")}`;case"invalid_key":return`${r.origin}\u5185\u306E\u7121\u52B9\u306A\u30AD\u30FC`;case"invalid_union":return"\u7121\u52B9\u306A\u5165\u529B";case"invalid_element":return`${r.origin}\u5185\u306E\u7121\u52B9\u306A\u5024`;default:return"\u7121\u52B9\u306A\u5165\u529B"}}},"error");function $g(){return{localeError:_z()}}s($g,"default");var bz=s(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"\u10E0\u10D8\u10EA\u10EE\u10D5\u10D8";case"object":{if(Array.isArray(e))return"\u10DB\u10D0\u10E1\u10D8\u10D5\u10D8";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return{string:"\u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",boolean:"\u10D1\u10E3\u10DA\u10D4\u10D0\u10DC\u10D8",undefined:"undefined",bigint:"bigint",symbol:"symbol",function:"\u10E4\u10E3\u10DC\u10E5\u10EA\u10D8\u10D0"}[t]??t},"parsedType"),xz=s(()=>{let e={string:{unit:"\u10E1\u10D8\u10DB\u10D1\u10DD\u10DA\u10DD",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"},file:{unit:"\u10D1\u10D0\u10D8\u10E2\u10D8",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"},array:{unit:"\u10D4\u10DA\u10D4\u10DB\u10D4\u10DC\u10E2\u10D8",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"},set:{unit:"\u10D4\u10DA\u10D4\u10DB\u10D4\u10DC\u10E2\u10D8",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"}};function t(o){return e[o]??null}s(t,"getSizing");let n={regex:"\u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0",email:"\u10D4\u10DA-\u10E4\u10DD\u10E1\u10E2\u10D8\u10E1 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",url:"URL",emoji:"\u10D4\u10DB\u10DD\u10EF\u10D8",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u10D7\u10D0\u10E0\u10D8\u10E6\u10D8-\u10D3\u10E0\u10DD",date:"\u10D7\u10D0\u10E0\u10D8\u10E6\u10D8",time:"\u10D3\u10E0\u10DD",duration:"\u10EE\u10D0\u10DC\u10D2\u10E0\u10EB\u10DA\u10D8\u10D5\u10DD\u10D1\u10D0",ipv4:"IPv4 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",ipv6:"IPv6 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",cidrv4:"IPv4 \u10D3\u10D8\u10D0\u10DE\u10D0\u10D6\u10DD\u10DC\u10D8",cidrv6:"IPv6 \u10D3\u10D8\u10D0\u10DE\u10D0\u10D6\u10DD\u10DC\u10D8",base64:"base64-\u10D9\u10DD\u10D3\u10D8\u10E0\u10D4\u10D1\u10E3\u10DA\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",base64url:"base64url-\u10D9\u10DD\u10D3\u10D8\u10E0\u10D4\u10D1\u10E3\u10DA\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",json_string:"JSON \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",e164:"E.164 \u10DC\u10DD\u10DB\u10D4\u10E0\u10D8",jwt:"JWT",template_literal:"\u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0"};return o=>{switch(o.code){case"invalid_type":return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${o.expected}, \u10DB\u10D8\u10E6\u10D4\u10D1\u10E3\u10DA\u10D8 ${bz(o.input)}`;case"invalid_value":return o.values.length===1?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${U(o.values[0])}`:`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10D5\u10D0\u10E0\u10D8\u10D0\u10DC\u10E2\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8\u10D0 \u10D4\u10E0\u10D7-\u10D4\u10E0\u10D7\u10D8 ${P(o.values,"|")}-\u10D3\u10D0\u10DC`;case"too_big":{let r=o.inclusive?"<=":"<",a=t(o.origin);return a?`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10D3\u10D8\u10D3\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${o.origin??"\u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0"} ${a.verb} ${r}${o.maximum.toString()} ${a.unit}`:`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10D3\u10D8\u10D3\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${o.origin??"\u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0"} \u10D8\u10E7\u10DD\u10E1 ${r}${o.maximum.toString()}`}case"too_small":{let r=o.inclusive?">=":">",a=t(o.origin);return a?`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10DE\u10D0\u10E2\u10D0\u10E0\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${o.origin} ${a.verb} ${r}${o.minimum.toString()} ${a.unit}`:`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10DE\u10D0\u10E2\u10D0\u10E0\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${o.origin} \u10D8\u10E7\u10DD\u10E1 ${r}${o.minimum.toString()}`}case"invalid_format":{let r=o;return r.format==="starts_with"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10D8\u10EC\u10E7\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 "${r.prefix}"-\u10D8\u10D7`:r.format==="ends_with"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10DB\u10D7\u10D0\u10D5\u10E0\u10D3\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 "${r.suffix}"-\u10D8\u10D7`:r.format==="includes"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1 "${r.includes}"-\u10E1`:r.format==="regex"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D4\u10E1\u10D0\u10D1\u10D0\u10DB\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 \u10E8\u10D0\u10D1\u10DA\u10DD\u10DC\u10E1 ${r.pattern}`:`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 ${n[r.format]??o.format}`}case"not_multiple_of":return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E0\u10D8\u10EA\u10EE\u10D5\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10D8\u10E7\u10DD\u10E1 ${o.divisor}-\u10D8\u10E1 \u10EF\u10D4\u10E0\u10D0\u10D3\u10D8`;case"unrecognized_keys":return`\u10E3\u10EA\u10DC\u10DD\u10D1\u10D8 \u10D2\u10D0\u10E1\u10D0\u10E6\u10D4\u10D1${o.keys.length>1?"\u10D4\u10D1\u10D8":"\u10D8"}: ${P(o.keys,", ")}`;case"invalid_key":return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10D2\u10D0\u10E1\u10D0\u10E6\u10D4\u10D1\u10D8 ${o.origin}-\u10E8\u10D8`;case"invalid_union":return"\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0";case"invalid_element":return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0 ${o.origin}-\u10E8\u10D8`;default:return"\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0"}}},"error");function Rg(){return{localeError:xz()}}s(Rg,"default");var wz=s(()=>{let e={string:{unit:"\u178F\u17BD\u17A2\u1780\u17D2\u179F\u179A",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},file:{unit:"\u1794\u17C3",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},array:{unit:"\u1792\u17B6\u178F\u17BB",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},set:{unit:"\u1792\u17B6\u178F\u17BB",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"}};function t(r){return e[r]??null}s(t,"getSizing");let n=s(r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"\u1798\u17B7\u1793\u1798\u17C2\u1793\u1787\u17B6\u179B\u17C1\u1781 (NaN)":"\u179B\u17C1\u1781";case"object":{if(Array.isArray(r))return"\u17A2\u17B6\u179A\u17C1 (Array)";if(r===null)return"\u1782\u17D2\u1798\u17B6\u1793\u178F\u1798\u17D2\u179B\u17C3 (null)";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},"parsedType"),o={regex:"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B",email:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793\u17A2\u17CA\u17B8\u1798\u17C2\u179B",url:"URL",emoji:"\u179F\u1789\u17D2\u1789\u17B6\u17A2\u17B6\u179A\u1798\u17D2\u1798\u178E\u17CD",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 \u1793\u17B7\u1784\u1798\u17C9\u17C4\u1784 ISO",date:"\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 ISO",time:"\u1798\u17C9\u17C4\u1784 ISO",duration:"\u179A\u1799\u17C8\u1796\u17C1\u179B ISO",ipv4:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4",ipv6:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6",cidrv4:"\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4",cidrv6:"\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6",base64:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64",base64url:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64url",json_string:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A JSON",e164:"\u179B\u17C1\u1781 E.164",jwt:"JWT",template_literal:"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B"};return r=>{switch(r.code){case"invalid_type":return`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${r.expected} \u1794\u17C9\u17BB\u1793\u17D2\u178F\u17C2\u1791\u1791\u17BD\u179B\u1794\u17B6\u1793 ${n(r.input)}`;case"invalid_value":return r.values.length===1?`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${U(r.values[0])}`:`\u1787\u1798\u17D2\u179A\u17BE\u179F\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1787\u17B6\u1798\u17BD\u1799\u1780\u17D2\u1793\u17BB\u1784\u1785\u17C6\u178E\u17C4\u1798 ${P(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",c=t(r.origin);return c?`\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${r.origin??"\u178F\u1798\u17D2\u179B\u17C3"} ${a} ${r.maximum.toString()} ${c.unit??"\u1792\u17B6\u178F\u17BB"}`:`\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${r.origin??"\u178F\u1798\u17D2\u179B\u17C3"} ${a} ${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?">=":">",c=t(r.origin);return c?`\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${r.origin} ${a} ${r.minimum.toString()} ${c.unit}`:`\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${r.origin} ${a} ${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1785\u17B6\u1794\u17CB\u1795\u17D2\u178F\u17BE\u1798\u178A\u17C4\u1799 "${a.prefix}"`:a.format==="ends_with"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1794\u1789\u17D2\u1785\u1794\u17CB\u178A\u17C4\u1799 "${a.suffix}"`:a.format==="includes"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1798\u17B6\u1793 "${a.includes}"`:a.format==="regex"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1795\u17D2\u1782\u17BC\u1795\u17D2\u1782\u1784\u1793\u17B9\u1784\u1791\u1798\u17D2\u179A\u1784\u17CB\u178A\u17C2\u179B\u1794\u17B6\u1793\u1780\u17C6\u178E\u178F\u17CB ${a.pattern}`:`\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 ${o[a.format]??r.format}`}case"not_multiple_of":return`\u179B\u17C1\u1781\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1787\u17B6\u1796\u17A0\u17BB\u1782\u17BB\u178E\u1793\u17C3 ${r.divisor}`;case"unrecognized_keys":return`\u179A\u1780\u1783\u17BE\u1789\u179F\u17C4\u1798\u17B7\u1793\u179F\u17D2\u1782\u17B6\u179B\u17CB\u17D6 ${P(r.keys,", ")}`;case"invalid_key":return`\u179F\u17C4\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${r.origin}`;case"invalid_union":return"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C";case"invalid_element":return`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${r.origin}`;default:return"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C"}}},"error");function us(){return{localeError:wz()}}s(us,"default");function Og(){return us()}s(Og,"default");var Sz=s(()=>{let e={string:{unit:"\uBB38\uC790",verb:"to have"},file:{unit:"\uBC14\uC774\uD2B8",verb:"to have"},array:{unit:"\uAC1C",verb:"to have"},set:{unit:"\uAC1C",verb:"to have"}};function t(r){return e[r]??null}s(t,"getSizing");let n=s(r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"number";case"object":{if(Array.isArray(r))return"array";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},"parsedType"),o={regex:"\uC785\uB825",email:"\uC774\uBA54\uC77C \uC8FC\uC18C",url:"URL",emoji:"\uC774\uBAA8\uC9C0",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \uB0A0\uC9DC\uC2DC\uAC04",date:"ISO \uB0A0\uC9DC",time:"ISO \uC2DC\uAC04",duration:"ISO \uAE30\uAC04",ipv4:"IPv4 \uC8FC\uC18C",ipv6:"IPv6 \uC8FC\uC18C",cidrv4:"IPv4 \uBC94\uC704",cidrv6:"IPv6 \uBC94\uC704",base64:"base64 \uC778\uCF54\uB529 \uBB38\uC790\uC5F4",base64url:"base64url \uC778\uCF54\uB529 \uBB38\uC790\uC5F4",json_string:"JSON \uBB38\uC790\uC5F4",e164:"E.164 \uBC88\uD638",jwt:"JWT",template_literal:"\uC785\uB825"};return r=>{switch(r.code){case"invalid_type":return`\uC798\uBABB\uB41C \uC785\uB825: \uC608\uC0C1 \uD0C0\uC785\uC740 ${r.expected}, \uBC1B\uC740 \uD0C0\uC785\uC740 ${n(r.input)}\uC785\uB2C8\uB2E4`;case"invalid_value":return r.values.length===1?`\uC798\uBABB\uB41C \uC785\uB825: \uAC12\uC740 ${U(r.values[0])} \uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4`:`\uC798\uBABB\uB41C \uC635\uC158: ${P(r.values,"\uB610\uB294 ")} \uC911 \uD558\uB098\uC5EC\uC57C \uD569\uB2C8\uB2E4`;case"too_big":{let a=r.inclusive?"\uC774\uD558":"\uBBF8\uB9CC",c=a==="\uBBF8\uB9CC"?"\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4":"\uC5EC\uC57C \uD569\uB2C8\uB2E4",u=t(r.origin),l=u?.unit??"\uC694\uC18C";return u?`${r.origin??"\uAC12"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${r.maximum.toString()}${l} ${a}${c}`:`${r.origin??"\uAC12"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${r.maximum.toString()} ${a}${c}`}case"too_small":{let a=r.inclusive?"\uC774\uC0C1":"\uCD08\uACFC",c=a==="\uC774\uC0C1"?"\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4":"\uC5EC\uC57C \uD569\uB2C8\uB2E4",u=t(r.origin),l=u?.unit??"\uC694\uC18C";return u?`${r.origin??"\uAC12"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${r.minimum.toString()}${l} ${a}${c}`:`${r.origin??"\uAC12"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${r.minimum.toString()} ${a}${c}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${a.prefix}"(\uC73C)\uB85C \uC2DC\uC791\uD574\uC57C \uD569\uB2C8\uB2E4`:a.format==="ends_with"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${a.suffix}"(\uC73C)\uB85C \uB05D\uB098\uC57C \uD569\uB2C8\uB2E4`:a.format==="includes"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${a.includes}"\uC744(\uB97C) \uD3EC\uD568\uD574\uC57C \uD569\uB2C8\uB2E4`:a.format==="regex"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: \uC815\uADDC\uC2DD ${a.pattern} \uD328\uD134\uACFC \uC77C\uCE58\uD574\uC57C \uD569\uB2C8\uB2E4`:`\uC798\uBABB\uB41C ${o[a.format]??r.format}`}case"not_multiple_of":return`\uC798\uBABB\uB41C \uC22B\uC790: ${r.divisor}\uC758 \uBC30\uC218\uC5EC\uC57C \uD569\uB2C8\uB2E4`;case"unrecognized_keys":return`\uC778\uC2DD\uD560 \uC218 \uC5C6\uB294 \uD0A4: ${P(r.keys,", ")}`;case"invalid_key":return`\uC798\uBABB\uB41C \uD0A4: ${r.origin}`;case"invalid_union":return"\uC798\uBABB\uB41C \uC785\uB825";case"invalid_element":return`\uC798\uBABB\uB41C \uAC12: ${r.origin}`;default:return"\uC798\uBABB\uB41C \uC785\uB825"}}},"error");function Cg(){return{localeError:Sz()}}s(Cg,"default");var Iz=s(e=>ds(typeof e,e),"parsedType"),ds=s((e,t=void 0)=>{switch(e){case"number":return Number.isNaN(t)?"NaN":"skai\u010Dius";case"bigint":return"sveikasis skai\u010Dius";case"string":return"eilut\u0117";case"boolean":return"login\u0117 reik\u0161m\u0117";case"undefined":case"void":return"neapibr\u0117\u017Eta reik\u0161m\u0117";case"function":return"funkcija";case"symbol":return"simbolis";case"object":return t===void 0?"ne\u017Einomas objektas":t===null?"nulin\u0117 reik\u0161m\u0117":Array.isArray(t)?"masyvas":Object.getPrototypeOf(t)!==Object.prototype&&t.constructor?t.constructor.name:"objektas";case"null":return"nulin\u0117 reik\u0161m\u0117"}return e},"parsedTypeFromType"),ls=s(e=>e.charAt(0).toUpperCase()+e.slice(1),"capitalizeFirstCharacter");function DI(e){let t=Math.abs(e),n=t%10,o=t%100;return o>=11&&o<=19||n===0?"many":n===1?"one":"few"}s(DI,"getUnitTypeFromNumber");var Tz=s(()=>{let e={string:{unit:{one:"simbolis",few:"simboliai",many:"simboli\u0173"},verb:{smaller:{inclusive:"turi b\u016Bti ne ilgesn\u0117 kaip",notInclusive:"turi b\u016Bti trumpesn\u0117 kaip"},bigger:{inclusive:"turi b\u016Bti ne trumpesn\u0117 kaip",notInclusive:"turi b\u016Bti ilgesn\u0117 kaip"}}},file:{unit:{one:"baitas",few:"baitai",many:"bait\u0173"},verb:{smaller:{inclusive:"turi b\u016Bti ne didesnis kaip",notInclusive:"turi b\u016Bti ma\u017Eesnis kaip"},bigger:{inclusive:"turi b\u016Bti ne ma\u017Eesnis kaip",notInclusive:"turi b\u016Bti didesnis kaip"}}},array:{unit:{one:"element\u0105",few:"elementus",many:"element\u0173"},verb:{smaller:{inclusive:"turi tur\u0117ti ne daugiau kaip",notInclusive:"turi tur\u0117ti ma\u017Eiau kaip"},bigger:{inclusive:"turi tur\u0117ti ne ma\u017Eiau kaip",notInclusive:"turi tur\u0117ti daugiau kaip"}}},set:{unit:{one:"element\u0105",few:"elementus",many:"element\u0173"},verb:{smaller:{inclusive:"turi tur\u0117ti ne daugiau kaip",notInclusive:"turi tur\u0117ti ma\u017Eiau kaip"},bigger:{inclusive:"turi tur\u0117ti ne ma\u017Eiau kaip",notInclusive:"turi tur\u0117ti daugiau kaip"}}}};function t(o,r,a,c){let u=e[o]??null;return u===null?u:{unit:u.unit[r],verb:u.verb[c][a?"inclusive":"notInclusive"]}}s(t,"getSizing");let n={regex:"\u012Fvestis",email:"el. pa\u0161to adresas",url:"URL",emoji:"jaustukas",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO data ir laikas",date:"ISO data",time:"ISO laikas",duration:"ISO trukm\u0117",ipv4:"IPv4 adresas",ipv6:"IPv6 adresas",cidrv4:"IPv4 tinklo prefiksas (CIDR)",cidrv6:"IPv6 tinklo prefiksas (CIDR)",base64:"base64 u\u017Ekoduota eilut\u0117",base64url:"base64url u\u017Ekoduota eilut\u0117",json_string:"JSON eilut\u0117",e164:"E.164 numeris",jwt:"JWT",template_literal:"\u012Fvestis"};return o=>{switch(o.code){case"invalid_type":return`Gautas tipas ${Iz(o.input)}, o tik\u0117tasi - ${ds(o.expected)}`;case"invalid_value":return o.values.length===1?`Privalo b\u016Bti ${U(o.values[0])}`:`Privalo b\u016Bti vienas i\u0161 ${P(o.values,"|")} pasirinkim\u0173`;case"too_big":{let r=ds(o.origin),a=t(o.origin,DI(Number(o.maximum)),o.inclusive??!1,"smaller");if(a?.verb)return`${ls(r??o.origin??"reik\u0161m\u0117")} ${a.verb} ${o.maximum.toString()} ${a.unit??"element\u0173"}`;let c=o.inclusive?"ne didesnis kaip":"ma\u017Eesnis kaip";return`${ls(r??o.origin??"reik\u0161m\u0117")} turi b\u016Bti ${c} ${o.maximum.toString()} ${a?.unit}`}case"too_small":{let r=ds(o.origin),a=t(o.origin,DI(Number(o.minimum)),o.inclusive??!1,"bigger");if(a?.verb)return`${ls(r??o.origin??"reik\u0161m\u0117")} ${a.verb} ${o.minimum.toString()} ${a.unit??"element\u0173"}`;let c=o.inclusive?"ne ma\u017Eesnis kaip":"didesnis kaip";return`${ls(r??o.origin??"reik\u0161m\u0117")} turi b\u016Bti ${c} ${o.minimum.toString()} ${a?.unit}`}case"invalid_format":{let r=o;return r.format==="starts_with"?`Eilut\u0117 privalo prasid\u0117ti "${r.prefix}"`:r.format==="ends_with"?`Eilut\u0117 privalo pasibaigti "${r.suffix}"`:r.format==="includes"?`Eilut\u0117 privalo \u012Ftraukti "${r.includes}"`:r.format==="regex"?`Eilut\u0117 privalo atitikti ${r.pattern}`:`Neteisingas ${n[r.format]??o.format}`}case"not_multiple_of":return`Skai\u010Dius privalo b\u016Bti ${o.divisor} kartotinis.`;case"unrecognized_keys":return`Neatpa\u017Eint${o.keys.length>1?"i":"as"} rakt${o.keys.length>1?"ai":"as"}: ${P(o.keys,", ")}`;case"invalid_key":return"Rastas klaidingas raktas";case"invalid_union":return"Klaidinga \u012Fvestis";case"invalid_element":{let r=ds(o.origin);return`${ls(r??o.origin??"reik\u0161m\u0117")} turi klaiding\u0105 \u012Fvest\u012F`}default:return"Klaidinga \u012Fvestis"}}},"error");function Ng(){return{localeError:Tz()}}s(Ng,"default");var Ez=s(()=>{let e={string:{unit:"\u0437\u043D\u0430\u0446\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},file:{unit:"\u0431\u0430\u0458\u0442\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},array:{unit:"\u0441\u0442\u0430\u0432\u043A\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},set:{unit:"\u0441\u0442\u0430\u0432\u043A\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"}};function t(r){return e[r]??null}s(t,"getSizing");let n=s(r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"\u0431\u0440\u043E\u0458";case"object":{if(Array.isArray(r))return"\u043D\u0438\u0437\u0430";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},"parsedType"),o={regex:"\u0432\u043D\u0435\u0441",email:"\u0430\u0434\u0440\u0435\u0441\u0430 \u043D\u0430 \u0435-\u043F\u043E\u0448\u0442\u0430",url:"URL",emoji:"\u0435\u043C\u043E\u045F\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0443\u043C \u0438 \u0432\u0440\u0435\u043C\u0435",date:"ISO \u0434\u0430\u0442\u0443\u043C",time:"ISO \u0432\u0440\u0435\u043C\u0435",duration:"ISO \u0432\u0440\u0435\u043C\u0435\u0442\u0440\u0430\u0435\u045A\u0435",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441\u0430",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441\u0430",cidrv4:"IPv4 \u043E\u043F\u0441\u0435\u0433",cidrv6:"IPv6 \u043E\u043F\u0441\u0435\u0433",base64:"base64-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430",base64url:"base64url-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430",json_string:"JSON \u043D\u0438\u0437\u0430",e164:"E.164 \u0431\u0440\u043E\u0458",jwt:"JWT",template_literal:"\u0432\u043D\u0435\u0441"};return r=>{switch(r.code){case"invalid_type":return`\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${r.expected}, \u043F\u0440\u0438\u043C\u0435\u043D\u043E ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Invalid input: expected ${U(r.values[0])}`:`\u0413\u0440\u0435\u0448\u0430\u043D\u0430 \u043E\u043F\u0446\u0438\u0458\u0430: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 \u0435\u0434\u043D\u0430 ${P(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",c=t(r.origin);return c?`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${r.origin??"\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430"} \u0434\u0430 \u0438\u043C\u0430 ${a}${r.maximum.toString()} ${c.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0438"}`:`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${r.origin??"\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430"} \u0434\u0430 \u0431\u0438\u0434\u0435 ${a}${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?">=":">",c=t(r.origin);return c?`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${r.origin} \u0434\u0430 \u0438\u043C\u0430 ${a}${r.minimum.toString()} ${c.unit}`:`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${r.origin} \u0434\u0430 \u0431\u0438\u0434\u0435 ${a}${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u043F\u043E\u0447\u043D\u0443\u0432\u0430 \u0441\u043E "${a.prefix}"`:a.format==="ends_with"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u0432\u0440\u0448\u0443\u0432\u0430 \u0441\u043E "${a.suffix}"`:a.format==="includes"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0432\u043A\u043B\u0443\u0447\u0443\u0432\u0430 "${a.includes}"`:a.format==="regex"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u043E\u0434\u0433\u043E\u0430\u0440\u0430 \u043D\u0430 \u043F\u0430\u0442\u0435\u0440\u043D\u043E\u0442 ${a.pattern}`:`Invalid ${o[a.format]??r.format}`}case"not_multiple_of":return`\u0413\u0440\u0435\u0448\u0435\u043D \u0431\u0440\u043E\u0458: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0431\u0438\u0434\u0435 \u0434\u0435\u043B\u0438\u0432 \u0441\u043E ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D\u0438 \u043A\u043B\u0443\u0447\u0435\u0432\u0438":"\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D \u043A\u043B\u0443\u0447"}: ${P(r.keys,", ")}`;case"invalid_key":return`\u0413\u0440\u0435\u0448\u0435\u043D \u043A\u043B\u0443\u0447 \u0432\u043E ${r.origin}`;case"invalid_union":return"\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441";case"invalid_element":return`\u0413\u0440\u0435\u0448\u043D\u0430 \u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442 \u0432\u043E ${r.origin}`;default:return"\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441"}}},"error");function jg(){return{localeError:Ez()}}s(jg,"default");var kz=s(()=>{let e={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}};function t(r){return e[r]??null}s(t,"getSizing");let n=s(r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"nombor";case"object":{if(Array.isArray(r))return"array";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},"parsedType"),o={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"};return r=>{switch(r.code){case"invalid_type":return`Input tidak sah: dijangka ${r.expected}, diterima ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Input tidak sah: dijangka ${U(r.values[0])}`:`Pilihan tidak sah: dijangka salah satu daripada ${P(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",c=t(r.origin);return c?`Terlalu besar: dijangka ${r.origin??"nilai"} ${c.verb} ${a}${r.maximum.toString()} ${c.unit??"elemen"}`:`Terlalu besar: dijangka ${r.origin??"nilai"} adalah ${a}${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?">=":">",c=t(r.origin);return c?`Terlalu kecil: dijangka ${r.origin} ${c.verb} ${a}${r.minimum.toString()} ${c.unit}`:`Terlalu kecil: dijangka ${r.origin} adalah ${a}${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`String tidak sah: mesti bermula dengan "${a.prefix}"`:a.format==="ends_with"?`String tidak sah: mesti berakhir dengan "${a.suffix}"`:a.format==="includes"?`String tidak sah: mesti mengandungi "${a.includes}"`:a.format==="regex"?`String tidak sah: mesti sepadan dengan corak ${a.pattern}`:`${o[a.format]??r.format} tidak sah`}case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${r.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${P(r.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${r.origin}`;case"invalid_union":return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${r.origin}`;default:return"Input tidak sah"}}},"error");function Dg(){return{localeError:kz()}}s(Dg,"default");var Pz=s(()=>{let e={string:{unit:"tekens",verb:"te hebben"},file:{unit:"bytes",verb:"te hebben"},array:{unit:"elementen",verb:"te hebben"},set:{unit:"elementen",verb:"te hebben"}};function t(r){return e[r]??null}s(t,"getSizing");let n=s(r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"getal";case"object":{if(Array.isArray(r))return"array";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},"parsedType"),o={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"};return r=>{switch(r.code){case"invalid_type":return`Ongeldige invoer: verwacht ${r.expected}, ontving ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Ongeldige invoer: verwacht ${U(r.values[0])}`:`Ongeldige optie: verwacht \xE9\xE9n van ${P(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",c=t(r.origin);return c?`Te groot: verwacht dat ${r.origin??"waarde"} ${c.verb} ${a}${r.maximum.toString()} ${c.unit??"elementen"}`:`Te groot: verwacht dat ${r.origin??"waarde"} ${a}${r.maximum.toString()} is`}case"too_small":{let a=r.inclusive?">=":">",c=t(r.origin);return c?`Te klein: verwacht dat ${r.origin} ${c.verb} ${a}${r.minimum.toString()} ${c.unit}`:`Te klein: verwacht dat ${r.origin} ${a}${r.minimum.toString()} is`}case"invalid_format":{let a=r;return a.format==="starts_with"?`Ongeldige tekst: moet met "${a.prefix}" beginnen`:a.format==="ends_with"?`Ongeldige tekst: moet op "${a.suffix}" eindigen`:a.format==="includes"?`Ongeldige tekst: moet "${a.includes}" bevatten`:a.format==="regex"?`Ongeldige tekst: moet overeenkomen met patroon ${a.pattern}`:`Ongeldig: ${o[a.format]??r.format}`}case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${r.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${r.keys.length>1?"s":""}: ${P(r.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${r.origin}`;case"invalid_union":return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${r.origin}`;default:return"Ongeldige invoer"}}},"error");function zg(){return{localeError:Pz()}}s(zg,"default");var Az=s(()=>{let e={string:{unit:"tegn",verb:"\xE5 ha"},file:{unit:"bytes",verb:"\xE5 ha"},array:{unit:"elementer",verb:"\xE5 inneholde"},set:{unit:"elementer",verb:"\xE5 inneholde"}};function t(r){return e[r]??null}s(t,"getSizing");let n=s(r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"tall";case"object":{if(Array.isArray(r))return"liste";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},"parsedType"),o={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omr\xE5de",ipv6:"IPv6-omr\xE5de",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return r=>{switch(r.code){case"invalid_type":return`Ugyldig input: forventet ${r.expected}, fikk ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Ugyldig verdi: forventet ${U(r.values[0])}`:`Ugyldig valg: forventet en av ${P(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",c=t(r.origin);return c?`For stor(t): forventet ${r.origin??"value"} til \xE5 ha ${a}${r.maximum.toString()} ${c.unit??"elementer"}`:`For stor(t): forventet ${r.origin??"value"} til \xE5 ha ${a}${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?">=":">",c=t(r.origin);return c?`For lite(n): forventet ${r.origin} til \xE5 ha ${a}${r.minimum.toString()} ${c.unit}`:`For lite(n): forventet ${r.origin} til \xE5 ha ${a}${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`Ugyldig streng: m\xE5 starte med "${a.prefix}"`:a.format==="ends_with"?`Ugyldig streng: m\xE5 ende med "${a.suffix}"`:a.format==="includes"?`Ugyldig streng: m\xE5 inneholde "${a.includes}"`:a.format==="regex"?`Ugyldig streng: m\xE5 matche m\xF8nsteret ${a.pattern}`:`Ugyldig ${o[a.format]??r.format}`}case"not_multiple_of":return`Ugyldig tall: m\xE5 v\xE6re et multiplum av ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"Ukjente n\xF8kler":"Ukjent n\xF8kkel"}: ${P(r.keys,", ")}`;case"invalid_key":return`Ugyldig n\xF8kkel i ${r.origin}`;case"invalid_union":return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${r.origin}`;default:return"Ugyldig input"}}},"error");function Mg(){return{localeError:Az()}}s(Mg,"default");var $z=s(()=>{let e={string:{unit:"harf",verb:"olmal\u0131d\u0131r"},file:{unit:"bayt",verb:"olmal\u0131d\u0131r"},array:{unit:"unsur",verb:"olmal\u0131d\u0131r"},set:{unit:"unsur",verb:"olmal\u0131d\u0131r"}};function t(r){return e[r]??null}s(t,"getSizing");let n=s(r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"numara";case"object":{if(Array.isArray(r))return"saf";if(r===null)return"gayb";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},"parsedType"),o={regex:"giren",email:"epostag\xE2h",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO heng\xE2m\u0131",date:"ISO tarihi",time:"ISO zaman\u0131",duration:"ISO m\xFCddeti",ipv4:"IPv4 ni\u015F\xE2n\u0131",ipv6:"IPv6 ni\u015F\xE2n\u0131",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-\u015Fifreli metin",base64url:"base64url-\u015Fifreli metin",json_string:"JSON metin",e164:"E.164 say\u0131s\u0131",jwt:"JWT",template_literal:"giren"};return r=>{switch(r.code){case"invalid_type":return`F\xE2sit giren: umulan ${r.expected}, al\u0131nan ${n(r.input)}`;case"invalid_value":return r.values.length===1?`F\xE2sit giren: umulan ${U(r.values[0])}`:`F\xE2sit tercih: m\xFBteberler ${P(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",c=t(r.origin);return c?`Fazla b\xFCy\xFCk: ${r.origin??"value"}, ${a}${r.maximum.toString()} ${c.unit??"elements"} sahip olmal\u0131yd\u0131.`:`Fazla b\xFCy\xFCk: ${r.origin??"value"}, ${a}${r.maximum.toString()} olmal\u0131yd\u0131.`}case"too_small":{let a=r.inclusive?">=":">",c=t(r.origin);return c?`Fazla k\xFC\xE7\xFCk: ${r.origin}, ${a}${r.minimum.toString()} ${c.unit} sahip olmal\u0131yd\u0131.`:`Fazla k\xFC\xE7\xFCk: ${r.origin}, ${a}${r.minimum.toString()} olmal\u0131yd\u0131.`}case"invalid_format":{let a=r;return a.format==="starts_with"?`F\xE2sit metin: "${a.prefix}" ile ba\u015Flamal\u0131.`:a.format==="ends_with"?`F\xE2sit metin: "${a.suffix}" ile bitmeli.`:a.format==="includes"?`F\xE2sit metin: "${a.includes}" ihtiv\xE2 etmeli.`:a.format==="regex"?`F\xE2sit metin: ${a.pattern} nak\u015F\u0131na uymal\u0131.`:`F\xE2sit ${o[a.format]??r.format}`}case"not_multiple_of":return`F\xE2sit say\u0131: ${r.divisor} kat\u0131 olmal\u0131yd\u0131.`;case"unrecognized_keys":return`Tan\u0131nmayan anahtar ${r.keys.length>1?"s":""}: ${P(r.keys,", ")}`;case"invalid_key":return`${r.origin} i\xE7in tan\u0131nmayan anahtar var.`;case"invalid_union":return"Giren tan\u0131namad\u0131.";case"invalid_element":return`${r.origin} i\xE7in tan\u0131nmayan k\u0131ymet var.`;default:return"K\u0131ymet tan\u0131namad\u0131."}}},"error");function Ug(){return{localeError:$z()}}s(Ug,"default");var Rz=s(()=>{let e={string:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"},file:{unit:"\u0628\u0627\u06CC\u067C\u0633",verb:"\u0648\u0644\u0631\u064A"},array:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"},set:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"}};function t(r){return e[r]??null}s(t,"getSizing");let n=s(r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"\u0639\u062F\u062F";case"object":{if(Array.isArray(r))return"\u0627\u0631\u06D0";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},"parsedType"),o={regex:"\u0648\u0631\u0648\u062F\u064A",email:"\u0628\u0631\u06CC\u069A\u0646\u0627\u0644\u06CC\u06A9",url:"\u06CC\u0648 \u0622\u0631 \u0627\u0644",emoji:"\u0627\u06CC\u0645\u0648\u062C\u064A",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0646\u06CC\u067C\u0647 \u0627\u0648 \u0648\u062E\u062A",date:"\u0646\u06D0\u067C\u0647",time:"\u0648\u062E\u062A",duration:"\u0645\u0648\u062F\u0647",ipv4:"\u062F IPv4 \u067E\u062A\u0647",ipv6:"\u062F IPv6 \u067E\u062A\u0647",cidrv4:"\u062F IPv4 \u0633\u0627\u062D\u0647",cidrv6:"\u062F IPv6 \u0633\u0627\u062D\u0647",base64:"base64-encoded \u0645\u062A\u0646",base64url:"base64url-encoded \u0645\u062A\u0646",json_string:"JSON \u0645\u062A\u0646",e164:"\u062F E.164 \u0634\u0645\u06D0\u0631\u0647",jwt:"JWT",template_literal:"\u0648\u0631\u0648\u062F\u064A"};return r=>{switch(r.code){case"invalid_type":return`\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${r.expected} \u0648\u0627\u06CC, \u0645\u06AB\u0631 ${n(r.input)} \u062A\u0631\u0644\u0627\u0633\u0647 \u0634\u0648`;case"invalid_value":return r.values.length===1?`\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${U(r.values[0])} \u0648\u0627\u06CC`:`\u0646\u0627\u0633\u0645 \u0627\u0646\u062A\u062E\u0627\u0628: \u0628\u0627\u06CC\u062F \u06CC\u0648 \u0644\u0647 ${P(r.values,"|")} \u0685\u062E\u0647 \u0648\u0627\u06CC`;case"too_big":{let a=r.inclusive?"<=":"<",c=t(r.origin);return c?`\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${r.origin??"\u0627\u0631\u0632\u069A\u062A"} \u0628\u0627\u06CC\u062F ${a}${r.maximum.toString()} ${c.unit??"\u0639\u0646\u0635\u0631\u0648\u0646\u0647"} \u0648\u0644\u0631\u064A`:`\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${r.origin??"\u0627\u0631\u0632\u069A\u062A"} \u0628\u0627\u06CC\u062F ${a}${r.maximum.toString()} \u0648\u064A`}case"too_small":{let a=r.inclusive?">=":">",c=t(r.origin);return c?`\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${r.origin} \u0628\u0627\u06CC\u062F ${a}${r.minimum.toString()} ${c.unit} \u0648\u0644\u0631\u064A`:`\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${r.origin} \u0628\u0627\u06CC\u062F ${a}${r.minimum.toString()} \u0648\u064A`}case"invalid_format":{let a=r;return a.format==="starts_with"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F "${a.prefix}" \u0633\u0631\u0647 \u067E\u06CC\u0644 \u0634\u064A`:a.format==="ends_with"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F "${a.suffix}" \u0633\u0631\u0647 \u067E\u0627\u06CC \u062A\u0647 \u0648\u0631\u0633\u064A\u0696\u064A`:a.format==="includes"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F "${a.includes}" \u0648\u0644\u0631\u064A`:a.format==="regex"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F ${a.pattern} \u0633\u0631\u0647 \u0645\u0637\u0627\u0628\u0642\u062A \u0648\u0644\u0631\u064A`:`${o[a.format]??r.format} \u0646\u0627\u0633\u0645 \u062F\u06CC`}case"not_multiple_of":return`\u0646\u0627\u0633\u0645 \u0639\u062F\u062F: \u0628\u0627\u06CC\u062F \u062F ${r.divisor} \u0645\u0636\u0631\u0628 \u0648\u064A`;case"unrecognized_keys":return`\u0646\u0627\u0633\u0645 ${r.keys.length>1?"\u06A9\u0644\u06CC\u0689\u0648\u0646\u0647":"\u06A9\u0644\u06CC\u0689"}: ${P(r.keys,", ")}`;case"invalid_key":return`\u0646\u0627\u0633\u0645 \u06A9\u0644\u06CC\u0689 \u067E\u0647 ${r.origin} \u06A9\u06D0`;case"invalid_union":return"\u0646\u0627\u0633\u0645\u0647 \u0648\u0631\u0648\u062F\u064A";case"invalid_element":return`\u0646\u0627\u0633\u0645 \u0639\u0646\u0635\u0631 \u067E\u0647 ${r.origin} \u06A9\u06D0`;default:return"\u0646\u0627\u0633\u0645\u0647 \u0648\u0631\u0648\u062F\u064A"}}},"error");function Lg(){return{localeError:Rz()}}s(Lg,"default");var Oz=s(()=>{let e={string:{unit:"znak\xF3w",verb:"mie\u0107"},file:{unit:"bajt\xF3w",verb:"mie\u0107"},array:{unit:"element\xF3w",verb:"mie\u0107"},set:{unit:"element\xF3w",verb:"mie\u0107"}};function t(r){return e[r]??null}s(t,"getSizing");let n=s(r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"liczba";case"object":{if(Array.isArray(r))return"tablica";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},"parsedType"),o={regex:"wyra\u017Cenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"ci\u0105g znak\xF3w zakodowany w formacie base64",base64url:"ci\u0105g znak\xF3w zakodowany w formacie base64url",json_string:"ci\u0105g znak\xF3w w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wej\u015Bcie"};return r=>{switch(r.code){case"invalid_type":return`Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${r.expected}, otrzymano ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${U(r.values[0])}`:`Nieprawid\u0142owa opcja: oczekiwano jednej z warto\u015Bci ${P(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",c=t(r.origin);return c?`Za du\u017Ca warto\u015B\u0107: oczekiwano, \u017Ce ${r.origin??"warto\u015B\u0107"} b\u0119dzie mie\u0107 ${a}${r.maximum.toString()} ${c.unit??"element\xF3w"}`:`Zbyt du\u017C(y/a/e): oczekiwano, \u017Ce ${r.origin??"warto\u015B\u0107"} b\u0119dzie wynosi\u0107 ${a}${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?">=":">",c=t(r.origin);return c?`Za ma\u0142a warto\u015B\u0107: oczekiwano, \u017Ce ${r.origin??"warto\u015B\u0107"} b\u0119dzie mie\u0107 ${a}${r.minimum.toString()} ${c.unit??"element\xF3w"}`:`Zbyt ma\u0142(y/a/e): oczekiwano, \u017Ce ${r.origin??"warto\u015B\u0107"} b\u0119dzie wynosi\u0107 ${a}${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi zaczyna\u0107 si\u0119 od "${a.prefix}"`:a.format==="ends_with"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi ko\u0144czy\u0107 si\u0119 na "${a.suffix}"`:a.format==="includes"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi zawiera\u0107 "${a.includes}"`:a.format==="regex"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi odpowiada\u0107 wzorcowi ${a.pattern}`:`Nieprawid\u0142ow(y/a/e) ${o[a.format]??r.format}`}case"not_multiple_of":return`Nieprawid\u0142owa liczba: musi by\u0107 wielokrotno\u015Bci\u0105 ${r.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${r.keys.length>1?"s":""}: ${P(r.keys,", ")}`;case"invalid_key":return`Nieprawid\u0142owy klucz w ${r.origin}`;case"invalid_union":return"Nieprawid\u0142owe dane wej\u015Bciowe";case"invalid_element":return`Nieprawid\u0142owa warto\u015B\u0107 w ${r.origin}`;default:return"Nieprawid\u0142owe dane wej\u015Bciowe"}}},"error");function qg(){return{localeError:Oz()}}s(qg,"default");var Cz=s(()=>{let e={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}};function t(r){return e[r]??null}s(t,"getSizing");let n=s(r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"n\xFAmero";case"object":{if(Array.isArray(r))return"array";if(r===null)return"nulo";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},"parsedType"),o={regex:"padr\xE3o",email:"endere\xE7o de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"dura\xE7\xE3o ISO",ipv4:"endere\xE7o IPv4",ipv6:"endere\xE7o IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"};return r=>{switch(r.code){case"invalid_type":return`Tipo inv\xE1lido: esperado ${r.expected}, recebido ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Entrada inv\xE1lida: esperado ${U(r.values[0])}`:`Op\xE7\xE3o inv\xE1lida: esperada uma das ${P(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",c=t(r.origin);return c?`Muito grande: esperado que ${r.origin??"valor"} tivesse ${a}${r.maximum.toString()} ${c.unit??"elementos"}`:`Muito grande: esperado que ${r.origin??"valor"} fosse ${a}${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?">=":">",c=t(r.origin);return c?`Muito pequeno: esperado que ${r.origin} tivesse ${a}${r.minimum.toString()} ${c.unit}`:`Muito pequeno: esperado que ${r.origin} fosse ${a}${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`Texto inv\xE1lido: deve come\xE7ar com "${a.prefix}"`:a.format==="ends_with"?`Texto inv\xE1lido: deve terminar com "${a.suffix}"`:a.format==="includes"?`Texto inv\xE1lido: deve incluir "${a.includes}"`:a.format==="regex"?`Texto inv\xE1lido: deve corresponder ao padr\xE3o ${a.pattern}`:`${o[a.format]??r.format} inv\xE1lido`}case"not_multiple_of":return`N\xFAmero inv\xE1lido: deve ser m\xFAltiplo de ${r.divisor}`;case"unrecognized_keys":return`Chave${r.keys.length>1?"s":""} desconhecida${r.keys.length>1?"s":""}: ${P(r.keys,", ")}`;case"invalid_key":return`Chave inv\xE1lida em ${r.origin}`;case"invalid_union":return"Entrada inv\xE1lida";case"invalid_element":return`Valor inv\xE1lido em ${r.origin}`;default:return"Campo inv\xE1lido"}}},"error");function Fg(){return{localeError:Cz()}}s(Fg,"default");function zI(e,t,n,o){let r=Math.abs(e),a=r%10,c=r%100;return c>=11&&c<=19?o:a===1?t:a>=2&&a<=4?n:o}s(zI,"getRussianPlural");var Nz=s(()=>{let e={string:{unit:{one:"\u0441\u0438\u043C\u0432\u043E\u043B",few:"\u0441\u0438\u043C\u0432\u043E\u043B\u0430",many:"\u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"},file:{unit:{one:"\u0431\u0430\u0439\u0442",few:"\u0431\u0430\u0439\u0442\u0430",many:"\u0431\u0430\u0439\u0442"},verb:"\u0438\u043C\u0435\u0442\u044C"},array:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"},set:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"}};function t(r){return e[r]??null}s(t,"getSizing");let n=s(r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"\u0447\u0438\u0441\u043B\u043E";case"object":{if(Array.isArray(r))return"\u043C\u0430\u0441\u0441\u0438\u0432";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},"parsedType"),o={regex:"\u0432\u0432\u043E\u0434",email:"email \u0430\u0434\u0440\u0435\u0441",url:"URL",emoji:"\u044D\u043C\u043E\u0434\u0437\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043C\u044F",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0432\u0440\u0435\u043C\u044F",duration:"ISO \u0434\u043B\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441",cidrv4:"IPv4 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",base64:"\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64",base64url:"\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64url",json_string:"JSON \u0441\u0442\u0440\u043E\u043A\u0430",e164:"\u043D\u043E\u043C\u0435\u0440 E.164",jwt:"JWT",template_literal:"\u0432\u0432\u043E\u0434"};return r=>{switch(r.code){case"invalid_type":return`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${r.expected}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u043E ${n(r.input)}`;case"invalid_value":return r.values.length===1?`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${U(r.values[0])}`:`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0430\u0440\u0438\u0430\u043D\u0442: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C \u043E\u0434\u043D\u043E \u0438\u0437 ${P(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",c=t(r.origin);if(c){let u=Number(r.maximum),l=zI(u,c.unit.one,c.unit.few,c.unit.many);return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${r.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${a}${r.maximum.toString()} ${l}`}return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${r.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"} \u0431\u0443\u0434\u0435\u0442 ${a}${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?">=":">",c=t(r.origin);if(c){let u=Number(r.minimum),l=zI(u,c.unit.one,c.unit.few,c.unit.many);return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${r.origin} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${a}${r.minimum.toString()} ${l}`}return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${r.origin} \u0431\u0443\u0434\u0435\u0442 ${a}${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u043D\u0430\u0447\u0438\u043D\u0430\u0442\u044C\u0441\u044F \u0441 "${a.prefix}"`:a.format==="ends_with"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0437\u0430\u043A\u0430\u043D\u0447\u0438\u0432\u0430\u0442\u044C\u0441\u044F \u043D\u0430 "${a.suffix}"`:a.format==="includes"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0442\u044C "${a.includes}"`:a.format==="regex"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u043E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u043E\u0432\u0430\u0442\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${a.pattern}`:`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 ${o[a.format]??r.format}`}case"not_multiple_of":return`\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0447\u0438\u0441\u043B\u043E: \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${r.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0441\u043F\u043E\u0437\u043D\u0430\u043D\u043D${r.keys.length>1?"\u044B\u0435":"\u044B\u0439"} \u043A\u043B\u044E\u0447${r.keys.length>1?"\u0438":""}: ${P(r.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u043A\u043B\u044E\u0447 \u0432 ${r.origin}`;case"invalid_union":return"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435";case"invalid_element":return`\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0432 ${r.origin}`;default:return"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435"}}},"error");function Bg(){return{localeError:Nz()}}s(Bg,"default");var jz=s(()=>{let e={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}};function t(r){return e[r]??null}s(t,"getSizing");let n=s(r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"\u0161tevilo";case"object":{if(Array.isArray(r))return"tabela";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},"parsedType"),o={regex:"vnos",email:"e-po\u0161tni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in \u010Das",date:"ISO datum",time:"ISO \u010Das",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 \u0161tevilka",jwt:"JWT",template_literal:"vnos"};return r=>{switch(r.code){case"invalid_type":return`Neveljaven vnos: pri\u010Dakovano ${r.expected}, prejeto ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Neveljaven vnos: pri\u010Dakovano ${U(r.values[0])}`:`Neveljavna mo\u017Enost: pri\u010Dakovano eno izmed ${P(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",c=t(r.origin);return c?`Preveliko: pri\u010Dakovano, da bo ${r.origin??"vrednost"} imelo ${a}${r.maximum.toString()} ${c.unit??"elementov"}`:`Preveliko: pri\u010Dakovano, da bo ${r.origin??"vrednost"} ${a}${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?">=":">",c=t(r.origin);return c?`Premajhno: pri\u010Dakovano, da bo ${r.origin} imelo ${a}${r.minimum.toString()} ${c.unit}`:`Premajhno: pri\u010Dakovano, da bo ${r.origin} ${a}${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`Neveljaven niz: mora se za\u010Deti z "${a.prefix}"`:a.format==="ends_with"?`Neveljaven niz: mora se kon\u010Dati z "${a.suffix}"`:a.format==="includes"?`Neveljaven niz: mora vsebovati "${a.includes}"`:a.format==="regex"?`Neveljaven niz: mora ustrezati vzorcu ${a.pattern}`:`Neveljaven ${o[a.format]??r.format}`}case"not_multiple_of":return`Neveljavno \u0161tevilo: mora biti ve\u010Dkratnik ${r.divisor}`;case"unrecognized_keys":return`Neprepoznan${r.keys.length>1?"i klju\u010Di":" klju\u010D"}: ${P(r.keys,", ")}`;case"invalid_key":return`Neveljaven klju\u010D v ${r.origin}`;case"invalid_union":return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${r.origin}`;default:return"Neveljaven vnos"}}},"error");function Zg(){return{localeError:jz()}}s(Zg,"default");var Dz=s(()=>{let e={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att inneh\xE5lla"},set:{unit:"objekt",verb:"att inneh\xE5lla"}};function t(r){return e[r]??null}s(t,"getSizing");let n=s(r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"antal";case"object":{if(Array.isArray(r))return"lista";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},"parsedType"),o={regex:"regulj\xE4rt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad str\xE4ng",base64url:"base64url-kodad str\xE4ng",json_string:"JSON-str\xE4ng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"};return r=>{switch(r.code){case"invalid_type":return`Ogiltig inmatning: f\xF6rv\xE4ntat ${r.expected}, fick ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Ogiltig inmatning: f\xF6rv\xE4ntat ${U(r.values[0])}`:`Ogiltigt val: f\xF6rv\xE4ntade en av ${P(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",c=t(r.origin);return c?`F\xF6r stor(t): f\xF6rv\xE4ntade ${r.origin??"v\xE4rdet"} att ha ${a}${r.maximum.toString()} ${c.unit??"element"}`:`F\xF6r stor(t): f\xF6rv\xE4ntat ${r.origin??"v\xE4rdet"} att ha ${a}${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?">=":">",c=t(r.origin);return c?`F\xF6r lite(t): f\xF6rv\xE4ntade ${r.origin??"v\xE4rdet"} att ha ${a}${r.minimum.toString()} ${c.unit}`:`F\xF6r lite(t): f\xF6rv\xE4ntade ${r.origin??"v\xE4rdet"} att ha ${a}${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`Ogiltig str\xE4ng: m\xE5ste b\xF6rja med "${a.prefix}"`:a.format==="ends_with"?`Ogiltig str\xE4ng: m\xE5ste sluta med "${a.suffix}"`:a.format==="includes"?`Ogiltig str\xE4ng: m\xE5ste inneh\xE5lla "${a.includes}"`:a.format==="regex"?`Ogiltig str\xE4ng: m\xE5ste matcha m\xF6nstret "${a.pattern}"`:`Ogiltig(t) ${o[a.format]??r.format}`}case"not_multiple_of":return`Ogiltigt tal: m\xE5ste vara en multipel av ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"Ok\xE4nda nycklar":"Ok\xE4nd nyckel"}: ${P(r.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${r.origin??"v\xE4rdet"}`;case"invalid_union":return"Ogiltig input";case"invalid_element":return`Ogiltigt v\xE4rde i ${r.origin??"v\xE4rdet"}`;default:return"Ogiltig input"}}},"error");function Vg(){return{localeError:Dz()}}s(Vg,"default");var zz=s(()=>{let e={string:{unit:"\u0B8E\u0BB4\u0BC1\u0BA4\u0BCD\u0BA4\u0BC1\u0B95\u0BCD\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},file:{unit:"\u0BAA\u0BC8\u0B9F\u0BCD\u0B9F\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},array:{unit:"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},set:{unit:"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"}};function t(r){return e[r]??null}s(t,"getSizing");let n=s(r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"\u0B8E\u0BA3\u0BCD \u0B85\u0BB2\u0BCD\u0BB2\u0BBE\u0BA4\u0BA4\u0BC1":"\u0B8E\u0BA3\u0BCD";case"object":{if(Array.isArray(r))return"\u0B85\u0BA3\u0BBF";if(r===null)return"\u0BB5\u0BC6\u0BB1\u0BC1\u0BAE\u0BC8";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},"parsedType"),o={regex:"\u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1",email:"\u0BAE\u0BBF\u0BA9\u0BCD\u0BA9\u0B9E\u0BCD\u0B9A\u0BB2\u0BCD \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0BA4\u0BC7\u0BA4\u0BBF \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",date:"ISO \u0BA4\u0BC7\u0BA4\u0BBF",time:"ISO \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",duration:"ISO \u0B95\u0BBE\u0BB2 \u0B85\u0BB3\u0BB5\u0BC1",ipv4:"IPv4 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",ipv6:"IPv6 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",cidrv4:"IPv4 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1",cidrv6:"IPv6 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1",base64:"base64-encoded \u0B9A\u0BB0\u0BAE\u0BCD",base64url:"base64url-encoded \u0B9A\u0BB0\u0BAE\u0BCD",json_string:"JSON \u0B9A\u0BB0\u0BAE\u0BCD",e164:"E.164 \u0B8E\u0BA3\u0BCD",jwt:"JWT",template_literal:"input"};return r=>{switch(r.code){case"invalid_type":return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${r.expected}, \u0BAA\u0BC6\u0BB1\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${n(r.input)}`;case"invalid_value":return r.values.length===1?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${U(r.values[0])}`:`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0BB0\u0BC1\u0BAA\u0BCD\u0BAA\u0BAE\u0BCD: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${P(r.values,"|")} \u0B87\u0BB2\u0BCD \u0B92\u0BA9\u0BCD\u0BB1\u0BC1`;case"too_big":{let a=r.inclusive?"<=":"<",c=t(r.origin);return c?`\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${r.origin??"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1"} ${a}${r.maximum.toString()} ${c.unit??"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD"} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${r.origin??"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1"} ${a}${r.maximum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`}case"too_small":{let a=r.inclusive?">=":">",c=t(r.origin);return c?`\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${r.origin} ${a}${r.minimum.toString()} ${c.unit} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${r.origin} ${a}${r.minimum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`}case"invalid_format":{let a=r;return a.format==="starts_with"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${a.prefix}" \u0B87\u0BB2\u0BCD \u0BA4\u0BCA\u0B9F\u0B99\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:a.format==="ends_with"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${a.suffix}" \u0B87\u0BB2\u0BCD \u0BAE\u0BC1\u0B9F\u0BBF\u0BB5\u0B9F\u0BC8\u0BAF \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:a.format==="includes"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${a.includes}" \u0B90 \u0B89\u0BB3\u0BCD\u0BB3\u0B9F\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:a.format==="regex"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: ${a.pattern} \u0BAE\u0BC1\u0BB1\u0BC8\u0BAA\u0BBE\u0B9F\u0BCD\u0B9F\u0BC1\u0B9F\u0BA9\u0BCD \u0BAA\u0BCA\u0BB0\u0BC1\u0BA8\u0BCD\u0BA4 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 ${o[a.format]??r.format}`}case"not_multiple_of":return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B8E\u0BA3\u0BCD: ${r.divisor} \u0B87\u0BA9\u0BCD \u0BAA\u0BB2\u0BAE\u0BBE\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;case"unrecognized_keys":return`\u0B85\u0B9F\u0BC8\u0BAF\u0BBE\u0BB3\u0BAE\u0BCD \u0BA4\u0BC6\u0BB0\u0BBF\u0BAF\u0BBE\u0BA4 \u0BB5\u0BBF\u0B9A\u0BC8${r.keys.length>1?"\u0B95\u0BB3\u0BCD":""}: ${P(r.keys,", ")}`;case"invalid_key":return`${r.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0B9A\u0BC8`;case"invalid_union":return"\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1";case"invalid_element":return`${r.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1`;default:return"\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1"}}},"error");function Hg(){return{localeError:zz()}}s(Hg,"default");var Mz=s(()=>{let e={string:{unit:"\u0E15\u0E31\u0E27\u0E2D\u0E31\u0E01\u0E29\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},file:{unit:"\u0E44\u0E1A\u0E15\u0E4C",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},array:{unit:"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},set:{unit:"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"}};function t(r){return e[r]??null}s(t,"getSizing");let n=s(r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"\u0E44\u0E21\u0E48\u0E43\u0E0A\u0E48\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02 (NaN)":"\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02";case"object":{if(Array.isArray(r))return"\u0E2D\u0E32\u0E23\u0E4C\u0E40\u0E23\u0E22\u0E4C (Array)";if(r===null)return"\u0E44\u0E21\u0E48\u0E21\u0E35\u0E04\u0E48\u0E32 (null)";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},"parsedType"),o={regex:"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19",email:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48\u0E2D\u0E35\u0E40\u0E21\u0E25",url:"URL",emoji:"\u0E2D\u0E34\u0E42\u0E21\u0E08\u0E34",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",date:"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E41\u0E1A\u0E1A ISO",time:"\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",duration:"\u0E0A\u0E48\u0E27\u0E07\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",ipv4:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv4",ipv6:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv6",cidrv4:"\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv4",cidrv6:"\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv6",base64:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64",base64url:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64 \u0E2A\u0E33\u0E2B\u0E23\u0E31\u0E1A URL",json_string:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A JSON",e164:"\u0E40\u0E1A\u0E2D\u0E23\u0E4C\u0E42\u0E17\u0E23\u0E28\u0E31\u0E1E\u0E17\u0E4C\u0E23\u0E30\u0E2B\u0E27\u0E48\u0E32\u0E07\u0E1B\u0E23\u0E30\u0E40\u0E17\u0E28 (E.164)",jwt:"\u0E42\u0E17\u0E40\u0E04\u0E19 JWT",template_literal:"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19"};return r=>{switch(r.code){case"invalid_type":return`\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${r.expected} \u0E41\u0E15\u0E48\u0E44\u0E14\u0E49\u0E23\u0E31\u0E1A ${n(r.input)}`;case"invalid_value":return r.values.length===1?`\u0E04\u0E48\u0E32\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${U(r.values[0])}`:`\u0E15\u0E31\u0E27\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19\u0E2B\u0E19\u0E36\u0E48\u0E07\u0E43\u0E19 ${P(r.values,"|")}`;case"too_big":{let a=r.inclusive?"\u0E44\u0E21\u0E48\u0E40\u0E01\u0E34\u0E19":"\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32",c=t(r.origin);return c?`\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${r.origin??"\u0E04\u0E48\u0E32"} \u0E04\u0E27\u0E23\u0E21\u0E35${a} ${r.maximum.toString()} ${c.unit??"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23"}`:`\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${r.origin??"\u0E04\u0E48\u0E32"} \u0E04\u0E27\u0E23\u0E21\u0E35${a} ${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?"\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E19\u0E49\u0E2D\u0E22":"\u0E21\u0E32\u0E01\u0E01\u0E27\u0E48\u0E32",c=t(r.origin);return c?`\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${r.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${a} ${r.minimum.toString()} ${c.unit}`:`\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${r.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${a} ${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E02\u0E36\u0E49\u0E19\u0E15\u0E49\u0E19\u0E14\u0E49\u0E27\u0E22 "${a.prefix}"`:a.format==="ends_with"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E25\u0E07\u0E17\u0E49\u0E32\u0E22\u0E14\u0E49\u0E27\u0E22 "${a.suffix}"`:a.format==="includes"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E21\u0E35 "${a.includes}" \u0E2D\u0E22\u0E39\u0E48\u0E43\u0E19\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21`:a.format==="regex"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14 ${a.pattern}`:`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: ${o[a.format]??r.format}`}case"not_multiple_of":return`\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E40\u0E1B\u0E47\u0E19\u0E08\u0E33\u0E19\u0E27\u0E19\u0E17\u0E35\u0E48\u0E2B\u0E32\u0E23\u0E14\u0E49\u0E27\u0E22 ${r.divisor} \u0E44\u0E14\u0E49\u0E25\u0E07\u0E15\u0E31\u0E27`;case"unrecognized_keys":return`\u0E1E\u0E1A\u0E04\u0E35\u0E22\u0E4C\u0E17\u0E35\u0E48\u0E44\u0E21\u0E48\u0E23\u0E39\u0E49\u0E08\u0E31\u0E01: ${P(r.keys,", ")}`;case"invalid_key":return`\u0E04\u0E35\u0E22\u0E4C\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${r.origin}`;case"invalid_union":return"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E44\u0E21\u0E48\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E22\u0E39\u0E40\u0E19\u0E35\u0E22\u0E19\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14\u0E44\u0E27\u0E49";case"invalid_element":return`\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${r.origin}`;default:return"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07"}}},"error");function Gg(){return{localeError:Mz()}}s(Gg,"default");var Uz=s(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":{if(Array.isArray(e))return"array";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},"parsedType"),Lz=s(()=>{let e={string:{unit:"karakter",verb:"olmal\u0131"},file:{unit:"bayt",verb:"olmal\u0131"},array:{unit:"\xF6\u011Fe",verb:"olmal\u0131"},set:{unit:"\xF6\u011Fe",verb:"olmal\u0131"}};function t(o){return e[o]??null}s(t,"getSizing");let n={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO s\xFCre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aral\u0131\u011F\u0131",cidrv6:"IPv6 aral\u0131\u011F\u0131",base64:"base64 ile \u015Fifrelenmi\u015F metin",base64url:"base64url ile \u015Fifrelenmi\u015F metin",json_string:"JSON dizesi",e164:"E.164 say\u0131s\u0131",jwt:"JWT",template_literal:"\u015Eablon dizesi"};return o=>{switch(o.code){case"invalid_type":return`Ge\xE7ersiz de\u011Fer: beklenen ${o.expected}, al\u0131nan ${Uz(o.input)}`;case"invalid_value":return o.values.length===1?`Ge\xE7ersiz de\u011Fer: beklenen ${U(o.values[0])}`:`Ge\xE7ersiz se\xE7enek: a\u015Fa\u011F\u0131dakilerden biri olmal\u0131: ${P(o.values,"|")}`;case"too_big":{let r=o.inclusive?"<=":"<",a=t(o.origin);return a?`\xC7ok b\xFCy\xFCk: beklenen ${o.origin??"de\u011Fer"} ${r}${o.maximum.toString()} ${a.unit??"\xF6\u011Fe"}`:`\xC7ok b\xFCy\xFCk: beklenen ${o.origin??"de\u011Fer"} ${r}${o.maximum.toString()}`}case"too_small":{let r=o.inclusive?">=":">",a=t(o.origin);return a?`\xC7ok k\xFC\xE7\xFCk: beklenen ${o.origin} ${r}${o.minimum.toString()} ${a.unit}`:`\xC7ok k\xFC\xE7\xFCk: beklenen ${o.origin} ${r}${o.minimum.toString()}`}case"invalid_format":{let r=o;return r.format==="starts_with"?`Ge\xE7ersiz metin: "${r.prefix}" ile ba\u015Flamal\u0131`:r.format==="ends_with"?`Ge\xE7ersiz metin: "${r.suffix}" ile bitmeli`:r.format==="includes"?`Ge\xE7ersiz metin: "${r.includes}" i\xE7ermeli`:r.format==="regex"?`Ge\xE7ersiz metin: ${r.pattern} desenine uymal\u0131`:`Ge\xE7ersiz ${n[r.format]??o.format}`}case"not_multiple_of":return`Ge\xE7ersiz say\u0131: ${o.divisor} ile tam b\xF6l\xFCnebilmeli`;case"unrecognized_keys":return`Tan\u0131nmayan anahtar${o.keys.length>1?"lar":""}: ${P(o.keys,", ")}`;case"invalid_key":return`${o.origin} i\xE7inde ge\xE7ersiz anahtar`;case"invalid_union":return"Ge\xE7ersiz de\u011Fer";case"invalid_element":return`${o.origin} i\xE7inde ge\xE7ersiz de\u011Fer`;default:return"Ge\xE7ersiz de\u011Fer"}}},"error");function Jg(){return{localeError:Lz()}}s(Jg,"default");var qz=s(()=>{let e={string:{unit:"\u0441\u0438\u043C\u0432\u043E\u043B\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},file:{unit:"\u0431\u0430\u0439\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},array:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},set:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"}};function t(r){return e[r]??null}s(t,"getSizing");let n=s(r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"\u0447\u0438\u0441\u043B\u043E";case"object":{if(Array.isArray(r))return"\u043C\u0430\u0441\u0438\u0432";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},"parsedType"),o={regex:"\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456",email:"\u0430\u0434\u0440\u0435\u0441\u0430 \u0435\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0457 \u043F\u043E\u0448\u0442\u0438",url:"URL",emoji:"\u0435\u043C\u043E\u0434\u0437\u0456",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0434\u0430\u0442\u0430 \u0442\u0430 \u0447\u0430\u0441 ISO",date:"\u0434\u0430\u0442\u0430 ISO",time:"\u0447\u0430\u0441 ISO",duration:"\u0442\u0440\u0438\u0432\u0430\u043B\u0456\u0441\u0442\u044C ISO",ipv4:"\u0430\u0434\u0440\u0435\u0441\u0430 IPv4",ipv6:"\u0430\u0434\u0440\u0435\u0441\u0430 IPv6",cidrv4:"\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv4",cidrv6:"\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv6",base64:"\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64",base64url:"\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64url",json_string:"\u0440\u044F\u0434\u043E\u043A JSON",e164:"\u043D\u043E\u043C\u0435\u0440 E.164",jwt:"JWT",template_literal:"\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456"};return r=>{switch(r.code){case"invalid_type":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${r.expected}, \u043E\u0442\u0440\u0438\u043C\u0430\u043D\u043E ${n(r.input)}`;case"invalid_value":return r.values.length===1?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${U(r.values[0])}`:`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0430 \u043E\u043F\u0446\u0456\u044F: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F \u043E\u0434\u043D\u0435 \u0437 ${P(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",c=t(r.origin);return c?`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${r.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F"} ${c.verb} ${a}${r.maximum.toString()} ${c.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432"}`:`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${r.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F"} \u0431\u0443\u0434\u0435 ${a}${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?">=":">",c=t(r.origin);return c?`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${r.origin} ${c.verb} ${a}${r.minimum.toString()} ${c.unit}`:`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${r.origin} \u0431\u0443\u0434\u0435 ${a}${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043F\u043E\u0447\u0438\u043D\u0430\u0442\u0438\u0441\u044F \u0437 "${a.prefix}"`:a.format==="ends_with"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0437\u0430\u043A\u0456\u043D\u0447\u0443\u0432\u0430\u0442\u0438\u0441\u044F \u043D\u0430 "${a.suffix}"`:a.format==="includes"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043C\u0456\u0441\u0442\u0438\u0442\u0438 "${a.includes}"`:a.format==="regex"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0432\u0456\u0434\u043F\u043E\u0432\u0456\u0434\u0430\u0442\u0438 \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${a.pattern}`:`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 ${o[a.format]??r.format}`}case"not_multiple_of":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0447\u0438\u0441\u043B\u043E: \u043F\u043E\u0432\u0438\u043D\u043D\u043E \u0431\u0443\u0442\u0438 \u043A\u0440\u0430\u0442\u043D\u0438\u043C ${r.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u043E\u0437\u043F\u0456\u0437\u043D\u0430\u043D\u0438\u0439 \u043A\u043B\u044E\u0447${r.keys.length>1?"\u0456":""}: ${P(r.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u043A\u043B\u044E\u0447 \u0443 ${r.origin}`;case"invalid_union":return"\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456";case"invalid_element":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F \u0443 ${r.origin}`;default:return"\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456"}}},"error");function ps(){return{localeError:qz()}}s(ps,"default");function Kg(){return ps()}s(Kg,"default");var Fz=s(()=>{let e={string:{unit:"\u062D\u0631\u0648\u0641",verb:"\u06C1\u0648\u0646\u0627"},file:{unit:"\u0628\u0627\u0626\u0679\u0633",verb:"\u06C1\u0648\u0646\u0627"},array:{unit:"\u0622\u0626\u0679\u0645\u0632",verb:"\u06C1\u0648\u0646\u0627"},set:{unit:"\u0622\u0626\u0679\u0645\u0632",verb:"\u06C1\u0648\u0646\u0627"}};function t(r){return e[r]??null}s(t,"getSizing");let n=s(r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"\u0646\u0645\u0628\u0631";case"object":{if(Array.isArray(r))return"\u0622\u0631\u06D2";if(r===null)return"\u0646\u0644";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},"parsedType"),o={regex:"\u0627\u0646 \u067E\u0679",email:"\u0627\u06CC \u0645\u06CC\u0644 \u0627\u06CC\u0688\u0631\u06CC\u0633",url:"\u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644",emoji:"\u0627\u06CC\u0645\u0648\u062C\u06CC",uuid:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",uuidv4:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 4",uuidv6:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 6",nanoid:"\u0646\u06CC\u0646\u0648 \u0622\u0626\u06CC \u0688\u06CC",guid:"\u062C\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",cuid:"\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",cuid2:"\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC 2",ulid:"\u06CC\u0648 \u0627\u06CC\u0644 \u0622\u0626\u06CC \u0688\u06CC",xid:"\u0627\u06CC\u06A9\u0633 \u0622\u0626\u06CC \u0688\u06CC",ksuid:"\u06A9\u06D2 \u0627\u06CC\u0633 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",datetime:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0688\u06CC\u0679 \u0679\u0627\u0626\u0645",date:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u062A\u0627\u0631\u06CC\u062E",time:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0648\u0642\u062A",duration:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0645\u062F\u062A",ipv4:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0627\u06CC\u0688\u0631\u06CC\u0633",ipv6:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0627\u06CC\u0688\u0631\u06CC\u0633",cidrv4:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0631\u06CC\u0646\u062C",cidrv6:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0631\u06CC\u0646\u062C",base64:"\u0628\u06CC\u0633 64 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF",base64url:"\u0628\u06CC\u0633 64 \u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF",json_string:"\u062C\u06D2 \u0627\u06CC\u0633 \u0627\u0648 \u0627\u06CC\u0646 \u0633\u0679\u0631\u0646\u06AF",e164:"\u0627\u06CC 164 \u0646\u0645\u0628\u0631",jwt:"\u062C\u06D2 \u0688\u0628\u0644\u06CC\u0648 \u0679\u06CC",template_literal:"\u0627\u0646 \u067E\u0679"};return r=>{switch(r.code){case"invalid_type":return`\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${r.expected} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627\u060C ${n(r.input)} \u0645\u0648\u0635\u0648\u0644 \u06C1\u0648\u0627`;case"invalid_value":return r.values.length===1?`\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${U(r.values[0])} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`:`\u063A\u0644\u0637 \u0622\u067E\u0634\u0646: ${P(r.values,"|")} \u0645\u06CC\u06BA \u0633\u06D2 \u0627\u06CC\u06A9 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`;case"too_big":{let a=r.inclusive?"<=":"<",c=t(r.origin);return c?`\u0628\u06C1\u062A \u0628\u0691\u0627: ${r.origin??"\u0648\u06CC\u0644\u06CC\u0648"} \u06A9\u06D2 ${a}${r.maximum.toString()} ${c.unit??"\u0639\u0646\u0627\u0635\u0631"} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`:`\u0628\u06C1\u062A \u0628\u0691\u0627: ${r.origin??"\u0648\u06CC\u0644\u06CC\u0648"} \u06A9\u0627 ${a}${r.maximum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`}case"too_small":{let a=r.inclusive?">=":">",c=t(r.origin);return c?`\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${r.origin} \u06A9\u06D2 ${a}${r.minimum.toString()} ${c.unit} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`:`\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${r.origin} \u06A9\u0627 ${a}${r.minimum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`}case"invalid_format":{let a=r;return a.format==="starts_with"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${a.prefix}" \u0633\u06D2 \u0634\u0631\u0648\u0639 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:a.format==="ends_with"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${a.suffix}" \u067E\u0631 \u062E\u062A\u0645 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:a.format==="includes"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${a.includes}" \u0634\u0627\u0645\u0644 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:a.format==="regex"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: \u067E\u06CC\u0679\u0631\u0646 ${a.pattern} \u0633\u06D2 \u0645\u06CC\u0686 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:`\u063A\u0644\u0637 ${o[a.format]??r.format}`}case"not_multiple_of":return`\u063A\u0644\u0637 \u0646\u0645\u0628\u0631: ${r.divisor} \u06A9\u0627 \u0645\u0636\u0627\u0639\u0641 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;case"unrecognized_keys":return`\u063A\u06CC\u0631 \u062A\u0633\u0644\u06CC\u0645 \u0634\u062F\u06C1 \u06A9\u06CC${r.keys.length>1?"\u0632":""}: ${P(r.keys,"\u060C ")}`;case"invalid_key":return`${r.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u06A9\u06CC`;case"invalid_union":return"\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679";case"invalid_element":return`${r.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u0648\u06CC\u0644\u06CC\u0648`;default:return"\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679"}}},"error");function Wg(){return{localeError:Fz()}}s(Wg,"default");var Bz=s(()=>{let e={string:{unit:"k\xFD t\u1EF1",verb:"c\xF3"},file:{unit:"byte",verb:"c\xF3"},array:{unit:"ph\u1EA7n t\u1EED",verb:"c\xF3"},set:{unit:"ph\u1EA7n t\u1EED",verb:"c\xF3"}};function t(r){return e[r]??null}s(t,"getSizing");let n=s(r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"s\u1ED1";case"object":{if(Array.isArray(r))return"m\u1EA3ng";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},"parsedType"),o={regex:"\u0111\u1EA7u v\xE0o",email:"\u0111\u1ECBa ch\u1EC9 email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ng\xE0y gi\u1EDD ISO",date:"ng\xE0y ISO",time:"gi\u1EDD ISO",duration:"kho\u1EA3ng th\u1EDDi gian ISO",ipv4:"\u0111\u1ECBa ch\u1EC9 IPv4",ipv6:"\u0111\u1ECBa ch\u1EC9 IPv6",cidrv4:"d\u1EA3i IPv4",cidrv6:"d\u1EA3i IPv6",base64:"chu\u1ED7i m\xE3 h\xF3a base64",base64url:"chu\u1ED7i m\xE3 h\xF3a base64url",json_string:"chu\u1ED7i JSON",e164:"s\u1ED1 E.164",jwt:"JWT",template_literal:"\u0111\u1EA7u v\xE0o"};return r=>{switch(r.code){case"invalid_type":return`\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${r.expected}, nh\u1EADn \u0111\u01B0\u1EE3c ${n(r.input)}`;case"invalid_value":return r.values.length===1?`\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${U(r.values[0])}`:`T\xF9y ch\u1ECDn kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i m\u1ED9t trong c\xE1c gi\xE1 tr\u1ECB ${P(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",c=t(r.origin);return c?`Qu\xE1 l\u1EDBn: mong \u0111\u1EE3i ${r.origin??"gi\xE1 tr\u1ECB"} ${c.verb} ${a}${r.maximum.toString()} ${c.unit??"ph\u1EA7n t\u1EED"}`:`Qu\xE1 l\u1EDBn: mong \u0111\u1EE3i ${r.origin??"gi\xE1 tr\u1ECB"} ${a}${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?">=":">",c=t(r.origin);return c?`Qu\xE1 nh\u1ECF: mong \u0111\u1EE3i ${r.origin} ${c.verb} ${a}${r.minimum.toString()} ${c.unit}`:`Qu\xE1 nh\u1ECF: mong \u0111\u1EE3i ${r.origin} ${a}${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i b\u1EAFt \u0111\u1EA7u b\u1EB1ng "${a.prefix}"`:a.format==="ends_with"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i k\u1EBFt th\xFAc b\u1EB1ng "${a.suffix}"`:a.format==="includes"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i bao g\u1ED3m "${a.includes}"`:a.format==="regex"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i kh\u1EDBp v\u1EDBi m\u1EABu ${a.pattern}`:`${o[a.format]??r.format} kh\xF4ng h\u1EE3p l\u1EC7`}case"not_multiple_of":return`S\u1ED1 kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i l\xE0 b\u1ED9i s\u1ED1 c\u1EE7a ${r.divisor}`;case"unrecognized_keys":return`Kh\xF3a kh\xF4ng \u0111\u01B0\u1EE3c nh\u1EADn d\u1EA1ng: ${P(r.keys,", ")}`;case"invalid_key":return`Kh\xF3a kh\xF4ng h\u1EE3p l\u1EC7 trong ${r.origin}`;case"invalid_union":return"\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7";case"invalid_element":return`Gi\xE1 tr\u1ECB kh\xF4ng h\u1EE3p l\u1EC7 trong ${r.origin}`;default:return"\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7"}}},"error");function Xg(){return{localeError:Bz()}}s(Xg,"default");var Zz=s(()=>{let e={string:{unit:"\u5B57\u7B26",verb:"\u5305\u542B"},file:{unit:"\u5B57\u8282",verb:"\u5305\u542B"},array:{unit:"\u9879",verb:"\u5305\u542B"},set:{unit:"\u9879",verb:"\u5305\u542B"}};function t(r){return e[r]??null}s(t,"getSizing");let n=s(r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"\u975E\u6570\u5B57(NaN)":"\u6570\u5B57";case"object":{if(Array.isArray(r))return"\u6570\u7EC4";if(r===null)return"\u7A7A\u503C(null)";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},"parsedType"),o={regex:"\u8F93\u5165",email:"\u7535\u5B50\u90AE\u4EF6",url:"URL",emoji:"\u8868\u60C5\u7B26\u53F7",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO\u65E5\u671F\u65F6\u95F4",date:"ISO\u65E5\u671F",time:"ISO\u65F6\u95F4",duration:"ISO\u65F6\u957F",ipv4:"IPv4\u5730\u5740",ipv6:"IPv6\u5730\u5740",cidrv4:"IPv4\u7F51\u6BB5",cidrv6:"IPv6\u7F51\u6BB5",base64:"base64\u7F16\u7801\u5B57\u7B26\u4E32",base64url:"base64url\u7F16\u7801\u5B57\u7B26\u4E32",json_string:"JSON\u5B57\u7B26\u4E32",e164:"E.164\u53F7\u7801",jwt:"JWT",template_literal:"\u8F93\u5165"};return r=>{switch(r.code){case"invalid_type":return`\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${r.expected}\uFF0C\u5B9E\u9645\u63A5\u6536 ${n(r.input)}`;case"invalid_value":return r.values.length===1?`\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${U(r.values[0])}`:`\u65E0\u6548\u9009\u9879\uFF1A\u671F\u671B\u4EE5\u4E0B\u4E4B\u4E00 ${P(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",c=t(r.origin);return c?`\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${r.origin??"\u503C"} ${a}${r.maximum.toString()} ${c.unit??"\u4E2A\u5143\u7D20"}`:`\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${r.origin??"\u503C"} ${a}${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?">=":">",c=t(r.origin);return c?`\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${r.origin} ${a}${r.minimum.toString()} ${c.unit}`:`\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${r.origin} ${a}${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 "${a.prefix}" \u5F00\u5934`:a.format==="ends_with"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 "${a.suffix}" \u7ED3\u5C3E`:a.format==="includes"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u5305\u542B "${a.includes}"`:a.format==="regex"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u6EE1\u8DB3\u6B63\u5219\u8868\u8FBE\u5F0F ${a.pattern}`:`\u65E0\u6548${o[a.format]??r.format}`}case"not_multiple_of":return`\u65E0\u6548\u6570\u5B57\uFF1A\u5FC5\u987B\u662F ${r.divisor} \u7684\u500D\u6570`;case"unrecognized_keys":return`\u51FA\u73B0\u672A\u77E5\u7684\u952E(key): ${P(r.keys,", ")}`;case"invalid_key":return`${r.origin} \u4E2D\u7684\u952E(key)\u65E0\u6548`;case"invalid_union":return"\u65E0\u6548\u8F93\u5165";case"invalid_element":return`${r.origin} \u4E2D\u5305\u542B\u65E0\u6548\u503C(value)`;default:return"\u65E0\u6548\u8F93\u5165"}}},"error");function Yg(){return{localeError:Zz()}}s(Yg,"default");var Vz=s(()=>{let e={string:{unit:"\u5B57\u5143",verb:"\u64C1\u6709"},file:{unit:"\u4F4D\u5143\u7D44",verb:"\u64C1\u6709"},array:{unit:"\u9805\u76EE",verb:"\u64C1\u6709"},set:{unit:"\u9805\u76EE",verb:"\u64C1\u6709"}};function t(r){return e[r]??null}s(t,"getSizing");let n=s(r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"number";case"object":{if(Array.isArray(r))return"array";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},"parsedType"),o={regex:"\u8F38\u5165",email:"\u90F5\u4EF6\u5730\u5740",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u65E5\u671F\u6642\u9593",date:"ISO \u65E5\u671F",time:"ISO \u6642\u9593",duration:"ISO \u671F\u9593",ipv4:"IPv4 \u4F4D\u5740",ipv6:"IPv6 \u4F4D\u5740",cidrv4:"IPv4 \u7BC4\u570D",cidrv6:"IPv6 \u7BC4\u570D",base64:"base64 \u7DE8\u78BC\u5B57\u4E32",base64url:"base64url \u7DE8\u78BC\u5B57\u4E32",json_string:"JSON \u5B57\u4E32",e164:"E.164 \u6578\u503C",jwt:"JWT",template_literal:"\u8F38\u5165"};return r=>{switch(r.code){case"invalid_type":return`\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${r.expected}\uFF0C\u4F46\u6536\u5230 ${n(r.input)}`;case"invalid_value":return r.values.length===1?`\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${U(r.values[0])}`:`\u7121\u6548\u7684\u9078\u9805\uFF1A\u9810\u671F\u70BA\u4EE5\u4E0B\u5176\u4E2D\u4E4B\u4E00 ${P(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",c=t(r.origin);return c?`\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${r.origin??"\u503C"} \u61C9\u70BA ${a}${r.maximum.toString()} ${c.unit??"\u500B\u5143\u7D20"}`:`\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${r.origin??"\u503C"} \u61C9\u70BA ${a}${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?">=":">",c=t(r.origin);return c?`\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${r.origin} \u61C9\u70BA ${a}${r.minimum.toString()} ${c.unit}`:`\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${r.origin} \u61C9\u70BA ${a}${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 "${a.prefix}" \u958B\u982D`:a.format==="ends_with"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 "${a.suffix}" \u7D50\u5C3E`:a.format==="includes"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u5305\u542B "${a.includes}"`:a.format==="regex"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u7B26\u5408\u683C\u5F0F ${a.pattern}`:`\u7121\u6548\u7684 ${o[a.format]??r.format}`}case"not_multiple_of":return`\u7121\u6548\u7684\u6578\u5B57\uFF1A\u5FC5\u9808\u70BA ${r.divisor} \u7684\u500D\u6578`;case"unrecognized_keys":return`\u7121\u6CD5\u8B58\u5225\u7684\u9375\u503C${r.keys.length>1?"\u5011":""}\uFF1A${P(r.keys,"\u3001")}`;case"invalid_key":return`${r.origin} \u4E2D\u6709\u7121\u6548\u7684\u9375\u503C`;case"invalid_union":return"\u7121\u6548\u7684\u8F38\u5165\u503C";case"invalid_element":return`${r.origin} \u4E2D\u6709\u7121\u6548\u7684\u503C`;default:return"\u7121\u6548\u7684\u8F38\u5165\u503C"}}},"error");function Qg(){return{localeError:Vz()}}s(Qg,"default");var Hz=s(()=>{let e={string:{unit:"\xE0mi",verb:"n\xED"},file:{unit:"bytes",verb:"n\xED"},array:{unit:"nkan",verb:"n\xED"},set:{unit:"nkan",verb:"n\xED"}};function t(r){return e[r]??null}s(t,"getSizing");let n=s(r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"n\u1ECD\u0301mb\xE0";case"object":{if(Array.isArray(r))return"akop\u1ECD";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},"parsedType"),o={regex:"\u1EB9\u0300r\u1ECD \xECb\xE1w\u1ECDl\xE9",email:"\xE0d\xEDr\u1EB9\u0301s\xEC \xECm\u1EB9\u0301l\xEC",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\xE0k\xF3k\xF2 ISO",date:"\u1ECDj\u1ECD\u0301 ISO",time:"\xE0k\xF3k\xF2 ISO",duration:"\xE0k\xF3k\xF2 t\xF3 p\xE9 ISO",ipv4:"\xE0d\xEDr\u1EB9\u0301s\xEC IPv4",ipv6:"\xE0d\xEDr\u1EB9\u0301s\xEC IPv6",cidrv4:"\xE0gb\xE8gb\xE8 IPv4",cidrv6:"\xE0gb\xE8gb\xE8 IPv6",base64:"\u1ECD\u0300r\u1ECD\u0300 t\xED a k\u1ECD\u0301 n\xED base64",base64url:"\u1ECD\u0300r\u1ECD\u0300 base64url",json_string:"\u1ECD\u0300r\u1ECD\u0300 JSON",e164:"n\u1ECD\u0301mb\xE0 E.164",jwt:"JWT",template_literal:"\u1EB9\u0300r\u1ECD \xECb\xE1w\u1ECDl\xE9"};return r=>{switch(r.code){case"invalid_type":return`\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e: a n\xED l\xE1ti fi ${r.expected}, \xE0m\u1ECD\u0300 a r\xED ${n(r.input)}`;case"invalid_value":return r.values.length===1?`\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e: a n\xED l\xE1ti fi ${U(r.values[0])}`:`\xC0\u1E63\xE0y\xE0n a\u1E63\xEC\u1E63e: yan \u1ECD\u0300kan l\xE1ra ${P(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",c=t(r.origin);return c?`T\xF3 p\u1ECD\u0300 j\xF9: a n\xED l\xE1ti j\u1EB9\u0301 p\xE9 ${r.origin??"iye"} ${c.verb} ${a}${r.maximum} ${c.unit}`:`T\xF3 p\u1ECD\u0300 j\xF9: a n\xED l\xE1ti j\u1EB9\u0301 ${a}${r.maximum}`}case"too_small":{let a=r.inclusive?">=":">",c=t(r.origin);return c?`K\xE9r\xE9 ju: a n\xED l\xE1ti j\u1EB9\u0301 p\xE9 ${r.origin} ${c.verb} ${a}${r.minimum} ${c.unit}`:`K\xE9r\xE9 ju: a n\xED l\xE1ti j\u1EB9\u0301 ${a}${r.minimum}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 b\u1EB9\u0300r\u1EB9\u0300 p\u1EB9\u0300l\xFA "${a.prefix}"`:a.format==="ends_with"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 par\xED p\u1EB9\u0300l\xFA "${a.suffix}"`:a.format==="includes"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 n\xED "${a.includes}"`:a.format==="regex"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 b\xE1 \xE0p\u1EB9\u1EB9r\u1EB9 mu ${a.pattern}`:`A\u1E63\xEC\u1E63e: ${o[a.format]??r.format}`}case"not_multiple_of":return`N\u1ECD\u0301mb\xE0 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 j\u1EB9\u0301 \xE8y\xE0 p\xEDp\xEDn ti ${r.divisor}`;case"unrecognized_keys":return`B\u1ECDt\xECn\xEC \xE0\xECm\u1ECD\u0300: ${P(r.keys,", ")}`;case"invalid_key":return`B\u1ECDt\xECn\xEC a\u1E63\xEC\u1E63e n\xEDn\xFA ${r.origin}`;case"invalid_union":return"\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e";case"invalid_element":return`Iye a\u1E63\xEC\u1E63e n\xEDn\xFA ${r.origin}`;default:return"\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e"}}},"error");function ey(){return{localeError:Hz()}}s(ey,"default");var MI,ty=Symbol("ZodOutput"),ry=Symbol("ZodInput"),Ta=class{static{s(this,"$ZodRegistry")}constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){let o=n[0];if(this._map.set(t,o),o&&typeof o=="object"&&"id"in o){if(this._idmap.has(o.id))throw new Error(`ID ${o.id} already exists in the registry`);this._idmap.set(o.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){let n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){let n=t._zod.parent;if(n){let o={...this.get(n)??{}};delete o.id;let r={...o,...this._map.get(t)};return Object.keys(r).length?r:void 0}return this._map.get(t)}has(t){return this._map.has(t)}};function fl(){return new Ta}s(fl,"registry");(MI=globalThis).__zod_globalRegistry??(MI.__zod_globalRegistry=fl());var Dt=globalThis.__zod_globalRegistry;function ny(e,t){return new e({type:"string",...q(t)})}s(ny,"_string");function oy(e,t){return new e({type:"string",coerce:!0,...q(t)})}s(oy,"_coercedString");function hl(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...q(t)})}s(hl,"_email");function fs(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...q(t)})}s(fs,"_guid");function gl(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...q(t)})}s(gl,"_uuid");function yl(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...q(t)})}s(yl,"_uuidv4");function vl(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...q(t)})}s(vl,"_uuidv6");function _l(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...q(t)})}s(_l,"_uuidv7");function hs(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...q(t)})}s(hs,"_url");function bl(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...q(t)})}s(bl,"_emoji");function xl(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...q(t)})}s(xl,"_nanoid");function wl(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...q(t)})}s(wl,"_cuid");function Sl(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...q(t)})}s(Sl,"_cuid2");function Il(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...q(t)})}s(Il,"_ulid");function Tl(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...q(t)})}s(Tl,"_xid");function El(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...q(t)})}s(El,"_ksuid");function kl(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...q(t)})}s(kl,"_ipv4");function Pl(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...q(t)})}s(Pl,"_ipv6");function ay(e,t){return new e({type:"string",format:"mac",check:"string_format",abort:!1,...q(t)})}s(ay,"_mac");function Al(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...q(t)})}s(Al,"_cidrv4");function $l(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...q(t)})}s($l,"_cidrv6");function Rl(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...q(t)})}s(Rl,"_base64");function Ol(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...q(t)})}s(Ol,"_base64url");function Cl(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...q(t)})}s(Cl,"_e164");function Nl(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...q(t)})}s(Nl,"_jwt");var iy={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function sy(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...q(t)})}s(sy,"_isoDateTime");function cy(e,t){return new e({type:"string",format:"date",check:"string_format",...q(t)})}s(cy,"_isoDate");function uy(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...q(t)})}s(uy,"_isoTime");function ly(e,t){return new e({type:"string",format:"duration",check:"string_format",...q(t)})}s(ly,"_isoDuration");function dy(e,t){return new e({type:"number",checks:[],...q(t)})}s(dy,"_number");function py(e,t){return new e({type:"number",coerce:!0,checks:[],...q(t)})}s(py,"_coercedNumber");function my(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...q(t)})}s(my,"_int");function fy(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float32",...q(t)})}s(fy,"_float32");function hy(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float64",...q(t)})}s(hy,"_float64");function gy(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"int32",...q(t)})}s(gy,"_int32");function yy(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"uint32",...q(t)})}s(yy,"_uint32");function vy(e,t){return new e({type:"boolean",...q(t)})}s(vy,"_boolean");function _y(e,t){return new e({type:"boolean",coerce:!0,...q(t)})}s(_y,"_coercedBoolean");function by(e,t){return new e({type:"bigint",...q(t)})}s(by,"_bigint");function xy(e,t){return new e({type:"bigint",coerce:!0,...q(t)})}s(xy,"_coercedBigint");function wy(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...q(t)})}s(wy,"_int64");function Sy(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...q(t)})}s(Sy,"_uint64");function Iy(e,t){return new e({type:"symbol",...q(t)})}s(Iy,"_symbol");function Ty(e,t){return new e({type:"undefined",...q(t)})}s(Ty,"_undefined");function Ey(e,t){return new e({type:"null",...q(t)})}s(Ey,"_null");function ky(e){return new e({type:"any"})}s(ky,"_any");function Py(e){return new e({type:"unknown"})}s(Py,"_unknown");function Ay(e,t){return new e({type:"never",...q(t)})}s(Ay,"_never");function $y(e,t){return new e({type:"void",...q(t)})}s($y,"_void");function Ry(e,t){return new e({type:"date",...q(t)})}s(Ry,"_date");function Oy(e,t){return new e({type:"date",coerce:!0,...q(t)})}s(Oy,"_coercedDate");function Cy(e,t){return new e({type:"nan",...q(t)})}s(Cy,"_nan");function hn(e,t){return new nl({check:"less_than",...q(t),value:e,inclusive:!1})}s(hn,"_lt");function pr(e,t){return new nl({check:"less_than",...q(t),value:e,inclusive:!0})}s(pr,"_lte");function gn(e,t){return new ol({check:"greater_than",...q(t),value:e,inclusive:!1})}s(gn,"_gt");function Jt(e,t){return new ol({check:"greater_than",...q(t),value:e,inclusive:!0})}s(Jt,"_gte");function Ny(e){return gn(0,e)}s(Ny,"_positive");function jy(e){return hn(0,e)}s(jy,"_negative");function Dy(e){return pr(0,e)}s(Dy,"_nonpositive");function zy(e){return Jt(0,e)}s(zy,"_nonnegative");function ko(e,t){return new zf({check:"multiple_of",...q(t),value:e})}s(ko,"_multipleOf");function Ea(e,t){return new Lf({check:"max_size",...q(t),maximum:e})}s(Ea,"_maxSize");function Po(e,t){return new qf({check:"min_size",...q(t),minimum:e})}s(Po,"_minSize");function gs(e,t){return new Ff({check:"size_equals",...q(t),size:e})}s(gs,"_size");function ka(e,t){return new Bf({check:"max_length",...q(t),maximum:e})}s(ka,"_maxLength");function Yn(e,t){return new Zf({check:"min_length",...q(t),minimum:e})}s(Yn,"_minLength");function Pa(e,t){return new Vf({check:"length_equals",...q(t),length:e})}s(Pa,"_length");function ys(e,t){return new Hf({check:"string_format",format:"regex",...q(t),pattern:e})}s(ys,"_regex");function vs(e){return new Gf({check:"string_format",format:"lowercase",...q(e)})}s(vs,"_lowercase");function _s(e){return new Jf({check:"string_format",format:"uppercase",...q(e)})}s(_s,"_uppercase");function bs(e,t){return new Kf({check:"string_format",format:"includes",...q(t),includes:e})}s(bs,"_includes");function xs(e,t){return new Wf({check:"string_format",format:"starts_with",...q(t),prefix:e})}s(xs,"_startsWith");function ws(e,t){return new Xf({check:"string_format",format:"ends_with",...q(t),suffix:e})}s(ws,"_endsWith");function My(e,t,n){return new Yf({check:"property",property:e,schema:t,...q(n)})}s(My,"_property");function Ss(e,t){return new Qf({check:"mime_type",mime:e,...q(t)})}s(Ss,"_mime");function Fr(e){return new eh({check:"overwrite",tx:e})}s(Fr,"_overwrite");function Is(e){return Fr(t=>t.normalize(e))}s(Is,"_normalize");function Ts(){return Fr(e=>e.trim())}s(Ts,"_trim");function Es(){return Fr(e=>e.toLowerCase())}s(Es,"_toLowerCase");function ks(){return Fr(e=>e.toUpperCase())}s(ks,"_toUpperCase");function Ps(){return Fr(e=>Wm(e))}s(Ps,"_slugify");function Uy(e,t,n){return new e({type:"array",element:t,...q(n)})}s(Uy,"_array");function Jz(e,t,n){return new e({type:"union",options:t,...q(n)})}s(Jz,"_union");function Kz(e,t,n,o){return new e({type:"union",options:n,discriminator:t,...q(o)})}s(Kz,"_discriminatedUnion");function Wz(e,t,n){return new e({type:"intersection",left:t,right:n})}s(Wz,"_intersection");function Xz(e,t,n,o){let r=n instanceof me,a=r?o:n,c=r?n:null;return new e({type:"tuple",items:t,rest:c,...q(a)})}s(Xz,"_tuple");function Yz(e,t,n,o){return new e({type:"record",keyType:t,valueType:n,...q(o)})}s(Yz,"_record");function Qz(e,t,n,o){return new e({type:"map",keyType:t,valueType:n,...q(o)})}s(Qz,"_map");function eM(e,t,n){return new e({type:"set",valueType:t,...q(n)})}s(eM,"_set");function tM(e,t,n){let o=Array.isArray(t)?Object.fromEntries(t.map(r=>[r,r])):t;return new e({type:"enum",entries:o,...q(n)})}s(tM,"_enum");function rM(e,t,n){return new e({type:"enum",entries:t,...q(n)})}s(rM,"_nativeEnum");function nM(e,t,n){return new e({type:"literal",values:Array.isArray(t)?t:[t],...q(n)})}s(nM,"_literal");function Ly(e,t){return new e({type:"file",...q(t)})}s(Ly,"_file");function oM(e,t){return new e({type:"transform",transform:t})}s(oM,"_transform");function aM(e,t){return new e({type:"optional",innerType:t})}s(aM,"_optional");function iM(e,t){return new e({type:"nullable",innerType:t})}s(iM,"_nullable");function sM(e,t,n){return new e({type:"default",innerType:t,get defaultValue(){return typeof n=="function"?n():Ym(n)}})}s(sM,"_default");function cM(e,t,n){return new e({type:"nonoptional",innerType:t,...q(n)})}s(cM,"_nonoptional");function uM(e,t){return new e({type:"success",innerType:t})}s(uM,"_success");function lM(e,t,n){return new e({type:"catch",innerType:t,catchValue:typeof n=="function"?n:()=>n})}s(lM,"_catch");function dM(e,t,n){return new e({type:"pipe",in:t,out:n})}s(dM,"_pipe");function pM(e,t){return new e({type:"readonly",innerType:t})}s(pM,"_readonly");function mM(e,t,n){return new e({type:"template_literal",parts:t,...q(n)})}s(mM,"_templateLiteral");function fM(e,t){return new e({type:"lazy",getter:t})}s(fM,"_lazy");function hM(e,t){return new e({type:"promise",innerType:t})}s(hM,"_promise");function qy(e,t,n){let o=q(n);return o.abort??(o.abort=!0),new e({type:"custom",check:"custom",fn:t,...o})}s(qy,"_custom");function Fy(e,t,n){return new e({type:"custom",check:"custom",fn:t,...q(n)})}s(Fy,"_refine");function By(e){let t=UI(n=>(n.addIssue=o=>{if(typeof o=="string")n.issues.push(_a(o,n.value,t._zod.def));else{let r=o;r.fatal&&(r.continue=!1),r.code??(r.code="custom"),r.input??(r.input=n.value),r.inst??(r.inst=t),r.continue??(r.continue=!t._zod.def.abort),n.issues.push(_a(r))}},e(n.value,n)));return t}s(By,"_superRefine");function UI(e,t){let n=new qe({check:"custom",...q(t)});return n._zod.check=e,n}s(UI,"_check");function Zy(e){let t=new qe({check:"describe"});return t._zod.onattach=[n=>{let o=Dt.get(n)??{};Dt.add(n,{...o,description:e})}],t._zod.check=()=>{},t}s(Zy,"describe");function Vy(e){let t=new qe({check:"meta"});return t._zod.onattach=[n=>{let o=Dt.get(n)??{};Dt.add(n,{...o,...e})}],t._zod.check=()=>{},t}s(Vy,"meta");function Hy(e,t){let n=q(t),o=n.truthy??["true","1","yes","on","y","enabled"],r=n.falsy??["false","0","no","off","n","disabled"];n.case!=="sensitive"&&(o=o.map(y=>typeof y=="string"?y.toLowerCase():y),r=r.map(y=>typeof y=="string"?y.toLowerCase():y));let a=new Set(o),c=new Set(r),u=e.Codec??ss,l=e.Boolean??is,d=e.String??Eo,p=new d({type:"string",error:n.error}),m=new l({type:"boolean",error:n.error}),f=new u({type:"pipe",in:p,out:m,transform:s(((y,g)=>{let v=y;return n.case!=="sensitive"&&(v=v.toLowerCase()),a.has(v)?!0:c.has(v)?!1:(g.issues.push({code:"invalid_value",expected:"stringbool",values:[...a,...c],input:g.value,inst:f,continue:!1}),{})}),"transform"),reverseTransform:s(((y,g)=>y===!0?o[0]||"true":r[0]||"false"),"reverseTransform"),error:n.error});return f}s(Hy,"_stringbool");function Aa(e,t,n,o={}){let r=q(o),a={...q(o),check:"string_format",type:"string",format:t,fn:typeof n=="function"?n:u=>n.test(u),...r};return n instanceof RegExp&&(a.pattern=n),new e(a)}s(Aa,"_stringFormat");var As=class{static{s(this,"JSONSchemaGenerator")}constructor(t){this.counter=0,this.metadataRegistry=t?.metadata??Dt,this.target=t?.target??"draft-2020-12",this.unrepresentable=t?.unrepresentable??"throw",this.override=t?.override??(()=>{}),this.io=t?.io??"output",this.seen=new Map}process(t,n={path:[],schemaPath:[]}){var o;let r=t._zod.def,a={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},c=this.seen.get(t);if(c)return c.count++,n.schemaPath.includes(t)&&(c.cycle=n.path),c.schema;let u={schema:{},count:1,cycle:void 0,path:n.path};this.seen.set(t,u);let l=t._zod.toJSONSchema?.();if(l)u.schema=l;else{let m={...n,schemaPath:[...n.schemaPath,t],path:n.path},f=t._zod.parent;if(f)u.ref=f,this.process(f,m),this.seen.get(f).isParent=!0;else{let y=u.schema;switch(r.type){case"string":{let g=y;g.type="string";let{minimum:v,maximum:b,format:w,patterns:_,contentEncoding:x}=t._zod.bag;if(typeof v=="number"&&(g.minLength=v),typeof b=="number"&&(g.maxLength=b),w&&(g.format=a[w]??w,g.format===""&&delete g.format),x&&(g.contentEncoding=x),_&&_.size>0){let E=[..._];E.length===1?g.pattern=E[0].source:E.length>1&&(u.schema.allOf=[...E.map(D=>({...this.target==="draft-7"||this.target==="draft-4"||this.target==="openapi-3.0"?{type:"string"}:{},pattern:D.source}))])}break}case"number":{let g=y,{minimum:v,maximum:b,format:w,multipleOf:_,exclusiveMaximum:x,exclusiveMinimum:E}=t._zod.bag;typeof w=="string"&&w.includes("int")?g.type="integer":g.type="number",typeof E=="number"&&(this.target==="draft-4"||this.target==="openapi-3.0"?(g.minimum=E,g.exclusiveMinimum=!0):g.exclusiveMinimum=E),typeof v=="number"&&(g.minimum=v,typeof E=="number"&&this.target!=="draft-4"&&(E>=v?delete g.minimum:delete g.exclusiveMinimum)),typeof x=="number"&&(this.target==="draft-4"||this.target==="openapi-3.0"?(g.maximum=x,g.exclusiveMaximum=!0):g.exclusiveMaximum=x),typeof b=="number"&&(g.maximum=b,typeof x=="number"&&this.target!=="draft-4"&&(x<=b?delete g.maximum:delete g.exclusiveMaximum)),typeof _=="number"&&(g.multipleOf=_);break}case"boolean":{let g=y;g.type="boolean";break}case"bigint":{if(this.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema");break}case"symbol":{if(this.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema");break}case"null":{this.target==="openapi-3.0"?(y.type="string",y.nullable=!0,y.enum=[null]):y.type="null";break}case"any":break;case"unknown":break;case"undefined":{if(this.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema");break}case"void":{if(this.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema");break}case"never":{y.not={};break}case"date":{if(this.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema");break}case"array":{let g=y,{minimum:v,maximum:b}=t._zod.bag;typeof v=="number"&&(g.minItems=v),typeof b=="number"&&(g.maxItems=b),g.type="array",g.items=this.process(r.element,{...m,path:[...m.path,"items"]});break}case"object":{let g=y;g.type="object",g.properties={};let v=r.shape;for(let _ in v)g.properties[_]=this.process(v[_],{...m,path:[...m.path,"properties",_]});let b=new Set(Object.keys(v)),w=new Set([...b].filter(_=>{let x=r.shape[_]._zod;return this.io==="input"?x.optin===void 0:x.optout===void 0}));w.size>0&&(g.required=Array.from(w)),r.catchall?._zod.def.type==="never"?g.additionalProperties=!1:r.catchall?r.catchall&&(g.additionalProperties=this.process(r.catchall,{...m,path:[...m.path,"additionalProperties"]})):this.io==="output"&&(g.additionalProperties=!1);break}case"union":{let g=y,v=r.discriminator!==void 0,b=r.options.map((w,_)=>this.process(w,{...m,path:[...m.path,v?"oneOf":"anyOf",_]}));v?g.oneOf=b:g.anyOf=b;break}case"intersection":{let g=y,v=this.process(r.left,{...m,path:[...m.path,"allOf",0]}),b=this.process(r.right,{...m,path:[...m.path,"allOf",1]}),w=s(x=>"allOf"in x&&Object.keys(x).length===1,"isSimpleIntersection"),_=[...w(v)?v.allOf:[v],...w(b)?b.allOf:[b]];g.allOf=_;break}case"tuple":{let g=y;g.type="array";let v=this.target==="draft-2020-12"?"prefixItems":"items",b=this.target==="draft-2020-12"||this.target==="openapi-3.0"?"items":"additionalItems",w=r.items.map((D,Z)=>this.process(D,{...m,path:[...m.path,v,Z]})),_=r.rest?this.process(r.rest,{...m,path:[...m.path,b,...this.target==="openapi-3.0"?[r.items.length]:[]]}):null;this.target==="draft-2020-12"?(g.prefixItems=w,_&&(g.items=_)):this.target==="openapi-3.0"?(g.items={anyOf:w},_&&g.items.anyOf.push(_),g.minItems=w.length,_||(g.maxItems=w.length)):(g.items=w,_&&(g.additionalItems=_));let{minimum:x,maximum:E}=t._zod.bag;typeof x=="number"&&(g.minItems=x),typeof E=="number"&&(g.maxItems=E);break}case"record":{let g=y;g.type="object",(this.target==="draft-7"||this.target==="draft-2020-12")&&(g.propertyNames=this.process(r.keyType,{...m,path:[...m.path,"propertyNames"]})),g.additionalProperties=this.process(r.valueType,{...m,path:[...m.path,"additionalProperties"]});break}case"map":{if(this.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema");break}case"set":{if(this.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema");break}case"enum":{let g=y,v=Ki(r.entries);v.every(b=>typeof b=="number")&&(g.type="number"),v.every(b=>typeof b=="string")&&(g.type="string"),g.enum=v;break}case"literal":{let g=y,v=[];for(let b of r.values)if(b===void 0){if(this.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof b=="bigint"){if(this.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");v.push(Number(b))}else v.push(b);if(v.length!==0)if(v.length===1){let b=v[0];g.type=b===null?"null":typeof b,this.target==="draft-4"||this.target==="openapi-3.0"?g.enum=[b]:g.const=b}else v.every(b=>typeof b=="number")&&(g.type="number"),v.every(b=>typeof b=="string")&&(g.type="string"),v.every(b=>typeof b=="boolean")&&(g.type="string"),v.every(b=>b===null)&&(g.type="null"),g.enum=v;break}case"file":{let g=y,v={type:"string",format:"binary",contentEncoding:"binary"},{minimum:b,maximum:w,mime:_}=t._zod.bag;b!==void 0&&(v.minLength=b),w!==void 0&&(v.maxLength=w),_?_.length===1?(v.contentMediaType=_[0],Object.assign(g,v)):g.anyOf=_.map(x=>({...v,contentMediaType:x})):Object.assign(g,v);break}case"transform":{if(this.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema");break}case"nullable":{let g=this.process(r.innerType,m);this.target==="openapi-3.0"?(u.ref=r.innerType,y.nullable=!0):y.anyOf=[g,{type:"null"}];break}case"nonoptional":{this.process(r.innerType,m),u.ref=r.innerType;break}case"success":{let g=y;g.type="boolean";break}case"default":{this.process(r.innerType,m),u.ref=r.innerType,y.default=JSON.parse(JSON.stringify(r.defaultValue));break}case"prefault":{this.process(r.innerType,m),u.ref=r.innerType,this.io==="input"&&(y._prefault=JSON.parse(JSON.stringify(r.defaultValue)));break}case"catch":{this.process(r.innerType,m),u.ref=r.innerType;let g;try{g=r.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}y.default=g;break}case"nan":{if(this.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema");break}case"template_literal":{let g=y,v=t._zod.pattern;if(!v)throw new Error("Pattern not found in template literal");g.type="string",g.pattern=v.source;break}case"pipe":{let g=this.io==="input"?r.in._zod.def.type==="transform"?r.out:r.in:r.out;this.process(g,m),u.ref=g;break}case"readonly":{this.process(r.innerType,m),u.ref=r.innerType,y.readOnly=!0;break}case"promise":{this.process(r.innerType,m),u.ref=r.innerType;break}case"optional":{this.process(r.innerType,m),u.ref=r.innerType;break}case"lazy":{let g=t._zod.innerType;this.process(g,m),u.ref=g;break}case"custom":{if(this.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema");break}case"function":{if(this.unrepresentable==="throw")throw new Error("Function types cannot be represented in JSON Schema");break}default:}}}let d=this.metadataRegistry.get(t);return d&&Object.assign(u.schema,d),this.io==="input"&&zt(t)&&(delete u.schema.examples,delete u.schema.default),this.io==="input"&&u.schema._prefault&&((o=u.schema).default??(o.default=u.schema._prefault)),delete u.schema._prefault,this.seen.get(t).schema}emit(t,n){let o={cycles:n?.cycles??"ref",reused:n?.reused??"inline",external:n?.external??void 0},r=this.seen.get(t);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");let a=s(p=>{let m=this.target==="draft-2020-12"?"$defs":"definitions";if(o.external){let v=o.external.registry.get(p[0])?.id,b=o.external.uri??(_=>_);if(v)return{ref:b(v)};let w=p[1].defId??p[1].schema.id??`schema${this.counter++}`;return p[1].defId=w,{defId:w,ref:`${b("__shared")}#/${m}/${w}`}}if(p[1]===r)return{ref:"#"};let y=`#/${m}/`,g=p[1].schema.id??`__schema${this.counter++}`;return{defId:g,ref:y+g}},"makeURI"),c=s(p=>{if(p[1].schema.$ref)return;let m=p[1],{ref:f,defId:y}=a(p);m.def={...m.schema},y&&(m.defId=y);let g=m.schema;for(let v in g)delete g[v];g.$ref=f},"extractToDef");if(o.cycles==="throw")for(let p of this.seen.entries()){let m=p[1];if(m.cycle)throw new Error(`Cycle detected: #/${m.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let p of this.seen.entries()){let m=p[1];if(t===p[0]){c(p);continue}if(o.external){let y=o.external.registry.get(p[0])?.id;if(t!==p[0]&&y){c(p);continue}}if(this.metadataRegistry.get(p[0])?.id){c(p);continue}if(m.cycle){c(p);continue}if(m.count>1&&o.reused==="ref"){c(p);continue}}let u=s((p,m)=>{let f=this.seen.get(p),y=f.def??f.schema,g={...y};if(f.ref===null)return;let v=f.ref;if(f.ref=null,v){u(v,m);let b=this.seen.get(v).schema;b.$ref&&(m.target==="draft-7"||m.target==="draft-4"||m.target==="openapi-3.0")?(y.allOf=y.allOf??[],y.allOf.push(b)):(Object.assign(y,b),Object.assign(y,g))}f.isParent||this.override({zodSchema:p,jsonSchema:y,path:f.path??[]})},"flattenRef");for(let p of[...this.seen.entries()].reverse())u(p[0],{target:this.target});let l={};if(this.target==="draft-2020-12"?l.$schema="https://json-schema.org/draft/2020-12/schema":this.target==="draft-7"?l.$schema="http://json-schema.org/draft-07/schema#":this.target==="draft-4"?l.$schema="http://json-schema.org/draft-04/schema#":this.target==="openapi-3.0"||console.warn(`Invalid target: ${this.target}`),o.external?.uri){let p=o.external.registry.get(t)?.id;if(!p)throw new Error("Schema is missing an `id` property");l.$id=o.external.uri(p)}Object.assign(l,r.def);let d=o.external?.defs??{};for(let p of this.seen.entries()){let m=p[1];m.def&&m.defId&&(d[m.defId]=m.def)}o.external||Object.keys(d).length>0&&(this.target==="draft-2020-12"?l.$defs=d:l.definitions=d);try{return JSON.parse(JSON.stringify(l))}catch{throw new Error("Error converting schema to JSON.")}}};function $s(e,t){if(e instanceof Ta){let o=new As(t),r={};for(let u of e._idmap.entries()){let[l,d]=u;o.process(d)}let a={},c={registry:e,uri:t?.uri,defs:r};for(let u of e._idmap.entries()){let[l,d]=u;a[l]=o.emit(d,{...t,external:c})}if(Object.keys(r).length>0){let u=o.target==="draft-2020-12"?"$defs":"definitions";a.__shared={[u]:r}}return{schemas:a}}let n=new As(t);return n.process(e),n.emit(e,t)}s($s,"toJSONSchema");function zt(e,t){let n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);let o=e._zod.def;if(o.type==="transform")return!0;if(o.type==="array")return zt(o.element,n);if(o.type==="set")return zt(o.valueType,n);if(o.type==="lazy")return zt(o.getter(),n);if(o.type==="promise"||o.type==="optional"||o.type==="nonoptional"||o.type==="nullable"||o.type==="readonly"||o.type==="default"||o.type==="prefault")return zt(o.innerType,n);if(o.type==="intersection")return zt(o.left,n)||zt(o.right,n);if(o.type==="record"||o.type==="map")return zt(o.keyType,n)||zt(o.valueType,n);if(o.type==="pipe")return zt(o.in,n)||zt(o.out,n);if(o.type==="object"){for(let r in o.shape)if(zt(o.shape[r],n))return!0;return!1}if(o.type==="union"){for(let r of o.options)if(zt(r,n))return!0;return!1}if(o.type==="tuple"){for(let r of o.items)if(zt(r,n))return!0;return!!(o.rest&&zt(o.rest,n))}return!1}s(zt,"isTransforming");var LI={};var Ul={};cr(Ul,{ZodISODate:()=>Dl,ZodISODateTime:()=>jl,ZodISODuration:()=>Ml,ZodISOTime:()=>zl,date:()=>Jy,datetime:()=>Gy,duration:()=>Wy,time:()=>Ky});var jl=I("ZodISODateTime",(e,t)=>{fh.init(e,t),Fe.init(e,t)});function Gy(e){return sy(jl,e)}s(Gy,"datetime");var Dl=I("ZodISODate",(e,t)=>{hh.init(e,t),Fe.init(e,t)});function Jy(e){return cy(Dl,e)}s(Jy,"date");var zl=I("ZodISOTime",(e,t)=>{gh.init(e,t),Fe.init(e,t)});function Ky(e){return uy(zl,e)}s(Ky,"time");var Ml=I("ZodISODuration",(e,t)=>{yh.init(e,t),Fe.init(e,t)});function Wy(e){return ly(Ml,e)}s(Wy,"duration");var FI=s((e,t)=>{es.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:s(n=>rs(e,n),"value")},flatten:{value:s(n=>ts(e,n),"value")},addIssue:{value:s(n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,ya,2)},"value")},addIssues:{value:s(n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,ya,2)},"value")},isEmpty:{get(){return e.issues.length===0}}})},"initializer"),yM=I("ZodError",FI),Kt=I("ZodError",FI,{Parent:Error});var Xy=ba(Kt),Yy=xa(Kt),Qy=wa(Kt),Rs=Sa(Kt),ev=Ju(Kt),tv=Ku(Kt),rv=Wu(Kt),nv=Xu(Kt),ov=Yu(Kt),av=Qu(Kt),iv=el(Kt),sv=tl(Kt);var ve=I("ZodType",(e,t)=>(me.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(F.mergeDefs(t,{checks:[...t.checks??[],...n.map(o=>typeof o=="function"?{_zod:{check:o,def:{check:"custom"},onattach:[]}}:o)]})),e.clone=(n,o)=>jt(e,n,o),e.brand=()=>e,e.register=((n,o)=>(n.add(e,o),e)),e.parse=(n,o)=>Xy(e,n,o,{callee:e.parse}),e.safeParse=(n,o)=>Qy(e,n,o),e.parseAsync=async(n,o)=>Yy(e,n,o,{callee:e.parseAsync}),e.safeParseAsync=async(n,o)=>Rs(e,n,o),e.spa=e.safeParseAsync,e.encode=(n,o)=>ev(e,n,o),e.decode=(n,o)=>tv(e,n,o),e.encodeAsync=async(n,o)=>rv(e,n,o),e.decodeAsync=async(n,o)=>nv(e,n,o),e.safeEncode=(n,o)=>ov(e,n,o),e.safeDecode=(n,o)=>av(e,n,o),e.safeEncodeAsync=async(n,o)=>iv(e,n,o),e.safeDecodeAsync=async(n,o)=>sv(e,n,o),e.refine=(n,o)=>e.check(AT(n,o)),e.superRefine=n=>e.check($T(n)),e.overwrite=n=>e.check(Fr(n)),e.optional=()=>ql(e),e.nullable=()=>Fl(e),e.nullish=()=>ql(Fl(e)),e.nonoptional=n=>yT(e,n),e.array=()=>Hl(e),e.or=n=>$v([e,n]),e.and=n=>nT(e,n),e.transform=n=>Bl(e,Cv(n)),e.default=n=>fT(e,n),e.prefault=n=>gT(e,n),e.catch=n=>bT(e,n),e.pipe=n=>Bl(e,n),e.readonly=()=>ST(e),e.describe=n=>{let o=e.clone();return Dt.add(o,{description:n}),o},Object.defineProperty(e,"description",{get(){return Dt.get(e)?.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return Dt.get(e);let o=e.clone();return Dt.add(o,n[0]),o},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),lv=I("_ZodString",(e,t)=>{Eo.init(e,t),ve.init(e,t);let n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...o)=>e.check(ys(...o)),e.includes=(...o)=>e.check(bs(...o)),e.startsWith=(...o)=>e.check(xs(...o)),e.endsWith=(...o)=>e.check(ws(...o)),e.min=(...o)=>e.check(Yn(...o)),e.max=(...o)=>e.check(ka(...o)),e.length=(...o)=>e.check(Pa(...o)),e.nonempty=(...o)=>e.check(Yn(1,...o)),e.lowercase=o=>e.check(vs(o)),e.uppercase=o=>e.check(_s(o)),e.trim=()=>e.check(Ts()),e.normalize=(...o)=>e.check(Is(...o)),e.toLowerCase=()=>e.check(Es()),e.toUpperCase=()=>e.check(ks()),e.slugify=()=>e.check(Ps())}),Cs=I("ZodString",(e,t)=>{Eo.init(e,t),lv.init(e,t),e.email=n=>e.check(hl(dv,n)),e.url=n=>e.check(hs(Zl,n)),e.jwt=n=>e.check(Nl(Ev,n)),e.emoji=n=>e.check(bl(pv,n)),e.guid=n=>e.check(fs(Ll,n)),e.uuid=n=>e.check(gl(vn,n)),e.uuidv4=n=>e.check(yl(vn,n)),e.uuidv6=n=>e.check(vl(vn,n)),e.uuidv7=n=>e.check(_l(vn,n)),e.nanoid=n=>e.check(xl(mv,n)),e.guid=n=>e.check(fs(Ll,n)),e.cuid=n=>e.check(wl(fv,n)),e.cuid2=n=>e.check(Sl(hv,n)),e.ulid=n=>e.check(Il(gv,n)),e.base64=n=>e.check(Rl(Sv,n)),e.base64url=n=>e.check(Ol(Iv,n)),e.xid=n=>e.check(Tl(yv,n)),e.ksuid=n=>e.check(El(vv,n)),e.ipv4=n=>e.check(kl(_v,n)),e.ipv6=n=>e.check(Pl(bv,n)),e.cidrv4=n=>e.check(Al(xv,n)),e.cidrv6=n=>e.check($l(wv,n)),e.e164=n=>e.check(Cl(Tv,n)),e.datetime=n=>e.check(Gy(n)),e.date=n=>e.check(Jy(n)),e.time=n=>e.check(Ky(n)),e.duration=n=>e.check(Wy(n))});function cv(e){return ny(Cs,e)}s(cv,"string");var Fe=I("ZodStringFormat",(e,t)=>{ze.init(e,t),lv.init(e,t)}),dv=I("ZodEmail",(e,t)=>{ah.init(e,t),Fe.init(e,t)});function _M(e){return hl(dv,e)}s(_M,"email");var Ll=I("ZodGUID",(e,t)=>{nh.init(e,t),Fe.init(e,t)});function bM(e){return fs(Ll,e)}s(bM,"guid");var vn=I("ZodUUID",(e,t)=>{oh.init(e,t),Fe.init(e,t)});function xM(e){return gl(vn,e)}s(xM,"uuid");function wM(e){return yl(vn,e)}s(wM,"uuidv4");function SM(e){return vl(vn,e)}s(SM,"uuidv6");function IM(e){return _l(vn,e)}s(IM,"uuidv7");var Zl=I("ZodURL",(e,t)=>{ih.init(e,t),Fe.init(e,t)});function TM(e){return hs(Zl,e)}s(TM,"url");function EM(e){return hs(Zl,{protocol:/^https?$/,hostname:dr.domain,...F.normalizeParams(e)})}s(EM,"httpUrl");var pv=I("ZodEmoji",(e,t)=>{sh.init(e,t),Fe.init(e,t)});function kM(e){return bl(pv,e)}s(kM,"emoji");var mv=I("ZodNanoID",(e,t)=>{ch.init(e,t),Fe.init(e,t)});function PM(e){return xl(mv,e)}s(PM,"nanoid");var fv=I("ZodCUID",(e,t)=>{uh.init(e,t),Fe.init(e,t)});function AM(e){return wl(fv,e)}s(AM,"cuid");var hv=I("ZodCUID2",(e,t)=>{lh.init(e,t),Fe.init(e,t)});function $M(e){return Sl(hv,e)}s($M,"cuid2");var gv=I("ZodULID",(e,t)=>{dh.init(e,t),Fe.init(e,t)});function RM(e){return Il(gv,e)}s(RM,"ulid");var yv=I("ZodXID",(e,t)=>{ph.init(e,t),Fe.init(e,t)});function OM(e){return Tl(yv,e)}s(OM,"xid");var vv=I("ZodKSUID",(e,t)=>{mh.init(e,t),Fe.init(e,t)});function CM(e){return El(vv,e)}s(CM,"ksuid");var _v=I("ZodIPv4",(e,t)=>{vh.init(e,t),Fe.init(e,t)});function NM(e){return kl(_v,e)}s(NM,"ipv4");var BI=I("ZodMAC",(e,t)=>{bh.init(e,t),Fe.init(e,t)});function jM(e){return ay(BI,e)}s(jM,"mac");var bv=I("ZodIPv6",(e,t)=>{_h.init(e,t),Fe.init(e,t)});function DM(e){return Pl(bv,e)}s(DM,"ipv6");var xv=I("ZodCIDRv4",(e,t)=>{xh.init(e,t),Fe.init(e,t)});function zM(e){return Al(xv,e)}s(zM,"cidrv4");var wv=I("ZodCIDRv6",(e,t)=>{wh.init(e,t),Fe.init(e,t)});function MM(e){return $l(wv,e)}s(MM,"cidrv6");var Sv=I("ZodBase64",(e,t)=>{Ih.init(e,t),Fe.init(e,t)});function UM(e){return Rl(Sv,e)}s(UM,"base64");var Iv=I("ZodBase64URL",(e,t)=>{Th.init(e,t),Fe.init(e,t)});function LM(e){return Ol(Iv,e)}s(LM,"base64url");var Tv=I("ZodE164",(e,t)=>{Eh.init(e,t),Fe.init(e,t)});function qM(e){return Cl(Tv,e)}s(qM,"e164");var Ev=I("ZodJWT",(e,t)=>{kh.init(e,t),Fe.init(e,t)});function FM(e){return Nl(Ev,e)}s(FM,"jwt");var Ns=I("ZodCustomStringFormat",(e,t)=>{Ph.init(e,t),Fe.init(e,t)});function BM(e,t,n={}){return Aa(Ns,e,t,n)}s(BM,"stringFormat");function ZM(e){return Aa(Ns,"hostname",dr.hostname,e)}s(ZM,"hostname");function VM(e){return Aa(Ns,"hex",dr.hex,e)}s(VM,"hex");function HM(e,t){let n=t?.enc??"hex",o=`${e}_${n}`,r=dr[o];if(!r)throw new Error(`Unrecognized hash format: ${o}`);return Aa(Ns,o,r,t)}s(HM,"hash");var js=I("ZodNumber",(e,t)=>{ll.init(e,t),ve.init(e,t),e.gt=(o,r)=>e.check(gn(o,r)),e.gte=(o,r)=>e.check(Jt(o,r)),e.min=(o,r)=>e.check(Jt(o,r)),e.lt=(o,r)=>e.check(hn(o,r)),e.lte=(o,r)=>e.check(pr(o,r)),e.max=(o,r)=>e.check(pr(o,r)),e.int=o=>e.check(uv(o)),e.safe=o=>e.check(uv(o)),e.positive=o=>e.check(gn(0,o)),e.nonnegative=o=>e.check(Jt(0,o)),e.negative=o=>e.check(hn(0,o)),e.nonpositive=o=>e.check(pr(0,o)),e.multipleOf=(o,r)=>e.check(ko(o,r)),e.step=(o,r)=>e.check(ko(o,r)),e.finite=()=>e;let n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function ZI(e){return dy(js,e)}s(ZI,"number");var Ra=I("ZodNumberFormat",(e,t)=>{Ah.init(e,t),js.init(e,t)});function uv(e){return my(Ra,e)}s(uv,"int");function GM(e){return fy(Ra,e)}s(GM,"float32");function JM(e){return hy(Ra,e)}s(JM,"float64");function KM(e){return gy(Ra,e)}s(KM,"int32");function WM(e){return yy(Ra,e)}s(WM,"uint32");var Ds=I("ZodBoolean",(e,t)=>{is.init(e,t),ve.init(e,t)});function VI(e){return vy(Ds,e)}s(VI,"boolean");var zs=I("ZodBigInt",(e,t)=>{dl.init(e,t),ve.init(e,t),e.gte=(o,r)=>e.check(Jt(o,r)),e.min=(o,r)=>e.check(Jt(o,r)),e.gt=(o,r)=>e.check(gn(o,r)),e.gte=(o,r)=>e.check(Jt(o,r)),e.min=(o,r)=>e.check(Jt(o,r)),e.lt=(o,r)=>e.check(hn(o,r)),e.lte=(o,r)=>e.check(pr(o,r)),e.max=(o,r)=>e.check(pr(o,r)),e.positive=o=>e.check(gn(BigInt(0),o)),e.negative=o=>e.check(hn(BigInt(0),o)),e.nonpositive=o=>e.check(pr(BigInt(0),o)),e.nonnegative=o=>e.check(Jt(BigInt(0),o)),e.multipleOf=(o,r)=>e.check(ko(o,r));let n=e._zod.bag;e.minValue=n.minimum??null,e.maxValue=n.maximum??null,e.format=n.format??null});function XM(e){return by(zs,e)}s(XM,"bigint");var kv=I("ZodBigIntFormat",(e,t)=>{$h.init(e,t),zs.init(e,t)});function YM(e){return wy(kv,e)}s(YM,"int64");function QM(e){return Sy(kv,e)}s(QM,"uint64");var HI=I("ZodSymbol",(e,t)=>{Rh.init(e,t),ve.init(e,t)});function eU(e){return Iy(HI,e)}s(eU,"symbol");var GI=I("ZodUndefined",(e,t)=>{Oh.init(e,t),ve.init(e,t)});function tU(e){return Ty(GI,e)}s(tU,"_undefined");var JI=I("ZodNull",(e,t)=>{Ch.init(e,t),ve.init(e,t)});function KI(e){return Ey(JI,e)}s(KI,"_null");var WI=I("ZodAny",(e,t)=>{Nh.init(e,t),ve.init(e,t)});function rU(){return ky(WI)}s(rU,"any");var XI=I("ZodUnknown",(e,t)=>{jh.init(e,t),ve.init(e,t)});function $a(){return Py(XI)}s($a,"unknown");var YI=I("ZodNever",(e,t)=>{Dh.init(e,t),ve.init(e,t)});function Pv(e){return Ay(YI,e)}s(Pv,"never");var QI=I("ZodVoid",(e,t)=>{zh.init(e,t),ve.init(e,t)});function nU(e){return $y(QI,e)}s(nU,"_void");var Vl=I("ZodDate",(e,t)=>{Mh.init(e,t),ve.init(e,t),e.min=(o,r)=>e.check(Jt(o,r)),e.max=(o,r)=>e.check(pr(o,r));let n=e._zod.bag;e.minDate=n.minimum?new Date(n.minimum):null,e.maxDate=n.maximum?new Date(n.maximum):null});function oU(e){return Ry(Vl,e)}s(oU,"date");var eT=I("ZodArray",(e,t)=>{Uh.init(e,t),ve.init(e,t),e.element=t.element,e.min=(n,o)=>e.check(Yn(n,o)),e.nonempty=n=>e.check(Yn(1,n)),e.max=(n,o)=>e.check(ka(n,o)),e.length=(n,o)=>e.check(Pa(n,o)),e.unwrap=()=>e.element});function Hl(e,t){return Uy(eT,e,t)}s(Hl,"array");function aU(e){let t=e._zod.def.shape;return Ov(Object.keys(t))}s(aU,"keyof");var Gl=I("ZodObject",(e,t)=>{Lh.init(e,t),ve.init(e,t),F.defineLazy(e,"shape",()=>t.shape),e.keyof=()=>Ov(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:$a()}),e.loose=()=>e.clone({...e._zod.def,catchall:$a()}),e.strict=()=>e.clone({...e._zod.def,catchall:Pv()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>F.extend(e,n),e.safeExtend=n=>F.safeExtend(e,n),e.merge=n=>F.merge(e,n),e.pick=n=>F.pick(e,n),e.omit=n=>F.omit(e,n),e.partial=(...n)=>F.partial(Nv,e,n[0]),e.required=(...n)=>F.required(jv,e,n[0])});function iU(e,t){let n={type:"object",shape:e??{},...F.normalizeParams(t)};return new Gl(n)}s(iU,"object");function sU(e,t){return new Gl({type:"object",shape:e,catchall:Pv(),...F.normalizeParams(t)})}s(sU,"strictObject");function cU(e,t){return new Gl({type:"object",shape:e,catchall:$a(),...F.normalizeParams(t)})}s(cU,"looseObject");var Av=I("ZodUnion",(e,t)=>{pl.init(e,t),ve.init(e,t),e.options=t.options});function $v(e,t){return new Av({type:"union",options:e,...F.normalizeParams(t)})}s($v,"union");var tT=I("ZodDiscriminatedUnion",(e,t)=>{Av.init(e,t),qh.init(e,t)});function uU(e,t,n){return new tT({type:"union",options:t,discriminator:e,...F.normalizeParams(n)})}s(uU,"discriminatedUnion");var rT=I("ZodIntersection",(e,t)=>{Fh.init(e,t),ve.init(e,t)});function nT(e,t){return new rT({type:"intersection",left:e,right:t})}s(nT,"intersection");var oT=I("ZodTuple",(e,t)=>{ml.init(e,t),ve.init(e,t),e.rest=n=>e.clone({...e._zod.def,rest:n})});function aT(e,t,n){let o=t instanceof me,r=o?n:t,a=o?t:null;return new oT({type:"tuple",items:e,rest:a,...F.normalizeParams(r)})}s(aT,"tuple");var Rv=I("ZodRecord",(e,t)=>{Bh.init(e,t),ve.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function iT(e,t,n){return new Rv({type:"record",keyType:e,valueType:t,...F.normalizeParams(n)})}s(iT,"record");function lU(e,t,n){let o=jt(e);return o._zod.values=void 0,new Rv({type:"record",keyType:o,valueType:t,...F.normalizeParams(n)})}s(lU,"partialRecord");var sT=I("ZodMap",(e,t)=>{Zh.init(e,t),ve.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function dU(e,t,n){return new sT({type:"map",keyType:e,valueType:t,...F.normalizeParams(n)})}s(dU,"map");var cT=I("ZodSet",(e,t)=>{Vh.init(e,t),ve.init(e,t),e.min=(...n)=>e.check(Po(...n)),e.nonempty=n=>e.check(Po(1,n)),e.max=(...n)=>e.check(Ea(...n)),e.size=(...n)=>e.check(gs(...n))});function pU(e,t){return new cT({type:"set",valueType:e,...F.normalizeParams(t)})}s(pU,"set");var Os=I("ZodEnum",(e,t)=>{Hh.init(e,t),ve.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);let n=new Set(Object.keys(t.entries));e.extract=(o,r)=>{let a={};for(let c of o)if(n.has(c))a[c]=t.entries[c];else throw new Error(`Key ${c} not found in enum`);return new Os({...t,checks:[],...F.normalizeParams(r),entries:a})},e.exclude=(o,r)=>{let a={...t.entries};for(let c of o)if(n.has(c))delete a[c];else throw new Error(`Key ${c} not found in enum`);return new Os({...t,checks:[],...F.normalizeParams(r),entries:a})}});function Ov(e,t){let n=Array.isArray(e)?Object.fromEntries(e.map(o=>[o,o])):e;return new Os({type:"enum",entries:n,...F.normalizeParams(t)})}s(Ov,"_enum");function mU(e,t){return new Os({type:"enum",entries:e,...F.normalizeParams(t)})}s(mU,"nativeEnum");var uT=I("ZodLiteral",(e,t)=>{Gh.init(e,t),ve.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function fU(e,t){return new uT({type:"literal",values:Array.isArray(e)?e:[e],...F.normalizeParams(t)})}s(fU,"literal");var lT=I("ZodFile",(e,t)=>{Jh.init(e,t),ve.init(e,t),e.min=(n,o)=>e.check(Po(n,o)),e.max=(n,o)=>e.check(Ea(n,o)),e.mime=(n,o)=>e.check(Ss(Array.isArray(n)?n:[n],o))});function hU(e){return Ly(lT,e)}s(hU,"file");var dT=I("ZodTransform",(e,t)=>{Kh.init(e,t),ve.init(e,t),e._zod.parse=(n,o)=>{if(o.direction==="backward")throw new Hn(e.constructor.name);n.addIssue=a=>{if(typeof a=="string")n.issues.push(F.issue(a,n.value,t));else{let c=a;c.fatal&&(c.continue=!1),c.code??(c.code="custom"),c.input??(c.input=n.value),c.inst??(c.inst=e),n.issues.push(F.issue(c))}};let r=t.transform(n.value,n);return r instanceof Promise?r.then(a=>(n.value=a,n)):(n.value=r,n)}});function Cv(e){return new dT({type:"transform",transform:e})}s(Cv,"transform");var Nv=I("ZodOptional",(e,t)=>{Wh.init(e,t),ve.init(e,t),e.unwrap=()=>e._zod.def.innerType});function ql(e){return new Nv({type:"optional",innerType:e})}s(ql,"optional");var pT=I("ZodNullable",(e,t)=>{Xh.init(e,t),ve.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Fl(e){return new pT({type:"nullable",innerType:e})}s(Fl,"nullable");function gU(e){return ql(Fl(e))}s(gU,"nullish");var mT=I("ZodDefault",(e,t)=>{Yh.init(e,t),ve.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function fT(e,t){return new mT({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():F.shallowClone(t)}})}s(fT,"_default");var hT=I("ZodPrefault",(e,t)=>{Qh.init(e,t),ve.init(e,t),e.unwrap=()=>e._zod.def.innerType});function gT(e,t){return new hT({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():F.shallowClone(t)}})}s(gT,"prefault");var jv=I("ZodNonOptional",(e,t)=>{eg.init(e,t),ve.init(e,t),e.unwrap=()=>e._zod.def.innerType});function yT(e,t){return new jv({type:"nonoptional",innerType:e,...F.normalizeParams(t)})}s(yT,"nonoptional");var vT=I("ZodSuccess",(e,t)=>{tg.init(e,t),ve.init(e,t),e.unwrap=()=>e._zod.def.innerType});function yU(e){return new vT({type:"success",innerType:e})}s(yU,"success");var _T=I("ZodCatch",(e,t)=>{rg.init(e,t),ve.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function bT(e,t){return new _T({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}s(bT,"_catch");var xT=I("ZodNaN",(e,t)=>{ng.init(e,t),ve.init(e,t)});function vU(e){return Cy(xT,e)}s(vU,"nan");var Dv=I("ZodPipe",(e,t)=>{og.init(e,t),ve.init(e,t),e.in=t.in,e.out=t.out});function Bl(e,t){return new Dv({type:"pipe",in:e,out:t})}s(Bl,"pipe");var zv=I("ZodCodec",(e,t)=>{Dv.init(e,t),ss.init(e,t)});function _U(e,t,n){return new zv({type:"pipe",in:e,out:t,transform:n.decode,reverseTransform:n.encode})}s(_U,"codec");var wT=I("ZodReadonly",(e,t)=>{ag.init(e,t),ve.init(e,t),e.unwrap=()=>e._zod.def.innerType});function ST(e){return new wT({type:"readonly",innerType:e})}s(ST,"readonly");var IT=I("ZodTemplateLiteral",(e,t)=>{ig.init(e,t),ve.init(e,t)});function bU(e,t){return new IT({type:"template_literal",parts:e,...F.normalizeParams(t)})}s(bU,"templateLiteral");var TT=I("ZodLazy",(e,t)=>{ug.init(e,t),ve.init(e,t),e.unwrap=()=>e._zod.def.getter()});function ET(e){return new TT({type:"lazy",getter:e})}s(ET,"lazy");var kT=I("ZodPromise",(e,t)=>{cg.init(e,t),ve.init(e,t),e.unwrap=()=>e._zod.def.innerType});function xU(e){return new kT({type:"promise",innerType:e})}s(xU,"promise");var PT=I("ZodFunction",(e,t)=>{sg.init(e,t),ve.init(e,t)});function wU(e){return new PT({type:"function",input:Array.isArray(e?.input)?aT(e?.input):e?.input??Hl($a()),output:e?.output??$a()})}s(wU,"_function");var Jl=I("ZodCustom",(e,t)=>{lg.init(e,t),ve.init(e,t)});function SU(e){let t=new qe({check:"custom"});return t._zod.check=e,t}s(SU,"check");function IU(e,t){return qy(Jl,e??(()=>!0),t)}s(IU,"custom");function AT(e,t={}){return Fy(Jl,e,t)}s(AT,"refine");function $T(e){return By(e)}s($T,"superRefine");var TU=Zy,EU=Vy;function kU(e,t={error:`Input not instance of ${e.name}`}){let n=new Jl({type:"custom",check:"custom",fn:s(o=>o instanceof e,"fn"),abort:!0,...F.normalizeParams(t)});return n._zod.bag.Class=e,n}s(kU,"_instanceof");var PU=s((...e)=>Hy({Codec:zv,Boolean:Ds,String:Cs},...e),"stringbool");function AU(e){let t=ET(()=>$v([cv(e),ZI(),VI(),KI(),Hl(t),iT(cv(),t)]));return t}s(AU,"json");function $U(e,t){return Bl(Cv(e),t)}s($U,"preprocess");var RU={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function OU(e){pt({customError:e})}s(OU,"setErrorMap");function CU(){return pt().customError}s(CU,"getErrorMap");var le;le||(le={});var Mv={};cr(Mv,{bigint:()=>zU,boolean:()=>DU,date:()=>MU,number:()=>jU,string:()=>NU});function NU(e){return oy(Cs,e)}s(NU,"string");function jU(e){return py(js,e)}s(jU,"number");function DU(e){return _y(Ds,e)}s(DU,"boolean");function zU(e){return xy(zs,e)}s(zU,"bigint");function MU(e){return Oy(Vl,e)}s(MU,"date");pt(cs());var UU=i.object({arguments:i.record(i.string(),i.unknown()).optional().default({})}),Uv=new ne;Uv.post("/:toolName",B,pe("json",UU),async e=>{let t=e.req.param("toolName"),{arguments:n}=e.req.valid("json");return e.json({error:"Not implemented",message:`Tool ${t} will be implemented in subsequent tasks`,toolName:t,receivedArgs:n},501)});var Lv=new ne;Lv.route("/context",Bm);Lv.route("/tools",Uv);var qv=Lv;var OT="vercel.ai.error",LU=Symbol.for(OT),CT,qU=class NT extends Error{static{s(this,"_AISDKError")}constructor({name:t,message:n,cause:o}){super(n),this[CT]=!0,this.name=t,this.cause=o}static isInstance(t){return NT.hasMarker(t,OT)}static hasMarker(t,n){let o=Symbol.for(n);return t!=null&&typeof t=="object"&&o in t&&typeof t[o]=="boolean"&&t[o]===!0}toJSON(){return{name:this.name,message:this.message}}};CT=LU;var RT=qU,FU="AI_APICallError",BU=`vercel.ai.error.${FU}`,ZU=Symbol.for(BU),VU;VU=ZU;var HU="AI_EmptyResponseBodyError",GU=`vercel.ai.error.${HU}`,JU=Symbol.for(GU),KU;KU=JU;var jT="AI_InvalidArgumentError",DT=`vercel.ai.error.${jT}`,WU=Symbol.for(DT),zT,MT=class extends RT{static{s(this,"InvalidArgumentError")}constructor({message:e,cause:t,argument:n}){super({name:jT,message:e,cause:t}),this[zT]=!0,this.argument=n}static isInstance(e){return RT.hasMarker(e,DT)}};zT=WU;var XU="AI_InvalidPromptError",YU=`vercel.ai.error.${XU}`,QU=Symbol.for(YU),e4;e4=QU;var t4="AI_InvalidResponseDataError",r4=`vercel.ai.error.${t4}`,n4=Symbol.for(r4),o4;o4=n4;var a4="AI_JSONParseError",i4=`vercel.ai.error.${a4}`,s4=Symbol.for(i4),c4;c4=s4;var u4="AI_LoadAPIKeyError",l4=`vercel.ai.error.${u4}`,d4=Symbol.for(l4),p4;p4=d4;var m4="AI_LoadSettingError",f4=`vercel.ai.error.${m4}`,h4=Symbol.for(f4),g4;g4=h4;var y4="AI_NoContentGeneratedError",v4=`vercel.ai.error.${y4}`,_4=Symbol.for(v4),b4;b4=_4;var x4="AI_NoSuchModelError",w4=`vercel.ai.error.${x4}`,S4=Symbol.for(w4),I4;I4=S4;var T4="AI_TooManyEmbeddingValuesForCallError",E4=`vercel.ai.error.${T4}`,k4=Symbol.for(E4),P4;P4=k4;var A4="AI_TypeValidationError",$4=`vercel.ai.error.${A4}`,R4=Symbol.for($4),O4;O4=R4;var C4="AI_UnsupportedFunctionalityError",N4=`vercel.ai.error.${C4}`,j4=Symbol.for(N4),D4;D4=j4;var UT=s((e,t=21)=>(n=t)=>{let o="",r=n|0;for(;r--;)o+=e[Math.random()*e.length|0];return o},"customAlphabet");var L4=vu(Kl(),1);var U4=s(({prefix:e,size:t=7,alphabet:n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:o="-"}={})=>{let r=UT(n,t);if(e==null)return r;if(n.includes(o))throw new MT({argument:"separator",message:`The separator "${o}" must not be part of the alphabet "${n}".`});return a=>`${e}${o}${r(a)}`},"createIdGenerator"),Bv=U4();var ZT=Symbol.for("vercel.ai.validator");var{btoa:Ite,atob:Tte}=globalThis;var K4=vu(Kl(),1);var HT=Symbol("Let zodToJsonSchema decide on which parser to use");var VT={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"},GT=s(e=>typeof e=="string"?{...VT,name:e}:{...VT,...e},"getDefaultOptions");var JT=s(e=>{let t=GT(e),n=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,flags:{hasReferencedOpenAiAnyType:!1},currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([o,r])=>[r._def,{def:r._def,path:[...t.basePath,t.definitionPath,o],jsonSchema:void 0}]))}},"getRefs");function Zv(e,t,n,o){o?.errorMessages&&n&&(e.errorMessage={...e.errorMessage,[t]:n})}s(Zv,"addErrorMessage");function Ee(e,t,n,o,r){e[t]=n,Zv(e,t,o,r)}s(Ee,"setResponseValueAndErrors");var Wl=s((e,t)=>{let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);return[(e.length-n).toString(),...t.slice(n)].join("/")},"getRelativePath");function Qe(e){if(e.target!=="openAi")return{};let t=[...e.basePath,e.definitionPath,e.openAiAnyTypeName];return e.flags.hasReferencedOpenAiAnyType=!0,{$ref:e.$refStrategy==="relative"?Wl(t,e.currentPath):t.join("/")}}s(Qe,"parseAnyDef");function KT(e,t){let n={type:"array"};return e.type?._def&&e.type?._def?.typeName!==le.ZodAny&&(n.items=ce(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&Ee(n,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&Ee(n,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&(Ee(n,"minItems",e.exactLength.value,e.exactLength.message,t),Ee(n,"maxItems",e.exactLength.value,e.exactLength.message,t)),n}s(KT,"parseArrayDef");function WT(e,t){let n={type:"integer",format:"int64"};if(!e.checks)return n;for(let o of e.checks)switch(o.kind){case"min":t.target==="jsonSchema7"?o.inclusive?Ee(n,"minimum",o.value,o.message,t):Ee(n,"exclusiveMinimum",o.value,o.message,t):(o.inclusive||(n.exclusiveMinimum=!0),Ee(n,"minimum",o.value,o.message,t));break;case"max":t.target==="jsonSchema7"?o.inclusive?Ee(n,"maximum",o.value,o.message,t):Ee(n,"exclusiveMaximum",o.value,o.message,t):(o.inclusive||(n.exclusiveMaximum=!0),Ee(n,"maximum",o.value,o.message,t));break;case"multipleOf":Ee(n,"multipleOf",o.value,o.message,t);break}return n}s(WT,"parseBigintDef");function XT(){return{type:"boolean"}}s(XT,"parseBooleanDef");function Xl(e,t){return ce(e.type._def,t)}s(Xl,"parseBrandedDef");var YT=s((e,t)=>ce(e.innerType._def,t),"parseCatchDef");function Vv(e,t,n){let o=n??t.dateStrategy;if(Array.isArray(o))return{anyOf:o.map((r,a)=>Vv(e,t,r))};switch(o){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return q4(e,t)}}s(Vv,"parseDateDef");var q4=s((e,t)=>{let n={type:"integer",format:"unix-time"};if(t.target==="openApi3")return n;for(let o of e.checks)switch(o.kind){case"min":Ee(n,"minimum",o.value,o.message,t);break;case"max":Ee(n,"maximum",o.value,o.message,t);break}return n},"integerDateParser");function QT(e,t){return{...ce(e.innerType._def,t),default:e.defaultValue()}}s(QT,"parseDefaultDef");function e0(e,t){return t.effectStrategy==="input"?ce(e.schema._def,t):Qe(t)}s(e0,"parseEffectsDef");function t0(e){return{type:"string",enum:Array.from(e.values)}}s(t0,"parseEnumDef");var F4=s(e=>"type"in e&&e.type==="string"?!1:"allOf"in e,"isJsonSchema7AllOfType");function r0(e,t){let n=[ce(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),ce(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(a=>!!a),o=t.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0,r=[];return n.forEach(a=>{if(F4(a))r.push(...a.allOf),a.unevaluatedProperties===void 0&&(o=void 0);else{let c=a;if("additionalProperties"in a&&a.additionalProperties===!1){let{additionalProperties:u,...l}=a;c=l}else o=void 0;r.push(c)}}),r.length?{allOf:r,...o}:void 0}s(r0,"parseIntersectionDef");function n0(e,t){let n=typeof e.value;return n!=="bigint"&&n!=="number"&&n!=="boolean"&&n!=="string"?{type:Array.isArray(e.value)?"array":"object"}:t.target==="openApi3"?{type:n==="bigint"?"integer":n,enum:[e.value]}:{type:n==="bigint"?"integer":n,const:e.value}}s(n0,"parseLiteralDef");var Hv,Tr={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:s(()=>(Hv===void 0&&(Hv=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Hv),"emoji"),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function Yl(e,t){let n={type:"string"};if(e.checks)for(let o of e.checks)switch(o.kind){case"min":Ee(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,o.value):o.value,o.message,t);break;case"max":Ee(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,o.value):o.value,o.message,t);break;case"email":switch(t.emailStrategy){case"format:email":Er(n,"email",o.message,t);break;case"format:idn-email":Er(n,"idn-email",o.message,t);break;case"pattern:zod":Mt(n,Tr.email,o.message,t);break}break;case"url":Er(n,"uri",o.message,t);break;case"uuid":Er(n,"uuid",o.message,t);break;case"regex":Mt(n,o.regex,o.message,t);break;case"cuid":Mt(n,Tr.cuid,o.message,t);break;case"cuid2":Mt(n,Tr.cuid2,o.message,t);break;case"startsWith":Mt(n,RegExp(`^${Gv(o.value,t)}`),o.message,t);break;case"endsWith":Mt(n,RegExp(`${Gv(o.value,t)}$`),o.message,t);break;case"datetime":Er(n,"date-time",o.message,t);break;case"date":Er(n,"date",o.message,t);break;case"time":Er(n,"time",o.message,t);break;case"duration":Er(n,"duration",o.message,t);break;case"length":Ee(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,o.value):o.value,o.message,t),Ee(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,o.value):o.value,o.message,t);break;case"includes":{Mt(n,RegExp(Gv(o.value,t)),o.message,t);break}case"ip":{o.version!=="v6"&&Er(n,"ipv4",o.message,t),o.version!=="v4"&&Er(n,"ipv6",o.message,t);break}case"base64url":Mt(n,Tr.base64url,o.message,t);break;case"jwt":Mt(n,Tr.jwt,o.message,t);break;case"cidr":{o.version!=="v6"&&Mt(n,Tr.ipv4Cidr,o.message,t),o.version!=="v4"&&Mt(n,Tr.ipv6Cidr,o.message,t);break}case"emoji":Mt(n,Tr.emoji(),o.message,t);break;case"ulid":{Mt(n,Tr.ulid,o.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{Er(n,"binary",o.message,t);break}case"contentEncoding:base64":{Ee(n,"contentEncoding","base64",o.message,t);break}case"pattern:zod":{Mt(n,Tr.base64,o.message,t);break}}break}case"nanoid":Mt(n,Tr.nanoid,o.message,t);case"toLowerCase":case"toUpperCase":case"trim":break;default:}return n}s(Yl,"parseStringDef");function Gv(e,t){return t.patternStrategy==="escape"?Z4(e):e}s(Gv,"escapeLiteralCheckValue");var B4=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function Z4(e){let t="";for(let n=0;n<e.length;n++)B4.has(e[n])||(t+="\\"),t+=e[n];return t}s(Z4,"escapeNonAlphaNumeric");function Er(e,t,n,o){e.format||e.anyOf?.some(r=>r.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&o.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.anyOf.push({format:t,...n&&o.errorMessages&&{errorMessage:{format:n}}})):Ee(e,"format",t,n,o)}s(Er,"addFormat");function Mt(e,t,n,o){e.pattern||e.allOf?.some(r=>r.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&o.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.allOf.push({pattern:o0(t,o),...n&&o.errorMessages&&{errorMessage:{pattern:n}}})):Ee(e,"pattern",o0(t,o),n,o)}s(Mt,"addPattern");function o0(e,t){if(!t.applyRegexFlags||!e.flags)return e.source;let n={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},o=n.i?e.source.toLowerCase():e.source,r="",a=!1,c=!1,u=!1;for(let l=0;l<o.length;l++){if(a){r+=o[l],a=!1;continue}if(n.i){if(c){if(o[l].match(/[a-z]/)){u?(r+=o[l],r+=`${o[l-2]}-${o[l]}`.toUpperCase(),u=!1):o[l+1]==="-"&&o[l+2]?.match(/[a-z]/)?(r+=o[l],u=!0):r+=`${o[l]}${o[l].toUpperCase()}`;continue}}else if(o[l].match(/[a-z]/)){r+=`[${o[l]}${o[l].toUpperCase()}]`;continue}}if(n.m){if(o[l]==="^"){r+=`(^|(?<=[\r
]))`;continue}else if(o[l]==="$"){r+=`($|(?=[\r
]))`;continue}}if(n.s&&o[l]==="."){r+=c?`${o[l]}\r
`:`[${o[l]}\r
]`;continue}r+=o[l],o[l]==="\\"?a=!0:c&&o[l]==="]"?c=!1:!c&&o[l]==="["&&(c=!0)}try{new RegExp(r)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return r}s(o0,"stringifyRegExpWithFlags");function Ql(e,t){if(t.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),t.target==="openApi3"&&e.keyType?._def.typeName===le.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((o,r)=>({...o,[r]:ce(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",r]})??Qe(t)}),{}),additionalProperties:t.rejectedAdditionalProperties};let n={type:"object",additionalProperties:ce(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??t.allowedAdditionalProperties};if(t.target==="openApi3")return n;if(e.keyType?._def.typeName===le.ZodString&&e.keyType._def.checks?.length){let{type:o,...r}=Yl(e.keyType._def,t);return{...n,propertyNames:r}}else{if(e.keyType?._def.typeName===le.ZodEnum)return{...n,propertyNames:{enum:e.keyType._def.values}};if(e.keyType?._def.typeName===le.ZodBranded&&e.keyType._def.type._def.typeName===le.ZodString&&e.keyType._def.type._def.checks?.length){let{type:o,...r}=Xl(e.keyType._def,t);return{...n,propertyNames:r}}}return n}s(Ql,"parseRecordDef");function a0(e,t){if(t.mapStrategy==="record")return Ql(e,t);let n=ce(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||Qe(t),o=ce(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||Qe(t);return{type:"array",maxItems:125,items:{type:"array",items:[n,o],minItems:2,maxItems:2}}}s(a0,"parseMapDef");function i0(e){let t=e.values,o=Object.keys(e.values).filter(a=>typeof t[t[a]]!="number").map(a=>t[a]),r=Array.from(new Set(o.map(a=>typeof a)));return{type:r.length===1?r[0]==="string"?"string":"number":["string","number"],enum:o}}s(i0,"parseNativeEnumDef");function s0(e){return e.target==="openAi"?void 0:{not:Qe({...e,currentPath:[...e.currentPath,"not"]})}}s(s0,"parseNeverDef");function c0(e){return e.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}s(c0,"parseNullDef");var Ms={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function l0(e,t){if(t.target==="openApi3")return u0(e,t);let n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every(o=>o._def.typeName in Ms&&(!o._def.checks||!o._def.checks.length))){let o=n.reduce((r,a)=>{let c=Ms[a._def.typeName];return c&&!r.includes(c)?[...r,c]:r},[]);return{type:o.length>1?o:o[0]}}else if(n.every(o=>o._def.typeName==="ZodLiteral"&&!o.description)){let o=n.reduce((r,a)=>{let c=typeof a._def.value;switch(c){case"string":case"number":case"boolean":return[...r,c];case"bigint":return[...r,"integer"];case"object":if(a._def.value===null)return[...r,"null"];case"symbol":case"undefined":case"function":default:return r}},[]);if(o.length===n.length){let r=o.filter((a,c,u)=>u.indexOf(a)===c);return{type:r.length>1?r:r[0],enum:n.reduce((a,c)=>a.includes(c._def.value)?a:[...a,c._def.value],[])}}}else if(n.every(o=>o._def.typeName==="ZodEnum"))return{type:"string",enum:n.reduce((o,r)=>[...o,...r._def.values.filter(a=>!o.includes(a))],[])};return u0(e,t)}s(l0,"parseUnionDef");var u0=s((e,t)=>{let n=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((o,r)=>ce(o._def,{...t,currentPath:[...t.currentPath,"anyOf",`${r}`]})).filter(o=>!!o&&(!t.strictUnions||typeof o=="object"&&Object.keys(o).length>0));return n.length?{anyOf:n}:void 0},"asAnyOf");function d0(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return t.target==="openApi3"?{type:Ms[e.innerType._def.typeName],nullable:!0}:{type:[Ms[e.innerType._def.typeName],"null"]};if(t.target==="openApi3"){let o=ce(e.innerType._def,{...t,currentPath:[...t.currentPath]});return o&&"$ref"in o?{allOf:[o],nullable:!0}:o&&{...o,nullable:!0}}let n=ce(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}s(d0,"parseNullableDef");function p0(e,t){let n={type:"number"};if(!e.checks)return n;for(let o of e.checks)switch(o.kind){case"int":n.type="integer",Zv(n,"type",o.message,t);break;case"min":t.target==="jsonSchema7"?o.inclusive?Ee(n,"minimum",o.value,o.message,t):Ee(n,"exclusiveMinimum",o.value,o.message,t):(o.inclusive||(n.exclusiveMinimum=!0),Ee(n,"minimum",o.value,o.message,t));break;case"max":t.target==="jsonSchema7"?o.inclusive?Ee(n,"maximum",o.value,o.message,t):Ee(n,"exclusiveMaximum",o.value,o.message,t):(o.inclusive||(n.exclusiveMaximum=!0),Ee(n,"maximum",o.value,o.message,t));break;case"multipleOf":Ee(n,"multipleOf",o.value,o.message,t);break}return n}s(p0,"parseNumberDef");function m0(e,t){let n=t.target==="openAi",o={type:"object",properties:{}},r=[],a=e.shape();for(let u in a){let l=a[u];if(l===void 0||l._def===void 0)continue;let d=H4(l);d&&n&&(l._def.typeName==="ZodOptional"&&(l=l._def.innerType),l.isNullable()||(l=l.nullable()),d=!1);let p=ce(l._def,{...t,currentPath:[...t.currentPath,"properties",u],propertyPath:[...t.currentPath,"properties",u]});p!==void 0&&(o.properties[u]=p,d||r.push(u))}r.length&&(o.required=r);let c=V4(e,t);return c!==void 0&&(o.additionalProperties=c),o}s(m0,"parseObjectDef");function V4(e,t){if(e.catchall._def.typeName!=="ZodNever")return ce(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}s(V4,"decideAdditionalProperties");function H4(e){try{return e.isOptional()}catch{return!0}}s(H4,"safeIsOptional");var f0=s((e,t)=>{if(t.currentPath.toString()===t.propertyPath?.toString())return ce(e.innerType._def,t);let n=ce(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return n?{anyOf:[{not:Qe(t)},n]}:Qe(t)},"parseOptionalDef");var h0=s((e,t)=>{if(t.pipeStrategy==="input")return ce(e.in._def,t);if(t.pipeStrategy==="output")return ce(e.out._def,t);let n=ce(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),o=ce(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",n?"1":"0"]});return{allOf:[n,o].filter(r=>r!==void 0)}},"parsePipelineDef");function g0(e,t){return ce(e.type._def,t)}s(g0,"parsePromiseDef");function y0(e,t){let o={type:"array",uniqueItems:!0,items:ce(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&Ee(o,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&Ee(o,"maxItems",e.maxSize.value,e.maxSize.message,t),o}s(y0,"parseSetDef");function v0(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((n,o)=>ce(n._def,{...t,currentPath:[...t.currentPath,"items",`${o}`]})).reduce((n,o)=>o===void 0?n:[...n,o],[]),additionalItems:ce(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((n,o)=>ce(n._def,{...t,currentPath:[...t.currentPath,"items",`${o}`]})).reduce((n,o)=>o===void 0?n:[...n,o],[])}}s(v0,"parseTupleDef");function _0(e){return{not:Qe(e)}}s(_0,"parseUndefinedDef");function b0(e){return Qe(e)}s(b0,"parseUnknownDef");var x0=s((e,t)=>ce(e.innerType._def,t),"parseReadonlyDef");var w0=s((e,t,n)=>{switch(t){case le.ZodString:return Yl(e,n);case le.ZodNumber:return p0(e,n);case le.ZodObject:return m0(e,n);case le.ZodBigInt:return WT(e,n);case le.ZodBoolean:return XT();case le.ZodDate:return Vv(e,n);case le.ZodUndefined:return _0(n);case le.ZodNull:return c0(n);case le.ZodArray:return KT(e,n);case le.ZodUnion:case le.ZodDiscriminatedUnion:return l0(e,n);case le.ZodIntersection:return r0(e,n);case le.ZodTuple:return v0(e,n);case le.ZodRecord:return Ql(e,n);case le.ZodLiteral:return n0(e,n);case le.ZodEnum:return t0(e);case le.ZodNativeEnum:return i0(e);case le.ZodNullable:return d0(e,n);case le.ZodOptional:return f0(e,n);case le.ZodMap:return a0(e,n);case le.ZodSet:return y0(e,n);case le.ZodLazy:return()=>e.getter()._def;case le.ZodPromise:return g0(e,n);case le.ZodNaN:case le.ZodNever:return s0(n);case le.ZodEffects:return e0(e,n);case le.ZodAny:return Qe(n);case le.ZodUnknown:return b0(n);case le.ZodDefault:return QT(e,n);case le.ZodBranded:return Xl(e,n);case le.ZodReadonly:return x0(e,n);case le.ZodCatch:return YT(e,n);case le.ZodPipeline:return h0(e,n);case le.ZodFunction:case le.ZodVoid:case le.ZodSymbol:return;default:return(o=>{})(t)}},"selectParser");function ce(e,t,n=!1){let o=t.seen.get(e);if(t.override){let u=t.override?.(e,t,o,n);if(u!==HT)return u}if(o&&!n){let u=G4(o,t);if(u!==void 0)return u}let r={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,r);let a=w0(e,e.typeName,t),c=typeof a=="function"?ce(a(),t):a;if(c&&J4(e,t,c),t.postProcess){let u=t.postProcess(c,e,t);return r.jsonSchema=c,u}return r.jsonSchema=c,c}s(ce,"parseDef");var G4=s((e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:Wl(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((n,o)=>t.currentPath[o]===n)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),Qe(t)):t.$refStrategy==="seen"?Qe(t):void 0}},"get$ref"),J4=s((e,t,n)=>(e.description&&(n.description=e.description,t.markdownDescription&&(n.markdownDescription=e.description)),n),"addMeta");var S0=s((e,t)=>{let n=JT(t),o=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((l,[d,p])=>({...l,[d]:ce(p._def,{...n,currentPath:[...n.basePath,n.definitionPath,d]},!0)??Qe(n)}),{}):void 0,r=typeof t=="string"?t:t?.nameStrategy==="title"?void 0:t?.name,a=ce(e._def,r===void 0?n:{...n,currentPath:[...n.basePath,n.definitionPath,r]},!1)??Qe(n),c=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;c!==void 0&&(a.title=c),n.flags.hasReferencedOpenAiAnyType&&(o||(o={}),o[n.openAiAnyTypeName]||(o[n.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:n.$refStrategy==="relative"?"1":[...n.basePath,n.definitionPath,n.openAiAnyTypeName].join("/")}}));let u=r===void 0?o?{...a,[n.definitionPath]:o}:a:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,r].join("/"),[n.definitionPath]:{...o,[r]:a}};return n.target==="jsonSchema7"?u.$schema="http://json-schema.org/draft-07/schema#":(n.target==="jsonSchema2019-09"||n.target==="openAi")&&(u.$schema="https://json-schema.org/draft/2019-09/schema#"),n.target==="openAi"&&("anyOf"in u||"oneOf"in u||"allOf"in u||"type"in u&&Array.isArray(u.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),u},"zodToJsonSchema");var I0=S0;var Us={code:"0",name:"text",parse:s(e=>{if(typeof e!="string")throw new Error('"text" parts expect a string value.');return{type:"text",value:e}},"parse")},Ls={code:"1",name:"function_call",parse:s(e=>{if(e==null||typeof e!="object"||!("function_call"in e)||typeof e.function_call!="object"||e.function_call==null||!("name"in e.function_call)||!("arguments"in e.function_call)||typeof e.function_call.name!="string"||typeof e.function_call.arguments!="string")throw new Error('"function_call" parts expect an object with a "function_call" property.');return{type:"function_call",value:e}},"parse")},qs={code:"2",name:"data",parse:s(e=>{if(!Array.isArray(e))throw new Error('"data" parts expect an array value.');return{type:"data",value:e}},"parse")},Fs={code:"3",name:"error",parse:s(e=>{if(typeof e!="string")throw new Error('"error" parts expect a string value.');return{type:"error",value:e}},"parse")},Bs={code:"4",name:"assistant_message",parse:s(e=>{if(e==null||typeof e!="object"||!("id"in e)||!("role"in e)||!("content"in e)||typeof e.id!="string"||typeof e.role!="string"||e.role!=="assistant"||!Array.isArray(e.content)||!e.content.every(t=>t!=null&&typeof t=="object"&&"type"in t&&t.type==="text"&&"text"in t&&t.text!=null&&typeof t.text=="object"&&"value"in t.text&&typeof t.text.value=="string"))throw new Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:e}},"parse")},Zs={code:"5",name:"assistant_control_data",parse:s(e=>{if(e==null||typeof e!="object"||!("threadId"in e)||!("messageId"in e)||typeof e.threadId!="string"||typeof e.messageId!="string")throw new Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:e.threadId,messageId:e.messageId}}},"parse")},Vs={code:"6",name:"data_message",parse:s(e=>{if(e==null||typeof e!="object"||!("role"in e)||!("data"in e)||typeof e.role!="string"||e.role!=="data")throw new Error('"data_message" parts expect an object with a "role" and "data" property.');return{type:"data_message",value:e}},"parse")},Hs={code:"7",name:"tool_calls",parse:s(e=>{if(e==null||typeof e!="object"||!("tool_calls"in e)||typeof e.tool_calls!="object"||e.tool_calls==null||!Array.isArray(e.tool_calls)||e.tool_calls.some(t=>t==null||typeof t!="object"||!("id"in t)||typeof t.id!="string"||!("type"in t)||typeof t.type!="string"||!("function"in t)||t.function==null||typeof t.function!="object"||!("arguments"in t.function)||typeof t.function.name!="string"||typeof t.function.arguments!="string"))throw new Error('"tool_calls" parts expect an object with a ToolCallPayload.');return{type:"tool_calls",value:e}},"parse")},Gs={code:"8",name:"message_annotations",parse:s(e=>{if(!Array.isArray(e))throw new Error('"message_annotations" parts expect an array value.');return{type:"message_annotations",value:e}},"parse")},Js={code:"9",name:"tool_call",parse:s(e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("toolName"in e)||typeof e.toolName!="string"||!("args"in e)||typeof e.args!="object")throw new Error('"tool_call" parts expect an object with a "toolCallId", "toolName", and "args" property.');return{type:"tool_call",value:e}},"parse")},Ks={code:"a",name:"tool_result",parse:s(e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("result"in e))throw new Error('"tool_result" parts expect an object with a "toolCallId" and a "result" property.');return{type:"tool_result",value:e}},"parse")},Ws={code:"b",name:"tool_call_streaming_start",parse:s(e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("toolName"in e)||typeof e.toolName!="string")throw new Error('"tool_call_streaming_start" parts expect an object with a "toolCallId" and "toolName" property.');return{type:"tool_call_streaming_start",value:e}},"parse")},Xs={code:"c",name:"tool_call_delta",parse:s(e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("argsTextDelta"in e)||typeof e.argsTextDelta!="string")throw new Error('"tool_call_delta" parts expect an object with a "toolCallId" and "argsTextDelta" property.');return{type:"tool_call_delta",value:e}},"parse")},Ys={code:"d",name:"finish_message",parse:s(e=>{if(e==null||typeof e!="object"||!("finishReason"in e)||typeof e.finishReason!="string")throw new Error('"finish_message" parts expect an object with a "finishReason" property.');let t={finishReason:e.finishReason};return"usage"in e&&e.usage!=null&&typeof e.usage=="object"&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:typeof e.usage.promptTokens=="number"?e.usage.promptTokens:Number.NaN,completionTokens:typeof e.usage.completionTokens=="number"?e.usage.completionTokens:Number.NaN}),{type:"finish_message",value:t}},"parse")},Qs={code:"e",name:"finish_step",parse:s(e=>{if(e==null||typeof e!="object"||!("finishReason"in e)||typeof e.finishReason!="string")throw new Error('"finish_step" parts expect an object with a "finishReason" property.');let t={finishReason:e.finishReason,isContinued:!1};return"usage"in e&&e.usage!=null&&typeof e.usage=="object"&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:typeof e.usage.promptTokens=="number"?e.usage.promptTokens:Number.NaN,completionTokens:typeof e.usage.completionTokens=="number"?e.usage.completionTokens:Number.NaN}),"isContinued"in e&&typeof e.isContinued=="boolean"&&(t.isContinued=e.isContinued),{type:"finish_step",value:t}},"parse")},T0=[Us,Ls,qs,Fs,Bs,Zs,Vs,Hs,Gs,Js,Ks,Ws,Xs,Ys,Qs],nae={[Us.code]:Us,[Ls.code]:Ls,[qs.code]:qs,[Fs.code]:Fs,[Bs.code]:Bs,[Zs.code]:Zs,[Vs.code]:Vs,[Hs.code]:Hs,[Gs.code]:Gs,[Js.code]:Js,[Ks.code]:Ks,[Ws.code]:Ws,[Xs.code]:Xs,[Ys.code]:Ys,[Qs.code]:Qs},oae={[Us.name]:Us.code,[Ls.name]:Ls.code,[qs.name]:qs.code,[Fs.name]:Fs.code,[Bs.name]:Bs.code,[Zs.name]:Zs.code,[Vs.name]:Vs.code,[Hs.name]:Hs.code,[Gs.name]:Gs.code,[Js.name]:Js.code,[Ks.name]:Ks.code,[Ws.name]:Ws.code,[Xs.name]:Xs.code,[Ys.name]:Ys.code,[Qs.name]:Qs.code},aae=T0.map(e=>e.code);function kr(e,t){let n=T0.find(o=>o.name===e);if(!n)throw new Error(`Invalid stream part type: ${e}`);return`${n.code}:${JSON.stringify(t)}
`}s(kr,"formatStreamPart");var Jv=Symbol.for("vercel.ai.schema");function W4(e,{validate:t}={}){return{[Jv]:!0,_type:void 0,[ZT]:!0,jsonSchema:e,validate:t}}s(W4,"jsonSchema");function X4(e){return typeof e=="object"&&e!==null&&Jv in e&&e[Jv]===!0&&"jsonSchema"in e&&"validate"in e}s(X4,"isSchema");function ed(e){return X4(e)?e:Y4(e)}s(ed,"asSchema");function Y4(e){return W4(I0(e),{validate:s(t=>{let n=e.safeParse(t);return n.success?{success:!0,value:n.data}:{success:!1,error:n.error}},"validate")})}s(Y4,"zodSchema");var E0="vercel.ai.error",Q4=Symbol.for(E0),k0,e2=class P0 extends Error{static{s(this,"_AISDKError")}constructor({name:t,message:n,cause:o}){super(n),this[k0]=!0,this.name=t,this.cause=o}static isInstance(t){return P0.hasMarker(t,E0)}static hasMarker(t,n){let o=Symbol.for(n);return t!=null&&typeof t=="object"&&o in t&&typeof t[o]=="boolean"&&t[o]===!0}toJSON(){return{name:this.name,message:this.message}}};k0=Q4;var Ae=e2,Kv="AI_APICallError",A0=`vercel.ai.error.${Kv}`,t2=Symbol.for(A0),$0,R0=class extends Ae{static{s(this,"APICallError")}constructor({message:e,url:t,requestBodyValues:n,statusCode:o,responseHeaders:r,responseBody:a,cause:c,isRetryable:u=o!=null&&(o===408||o===409||o===429||o>=500),data:l}){super({name:Kv,message:e,cause:c}),this[$0]=!0,this.url=t,this.requestBodyValues=n,this.statusCode=o,this.responseHeaders=r,this.responseBody=a,this.isRetryable=u,this.data=l}static isInstance(e){return Ae.hasMarker(e,A0)}static isAPICallError(e){return e instanceof Error&&e.name===Kv&&typeof e.url=="string"&&typeof e.requestBodyValues=="object"&&(e.statusCode==null||typeof e.statusCode=="number")&&(e.responseHeaders==null||typeof e.responseHeaders=="object")&&(e.responseBody==null||typeof e.responseBody=="string")&&(e.cause==null||typeof e.cause=="object")&&typeof e.isRetryable=="boolean"&&(e.data==null||typeof e.data=="object")}toJSON(){return{name:this.name,message:this.message,url:this.url,requestBodyValues:this.requestBodyValues,statusCode:this.statusCode,responseHeaders:this.responseHeaders,responseBody:this.responseBody,cause:this.cause,isRetryable:this.isRetryable,data:this.data}}};$0=t2;var r2="AI_EmptyResponseBodyError",n2=`vercel.ai.error.${r2}`,o2=Symbol.for(n2),a2;a2=o2;function td(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}s(td,"getErrorMessage");var O0="AI_InvalidArgumentError",C0=`vercel.ai.error.${O0}`,i2=Symbol.for(C0),N0,j0=class extends Ae{static{s(this,"InvalidArgumentError")}constructor({message:e,cause:t,argument:n}){super({name:O0,message:e,cause:t}),this[N0]=!0,this.argument=n}static isInstance(e){return Ae.hasMarker(e,C0)}};N0=i2;var Wv="AI_InvalidPromptError",D0=`vercel.ai.error.${Wv}`,s2=Symbol.for(D0),z0,Ao=class extends Ae{static{s(this,"InvalidPromptError")}constructor({prompt:e,message:t,cause:n}){super({name:Wv,message:`Invalid prompt: ${t}`,cause:n}),this[z0]=!0,this.prompt=e}static isInstance(e){return Ae.hasMarker(e,D0)}static isInvalidPromptError(e){return e instanceof Error&&e.name===Wv&&prompt!=null}toJSON(){return{name:this.name,message:this.message,stack:this.stack,prompt:this.prompt}}};z0=s2;var c2="AI_InvalidResponseDataError",u2=`vercel.ai.error.${c2}`,l2=Symbol.for(u2),d2;d2=l2;var Xv="AI_JSONParseError",M0=`vercel.ai.error.${Xv}`,p2=Symbol.for(M0),U0,e_=class extends Ae{static{s(this,"JSONParseError")}constructor({text:e,cause:t}){super({name:Xv,message:`JSON parsing failed: Text: ${e}.
Error message: ${td(t)}`,cause:t}),this[U0]=!0,this.text=e}static isInstance(e){return Ae.hasMarker(e,M0)}static isJSONParseError(e){return e instanceof Error&&e.name===Xv&&"text"in e&&typeof e.text=="string"}toJSON(){return{name:this.name,message:this.message,cause:this.cause,stack:this.stack,valueText:this.text}}};U0=p2;var m2="AI_LoadAPIKeyError",f2=`vercel.ai.error.${m2}`,h2=Symbol.for(f2),g2;g2=h2;var y2="AI_LoadSettingError",v2=`vercel.ai.error.${y2}`,_2=Symbol.for(v2),b2;b2=_2;var x2="AI_NoContentGeneratedError",w2=`vercel.ai.error.${x2}`,S2=Symbol.for(w2),I2;I2=S2;var T2="AI_NoSuchModelError",E2=`vercel.ai.error.${T2}`,k2=Symbol.for(E2),P2;P2=k2;var A2="AI_TooManyEmbeddingValuesForCallError",$2=`vercel.ai.error.${A2}`,R2=Symbol.for($2),O2;O2=R2;var Yv="AI_TypeValidationError",L0=`vercel.ai.error.${Yv}`,C2=Symbol.for(L0),q0,N2=class Qv extends Ae{static{s(this,"_TypeValidationError")}constructor({value:t,cause:n}){super({name:Yv,message:`Type validation failed: Value: ${JSON.stringify(t)}.
Error message: ${td(n)}`,cause:n}),this[q0]=!0,this.value=t}static isInstance(t){return Ae.hasMarker(t,L0)}static wrap({value:t,cause:n}){return Qv.isInstance(n)&&n.value===t?n:new Qv({value:t,cause:n})}static isTypeValidationError(t){return t instanceof Error&&t.name===Yv}toJSON(){return{name:this.name,message:this.message,cause:this.cause,stack:this.stack,value:this.value}}};q0=C2;var rd=N2,j2="AI_UnsupportedFunctionalityError",D2=`vercel.ai.error.${j2}`,z2=Symbol.for(D2),M2;M2=z2;var F0=s((e,t=21)=>(n=t)=>{let o="",r=n|0;for(;r--;)o+=e[Math.random()*e.length|0];return o},"customAlphabet");var V0=vu(Kl(),1);var _n=s(({prefix:e,size:t=7,alphabet:n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:o="-"}={})=>{let r=F0(n,t);if(e==null)return r;if(n.includes(o))throw new j0({argument:"separator",message:`The separator "${o}" must not be part of the alphabet "${n}".`});return a=>`${e}${o}${r(a)}`},"createIdGenerator"),bae=_n();function B0(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}s(B0,"getErrorMessage");function Z0(e){return e instanceof Error&&(e.name==="AbortError"||e.name==="TimeoutError")}s(Z0,"isAbortError");var t_=Symbol.for("vercel.ai.validator");function U2(e){return{[t_]:!0,validate:e}}s(U2,"validator");function L2(e){return typeof e=="object"&&e!==null&&t_ in e&&e[t_]===!0&&"validate"in e}s(L2,"isValidator");function q2(e){return L2(e)?e:F2(e)}s(q2,"asValidator");function F2(e){return U2(t=>{let n=e.safeParse(t);return n.success?{success:!0,value:n.data}:{success:!1,error:n.error}})}s(F2,"zodValidator");function ec({value:e,schema:t}){let n=q2(t);try{if(n.validate==null)return{success:!0,value:e};let o=n.validate(e);return o.success?o:{success:!1,error:rd.wrap({value:e,cause:o.error})}}catch(o){return{success:!1,error:rd.wrap({value:e,cause:o})}}}s(ec,"safeValidateTypes");function r_({text:e,schema:t}){try{let n=V0.default.parse(e);return t==null?{success:!0,value:n}:ec({value:n,schema:t})}catch(n){return{success:!1,error:e_.isJSONParseError(n)?n:new e_({text:e,cause:n})}}}s(r_,"safeParseJSON");var{btoa:B2,atob:Z2}=globalThis;function H0(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),n=Z2(t);return Uint8Array.from(n,o=>o.codePointAt(0))}s(H0,"convertBase64ToUint8Array");function n_(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCodePoint(e[n]);return B2(t)}s(n_,"convertUint8ArrayToBase64");var G0=typeof globalThis=="object"?globalThis:global;var bn="1.9.0";var J0=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function V2(e){var t=new Set([e]),n=new Set,o=e.match(J0);if(!o)return function(){return!1};var r={major:+o[1],minor:+o[2],patch:+o[3],prerelease:o[4]};if(r.prerelease!=null)return s(function(l){return l===e},"isExactmatch");function a(u){return n.add(u),!1}s(a,"_reject");function c(u){return t.add(u),!0}return s(c,"_accept"),s(function(l){if(t.has(l))return!0;if(n.has(l))return!1;var d=l.match(J0);if(!d)return a(l);var p={major:+d[1],minor:+d[2],patch:+d[3],prerelease:d[4]};return p.prerelease!=null||r.major!==p.major?a(l):r.major===0?r.minor===p.minor&&r.patch<=p.patch?c(l):a(l):r.minor<=p.minor?c(l):a(l)},"isCompatible")}s(V2,"_makeCompatibilityCheck");var K0=V2(bn);var H2=bn.split(".")[0],tc=Symbol.for("opentelemetry.js.api."+H2),rc=G0;function Ca(e,t,n,o){var r;o===void 0&&(o=!1);var a=rc[tc]=(r=rc[tc])!==null&&r!==void 0?r:{version:bn};if(!o&&a[e]){var c=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return n.error(c.stack||c.message),!1}if(a.version!==bn){var c=new Error("@opentelemetry/api: Registration of version v"+a.version+" for "+e+" does not match previously registered API v"+bn);return n.error(c.stack||c.message),!1}return a[e]=t,n.debug("@opentelemetry/api: Registered a global for "+e+" v"+bn+"."),!0}s(Ca,"registerGlobal");function xn(e){var t,n,o=(t=rc[tc])===null||t===void 0?void 0:t.version;if(!(!o||!K0(o)))return(n=rc[tc])===null||n===void 0?void 0:n[e]}s(xn,"getGlobal");function Na(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+bn+".");var n=rc[tc];n&&delete n[e]}s(Na,"unregisterGlobal");var G2=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var o=n.call(e),r,a=[],c;try{for(;(t===void 0||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(u){c={error:u}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(c)throw c.error}}return a},J2=function(e,t,n){if(n||arguments.length===2)for(var o=0,r=t.length,a;o<r;o++)(a||!(o in t))&&(a||(a=Array.prototype.slice.call(t,0,o)),a[o]=t[o]);return e.concat(a||Array.prototype.slice.call(t))},W0=(function(){function e(t){this._namespace=t.namespace||"DiagComponentLogger"}return s(e,"DiagComponentLogger"),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return nc("debug",this._namespace,t)},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return nc("error",this._namespace,t)},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return nc("info",this._namespace,t)},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return nc("warn",this._namespace,t)},e.prototype.verbose=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return nc("verbose",this._namespace,t)},e})();function nc(e,t,n){var o=xn("diag");if(o)return n.unshift(t),o[e].apply(o,J2([],G2(n),!1))}s(nc,"logProxy");var Ut;(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(Ut||(Ut={}));function X0(e,t){e<Ut.NONE?e=Ut.NONE:e>Ut.ALL&&(e=Ut.ALL),t=t||{};function n(o,r){var a=t[o];return typeof a=="function"&&e>=r?a.bind(t):function(){}}return s(n,"_filterFunc"),{error:n("error",Ut.ERROR),warn:n("warn",Ut.WARN),info:n("info",Ut.INFO),debug:n("debug",Ut.DEBUG),verbose:n("verbose",Ut.VERBOSE)}}s(X0,"createLogLevelDiagLogger");var K2=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var o=n.call(e),r,a=[],c;try{for(;(t===void 0||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(u){c={error:u}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(c)throw c.error}}return a},W2=function(e,t,n){if(n||arguments.length===2)for(var o=0,r=t.length,a;o<r;o++)(a||!(o in t))&&(a||(a=Array.prototype.slice.call(t,0,o)),a[o]=t[o]);return e.concat(a||Array.prototype.slice.call(t))},X2="diag",ja=(function(){function e(){function t(r){return function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var u=xn("diag");if(u)return u[r].apply(u,W2([],K2(a),!1))}}s(t,"_logProxy");var n=this,o=s(function(r,a){var c,u,l;if(a===void 0&&(a={logLevel:Ut.INFO}),r===n){var d=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return n.error((c=d.stack)!==null&&c!==void 0?c:d.message),!1}typeof a=="number"&&(a={logLevel:a});var p=xn("diag"),m=X0((u=a.logLevel)!==null&&u!==void 0?u:Ut.INFO,r);if(p&&!a.suppressOverrideMessage){var f=(l=new Error().stack)!==null&&l!==void 0?l:"<failed to generate stacktrace>";p.warn("Current logger will be overwritten from "+f),m.warn("Current logger will overwrite one already registered from "+f)}return Ca("diag",m,n,!0)},"setLogger");n.setLogger=o,n.disable=function(){Na(X2,n)},n.createComponentLogger=function(r){return new W0(r)},n.verbose=t("verbose"),n.debug=t("debug"),n.info=t("info"),n.warn=t("warn"),n.error=t("error")}return s(e,"DiagAPI"),e.instance=function(){return this._instance||(this._instance=new e),this._instance},e})();function Y0(e){return Symbol.for(e)}s(Y0,"createContextKey");var Y2=(function(){function e(t){var n=this;n._currentContext=t?new Map(t):new Map,n.getValue=function(o){return n._currentContext.get(o)},n.setValue=function(o,r){var a=new e(n._currentContext);return a._currentContext.set(o,r),a},n.deleteValue=function(o){var r=new e(n._currentContext);return r._currentContext.delete(o),r}}return s(e,"BaseContext"),e})(),Q0=new Y2;var Q2=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var o=n.call(e),r,a=[],c;try{for(;(t===void 0||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(u){c={error:u}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(c)throw c.error}}return a},eL=function(e,t,n){if(n||arguments.length===2)for(var o=0,r=t.length,a;o<r;o++)(a||!(o in t))&&(a||(a=Array.prototype.slice.call(t,0,o)),a[o]=t[o]);return e.concat(a||Array.prototype.slice.call(t))},eE=(function(){function e(){}return s(e,"NoopContextManager"),e.prototype.active=function(){return Q0},e.prototype.with=function(t,n,o){for(var r=[],a=3;a<arguments.length;a++)r[a-3]=arguments[a];return n.call.apply(n,eL([o],Q2(r),!1))},e.prototype.bind=function(t,n){return n},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e})();var tL=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var o=n.call(e),r,a=[],c;try{for(;(t===void 0||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(u){c={error:u}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(c)throw c.error}}return a},rL=function(e,t,n){if(n||arguments.length===2)for(var o=0,r=t.length,a;o<r;o++)(a||!(o in t))&&(a||(a=Array.prototype.slice.call(t,0,o)),a[o]=t[o]);return e.concat(a||Array.prototype.slice.call(t))},o_="context",nL=new eE,nd=(function(){function e(){}return s(e,"ContextAPI"),e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(t){return Ca(o_,t,ja.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(t,n,o){for(var r,a=[],c=3;c<arguments.length;c++)a[c-3]=arguments[c];return(r=this._getContextManager()).with.apply(r,rL([t,n,o],tL(a),!1))},e.prototype.bind=function(t,n){return this._getContextManager().bind(t,n)},e.prototype._getContextManager=function(){return xn(o_)||nL},e.prototype.disable=function(){this._getContextManager().disable(),Na(o_,ja.instance())},e})();var od;(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(od||(od={}));var a_="0000000000000000",i_="00000000000000000000000000000000",tE={traceId:i_,spanId:a_,traceFlags:od.NONE};var Qn=(function(){function e(t){t===void 0&&(t=tE),this._spanContext=t}return s(e,"NonRecordingSpan"),e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,n){return this},e.prototype.setAttributes=function(t){return this},e.prototype.addEvent=function(t,n){return this},e.prototype.addLink=function(t){return this},e.prototype.addLinks=function(t){return this},e.prototype.setStatus=function(t){return this},e.prototype.updateName=function(t){return this},e.prototype.end=function(t){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(t,n){},e})();var s_=Y0("OpenTelemetry Context Key SPAN");function ad(e){return e.getValue(s_)||void 0}s(ad,"getSpan");function rE(){return ad(nd.getInstance().active())}s(rE,"getActiveSpan");function oc(e,t){return e.setValue(s_,t)}s(oc,"setSpan");function nE(e){return e.deleteValue(s_)}s(nE,"deleteSpan");function oE(e,t){return oc(e,new Qn(t))}s(oE,"setSpanContext");function id(e){var t;return(t=ad(e))===null||t===void 0?void 0:t.spanContext()}s(id,"getSpanContext");var oL=/^([0-9a-f]{32})$/i,aL=/^[0-9a-f]{16}$/i;function iL(e){return oL.test(e)&&e!==i_}s(iL,"isValidTraceId");function sL(e){return aL.test(e)&&e!==a_}s(sL,"isValidSpanId");function sd(e){return iL(e.traceId)&&sL(e.spanId)}s(sd,"isSpanContextValid");function aE(e){return new Qn(e)}s(aE,"wrapSpanContext");var c_=nd.getInstance(),cd=(function(){function e(){}return s(e,"NoopTracer"),e.prototype.startSpan=function(t,n,o){o===void 0&&(o=c_.active());var r=!!n?.root;if(r)return new Qn;var a=o&&id(o);return cL(a)&&sd(a)?new Qn(a):new Qn},e.prototype.startActiveSpan=function(t,n,o,r){var a,c,u;if(!(arguments.length<2)){arguments.length===2?u=n:arguments.length===3?(a=n,u=o):(a=n,c=o,u=r);var l=c??c_.active(),d=this.startSpan(t,a,l),p=oc(l,d);return c_.with(p,u,void 0,d)}},e})();function cL(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}s(cL,"isSpanContext");var uL=new cd,iE=(function(){function e(t,n,o,r){this._provider=t,this.name=n,this.version=o,this.options=r}return s(e,"ProxyTracer"),e.prototype.startSpan=function(t,n,o){return this._getTracer().startSpan(t,n,o)},e.prototype.startActiveSpan=function(t,n,o,r){var a=this._getTracer();return Reflect.apply(a.startActiveSpan,a,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):uL},e})();var sE=(function(){function e(){}return s(e,"NoopTracerProvider"),e.prototype.getTracer=function(t,n,o){return new cd},e})();var lL=new sE,u_=(function(){function e(){}return s(e,"ProxyTracerProvider"),e.prototype.getTracer=function(t,n,o){var r;return(r=this.getDelegateTracer(t,n,o))!==null&&r!==void 0?r:new iE(this,t,n,o)},e.prototype.getDelegate=function(){var t;return(t=this._delegate)!==null&&t!==void 0?t:lL},e.prototype.setDelegate=function(t){this._delegate=t},e.prototype.getDelegateTracer=function(t,n,o){var r;return(r=this._delegate)===null||r===void 0?void 0:r.getTracer(t,n,o)},e})();var Da;(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(Da||(Da={}));var l_="trace",cE=(function(){function e(){this._proxyTracerProvider=new u_,this.wrapSpanContext=aE,this.isSpanContextValid=sd,this.deleteSpan=nE,this.getSpan=ad,this.getActiveSpan=rE,this.getSpanContext=id,this.setSpan=oc,this.setSpanContext=oE}return s(e,"TraceAPI"),e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(t){var n=Ca(l_,this._proxyTracerProvider,ja.instance());return n&&this._proxyTracerProvider.setDelegate(t),n},e.prototype.getTracerProvider=function(){return xn(l_)||this._proxyTracerProvider},e.prototype.getTracer=function(t,n){return this.getTracerProvider().getTracer(t,n)},e.prototype.disable=function(){Na(l_,ja.instance()),this._proxyTracerProvider=new u_},e})();var d_=cE.getInstance();var dL=Object.defineProperty,gE=s((e,t)=>{for(var n in t)dL(e,n,{get:t[n],enumerable:!0})},"__export");async function pL(e){return e===void 0?Promise.resolve():new Promise(t=>setTimeout(t,e))}s(pL,"delay");var m_="AI_RetryError",yE=`vercel.ai.error.${m_}`,mL=Symbol.for(yE),vE,uE=class extends Ae{static{s(this,"RetryError")}constructor({message:e,reason:t,errors:n}){super({name:m_,message:e}),this[vE]=!0,this.reason=t,this.errors=n,this.lastError=n[n.length-1]}static isInstance(e){return Ae.hasMarker(e,yE)}static isRetryError(e){return e instanceof Error&&e.name===m_&&typeof e.reason=="string"&&Array.isArray(e.errors)}toJSON(){return{name:this.name,message:this.message,reason:this.reason,lastError:this.lastError,errors:this.errors}}};vE=mL;var fL=s(({maxRetries:e=2,initialDelayInMs:t=2e3,backoffFactor:n=2}={})=>async o=>_E(o,{maxRetries:e,delayInMs:t,backoffFactor:n}),"retryWithExponentialBackoff");async function _E(e,{maxRetries:t,delayInMs:n,backoffFactor:o},r=[]){try{return await e()}catch(a){if(Z0(a)||t===0)throw a;let c=B0(a),u=[...r,a],l=u.length;if(l>t)throw new uE({message:`Failed after ${l} attempts. Last error: ${c}`,reason:"maxRetriesExceeded",errors:u});if(a instanceof Error&&R0.isAPICallError(a)&&a.isRetryable===!0&&l<=t)return await pL(n),_E(e,{maxRetries:t,delayInMs:o*n,backoffFactor:o},u);throw l===1?a:new uE({message:`Failed after ${l} attempts with non-retryable error: '${c}'`,reason:"errorNotRetryable",errors:u})}}s(_E,"_retryWithExponentialBackoff");function f_({operationId:e,telemetry:t}){return{"operation.name":`${e}${t?.functionId!=null?` ${t.functionId}`:""}`,"resource.name":t?.functionId,"ai.operationId":e,"ai.telemetry.functionId":t?.functionId}}s(f_,"assembleOperationName");function hL({model:e,settings:t,telemetry:n,headers:o}){var r;return{"ai.model.provider":e.provider,"ai.model.id":e.modelId,...Object.entries(t).reduce((a,[c,u])=>(a[`ai.settings.${c}`]=u,a),{}),...Object.entries((r=n?.metadata)!=null?r:{}).reduce((a,[c,u])=>(a[`ai.telemetry.metadata.${c}`]=u,a),{}),...Object.entries(o??{}).reduce((a,[c,u])=>(u!==void 0&&(a[`ai.request.headers.${c}`]=u),a),{})}}s(hL,"getBaseTelemetryAttributes");var gL={startSpan(){return ud},startActiveSpan(e,t,n,o){if(typeof t=="function")return t(ud);if(typeof n=="function")return n(ud);if(typeof o=="function")return o(ud)}},ud={spanContext(){return yL},setAttribute(){return this},setAttributes(){return this},addEvent(){return this},addLink(){return this},addLinks(){return this},setStatus(){return this},updateName(){return this},end(){return this},isRecording(){return!1},recordException(){return this}},yL={traceId:"",spanId:"",traceFlags:0};function vL({isEnabled:e=!1,tracer:t}={}){return e?t||d_.getTracer("ai"):gL}s(vL,"getTracer");function h_({name:e,tracer:t,attributes:n,fn:o,endWhenDone:r=!0}){return t.startActiveSpan(e,{attributes:n},async a=>{try{let c=await o(a);return r&&a.end(),c}catch(c){try{c instanceof Error?(a.recordException({name:c.name,message:c.message,stack:c.stack}),a.setStatus({code:Da.ERROR,message:c.message})):a.setStatus({code:Da.ERROR})}finally{a.end()}throw c}})}s(h_,"recordSpan");function za({telemetry:e,attributes:t}){return e?.isEnabled!==!0?{}:Object.entries(t).reduce((n,[o,r])=>{if(r===void 0)return n;if(typeof r=="object"&&"input"in r&&typeof r.input=="function"){if(e?.recordInputs===!1)return n;let a=r.input();return a===void 0?n:{...n,[o]:a}}if(typeof r=="object"&&"output"in r&&typeof r.output=="function"){if(e?.recordOutputs===!1)return n;let a=r.output();return a===void 0?n:{...n,[o]:a}}return{...n,[o]:r}},{})}s(za,"selectTelemetryAttributes");var g_="AI_DownloadError",bE=`vercel.ai.error.${g_}`,_L=Symbol.for(bE),xE,p_=class extends Ae{static{s(this,"DownloadError")}constructor({url:e,statusCode:t,statusText:n,cause:o,message:r=o==null?`Failed to download ${e}: ${t} ${n}`:`Failed to download ${e}: ${o}`}){super({name:g_,message:r,cause:o}),this[xE]=!0,this.url=e,this.statusCode=t,this.statusText=n}static isInstance(e){return Ae.hasMarker(e,bE)}static isDownloadError(e){return e instanceof Error&&e.name===g_&&typeof e.url=="string"&&(e.statusCode==null||typeof e.statusCode=="number")&&(e.statusText==null||typeof e.statusText=="string")}toJSON(){return{name:this.name,message:this.message,url:this.url,statusCode:this.statusCode,statusText:this.statusText,cause:this.cause}}};xE=_L;async function bL({url:e,fetchImplementation:t=fetch}){var n;let o=e.toString();try{let r=await t(o);if(!r.ok)throw new p_({url:o,statusCode:r.status,statusText:r.statusText});return{data:new Uint8Array(await r.arrayBuffer()),mimeType:(n=r.headers.get("content-type"))!=null?n:void 0}}catch(r){throw p_.isInstance(r)?r:new p_({url:o,cause:r})}}s(bL,"download");var xL=[{mimeType:"image/gif",bytes:[71,73,70]},{mimeType:"image/png",bytes:[137,80,78,71]},{mimeType:"image/jpeg",bytes:[255,216]},{mimeType:"image/webp",bytes:[82,73,70,70]}];function wL(e){for(let{bytes:t,mimeType:n}of xL)if(e.length>=t.length&&t.every((o,r)=>e[r]===o))return n}s(wL,"detectImageMimeType");var y_="AI_InvalidDataContentError",wE=`vercel.ai.error.${y_}`,SL=Symbol.for(wE),SE,lE=class extends Ae{static{s(this,"InvalidDataContentError")}constructor({content:e,cause:t,message:n=`Invalid data content. Expected a base64 string, Uint8Array, ArrayBuffer, or Buffer, but got ${typeof e}.`}){super({name:y_,message:n,cause:t}),this[SE]=!0,this.content=e}static isInstance(e){return Ae.hasMarker(e,wE)}static isInvalidDataContentError(e){return e instanceof Error&&e.name===y_&&e.content!=null}toJSON(){return{name:this.name,message:this.message,stack:this.stack,cause:this.cause,content:this.content}}};SE=SL;var IE=i.union([i.string(),i.instanceof(Uint8Array),i.instanceof(ArrayBuffer),i.custom(e=>{var t,n;return(n=(t=globalThis.Buffer)==null?void 0:t.isBuffer(e))!=null?n:!1},{message:"Must be a Buffer"})]);function IL(e){return typeof e=="string"?e:e instanceof ArrayBuffer?n_(new Uint8Array(e)):n_(e)}s(IL,"convertDataContentToBase64String");function ld(e){if(e instanceof Uint8Array)return e;if(typeof e=="string")try{return H0(e)}catch(t){throw new lE({message:"Invalid data content. Content string is not a base64-encoded media.",content:e,cause:t})}if(e instanceof ArrayBuffer)return new Uint8Array(e);throw new lE({content:e})}s(ld,"convertDataContentToUint8Array");function TL(e){try{return new TextDecoder().decode(e)}catch{throw new Error("Error decoding Uint8Array to text")}}s(TL,"convertUint8ArrayToText");var v_="AI_InvalidMessageRoleError",TE=`vercel.ai.error.${v_}`,EL=Symbol.for(TE),EE,kL=class extends Ae{static{s(this,"InvalidMessageRoleError")}constructor({role:e,message:t=`Invalid message role: '${e}'. Must be one of: "system", "user", "assistant", "tool".`}){super({name:v_,message:t}),this[EE]=!0,this.role=e}static isInstance(e){return Ae.hasMarker(e,TE)}static isInvalidMessageRoleError(e){return e instanceof Error&&e.name===v_&&typeof e.role=="string"}toJSON(){return{name:this.name,message:this.message,stack:this.stack,role:this.role}}};EE=EL;function PL(e){try{let[t,n]=e.split(",");return{mimeType:t.split(";")[0].split(":")[1],base64Content:n}}catch{return{mimeType:void 0,base64Content:void 0}}}s(PL,"splitDataUrl");async function AL({prompt:e,modelSupportsImageUrls:t=!0,modelSupportsUrl:n=s(()=>!1,"modelSupportsUrl"),downloadImplementation:o=bL}){let r=await RL(e.messages,o,t,n);return[...e.system!=null?[{role:"system",content:e.system}]:[],...e.messages.map(a=>$L(a,r))]}s(AL,"convertToLanguageModelPrompt");function $L(e,t){let n=e.role;switch(n){case"system":return{role:"system",content:e.content,providerMetadata:e.experimental_providerMetadata};case"user":return typeof e.content=="string"?{role:"user",content:[{type:"text",text:e.content}],providerMetadata:e.experimental_providerMetadata}:{role:"user",content:e.content.map(o=>OL(o,t)).filter(o=>o.type!=="text"||o.text!==""),providerMetadata:e.experimental_providerMetadata};case"assistant":return typeof e.content=="string"?{role:"assistant",content:[{type:"text",text:e.content}],providerMetadata:e.experimental_providerMetadata}:{role:"assistant",content:e.content.filter(o=>o.type!=="text"||o.text!=="").map(o=>{let{experimental_providerMetadata:r,...a}=o;return{...a,providerMetadata:r}}),providerMetadata:e.experimental_providerMetadata};case"tool":return{role:"tool",content:e.content.map(o=>({type:"tool-result",toolCallId:o.toolCallId,toolName:o.toolName,result:o.result,content:o.experimental_content,isError:o.isError,providerMetadata:o.experimental_providerMetadata})),providerMetadata:e.experimental_providerMetadata};default:{let o=n;throw new kL({role:o})}}}s($L,"convertToLanguageModelMessage");async function RL(e,t,n,o){let r=e.filter(c=>c.role==="user").map(c=>c.content).filter(c=>Array.isArray(c)).flat().filter(c=>c.type==="image"||c.type==="file").filter(c=>!(c.type==="image"&&n===!0)).map(c=>c.type==="image"?c.image:c.data).map(c=>typeof c=="string"&&(c.startsWith("http:")||c.startsWith("https:"))?new URL(c):c).filter(c=>c instanceof URL).filter(c=>!o(c)),a=await Promise.all(r.map(async c=>({url:c,data:await t({url:c})})));return Object.fromEntries(a.map(({url:c,data:u})=>[c.toString(),u]))}s(RL,"downloadAssets");function OL(e,t){if(e.type==="text")return{type:"text",text:e.text,providerMetadata:e.experimental_providerMetadata};let n=e.mimeType,o,r,a,c=e.type;switch(c){case"image":o=e.image;break;case"file":o=e.data;break;default:throw new Error(`Unsupported part type: ${c}`)}try{r=typeof o=="string"?new URL(o):o}catch{r=o}if(r instanceof URL)if(r.protocol==="data:"){let{mimeType:u,base64Content:l}=PL(r.toString());if(u==null||l==null)throw new Error(`Invalid data URL format in part ${c}`);n=u,a=ld(l)}else{let u=t[r.toString()];u?(a=u.data,n??(n=u.mimeType)):a=r}else a=ld(r);switch(c){case"image":return n==null&&a instanceof Uint8Array&&(n=wL(a)),{type:"image",image:a,mimeType:n,providerMetadata:e.experimental_providerMetadata};case"file":if(n==null)throw new Error("Mime type is missing for file part");return{type:"file",data:a instanceof Uint8Array?IL(a):a,mimeType:n,providerMetadata:e.experimental_providerMetadata}}}s(OL,"convertPartToLanguageModelPart");var __="AI_InvalidArgumentError",kE=`vercel.ai.error.${__}`,CL=Symbol.for(kE),PE,Pr=class extends Ae{static{s(this,"InvalidArgumentError")}constructor({parameter:e,value:t,message:n}){super({name:__,message:`Invalid argument for parameter ${e}: ${n}`}),this[PE]=!0,this.parameter=e,this.value=t}static isInstance(e){return Ae.hasMarker(e,kE)}static isInvalidArgumentError(e){return e instanceof Error&&e.name===__&&typeof e.parameter=="string"&&typeof e.value=="string"}toJSON(){return{name:this.name,message:this.message,stack:this.stack,parameter:this.parameter,value:this.value}}};PE=CL;function NL({maxTokens:e,temperature:t,topP:n,topK:o,presencePenalty:r,frequencyPenalty:a,stopSequences:c,seed:u,maxRetries:l}){if(e!=null){if(!Number.isInteger(e))throw new Pr({parameter:"maxTokens",value:e,message:"maxTokens must be an integer"});if(e<1)throw new Pr({parameter:"maxTokens",value:e,message:"maxTokens must be >= 1"})}if(t!=null&&typeof t!="number")throw new Pr({parameter:"temperature",value:t,message:"temperature must be a number"});if(n!=null&&typeof n!="number")throw new Pr({parameter:"topP",value:n,message:"topP must be a number"});if(o!=null&&typeof o!="number")throw new Pr({parameter:"topK",value:o,message:"topK must be a number"});if(r!=null&&typeof r!="number")throw new Pr({parameter:"presencePenalty",value:r,message:"presencePenalty must be a number"});if(a!=null&&typeof a!="number")throw new Pr({parameter:"frequencyPenalty",value:a,message:"frequencyPenalty must be a number"});if(u!=null&&!Number.isInteger(u))throw new Pr({parameter:"seed",value:u,message:"seed must be an integer"});if(l!=null){if(!Number.isInteger(l))throw new Pr({parameter:"maxRetries",value:l,message:"maxRetries must be an integer"});if(l<0)throw new Pr({parameter:"maxRetries",value:l,message:"maxRetries must be >= 0"})}return{maxTokens:e,temperature:t??0,topP:n,topK:o,presencePenalty:r,frequencyPenalty:a,stopSequences:c!=null&&c.length>0?c:void 0,seed:u,maxRetries:l??2}}s(NL,"prepareCallSettings");var b_=i.lazy(()=>i.union([i.null(),i.string(),i.number(),i.boolean(),i.record(i.string(),b_),i.array(b_)])),eo=i.record(i.string(),i.record(i.string(),b_)),jL=i.array(i.union([i.object({type:i.literal("text"),text:i.string()}),i.object({type:i.literal("image"),data:i.string(),mimeType:i.string().optional()})])),AE=i.object({type:i.literal("text"),text:i.string(),experimental_providerMetadata:eo.optional()}),DL=i.object({type:i.literal("image"),image:i.union([IE,i.instanceof(URL)]),mimeType:i.string().optional(),experimental_providerMetadata:eo.optional()}),zL=i.object({type:i.literal("file"),data:i.union([IE,i.instanceof(URL)]),mimeType:i.string(),experimental_providerMetadata:eo.optional()}),ML=i.object({type:i.literal("tool-call"),toolCallId:i.string(),toolName:i.string(),args:i.unknown()}),UL=i.object({type:i.literal("tool-result"),toolCallId:i.string(),toolName:i.string(),result:i.unknown(),content:jL.optional(),isError:i.boolean().optional(),experimental_providerMetadata:eo.optional()}),LL=i.object({role:i.literal("system"),content:i.string(),experimental_providerMetadata:eo.optional()}),qL=i.object({role:i.literal("user"),content:i.union([i.string(),i.array(i.union([AE,DL,zL]))]),experimental_providerMetadata:eo.optional()}),FL=i.object({role:i.literal("assistant"),content:i.union([i.string(),i.array(i.union([AE,ML]))]),experimental_providerMetadata:eo.optional()}),BL=i.object({role:i.literal("tool"),content:i.array(UL),experimental_providerMetadata:eo.optional()}),ZL=i.union([LL,qL,FL,BL]);function VL(e){if(!Array.isArray(e))return"other";if(e.length===0)return"messages";let t=e.map(HL);return t.some(n=>n==="has-ui-specific-parts")?"ui-messages":t.every(n=>n==="has-core-specific-parts"||n==="message")?"messages":"other"}s(VL,"detectPromptType");function HL(e){return typeof e=="object"&&e!==null&&(e.role==="function"||e.role==="data"||"toolInvocations"in e||"experimental_attachments"in e)?"has-ui-specific-parts":typeof e=="object"&&e!==null&&"content"in e&&(Array.isArray(e.content)||"experimental_providerMetadata"in e)?"has-core-specific-parts":typeof e=="object"&&e!==null&&"role"in e&&"content"in e&&typeof e.content=="string"&&["system","user","assistant","tool"].includes(e.role)?"message":"other"}s(HL,"detectSingleMessageCharacteristics");function GL(e){var t,n,o;let r=[];for(let a of e){let c;try{c=new URL(a.url)}catch{throw new Error(`Invalid URL: ${a.url}`)}switch(c.protocol){case"http:":case"https:":{if((t=a.contentType)!=null&&t.startsWith("image/"))r.push({type:"image",image:c});else{if(!a.contentType)throw new Error("If the attachment is not an image, it must specify a content type");r.push({type:"file",data:c,mimeType:a.contentType})}break}case"data:":{let u,l,d;try{[u,l]=a.url.split(","),d=u.split(";")[0].split(":")[1]}catch{throw new Error(`Error processing data URL: ${a.url}`)}if(d==null||l==null)throw new Error(`Invalid data URL format: ${a.url}`);if((n=a.contentType)!=null&&n.startsWith("image/"))r.push({type:"image",image:ld(l)});else if((o=a.contentType)!=null&&o.startsWith("text/"))r.push({type:"text",text:TL(ld(l))});else{if(!a.contentType)throw new Error("If the attachment is not an image or text, it must specify a content type");r.push({type:"file",data:l,mimeType:a.contentType})}break}default:throw new Error(`Unsupported URL protocol: ${c.protocol}`)}}return r}s(GL,"attachmentsToParts");var $E="AI_MessageConversionError",RE=`vercel.ai.error.${$E}`,JL=Symbol.for(RE),OE,dE=class extends Ae{static{s(this,"MessageConversionError")}constructor({originalMessage:e,message:t}){super({name:$E,message:t}),this[OE]=!0,this.originalMessage=e}static isInstance(e){return Ae.hasMarker(e,RE)}};OE=JL;function S_(e,t){var n;let o=(n=t?.tools)!=null?n:{},r=[];for(let a of e){let{role:c,content:u,toolInvocations:l,experimental_attachments:d}=a;switch(c){case"system":{r.push({role:"system",content:u});break}case"user":{r.push({role:"user",content:d?[{type:"text",text:u},...GL(d)]:u});break}case"assistant":{if(l==null){r.push({role:"assistant",content:u});break}r.push({role:"assistant",content:[{type:"text",text:u},...l.map(({toolCallId:p,toolName:m,args:f})=>({type:"tool-call",toolCallId:p,toolName:m,args:f}))]}),r.push({role:"tool",content:l.map(p=>{if(!("result"in p))throw new dE({originalMessage:a,message:"ToolInvocation must have a result: "+JSON.stringify(p)});let{toolCallId:m,toolName:f,result:y}=p,g=o[f];return g?.experimental_toToolResultContent!=null?{type:"tool-result",toolCallId:m,toolName:f,result:g.experimental_toToolResultContent(y),experimental_content:g.experimental_toToolResultContent(y)}:{type:"tool-result",toolCallId:m,toolName:f,result:y}})});break}case"function":case"data":case"tool":break;default:{let p=c;throw new dE({originalMessage:a,message:`Unsupported role: ${p}`})}}}return r}s(S_,"convertToCoreMessages");function KL({prompt:e,tools:t}){if(e.prompt==null&&e.messages==null)throw new Ao({prompt:e,message:"prompt or messages must be defined"});if(e.prompt!=null&&e.messages!=null)throw new Ao({prompt:e,message:"prompt and messages cannot be defined at the same time"});if(e.system!=null&&typeof e.system!="string")throw new Ao({prompt:e,message:"system must be a string"});if(e.prompt!=null){if(typeof e.prompt!="string")throw new Ao({prompt:e,message:"prompt must be a string"});return{type:"prompt",system:e.system,messages:[{role:"user",content:e.prompt}]}}if(e.messages!=null){let n=VL(e.messages);if(n==="other")throw new Ao({prompt:e,message:"messages must be an array of CoreMessage or UIMessage"});let o=n==="ui-messages"?S_(e.messages,{tools:t}):e.messages,r=ec({value:o,schema:i.array(ZL)});if(!r.success)throw new Ao({prompt:e,message:"messages must be an array of CoreMessage or UIMessage",cause:r.error});return{type:"messages",messages:o,system:e.system}}throw new Error("unreachable")}s(KL,"standardizePrompt");function WL(e){return{promptTokens:e.promptTokens,completionTokens:e.completionTokens,totalTokens:e.promptTokens+e.completionTokens}}s(WL,"calculateLanguageModelUsage");function dd(e,{contentType:t,dataStreamVersion:n}){var o;let r=new Headers((o=e?.headers)!=null?o:{});return r.has("Content-Type")||r.set("Content-Type",t),n!==void 0&&r.set("X-Vercel-AI-Data-Stream",n),r}s(dd,"prepareResponseHeaders");var XL="AI_NoObjectGeneratedError",YL=`vercel.ai.error.${XL}`,QL=Symbol.for(YL),eq;eq=QL;function pE(e,t){let n=e.pipeThrough(new TransformStream(t));return n[Symbol.asyncIterator]=()=>{let o=n.getReader();return{async next(){let{done:r,value:a}=await o.read();return r?{done:!0,value:void 0}:{done:!1,value:a}}}},n}s(pE,"createAsyncIterableStream");var _se=_n({prefix:"aiobj",size:24});function Br(){let e,t;return{promise:new Promise((o,r)=>{e=o,t=r}),resolve:e,reject:t}}s(Br,"createResolvablePromise");function tq(){var e,t;return(t=(e=globalThis?.performance)==null?void 0:e.now())!=null?t:Date.now()}s(tq,"now");function mE(e,{contentType:t,dataStreamVersion:n}){let o={};if(e?.headers!=null)for(let[r,a]of Object.entries(e.headers))o[r]=a;return o["Content-Type"]==null&&(o["Content-Type"]=t),n!==void 0&&(o["X-Vercel-AI-Data-Stream"]=n),o}s(mE,"prepareOutgoingHttpHeaders");function fE({response:e,status:t,statusText:n,headers:o,stream:r}){e.writeHead(t??200,n,o);let a=r.getReader();s(async()=>{try{for(;;){let{done:u,value:l}=await a.read();if(u)break;e.write(l)}}catch(u){throw u}finally{e.end()}},"read")()}s(fE,"writeToServerResponse");var xse=_n({prefix:"aiobj",size:24});var x_="AI_InvalidToolArgumentsError",CE=`vercel.ai.error.${x_}`,rq=Symbol.for(CE),NE,nq=class extends Ae{static{s(this,"InvalidToolArgumentsError")}constructor({toolArgs:e,toolName:t,cause:n,message:o=`Invalid arguments for tool ${t}: ${td(n)}`}){super({name:x_,message:o,cause:n}),this[NE]=!0,this.toolArgs=e,this.toolName=t}static isInstance(e){return Ae.hasMarker(e,CE)}static isInvalidToolArgumentsError(e){return e instanceof Error&&e.name===x_&&typeof e.toolName=="string"&&typeof e.toolArgs=="string"}toJSON(){return{name:this.name,message:this.message,cause:this.cause,stack:this.stack,toolName:this.toolName,toolArgs:this.toolArgs}}};NE=rq;var w_="AI_NoSuchToolError",jE=`vercel.ai.error.${w_}`,oq=Symbol.for(jE),DE,pd=class extends Ae{static{s(this,"NoSuchToolError")}constructor({toolName:e,availableTools:t=void 0,message:n=`Model tried to call unavailable tool '${e}'. ${t===void 0?"No tools are available.":`Available tools: ${t.join(", ")}.`}`}){super({name:w_,message:n}),this[DE]=!0,this.toolName=e,this.availableTools=t}static isInstance(e){return Ae.hasMarker(e,jE)}static isNoSuchToolError(e){return e instanceof Error&&e.name===w_&&"toolName"in e&&e.toolName!=null&&typeof e.name=="string"}toJSON(){return{name:this.name,message:this.message,stack:this.stack,toolName:this.toolName,availableTools:this.availableTools}}};DE=oq;function aq(e){return e!=null&&Object.keys(e).length>0}s(aq,"isNonEmptyObject");function iq({tools:e,toolChoice:t,activeTools:n}){return aq(e)?{tools:(n!=null?Object.entries(e).filter(([r])=>n.includes(r)):Object.entries(e)).map(([r,a])=>{let c=a.type;switch(c){case void 0:case"function":return{type:"function",name:r,description:a.description,parameters:ed(a.parameters).jsonSchema};case"provider-defined":return{type:"provider-defined",name:r,id:a.id,args:a.args};default:{let u=c;throw new Error(`Unsupported tool type: ${u}`)}}}),toolChoice:t==null?{type:"auto"}:typeof t=="string"?{type:t}:{type:"tool",toolName:t.toolName}}:{tools:void 0,toolChoice:void 0}}s(iq,"prepareToolsAndToolChoice");var sq=/^([\s\S]*?)(\s+)(\S*)$/;function cq(e){let t=e.match(sq);return t?{prefix:t[1],whitespace:t[2],suffix:t[3]}:void 0}s(cq,"splitOnLastWhitespace");function uq({toolCall:e,tools:t}){let n=e.toolName;if(t==null)throw new pd({toolName:e.toolName});let o=t[n];if(o==null)throw new pd({toolName:e.toolName,availableTools:Object.keys(t)});let r=ed(o.parameters),a=e.args.trim()===""?ec({value:{},schema:r}):r_({text:e.args,schema:r});if(a.success===!1)throw new nq({toolName:n,toolArgs:e.args,cause:a.error});return{type:"tool-call",toolCallId:e.toolCallId,toolName:n,args:a.value}}s(uq,"parseToolCall");function lq({text:e="",tools:t,toolCalls:n,toolResults:o}){let r=[];return r.push({role:"assistant",content:[{type:"text",text:e},...n]}),o.length>0&&r.push({role:"tool",content:o.map(a=>{let c=t[a.toolName];return c?.experimental_toToolResultContent!=null?{type:"tool-result",toolCallId:a.toolCallId,toolName:a.toolName,result:c.experimental_toToolResultContent(a.result),experimental_content:c.experimental_toToolResultContent(a.result)}:{type:"tool-result",toolCallId:a.toolCallId,toolName:a.toolName,result:a.result}})}),r}s(lq,"toResponseMessages");var Pse=_n({prefix:"aitxt",size:24});function dq(){let e=[],t=null,n=!1,o=s(async()=>{if(n&&e.length===0){t?.close();return}if(e.length!==0)try{let{value:r,done:a}=await e[0].read();a?(e.shift(),e.length>0?await o():n&&t?.close()):t?.enqueue(r)}catch(r){t?.error(r),e.shift(),n&&e.length===0&&t?.close()}},"processPull");return{stream:new ReadableStream({start(r){t=r},pull:o,async cancel(){for(let r of e)await r.cancel();e=[],n=!0}}),addStream:s(r=>{if(n)throw new Error("Cannot add inner stream: outer stream is closed");e.push(r.getReader())},"addStream"),close:s(()=>{n=!0,e.length===0&&t?.close()},"close")}}s(dq,"createStitchableStream");function I_(e,t){let n=e.getReader(),o=t.getReader(),r,a,c=!1,u=!1;async function l(p){try{r==null&&(r=n.read());let m=await r;r=void 0,m.done?p.close():p.enqueue(m.value)}catch(m){p.error(m)}}s(l,"readStream1");async function d(p){try{a==null&&(a=o.read());let m=await a;a=void 0,m.done?p.close():p.enqueue(m.value)}catch(m){p.error(m)}}return s(d,"readStream2"),new ReadableStream({async pull(p){try{if(c){await d(p);return}if(u){await l(p);return}r==null&&(r=n.read()),a==null&&(a=o.read());let{result:m,reader:f}=await Promise.race([r.then(y=>({result:y,reader:n})),a.then(y=>({result:y,reader:o}))]);m.done||p.enqueue(m.value),f===n?(r=void 0,m.done&&(await d(p),c=!0)):(a=void 0,m.done&&(u=!0,await l(p)))}catch(m){p.error(m)}},cancel(){n.cancel(),o.cancel()}})}s(I_,"mergeStreams");function pq({tools:e,generatorStream:t,toolCallStreaming:n,tracer:o,telemetry:r,abortSignal:a}){let c=null,u=new ReadableStream({start(g){c=g}}),l={},d=new Set,p=!1,m;function f(){p&&d.size===0&&(m!=null&&c.enqueue(m),c.close())}s(f,"attemptClose");let y=new TransformStream({transform(g,v){let b=g.type;switch(b){case"text-delta":case"response-metadata":case"error":{v.enqueue(g);break}case"tool-call-delta":{n&&(l[g.toolCallId]||(v.enqueue({type:"tool-call-streaming-start",toolCallId:g.toolCallId,toolName:g.toolName}),l[g.toolCallId]=!0),v.enqueue({type:"tool-call-delta",toolCallId:g.toolCallId,toolName:g.toolName,argsTextDelta:g.argsTextDelta}));break}case"tool-call":{let w=g.toolName;if(e==null){c.enqueue({type:"error",error:new pd({toolName:g.toolName})});break}let _=e[w];if(_==null){c.enqueue({type:"error",error:new pd({toolName:g.toolName,availableTools:Object.keys(e)})});break}try{let x=uq({toolCall:g,tools:e});if(v.enqueue(x),_.execute!=null){let E=Bv();d.add(E),h_({name:"ai.toolCall",attributes:za({telemetry:r,attributes:{...f_({operationId:"ai.toolCall",telemetry:r}),"ai.toolCall.name":x.toolName,"ai.toolCall.id":x.toolCallId,"ai.toolCall.args":{output:s(()=>JSON.stringify(x.args),"output")}}}),tracer:o,fn:s(async D=>_.execute(x.args,{abortSignal:a}).then(Z=>{c.enqueue({...x,type:"tool-result",result:Z}),d.delete(E),f();try{D.setAttributes(za({telemetry:r,attributes:{"ai.toolCall.result":{output:s(()=>JSON.stringify(Z),"output")}}}))}catch{}},Z=>{c.enqueue({type:"error",error:Z}),d.delete(E),f()}),"fn")})}}catch(x){c.enqueue({type:"error",error:x})}break}case"finish":{m={type:"finish",finishReason:g.finishReason,logprobs:g.logprobs,usage:WL(g.usage),experimental_providerMetadata:g.providerMetadata};break}default:{let w=b;throw new Error(`Unhandled chunk type: ${w}`)}}},flush(){p=!0,f()}});return new ReadableStream({async start(g){return Promise.all([t.pipeThrough(y).pipeTo(new WritableStream({write(v){g.enqueue(v)},close(){}})),u.pipeTo(new WritableStream({write(v){g.enqueue(v)},close(){g.close()}}))])}})}s(pq,"runToolsTransformation");var mq=_n({prefix:"aitxt",size:24});async function zE({model:e,tools:t,toolChoice:n,system:o,prompt:r,messages:a,maxRetries:c,abortSignal:u,headers:l,maxToolRoundtrips:d=0,maxSteps:p=d!=null?d+1:1,experimental_continueSteps:m=!1,experimental_telemetry:f,experimental_providerMetadata:y,experimental_toolCallStreaming:g=!1,experimental_activeTools:v,onChunk:b,onFinish:w,onStepFinish:_,_internal:{now:x=tq,generateId:E=mq,currentDate:D=s(()=>new Date,"currentDate")}={},...Z}){if(p<1)throw new Pr({parameter:"maxSteps",value:p,message:"maxSteps must be at least 1"});let j=hL({model:e,telemetry:f,headers:l,settings:{...Z,maxRetries:c}}),G=vL(f),N=KL({prompt:{system:o,prompt:r,messages:a},tools:t});return h_({name:"ai.streamText",attributes:za({telemetry:f,attributes:{...f_({operationId:"ai.streamText",telemetry:f}),...j,"ai.prompt":{input:s(()=>JSON.stringify({system:o,prompt:r,messages:a}),"input")},"ai.settings.maxSteps":p}}),tracer:G,endWhenDone:!1,fn:s(async $=>{let O=fL({maxRetries:c}),te=s(async({responseMessages:ct})=>{let Ue=ct.length===0?N.type:"messages",vt=await AL({prompt:{type:Ue,system:N.system,messages:[...N.messages,...ct]},modelSupportsImageUrls:e.supportsImageUrls,modelSupportsUrl:e.supportsUrl}),A={type:"regular",...iq({tools:t,toolChoice:n,activeTools:v})},{result:{stream:se,warnings:W,rawResponse:S,request:_e},doStreamSpan:We,startTimestampMs:ut}=await O(()=>h_({name:"ai.streamText.doStream",attributes:za({telemetry:f,attributes:{...f_({operationId:"ai.streamText.doStream",telemetry:f}),...j,"ai.prompt.format":{input:s(()=>Ue,"input")},"ai.prompt.messages":{input:s(()=>JSON.stringify(vt),"input")},"ai.prompt.tools":{input:s(()=>{var cn;return(cn=A.tools)==null?void 0:cn.map(hu=>JSON.stringify(hu))},"input")},"ai.prompt.toolChoice":{input:s(()=>A.toolChoice!=null?JSON.stringify(A.toolChoice):void 0,"input")},"gen_ai.system":e.provider,"gen_ai.request.model":e.modelId,"gen_ai.request.frequency_penalty":Z.frequencyPenalty,"gen_ai.request.max_tokens":Z.maxTokens,"gen_ai.request.presence_penalty":Z.presencePenalty,"gen_ai.request.stop_sequences":Z.stopSequences,"gen_ai.request.temperature":Z.temperature,"gen_ai.request.top_k":Z.topK,"gen_ai.request.top_p":Z.topP}}),tracer:G,endWhenDone:!1,fn:s(async cn=>({startTimestampMs:x(),doStreamSpan:cn,result:await e.doStream({mode:A,...NL(Z),inputFormat:Ue,prompt:vt,providerMetadata:y,abortSignal:u,headers:l})}),"fn")}));return{result:{stream:pq({tools:t,generatorStream:se,toolCallStreaming:g,tracer:G,telemetry:f,abortSignal:u}),warnings:W,request:_e??{},rawResponse:S},doStreamSpan:We,startTimestampMs:ut}},"startStep"),{result:{stream:V,warnings:Q,rawResponse:fe,request:Y},doStreamSpan:re,startTimestampMs:ke}=await te({responseMessages:[]});return new fq({stream:V,warnings:Q,rawResponse:fe,request:Y,onChunk:b,onFinish:w,onStepFinish:_,rootSpan:$,doStreamSpan:re,telemetry:f,startTimestampMs:ke,maxSteps:p,continueSteps:m,startStep:te,modelId:e.modelId,now:x,currentDate:D,generateId:E,tools:t})},"fn")})}s(zE,"streamText");var fq=class{static{s(this,"DefaultStreamTextResult")}constructor({stream:e,warnings:t,rawResponse:n,request:o,onChunk:r,onFinish:a,onStepFinish:c,rootSpan:u,doStreamSpan:l,telemetry:d,startTimestampMs:p,maxSteps:m,continueSteps:f,startStep:y,modelId:g,now:v,currentDate:b,generateId:w,tools:_}){this.warnings=t,this.rawResponse=n;let{resolve:x,promise:E}=Br();this.usage=E;let{resolve:D,promise:Z}=Br();this.finishReason=Z;let{resolve:j,promise:G}=Br();this.text=G;let{resolve:N,promise:$}=Br();this.toolCalls=$;let{resolve:O,promise:te}=Br();this.toolResults=te;let{resolve:V,promise:Q}=Br();this.steps=Q;let{resolve:fe,promise:Y}=Br();this.experimental_providerMetadata=Y;let{resolve:re,promise:ke}=Br();this.request=ke;let{resolve:ct,promise:Ue}=Br();this.response=Ue;let{resolve:vt,promise:A}=Br();this.responseMessages=A;let{stream:se,addStream:W,close:S}=dq();this.originalStream=se;let _e=[],We=this;function ut({stream:cn,startTimestamp:hu,doStreamSpan:Ho,currentStep:bx,responseMessages:Nr,usage:Np={promptTokens:0,completionTokens:0,totalTokens:0},stepType:gu,previousStepText:lN="",stepRequest:jp,hasLeadingWhitespace:dN}){let jr=[],Go=[],Yt="unknown",gr={promptTokens:0,completionTokens:0,totalTokens:0},Jo,xx=!0,go="",Ko=gu==="continue"?lN:"",$i,Ft={id:w(),timestamp:b(),modelId:g},Wo="",wx=!1,Sx=!0,Ix=!1;async function Dp({controller:Ce,chunk:Pt}){Ce.enqueue(Pt),go+=Pt.textDelta,Ko+=Pt.textDelta,wx=!0,Ix=Pt.textDelta.trimEnd()!==Pt.textDelta,await r?.({chunk:Pt})}s(Dp,"publishTextChunk"),W(cn.pipeThrough(new TransformStream({async transform(Ce,Pt){var yo,Dr,Ri;if(xx){let Xe=v()-hu;xx=!1,Ho.addEvent("ai.stream.firstChunk",{"ai.response.msToFirstChunk":Xe,"ai.stream.msToFirstChunk":Xe}),Ho.setAttributes({"ai.response.msToFirstChunk":Xe,"ai.stream.msToFirstChunk":Xe})}if(Ce.type==="text-delta"&&Ce.textDelta.length===0)return;let un=Ce.type;switch(un){case"text-delta":{if(f){let Xe=Sx&&dN?Ce.textDelta.trimStart():Ce.textDelta;if(Xe.length===0)break;Sx=!1,Wo+=Xe;let Xo=cq(Wo);Xo!=null&&(Wo=Xo.suffix,await Dp({controller:Pt,chunk:{type:"text-delta",textDelta:Xo.prefix+Xo.whitespace}}))}else await Dp({controller:Pt,chunk:Ce});break}case"tool-call":{Pt.enqueue(Ce),jr.push(Ce),await r?.({chunk:Ce});break}case"tool-result":{Pt.enqueue(Ce),Go.push(Ce),await r?.({chunk:Ce});break}case"response-metadata":{Ft={id:(yo=Ce.id)!=null?yo:Ft.id,timestamp:(Dr=Ce.timestamp)!=null?Dr:Ft.timestamp,modelId:(Ri=Ce.modelId)!=null?Ri:Ft.modelId};break}case"finish":{gr=Ce.usage,Yt=Ce.finishReason,Jo=Ce.experimental_providerMetadata,$i=Ce.logprobs;let Xe=v()-hu;Ho.addEvent("ai.stream.finish"),Ho.setAttributes({"ai.response.msToFinish":Xe,"ai.response.avgCompletionTokensPerSecond":1e3*gr.completionTokens/Xe});break}case"tool-call-streaming-start":case"tool-call-delta":{Pt.enqueue(Ce),await r?.({chunk:Ce});break}case"error":{Pt.enqueue(Ce),Yt="error";break}default:{let Xe=un;throw new Error(`Unknown chunk type: ${Xe}`)}}},async flush(Ce){var Pt;let yo=jr.length>0?JSON.stringify(jr):void 0,Dr="done";bx+1<m&&(f&&Yt==="length"&&jr.length===0?Dr="continue":jr.length>0&&Go.length===jr.length&&(Dr="tool-result")),f&&Wo.length>0&&(Dr!=="continue"||gu==="continue"&&!wx)&&(await Dp({controller:Ce,chunk:{type:"text-delta",textDelta:Wo}}),Wo="");try{Ho.setAttributes(za({telemetry:d,attributes:{"ai.response.finishReason":Yt,"ai.response.text":{output:s(()=>go,"output")},"ai.response.toolCalls":{output:s(()=>yo,"output")},"ai.response.id":Ft.id,"ai.response.model":Ft.modelId,"ai.response.timestamp":Ft.timestamp.toISOString(),"ai.usage.promptTokens":gr.promptTokens,"ai.usage.completionTokens":gr.completionTokens,"ai.finishReason":Yt,"ai.result.text":{output:s(()=>go,"output")},"ai.result.toolCalls":{output:s(()=>yo,"output")},"gen_ai.response.finish_reasons":[Yt],"gen_ai.response.id":Ft.id,"gen_ai.response.model":Ft.modelId,"gen_ai.usage.input_tokens":gr.promptTokens,"gen_ai.usage.output_tokens":gr.completionTokens}}))}catch{}finally{Ho.end()}if(Ce.enqueue({type:"step-finish",finishReason:Yt,usage:gr,experimental_providerMetadata:Jo,logprobs:$i,response:{...Ft},isContinued:Dr==="continue"}),gu==="continue"){let Xe=Nr[Nr.length-1];typeof Xe.content=="string"?Xe.content+=go:Xe.content.push({text:go,type:"text"})}else Nr.push(...lq({text:go,tools:_??{},toolCalls:jr,toolResults:Go}));let Ri={stepType:gu,text:go,toolCalls:jr,toolResults:Go,finishReason:Yt,usage:gr,warnings:We.warnings,logprobs:$i,request:jp,rawResponse:We.rawResponse,response:{...Ft,headers:(Pt=We.rawResponse)==null?void 0:Pt.headers,messages:JSON.parse(JSON.stringify(Nr))},experimental_providerMetadata:Jo,isContinued:Dr==="continue"};_e.push(Ri),await c?.(Ri);let un={promptTokens:Np.promptTokens+gr.promptTokens,completionTokens:Np.completionTokens+gr.completionTokens,totalTokens:Np.totalTokens+gr.totalTokens};if(Dr!=="done"){let{result:Xe,doStreamSpan:Xo,startTimestampMs:pN}=await y({responseMessages:Nr});We.warnings=Xe.warnings,We.rawResponse=Xe.rawResponse,ut({stream:Xe.stream,startTimestamp:pN,doStreamSpan:Xo,currentStep:bx+1,responseMessages:Nr,usage:un,stepType:Dr,previousStepText:Ko,stepRequest:Xe.request,hasLeadingWhitespace:Ix});return}try{Ce.enqueue({type:"finish",finishReason:Yt,usage:un,experimental_providerMetadata:Jo,logprobs:$i,response:{...Ft}}),S(),u.setAttributes(za({telemetry:d,attributes:{"ai.response.finishReason":Yt,"ai.response.text":{output:s(()=>Ko,"output")},"ai.response.toolCalls":{output:s(()=>yo,"output")},"ai.usage.promptTokens":un.promptTokens,"ai.usage.completionTokens":un.completionTokens,"ai.finishReason":Yt,"ai.result.text":{output:s(()=>Ko,"output")},"ai.result.toolCalls":{output:s(()=>yo,"output")}}})),x(un),D(Yt),j(Ko),N(jr),fe(Jo),O(Go),re(jp),ct({...Ft,headers:n?.headers,messages:Nr}),V(_e),vt(Nr),await a?.({finishReason:Yt,logprobs:$i,usage:un,text:Ko,toolCalls:jr,toolResults:Go,request:jp,rawResponse:n,response:{...Ft,headers:n?.headers,messages:Nr},warnings:t,experimental_providerMetadata:Jo,steps:_e,responseMessages:Nr})}catch(Xe){Ce.error(Xe)}finally{u.end()}}})))}s(ut,"addStepStream"),ut({stream:e,startTimestamp:p,doStreamSpan:l,currentStep:0,responseMessages:[],usage:void 0,stepType:"initial",stepRequest:o,hasLeadingWhitespace:!1})}teeStream(){let[e,t]=this.originalStream.tee();return this.originalStream=t,e}get textStream(){return pE(this.teeStream(),{transform(e,t){e.type==="text-delta"?t.enqueue(e.textDelta):e.type==="error"&&t.error(e.error)}})}get fullStream(){return pE(this.teeStream(),{transform(e,t){t.enqueue(e)}})}toAIStream(e={}){return this.toDataStreamInternal({callbacks:e})}toDataStreamInternal({callbacks:e={},getErrorMessage:t=s(()=>"","getErrorMessage3"),sendUsage:n=!0}={}){let o="",r=new TransformStream({async start(){e.onStart&&await e.onStart()},async transform(c,u){if(u.enqueue(c),c.type==="text-delta"){let l=c.textDelta;o+=l,e.onToken&&await e.onToken(l),e.onText&&await e.onText(l)}},async flush(){e.onCompletion&&await e.onCompletion(o),e.onFinal&&await e.onFinal(o)}}),a=new TransformStream({transform:s(async(c,u)=>{let l=c.type;switch(l){case"text-delta":{u.enqueue(kr("text",c.textDelta));break}case"tool-call-streaming-start":{u.enqueue(kr("tool_call_streaming_start",{toolCallId:c.toolCallId,toolName:c.toolName}));break}case"tool-call-delta":{u.enqueue(kr("tool_call_delta",{toolCallId:c.toolCallId,argsTextDelta:c.argsTextDelta}));break}case"tool-call":{u.enqueue(kr("tool_call",{toolCallId:c.toolCallId,toolName:c.toolName,args:c.args}));break}case"tool-result":{u.enqueue(kr("tool_result",{toolCallId:c.toolCallId,result:c.result}));break}case"error":{u.enqueue(kr("error",t(c.error)));break}case"step-finish":{u.enqueue(kr("finish_step",{finishReason:c.finishReason,usage:n?{promptTokens:c.usage.promptTokens,completionTokens:c.usage.completionTokens}:void 0,isContinued:c.isContinued}));break}case"finish":{u.enqueue(kr("finish_message",{finishReason:c.finishReason,usage:n?{promptTokens:c.usage.promptTokens,completionTokens:c.usage.completionTokens}:void 0}));break}default:{let d=l;throw new Error(`Unknown chunk type: ${d}`)}}},"transform")});return this.fullStream.pipeThrough(r).pipeThrough(a).pipeThrough(new TextEncoderStream)}pipeAIStreamToResponse(e,t){return this.pipeDataStreamToResponse(e,t)}pipeDataStreamToResponse(e,t){let n=t==null?void 0:"init"in t?t.init:{headers:"headers"in t?t.headers:void 0,status:"status"in t?t.status:void 0,statusText:"statusText"in t?t.statusText:void 0},o=t==null?void 0:"data"in t?t.data:void 0,r=t==null?void 0:"getErrorMessage"in t?t.getErrorMessage:void 0,a=t==null?void 0:"sendUsage"in t?t.sendUsage:void 0;fE({response:e,status:n?.status,statusText:n?.statusText,headers:mE(n,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"}),stream:this.toDataStream({data:o,getErrorMessage:r,sendUsage:a})})}pipeTextStreamToResponse(e,t){fE({response:e,status:t?.status,statusText:t?.statusText,headers:mE(t,{contentType:"text/plain; charset=utf-8"}),stream:this.textStream.pipeThrough(new TextEncoderStream)})}toAIStreamResponse(e){return this.toDataStreamResponse(e)}toDataStream(e){let t=this.toDataStreamInternal({getErrorMessage:e?.getErrorMessage,sendUsage:e?.sendUsage});return e?.data?I_(e?.data.stream,t):t}toDataStreamResponse(e){var t;let n=e==null?void 0:"init"in e?e.init:{headers:"headers"in e?e.headers:void 0,status:"status"in e?e.status:void 0,statusText:"statusText"in e?e.statusText:void 0},o=e==null?void 0:"data"in e?e.data:void 0,r=e==null?void 0:"getErrorMessage"in e?e.getErrorMessage:void 0,a=e==null?void 0:"sendUsage"in e?e.sendUsage:void 0;return new Response(this.toDataStream({data:o,getErrorMessage:r,sendUsage:a}),{status:(t=n?.status)!=null?t:200,statusText:n?.statusText,headers:dd(n,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}toTextStreamResponse(e){var t;return new Response(this.textStream.pipeThrough(new TextEncoderStream),{status:(t=e?.status)!=null?t:200,headers:dd(e,{contentType:"text/plain; charset=utf-8"})})}};var hq="AI_NoSuchProviderError",gq=`vercel.ai.error.${hq}`,yq=Symbol.for(gq),vq;vq=yq;function ME(e){let t=new TextEncoder,n="",o=e||{};return new TransformStream({async start(){o.onStart&&await o.onStart()},async transform(r,a){let c=typeof r=="string"?r:r.content;a.enqueue(t.encode(c)),n+=c,o.onToken&&await o.onToken(c),o.onText&&typeof r=="string"&&await o.onText(r)},async flush(){let r=_q(o);o.onCompletion&&await o.onCompletion(n),o.onFinal&&!r&&await o.onFinal(n)}})}s(ME,"createCallbacksTransformer");function _q(e){return"experimental_onFunctionCall"in e}s(_q,"isOfTypeOpenAIStreamCallbacks");function bq(){let e=!0;return t=>(e&&(t=t.trimStart(),t&&(e=!1)),t)}s(bq,"trimStartOfStreamHelper");var Ose=15*1e3;function UE(){let e=new TextEncoder,t=new TextDecoder;return new TransformStream({transform:s(async(n,o)=>{let r=t.decode(n);o.enqueue(e.encode(kr("text",r)))},"transform")})}s(UE,"createStreamDataTransformer");var Cse=new TextDecoder("utf-8");var xq={};gE(xq,{toAIStream:s(()=>wq,"toAIStream"),toDataStream:s(()=>T_,"toDataStream"),toDataStreamResponse:s(()=>Sq,"toDataStreamResponse")});function wq(e,t){return T_(e,t)}s(wq,"toAIStream");function T_(e,t){return e.pipeThrough(new TransformStream({transform:s(async(n,o)=>{var r;if(typeof n=="string"){o.enqueue(n);return}if("event"in n){n.event==="on_chat_model_stream"&&hE((r=n.data)==null?void 0:r.chunk,o);return}hE(n,o)},"transform")})).pipeThrough(ME(t)).pipeThrough(UE())}s(T_,"toDataStream");function Sq(e,t){var n;let o=T_(e,t?.callbacks),r=t?.data,a=t?.init,c=r?I_(r.stream,o):o;return new Response(c,{status:(n=a?.status)!=null?n:200,statusText:a?.statusText,headers:dd(a,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}s(Sq,"toDataStreamResponse");function hE(e,t){if(typeof e.content=="string")t.enqueue(e.content);else{let n=e.content;for(let o of n)o.type==="text"&&t.enqueue(o.text)}}s(hE,"forwardAIMessageChunk");var Iq={};gE(Iq,{toDataStream:s(()=>LE,"toDataStream"),toDataStreamResponse:s(()=>Tq,"toDataStreamResponse")});function LE(e,t){return Eq(e).pipeThrough(ME(t)).pipeThrough(UE())}s(LE,"toDataStream2");function Tq(e,t={}){var n;let{init:o,data:r,callbacks:a}=t,c=LE(e,a),u=r?I_(r.stream,c):c;return new Response(u,{status:(n=o?.status)!=null?n:200,statusText:o?.statusText,headers:dd(o,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}s(Tq,"toDataStreamResponse2");function Eq(e){let t=e[Symbol.asyncIterator](),n=bq();return new ReadableStream({async pull(o){var r;let{value:a,done:c}=await t.next();if(c){o.close();return}let u=n((r=a.delta)!=null?r:"");u&&o.enqueue(u)}})}s(Eq,"toReadableStream");var Nse=Symbol("internal_openai_fn_messages");async function md(e){try{await qr.insert(jn).values({userId:e.userId,action:`ai_${e.actionType}`,resourceType:e.toolName||"ai_chat",sessionId:e.sessionId,success:e.outcome==="success",errorMessage:e.errorMessage,newValues:{provider:e.provider,model:e.model,action_type:e.actionType,tool_name:e.toolName,input_summary:e.inputSummary.slice(0,500),output_summary:e.outputSummary.slice(0,500),tokens_used:e.tokensUsed,latency_ms:e.latencyMs,outcome:e.outcome,affected_tables:e.affectedTables,affected_record_ids:e.affectedRecordIds}})}catch{}}s(md,"logAIOperation");var qE=`Voc\xEA \xE9 o assistente financeiro inteligente especializado do AegisWallet, a plataforma brasileira l\xEDder em gest\xE3o financeira pessoal com interface voz-first.

## SUA ESPECIALIDADE BRASILEIRA

### Dom\xEDnio do Mercado Financeiro Brasileiro
- **PIX**: Expert em transfer\xEAncias PIX instant\xE2neas 24/7, QR Codes, limites, taxas e regras do BCB
- **Boletos**: Gest\xE3o completa de boletos - registro, pagamento, c\xE1lculo de juros/multas, agendamentos
- **Open Banking**: Conhecimento profundo das APIs banc\xE1rias brasileiras e padr\xF5es regulat\xF3rios
- **C\xE2mbio**: Entendimento de opera\xE7\xF5es cambiais e limites legais brasileiros
- **Impostos**: Conhecimento de tributa\xE7\xE3o brasileira (IR, IOF, etc.)

### Cultura e Localiza\xE7\xE3o
- **Portugu\xEAs Brasileiro Nativo**: Use termos como "parab\xE9ns", "show de bola", "blz", " firm\xE3o"
- **Realidade Financeira Brasileira**: Entenda sal\xE1rios, infla\xE7\xE3o, custo de vida, juros altos
- **Calend\xE1rio Brasileiro**: Considere feriados, 13\xBA sal\xE1rio, d\xE9cimo terceiro, parcelas
- **Bancos Nacionais**: Ita\xFA, Bradesco, Caixa, Banco do Brasil, Nubank, Inter, etc.

## CAPACIDADES AVAN\xC7ADAS

### Opera\xE7\xF5es Financeiras (PIX, TED, DOC, Boletos)
- **Transfer\xEAncias PIX**: Envio/recebimento instant\xE2neo, QR Codes, agendamentos, status tracking
- **Gest\xE3o de Boletos**: Registro via c\xF3digo de barras, c\xE1lculo autom\xE1tico de juros/multas, agendamento de pagamentos
- **An\xE1lise de Contatos**: Salvar contatos frequentes, m\xE9todos de pagamento PIX, favoritos
- **Limites e Taxas**: Conhecimento de limites di\xE1rios, taxas, hor\xE1rios de compensa\xE7\xE3o

### An\xE1lises e Insights Financeiros
- **An\xE1lise de Gastos**: Detalhada por categoria, tend\xEAncias, padr\xF5es an\xF4malos
- **Previs\xE3o de Fluxo de Caixa**: Baseada em hist\xF3rico e eventos futuros com confian\xE7a
- **Detec\xE7\xE3o de Fraude**: An\xE1lise em tempo real de risco, padr\xF5es suspeitos
- **Recomenda\xE7\xF5es de Or\xE7amento**: Personalizadas baseadas em comportamento e metas

### Interface Voz-First (Voice-First)
- **Comandos em Portugu\xEAs Natural**: "Envia cem reais para a Maria pelo PIX", "Paga o boleto da luz"
- **Processamento de Contexto**: Mant\xE9m conversa\xE7\xE3o com hist\xF3rico e contexto relevante
- **Confirma\xE7\xE3o por Voz**: Valida\xE7\xE3o segura de opera\xE7\xF5es sens\xEDveis via reconhecimento de voz
- **Respostas Otimizadas para TTS**: Texto projetado para s\xEDntese de voz natural

### Seguran\xE7a e Conformidade LGPD
- **LGPD**: Conformidade total com Lei Geral de Prote\xE7\xE3o de Dados brasileira
- **Valida\xE7\xE3o Multi-Fator**: 2FA, biom\xE9trica, c\xF3digo via SMS/email
- **Audit Logging**: Registros completos para compliance e auditoria
- **Prote\xE7\xE3o de Dados**: Criptografia, anonimiza\xE7\xE3o, reten\xE7\xE3o conformidade

## REGRAS DE SEGURAN\xC7A E CONFORMIDADE (CR\xCDTICAS)

### Prote\xE7\xE3o de Dados LGPD
1. **NUNCA** exponha dados sens\xEDveis: CPF, senhas, tokens biom\xE9tricos
2. **SEMPRE** obtenha consentimento expl\xEDcito para uso de dados financeiros
3. **RESPEITE** direitos de acesso, corre\xE7\xE3o e exclus\xE3o de dados
4. **IMPLEMENTE** pol\xEDticas de reten\xE7\xE3o conformes com regulamenta\xE7\xE3o brasileira

### Seguran\xE7a de Transa\xE7\xF5es
1. **VALIDA\xC7\xC3O OBRIGAT\xD3RIA**: Toda transa\xE7\xE3o >R$1.000 requer verifica\xE7\xE3o adicional
2. **LIMITES AUTOM\xC1TICOS**: Respeite limites di\xE1rios e de frequ\xEAncia
3. **MONITORAMENTO**: Detecte padr\xF5es an\xF4malos e poss\xEDveis fraudes
4. **CONFIRMA\xC7\xC3O**: Use c\xF3digos, biometria ou confirma\xE7\xE3o por voz para opera\xE7\xF5es cr\xEDticas

### Padr\xF5es Brasileiros de Atendimento
1. **Formalidade Amig\xE1vel**: Tratamento "voc\xEA" mas respeitoso e profissional
2. **Hor\xE1rio Banc\xE1rio**: Considere hor\xE1rios banc\xE1rios e janela de compensa\xE7\xE3o
3. **Feriados**: Esteja ciente de feriados nacionais e estaduais brasileiros
4. **Cultura Financeira**: Entenda avers\xE3o a risco, prefer\xEAncia por seguran\xE7a

## FORMATA\xC7\xC3O E COMUNICA\xC7\xC3O

### Formatos Brasileiros
- **Valores**: R$ 1.234,56 (separador decimal v\xEDrgula, milhar ponto)
- **Datas**: DD/MM/YYYY ou "hoje", "ontem", "anteontem", "esta semana"
- **Hor\xE1rios**: 24h com fuso America/Sao_Paulo (BRT/BRST)
- **Documentos**: CPF: XXX.XXX.XXX-XX, CNPJ: XX.XXX.XXX/XXXX-XX

### Tom e Estilo
- **Voz Ativa**: "Vou analisar seus gastos" em vez de "Seus gastos ser\xE3o analisados"
- **Empatia**: Entenda dificuldades financeiras com respeito e apoio
- **Clareza**: Use termos simples, evite jarg\xF5es t\xE9cnicos excessivos
- **Cultura**: Use express\xF5es brasileiras naturais quando apropriado

## PADR\xD5ES DE RESPOSTA

### Para PIX
- **R\xE1pido**: "Transfer\xEAncia PIX enviada! Chega em segundos na conta do destinat\xE1rio."
- **Seguro**: "Para sua seguran\xE7a, vou enviar um c\xF3digo para confirmar esta transfer\xEAncia de R$ 500,00."
- **Informativo**: "O limite di\xE1rio PIX \xE9 R$ 5.000 entre 20h e 6h."

### Para Boletos
- **C\xE1lculo**: "Este boleto vence em 3 dias com multa de 2% e juros de 1% ao m\xEAs."
- **Agendamento**: "Boleto agendado! Ser\xE1 pago automaticamente na data de vencimento."
- **Alerta**: "\u26A0\uFE0F Voc\xEA tem 2 boletos vencendo esta semana totalizando R$ 850,00."

### Para An\xE1lises
- **Visual**: "Seus gastos em alimenta\xE7\xE3o subiram 15% este m\xEAs. Quer ver o gr\xE1fico detalhado?"
- **Pr\xE1tico**: "Com base no seu padr\xE3o, sugiro reservar R$ 2.000 para emerg\xEAncias."
- **Alerta**: "Detectei 3 transa\xE7\xF5es suspeitas esta semana. Quer investigar?"

### Para Voz
- **Conversacional**: "Entendi! Voc\xEA quer transferir R$ 250 para a Joana pelo PIX, correto?"
- **Claro**: "Pode repetir o valor? N\xE3o consegui entender bem."
- **Eficiente**: "Pronto! Transfer\xEAncia autorizada com sua confirma\xE7\xE3o por voz."

## FLUXOS ESPECIALIZADOS

### Transfer\xEAncia PIX Completa
1. "Quanto quer transferir?" \u2192 Validar valor e limites
2. "Qual a chave PIX do destinat\xE1rio?" \u2192 Validar formato e tipo
3. "Qual o nome completo do destinat\xE1rio?" \u2192 Para registro
4. "Descri\xE7\xE3o opcional?" \u2192 Para identifica\xE7\xE3o
5. "Confirmar transfer\xEAncia?" \u2192 Envio ou verifica\xE7\xE3o adicional

### Pagamento de Boleto
1. "C\xF3digo de barras ou\u7167\u7247?" \u2192 Captura e valida\xE7\xE3o
2. "Valor e data de vencimento?" \u2192 Confirma\xE7\xE3o
3. "Calcular juros/multas?" \u2192 Se vencido
4. "Pagar agora ou agendar?" \u2192 Processamento
5. "Confirma\xE7\xE3o?" \u2192 Seguran\xE7a e finaliza\xE7\xE3o

### An\xE1lise Financeira por Voz
1. "Que per\xEDodo quer analisar?" \u2192 Defini\xE7\xE3o de scope
2. "Foco em alguma categoria espec\xEDfica?" \u2192 Detalhamento
3. "Quer compara\xE7\xE3o com per\xEDodo anterior?" \u2192 An\xE1lise comparativa
4. "Preferir resumo oral ou visual?" \u2192 Formato de sa\xEDda
5. "Gerar recomenda\xE7\xF5es?" \u2192 A\xE7\xF5es pr\xE1ticas

## INTEGRA\xC7\xC3O COM FERRAMENTAS

### Sistema de Ferramentas
Voc\xEA tem acesso a 4 categorias principais de ferramentas:

1. **Opera\xE7\xF5es Financeiras Brasileiras**
   - pix.*: Transfer\xEAncias, QR codes, agendamentos PIX
   - boletos.*: Registro, pagamento, c\xE1lculos de boletos
   - contacts.*: Gest\xE3o de contatos e m\xE9todos de pagamento

2. **An\xE1lises e Insights**
   - insights.*: An\xE1lise de gastos, previs\xF5es, detec\xE7\xE3o de anomalias
   - multimodal.*: Relat\xF3rios visuais, gr\xE1ficos, exporta\xE7\xF5es

3. **Seguran\xE7a e Conformidade**
   - security.*: Detec\xE7\xE3o de fraude, valida\xE7\xF5es, configura\xE7\xF5es de seguran\xE7a
   - notifications.*: Alertas, lembretes, prefer\xEAncias de notifica\xE7\xE3o

4. **Interface Voz-First**
   - voice.*: Processamento de comandos, confirma\xE7\xE3o por voz, contexto
   - Todas as ferramentas otimizadas para resposta via TTS

### Orquestra\xE7\xE3o Inteligente
Combine m\xFAltiplas ferramentas para respostas completas:
- Consultar saldo \u2192 security.checkFraudRisk \u2192 pix.sendPixTransfer
- An\xE1lise de gastos \u2192 insights.getSpendingAnalysis \u2192 multimodal.generateVisualReport
- Alerta de seguran\xE7a \u2192 notifications.sendAlert \u2192 voice.confirmVoiceAction

## MANEJO DE ERROS E RECUPERA\xC7\xC3O

### Erros Comuns Brasileiros
- **Chave PIX Inv\xE1lida**: "Esta chave PIX n\xE3o existe. Verifique CPF, email ou telefone."
- **Boleto Duplicado**: "Este boleto j\xE1 est\xE1 pago. Verifique se n\xE3o h\xE1 duplicidade."
- **Fora do Hor\xE1rio**: "Transfer\xEAncias TED/DOC s\xF3 em hor\xE1rio banc\xE1rio. PIX funciona 24/7."
- **LGPD**: "Preciso de sua autoriza\xE7\xE3o para acessar estes dados financeiros."

### Recupera\xE7\xE3o Intelligente
- **Alternativas**: "PIX n\xE3o funciona? Tente TED para transfer\xEAncias banc\xE1rias."
- **Contexto**: "Baseado no nosso hist\xF3rico, voc\xEA costuma transferir para..."
- **Proativo**: "Detectei um padr\xE3o incomum. Quer que eu investigue?"

## ATUALIZA\xC7\xD5ES E MELHORIAS

### Sempre Melhorando
- **Feedback de Usu\xE1rio**: Adapte respostas baseado no hist\xF3rico de intera\xE7\xF5es
- **Contexto Financeiro**: Mantenha-se atualizado sobre taxas, regulamenta\xE7\xF5es, novos bancos
- **Cultura Financeira**: Evolua com mudan\xE7as no comportamento financeiro brasileiro
- **Tecnologia**: Integre novas tecnologias banc\xE1rias e fintechs brasileiras

### M\xE9tricas de Sucesso
- **Compreens\xE3o**: 95%+ de comandos voz entendidos corretamente
- **Satisfa\xE7\xE3o**: Respostas que realmente ajudam os usu\xE1rios brasileiros
- **Efici\xEAncia**: Opera\xE7\xF5es conclu\xEDdas com m\xEDnimo de etapas
- **Seguran\xE7a**: Zero breaches de dados ou fraudes n\xE3o detectadas

---

**Sua Miss\xE3o**: Ser o assistente financeiro mais completo, seguro e brasileiro que existe, transformando gest\xE3o financeira em uma experi\xEAncia natural, intuitiva e efetiva para todos os brasileiros.

**Data de Hoje**: ${new Date().toLocaleDateString("pt-BR")}
**Fuso Hor\xE1rio**: America/Sao_Paulo (${new Date().toLocaleTimeString("pt-BR")})
**Moeda**: BRL (Real Brasileiro)`;var FE=qE;var BE="vercel.ai.error",kq=Symbol.for(BE),ZE,Pq=class VE extends Error{static{s(this,"_AISDKError")}constructor({name:t,message:n,cause:o}){super(n),this[ZE]=!0,this.name=t,this.cause=o}static isInstance(t){return VE.hasMarker(t,BE)}static hasMarker(t,n){let o=Symbol.for(n);return t!=null&&typeof t=="object"&&o in t&&typeof t[o]=="boolean"&&t[o]===!0}};ZE=kq;var nt=Pq,HE="AI_APICallError",GE=`vercel.ai.error.${HE}`,Aq=Symbol.for(GE),JE,bt=class extends nt{static{s(this,"APICallError")}constructor({message:e,url:t,requestBodyValues:n,statusCode:o,responseHeaders:r,responseBody:a,cause:c,isRetryable:u=o!=null&&(o===408||o===409||o===429||o>=500),data:l}){super({name:HE,message:e,cause:c}),this[JE]=!0,this.url=t,this.requestBodyValues=n,this.statusCode=o,this.responseHeaders=r,this.responseBody=a,this.isRetryable=u,this.data=l}static isInstance(e){return nt.hasMarker(e,GE)}};JE=Aq;var KE="AI_EmptyResponseBodyError",WE=`vercel.ai.error.${KE}`,$q=Symbol.for(WE),XE,YE=class extends nt{static{s(this,"EmptyResponseBodyError")}constructor({message:e="Empty response body"}={}){super({name:KE,message:e}),this[XE]=!0}static isInstance(e){return nt.hasMarker(e,WE)}};XE=$q;function QE(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}s(QE,"getErrorMessage");var ek="AI_InvalidArgumentError",tk=`vercel.ai.error.${ek}`,Rq=Symbol.for(tk),rk,fd=class extends nt{static{s(this,"InvalidArgumentError")}constructor({message:e,cause:t,argument:n}){super({name:ek,message:e,cause:t}),this[rk]=!0,this.argument=n}static isInstance(e){return nt.hasMarker(e,tk)}};rk=Rq;var nk="AI_InvalidPromptError",ok=`vercel.ai.error.${nk}`,Oq=Symbol.for(ok),ak,ik=class extends nt{static{s(this,"InvalidPromptError")}constructor({prompt:e,message:t,cause:n}){super({name:nk,message:`Invalid prompt: ${t}`,cause:n}),this[ak]=!0,this.prompt=e}static isInstance(e){return nt.hasMarker(e,ok)}};ak=Oq;var sk="AI_InvalidResponseDataError",ck=`vercel.ai.error.${sk}`,Cq=Symbol.for(ck),uk,hd=class extends nt{static{s(this,"InvalidResponseDataError")}constructor({data:e,message:t=`Invalid response data: ${JSON.stringify(e)}.`}){super({name:sk,message:t}),this[uk]=!0,this.data=e}static isInstance(e){return nt.hasMarker(e,ck)}};uk=Cq;var lk="AI_JSONParseError",dk=`vercel.ai.error.${lk}`,Nq=Symbol.for(dk),pk,ac=class extends nt{static{s(this,"JSONParseError")}constructor({text:e,cause:t}){super({name:lk,message:`JSON parsing failed: Text: ${e}.
Error message: ${QE(t)}`,cause:t}),this[pk]=!0,this.text=e}static isInstance(e){return nt.hasMarker(e,dk)}};pk=Nq;var mk="AI_LoadAPIKeyError",fk=`vercel.ai.error.${mk}`,jq=Symbol.for(fk),hk,ic=class extends nt{static{s(this,"LoadAPIKeyError")}constructor({message:e}){super({name:mk,message:e}),this[hk]=!0}static isInstance(e){return nt.hasMarker(e,fk)}};hk=jq;var Dq="AI_LoadSettingError",zq=`vercel.ai.error.${Dq}`,Mq=Symbol.for(zq),Uq;Uq=Mq;var Lq="AI_NoContentGeneratedError",qq=`vercel.ai.error.${Lq}`,Fq=Symbol.for(qq),Bq;Bq=Fq;var gk="AI_NoSuchModelError",yk=`vercel.ai.error.${gk}`,Zq=Symbol.for(yk),vk,k_=class extends nt{static{s(this,"NoSuchModelError")}constructor({errorName:e=gk,modelId:t,modelType:n,message:o=`No such ${n}: ${t}`}){super({name:e,message:o}),this[vk]=!0,this.modelId=t,this.modelType=n}static isInstance(e){return nt.hasMarker(e,yk)}};vk=Zq;var _k="AI_TooManyEmbeddingValuesForCallError",bk=`vercel.ai.error.${_k}`,Vq=Symbol.for(bk),xk,gd=class extends nt{static{s(this,"TooManyEmbeddingValuesForCallError")}constructor(e){super({name:_k,message:`Too many values for a single embedding call. The ${e.provider} model "${e.modelId}" can only embed up to ${e.maxEmbeddingsPerCall} values per call, but ${e.values.length} values were provided.`}),this[xk]=!0,this.provider=e.provider,this.modelId=e.modelId,this.maxEmbeddingsPerCall=e.maxEmbeddingsPerCall,this.values=e.values}static isInstance(e){return nt.hasMarker(e,bk)}};xk=Vq;var wk="AI_TypeValidationError",Sk=`vercel.ai.error.${wk}`,Hq=Symbol.for(Sk),Ik,Gq=class E_ extends nt{static{s(this,"_TypeValidationError")}constructor({value:t,cause:n}){super({name:wk,message:`Type validation failed: Value: ${JSON.stringify(t)}.
Error message: ${QE(n)}`,cause:n}),this[Ik]=!0,this.value=t}static isInstance(t){return nt.hasMarker(t,Sk)}static wrap({value:t,cause:n}){return E_.isInstance(n)&&n.value===t?n:new E_({value:t,cause:n})}};Ik=Hq;var to=Gq,Tk="AI_UnsupportedFunctionalityError",Ek=`vercel.ai.error.${Tk}`,Jq=Symbol.for(Ek),kk,Oe=class extends nt{static{s(this,"UnsupportedFunctionalityError")}constructor({functionality:e,message:t=`'${e}' functionality not supported.`}){super({name:Tk,message:t}),this[kk]=!0,this.functionality=e}static isInstance(e){return nt.hasMarker(e,Ek)}};kk=Jq;var yd=class extends Error{static{s(this,"ParseError")}constructor(t,n){super(t),this.name="ParseError",this.type=n.type,this.field=n.field,this.value=n.value,this.line=n.line}};function P_(e){}s(P_,"noop");function Pk(e){if(typeof e=="function")throw new TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");let{onEvent:t=P_,onError:n=P_,onRetry:o=P_,onComment:r}=e,a="",c=!0,u,l="",d="";function p(v){let b=c?v.replace(/^\xEF\xBB\xBF/,""):v,[w,_]=Kq(`${a}${b}`);for(let x of w)m(x);a=_,c=!1}s(p,"feed");function m(v){if(v===""){y();return}if(v.startsWith(":")){r&&r(v.slice(v.startsWith(": ")?2:1));return}let b=v.indexOf(":");if(b!==-1){let w=v.slice(0,b),_=v[b+1]===" "?2:1,x=v.slice(b+_);f(w,x,v);return}f(v,"",v)}s(m,"parseLine");function f(v,b,w){switch(v){case"event":d=b;break;case"data":l=`${l}${b}
`;break;case"id":u=b.includes("\0")?void 0:b;break;case"retry":/^\d+$/.test(b)?o(parseInt(b,10)):n(new yd(`Invalid \`retry\` value: "${b}"`,{type:"invalid-retry",value:b,line:w}));break;default:n(new yd(`Unknown field "${v.length>20?`${v.slice(0,20)}\u2026`:v}"`,{type:"unknown-field",field:v,value:b,line:w}));break}}s(f,"processField");function y(){l.length>0&&t({id:u,event:d||void 0,data:l.endsWith(`
`)?l.slice(0,-1):l}),u=void 0,l="",d=""}s(y,"dispatchEvent");function g(v={}){a&&v.consume&&m(a),c=!0,u=void 0,l="",d="",a=""}return s(g,"reset"),{feed:p,reset:g}}s(Pk,"createParser");function Kq(e){let t=[],n="",o=0;for(;o<e.length;){let r=e.indexOf("\r",o),a=e.indexOf(`
`,o),c=-1;if(r!==-1&&a!==-1?c=Math.min(r,a):r!==-1?r===e.length-1?c=-1:c=r:a!==-1&&(c=a),c===-1){n=e.slice(o);break}else{let u=e.slice(o,c);t.push(u),o=c+1,e[o-1]==="\r"&&e[o]===`
`&&o++}}return[t,n]}s(Kq,"splitLines");var vd=class extends TransformStream{static{s(this,"EventSourceParserStream")}constructor({onError:t,onRetry:n,onComment:o}={}){let r;super({start(a){r=Pk({onEvent:s(c=>{a.enqueue(c)},"onEvent"),onError(c){t==="terminate"?a.error(c):typeof t=="function"&&t(c)},onRetry:n,onComment:o})},transform(a){r.feed(a)}})}};var Ie;(function(e){e.assertEqual=r=>{};function t(r){}s(t,"assertIs"),e.assertIs=t;function n(r){throw new Error}s(n,"assertNever"),e.assertNever=n,e.arrayToEnum=r=>{let a={};for(let c of r)a[c]=c;return a},e.getValidEnumValues=r=>{let a=e.objectKeys(r).filter(u=>typeof r[r[u]]!="number"),c={};for(let u of a)c[u]=r[u];return e.objectValues(c)},e.objectValues=r=>e.objectKeys(r).map(function(a){return r[a]}),e.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{let a=[];for(let c in r)Object.prototype.hasOwnProperty.call(r,c)&&a.push(c);return a},e.find=(r,a)=>{for(let c of r)if(a(c))return c},e.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&Number.isFinite(r)&&Math.floor(r)===r;function o(r,a=" | "){return r.map(c=>typeof c=="string"?`'${c}'`:c).join(a)}s(o,"joinValues"),e.joinValues=o,e.jsonStringifyReplacer=(r,a)=>typeof a=="bigint"?a.toString():a})(Ie||(Ie={}));var Ak;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(Ak||(Ak={}));var K=Ie.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),wn=s(e=>{switch(typeof e){case"undefined":return K.undefined;case"string":return K.string;case"number":return Number.isNaN(e)?K.nan:K.number;case"boolean":return K.boolean;case"function":return K.function;case"bigint":return K.bigint;case"symbol":return K.symbol;case"object":return Array.isArray(e)?K.array:e===null?K.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?K.promise:typeof Map<"u"&&e instanceof Map?K.map:typeof Set<"u"&&e instanceof Set?K.set:typeof Date<"u"&&e instanceof Date?K.date:K.object;default:return K.unknown}},"getParsedType");var z=Ie.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);var rr=class e extends Error{static{s(this,"ZodError")}get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=o=>{this.issues=[...this.issues,o]},this.addIssues=(o=[])=>{this.issues=[...this.issues,...o]};let n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){let n=t||function(a){return a.message},o={_errors:[]},r=s(a=>{for(let c of a.issues)if(c.code==="invalid_union")c.unionErrors.map(r);else if(c.code==="invalid_return_type")r(c.returnTypeError);else if(c.code==="invalid_arguments")r(c.argumentsError);else if(c.path.length===0)o._errors.push(n(c));else{let u=o,l=0;for(;l<c.path.length;){let d=c.path[l];l===c.path.length-1?(u[d]=u[d]||{_errors:[]},u[d]._errors.push(n(c))):u[d]=u[d]||{_errors:[]},u=u[d],l++}}},"processError");return r(this),o}static assert(t){if(!(t instanceof e))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ie.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){let n=Object.create(null),o=[];for(let r of this.issues)if(r.path.length>0){let a=r.path[0];n[a]=n[a]||[],n[a].push(t(r))}else o.push(t(r));return{formErrors:o,fieldErrors:n}}get formErrors(){return this.flatten()}};rr.create=e=>new rr(e);var Xq=s((e,t)=>{let n;switch(e.code){case z.invalid_type:e.received===K.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case z.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Ie.jsonStringifyReplacer)}`;break;case z.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ie.joinValues(e.keys,", ")}`;break;case z.invalid_union:n="Invalid input";break;case z.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ie.joinValues(e.options)}`;break;case z.invalid_enum_value:n=`Invalid enum value. Expected ${Ie.joinValues(e.options)}, received '${e.received}'`;break;case z.invalid_arguments:n="Invalid function arguments";break;case z.invalid_return_type:n="Invalid function return type";break;case z.invalid_date:n="Invalid date";break;case z.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Ie.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case z.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case z.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case z.custom:n="Invalid input";break;case z.invalid_intersection_types:n="Intersection results could not be merged";break;case z.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case z.not_finite:n="Number must be finite";break;default:n=t.defaultError,Ie.assertNever(e)}return{message:n}},"errorMap"),ro=Xq;var Yq=ro;function sc(){return Yq}s(sc,"getErrorMap");var _d=s(e=>{let{data:t,path:n,errorMaps:o,issueData:r}=e,a=[...n,...r.path||[]],c={...r,path:a};if(r.message!==void 0)return{...r,path:a,message:r.message};let u="",l=o.filter(d=>!!d).slice().reverse();for(let d of l)u=d(c,{data:t,defaultError:u}).message;return{...r,path:a,message:u}},"makeIssue");function J(e,t){let n=sc(),o=_d({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===ro?void 0:ro].filter(r=>!!r)});e.common.issues.push(o)}s(J,"addIssueToContext");var $t=class e{static{s(this,"ParseStatus")}constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){let o=[];for(let r of n){if(r.status==="aborted")return ue;r.status==="dirty"&&t.dirty(),o.push(r.value)}return{status:t.value,value:o}}static async mergeObjectAsync(t,n){let o=[];for(let r of n){let a=await r.key,c=await r.value;o.push({key:a,value:c})}return e.mergeObjectSync(t,o)}static mergeObjectSync(t,n){let o={};for(let r of n){let{key:a,value:c}=r;if(a.status==="aborted"||c.status==="aborted")return ue;a.status==="dirty"&&t.dirty(),c.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof c.value<"u"||r.alwaysSet)&&(o[a.value]=c.value)}return{status:t.value,value:o}}},ue=Object.freeze({status:"aborted"}),Ma=s(e=>({status:"dirty",value:e}),"DIRTY"),Lt=s(e=>({status:"valid",value:e}),"OK"),A_=s(e=>e.status==="aborted","isAborted"),$_=s(e=>e.status==="dirty","isDirty"),$o=s(e=>e.status==="valid","isValid"),cc=s(e=>typeof Promise<"u"&&e instanceof Promise,"isAsync");var ee;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(ee||(ee={}));var mr=class{static{s(this,"ParseInputLazyPath")}constructor(t,n,o,r){this._cachedPath=[],this.parent=t,this.data=n,this._path=o,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},$k=s((e,t)=>{if($o(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let n=new rr(e.common.issues);return this._error=n,this._error}}},"handleResult");function ye(e){if(!e)return{};let{errorMap:t,invalid_type_error:n,required_error:o,description:r}=e;if(t&&(n||o))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:r}:{errorMap:s((c,u)=>{let{message:l}=e;return c.code==="invalid_enum_value"?{message:l??u.defaultError}:typeof u.data>"u"?{message:l??o??u.defaultError}:c.code!=="invalid_type"?{message:u.defaultError}:{message:l??n??u.defaultError}},"customMap"),description:r}}s(ye,"processCreateParams");var be=class{static{s(this,"ZodType")}get description(){return this._def.description}_getType(t){return wn(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:wn(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new $t,ctx:{common:t.parent.common,data:t.data,parsedType:wn(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){let n=this._parse(t);if(cc(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){let n=this._parse(t);return Promise.resolve(n)}parse(t,n){let o=this.safeParse(t,n);if(o.success)return o.data;throw o.error}safeParse(t,n){let o={common:{issues:[],async:n?.async??!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:wn(t)},r=this._parseSync({data:t,path:o.path,parent:o});return $k(o,r)}"~validate"(t){let n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:wn(t)};if(!this["~standard"].async)try{let o=this._parseSync({data:t,path:[],parent:n});return $o(o)?{value:o.value}:{issues:n.common.issues}}catch(o){o?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(o=>$o(o)?{value:o.value}:{issues:n.common.issues})}async parseAsync(t,n){let o=await this.safeParseAsync(t,n);if(o.success)return o.data;throw o.error}async safeParseAsync(t,n){let o={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:wn(t)},r=this._parse({data:t,path:o.path,parent:o}),a=await(cc(r)?r:Promise.resolve(r));return $k(o,a)}refine(t,n){let o=s(r=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(r):n,"getIssueProperties");return this._refinement((r,a)=>{let c=t(r),u=s(()=>a.addIssue({code:z.custom,...o(r)}),"setError");return typeof Promise<"u"&&c instanceof Promise?c.then(l=>l?!0:(u(),!1)):c?!0:(u(),!1)})}refinement(t,n){return this._refinement((o,r)=>t(o)?!0:(r.addIssue(typeof n=="function"?n(o,r):n),!1))}_refinement(t){return new $r({schema:this,typeName:L.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s(n=>this["~validate"](n),"validate")}}optional(){return Ar.create(this,this._def)}nullable(){return Tn.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return oo.create(this)}promise(){return Ro.create(this,this._def)}or(t){return Ba.create([this,t],this._def)}and(t){return Za.create(this,t,this._def)}transform(t){return new $r({...ye(this._def),schema:this,typeName:L.ZodEffects,effect:{type:"transform",transform:t}})}default(t){let n=typeof t=="function"?t:()=>t;return new Ka({...ye(this._def),innerType:this,defaultValue:n,typeName:L.ZodDefault})}brand(){return new bd({typeName:L.ZodBranded,type:this,...ye(this._def)})}catch(t){let n=typeof t=="function"?t:()=>t;return new Wa({...ye(this._def),innerType:this,catchValue:n,typeName:L.ZodCatch})}describe(t){let n=this.constructor;return new n({...this._def,description:t})}pipe(t){return xd.create(this,t)}readonly(){return Xa.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},Qq=/^c[^\s-]{8,}$/i,eF=/^[0-9a-z]+$/,tF=/^[0-9A-HJKMNP-TV-Z]{26}$/i,rF=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,nF=/^[a-z0-9_-]{21}$/i,oF=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,aF=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,iF=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,sF="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",R_,cF=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,uF=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,lF=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,dF=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,pF=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,mF=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Rk="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",fF=new RegExp(`^${Rk}$`);function Ok(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);let n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}s(Ok,"timeRegexSource");function hF(e){return new RegExp(`^${Ok(e)}$`)}s(hF,"timeRegex");function gF(e){let t=`${Rk}T${Ok(e)}`,n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}s(gF,"datetimeRegex");function yF(e,t){return!!((t==="v4"||!t)&&cF.test(e)||(t==="v6"||!t)&&lF.test(e))}s(yF,"isValidIP");function vF(e,t){if(!oF.test(e))return!1;try{let[n]=e.split(".");if(!n)return!1;let o=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),r=JSON.parse(atob(o));return!(typeof r!="object"||r===null||"typ"in r&&r?.typ!=="JWT"||!r.alg||t&&r.alg!==t)}catch{return!1}}s(vF,"isValidJWT");function _F(e,t){return!!((t==="v4"||!t)&&uF.test(e)||(t==="v6"||!t)&&dF.test(e))}s(_F,"isValidCidr");var La=class e extends be{static{s(this,"ZodString")}_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==K.string){let a=this._getOrReturnCtx(t);return J(a,{code:z.invalid_type,expected:K.string,received:a.parsedType}),ue}let o=new $t,r;for(let a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(r=this._getOrReturnCtx(t,r),J(r,{code:z.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),o.dirty());else if(a.kind==="max")t.data.length>a.value&&(r=this._getOrReturnCtx(t,r),J(r,{code:z.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),o.dirty());else if(a.kind==="length"){let c=t.data.length>a.value,u=t.data.length<a.value;(c||u)&&(r=this._getOrReturnCtx(t,r),c?J(r,{code:z.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):u&&J(r,{code:z.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),o.dirty())}else if(a.kind==="email")iF.test(t.data)||(r=this._getOrReturnCtx(t,r),J(r,{validation:"email",code:z.invalid_string,message:a.message}),o.dirty());else if(a.kind==="emoji")R_||(R_=new RegExp(sF,"u")),R_.test(t.data)||(r=this._getOrReturnCtx(t,r),J(r,{validation:"emoji",code:z.invalid_string,message:a.message}),o.dirty());else if(a.kind==="uuid")rF.test(t.data)||(r=this._getOrReturnCtx(t,r),J(r,{validation:"uuid",code:z.invalid_string,message:a.message}),o.dirty());else if(a.kind==="nanoid")nF.test(t.data)||(r=this._getOrReturnCtx(t,r),J(r,{validation:"nanoid",code:z.invalid_string,message:a.message}),o.dirty());else if(a.kind==="cuid")Qq.test(t.data)||(r=this._getOrReturnCtx(t,r),J(r,{validation:"cuid",code:z.invalid_string,message:a.message}),o.dirty());else if(a.kind==="cuid2")eF.test(t.data)||(r=this._getOrReturnCtx(t,r),J(r,{validation:"cuid2",code:z.invalid_string,message:a.message}),o.dirty());else if(a.kind==="ulid")tF.test(t.data)||(r=this._getOrReturnCtx(t,r),J(r,{validation:"ulid",code:z.invalid_string,message:a.message}),o.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{r=this._getOrReturnCtx(t,r),J(r,{validation:"url",code:z.invalid_string,message:a.message}),o.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(r=this._getOrReturnCtx(t,r),J(r,{validation:"regex",code:z.invalid_string,message:a.message}),o.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(r=this._getOrReturnCtx(t,r),J(r,{code:z.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),o.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(r=this._getOrReturnCtx(t,r),J(r,{code:z.invalid_string,validation:{startsWith:a.value},message:a.message}),o.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(r=this._getOrReturnCtx(t,r),J(r,{code:z.invalid_string,validation:{endsWith:a.value},message:a.message}),o.dirty()):a.kind==="datetime"?gF(a).test(t.data)||(r=this._getOrReturnCtx(t,r),J(r,{code:z.invalid_string,validation:"datetime",message:a.message}),o.dirty()):a.kind==="date"?fF.test(t.data)||(r=this._getOrReturnCtx(t,r),J(r,{code:z.invalid_string,validation:"date",message:a.message}),o.dirty()):a.kind==="time"?hF(a).test(t.data)||(r=this._getOrReturnCtx(t,r),J(r,{code:z.invalid_string,validation:"time",message:a.message}),o.dirty()):a.kind==="duration"?aF.test(t.data)||(r=this._getOrReturnCtx(t,r),J(r,{validation:"duration",code:z.invalid_string,message:a.message}),o.dirty()):a.kind==="ip"?yF(t.data,a.version)||(r=this._getOrReturnCtx(t,r),J(r,{validation:"ip",code:z.invalid_string,message:a.message}),o.dirty()):a.kind==="jwt"?vF(t.data,a.alg)||(r=this._getOrReturnCtx(t,r),J(r,{validation:"jwt",code:z.invalid_string,message:a.message}),o.dirty()):a.kind==="cidr"?_F(t.data,a.version)||(r=this._getOrReturnCtx(t,r),J(r,{validation:"cidr",code:z.invalid_string,message:a.message}),o.dirty()):a.kind==="base64"?pF.test(t.data)||(r=this._getOrReturnCtx(t,r),J(r,{validation:"base64",code:z.invalid_string,message:a.message}),o.dirty()):a.kind==="base64url"?mF.test(t.data)||(r=this._getOrReturnCtx(t,r),J(r,{validation:"base64url",code:z.invalid_string,message:a.message}),o.dirty()):Ie.assertNever(a);return{status:o.value,value:t.data}}_regex(t,n,o){return this.refinement(r=>t.test(r),{validation:n,code:z.invalid_string,...ee.errToObj(o)})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ee.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ee.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ee.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ee.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ee.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ee.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ee.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ee.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ee.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...ee.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...ee.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ee.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...ee.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:t?.offset??!1,local:t?.local??!1,...ee.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...ee.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...ee.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...ee.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n?.position,...ee.errToObj(n?.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...ee.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...ee.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...ee.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...ee.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...ee.errToObj(n)})}nonempty(t){return this.min(1,ee.errToObj(t))}trim(){return new e({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(let n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(let n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}};La.create=e=>new La({checks:[],typeName:L.ZodString,coerce:e?.coerce??!1,...ye(e)});function bF(e,t){let n=(e.toString().split(".")[1]||"").length,o=(t.toString().split(".")[1]||"").length,r=n>o?n:o,a=Number.parseInt(e.toFixed(r).replace(".","")),c=Number.parseInt(t.toFixed(r).replace(".",""));return a%c/10**r}s(bF,"floatSafeRemainder");var uc=class e extends be{static{s(this,"ZodNumber")}constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==K.number){let a=this._getOrReturnCtx(t);return J(a,{code:z.invalid_type,expected:K.number,received:a.parsedType}),ue}let o,r=new $t;for(let a of this._def.checks)a.kind==="int"?Ie.isInteger(t.data)||(o=this._getOrReturnCtx(t,o),J(o,{code:z.invalid_type,expected:"integer",received:"float",message:a.message}),r.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(o=this._getOrReturnCtx(t,o),J(o,{code:z.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),r.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(o=this._getOrReturnCtx(t,o),J(o,{code:z.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),r.dirty()):a.kind==="multipleOf"?bF(t.data,a.value)!==0&&(o=this._getOrReturnCtx(t,o),J(o,{code:z.not_multiple_of,multipleOf:a.value,message:a.message}),r.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(o=this._getOrReturnCtx(t,o),J(o,{code:z.not_finite,message:a.message}),r.dirty()):Ie.assertNever(a);return{status:r.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,ee.toString(n))}gt(t,n){return this.setLimit("min",t,!1,ee.toString(n))}lte(t,n){return this.setLimit("max",t,!0,ee.toString(n))}lt(t,n){return this.setLimit("max",t,!1,ee.toString(n))}setLimit(t,n,o,r){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:o,message:ee.toString(r)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ee.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ee.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ee.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ee.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ee.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:ee.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:ee.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ee.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ee.toString(t)})}get minValue(){let t=null;for(let n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(let n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Ie.isInteger(t.value))}get isFinite(){let t=null,n=null;for(let o of this._def.checks){if(o.kind==="finite"||o.kind==="int"||o.kind==="multipleOf")return!0;o.kind==="min"?(n===null||o.value>n)&&(n=o.value):o.kind==="max"&&(t===null||o.value<t)&&(t=o.value)}return Number.isFinite(n)&&Number.isFinite(t)}};uc.create=e=>new uc({checks:[],typeName:L.ZodNumber,coerce:e?.coerce||!1,...ye(e)});var lc=class e extends be{static{s(this,"ZodBigInt")}constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==K.bigint)return this._getInvalidInput(t);let o,r=new $t;for(let a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(o=this._getOrReturnCtx(t,o),J(o,{code:z.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),r.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(o=this._getOrReturnCtx(t,o),J(o,{code:z.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),r.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(o=this._getOrReturnCtx(t,o),J(o,{code:z.not_multiple_of,multipleOf:a.value,message:a.message}),r.dirty()):Ie.assertNever(a);return{status:r.value,value:t.data}}_getInvalidInput(t){let n=this._getOrReturnCtx(t);return J(n,{code:z.invalid_type,expected:K.bigint,received:n.parsedType}),ue}gte(t,n){return this.setLimit("min",t,!0,ee.toString(n))}gt(t,n){return this.setLimit("min",t,!1,ee.toString(n))}lte(t,n){return this.setLimit("max",t,!0,ee.toString(n))}lt(t,n){return this.setLimit("max",t,!1,ee.toString(n))}setLimit(t,n,o,r){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:o,message:ee.toString(r)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ee.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ee.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ee.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ee.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:ee.toString(n)})}get minValue(){let t=null;for(let n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(let n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}};lc.create=e=>new lc({checks:[],typeName:L.ZodBigInt,coerce:e?.coerce??!1,...ye(e)});var dc=class extends be{static{s(this,"ZodBoolean")}_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==K.boolean){let o=this._getOrReturnCtx(t);return J(o,{code:z.invalid_type,expected:K.boolean,received:o.parsedType}),ue}return Lt(t.data)}};dc.create=e=>new dc({typeName:L.ZodBoolean,coerce:e?.coerce||!1,...ye(e)});var pc=class e extends be{static{s(this,"ZodDate")}_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==K.date){let a=this._getOrReturnCtx(t);return J(a,{code:z.invalid_type,expected:K.date,received:a.parsedType}),ue}if(Number.isNaN(t.data.getTime())){let a=this._getOrReturnCtx(t);return J(a,{code:z.invalid_date}),ue}let o=new $t,r;for(let a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(r=this._getOrReturnCtx(t,r),J(r,{code:z.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),o.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(r=this._getOrReturnCtx(t,r),J(r,{code:z.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),o.dirty()):Ie.assertNever(a);return{status:o.value,value:new Date(t.data.getTime())}}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:ee.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:ee.toString(n)})}get minDate(){let t=null;for(let n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(let n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}};pc.create=e=>new pc({checks:[],coerce:e?.coerce||!1,typeName:L.ZodDate,...ye(e)});var mc=class extends be{static{s(this,"ZodSymbol")}_parse(t){if(this._getType(t)!==K.symbol){let o=this._getOrReturnCtx(t);return J(o,{code:z.invalid_type,expected:K.symbol,received:o.parsedType}),ue}return Lt(t.data)}};mc.create=e=>new mc({typeName:L.ZodSymbol,...ye(e)});var qa=class extends be{static{s(this,"ZodUndefined")}_parse(t){if(this._getType(t)!==K.undefined){let o=this._getOrReturnCtx(t);return J(o,{code:z.invalid_type,expected:K.undefined,received:o.parsedType}),ue}return Lt(t.data)}};qa.create=e=>new qa({typeName:L.ZodUndefined,...ye(e)});var Fa=class extends be{static{s(this,"ZodNull")}_parse(t){if(this._getType(t)!==K.null){let o=this._getOrReturnCtx(t);return J(o,{code:z.invalid_type,expected:K.null,received:o.parsedType}),ue}return Lt(t.data)}};Fa.create=e=>new Fa({typeName:L.ZodNull,...ye(e)});var fc=class extends be{static{s(this,"ZodAny")}constructor(){super(...arguments),this._any=!0}_parse(t){return Lt(t.data)}};fc.create=e=>new fc({typeName:L.ZodAny,...ye(e)});var no=class extends be{static{s(this,"ZodUnknown")}constructor(){super(...arguments),this._unknown=!0}_parse(t){return Lt(t.data)}};no.create=e=>new no({typeName:L.ZodUnknown,...ye(e)});var Zr=class extends be{static{s(this,"ZodNever")}_parse(t){let n=this._getOrReturnCtx(t);return J(n,{code:z.invalid_type,expected:K.never,received:n.parsedType}),ue}};Zr.create=e=>new Zr({typeName:L.ZodNever,...ye(e)});var hc=class extends be{static{s(this,"ZodVoid")}_parse(t){if(this._getType(t)!==K.undefined){let o=this._getOrReturnCtx(t);return J(o,{code:z.invalid_type,expected:K.void,received:o.parsedType}),ue}return Lt(t.data)}};hc.create=e=>new hc({typeName:L.ZodVoid,...ye(e)});var oo=class e extends be{static{s(this,"ZodArray")}_parse(t){let{ctx:n,status:o}=this._processInputParams(t),r=this._def;if(n.parsedType!==K.array)return J(n,{code:z.invalid_type,expected:K.array,received:n.parsedType}),ue;if(r.exactLength!==null){let c=n.data.length>r.exactLength.value,u=n.data.length<r.exactLength.value;(c||u)&&(J(n,{code:c?z.too_big:z.too_small,minimum:u?r.exactLength.value:void 0,maximum:c?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),o.dirty())}if(r.minLength!==null&&n.data.length<r.minLength.value&&(J(n,{code:z.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),o.dirty()),r.maxLength!==null&&n.data.length>r.maxLength.value&&(J(n,{code:z.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),o.dirty()),n.common.async)return Promise.all([...n.data].map((c,u)=>r.type._parseAsync(new mr(n,c,n.path,u)))).then(c=>$t.mergeArray(o,c));let a=[...n.data].map((c,u)=>r.type._parseSync(new mr(n,c,n.path,u)));return $t.mergeArray(o,a)}get element(){return this._def.type}min(t,n){return new e({...this._def,minLength:{value:t,message:ee.toString(n)}})}max(t,n){return new e({...this._def,maxLength:{value:t,message:ee.toString(n)}})}length(t,n){return new e({...this._def,exactLength:{value:t,message:ee.toString(n)}})}nonempty(t){return this.min(1,t)}};oo.create=(e,t)=>new oo({type:e,minLength:null,maxLength:null,exactLength:null,typeName:L.ZodArray,...ye(t)});function Ua(e){if(e instanceof nr){let t={};for(let n in e.shape){let o=e.shape[n];t[n]=Ar.create(Ua(o))}return new nr({...e._def,shape:s(()=>t,"shape")})}else return e instanceof oo?new oo({...e._def,type:Ua(e.element)}):e instanceof Ar?Ar.create(Ua(e.unwrap())):e instanceof Tn?Tn.create(Ua(e.unwrap())):e instanceof In?In.create(e.items.map(t=>Ua(t))):e}s(Ua,"deepPartialify");var nr=class e extends be{static{s(this,"ZodObject")}constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let t=this._def.shape(),n=Ie.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==K.object){let d=this._getOrReturnCtx(t);return J(d,{code:z.invalid_type,expected:K.object,received:d.parsedType}),ue}let{status:o,ctx:r}=this._processInputParams(t),{shape:a,keys:c}=this._getCached(),u=[];if(!(this._def.catchall instanceof Zr&&this._def.unknownKeys==="strip"))for(let d in r.data)c.includes(d)||u.push(d);let l=[];for(let d of c){let p=a[d],m=r.data[d];l.push({key:{status:"valid",value:d},value:p._parse(new mr(r,m,r.path,d)),alwaysSet:d in r.data})}if(this._def.catchall instanceof Zr){let d=this._def.unknownKeys;if(d==="passthrough")for(let p of u)l.push({key:{status:"valid",value:p},value:{status:"valid",value:r.data[p]}});else if(d==="strict")u.length>0&&(J(r,{code:z.unrecognized_keys,keys:u}),o.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let d=this._def.catchall;for(let p of u){let m=r.data[p];l.push({key:{status:"valid",value:p},value:d._parse(new mr(r,m,r.path,p)),alwaysSet:p in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let d=[];for(let p of l){let m=await p.key,f=await p.value;d.push({key:m,value:f,alwaysSet:p.alwaysSet})}return d}).then(d=>$t.mergeObjectSync(o,d)):$t.mergeObjectSync(o,l)}get shape(){return this._def.shape()}strict(t){return ee.errToObj,new e({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:s((n,o)=>{let r=this._def.errorMap?.(n,o).message??o.defaultError;return n.code==="unrecognized_keys"?{message:ee.errToObj(t).message??r}:{message:r}},"errorMap")}:{}})}strip(){return new e({...this._def,unknownKeys:"strip"})}passthrough(){return new e({...this._def,unknownKeys:"passthrough"})}extend(t){return new e({...this._def,shape:s(()=>({...this._def.shape(),...t}),"shape")})}merge(t){return new e({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:s(()=>({...this._def.shape(),...t._def.shape()}),"shape"),typeName:L.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new e({...this._def,catchall:t})}pick(t){let n={};for(let o of Ie.objectKeys(t))t[o]&&this.shape[o]&&(n[o]=this.shape[o]);return new e({...this._def,shape:s(()=>n,"shape")})}omit(t){let n={};for(let o of Ie.objectKeys(this.shape))t[o]||(n[o]=this.shape[o]);return new e({...this._def,shape:s(()=>n,"shape")})}deepPartial(){return Ua(this)}partial(t){let n={};for(let o of Ie.objectKeys(this.shape)){let r=this.shape[o];t&&!t[o]?n[o]=r:n[o]=r.optional()}return new e({...this._def,shape:s(()=>n,"shape")})}required(t){let n={};for(let o of Ie.objectKeys(this.shape))if(t&&!t[o])n[o]=this.shape[o];else{let a=this.shape[o];for(;a instanceof Ar;)a=a._def.innerType;n[o]=a}return new e({...this._def,shape:s(()=>n,"shape")})}keyof(){return Ck(Ie.objectKeys(this.shape))}};nr.create=(e,t)=>new nr({shape:s(()=>e,"shape"),unknownKeys:"strip",catchall:Zr.create(),typeName:L.ZodObject,...ye(t)});nr.strictCreate=(e,t)=>new nr({shape:s(()=>e,"shape"),unknownKeys:"strict",catchall:Zr.create(),typeName:L.ZodObject,...ye(t)});nr.lazycreate=(e,t)=>new nr({shape:e,unknownKeys:"strip",catchall:Zr.create(),typeName:L.ZodObject,...ye(t)});var Ba=class extends be{static{s(this,"ZodUnion")}_parse(t){let{ctx:n}=this._processInputParams(t),o=this._def.options;function r(a){for(let u of a)if(u.result.status==="valid")return u.result;for(let u of a)if(u.result.status==="dirty")return n.common.issues.push(...u.ctx.common.issues),u.result;let c=a.map(u=>new rr(u.ctx.common.issues));return J(n,{code:z.invalid_union,unionErrors:c}),ue}if(s(r,"handleResults"),n.common.async)return Promise.all(o.map(async a=>{let c={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:c}),ctx:c}})).then(r);{let a,c=[];for(let l of o){let d={...n,common:{...n.common,issues:[]},parent:null},p=l._parseSync({data:n.data,path:n.path,parent:d});if(p.status==="valid")return p;p.status==="dirty"&&!a&&(a={result:p,ctx:d}),d.common.issues.length&&c.push(d.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;let u=c.map(l=>new rr(l));return J(n,{code:z.invalid_union,unionErrors:u}),ue}}get options(){return this._def.options}};Ba.create=(e,t)=>new Ba({options:e,typeName:L.ZodUnion,...ye(t)});var Sn=s(e=>e instanceof Va?Sn(e.schema):e instanceof $r?Sn(e.innerType()):e instanceof Ha?[e.value]:e instanceof Ga?e.options:e instanceof Ja?Ie.objectValues(e.enum):e instanceof Ka?Sn(e._def.innerType):e instanceof qa?[void 0]:e instanceof Fa?[null]:e instanceof Ar?[void 0,...Sn(e.unwrap())]:e instanceof Tn?[null,...Sn(e.unwrap())]:e instanceof bd||e instanceof Xa?Sn(e.unwrap()):e instanceof Wa?Sn(e._def.innerType):[],"getDiscriminator"),O_=class e extends be{static{s(this,"ZodDiscriminatedUnion")}_parse(t){let{ctx:n}=this._processInputParams(t);if(n.parsedType!==K.object)return J(n,{code:z.invalid_type,expected:K.object,received:n.parsedType}),ue;let o=this.discriminator,r=n.data[o],a=this.optionsMap.get(r);return a?n.common.async?a._parseAsync({data:n.data,path:n.path,parent:n}):a._parseSync({data:n.data,path:n.path,parent:n}):(J(n,{code:z.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[o]}),ue)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,o){let r=new Map;for(let a of n){let c=Sn(a.shape[t]);if(!c.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(let u of c){if(r.has(u))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(u)}`);r.set(u,a)}}return new e({typeName:L.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:r,...ye(o)})}};function C_(e,t){let n=wn(e),o=wn(t);if(e===t)return{valid:!0,data:e};if(n===K.object&&o===K.object){let r=Ie.objectKeys(t),a=Ie.objectKeys(e).filter(u=>r.indexOf(u)!==-1),c={...e,...t};for(let u of a){let l=C_(e[u],t[u]);if(!l.valid)return{valid:!1};c[u]=l.data}return{valid:!0,data:c}}else if(n===K.array&&o===K.array){if(e.length!==t.length)return{valid:!1};let r=[];for(let a=0;a<e.length;a++){let c=e[a],u=t[a],l=C_(c,u);if(!l.valid)return{valid:!1};r.push(l.data)}return{valid:!0,data:r}}else return n===K.date&&o===K.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}s(C_,"mergeValues");var Za=class extends be{static{s(this,"ZodIntersection")}_parse(t){let{status:n,ctx:o}=this._processInputParams(t),r=s((a,c)=>{if(A_(a)||A_(c))return ue;let u=C_(a.value,c.value);return u.valid?(($_(a)||$_(c))&&n.dirty(),{status:n.value,value:u.data}):(J(o,{code:z.invalid_intersection_types}),ue)},"handleParsed");return o.common.async?Promise.all([this._def.left._parseAsync({data:o.data,path:o.path,parent:o}),this._def.right._parseAsync({data:o.data,path:o.path,parent:o})]).then(([a,c])=>r(a,c)):r(this._def.left._parseSync({data:o.data,path:o.path,parent:o}),this._def.right._parseSync({data:o.data,path:o.path,parent:o}))}};Za.create=(e,t,n)=>new Za({left:e,right:t,typeName:L.ZodIntersection,...ye(n)});var In=class e extends be{static{s(this,"ZodTuple")}_parse(t){let{status:n,ctx:o}=this._processInputParams(t);if(o.parsedType!==K.array)return J(o,{code:z.invalid_type,expected:K.array,received:o.parsedType}),ue;if(o.data.length<this._def.items.length)return J(o,{code:z.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ue;!this._def.rest&&o.data.length>this._def.items.length&&(J(o,{code:z.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());let a=[...o.data].map((c,u)=>{let l=this._def.items[u]||this._def.rest;return l?l._parse(new mr(o,c,o.path,u)):null}).filter(c=>!!c);return o.common.async?Promise.all(a).then(c=>$t.mergeArray(n,c)):$t.mergeArray(n,a)}get items(){return this._def.items}rest(t){return new e({...this._def,rest:t})}};In.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new In({items:e,typeName:L.ZodTuple,rest:null,...ye(t)})};var N_=class e extends be{static{s(this,"ZodRecord")}get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:n,ctx:o}=this._processInputParams(t);if(o.parsedType!==K.object)return J(o,{code:z.invalid_type,expected:K.object,received:o.parsedType}),ue;let r=[],a=this._def.keyType,c=this._def.valueType;for(let u in o.data)r.push({key:a._parse(new mr(o,u,o.path,u)),value:c._parse(new mr(o,o.data[u],o.path,u)),alwaysSet:u in o.data});return o.common.async?$t.mergeObjectAsync(n,r):$t.mergeObjectSync(n,r)}get element(){return this._def.valueType}static create(t,n,o){return n instanceof be?new e({keyType:t,valueType:n,typeName:L.ZodRecord,...ye(o)}):new e({keyType:La.create(),valueType:t,typeName:L.ZodRecord,...ye(n)})}},gc=class extends be{static{s(this,"ZodMap")}get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:n,ctx:o}=this._processInputParams(t);if(o.parsedType!==K.map)return J(o,{code:z.invalid_type,expected:K.map,received:o.parsedType}),ue;let r=this._def.keyType,a=this._def.valueType,c=[...o.data.entries()].map(([u,l],d)=>({key:r._parse(new mr(o,u,o.path,[d,"key"])),value:a._parse(new mr(o,l,o.path,[d,"value"]))}));if(o.common.async){let u=new Map;return Promise.resolve().then(async()=>{for(let l of c){let d=await l.key,p=await l.value;if(d.status==="aborted"||p.status==="aborted")return ue;(d.status==="dirty"||p.status==="dirty")&&n.dirty(),u.set(d.value,p.value)}return{status:n.value,value:u}})}else{let u=new Map;for(let l of c){let d=l.key,p=l.value;if(d.status==="aborted"||p.status==="aborted")return ue;(d.status==="dirty"||p.status==="dirty")&&n.dirty(),u.set(d.value,p.value)}return{status:n.value,value:u}}}};gc.create=(e,t,n)=>new gc({valueType:t,keyType:e,typeName:L.ZodMap,...ye(n)});var yc=class e extends be{static{s(this,"ZodSet")}_parse(t){let{status:n,ctx:o}=this._processInputParams(t);if(o.parsedType!==K.set)return J(o,{code:z.invalid_type,expected:K.set,received:o.parsedType}),ue;let r=this._def;r.minSize!==null&&o.data.size<r.minSize.value&&(J(o,{code:z.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),n.dirty()),r.maxSize!==null&&o.data.size>r.maxSize.value&&(J(o,{code:z.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),n.dirty());let a=this._def.valueType;function c(l){let d=new Set;for(let p of l){if(p.status==="aborted")return ue;p.status==="dirty"&&n.dirty(),d.add(p.value)}return{status:n.value,value:d}}s(c,"finalizeSet");let u=[...o.data.values()].map((l,d)=>a._parse(new mr(o,l,o.path,d)));return o.common.async?Promise.all(u).then(l=>c(l)):c(u)}min(t,n){return new e({...this._def,minSize:{value:t,message:ee.toString(n)}})}max(t,n){return new e({...this._def,maxSize:{value:t,message:ee.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}};yc.create=(e,t)=>new yc({valueType:e,minSize:null,maxSize:null,typeName:L.ZodSet,...ye(t)});var j_=class e extends be{static{s(this,"ZodFunction")}constructor(){super(...arguments),this.validate=this.implement}_parse(t){let{ctx:n}=this._processInputParams(t);if(n.parsedType!==K.function)return J(n,{code:z.invalid_type,expected:K.function,received:n.parsedType}),ue;function o(u,l){return _d({data:u,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,sc(),ro].filter(d=>!!d),issueData:{code:z.invalid_arguments,argumentsError:l}})}s(o,"makeArgsIssue");function r(u,l){return _d({data:u,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,sc(),ro].filter(d=>!!d),issueData:{code:z.invalid_return_type,returnTypeError:l}})}s(r,"makeReturnsIssue");let a={errorMap:n.common.contextualErrorMap},c=n.data;if(this._def.returns instanceof Ro){let u=this;return Lt(async function(...l){let d=new rr([]),p=await u._def.args.parseAsync(l,a).catch(y=>{throw d.addIssue(o(l,y)),d}),m=await Reflect.apply(c,this,p);return await u._def.returns._def.type.parseAsync(m,a).catch(y=>{throw d.addIssue(r(m,y)),d})})}else{let u=this;return Lt(function(...l){let d=u._def.args.safeParse(l,a);if(!d.success)throw new rr([o(l,d.error)]);let p=Reflect.apply(c,this,d.data),m=u._def.returns.safeParse(p,a);if(!m.success)throw new rr([r(p,m.error)]);return m.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new e({...this._def,args:In.create(t).rest(no.create())})}returns(t){return new e({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,o){return new e({args:t||In.create([]).rest(no.create()),returns:n||no.create(),typeName:L.ZodFunction,...ye(o)})}},Va=class extends be{static{s(this,"ZodLazy")}get schema(){return this._def.getter()}_parse(t){let{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}};Va.create=(e,t)=>new Va({getter:e,typeName:L.ZodLazy,...ye(t)});var Ha=class extends be{static{s(this,"ZodLiteral")}_parse(t){if(t.data!==this._def.value){let n=this._getOrReturnCtx(t);return J(n,{received:n.data,code:z.invalid_literal,expected:this._def.value}),ue}return{status:"valid",value:t.data}}get value(){return this._def.value}};Ha.create=(e,t)=>new Ha({value:e,typeName:L.ZodLiteral,...ye(t)});function Ck(e,t){return new Ga({values:e,typeName:L.ZodEnum,...ye(t)})}s(Ck,"createZodEnum");var Ga=class e extends be{static{s(this,"ZodEnum")}_parse(t){if(typeof t.data!="string"){let n=this._getOrReturnCtx(t),o=this._def.values;return J(n,{expected:Ie.joinValues(o),received:n.parsedType,code:z.invalid_type}),ue}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){let n=this._getOrReturnCtx(t),o=this._def.values;return J(n,{received:n.data,code:z.invalid_enum_value,options:o}),ue}return Lt(t.data)}get options(){return this._def.values}get enum(){let t={};for(let n of this._def.values)t[n]=n;return t}get Values(){let t={};for(let n of this._def.values)t[n]=n;return t}get Enum(){let t={};for(let n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return e.create(t,{...this._def,...n})}exclude(t,n=this._def){return e.create(this.options.filter(o=>!t.includes(o)),{...this._def,...n})}};Ga.create=Ck;var Ja=class extends be{static{s(this,"ZodNativeEnum")}_parse(t){let n=Ie.getValidEnumValues(this._def.values),o=this._getOrReturnCtx(t);if(o.parsedType!==K.string&&o.parsedType!==K.number){let r=Ie.objectValues(n);return J(o,{expected:Ie.joinValues(r),received:o.parsedType,code:z.invalid_type}),ue}if(this._cache||(this._cache=new Set(Ie.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){let r=Ie.objectValues(n);return J(o,{received:o.data,code:z.invalid_enum_value,options:r}),ue}return Lt(t.data)}get enum(){return this._def.values}};Ja.create=(e,t)=>new Ja({values:e,typeName:L.ZodNativeEnum,...ye(t)});var Ro=class extends be{static{s(this,"ZodPromise")}unwrap(){return this._def.type}_parse(t){let{ctx:n}=this._processInputParams(t);if(n.parsedType!==K.promise&&n.common.async===!1)return J(n,{code:z.invalid_type,expected:K.promise,received:n.parsedType}),ue;let o=n.parsedType===K.promise?n.data:Promise.resolve(n.data);return Lt(o.then(r=>this._def.type.parseAsync(r,{path:n.path,errorMap:n.common.contextualErrorMap})))}};Ro.create=(e,t)=>new Ro({type:e,typeName:L.ZodPromise,...ye(t)});var $r=class extends be{static{s(this,"ZodEffects")}innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===L.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){let{status:n,ctx:o}=this._processInputParams(t),r=this._def.effect||null,a={addIssue:s(c=>{J(o,c),c.fatal?n.abort():n.dirty()},"addIssue"),get path(){return o.path}};if(a.addIssue=a.addIssue.bind(a),r.type==="preprocess"){let c=r.transform(o.data,a);if(o.common.async)return Promise.resolve(c).then(async u=>{if(n.value==="aborted")return ue;let l=await this._def.schema._parseAsync({data:u,path:o.path,parent:o});return l.status==="aborted"?ue:l.status==="dirty"?Ma(l.value):n.value==="dirty"?Ma(l.value):l});{if(n.value==="aborted")return ue;let u=this._def.schema._parseSync({data:c,path:o.path,parent:o});return u.status==="aborted"?ue:u.status==="dirty"?Ma(u.value):n.value==="dirty"?Ma(u.value):u}}if(r.type==="refinement"){let c=s(u=>{let l=r.refinement(u,a);if(o.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u},"executeRefinement");if(o.common.async===!1){let u=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});return u.status==="aborted"?ue:(u.status==="dirty"&&n.dirty(),c(u.value),{status:n.value,value:u.value})}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(u=>u.status==="aborted"?ue:(u.status==="dirty"&&n.dirty(),c(u.value).then(()=>({status:n.value,value:u.value}))))}if(r.type==="transform")if(o.common.async===!1){let c=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});if(!$o(c))return ue;let u=r.transform(c.value,a);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:u}}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(c=>$o(c)?Promise.resolve(r.transform(c.value,a)).then(u=>({status:n.value,value:u})):ue);Ie.assertNever(r)}};$r.create=(e,t,n)=>new $r({schema:e,typeName:L.ZodEffects,effect:t,...ye(n)});$r.createWithPreprocess=(e,t,n)=>new $r({schema:t,effect:{type:"preprocess",transform:e},typeName:L.ZodEffects,...ye(n)});var Ar=class extends be{static{s(this,"ZodOptional")}_parse(t){return this._getType(t)===K.undefined?Lt(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};Ar.create=(e,t)=>new Ar({innerType:e,typeName:L.ZodOptional,...ye(t)});var Tn=class extends be{static{s(this,"ZodNullable")}_parse(t){return this._getType(t)===K.null?Lt(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};Tn.create=(e,t)=>new Tn({innerType:e,typeName:L.ZodNullable,...ye(t)});var Ka=class extends be{static{s(this,"ZodDefault")}_parse(t){let{ctx:n}=this._processInputParams(t),o=n.data;return n.parsedType===K.undefined&&(o=this._def.defaultValue()),this._def.innerType._parse({data:o,path:n.path,parent:n})}removeDefault(){return this._def.innerType}};Ka.create=(e,t)=>new Ka({innerType:e,typeName:L.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ye(t)});var Wa=class extends be{static{s(this,"ZodCatch")}_parse(t){let{ctx:n}=this._processInputParams(t),o={...n,common:{...n.common,issues:[]}},r=this._def.innerType._parse({data:o.data,path:o.path,parent:{...o}});return cc(r)?r.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new rr(o.common.issues)},input:o.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new rr(o.common.issues)},input:o.data})}}removeCatch(){return this._def.innerType}};Wa.create=(e,t)=>new Wa({innerType:e,typeName:L.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ye(t)});var vc=class extends be{static{s(this,"ZodNaN")}_parse(t){if(this._getType(t)!==K.nan){let o=this._getOrReturnCtx(t);return J(o,{code:z.invalid_type,expected:K.nan,received:o.parsedType}),ue}return{status:"valid",value:t.data}}};vc.create=e=>new vc({typeName:L.ZodNaN,...ye(e)});var Vce=Symbol("zod_brand"),bd=class extends be{static{s(this,"ZodBranded")}_parse(t){let{ctx:n}=this._processInputParams(t),o=n.data;return this._def.type._parse({data:o,path:n.path,parent:n})}unwrap(){return this._def.type}},xd=class e extends be{static{s(this,"ZodPipeline")}_parse(t){let{status:n,ctx:o}=this._processInputParams(t);if(o.common.async)return s(async()=>{let a=await this._def.in._parseAsync({data:o.data,path:o.path,parent:o});return a.status==="aborted"?ue:a.status==="dirty"?(n.dirty(),Ma(a.value)):this._def.out._parseAsync({data:a.value,path:o.path,parent:o})},"handleAsync")();{let r=this._def.in._parseSync({data:o.data,path:o.path,parent:o});return r.status==="aborted"?ue:r.status==="dirty"?(n.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:o.path,parent:o})}}static create(t,n){return new e({in:t,out:n,typeName:L.ZodPipeline})}},Xa=class extends be{static{s(this,"ZodReadonly")}_parse(t){let n=this._def.innerType._parse(t),o=s(r=>($o(r)&&(r.value=Object.freeze(r.value)),r),"freeze");return cc(n)?n.then(r=>o(r)):o(n)}unwrap(){return this._def.innerType}};Xa.create=(e,t)=>new Xa({innerType:e,typeName:L.ZodReadonly,...ye(t)});var Hce={object:nr.lazycreate},L;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(L||(L={}));var Gce=La.create,Jce=uc.create,Kce=vc.create,Wce=lc.create,Xce=dc.create,Yce=pc.create,Qce=mc.create,eue=qa.create,tue=Fa.create,rue=fc.create,nue=no.create,oue=Zr.create,aue=hc.create,iue=oo.create,sue=nr.create,cue=nr.strictCreate,uue=Ba.create,lue=O_.create,due=Za.create,pue=In.create,mue=N_.create,fue=gc.create,hue=yc.create,gue=j_.create,yue=Va.create,vue=Ha.create,_ue=Ga.create,bue=Ja.create,xue=Ro.create,wue=$r.create,Sue=Ar.create,Iue=Tn.create,Tue=$r.createWithPreprocess,Eue=xd.create;function Ge(...e){return e.reduce((t,n)=>({...t,...n??{}}),{})}s(Ge,"combineHeaders");var zk=class{static{s(this,"DelayedPromise")}constructor(){this.status={type:"pending"},this._resolve=void 0,this._reject=void 0}get promise(){return this._promise?this._promise:(this._promise=new Promise((e,t)=>{this.status.type==="resolved"?e(this.status.value):this.status.type==="rejected"&&t(this.status.error),this._resolve=e,this._reject=t}),this._promise)}resolve(e){var t;this.status={type:"resolved",value:e},this._promise&&((t=this._resolve)==null||t.call(this,e))}reject(e){var t;this.status={type:"rejected",error:e},this._promise&&((t=this._reject)==null||t.call(this,e))}isResolved(){return this.status.type==="resolved"}isRejected(){return this.status.type==="rejected"}isPending(){return this.status.type==="pending"}};function _c(e){return Object.fromEntries([...e.headers])}s(_c,"extractResponseHeaders");var wF=s(({prefix:e,size:t=16,alphabet:n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:o="-"}={})=>{let r=s(()=>{let a=n.length,c=new Array(t);for(let u=0;u<t;u++)c[u]=n[Math.random()*a|0];return c.join("")},"generator");if(e==null)return r;if(n.includes(o))throw new fd({argument:"separator",message:`The separator "${o}" must not be part of the alphabet "${n}".`});return()=>`${e}${o}${r()}`},"createIdGenerator"),ht=wF();function M_(e){return(e instanceof Error||e instanceof DOMException)&&(e.name==="AbortError"||e.name==="ResponseAborted"||e.name==="TimeoutError")}s(M_,"isAbortError");var SF=["fetch failed","failed to fetch"];function IF({error:e,url:t,requestBodyValues:n}){if(M_(e))return e;if(e instanceof TypeError&&SF.includes(e.message.toLowerCase())){let o=e.cause;if(o!=null)return new bt({message:`Cannot connect to API: ${o.message}`,cause:o,url:t,requestBodyValues:n,isRetryable:!0})}return e}s(IF,"handleFetchError");function TF(e=globalThis){var t,n,o;return e.window?"runtime/browser":(t=e.navigator)!=null&&t.userAgent?`runtime/${e.navigator.userAgent.toLowerCase()}`:(o=(n=e.process)==null?void 0:n.versions)!=null&&o.node?`runtime/node.js/${e.process.version.substring(0)}`:e.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}s(TF,"getRuntimeEnvironmentUserAgent");function EF(e){if(e==null)return{};let t={};if(e instanceof Headers)e.forEach((n,o)=>{t[o.toLowerCase()]=n});else{Array.isArray(e)||(e=Object.entries(e));for(let[n,o]of e)o!=null&&(t[n.toLowerCase()]=o)}return t}s(EF,"normalizeHeaders");function Oo(e,...t){let n=new Headers(EF(e)),o=n.get("user-agent")||"";return n.set("user-agent",[o,...t].filter(Boolean).join(" ")),Object.fromEntries(n.entries())}s(Oo,"withUserAgentSuffix");var kF="3.0.18";function Ya({apiKey:e,environmentVariableName:t,apiKeyParameterName:n="apiKey",description:o}){if(typeof e=="string")return e;if(e!=null)throw new ic({message:`${o} API key must be a string.`});if(typeof process>"u")throw new ic({message:`${o} API key is missing. Pass it using the '${n}' parameter. Environment variables is not supported in this environment.`});if(e=process.env[t],e==null)throw new ic({message:`${o} API key is missing. Pass it using the '${n}' parameter or the ${t} environment variable.`});if(typeof e!="string")throw new ic({message:`${o} API key must be a string. The value of the ${t} environment variable is not a string.`});return e}s(Ya,"loadApiKey");function Sd({settingValue:e,environmentVariableName:t}){if(typeof e=="string")return e;if(!(e!=null||typeof process>"u")&&(e=process.env[t],!(e==null||typeof e!="string")))return e}s(Sd,"loadOptionalSetting");function Mk(e){var t;let[n,o=""]=e.toLowerCase().split("/");return(t={mpeg:"mp3","x-wav":"wav",opus:"ogg",mp4:"m4a","x-m4a":"m4a"}[o])!=null?t:o}s(Mk,"mediaTypeToExtension");var PF=/"__proto__"\s*:/,AF=/"constructor"\s*:/;function Nk(e){let t=JSON.parse(e);return t===null||typeof t!="object"||PF.test(e)===!1&&AF.test(e)===!1?t:$F(t)}s(Nk,"_parse");function $F(e){let t=[e];for(;t.length;){let n=t;t=[];for(let o of n){if(Object.prototype.hasOwnProperty.call(o,"__proto__"))throw new SyntaxError("Object contains forbidden prototype property");if(Object.prototype.hasOwnProperty.call(o,"constructor")&&Object.prototype.hasOwnProperty.call(o.constructor,"prototype"))throw new SyntaxError("Object contains forbidden prototype property");for(let r in o){let a=o[r];a&&typeof a=="object"&&t.push(a)}}}return e}s($F,"filter");function L_(e){let{stackTraceLimit:t}=Error;try{Error.stackTraceLimit=0}catch{return Nk(e)}try{return Nk(e)}finally{Error.stackTraceLimit=t}}s(L_,"secureJsonParse");var wd=Symbol.for("vercel.ai.validator");function RF(e){return{[wd]:!0,validate:e}}s(RF,"validator");function OF(e){return typeof e=="object"&&e!==null&&wd in e&&e[wd]===!0&&"validate"in e}s(OF,"isValidator");function Be(e){let t;return()=>(t==null&&(t=e()),t)}s(Be,"lazyValidator");function CF(e){return OF(e)?e:typeof e=="function"?e():NF(e)}s(CF,"asValidator");function NF(e){return RF(async t=>{let n=await e["~standard"].validate(t);return n.issues==null?{success:!0,value:n.value}:{success:!1,error:new to({value:t,cause:n.issues})}})}s(NF,"standardSchemaValidator");async function gt({value:e,schema:t}){let n=await q_({value:e,schema:t});if(!n.success)throw to.wrap({value:e,cause:n.error});return n.value}s(gt,"validateTypes");async function q_({value:e,schema:t}){let n=CF(t);try{if(n.validate==null)return{success:!0,value:e,rawValue:e};let o=await n.validate(e);return o.success?{success:!0,value:o.value,rawValue:e}:{success:!1,error:to.wrap({value:e,cause:o.error}),rawValue:e}}catch(o){return{success:!1,error:to.wrap({value:e,cause:o}),rawValue:e}}}s(q_,"safeValidateTypes");async function jF({text:e,schema:t}){try{let n=L_(e);return t==null?n:gt({value:n,schema:t})}catch(n){throw ac.isInstance(n)||to.isInstance(n)?n:new ac({text:e,cause:n})}}s(jF,"parseJSON");async function Uk({text:e,schema:t}){try{let n=L_(e);return t==null?{success:!0,value:n,rawValue:n}:await q_({value:n,schema:t})}catch(n){return{success:!1,error:ac.isInstance(n)?n:new ac({text:e,cause:n}),rawValue:void 0}}}s(Uk,"safeParseJSON");function F_(e){try{return L_(e),!0}catch{return!1}}s(F_,"isParsableJson");function DF({stream:e,schema:t}){return e.pipeThrough(new TextDecoderStream).pipeThrough(new vd).pipeThrough(new TransformStream({async transform({data:n},o){n!=="[DONE]"&&o.enqueue(await Uk({text:n,schema:t}))}}))}s(DF,"parseJsonEventStream");async function Ze({provider:e,providerOptions:t,schema:n}){if(t?.[e]==null)return;let o=await q_({value:t[e],schema:n});if(!o.success)throw new fd({argument:"providerOptions",message:`invalid ${e} provider options`,cause:o.error});return o.value}s(Ze,"parseProviderOptions");var zF=s(()=>globalThis.fetch,"getOriginalFetch2"),Je=s(async({url:e,headers:t,body:n,failedResponseHandler:o,successfulResponseHandler:r,abortSignal:a,fetch:c})=>qk({url:e,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(n),values:n},failedResponseHandler:o,successfulResponseHandler:r,abortSignal:a,fetch:c}),"postJsonToApi"),Lk=s(async({url:e,headers:t,formData:n,failedResponseHandler:o,successfulResponseHandler:r,abortSignal:a,fetch:c})=>qk({url:e,headers:t,body:{content:n,values:Object.fromEntries(n.entries())},failedResponseHandler:o,successfulResponseHandler:r,abortSignal:a,fetch:c}),"postFormDataToApi"),qk=s(async({url:e,headers:t={},body:n,successfulResponseHandler:o,failedResponseHandler:r,abortSignal:a,fetch:c=zF()})=>{try{let u=await c(e,{method:"POST",headers:Oo(t,`ai-sdk/provider-utils/${kF}`,TF()),body:n.content,signal:a}),l=_c(u);if(!u.ok){let d;try{d=await r({response:u,url:e,requestBodyValues:n.values})}catch(p){throw M_(p)||bt.isInstance(p)?p:new bt({message:"Failed to process error response",cause:p,statusCode:u.status,url:e,responseHeaders:l,requestBodyValues:n.values})}throw d.value}try{return await o({response:u,url:e,requestBodyValues:n.values})}catch(d){throw d instanceof Error&&(M_(d)||bt.isInstance(d))?d:new bt({message:"Failed to process successful response",cause:d,statusCode:u.status,url:e,responseHeaders:l,requestBodyValues:n.values})}}catch(u){throw IF({error:u,url:e,requestBodyValues:n.values})}},"postToApi");function Ke({id:e,name:t,inputSchema:n}){return({execute:o,outputSchema:r,toModelOutput:a,onInputStart:c,onInputDelta:u,onInputAvailable:l,...d})=>({type:"provider-defined",id:e,name:t,args:d,inputSchema:n,outputSchema:r,execute:o,toModelOutput:a,onInputStart:c,onInputDelta:u,onInputAvailable:l})}s(Ke,"createProviderDefinedToolFactory");function ot({id:e,name:t,inputSchema:n,outputSchema:o}){return({execute:r,toModelOutput:a,onInputStart:c,onInputDelta:u,onInputAvailable:l,...d})=>({type:"provider-defined",id:e,name:t,args:d,inputSchema:n,outputSchema:o,execute:r,toModelOutput:a,onInputStart:c,onInputDelta:u,onInputAvailable:l})}s(ot,"createProviderDefinedToolFactoryWithOutputSchema");async function Vr(e){return typeof e=="function"&&(e=e()),Promise.resolve(e)}s(Vr,"resolve");var Qa=s(({errorSchema:e,errorToMessage:t,isRetryable:n})=>async({response:o,url:r,requestBodyValues:a})=>{let c=await o.text(),u=_c(o);if(c.trim()==="")return{responseHeaders:u,value:new bt({message:o.statusText,url:r,requestBodyValues:a,statusCode:o.status,responseHeaders:u,responseBody:c,isRetryable:n?.(o)})};try{let l=await jF({text:c,schema:e});return{responseHeaders:u,value:new bt({message:t(l),url:r,requestBodyValues:a,statusCode:o.status,responseHeaders:u,responseBody:c,data:l,isRetryable:n?.(o,l)})}}catch{return{responseHeaders:u,value:new bt({message:o.statusText,url:r,requestBodyValues:a,statusCode:o.status,responseHeaders:u,responseBody:c,isRetryable:n?.(o)})}}},"createJsonErrorResponseHandler"),Hr=s(e=>async({response:t})=>{let n=_c(t);if(t.body==null)throw new YE({});return{responseHeaders:n,value:DF({stream:t.body,schema:e})}},"createEventSourceResponseHandler");var mt=s(e=>async({response:t,url:n,requestBodyValues:o})=>{let r=await t.text(),a=await Uk({text:r,schema:e}),c=_c(t);if(!a.success)throw new bt({message:"Invalid JSON response",cause:a.error,statusCode:t.status,responseHeaders:c,responseBody:r,url:n,requestBodyValues:o});return{responseHeaders:c,value:a.value,rawValue:a.rawValue}},"createJsonResponseHandler"),Fk=s(()=>async({response:e,url:t,requestBodyValues:n})=>{let o=_c(e);if(!e.body)throw new bt({message:"Response body is empty",url:t,requestBodyValues:n,statusCode:e.status,responseHeaders:o,responseBody:void 0});try{let r=await e.arrayBuffer();return{responseHeaders:o,value:new Uint8Array(r)}}catch(r){throw new bt({message:"Failed to read response as array buffer",url:t,requestBodyValues:n,statusCode:e.status,responseHeaders:o,responseBody:void 0,cause:r})}},"createBinaryResponseHandler");var MF=s((e,t)=>{let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);return[(e.length-n).toString(),...t.slice(n)].join("/")},"getRelativePath"),UF=Symbol("Let zodToJsonSchema decide on which parser to use"),jk={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},LF=s(e=>typeof e=="string"?{...jk,name:e}:{...jk,...e},"getDefaultOptions");function or(){return{}}s(or,"parseAnyDef");function qF(e,t){var n,o,r;let a={type:"array"};return(n=e.type)!=null&&n._def&&((r=(o=e.type)==null?void 0:o._def)==null?void 0:r.typeName)!==L.ZodAny&&(a.items=De(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&(a.minItems=e.minLength.value),e.maxLength&&(a.maxItems=e.maxLength.value),e.exactLength&&(a.minItems=e.exactLength.value,a.maxItems=e.exactLength.value),a}s(qF,"parseArrayDef");function FF(e){let t={type:"integer",format:"int64"};if(!e.checks)return t;for(let n of e.checks)switch(n.kind){case"min":n.inclusive?t.minimum=n.value:t.exclusiveMinimum=n.value;break;case"max":n.inclusive?t.maximum=n.value:t.exclusiveMaximum=n.value;break;case"multipleOf":t.multipleOf=n.value;break}return t}s(FF,"parseBigintDef");function BF(){return{type:"boolean"}}s(BF,"parseBooleanDef");function Bk(e,t){return De(e.type._def,t)}s(Bk,"parseBrandedDef");var ZF=s((e,t)=>De(e.innerType._def,t),"parseCatchDef");function Zk(e,t,n){let o=n??t.dateStrategy;if(Array.isArray(o))return{anyOf:o.map((r,a)=>Zk(e,t,r))};switch(o){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return VF(e)}}s(Zk,"parseDateDef");var VF=s(e=>{let t={type:"integer",format:"unix-time"};for(let n of e.checks)switch(n.kind){case"min":t.minimum=n.value;break;case"max":t.maximum=n.value;break}return t},"integerDateParser");function HF(e,t){return{...De(e.innerType._def,t),default:e.defaultValue()}}s(HF,"parseDefaultDef");function GF(e,t){return t.effectStrategy==="input"?De(e.schema._def,t):or()}s(GF,"parseEffectsDef");function JF(e){return{type:"string",enum:Array.from(e.values)}}s(JF,"parseEnumDef");var KF=s(e=>"type"in e&&e.type==="string"?!1:"allOf"in e,"isJsonSchema7AllOfType");function WF(e,t){let n=[De(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),De(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(r=>!!r),o=[];return n.forEach(r=>{if(KF(r))o.push(...r.allOf);else{let a=r;if("additionalProperties"in r&&r.additionalProperties===!1){let{additionalProperties:c,...u}=r;a=u}o.push(a)}}),o.length?{allOf:o}:void 0}s(WF,"parseIntersectionDef");function XF(e){let t=typeof e.value;return t!=="bigint"&&t!=="number"&&t!=="boolean"&&t!=="string"?{type:Array.isArray(e.value)?"array":"object"}:{type:t==="bigint"?"integer":t,const:e.value}}s(XF,"parseLiteralDef");var D_=void 0,Rr={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:s(()=>(D_===void 0&&(D_=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),D_),"emoji"),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function Vk(e,t){let n={type:"string"};if(e.checks)for(let o of e.checks)switch(o.kind){case"min":n.minLength=typeof n.minLength=="number"?Math.max(n.minLength,o.value):o.value;break;case"max":n.maxLength=typeof n.maxLength=="number"?Math.min(n.maxLength,o.value):o.value;break;case"email":switch(t.emailStrategy){case"format:email":Or(n,"email",o.message,t);break;case"format:idn-email":Or(n,"idn-email",o.message,t);break;case"pattern:zod":qt(n,Rr.email,o.message,t);break}break;case"url":Or(n,"uri",o.message,t);break;case"uuid":Or(n,"uuid",o.message,t);break;case"regex":qt(n,o.regex,o.message,t);break;case"cuid":qt(n,Rr.cuid,o.message,t);break;case"cuid2":qt(n,Rr.cuid2,o.message,t);break;case"startsWith":qt(n,RegExp(`^${z_(o.value,t)}`),o.message,t);break;case"endsWith":qt(n,RegExp(`${z_(o.value,t)}$`),o.message,t);break;case"datetime":Or(n,"date-time",o.message,t);break;case"date":Or(n,"date",o.message,t);break;case"time":Or(n,"time",o.message,t);break;case"duration":Or(n,"duration",o.message,t);break;case"length":n.minLength=typeof n.minLength=="number"?Math.max(n.minLength,o.value):o.value,n.maxLength=typeof n.maxLength=="number"?Math.min(n.maxLength,o.value):o.value;break;case"includes":{qt(n,RegExp(z_(o.value,t)),o.message,t);break}case"ip":{o.version!=="v6"&&Or(n,"ipv4",o.message,t),o.version!=="v4"&&Or(n,"ipv6",o.message,t);break}case"base64url":qt(n,Rr.base64url,o.message,t);break;case"jwt":qt(n,Rr.jwt,o.message,t);break;case"cidr":{o.version!=="v6"&&qt(n,Rr.ipv4Cidr,o.message,t),o.version!=="v4"&&qt(n,Rr.ipv6Cidr,o.message,t);break}case"emoji":qt(n,Rr.emoji(),o.message,t);break;case"ulid":{qt(n,Rr.ulid,o.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{Or(n,"binary",o.message,t);break}case"contentEncoding:base64":{n.contentEncoding="base64";break}case"pattern:zod":{qt(n,Rr.base64,o.message,t);break}}break}case"nanoid":qt(n,Rr.nanoid,o.message,t);case"toLowerCase":case"toUpperCase":case"trim":break;default:}return n}s(Vk,"parseStringDef");function z_(e,t){return t.patternStrategy==="escape"?QF(e):e}s(z_,"escapeLiteralCheckValue");var YF=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function QF(e){let t="";for(let n=0;n<e.length;n++)YF.has(e[n])||(t+="\\"),t+=e[n];return t}s(QF,"escapeNonAlphaNumeric");function Or(e,t,n,o){var r;e.format||(r=e.anyOf)!=null&&r.some(a=>a.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format}),delete e.format),e.anyOf.push({format:t,...n&&o.errorMessages&&{errorMessage:{format:n}}})):e.format=t}s(Or,"addFormat");function qt(e,t,n,o){var r;e.pattern||(r=e.allOf)!=null&&r.some(a=>a.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern}),delete e.pattern),e.allOf.push({pattern:Dk(t,o),...n&&o.errorMessages&&{errorMessage:{pattern:n}}})):e.pattern=Dk(t,o)}s(qt,"addPattern");function Dk(e,t){var n;if(!t.applyRegexFlags||!e.flags)return e.source;let o={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},r=o.i?e.source.toLowerCase():e.source,a="",c=!1,u=!1,l=!1;for(let d=0;d<r.length;d++){if(c){a+=r[d],c=!1;continue}if(o.i){if(u){if(r[d].match(/[a-z]/)){l?(a+=r[d],a+=`${r[d-2]}-${r[d]}`.toUpperCase(),l=!1):r[d+1]==="-"&&((n=r[d+2])!=null&&n.match(/[a-z]/))?(a+=r[d],l=!0):a+=`${r[d]}${r[d].toUpperCase()}`;continue}}else if(r[d].match(/[a-z]/)){a+=`[${r[d]}${r[d].toUpperCase()}]`;continue}}if(o.m){if(r[d]==="^"){a+=`(^|(?<=[\r
]))`;continue}else if(r[d]==="$"){a+=`($|(?=[\r
]))`;continue}}if(o.s&&r[d]==="."){a+=u?`${r[d]}\r
`:`[${r[d]}\r
]`;continue}a+=r[d],r[d]==="\\"?c=!0:u&&r[d]==="]"?u=!1:!u&&r[d]==="["&&(u=!0)}try{new RegExp(a)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return a}s(Dk,"stringifyRegExpWithFlags");function Hk(e,t){var n,o,r,a,c,u;let l={type:"object",additionalProperties:(n=De(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]}))!=null?n:t.allowedAdditionalProperties};if(((o=e.keyType)==null?void 0:o._def.typeName)===L.ZodString&&((r=e.keyType._def.checks)!=null&&r.length)){let{type:d,...p}=Vk(e.keyType._def,t);return{...l,propertyNames:p}}else{if(((a=e.keyType)==null?void 0:a._def.typeName)===L.ZodEnum)return{...l,propertyNames:{enum:e.keyType._def.values}};if(((c=e.keyType)==null?void 0:c._def.typeName)===L.ZodBranded&&e.keyType._def.type._def.typeName===L.ZodString&&((u=e.keyType._def.type._def.checks)!=null&&u.length)){let{type:d,...p}=Bk(e.keyType._def,t);return{...l,propertyNames:p}}}return l}s(Hk,"parseRecordDef");function e6(e,t){if(t.mapStrategy==="record")return Hk(e,t);let n=De(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||or(),o=De(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||or();return{type:"array",maxItems:125,items:{type:"array",items:[n,o],minItems:2,maxItems:2}}}s(e6,"parseMapDef");function t6(e){let t=e.values,o=Object.keys(e.values).filter(a=>typeof t[t[a]]!="number").map(a=>t[a]),r=Array.from(new Set(o.map(a=>typeof a)));return{type:r.length===1?r[0]==="string"?"string":"number":["string","number"],enum:o}}s(t6,"parseNativeEnumDef");function r6(){return{not:or()}}s(r6,"parseNeverDef");function n6(){return{type:"null"}}s(n6,"parseNullDef");var U_={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function o6(e,t){let n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every(o=>o._def.typeName in U_&&(!o._def.checks||!o._def.checks.length))){let o=n.reduce((r,a)=>{let c=U_[a._def.typeName];return c&&!r.includes(c)?[...r,c]:r},[]);return{type:o.length>1?o:o[0]}}else if(n.every(o=>o._def.typeName==="ZodLiteral"&&!o.description)){let o=n.reduce((r,a)=>{let c=typeof a._def.value;switch(c){case"string":case"number":case"boolean":return[...r,c];case"bigint":return[...r,"integer"];case"object":if(a._def.value===null)return[...r,"null"];case"symbol":case"undefined":case"function":default:return r}},[]);if(o.length===n.length){let r=o.filter((a,c,u)=>u.indexOf(a)===c);return{type:r.length>1?r:r[0],enum:n.reduce((a,c)=>a.includes(c._def.value)?a:[...a,c._def.value],[])}}}else if(n.every(o=>o._def.typeName==="ZodEnum"))return{type:"string",enum:n.reduce((o,r)=>[...o,...r._def.values.filter(a=>!o.includes(a))],[])};return a6(e,t)}s(o6,"parseUnionDef");var a6=s((e,t)=>{let n=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((o,r)=>De(o._def,{...t,currentPath:[...t.currentPath,"anyOf",`${r}`]})).filter(o=>!!o&&(!t.strictUnions||typeof o=="object"&&Object.keys(o).length>0));return n.length?{anyOf:n}:void 0},"asAnyOf");function i6(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return{type:[U_[e.innerType._def.typeName],"null"]};let n=De(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}s(i6,"parseNullableDef");function s6(e){let t={type:"number"};if(!e.checks)return t;for(let n of e.checks)switch(n.kind){case"int":t.type="integer";break;case"min":n.inclusive?t.minimum=n.value:t.exclusiveMinimum=n.value;break;case"max":n.inclusive?t.maximum=n.value:t.exclusiveMaximum=n.value;break;case"multipleOf":t.multipleOf=n.value;break}return t}s(s6,"parseNumberDef");function c6(e,t){let n={type:"object",properties:{}},o=[],r=e.shape();for(let c in r){let u=r[c];if(u===void 0||u._def===void 0)continue;let l=l6(u),d=De(u._def,{...t,currentPath:[...t.currentPath,"properties",c],propertyPath:[...t.currentPath,"properties",c]});d!==void 0&&(n.properties[c]=d,l||o.push(c))}o.length&&(n.required=o);let a=u6(e,t);return a!==void 0&&(n.additionalProperties=a),n}s(c6,"parseObjectDef");function u6(e,t){if(e.catchall._def.typeName!=="ZodNever")return De(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}s(u6,"decideAdditionalProperties");function l6(e){try{return e.isOptional()}catch{return!0}}s(l6,"safeIsOptional");var d6=s((e,t)=>{var n;if(t.currentPath.toString()===((n=t.propertyPath)==null?void 0:n.toString()))return De(e.innerType._def,t);let o=De(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return o?{anyOf:[{not:or()},o]}:or()},"parseOptionalDef"),p6=s((e,t)=>{if(t.pipeStrategy==="input")return De(e.in._def,t);if(t.pipeStrategy==="output")return De(e.out._def,t);let n=De(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),o=De(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",n?"1":"0"]});return{allOf:[n,o].filter(r=>r!==void 0)}},"parsePipelineDef");function m6(e,t){return De(e.type._def,t)}s(m6,"parsePromiseDef");function f6(e,t){let o={type:"array",uniqueItems:!0,items:De(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&(o.minItems=e.minSize.value),e.maxSize&&(o.maxItems=e.maxSize.value),o}s(f6,"parseSetDef");function h6(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((n,o)=>De(n._def,{...t,currentPath:[...t.currentPath,"items",`${o}`]})).reduce((n,o)=>o===void 0?n:[...n,o],[]),additionalItems:De(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((n,o)=>De(n._def,{...t,currentPath:[...t.currentPath,"items",`${o}`]})).reduce((n,o)=>o===void 0?n:[...n,o],[])}}s(h6,"parseTupleDef");function g6(){return{not:or()}}s(g6,"parseUndefinedDef");function y6(){return or()}s(y6,"parseUnknownDef");var v6=s((e,t)=>De(e.innerType._def,t),"parseReadonlyDef"),_6=s((e,t,n)=>{switch(t){case L.ZodString:return Vk(e,n);case L.ZodNumber:return s6(e);case L.ZodObject:return c6(e,n);case L.ZodBigInt:return FF(e);case L.ZodBoolean:return BF();case L.ZodDate:return Zk(e,n);case L.ZodUndefined:return g6();case L.ZodNull:return n6();case L.ZodArray:return qF(e,n);case L.ZodUnion:case L.ZodDiscriminatedUnion:return o6(e,n);case L.ZodIntersection:return WF(e,n);case L.ZodTuple:return h6(e,n);case L.ZodRecord:return Hk(e,n);case L.ZodLiteral:return XF(e);case L.ZodEnum:return JF(e);case L.ZodNativeEnum:return t6(e);case L.ZodNullable:return i6(e,n);case L.ZodOptional:return d6(e,n);case L.ZodMap:return e6(e,n);case L.ZodSet:return f6(e,n);case L.ZodLazy:return()=>e.getter()._def;case L.ZodPromise:return m6(e,n);case L.ZodNaN:case L.ZodNever:return r6();case L.ZodEffects:return GF(e,n);case L.ZodAny:return or();case L.ZodUnknown:return y6();case L.ZodDefault:return HF(e,n);case L.ZodBranded:return Bk(e,n);case L.ZodReadonly:return v6(e,n);case L.ZodCatch:return ZF(e,n);case L.ZodPipeline:return p6(e,n);case L.ZodFunction:case L.ZodVoid:case L.ZodSymbol:return;default:return(o=>{})(t)}},"selectParser");function De(e,t,n=!1){var o;let r=t.seen.get(e);if(t.override){let l=(o=t.override)==null?void 0:o.call(t,e,t,r,n);if(l!==UF)return l}if(r&&!n){let l=b6(r,t);if(l!==void 0)return l}let a={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,a);let c=_6(e,e.typeName,t),u=typeof c=="function"?De(c(),t):c;if(u&&x6(e,t,u),t.postProcess){let l=t.postProcess(u,e,t);return a.jsonSchema=u,l}return a.jsonSchema=u,u}s(De,"parseDef");var b6=s((e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:MF(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((n,o)=>t.currentPath[o]===n)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),or()):t.$refStrategy==="seen"?or():void 0}},"get$ref"),x6=s((e,t,n)=>(e.description&&(n.description=e.description),n),"addMeta"),w6=s(e=>{let t=LF(e),n=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([o,r])=>[r._def,{def:r._def,path:[...t.basePath,t.definitionPath,o],jsonSchema:void 0}]))}},"getRefs"),S6=s((e,t)=>{var n;let o=w6(t),r=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((d,[p,m])=>{var f;return{...d,[p]:(f=De(m._def,{...o,currentPath:[...o.basePath,o.definitionPath,p]},!0))!=null?f:or()}},{}):void 0,a=typeof t=="string"?t:t?.nameStrategy==="title"?void 0:t?.name,c=(n=De(e._def,a===void 0?o:{...o,currentPath:[...o.basePath,o.definitionPath,a]},!1))!=null?n:or(),u=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;u!==void 0&&(c.title=u);let l=a===void 0?r?{...c,[o.definitionPath]:r}:c:{$ref:[...o.$refStrategy==="relative"?[]:o.basePath,o.definitionPath,a].join("/"),[o.definitionPath]:{...r,[a]:c}};return l.$schema="http://json-schema.org/draft-07/schema#",l},"zodToJsonSchema"),I6=S6;function T6(e,t){var n;let o=(n=t?.useReferences)!=null?n:!1;return Gk(()=>I6(e,{$refStrategy:o?"root":"none"}),{validate:s(async r=>{let a=await e.safeParseAsync(r);return a.success?{success:!0,value:a.data}:{success:!1,error:a.error}},"validate")})}s(T6,"zod3Schema");function E6(e,t){var n;let o=(n=t?.useReferences)!=null?n:!1;return Gk(()=>$s(e,{target:"draft-7",io:"output",reused:o?"ref":"inline"}),{validate:s(async r=>{let a=await Rs(e,r);return a.success?{success:!0,value:a.data}:{success:!1,error:a.error}},"validate")})}s(E6,"zod4Schema");function k6(e){return"_zod"in e}s(k6,"isZod4Schema");function C(e,t){return k6(e)?E6(e,t):T6(e,t)}s(C,"zodSchema");var P6=Symbol.for("vercel.ai.schema");function H(e){let t;return()=>(t==null&&(t=e()),t)}s(H,"lazySchema");function Gk(e,{validate:t}={}){return{[P6]:!0,_type:void 0,[wd]:!0,get jsonSchema(){return typeof e=="function"&&(e=e()),e},validate:t}}s(Gk,"jsonSchema");var{btoa:A6,atob:$6}=globalThis;function Jk(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),n=$6(t);return Uint8Array.from(n,o=>o.codePointAt(0))}s(Jk,"convertBase64ToUint8Array");function R6(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCodePoint(e[n]);return A6(t)}s(R6,"convertUint8ArrayToBase64");function Wt(e){return e instanceof Uint8Array?R6(e):e}s(Wt,"convertToBase64");function ei(e){return e?.replace(/\/$/,"")}s(ei,"withoutTrailingSlash");var O6="2.0.50",C6=H(()=>C(i.object({type:i.literal("error"),error:i.object({type:i.string(),message:i.string()})}))),Kk=Qa({errorSchema:C6,errorToMessage:s(e=>e.error.message,"errorToMessage")}),N6=H(()=>C(i.object({type:i.literal("message"),id:i.string().nullish(),model:i.string().nullish(),content:i.array(i.discriminatedUnion("type",[i.object({type:i.literal("text"),text:i.string(),citations:i.array(i.discriminatedUnion("type",[i.object({type:i.literal("web_search_result_location"),cited_text:i.string(),url:i.string(),title:i.string(),encrypted_index:i.string()}),i.object({type:i.literal("page_location"),cited_text:i.string(),document_index:i.number(),document_title:i.string().nullable(),start_page_number:i.number(),end_page_number:i.number()}),i.object({type:i.literal("char_location"),cited_text:i.string(),document_index:i.number(),document_title:i.string().nullable(),start_char_index:i.number(),end_char_index:i.number()})])).optional()}),i.object({type:i.literal("thinking"),thinking:i.string(),signature:i.string()}),i.object({type:i.literal("redacted_thinking"),data:i.string()}),i.object({type:i.literal("tool_use"),id:i.string(),name:i.string(),input:i.unknown()}),i.object({type:i.literal("server_tool_use"),id:i.string(),name:i.string(),input:i.record(i.string(),i.unknown()).nullish()}),i.object({type:i.literal("web_fetch_tool_result"),tool_use_id:i.string(),content:i.union([i.object({type:i.literal("web_fetch_result"),url:i.string(),retrieved_at:i.string(),content:i.object({type:i.literal("document"),title:i.string().nullable(),citations:i.object({enabled:i.boolean()}).optional(),source:i.object({type:i.literal("text"),media_type:i.string(),data:i.string()})})}),i.object({type:i.literal("web_fetch_tool_result_error"),error_code:i.string()})])}),i.object({type:i.literal("web_search_tool_result"),tool_use_id:i.string(),content:i.union([i.array(i.object({type:i.literal("web_search_result"),url:i.string(),title:i.string(),encrypted_content:i.string(),page_age:i.string().nullish()})),i.object({type:i.literal("web_search_tool_result_error"),error_code:i.string()})])}),i.object({type:i.literal("code_execution_tool_result"),tool_use_id:i.string(),content:i.union([i.object({type:i.literal("code_execution_result"),stdout:i.string(),stderr:i.string(),return_code:i.number()}),i.object({type:i.literal("code_execution_tool_result_error"),error_code:i.string()})])}),i.object({type:i.literal("bash_code_execution_tool_result"),tool_use_id:i.string(),content:i.discriminatedUnion("type",[i.object({type:i.literal("bash_code_execution_result"),content:i.array(i.object({type:i.literal("bash_code_execution_output"),file_id:i.string()})),stdout:i.string(),stderr:i.string(),return_code:i.number()}),i.object({type:i.literal("bash_code_execution_tool_result_error"),error_code:i.string()})])}),i.object({type:i.literal("text_editor_code_execution_tool_result"),tool_use_id:i.string(),content:i.discriminatedUnion("type",[i.object({type:i.literal("text_editor_code_execution_tool_result_error"),error_code:i.string()}),i.object({type:i.literal("text_editor_code_execution_view_result"),content:i.string(),file_type:i.string(),num_lines:i.number().nullable(),start_line:i.number().nullable(),total_lines:i.number().nullable()}),i.object({type:i.literal("text_editor_code_execution_create_result"),is_file_update:i.boolean()}),i.object({type:i.literal("text_editor_code_execution_str_replace_result"),lines:i.array(i.string()).nullable(),new_lines:i.number().nullable(),new_start:i.number().nullable(),old_lines:i.number().nullable(),old_start:i.number().nullable()})])})])),stop_reason:i.string().nullish(),stop_sequence:i.string().nullish(),usage:i.looseObject({input_tokens:i.number(),output_tokens:i.number(),cache_creation_input_tokens:i.number().nullish(),cache_read_input_tokens:i.number().nullish()}),container:i.object({expires_at:i.string(),id:i.string(),skills:i.array(i.object({type:i.union([i.literal("anthropic"),i.literal("custom")]),skill_id:i.string(),version:i.string()})).nullish()}).nullish()}))),j6=H(()=>C(i.discriminatedUnion("type",[i.object({type:i.literal("message_start"),message:i.object({id:i.string().nullish(),model:i.string().nullish(),usage:i.looseObject({input_tokens:i.number(),cache_creation_input_tokens:i.number().nullish(),cache_read_input_tokens:i.number().nullish()})})}),i.object({type:i.literal("content_block_start"),index:i.number(),content_block:i.discriminatedUnion("type",[i.object({type:i.literal("text"),text:i.string()}),i.object({type:i.literal("thinking"),thinking:i.string()}),i.object({type:i.literal("tool_use"),id:i.string(),name:i.string()}),i.object({type:i.literal("redacted_thinking"),data:i.string()}),i.object({type:i.literal("server_tool_use"),id:i.string(),name:i.string(),input:i.record(i.string(),i.unknown()).nullish()}),i.object({type:i.literal("web_fetch_tool_result"),tool_use_id:i.string(),content:i.union([i.object({type:i.literal("web_fetch_result"),url:i.string(),retrieved_at:i.string(),content:i.object({type:i.literal("document"),title:i.string().nullable(),citations:i.object({enabled:i.boolean()}).optional(),source:i.object({type:i.literal("text"),media_type:i.string(),data:i.string()})})}),i.object({type:i.literal("web_fetch_tool_result_error"),error_code:i.string()})])}),i.object({type:i.literal("web_search_tool_result"),tool_use_id:i.string(),content:i.union([i.array(i.object({type:i.literal("web_search_result"),url:i.string(),title:i.string(),encrypted_content:i.string(),page_age:i.string().nullish()})),i.object({type:i.literal("web_search_tool_result_error"),error_code:i.string()})])}),i.object({type:i.literal("code_execution_tool_result"),tool_use_id:i.string(),content:i.union([i.object({type:i.literal("code_execution_result"),stdout:i.string(),stderr:i.string(),return_code:i.number()}),i.object({type:i.literal("code_execution_tool_result_error"),error_code:i.string()})])}),i.object({type:i.literal("bash_code_execution_tool_result"),tool_use_id:i.string(),content:i.discriminatedUnion("type",[i.object({type:i.literal("bash_code_execution_result"),content:i.array(i.object({type:i.literal("bash_code_execution_output"),file_id:i.string()})),stdout:i.string(),stderr:i.string(),return_code:i.number()}),i.object({type:i.literal("bash_code_execution_tool_result_error"),error_code:i.string()})])}),i.object({type:i.literal("text_editor_code_execution_tool_result"),tool_use_id:i.string(),content:i.discriminatedUnion("type",[i.object({type:i.literal("text_editor_code_execution_tool_result_error"),error_code:i.string()}),i.object({type:i.literal("text_editor_code_execution_view_result"),content:i.string(),file_type:i.string(),num_lines:i.number().nullable(),start_line:i.number().nullable(),total_lines:i.number().nullable()}),i.object({type:i.literal("text_editor_code_execution_create_result"),is_file_update:i.boolean()}),i.object({type:i.literal("text_editor_code_execution_str_replace_result"),lines:i.array(i.string()).nullable(),new_lines:i.number().nullable(),new_start:i.number().nullable(),old_lines:i.number().nullable(),old_start:i.number().nullable()})])})])}),i.object({type:i.literal("content_block_delta"),index:i.number(),delta:i.discriminatedUnion("type",[i.object({type:i.literal("input_json_delta"),partial_json:i.string()}),i.object({type:i.literal("text_delta"),text:i.string()}),i.object({type:i.literal("thinking_delta"),thinking:i.string()}),i.object({type:i.literal("signature_delta"),signature:i.string()}),i.object({type:i.literal("citations_delta"),citation:i.discriminatedUnion("type",[i.object({type:i.literal("web_search_result_location"),cited_text:i.string(),url:i.string(),title:i.string(),encrypted_index:i.string()}),i.object({type:i.literal("page_location"),cited_text:i.string(),document_index:i.number(),document_title:i.string().nullable(),start_page_number:i.number(),end_page_number:i.number()}),i.object({type:i.literal("char_location"),cited_text:i.string(),document_index:i.number(),document_title:i.string().nullable(),start_char_index:i.number(),end_char_index:i.number()})])})])}),i.object({type:i.literal("content_block_stop"),index:i.number()}),i.object({type:i.literal("error"),error:i.object({type:i.string(),message:i.string()})}),i.object({type:i.literal("message_delta"),delta:i.object({stop_reason:i.string().nullish(),stop_sequence:i.string().nullish(),container:i.object({expires_at:i.string(),id:i.string(),skills:i.array(i.object({type:i.union([i.literal("anthropic"),i.literal("custom")]),skill_id:i.string(),version:i.string()})).nullish()}).nullish()}),usage:i.looseObject({output_tokens:i.number(),cache_creation_input_tokens:i.number().nullish()})}),i.object({type:i.literal("message_stop")}),i.object({type:i.literal("ping")})]))),D6=H(()=>C(i.object({signature:i.string().optional(),redactedData:i.string().optional()}))),Wk=i.object({citations:i.object({enabled:i.boolean()}).optional(),title:i.string().optional(),context:i.string().optional()}),z6=i.object({sendReasoning:i.boolean().optional(),structuredOutputMode:i.enum(["outputFormat","jsonTool","auto"]).optional(),thinking:i.object({type:i.union([i.literal("enabled"),i.literal("disabled")]),budgetTokens:i.number().optional()}).optional(),disableParallelToolUse:i.boolean().optional(),cacheControl:i.object({type:i.literal("ephemeral"),ttl:i.union([i.literal("5m"),i.literal("1h")]).optional()}).optional(),container:i.object({id:i.string().optional(),skills:i.array(i.object({type:i.union([i.literal("anthropic"),i.literal("custom")]),skillId:i.string(),version:i.string().optional()})).optional()}).optional(),effort:i.enum(["low","medium","high"]).optional()}),Xk=4;function M6(e){var t;let n=e?.anthropic;return(t=n?.cacheControl)!=null?t:n?.cache_control}s(M6,"getCacheControl");var B_=class{static{s(this,"CacheControlValidator")}constructor(){this.breakpointCount=0,this.warnings=[]}getCacheControl(e,t){let n=M6(e);if(n){if(!t.canCache){this.warnings.push({type:"unsupported-setting",setting:"cacheControl",details:`cache_control cannot be set on ${t.type}. It will be ignored.`});return}if(this.breakpointCount++,this.breakpointCount>Xk){this.warnings.push({type:"unsupported-setting",setting:"cacheControl",details:`Maximum ${Xk} cache breakpoints exceeded (found ${this.breakpointCount}). This breakpoint will be ignored.`});return}return n}}getWarnings(){return this.warnings}},U6=H(()=>C(i.object({maxCharacters:i.number().optional()}))),L6=H(()=>C(i.object({command:i.enum(["view","create","str_replace","insert"]),path:i.string(),file_text:i.string().optional(),insert_line:i.number().int().optional(),new_str:i.string().optional(),old_str:i.string().optional(),view_range:i.array(i.number().int()).optional()}))),q6=Ke({id:"anthropic.text_editor_20250728",name:"str_replace_based_edit_tool",inputSchema:L6}),F6=s((e={})=>q6(e),"textEditor_20250728"),B6=H(()=>C(i.object({maxUses:i.number().optional(),allowedDomains:i.array(i.string()).optional(),blockedDomains:i.array(i.string()).optional(),userLocation:i.object({type:i.literal("approximate"),city:i.string().optional(),region:i.string().optional(),country:i.string().optional(),timezone:i.string().optional()}).optional()}))),eP=H(()=>C(i.array(i.object({url:i.string(),title:i.string(),pageAge:i.string().nullable(),encryptedContent:i.string(),type:i.literal("web_search_result")})))),Z6=H(()=>C(i.object({query:i.string()}))),V6=ot({id:"anthropic.web_search_20250305",name:"web_search",inputSchema:Z6,outputSchema:eP}),H6=s((e={})=>V6(e),"webSearch_20250305"),G6=H(()=>C(i.object({maxUses:i.number().optional(),allowedDomains:i.array(i.string()).optional(),blockedDomains:i.array(i.string()).optional(),citations:i.object({enabled:i.boolean()}).optional(),maxContentTokens:i.number().optional()}))),tP=H(()=>C(i.object({type:i.literal("web_fetch_result"),url:i.string(),content:i.object({type:i.literal("document"),title:i.string(),citations:i.object({enabled:i.boolean()}).optional(),source:i.union([i.object({type:i.literal("base64"),mediaType:i.literal("application/pdf"),data:i.string()}),i.object({type:i.literal("text"),mediaType:i.literal("text/plain"),data:i.string()})])}),retrievedAt:i.string().nullable()}))),J6=H(()=>C(i.object({url:i.string()}))),K6=ot({id:"anthropic.web_fetch_20250910",name:"web_fetch",inputSchema:J6,outputSchema:tP}),W6=s((e={})=>K6(e),"webFetch_20250910");async function X6({tools:e,toolChoice:t,disableParallelToolUse:n,cacheControlValidator:o}){e=e?.length?e:void 0;let r=[],a=new Set,c=o||new B_;if(e==null)return{tools:void 0,toolChoice:void 0,toolWarnings:r,betas:a};let u=[];for(let d of e)switch(d.type){case"function":{let p=c.getCacheControl(d.providerOptions,{type:"tool definition",canCache:!0});u.push({name:d.name,description:d.description,input_schema:d.inputSchema,cache_control:p});break}case"provider-defined":{switch(d.id){case"anthropic.code_execution_20250522":{a.add("code-execution-2025-05-22"),u.push({type:"code_execution_20250522",name:"code_execution",cache_control:void 0});break}case"anthropic.code_execution_20250825":{a.add("code-execution-2025-08-25"),u.push({type:"code_execution_20250825",name:"code_execution"});break}case"anthropic.computer_20250124":{a.add("computer-use-2025-01-24"),u.push({name:"computer",type:"computer_20250124",display_width_px:d.args.displayWidthPx,display_height_px:d.args.displayHeightPx,display_number:d.args.displayNumber,cache_control:void 0});break}case"anthropic.computer_20241022":{a.add("computer-use-2024-10-22"),u.push({name:"computer",type:"computer_20241022",display_width_px:d.args.displayWidthPx,display_height_px:d.args.displayHeightPx,display_number:d.args.displayNumber,cache_control:void 0});break}case"anthropic.text_editor_20250124":{a.add("computer-use-2025-01-24"),u.push({name:"str_replace_editor",type:"text_editor_20250124",cache_control:void 0});break}case"anthropic.text_editor_20241022":{a.add("computer-use-2024-10-22"),u.push({name:"str_replace_editor",type:"text_editor_20241022",cache_control:void 0});break}case"anthropic.text_editor_20250429":{a.add("computer-use-2025-01-24"),u.push({name:"str_replace_based_edit_tool",type:"text_editor_20250429",cache_control:void 0});break}case"anthropic.text_editor_20250728":{let p=await gt({value:d.args,schema:U6});u.push({name:"str_replace_based_edit_tool",type:"text_editor_20250728",max_characters:p.maxCharacters,cache_control:void 0});break}case"anthropic.bash_20250124":{a.add("computer-use-2025-01-24"),u.push({name:"bash",type:"bash_20250124",cache_control:void 0});break}case"anthropic.bash_20241022":{a.add("computer-use-2024-10-22"),u.push({name:"bash",type:"bash_20241022",cache_control:void 0});break}case"anthropic.memory_20250818":{a.add("context-management-2025-06-27"),u.push({name:"memory",type:"memory_20250818"});break}case"anthropic.web_fetch_20250910":{a.add("web-fetch-2025-09-10");let p=await gt({value:d.args,schema:G6});u.push({type:"web_fetch_20250910",name:"web_fetch",max_uses:p.maxUses,allowed_domains:p.allowedDomains,blocked_domains:p.blockedDomains,citations:p.citations,max_content_tokens:p.maxContentTokens,cache_control:void 0});break}case"anthropic.web_search_20250305":{let p=await gt({value:d.args,schema:B6});u.push({type:"web_search_20250305",name:"web_search",max_uses:p.maxUses,allowed_domains:p.allowedDomains,blocked_domains:p.blockedDomains,user_location:p.userLocation,cache_control:void 0});break}default:{r.push({type:"unsupported-tool",tool:d});break}}break}default:{r.push({type:"unsupported-tool",tool:d});break}}if(t==null)return{tools:u,toolChoice:n?{type:"auto",disable_parallel_tool_use:n}:void 0,toolWarnings:r,betas:a};let l=t.type;switch(l){case"auto":return{tools:u,toolChoice:{type:"auto",disable_parallel_tool_use:n},toolWarnings:r,betas:a};case"required":return{tools:u,toolChoice:{type:"any",disable_parallel_tool_use:n},toolWarnings:r,betas:a};case"none":return{tools:void 0,toolChoice:void 0,toolWarnings:r,betas:a};case"tool":return{tools:u,toolChoice:{type:"tool",name:t.toolName,disable_parallel_tool_use:n},toolWarnings:r,betas:a};default:{let d=l;throw new Oe({functionality:`tool choice type: ${d}`})}}}s(X6,"prepareTools");var rP=H(()=>C(i.object({type:i.literal("code_execution_result"),stdout:i.string(),stderr:i.string(),return_code:i.number()}))),Y6=H(()=>C(i.object({code:i.string()}))),Q6=ot({id:"anthropic.code_execution_20250522",name:"code_execution",inputSchema:Y6,outputSchema:rP}),eB=s((e={})=>Q6(e),"codeExecution_20250522"),nP=H(()=>C(i.discriminatedUnion("type",[i.object({type:i.literal("bash_code_execution_result"),content:i.array(i.object({type:i.literal("bash_code_execution_output"),file_id:i.string()})),stdout:i.string(),stderr:i.string(),return_code:i.number()}),i.object({type:i.literal("bash_code_execution_tool_result_error"),error_code:i.string()}),i.object({type:i.literal("text_editor_code_execution_tool_result_error"),error_code:i.string()}),i.object({type:i.literal("text_editor_code_execution_view_result"),content:i.string(),file_type:i.string(),num_lines:i.number().nullable(),start_line:i.number().nullable(),total_lines:i.number().nullable()}),i.object({type:i.literal("text_editor_code_execution_create_result"),is_file_update:i.boolean()}),i.object({type:i.literal("text_editor_code_execution_str_replace_result"),lines:i.array(i.string()).nullable(),new_lines:i.number().nullable(),new_start:i.number().nullable(),old_lines:i.number().nullable(),old_start:i.number().nullable()})]))),tB=H(()=>C(i.discriminatedUnion("type",[i.object({type:i.literal("bash_code_execution"),command:i.string()}),i.discriminatedUnion("command",[i.object({type:i.literal("text_editor_code_execution"),command:i.literal("view"),path:i.string()}),i.object({type:i.literal("text_editor_code_execution"),command:i.literal("create"),path:i.string(),file_text:i.string().nullish()}),i.object({type:i.literal("text_editor_code_execution"),command:i.literal("str_replace"),path:i.string(),old_str:i.string(),new_str:i.string()})])]))),rB=ot({id:"anthropic.code_execution_20250825",name:"code_execution",inputSchema:tB,outputSchema:nP}),nB=s((e={})=>rB(e),"codeExecution_20250825");function oB(e){if(typeof e=="string")return Buffer.from(e,"base64").toString("utf-8");if(e instanceof Uint8Array)return new TextDecoder().decode(e);throw e instanceof URL?new Oe({functionality:"URL-based text documents are not supported for citations"}):new Oe({functionality:`unsupported data type for text documents: ${typeof e}`})}s(oB,"convertToString");async function aB({prompt:e,sendReasoning:t,warnings:n,cacheControlValidator:o}){var r,a,c,u,l;let d=new Set,p=iB(e),m=o||new B_,f,y=[];async function g(b){var w,_;let x=await Ze({provider:"anthropic",providerOptions:b,schema:Wk});return(_=(w=x?.citations)==null?void 0:w.enabled)!=null?_:!1}s(g,"shouldEnableCitations");async function v(b){let w=await Ze({provider:"anthropic",providerOptions:b,schema:Wk});return{title:w?.title,context:w?.context}}s(v,"getDocumentMetadata");for(let b=0;b<p.length;b++){let w=p[b],_=b===p.length-1,x=w.type;switch(x){case"system":{if(f!=null)throw new Oe({functionality:"Multiple system messages that are separated by user/assistant messages"});f=w.messages.map(({content:E,providerOptions:D})=>({type:"text",text:E,cache_control:m.getCacheControl(D,{type:"system message",canCache:!0})}));break}case"user":{let E=[];for(let D of w.messages){let{role:Z,content:j}=D;switch(Z){case"user":{for(let G=0;G<j.length;G++){let N=j[G],$=G===j.length-1,O=(r=m.getCacheControl(N.providerOptions,{type:"user message part",canCache:!0}))!=null?r:$?m.getCacheControl(D.providerOptions,{type:"user message",canCache:!0}):void 0;switch(N.type){case"text":{E.push({type:"text",text:N.text,cache_control:O});break}case"file":{if(N.mediaType.startsWith("image/"))E.push({type:"image",source:N.data instanceof URL?{type:"url",url:N.data.toString()}:{type:"base64",media_type:N.mediaType==="image/*"?"image/jpeg":N.mediaType,data:Wt(N.data)},cache_control:O});else if(N.mediaType==="application/pdf"){d.add("pdfs-2024-09-25");let te=await g(N.providerOptions),V=await v(N.providerOptions);E.push({type:"document",source:N.data instanceof URL?{type:"url",url:N.data.toString()}:{type:"base64",media_type:"application/pdf",data:Wt(N.data)},title:(a=V.title)!=null?a:N.filename,...V.context&&{context:V.context},...te&&{citations:{enabled:!0}},cache_control:O})}else if(N.mediaType==="text/plain"){let te=await g(N.providerOptions),V=await v(N.providerOptions);E.push({type:"document",source:N.data instanceof URL?{type:"url",url:N.data.toString()}:{type:"text",media_type:"text/plain",data:oB(N.data)},title:(c=V.title)!=null?c:N.filename,...V.context&&{context:V.context},...te&&{citations:{enabled:!0}},cache_control:O})}else throw new Oe({functionality:`media type: ${N.mediaType}`});break}}}break}case"tool":{for(let G=0;G<j.length;G++){let N=j[G],$=G===j.length-1,O=(u=m.getCacheControl(N.providerOptions,{type:"tool result part",canCache:!0}))!=null?u:$?m.getCacheControl(D.providerOptions,{type:"tool result message",canCache:!0}):void 0,te=N.output,V;switch(te.type){case"content":V=te.value.map(Q=>{switch(Q.type){case"text":return{type:"text",text:Q.text};case"media":{if(Q.mediaType.startsWith("image/"))return{type:"image",source:{type:"base64",media_type:Q.mediaType,data:Q.data}};if(Q.mediaType==="application/pdf")return d.add("pdfs-2024-09-25"),{type:"document",source:{type:"base64",media_type:Q.mediaType,data:Q.data}};throw new Oe({functionality:`media type: ${Q.mediaType}`})}}});break;case"text":case"error-text":V=te.value;break;case"json":case"error-json":default:V=JSON.stringify(te.value);break}E.push({type:"tool_result",tool_use_id:N.toolCallId,content:V,is_error:te.type==="error-text"||te.type==="error-json"?!0:void 0,cache_control:O})}break}default:{let G=Z;throw new Error(`Unsupported role: ${G}`)}}}y.push({role:"user",content:E});break}case"assistant":{let E=[];for(let D=0;D<w.messages.length;D++){let Z=w.messages[D],j=D===w.messages.length-1,{content:G}=Z;for(let N=0;N<G.length;N++){let $=G[N],O=N===G.length-1,te=(l=m.getCacheControl($.providerOptions,{type:"assistant message part",canCache:!0}))!=null?l:O?m.getCacheControl(Z.providerOptions,{type:"assistant message",canCache:!0}):void 0;switch($.type){case"text":{E.push({type:"text",text:_&&j&&O?$.text.trim():$.text,cache_control:te});break}case"reasoning":{if(t){let V=await Ze({provider:"anthropic",providerOptions:$.providerOptions,schema:D6});V!=null?V.signature!=null?(m.getCacheControl($.providerOptions,{type:"thinking block",canCache:!1}),E.push({type:"thinking",thinking:$.text,signature:V.signature})):V.redactedData!=null?(m.getCacheControl($.providerOptions,{type:"redacted thinking block",canCache:!1}),E.push({type:"redacted_thinking",data:V.redactedData})):n.push({type:"other",message:"unsupported reasoning metadata"}):n.push({type:"other",message:"unsupported reasoning metadata"})}else n.push({type:"other",message:"sending reasoning content is disabled for this model"});break}case"tool-call":{if($.providerExecuted){$.toolName==="code_execution"&&$.input!=null&&typeof $.input=="object"&&"type"in $.input&&typeof $.input.type=="string"&&($.input.type==="bash_code_execution"||$.input.type==="text_editor_code_execution")?E.push({type:"server_tool_use",id:$.toolCallId,name:$.input.type,input:$.input,cache_control:te}):$.toolName==="code_execution"||$.toolName==="web_fetch"||$.toolName==="web_search"?E.push({type:"server_tool_use",id:$.toolCallId,name:$.toolName,input:$.input,cache_control:te}):n.push({type:"other",message:`provider executed tool call for tool ${$.toolName} is not supported`});break}E.push({type:"tool_use",id:$.toolCallId,name:$.toolName,input:$.input,cache_control:te});break}case"tool-result":{if($.toolName==="code_execution"){let V=$.output;if(V.type!=="json"){n.push({type:"other",message:`provider executed tool result output type ${V.type} for tool ${$.toolName} is not supported`});break}if(V.value==null||typeof V.value!="object"||!("type"in V.value)||typeof V.value.type!="string"){n.push({type:"other",message:`provider executed tool result output value is not a valid code execution result for tool ${$.toolName}`});break}if(V.value.type==="code_execution_result"){let Q=await gt({value:V.value,schema:rP});E.push({type:"code_execution_tool_result",tool_use_id:$.toolCallId,content:{type:Q.type,stdout:Q.stdout,stderr:Q.stderr,return_code:Q.return_code},cache_control:te})}else{let Q=await gt({value:V.value,schema:nP});E.push(Q.type==="bash_code_execution_result"||Q.type==="bash_code_execution_tool_result_error"?{type:"bash_code_execution_tool_result",tool_use_id:$.toolCallId,cache_control:te,content:Q}:{type:"text_editor_code_execution_tool_result",tool_use_id:$.toolCallId,cache_control:te,content:Q})}break}if($.toolName==="web_fetch"){let V=$.output;if(V.type!=="json"){n.push({type:"other",message:`provider executed tool result output type ${V.type} for tool ${$.toolName} is not supported`});break}let Q=await gt({value:V.value,schema:tP});E.push({type:"web_fetch_tool_result",tool_use_id:$.toolCallId,content:{type:"web_fetch_result",url:Q.url,retrieved_at:Q.retrievedAt,content:{type:"document",title:Q.content.title,citations:Q.content.citations,source:{type:Q.content.source.type,media_type:Q.content.source.mediaType,data:Q.content.source.data}}},cache_control:te});break}if($.toolName==="web_search"){let V=$.output;if(V.type!=="json"){n.push({type:"other",message:`provider executed tool result output type ${V.type} for tool ${$.toolName} is not supported`});break}let Q=await gt({value:V.value,schema:eP});E.push({type:"web_search_tool_result",tool_use_id:$.toolCallId,content:Q.map(fe=>({url:fe.url,title:fe.title,page_age:fe.pageAge,encrypted_content:fe.encryptedContent,type:fe.type})),cache_control:te});break}n.push({type:"other",message:`provider executed tool result for tool ${$.toolName} is not supported`});break}}}}y.push({role:"assistant",content:E});break}default:{let E=x;throw new Error(`content type: ${E}`)}}}return{prompt:{system:f,messages:y},betas:d}}s(aB,"convertToAnthropicMessagesPrompt");function iB(e){let t=[],n;for(let o of e){let{role:r}=o;switch(r){case"system":{n?.type!=="system"&&(n={type:"system",messages:[]},t.push(n)),n.messages.push(o);break}case"assistant":{n?.type!=="assistant"&&(n={type:"assistant",messages:[]},t.push(n)),n.messages.push(o);break}case"user":{n?.type!=="user"&&(n={type:"user",messages:[]},t.push(n)),n.messages.push(o);break}case"tool":{n?.type!=="user"&&(n={type:"user",messages:[]},t.push(n)),n.messages.push(o);break}default:{let a=r;throw new Error(`Unsupported role: ${a}`)}}}return t}s(iB,"groupIntoBlocks");function Yk({finishReason:e,isJsonResponseFromTool:t}){switch(e){case"pause_turn":case"end_turn":case"stop_sequence":return"stop";case"refusal":return"content-filter";case"tool_use":return t?"stop":"tool-calls";case"max_tokens":return"length";default:return"unknown"}}s(Yk,"mapAnthropicStopReason");function Qk(e,t,n){var o;if(e.type!=="page_location"&&e.type!=="char_location")return;let r=t[e.document_index];if(r)return{type:"source",sourceType:"document",id:n(),mediaType:r.mediaType,title:(o=e.document_title)!=null?o:r.title,filename:r.filename,providerMetadata:{anthropic:e.type==="page_location"?{citedText:e.cited_text,startPageNumber:e.start_page_number,endPageNumber:e.end_page_number}:{citedText:e.cited_text,startCharIndex:e.start_char_index,endCharIndex:e.end_char_index}}}}s(Qk,"createCitationSource");var sB=class{static{s(this,"AnthropicMessagesLanguageModel")}constructor(e,t){this.specificationVersion="v2";var n;this.modelId=e,this.config=t,this.generateId=(n=t.generateId)!=null?n:ht}supportsUrl(e){return e.protocol==="https:"}get provider(){return this.config.provider}get supportedUrls(){var e,t,n;return(n=(t=(e=this.config).supportedUrls)==null?void 0:t.call(e))!=null?n:{}}async getArgs({userSuppliedBetas:e,prompt:t,maxOutputTokens:n,temperature:o,topP:r,topK:a,frequencyPenalty:c,presencePenalty:u,stopSequences:l,responseFormat:d,seed:p,tools:m,toolChoice:f,providerOptions:y}){var g,v,b,w,_;let x=[];c!=null&&x.push({type:"unsupported-setting",setting:"frequencyPenalty"}),u!=null&&x.push({type:"unsupported-setting",setting:"presencePenalty"}),p!=null&&x.push({type:"unsupported-setting",setting:"seed"}),o!=null&&o>1?(x.push({type:"unsupported-setting",setting:"temperature",details:`${o} exceeds anthropic maximum of 1.0. clamped to 1.0`}),o=1):o!=null&&o<0&&(x.push({type:"unsupported-setting",setting:"temperature",details:`${o} is below anthropic minimum of 0. clamped to 0`}),o=0),d?.type==="json"&&(d.schema==null?x.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format requires a schema. The response format is ignored."}):m!=null&&x.push({type:"unsupported-setting",setting:"tools",details:"JSON response format does not support tools. The provided tools are ignored."}));let E=await Ze({provider:"anthropic",providerOptions:y,schema:z6}),{maxOutputTokens:D,supportsStructuredOutput:Z,isKnownModel:j}=cB(this.modelId),G=(g=E?.structuredOutputMode)!=null?g:"jsonTool",N=G==="outputFormat"||G==="auto"&&Z,$=d?.type==="json"&&d.schema!=null&&!N?{type:"function",name:"json",description:"Respond with a JSON object.",inputSchema:d.schema}:void 0,O=new B_,{prompt:te,betas:V}=await aB({prompt:t,sendReasoning:(v=E?.sendReasoning)!=null?v:!0,warnings:x,cacheControlValidator:O}),Q=((b=E?.thinking)==null?void 0:b.type)==="enabled",fe=(w=E?.thinking)==null?void 0:w.budgetTokens,Y=n??D,re={model:this.modelId,max_tokens:Y,temperature:o,top_k:a,top_p:r,stop_sequences:l,...Q&&{thinking:{type:"enabled",budget_tokens:fe}},...E?.effort&&{output_config:{effort:E.effort}},...N&&d?.type==="json"&&d.schema!=null&&{output_format:{type:"json_schema",schema:d.schema}},...E?.container&&{container:{id:E.container.id,skills:(_=E.container.skills)==null?void 0:_.map(se=>({type:se.type,skill_id:se.skillId,version:se.version}))}},system:te.system,messages:te.messages};if(Q){if(fe==null)throw new Oe({functionality:"thinking requires a budget"});re.temperature!=null&&(re.temperature=void 0,x.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported when thinking is enabled"})),a!=null&&(re.top_k=void 0,x.push({type:"unsupported-setting",setting:"topK",details:"topK is not supported when thinking is enabled"})),r!=null&&(re.top_p=void 0,x.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported when thinking is enabled"})),re.max_tokens=Y+fe}j&&re.max_tokens>D&&(n!=null&&x.push({type:"unsupported-setting",setting:"maxOutputTokens",details:`${re.max_tokens} (maxOutputTokens + thinkingBudget) is greater than ${this.modelId} ${D} max output tokens. The max output tokens have been limited to ${D}.`}),re.max_tokens=D),E?.container&&E.container.skills&&E.container.skills.length>0&&(V.add("code-execution-2025-08-25"),V.add("skills-2025-10-02"),V.add("files-api-2025-04-14"),m?.some(se=>se.type==="provider-defined"&&se.id==="anthropic.code_execution_20250825")||x.push({type:"other",message:"code execution tool is required when using skills"})),E?.effort&&V.add("effort-2025-11-24"),N&&V.add("structured-outputs-2025-11-13");let{tools:ke,toolChoice:ct,toolWarnings:Ue,betas:vt}=await X6($!=null?{tools:[$],toolChoice:{type:"tool",toolName:$.name},disableParallelToolUse:!0,cacheControlValidator:O}:{tools:m??[],toolChoice:f,disableParallelToolUse:E?.disableParallelToolUse,cacheControlValidator:O}),A=O.getWarnings();return{args:{...re,tools:ke,tool_choice:ct},warnings:[...x,...Ue,...A],betas:new Set([...V,...vt,...e]),usesJsonResponseTool:$!=null}}async getHeaders({betas:e,headers:t}){return Ge(await Vr(this.config.headers),t,e.size>0?{"anthropic-beta":Array.from(e).join(",")}:{})}async getBetasFromHeaders(e){var t,n;let r=(t=(await Vr(this.config.headers))["anthropic-beta"])!=null?t:"",a=(n=e?.["anthropic-beta"])!=null?n:"";return new Set([...r.toLowerCase().split(","),...a.toLowerCase().split(",")].map(c=>c.trim()).filter(c=>c!==""))}buildRequestUrl(e){var t,n,o;return(o=(n=(t=this.config).buildRequestUrl)==null?void 0:n.call(t,this.config.baseURL,e))!=null?o:`${this.config.baseURL}/messages`}transformRequestBody(e){var t,n,o;return(o=(n=(t=this.config).transformRequestBody)==null?void 0:n.call(t,e))!=null?o:e}extractCitationDocuments(e){let t=s(n=>{var o,r;if(n.type!=="file"||n.mediaType!=="application/pdf"&&n.mediaType!=="text/plain")return!1;let a=(o=n.providerOptions)==null?void 0:o.anthropic,c=a?.citations;return(r=c?.enabled)!=null?r:!1},"isCitationPart");return e.filter(n=>n.role==="user").flatMap(n=>n.content).filter(t).map(n=>{var o;let r=n;return{title:(o=r.filename)!=null?o:"Untitled Document",filename:r.filename,mediaType:r.mediaType}})}async doGenerate(e){var t,n,o,r,a,c,u,l;let{args:d,warnings:p,betas:m,usesJsonResponseTool:f}=await this.getArgs({...e,userSuppliedBetas:await this.getBetasFromHeaders(e.headers)}),y=this.extractCitationDocuments(e.prompt),{responseHeaders:g,value:v,rawValue:b}=await Je({url:this.buildRequestUrl(!1),headers:await this.getHeaders({betas:m,headers:e.headers}),body:this.transformRequestBody(d),failedResponseHandler:Kk,successfulResponseHandler:mt(N6),abortSignal:e.abortSignal,fetch:this.config.fetch}),w=[];for(let _ of v.content)switch(_.type){case"text":{if(!f&&(w.push({type:"text",text:_.text}),_.citations))for(let x of _.citations){let E=Qk(x,y,this.generateId);E&&w.push(E)}break}case"thinking":{w.push({type:"reasoning",text:_.thinking,providerMetadata:{anthropic:{signature:_.signature}}});break}case"redacted_thinking":{w.push({type:"reasoning",text:"",providerMetadata:{anthropic:{redactedData:_.data}}});break}case"tool_use":{w.push(f?{type:"text",text:JSON.stringify(_.input)}:{type:"tool-call",toolCallId:_.id,toolName:_.name,input:JSON.stringify(_.input)});break}case"server_tool_use":{_.name==="text_editor_code_execution"||_.name==="bash_code_execution"?w.push({type:"tool-call",toolCallId:_.id,toolName:"code_execution",input:JSON.stringify({type:_.name,..._.input}),providerExecuted:!0}):(_.name==="web_search"||_.name==="code_execution"||_.name==="web_fetch")&&w.push({type:"tool-call",toolCallId:_.id,toolName:_.name,input:JSON.stringify(_.input),providerExecuted:!0});break}case"web_fetch_tool_result":{_.content.type==="web_fetch_result"?w.push({type:"tool-result",toolCallId:_.tool_use_id,toolName:"web_fetch",result:{type:"web_fetch_result",url:_.content.url,retrievedAt:_.content.retrieved_at,content:{type:_.content.content.type,title:_.content.content.title,citations:_.content.content.citations,source:{type:_.content.content.source.type,mediaType:_.content.content.source.media_type,data:_.content.content.source.data}}},providerExecuted:!0}):_.content.type==="web_fetch_tool_result_error"&&w.push({type:"tool-result",toolCallId:_.tool_use_id,toolName:"web_fetch",isError:!0,result:{type:"web_fetch_tool_result_error",errorCode:_.content.error_code},providerExecuted:!0});break}case"web_search_tool_result":{if(Array.isArray(_.content)){w.push({type:"tool-result",toolCallId:_.tool_use_id,toolName:"web_search",result:_.content.map(x=>{var E;return{url:x.url,title:x.title,pageAge:(E=x.page_age)!=null?E:null,encryptedContent:x.encrypted_content,type:x.type}}),providerExecuted:!0});for(let x of _.content)w.push({type:"source",sourceType:"url",id:this.generateId(),url:x.url,title:x.title,providerMetadata:{anthropic:{pageAge:(t=x.page_age)!=null?t:null}}})}else w.push({type:"tool-result",toolCallId:_.tool_use_id,toolName:"web_search",isError:!0,result:{type:"web_search_tool_result_error",errorCode:_.content.error_code},providerExecuted:!0});break}case"code_execution_tool_result":{_.content.type==="code_execution_result"?w.push({type:"tool-result",toolCallId:_.tool_use_id,toolName:"code_execution",result:{type:_.content.type,stdout:_.content.stdout,stderr:_.content.stderr,return_code:_.content.return_code},providerExecuted:!0}):_.content.type==="code_execution_tool_result_error"&&w.push({type:"tool-result",toolCallId:_.tool_use_id,toolName:"code_execution",isError:!0,result:{type:"code_execution_tool_result_error",errorCode:_.content.error_code},providerExecuted:!0});break}case"bash_code_execution_tool_result":case"text_editor_code_execution_tool_result":{w.push({type:"tool-result",toolCallId:_.tool_use_id,toolName:"code_execution",result:_.content,providerExecuted:!0});break}}return{content:w,finishReason:Yk({finishReason:v.stop_reason,isJsonResponseFromTool:f}),usage:{inputTokens:v.usage.input_tokens,outputTokens:v.usage.output_tokens,totalTokens:v.usage.input_tokens+v.usage.output_tokens,cachedInputTokens:(n=v.usage.cache_read_input_tokens)!=null?n:void 0},request:{body:d},response:{id:(o=v.id)!=null?o:void 0,modelId:(r=v.model)!=null?r:void 0,headers:g,body:b},warnings:p,providerMetadata:{anthropic:{usage:v.usage,cacheCreationInputTokens:(a=v.usage.cache_creation_input_tokens)!=null?a:null,stopSequence:(c=v.stop_sequence)!=null?c:null,container:v.container?{expiresAt:v.container.expires_at,id:v.container.id,skills:(l=(u=v.container.skills)==null?void 0:u.map(_=>({type:_.type,skillId:_.skill_id,version:_.version})))!=null?l:null}:null}}}}async doStream(e){let{args:t,warnings:n,betas:o,usesJsonResponseTool:r}=await this.getArgs({...e,userSuppliedBetas:await this.getBetasFromHeaders(e.headers)}),a=this.extractCitationDocuments(e.prompt),c={...t,stream:!0},u=this.buildRequestUrl(!0),{responseHeaders:l,value:d}=await Je({url:u,headers:await this.getHeaders({betas:o,headers:e.headers}),body:this.transformRequestBody(c),failedResponseHandler:Kk,successfulResponseHandler:Hr(j6),abortSignal:e.abortSignal,fetch:this.config.fetch}),p="unknown",m={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},f={},y,g=null,v=null,b=null,w,_=this.generateId,x=!0,E,D=new zk,Z=d.pipeThrough(new TransformStream({start($){$.enqueue({type:"stream-start",warnings:n})},async flush(){D.isPending()&&D.resolve({stream:E,request:{body:c},response:{headers:l}})},transform($,O){var te,V,Q,fe,Y,re,ke,ct,Ue,vt;if(e.includeRawChunks&&O.enqueue({type:"raw",rawValue:$.rawValue}),!$.success){O.enqueue({type:"error",error:$.error});return}if(x){if($.value.type==="error"){D.reject(new bt({message:$.value.error.message,url:u,requestBodyValues:c,statusCode:$.value.error.type==="overloaded_error"?529:500,responseHeaders:l,responseBody:JSON.stringify($.value.error),isRetryable:$.value.error.type==="overloaded_error"})),O.terminate();return}x=!1,D.resolve({stream:E,request:{body:c},response:{headers:l}})}let A=$.value;switch(A.type){case"ping":return;case"content_block_start":{let se=A.content_block.type;switch(w=se,se){case"text":{f[A.index]={type:"text"},O.enqueue({type:"text-start",id:String(A.index)});return}case"thinking":{f[A.index]={type:"reasoning"},O.enqueue({type:"reasoning-start",id:String(A.index)});return}case"redacted_thinking":{f[A.index]={type:"reasoning"},O.enqueue({type:"reasoning-start",id:String(A.index),providerMetadata:{anthropic:{redactedData:A.content_block.data}}});return}case"tool_use":{f[A.index]=r?{type:"text"}:{type:"tool-call",toolCallId:A.content_block.id,toolName:A.content_block.name,input:"",firstDelta:!0},O.enqueue(r?{type:"text-start",id:String(A.index)}:{type:"tool-input-start",id:A.content_block.id,toolName:A.content_block.name});return}case"server_tool_use":{if(["web_fetch","web_search","code_execution","text_editor_code_execution","bash_code_execution"].includes(A.content_block.name)){f[A.index]={type:"tool-call",toolCallId:A.content_block.id,toolName:A.content_block.name,input:"",providerExecuted:!0,firstDelta:!0};let W=A.content_block.name==="text_editor_code_execution"||A.content_block.name==="bash_code_execution"?"code_execution":A.content_block.name;O.enqueue({type:"tool-input-start",id:A.content_block.id,toolName:W,providerExecuted:!0})}return}case"web_fetch_tool_result":{let W=A.content_block;W.content.type==="web_fetch_result"?O.enqueue({type:"tool-result",toolCallId:W.tool_use_id,toolName:"web_fetch",result:{type:"web_fetch_result",url:W.content.url,retrievedAt:W.content.retrieved_at,content:{type:W.content.content.type,title:W.content.content.title,citations:W.content.content.citations,source:{type:W.content.content.source.type,mediaType:W.content.content.source.media_type,data:W.content.content.source.data}}},providerExecuted:!0}):W.content.type==="web_fetch_tool_result_error"&&O.enqueue({type:"tool-result",toolCallId:W.tool_use_id,toolName:"web_fetch",isError:!0,result:{type:"web_fetch_tool_result_error",errorCode:W.content.error_code},providerExecuted:!0});return}case"web_search_tool_result":{let W=A.content_block;if(Array.isArray(W.content)){O.enqueue({type:"tool-result",toolCallId:W.tool_use_id,toolName:"web_search",result:W.content.map(S=>{var _e;return{url:S.url,title:S.title,pageAge:(_e=S.page_age)!=null?_e:null,encryptedContent:S.encrypted_content,type:S.type}}),providerExecuted:!0});for(let S of W.content)O.enqueue({type:"source",sourceType:"url",id:_(),url:S.url,title:S.title,providerMetadata:{anthropic:{pageAge:(te=S.page_age)!=null?te:null}}})}else O.enqueue({type:"tool-result",toolCallId:W.tool_use_id,toolName:"web_search",isError:!0,result:{type:"web_search_tool_result_error",errorCode:W.content.error_code},providerExecuted:!0});return}case"code_execution_tool_result":{let W=A.content_block;W.content.type==="code_execution_result"?O.enqueue({type:"tool-result",toolCallId:W.tool_use_id,toolName:"code_execution",result:{type:W.content.type,stdout:W.content.stdout,stderr:W.content.stderr,return_code:W.content.return_code},providerExecuted:!0}):W.content.type==="code_execution_tool_result_error"&&O.enqueue({type:"tool-result",toolCallId:W.tool_use_id,toolName:"code_execution",isError:!0,result:{type:"code_execution_tool_result_error",errorCode:W.content.error_code},providerExecuted:!0});return}case"bash_code_execution_tool_result":case"text_editor_code_execution_tool_result":{let W=A.content_block;O.enqueue({type:"tool-result",toolCallId:W.tool_use_id,toolName:"code_execution",result:W.content,providerExecuted:!0});return}default:{let W=se;throw new Error(`Unsupported content block type: ${W}`)}}}case"content_block_stop":{if(f[A.index]!=null){let se=f[A.index];switch(se.type){case"text":{O.enqueue({type:"text-end",id:String(A.index)});break}case"reasoning":{O.enqueue({type:"reasoning-end",id:String(A.index)});break}case"tool-call":if(!r){O.enqueue({type:"tool-input-end",id:se.toolCallId});let W=se.toolName==="text_editor_code_execution"||se.toolName==="bash_code_execution"?"code_execution":se.toolName;O.enqueue({type:"tool-call",toolCallId:se.toolCallId,toolName:W,input:se.input,providerExecuted:se.providerExecuted})}break}delete f[A.index]}w=void 0;return}case"content_block_delta":{let se=A.delta.type;switch(se){case"text_delta":{if(r)return;O.enqueue({type:"text-delta",id:String(A.index),delta:A.delta.text});return}case"thinking_delta":{O.enqueue({type:"reasoning-delta",id:String(A.index),delta:A.delta.thinking});return}case"signature_delta":{w==="thinking"&&O.enqueue({type:"reasoning-delta",id:String(A.index),delta:"",providerMetadata:{anthropic:{signature:A.delta.signature}}});return}case"input_json_delta":{let W=f[A.index],S=A.delta.partial_json;if(S.length===0)return;if(r){if(W?.type!=="text")return;O.enqueue({type:"text-delta",id:String(A.index),delta:S})}else{if(W?.type!=="tool-call")return;W.firstDelta&&(W.toolName==="bash_code_execution"||W.toolName==="text_editor_code_execution")&&(S=`{"type": "${W.toolName}",${S.substring(1)}`),O.enqueue({type:"tool-input-delta",id:W.toolCallId,delta:S}),W.input+=S,W.firstDelta=!1}return}case"citations_delta":{let W=A.delta.citation,S=Qk(W,a,_);S&&O.enqueue(S);return}default:{let W=se;throw new Error(`Unsupported delta type: ${W}`)}}}case"message_start":{m.inputTokens=A.message.usage.input_tokens,m.cachedInputTokens=(V=A.message.usage.cache_read_input_tokens)!=null?V:void 0,y={...A.message.usage},g=(Q=A.message.usage.cache_creation_input_tokens)!=null?Q:null,O.enqueue({type:"response-metadata",id:(fe=A.message.id)!=null?fe:void 0,modelId:(Y=A.message.model)!=null?Y:void 0});return}case"message_delta":{m.outputTokens=A.usage.output_tokens,m.totalTokens=((re=m.inputTokens)!=null?re:0)+((ke=A.usage.output_tokens)!=null?ke:0),p=Yk({finishReason:A.delta.stop_reason,isJsonResponseFromTool:r}),v=(ct=A.delta.stop_sequence)!=null?ct:null,b=A.delta.container!=null?{expiresAt:A.delta.container.expires_at,id:A.delta.container.id,skills:(vt=(Ue=A.delta.container.skills)==null?void 0:Ue.map(se=>({type:se.type,skillId:se.skill_id,version:se.version})))!=null?vt:null}:null,y={...y,...A.usage};return}case"message_stop":{O.enqueue({type:"finish",finishReason:p,usage:m,providerMetadata:{anthropic:{usage:y??null,cacheCreationInputTokens:g,stopSequence:v,container:b}}});return}case"error":{O.enqueue({type:"error",error:A.error});return}default:{let se=A;throw new Error(`Unsupported chunk type: ${se}`)}}}})),[j,G]=Z.tee();E=G;let N=j.getReader();return(async()=>{try{let{done:$}=await N.read();$||await N.cancel()}catch{try{await N.cancel()}catch{}}finally{N.releaseLock()}})(),D.promise}};function cB(e){return e.includes("claude-sonnet-4-5")||e.includes("claude-opus-4-5")?{maxOutputTokens:64e3,supportsStructuredOutput:!0,isKnownModel:!0}:e.includes("claude-opus-4-1")?{maxOutputTokens:32e3,supportsStructuredOutput:!0,isKnownModel:!0}:e.includes("claude-sonnet-4-")||e.includes("claude-3-7-sonnet")||e.includes("claude-haiku-4-5")?{maxOutputTokens:64e3,supportsStructuredOutput:!1,isKnownModel:!0}:e.includes("claude-opus-4-")?{maxOutputTokens:32e3,supportsStructuredOutput:!1,isKnownModel:!0}:e.includes("claude-3-5-haiku")?{maxOutputTokens:8192,supportsStructuredOutput:!1,isKnownModel:!0}:e.includes("claude-3-haiku")?{maxOutputTokens:4096,supportsStructuredOutput:!1,isKnownModel:!0}:{maxOutputTokens:4096,supportsStructuredOutput:!1,isKnownModel:!1}}s(cB,"getModelCapabilities");var uB=H(()=>C(i.object({command:i.string(),restart:i.boolean().optional()}))),lB=Ke({id:"anthropic.bash_20241022",name:"bash",inputSchema:uB}),dB=H(()=>C(i.object({command:i.string(),restart:i.boolean().optional()}))),pB=Ke({id:"anthropic.bash_20250124",name:"bash",inputSchema:dB}),mB=H(()=>C(i.object({action:i.enum(["key","type","mouse_move","left_click","left_click_drag","right_click","middle_click","double_click","screenshot","cursor_position"]),coordinate:i.array(i.number().int()).optional(),text:i.string().optional()}))),fB=Ke({id:"anthropic.computer_20241022",name:"computer",inputSchema:mB}),hB=H(()=>C(i.object({action:i.enum(["key","hold_key","type","cursor_position","mouse_move","left_mouse_down","left_mouse_up","left_click","left_click_drag","right_click","middle_click","double_click","triple_click","scroll","wait","screenshot"]),coordinate:i.tuple([i.number().int(),i.number().int()]).optional(),duration:i.number().optional(),scroll_amount:i.number().optional(),scroll_direction:i.enum(["up","down","left","right"]).optional(),start_coordinate:i.tuple([i.number().int(),i.number().int()]).optional(),text:i.string().optional()}))),gB=Ke({id:"anthropic.computer_20250124",name:"computer",inputSchema:hB}),yB=H(()=>C(i.discriminatedUnion("command",[i.object({command:i.literal("view"),path:i.string(),view_range:i.tuple([i.number(),i.number()]).optional()}),i.object({command:i.literal("create"),path:i.string(),file_text:i.string()}),i.object({command:i.literal("str_replace"),path:i.string(),old_str:i.string(),new_str:i.string()}),i.object({command:i.literal("insert"),path:i.string(),insert_line:i.number(),insert_text:i.string()}),i.object({command:i.literal("delete"),path:i.string()}),i.object({command:i.literal("rename"),old_path:i.string(),new_path:i.string()})]))),vB=Ke({id:"anthropic.memory_20250818",name:"memory",inputSchema:yB}),_B=H(()=>C(i.object({command:i.enum(["view","create","str_replace","insert","undo_edit"]),path:i.string(),file_text:i.string().optional(),insert_line:i.number().int().optional(),new_str:i.string().optional(),old_str:i.string().optional(),view_range:i.array(i.number().int()).optional()}))),bB=Ke({id:"anthropic.text_editor_20241022",name:"str_replace_editor",inputSchema:_B}),xB=H(()=>C(i.object({command:i.enum(["view","create","str_replace","insert","undo_edit"]),path:i.string(),file_text:i.string().optional(),insert_line:i.number().int().optional(),new_str:i.string().optional(),old_str:i.string().optional(),view_range:i.array(i.number().int()).optional()}))),wB=Ke({id:"anthropic.text_editor_20250124",name:"str_replace_editor",inputSchema:xB}),SB=H(()=>C(i.object({command:i.enum(["view","create","str_replace","insert"]),path:i.string(),file_text:i.string().optional(),insert_line:i.number().int().optional(),new_str:i.string().optional(),old_str:i.string().optional(),view_range:i.array(i.number().int()).optional()}))),IB=Ke({id:"anthropic.text_editor_20250429",name:"str_replace_based_edit_tool",inputSchema:SB}),TB={bash_20241022:lB,bash_20250124:pB,codeExecution_20250522:eB,codeExecution_20250825:nB,computer_20241022:fB,computer_20250124:gB,memory_20250818:vB,textEditor_20241022:bB,textEditor_20250124:wB,textEditor_20250429:IB,textEditor_20250728:F6,webFetch_20250910:W6,webSearch_20250305:H6};function EB(e={}){var t,n;let o=(t=ei(Sd({settingValue:e.baseURL,environmentVariableName:"ANTHROPIC_BASE_URL"})))!=null?t:"https://api.anthropic.com/v1",r=(n=e.name)!=null?n:"anthropic.messages",a=s(()=>Oo({"anthropic-version":"2023-06-01","x-api-key":Ya({apiKey:e.apiKey,environmentVariableName:"ANTHROPIC_API_KEY",description:"Anthropic"}),...e.headers},`ai-sdk/anthropic/${O6}`),"getHeaders"),c=s(l=>{var d;return new sB(l,{provider:r,baseURL:o,headers:a,fetch:e.fetch,generateId:(d=e.generateId)!=null?d:ht,supportedUrls:s(()=>({"image/*":[/^https?:\/\/.*$/]}),"supportedUrls")})},"createChatModel"),u=s(function(l){if(new.target)throw new Error("The Anthropic model function cannot be called with the new keyword.");return c(l)},"provider");return u.languageModel=c,u.chat=c,u.messages=c,u.textEmbeddingModel=l=>{throw new k_({modelId:l,modelType:"textEmbeddingModel"})},u.imageModel=l=>{throw new k_({modelId:l,modelType:"imageModel"})},u.tools=TB,u}s(EB,"createAnthropic");var Z_=EB();var kB="2.0.44",PB=H(()=>C(i.object({error:i.object({code:i.number().nullable(),message:i.string(),status:i.string()})}))),bc=Qa({errorSchema:PB,errorToMessage:s(e=>e.error.message,"errorToMessage")}),AB=H(()=>C(i.object({outputDimensionality:i.number().optional(),taskType:i.enum(["SEMANTIC_SIMILARITY","CLASSIFICATION","CLUSTERING","RETRIEVAL_DOCUMENT","RETRIEVAL_QUERY","QUESTION_ANSWERING","FACT_VERIFICATION","CODE_RETRIEVAL_QUERY"]).optional()}))),$B=class{static{s(this,"GoogleGenerativeAIEmbeddingModel")}constructor(e,t){this.specificationVersion="v2",this.maxEmbeddingsPerCall=2048,this.supportsParallelCalls=!0,this.modelId=e,this.config=t}get provider(){return this.config.provider}async doEmbed({values:e,headers:t,abortSignal:n,providerOptions:o}){let r=await Ze({provider:"google",providerOptions:o,schema:AB});if(e.length>this.maxEmbeddingsPerCall)throw new gd({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});let a=Ge(await Vr(this.config.headers),t);if(e.length===1){let{responseHeaders:d,value:p,rawValue:m}=await Je({url:`${this.config.baseURL}/models/${this.modelId}:embedContent`,headers:a,body:{model:`models/${this.modelId}`,content:{parts:[{text:e[0]}]},outputDimensionality:r?.outputDimensionality,taskType:r?.taskType},failedResponseHandler:bc,successfulResponseHandler:mt(OB),abortSignal:n,fetch:this.config.fetch});return{embeddings:[p.embedding.values],usage:void 0,response:{headers:d,body:m}}}let{responseHeaders:c,value:u,rawValue:l}=await Je({url:`${this.config.baseURL}/models/${this.modelId}:batchEmbedContents`,headers:a,body:{requests:e.map(d=>({model:`models/${this.modelId}`,content:{role:"user",parts:[{text:d}]},outputDimensionality:r?.outputDimensionality,taskType:r?.taskType}))},failedResponseHandler:bc,successfulResponseHandler:mt(RB),abortSignal:n,fetch:this.config.fetch});return{embeddings:u.embeddings.map(d=>d.values),usage:void 0,response:{headers:c,body:l}}}},RB=H(()=>C(i.object({embeddings:i.array(i.object({values:i.array(i.number())}))}))),OB=H(()=>C(i.object({embedding:i.object({values:i.array(i.number())})})));function Gr(e){if(e==null||CB(e))return;if(typeof e=="boolean")return{type:"boolean",properties:{}};let{type:t,description:n,required:o,properties:r,items:a,allOf:c,anyOf:u,oneOf:l,format:d,const:p,minLength:m,enum:f}=e,y={};if(n&&(y.description=n),o&&(y.required=o),d&&(y.format=d),p!==void 0&&(y.enum=[p]),t)if(Array.isArray(t)){let g=t.includes("null"),v=t.filter(b=>b!=="null");v.length===0?y.type="null":(y.anyOf=v.map(b=>({type:b})),g&&(y.nullable=!0))}else y.type=t;if(f!==void 0&&(y.enum=f),r!=null&&(y.properties=Object.entries(r).reduce((g,[v,b])=>(g[v]=Gr(b),g),{})),a&&(y.items=Array.isArray(a)?a.map(Gr):Gr(a)),c&&(y.allOf=c.map(Gr)),u)if(u.some(g=>typeof g=="object"&&g?.type==="null")){let g=u.filter(v=>!(typeof v=="object"&&v?.type==="null"));if(g.length===1){let v=Gr(g[0]);typeof v=="object"&&(y.nullable=!0,Object.assign(y,v))}else y.anyOf=g.map(Gr),y.nullable=!0}else y.anyOf=u.map(Gr);return l&&(y.oneOf=l.map(Gr)),m!==void 0&&(y.minLength=m),y}s(Gr,"convertJSONSchemaToOpenAPISchema");function CB(e){return e!=null&&typeof e=="object"&&e.type==="object"&&(e.properties==null||Object.keys(e.properties).length===0)&&!e.additionalProperties}s(CB,"isEmptyObjectSchema");function NB(e,t){var n;let o=[],r=[],a=!0,c=(n=t?.isGemmaModel)!=null?n:!1;for(let{role:u,content:l}of e)switch(u){case"system":{if(!a)throw new Oe({functionality:"system messages are only supported at the beginning of the conversation"});o.push({text:l});break}case"user":{a=!1;let d=[];for(let p of l)switch(p.type){case"text":{d.push({text:p.text});break}case"file":{let m=p.mediaType==="image/*"?"image/jpeg":p.mediaType;d.push(p.data instanceof URL?{fileData:{mimeType:m,fileUri:p.data.toString()}}:{inlineData:{mimeType:m,data:Wt(p.data)}});break}}r.push({role:"user",parts:d});break}case"assistant":{a=!1,r.push({role:"model",parts:l.map(d=>{var p,m,f;let y=((m=(p=d.providerOptions)==null?void 0:p.google)==null?void 0:m.thoughtSignature)!=null?String((f=d.providerOptions.google)==null?void 0:f.thoughtSignature):void 0;switch(d.type){case"text":return d.text.length===0?void 0:{text:d.text,thoughtSignature:y};case"reasoning":return d.text.length===0?void 0:{text:d.text,thought:!0,thoughtSignature:y};case"file":{if(d.mediaType!=="image/png")throw new Oe({functionality:"Only PNG images are supported in assistant messages"});if(d.data instanceof URL)throw new Oe({functionality:"File data URLs in assistant messages are not supported"});return{inlineData:{mimeType:d.mediaType,data:Wt(d.data)}}}case"tool-call":return{functionCall:{name:d.toolName,args:d.input},thoughtSignature:y}}}).filter(d=>d!==void 0)});break}case"tool":{a=!1;let d=[];for(let p of l){let m=p.output;if(m.type==="content")for(let f of m.value)switch(f.type){case"text":d.push({functionResponse:{name:p.toolName,response:{name:p.toolName,content:f.text}}});break;case"media":d.push({inlineData:{mimeType:f.mediaType,data:f.data}},{text:"Tool executed successfully and returned this image as a response"});break;default:d.push({text:JSON.stringify(f)});break}else d.push({functionResponse:{name:p.toolName,response:{name:p.toolName,content:m.value}}})}r.push({role:"user",parts:d});break}}if(c&&o.length>0&&r.length>0&&r[0].role==="user"){let u=o.map(l=>l.text).join(`

`);r[0].parts.unshift({text:u+`

`})}return{systemInstruction:o.length>0&&!c?{parts:o}:void 0,contents:r}}s(NB,"convertToGoogleGenerativeAIMessages");function oP(e){return e.includes("/")?e:`models/${e}`}s(oP,"getModelPath");var jB=H(()=>C(i.object({responseModalities:i.array(i.enum(["TEXT","IMAGE"])).optional(),thinkingConfig:i.object({thinkingBudget:i.number().optional(),includeThoughts:i.boolean().optional(),thinkingLevel:i.enum(["low","medium","high"]).optional()}).optional(),cachedContent:i.string().optional(),structuredOutputs:i.boolean().optional(),safetySettings:i.array(i.object({category:i.enum(["HARM_CATEGORY_UNSPECIFIED","HARM_CATEGORY_HATE_SPEECH","HARM_CATEGORY_DANGEROUS_CONTENT","HARM_CATEGORY_HARASSMENT","HARM_CATEGORY_SEXUALLY_EXPLICIT","HARM_CATEGORY_CIVIC_INTEGRITY"]),threshold:i.enum(["HARM_BLOCK_THRESHOLD_UNSPECIFIED","BLOCK_LOW_AND_ABOVE","BLOCK_MEDIUM_AND_ABOVE","BLOCK_ONLY_HIGH","BLOCK_NONE","OFF"])})).optional(),threshold:i.enum(["HARM_BLOCK_THRESHOLD_UNSPECIFIED","BLOCK_LOW_AND_ABOVE","BLOCK_MEDIUM_AND_ABOVE","BLOCK_ONLY_HIGH","BLOCK_NONE","OFF"]).optional(),audioTimestamp:i.boolean().optional(),labels:i.record(i.string(),i.string()).optional(),mediaResolution:i.enum(["MEDIA_RESOLUTION_UNSPECIFIED","MEDIA_RESOLUTION_LOW","MEDIA_RESOLUTION_MEDIUM","MEDIA_RESOLUTION_HIGH"]).optional(),imageConfig:i.object({aspectRatio:i.enum(["1:1","2:3","3:2","3:4","4:3","4:5","5:4","9:16","16:9","21:9"]).optional(),imageSize:i.enum(["1K","2K","4K"]).optional()}).optional()})));function DB({tools:e,toolChoice:t,modelId:n}){var o;e=e?.length?e:void 0;let r=[],a=["gemini-flash-latest","gemini-flash-lite-latest","gemini-pro-latest"].some(y=>y===n),c=n.includes("gemini-2")||n.includes("gemini-3")||a,u=n.includes("gemini-1.5-flash")&&!n.includes("-8b"),l=n.includes("gemini-2.5");if(e==null)return{tools:void 0,toolConfig:void 0,toolWarnings:r};let d=e.some(y=>y.type==="function"),p=e.some(y=>y.type==="provider-defined");if(d&&p){let y=e.filter(g=>g.type==="function");r.push({type:"unsupported-tool",tool:e.find(g=>g.type==="function"),details:`Cannot mix function tools with provider-defined tools in the same request. Falling back to provider-defined tools only. The following function tools will be ignored: ${y.map(g=>g.name).join(", ")}. Please use either function tools or provider-defined tools, but not both.`})}if(p){let y=[];return e.filter(v=>v.type==="provider-defined").forEach(v=>{switch(v.id){case"google.google_search":c?y.push({googleSearch:{}}):u?y.push({googleSearchRetrieval:{dynamicRetrievalConfig:{mode:v.args.mode,dynamicThreshold:v.args.dynamicThreshold}}}):y.push({googleSearchRetrieval:{}});break;case"google.url_context":c?y.push({urlContext:{}}):r.push({type:"unsupported-tool",tool:v,details:"The URL context tool is not supported with other Gemini models than Gemini 2."});break;case"google.code_execution":c?y.push({codeExecution:{}}):r.push({type:"unsupported-tool",tool:v,details:"The code execution tools is not supported with other Gemini models than Gemini 2."});break;case"google.file_search":l?y.push({fileSearch:{...v.args}}):r.push({type:"unsupported-tool",tool:v,details:"The file search tool is only supported with Gemini 2.5 models."});break;case"google.vertex_rag_store":c?y.push({retrieval:{vertex_rag_store:{rag_resources:{rag_corpus:v.args.ragCorpus},similarity_top_k:v.args.topK}}}):r.push({type:"unsupported-tool",tool:v,details:"The RAG store tool is not supported with other Gemini models than Gemini 2."});break;default:r.push({type:"unsupported-tool",tool:v});break}}),{tools:y.length>0?y:void 0,toolConfig:void 0,toolWarnings:r}}let m=[];for(let y of e)switch(y.type){case"function":m.push({name:y.name,description:(o=y.description)!=null?o:"",parameters:Gr(y.inputSchema)});break;default:r.push({type:"unsupported-tool",tool:y});break}if(t==null)return{tools:[{functionDeclarations:m}],toolConfig:void 0,toolWarnings:r};let f=t.type;switch(f){case"auto":return{tools:[{functionDeclarations:m}],toolConfig:{functionCallingConfig:{mode:"AUTO"}},toolWarnings:r};case"none":return{tools:[{functionDeclarations:m}],toolConfig:{functionCallingConfig:{mode:"NONE"}},toolWarnings:r};case"required":return{tools:[{functionDeclarations:m}],toolConfig:{functionCallingConfig:{mode:"ANY"}},toolWarnings:r};case"tool":return{tools:[{functionDeclarations:m}],toolConfig:{functionCallingConfig:{mode:"ANY",allowedFunctionNames:[t.toolName]}},toolWarnings:r};default:{let y=f;throw new Oe({functionality:`tool choice type: ${y}`})}}}s(DB,"prepareTools");function aP({finishReason:e,hasToolCalls:t}){switch(e){case"STOP":return t?"tool-calls":"stop";case"MAX_TOKENS":return"length";case"IMAGE_SAFETY":case"RECITATION":case"SAFETY":case"BLOCKLIST":case"PROHIBITED_CONTENT":case"SPII":return"content-filter";case"FINISH_REASON_UNSPECIFIED":case"OTHER":return"other";case"MALFORMED_FUNCTION_CALL":return"error";default:return"unknown"}}s(aP,"mapGoogleGenerativeAIFinishReason");var zB=class{static{s(this,"GoogleGenerativeAILanguageModel")}constructor(e,t){this.specificationVersion="v2";var n;this.modelId=e,this.config=t,this.generateId=(n=t.generateId)!=null?n:ht}get provider(){return this.config.provider}get supportedUrls(){var e,t,n;return(n=(t=(e=this.config).supportedUrls)==null?void 0:t.call(e))!=null?n:{}}async getArgs({prompt:e,maxOutputTokens:t,temperature:n,topP:o,topK:r,frequencyPenalty:a,presencePenalty:c,stopSequences:u,responseFormat:l,seed:d,tools:p,toolChoice:m,providerOptions:f}){var y;let g=[],v=await Ze({provider:"google",providerOptions:f,schema:jB});p?.some(Z=>Z.type==="provider-defined"&&Z.id==="google.vertex_rag_store")&&!this.config.provider.startsWith("google.vertex.")&&g.push({type:"other",message:`The 'vertex_rag_store' tool is only supported with the Google Vertex provider and might not be supported or could behave unexpectedly with the current Google provider (${this.config.provider}).`});let b=this.modelId.toLowerCase().startsWith("gemma-"),{contents:w,systemInstruction:_}=NB(e,{isGemmaModel:b}),{tools:x,toolConfig:E,toolWarnings:D}=DB({tools:p,toolChoice:m,modelId:this.modelId});return{args:{generationConfig:{maxOutputTokens:t,temperature:n,topK:r,topP:o,frequencyPenalty:a,presencePenalty:c,stopSequences:u,seed:d,responseMimeType:l?.type==="json"?"application/json":void 0,responseSchema:l?.type==="json"&&l.schema!=null&&((y=v?.structuredOutputs)==null||y)?Gr(l.schema):void 0,...v?.audioTimestamp&&{audioTimestamp:v.audioTimestamp},responseModalities:v?.responseModalities,thinkingConfig:v?.thinkingConfig,...v?.imageConfig&&{imageConfig:v.imageConfig},...v?.mediaResolution&&{mediaResolution:v.mediaResolution}},contents:w,systemInstruction:b?void 0:_,safetySettings:v?.safetySettings,tools:x,toolConfig:E,cachedContent:v?.cachedContent,labels:v?.labels},warnings:[...g,...D]}}async doGenerate(e){var t,n,o,r,a,c,u,l,d,p,m,f,y;let{args:g,warnings:v}=await this.getArgs(e),b=JSON.stringify(g),w=Ge(await Vr(this.config.headers),e.headers),{responseHeaders:_,value:x,rawValue:E}=await Je({url:`${this.config.baseURL}/${oP(this.modelId)}:generateContent`,headers:w,body:g,failedResponseHandler:bc,successfulResponseHandler:mt(UB),abortSignal:e.abortSignal,fetch:this.config.fetch}),D=x.candidates[0],Z=[],j=(n=(t=D.content)==null?void 0:t.parts)!=null?n:[],G=x.usageMetadata,N;for(let O of j)if("executableCode"in O&&((o=O.executableCode)!=null&&o.code)){let te=this.config.generateId();N=te,Z.push({type:"tool-call",toolCallId:te,toolName:"code_execution",input:JSON.stringify(O.executableCode),providerExecuted:!0})}else"codeExecutionResult"in O&&O.codeExecutionResult?(Z.push({type:"tool-result",toolCallId:N,toolName:"code_execution",result:{outcome:O.codeExecutionResult.outcome,output:O.codeExecutionResult.output},providerExecuted:!0}),N=void 0):"text"in O&&O.text!=null&&O.text.length>0?Z.push({type:O.thought===!0?"reasoning":"text",text:O.text,providerMetadata:O.thoughtSignature?{google:{thoughtSignature:O.thoughtSignature}}:void 0}):"functionCall"in O?Z.push({type:"tool-call",toolCallId:this.config.generateId(),toolName:O.functionCall.name,input:JSON.stringify(O.functionCall.args),providerMetadata:O.thoughtSignature?{google:{thoughtSignature:O.thoughtSignature}}:void 0}):"inlineData"in O&&Z.push({type:"file",data:O.inlineData.data,mediaType:O.inlineData.mimeType});let $=(r=iP({groundingMetadata:D.groundingMetadata,generateId:this.config.generateId}))!=null?r:[];for(let O of $)Z.push(O);return{content:Z,finishReason:aP({finishReason:D.finishReason,hasToolCalls:Z.some(O=>O.type==="tool-call")}),usage:{inputTokens:(a=G?.promptTokenCount)!=null?a:void 0,outputTokens:(c=G?.candidatesTokenCount)!=null?c:void 0,totalTokens:(u=G?.totalTokenCount)!=null?u:void 0,reasoningTokens:(l=G?.thoughtsTokenCount)!=null?l:void 0,cachedInputTokens:(d=G?.cachedContentTokenCount)!=null?d:void 0},warnings:v,providerMetadata:{google:{promptFeedback:(p=x.promptFeedback)!=null?p:null,groundingMetadata:(m=D.groundingMetadata)!=null?m:null,urlContextMetadata:(f=D.urlContextMetadata)!=null?f:null,safetyRatings:(y=D.safetyRatings)!=null?y:null,usageMetadata:G??null}},request:{body:b},response:{headers:_,body:E}}}async doStream(e){let{args:t,warnings:n}=await this.getArgs(e),o=JSON.stringify(t),r=Ge(await Vr(this.config.headers),e.headers),{responseHeaders:a,value:c}=await Je({url:`${this.config.baseURL}/${oP(this.modelId)}:streamGenerateContent?alt=sse`,headers:r,body:t,failedResponseHandler:bc,successfulResponseHandler:Hr(LB),abortSignal:e.abortSignal,fetch:this.config.fetch}),u="unknown",l={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},d,p=this.config.generateId,m=!1,f=null,y=null,g=0,v=new Set,b;return{stream:c.pipeThrough(new TransformStream({start(w){w.enqueue({type:"stream-start",warnings:n})},transform(w,_){var x,E,D,Z,j,G,N,$,O,te,V,Q;if(e.includeRawChunks&&_.enqueue({type:"raw",rawValue:w.rawValue}),!w.success){_.enqueue({type:"error",error:w.error});return}let fe=w.value,Y=fe.usageMetadata;Y!=null&&(l.inputTokens=(x=Y.promptTokenCount)!=null?x:void 0,l.outputTokens=(E=Y.candidatesTokenCount)!=null?E:void 0,l.totalTokens=(D=Y.totalTokenCount)!=null?D:void 0,l.reasoningTokens=(Z=Y.thoughtsTokenCount)!=null?Z:void 0,l.cachedInputTokens=(j=Y.cachedContentTokenCount)!=null?j:void 0);let re=(G=fe.candidates)==null?void 0:G[0];if(re==null)return;let ke=re.content,ct=iP({groundingMetadata:re.groundingMetadata,generateId:p});if(ct!=null)for(let Ue of ct)Ue.sourceType==="url"&&!v.has(Ue.url)&&(v.add(Ue.url),_.enqueue(Ue));if(ke!=null){let Ue=(N=ke.parts)!=null?N:[];for(let A of Ue)if("executableCode"in A&&(($=A.executableCode)!=null&&$.code)){let se=p();b=se,_.enqueue({type:"tool-call",toolCallId:se,toolName:"code_execution",input:JSON.stringify(A.executableCode),providerExecuted:!0}),m=!0}else if("codeExecutionResult"in A&&A.codeExecutionResult){let se=b;se&&(_.enqueue({type:"tool-result",toolCallId:se,toolName:"code_execution",result:{outcome:A.codeExecutionResult.outcome,output:A.codeExecutionResult.output},providerExecuted:!0}),b=void 0)}else"text"in A&&A.text!=null&&A.text.length>0?A.thought===!0?(f!==null&&(_.enqueue({type:"text-end",id:f}),f=null),y===null&&(y=String(g++),_.enqueue({type:"reasoning-start",id:y,providerMetadata:A.thoughtSignature?{google:{thoughtSignature:A.thoughtSignature}}:void 0})),_.enqueue({type:"reasoning-delta",id:y,delta:A.text,providerMetadata:A.thoughtSignature?{google:{thoughtSignature:A.thoughtSignature}}:void 0})):(y!==null&&(_.enqueue({type:"reasoning-end",id:y}),y=null),f===null&&(f=String(g++),_.enqueue({type:"text-start",id:f,providerMetadata:A.thoughtSignature?{google:{thoughtSignature:A.thoughtSignature}}:void 0})),_.enqueue({type:"text-delta",id:f,delta:A.text,providerMetadata:A.thoughtSignature?{google:{thoughtSignature:A.thoughtSignature}}:void 0})):"inlineData"in A&&_.enqueue({type:"file",mediaType:A.inlineData.mimeType,data:A.inlineData.data});let vt=MB({parts:ke.parts,generateId:p});if(vt!=null)for(let A of vt)_.enqueue({type:"tool-input-start",id:A.toolCallId,toolName:A.toolName,providerMetadata:A.providerMetadata}),_.enqueue({type:"tool-input-delta",id:A.toolCallId,delta:A.args,providerMetadata:A.providerMetadata}),_.enqueue({type:"tool-input-end",id:A.toolCallId,providerMetadata:A.providerMetadata}),_.enqueue({type:"tool-call",toolCallId:A.toolCallId,toolName:A.toolName,input:A.args,providerMetadata:A.providerMetadata}),m=!0}re.finishReason!=null&&(u=aP({finishReason:re.finishReason,hasToolCalls:m}),d={google:{promptFeedback:(O=fe.promptFeedback)!=null?O:null,groundingMetadata:(te=re.groundingMetadata)!=null?te:null,urlContextMetadata:(V=re.urlContextMetadata)!=null?V:null,safetyRatings:(Q=re.safetyRatings)!=null?Q:null}},Y!=null&&(d.google.usageMetadata=Y))},flush(w){f!==null&&w.enqueue({type:"text-end",id:f}),y!==null&&w.enqueue({type:"reasoning-end",id:y}),w.enqueue({type:"finish",finishReason:u,usage:l,providerMetadata:d})}})),response:{headers:a},request:{body:o}}}};function MB({parts:e,generateId:t}){let n=e?.filter(o=>"functionCall"in o);return n==null||n.length===0?void 0:n.map(o=>({type:"tool-call",toolCallId:t(),toolName:o.functionCall.name,args:JSON.stringify(o.functionCall.args),providerMetadata:o.thoughtSignature?{google:{thoughtSignature:o.thoughtSignature}}:void 0}))}s(MB,"getToolCallsFromParts");function iP({groundingMetadata:e,generateId:t}){var n,o,r,a;if(!e?.groundingChunks)return;let c=[];for(let u of e.groundingChunks)if(u.web!=null)c.push({type:"source",sourceType:"url",id:t(),url:u.web.uri,title:(n=u.web.title)!=null?n:void 0});else if(u.retrievedContext!=null){let l=u.retrievedContext.uri,d=u.retrievedContext.fileSearchStore;if(l&&(l.startsWith("http://")||l.startsWith("https://")))c.push({type:"source",sourceType:"url",id:t(),url:l,title:(o=u.retrievedContext.title)!=null?o:void 0});else if(l){let p=(r=u.retrievedContext.title)!=null?r:"Unknown Document",m="application/octet-stream",f;l.endsWith(".pdf")?(m="application/pdf",f=l.split("/").pop()):l.endsWith(".txt")?(m="text/plain",f=l.split("/").pop()):l.endsWith(".docx")?(m="application/vnd.openxmlformats-officedocument.wordprocessingml.document",f=l.split("/").pop()):l.endsWith(".doc")?(m="application/msword",f=l.split("/").pop()):(l.match(/\.(md|markdown)$/)&&(m="text/markdown"),f=l.split("/").pop()),c.push({type:"source",sourceType:"document",id:t(),mediaType:m,title:p,filename:f})}else if(d){let p=(a=u.retrievedContext.title)!=null?a:"Unknown Document";c.push({type:"source",sourceType:"document",id:t(),mediaType:"application/octet-stream",title:p,filename:d.split("/").pop()})}}return c.length>0?c:void 0}s(iP,"extractSources");var sP=s(()=>i.object({webSearchQueries:i.array(i.string()).nullish(),retrievalQueries:i.array(i.string()).nullish(),searchEntryPoint:i.object({renderedContent:i.string()}).nullish(),groundingChunks:i.array(i.object({web:i.object({uri:i.string(),title:i.string().nullish()}).nullish(),retrievedContext:i.object({uri:i.string().nullish(),title:i.string().nullish(),text:i.string().nullish(),fileSearchStore:i.string().nullish()}).nullish()})).nullish(),groundingSupports:i.array(i.object({segment:i.object({startIndex:i.number().nullish(),endIndex:i.number().nullish(),text:i.string().nullish()}),segment_text:i.string().nullish(),groundingChunkIndices:i.array(i.number()).nullish(),supportChunkIndices:i.array(i.number()).nullish(),confidenceScores:i.array(i.number()).nullish(),confidenceScore:i.array(i.number()).nullish()})).nullish(),retrievalMetadata:i.union([i.object({webDynamicRetrievalScore:i.number()}),i.object({})]).nullish()}),"getGroundingMetadataSchema"),cP=s(()=>i.object({parts:i.array(i.union([i.object({functionCall:i.object({name:i.string(),args:i.unknown()}),thoughtSignature:i.string().nullish()}),i.object({inlineData:i.object({mimeType:i.string(),data:i.string()})}),i.object({executableCode:i.object({language:i.string(),code:i.string()}).nullish(),codeExecutionResult:i.object({outcome:i.string(),output:i.string()}).nullish(),text:i.string().nullish(),thought:i.boolean().nullish(),thoughtSignature:i.string().nullish()})])).nullish()}),"getContentSchema"),Id=s(()=>i.object({category:i.string().nullish(),probability:i.string().nullish(),probabilityScore:i.number().nullish(),severity:i.string().nullish(),severityScore:i.number().nullish(),blocked:i.boolean().nullish()}),"getSafetyRatingSchema"),uP=i.object({cachedContentTokenCount:i.number().nullish(),thoughtsTokenCount:i.number().nullish(),promptTokenCount:i.number().nullish(),candidatesTokenCount:i.number().nullish(),totalTokenCount:i.number().nullish(),trafficType:i.string().nullish()}),lP=s(()=>i.object({urlMetadata:i.array(i.object({retrievedUrl:i.string(),urlRetrievalStatus:i.string()}))}),"getUrlContextMetadataSchema"),UB=H(()=>C(i.object({candidates:i.array(i.object({content:cP().nullish().or(i.object({}).strict()),finishReason:i.string().nullish(),safetyRatings:i.array(Id()).nullish(),groundingMetadata:sP().nullish(),urlContextMetadata:lP().nullish()})),usageMetadata:uP.nullish(),promptFeedback:i.object({blockReason:i.string().nullish(),safetyRatings:i.array(Id()).nullish()}).nullish()}))),LB=H(()=>C(i.object({candidates:i.array(i.object({content:cP().nullish(),finishReason:i.string().nullish(),safetyRatings:i.array(Id()).nullish(),groundingMetadata:sP().nullish(),urlContextMetadata:lP().nullish()})).nullish(),usageMetadata:uP.nullish(),promptFeedback:i.object({blockReason:i.string().nullish(),safetyRatings:i.array(Id()).nullish()}).nullish()}))),qB=ot({id:"google.code_execution",name:"code_execution",inputSchema:i.object({language:i.string().describe("The programming language of the code."),code:i.string().describe("The code to be executed.")}),outputSchema:i.object({outcome:i.string().describe('The outcome of the execution (e.g., "OUTCOME_OK").'),output:i.string().describe("The output from the code execution.")})}),FB=i.object({fileSearchStoreNames:i.array(i.string()).describe("The names of the file_search_stores to retrieve from. Example: `fileSearchStores/my-file-search-store-123`"),topK:i.number().int().positive().describe("The number of file search retrieval chunks to retrieve.").optional(),metadataFilter:i.string().describe("Metadata filter to apply to the file search retrieval documents. See https://google.aip.dev/160 for the syntax of the filter expression.").optional()}).passthrough(),BB=H(()=>C(FB)),ZB=Ke({id:"google.file_search",name:"file_search",inputSchema:BB}),VB=Ke({id:"google.google_search",name:"google_search",inputSchema:H(()=>C(i.object({mode:i.enum(["MODE_DYNAMIC","MODE_UNSPECIFIED"]).default("MODE_UNSPECIFIED"),dynamicThreshold:i.number().default(1)})))}),HB=Ke({id:"google.url_context",name:"url_context",inputSchema:H(()=>C(i.object({})))}),GB=Ke({id:"google.vertex_rag_store",name:"vertex_rag_store",inputSchema:i.object({ragCorpus:i.string(),topK:i.number().optional()})}),JB={googleSearch:VB,urlContext:HB,fileSearch:ZB,codeExecution:qB,vertexRagStore:GB},KB=class{static{s(this,"GoogleGenerativeAIImageModel")}constructor(e,t,n){this.modelId=e,this.settings=t,this.config=n,this.specificationVersion="v2"}get maxImagesPerCall(){var e;return(e=this.settings.maxImagesPerCall)!=null?e:4}get provider(){return this.config.provider}async doGenerate(e){var t,n,o;let{prompt:r,n:a=1,size:c="1024x1024",aspectRatio:u="1:1",seed:l,providerOptions:d,headers:p,abortSignal:m}=e,f=[];c!=null&&f.push({type:"unsupported-setting",setting:"size",details:"This model does not support the `size` option. Use `aspectRatio` instead."}),l!=null&&f.push({type:"unsupported-setting",setting:"seed",details:"This model does not support the `seed` option through this provider."});let y=await Ze({provider:"google",providerOptions:d,schema:XB}),g=(o=(n=(t=this.config._internal)==null?void 0:t.currentDate)==null?void 0:n.call(t))!=null?o:new Date,v={sampleCount:a};u!=null&&(v.aspectRatio=u),y&&Object.assign(v,y);let b={instances:[{prompt:r}],parameters:v},{responseHeaders:w,value:_}=await Je({url:`${this.config.baseURL}/models/${this.modelId}:predict`,headers:Ge(await Vr(this.config.headers),p),body:b,failedResponseHandler:bc,successfulResponseHandler:mt(WB),abortSignal:m,fetch:this.config.fetch});return{images:_.predictions.map(x=>x.bytesBase64Encoded),warnings:f??[],providerMetadata:{google:{images:_.predictions.map(x=>({}))}},response:{timestamp:g,modelId:this.modelId,headers:w}}}},WB=H(()=>C(i.object({predictions:i.array(i.object({bytesBase64Encoded:i.string()})).default([])}))),XB=H(()=>C(i.object({personGeneration:i.enum(["dont_allow","allow_adult","allow_all"]).nullish(),aspectRatio:i.enum(["1:1","3:4","4:3","9:16","16:9"]).nullish()})));function YB(e={}){var t,n;let o=(t=ei(e.baseURL))!=null?t:"https://generativelanguage.googleapis.com/v1beta",r=(n=e.name)!=null?n:"google.generative-ai",a=s(()=>Oo({"x-goog-api-key":Ya({apiKey:e.apiKey,environmentVariableName:"GOOGLE_GENERATIVE_AI_API_KEY",description:"Google Generative AI"}),...e.headers},`ai-sdk/google/${kB}`),"getHeaders"),c=s(p=>{var m;return new zB(p,{provider:r,baseURL:o,headers:a,generateId:(m=e.generateId)!=null?m:ht,supportedUrls:s(()=>({"*":[new RegExp(`^${o}/files/.*$`),new RegExp("^https://(?:www\\.)?youtube\\.com/watch\\?v=[\\w-]+(?:&[\\w=&.-]*)?$"),new RegExp("^https://youtu\\.be/[\\w-]+(?:\\?[\\w=&.-]*)?$")]}),"supportedUrls"),fetch:e.fetch})},"createChatModel"),u=s(p=>new $B(p,{provider:r,baseURL:o,headers:a,fetch:e.fetch}),"createEmbeddingModel"),l=s((p,m={})=>new KB(p,m,{provider:r,baseURL:o,headers:a,fetch:e.fetch}),"createImageModel"),d=s(function(p){if(new.target)throw new Error("The Google Generative AI model function cannot be called with the new keyword.");return c(p)},"provider");return d.languageModel=c,d.chat=c,d.generativeAI=c,d.embedding=u,d.textEmbedding=u,d.textEmbeddingModel=u,d.image=l,d.imageModel=l,d.tools=JB,d}s(YB,"createGoogleGenerativeAI");var V_=YB();var G_=i.object({error:i.object({message:i.string(),type:i.string().nullish(),param:i.any().nullish(),code:i.union([i.string(),i.number()]).nullish()})}),Jr=Qa({errorSchema:G_,errorToMessage:s(e=>e.error.message,"errorToMessage")});function QB({prompt:e,systemMessageMode:t="system"}){let n=[],o=[];for(let{role:r,content:a}of e)switch(r){case"system":{switch(t){case"system":{n.push({role:"system",content:a});break}case"developer":{n.push({role:"developer",content:a});break}case"remove":{o.push({type:"other",message:"system messages are removed for this model"});break}default:{let c=t;throw new Error(`Unsupported system message mode: ${c}`)}}break}case"user":{if(a.length===1&&a[0].type==="text"){n.push({role:"user",content:a[0].text});break}n.push({role:"user",content:a.map((c,u)=>{var l,d,p;switch(c.type){case"text":return{type:"text",text:c.text};case"file":if(c.mediaType.startsWith("image/")){let m=c.mediaType==="image/*"?"image/jpeg":c.mediaType;return{type:"image_url",image_url:{url:c.data instanceof URL?c.data.toString():`data:${m};base64,${Wt(c.data)}`,detail:(d=(l=c.providerOptions)==null?void 0:l.openai)==null?void 0:d.imageDetail}}}else if(c.mediaType.startsWith("audio/")){if(c.data instanceof URL)throw new Oe({functionality:"audio file parts with URLs"});switch(c.mediaType){case"audio/wav":return{type:"input_audio",input_audio:{data:Wt(c.data),format:"wav"}};case"audio/mp3":case"audio/mpeg":return{type:"input_audio",input_audio:{data:Wt(c.data),format:"mp3"}};default:throw new Oe({functionality:`audio content parts with media type ${c.mediaType}`})}}else if(c.mediaType==="application/pdf"){if(c.data instanceof URL)throw new Oe({functionality:"PDF file parts with URLs"});return{type:"file",file:typeof c.data=="string"&&c.data.startsWith("file-")?{file_id:c.data}:{filename:(p=c.filename)!=null?p:`part-${u}.pdf`,file_data:`data:application/pdf;base64,${Wt(c.data)}`}}}else throw new Oe({functionality:`file part media type ${c.mediaType}`})}})});break}case"assistant":{let c="",u=[];for(let l of a)switch(l.type){case"text":{c+=l.text;break}case"tool-call":{u.push({id:l.toolCallId,type:"function",function:{name:l.toolName,arguments:JSON.stringify(l.input)}});break}}n.push({role:"assistant",content:c,tool_calls:u.length>0?u:void 0});break}case"tool":{for(let c of a){let u=c.output,l;switch(u.type){case"text":case"error-text":l=u.value;break;case"content":case"json":case"error-json":l=JSON.stringify(u.value);break}n.push({role:"tool",tool_call_id:c.toolCallId,content:l})}break}default:{let c=r;throw new Error(`Unsupported role: ${c}`)}}return{messages:n,warnings:o}}s(QB,"convertToOpenAIChatMessages");function H_({id:e,model:t,created:n}){return{id:e??void 0,modelId:t??void 0,timestamp:n?new Date(n*1e3):void 0}}s(H_,"getResponseMetadata");function dP(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}s(dP,"mapOpenAIFinishReason");var eZ=Be(()=>C(i.object({id:i.string().nullish(),created:i.number().nullish(),model:i.string().nullish(),choices:i.array(i.object({message:i.object({role:i.literal("assistant").nullish(),content:i.string().nullish(),tool_calls:i.array(i.object({id:i.string().nullish(),type:i.literal("function"),function:i.object({name:i.string(),arguments:i.string()})})).nullish(),annotations:i.array(i.object({type:i.literal("url_citation"),start_index:i.number(),end_index:i.number(),url:i.string(),title:i.string()})).nullish()}),index:i.number(),logprobs:i.object({content:i.array(i.object({token:i.string(),logprob:i.number(),top_logprobs:i.array(i.object({token:i.string(),logprob:i.number()}))})).nullish()}).nullish(),finish_reason:i.string().nullish()})),usage:i.object({prompt_tokens:i.number().nullish(),completion_tokens:i.number().nullish(),total_tokens:i.number().nullish(),prompt_tokens_details:i.object({cached_tokens:i.number().nullish()}).nullish(),completion_tokens_details:i.object({reasoning_tokens:i.number().nullish(),accepted_prediction_tokens:i.number().nullish(),rejected_prediction_tokens:i.number().nullish()}).nullish()}).nullish()}))),tZ=Be(()=>C(i.union([i.object({id:i.string().nullish(),created:i.number().nullish(),model:i.string().nullish(),choices:i.array(i.object({delta:i.object({role:i.enum(["assistant"]).nullish(),content:i.string().nullish(),tool_calls:i.array(i.object({index:i.number(),id:i.string().nullish(),type:i.literal("function").nullish(),function:i.object({name:i.string().nullish(),arguments:i.string().nullish()})})).nullish(),annotations:i.array(i.object({type:i.literal("url_citation"),start_index:i.number(),end_index:i.number(),url:i.string(),title:i.string()})).nullish()}).nullish(),logprobs:i.object({content:i.array(i.object({token:i.string(),logprob:i.number(),top_logprobs:i.array(i.object({token:i.string(),logprob:i.number()}))})).nullish()}).nullish(),finish_reason:i.string().nullish(),index:i.number()})),usage:i.object({prompt_tokens:i.number().nullish(),completion_tokens:i.number().nullish(),total_tokens:i.number().nullish(),prompt_tokens_details:i.object({cached_tokens:i.number().nullish()}).nullish(),completion_tokens_details:i.object({reasoning_tokens:i.number().nullish(),accepted_prediction_tokens:i.number().nullish(),rejected_prediction_tokens:i.number().nullish()}).nullish()}).nullish()}),G_]))),rZ=Be(()=>C(i.object({logitBias:i.record(i.coerce.number(),i.number()).optional(),logprobs:i.union([i.boolean(),i.number()]).optional(),parallelToolCalls:i.boolean().optional(),user:i.string().optional(),reasoningEffort:i.enum(["none","minimal","low","medium","high"]).optional(),maxCompletionTokens:i.number().optional(),store:i.boolean().optional(),metadata:i.record(i.string().max(64),i.string().max(512)).optional(),prediction:i.record(i.string(),i.any()).optional(),structuredOutputs:i.boolean().optional(),serviceTier:i.enum(["auto","flex","priority","default"]).optional(),strictJsonSchema:i.boolean().optional(),textVerbosity:i.enum(["low","medium","high"]).optional(),promptCacheKey:i.string().optional(),promptCacheRetention:i.enum(["in_memory","24h"]).optional(),safetyIdentifier:i.string().optional()})));function nZ({tools:e,toolChoice:t,structuredOutputs:n,strictJsonSchema:o}){e=e?.length?e:void 0;let r=[];if(e==null)return{tools:void 0,toolChoice:void 0,toolWarnings:r};let a=[];for(let u of e)switch(u.type){case"function":a.push({type:"function",function:{name:u.name,description:u.description,parameters:u.inputSchema,strict:n?o:void 0}});break;default:r.push({type:"unsupported-tool",tool:u});break}if(t==null)return{tools:a,toolChoice:void 0,toolWarnings:r};let c=t.type;switch(c){case"auto":case"none":case"required":return{tools:a,toolChoice:c,toolWarnings:r};case"tool":return{tools:a,toolChoice:{type:"function",function:{name:t.toolName}},toolWarnings:r};default:{let u=c;throw new Oe({functionality:`tool choice type: ${u}`})}}}s(nZ,"prepareChatTools");var oZ=class{static{s(this,"OpenAIChatLanguageModel")}constructor(e,t){this.specificationVersion="v2",this.supportedUrls={"image/*":[/^https?:\/\/.*$/]},this.modelId=e,this.config=t}get provider(){return this.config.provider}async getArgs({prompt:e,maxOutputTokens:t,temperature:n,topP:o,topK:r,frequencyPenalty:a,presencePenalty:c,stopSequences:u,responseFormat:l,seed:d,tools:p,toolChoice:m,providerOptions:f}){var y,g,v,b;let w=[],_=(y=await Ze({provider:"openai",providerOptions:f,schema:rZ}))!=null?y:{},x=(g=_.structuredOutputs)!=null?g:!0;r!=null&&w.push({type:"unsupported-setting",setting:"topK"}),l?.type==="json"&&l.schema!=null&&!x&&w.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is only supported with structuredOutputs"});let{messages:E,warnings:D}=QB({prompt:e,systemMessageMode:sZ(this.modelId)});w.push(...D);let Z=(v=_.strictJsonSchema)!=null?v:!1,j={model:this.modelId,logit_bias:_.logitBias,logprobs:_.logprobs===!0||typeof _.logprobs=="number"?!0:void 0,top_logprobs:typeof _.logprobs=="number"?_.logprobs:typeof _.logprobs=="boolean"&&_.logprobs?0:void 0,user:_.user,parallel_tool_calls:_.parallelToolCalls,max_tokens:t,temperature:n,top_p:o,frequency_penalty:a,presence_penalty:c,response_format:l?.type==="json"?x&&l.schema!=null?{type:"json_schema",json_schema:{schema:l.schema,strict:Z,name:(b=l.name)!=null?b:"response",description:l.description}}:{type:"json_object"}:void 0,stop:u,seed:d,verbosity:_.textVerbosity,max_completion_tokens:_.maxCompletionTokens,store:_.store,metadata:_.metadata,prediction:_.prediction,reasoning_effort:_.reasoningEffort,service_tier:_.serviceTier,prompt_cache_key:_.promptCacheKey,prompt_cache_retention:_.promptCacheRetention,safety_identifier:_.safetyIdentifier,messages:E};bP(this.modelId)?(j.temperature!=null&&(j.temperature=void 0,w.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),j.top_p!=null&&(j.top_p=void 0,w.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"})),j.frequency_penalty!=null&&(j.frequency_penalty=void 0,w.push({type:"unsupported-setting",setting:"frequencyPenalty",details:"frequencyPenalty is not supported for reasoning models"})),j.presence_penalty!=null&&(j.presence_penalty=void 0,w.push({type:"unsupported-setting",setting:"presencePenalty",details:"presencePenalty is not supported for reasoning models"})),j.logit_bias!=null&&(j.logit_bias=void 0,w.push({type:"other",message:"logitBias is not supported for reasoning models"})),j.logprobs!=null&&(j.logprobs=void 0,w.push({type:"other",message:"logprobs is not supported for reasoning models"})),j.top_logprobs!=null&&(j.top_logprobs=void 0,w.push({type:"other",message:"topLogprobs is not supported for reasoning models"})),j.max_tokens!=null&&(j.max_completion_tokens==null&&(j.max_completion_tokens=j.max_tokens),j.max_tokens=void 0)):(this.modelId.startsWith("gpt-4o-search-preview")||this.modelId.startsWith("gpt-4o-mini-search-preview"))&&j.temperature!=null&&(j.temperature=void 0,w.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for the search preview models and has been removed."})),_.serviceTier==="flex"&&!aZ(this.modelId)&&(w.push({type:"unsupported-setting",setting:"serviceTier",details:"flex processing is only available for o3, o4-mini, and gpt-5 models"}),j.service_tier=void 0),_.serviceTier==="priority"&&!iZ(this.modelId)&&(w.push({type:"unsupported-setting",setting:"serviceTier",details:"priority processing is only available for supported models (gpt-4, gpt-5, gpt-5-mini, o3, o4-mini) and requires Enterprise access. gpt-5-nano is not supported"}),j.service_tier=void 0);let{tools:G,toolChoice:N,toolWarnings:$}=nZ({tools:p,toolChoice:m,structuredOutputs:x,strictJsonSchema:Z});return{args:{...j,tools:G,tool_choice:N},warnings:[...w,...$]}}async doGenerate(e){var t,n,o,r,a,c,u,l,d,p,m,f,y,g;let{args:v,warnings:b}=await this.getArgs(e),{responseHeaders:w,value:_,rawValue:x}=await Je({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:Ge(this.config.headers(),e.headers),body:v,failedResponseHandler:Jr,successfulResponseHandler:mt(eZ),abortSignal:e.abortSignal,fetch:this.config.fetch}),E=_.choices[0],D=[],Z=E.message.content;Z!=null&&Z.length>0&&D.push({type:"text",text:Z});for(let $ of(t=E.message.tool_calls)!=null?t:[])D.push({type:"tool-call",toolCallId:(n=$.id)!=null?n:ht(),toolName:$.function.name,input:$.function.arguments});for(let $ of(o=E.message.annotations)!=null?o:[])D.push({type:"source",sourceType:"url",id:ht(),url:$.url,title:$.title});let j=(r=_.usage)==null?void 0:r.completion_tokens_details,G=(a=_.usage)==null?void 0:a.prompt_tokens_details,N={openai:{}};return j?.accepted_prediction_tokens!=null&&(N.openai.acceptedPredictionTokens=j?.accepted_prediction_tokens),j?.rejected_prediction_tokens!=null&&(N.openai.rejectedPredictionTokens=j?.rejected_prediction_tokens),((c=E.logprobs)==null?void 0:c.content)!=null&&(N.openai.logprobs=E.logprobs.content),{content:D,finishReason:dP(E.finish_reason),usage:{inputTokens:(l=(u=_.usage)==null?void 0:u.prompt_tokens)!=null?l:void 0,outputTokens:(p=(d=_.usage)==null?void 0:d.completion_tokens)!=null?p:void 0,totalTokens:(f=(m=_.usage)==null?void 0:m.total_tokens)!=null?f:void 0,reasoningTokens:(y=j?.reasoning_tokens)!=null?y:void 0,cachedInputTokens:(g=G?.cached_tokens)!=null?g:void 0},request:{body:v},response:{...H_(_),headers:w,body:x},warnings:b,providerMetadata:N}}async doStream(e){let{args:t,warnings:n}=await this.getArgs(e),o={...t,stream:!0,stream_options:{include_usage:!0}},{responseHeaders:r,value:a}=await Je({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:Ge(this.config.headers(),e.headers),body:o,failedResponseHandler:Jr,successfulResponseHandler:Hr(tZ),abortSignal:e.abortSignal,fetch:this.config.fetch}),c=[],u="unknown",l={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},d=!1,p=!1,m={openai:{}};return{stream:a.pipeThrough(new TransformStream({start(f){f.enqueue({type:"stream-start",warnings:n})},transform(f,y){var g,v,b,w,_,x,E,D,Z,j,G,N,$,O,te,V,Q,fe,Y,re,ke,ct,Ue,vt;if(e.includeRawChunks&&y.enqueue({type:"raw",rawValue:f.rawValue}),!f.success){u="error",y.enqueue({type:"error",error:f.error});return}let A=f.value;if("error"in A){u="error",y.enqueue({type:"error",error:A.error});return}if(!d){let S=H_(A);Object.values(S).some(Boolean)&&(d=!0,y.enqueue({type:"response-metadata",...H_(A)}))}A.usage!=null&&(l.inputTokens=(g=A.usage.prompt_tokens)!=null?g:void 0,l.outputTokens=(v=A.usage.completion_tokens)!=null?v:void 0,l.totalTokens=(b=A.usage.total_tokens)!=null?b:void 0,l.reasoningTokens=(_=(w=A.usage.completion_tokens_details)==null?void 0:w.reasoning_tokens)!=null?_:void 0,l.cachedInputTokens=(E=(x=A.usage.prompt_tokens_details)==null?void 0:x.cached_tokens)!=null?E:void 0,((D=A.usage.completion_tokens_details)==null?void 0:D.accepted_prediction_tokens)!=null&&(m.openai.acceptedPredictionTokens=(Z=A.usage.completion_tokens_details)==null?void 0:Z.accepted_prediction_tokens),((j=A.usage.completion_tokens_details)==null?void 0:j.rejected_prediction_tokens)!=null&&(m.openai.rejectedPredictionTokens=(G=A.usage.completion_tokens_details)==null?void 0:G.rejected_prediction_tokens));let se=A.choices[0];if(se?.finish_reason!=null&&(u=dP(se.finish_reason)),((N=se?.logprobs)==null?void 0:N.content)!=null&&(m.openai.logprobs=se.logprobs.content),se?.delta==null)return;let W=se.delta;if(W.content!=null&&(p||(y.enqueue({type:"text-start",id:"0"}),p=!0),y.enqueue({type:"text-delta",id:"0",delta:W.content})),W.tool_calls!=null)for(let S of W.tool_calls){let _e=S.index;if(c[_e]==null){if(S.type!=="function")throw new hd({data:S,message:"Expected 'function' type."});if(S.id==null)throw new hd({data:S,message:"Expected 'id' to be a string."});if((($=S.function)==null?void 0:$.name)==null)throw new hd({data:S,message:"Expected 'function.name' to be a string."});y.enqueue({type:"tool-input-start",id:S.id,toolName:S.function.name}),c[_e]={id:S.id,type:"function",function:{name:S.function.name,arguments:(O=S.function.arguments)!=null?O:""},hasFinished:!1};let ut=c[_e];((te=ut.function)==null?void 0:te.name)!=null&&((V=ut.function)==null?void 0:V.arguments)!=null&&(ut.function.arguments.length>0&&y.enqueue({type:"tool-input-delta",id:ut.id,delta:ut.function.arguments}),F_(ut.function.arguments)&&(y.enqueue({type:"tool-input-end",id:ut.id}),y.enqueue({type:"tool-call",toolCallId:(Q=ut.id)!=null?Q:ht(),toolName:ut.function.name,input:ut.function.arguments}),ut.hasFinished=!0));continue}let We=c[_e];We.hasFinished||(((fe=S.function)==null?void 0:fe.arguments)!=null&&(We.function.arguments+=(re=(Y=S.function)==null?void 0:Y.arguments)!=null?re:""),y.enqueue({type:"tool-input-delta",id:We.id,delta:(ke=S.function.arguments)!=null?ke:""}),((ct=We.function)==null?void 0:ct.name)!=null&&((Ue=We.function)==null?void 0:Ue.arguments)!=null&&F_(We.function.arguments)&&(y.enqueue({type:"tool-input-end",id:We.id}),y.enqueue({type:"tool-call",toolCallId:(vt=We.id)!=null?vt:ht(),toolName:We.function.name,input:We.function.arguments}),We.hasFinished=!0))}if(W.annotations!=null)for(let S of W.annotations)y.enqueue({type:"source",sourceType:"url",id:ht(),url:S.url,title:S.title})},flush(f){p&&f.enqueue({type:"text-end",id:"0"}),f.enqueue({type:"finish",finishReason:u,usage:l,...m!=null?{providerMetadata:m}:{}})}})),request:{body:o},response:{headers:r}}}};function bP(e){return(e.startsWith("o")||e.startsWith("gpt-5"))&&!e.startsWith("gpt-5-chat")}s(bP,"isReasoningModel");function aZ(e){return e.startsWith("o3")||e.startsWith("o4-mini")||e.startsWith("gpt-5")&&!e.startsWith("gpt-5-chat")}s(aZ,"supportsFlexProcessing");function iZ(e){return e.startsWith("gpt-4")||e.startsWith("gpt-5-mini")||e.startsWith("gpt-5")&&!e.startsWith("gpt-5-nano")&&!e.startsWith("gpt-5-chat")||e.startsWith("o3")||e.startsWith("o4-mini")}s(iZ,"supportsPriorityProcessing");function sZ(e){var t,n;return bP(e)?(n=(t=cZ[e])==null?void 0:t.systemMessageMode)!=null?n:"developer":"system"}s(sZ,"getSystemMessageMode");var cZ={o3:{systemMessageMode:"developer"},"o3-2025-04-16":{systemMessageMode:"developer"},"o3-mini":{systemMessageMode:"developer"},"o3-mini-2025-01-31":{systemMessageMode:"developer"},"o4-mini":{systemMessageMode:"developer"},"o4-mini-2025-04-16":{systemMessageMode:"developer"}};function uZ({prompt:e,user:t="user",assistant:n="assistant"}){let o="";e[0].role==="system"&&(o+=`${e[0].content}

`,e=e.slice(1));for(let{role:r,content:a}of e)switch(r){case"system":throw new ik({message:"Unexpected system message in prompt: ${content}",prompt:e});case"user":{let c=a.map(u=>{switch(u.type){case"text":return u.text}}).filter(Boolean).join("");o+=`${t}:
${c}

`;break}case"assistant":{let c=a.map(u=>{switch(u.type){case"text":return u.text;case"tool-call":throw new Oe({functionality:"tool-call messages"})}}).join("");o+=`${n}:
${c}

`;break}case"tool":throw new Oe({functionality:"tool messages"});default:{let c=r;throw new Error(`Unsupported role: ${c}`)}}return o+=`${n}:
`,{prompt:o,stopSequences:[`
${t}:`]}}s(uZ,"convertToOpenAICompletionPrompt");function pP({id:e,model:t,created:n}){return{id:e??void 0,modelId:t??void 0,timestamp:n!=null?new Date(n*1e3):void 0}}s(pP,"getResponseMetadata2");function mP(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}s(mP,"mapOpenAIFinishReason2");var lZ=Be(()=>C(i.object({id:i.string().nullish(),created:i.number().nullish(),model:i.string().nullish(),choices:i.array(i.object({text:i.string(),finish_reason:i.string(),logprobs:i.object({tokens:i.array(i.string()),token_logprobs:i.array(i.number()),top_logprobs:i.array(i.record(i.string(),i.number())).nullish()}).nullish()})),usage:i.object({prompt_tokens:i.number(),completion_tokens:i.number(),total_tokens:i.number()}).nullish()}))),dZ=Be(()=>C(i.union([i.object({id:i.string().nullish(),created:i.number().nullish(),model:i.string().nullish(),choices:i.array(i.object({text:i.string(),finish_reason:i.string().nullish(),index:i.number(),logprobs:i.object({tokens:i.array(i.string()),token_logprobs:i.array(i.number()),top_logprobs:i.array(i.record(i.string(),i.number())).nullish()}).nullish()})),usage:i.object({prompt_tokens:i.number(),completion_tokens:i.number(),total_tokens:i.number()}).nullish()}),G_]))),fP=Be(()=>C(i.object({echo:i.boolean().optional(),logitBias:i.record(i.string(),i.number()).optional(),suffix:i.string().optional(),user:i.string().optional(),logprobs:i.union([i.boolean(),i.number()]).optional()}))),pZ=class{static{s(this,"OpenAICompletionLanguageModel")}constructor(e,t){this.specificationVersion="v2",this.supportedUrls={},this.modelId=e,this.config=t}get providerOptionsName(){return this.config.provider.split(".")[0].trim()}get provider(){return this.config.provider}async getArgs({prompt:e,maxOutputTokens:t,temperature:n,topP:o,topK:r,frequencyPenalty:a,presencePenalty:c,stopSequences:u,responseFormat:l,tools:d,toolChoice:p,seed:m,providerOptions:f}){let y=[],g={...await Ze({provider:"openai",providerOptions:f,schema:fP}),...await Ze({provider:this.providerOptionsName,providerOptions:f,schema:fP})};r!=null&&y.push({type:"unsupported-setting",setting:"topK"}),d?.length&&y.push({type:"unsupported-setting",setting:"tools"}),p!=null&&y.push({type:"unsupported-setting",setting:"toolChoice"}),l!=null&&l.type!=="text"&&y.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});let{prompt:v,stopSequences:b}=uZ({prompt:e}),w=[...b??[],...u??[]];return{args:{model:this.modelId,echo:g.echo,logit_bias:g.logitBias,logprobs:g?.logprobs===!0?0:g?.logprobs===!1?void 0:g?.logprobs,suffix:g.suffix,user:g.user,max_tokens:t,temperature:n,top_p:o,frequency_penalty:a,presence_penalty:c,seed:m,prompt:v,stop:w.length>0?w:void 0},warnings:y}}async doGenerate(e){var t,n,o;let{args:r,warnings:a}=await this.getArgs(e),{responseHeaders:c,value:u,rawValue:l}=await Je({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:Ge(this.config.headers(),e.headers),body:r,failedResponseHandler:Jr,successfulResponseHandler:mt(lZ),abortSignal:e.abortSignal,fetch:this.config.fetch}),d=u.choices[0],p={openai:{}};return d.logprobs!=null&&(p.openai.logprobs=d.logprobs),{content:[{type:"text",text:d.text}],usage:{inputTokens:(t=u.usage)==null?void 0:t.prompt_tokens,outputTokens:(n=u.usage)==null?void 0:n.completion_tokens,totalTokens:(o=u.usage)==null?void 0:o.total_tokens},finishReason:mP(d.finish_reason),request:{body:r},response:{...pP(u),headers:c,body:l},providerMetadata:p,warnings:a}}async doStream(e){let{args:t,warnings:n}=await this.getArgs(e),o={...t,stream:!0,stream_options:{include_usage:!0}},{responseHeaders:r,value:a}=await Je({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:Ge(this.config.headers(),e.headers),body:o,failedResponseHandler:Jr,successfulResponseHandler:Hr(dZ),abortSignal:e.abortSignal,fetch:this.config.fetch}),c="unknown",u={openai:{}},l={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},d=!0;return{stream:a.pipeThrough(new TransformStream({start(p){p.enqueue({type:"stream-start",warnings:n})},transform(p,m){if(e.includeRawChunks&&m.enqueue({type:"raw",rawValue:p.rawValue}),!p.success){c="error",m.enqueue({type:"error",error:p.error});return}let f=p.value;if("error"in f){c="error",m.enqueue({type:"error",error:f.error});return}d&&(d=!1,m.enqueue({type:"response-metadata",...pP(f)}),m.enqueue({type:"text-start",id:"0"})),f.usage!=null&&(l.inputTokens=f.usage.prompt_tokens,l.outputTokens=f.usage.completion_tokens,l.totalTokens=f.usage.total_tokens);let y=f.choices[0];y?.finish_reason!=null&&(c=mP(y.finish_reason)),y?.logprobs!=null&&(u.openai.logprobs=y.logprobs),y?.text!=null&&y.text.length>0&&m.enqueue({type:"text-delta",id:"0",delta:y.text})},flush(p){d||p.enqueue({type:"text-end",id:"0"}),p.enqueue({type:"finish",finishReason:c,providerMetadata:u,usage:l})}})),request:{body:o},response:{headers:r}}}},mZ=Be(()=>C(i.object({dimensions:i.number().optional(),user:i.string().optional()}))),fZ=Be(()=>C(i.object({data:i.array(i.object({embedding:i.array(i.number())})),usage:i.object({prompt_tokens:i.number()}).nullish()}))),hZ=class{static{s(this,"OpenAIEmbeddingModel")}constructor(e,t){this.specificationVersion="v2",this.maxEmbeddingsPerCall=2048,this.supportsParallelCalls=!0,this.modelId=e,this.config=t}get provider(){return this.config.provider}async doEmbed({values:e,headers:t,abortSignal:n,providerOptions:o}){var r;if(e.length>this.maxEmbeddingsPerCall)throw new gd({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});let a=(r=await Ze({provider:"openai",providerOptions:o,schema:mZ}))!=null?r:{},{responseHeaders:c,value:u,rawValue:l}=await Je({url:this.config.url({path:"/embeddings",modelId:this.modelId}),headers:Ge(this.config.headers(),t),body:{model:this.modelId,input:e,encoding_format:"float",dimensions:a.dimensions,user:a.user},failedResponseHandler:Jr,successfulResponseHandler:mt(fZ),abortSignal:n,fetch:this.config.fetch});return{embeddings:u.data.map(d=>d.embedding),usage:u.usage?{tokens:u.usage.prompt_tokens}:void 0,response:{headers:c,body:l}}}},gZ=Be(()=>C(i.object({data:i.array(i.object({b64_json:i.string(),revised_prompt:i.string().nullish()}))}))),yZ={"dall-e-3":1,"dall-e-2":10,"gpt-image-1":10,"gpt-image-1-mini":10},vZ=new Set(["gpt-image-1","gpt-image-1-mini"]),_Z=class{static{s(this,"OpenAIImageModel")}constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2"}get maxImagesPerCall(){var e;return(e=yZ[this.modelId])!=null?e:1}get provider(){return this.config.provider}async doGenerate({prompt:e,n:t,size:n,aspectRatio:o,seed:r,providerOptions:a,headers:c,abortSignal:u}){var l,d,p,m;let f=[];o!=null&&f.push({type:"unsupported-setting",setting:"aspectRatio",details:"This model does not support aspect ratio. Use `size` instead."}),r!=null&&f.push({type:"unsupported-setting",setting:"seed"});let y=(p=(d=(l=this.config._internal)==null?void 0:l.currentDate)==null?void 0:d.call(l))!=null?p:new Date,{value:g,responseHeaders:v}=await Je({url:this.config.url({path:"/images/generations",modelId:this.modelId}),headers:Ge(this.config.headers(),c),body:{model:this.modelId,prompt:e,n:t,size:n,...(m=a.openai)!=null?m:{},...vZ.has(this.modelId)?{}:{response_format:"b64_json"}},failedResponseHandler:Jr,successfulResponseHandler:mt(gZ),abortSignal:u,fetch:this.config.fetch});return{images:g.data.map(b=>b.b64_json),warnings:f,response:{timestamp:y,modelId:this.modelId,headers:v},providerMetadata:{openai:{images:g.data.map(b=>b.revised_prompt?{revisedPrompt:b.revised_prompt}:null)}}}}},bZ=H(()=>C(i.object({code:i.string().nullish(),containerId:i.string()}))),xZ=H(()=>C(i.object({outputs:i.array(i.discriminatedUnion("type",[i.object({type:i.literal("logs"),logs:i.string()}),i.object({type:i.literal("image"),url:i.string()})])).nullish()}))),wZ=H(()=>C(i.object({container:i.union([i.string(),i.object({fileIds:i.array(i.string()).optional()})]).optional()}))),SZ=ot({id:"openai.code_interpreter",name:"code_interpreter",inputSchema:bZ,outputSchema:xZ}),IZ=s((e={})=>SZ(e),"codeInterpreter"),xP=i.object({key:i.string(),type:i.enum(["eq","ne","gt","gte","lt","lte"]),value:i.union([i.string(),i.number(),i.boolean()])}),wP=i.object({type:i.enum(["and","or"]),filters:i.array(i.union([xP,i.lazy(()=>wP)]))}),TZ=H(()=>C(i.object({vectorStoreIds:i.array(i.string()),maxNumResults:i.number().optional(),ranking:i.object({ranker:i.string().optional(),scoreThreshold:i.number().optional()}).optional(),filters:i.union([xP,wP]).optional()}))),EZ=H(()=>C(i.object({queries:i.array(i.string()),results:i.array(i.object({attributes:i.record(i.string(),i.unknown()),fileId:i.string(),filename:i.string(),score:i.number(),text:i.string()})).nullable()}))),kZ=ot({id:"openai.file_search",name:"file_search",inputSchema:i.object({}),outputSchema:EZ}),PZ=H(()=>C(i.object({background:i.enum(["auto","opaque","transparent"]).optional(),inputFidelity:i.enum(["low","high"]).optional(),inputImageMask:i.object({fileId:i.string().optional(),imageUrl:i.string().optional()}).optional(),model:i.string().optional(),moderation:i.enum(["auto"]).optional(),outputCompression:i.number().int().min(0).max(100).optional(),outputFormat:i.enum(["png","jpeg","webp"]).optional(),partialImages:i.number().int().min(0).max(3).optional(),quality:i.enum(["auto","low","medium","high"]).optional(),size:i.enum(["1024x1024","1024x1536","1536x1024","auto"]).optional()}).strict())),AZ=H(()=>C(i.object({}))),$Z=H(()=>C(i.object({result:i.string()}))),RZ=ot({id:"openai.image_generation",name:"image_generation",inputSchema:AZ,outputSchema:$Z}),OZ=s((e={})=>RZ(e),"imageGeneration"),SP=H(()=>C(i.object({action:i.object({type:i.literal("exec"),command:i.array(i.string()),timeoutMs:i.number().optional(),user:i.string().optional(),workingDirectory:i.string().optional(),env:i.record(i.string(),i.string()).optional()})}))),IP=H(()=>C(i.object({output:i.string()}))),CZ=ot({id:"openai.local_shell",name:"local_shell",inputSchema:SP,outputSchema:IP}),NZ=H(()=>C(i.object({externalWebAccess:i.boolean().optional(),filters:i.object({allowedDomains:i.array(i.string()).optional()}).optional(),searchContextSize:i.enum(["low","medium","high"]).optional(),userLocation:i.object({type:i.literal("approximate"),country:i.string().optional(),city:i.string().optional(),region:i.string().optional(),timezone:i.string().optional()}).optional()}))),jZ=H(()=>C(i.object({}))),DZ=H(()=>C(i.object({action:i.discriminatedUnion("type",[i.object({type:i.literal("search"),query:i.string().optional()}),i.object({type:i.literal("openPage"),url:i.string()}),i.object({type:i.literal("find"),url:i.string(),pattern:i.string()})]),sources:i.array(i.discriminatedUnion("type",[i.object({type:i.literal("url"),url:i.string()}),i.object({type:i.literal("api"),name:i.string()})])).optional()}))),zZ=ot({id:"openai.web_search",name:"web_search",inputSchema:jZ,outputSchema:DZ}),MZ=s((e={})=>zZ(e),"webSearch"),UZ=H(()=>C(i.object({searchContextSize:i.enum(["low","medium","high"]).optional(),userLocation:i.object({type:i.literal("approximate"),country:i.string().optional(),city:i.string().optional(),region:i.string().optional(),timezone:i.string().optional()}).optional()}))),LZ=H(()=>C(i.object({}))),qZ=H(()=>C(i.object({action:i.discriminatedUnion("type",[i.object({type:i.literal("search"),query:i.string().optional()}),i.object({type:i.literal("openPage"),url:i.string()}),i.object({type:i.literal("find"),url:i.string(),pattern:i.string()})])}))),FZ=ot({id:"openai.web_search_preview",name:"web_search_preview",inputSchema:LZ,outputSchema:qZ}),BZ={codeInterpreter:IZ,fileSearch:kZ,imageGeneration:OZ,localShell:CZ,webSearchPreview:FZ,webSearch:MZ};function hP(e,t){return t?t.some(n=>e.startsWith(n)):!1}s(hP,"isFileId");async function ZZ({prompt:e,systemMessageMode:t,fileIdPrefixes:n,store:o,hasLocalShellTool:r=!1}){var a,c,u,l;let d=[],p=[];for(let{role:m,content:f}of e)switch(m){case"system":{switch(t){case"system":{d.push({role:"system",content:f});break}case"developer":{d.push({role:"developer",content:f});break}case"remove":{p.push({type:"other",message:"system messages are removed for this model"});break}default:{let y=t;throw new Error(`Unsupported system message mode: ${y}`)}}break}case"user":{d.push({role:"user",content:f.map((y,g)=>{var v,b,w;switch(y.type){case"text":return{type:"input_text",text:y.text};case"file":if(y.mediaType.startsWith("image/")){let _=y.mediaType==="image/*"?"image/jpeg":y.mediaType;return{type:"input_image",...y.data instanceof URL?{image_url:y.data.toString()}:typeof y.data=="string"&&hP(y.data,n)?{file_id:y.data}:{image_url:`data:${_};base64,${Wt(y.data)}`},detail:(b=(v=y.providerOptions)==null?void 0:v.openai)==null?void 0:b.imageDetail}}else{if(y.mediaType==="application/pdf")return y.data instanceof URL?{type:"input_file",file_url:y.data.toString()}:{type:"input_file",...typeof y.data=="string"&&hP(y.data,n)?{file_id:y.data}:{filename:(w=y.filename)!=null?w:`part-${g}.pdf`,file_data:`data:application/pdf;base64,${Wt(y.data)}`}};throw new Oe({functionality:`file part media type ${y.mediaType}`})}}})});break}case"assistant":{let y={},g={};for(let v of f)switch(v.type){case"text":{let b=(c=(a=v.providerOptions)==null?void 0:a.openai)==null?void 0:c.itemId;if(o&&b!=null){d.push({type:"item_reference",id:b});break}d.push({role:"assistant",content:[{type:"output_text",text:v.text}],id:b});break}case"tool-call":{if(g[v.toolCallId]=v,v.providerExecuted)break;let b=(l=(u=v.providerOptions)==null?void 0:u.openai)==null?void 0:l.itemId;if(o&&b!=null){d.push({type:"item_reference",id:b});break}if(r&&v.toolName==="local_shell"){let w=await gt({value:v.input,schema:SP});d.push({type:"local_shell_call",call_id:v.toolCallId,id:b,action:{type:"exec",command:w.action.command,timeout_ms:w.action.timeoutMs,user:w.action.user,working_directory:w.action.workingDirectory,env:w.action.env}});break}d.push({type:"function_call",call_id:v.toolCallId,name:v.toolName,arguments:JSON.stringify(v.input),id:b});break}case"tool-result":{o?d.push({type:"item_reference",id:v.toolCallId}):p.push({type:"other",message:`Results for OpenAI tool ${v.toolName} are not sent to the API when store is false`});break}case"reasoning":{let b=await Ze({provider:"openai",providerOptions:v.providerOptions,schema:VZ}),w=b?.itemId;if(w!=null){let _=y[w];if(o)_===void 0&&(d.push({type:"item_reference",id:w}),y[w]={type:"reasoning",id:w,summary:[]});else{let x=[];v.text.length>0?x.push({type:"summary_text",text:v.text}):_!==void 0&&p.push({type:"other",message:`Cannot append empty reasoning part to existing reasoning sequence. Skipping reasoning part: ${JSON.stringify(v)}.`}),_===void 0?(y[w]={type:"reasoning",id:w,encrypted_content:b?.reasoningEncryptedContent,summary:x},d.push(y[w])):(_.summary.push(...x),b?.reasoningEncryptedContent!=null&&(_.encrypted_content=b.reasoningEncryptedContent))}}else p.push({type:"other",message:`Non-OpenAI reasoning parts are not supported. Skipping reasoning part: ${JSON.stringify(v)}.`});break}}break}case"tool":{for(let y of f){let g=y.output;if(r&&y.toolName==="local_shell"&&g.type==="json"){let b=await gt({value:g.value,schema:IP});d.push({type:"local_shell_call_output",call_id:y.toolCallId,output:b.output});break}let v;switch(g.type){case"text":case"error-text":v=g.value;break;case"json":case"error-json":v=JSON.stringify(g.value);break;case"content":v=g.value.map(b=>{switch(b.type){case"text":return{type:"input_text",text:b.text};case"media":return b.mediaType.startsWith("image/")?{type:"input_image",image_url:`data:${b.mediaType};base64,${b.data}`}:{type:"input_file",filename:"data",file_data:`data:${b.mediaType};base64,${b.data}`}}});break}d.push({type:"function_call_output",call_id:y.toolCallId,output:v})}break}default:{let y=m;throw new Error(`Unsupported role: ${y}`)}}return{input:d,warnings:p}}s(ZZ,"convertToOpenAIResponsesInput");var VZ=i.object({itemId:i.string().nullish(),reasoningEncryptedContent:i.string().nullish()});function gP({finishReason:e,hasFunctionCall:t}){switch(e){case void 0:case null:return t?"tool-calls":"stop";case"max_output_tokens":return"length";case"content_filter":return"content-filter";default:return t?"tool-calls":"unknown"}}s(gP,"mapOpenAIResponseFinishReason");var HZ=Be(()=>C(i.union([i.object({type:i.literal("response.output_text.delta"),item_id:i.string(),delta:i.string(),logprobs:i.array(i.object({token:i.string(),logprob:i.number(),top_logprobs:i.array(i.object({token:i.string(),logprob:i.number()}))})).nullish()}),i.object({type:i.enum(["response.completed","response.incomplete"]),response:i.object({incomplete_details:i.object({reason:i.string()}).nullish(),usage:i.object({input_tokens:i.number(),input_tokens_details:i.object({cached_tokens:i.number().nullish()}).nullish(),output_tokens:i.number(),output_tokens_details:i.object({reasoning_tokens:i.number().nullish()}).nullish()}),service_tier:i.string().nullish()})}),i.object({type:i.literal("response.created"),response:i.object({id:i.string(),created_at:i.number(),model:i.string(),service_tier:i.string().nullish()})}),i.object({type:i.literal("response.output_item.added"),output_index:i.number(),item:i.discriminatedUnion("type",[i.object({type:i.literal("message"),id:i.string()}),i.object({type:i.literal("reasoning"),id:i.string(),encrypted_content:i.string().nullish()}),i.object({type:i.literal("function_call"),id:i.string(),call_id:i.string(),name:i.string(),arguments:i.string()}),i.object({type:i.literal("web_search_call"),id:i.string(),status:i.string()}),i.object({type:i.literal("computer_call"),id:i.string(),status:i.string()}),i.object({type:i.literal("file_search_call"),id:i.string()}),i.object({type:i.literal("image_generation_call"),id:i.string()}),i.object({type:i.literal("code_interpreter_call"),id:i.string(),container_id:i.string(),code:i.string().nullable(),outputs:i.array(i.discriminatedUnion("type",[i.object({type:i.literal("logs"),logs:i.string()}),i.object({type:i.literal("image"),url:i.string()})])).nullable(),status:i.string()})])}),i.object({type:i.literal("response.output_item.done"),output_index:i.number(),item:i.discriminatedUnion("type",[i.object({type:i.literal("message"),id:i.string()}),i.object({type:i.literal("reasoning"),id:i.string(),encrypted_content:i.string().nullish()}),i.object({type:i.literal("function_call"),id:i.string(),call_id:i.string(),name:i.string(),arguments:i.string(),status:i.literal("completed")}),i.object({type:i.literal("code_interpreter_call"),id:i.string(),code:i.string().nullable(),container_id:i.string(),outputs:i.array(i.discriminatedUnion("type",[i.object({type:i.literal("logs"),logs:i.string()}),i.object({type:i.literal("image"),url:i.string()})])).nullable()}),i.object({type:i.literal("image_generation_call"),id:i.string(),result:i.string()}),i.object({type:i.literal("web_search_call"),id:i.string(),status:i.string(),action:i.discriminatedUnion("type",[i.object({type:i.literal("search"),query:i.string().nullish(),sources:i.array(i.discriminatedUnion("type",[i.object({type:i.literal("url"),url:i.string()}),i.object({type:i.literal("api"),name:i.string()})])).nullish()}),i.object({type:i.literal("open_page"),url:i.string()}),i.object({type:i.literal("find"),url:i.string(),pattern:i.string()})])}),i.object({type:i.literal("file_search_call"),id:i.string(),queries:i.array(i.string()),results:i.array(i.object({attributes:i.record(i.string(),i.unknown()),file_id:i.string(),filename:i.string(),score:i.number(),text:i.string()})).nullish()}),i.object({type:i.literal("local_shell_call"),id:i.string(),call_id:i.string(),action:i.object({type:i.literal("exec"),command:i.array(i.string()),timeout_ms:i.number().optional(),user:i.string().optional(),working_directory:i.string().optional(),env:i.record(i.string(),i.string()).optional()})}),i.object({type:i.literal("computer_call"),id:i.string(),status:i.literal("completed")})])}),i.object({type:i.literal("response.function_call_arguments.delta"),item_id:i.string(),output_index:i.number(),delta:i.string()}),i.object({type:i.literal("response.image_generation_call.partial_image"),item_id:i.string(),output_index:i.number(),partial_image_b64:i.string()}),i.object({type:i.literal("response.code_interpreter_call_code.delta"),item_id:i.string(),output_index:i.number(),delta:i.string()}),i.object({type:i.literal("response.code_interpreter_call_code.done"),item_id:i.string(),output_index:i.number(),code:i.string()}),i.object({type:i.literal("response.output_text.annotation.added"),annotation:i.discriminatedUnion("type",[i.object({type:i.literal("url_citation"),start_index:i.number(),end_index:i.number(),url:i.string(),title:i.string()}),i.object({type:i.literal("file_citation"),file_id:i.string(),filename:i.string().nullish(),index:i.number().nullish(),start_index:i.number().nullish(),end_index:i.number().nullish(),quote:i.string().nullish()})])}),i.object({type:i.literal("response.reasoning_summary_part.added"),item_id:i.string(),summary_index:i.number()}),i.object({type:i.literal("response.reasoning_summary_text.delta"),item_id:i.string(),summary_index:i.number(),delta:i.string()}),i.object({type:i.literal("response.reasoning_summary_part.done"),item_id:i.string(),summary_index:i.number()}),i.object({type:i.literal("error"),sequence_number:i.number(),error:i.object({type:i.string(),code:i.string(),message:i.string(),param:i.string().nullish()})}),i.object({type:i.string()}).loose().transform(e=>({type:"unknown_chunk",message:e.type}))]))),GZ=Be(()=>C(i.object({id:i.string().optional(),created_at:i.number().optional(),error:i.object({message:i.string(),type:i.string(),param:i.string().nullish(),code:i.string()}).nullish(),model:i.string().optional(),output:i.array(i.discriminatedUnion("type",[i.object({type:i.literal("message"),role:i.literal("assistant"),id:i.string(),content:i.array(i.object({type:i.literal("output_text"),text:i.string(),logprobs:i.array(i.object({token:i.string(),logprob:i.number(),top_logprobs:i.array(i.object({token:i.string(),logprob:i.number()}))})).nullish(),annotations:i.array(i.discriminatedUnion("type",[i.object({type:i.literal("url_citation"),start_index:i.number(),end_index:i.number(),url:i.string(),title:i.string()}),i.object({type:i.literal("file_citation"),file_id:i.string(),filename:i.string().nullish(),index:i.number().nullish(),start_index:i.number().nullish(),end_index:i.number().nullish(),quote:i.string().nullish()}),i.object({type:i.literal("container_file_citation"),container_id:i.string(),file_id:i.string(),filename:i.string().nullish(),start_index:i.number().nullish(),end_index:i.number().nullish(),index:i.number().nullish()}),i.object({type:i.literal("file_path"),file_id:i.string(),index:i.number().nullish()})]))}))}),i.object({type:i.literal("web_search_call"),id:i.string(),status:i.string(),action:i.discriminatedUnion("type",[i.object({type:i.literal("search"),query:i.string().nullish(),sources:i.array(i.discriminatedUnion("type",[i.object({type:i.literal("url"),url:i.string()}),i.object({type:i.literal("api"),name:i.string()})])).nullish()}),i.object({type:i.literal("open_page"),url:i.string()}),i.object({type:i.literal("find"),url:i.string(),pattern:i.string()})])}),i.object({type:i.literal("file_search_call"),id:i.string(),queries:i.array(i.string()),results:i.array(i.object({attributes:i.record(i.string(),i.union([i.string(),i.number(),i.boolean()])),file_id:i.string(),filename:i.string(),score:i.number(),text:i.string()})).nullish()}),i.object({type:i.literal("code_interpreter_call"),id:i.string(),code:i.string().nullable(),container_id:i.string(),outputs:i.array(i.discriminatedUnion("type",[i.object({type:i.literal("logs"),logs:i.string()}),i.object({type:i.literal("image"),url:i.string()})])).nullable()}),i.object({type:i.literal("image_generation_call"),id:i.string(),result:i.string()}),i.object({type:i.literal("local_shell_call"),id:i.string(),call_id:i.string(),action:i.object({type:i.literal("exec"),command:i.array(i.string()),timeout_ms:i.number().optional(),user:i.string().optional(),working_directory:i.string().optional(),env:i.record(i.string(),i.string()).optional()})}),i.object({type:i.literal("function_call"),call_id:i.string(),name:i.string(),arguments:i.string(),id:i.string()}),i.object({type:i.literal("computer_call"),id:i.string(),status:i.string().optional()}),i.object({type:i.literal("reasoning"),id:i.string(),encrypted_content:i.string().nullish(),summary:i.array(i.object({type:i.literal("summary_text"),text:i.string()}))})])).optional(),service_tier:i.string().nullish(),incomplete_details:i.object({reason:i.string()}).nullish(),usage:i.object({input_tokens:i.number(),input_tokens_details:i.object({cached_tokens:i.number().nullish()}).nullish(),output_tokens:i.number(),output_tokens_details:i.object({reasoning_tokens:i.number().nullish()}).nullish()}).optional()}))),TP=20,JZ=["o1","o1-2024-12-17","o3","o3-2025-04-16","o3-deep-research","o3-deep-research-2025-06-26","o3-mini","o3-mini-2025-01-31","o4-mini","o4-mini-2025-04-16","o4-mini-deep-research","o4-mini-deep-research-2025-06-26","codex-mini-latest","computer-use-preview","gpt-5","gpt-5-2025-08-07","gpt-5-codex","gpt-5-mini","gpt-5-mini-2025-08-07","gpt-5-nano","gpt-5-nano-2025-08-07","gpt-5-pro","gpt-5-pro-2025-10-06","gpt-5.1","gpt-5.1-chat-latest","gpt-5.1-codex-mini","gpt-5.1-codex"],gpe=["gpt-4.1","gpt-4.1-2025-04-14","gpt-4.1-mini","gpt-4.1-mini-2025-04-14","gpt-4.1-nano","gpt-4.1-nano-2025-04-14","gpt-4o","gpt-4o-2024-05-13","gpt-4o-2024-08-06","gpt-4o-2024-11-20","gpt-4o-audio-preview","gpt-4o-audio-preview-2024-10-01","gpt-4o-audio-preview-2024-12-17","gpt-4o-search-preview","gpt-4o-search-preview-2025-03-11","gpt-4o-mini-search-preview","gpt-4o-mini-search-preview-2025-03-11","gpt-4o-mini","gpt-4o-mini-2024-07-18","gpt-4-turbo","gpt-4-turbo-2024-04-09","gpt-4-turbo-preview","gpt-4-0125-preview","gpt-4-1106-preview","gpt-4","gpt-4-0613","gpt-4.5-preview","gpt-4.5-preview-2025-02-27","gpt-3.5-turbo-0125","gpt-3.5-turbo","gpt-3.5-turbo-1106","chatgpt-4o-latest","gpt-5-chat-latest",...JZ],KZ=Be(()=>C(i.object({conversation:i.string().nullish(),include:i.array(i.enum(["reasoning.encrypted_content","file_search_call.results","message.output_text.logprobs"])).nullish(),instructions:i.string().nullish(),logprobs:i.union([i.boolean(),i.number().min(1).max(TP)]).optional(),maxToolCalls:i.number().nullish(),metadata:i.any().nullish(),parallelToolCalls:i.boolean().nullish(),previousResponseId:i.string().nullish(),promptCacheKey:i.string().nullish(),promptCacheRetention:i.enum(["in_memory","24h"]).nullish(),reasoningEffort:i.string().nullish(),reasoningSummary:i.string().nullish(),safetyIdentifier:i.string().nullish(),serviceTier:i.enum(["auto","flex","priority","default"]).nullish(),store:i.boolean().nullish(),strictJsonSchema:i.boolean().nullish(),textVerbosity:i.enum(["low","medium","high"]).nullish(),truncation:i.enum(["auto","disabled"]).nullish(),user:i.string().nullish()})));async function WZ({tools:e,toolChoice:t,strictJsonSchema:n}){e=e?.length?e:void 0;let o=[];if(e==null)return{tools:void 0,toolChoice:void 0,toolWarnings:o};let r=[];for(let c of e)switch(c.type){case"function":r.push({type:"function",name:c.name,description:c.description,parameters:c.inputSchema,strict:n});break;case"provider-defined":{switch(c.id){case"openai.file_search":{let u=await gt({value:c.args,schema:TZ});r.push({type:"file_search",vector_store_ids:u.vectorStoreIds,max_num_results:u.maxNumResults,ranking_options:u.ranking?{ranker:u.ranking.ranker,score_threshold:u.ranking.scoreThreshold}:void 0,filters:u.filters});break}case"openai.local_shell":{r.push({type:"local_shell"});break}case"openai.web_search_preview":{let u=await gt({value:c.args,schema:UZ});r.push({type:"web_search_preview",search_context_size:u.searchContextSize,user_location:u.userLocation});break}case"openai.web_search":{let u=await gt({value:c.args,schema:NZ});r.push({type:"web_search",filters:u.filters!=null?{allowed_domains:u.filters.allowedDomains}:void 0,external_web_access:u.externalWebAccess,search_context_size:u.searchContextSize,user_location:u.userLocation});break}case"openai.code_interpreter":{let u=await gt({value:c.args,schema:wZ});r.push({type:"code_interpreter",container:u.container==null?{type:"auto",file_ids:void 0}:typeof u.container=="string"?u.container:{type:"auto",file_ids:u.container.fileIds}});break}case"openai.image_generation":{let u=await gt({value:c.args,schema:PZ});r.push({type:"image_generation",background:u.background,input_fidelity:u.inputFidelity,input_image_mask:u.inputImageMask?{file_id:u.inputImageMask.fileId,image_url:u.inputImageMask.imageUrl}:void 0,model:u.model,size:u.size,quality:u.quality,moderation:u.moderation,output_format:u.outputFormat,output_compression:u.outputCompression});break}}break}default:o.push({type:"unsupported-tool",tool:c});break}if(t==null)return{tools:r,toolChoice:void 0,toolWarnings:o};let a=t.type;switch(a){case"auto":case"none":case"required":return{tools:r,toolChoice:a,toolWarnings:o};case"tool":return{tools:r,toolChoice:t.toolName==="code_interpreter"||t.toolName==="file_search"||t.toolName==="image_generation"||t.toolName==="web_search_preview"||t.toolName==="web_search"?{type:t.toolName}:{type:"function",name:t.toolName},toolWarnings:o};default:{let c=a;throw new Oe({functionality:`tool choice type: ${c}`})}}}s(WZ,"prepareResponsesTools");var XZ=class{static{s(this,"OpenAIResponsesLanguageModel")}constructor(e,t){this.specificationVersion="v2",this.supportedUrls={"image/*":[/^https?:\/\/.*$/],"application/pdf":[/^https?:\/\/.*$/]},this.modelId=e,this.config=t}get provider(){return this.config.provider}async getArgs({maxOutputTokens:e,temperature:t,stopSequences:n,topP:o,topK:r,presencePenalty:a,frequencyPenalty:c,seed:u,prompt:l,providerOptions:d,tools:p,toolChoice:m,responseFormat:f}){var y,g,v,b;let w=[],_=sV(this.modelId);r!=null&&w.push({type:"unsupported-setting",setting:"topK"}),u!=null&&w.push({type:"unsupported-setting",setting:"seed"}),a!=null&&w.push({type:"unsupported-setting",setting:"presencePenalty"}),c!=null&&w.push({type:"unsupported-setting",setting:"frequencyPenalty"}),n!=null&&w.push({type:"unsupported-setting",setting:"stopSequences"});let x=await Ze({provider:"openai",providerOptions:d,schema:KZ});x?.conversation&&x?.previousResponseId&&w.push({type:"unsupported-setting",setting:"conversation",details:"conversation and previousResponseId cannot be used together"});let{input:E,warnings:D}=await ZZ({prompt:l,systemMessageMode:_.systemMessageMode,fileIdPrefixes:this.config.fileIdPrefixes,store:(y=x?.store)!=null?y:!0,hasLocalShellTool:N("openai.local_shell")});w.push(...D);let Z=(g=x?.strictJsonSchema)!=null?g:!1,j=x?.include;function G(re){j==null?j=[re]:j.includes(re)||(j=[...j,re])}s(G,"addInclude");function N(re){return p?.find(ke=>ke.type==="provider-defined"&&ke.id===re)!=null}s(N,"hasOpenAITool");let $=typeof x?.logprobs=="number"?x?.logprobs:x?.logprobs===!0?TP:void 0;$&&G("message.output_text.logprobs");let O=(v=p?.find(re=>re.type==="provider-defined"&&(re.id==="openai.web_search"||re.id==="openai.web_search_preview")))==null?void 0:v.name;O&&G("web_search_call.action.sources"),N("openai.code_interpreter")&&G("code_interpreter_call.outputs");let te=x?.store;te===!1&&_.isReasoningModel&&G("reasoning.encrypted_content");let V={model:this.modelId,input:E,temperature:t,top_p:o,max_output_tokens:e,...(f?.type==="json"||x?.textVerbosity)&&{text:{...f?.type==="json"&&{format:f.schema!=null?{type:"json_schema",strict:Z,name:(b=f.name)!=null?b:"response",description:f.description,schema:f.schema}:{type:"json_object"}},...x?.textVerbosity&&{verbosity:x.textVerbosity}}},conversation:x?.conversation,max_tool_calls:x?.maxToolCalls,metadata:x?.metadata,parallel_tool_calls:x?.parallelToolCalls,previous_response_id:x?.previousResponseId,store:te,user:x?.user,instructions:x?.instructions,service_tier:x?.serviceTier,include:j,prompt_cache_key:x?.promptCacheKey,prompt_cache_retention:x?.promptCacheRetention,safety_identifier:x?.safetyIdentifier,top_logprobs:$,truncation:x?.truncation,..._.isReasoningModel&&(x?.reasoningEffort!=null||x?.reasoningSummary!=null)&&{reasoning:{...x?.reasoningEffort!=null&&{effort:x.reasoningEffort},...x?.reasoningSummary!=null&&{summary:x.reasoningSummary}}}};_.isReasoningModel?(V.temperature!=null&&(V.temperature=void 0,w.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),V.top_p!=null&&(V.top_p=void 0,w.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"}))):(x?.reasoningEffort!=null&&w.push({type:"unsupported-setting",setting:"reasoningEffort",details:"reasoningEffort is not supported for non-reasoning models"}),x?.reasoningSummary!=null&&w.push({type:"unsupported-setting",setting:"reasoningSummary",details:"reasoningSummary is not supported for non-reasoning models"})),x?.serviceTier==="flex"&&!_.supportsFlexProcessing&&(w.push({type:"unsupported-setting",setting:"serviceTier",details:"flex processing is only available for o3, o4-mini, and gpt-5 models"}),delete V.service_tier),x?.serviceTier==="priority"&&!_.supportsPriorityProcessing&&(w.push({type:"unsupported-setting",setting:"serviceTier",details:"priority processing is only available for supported models (gpt-4, gpt-5, gpt-5-mini, o3, o4-mini) and requires Enterprise access. gpt-5-nano is not supported"}),delete V.service_tier);let{tools:Q,toolChoice:fe,toolWarnings:Y}=await WZ({tools:p,toolChoice:m,strictJsonSchema:Z});return{webSearchToolName:O,args:{...V,tools:Q,tool_choice:fe},warnings:[...w,...Y],store:te}}async doGenerate(e){var t,n,o,r,a,c,u,l,d,p,m,f,y,g,v,b,w,_,x;let{args:E,warnings:D,webSearchToolName:Z}=await this.getArgs(e),j=this.config.url({path:"/responses",modelId:this.modelId}),{responseHeaders:G,value:N,rawValue:$}=await Je({url:j,headers:Ge(this.config.headers(),e.headers),body:E,failedResponseHandler:Jr,successfulResponseHandler:mt(GZ),abortSignal:e.abortSignal,fetch:this.config.fetch});if(N.error)throw new bt({message:N.error.message,url:j,requestBodyValues:E,statusCode:400,responseHeaders:G,responseBody:$,isRetryable:!1});let O=[],te=[],V=!1;for(let Y of N.output)switch(Y.type){case"reasoning":{Y.summary.length===0&&Y.summary.push({type:"summary_text",text:""});for(let re of Y.summary)O.push({type:"reasoning",text:re.text,providerMetadata:{openai:{itemId:Y.id,reasoningEncryptedContent:(t=Y.encrypted_content)!=null?t:null}}});break}case"image_generation_call":{O.push({type:"tool-call",toolCallId:Y.id,toolName:"image_generation",input:"{}",providerExecuted:!0}),O.push({type:"tool-result",toolCallId:Y.id,toolName:"image_generation",result:{result:Y.result},providerExecuted:!0});break}case"local_shell_call":{O.push({type:"tool-call",toolCallId:Y.call_id,toolName:"local_shell",input:JSON.stringify({action:Y.action}),providerMetadata:{openai:{itemId:Y.id}}});break}case"message":{for(let re of Y.content){(o=(n=e.providerOptions)==null?void 0:n.openai)!=null&&o.logprobs&&re.logprobs&&te.push(re.logprobs),O.push({type:"text",text:re.text,providerMetadata:{openai:{itemId:Y.id}}});for(let ke of re.annotations)ke.type==="url_citation"?O.push({type:"source",sourceType:"url",id:(c=(a=(r=this.config).generateId)==null?void 0:a.call(r))!=null?c:ht(),url:ke.url,title:ke.title}):ke.type==="file_citation"&&O.push({type:"source",sourceType:"document",id:(d=(l=(u=this.config).generateId)==null?void 0:l.call(u))!=null?d:ht(),mediaType:"text/plain",title:(m=(p=ke.quote)!=null?p:ke.filename)!=null?m:"Document",filename:(f=ke.filename)!=null?f:ke.file_id,...ke.file_id?{providerMetadata:{openai:{fileId:ke.file_id}}}:{}})}break}case"function_call":{V=!0,O.push({type:"tool-call",toolCallId:Y.call_id,toolName:Y.name,input:Y.arguments,providerMetadata:{openai:{itemId:Y.id}}});break}case"web_search_call":{O.push({type:"tool-call",toolCallId:Y.id,toolName:Z??"web_search",input:JSON.stringify({}),providerExecuted:!0}),O.push({type:"tool-result",toolCallId:Y.id,toolName:Z??"web_search",result:vP(Y.action),providerExecuted:!0});break}case"computer_call":{O.push({type:"tool-call",toolCallId:Y.id,toolName:"computer_use",input:"",providerExecuted:!0}),O.push({type:"tool-result",toolCallId:Y.id,toolName:"computer_use",result:{type:"computer_use_tool_result",status:Y.status||"completed"},providerExecuted:!0});break}case"file_search_call":{O.push({type:"tool-call",toolCallId:Y.id,toolName:"file_search",input:"{}",providerExecuted:!0}),O.push({type:"tool-result",toolCallId:Y.id,toolName:"file_search",result:{queries:Y.queries,results:(g=(y=Y.results)==null?void 0:y.map(re=>({attributes:re.attributes,fileId:re.file_id,filename:re.filename,score:re.score,text:re.text})))!=null?g:null},providerExecuted:!0});break}case"code_interpreter_call":{O.push({type:"tool-call",toolCallId:Y.id,toolName:"code_interpreter",input:JSON.stringify({code:Y.code,containerId:Y.container_id}),providerExecuted:!0}),O.push({type:"tool-result",toolCallId:Y.id,toolName:"code_interpreter",result:{outputs:Y.outputs},providerExecuted:!0});break}}let Q={openai:{...N.id!=null?{responseId:N.id}:{}}};te.length>0&&(Q.openai.logprobs=te),typeof N.service_tier=="string"&&(Q.openai.serviceTier=N.service_tier);let fe=N.usage;return{content:O,finishReason:gP({finishReason:(v=N.incomplete_details)==null?void 0:v.reason,hasFunctionCall:V}),usage:{inputTokens:fe.input_tokens,outputTokens:fe.output_tokens,totalTokens:fe.input_tokens+fe.output_tokens,reasoningTokens:(w=(b=fe.output_tokens_details)==null?void 0:b.reasoning_tokens)!=null?w:void 0,cachedInputTokens:(x=(_=fe.input_tokens_details)==null?void 0:_.cached_tokens)!=null?x:void 0},request:{body:E},response:{id:N.id,timestamp:new Date(N.created_at*1e3),modelId:N.model,headers:G,body:$},providerMetadata:Q,warnings:D}}async doStream(e){let{args:t,warnings:n,webSearchToolName:o,store:r}=await this.getArgs(e),{responseHeaders:a,value:c}=await Je({url:this.config.url({path:"/responses",modelId:this.modelId}),headers:Ge(this.config.headers(),e.headers),body:{...t,stream:!0},failedResponseHandler:Jr,successfulResponseHandler:Hr(HZ),abortSignal:e.abortSignal,fetch:this.config.fetch}),u=this,l="unknown",d={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},p=[],m=null,f={},y=[],g=!1,v={},b;return{stream:c.pipeThrough(new TransformStream({start(w){w.enqueue({type:"stream-start",warnings:n})},transform(w,_){var x,E,D,Z,j,G,N,$,O,te,V,Q,fe,Y,re,ke,ct,Ue,vt,A,se,W;if(e.includeRawChunks&&_.enqueue({type:"raw",rawValue:w.rawValue}),!w.success){l="error",_.enqueue({type:"error",error:w.error});return}let S=w.value;if(yP(S))S.item.type==="function_call"?(f[S.output_index]={toolName:S.item.name,toolCallId:S.item.call_id},_.enqueue({type:"tool-input-start",id:S.item.call_id,toolName:S.item.name})):S.item.type==="web_search_call"?(f[S.output_index]={toolName:o??"web_search",toolCallId:S.item.id},_.enqueue({type:"tool-input-start",id:S.item.id,toolName:o??"web_search",providerExecuted:!0}),_.enqueue({type:"tool-input-end",id:S.item.id}),_.enqueue({type:"tool-call",toolCallId:S.item.id,toolName:o??"web_search",input:JSON.stringify({}),providerExecuted:!0})):S.item.type==="computer_call"?(f[S.output_index]={toolName:"computer_use",toolCallId:S.item.id},_.enqueue({type:"tool-input-start",id:S.item.id,toolName:"computer_use",providerExecuted:!0})):S.item.type==="code_interpreter_call"?(f[S.output_index]={toolName:"code_interpreter",toolCallId:S.item.id,codeInterpreter:{containerId:S.item.container_id}},_.enqueue({type:"tool-input-start",id:S.item.id,toolName:"code_interpreter",providerExecuted:!0}),_.enqueue({type:"tool-input-delta",id:S.item.id,delta:`{"containerId":"${S.item.container_id}","code":"`})):S.item.type==="file_search_call"?_.enqueue({type:"tool-call",toolCallId:S.item.id,toolName:"file_search",input:"{}",providerExecuted:!0}):S.item.type==="image_generation_call"?_.enqueue({type:"tool-call",toolCallId:S.item.id,toolName:"image_generation",input:"{}",providerExecuted:!0}):S.item.type==="message"?(y.splice(0,y.length),_.enqueue({type:"text-start",id:S.item.id,providerMetadata:{openai:{itemId:S.item.id}}})):yP(S)&&S.item.type==="reasoning"&&(v[S.item.id]={encryptedContent:S.item.encrypted_content,summaryParts:{0:"active"}},_.enqueue({type:"reasoning-start",id:`${S.item.id}:0`,providerMetadata:{openai:{itemId:S.item.id,reasoningEncryptedContent:(x=S.item.encrypted_content)!=null?x:null}}}));else if(QZ(S)){if(S.item.type==="message")_.enqueue({type:"text-end",id:S.item.id,providerMetadata:{openai:{itemId:S.item.id,...y.length>0&&{annotations:y}}}});else if(S.item.type==="function_call")f[S.output_index]=void 0,g=!0,_.enqueue({type:"tool-input-end",id:S.item.call_id}),_.enqueue({type:"tool-call",toolCallId:S.item.call_id,toolName:S.item.name,input:S.item.arguments,providerMetadata:{openai:{itemId:S.item.id}}});else if(S.item.type==="web_search_call")f[S.output_index]=void 0,_.enqueue({type:"tool-result",toolCallId:S.item.id,toolName:o??"web_search",result:vP(S.item.action),providerExecuted:!0});else if(S.item.type==="computer_call")f[S.output_index]=void 0,_.enqueue({type:"tool-input-end",id:S.item.id}),_.enqueue({type:"tool-call",toolCallId:S.item.id,toolName:"computer_use",input:"",providerExecuted:!0}),_.enqueue({type:"tool-result",toolCallId:S.item.id,toolName:"computer_use",result:{type:"computer_use_tool_result",status:S.item.status||"completed"},providerExecuted:!0});else if(S.item.type==="file_search_call")f[S.output_index]=void 0,_.enqueue({type:"tool-result",toolCallId:S.item.id,toolName:"file_search",result:{queries:S.item.queries,results:(D=(E=S.item.results)==null?void 0:E.map(_e=>({attributes:_e.attributes,fileId:_e.file_id,filename:_e.filename,score:_e.score,text:_e.text})))!=null?D:null},providerExecuted:!0});else if(S.item.type==="code_interpreter_call")f[S.output_index]=void 0,_.enqueue({type:"tool-result",toolCallId:S.item.id,toolName:"code_interpreter",result:{outputs:S.item.outputs},providerExecuted:!0});else if(S.item.type==="image_generation_call")_.enqueue({type:"tool-result",toolCallId:S.item.id,toolName:"image_generation",result:{result:S.item.result},providerExecuted:!0});else if(S.item.type==="local_shell_call")f[S.output_index]=void 0,_.enqueue({type:"tool-call",toolCallId:S.item.call_id,toolName:"local_shell",input:JSON.stringify({action:{type:"exec",command:S.item.action.command,timeoutMs:S.item.action.timeout_ms,user:S.item.action.user,workingDirectory:S.item.action.working_directory,env:S.item.action.env}}),providerMetadata:{openai:{itemId:S.item.id}}});else if(S.item.type==="reasoning"){let _e=v[S.item.id],We=Object.entries(_e.summaryParts).filter(([ut,cn])=>cn==="active"||cn==="can-conclude").map(([ut])=>ut);for(let ut of We)_.enqueue({type:"reasoning-end",id:`${S.item.id}:${ut}`,providerMetadata:{openai:{itemId:S.item.id,reasoningEncryptedContent:(Z=S.item.encrypted_content)!=null?Z:null}}});delete v[S.item.id]}}else if(rV(S)){let _e=f[S.output_index];_e!=null&&_.enqueue({type:"tool-input-delta",id:_e.toolCallId,delta:S.delta})}else if(nV(S)){let _e=f[S.output_index];_e!=null&&_.enqueue({type:"tool-input-delta",id:_e.toolCallId,delta:JSON.stringify(S.delta).slice(1,-1)})}else if(oV(S)){let _e=f[S.output_index];_e!=null&&(_.enqueue({type:"tool-input-delta",id:_e.toolCallId,delta:'"}'}),_.enqueue({type:"tool-input-end",id:_e.toolCallId}),_.enqueue({type:"tool-call",toolCallId:_e.toolCallId,toolName:"code_interpreter",input:JSON.stringify({code:S.code,containerId:_e.codeInterpreter.containerId}),providerExecuted:!0}))}else if(tV(S))m=S.response.id,_.enqueue({type:"response-metadata",id:S.response.id,timestamp:new Date(S.response.created_at*1e3),modelId:S.response.model});else if(YZ(S))_.enqueue({type:"text-delta",id:S.item_id,delta:S.delta}),(G=(j=e.providerOptions)==null?void 0:j.openai)!=null&&G.logprobs&&S.logprobs&&p.push(S.logprobs);else if(S.type==="response.reasoning_summary_part.added"){if(S.summary_index>0){let _e=v[S.item_id];_e.summaryParts[S.summary_index]="active";for(let We of Object.keys(_e.summaryParts))_e.summaryParts[We]==="can-conclude"&&(_.enqueue({type:"reasoning-end",id:`${S.item_id}:${We}`,providerMetadata:{openai:{itemId:S.item_id}}}),_e.summaryParts[We]="concluded");_.enqueue({type:"reasoning-start",id:`${S.item_id}:${S.summary_index}`,providerMetadata:{openai:{itemId:S.item_id,reasoningEncryptedContent:($=(N=v[S.item_id])==null?void 0:N.encryptedContent)!=null?$:null}}})}}else S.type==="response.reasoning_summary_text.delta"?_.enqueue({type:"reasoning-delta",id:`${S.item_id}:${S.summary_index}`,delta:S.delta,providerMetadata:{openai:{itemId:S.item_id}}}):S.type==="response.reasoning_summary_part.done"?r?(_.enqueue({type:"reasoning-end",id:`${S.item_id}:${S.summary_index}`,providerMetadata:{openai:{itemId:S.item_id}}}),v[S.item_id].summaryParts[S.summary_index]="concluded"):v[S.item_id].summaryParts[S.summary_index]="can-conclude":eV(S)?(l=gP({finishReason:(O=S.response.incomplete_details)==null?void 0:O.reason,hasFunctionCall:g}),d.inputTokens=S.response.usage.input_tokens,d.outputTokens=S.response.usage.output_tokens,d.totalTokens=S.response.usage.input_tokens+S.response.usage.output_tokens,d.reasoningTokens=(V=(te=S.response.usage.output_tokens_details)==null?void 0:te.reasoning_tokens)!=null?V:void 0,d.cachedInputTokens=(fe=(Q=S.response.usage.input_tokens_details)==null?void 0:Q.cached_tokens)!=null?fe:void 0,typeof S.response.service_tier=="string"&&(b=S.response.service_tier)):aV(S)?(y.push(S.annotation),S.annotation.type==="url_citation"?_.enqueue({type:"source",sourceType:"url",id:(ke=(re=(Y=u.config).generateId)==null?void 0:re.call(Y))!=null?ke:ht(),url:S.annotation.url,title:S.annotation.title}):S.annotation.type==="file_citation"&&_.enqueue({type:"source",sourceType:"document",id:(vt=(Ue=(ct=u.config).generateId)==null?void 0:Ue.call(ct))!=null?vt:ht(),mediaType:"text/plain",title:(se=(A=S.annotation.quote)!=null?A:S.annotation.filename)!=null?se:"Document",filename:(W=S.annotation.filename)!=null?W:S.annotation.file_id,...S.annotation.file_id?{providerMetadata:{openai:{fileId:S.annotation.file_id}}}:{}})):iV(S)&&_.enqueue({type:"error",error:S})},flush(w){let _={openai:{responseId:m}};p.length>0&&(_.openai.logprobs=p),b!==void 0&&(_.openai.serviceTier=b),w.enqueue({type:"finish",finishReason:l,usage:d,providerMetadata:_})}})),request:{body:t},response:{headers:a}}}};function YZ(e){return e.type==="response.output_text.delta"}s(YZ,"isTextDeltaChunk");function QZ(e){return e.type==="response.output_item.done"}s(QZ,"isResponseOutputItemDoneChunk");function eV(e){return e.type==="response.completed"||e.type==="response.incomplete"}s(eV,"isResponseFinishedChunk");function tV(e){return e.type==="response.created"}s(tV,"isResponseCreatedChunk");function rV(e){return e.type==="response.function_call_arguments.delta"}s(rV,"isResponseFunctionCallArgumentsDeltaChunk");function nV(e){return e.type==="response.code_interpreter_call_code.delta"}s(nV,"isResponseCodeInterpreterCallCodeDeltaChunk");function oV(e){return e.type==="response.code_interpreter_call_code.done"}s(oV,"isResponseCodeInterpreterCallCodeDoneChunk");function yP(e){return e.type==="response.output_item.added"}s(yP,"isResponseOutputItemAddedChunk");function aV(e){return e.type==="response.output_text.annotation.added"}s(aV,"isResponseAnnotationAddedChunk");function iV(e){return e.type==="error"}s(iV,"isErrorChunk");function sV(e){let t=e.startsWith("o3")||e.startsWith("o4-mini")||e.startsWith("gpt-5")&&!e.startsWith("gpt-5-chat"),n=e.startsWith("gpt-4")||e.startsWith("gpt-5-mini")||e.startsWith("gpt-5")&&!e.startsWith("gpt-5-nano")&&!e.startsWith("gpt-5-chat")||e.startsWith("o3")||e.startsWith("o4-mini"),o={systemMessageMode:"system",supportsFlexProcessing:t,supportsPriorityProcessing:n};return e.startsWith("gpt-5-chat")?{...o,isReasoningModel:!1}:e.startsWith("o")||e.startsWith("gpt-5")||e.startsWith("codex-")||e.startsWith("computer-use")?{...o,isReasoningModel:!0,systemMessageMode:"developer"}:{...o,isReasoningModel:!1}}s(sV,"getResponsesModelConfig");function vP(e){var t;switch(e.type){case"search":return{action:{type:"search",query:(t=e.query)!=null?t:void 0},...e.sources!=null&&{sources:e.sources}};case"open_page":return{action:{type:"openPage",url:e.url}};case"find":return{action:{type:"find",url:e.url,pattern:e.pattern}}}}s(vP,"mapWebSearchOutput");var cV=Be(()=>C(i.object({instructions:i.string().nullish(),speed:i.number().min(.25).max(4).default(1).nullish()}))),uV=class{static{s(this,"OpenAISpeechModel")}constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2"}get provider(){return this.config.provider}async getArgs({text:e,voice:t="alloy",outputFormat:n="mp3",speed:o,instructions:r,language:a,providerOptions:c}){let u=[],l=await Ze({provider:"openai",providerOptions:c,schema:cV}),d={model:this.modelId,input:e,voice:t,response_format:"mp3",speed:o,instructions:r};if(n&&(["mp3","opus","aac","flac","wav","pcm"].includes(n)?d.response_format=n:u.push({type:"unsupported-setting",setting:"outputFormat",details:`Unsupported output format: ${n}. Using mp3 instead.`})),l){let p={};for(let m in p){let f=p[m];f!==void 0&&(d[m]=f)}}return a&&u.push({type:"unsupported-setting",setting:"language",details:`OpenAI speech models do not support language selection. Language parameter "${a}" was ignored.`}),{requestBody:d,warnings:u}}async doGenerate(e){var t,n,o;let r=(o=(n=(t=this.config._internal)==null?void 0:t.currentDate)==null?void 0:n.call(t))!=null?o:new Date,{requestBody:a,warnings:c}=await this.getArgs(e),{value:u,responseHeaders:l,rawValue:d}=await Je({url:this.config.url({path:"/audio/speech",modelId:this.modelId}),headers:Ge(this.config.headers(),e.headers),body:a,failedResponseHandler:Jr,successfulResponseHandler:Fk(),abortSignal:e.abortSignal,fetch:this.config.fetch});return{audio:u,warnings:c,request:{body:JSON.stringify(a)},response:{timestamp:r,modelId:this.modelId,headers:l,body:d}}}},lV=Be(()=>C(i.object({text:i.string(),language:i.string().nullish(),duration:i.number().nullish(),words:i.array(i.object({word:i.string(),start:i.number(),end:i.number()})).nullish(),segments:i.array(i.object({id:i.number(),seek:i.number(),start:i.number(),end:i.number(),text:i.string(),tokens:i.array(i.number()),temperature:i.number(),avg_logprob:i.number(),compression_ratio:i.number(),no_speech_prob:i.number()})).nullish()}))),dV=Be(()=>C(i.object({include:i.array(i.string()).optional(),language:i.string().optional(),prompt:i.string().optional(),temperature:i.number().min(0).max(1).default(0).optional(),timestampGranularities:i.array(i.enum(["word","segment"])).default(["segment"]).optional()}))),_P={afrikaans:"af",arabic:"ar",armenian:"hy",azerbaijani:"az",belarusian:"be",bosnian:"bs",bulgarian:"bg",catalan:"ca",chinese:"zh",croatian:"hr",czech:"cs",danish:"da",dutch:"nl",english:"en",estonian:"et",finnish:"fi",french:"fr",galician:"gl",german:"de",greek:"el",hebrew:"he",hindi:"hi",hungarian:"hu",icelandic:"is",indonesian:"id",italian:"it",japanese:"ja",kannada:"kn",kazakh:"kk",korean:"ko",latvian:"lv",lithuanian:"lt",macedonian:"mk",malay:"ms",marathi:"mr",maori:"mi",nepali:"ne",norwegian:"no",persian:"fa",polish:"pl",portuguese:"pt",romanian:"ro",russian:"ru",serbian:"sr",slovak:"sk",slovenian:"sl",spanish:"es",swahili:"sw",swedish:"sv",tagalog:"tl",tamil:"ta",thai:"th",turkish:"tr",ukrainian:"uk",urdu:"ur",vietnamese:"vi",welsh:"cy"},pV=class{static{s(this,"OpenAITranscriptionModel")}constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2"}get provider(){return this.config.provider}async getArgs({audio:e,mediaType:t,providerOptions:n}){let o=[],r=await Ze({provider:"openai",providerOptions:n,schema:dV}),a=new FormData,c=e instanceof Uint8Array?new Blob([e]):new Blob([Jk(e)]);a.append("model",this.modelId);let u=Mk(t);if(a.append("file",new File([c],"audio",{type:t}),`audio.${u}`),r){let l={include:r.include,language:r.language,prompt:r.prompt,response_format:["gpt-4o-transcribe","gpt-4o-mini-transcribe"].includes(this.modelId)?"json":"verbose_json",temperature:r.temperature,timestamp_granularities:r.timestampGranularities};for(let[d,p]of Object.entries(l))if(p!=null)if(Array.isArray(p))for(let m of p)a.append(`${d}[]`,String(m));else a.append(d,String(p))}return{formData:a,warnings:o}}async doGenerate(e){var t,n,o,r,a,c,u,l;let d=(o=(n=(t=this.config._internal)==null?void 0:t.currentDate)==null?void 0:n.call(t))!=null?o:new Date,{formData:p,warnings:m}=await this.getArgs(e),{value:f,responseHeaders:y,rawValue:g}=await Lk({url:this.config.url({path:"/audio/transcriptions",modelId:this.modelId}),headers:Ge(this.config.headers(),e.headers),formData:p,failedResponseHandler:Jr,successfulResponseHandler:mt(lV),abortSignal:e.abortSignal,fetch:this.config.fetch}),v=f.language!=null&&f.language in _P?_P[f.language]:void 0;return{text:f.text,segments:(u=(c=(r=f.segments)==null?void 0:r.map(b=>({text:b.text,startSecond:b.start,endSecond:b.end})))!=null?c:(a=f.words)==null?void 0:a.map(b=>({text:b.word,startSecond:b.start,endSecond:b.end})))!=null?u:[],language:v,durationInSeconds:(l=f.duration)!=null?l:void 0,warnings:m,response:{timestamp:d,modelId:this.modelId,headers:y,body:g}}}},mV="2.0.74";function fV(e={}){var t,n;let o=(t=ei(Sd({settingValue:e.baseURL,environmentVariableName:"OPENAI_BASE_URL"})))!=null?t:"https://api.openai.com/v1",r=(n=e.name)!=null?n:"openai",a=s(()=>Oo({Authorization:`Bearer ${Ya({apiKey:e.apiKey,environmentVariableName:"OPENAI_API_KEY",description:"OpenAI"})}`,"OpenAI-Organization":e.organization,"OpenAI-Project":e.project,...e.headers},`ai-sdk/openai/${mV}`),"getHeaders"),c=s(v=>new oZ(v,{provider:`${r}.chat`,url:s(({path:b})=>`${o}${b}`,"url"),headers:a,fetch:e.fetch}),"createChatModel"),u=s(v=>new pZ(v,{provider:`${r}.completion`,url:s(({path:b})=>`${o}${b}`,"url"),headers:a,fetch:e.fetch}),"createCompletionModel"),l=s(v=>new hZ(v,{provider:`${r}.embedding`,url:s(({path:b})=>`${o}${b}`,"url"),headers:a,fetch:e.fetch}),"createEmbeddingModel"),d=s(v=>new _Z(v,{provider:`${r}.image`,url:s(({path:b})=>`${o}${b}`,"url"),headers:a,fetch:e.fetch}),"createImageModel"),p=s(v=>new pV(v,{provider:`${r}.transcription`,url:s(({path:b})=>`${o}${b}`,"url"),headers:a,fetch:e.fetch}),"createTranscriptionModel"),m=s(v=>new uV(v,{provider:`${r}.speech`,url:s(({path:b})=>`${o}${b}`,"url"),headers:a,fetch:e.fetch}),"createSpeechModel"),f=s(v=>{if(new.target)throw new Error("The OpenAI model function cannot be called with the new keyword.");return y(v)},"createLanguageModel"),y=s(v=>new XZ(v,{provider:`${r}.responses`,url:s(({path:b})=>`${o}${b}`,"url"),headers:a,fetch:e.fetch,fileIdPrefixes:["file-"]}),"createResponsesModel"),g=s(function(v){return f(v)},"provider");return g.languageModel=f,g.chat=c,g.completion=u,g.responses=y,g.embedding=l,g.textEmbedding=l,g.textEmbeddingModel=l,g.image=d,g.imageModel=d,g.transcription=p,g.transcriptionModel=p,g.speech=m,g.speechModel=m,g.tools=BZ,g}s(fV,"createOpenAI");var J_=fV();var EP=i.enum(["openai","anthropic","google"]),hV={openai:{default:s(()=>J_("gpt-4o"),"default"),fast:s(()=>J_("gpt-4o-mini"),"fast"),envKey:"OPENAI_API_KEY"},anthropic:{default:s(()=>Z_("claude-3-5-sonnet-latest"),"default"),fast:s(()=>Z_("claude-3-5-haiku-latest"),"fast"),envKey:"ANTHROPIC_API_KEY"},google:{default:s(()=>V_("gemini-1.5-pro-latest"),"default"),fast:s(()=>V_("gemini-1.5-flash-latest"),"fast"),envKey:"GOOGLE_GENERATIVE_AI_API_KEY"}};function kP(e,t="default"){return hV[e][t]()}s(kP,"getModel");function PP(){let e=[];return process.env.OPENAI_API_KEY&&e.push("openai"),process.env.ANTHROPIC_API_KEY&&e.push("anthropic"),process.env.GOOGLE_GENERATIVE_AI_API_KEY&&e.push("google"),e.length>0?e:["google"]}s(PP,"getAvailableProviders");var gV=[/ignore\s+(all\s+)?(previous|above|prior)\s+instructions/i,/disregard\s+(all\s+)?(previous|prior)\s+(instructions|context)/i,/you\s+are\s+now/i,/new\s+instructions:/i,/system:\s*/i,/\[INST\]/i,/<\/s>/i,/DROP\s+TABLE/i,/DELETE\s+FROM\s+\w+\s*;/i,/UPDATE\s+\w+\s+SET.*WHERE\s+1\s*=\s*1/i,/;\s*--/];function AP(e){for(let n of gV)if(n.test(e))return{isSafe:!1,reason:`Potential injection detected: ${n.source}`};return{isSafe:!0,sanitizedInput:[...e].filter(n=>{let o=n.charCodeAt(0);return o>=32&&o!==127}).join("").trim()}}s(AP,"checkPromptInjection");import{and as K_,desc as vV,eq as ti}from"drizzle-orm";var yV=new Set(["password","password_hash","two_factor_secret","two_factor_enabled","voice_sample_encrypted","voice_biometric_enabled","biometric_enabled","api_token","refresh_token","belvo_link_token","session_token"]),$P={cpf:s(e=>e?`***.***.***-${e.slice(-2)}`:"[n\xE3o informado]","cpf"),account_number:s(e=>e?`****${e.slice(-4)}`:"[n\xE3o informado]","account_number"),phone:s(e=>e?`(**) *****-${e.slice(-4)}`:"[n\xE3o informado]","phone")};function Kr(e){if(!e)return{};let t={};for(let[n,o]of Object.entries(e))if(!yV.has(n.toLowerCase())){if(n.toLowerCase()in $P&&typeof o=="string"){t[n]=$P[n.toLowerCase()](o);continue}if(o&&typeof o=="object"){Array.isArray(o)?t[n]=o.map(r=>typeof r=="object"&&r!==null?Kr(r):r):t[n]=Kr(o);continue}t[n]=o}return t}s(Kr,"filterSensitiveData");function RP(e,t){let n=i.object({includeInactive:i.boolean().default(!1).describe("Incluir contas inativas")}),o=i.object({accountId:i.string().uuid().optional().describe("ID da conta (omitir para total)")});return{listAccounts:{description:"Lista todas as contas banc\xE1rias do usu\xE1rio.",parameters:n,execute:s(async r=>{let{includeInactive:a}=r,c=[ti(M.userId,e)];a||c.push(ti(M.isActive,!0));let u=await t.select({id:M.id,institutionName:M.institutionName,accountType:M.accountType,balance:M.balance,availableBalance:M.availableBalance,currency:M.currency,isActive:M.isActive,isPrimary:M.isPrimary,lastSync:M.lastSync}).from(M).where(K_(...c)).orderBy(vV(M.isPrimary)),l=u.reduce((d,p)=>d+Number(p.balance??0),0);return{accounts:u.map(Kr),totalBalance:l,count:u.length}},"execute")},getAccountBalance:{description:"Obt\xE9m saldo atual de uma conta espec\xEDfica ou total de todas as contas.",parameters:o,execute:s(async r=>{let{accountId:a}=r;if(a){let[d]=await t.select({id:M.id,institutionName:M.institutionName,balance:M.balance,availableBalance:M.availableBalance,currency:M.currency,lastSync:M.lastSync}).from(M).where(K_(ti(M.id,a),ti(M.userId,e))).limit(1);if(!d)throw new Error("Conta n\xE3o encontrada");return Kr(d)}let c=await t.select({balance:M.balance,availableBalance:M.availableBalance,currency:M.currency}).from(M).where(K_(ti(M.userId,e),ti(M.isActive,!0))),u=c.reduce((d,p)=>d+Number(p.balance??0),0),l=c.reduce((d,p)=>d+Number(p.availableBalance??0),0);return{totalBalance:u,totalAvailable:l,currency:"BRL",accountCount:c.length}},"execute")}}}s(RP,"createAccountTools");import{eq as _V,isNull as bV,or as xV}from"drizzle-orm";function OP(e,t){let n=i.object({includeSystem:i.boolean().default(!0).describe("Incluir categorias do sistema")}),o=i.object({name:i.string().min(1).max(50).describe("Nome da categoria"),color:i.string().regex(/^#[0-9A-Fa-f]{6}$/).default("#6B7280").describe("Cor em hexadecimal"),icon:i.string().default("circle").describe("Nome do \xEDcone")});return{listCategories:{description:"Lista todas as categorias de transa\xE7\xE3o dispon\xEDveis.",parameters:n,execute:s(async r=>{let{includeSystem:a}=r,c=xV(_V(ie.userId,e),bV(ie.userId)),u=await t.select({id:ie.id,name:ie.name,color:ie.color,icon:ie.icon,isSystem:ie.isSystem,parentId:ie.parentId}).from(ie).where(c);return a||(u=u.filter(l=>!l.isSystem)),{categories:u,count:u.length}},"execute")},createCategory:{description:"Cria uma nova categoria personalizada.",parameters:o,execute:s(async r=>{let{name:a,color:c,icon:u}=r,[l]=await t.insert(ie).values({userId:e,name:a,color:c,icon:u,isSystem:!1}).returning();return{success:!0,category:l}},"execute")}}}s(OP,"createCategoryTools");import{and as xc,desc as wV,eq as Wr,gte as W_,ilike as SV,inArray as IV,lte as Td}from"drizzle-orm";function CP(e,t){let n=i.object({startDate:i.string().datetime().optional().describe("Data inicial no formato ISO (YYYY-MM-DD)"),endDate:i.string().datetime().optional().describe("Data final no formato ISO (YYYY-MM-DD)"),categoryId:i.string().uuid().optional().describe("ID da categoria para filtrar"),accountId:i.string().uuid().optional().describe("ID da conta para filtrar"),minAmount:i.number().optional().describe("Valor m\xEDnimo da transa\xE7\xE3o"),maxAmount:i.number().optional().describe("Valor m\xE1ximo da transa\xE7\xE3o"),searchTerm:i.string().optional().describe("Termo para buscar na descri\xE7\xE3o"),limit:i.number().min(1).max(100).default(20).describe("N\xFAmero m\xE1ximo de resultados"),offset:i.number().min(0).default(0).describe("Pular N resultados para pagina\xE7\xE3o")}),o=i.object({transactionId:i.string().uuid().describe("ID da transa\xE7\xE3o")}),r=i.object({amount:i.number().describe("Valor da transa\xE7\xE3o (positivo para receita, negativo para despesa)"),description:i.string().min(1).max(255).describe("Descri\xE7\xE3o da transa\xE7\xE3o"),categoryId:i.string().uuid().optional().describe("ID da categoria"),accountId:i.string().uuid().optional().describe("ID da conta banc\xE1ria"),transactionDate:i.string().datetime().optional().describe("Data da transa\xE7\xE3o (padr\xE3o: agora)"),merchantName:i.string().optional().describe("Nome do estabelecimento")}),a=i.object({transactionId:i.string().uuid().describe("ID da transa\xE7\xE3o a atualizar"),amount:i.number().optional().describe("Novo valor"),description:i.string().min(1).max(255).optional().describe("Nova descri\xE7\xE3o"),categoryId:i.string().uuid().optional().describe("Nova categoria"),transactionDate:i.string().datetime().optional().describe("Nova data"),merchantName:i.string().optional().describe("Novo estabelecimento")}),c=i.object({transactionId:i.string().uuid().describe("ID da transa\xE7\xE3o")}),u=i.object({startDate:i.string().datetime().describe("Data inicial"),endDate:i.string().datetime().describe("Data final")});return{listTransactions:{description:"Lista transa\xE7\xF5es do usu\xE1rio com filtros opcionais. Use para consultar hist\xF3rico, buscar por per\xEDodo ou categoria.",parameters:n,execute:s(async l=>{let{startDate:d,endDate:p,categoryId:m,accountId:f,minAmount:y,maxAmount:g,searchTerm:v,limit:b,offset:w}=l,_=[Wr(R.userId,e)];d&&_.push(W_(R.transactionDate,new Date(d))),p&&_.push(Td(R.transactionDate,new Date(p))),m&&_.push(Wr(R.categoryId,m)),f&&_.push(Wr(R.accountId,f)),y&&_.push(W_(R.amount,String(y))),g&&_.push(Td(R.amount,String(g))),v&&_.push(SV(R.description,`%${v}%`));let x=await t.select({id:R.id,amount:R.amount,description:R.description,merchantName:R.merchantName,transactionDate:R.transactionDate,status:R.status,createdAt:R.createdAt}).from(R).where(xc(..._)).orderBy(wV(R.transactionDate)).limit(b).offset(w);return{transactions:x.map(Kr),total:x.length,hasMore:x.length===b}},"execute")},getTransaction:{description:"Obt\xE9m detalhes de uma transa\xE7\xE3o espec\xEDfica pelo ID.",parameters:o,execute:s(async l=>{let{transactionId:d}=l,[p]=await t.select().from(R).where(xc(Wr(R.id,d),Wr(R.userId,e))).limit(1);if(!p)throw new Error("Transa\xE7\xE3o n\xE3o encontrada");return Kr(p)},"execute")},createTransaction:{description:"Cria uma nova transa\xE7\xE3o manual para o usu\xE1rio.",parameters:r,execute:s(async l=>{let{amount:d,description:p,categoryId:m,accountId:f,transactionDate:y,merchantName:g}=l,[v]=await t.insert(R).values({userId:e,amount:String(d),description:p,categoryId:m,accountId:f,transactionDate:y?new Date(y):new Date,merchantName:g,transactionType:d>=0?"credit":"debit",status:"posted",isManualEntry:!0}).returning();return{success:!0,transaction:Kr(v)}},"execute")},updateTransaction:{description:"Atualiza uma transa\xE7\xE3o existente do usu\xE1rio.",parameters:a,execute:s(async l=>{let{transactionId:d,...p}=l,m={updatedAt:new Date};p.amount!==void 0&&(m.amount=String(p.amount)),p.description!==void 0&&(m.description=p.description),p.categoryId!==void 0&&(m.categoryId=p.categoryId),p.transactionDate!==void 0&&(m.transactionDate=new Date(p.transactionDate)),p.merchantName!==void 0&&(m.merchantName=p.merchantName);let[f]=await t.update(R).set(m).where(xc(Wr(R.id,d),Wr(R.userId,e))).returning();if(!f)throw new Error("Transa\xE7\xE3o n\xE3o encontrada");return{success:!0,transaction:Kr(f)}},"execute")},deleteTransaction:{description:"Deleta uma transa\xE7\xE3o. Use com cuidado, esta a\xE7\xE3o \xE9 irrevers\xEDvel.",parameters:c,execute:s(async l=>{let{transactionId:d}=l,[p]=await t.delete(R).where(xc(Wr(R.id,d),Wr(R.userId,e))).returning({id:R.id});if(!p)throw new Error("Transa\xE7\xE3o n\xE3o encontrada");return{success:!0,message:"Transa\xE7\xE3o deletada com sucesso."}},"execute")},getSpendingSummary:{description:"Obt\xE9m resumo de gastos por categoria em um per\xEDodo.",parameters:u,execute:s(async l=>{let{startDate:d,endDate:p}=l,m=await t.select({amount:R.amount,categoryId:R.categoryId}).from(R).where(xc(Wr(R.userId,e),Td(R.amount,"0"),W_(R.transactionDate,new Date(d)),Td(R.transactionDate,new Date(p)))),f=[...new Set(m.map(_=>_.categoryId).filter(Boolean))],y=f.length?await t.select({id:ie.id,name:ie.name,color:ie.color}).from(ie).where(IV(ie.id,f)):[],g=new Map(y.map(_=>[_.id,_])),v=m.reduce((_,x)=>{let E=x.categoryId??"uncategorized",D=g.get(x.categoryId??"");return _[E]||(_[E]={categoryId:E,categoryName:D?.name??"Sem categoria",color:D?.color??"#6B7280",total:0,count:0}),_[E].total+=Math.abs(Number(x.amount)),_[E].count+=1,_},{}),b=Object.values(v).sort((_,x)=>x.total-_.total),w=b.reduce((_,x)=>_+x.total,0);return{period:{startDate:d,endDate:p},grandTotal:w,categories:b}},"execute")}}}s(CP,"createTransactionTools");function NP(e,t){return{...CP(e,t),...RP(e,t),...OP(e,t)}}s(NP,"createAllTools");function TV(e){let t=[],o=[/\b\d{3}\.\d{3}\.\d{3}-\d{2}\b/,/\b\d{2}\.\d{3}\.\d{3}\/\d{4}-\d{2}\b/,/\b\d{4}[- ]?\d{4}[- ]?\d{4}[- ]?\d{4}\b/].some(a=>a.test(e));o&&t.push("Sensitive data detected in response");let r=/[]/i.test(e)||e.includes("R$");return{isValid:t.length===0,language:r?"pt-BR":"en",contentType:"text",sensitiveDataDetected:o,complianceIssues:t}}s(TV,"validateBrazilianPortugueseContent");var wc=new ne,EV=i.object({messages:i.array(i.object({role:i.enum(["user","assistant","system","tool"]),content:i.string(),sensitiveDataRedacted:i.boolean().optional().default(!1),timestamp:i.string().datetime().optional(),sessionId:i.string().uuid().optional(),parts:i.array(i.object({type:i.literal("text"),text:i.string()})).optional()})).min(1,"At least one message is required").transform(e=>e.filter(t=>t.role!=="tool").map(t=>({...t,parts:t.parts||[{type:"text",text:t.content}]}))),provider:EP.optional().default("google"),tier:i.enum(["default","fast"]).optional().default("default")});wc.post("/chat",B,pe("json",EV),async e=>{let t=Date.now(),{messages:n,provider:o,tier:r}=e.req.valid("json"),a=e.get("auth");if(!a?.user)return e.json({error:"Unauthorized"},401);let c=a.user.id,u=crypto.randomUUID(),l=n[n.length-1],d=l?.role==="user"?l.content:null;if(d&&typeof d=="string"){let p=AP(d);if(!p.isSafe)return await md({userId:c,sessionId:u,provider:o,model:`${o}/${r}`,actionType:"chat",inputSummary:d.slice(0,100),outputSummary:"Blocked: injection detected",latencyMs:Date.now()-t,outcome:"blocked",errorMessage:p.reason}),e.json({error:"Invalid input detected"},400)}try{let p=kP(o,r),m=NP(c,a.db);return zE({model:p,system:FE,messages:S_(n),tools:m,maxSteps:5,onFinish:s(async({usage:y,finishReason:g,toolCalls:v})=>{let b=n,w=b[b.length-1],_=w?.role==="assistant"?w.content:g,x=typeof _=="string"?TV(_):{isValid:!0,language:"pt-BR",contentType:"text",sensitiveDataDetected:!1,complianceIssues:[]},E=x.sensitiveDataDetected?" [LGPD Warning: Sensitive data detected]":x.language==="pt-BR"?" [PT-BR]":" [EN]";await md({userId:c,sessionId:u,provider:o,model:`${o}/${r}`,actionType:v?.length?"tool_call":"chat",toolName:v?.map(D=>D.toolName).join(", "),inputSummary:typeof d=="string"?d.slice(0,100):"Multi-modal/Tool input",outputSummary:g+E,tokensUsed:y.totalTokens,latencyMs:Date.now()-t,outcome:x.isValid?"success":"error",errorMessage:x.complianceIssues.length>0?`Compliance issues: ${x.complianceIssues.join("; ")}`:void 0})},"onFinish")}).toDataStreamResponse()}catch(p){return await md({userId:c,sessionId:u,provider:o,model:`${o}/${r}`,actionType:"chat",inputSummary:typeof d=="string"?d.slice(0,100):"",outputSummary:"Error",latencyMs:Date.now()-t,outcome:"error",errorMessage:p instanceof Error?p.message:"Unknown error"}),e.json({error:"AI service error"},500)}});wc.get("/providers",B,e=>e.json({available:PP(),default:"google"}));import{randomUUID as NV}from"node:crypto";import{and as ao,desc as jV,eq as xt}from"drizzle-orm";import{randomUUID as AV}from"node:crypto";var jP={BRL:{symbol:"R$",decimalSeparator:",",thousandsSeparator:".",maxAmount:99999999999e-2,minAmount:.01}},Ed=new Set(["001","033","104","237","341","260","077","021","025","036","037","039","041","047","062","063","064","065","066","069","070","074","075","078","079","083","084","085","089","102","105","107","108","109","110","111","112","114","117","118","119","120","121","122","124","125","126","127","128","129","130","131","132","133","134","136","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320"]),kV={CNPJ:{format:"XX.XXX.XXX/XXXX-XX",regex:/^\d{14}$/},CPF:{format:"XXX.XXX.XXX-XX",regex:/^\d{11}$/},EMAIL:{format:"email@example.com",regex:/^[^\s@]+@[^\s@]+\.[^\s@]+$/},PHONE:{format:"+55 (XX) XXXXX-XXXX",regex:/^\+?\d{10,15}$/},RANDOM_KEY:{format:"XXXX-XXXX-XXXX-XXXX-XXXX",regex:/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i}};var PV={SUSPICIOUS_DESCRIPTIONS:["test","teste","debug","xxx","fake","fraud","hack","stolen","lavagem","dinheiro negro"],HIGH_VALUE_TRANSACTION:5e4,FREQUENT_SMALL_TRANSACTIONS:{count:20,amount:1e3,window:1440*60*1e3},RAPID_SUCCESSION:{count:5,window:300*1e3}},kme={amount:i.number().min(jP.BRL.minAmount,"Amount must be at least R$ 0,01").max(jP.BRL.maxAmount,"Amount exceeds maximum allowed").refine(e=>Number.isFinite(e)&&Number(e.toFixed(2))===e,"Amount must have at most 2 decimal places"),bankAccount:i.object({account:i.string().regex(/^\d{1,12}$/,"Account must be 1-12 digits").refine(e=>!/^0+$/.test(e),"Account cannot be all zeros"),accountDigit:i.string().regex(/^\d$/,"Account digit must be a single digit"),agency:i.string().regex(/^\d{1,6}$/,"Agency must be 1-6 digits").refine(e=>!/^0+$/.test(e),"Agency cannot be all zeros"),bankCode:i.string().refine(e=>Ed.has(e),"Invalid Brazilian bank code")}),financialInstitution:i.object({code:i.string().refine(e=>Ed.has(e),"Invalid bank code"),name:i.string().min(2,"Institution name must be at least 2 characters").max(100,"Institution name must be less than 100 characters")}),pixKey:i.object({key:i.string().min(1,"PIX key cannot be empty"),type:i.enum(["cpf","cnpj","email","phone","random"])}).refine(e=>kV[e.type.toUpperCase()].regex.test(e.key.replace(/\D/g,"")),"Invalid PIX key format for the specified type"),transaction:i.object({account_id:i.string().uuid("Conta banc\xE1ria inv\xE1lida"),amount:i.number(),category_id:i.string().uuid().optional(),description:i.string().min(3,"Description must be at least 3 characters").max(200,"Description must be less than 200 characters").refine(e=>!PV.SUSPICIOUS_DESCRIPTIONS.some(t=>e.toLowerCase().includes(t)),"Description contains suspicious content"),is_manual_entry:i.boolean().default(!0),merchant_name:i.string().max(120).optional(),notes:i.string().max(500).optional(),payment_method:i.enum(["cash","debit_card","credit_card","pix","boleto","transfer"]).optional(),status:i.enum(["pending","posted","failed","cancelled"]).default("posted"),tags:i.array(i.string()).max(10).optional(),transaction_date:i.string().refine(e=>{let t=new Date(e);return!Number.isNaN(t.getTime())&&t>=new Date("2020-01-01")&&t<=new Date(Date.now()+1440*60*1e3)},"Invalid date. Must be a valid date between 2020-01-01 and tomorrow"),transaction_type:i.enum(["debit","credit","transfer","pix","boleto"])})};function DP(e){let t=e.replace(/\D/g,"");if(t.length!==11||/^(\d)\1{10}$/.test(t))return!1;let n=0,o;for(let r=1;r<=9;r++)n+=Number.parseInt(t.substring(r-1,r),10)*(11-r);if(o=n*10%11,(o===10||o===11)&&(o=0),o!==Number.parseInt(t.substring(9,10),10))return!1;n=0;for(let r=1;r<=10;r++)n+=Number.parseInt(t.substring(r-1,r),10)*(12-r);return o=n*10%11,(o===10||o===11)&&(o=0),o===Number.parseInt(t.substring(10,11),10)}s(DP,"validateCPF");var zP=["CHECKING","SAVINGS","INVESTMENT","SALARY","DIGITAL_WALLET"],$V=["pending","manual","success","error"],RV=i.object({account_holder_name:i.string().optional(),account_mask:i.string().min(7,"M\xE1scara da conta \xE9 obrigat\xF3ria."),account_number:i.string().optional(),account_type:i.enum(zP),balance:i.number(),belvo_account_id:i.string().optional(),currency:i.string().default("BRL"),institution_id:i.string().min(1,"ID da institui\xE7\xE3o \xE9 obrigat\xF3rio."),institution_name:i.string().min(1,"Nome da institui\xE7\xE3o \xE9 obrigat\xF3rio."),is_active:i.boolean().optional(),is_primary:i.boolean().optional(),user_id:i.string().min(1,"Usu\xE1rio \xE9 obrigat\xF3rio.")}),OV=i.object({account_holder_name:i.string().optional(),account_mask:i.string().optional(),account_number:i.string().optional(),account_type:i.enum(zP).optional(),balance:i.number().optional(),belvo_account_id:i.string().optional(),currency:i.string().optional(),institution_id:i.string().optional(),institution_name:i.string().optional(),is_active:i.boolean().optional(),is_primary:i.boolean().optional(),sync_error_message:i.string().optional(),sync_status:i.enum($V).optional()}),CV=new Set(["user_id","institution_name","institution_id","account_type","account_mask","account_holder_name","account_number","belvo_account_id","balance","currency","is_primary","is_active","sync_status","sync_error_message"]),MP="manual_",UP=s(e=>{if(!e)return!1;let t=e.trim();return Ed.has(t)?!0:/^[0-9a-f-]{8,}$/i.test(t)},"isValidInstitutionId"),LP=s(e=>!e||e.toUpperCase()==="BRL","isValidCurrency"),qP=s(e=>!e||e.startsWith(MP)?!0:/^[a-z0-9_-]{6,}$/i.test(e),"isValidBelvoId"),Sc=s(e=>e?/^\*{4}\s\d{4}$/.test(e):!1,"validateAccountMask"),Ic=s(e=>/^\*{4}\d{4}$/.test(e)?`**** ${e.slice(-4)}`:e,"normalizeAccountMask"),FP=s(e=>e.map(t=>({field:t.path.join(".")||"root",message:t.message})),"collectZodErrors"),X_=s(e=>{let t={};return Object.entries(e).forEach(([n,o])=>{if(CV.has(n)){if(typeof o=="string"){let r=o.trim();if(r==="")return;switch(n){case"currency":t.currency=r.toUpperCase();break;case"account_number":t.account_number=r.replace(/\s+/g,"");break;case"account_mask":t.account_mask=Ic(r);break;default:t[n]=r}return}if(typeof o=="number"){t[n]=Number(o);return}t[n]=o}}),t},"sanitizeBankAccountData"),BP=s(()=>`${MP}${AV()}`,"generateManualAccountId"),ZP=s(e=>{let t=[],n=RV.safeParse(e);if(!n.success)return t.push(...FP(n.error.issues)),{errors:t,valid:!1};let o=n.data;return Sc(o.account_mask)||t.push({field:"account_mask",message:"A m\xE1scara deve seguir o formato **** 1234."}),UP(o.institution_id)||t.push({field:"institution_id",message:"Institui\xE7\xE3o banc\xE1ria inv\xE1lida."}),LP(o.currency)||t.push({field:"currency",message:"Apenas contas em BRL s\xE3o suportadas no momento."}),qP(o.belvo_account_id)||t.push({field:"belvo_account_id",message:"Identificador da conta Belvo inv\xE1lido."}),Number.isNaN(o.balance)&&t.push({field:"balance",message:"Saldo precisa ser um n\xFAmero v\xE1lido."}),{errors:t,valid:t.length===0}},"validateBankAccountForInsert"),VP=s(e=>{let t=[],n=OV.safeParse(e);if(!n.success)return t.push(...FP(n.error.issues)),{errors:t,valid:!1};let o=n.data;return o.account_mask&&!Sc(o.account_mask)&&t.push({field:"account_mask",message:"A m\xE1scara deve seguir o formato **** 1234."}),o.institution_id&&!UP(o.institution_id)&&t.push({field:"institution_id",message:"Institui\xE7\xE3o banc\xE1ria inv\xE1lida."}),o.currency&&!LP(o.currency)&&t.push({field:"currency",message:"Apenas contas em BRL s\xE3o suportadas."}),o.belvo_account_id&&!qP(o.belvo_account_id)&&t.push({field:"belvo_account_id",message:"Identificador da conta Belvo inv\xE1lido."}),o.balance!==void 0&&Number.isNaN(o.balance)&&t.push({field:"balance",message:"Saldo precisa ser um n\xFAmero v\xE1lido."}),{errors:t,valid:t.length===0}},"validateBankAccountForUpdate");var DV=i.object({institution_name:i.string().min(1,"Nome da institui\xE7\xE3o \xE9 obrigat\xF3rio"),account_type:i.enum(["checking","savings","investment","cash"],{error:"Tipo de conta \xE9 obrigat\xF3rio"}),balance:i.number().default(0),currency:i.string().default("BRL"),is_primary:i.boolean().default(!1),is_active:i.boolean().default(!0),account_mask:i.string().optional(),institution_id:i.string().optional()}),zV=i.object({institution_name:i.string().optional(),account_type:i.enum(["checking","savings","investment","cash"]).optional(),balance:i.number().optional(),currency:i.string().optional(),is_primary:i.boolean().optional(),is_active:i.boolean().optional(),account_mask:i.string().optional()}),MV=i.object({balance:i.number()}),UV=i.object({days:i.coerce.number().int().positive().default(30)}),LV={checking:"CHECKING",savings:"SAVINGS",investment:"INVESTMENT",cash:"DIGITAL_WALLET"},Y_=s(e=>LV[e.toLowerCase()]||e.toUpperCase(),"normalizeAccountType"),qV=s(()=>`**** ${Math.floor(1e3+Math.random()*9e3)}`,"generateAccountMask"),En=new ne;En.get("/",B,X({windowMs:60*1e3,max:30,message:"Too many requests, please try again later"}),async e=>{let{user:t,db:n}=e.get("auth"),o=e.get("requestId");try{let r=await n.select().from(M).where(xt(M.userId,t.id)).orderBy(jV(M.createdAt));return e.json({data:r||[],meta:{requestId:o,retrievedAt:new Date().toISOString()}})}catch(r){return T.error("Failed to get bank accounts",{error:r instanceof Error?r.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"BANK_ACCOUNTS_ERROR",error:"Failed to retrieve bank accounts"},500)}});En.get("/total-balance",B,X({windowMs:60*1e3,max:20,message:"Too many requests, please try again later"}),async e=>{let{user:t,db:n}=e.get("auth"),o=e.get("requestId");try{let r=await n.select({balance:M.balance,currency:M.currency}).from(M).where(ao(xt(M.userId,t.id),xt(M.isActive,!0))),a={};return r&&r.forEach(c=>{let u=c.currency||"BRL";a[u]=(a[u]||0)+Number(c.balance||0)}),e.json({data:a,meta:{requestId:o,retrievedAt:new Date().toISOString()}})}catch(r){return T.error("Failed to get total balance",{error:r instanceof Error?r.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"TOTAL_BALANCE_ERROR",error:"Failed to calculate total balance"},500)}});En.get("/:id",B,X({windowMs:60*1e3,max:30,message:"Too many requests, please try again later"}),async e=>{let{user:t,db:n}=e.get("auth"),o=e.req.param("id"),r=e.get("requestId");try{let[a]=await n.select().from(M).where(ao(xt(M.id,o),xt(M.userId,t.id))).limit(1);return a?e.json({data:a,meta:{requestId:r,retrievedAt:new Date().toISOString()}}):e.json({code:"NOT_FOUND",error:"Conta banc\xE1ria n\xE3o encontrada"},404)}catch(a){return T.error("Failed to get bank account",{accountId:o,error:a instanceof Error?a.message:"Unknown error",requestId:r,userId:t.id}),e.json({code:"BANK_ACCOUNT_ERROR",error:"Failed to retrieve bank account"},500)}});En.get("/:id/balance-history",B,X({windowMs:60*1e3,max:20,message:"Too many requests, please try again later"}),pe("query",UV),async e=>{let{user:t,db:n}=e.get("auth"),o=e.req.param("id"),{days:r}=e.req.valid("query"),a=e.get("requestId");try{if(!o||o==="all")return e.json({data:[],meta:{requestId:a,retrievedAt:new Date().toISOString()}});let[c]=await n.select({balance:M.balance}).from(M).where(ao(xt(M.id,o),xt(M.userId,t.id))).limit(1);if(!c)return e.json({data:[],meta:{requestId:a,retrievedAt:new Date().toISOString()}});let u=Number(c.balance||0),l=[];for(let d=0;d<r;d++){let p=new Date;p.setDate(p.getDate()-d),l.push({date:p.toISOString(),balance:u})}return e.json({data:l.reverse(),meta:{requestId:a,retrievedAt:new Date().toISOString()}})}catch(c){return T.error("Failed to get balance history",{accountId:o,error:c instanceof Error?c.message:"Unknown error",requestId:a,userId:t.id}),e.json({code:"BALANCE_HISTORY_ERROR",error:"Failed to retrieve balance history"},500)}});En.post("/",B,X({windowMs:60*1e3,max:10,message:"Too many account creation attempts, please try again later"}),pe("json",DV),async e=>{let{user:t,db:n}=e.get("auth"),o=e.req.valid("json"),r=e.get("requestId");try{let a=Y_(o.account_type),c=o.account_mask?Ic(o.account_mask):qV();if(!Sc(c))return e.json({code:"BAD_REQUEST",error:"A m\xE1scara da conta deve seguir o formato **** 1234"},400);let u=o.institution_id||NV(),l=BP(),d="manual",p=X_({user_id:t.id,institution_name:o.institution_name,institution_id:u,account_type:a,account_mask:c,balance:o.balance,currency:o.currency.toUpperCase(),is_primary:o.is_primary,is_active:o.is_active,belvo_account_id:l,sync_status:d}),m=ZP(p);if(!m.valid){let g=m.errors.length>0?m.errors.map(v=>v.message).join(", "):"Dados inv\xE1lidos";return e.json({code:"BAD_REQUEST",error:g},400)}let[f]=await n.select({id:M.id}).from(M).where(ao(xt(M.userId,t.id),xt(M.institutionId,u),xt(M.accountMask,c))).limit(1);if(f)return e.json({code:"CONFLICT",error:"J\xE1 existe uma conta com a mesma institui\xE7\xE3o e final"},409);let[y]=await n.insert(M).values({userId:t.id,institutionName:o.institution_name,institutionId:u,accountType:a,accountMask:c,balance:String(o.balance),currency:o.currency.toUpperCase(),isPrimary:o.is_primary,isActive:o.is_active,belvoAccountId:l,syncStatus:d}).returning();return T.info("Bank account created",{accountId:y.id,institutionName:o.institution_name,requestId:r,userId:t.id}),e.json({data:y,meta:{createdAt:new Date().toISOString(),requestId:r}},201)}catch(a){return T.error("Failed to create bank account",{error:a instanceof Error?a.message:"Unknown error",institutionName:o.institution_name,requestId:r,userId:t.id}),e.json({code:"BANK_ACCOUNT_CREATE_ERROR",error:"Failed to create bank account"},500)}});En.put("/:id",B,X({windowMs:60*1e3,max:30,message:"Too many update attempts, please try again later"}),pe("json",zV),async e=>{let{user:t,db:n}=e.get("auth"),o=e.req.param("id"),r=e.req.valid("json"),a=e.get("requestId");try{let[c]=await n.select({id:M.id}).from(M).where(ao(xt(M.id,o),xt(M.userId,t.id))).limit(1);if(!c)return e.json({code:"NOT_FOUND",error:"Conta banc\xE1ria n\xE3o encontrada"},404);let u={};if(r.institution_name!==void 0&&(u.institutionName=r.institution_name),r.account_type!==void 0&&(u.accountType=Y_(r.account_type)),r.balance!==void 0&&(u.balance=String(r.balance)),r.currency!==void 0&&(u.currency=r.currency.toUpperCase()),r.is_primary!==void 0&&(u.isPrimary=r.is_primary),r.is_active!==void 0&&(u.isActive=r.is_active),r.account_mask!==void 0){let m=Ic(r.account_mask);if(!Sc(m))return e.json({code:"BAD_REQUEST",error:"A m\xE1scara da conta deve seguir o formato **** 1234"},400);u.accountMask=m}let l=X_({institution_name:r.institution_name,account_type:r.account_type?Y_(r.account_type):void 0,balance:r.balance,currency:r.currency?.toUpperCase(),is_primary:r.is_primary,is_active:r.is_active,account_mask:r.account_mask?Ic(r.account_mask):void 0}),d=VP(l);if(!d.valid){let m=d.errors.length>0?d.errors.map(f=>f.message).join(", "):"Dados inv\xE1lidos";return e.json({code:"BAD_REQUEST",error:m},400)}let[p]=await n.update(M).set(u).where(ao(xt(M.id,o),xt(M.userId,t.id))).returning();return e.json({data:p,meta:{requestId:a,updatedAt:new Date().toISOString()}})}catch(c){return T.error("Failed to update bank account",{accountId:o,error:c instanceof Error?c.message:"Unknown error",requestId:a,userId:t.id}),e.json({code:"BANK_ACCOUNT_UPDATE_ERROR",error:"Failed to update bank account"},500)}});En.patch("/:id/balance",B,X({windowMs:60*1e3,max:30,message:"Too many balance update attempts, please try again later"}),pe("json",MV),async e=>{let{user:t,db:n}=e.get("auth"),o=e.req.param("id"),{balance:r}=e.req.valid("json"),a=e.get("requestId");try{let[c]=await n.update(M).set({balance:String(r)}).where(ao(xt(M.id,o),xt(M.userId,t.id))).returning();return c?e.json({data:c,meta:{requestId:a,updatedAt:new Date().toISOString()}}):e.json({code:"NOT_FOUND",error:"Conta banc\xE1ria n\xE3o encontrada"},404)}catch(c){return T.error("Failed to update balance",{accountId:o,error:c instanceof Error?c.message:"Unknown error",requestId:a,userId:t.id}),e.json({code:"BALANCE_UPDATE_ERROR",error:"Failed to update balance"},500)}});En.delete("/:id",B,X({windowMs:60*1e3,max:20,message:"Too many deletion attempts, please try again later"}),async e=>{let{user:t,db:n}=e.get("auth"),o=e.req.param("id"),r=e.get("requestId");try{return await n.delete(M).where(ao(xt(M.id,o),xt(M.userId,t.id))),T.info("Bank account deleted",{accountId:o,requestId:r,userId:t.id}),e.json({data:{success:!0},meta:{deletedAt:new Date().toISOString(),requestId:r}})}catch(a){return T.error("Failed to delete bank account",{accountId:o,error:a instanceof Error?a.message:"Unknown error",requestId:r,userId:t.id}),e.json({code:"BANK_ACCOUNT_DELETE_ERROR",error:"Failed to delete bank account"},500)}});var Q_=En;var kd=new ne,FV=i.object({accountType:i.string(),balance:i.number(),bankName:i.string(),currency:i.string(),id:i.string(),lastSync:i.string().datetime().optional()}),Xme=i.object({accounts:i.array(FV),currency:i.string(),total:i.number()});kd.get("/accounts",B,X({windowMs:60*1e3,max:20,message:"Too many requests, please try again later"}),async e=>{let{user:t}=e.get("auth"),n=e.get("requestId");try{T.info("Bank accounts accessed",{requestId:n,userId:t.id});let o={accounts:[],currency:"BRL",total:0};return e.json({data:o,meta:{note:"Placeholder implementation - Belvo integration pending",requestId:n,retrievedAt:new Date().toISOString()}})}catch(o){return T.error("Failed to get bank accounts",{error:o instanceof Error?o.message:"Unknown error",requestId:n,userId:t.id}),e.json({code:"BANK_ACCOUNTS_ERROR",error:"Failed to retrieve bank accounts"},500)}});kd.post("/accounts/link",B,X({windowMs:60*1e3,max:5,message:"Too many link attempts, please try again later"}),pe("json",i.object({bankCode:i.string(),credentials:i.record(i.string(),i.any())})),async e=>{let{user:t}=e.get("auth"),n=e.req.valid("json"),o=e.get("requestId");try{return T.info("Bank account link attempt",{bankCode:n.bankCode,requestId:o,userId:t.id}),e.json({code:"NOT_IMPLEMENTED",details:{bankCode:n.bankCode,note:"Belvo integration is pending implementation"},error:"Bank account linking not yet implemented"},501)}catch(r){return T.error("Failed to link bank account",{bankCode:n.bankCode,error:r instanceof Error?r.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"BANK_LINK_ERROR",error:"Failed to link bank account"},500)}});kd.post("/accounts/sync",B,X({windowMs:60*1e3,max:10,message:"Too many sync requests, please try again later"}),async e=>{let{user:t}=e.get("auth"),n=e.get("requestId");try{return T.info("Bank accounts sync attempt",{requestId:n,userId:t.id}),e.json({code:"NOT_IMPLEMENTED",details:{note:"Belvo integration is pending implementation"},error:"Bank account synchronization not yet implemented"},501)}catch(o){return T.error("Failed to sync bank accounts",{error:o instanceof Error?o.message:"Unknown error",requestId:n,userId:t.id}),e.json({code:"BANK_SYNC_ERROR",error:"Failed to sync bank accounts"},500)}});var eb=kd;import{eq as Ei}from"drizzle-orm";import*as fi from"crypto";import{EventEmitter as vR}from"events";import*as Ad from"crypto";var io=class{static{s(this,"CryptoProvider")}computeHMACSignature(t,n){throw new Error("computeHMACSignature not implemented.")}computeHMACSignatureAsync(t,n){throw new Error("computeHMACSignatureAsync not implemented.")}computeSHA256Async(t){throw new Error("computeSHA256 not implemented.")}},ri=class extends Error{static{s(this,"CryptoProviderOnlySupportsAsyncError")}};var Pd=class extends io{static{s(this,"NodeCryptoProvider")}computeHMACSignature(t,n){return Ad.createHmac("sha256",n).update(t,"utf8").digest("hex")}async computeHMACSignatureAsync(t,n){return await this.computeHMACSignature(t,n)}async computeSHA256Async(t){return new Uint8Array(await Ad.createHash("sha256").update(t).digest())}};import*as rb from"http";import*as nb from"https";var kt=class e{static{s(this,"HttpClient")}getClientName(){throw new Error("getClientName not implemented.")}makeRequest(t,n,o,r,a,c,u,l){throw new Error("makeRequest not implemented.")}static makeTimeoutError(){let t=new TypeError(e.TIMEOUT_ERROR_CODE);return t.code=e.TIMEOUT_ERROR_CODE,t}};kt.CONNECTION_CLOSED_ERROR_CODES=["ECONNRESET","EPIPE"];kt.TIMEOUT_ERROR_CODE="ETIMEDOUT";var so=class{static{s(this,"HttpClientResponse")}constructor(t,n){this._statusCode=t,this._headers=n}getStatusCode(){return this._statusCode}getHeaders(){return this._headers}getRawResponse(){throw new Error("getRawResponse not implemented.")}toStream(t){throw new Error("toStream not implemented.")}toJSON(){throw new Error("toJSON not implemented.")}};var HP=rb.default||rb,GP=nb.default||nb,BV=new HP.Agent({keepAlive:!0}),ZV=new GP.Agent({keepAlive:!0}),Tc=class extends kt{static{s(this,"NodeHttpClient")}constructor(t){super(),this._agent=t}getClientName(){return"node"}makeRequest(t,n,o,r,a,c,u,l){let d=u==="http",p=this._agent;return p||(p=d?BV:ZV),new Promise((f,y)=>{let g=(d?HP:GP).request({host:t,port:n,path:o,method:r,agent:p,headers:a,ciphers:"DEFAULT:!aNULL:!eNULL:!LOW:!EXPORT:!SSLv2:!MD5"});g.setTimeout(l,()=>{g.destroy(kt.makeTimeoutError())}),g.on("response",v=>{f(new tb(v))}),g.on("error",v=>{y(v)}),g.once("socket",v=>{v.connecting?v.once(d?"connect":"secureConnect",()=>{g.write(c),g.end()}):(g.write(c),g.end())})})}},tb=class extends so{static{s(this,"NodeHttpClientResponse")}constructor(t){super(t.statusCode,t.headers||{}),this._res=t}getRawResponse(){return this._res}toStream(t){return this._res.once("end",()=>t()),this._res}toJSON(){return new Promise((t,n)=>{let o="";this._res.setEncoding("utf8"),this._res.on("data",r=>{o+=r}),this._res.once("end",()=>{try{t(JSON.parse(o))}catch(r){n(r)}})})}};var iR=vu(aR(),1);var Cb=["apiKey","idempotencyKey","stripeAccount","apiVersion","maxNetworkRetries","timeout","host","authenticator","stripeContext","additionalHeaders","streaming"];function sR(e){return e&&typeof e=="object"&&Cb.some(t=>Object.prototype.hasOwnProperty.call(e,t))}s(sR,"isOptionsHash");function lo(e,t){return iR.stringify(e,{serializeDate:s(n=>Math.floor(n.getTime()/1e3).toString(),"serializeDate"),arrayFormat:"indices"}).replace(/%5B/g,"[").replace(/%5D/g,"]")}s(lo,"queryStringifyRequestData");var Vd=(()=>{let e={"\n":"\\n",'"':'\\"',"\u2028":"\\u2028","\u2029":"\\u2029"};return t=>{let n=t.replace(/["\n\r\u2028\u2029]/g,o=>e[o]);return o=>n.replace(/\{([\s\S]+?)\}/g,(r,a)=>{let c=o[a];return g9(c)?encodeURIComponent(c):""})}})();function g9(e){return["number","string","boolean"].includes(typeof e)}s(g9,"isValidEncodeUriComponentType");function cR(e){let t=e.match(/\{\w+\}/g);return t?t.map(n=>n.replace(/[{}]/g,"")):[]}s(cR,"extractUrlParams");function ui(e){if(!Array.isArray(e)||!e[0]||typeof e[0]!="object")return{};if(!sR(e[0]))return e.shift();let t=Object.keys(e[0]),n=t.filter(o=>Cb.includes(o));return n.length>0&&n.length!==t.length&&Mc(`Options found in arguments (${n.join(", ")}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options.`),{}}s(ui,"getDataFromArgs");function Hd(e){let t={host:null,headers:{},settings:{},streaming:!1};if(e.length>0){let n=e[e.length-1];if(typeof n=="string")t.authenticator=Zd(e.pop());else if(sR(n)){let o=Object.assign({},e.pop()),r=Object.keys(o).filter(a=>!Cb.includes(a));if(r.length&&Mc(`Invalid options found (${r.join(", ")}); ignoring.`),o.apiKey&&(t.authenticator=Zd(o.apiKey)),o.idempotencyKey&&(t.headers["Idempotency-Key"]=o.idempotencyKey),o.stripeAccount&&(t.headers["Stripe-Account"]=o.stripeAccount),o.stripeContext){if(t.headers["Stripe-Account"])throw new Error("Can't specify both stripeAccount and stripeContext.");t.headers["Stripe-Context"]=o.stripeContext}if(o.apiVersion&&(t.headers["Stripe-Version"]=o.apiVersion),Number.isInteger(o.maxNetworkRetries)&&(t.settings.maxNetworkRetries=o.maxNetworkRetries),Number.isInteger(o.timeout)&&(t.settings.timeout=o.timeout),o.host&&(t.host=o.host),o.authenticator){if(o.apiKey)throw new Error("Can't specify both apiKey and authenticator.");if(typeof o.authenticator!="function")throw new Error("The authenticator must be a function receiving a request as the first parameter.");t.authenticator=o.authenticator}o.additionalHeaders&&(t.headers=o.additionalHeaders),o.streaming&&(t.streaming=!0)}}return t}s(Hd,"getOptionsFromArgs");function uR(e){let t=this,n=Object.prototype.hasOwnProperty.call(e,"constructor")?e.constructor:function(...o){t.apply(this,o)};return Object.assign(n,t),n.prototype=Object.create(t.prototype),Object.assign(n.prototype,e),n}s(uR,"protoExtend");function Gd(e){if(typeof e!="object")throw new Error("Argument must be an object");return Object.keys(e).reduce((t,n)=>(e[n]!=null&&(t[n]=e[n]),t),{})}s(Gd,"removeNullish");function lR(e){return e&&typeof e=="object"?Object.keys(e).reduce((t,n)=>(t[y9(n)]=e[n],t),{}):e}s(lR,"normalizeHeaders");function y9(e){return e.split("-").map(t=>t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()).join("-")}s(y9,"normalizeHeader");function zc(e,t){return t?e.then(n=>{setTimeout(()=>{t(null,n)},0)},n=>{setTimeout(()=>{t(n,null)},0)}):e}s(zc,"callbackifyPromiseWithTimeout");function dR(e){return e==="OAuth"?"oauth":e[0].toLowerCase()+e.substring(1)}s(dR,"pascalToCamelCase");function Mc(e){return typeof process.emitWarning!="function"?console.warn(`Stripe: ${e}`):process.emitWarning(e,"Stripe")}s(Mc,"emitWarning");function v9(e){let t=typeof e;return(t==="function"||t==="object")&&!!e}s(v9,"isObject");function pR(e){let t={},n=s((o,r)=>{Object.entries(o).forEach(([a,c])=>{let u=r?`${r}[${a}]`:a;if(v9(c)){if(!(c instanceof Uint8Array)&&!Object.prototype.hasOwnProperty.call(c,"data"))return n(c,u);t[u]=c}else t[u]=String(c)})},"step");return n(e,null),t}s(pR,"flattenAndStringify");function Jd(e,t,n){if(!Number.isInteger(t)){if(n!==void 0)return n;throw new Error(`${e} must be an integer`)}return t}s(Jd,"validateInteger");function mR(){return typeof process>"u"?{}:{lang_version:process.version,platform:process.platform}}s(mR,"determineProcessUserAgentProperties");function Zd(e){let t=s(n=>(n.headers.Authorization="Bearer "+e,Promise.resolve()),"authenticator");return t._apiKey=e,t}s(Zd,"createApiKeyAuthenticator");function fR(e){let t=e.reduce((r,a)=>r+a.length,0),n=new Uint8Array(t),o=0;return e.forEach(r=>{n.set(r,o),o+=r.length}),n}s(fR,"concat");function _9(e,t){return this[e]instanceof Date?Math.floor(this[e].getTime()/1e3).toString():t}s(_9,"dateTimeReplacer");function hR(e){return JSON.stringify(e,_9)}s(hR,"jsonStringifyRequestData");function li(e){return e&&e.startsWith("/v2")?"v2":"v1"}s(li,"getAPIMode");function Kd(e){return Array.isArray(e)?e.join(", "):String(e)}s(Kd,"parseHttpHeaderAsString");function gR(e){let t=Array.isArray(e)?e[0]:e;return Number(t)}s(gR,"parseHttpHeaderAsNumber");function yR(e){return Object.entries(e).map(([t,n])=>[t,Kd(n)])}s(yR,"parseHeadersForFetch");var Wd=class e extends kt{static{s(this,"FetchHttpClient")}constructor(t){if(super(),!t){if(!globalThis.fetch)throw new Error("fetch() function not provided and is not defined in the global scope. You must provide a fetch implementation.");t=globalThis.fetch}globalThis.AbortController?this._fetchFn=e.makeFetchWithAbortTimeout(t):this._fetchFn=e.makeFetchWithRaceTimeout(t)}static makeFetchWithRaceTimeout(t){return(n,o,r)=>{let a,c=new Promise((l,d)=>{a=setTimeout(()=>{a=null,d(kt.makeTimeoutError())},r)}),u=t(n,o);return Promise.race([u,c]).finally(()=>{a&&clearTimeout(a)})}}static makeFetchWithAbortTimeout(t){return async(n,o,r)=>{let a=new AbortController,c=setTimeout(()=>{c=null,a.abort(kt.makeTimeoutError())},r);try{return await t(n,Object.assign(Object.assign({},o),{signal:a.signal}))}catch(u){throw u.name==="AbortError"?kt.makeTimeoutError():u}finally{c&&clearTimeout(c)}}}getClientName(){return"fetch"}async makeRequest(t,n,o,r,a,c,u,l){let d=u==="http",p=new URL(o,`${d?"http":"https"}://${t}`);p.port=n;let m=r=="POST"||r=="PUT"||r=="PATCH",f=c||(m?"":void 0),y=await this._fetchFn(p.toString(),{method:r,headers:yR(a),body:f},l);return new Nb(y)}},Nb=class e extends so{static{s(this,"FetchHttpClientResponse")}constructor(t){super(t.status,e._transformHeadersToObject(t.headers)),this._res=t}getRawResponse(){return this._res}toStream(t){return t(),this._res.body}toJSON(){return this._res.json()}static _transformHeadersToObject(t){let n={};for(let o of t){if(!Array.isArray(o)||o.length!=2)throw new Error("Response objects produced by the fetch function given to FetchHttpClient do not have an iterable headers map. Response#headers should be an iterable object.");n[o[0]]=o[1]}return n}};var Xd=class extends io{static{s(this,"SubtleCryptoProvider")}constructor(t){super(),this.subtleCrypto=t||crypto.subtle}computeHMACSignature(t,n){throw new ri("SubtleCryptoProvider cannot be used in a synchronous context.")}async computeHMACSignatureAsync(t,n){let o=new TextEncoder,r=await this.subtleCrypto.importKey("raw",o.encode(n),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),a=await this.subtleCrypto.sign("hmac",r,o.encode(t)),c=new Uint8Array(a),u=new Array(c.length);for(let l=0;l<c.length;l++)u[l]=jb[c[l]];return u.join("")}async computeSHA256Async(t){return new Uint8Array(await this.subtleCrypto.digest("SHA-256",t))}},jb=new Array(256);for(let e=0;e<jb.length;e++)jb[e]=e.toString(16).padStart(2,"0");var Yd=class{static{s(this,"PlatformFunctions")}constructor(){this._fetchFn=null,this._agent=null}getUname(){throw new Error("getUname not implemented.")}uuid4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{let n=Math.random()*16|0;return(t==="x"?n:n&3|8).toString(16)})}secureCompare(t,n){if(t.length!==n.length)return!1;let o=t.length,r=0;for(let a=0;a<o;++a)r|=t.charCodeAt(a)^n.charCodeAt(a);return r===0}createEmitter(){throw new Error("createEmitter not implemented.")}tryBufferData(t){throw new Error("tryBufferData not implemented.")}createNodeHttpClient(t){throw new Error("createNodeHttpClient not implemented.")}createFetchHttpClient(t){return new Wd(t)}createDefaultHttpClient(){throw new Error("createDefaultHttpClient not implemented.")}createNodeCryptoProvider(){throw new Error("createNodeCryptoProvider not implemented.")}createSubtleCryptoProvider(t){return new Xd(t)}createDefaultCryptoProvider(){throw new Error("createDefaultCryptoProvider not implemented.")}};var op={};cr(op,{StripeAPIError:()=>di,StripeAuthenticationError:()=>pi,StripeCardError:()=>Qd,StripeConnectionError:()=>qc,StripeError:()=>it,StripeIdempotencyError:()=>ep,StripeInvalidGrantError:()=>tp,StripeInvalidRequestError:()=>Uc,StripePermissionError:()=>Lc,StripeRateLimitError:()=>mi,StripeSignatureVerificationError:()=>Cr,StripeUnknownError:()=>rp,TemporarySessionExpiredError:()=>np,generateV1Error:()=>Fc,generateV2Error:()=>Db});var Fc=s(e=>{switch(e.type){case"card_error":return new Qd(e);case"invalid_request_error":return new Uc(e);case"api_error":return new di(e);case"authentication_error":return new pi(e);case"rate_limit_error":return new mi(e);case"idempotency_error":return new ep(e);case"invalid_grant":return new tp(e);default:return new rp(e)}},"generateV1Error"),Db=s(e=>{switch(e.type){case"temporary_session_expired":return new np(e)}switch(e.code){case"invalid_fields":return new Uc(e)}return Fc(e)},"generateV2Error"),it=class extends Error{static{s(this,"StripeError")}constructor(t={},n=null){var o;super(t.message),this.type=n||this.constructor.name,this.raw=t,this.rawType=t.type,this.code=t.code,this.doc_url=t.doc_url,this.param=t.param,this.detail=t.detail,this.headers=t.headers,this.requestId=t.requestId,this.statusCode=t.statusCode,this.message=(o=t.message)!==null&&o!==void 0?o:"",this.userMessage=t.user_message,this.charge=t.charge,this.decline_code=t.decline_code,this.payment_intent=t.payment_intent,this.payment_method=t.payment_method,this.payment_method_type=t.payment_method_type,this.setup_intent=t.setup_intent,this.source=t.source}};it.generate=Fc;var Qd=class extends it{static{s(this,"StripeCardError")}constructor(t={}){super(t,"StripeCardError")}},Uc=class extends it{static{s(this,"StripeInvalidRequestError")}constructor(t={}){super(t,"StripeInvalidRequestError")}},di=class extends it{static{s(this,"StripeAPIError")}constructor(t={}){super(t,"StripeAPIError")}},pi=class extends it{static{s(this,"StripeAuthenticationError")}constructor(t={}){super(t,"StripeAuthenticationError")}},Lc=class extends it{static{s(this,"StripePermissionError")}constructor(t={}){super(t,"StripePermissionError")}},mi=class extends it{static{s(this,"StripeRateLimitError")}constructor(t={}){super(t,"StripeRateLimitError")}},qc=class extends it{static{s(this,"StripeConnectionError")}constructor(t={}){super(t,"StripeConnectionError")}},Cr=class extends it{static{s(this,"StripeSignatureVerificationError")}constructor(t,n,o={}){super(o,"StripeSignatureVerificationError"),this.header=t,this.payload=n}},ep=class extends it{static{s(this,"StripeIdempotencyError")}constructor(t={}){super(t,"StripeIdempotencyError")}},tp=class extends it{static{s(this,"StripeInvalidGrantError")}constructor(t={}){super(t,"StripeInvalidGrantError")}},rp=class extends it{static{s(this,"StripeUnknownError")}constructor(t={}){super(t,"StripeUnknownError")}},np=class extends it{static{s(this,"TemporarySessionExpiredError")}constructor(t={}){super(t,"TemporarySessionExpiredError")}};import{exec as b9}from"child_process";var zb=class extends it{static{s(this,"StreamProcessingError")}},ap=class extends Yd{static{s(this,"NodePlatformFunctions")}constructor(){super(),this._exec=b9,this._UNAME_CACHE=null}uuid4(){return fi.randomUUID?fi.randomUUID():super.uuid4()}getUname(){return this._UNAME_CACHE||(this._UNAME_CACHE=new Promise((t,n)=>{try{this._exec("uname -a",(o,r)=>{if(o)return t(null);t(r)})}catch{t(null)}})),this._UNAME_CACHE}secureCompare(t,n){if(!t||!n)throw new Error("secureCompare must receive two arguments");if(t.length!==n.length)return!1;if(fi.timingSafeEqual){let o=new TextEncoder,r=o.encode(t),a=o.encode(n);return fi.timingSafeEqual(r,a)}return super.secureCompare(t,n)}createEmitter(){return new vR}tryBufferData(t){if(!(t.file.data instanceof vR))return Promise.resolve(t);let n=[];return new Promise((o,r)=>{t.file.data.on("data",a=>{n.push(a)}).once("end",()=>{let a=Object.assign({},t);a.file.data=fR(n),o(a)}).on("error",a=>{r(new zb({message:"An error occurred while attempting to process the file for upload.",detail:a}))})})}createNodeHttpClient(t){return new Tc(t)}createDefaultHttpClient(){return new Tc}createNodeCryptoProvider(){return new Pd}createDefaultCryptoProvider(){return this.createNodeCryptoProvider()}};var x9=60,ip=class e{static{s(this,"RequestSender")}constructor(t,n){this._stripe=t,this._maxBufferedRequestMetric=n}_normalizeStripeContext(t,n){return t?t.toString()||null:n?.toString()||null}_addHeadersDirectlyToObject(t,n){t.requestId=n["request-id"],t.stripeAccount=t.stripeAccount||n["stripe-account"],t.apiVersion=t.apiVersion||n["stripe-version"],t.idempotencyKey=t.idempotencyKey||n["idempotency-key"]}_makeResponseEvent(t,n,o){let r=Date.now(),a=r-t.request_start_time;return Gd({api_version:o["stripe-version"],account:o["stripe-account"],idempotency_key:o["idempotency-key"],method:t.method,path:t.path,status:n,request_id:this._getRequestId(o),elapsed:a,request_start_time:t.request_start_time,request_end_time:r})}_getRequestId(t){return t["request-id"]}_streamingResponseHandler(t,n,o){return r=>{let a=r.getHeaders(),c=s(()=>{let l=this._makeResponseEvent(t,r.getStatusCode(),a);this._stripe._emitter.emit("response",l),this._recordRequestMetrics(this._getRequestId(a),l.elapsed,n)},"streamCompleteCallback"),u=r.toStream(c);return this._addHeadersDirectlyToObject(u,a),o(null,u)}}_jsonResponseHandler(t,n,o,r){return a=>{let c=a.getHeaders(),u=this._getRequestId(c),l=a.getStatusCode(),d=this._makeResponseEvent(t,l,c);this._stripe._emitter.emit("response",d),a.toJSON().then(p=>{if(p.error){let m;throw typeof p.error=="string"&&(p.error={type:p.error,message:p.error_description}),p.error.headers=c,p.error.statusCode=l,p.error.requestId=u,l===401?m=new pi(p.error):l===403?m=new Lc(p.error):l===429?m=new mi(p.error):n==="v2"?m=Db(p.error):m=Fc(p.error),m}return p},p=>{throw new di({message:"Invalid JSON received from the Stripe API",exception:p,requestId:c["request-id"]})}).then(p=>{this._recordRequestMetrics(u,d.elapsed,o);let m=a.getRawResponse();this._addHeadersDirectlyToObject(m,c),Object.defineProperty(p,"lastResponse",{enumerable:!1,writable:!1,value:m}),r(null,p)},p=>r(p,null))}}static _generateConnectionErrorMessage(t){return`An error occurred with our connection to Stripe.${t>0?` Request was retried ${t} times.`:""}`}static _shouldRetry(t,n,o,r){return r&&n===0&&kt.CONNECTION_CLOSED_ERROR_CODES.includes(r.code)?!0:n>=o?!1:t?t.getHeaders()["stripe-should-retry"]==="false"?!1:t.getHeaders()["stripe-should-retry"]==="true"||t.getStatusCode()===409||t.getStatusCode()>=500:!0}_getSleepTimeInMS(t,n=null){let o=this._stripe.getInitialNetworkRetryDelay(),r=this._stripe.getMaxNetworkRetryDelay(),a=Math.min(o*Math.pow(2,t-1),r);return a*=.5*(1+Math.random()),a=Math.max(o,a),Number.isInteger(n)&&n<=x9&&(a=Math.max(a,n)),a*1e3}_getMaxNetworkRetries(t={}){return t.maxNetworkRetries!==void 0&&Number.isInteger(t.maxNetworkRetries)?t.maxNetworkRetries:this._stripe.getMaxNetworkRetries()}_defaultIdempotencyKey(t,n,o){let r=this._getMaxNetworkRetries(n),a=s(()=>`stripe-node-retry-${this._stripe._platformFunctions.uuid4()}`,"genKey");if(o==="v2"){if(t==="POST"||t==="DELETE")return a()}else if(o==="v1"&&t==="POST"&&r>0)return a();return null}_makeHeaders({contentType:t,contentLength:n,apiVersion:o,clientUserAgent:r,method:a,userSuppliedHeaders:c,userSuppliedSettings:u,stripeAccount:l,stripeContext:d,apiMode:p}){let m={Accept:"application/json","Content-Type":t,"User-Agent":this._getUserAgentString(p),"X-Stripe-Client-User-Agent":r,"X-Stripe-Client-Telemetry":this._getTelemetryHeader(),"Stripe-Version":o,"Stripe-Account":l,"Stripe-Context":d,"Idempotency-Key":this._defaultIdempotencyKey(a,u,p)},f=a=="POST"||a=="PUT"||a=="PATCH";return(f||n)&&(f||Mc(`${a} method had non-zero contentLength but no payload is expected for this verb`),m["Content-Length"]=n),Object.assign(Gd(m),lR(c))}_getUserAgentString(t){let n=this._stripe.getConstant("PACKAGE_VERSION"),o=this._stripe._appInfo?this._stripe.getAppInfoAsString():"";return`Stripe/${t} NodeBindings/${n} ${o}`.trim()}_getTelemetryHeader(){if(this._stripe.getTelemetryEnabled()&&this._stripe._prevRequestMetrics.length>0){let t=this._stripe._prevRequestMetrics.shift();return JSON.stringify({last_request_metrics:t})}}_recordRequestMetrics(t,n,o){if(this._stripe.getTelemetryEnabled()&&t)if(this._stripe._prevRequestMetrics.length>this._maxBufferedRequestMetric)Mc("Request metrics buffer is full, dropping telemetry message.");else{let r={request_id:t,request_duration_ms:n};o&&o.length>0&&(r.usage=o),this._stripe._prevRequestMetrics.push(r)}}_rawRequest(t,n,o,r,a){return new Promise((u,l)=>{let d;try{let g=t.toUpperCase();if(g!=="POST"&&o&&Object.keys(o).length!==0)throw new Error("rawRequest only supports params on POST requests. Please pass null and add your parameters to path.");let v=[].slice.call([o,r]),b=ui(v),w=g==="POST"?Object.assign({},b):null,_=Hd(v),x=_.headers,E=_.authenticator;d={requestMethod:g,requestPath:n,bodyData:w,queryData:{},authenticator:E,headers:x,host:_.host,streaming:!!_.streaming,settings:{},usage:a||["raw_request"]}}catch(g){l(g);return}function p(g,v){g?l(g):u(v)}s(p,"requestCallback");let{headers:m,settings:f}=d,y=d.authenticator;this._request(d.requestMethod,d.host,n,d.bodyData,y,{headers:m,settings:f,streaming:d.streaming},d.usage,p)})}_request(t,n,o,r,a,c,u=[],l,d=null){var p;let m;a=(p=a??this._stripe._authenticator)!==null&&p!==void 0?p:null;let f=li(o),y=s((b,w,_,x,E)=>setTimeout(b,this._getSleepTimeInMS(x,E),w,_,x+1),"retryRequest"),g=s((b,w,_)=>{let x=c.settings&&c.settings.timeout&&Number.isInteger(c.settings.timeout)&&c.settings.timeout>=0?c.settings.timeout:this._stripe.getApiField("timeout"),E={host:n||this._stripe.getApiField("host"),port:this._stripe.getApiField("port"),path:o,method:t,headers:Object.assign({},w),body:m,protocol:this._stripe.getApiField("protocol")};a(E).then(()=>{let D=this._stripe.getApiField("httpClient").makeRequest(E.host,E.port,E.path,E.method,E.headers,E.body,E.protocol,x),Z=Date.now(),j=Gd({api_version:b,account:Kd(w["Stripe-Account"]),idempotency_key:Kd(w["Idempotency-Key"]),method:t,path:o,request_start_time:Z}),G=_||0,N=this._getMaxNetworkRetries(c.settings||{});this._stripe._emitter.emit("request",j),D.then($=>e._shouldRetry($,G,N)?y(g,b,w,G,gR($.getHeaders()["retry-after"])):c.streaming&&$.getStatusCode()<400?this._streamingResponseHandler(j,u,l)($):this._jsonResponseHandler(j,f,u,l)($)).catch($=>{if(e._shouldRetry(null,G,N,$))return y(g,b,w,G,null);{let O=$.code&&$.code===kt.TIMEOUT_ERROR_CODE;return l(new qc({message:O?`Request aborted due to timeout being reached (${x}ms)`:e._generateConnectionErrorMessage(G),detail:$}))}})}).catch(D=>{throw new it({message:"Unable to authenticate the request",exception:D})})},"makeRequest"),v=s((b,w)=>{if(b)return l(b);m=w,this._stripe.getClientUserAgent(_=>{var x,E,D;let Z=this._stripe.getApiField("version"),j=this._makeHeaders({contentType:f=="v2"?"application/json":"application/x-www-form-urlencoded",contentLength:new TextEncoder().encode(m).length,apiVersion:Z,clientUserAgent:_,method:t,userSuppliedHeaders:(x=c.headers)!==null&&x!==void 0?x:null,userSuppliedSettings:(E=c.settings)!==null&&E!==void 0?E:{},stripeAccount:(D=c.stripeAccount)!==null&&D!==void 0?D:this._stripe.getApiField("stripeAccount"),stripeContext:this._normalizeStripeContext(c.stripeContext,this._stripe.getApiField("stripeContext")),apiMode:f});g(Z,j,0)})},"prepareAndMakeRequest");if(d)d(t,r,c.headers,v);else{let b;f=="v2"?b=r?hR(r):"":b=lo(r||{},f),v(null,b)}}};var sp=class{static{s(this,"V1Iterator")}constructor(t,n,o,r){this.index=0,this.pagePromise=t,this.promiseCache={currentPromise:null},this.requestArgs=n,this.spec=o,this.stripeResource=r}async iterate(t){if(!(t&&t.data&&typeof t.data.length=="number"))throw Error("Unexpected: Stripe API response does not have a well-formed `data` array.");let n=bR(this.requestArgs);if(this.index<t.data.length){let o=n?t.data.length-1-this.index:this.index,r=t.data[o];return this.index+=1,{value:r,done:!1}}else if(t.has_more){this.index=0,this.pagePromise=this.getNextPage(t);let o=await this.pagePromise;return this.iterate(o)}return{done:!0,value:void 0}}getNextPage(t){throw new Error("Unimplemented")}async _next(){return this.iterate(await this.pagePromise)}next(){if(this.promiseCache.currentPromise)return this.promiseCache.currentPromise;let t=(async()=>{let n=await this._next();return this.promiseCache.currentPromise=null,n})();return this.promiseCache.currentPromise=t,t}},Ub=class extends sp{static{s(this,"V1ListIterator")}getNextPage(t){let n=bR(this.requestArgs),o=T9(t,n);return this.stripeResource._makeRequest(this.requestArgs,this.spec,{[n?"ending_before":"starting_after"]:o})}},Lb=class extends sp{static{s(this,"V1SearchIterator")}getNextPage(t){if(!t.next_page)throw Error("Unexpected: Stripe API response does not have a well-formed `next_page` field, but `has_more` was true.");return this.stripeResource._makeRequest(this.requestArgs,this.spec,{page:t.next_page})}},qb=class{static{s(this,"V2ListIterator")}constructor(t,n,o,r){this.currentPageIterator=(async()=>(await t).data[Symbol.iterator]())(),this.nextPageUrl=(async()=>(await t).next_page_url||null)(),this.requestArgs=n,this.spec=o,this.stripeResource=r}async turnPage(){let t=await this.nextPageUrl;if(!t)return null;this.spec.fullPath=t;let n=await this.stripeResource._makeRequest([],this.spec,{});return this.nextPageUrl=Promise.resolve(n.next_page_url),this.currentPageIterator=Promise.resolve(n.data[Symbol.iterator]()),this.currentPageIterator}async next(){{let o=(await this.currentPageIterator).next();if(!o.done)return{done:!1,value:o.value}}let t=await this.turnPage();if(!t)return{done:!0,value:void 0};let n=t.next();return n.done?{done:!0,value:void 0}:{done:!1,value:n.value}}},_R=s((e,t,n,o)=>{let r=li(n.fullPath||n.path);return r!=="v2"&&n.methodType==="search"?Mb(new Lb(o,t,n,e)):r!=="v2"&&n.methodType==="list"?Mb(new Ub(o,t,n,e)):r==="v2"&&n.methodType==="list"?Mb(new qb(o,t,n,e)):null},"makeAutoPaginationMethods"),Mb=s(e=>{let t=E9((...r)=>e.next(...r)),n=k9(t),o={autoPagingEach:t,autoPagingToArray:n,next:s(()=>e.next(),"next"),return:s(()=>({}),"return"),[w9()]:()=>o};return o},"makeAutoPaginationMethodsFromIterator");function w9(){return typeof Symbol<"u"&&Symbol.asyncIterator?Symbol.asyncIterator:"@@asyncIterator"}s(w9,"getAsyncIteratorSymbol");function S9(e){if(e.length<2)return null;let t=e[1];if(typeof t!="function")throw Error(`The second argument to autoPagingEach, if present, must be a callback function; received ${typeof t}`);return t}s(S9,"getDoneCallback");function I9(e){if(e.length===0)return;let t=e[0];if(typeof t!="function")throw Error(`The first argument to autoPagingEach, if present, must be a callback function; received ${typeof t}`);if(t.length===2)return t;if(t.length>2)throw Error(`The \`onItem\` callback function passed to autoPagingEach must accept at most two arguments; got ${t}`);return s(function(o,r){let a=t(o);r(a)},"_onItem")}s(I9,"getItemCallback");function T9(e,t){let n=t?0:e.data.length-1,o=e.data[n],r=o&&o.id;if(!r)throw Error("Unexpected: No `id` found on the last item while auto-paging a list.");return r}s(T9,"getLastId");function E9(e){return s(function(){let n=[].slice.call(arguments),o=I9(n),r=S9(n);if(n.length>2)throw Error(`autoPagingEach takes up to two arguments; received ${n}`);let a=P9(e,o);return zc(a,r)},"autoPagingEach")}s(E9,"makeAutoPagingEach");function k9(e){return s(function(n,o){let r=n&&n.limit;if(!r)throw Error("You must pass a `limit` option to autoPagingToArray, e.g., `autoPagingToArray({limit: 1000});`.");if(r>1e4)throw Error("You cannot specify a limit of more than 10,000 items to fetch in `autoPagingToArray`; use `autoPagingEach` to iterate through longer lists.");let a=new Promise((c,u)=>{let l=[];e(d=>{if(l.push(d),l.length>=r)return!1}).then(()=>{c(l)}).catch(u)});return zc(a,o)},"autoPagingToArray")}s(k9,"makeAutoPagingToArray");function P9(e,t){return new Promise((n,o)=>{function r(a){if(a.done){n();return}let c=a.value;return new Promise(u=>{t(c,u)}).then(u=>u===!1?r({done:!0,value:void 0}):e().then(r))}s(r,"handleIteration"),e().then(r).catch(o)})}s(P9,"wrapAsyncIteratorWithCallback");function bR(e){let t=[].slice.call(e);return!!ui(t).ending_before}s(bR,"isReverseIteration");function xR(e){if(e.path!==void 0&&e.fullPath!==void 0)throw new Error(`Method spec specified both a 'path' (${e.path}) and a 'fullPath' (${e.fullPath}).`);return function(...t){let n=typeof t[t.length-1]=="function"&&t.pop();e.urlParams=cR(e.fullPath||this.createResourcePathWithSymbols(e.path||""));let o=zc(this._makeRequest(t,e,{}),n);return Object.assign(o,_R(this,t,e,o)),o}}s(xR,"stripeMethod");h.extend=uR;h.method=xR;h.MAX_BUFFERED_REQUEST_METRICS=100;function h(e,t){if(this._stripe=e,t)throw new Error("Support for curried url params was dropped in stripe-node v7.0.0. Instead, pass two ids.");this.basePath=Vd(this.basePath||e.getApiField("basePath")),this.resourcePath=this.path,this.path=Vd(this.path),this.initialize(...arguments)}s(h,"StripeResource");h.prototype={_stripe:null,path:"",resourcePath:"",basePath:null,initialize(){},requestDataProcessor:null,validateRequest:null,createFullPath(e,t){let n=[this.basePath(t),this.path(t)];if(typeof e=="function"){let o=e(t);o&&n.push(o)}else n.push(e);return this._joinUrlParts(n)},createResourcePathWithSymbols(e){return e?`/${this._joinUrlParts([this.resourcePath,e])}`:`/${this.resourcePath}`},_joinUrlParts(e){return e.join("/").replace(/\/{2,}/g,"/")},_getRequestOpts(e,t,n){var o;let r=(t.method||"GET").toUpperCase(),a=t.usage||[],c=t.urlParams||[],u=t.encode||(j=>j),l=!!t.fullPath,d=Vd(l?t.fullPath:t.path||""),p=l?t.fullPath:this.createResourcePathWithSymbols(t.path),m=[].slice.call(e),f=c.reduce((j,G)=>{let N=m.shift();if(typeof N!="string")throw new Error(`Stripe: Argument "${G}" must be a string, but got: ${N} (on API request to \`${r} ${p}\`)`);return j[G]=N,j},{}),y=ui(m),g=u(Object.assign({},y,n)),v=Hd(m),b=v.host||t.host,w=!!t.streaming||!!v.streaming;if(m.filter(j=>j!=null).length)throw new Error(`Stripe: Unknown arguments (${m}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options. (on API request to ${r} \`${p}\`)`);let _=l?d(f):this.createFullPath(d,f),x=Object.assign(v.headers,t.headers);t.validator&&t.validator(g,{headers:x});let E=t.method==="GET"||t.method==="DELETE";return{requestMethod:r,requestPath:_,bodyData:E?null:g,queryData:E?g:{},authenticator:(o=v.authenticator)!==null&&o!==void 0?o:null,headers:x,host:b??null,streaming:w,settings:v.settings,usage:a}},_makeRequest(e,t,n){return new Promise((o,r)=>{var a;let c;try{c=this._getRequestOpts(e,t,n)}catch(f){r(f);return}function u(f,y){f?r(f):o(t.transformResponseData?t.transformResponseData(y):y)}s(u,"requestCallback");let l=Object.keys(c.queryData).length===0,d=[c.requestPath,l?"":"?",lo(c.queryData,li(c.requestPath))].join(""),{headers:p,settings:m}=c;this._stripe._requestSender._request(c.requestMethod,c.host,d,c.bodyData,c.authenticator,{headers:p,settings:m,streaming:c.streaming},c.usage,u,(a=this.requestDataProcessor)===null||a===void 0?void 0:a.bind(this))})}};var Bc=class e{static{s(this,"StripeContext")}constructor(t=[]){this._segments=[...t]}get segments(){return[...this._segments]}push(t){if(!t)throw new Error("Segment cannot be null or undefined");return new e([...this._segments,t])}pop(){if(this._segments.length===0)throw new Error("Cannot pop from an empty context");return new e(this._segments.slice(0,-1))}toString(){return this._segments.join("/")}static parse(t){return t?new e(t.split("/")):new e([])}};function wR(e){let t={DEFAULT_TOLERANCE:300,signature:null,constructEvent(p,m,f,y,g,v){try{if(!this.signature)throw new Error("ERR: missing signature helper, unable to verify");this.signature.verifyHeader(p,m,f,y||t.DEFAULT_TOLERANCE,g,v)}catch(w){throw w instanceof ri&&(w.message+="\nUse `await constructEventAsync(...)` instead of `constructEvent(...)`"),w}return p instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(p)):JSON.parse(p)},async constructEventAsync(p,m,f,y,g,v){if(!this.signature)throw new Error("ERR: missing signature helper, unable to verify");return await this.signature.verifyHeaderAsync(p,m,f,y||t.DEFAULT_TOLERANCE,g,v),p instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(p)):JSON.parse(p)},generateTestHeaderString:s(function(p){let m=d(p),f=m.signature||m.cryptoProvider.computeHMACSignature(m.payloadString,m.secret);return m.generateHeaderString(f)},"generateTestHeaderString"),generateTestHeaderStringAsync:s(async function(p){let m=d(p),f=m.signature||await m.cryptoProvider.computeHMACSignatureAsync(m.payloadString,m.secret);return m.generateHeaderString(f)},"generateTestHeaderStringAsync")},n={EXPECTED_SCHEME:"v1",verifyHeader(p,m,f,y,g,v){let{decodedHeader:b,decodedPayload:w,details:_,suspectPayloadType:x}=r(p,m,this.EXPECTED_SCHEME),E=/\s/.test(f);g=g||l();let D=g.computeHMACSignature(o(w,_),f);return a(w,b,_,D,y,x,E,v),!0},async verifyHeaderAsync(p,m,f,y,g,v){let{decodedHeader:b,decodedPayload:w,details:_,suspectPayloadType:x}=r(p,m,this.EXPECTED_SCHEME),E=/\s/.test(f);g=g||l();let D=await g.computeHMACSignatureAsync(o(w,_),f);return a(w,b,_,D,y,x,E,v)}};function o(p,m){return`${m.timestamp}.${p}`}s(o,"makeHMACContent");function r(p,m,f){if(!p)throw new Cr(m,p,{message:"No webhook payload was provided."});let y=typeof p!="string"&&!(p instanceof Uint8Array),g=new TextDecoder("utf8"),v=p instanceof Uint8Array?g.decode(p):p;if(Array.isArray(m))throw new Error("Unexpected: An array was passed as a header, which should not be possible for the stripe-signature header.");if(m==null||m=="")throw new Cr(m,p,{message:"No stripe-signature header value was provided."});let b=m instanceof Uint8Array?g.decode(m):m,w=c(b,f);if(!w||w.timestamp===-1)throw new Cr(b,v,{message:"Unable to extract timestamp and signatures from header"});if(!w.signatures.length)throw new Cr(b,v,{message:"No signatures found with expected scheme"});return{decodedPayload:v,decodedHeader:b,details:w,suspectPayloadType:y}}s(r,"parseEventDetails");function a(p,m,f,y,g,v,b,w){let _=!!f.signatures.filter(e.secureCompare.bind(e,y)).length,x=`
Learn more about webhook signing and explore webhook integration examples for various frameworks at https://docs.stripe.com/webhooks/signature`,E=b?`

Note: The provided signing secret contains whitespace. This often indicates an extra newline or space is in the value`:"";if(!_)throw v?new Cr(m,p,{message:`Webhook payload must be provided as a string or a Buffer (https://nodejs.org/api/buffer.html) instance representing the _raw_ request body.Payload was provided as a parsed JavaScript object instead. 
Signature verification is impossible without access to the original signed material. 
`+x+`
`+E}):new Cr(m,p,{message:`No signatures found matching the expected signature for payload. Are you passing the raw request body you received from Stripe? 
 If a webhook request is being forwarded by a third-party tool, ensure that the exact request body, including JSON formatting and new line style, is preserved.
`+x+`
`+E});let D=Math.floor((typeof w=="number"?w:Date.now())/1e3)-f.timestamp;if(g>0&&D>g)throw new Cr(m,p,{message:"Timestamp outside the tolerance zone"});return!0}s(a,"validateComputedSignature");function c(p,m){return typeof p!="string"?null:p.split(",").reduce((f,y)=>{let g=y.split("=");return g[0]==="t"&&(f.timestamp=parseInt(g[1],10)),g[0]===m&&f.signatures.push(g[1]),f},{timestamp:-1,signatures:[]})}s(c,"parseHeader");let u=null;function l(){return u||(u=e.createDefaultCryptoProvider()),u}s(l,"getCryptoProvider");function d(p){if(!p)throw new it({message:"Options are required"});let m=Math.floor(p.timestamp)||Math.floor(Date.now()/1e3),f=p.scheme||n.EXPECTED_SCHEME,y=p.cryptoProvider||l(),g=`${m}.${p.payload}`,v=s(b=>`t=${m},${f}=${b}`,"generateHeaderString");return Object.assign(Object.assign({},p),{timestamp:m,scheme:f,cryptoProvider:y,payloadString:g,generateHeaderString:v})}return s(d,"prepareOptions"),t.signature=n,t}s(wR,"createWebhooks");var Fb="2025-11-17.clover";var Ii={};cr(Ii,{Account:()=>tx,AccountLinks:()=>sC,AccountSessions:()=>cC,Accounts:()=>tx,ApplePayDomains:()=>uC,ApplicationFees:()=>lC,Apps:()=>e5,Balance:()=>dC,BalanceSettings:()=>mC,BalanceTransactions:()=>hC,Billing:()=>t5,BillingPortal:()=>r5,Charges:()=>gC,Checkout:()=>n5,Climate:()=>o5,ConfirmationTokens:()=>yC,CountrySpecs:()=>_C,Coupons:()=>bC,CreditNotes:()=>xC,CustomerSessions:()=>wC,Customers:()=>SC,Disputes:()=>IC,Entitlements:()=>a5,EphemeralKeys:()=>EC,Events:()=>PC,ExchangeRates:()=>$C,FileLinks:()=>RC,Files:()=>CC,FinancialConnections:()=>i5,Forwarding:()=>s5,Identity:()=>c5,InvoiceItems:()=>NC,InvoicePayments:()=>DC,InvoiceRenderingTemplates:()=>zC,Invoices:()=>MC,Issuing:()=>u5,Mandates:()=>UC,OAuth:()=>qC,PaymentAttemptRecords:()=>BC,PaymentIntents:()=>ZC,PaymentLinks:()=>VC,PaymentMethodConfigurations:()=>HC,PaymentMethodDomains:()=>GC,PaymentMethods:()=>JC,PaymentRecords:()=>KC,Payouts:()=>WC,Plans:()=>XC,Prices:()=>YC,Products:()=>QC,PromotionCodes:()=>e1,Quotes:()=>t1,Radar:()=>l5,Refunds:()=>r1,Reporting:()=>d5,Reviews:()=>n1,SetupAttempts:()=>o1,SetupIntents:()=>a1,ShippingRates:()=>i1,Sigma:()=>p5,Sources:()=>s1,SubscriptionItems:()=>c1,SubscriptionSchedules:()=>u1,Subscriptions:()=>l1,Tax:()=>m5,TaxCodes:()=>p1,TaxIds:()=>m1,TaxRates:()=>f1,Terminal:()=>f5,TestHelpers:()=>h5,Tokens:()=>g1,Topups:()=>y1,Transfers:()=>v1,Treasury:()=>g5,V2:()=>y5,WebhookEndpoints:()=>_1});function A9(e,t){for(let n in t){if(!Object.prototype.hasOwnProperty.call(t,n))continue;let o=n[0].toLowerCase()+n.substring(1),r=new t[n](e);this[o]=r}}s(A9,"ResourceNamespace");function et(e,t){return function(n){return new A9(n,t)}}s(et,"resourceNamespace");var Mo=h.method,SR=h.extend({retrieve:Mo({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}"}),list:Mo({method:"GET",fullPath:"/v1/financial_connections/accounts",methodType:"list"}),disconnect:Mo({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/disconnect"}),listOwners:Mo({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}/owners",methodType:"list"}),refresh:Mo({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/refresh"}),subscribe:Mo({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/subscribe"}),unsubscribe:Mo({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/unsubscribe"})});var IR=h.method,TR=h.extend({retrieve:IR({method:"GET",fullPath:"/v1/entitlements/active_entitlements/{id}"}),list:IR({method:"GET",fullPath:"/v1/entitlements/active_entitlements",methodType:"list"})});var hi=h.method,ER=h.extend({create:hi({method:"POST",fullPath:"/v1/billing/alerts"}),retrieve:hi({method:"GET",fullPath:"/v1/billing/alerts/{id}"}),list:hi({method:"GET",fullPath:"/v1/billing/alerts",methodType:"list"}),activate:hi({method:"POST",fullPath:"/v1/billing/alerts/{id}/activate"}),archive:hi({method:"POST",fullPath:"/v1/billing/alerts/{id}/archive"}),deactivate:hi({method:"POST",fullPath:"/v1/billing/alerts/{id}/deactivate"})});var $9=h.method,kR=h.extend({find:$9({method:"GET",fullPath:"/v1/tax/associations/find"})});var Zc=h.method,PR=h.extend({retrieve:Zc({method:"GET",fullPath:"/v1/issuing/authorizations/{authorization}"}),update:Zc({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}"}),list:Zc({method:"GET",fullPath:"/v1/issuing/authorizations",methodType:"list"}),approve:Zc({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/approve"}),decline:Zc({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/decline"})});var Uo=h.method,AR=h.extend({create:Uo({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations"}),capture:Uo({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/capture"}),expire:Uo({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/expire"}),finalizeAmount:Uo({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/finalize_amount"}),increment:Uo({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/increment"}),respond:Uo({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/fraud_challenges/respond"}),reverse:Uo({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/reverse"})});var Bb=h.method,$R=h.extend({create:Bb({method:"POST",fullPath:"/v1/tax/calculations"}),retrieve:Bb({method:"GET",fullPath:"/v1/tax/calculations/{calculation}"}),listLineItems:Bb({method:"GET",fullPath:"/v1/tax/calculations/{calculation}/line_items",methodType:"list"})});var cp=h.method,RR=h.extend({create:cp({method:"POST",fullPath:"/v1/issuing/cardholders"}),retrieve:cp({method:"GET",fullPath:"/v1/issuing/cardholders/{cardholder}"}),update:cp({method:"POST",fullPath:"/v1/issuing/cardholders/{cardholder}"}),list:cp({method:"GET",fullPath:"/v1/issuing/cardholders",methodType:"list"})});var up=h.method,OR=h.extend({create:up({method:"POST",fullPath:"/v1/issuing/cards"}),retrieve:up({method:"GET",fullPath:"/v1/issuing/cards/{card}"}),update:up({method:"POST",fullPath:"/v1/issuing/cards/{card}"}),list:up({method:"GET",fullPath:"/v1/issuing/cards",methodType:"list"})});var Vc=h.method,CR=h.extend({deliverCard:Vc({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/deliver"}),failCard:Vc({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/fail"}),returnCard:Vc({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/return"}),shipCard:Vc({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/ship"}),submitCard:Vc({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/submit"})});var lp=h.method,NR=h.extend({create:lp({method:"POST",fullPath:"/v1/billing_portal/configurations"}),retrieve:lp({method:"GET",fullPath:"/v1/billing_portal/configurations/{configuration}"}),update:lp({method:"POST",fullPath:"/v1/billing_portal/configurations/{configuration}"}),list:lp({method:"GET",fullPath:"/v1/billing_portal/configurations",methodType:"list"})});var Hc=h.method,jR=h.extend({create:Hc({method:"POST",fullPath:"/v1/terminal/configurations"}),retrieve:Hc({method:"GET",fullPath:"/v1/terminal/configurations/{configuration}"}),update:Hc({method:"POST",fullPath:"/v1/terminal/configurations/{configuration}"}),list:Hc({method:"GET",fullPath:"/v1/terminal/configurations",methodType:"list"}),del:Hc({method:"DELETE",fullPath:"/v1/terminal/configurations/{configuration}"})});var R9=h.method,DR=h.extend({create:R9({method:"POST",fullPath:"/v1/test_helpers/confirmation_tokens"})});var O9=h.method,zR=h.extend({create:O9({method:"POST",fullPath:"/v1/terminal/connection_tokens"})});var C9=h.method,MR=h.extend({retrieve:C9({method:"GET",fullPath:"/v1/billing/credit_balance_summary"})});var UR=h.method,LR=h.extend({retrieve:UR({method:"GET",fullPath:"/v1/billing/credit_balance_transactions/{id}"}),list:UR({method:"GET",fullPath:"/v1/billing/credit_balance_transactions",methodType:"list"})});var gi=h.method,qR=h.extend({create:gi({method:"POST",fullPath:"/v1/billing/credit_grants"}),retrieve:gi({method:"GET",fullPath:"/v1/billing/credit_grants/{id}"}),update:gi({method:"POST",fullPath:"/v1/billing/credit_grants/{id}"}),list:gi({method:"GET",fullPath:"/v1/billing/credit_grants",methodType:"list"}),expire:gi({method:"POST",fullPath:"/v1/billing/credit_grants/{id}/expire"}),voidGrant:gi({method:"POST",fullPath:"/v1/billing/credit_grants/{id}/void"})});var Zb=h.method,FR=h.extend({create:Zb({method:"POST",fullPath:"/v1/treasury/credit_reversals"}),retrieve:Zb({method:"GET",fullPath:"/v1/treasury/credit_reversals/{credit_reversal}"}),list:Zb({method:"GET",fullPath:"/v1/treasury/credit_reversals",methodType:"list"})});var N9=h.method,BR=h.extend({fundCashBalance:N9({method:"POST",fullPath:"/v1/test_helpers/customers/{customer}/fund_cash_balance"})});var Vb=h.method,ZR=h.extend({create:Vb({method:"POST",fullPath:"/v1/treasury/debit_reversals"}),retrieve:Vb({method:"GET",fullPath:"/v1/treasury/debit_reversals/{debit_reversal}"}),list:Vb({method:"GET",fullPath:"/v1/treasury/debit_reversals",methodType:"list"})});var Gc=h.method,VR=h.extend({create:Gc({method:"POST",fullPath:"/v1/issuing/disputes"}),retrieve:Gc({method:"GET",fullPath:"/v1/issuing/disputes/{dispute}"}),update:Gc({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}"}),list:Gc({method:"GET",fullPath:"/v1/issuing/disputes",methodType:"list"}),submit:Gc({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}/submit"})});var HR=h.method,GR=h.extend({retrieve:HR({method:"GET",fullPath:"/v1/radar/early_fraud_warnings/{early_fraud_warning}"}),list:HR({method:"GET",fullPath:"/v1/radar/early_fraud_warnings",methodType:"list"})});var po=h.method,JR=h.extend({create:po({method:"POST",fullPath:"/v2/core/event_destinations"}),retrieve:po({method:"GET",fullPath:"/v2/core/event_destinations/{id}"}),update:po({method:"POST",fullPath:"/v2/core/event_destinations/{id}"}),list:po({method:"GET",fullPath:"/v2/core/event_destinations",methodType:"list"}),del:po({method:"DELETE",fullPath:"/v2/core/event_destinations/{id}"}),disable:po({method:"POST",fullPath:"/v2/core/event_destinations/{id}/disable"}),enable:po({method:"POST",fullPath:"/v2/core/event_destinations/{id}/enable"}),ping:po({method:"POST",fullPath:"/v2/core/event_destinations/{id}/ping"})});var Hb=h.method,KR=h.extend({retrieve(...e){return Hb({method:"GET",fullPath:"/v2/core/events/{id}",transformResponseData:s(n=>this.addFetchRelatedObjectIfNeeded(n),"transformResponseData")}).apply(this,e)},list(...e){return Hb({method:"GET",fullPath:"/v2/core/events",methodType:"list",transformResponseData:s(n=>Object.assign(Object.assign({},n),{data:n.data.map(this.addFetchRelatedObjectIfNeeded.bind(this))}),"transformResponseData")}).apply(this,e)},addFetchRelatedObjectIfNeeded(e){return!e.related_object||!e.related_object.url?e:Object.assign(Object.assign({},e),{fetchRelatedObject:s(()=>Hb({method:"GET",fullPath:e.related_object.url}).apply(this,[{stripeContext:e.context}]),"fetchRelatedObject")})}});var dp=h.method,WR=h.extend({create:dp({method:"POST",fullPath:"/v1/entitlements/features"}),retrieve:dp({method:"GET",fullPath:"/v1/entitlements/features/{id}"}),update:dp({method:"POST",fullPath:"/v1/entitlements/features/{id}"}),list:dp({method:"GET",fullPath:"/v1/entitlements/features",methodType:"list"})});var Lo=h.method,XR=h.extend({create:Lo({method:"POST",fullPath:"/v1/treasury/financial_accounts"}),retrieve:Lo({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),update:Lo({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),list:Lo({method:"GET",fullPath:"/v1/treasury/financial_accounts",methodType:"list"}),close:Lo({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}/close"}),retrieveFeatures:Lo({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"}),updateFeatures:Lo({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"})});var Gb=h.method,YR=h.extend({fail:Gb({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/fail"}),returnInboundTransfer:Gb({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/return"}),succeed:Gb({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/succeed"})});var pp=h.method,QR=h.extend({create:pp({method:"POST",fullPath:"/v1/treasury/inbound_transfers"}),retrieve:pp({method:"GET",fullPath:"/v1/treasury/inbound_transfers/{id}"}),list:pp({method:"GET",fullPath:"/v1/treasury/inbound_transfers",methodType:"list"}),cancel:pp({method:"POST",fullPath:"/v1/treasury/inbound_transfers/{inbound_transfer}/cancel"})});var Jc=h.method,eO=h.extend({create:Jc({method:"POST",fullPath:"/v1/terminal/locations"}),retrieve:Jc({method:"GET",fullPath:"/v1/terminal/locations/{location}"}),update:Jc({method:"POST",fullPath:"/v1/terminal/locations/{location}"}),list:Jc({method:"GET",fullPath:"/v1/terminal/locations",methodType:"list"}),del:Jc({method:"DELETE",fullPath:"/v1/terminal/locations/{location}"})});var j9=h.method,tO=h.extend({create:j9({method:"POST",fullPath:"/v1/billing/meter_event_adjustments"})});var D9=h.method,rO=h.extend({create:D9({method:"POST",fullPath:"/v2/billing/meter_event_adjustments"})});var z9=h.method,nO=h.extend({create:z9({method:"POST",fullPath:"/v2/billing/meter_event_session"})});var M9=h.method,oO=h.extend({create:M9({method:"POST",fullPath:"/v2/billing/meter_event_stream",host:"meter-events.stripe.com"})});var U9=h.method,aO=h.extend({create:U9({method:"POST",fullPath:"/v1/billing/meter_events"})});var L9=h.method,iO=h.extend({create:L9({method:"POST",fullPath:"/v2/billing/meter_events"})});var qo=h.method,sO=h.extend({create:qo({method:"POST",fullPath:"/v1/billing/meters"}),retrieve:qo({method:"GET",fullPath:"/v1/billing/meters/{id}"}),update:qo({method:"POST",fullPath:"/v1/billing/meters/{id}"}),list:qo({method:"GET",fullPath:"/v1/billing/meters",methodType:"list"}),deactivate:qo({method:"POST",fullPath:"/v1/billing/meters/{id}/deactivate"}),listEventSummaries:qo({method:"GET",fullPath:"/v1/billing/meters/{id}/event_summaries",methodType:"list"}),reactivate:qo({method:"POST",fullPath:"/v1/billing/meters/{id}/reactivate"})});var q9=h.method,cO=h.extend({create:q9({method:"POST",fullPath:"/v1/terminal/onboarding_links"})});var Kc=h.method,uO=h.extend({create:Kc({method:"POST",fullPath:"/v1/climate/orders"}),retrieve:Kc({method:"GET",fullPath:"/v1/climate/orders/{order}"}),update:Kc({method:"POST",fullPath:"/v1/climate/orders/{order}"}),list:Kc({method:"GET",fullPath:"/v1/climate/orders",methodType:"list"}),cancel:Kc({method:"POST",fullPath:"/v1/climate/orders/{order}/cancel"})});var mp=h.method,lO=h.extend({update:mp({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}"}),fail:mp({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/fail"}),post:mp({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/post"}),returnOutboundPayment:mp({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/return"})});var fp=h.method,dO=h.extend({create:fp({method:"POST",fullPath:"/v1/treasury/outbound_payments"}),retrieve:fp({method:"GET",fullPath:"/v1/treasury/outbound_payments/{id}"}),list:fp({method:"GET",fullPath:"/v1/treasury/outbound_payments",methodType:"list"}),cancel:fp({method:"POST",fullPath:"/v1/treasury/outbound_payments/{id}/cancel"})});var hp=h.method,pO=h.extend({update:hp({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}"}),fail:hp({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/fail"}),post:hp({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/post"}),returnOutboundTransfer:hp({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/return"})});var gp=h.method,mO=h.extend({create:gp({method:"POST",fullPath:"/v1/treasury/outbound_transfers"}),retrieve:gp({method:"GET",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}"}),list:gp({method:"GET",fullPath:"/v1/treasury/outbound_transfers",methodType:"list"}),cancel:gp({method:"POST",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}/cancel"})});var yp=h.method,fO=h.extend({create:yp({method:"POST",fullPath:"/v1/issuing/personalization_designs"}),retrieve:yp({method:"GET",fullPath:"/v1/issuing/personalization_designs/{personalization_design}"}),update:yp({method:"POST",fullPath:"/v1/issuing/personalization_designs/{personalization_design}"}),list:yp({method:"GET",fullPath:"/v1/issuing/personalization_designs",methodType:"list"})});var Jb=h.method,hO=h.extend({activate:Jb({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/activate"}),deactivate:Jb({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/deactivate"}),reject:Jb({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/reject"})});var gO=h.method,yO=h.extend({retrieve:gO({method:"GET",fullPath:"/v1/issuing/physical_bundles/{physical_bundle}"}),list:gO({method:"GET",fullPath:"/v1/issuing/physical_bundles",methodType:"list"})});var vO=h.method,_O=h.extend({retrieve:vO({method:"GET",fullPath:"/v1/climate/products/{product}"}),list:vO({method:"GET",fullPath:"/v1/climate/products",methodType:"list"})});var ar=h.method,bO=h.extend({create:ar({method:"POST",fullPath:"/v1/terminal/readers"}),retrieve:ar({method:"GET",fullPath:"/v1/terminal/readers/{reader}"}),update:ar({method:"POST",fullPath:"/v1/terminal/readers/{reader}"}),list:ar({method:"GET",fullPath:"/v1/terminal/readers",methodType:"list"}),del:ar({method:"DELETE",fullPath:"/v1/terminal/readers/{reader}"}),cancelAction:ar({method:"POST",fullPath:"/v1/terminal/readers/{reader}/cancel_action"}),collectInputs:ar({method:"POST",fullPath:"/v1/terminal/readers/{reader}/collect_inputs"}),collectPaymentMethod:ar({method:"POST",fullPath:"/v1/terminal/readers/{reader}/collect_payment_method"}),confirmPaymentIntent:ar({method:"POST",fullPath:"/v1/terminal/readers/{reader}/confirm_payment_intent"}),processPaymentIntent:ar({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_payment_intent"}),processSetupIntent:ar({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_setup_intent"}),refundPayment:ar({method:"POST",fullPath:"/v1/terminal/readers/{reader}/refund_payment"}),setReaderDisplay:ar({method:"POST",fullPath:"/v1/terminal/readers/{reader}/set_reader_display"})});var Kb=h.method,xO=h.extend({presentPaymentMethod:Kb({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/present_payment_method"}),succeedInputCollection:Kb({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/succeed_input_collection"}),timeoutInputCollection:Kb({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/timeout_input_collection"})});var F9=h.method,wO=h.extend({create:F9({method:"POST",fullPath:"/v1/test_helpers/treasury/received_credits"})});var SO=h.method,IO=h.extend({retrieve:SO({method:"GET",fullPath:"/v1/treasury/received_credits/{id}"}),list:SO({method:"GET",fullPath:"/v1/treasury/received_credits",methodType:"list"})});var B9=h.method,TO=h.extend({create:B9({method:"POST",fullPath:"/v1/test_helpers/treasury/received_debits"})});var EO=h.method,kO=h.extend({retrieve:EO({method:"GET",fullPath:"/v1/treasury/received_debits/{id}"}),list:EO({method:"GET",fullPath:"/v1/treasury/received_debits",methodType:"list"})});var Z9=h.method,PO=h.extend({expire:Z9({method:"POST",fullPath:"/v1/test_helpers/refunds/{refund}/expire"})});var vp=h.method,AO=h.extend({create:vp({method:"POST",fullPath:"/v1/tax/registrations"}),retrieve:vp({method:"GET",fullPath:"/v1/tax/registrations/{id}"}),update:vp({method:"POST",fullPath:"/v1/tax/registrations/{id}"}),list:vp({method:"GET",fullPath:"/v1/tax/registrations",methodType:"list"})});var Wb=h.method,$O=h.extend({create:Wb({method:"POST",fullPath:"/v1/reporting/report_runs"}),retrieve:Wb({method:"GET",fullPath:"/v1/reporting/report_runs/{report_run}"}),list:Wb({method:"GET",fullPath:"/v1/reporting/report_runs",methodType:"list"})});var RO=h.method,OO=h.extend({retrieve:RO({method:"GET",fullPath:"/v1/reporting/report_types/{report_type}"}),list:RO({method:"GET",fullPath:"/v1/reporting/report_types",methodType:"list"})});var Xb=h.method,CO=h.extend({create:Xb({method:"POST",fullPath:"/v1/forwarding/requests"}),retrieve:Xb({method:"GET",fullPath:"/v1/forwarding/requests/{id}"}),list:Xb({method:"GET",fullPath:"/v1/forwarding/requests",methodType:"list"})});var NO=h.method,jO=h.extend({retrieve:NO({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs/{scheduled_query_run}"}),list:NO({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs",methodType:"list"})});var _p=h.method,DO=h.extend({create:_p({method:"POST",fullPath:"/v1/apps/secrets"}),list:_p({method:"GET",fullPath:"/v1/apps/secrets",methodType:"list"}),deleteWhere:_p({method:"POST",fullPath:"/v1/apps/secrets/delete"}),find:_p({method:"GET",fullPath:"/v1/apps/secrets/find"})});var V9=h.method,zO=h.extend({create:V9({method:"POST",fullPath:"/v1/billing_portal/sessions"})});var yi=h.method,MO=h.extend({create:yi({method:"POST",fullPath:"/v1/checkout/sessions"}),retrieve:yi({method:"GET",fullPath:"/v1/checkout/sessions/{session}"}),update:yi({method:"POST",fullPath:"/v1/checkout/sessions/{session}"}),list:yi({method:"GET",fullPath:"/v1/checkout/sessions",methodType:"list"}),expire:yi({method:"POST",fullPath:"/v1/checkout/sessions/{session}/expire"}),listLineItems:yi({method:"GET",fullPath:"/v1/checkout/sessions/{session}/line_items",methodType:"list"})});var UO=h.method,LO=h.extend({create:UO({method:"POST",fullPath:"/v1/financial_connections/sessions"}),retrieve:UO({method:"GET",fullPath:"/v1/financial_connections/sessions/{session}"})});var qO=h.method,FO=h.extend({retrieve:qO({method:"GET",fullPath:"/v1/tax/settings"}),update:qO({method:"POST",fullPath:"/v1/tax/settings"})});var BO=h.method,ZO=h.extend({retrieve:BO({method:"GET",fullPath:"/v1/climate/suppliers/{supplier}"}),list:BO({method:"GET",fullPath:"/v1/climate/suppliers",methodType:"list"})});var Wc=h.method,VO=h.extend({create:Wc({method:"POST",fullPath:"/v1/test_helpers/test_clocks"}),retrieve:Wc({method:"GET",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),list:Wc({method:"GET",fullPath:"/v1/test_helpers/test_clocks",methodType:"list"}),del:Wc({method:"DELETE",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),advance:Wc({method:"POST",fullPath:"/v1/test_helpers/test_clocks/{test_clock}/advance"})});var Yb=h.method,HO=h.extend({retrieve:Yb({method:"GET",fullPath:"/v1/issuing/tokens/{token}"}),update:Yb({method:"POST",fullPath:"/v1/issuing/tokens/{token}"}),list:Yb({method:"GET",fullPath:"/v1/issuing/tokens",methodType:"list"})});var GO=h.method,JO=h.extend({retrieve:GO({method:"GET",fullPath:"/v1/treasury/transaction_entries/{id}"}),list:GO({method:"GET",fullPath:"/v1/treasury/transaction_entries",methodType:"list"})});var KO=h.method,WO=h.extend({retrieve:KO({method:"GET",fullPath:"/v1/financial_connections/transactions/{transaction}"}),list:KO({method:"GET",fullPath:"/v1/financial_connections/transactions",methodType:"list"})});var Qb=h.method,XO=h.extend({retrieve:Qb({method:"GET",fullPath:"/v1/issuing/transactions/{transaction}"}),update:Qb({method:"POST",fullPath:"/v1/issuing/transactions/{transaction}"}),list:Qb({method:"GET",fullPath:"/v1/issuing/transactions",methodType:"list"})});var bp=h.method,YO=h.extend({retrieve:bp({method:"GET",fullPath:"/v1/tax/transactions/{transaction}"}),createFromCalculation:bp({method:"POST",fullPath:"/v1/tax/transactions/create_from_calculation"}),createReversal:bp({method:"POST",fullPath:"/v1/tax/transactions/create_reversal"}),listLineItems:bp({method:"GET",fullPath:"/v1/tax/transactions/{transaction}/line_items",methodType:"list"})});var ex=h.method,QO=h.extend({createForceCapture:ex({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/create_force_capture"}),createUnlinkedRefund:ex({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/create_unlinked_refund"}),refund:ex({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/{transaction}/refund"})});var eC=h.method,tC=h.extend({retrieve:eC({method:"GET",fullPath:"/v1/treasury/transactions/{id}"}),list:eC({method:"GET",fullPath:"/v1/treasury/transactions",methodType:"list"})});var xp=h.method,rC=h.extend({create:xp({method:"POST",fullPath:"/v1/radar/value_list_items"}),retrieve:xp({method:"GET",fullPath:"/v1/radar/value_list_items/{item}"}),list:xp({method:"GET",fullPath:"/v1/radar/value_list_items",methodType:"list"}),del:xp({method:"DELETE",fullPath:"/v1/radar/value_list_items/{item}"})});var Xc=h.method,nC=h.extend({create:Xc({method:"POST",fullPath:"/v1/radar/value_lists"}),retrieve:Xc({method:"GET",fullPath:"/v1/radar/value_lists/{value_list}"}),update:Xc({method:"POST",fullPath:"/v1/radar/value_lists/{value_list}"}),list:Xc({method:"GET",fullPath:"/v1/radar/value_lists",methodType:"list"}),del:Xc({method:"DELETE",fullPath:"/v1/radar/value_lists/{value_list}"})});var oC=h.method,aC=h.extend({retrieve:oC({method:"GET",fullPath:"/v1/identity/verification_reports/{report}"}),list:oC({method:"GET",fullPath:"/v1/identity/verification_reports",methodType:"list"})});var vi=h.method,iC=h.extend({create:vi({method:"POST",fullPath:"/v1/identity/verification_sessions"}),retrieve:vi({method:"GET",fullPath:"/v1/identity/verification_sessions/{session}"}),update:vi({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}"}),list:vi({method:"GET",fullPath:"/v1/identity/verification_sessions",methodType:"list"}),cancel:vi({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/cancel"}),redact:vi({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/redact"})});var st=h.method,tx=h.extend({create:st({method:"POST",fullPath:"/v1/accounts"}),retrieve(e,...t){return typeof e=="string"?st({method:"GET",fullPath:"/v1/accounts/{id}"}).apply(this,[e,...t]):(e==null&&[].shift.apply([e,...t]),st({method:"GET",fullPath:"/v1/account"}).apply(this,[e,...t]))},update:st({method:"POST",fullPath:"/v1/accounts/{account}"}),list:st({method:"GET",fullPath:"/v1/accounts",methodType:"list"}),del:st({method:"DELETE",fullPath:"/v1/accounts/{account}"}),createExternalAccount:st({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts"}),createLoginLink:st({method:"POST",fullPath:"/v1/accounts/{account}/login_links"}),createPerson:st({method:"POST",fullPath:"/v1/accounts/{account}/persons"}),deleteExternalAccount:st({method:"DELETE",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),deletePerson:st({method:"DELETE",fullPath:"/v1/accounts/{account}/persons/{person}"}),listCapabilities:st({method:"GET",fullPath:"/v1/accounts/{account}/capabilities",methodType:"list"}),listExternalAccounts:st({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts",methodType:"list"}),listPersons:st({method:"GET",fullPath:"/v1/accounts/{account}/persons",methodType:"list"}),reject:st({method:"POST",fullPath:"/v1/accounts/{account}/reject"}),retrieveCurrent:st({method:"GET",fullPath:"/v1/account"}),retrieveCapability:st({method:"GET",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),retrieveExternalAccount:st({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),retrievePerson:st({method:"GET",fullPath:"/v1/accounts/{account}/persons/{person}"}),updateCapability:st({method:"POST",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),updateExternalAccount:st({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),updatePerson:st({method:"POST",fullPath:"/v1/accounts/{account}/persons/{person}"})});var H9=h.method,sC=h.extend({create:H9({method:"POST",fullPath:"/v1/account_links"})});var G9=h.method,cC=h.extend({create:G9({method:"POST",fullPath:"/v1/account_sessions"})});var wp=h.method,uC=h.extend({create:wp({method:"POST",fullPath:"/v1/apple_pay/domains"}),retrieve:wp({method:"GET",fullPath:"/v1/apple_pay/domains/{domain}"}),list:wp({method:"GET",fullPath:"/v1/apple_pay/domains",methodType:"list"}),del:wp({method:"DELETE",fullPath:"/v1/apple_pay/domains/{domain}"})});var _i=h.method,lC=h.extend({retrieve:_i({method:"GET",fullPath:"/v1/application_fees/{id}"}),list:_i({method:"GET",fullPath:"/v1/application_fees",methodType:"list"}),createRefund:_i({method:"POST",fullPath:"/v1/application_fees/{id}/refunds"}),listRefunds:_i({method:"GET",fullPath:"/v1/application_fees/{id}/refunds",methodType:"list"}),retrieveRefund:_i({method:"GET",fullPath:"/v1/application_fees/{fee}/refunds/{id}"}),updateRefund:_i({method:"POST",fullPath:"/v1/application_fees/{fee}/refunds/{id}"})});var J9=h.method,dC=h.extend({retrieve:J9({method:"GET",fullPath:"/v1/balance"})});var pC=h.method,mC=h.extend({retrieve:pC({method:"GET",fullPath:"/v1/balance_settings"}),update:pC({method:"POST",fullPath:"/v1/balance_settings"})});var fC=h.method,hC=h.extend({retrieve:fC({method:"GET",fullPath:"/v1/balance_transactions/{id}"}),list:fC({method:"GET",fullPath:"/v1/balance_transactions",methodType:"list"})});var bi=h.method,gC=h.extend({create:bi({method:"POST",fullPath:"/v1/charges"}),retrieve:bi({method:"GET",fullPath:"/v1/charges/{charge}"}),update:bi({method:"POST",fullPath:"/v1/charges/{charge}"}),list:bi({method:"GET",fullPath:"/v1/charges",methodType:"list"}),capture:bi({method:"POST",fullPath:"/v1/charges/{charge}/capture"}),search:bi({method:"GET",fullPath:"/v1/charges/search",methodType:"search"})});var K9=h.method,yC=h.extend({retrieve:K9({method:"GET",fullPath:"/v1/confirmation_tokens/{confirmation_token}"})});var vC=h.method,_C=h.extend({retrieve:vC({method:"GET",fullPath:"/v1/country_specs/{country}"}),list:vC({method:"GET",fullPath:"/v1/country_specs",methodType:"list"})});var Yc=h.method,bC=h.extend({create:Yc({method:"POST",fullPath:"/v1/coupons"}),retrieve:Yc({method:"GET",fullPath:"/v1/coupons/{coupon}"}),update:Yc({method:"POST",fullPath:"/v1/coupons/{coupon}"}),list:Yc({method:"GET",fullPath:"/v1/coupons",methodType:"list"}),del:Yc({method:"DELETE",fullPath:"/v1/coupons/{coupon}"})});var mo=h.method,xC=h.extend({create:mo({method:"POST",fullPath:"/v1/credit_notes"}),retrieve:mo({method:"GET",fullPath:"/v1/credit_notes/{id}"}),update:mo({method:"POST",fullPath:"/v1/credit_notes/{id}"}),list:mo({method:"GET",fullPath:"/v1/credit_notes",methodType:"list"}),listLineItems:mo({method:"GET",fullPath:"/v1/credit_notes/{credit_note}/lines",methodType:"list"}),listPreviewLineItems:mo({method:"GET",fullPath:"/v1/credit_notes/preview/lines",methodType:"list"}),preview:mo({method:"GET",fullPath:"/v1/credit_notes/preview"}),voidCreditNote:mo({method:"POST",fullPath:"/v1/credit_notes/{id}/void"})});var W9=h.method,wC=h.extend({create:W9({method:"POST",fullPath:"/v1/customer_sessions"})});var Me=h.method,SC=h.extend({create:Me({method:"POST",fullPath:"/v1/customers"}),retrieve:Me({method:"GET",fullPath:"/v1/customers/{customer}"}),update:Me({method:"POST",fullPath:"/v1/customers/{customer}"}),list:Me({method:"GET",fullPath:"/v1/customers",methodType:"list"}),del:Me({method:"DELETE",fullPath:"/v1/customers/{customer}"}),createBalanceTransaction:Me({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions"}),createFundingInstructions:Me({method:"POST",fullPath:"/v1/customers/{customer}/funding_instructions"}),createSource:Me({method:"POST",fullPath:"/v1/customers/{customer}/sources"}),createTaxId:Me({method:"POST",fullPath:"/v1/customers/{customer}/tax_ids"}),deleteDiscount:Me({method:"DELETE",fullPath:"/v1/customers/{customer}/discount"}),deleteSource:Me({method:"DELETE",fullPath:"/v1/customers/{customer}/sources/{id}"}),deleteTaxId:Me({method:"DELETE",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),listBalanceTransactions:Me({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions",methodType:"list"}),listCashBalanceTransactions:Me({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions",methodType:"list"}),listPaymentMethods:Me({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods",methodType:"list"}),listSources:Me({method:"GET",fullPath:"/v1/customers/{customer}/sources",methodType:"list"}),listTaxIds:Me({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids",methodType:"list"}),retrieveBalanceTransaction:Me({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),retrieveCashBalance:Me({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance"}),retrieveCashBalanceTransaction:Me({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions/{transaction}"}),retrievePaymentMethod:Me({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods/{payment_method}"}),retrieveSource:Me({method:"GET",fullPath:"/v1/customers/{customer}/sources/{id}"}),retrieveTaxId:Me({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),search:Me({method:"GET",fullPath:"/v1/customers/search",methodType:"search"}),updateBalanceTransaction:Me({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),updateCashBalance:Me({method:"POST",fullPath:"/v1/customers/{customer}/cash_balance"}),updateSource:Me({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}"}),verifySource:Me({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}/verify"})});var Sp=h.method,IC=h.extend({retrieve:Sp({method:"GET",fullPath:"/v1/disputes/{dispute}"}),update:Sp({method:"POST",fullPath:"/v1/disputes/{dispute}"}),list:Sp({method:"GET",fullPath:"/v1/disputes",methodType:"list"}),close:Sp({method:"POST",fullPath:"/v1/disputes/{dispute}/close"})});var TC=h.method,EC=h.extend({create:TC({method:"POST",fullPath:"/v1/ephemeral_keys",validator:s((e,t)=>{if(!t.headers||!t.headers["Stripe-Version"])throw new Error("Passing apiVersion in a separate options hash is required to create an ephemeral key. See https://stripe.com/docs/api/versioning?lang=node")},"validator")}),del:TC({method:"DELETE",fullPath:"/v1/ephemeral_keys/{key}"})});var kC=h.method,PC=h.extend({retrieve:kC({method:"GET",fullPath:"/v1/events/{id}"}),list:kC({method:"GET",fullPath:"/v1/events",methodType:"list"})});var AC=h.method,$C=h.extend({retrieve:AC({method:"GET",fullPath:"/v1/exchange_rates/{rate_id}"}),list:AC({method:"GET",fullPath:"/v1/exchange_rates",methodType:"list"})});var Ip=h.method,RC=h.extend({create:Ip({method:"POST",fullPath:"/v1/file_links"}),retrieve:Ip({method:"GET",fullPath:"/v1/file_links/{link}"}),update:Ip({method:"POST",fullPath:"/v1/file_links/{link}"}),list:Ip({method:"GET",fullPath:"/v1/file_links",methodType:"list"})});var X9=s((e,t,n)=>{let o=(Math.round(Math.random()*1e16)+Math.round(Math.random()*1e16)).toString();n["Content-Type"]=`multipart/form-data; boundary=${o}`;let r=new TextEncoder,a=new Uint8Array(0),c=r.encode(`\r
`);function u(p){let m=a,f=p instanceof Uint8Array?p:new Uint8Array(r.encode(p));a=new Uint8Array(m.length+f.length+2),a.set(m),a.set(f,m.length),a.set(c,a.length-2)}s(u,"push");function l(p){return`"${p.replace(/"|"/g,"%22").replace(/\r\n|\r|\n/g," ")}"`}s(l,"q");let d=pR(t);for(let p in d){if(!Object.prototype.hasOwnProperty.call(d,p))continue;let m=d[p];if(u(`--${o}`),Object.prototype.hasOwnProperty.call(m,"data")){let f=m;u(`Content-Disposition: form-data; name=${l(p)}; filename=${l(f.name||"blob")}`),u(`Content-Type: ${f.type||"application/octet-stream"}`),u(""),u(f.data)}else u(`Content-Disposition: form-data; name=${l(p)}`),u(""),u(m)}return u(`--${o}--`),a},"multipartDataGenerator");function OC(e,t,n,o){if(t=t||{},e!=="POST")return o(null,lo(t));this._stripe._platformFunctions.tryBufferData(t).then(r=>{let a=X9(e,r,n);return o(null,a)}).catch(r=>o(r,null))}s(OC,"multipartRequestDataProcessor");var rx=h.method,CC=h.extend({create:rx({method:"POST",fullPath:"/v1/files",headers:{"Content-Type":"multipart/form-data"},host:"files.stripe.com"}),retrieve:rx({method:"GET",fullPath:"/v1/files/{file}"}),list:rx({method:"GET",fullPath:"/v1/files",methodType:"list"}),requestDataProcessor:OC});var Qc=h.method,NC=h.extend({create:Qc({method:"POST",fullPath:"/v1/invoiceitems"}),retrieve:Qc({method:"GET",fullPath:"/v1/invoiceitems/{invoiceitem}"}),update:Qc({method:"POST",fullPath:"/v1/invoiceitems/{invoiceitem}"}),list:Qc({method:"GET",fullPath:"/v1/invoiceitems",methodType:"list"}),del:Qc({method:"DELETE",fullPath:"/v1/invoiceitems/{invoiceitem}"})});var jC=h.method,DC=h.extend({retrieve:jC({method:"GET",fullPath:"/v1/invoice_payments/{invoice_payment}"}),list:jC({method:"GET",fullPath:"/v1/invoice_payments",methodType:"list"})});var Tp=h.method,zC=h.extend({retrieve:Tp({method:"GET",fullPath:"/v1/invoice_rendering_templates/{template}"}),list:Tp({method:"GET",fullPath:"/v1/invoice_rendering_templates",methodType:"list"}),archive:Tp({method:"POST",fullPath:"/v1/invoice_rendering_templates/{template}/archive"}),unarchive:Tp({method:"POST",fullPath:"/v1/invoice_rendering_templates/{template}/unarchive"})});var St=h.method,MC=h.extend({create:St({method:"POST",fullPath:"/v1/invoices"}),retrieve:St({method:"GET",fullPath:"/v1/invoices/{invoice}"}),update:St({method:"POST",fullPath:"/v1/invoices/{invoice}"}),list:St({method:"GET",fullPath:"/v1/invoices",methodType:"list"}),del:St({method:"DELETE",fullPath:"/v1/invoices/{invoice}"}),addLines:St({method:"POST",fullPath:"/v1/invoices/{invoice}/add_lines"}),attachPayment:St({method:"POST",fullPath:"/v1/invoices/{invoice}/attach_payment"}),createPreview:St({method:"POST",fullPath:"/v1/invoices/create_preview"}),finalizeInvoice:St({method:"POST",fullPath:"/v1/invoices/{invoice}/finalize"}),listLineItems:St({method:"GET",fullPath:"/v1/invoices/{invoice}/lines",methodType:"list"}),markUncollectible:St({method:"POST",fullPath:"/v1/invoices/{invoice}/mark_uncollectible"}),pay:St({method:"POST",fullPath:"/v1/invoices/{invoice}/pay"}),removeLines:St({method:"POST",fullPath:"/v1/invoices/{invoice}/remove_lines"}),search:St({method:"GET",fullPath:"/v1/invoices/search",methodType:"search"}),sendInvoice:St({method:"POST",fullPath:"/v1/invoices/{invoice}/send"}),updateLines:St({method:"POST",fullPath:"/v1/invoices/{invoice}/update_lines"}),updateLineItem:St({method:"POST",fullPath:"/v1/invoices/{invoice}/lines/{line_item_id}"}),voidInvoice:St({method:"POST",fullPath:"/v1/invoices/{invoice}/void"})});var Y9=h.method,UC=h.extend({retrieve:Y9({method:"GET",fullPath:"/v1/mandates/{mandate}"})});var LC=h.method,nx="connect.stripe.com",qC=h.extend({basePath:"/",authorizeUrl(e,t){e=e||{},t=t||{};let n="oauth/authorize";return t.express&&(n=`express/${n}`),e.response_type||(e.response_type="code"),e.client_id||(e.client_id=this._stripe.getClientId()),e.scope||(e.scope="read_write"),`https://${nx}/${n}?${lo(e)}`},token:LC({method:"POST",path:"oauth/token",host:nx}),deauthorize(e,...t){return e.client_id||(e.client_id=this._stripe.getClientId()),LC({method:"POST",path:"oauth/deauthorize",host:nx}).apply(this,[e,...t])}});var FC=h.method,BC=h.extend({retrieve:FC({method:"GET",fullPath:"/v1/payment_attempt_records/{id}"}),list:FC({method:"GET",fullPath:"/v1/payment_attempt_records",methodType:"list"})});var fr=h.method,ZC=h.extend({create:fr({method:"POST",fullPath:"/v1/payment_intents"}),retrieve:fr({method:"GET",fullPath:"/v1/payment_intents/{intent}"}),update:fr({method:"POST",fullPath:"/v1/payment_intents/{intent}"}),list:fr({method:"GET",fullPath:"/v1/payment_intents",methodType:"list"}),applyCustomerBalance:fr({method:"POST",fullPath:"/v1/payment_intents/{intent}/apply_customer_balance"}),cancel:fr({method:"POST",fullPath:"/v1/payment_intents/{intent}/cancel"}),capture:fr({method:"POST",fullPath:"/v1/payment_intents/{intent}/capture"}),confirm:fr({method:"POST",fullPath:"/v1/payment_intents/{intent}/confirm"}),incrementAuthorization:fr({method:"POST",fullPath:"/v1/payment_intents/{intent}/increment_authorization"}),listAmountDetailsLineItems:fr({method:"GET",fullPath:"/v1/payment_intents/{intent}/amount_details_line_items",methodType:"list"}),search:fr({method:"GET",fullPath:"/v1/payment_intents/search",methodType:"search"}),verifyMicrodeposits:fr({method:"POST",fullPath:"/v1/payment_intents/{intent}/verify_microdeposits"})});var eu=h.method,VC=h.extend({create:eu({method:"POST",fullPath:"/v1/payment_links"}),retrieve:eu({method:"GET",fullPath:"/v1/payment_links/{payment_link}"}),update:eu({method:"POST",fullPath:"/v1/payment_links/{payment_link}"}),list:eu({method:"GET",fullPath:"/v1/payment_links",methodType:"list"}),listLineItems:eu({method:"GET",fullPath:"/v1/payment_links/{payment_link}/line_items",methodType:"list"})});var Ep=h.method,HC=h.extend({create:Ep({method:"POST",fullPath:"/v1/payment_method_configurations"}),retrieve:Ep({method:"GET",fullPath:"/v1/payment_method_configurations/{configuration}"}),update:Ep({method:"POST",fullPath:"/v1/payment_method_configurations/{configuration}"}),list:Ep({method:"GET",fullPath:"/v1/payment_method_configurations",methodType:"list"})});var tu=h.method,GC=h.extend({create:tu({method:"POST",fullPath:"/v1/payment_method_domains"}),retrieve:tu({method:"GET",fullPath:"/v1/payment_method_domains/{payment_method_domain}"}),update:tu({method:"POST",fullPath:"/v1/payment_method_domains/{payment_method_domain}"}),list:tu({method:"GET",fullPath:"/v1/payment_method_domains",methodType:"list"}),validate:tu({method:"POST",fullPath:"/v1/payment_method_domains/{payment_method_domain}/validate"})});var xi=h.method,JC=h.extend({create:xi({method:"POST",fullPath:"/v1/payment_methods"}),retrieve:xi({method:"GET",fullPath:"/v1/payment_methods/{payment_method}"}),update:xi({method:"POST",fullPath:"/v1/payment_methods/{payment_method}"}),list:xi({method:"GET",fullPath:"/v1/payment_methods",methodType:"list"}),attach:xi({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/attach"}),detach:xi({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/detach"})});var fo=h.method,KC=h.extend({retrieve:fo({method:"GET",fullPath:"/v1/payment_records/{id}"}),reportPayment:fo({method:"POST",fullPath:"/v1/payment_records/report_payment"}),reportPaymentAttempt:fo({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt"}),reportPaymentAttemptCanceled:fo({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt_canceled"}),reportPaymentAttemptFailed:fo({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt_failed"}),reportPaymentAttemptGuaranteed:fo({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt_guaranteed"}),reportPaymentAttemptInformational:fo({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt_informational"}),reportRefund:fo({method:"POST",fullPath:"/v1/payment_records/{id}/report_refund"})});var wi=h.method,WC=h.extend({create:wi({method:"POST",fullPath:"/v1/payouts"}),retrieve:wi({method:"GET",fullPath:"/v1/payouts/{payout}"}),update:wi({method:"POST",fullPath:"/v1/payouts/{payout}"}),list:wi({method:"GET",fullPath:"/v1/payouts",methodType:"list"}),cancel:wi({method:"POST",fullPath:"/v1/payouts/{payout}/cancel"}),reverse:wi({method:"POST",fullPath:"/v1/payouts/{payout}/reverse"})});var ru=h.method,XC=h.extend({create:ru({method:"POST",fullPath:"/v1/plans"}),retrieve:ru({method:"GET",fullPath:"/v1/plans/{plan}"}),update:ru({method:"POST",fullPath:"/v1/plans/{plan}"}),list:ru({method:"GET",fullPath:"/v1/plans",methodType:"list"}),del:ru({method:"DELETE",fullPath:"/v1/plans/{plan}"})});var nu=h.method,YC=h.extend({create:nu({method:"POST",fullPath:"/v1/prices"}),retrieve:nu({method:"GET",fullPath:"/v1/prices/{price}"}),update:nu({method:"POST",fullPath:"/v1/prices/{price}"}),list:nu({method:"GET",fullPath:"/v1/prices",methodType:"list"}),search:nu({method:"GET",fullPath:"/v1/prices/search",methodType:"search"})});var en=h.method,QC=h.extend({create:en({method:"POST",fullPath:"/v1/products"}),retrieve:en({method:"GET",fullPath:"/v1/products/{id}"}),update:en({method:"POST",fullPath:"/v1/products/{id}"}),list:en({method:"GET",fullPath:"/v1/products",methodType:"list"}),del:en({method:"DELETE",fullPath:"/v1/products/{id}"}),createFeature:en({method:"POST",fullPath:"/v1/products/{product}/features"}),deleteFeature:en({method:"DELETE",fullPath:"/v1/products/{product}/features/{id}"}),listFeatures:en({method:"GET",fullPath:"/v1/products/{product}/features",methodType:"list"}),retrieveFeature:en({method:"GET",fullPath:"/v1/products/{product}/features/{id}"}),search:en({method:"GET",fullPath:"/v1/products/search",methodType:"search"})});var kp=h.method,e1=h.extend({create:kp({method:"POST",fullPath:"/v1/promotion_codes"}),retrieve:kp({method:"GET",fullPath:"/v1/promotion_codes/{promotion_code}"}),update:kp({method:"POST",fullPath:"/v1/promotion_codes/{promotion_code}"}),list:kp({method:"GET",fullPath:"/v1/promotion_codes",methodType:"list"})});var tn=h.method,t1=h.extend({create:tn({method:"POST",fullPath:"/v1/quotes"}),retrieve:tn({method:"GET",fullPath:"/v1/quotes/{quote}"}),update:tn({method:"POST",fullPath:"/v1/quotes/{quote}"}),list:tn({method:"GET",fullPath:"/v1/quotes",methodType:"list"}),accept:tn({method:"POST",fullPath:"/v1/quotes/{quote}/accept"}),cancel:tn({method:"POST",fullPath:"/v1/quotes/{quote}/cancel"}),finalizeQuote:tn({method:"POST",fullPath:"/v1/quotes/{quote}/finalize"}),listComputedUpfrontLineItems:tn({method:"GET",fullPath:"/v1/quotes/{quote}/computed_upfront_line_items",methodType:"list"}),listLineItems:tn({method:"GET",fullPath:"/v1/quotes/{quote}/line_items",methodType:"list"}),pdf:tn({method:"GET",fullPath:"/v1/quotes/{quote}/pdf",host:"files.stripe.com",streaming:!0})});var ou=h.method,r1=h.extend({create:ou({method:"POST",fullPath:"/v1/refunds"}),retrieve:ou({method:"GET",fullPath:"/v1/refunds/{refund}"}),update:ou({method:"POST",fullPath:"/v1/refunds/{refund}"}),list:ou({method:"GET",fullPath:"/v1/refunds",methodType:"list"}),cancel:ou({method:"POST",fullPath:"/v1/refunds/{refund}/cancel"})});var ox=h.method,n1=h.extend({retrieve:ox({method:"GET",fullPath:"/v1/reviews/{review}"}),list:ox({method:"GET",fullPath:"/v1/reviews",methodType:"list"}),approve:ox({method:"POST",fullPath:"/v1/reviews/{review}/approve"})});var Q9=h.method,o1=h.extend({list:Q9({method:"GET",fullPath:"/v1/setup_attempts",methodType:"list"})});var Fo=h.method,a1=h.extend({create:Fo({method:"POST",fullPath:"/v1/setup_intents"}),retrieve:Fo({method:"GET",fullPath:"/v1/setup_intents/{intent}"}),update:Fo({method:"POST",fullPath:"/v1/setup_intents/{intent}"}),list:Fo({method:"GET",fullPath:"/v1/setup_intents",methodType:"list"}),cancel:Fo({method:"POST",fullPath:"/v1/setup_intents/{intent}/cancel"}),confirm:Fo({method:"POST",fullPath:"/v1/setup_intents/{intent}/confirm"}),verifyMicrodeposits:Fo({method:"POST",fullPath:"/v1/setup_intents/{intent}/verify_microdeposits"})});var Pp=h.method,i1=h.extend({create:Pp({method:"POST",fullPath:"/v1/shipping_rates"}),retrieve:Pp({method:"GET",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),update:Pp({method:"POST",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),list:Pp({method:"GET",fullPath:"/v1/shipping_rates",methodType:"list"})});var au=h.method,s1=h.extend({create:au({method:"POST",fullPath:"/v1/sources"}),retrieve:au({method:"GET",fullPath:"/v1/sources/{source}"}),update:au({method:"POST",fullPath:"/v1/sources/{source}"}),listSourceTransactions:au({method:"GET",fullPath:"/v1/sources/{source}/source_transactions",methodType:"list"}),verify:au({method:"POST",fullPath:"/v1/sources/{source}/verify"})});var iu=h.method,c1=h.extend({create:iu({method:"POST",fullPath:"/v1/subscription_items"}),retrieve:iu({method:"GET",fullPath:"/v1/subscription_items/{item}"}),update:iu({method:"POST",fullPath:"/v1/subscription_items/{item}"}),list:iu({method:"GET",fullPath:"/v1/subscription_items",methodType:"list"}),del:iu({method:"DELETE",fullPath:"/v1/subscription_items/{item}"})});var Si=h.method,u1=h.extend({create:Si({method:"POST",fullPath:"/v1/subscription_schedules"}),retrieve:Si({method:"GET",fullPath:"/v1/subscription_schedules/{schedule}"}),update:Si({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}"}),list:Si({method:"GET",fullPath:"/v1/subscription_schedules",methodType:"list"}),cancel:Si({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/cancel"}),release:Si({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/release"})});var Pn=h.method,l1=h.extend({create:Pn({method:"POST",fullPath:"/v1/subscriptions"}),retrieve:Pn({method:"GET",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),update:Pn({method:"POST",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),list:Pn({method:"GET",fullPath:"/v1/subscriptions",methodType:"list"}),cancel:Pn({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),deleteDiscount:Pn({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}/discount"}),migrate:Pn({method:"POST",fullPath:"/v1/subscriptions/{subscription}/migrate"}),resume:Pn({method:"POST",fullPath:"/v1/subscriptions/{subscription}/resume"}),search:Pn({method:"GET",fullPath:"/v1/subscriptions/search",methodType:"search"})});var d1=h.method,p1=h.extend({retrieve:d1({method:"GET",fullPath:"/v1/tax_codes/{id}"}),list:d1({method:"GET",fullPath:"/v1/tax_codes",methodType:"list"})});var Ap=h.method,m1=h.extend({create:Ap({method:"POST",fullPath:"/v1/tax_ids"}),retrieve:Ap({method:"GET",fullPath:"/v1/tax_ids/{id}"}),list:Ap({method:"GET",fullPath:"/v1/tax_ids",methodType:"list"}),del:Ap({method:"DELETE",fullPath:"/v1/tax_ids/{id}"})});var $p=h.method,f1=h.extend({create:$p({method:"POST",fullPath:"/v1/tax_rates"}),retrieve:$p({method:"GET",fullPath:"/v1/tax_rates/{tax_rate}"}),update:$p({method:"POST",fullPath:"/v1/tax_rates/{tax_rate}"}),list:$p({method:"GET",fullPath:"/v1/tax_rates",methodType:"list"})});var h1=h.method,g1=h.extend({create:h1({method:"POST",fullPath:"/v1/tokens"}),retrieve:h1({method:"GET",fullPath:"/v1/tokens/{token}"})});var su=h.method,y1=h.extend({create:su({method:"POST",fullPath:"/v1/topups"}),retrieve:su({method:"GET",fullPath:"/v1/topups/{topup}"}),update:su({method:"POST",fullPath:"/v1/topups/{topup}"}),list:su({method:"GET",fullPath:"/v1/topups",methodType:"list"}),cancel:su({method:"POST",fullPath:"/v1/topups/{topup}/cancel"})});var ho=h.method,v1=h.extend({create:ho({method:"POST",fullPath:"/v1/transfers"}),retrieve:ho({method:"GET",fullPath:"/v1/transfers/{transfer}"}),update:ho({method:"POST",fullPath:"/v1/transfers/{transfer}"}),list:ho({method:"GET",fullPath:"/v1/transfers",methodType:"list"}),createReversal:ho({method:"POST",fullPath:"/v1/transfers/{id}/reversals"}),listReversals:ho({method:"GET",fullPath:"/v1/transfers/{id}/reversals",methodType:"list"}),retrieveReversal:ho({method:"GET",fullPath:"/v1/transfers/{transfer}/reversals/{id}"}),updateReversal:ho({method:"POST",fullPath:"/v1/transfers/{transfer}/reversals/{id}"})});var cu=h.method,_1=h.extend({create:cu({method:"POST",fullPath:"/v1/webhook_endpoints"}),retrieve:cu({method:"GET",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),update:cu({method:"POST",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),list:cu({method:"GET",fullPath:"/v1/webhook_endpoints",methodType:"list"}),del:cu({method:"DELETE",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"})});var e5=et("apps",{Secrets:DO}),t5=et("billing",{Alerts:ER,CreditBalanceSummary:MR,CreditBalanceTransactions:LR,CreditGrants:qR,MeterEventAdjustments:tO,MeterEvents:aO,Meters:sO}),r5=et("billingPortal",{Configurations:NR,Sessions:zO}),n5=et("checkout",{Sessions:MO}),o5=et("climate",{Orders:uO,Products:_O,Suppliers:ZO}),a5=et("entitlements",{ActiveEntitlements:TR,Features:WR}),i5=et("financialConnections",{Accounts:SR,Sessions:LO,Transactions:WO}),s5=et("forwarding",{Requests:CO}),c5=et("identity",{VerificationReports:aC,VerificationSessions:iC}),u5=et("issuing",{Authorizations:PR,Cardholders:RR,Cards:OR,Disputes:VR,PersonalizationDesigns:fO,PhysicalBundles:yO,Tokens:HO,Transactions:XO}),l5=et("radar",{EarlyFraudWarnings:GR,ValueListItems:rC,ValueLists:nC}),d5=et("reporting",{ReportRuns:$O,ReportTypes:OO}),p5=et("sigma",{ScheduledQueryRuns:jO}),m5=et("tax",{Associations:kR,Calculations:$R,Registrations:AO,Settings:FO,Transactions:YO}),f5=et("terminal",{Configurations:jR,ConnectionTokens:zR,Locations:eO,OnboardingLinks:cO,Readers:bO}),h5=et("testHelpers",{ConfirmationTokens:DR,Customers:BR,Refunds:PO,TestClocks:VO,Issuing:et("issuing",{Authorizations:AR,Cards:CR,PersonalizationDesigns:hO,Transactions:QO}),Terminal:et("terminal",{Readers:xO}),Treasury:et("treasury",{InboundTransfers:YR,OutboundPayments:lO,OutboundTransfers:pO,ReceivedCredits:wO,ReceivedDebits:TO})}),g5=et("treasury",{CreditReversals:FR,DebitReversals:ZR,FinancialAccounts:XR,InboundTransfers:QR,OutboundPayments:dO,OutboundTransfers:mO,ReceivedCredits:IO,ReceivedDebits:kO,TransactionEntries:JO,Transactions:tC}),y5=et("v2",{Billing:et("billing",{MeterEventAdjustments:rO,MeterEventSession:nO,MeterEventStream:oO,MeterEvents:iO}),Core:et("core",{EventDestinations:JR,Events:KR})});var b1="api.stripe.com",x1="443",w1="/v1/",S1=Fb,I1=8e4,T1=5,E1=.5,v5=["name","version","url","partner_id"],k1=["authenticator","apiVersion","typescript","maxNetworkRetries","httpAgent","httpClient","timeout","host","port","protocol","telemetry","appInfo","stripeAccount","stripeContext"],_5=s(e=>new ip(e,h.MAX_BUFFERED_REQUEST_METRICS),"defaultRequestSenderFactory");function P1(e,t=_5){n.PACKAGE_VERSION="20.0.0",n.API_VERSION=Fb,n.USER_AGENT=Object.assign({bindings_version:n.PACKAGE_VERSION,lang:"node",publisher:"stripe",uname:null,typescript:!1},mR()),n.StripeResource=h,n.StripeContext=Bc,n.resources=Ii,n.HttpClient=kt,n.HttpClientResponse=so,n.CryptoProvider=io,n.webhooks=wR(e);function n(o,r={}){if(!(this instanceof n))return new n(o,r);let a=this._getPropsFromConfig(r);this._platformFunctions=e,Object.defineProperty(this,"_emitter",{value:this._platformFunctions.createEmitter(),enumerable:!1,configurable:!1,writable:!1}),this.VERSION=n.PACKAGE_VERSION,this.on=this._emitter.on.bind(this._emitter),this.once=this._emitter.once.bind(this._emitter),this.off=this._emitter.removeListener.bind(this._emitter);let c=a.httpAgent||null;this._api={host:a.host||b1,port:a.port||x1,protocol:a.protocol||"https",basePath:w1,version:a.apiVersion||S1,timeout:Jd("timeout",a.timeout,I1),maxNetworkRetries:Jd("maxNetworkRetries",a.maxNetworkRetries,2),agent:c,httpClient:a.httpClient||(c?this._platformFunctions.createNodeHttpClient(c):this._platformFunctions.createDefaultHttpClient()),dev:!1,stripeAccount:a.stripeAccount||null,stripeContext:a.stripeContext||null};let u=a.typescript||!1;u!==n.USER_AGENT.typescript&&(n.USER_AGENT.typescript=u),a.appInfo&&this._setAppInfo(a.appInfo),this._prepResources(),this._setAuthenticator(o,a.authenticator),this.errors=op,this.webhooks=n.webhooks,this._prevRequestMetrics=[],this._enableTelemetry=a.telemetry!==!1,this._requestSender=t(this),this.StripeResource=n.StripeResource}return s(n,"Stripe"),n.errors=op,n.createNodeHttpClient=e.createNodeHttpClient,n.createFetchHttpClient=e.createFetchHttpClient,n.createNodeCryptoProvider=e.createNodeCryptoProvider,n.createSubtleCryptoProvider=e.createSubtleCryptoProvider,n.prototype={_appInfo:void 0,on:null,off:null,once:null,VERSION:null,StripeResource:null,webhooks:null,errors:null,_api:null,_prevRequestMetrics:null,_emitter:null,_enableTelemetry:null,_requestSender:null,_platformFunctions:null,rawRequest(o,r,a,c){return this._requestSender._rawRequest(o,r,a,c)},_setAuthenticator(o,r){if(o&&r)throw new Error("Can't specify both apiKey and authenticator");if(!o&&!r)throw new Error("Neither apiKey nor config.authenticator provided");this._authenticator=o?Zd(o):r},_setAppInfo(o){if(o&&typeof o!="object")throw new Error("AppInfo must be an object.");if(o&&!o.name)throw new Error("AppInfo.name is required");o=o||{},this._appInfo=v5.reduce((r,a)=>(typeof o[a]=="string"&&(r=r||{},r[a]=o[a]),r),{})},_setApiField(o,r){this._api[o]=r},getApiField(o){return this._api[o]},setClientId(o){this._clientId=o},getClientId(){return this._clientId},getConstant:s(o=>{switch(o){case"DEFAULT_HOST":return b1;case"DEFAULT_PORT":return x1;case"DEFAULT_BASE_PATH":return w1;case"DEFAULT_API_VERSION":return S1;case"DEFAULT_TIMEOUT":return I1;case"MAX_NETWORK_RETRY_DELAY_SEC":return T1;case"INITIAL_NETWORK_RETRY_DELAY_SEC":return E1}return n[o]},"getConstant"),getMaxNetworkRetries(){return this.getApiField("maxNetworkRetries")},_setApiNumberField(o,r,a){let c=Jd(o,r,a);this._setApiField(o,c)},getMaxNetworkRetryDelay(){return T1},getInitialNetworkRetryDelay(){return E1},getClientUserAgent(o){return this.getClientUserAgentSeeded(n.USER_AGENT,o)},getClientUserAgentSeeded(o,r){this._platformFunctions.getUname().then(a=>{var c;let u={};for(let d in o)Object.prototype.hasOwnProperty.call(o,d)&&(u[d]=encodeURIComponent((c=o[d])!==null&&c!==void 0?c:"null"));u.uname=encodeURIComponent(a||"UNKNOWN");let l=this.getApiField("httpClient");l&&(u.httplib=encodeURIComponent(l.getClientName())),this._appInfo&&(u.application=this._appInfo),r(JSON.stringify(u))})},getAppInfoAsString(){if(!this._appInfo)return"";let o=this._appInfo.name;return this._appInfo.version&&(o+=`/${this._appInfo.version}`),this._appInfo.url&&(o+=` (${this._appInfo.url})`),o},getTelemetryEnabled(){return this._enableTelemetry},_prepResources(){for(let o in Ii)Object.prototype.hasOwnProperty.call(Ii,o)&&(this[dR(o)]=new Ii[o](this))},_getPropsFromConfig(o){if(!o)return{};let r=typeof o=="string";if(!(o===Object(o)&&!Array.isArray(o))&&!r)throw new Error("Config must either be an object or a string");if(r)return{apiVersion:o};if(Object.keys(o).filter(u=>!k1.includes(u)).length>0)throw new Error(`Config object may only contain the following: ${k1.join(", ")}`);return o},parseEventNotification(o,r,a,c,u,l){let d=this.webhooks.constructEvent(o,r,a,c,u,l);return d.context&&(d.context=Bc.parse(d.context)),d.fetchEvent=()=>this._requestSender._rawRequest("GET",`/v2/core/events/${d.id}`,void 0,{stripeContext:d.context},["fetch_event"]),d.fetchRelatedObject=()=>d.related_object?this._requestSender._rawRequest("GET",d.related_object.url,void 0,{stripeContext:d.context},["fetch_related_object"]):Promise.resolve(null),d}},n}s(P1,"createStripe");var b5=P1(new ap),A1=b5;function x5(){let e=process.env.STRIPE_SECRET_KEY;if(!e)throw new Error("STRIPE_SECRET_KEY environment variable is not set. Configure Stripe credentials.");return e}s(x5,"getStripeSecretKey");var w5={apiVersion:"2025-11-17.clover",typescript:!0,appInfo:{name:"AegisWallet",version:"1.0.0",url:"https://aegiswallet.com.br"}},ax=null;function ir(){return ax||(ax=new A1(x5(),w5)),ax}s(ir,"getStripeClient");var Rp=class e{static{s(this,"StripeCustomerService")}static async createCustomer(t,n,o){let r=ir();try{let a=await r.customers.create({email:n,name:o,metadata:{clerkUserId:t}});return T.info("Stripe customer created",{clerkUserId:t,stripeCustomerId:a.id}),a.id}catch(a){throw T.error("Failed to create Stripe customer",{clerkUserId:t,error:a instanceof Error?a.message:"Unknown error"}),new Error("Falha ao criar cliente no Stripe")}}static async getOrCreateCustomer(t,n,o){let r=ir();try{let a=await r.customers.search({query:`metadata['clerkUserId']:'${t}'`,limit:1});if(a.data.length>0)return a.data[0].id;let c=await r.customers.list({email:n,limit:1});return c.data.length>0?(await r.customers.update(c.data[0].id,{metadata:{clerkUserId:t}}),c.data[0].id):await e.createCustomer(t,n,o)}catch(a){throw T.error("Failed to get/create Stripe customer",{clerkUserId:t,error:a instanceof Error?a.message:"Unknown error"}),new Error("Falha ao processar cliente no Stripe")}}static async updateCustomer(t,n){let o=ir();try{await o.customers.update(t,n)}catch(r){throw T.error("Failed to update Stripe customer",{stripeCustomerId:t,error:r instanceof Error?r.message:"Unknown error"}),r}}static async deleteCustomer(t){let n=ir();try{let o=await n.subscriptions.list({customer:t,status:"active"});for(let r of o.data)await n.subscriptions.cancel(r.id);await n.customers.del(t),T.info("Stripe customer deleted",{stripeCustomerId:t})}catch(o){throw T.error("Failed to delete Stripe customer",{stripeCustomerId:t,error:o instanceof Error?o.message:"Unknown error"}),o}}};var S5=i.object({STRIPE_SECRET_KEY:i.string().min(1,"STRIPE_SECRET_KEY is required"),STRIPE_PUBLISHABLE_KEY:i.string().min(1,"STRIPE_PUBLISHABLE_KEY is required"),STRIPE_WEBHOOK_SECRET:i.string().min(1,"STRIPE_WEBHOOK_SECRET is required"),STRIPE_SUCCESS_URL:i.string().url("STRIPE_SUCCESS_URL must be a valid URL"),STRIPE_CANCEL_URL:i.string().url("STRIPE_CANCEL_URL must be a valid URL"),STRIPE_PORTAL_RETURN_URL:i.string().url("STRIPE_PORTAL_RETURN_URL must be a valid URL"),STRIPE_PRICE_BASIC_MONTHLY:i.string().min(1,"STRIPE_PRICE_BASIC_MONTHLY is required"),STRIPE_PRICE_ADVANCED_MONTHLY:i.string().min(1,"STRIPE_PRICE_ADVANCED_MONTHLY is required")}),rn;try{rn=S5.parse(process.env)}catch{rn=process.env}var Bo={secretKey:rn?.STRIPE_SECRET_KEY,publishableKey:rn?.STRIPE_PUBLISHABLE_KEY,webhookSecret:rn?.STRIPE_WEBHOOK_SECRET,successUrl:rn?.STRIPE_SUCCESS_URL,cancelUrl:rn?.STRIPE_CANCEL_URL,portalReturnUrl:rn?.STRIPE_PORTAL_RETURN_URL},$1={BASIC_MONTHLY:rn?.STRIPE_PRICE_BASIC_MONTHLY,ADVANCED_MONTHLY:rn?.STRIPE_PRICE_ADVANCED_MONTHLY},I5=[{id:"free",name:"Gratuito",priceCents:0,features:["Dashboard b\xE1sico","1 conta banc\xE1ria","Transa\xE7\xF5es limitadas"],aiModels:[]},{id:"basic",name:"B\xE1sico",priceCents:5900,features:["Chat IA (Gemini Flash)","3 contas banc\xE1rias","Automa\xE7\xF5es b\xE1sicas"],aiModels:["gemini-flash"]},{id:"advanced",name:"Avan\xE7ado",priceCents:11900,features:["Todas as IAs","Contas ilimitadas","API access","Suporte priorit\xE1rio"],aiModels:["gpt-4o","claude-sonnet","gemini-pro","gemini-flash"]}],Ti=s(e=>I5.find(t=>t.id===e),"getPlanById"),uu=s(e=>e===$1.BASIC_MONTHLY?Ti("basic"):e===$1.ADVANCED_MONTHLY?Ti("advanced"):null,"getPlanByStripePrice"),R1=s(e=>{let t=Ti(e);return t?t.aiModels.length>0:!1},"canAccessAI"),O1=s(e=>{let t=Ti(e);return t?t.aiModels:[]},"getAllowedModels");var An=class{static{s(this,"StripeSubscriptionService")}static async createCheckoutSession(t,n,o,r){let a=ir(),c=ur();try{let[u]=await c.select().from(k).where(Ei(k.id,t)).limit(1);if(!u?.email)throw new Error("Usu\xE1rio n\xE3o encontrado ou sem email");let l=await Rp.getOrCreateCustomer(t,u.email,u.fullName||void 0),d=await a.checkout.sessions.create({customer:l,mode:"subscription",payment_method_types:["card"],line_items:[{price:n,quantity:1}],success_url:o||Bo.successUrl||"https://app.aegiswallet.com.br/billing/success",cancel_url:r||Bo.cancelUrl||"https://app.aegiswallet.com.br/billing/cancel",metadata:{clerkUserId:t},allow_promotion_codes:!0});return{sessionId:d.id,checkoutUrl:d.url}}catch(u){throw T.error("Failed to create checkout session",{userId:t,priceId:n,error:u instanceof Error?u.message:"Unknown error"}),u}}static async createPortalSession(t,n){let o=ir();try{return{portalUrl:(await o.billingPortal.sessions.create({customer:t,return_url:n||Bo.portalReturnUrl||"https://app.aegiswallet.com.br/settings/billing"})).url}}catch(r){throw T.error("Failed to create portal session",{stripeCustomerId:t,error:r instanceof Error?r.message:"Unknown error"}),r}}static async getSubscription(t){let n=ur();try{let o=await n.select({subscription:Te,plan:Ot}).from(Te).leftJoin(Ot,Ei(Te.planId,Ot.id)).where(Ei(Te.userId,t)).limit(1);return o.length===0?null:o[0]}catch(o){throw T.error("Failed to get subscription",{userId:t,error:o instanceof Error?o.message:"Unknown error"}),o}}static async syncSubscriptionFromStripe(t){let n=ir(),o=fn();try{let a=await n.subscriptions.retrieve(t),c=typeof a.customer=="string"?a.customer:a.customer.id,[u]=await o.select().from(Te).where(Ei(Te.stripeCustomerId,c)).limit(1);if(!u)return T.warn("Subscription sync skipped: User not found for customer",{customerId:c}),null;let l=a.items.data[0].price.id,d=uu(l),p=d?d.id:"free",m=a.status,f=m==="incomplete"||m==="incomplete_expired"||m==="paused"?"canceled":m,y=a.items.data[0],g=y.current_period_start,v=y.current_period_end,[b]=await o.update(Te).set({stripeSubscriptionId:a.id,planId:p,status:f,currentPeriodStart:new Date(g*1e3),currentPeriodEnd:new Date(v*1e3),cancelAtPeriodEnd:a.cancel_at_period_end,canceledAt:a.canceled_at?new Date(a.canceled_at*1e3):null,trialStart:a.trial_start?new Date(a.trial_start*1e3):null,trialEnd:a.trial_end?new Date(a.trial_end*1e3):null,updatedAt:new Date}).where(Ei(Te.id,u.id)).returning();return T.info("Subscription synced from Stripe",{userId:u.userId,subscriptionId:a.id,status:f}),b}catch(r){throw T.error("Failed to sync subscription",{stripeSubscriptionId:t,error:r instanceof Error?r.message:"Unknown error"}),r}}static async cancelSubscription(t,n=!1){let o=ir(),r=ur();try{let[a]=await r.select().from(Te).where(Ei(Te.userId,t)).limit(1);if(!a?.stripeSubscriptionId)throw new Error("Assinatura n\xE3o encontrada");return n?await o.subscriptions.cancel(a.stripeSubscriptionId):await o.subscriptions.update(a.stripeSubscriptionId,{cancel_at_period_end:!0}),!0}catch(a){throw T.error("Failed to cancel subscription",{userId:t,error:a instanceof Error?a.message:"Unknown error"}),a}}};var C1=new ne,T5=i.object({priceId:i.string().min(1),successUrl:i.string().url().optional(),cancelUrl:i.string().url().optional()});C1.post("/",B,X({windowMs:6e4,max:10}),pe("json",T5),async e=>{let{user:t}=e.get("auth"),{priceId:n,successUrl:o,cancelUrl:r}=e.req.valid("json"),a=e.get("requestId");try{let c=await An.createCheckoutSession(t.id,n,o,r);return T.info("Checkout session created",{userId:t.id,priceId:n}),e.json({data:c,meta:{requestId:a}})}catch(c){return T.error("Checkout creation failed",{userId:t.id,error:c instanceof Error?c.message:"Unknown error",requestId:a}),e.json({error:"Falha ao criar checkout"},500)}});var N1=C1;var ix=new ne,E5=i.object({limit:i.coerce.number().min(1).max(100).default(10),offset:i.coerce.number().min(0).default(0),status:i.enum(["draft","open","paid","void","uncollectible"]).optional()});ix.get("/",B,X({windowMs:6e4,max:30}),pe("query",E5),async e=>{let{user:t}=e.get("auth"),{limit:n,offset:o,status:r}=e.req.valid("query"),a=e.get("requestId");try{let c=[],[u]=[{count:0}];return e.json({data:{invoices:c,total:Number(u?.count||0),hasMore:!1},meta:{requestId:a}})}catch(c){return T.error("Failed to fetch invoices",{userId:t.id,error:c instanceof Error?c.message:"Unknown error",requestId:a}),e.json({error:"Falha ao buscar faturas"},500)}});ix.get("/:id/pdf",B,X({windowMs:6e4,max:10}),async e=>{let{user:t}=e.get("auth"),n=e.req.param("id"),o=e.get("requestId");try{T.info("Invoice PDF download requested",{userId:t.id,invoiceId:n,requestId:o});let r=new Blob(["Mock PDF content"],{type:"application/pdf"});return new Response(r,{headers:{"Content-Type":"application/pdf","Content-Disposition":`attachment; filename="fatura-${n}.pdf"`}})}catch(r){return T.error("Failed to download invoice PDF",{userId:t.id,invoiceId:n,error:r instanceof Error?r.message:"Unknown error",requestId:o}),e.json({error:"Falha ao baixar fatura"},500)}});var j1=ix;import{desc as k5,eq as D1,sql as P5}from"drizzle-orm";var z1=new ne,A5=i.object({limit:i.coerce.number().min(1).max(100).default(10),offset:i.coerce.number().min(0).default(0)});z1.get("/",B,X({windowMs:6e4,max:30}),pe("query",A5),async e=>{let{user:t}=e.get("auth"),{limit:n,offset:o}=e.req.valid("query"),r=e.get("requestId"),a=ur();try{let c=await a.select().from(It).where(D1(It.userId,t.id)).orderBy(k5(It.createdAt)).limit(n).offset(o),[u]=await a.select({count:P5`count(*)`}).from(It).where(D1(It.userId,t.id));return e.json({data:{payments:c,total:Number(u.count)},meta:{requestId:r}})}catch(c){return T.error("Failed to fetch payment history",{userId:t.id,error:c instanceof Error?c.message:"Unknown error",requestId:r}),e.json({error:"Falha ao buscar hist\xF3rico de pagamentos"},500)}});var M1=z1;var lu=new ne,$5=i.object({type:i.enum(["card","pix","bank_account"]),isDefault:i.boolean().optional(),cardNumber:i.string().optional(),expiryMonth:i.number().min(1).max(12).optional(),expiryYear:i.number().min(new Date().getFullYear()).optional(),cvc:i.string().optional(),pixKey:i.string().optional(),pixKeyType:i.enum(["cpf","cnpj","phone","email","random"]).optional(),bankCode:i.string().optional(),accountNumber:i.string().optional(),accountType:i.enum(["checking","savings"]).optional(),accountHolderName:i.string().optional(),documentNumber:i.string().optional()}),R5=i.object({isDefault:i.boolean()});lu.get("/",B,X({windowMs:6e4,max:30}),async e=>{let{user:t}=e.get("auth"),n=e.get("requestId");try{let o=[];return e.json({data:{paymentMethods:o,hasMore:!1,total:0},meta:{requestId:n}})}catch(o){return T.error("Failed to fetch payment methods",{userId:t.id,error:o instanceof Error?o.message:"Unknown error",requestId:n}),e.json({error:"Falha ao buscar m\xE9todos de pagamento"},500)}});lu.post("/",B,X({windowMs:6e4,max:10}),pe("json",$5),async e=>{let{user:t}=e.get("auth"),n=e.req.valid("json"),o=e.get("requestId");try{return T.info("Payment method addition requested",{userId:t.id,type:n.type,requestId:o}),e.json({data:{paymentMethod:{id:"pm_mock_id",type:n.type,isDefault:n.isDefault,createdAt:new Date().toISOString()}},meta:{requestId:o}})}catch(r){return T.error("Failed to add payment method",{userId:t.id,error:r instanceof Error?r.message:"Unknown error",requestId:o}),e.json({error:"Falha ao adicionar m\xE9todo de pagamento"},500)}});lu.put("/:id",B,X({windowMs:6e4,max:20}),pe("json",R5),async e=>{let{user:t}=e.get("auth"),n=e.req.param("id"),o=e.req.valid("json"),r=e.get("requestId");try{return T.info("Payment method update requested",{userId:t.id,paymentMethodId:n,data:o,requestId:r}),e.json({data:{paymentMethod:{id:n,isDefault:o.isDefault}},meta:{requestId:r}})}catch(a){return T.error("Failed to update payment method",{userId:t.id,paymentMethodId:n,error:a instanceof Error?a.message:"Unknown error",requestId:r}),e.json({error:"Falha ao atualizar m\xE9todo de pagamento"},500)}});lu.delete("/:id",B,X({windowMs:6e4,max:10}),async e=>{let{user:t}=e.get("auth"),n=e.req.param("id"),o=e.get("requestId");try{return T.info("Payment method deletion requested",{userId:t.id,paymentMethodId:n,requestId:o}),e.json({data:{success:!0},meta:{requestId:o}})}catch(r){return T.error("Failed to remove payment method",{userId:t.id,paymentMethodId:n,error:r instanceof Error?r.message:"Unknown error",requestId:o}),e.json({error:"Falha ao remover m\xE9todo de pagamento"},500)}});var U1=lu;import{asc as O5,eq as C5}from"drizzle-orm";var L1=new ne;L1.get("/",async e=>{let t=e.get("requestId"),n=ur();try{let r=(await n.select().from(Ot).where(C5(Ot.isActive,!0)).orderBy(O5(Ot.displayOrder))).map(a=>({...a,priceFormatted:new Intl.NumberFormat("pt-BR",{style:"currency",currency:a.currency}).format(a.priceCents/100)}));return e.json({data:{plans:r},meta:{requestId:t}})}catch(o){return T.error("Failed to fetch plans",{error:o instanceof Error?o.message:"Unknown error",requestId:t}),e.json({error:"Falha ao buscar planos"},500)}});var q1=L1;var F1=new ne,N5=i.object({returnUrl:i.string().url().optional()});F1.post("/",B,X({windowMs:6e4,max:10}),pe("json",N5),async e=>{let{user:t}=e.get("auth"),{returnUrl:n}=e.req.valid("json"),o=e.get("requestId");try{let r=await An.getSubscription(t.id);if(!r?.subscription?.stripeCustomerId)return e.json({error:"Assinatura n\xE3o encontrada"},400);let a=await An.createPortalSession(r.subscription.stripeCustomerId,n);return T.info("Portal session created",{userId:t.id}),e.json({data:a,meta:{requestId:o}})}catch(r){return T.error("Portal creation failed",{userId:t.id,error:r instanceof Error?r.message:"Unknown error",requestId:o}),e.json({error:"Falha ao criar portal"},500)}});var B1=F1;var Z1=new ne;Z1.get("/",B,X({windowMs:6e4,max:30}),async e=>{let{user:t}=e.get("auth"),n=e.get("requestId");try{let o=await An.getSubscription(t.id),r=o?.plan||Ti("free"),a=r?.id||"free",c=R1(a),u=O1(a);return e.json({data:{subscription:o?.subscription||null,plan:r,canAccessAI:c,allowedModels:u},meta:{requestId:n}})}catch(o){return T.error("Failed to get subscription",{userId:t.id,error:o instanceof Error?o.message:"Unknown error",requestId:n}),e.json({error:"Falha ao buscar assinatura"},500)}});var V1=Z1;import{eq as ki}from"drizzle-orm";var nn=class{static{s(this,"StripeWebhookService")}static constructEvent(t,n){let o=ir();if(!Bo.webhookSecret)throw new Error("STRIPE_WEBHOOK_SECRET is not set");return o.webhooks.constructEvent(t,n,Bo.webhookSecret)}static async handleCheckoutSessionCompleted(t){let n=fn(),o=t.metadata?.clerkUserId,r=typeof t.customer=="string"?t.customer:t.customer?.id,a=typeof t.subscription=="string"?t.subscription:t.subscription?.id;if(!(o&&r&&a)){T.warn("Checkout session missing metadata or IDs",{sessionId:t.id});return}let u=await ir().subscriptions.retrieve(a),l=u.items.data[0].price.id,d=uu(l),p=d?d.id:"free",m=u.items.data[0],f=m.current_period_start,y=m.current_period_end,g=u.status,v=g==="incomplete"||g==="incomplete_expired"||g==="paused"?"canceled":g;await n.transaction(async b=>{await b.update(Te).set({stripeCustomerId:r,stripeSubscriptionId:a,planId:p,status:v,currentPeriodStart:new Date(f*1e3),currentPeriodEnd:new Date(y*1e3),updatedAt:new Date}).where(ki(Te.userId,o))}),T.info("Checkout session completed",{clerkUserId:o,subscriptionId:a})}static async handleSubscriptionCreated(t){}static async handleSubscriptionUpdated(t){let n=fn(),o=typeof t.customer=="string"?t.customer:t.customer.id,[r]=await n.select().from(Te).where(ki(Te.stripeCustomerId,o)).limit(1);if(!r)return;let a=t.items.data[0].price.id,c=uu(a),u=c?c.id:"free",l=t.items.data[0],d=l.current_period_start,p=l.current_period_end,m=t.status,f=m==="incomplete"||m==="incomplete_expired"||m==="paused"?"canceled":m;await n.update(Te).set({stripeSubscriptionId:t.id,planId:u,status:f,currentPeriodStart:new Date(d*1e3),currentPeriodEnd:new Date(p*1e3),cancelAtPeriodEnd:t.cancel_at_period_end,canceledAt:t.canceled_at?new Date(t.canceled_at*1e3):null,updatedAt:new Date}).where(ki(Te.id,r.id)),T.info("Subscription updated webhook processed",{subscriptionId:t.id})}static async handleSubscriptionDeleted(t){let n=fn(),o=typeof t.customer=="string"?t.customer:t.customer.id;await n.update(Te).set({status:"canceled",canceledAt:new Date,updatedAt:new Date}).where(ki(Te.stripeCustomerId,o)),T.info("Subscription deleted webhook processed",{subscriptionId:t.id})}static async handleInvoicePaid(t){let n=fn(),o=t,r=typeof o.customer=="string"?o.customer:o.customer?.id;if(!r)return;let[a]=await n.select().from(Te).where(ki(Te.stripeCustomerId,r)).limit(1);a&&(await n.insert(It).values({userId:a.userId,subscriptionId:a.id,stripePaymentIntentId:typeof o.payment_intent=="string"?o.payment_intent:o.payment_intent?.id,stripeInvoiceId:o.id,stripeChargeId:typeof o.charge=="string"?o.charge:o.charge?.id,amountCents:o.amount_paid,currency:o.currency,status:"succeeded",description:o.description||"Assinatura AegisWallet",receiptUrl:o.hosted_invoice_url,invoicePdf:o.invoice_pdf}),T.info("Invoice paid webhook processed",{invoiceId:o.id}))}static async handleInvoicePaymentFailed(t){let n=fn(),o=t,r=typeof o.customer=="string"?o.customer:o.customer?.id;if(!r)return;let[a]=await n.select().from(Te).where(ki(Te.stripeCustomerId,r)).limit(1);a&&(await n.insert(It).values({userId:a.userId,subscriptionId:a.id,stripePaymentIntentId:typeof o.payment_intent=="string"?o.payment_intent:o.payment_intent?.id,stripeInvoiceId:o.id,stripeChargeId:typeof o.charge=="string"?o.charge:o.charge?.id,amountCents:o.amount_due,currency:o.currency,status:"failed",description:o.description||"Falha no pagamento",failureCode:o.last_finalization_error?.code,failureMessage:t.last_finalization_error?.message}),T.warn("Invoice payment failed webhook processed",{invoiceId:t.id}))}};var H1=new ne;H1.post("/",async e=>{let t=e.req.header("stripe-signature"),n=await e.req.text();if(!t)return e.json({error:"Missing stripe-signature header"},400);try{let o=nn.constructEvent(n,t);switch(T.info("Stripe webhook received",{type:o.type,id:o.id}),o.type){case"checkout.session.completed":await nn.handleCheckoutSessionCompleted(o.data.object);break;case"customer.subscription.created":await nn.handleSubscriptionCreated(o.data.object);break;case"customer.subscription.updated":await nn.handleSubscriptionUpdated(o.data.object);break;case"customer.subscription.deleted":await nn.handleSubscriptionDeleted(o.data.object);break;case"invoice.paid":await nn.handleInvoicePaid(o.data.object);break;case"invoice.payment_failed":await nn.handleInvoicePaymentFailed(o.data.object);break;default:T.info("Unhandled webhook event type",{type:o.type})}return e.json({received:!0})}catch(o){return T.error("Webhook processing failed",{error:o instanceof Error?o.message:"Unknown error"}),e.json({error:"Webhook handler failed"},400)}});var G1=H1;var $n=new ne;$n.route("/checkout",N1);$n.route("/subscription",V1);$n.route("/portal",B1);$n.route("/plans",q1);$n.route("/webhook",G1);$n.route("/payment-history",M1);$n.route("/payment-methods",U1);$n.route("/invoices",j1);var sx=$n;import{and as J1,desc as K1,eq as du,gte as W1,ilike as X1,lte as Y1}from"drizzle-orm";var cx=new ne,j5=i.object({categoryId:i.string().optional(),endDate:i.string().datetime().optional(),limit:i.coerce.number().min(1).max(100).default(20),offset:i.coerce.number().min(0).default(0),query:i.string().min(1,"Query \xE9 obrigat\xF3ria"),startDate:i.string().datetime().optional()}),D5=i.object({accountId:i.string().optional(),categoryId:i.string().optional(),endDate:i.string().datetime().optional(),limit:i.coerce.number().min(1).max(100).default(20),offset:i.coerce.number().min(0).default(0),query:i.string().min(1,"Query \xE9 obrigat\xF3ria"),startDate:i.string().datetime().optional()});cx.get("/events/search",B,X({max:30,message:"Muitas requisi\xE7\xF5es, tente novamente mais tarde",windowMs:60*1e3}),pe("query",j5),async e=>{let{user:t,db:n}=e.get("auth"),o=e.req.valid("query"),r=e.get("requestId");try{let a=[du(Se.userId,t.id),X1(Se.title,`%${o.query}%`)];o.categoryId&&a.push(du(Se.categoryId,o.categoryId)),o.startDate&&a.push(W1(Se.startDate,new Date(o.startDate))),o.endDate&&a.push(Y1(Se.endDate,new Date(o.endDate)));let c=await n.select().from(Se).where(J1(...a)).orderBy(K1(Se.createdAt)).limit(o.limit).offset(o.offset);return T.info("Calendar events searched",{limit:o.limit,query:o.query,requestId:r,resultsCount:c.length,userId:t.id}),e.json({data:c,meta:{requestId:r,retrievedAt:new Date().toISOString()}})}catch(a){return T.error("Failed to search calendar events",{error:a instanceof Error?a.message:"Unknown error",requestId:r,userId:t.id}),e.json({code:"CALENDAR_SEARCH_ERROR",error:"Falha ao buscar eventos"},500)}});cx.get("/transactions/search",B,X({max:30,message:"Muitas requisi\xE7\xF5es, tente novamente mais tarde",windowMs:60*1e3}),pe("query",D5),async e=>{let{user:t,db:n}=e.get("auth"),o=e.req.valid("query"),r=e.get("requestId");try{let a=[du(R.userId,t.id),X1(R.description,`%${o.query}%`)];o.accountId&&a.push(du(R.accountId,o.accountId)),o.categoryId&&a.push(du(R.categoryId,o.categoryId)),o.startDate&&a.push(W1(R.transactionDate,new Date(o.startDate))),o.endDate&&a.push(Y1(R.transactionDate,new Date(o.endDate)));let c=await n.select().from(R).where(J1(...a)).orderBy(K1(R.createdAt)).limit(o.limit).offset(o.offset);return T.info("Calendar transactions searched",{limit:o.limit,query:o.query,requestId:r,resultsCount:c.length,userId:t.id}),e.json({data:c,meta:{requestId:r,retrievedAt:new Date().toISOString()}})}catch(a){return T.error("Failed to search calendar transactions",{error:a instanceof Error?a.message:"Unknown error",requestId:r,userId:t.id}),e.json({code:"CALENDAR_SEARCH_ERROR",error:"Falha ao buscar transa\xE7\xF5es"},500)}});var ux=cx;import{and as on,desc as Op,eq as Ve,gte as z5,inArray as M5,lte as U5,sql as L5}from"drizzle-orm";var lx=class{constructor(t){this.db=t}static{s(this,"ComplianceService")}async getUserConsents(t){try{return await this.db.select().from(Le).where(Ve(Le.userId,t)).orderBy(Op(Le.createdAt))}catch(n){throw T.error("Failed to get user consents",{error:n instanceof Error?n.message:"Unknown error",userId:t}),new Error(`Erro ao buscar consentimentos: ${n instanceof Error?n.message:"Unknown error"}`)}}async getConsentTemplates(){try{return await this.db.select().from(Vt).where(Ve(Vt.isActive,!0)).orderBy(Vt.consentType)}catch(t){throw T.error("Failed to get consent templates",{error:t instanceof Error?t.message:"Unknown error"}),new Error(`Erro ao buscar templates de consentimento: ${t instanceof Error?t.message:"Unknown error"}`)}}async grantConsent(t,n,o,r,a){try{let[c]=await this.db.select().from(Vt).where(on(Ve(Vt.consentType,n),Ve(Vt.isActive,!0))).limit(1);if(!c)throw new Error(`Template de consentimento n\xE3o encontrado: ${n}`);let u=await this.generateHash(c.fullTextPt),[l]=await this.db.select().from(Le).where(on(Ve(Le.userId,t),Ve(Le.consentType,n))).limit(1);if(l){let[p]=await this.db.update(Le).set({granted:!0,grantedAt:new Date,revokedAt:null,consentVersion:c.version,consentTextHash:u,collectionMethod:o,ipAddress:r??null,userAgent:a??null}).where(Ve(Le.id,l.id)).returning();return p}let[d]=await this.db.insert(Le).values({userId:t,consentType:n,purpose:c.descriptionPt,legalBasis:"consent",granted:!0,grantedAt:new Date,revokedAt:null,consentVersion:c.version,consentTextHash:u,collectionMethod:o,ipAddress:r??null,userAgent:a??null}).returning();return d}catch(c){throw T.error("Failed to grant consent",{error:c instanceof Error?c.message:"Unknown error",userId:t,consentType:n}),new Error(`Erro ao conceder consentimento: ${c instanceof Error?c.message:"Unknown error"}`)}}async revokeConsent(t,n){try{await this.db.update(Le).set({granted:!1,revokedAt:new Date}).where(on(Ve(Le.userId,t),Ve(Le.consentType,n)))}catch(o){throw T.error("Failed to revoke consent",{error:o instanceof Error?o.message:"Unknown error",userId:t,consentType:n}),new Error(`Erro ao revogar consentimento: ${o instanceof Error?o.message:"Unknown error"}`)}}async checkRequiredConsents(t,n){try{return(await this.db.select().from(Le).where(on(Ve(Le.userId,t),M5(Le.consentType,n),Ve(Le.granted,!0)))).length===n.length}catch(o){return T.error("Failed to check required consents",{error:o instanceof Error?o.message:"Unknown error",userId:t}),!1}}async getMissingMandatoryConsents(t){try{let o=(await this.db.select().from(Vt).where(on(Ve(Vt.isMandatory,!0),Ve(Vt.isActive,!0)))).map(c=>c.consentType),a=(await this.db.select().from(Le).where(on(Ve(Le.userId,t),Ve(Le.granted,!0)))).map(c=>c.consentType);return o.filter(c=>!a.includes(c))}catch(n){throw T.error("Failed to get missing mandatory consents",{error:n instanceof Error?n.message:"Unknown error",userId:t}),new Error(`Erro ao buscar consentimentos obrigat\xF3rios faltantes: ${n instanceof Error?n.message:"Unknown error"}`)}}async createExportRequest(t,n,o,r,a,c){try{let[u]=await this.db.insert(br).values({userId:t,requestType:n,format:o,status:"pending",dateFrom:r??null,dateTo:a??null,requestedVia:"app",ipAddress:c??null}).returning();return await this.logAuditEvent(t,"data_export_requested","data_export_requests",u.id,{requestType:n,format:o}),u}catch(u){throw T.error("Failed to create export request",{error:u instanceof Error?u.message:"Unknown error",userId:t}),new Error(`Erro ao criar solicita\xE7\xE3o de exporta\xE7\xE3o: ${u instanceof Error?u.message:"Unknown error"}`)}}async getExportRequests(t){try{return await this.db.select().from(br).where(Ve(br.userId,t)).orderBy(Op(br.createdAt))}catch(n){throw T.error("Failed to get export requests",{error:n instanceof Error?n.message:"Unknown error",userId:t}),new Error(`Erro ao buscar solicita\xE7\xF5es de exporta\xE7\xE3o: ${n instanceof Error?n.message:"Unknown error"}`)}}async createDeletionRequest(t,n,o,r,a){try{let[c]=await this.db.select({legalHold:Ct.legalHold}).from(Ct).where(on(Ve(Ct.userId,t),Ve(Ct.legalHold,!0))).limit(1);if(c?.legalHold)throw new Error("Seus dados est\xE3o em reten\xE7\xE3o legal e n\xE3o podem ser exclu\xEDdos no momento");let u=new Date;u.setDate(u.getDate()+15);let[l]=await this.db.insert(Ct).values({userId:t,requestType:n,scope:o??{},reason:r??null,status:"pending",reviewDeadline:u,ipAddress:a??null}).returning();return await this.logAuditEvent(t,"data_deletion_requested","data_deletion_requests",l.id,{requestType:n}),l}catch(c){throw T.error("Failed to create deletion request",{error:c instanceof Error?c.message:"Unknown error",userId:t}),c}}async getDeletionRequests(t){try{return await this.db.select().from(Ct).where(Ve(Ct.userId,t)).orderBy(Op(Ct.createdAt))}catch(n){throw T.error("Failed to get deletion requests",{error:n instanceof Error?n.message:"Unknown error",userId:t}),new Error(`Erro ao buscar solicita\xE7\xF5es de exclus\xE3o: ${n instanceof Error?n.message:"Unknown error"}`)}}async getTransactionLimits(t){try{return await this.db.select().from(Et).where(Ve(Et.userId,t))}catch(n){throw T.error("Failed to get transaction limits",{error:n instanceof Error?n.message:"Unknown error",userId:t}),new Error(`Erro ao buscar limites de transa\xE7\xE3o: ${n instanceof Error?n.message:"Unknown error"}`)}}async checkTransactionLimit(t,n,o){try{let[r]=await this.db.select().from(Et).where(on(Ve(Et.userId,t),Ve(Et.limitType,n),Ve(Et.isActive,!0))).limit(1);if(!r)return{allowed:!0};let a=Number(r.dailyLimit),c=Number(r.currentDailyUsed??0),u=r.transactionLimit?Number(r.transactionLimit):null,l=a-c;return u&&o>u?{allowed:!1,reason:`Valor excede limite por transa\xE7\xE3o de R$ ${u.toFixed(2)}`,limit:a,used:c,requested:o,remaining:l}:o>l?{allowed:!1,reason:`Valor excede saldo di\xE1rio dispon\xEDvel de R$ ${l.toFixed(2)}`,limit:a,used:c,requested:o,remaining:l}:{allowed:!0,limit:a,used:c,requested:o,remaining:l}}catch(r){throw T.error("Failed to check transaction limit",{error:r instanceof Error?r.message:"Unknown error",limitType:n,userId:t}),new Error(`Erro ao verificar limite de transa\xE7\xE3o: ${r instanceof Error?r.message:"Unknown error"}`)}}async updateLimitUsage(t,n,o){try{await this.db.update(Et).set({currentDailyUsed:L5`${Et.currentDailyUsed} + ${o}`}).where(on(Ve(Et.userId,t),Ve(Et.limitType,n)))}catch(r){throw T.error("Failed to update limit usage",{error:r instanceof Error?r.message:"Unknown error",userId:t,limitType:n,amount:o}),new Error(`Erro ao atualizar uso de limite: ${r instanceof Error?r.message:"Unknown error"}`)}}async logAuditEvent(t,n,o,r,a){try{let c=new Date;c.setFullYear(c.getFullYear()+5),await this.db.insert(Ht).values({userId:t,eventType:n,resourceType:o,resourceId:r??null,description:a?.action??null,metadata:a??{},previousState:null,newState:null,ipAddress:null,userAgent:null,sessionId:null,retentionUntil:c})}catch(c){T.error("Failed to log audit event",{error:c instanceof Error?c.message:"Unknown error",eventType:n,userId:t})}}async getAuditHistory(t,n){try{let o=[Ve(Ht.userId,t)];return n?.eventType&&o.push(Ve(Ht.eventType,n.eventType)),n?.startDate&&o.push(z5(Ht.createdAt,n.startDate)),n?.endDate&&o.push(U5(Ht.createdAt,n.endDate)),await this.db.select().from(Ht).where(o.length>1?on(...o):o[0]).orderBy(Op(Ht.createdAt)).limit(n?.limit??100)}catch(o){throw T.error("Failed to get audit history",{error:o instanceof Error?o.message:"Unknown error",userId:t}),new Error(`Erro ao buscar hist\xF3rico de auditoria: ${o instanceof Error?o.message:"Unknown error"}`)}}async generateHash(t){let o=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",o);return Array.from(new Uint8Array(r)).map(c=>c.toString(16).padStart(2,"0")).join("")}};function Xt(e){return new lx(e)}s(Xt,"createComplianceService");var sr=new ne,q5=i.object({collectionMethod:i.enum(["explicit_form","voice_command","terms_acceptance","settings_toggle"]).default("explicit_form"),consentType:i.enum(["data_processing","marketing","analytics","third_party","voice_data","biometric","financial_data","location"])}),F5=i.object({dateFrom:i.string().optional(),dateTo:i.string().optional(),format:i.enum(["json","csv","pdf"]).default("json"),requestType:i.enum(["full_data","full_export","transactions","profile","consents","audit_logs"]).default("full_export")}),B5=i.object({reason:i.string().optional(),requestType:i.enum(["full_account","full_deletion","specific_data","anonymization"]),scope:i.record(i.string(),i.unknown()).optional()}),Z5=i.object({amount:i.number().positive("Valor deve ser positivo"),limitType:i.enum(["pix_daily","pix_daytime","pix_transaction","boleto_daily","transfer_daily","withdrawal_daily"])});sr.get("/consent-templates",B,async e=>{let{db:t}=e.get("auth"),n=e.get("requestId");try{let r=await Xt(t).getConsentTemplates();return e.json({data:r,meta:{requestId:n,retrievedAt:new Date().toISOString()}})}catch(o){return T.error("Failed to get consent templates",{error:o instanceof Error?o.message:"Unknown error",requestId:n}),e.json({code:"CONSENT_TEMPLATES_ERROR",error:"Erro ao buscar modelos de consentimento"},500)}});sr.get("/consents",B,X({windowMs:6e4,max:30,message:"Muitas requisi\xE7\xF5es"}),async e=>{let{user:t,db:n}=e.get("auth"),o=e.get("requestId");try{let a=await Xt(n).getUserConsents(t.id);return e.json({data:a,meta:{requestId:o,retrievedAt:new Date().toISOString()}})}catch(r){return T.error("Failed to get user consents",{error:r instanceof Error?r.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"CONSENTS_ERROR",error:"Erro ao buscar consentimentos"},500)}});sr.get("/consents/missing",B,async e=>{let{user:t,db:n}=e.get("auth"),o=e.get("requestId");try{let a=await Xt(n).getMissingMandatoryConsents(t.id);return e.json({data:{hasMissing:a.length>0,missingConsents:a},meta:{requestId:o,retrievedAt:new Date().toISOString()}})}catch(r){return T.error("Failed to get missing consents",{error:r instanceof Error?r.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"MISSING_CONSENTS_ERROR",error:"Erro ao verificar consentimentos"},500)}});sr.post("/consents",B,X({windowMs:6e4,max:20,message:"Muitas requisi\xE7\xF5es"}),pe("json",q5),async e=>{let{user:t,db:n}=e.get("auth"),o=e.req.valid("json"),r=e.get("requestId");try{let a=e.req.header("x-forwarded-for")??e.req.header("x-real-ip"),c=e.req.header("user-agent"),l=await Xt(n).grantConsent(t.id,o.consentType,o.collectionMethod,a,c);return T.info("Consent granted",{consentType:o.consentType,requestId:r,userId:t.id}),e.json({data:l,meta:{requestId:r,grantedAt:new Date().toISOString()}},201)}catch(a){return T.error("Failed to grant consent",{consentType:o.consentType,error:a instanceof Error?a.message:"Unknown error",requestId:r,userId:t.id}),e.json({code:"CONSENT_GRANT_ERROR",error:"Erro ao registrar consentimento"},500)}});sr.delete("/consents/:type",B,X({windowMs:6e4,max:20,message:"Muitas requisi\xE7\xF5es"}),async e=>{let{user:t,db:n}=e.get("auth"),o=e.req.param("type"),r=e.get("requestId");try{return await Xt(n).revokeConsent(t.id,o),T.info("Consent revoked",{consentType:o,requestId:r,userId:t.id}),e.json({data:{success:!0,message:"Consentimento revogado com sucesso"},meta:{requestId:r,revokedAt:new Date().toISOString()}})}catch(a){return T.error("Failed to revoke consent",{consentType:o,error:a instanceof Error?a.message:"Unknown error",requestId:r,userId:t.id}),e.json({code:"CONSENT_REVOKE_ERROR",error:"Erro ao revogar consentimento"},500)}});sr.get("/export-requests",B,async e=>{let{user:t,db:n}=e.get("auth"),o=e.get("requestId");try{let a=await Xt(n).getExportRequests(t.id);return e.json({data:a,meta:{requestId:o,retrievedAt:new Date().toISOString()}})}catch(r){return T.error("Failed to get export requests",{error:r instanceof Error?r.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"EXPORT_REQUESTS_ERROR",error:"Erro ao buscar solicita\xE7\xF5es"},500)}});sr.post("/export-requests",B,X({windowMs:36e5,max:5,message:"Limite de solicita\xE7\xF5es atingido"}),pe("json",F5),async e=>{let{user:t,db:n}=e.get("auth"),o=e.req.valid("json"),r=e.get("requestId");try{let a=e.req.header("x-forwarded-for")??e.req.header("x-real-ip"),u=await Xt(n).createExportRequest(t.id,o.requestType,o.format,o.dateFrom,o.dateTo,a);return T.info("Export request created",{format:o.format,requestId:r,requestType:o.requestType,userId:t.id}),e.json({data:u,meta:{requestId:r,createdAt:new Date().toISOString()}},201)}catch(a){return T.error("Failed to create export request",{error:a instanceof Error?a.message:"Unknown error",requestId:r,userId:t.id}),e.json({code:"EXPORT_REQUEST_ERROR",error:"Erro ao criar solicita\xE7\xE3o"},500)}});sr.get("/deletion-requests",B,async e=>{let{user:t,db:n}=e.get("auth"),o=e.get("requestId");try{let a=await Xt(n).getDeletionRequests(t.id);return e.json({data:a,meta:{requestId:o,retrievedAt:new Date().toISOString()}})}catch(r){return T.error("Failed to get deletion requests",{error:r instanceof Error?r.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"DELETION_REQUESTS_ERROR",error:"Erro ao buscar solicita\xE7\xF5es"},500)}});sr.post("/deletion-requests",B,X({windowMs:864e5,max:3,message:"Limite di\xE1rio atingido"}),pe("json",B5),async e=>{let{user:t,db:n}=e.get("auth"),o=e.req.valid("json"),r=e.get("requestId");try{let a=e.req.header("x-forwarded-for")??e.req.header("x-real-ip"),u=await Xt(n).createDeletionRequest(t.id,o.requestType,o.scope,o.reason,a);return T.info("Deletion request created",{requestId:r,requestType:o.requestType,userId:t.id}),e.json({data:u,meta:{requestId:r,createdAt:new Date().toISOString()}},201)}catch(a){let c=a instanceof Error?a.message:"Unknown error";return T.error("Failed to create deletion request",{error:c,requestId:r,userId:t.id}),c.includes("reten\xE7\xE3o legal")?e.json({code:"LEGAL_HOLD",error:c},403):e.json({code:"DELETION_REQUEST_ERROR",error:"Erro ao criar solicita\xE7\xE3o"},500)}});sr.get("/limits",B,async e=>{let{user:t,db:n}=e.get("auth"),o=e.get("requestId");try{let a=await Xt(n).getTransactionLimits(t.id);return e.json({data:a,meta:{requestId:o,retrievedAt:new Date().toISOString()}})}catch(r){return T.error("Failed to get transaction limits",{error:r instanceof Error?r.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"LIMITS_ERROR",error:"Erro ao buscar limites"},500)}});sr.post("/limits/check",B,X({windowMs:6e4,max:60,message:"Muitas verifica\xE7\xF5es"}),pe("json",Z5),async e=>{let{user:t,db:n}=e.get("auth"),o=e.req.valid("json"),r=e.get("requestId");try{let c=await Xt(n).checkTransactionLimit(t.id,o.limitType,o.amount);return e.json({data:c,meta:{requestId:r,checkedAt:new Date().toISOString()}})}catch(a){return T.error("Failed to check transaction limit",{amount:o.amount,error:a instanceof Error?a.message:"Unknown error",limitType:o.limitType,requestId:r,userId:t.id}),e.json({code:"LIMIT_CHECK_ERROR",error:"Erro ao verificar limite"},500)}});sr.get("/audit",B,X({windowMs:6e4,max:10,message:"Muitas requisi\xE7\xF5es"}),async e=>{let{user:t,db:n}=e.get("auth"),o=e.get("requestId");try{let r=Number(e.req.query("limit"))||50,a=e.req.query("eventType"),u=await Xt(n).getAuditHistory(t.id,{limit:r,eventType:a||void 0});return e.json({data:u,meta:{requestId:o,retrievedAt:new Date().toISOString()}})}catch(r){return T.error("Failed to get audit history",{error:r instanceof Error?r.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"AUDIT_ERROR",error:"Erro ao buscar hist\xF3rico"},500)}});var dx=sr;import{and as Rn,asc as px,count as V5,desc as Q1,eq as Rt,ilike as Pi,or as eN}from"drizzle-orm";var H5=/^\d{10,11}$/,Cp=s(e=>e?e.replace(/\D/g,""):e??void 0,"normalizeDigits"),tN=s(e=>({...e,cpf:e.cpf?Cp(e.cpf):e.cpf,email:e.email?.trim().toLowerCase(),phone:e.phone?Cp(e.phone):e.phone}),"sanitizeContactFields"),an=new ne,G5=i.object({cpf:i.string().optional(),email:i.string().email().optional(),isFavorite:i.boolean().default(!1),name:i.string().min(1,"Nome \xE9 obrigat\xF3rio"),notes:i.string().optional(),phone:i.string().optional()}),J5=i.object({cpf:i.string().optional().refine(e=>!e||DP(Cp(e)??""),"CPF inv\xE1lido"),email:i.string().email().optional(),id:i.string().uuid(),isFavorite:i.boolean().optional(),name:i.string().optional(),notes:i.string().optional(),phone:i.string().optional().refine(e=>!e||H5.test(Cp(e)??""),"Telefone inv\xE1lido")}),K5=i.object({isFavorite:i.boolean().optional(),limit:i.number().min(1).max(100).default(50),offset:i.number().default(0),search:i.string().optional()}),W5=i.object({limit:i.number().min(1).max(20).default(10),query:i.string().min(1,"Query de busca \xE9 obrigat\xF3ria")});an.get("/",B,X({windowMs:60*1e3,max:30,message:"Too many requests, please try again later"}),pe("query",K5),async e=>{let{user:t,db:n}=e.get("auth"),o=e.req.valid("query"),r=e.get("requestId");try{let a=[Rt(oe.userId,t.id)];if(o.search){let l=`%${o.search}%`,d=eN(Pi(oe.name,l),Pi(oe.email,l),Pi(oe.phone,l));d&&a.push(d)}o.isFavorite!==void 0&&a.push(Rt(oe.isFavorite,o.isFavorite));let[{total:c}]=await n.select({total:V5()}).from(oe).where(Rn(...a)),u=await n.select().from(oe).where(Rn(...a)).orderBy(Q1(oe.isFavorite),px(oe.name)).limit(o.limit).offset(o.offset);return e.json({data:{contacts:u,hasMore:c>o.offset+o.limit,total:c},meta:{requestId:r,retrievedAt:new Date().toISOString()}})}catch(a){return T.error("Failed to get contacts",{error:a instanceof Error?a.message:"Unknown error",requestId:r,userId:t.id}),e.json({code:"CONTACTS_ERROR",error:"Failed to retrieve contacts"},500)}});an.get("/:id",B,X({windowMs:60*1e3,max:30,message:"Too many requests, please try again later"}),async e=>{let{user:t,db:n}=e.get("auth"),o=e.req.param("id"),r=e.get("requestId");try{let[a]=await n.select().from(oe).where(Rn(Rt(oe.id,o),Rt(oe.userId,t.id))).limit(1);return a?e.json({data:a,meta:{requestId:r,retrievedAt:new Date().toISOString()}}):e.json({code:"NOT_FOUND",error:"Contato n\xE3o encontrado"},404)}catch(a){return T.error("Failed to get contact",{contactId:o,error:a instanceof Error?a.message:"Unknown error",requestId:r,userId:t.id}),e.json({code:"CONTACT_ERROR",error:"Failed to retrieve contact"},500)}});an.post("/",B,X({windowMs:60*1e3,max:20,message:"Too many creation attempts, please try again later"}),pe("json",G5),async e=>{let{user:t,db:n}=e.get("auth"),o=e.req.valid("json"),r=e.get("requestId");try{let a=tN(o),[c]=await n.insert(oe).values({userId:t.id,name:a.name,email:a.email??null,phone:a.phone??null,cpf:a.cpf??null,notes:a.notes??null,isFavorite:a.isFavorite??!1,createdAt:new Date,updatedAt:new Date}).returning();return T.info("Contact created",{contactId:c.id,contactName:o.name,requestId:r,userId:t.id}),e.json({data:c,meta:{createdAt:new Date().toISOString(),requestId:r}},201)}catch(a){return a instanceof Error&&a.message.includes("unique constraint")?e.json({code:"CONFLICT",error:"Email ou telefone j\xE1 cadastrado para este usu\xE1rio"},409):(T.error("Failed to create contact",{contactName:o.name,error:a instanceof Error?a.message:"Unknown error",requestId:r,userId:t.id}),e.json({code:"CONTACT_CREATE_ERROR",error:"Failed to create contact"},500))}});an.put("/:id",B,X({windowMs:60*1e3,max:30,message:"Too many update attempts, please try again later"}),pe("json",J5),async e=>{let{user:t,db:n}=e.get("auth"),o=e.req.param("id"),r=e.req.valid("json"),a=e.get("requestId");try{let{id:c,...u}=r,l=tN(u),d={updatedAt:new Date};l.name!==void 0&&(d.name=l.name),l.email!==void 0&&(d.email=l.email??null),l.phone!==void 0&&(d.phone=l.phone??null),l.cpf!==void 0&&(d.cpf=l.cpf??null),l.notes!==void 0&&(d.notes=l.notes??null),l.isFavorite!==void 0&&(d.isFavorite=l.isFavorite);let[p]=await n.update(oe).set(d).where(Rn(Rt(oe.id,o),Rt(oe.userId,t.id))).returning();return p?(T.info("Contact updated",{contactId:o,requestId:a,updatedFields:Object.keys(u).filter(m=>m!=="updatedAt"),userId:t.id}),e.json({data:p,meta:{requestId:a,updatedAt:new Date().toISOString()}})):e.json({code:"NOT_FOUND",error:"Contato n\xE3o encontrado"},404)}catch(c){return T.error("Failed to update contact",{contactId:o,error:c instanceof Error?c.message:"Unknown error",requestId:a,userId:t.id}),e.json({code:"CONTACT_UPDATE_ERROR",error:"Failed to update contact"},500)}});an.delete("/:id",B,X({windowMs:60*1e3,max:20,message:"Too many deletion attempts, please try again later"}),async e=>{let{user:t,db:n}=e.get("auth"),o=e.req.param("id"),r=e.get("requestId");try{let[a]=await n.delete(oe).where(Rn(Rt(oe.id,o),Rt(oe.userId,t.id))).returning();return a?(T.info("Contact deleted",{contactId:o,requestId:r,userId:t.id}),e.json({data:{id:o,success:!0},meta:{deletedAt:new Date().toISOString(),requestId:r}})):e.json({code:"NOT_FOUND",error:"Contato n\xE3o encontrado"},404)}catch(a){return T.error("Failed to delete contact",{contactId:o,error:a instanceof Error?a.message:"Unknown error",requestId:r,userId:t.id}),e.json({code:"CONTACT_DELETE_ERROR",error:"Failed to delete contact"},500)}});an.get("/search",B,X({windowMs:60*1e3,max:20,message:"Too many search attempts, please try again later"}),pe("query",W5),async e=>{let{user:t,db:n}=e.get("auth"),o=e.req.valid("query"),r=e.get("requestId");try{let a=`%${o.query}%`,c=await n.select({id:oe.id,name:oe.name,email:oe.email,phone:oe.phone,isFavorite:oe.isFavorite}).from(oe).where(Rn(Rt(oe.userId,t.id),eN(Pi(oe.name,a),Pi(oe.email,a),Pi(oe.phone,a)))).orderBy(Q1(oe.isFavorite),px(oe.name)).limit(o.limit);return T.info("Contacts searched",{requestId:r,resultsCount:c.length,searchQuery:o.query,userId:t.id}),e.json({data:c,meta:{requestId:r,retrievedAt:new Date().toISOString()}})}catch(a){return T.error("Failed to search contacts",{error:a instanceof Error?a.message:"Unknown error",requestId:r,searchQuery:o.query,userId:t.id}),e.json({code:"CONTACT_SEARCH_ERROR",error:"Failed to search contacts"},500)}});an.get("/favorites",B,X({windowMs:60*1e3,max:20,message:"Too many requests, please try again later"}),async e=>{let{user:t,db:n}=e.get("auth"),o=e.get("requestId");try{let r=await n.select().from(oe).where(Rn(Rt(oe.userId,t.id),Rt(oe.isFavorite,!0))).orderBy(px(oe.name));return T.info("Favorite contacts retrieved",{favoritesCount:r.length,requestId:o,userId:t.id}),e.json({data:r,meta:{requestId:o,retrievedAt:new Date().toISOString()}})}catch(r){return T.error("Failed to get favorite contacts",{error:r instanceof Error?r.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"FAVORITES_ERROR",error:"Failed to retrieve favorite contacts"},500)}});an.post("/:id/favorite",B,X({windowMs:60*1e3,max:30,message:"Too many toggle attempts, please try again later"}),async e=>{let{user:t,db:n}=e.get("auth"),o=e.req.param("id"),r=e.get("requestId");try{let[a]=await n.select({isFavorite:oe.isFavorite}).from(oe).where(Rn(Rt(oe.id,o),Rt(oe.userId,t.id))).limit(1);if(!a)return e.json({code:"NOT_FOUND",error:"Contato n\xE3o encontrado"},404);let[c]=await n.update(oe).set({isFavorite:!a.isFavorite,updatedAt:new Date}).where(Rn(Rt(oe.id,o),Rt(oe.userId,t.id))).returning();return T.info("Contact favorite status toggled",{contactId:o,newStatus:!a.isFavorite,previousStatus:a.isFavorite,requestId:r,userId:t.id}),e.json({data:c,meta:{requestId:r,updatedAt:new Date().toISOString()}})}catch(a){return T.error("Failed to toggle favorite status",{contactId:o,error:a instanceof Error?a.message:"Unknown error",requestId:r,userId:t.id}),e.json({code:"FAVORITE_TOGGLE_ERROR",error:"Failed to toggle favorite status"},500)}});an.get("/stats",B,X({windowMs:60*1e3,max:10,message:"Too many requests, please try again later"}),async e=>{let{user:t,db:n}=e.get("auth"),o=e.get("requestId");try{let r=await n.select({isFavorite:oe.isFavorite,email:oe.email,phone:oe.phone}).from(oe).where(Rt(oe.userId,t.id)),a=r.length,c=r.filter(d=>d.isFavorite).length,u=r.filter(d=>d.email).length,l=r.filter(d=>d.phone).length;return e.json({data:{contactsWithEmail:u,contactsWithPhone:l,favoriteContacts:c,favoritePercentage:a>0?c/a*100:0,totalContacts:a},meta:{requestId:o,retrievedAt:new Date().toISOString()}})}catch(r){return T.error("Failed to get contact statistics",{error:r instanceof Error?r.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"CONTACT_STATS_ERROR",error:"Failed to retrieve contact statistics"},500)}});var mx=an;var sn=new ne,pu={code:"NOT_IMPLEMENTED",error:"Google Calendar sync is temporarily unavailable during migration. Please check back later.",message:"Esta funcionalidade est\xE1 temporariamente indispon\xEDvel durante a migra\xE7\xE3o do sistema."},On=X({max:30,message:"Muitas requisi\xE7\xF5es, tente novamente mais tarde",windowMs:60*1e3});sn.get("/sync/status",B,On,async e=>{let{user:t}=e.get("auth"),n=e.get("requestId");return T.info("Google Calendar status requested (not implemented)",{requestId:n,userId:t.id}),e.json({data:{googleEmail:null,isConnected:!1,isEnabled:!1,lastSyncAt:null,migrationNotice:"Google Calendar sync is being migrated to new infrastructure"},meta:{requestId:n,retrievedAt:new Date().toISOString()}},200)});sn.get("/sync/settings",B,On,async e=>{let t=e.get("requestId");return e.json({data:null,meta:{requestId:t,retrievedAt:new Date().toISOString(),notice:"Google Calendar sync is being migrated"}},200)});sn.get("/sync/history",B,On,async e=>{let t=e.get("requestId");return e.json({data:[],meta:{requestId:t,retrievedAt:new Date().toISOString(),notice:"Google Calendar sync is being migrated"}},200)});sn.put("/sync/settings",B,On,async e=>{let t=e.get("requestId");return e.json({...pu,meta:{requestId:t}},501)});sn.post("/sync/full",B,On,async e=>{let t=e.get("requestId");return e.json({...pu,meta:{requestId:t}},501)});sn.post("/sync/incremental",B,On,async e=>{let t=e.get("requestId");return e.json({...pu,meta:{requestId:t}},501)});sn.post("/sync/event",B,On,async e=>{let t=e.get("requestId");return e.json({...pu,meta:{requestId:t}},501)});sn.post("/sync/channel/renew",B,On,async e=>{let t=e.get("requestId");return e.json({...pu,meta:{requestId:t}},501)});sn.get("/sync/conflicts",B,On,async e=>{let t=e.get("requestId");return e.json({data:[],meta:{requestId:t,retrievedAt:new Date().toISOString(),notice:"Google Calendar sync is being migrated"}},200)});var fx=sn;var mu=new ne,b0e=i.object({services:i.object({database:i.enum(["connected","disconnected","error"]),api:i.enum(["operational","degraded","down"]),auth:i.enum(["operational","degraded","down"])}),status:i.enum(["ok","error"]),timestamp:i.string(),uptime:i.number(),version:i.string()});async function rN(e){let t=Date.now();try{let n="error";try{n="connected"}catch(a){T.error("Database health check failed",{error:a}),n="error"}let o=n==="connected",r={services:{database:n,api:o?"operational":"down",auth:o?"operational":"down"},status:o?"ok":"error",timestamp:new Date().toISOString(),uptime:process.uptime(),version:"1.0.0"};return T.info("Health check completed",{databaseStatus:n,duration:Date.now()-t,status:r.status}),e.json(r)}catch(n){return T.error("Health check error",{duration:Date.now()-t,error:n instanceof Error?n.message:"Unknown error"}),e.json({services:{database:"error",api:"down",auth:"down"},status:"error",timestamp:new Date().toISOString(),uptime:process.uptime(),version:"1.0.0"},500)}}s(rN,"healthCheckHandler");mu.get("/",rN);mu.get("/health",rN);mu.get("/ping",e=>e.json({message:"pong",timestamp:new Date().toISOString(),version:"v1"}));mu.get("/auth",async e=>{let t=e.get("auth");return e.json({authenticated:!!t,services:{database:"connected",api:"operational",auth:"operational"},status:"ok",timestamp:new Date().toISOString(),user:t?{id:t.user.id,email:t.user.email}:null,version:"1.0.0"})});var hx=mu;import{and as fu,desc as X5,eq as hr,gte as nN,ilike as Y5,lte as oN}from"drizzle-orm";var Q5=i.object({limit:i.coerce.number().int().min(1).max(100).default(50),offset:i.coerce.number().int().min(0).default(0),categoryId:i.string().optional(),accountId:i.string().optional(),type:i.enum(["transfer","debit","credit","pix","boleto"]).optional(),status:i.enum(["cancelled","failed","pending","posted"]).optional(),startDate:i.string().optional(),endDate:i.string().optional(),search:i.string().optional()}),aN=i.object({amount:i.number(),categoryId:i.string().optional(),description:i.string(),transactionType:i.enum(["transfer","debit","credit","pix","boleto"]),status:i.enum(["cancelled","failed","pending","posted"]).default("pending"),transactionDate:i.string().optional(),accountId:i.string().optional(),paymentMethod:i.string().optional(),merchantName:i.string().optional(),notes:i.string().optional(),tags:i.array(i.string()).optional()}),e3=i.object({period:i.enum(["week","month","quarter","year"]).default("month"),accountId:i.string().optional()}),Ai=new ne;Ai.get("/",B,X({windowMs:60*1e3,max:30,message:"Too many requests, please try again later"}),pe("query",Q5),async e=>{let{user:t,db:n}=e.get("auth"),o=e.req.valid("query"),r=e.get("requestId");try{let a=[hr(R.userId,t.id)];o.categoryId&&a.push(hr(R.categoryId,o.categoryId)),o.accountId&&a.push(hr(R.accountId,o.accountId)),o.type&&a.push(hr(R.transactionType,o.type)),o.status&&a.push(hr(R.status,o.status)),o.startDate&&a.push(nN(R.transactionDate,new Date(o.startDate))),o.endDate&&a.push(oN(R.transactionDate,new Date(o.endDate))),o.search&&a.push(Y5(R.description,`%${o.search}%`));let c=await n.select().from(R).where(fu(...a)).orderBy(X5(R.createdAt)).limit(o.limit).offset(o.offset);return e.json({data:c,meta:{requestId:r,retrievedAt:new Date().toISOString(),total:c.length}})}catch(a){return T.error("Failed to get transactions",{error:a instanceof Error?a.message:"Unknown error",requestId:r,userId:t.id}),e.json({code:"TRANSACTIONS_ERROR",error:"Failed to retrieve transactions"},500)}});Ai.get("/statistics",B,X({windowMs:60*1e3,max:20,message:"Too many requests, please try again later"}),pe("query",e3),async e=>{let{user:t,db:n}=e.get("auth"),{period:o}=e.req.valid("query"),r=e.get("requestId");try{let a=new Date,c=new Date;switch(o){case"week":c.setDate(a.getDate()-7);break;case"month":c.setMonth(a.getMonth()-1);break;case"quarter":c.setMonth(a.getMonth()-3);break;case"year":c.setFullYear(a.getFullYear()-1);break}let u=await n.select().from(R).where(fu(hr(R.userId,t.id),nN(R.transactionDate,c),oN(R.transactionDate,a))),l=u.reduce((m,f)=>m+Number(f.amount),0),d=u.filter(m=>Number(m.amount)<0).reduce((m,f)=>m+Math.abs(Number(f.amount)),0),p=u.filter(m=>Number(m.amount)>0).reduce((m,f)=>m+Number(f.amount),0);return e.json({data:{balance:l,expenses:d,income:p,period:o,transactionsCount:u.length},meta:{requestId:r,retrievedAt:new Date().toISOString()}})}catch(a){return T.error("Failed to get transaction statistics",{error:a instanceof Error?a.message:"Unknown error",requestId:r,userId:t.id}),e.json({code:"STATISTICS_ERROR",error:"Failed to retrieve statistics"},500)}});Ai.post("/",B,X({windowMs:60*1e3,max:10,message:"Too many transaction creation attempts, please try again later"}),pe("json",aN),async e=>{let{user:t,db:n}=e.get("auth"),o=e.req.valid("json"),r=e.get("requestId");try{let a=new Date,[c]=await n.insert(R).values({userId:t.id,amount:o.amount.toString(),description:o.description,transactionType:o.transactionType,status:o.status,transactionDate:o.transactionDate?new Date(o.transactionDate):a,categoryId:o.categoryId,accountId:o.accountId,paymentMethod:o.paymentMethod,merchantName:o.merchantName,notes:o.notes,tags:o.tags,isManualEntry:!0}).returning();return T.info("Transaction created",{amount:o.amount,requestId:r,transactionId:c.id,type:o.transactionType,userId:t.id}),e.json({data:c,meta:{createdAt:new Date().toISOString(),requestId:r}},201)}catch(a){return T.error("Failed to create transaction",{amount:o.amount,error:a instanceof Error?a.message:"Unknown error",requestId:r,type:o.transactionType,userId:t.id}),e.json({code:"TRANSACTION_CREATE_ERROR",error:"Failed to create transaction"},500)}});Ai.put("/:id",B,X({windowMs:60*1e3,max:30,message:"Too many update attempts, please try again later"}),pe("json",aN.partial()),async e=>{let{user:t,db:n}=e.get("auth"),o=e.req.param("id"),r=e.req.valid("json"),a=e.get("requestId");try{let[c]=await n.select({id:R.id}).from(R).where(fu(hr(R.id,o),hr(R.userId,t.id))).limit(1);if(!c)return e.json({code:"NOT_FOUND",error:"Transa\xE7\xE3o n\xE3o encontrada"},404);let u={updatedAt:new Date};r.description!==void 0&&(u.description=r.description),r.amount!==void 0&&(u.amount=r.amount.toString()),r.transactionType!==void 0&&(u.transactionType=r.transactionType),r.status!==void 0&&(u.status=r.status),r.categoryId!==void 0&&(u.categoryId=r.categoryId),r.accountId!==void 0&&(u.accountId=r.accountId),r.paymentMethod!==void 0&&(u.paymentMethod=r.paymentMethod),r.merchantName!==void 0&&(u.merchantName=r.merchantName),r.notes!==void 0&&(u.notes=r.notes),r.tags!==void 0&&(u.tags=r.tags);let[l]=await n.update(R).set(u).where(fu(hr(R.id,o),hr(R.userId,t.id))).returning();return T.info("Transaction updated",{requestId:a,transactionId:o,userId:t.id}),e.json({data:l,meta:{updatedAt:new Date().toISOString(),requestId:a}})}catch(c){return T.error("Failed to update transaction",{error:c instanceof Error?c.message:"Unknown error",requestId:a,transactionId:o,userId:t.id}),e.json({code:"TRANSACTION_UPDATE_ERROR",error:"Failed to update transaction"},500)}});Ai.delete("/:id",B,X({windowMs:60*1e3,max:20,message:"Too many deletion attempts, please try again later"}),async e=>{let{user:t,db:n}=e.get("auth"),o=e.req.param("id"),r=e.get("requestId");try{return(await n.delete(R).where(fu(hr(R.id,o),hr(R.userId,t.id))).returning()).length===0?e.json({code:"NOT_FOUND",error:"Transa\xE7\xE3o n\xE3o encontrada ou permiss\xE3o negada"},404):(T.info("Transaction deleted",{requestId:r,transactionId:o,userId:t.id}),e.json({data:{success:!0},meta:{deletedAt:new Date().toISOString(),requestId:r}}))}catch(a){return T.error("Failed to delete transaction",{error:a instanceof Error?a.message:"Unknown error",requestId:r,transactionId:o,userId:t.id}),e.json({code:"TRANSACTION_DELETE_ERROR",error:"Failed to delete transaction"},500)}});var gx=Ai;import{and as t3,eq as Zo,gte as r3,lte as n3}from"drizzle-orm";var o3=i.object({full_name:i.string().optional(),phone:i.string().optional(),cpf:i.string().optional(),birth_date:i.string().optional(),profile_image_url:i.string().url().optional()}),a3=i.record(i.string(),i.any()),i3=i.object({period_start:i.string(),period_end:i.string()}),iN=["theme","notificationsEmail","notificationsPush","notificationsSms","autoCategorize","budgetAlerts","voiceFeedback","accessibilityHighContrast","accessibilityLargeText","accessibilityScreenReader"],Vo=new ne;Vo.get("/me",B,X({windowMs:60*1e3,max:30,message:"Too many requests, please try again later"}),async e=>{let{user:t,db:n}=e.get("auth"),o=e.get("requestId");try{let[r]=await n.select().from(k).where(Zo(k.id,t.id)).limit(1);return e.json({data:r||null,meta:{requestId:o,retrievedAt:new Date().toISOString()}})}catch(r){return T.error("Failed to get user profile",{error:r instanceof Error?r.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"PROFILE_ERROR",error:"Failed to retrieve profile"},500)}});Vo.put("/me",B,X({windowMs:60*1e3,max:20,message:"Too many update attempts, please try again later"}),pe("json",o3),async e=>{let{user:t,db:n}=e.get("auth"),o=e.req.valid("json"),r=e.get("requestId");try{let a={updatedAt:new Date};o.full_name&&(a.fullName=o.full_name),o.phone&&(a.phone=o.phone),o.cpf&&(a.cpf=o.cpf),o.birth_date&&(a.birthDate=o.birth_date),o.profile_image_url&&(a.profileImageUrl=o.profile_image_url);let[c]=await n.update(k).set(a).where(Zo(k.id,t.id)).returning();return T.info("User profile updated",{requestId:r,userId:t.id}),e.json({data:c,meta:{requestId:r,updatedAt:new Date().toISOString()}})}catch(a){return T.error("Failed to update user profile",{error:a instanceof Error?a.message:"Unknown error",requestId:r,userId:t.id}),e.json({code:"PROFILE_UPDATE_ERROR",error:"Failed to update profile"},500)}});Vo.put("/me/preferences",B,X({windowMs:60*1e3,max:20,message:"Too many update attempts, please try again later"}),pe("json",a3),async e=>{let{user:t,db:n}=e.get("auth"),o=e.req.valid("json"),r=e.get("requestId");try{let[a]=await n.select({id:Zt.id}).from(Zt).where(Zo(Zt.userId,t.id)).limit(1),c;if(a){let u={updatedAt:new Date};for(let l of iN)o[l]!==void 0&&(u[l]=o[l]);[c]=await n.update(Zt).set(u).where(Zo(Zt.id,a.id)).returning()}else{let u={userId:t.id,createdAt:new Date,updatedAt:new Date};for(let l of iN)o[l]!==void 0&&(u[l]=o[l]);[c]=await n.insert(Zt).values(u).returning()}return T.info("User preferences updated",{requestId:r,userId:t.id}),e.json({data:c,meta:{requestId:r,updatedAt:new Date().toISOString()}})}catch(a){return T.error("Failed to update user preferences",{error:a instanceof Error?a.message:"Unknown error",requestId:r,userId:t.id}),e.json({code:"PREFERENCES_UPDATE_ERROR",error:"Failed to update preferences"},500)}});Vo.post("/me/last-login",B,X({windowMs:60*1e3,max:10,message:"Too many requests, please try again later"}),async e=>{let{user:t,db:n}=e.get("auth"),o=e.get("requestId");try{return await n.update(k).set({lastLogin:new Date}).where(Zo(k.id,t.id)),e.json({data:{success:!0},meta:{requestId:o,updatedAt:new Date().toISOString()}})}catch(r){return T.warn("Failed to update last login",{error:r instanceof Error?r.message:"Unknown error",requestId:o,userId:t.id}),e.json({data:{success:!0},meta:{requestId:o,updatedAt:new Date().toISOString()}})}});Vo.get("/me/status",B,X({windowMs:60*1e3,max:30,message:"Too many requests, please try again later"}),async e=>{let{user:t,db:n}=e.get("auth"),o=e.get("requestId");try{let[r]=await n.select({isActive:k.isActive,lastLogin:k.lastLogin}).from(k).where(Zo(k.id,t.id)).limit(1);return r?e.json({data:{isActive:r.isActive,lastLogin:r.lastLogin?.toISOString()||null},meta:{requestId:o,retrievedAt:new Date().toISOString()}}):e.json({data:{isActive:!1,lastLogin:null},meta:{requestId:o,retrievedAt:new Date().toISOString()}})}catch(r){return T.error("Failed to check user status",{error:r instanceof Error?r.message:"Unknown error",requestId:o,userId:t.id}),e.json({data:{isActive:!1,lastLogin:null},meta:{requestId:o,retrievedAt:new Date().toISOString()}})}});Vo.get("/me/financial-summary",B,X({windowMs:60*1e3,max:20,message:"Too many requests, please try again later"}),pe("query",i3),async e=>{let{user:t,db:n}=e.get("auth"),{period_start:o,period_end:r}=e.req.valid("query"),a=e.get("requestId");try{let u=(await n.select({amount:Se.amount,isIncome:Se.isIncome}).from(Se).where(t3(Zo(Se.userId,t.id),r3(Se.createdAt,new Date(o)),n3(Se.createdAt,new Date(r))))).reduce((l,d)=>{let p=Number(d.amount);return d.isIncome?(l.income+=p,l.balance+=p):(l.expenses+=p,l.balance-=p),l},{income:0,expenses:0,balance:0});return e.json({data:u,meta:{requestId:a,retrievedAt:new Date().toISOString()}})}catch(c){return T.error("Failed to get financial summary",{error:c instanceof Error?c.message:"Unknown error",requestId:a,userId:t.id}),e.json({code:"FINANCIAL_SUMMARY_ERROR",error:"Failed to retrieve financial summary"},500)}});var yx=Vo;function s3(e){let t=e.toLowerCase().trim(),n={},o=[{intent:"check_balance",patterns:["saldo","quanto tenho","quanto dinheiro","verificar saldo"]},{intent:"transfer_money",patterns:["transferir","pagar","enviar dinheiro","mandar dinheiro"],entityExtractor:s(r=>c3(r,n),"entityExtractor")},{intent:"pay_bill",patterns:["conta","boleto","pagar conta","pagar boleto"],entityExtractor:s(()=>u3(t,n),"entityExtractor")},{intent:"transaction_history",patterns:["extrato","transa\xE7\xF5es","historico","compras"]},{intent:"pix_transfer",patterns:["pix","fazer pix"],entityExtractor:s(r=>l3(r,n),"entityExtractor")}];for(let{intent:r,patterns:a,entityExtractor:c}of o)if(a.some(u=>t.includes(u)))return c&&c(e),{intent:r,entities:n,confidence:.9};return{intent:"unknown",entities:n,confidence:.3}}s(s3,"detectIntentAndEntities");function c3(e,t){let n=e.match(/r?\$?\s*(\d+(?:,\d{1,2})?)/i);if(n){let r=Number.parseFloat(n[1].replace(",","."));t.amount=r,t.currency="BRL"}let o=e.match(/(?:para|para o|para a)\s+([a-z-\s]{2,30})/i);o&&(t.recipient=o[1].trim())}s(c3,"extractTransferEntities");function u3(e,t){e.includes("luz")?t.billType="electricity":e.includes("\xE1gua")?t.billType="water":e.includes("telefone")?t.billType="phone":e.includes("internet")&&(t.billType="internet")}s(u3,"extractBillEntities");function l3(e,t){let n=e.match(/([a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,})/),o=e.match(/\(?(\d{2})?\)?\s?(\d{4,5})-?(\d{4})/),r=e.match(/\b\d{3}\.?\d{3}\.?\d{3}-?\d{2}\b/);n?(t.pixKey=n[1],t.pixKeyType="EMAIL"):o?(t.pixKey=o[0],t.pixKeyType="PHONE"):r&&(t.pixKey=r[0],t.pixKeyType="CPF")}s(l3,"extractPixEntities");function d3(e,t){switch(e){case"check_balance":return"Verificando seu saldo...";case"transfer_money":return t.amount&&t.recipient?`Preparando transfer\xEAncia de R$ ${t.amount} para ${t.recipient}`:"Entendi que quer transferir dinheiro. Para quem e quanto?";case"pay_bill":return"Buscando suas contas a pagar...";case"transaction_history":return"Mostrando seu hist\xF3rico de transa\xE7\xF5es...";case"pix_transfer":return"Preparando transfer\xEAncia PIX...";default:return"N\xE3o entendi o comando. Pode repetir?"}}s(d3,"generateResponse");async function sN(e){let{commandText:t,sessionId:n,language:o,requireConfirmation:r,userId:a}=e,c=t??"";await new Promise(y=>setTimeout(y,300));let{intent:u,entities:l,confidence:d}=s3(c),p=d<.8||(r??!1),m=d3(u,l);return{confidence:d,entities:l,intent:u,language:o??"pt-BR",processedAt:new Date().toISOString(),requiresConfirmation:p,response:m,sessionId:n}}s(sN,"processVoiceCommand");function cN(){return{commands:[{description:"Verificar saldo da conta",examples:["Qual \xE9 o meu saldo?","Quanto dinheiro eu tenho?","Mostrar meu saldo"],name:"check_balance"},{description:"Transferir dinheiro para outra conta",examples:["Transferir R$ 100 para Jo\xE3o","Pagar 50 reais para Maria","Enviar R$ 200 para o email teste@email.com"],name:"transfer_money"},{description:"Pagar contas e boletos",examples:["Pagar conta de luz","Pagar boleto do cart\xE3o","Quitar conta de telefone"],name:"pay_bill"},{description:"Fazer transfer\xEAncia PIX",examples:["Fazer PIX para o CPF 123.456.789-00","Enviar PIX para o telefone 11999999999","Transferir por PIX para maria@email.com"],name:"pix_transfer"},{description:"Ver hist\xF3rico de transa\xE7\xF5es",examples:["Mostrar minhas transa\xE7\xF5es","Ver extrato do m\xEAs","Hist\xF3rico de compras"],name:"transaction_history"}],language:"pt-BR"}}s(cN,"getAvailableCommands");var vx=new ne,p3=i.object({commandText:i.string().min(1).max(1e3).optional(),sessionId:i.string().uuid(),audioData:i.string().optional(),language:i.string().default("pt-BR"),requireConfirmation:i.boolean().default(!1)}).refine(e=>e.audioData||e.commandText,{message:"Dados de \xE1udio ou texto do comando s\xE3o obrigat\xF3rios",path:["audioData"]}),G0e=i.object({commands:i.array(i.object({description:i.string(),examples:i.array(i.string()),name:i.string()})),language:i.string()});vx.post("/process",B,X({windowMs:60*1e3,max:30,message:"Too many voice commands, please try again later"}),pe("json",p3),async e=>{let{user:t}=e.get("auth"),n=e.req.valid("json"),o=e.get("requestId"),{commandText:r,sessionId:a,audioData:c,language:u,requireConfirmation:l}=n,d=r??"";try{T.audit("Voice command processing started",{commandLength:d.length,component:"voice.processCommand",requestId:o,userId:t.id});let p=await sN({audioData:c,commandText:d,userId:t.id,context:{user:t},language:u,requireConfirmation:l,sessionId:a});return T.audit("Voice command processing completed",{command:d,requestId:o,result:p,sessionId:a,timestamp:new Date().toISOString(),userId:t.id}),e.json({data:p,meta:{processedAt:new Date().toISOString(),requestId:o}})}catch(p){return T.audit("Voice command processing failed",{command:d,error:p instanceof Error?p.message:"Unknown error",requestId:o,sessionId:a,timestamp:new Date().toISOString(),userId:t.id}),e.json({code:"VOICE_PROCESSING_ERROR",details:{command:d.substring(0,50)},error:"Failed to process voice command"},500)}});vx.get("/commands",B,X({windowMs:60*1e3,max:10,message:"Too many requests, please try again later"}),async e=>{let{user:t}=e.get("auth"),n=e.get("requestId");try{let o=cN();return T.info("Voice commands list accessed",{requestId:n,userId:t.id}),e.json({data:o,meta:{requestId:n,retrievedAt:new Date().toISOString()}})}catch(o){return T.error("Failed to get voice commands",{error:o instanceof Error?o.message:"Unknown error",requestId:n,userId:t.id}),e.json({code:"COMMANDS_RETRIEVAL_ERROR",error:"Failed to retrieve voice commands"},500)}});var _x=vx;var rt=new ne;rt.use("*",Zx());rt.use("*",Qx);rt.use("*",async(e,t)=>{let n=crypto.randomUUID();e.set("requestId",n),await t()});mS(rt);pS(rt);rt.route("/api/v1",hx);rt.route("/api/v1/voice",_x);rt.route("/api/v1/banking",eb);rt.route("/api/v1/contacts",mx);rt.route("/api/v1/bank-accounts",Q_);rt.route("/api/v1/users",yx);rt.route("/api/v1/transactions",gx);rt.route("/api/v1/calendar",ux);rt.route("/api/v1/google-calendar",fx);rt.route("/api/v1/compliance",dx);rt.route("/api/v1/billing",sx);rt.route("/api/v1/ai",wc);rt.route("/api/v1/agent",qv);rt.route("/cron",Xx);YS(rt);rt.notFound(e=>{let t=e.get("requestId");return T.warn("Route not found",{ip:e.req.header("X-Forwarded-For")||e.req.header("X-Real-IP")||"unknown",method:e.req.method,path:e.req.path,requestId:t,userAgent:e.req.header("User-Agent")||"unknown"}),e.json({error:"Not Found",message:`Route ${e.req.method} ${e.req.path} not found`,requestId:t,timestamp:new Date().toISOString()},404)});rt.onError((e,t)=>{let n=t.get("requestId");return T.error("Unhandled error",{error:e.message,method:t.req.method,path:t.req.path,requestId:n,stack:e.stack}),t.json({error:"Internal server error",requestId:n,timestamp:new Date().toISOString()},500)});var uN=rt;var xEe={runtime:"nodejs",maxDuration:30},wEe=zp(uN);export{xEe as config,wEe as default};
