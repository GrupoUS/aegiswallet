// AegisWallet API - Bundled for Vercel Node.js Runtime
// Generated at: 2025-12-03T12:49:13.422Z
// Entry: src/server/vercel.ts
// Format: ESM for Vercel Node.js 20.x

// Shim for CommonJS modules that use require()
import { createRequire } from 'node:module';
const require = createRequire(import.meta.url);

var V7=Object.create;var nl=Object.defineProperty;var Z7=Object.getOwnPropertyDescriptor;var K7=Object.getOwnPropertyNames;var G7=Object.getPrototypeOf,W7=Object.prototype.hasOwnProperty;var a=(e,t)=>nl(e,"name",{value:t,configurable:!0}),Q7=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var K=(e,t)=>()=>(e&&(t=e(e=0)),t);var D=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),yn=(e,t)=>{for(var r in t)nl(e,r,{get:t[r],enumerable:!0})},TN=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of K7(t))!W7.call(e,o)&&o!==r&&nl(e,o,{get:()=>t[o],enumerable:!(n=Z7(t,o))||n.enumerable});return e};var Xs=(e,t,r)=>(r=e!=null?V7(G7(e)):{},TN(t||!e||!e.__esModule?nl(r,"default",{value:e,enumerable:!0}):r,e)),X7=e=>TN(nl({},"__esModule",{value:!0}),e);function Y(e,t){if(!e||typeof e!="object")return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,j))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=Object.getPrototypeOf(e).constructor;if(r)for(;r;){if(j in r&&r[j]===t[j])return!0;r=Object.getPrototypeOf(r)}return!1}var j,vX,fe=K(()=>{j=Symbol.for("drizzle:entityKind"),vX=Symbol.for("drizzle:hasOwnEntityKind");a(Y,"is")});var bt,co=K(()=>{fe();bt=class{static{a(this,"Column")}constructor(t,r){this.table=t,this.config=r,this.name=r.name,this.keyAsName=r.keyAsName,this.notNull=r.notNull,this.default=r.default,this.defaultFn=r.defaultFn,this.onUpdateFn=r.onUpdateFn,this.hasDefault=r.hasDefault,this.primary=r.primaryKey,this.isUnique=r.isUnique,this.uniqueName=r.uniqueName,this.uniqueType=r.uniqueType,this.dataType=r.dataType,this.columnType=r.columnType,this.generated=r.generated,this.generatedIdentity=r.generatedIdentity}static[j]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(t){return t}mapToDriverValue(t){return t}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}});var cl,dw=K(()=>{fe();cl=class{static{a(this,"ColumnBuilder")}static[j]="ColumnBuilder";config;constructor(t,r,n){this.config={name:t,keyAsName:t==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:r,columnType:n,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(t){return this.config.default=t,this.config.hasDefault=!0,this}$defaultFn(t){return this.config.defaultFn=t,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(t){return this.config.onUpdateFn=t,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(t){this.config.name===""&&(this.config.name=t)}}});var lo,Hm=K(()=>{lo=Symbol.for("drizzle:Name")});var Vm,pw,mw=K(()=>{fe();Hm();Vm=class{static{a(this,"ForeignKeyBuilder")}static[j]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(t,r){this.reference=()=>{let{name:n,columns:o,foreignColumns:i}=t();return{name:n,columns:o,foreignTable:i[0].table,foreignColumns:i}},r&&(this._onUpdate=r.onUpdate,this._onDelete=r.onDelete)}onUpdate(t){return this._onUpdate=t===void 0?"no action":t,this}onDelete(t){return this._onDelete=t===void 0?"no action":t,this}build(t){return new pw(t,this)}},pw=class{static{a(this,"ForeignKey")}constructor(t,r){this.table=t,this.reference=r.reference,this.onUpdate=r._onUpdate,this.onDelete=r._onDelete}static[j]="PgForeignKey";reference;onUpdate;onDelete;getName(){let{name:t,columns:r,foreignColumns:n}=this.reference(),o=r.map(u=>u.name),i=n.map(u=>u.name),s=[this.table[lo],...o,n[0].table[lo],...i];return t??`${s.join("_")}_fk`}}});function Zm(e,...t){return e(...t)}var fw=K(()=>{a(Zm,"iife")});function yw(e,t){return`${e[lo]}_${t.join("_")}_unique`}var hw,tj,gw,vw=K(()=>{fe();Hm();a(yw,"uniqueKeyName");hw=class{static{a(this,"UniqueConstraintBuilder")}constructor(t,r){this.name=r,this.columns=t}static[j]="PgUniqueConstraintBuilder";columns;nullsNotDistinctConfig=!1;nullsNotDistinct(){return this.nullsNotDistinctConfig=!0,this}build(t){return new gw(t,this.columns,this.nullsNotDistinctConfig,this.name)}},tj=class{static{a(this,"UniqueOnConstraintBuilder")}static[j]="PgUniqueOnConstraintBuilder";name;constructor(t){this.name=t}on(...t){return new hw(t,this.name)}},gw=class{static{a(this,"UniqueConstraint")}constructor(t,r,n,o){this.table=t,this.columns=r,this.name=o??yw(this.table,this.columns.map(i=>i.name)),this.nullsNotDistinct=n}static[j]="PgUniqueConstraint";columns;name;nullsNotDistinct=!1;getName(){return this.name}}});function rj(e,t,r){for(let n=t;n<e.length;n++){let o=e[n];if(o==="\\"){n++;continue}if(o==='"')return[e.slice(t,n).replace(/\\/g,""),n+1];if(!r&&(o===","||o==="}"))return[e.slice(t,n).replace(/\\/g,""),n]}return[e.slice(t).replace(/\\/g,""),e.length]}function nj(e,t=0){let r=[],n=t,o=!1;for(;n<e.length;){let i=e[n];if(i===","){(o||n===t)&&r.push(""),o=!0,n++;continue}if(o=!1,i==="\\"){n+=2;continue}if(i==='"'){let[l,d]=rj(e,n+1,!0);r.push(l),n=d;continue}if(i==="}")return[r,n+1];if(i==="{"){let[l,d]=nj(e,n+1);r.push(l),n=d;continue}let[s,u]=rj(e,n,!1);r.push(s),n=u}return[r,n]}function oj(e){let[t]=nj(e,1);return t}function _w(e){return`{${e.map(t=>Array.isArray(t)?_w(t):typeof t=="string"?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}var bw=K(()=>{a(rj,"parsePgArrayValue");a(nj,"parsePgNestedArray");a(oj,"parsePgArray");a(_w,"makePgArray")});var Te,he,Sw,tu,ww,xw,ct=K(()=>{dw();co();fe();mw();fw();vw();bw();Te=class extends cl{static{a(this,"PgColumnBuilder")}foreignKeyConfigs=[];static[j]="PgColumnBuilder";array(t){return new ww(this.config.name,this,t)}references(t,r={}){return this.foreignKeyConfigs.push({ref:t,actions:r}),this}unique(t,r){return this.config.isUnique=!0,this.config.uniqueName=t,this.config.uniqueType=r?.nulls,this}generatedAlwaysAs(t){return this.config.generated={as:t,type:"always",mode:"stored"},this}buildForeignKeys(t,r){return this.foreignKeyConfigs.map(({ref:n,actions:o})=>Zm((i,s)=>{let u=new Vm(()=>{let l=i();return{columns:[t],foreignColumns:[l]}});return s.onUpdate&&u.onUpdate(s.onUpdate),s.onDelete&&u.onDelete(s.onDelete),u.build(r)},n,o))}buildExtraConfigColumn(t){return new Sw(t,this.config)}},he=class extends bt{static{a(this,"PgColumn")}constructor(t,r){r.uniqueName||(r.uniqueName=yw(t,[r.name])),super(t,r),this.table=t}static[j]="PgColumn"},Sw=class extends he{static{a(this,"ExtraConfigColumn")}static[j]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(t){return this.indexConfig.opClass=t,this}},tu=class{static{a(this,"IndexedColumn")}static[j]="IndexedColumn";constructor(t,r,n,o){this.name=t,this.keyAsName=r,this.type=n,this.indexConfig=o}name;keyAsName;type;indexConfig},ww=class extends Te{static{a(this,"PgArrayBuilder")}static[j]="PgArrayBuilder";constructor(t,r,n){super(t,"array","PgArray"),this.config.baseBuilder=r,this.config.size=n}build(t){let r=this.config.baseBuilder.build(t);return new xw(t,this.config,r)}},xw=class e extends he{static{a(this,"PgArray")}constructor(t,r,n,o){super(t,r),this.baseColumn=n,this.range=o,this.size=r.size}size;static[j]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(t){return typeof t=="string"&&(t=oj(t)),t.map(r=>this.baseColumn.mapFromDriverValue(r))}mapToDriverValue(t,r=!1){let n=t.map(o=>o===null?null:Y(this.baseColumn,e)?this.baseColumn.mapToDriverValue(o,!0):this.baseColumn.mapToDriverValue(o));return r?n:_w(n)}}});function ij(e){return!!e&&typeof e=="function"&&Km in e&&e[Km]===!0}function pr(e,t){return Array.isArray(t)?Iw(e,[...t],void 0):Ow(e,t,void 0)}function Iw(e,t,r){let n=Object.assign(o=>new Ew(o??"",n),{enumName:e,enumValues:t,schema:r,[Km]:!0});return n}function Ow(e,t,r){let n=Object.assign(o=>new Tw(o??"",n),{enumName:e,enumValues:Object.values(t),schema:r,[Km]:!0});return n}var Tw,kw,Km,Ew,Pw,Gm=K(()=>{fe();ct();Tw=class extends Te{static{a(this,"PgEnumObjectColumnBuilder")}static[j]="PgEnumObjectColumnBuilder";constructor(t,r){super(t,"string","PgEnumObjectColumn"),this.config.enum=r}build(t){return new kw(t,this.config)}},kw=class extends he{static{a(this,"PgEnumObjectColumn")}static[j]="PgEnumObjectColumn";enum;enumValues=this.config.enum.enumValues;constructor(t,r){super(t,r),this.enum=r.enum}getSQLType(){return this.enum.enumName}},Km=Symbol.for("drizzle:isPgEnum");a(ij,"isPgEnum");Ew=class extends Te{static{a(this,"PgEnumColumnBuilder")}static[j]="PgEnumColumnBuilder";constructor(t,r){super(t,"string","PgEnumColumn"),this.config.enum=r}build(t){return new Pw(t,this.config)}},Pw=class extends he{static{a(this,"PgEnumColumn")}static[j]="PgEnumColumn";enum=this.config.enum;enumValues=this.config.enum.enumValues;constructor(t,r){super(t,r),this.enum=r.enum}getSQLType(){return this.enum.enumName}};a(pr,"pgEnum");a(Iw,"pgEnumWithSchema");a(Ow,"pgEnumObjectWithSchema")});var tr,Xa,po=K(()=>{fe();tr=class{static{a(this,"Subquery")}static[j]="Subquery";constructor(t,r,n,o=!1,i=[]){this._={brand:"Subquery",sql:t,selectedFields:r,alias:n,isWith:o,usedTables:i}}},Xa=class extends tr{static{a(this,"WithSubquery")}static[j]="WithSubquery"}});var aj,sj=K(()=>{aj="0.44.7"});var Aw,Cw,br,Gi=K(()=>{fw();sj();br={startActiveSpan(e,t){return Aw?(Cw||(Cw=Aw.trace.getTracer("drizzle-orm",aj)),Zm((r,n)=>n.startActiveSpan(e,o=>{try{return t(o)}catch(i){throw o.setStatus({code:r.SpanStatusCode.ERROR,message:i instanceof Error?i.message:"Unknown error"}),i}finally{o.end()}}),Aw,Cw)):t()}}});var It,hi=K(()=>{It=Symbol.for("drizzle:ViewBaseConfig")});function _X(e){return typeof e=="object"&&e!==null&&uj in e}function Wr(e){return e[lo]}function Qi(e){return`${e[Wi]??"public"}.${e[lo]}`}var Wi,ll,Rw,Wm,Qm,ru,$w,uj,ge,Qr=K(()=>{fe();Hm();Wi=Symbol.for("drizzle:Schema"),ll=Symbol.for("drizzle:Columns"),Rw=Symbol.for("drizzle:ExtraConfigColumns"),Wm=Symbol.for("drizzle:OriginalName"),Qm=Symbol.for("drizzle:BaseName"),ru=Symbol.for("drizzle:IsAlias"),$w=Symbol.for("drizzle:ExtraConfigBuilder"),uj=Symbol.for("drizzle:IsDrizzleTable"),ge=class{static{a(this,"Table")}static[j]="Table";static Symbol={Name:lo,Schema:Wi,OriginalName:Wm,Columns:ll,ExtraConfigColumns:Rw,BaseName:Qm,IsAlias:ru,ExtraConfigBuilder:$w};[lo];[Wm];[Wi];[ll];[Rw];[Qm];[ru]=!1;[uj]=!0;[$w]=void 0;constructor(t,r,n){this[lo]=this[Wm]=t,this[Wi]=r,this[Qm]=n}};a(_X,"isTable");a(Wr,"getTableName");a(Qi,"getTableUniqueName")});function Xm(e){return e!=null&&typeof e.getSQL=="function"}function bX(e){let t={sql:"",params:[]};for(let r of e)t.sql+=r.sql,t.params.push(...r.params),r.typings?.length&&(t.typings||(t.typings=[]),t.typings.push(...r.typings));return t}function SX(e){return new Ya(e)}function jw(e){return typeof e=="object"&&e!==null&&"mapToDriverValue"in e&&typeof e.mapToDriverValue=="function"}function xX(e,t){return new Hr(e,t)}function M(e,...t){let r=[];(t.length>0||e.length>0&&e[0]!=="")&&r.push(new mr(e[0]));for(let[n,o]of t.entries())r.push(o,new mr(e[n+1]));return new be(r)}function TX(e){return new mo(e)}function gi(e,t){return e.map(r=>{if(Y(r,mo)){if(!(r.name in t))throw new Error(`No value for placeholder "${r.name}" was provided`);return t[r.name]}if(Y(r,Hr)&&Y(r.value,mo)){if(!(r.value.name in t))throw new Error(`No value for placeholder "${r.value.name}" was provided`);return r.encoder.mapToDriverValue(t[r.value.name])}return r})}function kX(e){return typeof e=="object"&&e!==null&&cj in e}function EX(e){return e[It].name}var Nw,mr,be,Ya,zw,Dw,wX,Hr,mo,cj,Vr,Zt=K(()=>{fe();Gm();po();Gi();hi();co();Qr();Nw=class{static{a(this,"FakePrimitiveParam")}static[j]="FakePrimitiveParam"};a(Xm,"isSQLWrapper");a(bX,"mergeQueries");mr=class{static{a(this,"StringChunk")}static[j]="StringChunk";value;constructor(t){this.value=Array.isArray(t)?t:[t]}getSQL(){return new be([this])}},be=class e{static{a(this,"SQL")}constructor(t){this.queryChunks=t;for(let r of t)if(Y(r,ge)){let n=r[ge.Symbol.Schema];this.usedTables.push(n===void 0?r[ge.Symbol.Name]:n+"."+r[ge.Symbol.Name])}}static[j]="SQL";decoder=zw;shouldInlineParams=!1;usedTables=[];append(t){return this.queryChunks.push(...t.queryChunks),this}toQuery(t){return br.startActiveSpan("drizzle.buildSQL",r=>{let n=this.buildQueryFromSourceParams(this.queryChunks,t);return r?.setAttributes({"drizzle.query.text":n.sql,"drizzle.query.params":JSON.stringify(n.params)}),n})}buildQueryFromSourceParams(t,r){let n=Object.assign({},r,{inlineParams:r.inlineParams||this.shouldInlineParams,paramStartIndex:r.paramStartIndex||{value:0}}),{casing:o,escapeName:i,escapeParam:s,prepareTyping:u,inlineParams:l,paramStartIndex:d}=n;return bX(t.map(p=>{if(Y(p,mr))return{sql:p.value.join(""),params:[]};if(Y(p,Ya))return{sql:i(p.value),params:[]};if(p===void 0)return{sql:"",params:[]};if(Array.isArray(p)){let f=[new mr("(")];for(let[m,y]of p.entries())f.push(y),m<p.length-1&&f.push(new mr(", "));return f.push(new mr(")")),this.buildQueryFromSourceParams(f,n)}if(Y(p,e))return this.buildQueryFromSourceParams(p.queryChunks,{...n,inlineParams:l||p.shouldInlineParams});if(Y(p,ge)){let f=p[ge.Symbol.Schema],m=p[ge.Symbol.Name];return{sql:f===void 0||p[ru]?i(m):i(f)+"."+i(m),params:[]}}if(Y(p,bt)){let f=o.getColumnCasing(p);if(r.invokeSource==="indexes")return{sql:i(f),params:[]};let m=p.table[ge.Symbol.Schema];return{sql:p.table[ru]||m===void 0?i(p.table[ge.Symbol.Name])+"."+i(f):i(m)+"."+i(p.table[ge.Symbol.Name])+"."+i(f),params:[]}}if(Y(p,Vr)){let f=p[It].schema,m=p[It].name;return{sql:f===void 0||p[It].isAlias?i(m):i(f)+"."+i(m),params:[]}}if(Y(p,Hr)){if(Y(p.value,mo))return{sql:s(d.value++,p),params:[p],typings:["none"]};let f=p.value===null?null:p.encoder.mapToDriverValue(p.value);if(Y(f,e))return this.buildQueryFromSourceParams([f],n);if(l)return{sql:this.mapInlineParam(f,n),params:[]};let m=["none"];return u&&(m=[u(p.encoder)]),{sql:s(d.value++,f),params:[f],typings:m}}return Y(p,mo)?{sql:s(d.value++,p),params:[p],typings:["none"]}:Y(p,e.Aliased)&&p.fieldAlias!==void 0?{sql:i(p.fieldAlias),params:[]}:Y(p,tr)?p._.isWith?{sql:i(p._.alias),params:[]}:this.buildQueryFromSourceParams([new mr("("),p._.sql,new mr(") "),new Ya(p._.alias)],n):ij(p)?p.schema?{sql:i(p.schema)+"."+i(p.enumName),params:[]}:{sql:i(p.enumName),params:[]}:Xm(p)?p.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([p.getSQL()],n):this.buildQueryFromSourceParams([new mr("("),p.getSQL(),new mr(")")],n):l?{sql:this.mapInlineParam(p,n),params:[]}:{sql:s(d.value++,p),params:[p],typings:["none"]}}))}mapInlineParam(t,{escapeString:r}){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return t.toString();if(typeof t=="string")return r(t);if(typeof t=="object"){let n=t.toString();return r(n==="[object Object]"?JSON.stringify(t):n)}throw new Error("Unexpected param value: "+t)}getSQL(){return this}as(t){return t===void 0?this:new e.Aliased(this,t)}mapWith(t){return this.decoder=typeof t=="function"?{mapFromDriverValue:t}:t,this}inlineParams(){return this.shouldInlineParams=!0,this}if(t){return t?this:void 0}},Ya=class{static{a(this,"Name")}constructor(t){this.value=t}static[j]="Name";brand;getSQL(){return new be([this])}};a(SX,"name");a(jw,"isDriverValueEncoder");zw={mapFromDriverValue:a(e=>e,"mapFromDriverValue")},Dw={mapToDriverValue:a(e=>e,"mapToDriverValue")},wX={...zw,...Dw},Hr=class{static{a(this,"Param")}constructor(t,r=Dw){this.value=t,this.encoder=r}static[j]="Param";brand;getSQL(){return new be([this])}};a(xX,"param");a(M,"sql");(e=>{function t(){return new be([])}a(t,"empty"),e.empty=t;function r(l){return new be(l)}a(r,"fromList"),e.fromList=r;function n(l){return new be([new mr(l)])}a(n,"raw"),e.raw=n;function o(l,d){let p=[];for(let[f,m]of l.entries())f>0&&d!==void 0&&p.push(d),p.push(m);return new be(p)}a(o,"join"),e.join=o;function i(l){return new Ya(l)}a(i,"identifier"),e.identifier=i;function s(l){return new mo(l)}a(s,"placeholder2"),e.placeholder=s;function u(l,d){return new Hr(l,d)}a(u,"param2"),e.param=u})(M||(M={}));(e=>{class t{static{a(this,"Aliased")}constructor(n,o){this.sql=n,this.fieldAlias=o}static[j]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new t(this.sql,this.fieldAlias)}}e.Aliased=t})(be||(be={}));mo=class{static{a(this,"Placeholder")}constructor(t){this.name=t}static[j]="Placeholder";getSQL(){return new be([this])}};a(TX,"placeholder");a(gi,"fillPlaceholders");cj=Symbol.for("drizzle:IsDrizzleView"),Vr=class{static{a(this,"View")}static[j]="View";[It];[cj]=!0;constructor({name:t,schema:r,selectedFields:n,query:o}){this[It]={name:t,originalName:t,schema:r,selectedFields:n,query:o,isExisting:!o,isAlias:!1}}getSQL(){return new be([this])}};a(kX,"isView");a(EX,"getViewName");bt.prototype.getSQL=function(){return new be([this])};ge.prototype.getSQL=function(){return new be([this])};tr.prototype.getSQL=function(){return new be([this])}});function nu(e,t){return new Proxy(e,new es(t,!1))}function PX(e,t){return new Proxy(e,new Ym(t))}function fo(e,t){return new Proxy(e,new Xi(new Proxy(e.table,new es(t,!1))))}function ef(e,t){return new be.Aliased(ou(e.sql,t),e.fieldAlias)}function ou(e,t){return M.join(e.queryChunks.map(r=>Y(r,bt)?fo(r,t):Y(r,be)?ou(r,t):Y(r,be.Aliased)?ef(r,t):r))}var Xi,es,Ym,tf=K(()=>{co();fe();Zt();Qr();hi();Xi=class{static{a(this,"ColumnAliasProxyHandler")}constructor(t){this.table=t}static[j]="ColumnAliasProxyHandler";get(t,r){return r==="table"?this.table:t[r]}},es=class{static{a(this,"TableAliasProxyHandler")}constructor(t,r){this.alias=t,this.replaceOriginalName=r}static[j]="TableAliasProxyHandler";get(t,r){if(r===ge.Symbol.IsAlias)return!0;if(r===ge.Symbol.Name)return this.alias;if(this.replaceOriginalName&&r===ge.Symbol.OriginalName)return this.alias;if(r===It)return{...t[It],name:this.alias,isAlias:!0};if(r===ge.Symbol.Columns){let o=t[ge.Symbol.Columns];if(!o)return o;let i={};return Object.keys(o).map(s=>{i[s]=new Proxy(o[s],new Xi(new Proxy(t,this)))}),i}let n=t[r];return Y(n,bt)?new Proxy(n,new Xi(new Proxy(t,this))):n}},Ym=class{static{a(this,"RelationTableAliasProxyHandler")}constructor(t){this.alias=t}static[j]="RelationTableAliasProxyHandler";get(t,r){return r==="sourceTable"?nu(t.sourceTable,this.alias):t[r]}};a(nu,"aliasedTable");a(PX,"aliasedRelation");a(fo,"aliasedTableColumn");a(ef,"mapColumnsInAliasedSQLToAlias");a(ou,"mapColumnsInSQLToAlias")});var iu,qo,dl,rf=K(()=>{fe();iu=class extends Error{static{a(this,"DrizzleError")}static[j]="DrizzleError";constructor({message:t,cause:r}){super(t),this.name="DrizzleError",this.cause=r}},qo=class e extends Error{static{a(this,"DrizzleQueryError")}constructor(t,r,n){super(`Failed query: ${t}
params: ${r}`),this.query=t,this.params=r,this.cause=n,Error.captureStackTrace(this,e),n&&(this.cause=n)}},dl=class extends iu{static{a(this,"TransactionRollbackError")}static[j]="TransactionRollbackError";constructor(){super({message:"Rollback"})}}});var nf,ts,rs,au=K(()=>{fe();nf=class{static{a(this,"ConsoleLogWriter")}static[j]="ConsoleLogWriter";write(t){console.log(t)}},ts=class{static{a(this,"DefaultLogger")}static[j]="DefaultLogger";writer;constructor(t){this.writer=t?.writer??new nf}logQuery(t,r){let n=r.map(i=>{try{return JSON.stringify(i)}catch{return String(i)}}),o=n.length?` -- params: [${n.join(", ")}]`:"";this.writer.write(`Query: ${t}${o}`)}},rs=class{static{a(this,"NoopLogger")}static[j]="NoopLogger";logQuery(){}}});var lj=K(()=>{});var qr,yi=K(()=>{fe();qr=class{static{a(this,"QueryPromise")}static[j]="QueryPromise";[Symbol.toStringTag]="QueryPromise";catch(t){return this.then(void 0,t)}finally(t){return this.then(r=>(t?.(),r),r=>{throw t?.(),r})}then(t,r){return this.execute().then(t,r)}}});function pl(e,t,r){let n={},o=e.reduce((i,{path:s,field:u},l)=>{let d;Y(u,bt)?d=u:Y(u,be)?d=u.decoder:d=u.sql.decoder;let p=i;for(let[f,m]of s.entries())if(f<s.length-1)m in p||(p[m]={}),p=p[m];else{let y=t[l],g=p[m]=y===null?null:d.mapFromDriverValue(y);if(r&&Y(u,bt)&&s.length===2){let h=s[0];h in n?typeof n[h]=="string"&&n[h]!==Wr(u.table)&&(n[h]=!1):n[h]=g===null?Wr(u.table):!1}}return i},{});if(r&&Object.keys(n).length>0)for(let[i,s]of Object.entries(n))typeof s=="string"&&!r[s]&&(o[i]=null);return o}function $n(e,t){return Object.entries(e).reduce((r,[n,o])=>{if(typeof n!="string")return r;let i=t?[...t,n]:[n];return Y(o,bt)||Y(o,be)||Y(o,be.Aliased)?r.push({path:i,field:o}):Y(o,ge)?r.push(...$n(o[ge.Symbol.Columns],i)):r.push(...$n(o,i)),r},[])}function su(e,t){let r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let[o,i]of r.entries())if(i!==n[o])return!1;return!0}function ml(e,t){let r=Object.entries(t).filter(([,n])=>n!==void 0).map(([n,o])=>Y(o,be)||Y(o,bt)?[n,o]:[n,new Hr(o,e[ge.Symbol.Columns][n])]);if(r.length===0)throw new Error("No values to set");return Object.fromEntries(r)}function Mw(e,t){for(let r of t)for(let n of Object.getOwnPropertyNames(r.prototype))n!=="constructor"&&Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(r.prototype,n)||Object.create(null))}function uu(e){return e[ge.Symbol.Columns]}function IX(e){return e[It].selectedFields}function Uo(e){return Y(e,tr)?e._.alias:Y(e,Vr)?e[It].name:Y(e,be)?void 0:e[ge.Symbol.IsAlias]?e[ge.Symbol.Name]:e[ge.Symbol.BaseName]}function lt(e,t){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:t}}function fl(e){if(typeof e!="object"||e===null||e.constructor.name!=="Object")return!1;if("logger"in e){let t=typeof e.logger;return!(t!=="boolean"&&(t!=="object"||typeof e.logger.logQuery!="function")&&t!=="undefined")}if("schema"in e){let t=typeof e.schema;return!(t!=="object"&&t!=="undefined")}if("casing"in e){let t=typeof e.casing;return!(t!=="string"&&t!=="undefined")}if("mode"in e)return!(e.mode!=="default"||e.mode!=="planetscale"||e.mode!==void 0);if("connection"in e){let t=typeof e.connection;return!(t!=="string"&&t!=="object"&&t!=="undefined")}if("client"in e){let t=typeof e.client;return!(t!=="object"&&t!=="function"&&t!=="undefined")}return Object.keys(e).length===0}var OX,Tt=K(()=>{co();fe();Zt();po();Qr();hi();a(pl,"mapResultRow");a($n,"orderSelectedFields");a(su,"haveSameKeys");a(ml,"mapUpdateSet");a(Mw,"applyMixins");a(uu,"getTableColumns");a(IX,"getViewSelectedFields");a(Uo,"getTableLikeName");a(lt,"getColumnNameAndConfig");a(fl,"isConfig");OX=typeof TextDecoder>"u"?null:new TextDecoder});var vi,hl=K(()=>{fe();ct();vi=class extends Te{static{a(this,"PgIntColumnBaseBuilder")}static[j]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(t){if(t){let{name:r,...n}=t;this.config.generatedIdentity={type:"always",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(t){if(t){let{name:r,...n}=t;this.config.generatedIdentity={type:"byDefault",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}});function dj(e,t){let{name:r,config:n}=lt(e,t);return n.mode==="number"?new qw(r):new Lw(r)}var qw,Uw,Lw,Fw,Jw=K(()=>{fe();Tt();ct();hl();qw=class extends vi{static{a(this,"PgBigInt53Builder")}static[j]="PgBigInt53Builder";constructor(t){super(t,"number","PgBigInt53")}build(t){return new Uw(t,this.config)}},Uw=class extends he{static{a(this,"PgBigInt53")}static[j]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}},Lw=class extends vi{static{a(this,"PgBigInt64Builder")}static[j]="PgBigInt64Builder";constructor(t){super(t,"bigint","PgBigInt64")}build(t){return new Fw(t,this.config)}},Fw=class extends he{static{a(this,"PgBigInt64")}static[j]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(t){return BigInt(t)}};a(dj,"bigint")});function pj(e,t){let{name:r,config:n}=lt(e,t);return n.mode==="number"?new Bw(r):new Vw(r)}var Bw,Hw,Vw,Zw,Kw=K(()=>{fe();Tt();ct();Bw=class extends Te{static{a(this,"PgBigSerial53Builder")}static[j]="PgBigSerial53Builder";constructor(t){super(t,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new Hw(t,this.config)}},Hw=class extends he{static{a(this,"PgBigSerial53")}static[j]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}},Vw=class extends Te{static{a(this,"PgBigSerial64Builder")}static[j]="PgBigSerial64Builder";constructor(t){super(t,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(t){return new Zw(t,this.config)}},Zw=class extends he{static{a(this,"PgBigSerial64")}static[j]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(t){return BigInt(t)}};a(pj,"bigserial")});function _e(e){return new Gw(e??"")}var Gw,Ww,Qw=K(()=>{fe();ct();Gw=class extends Te{static{a(this,"PgBooleanBuilder")}static[j]="PgBooleanBuilder";constructor(t){super(t,"boolean","PgBoolean")}build(t){return new Ww(t,this.config)}},Ww=class extends he{static{a(this,"PgBoolean")}static[j]="PgBoolean";getSQLType(){return"boolean"}};a(_e,"boolean")});function mj(e,t={}){let{name:r,config:n}=lt(e,t);return new Xw(r,n)}var Xw,Yw,ex=K(()=>{fe();Tt();ct();Xw=class extends Te{static{a(this,"PgCharBuilder")}static[j]="PgCharBuilder";constructor(t,r){super(t,"string","PgChar"),this.config.length=r.length,this.config.enumValues=r.enum}build(t){return new Yw(t,this.config)}},Yw=class extends he{static{a(this,"PgChar")}static[j]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"char":`char(${this.length})`}};a(mj,"char")});function fj(e){return new tx(e??"")}var tx,rx,nx=K(()=>{fe();ct();tx=class extends Te{static{a(this,"PgCidrBuilder")}static[j]="PgCidrBuilder";constructor(t){super(t,"string","PgCidr")}build(t){return new rx(t,this.config)}},rx=class extends he{static{a(this,"PgCidr")}static[j]="PgCidr";getSQLType(){return"cidr"}};a(fj,"cidr")});function hj(e){return(t,r)=>{let{name:n,config:o}=lt(t,r);return new ox(n,o,e)}}var ox,ix,ax=K(()=>{fe();Tt();ct();ox=class extends Te{static{a(this,"PgCustomColumnBuilder")}static[j]="PgCustomColumnBuilder";constructor(t,r,n){super(t,"custom","PgCustomColumn"),this.config.fieldConfig=r,this.config.customTypeParams=n}build(t){return new ix(t,this.config)}},ix=class extends he{static{a(this,"PgCustomColumn")}static[j]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(t,r){super(t,r),this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(t){return typeof this.mapFrom=="function"?this.mapFrom(t):t}mapToDriverValue(t){return typeof this.mapTo=="function"?this.mapTo(t):t}};a(hj,"customType")});var Lo,of=K(()=>{fe();Zt();ct();Lo=class extends Te{static{a(this,"PgDateColumnBaseBuilder")}static[j]="PgDateColumnBaseBuilder";defaultNow(){return this.default(M`now()`)}}});function Zr(e,t){let{name:r,config:n}=lt(e,t);return n?.mode==="date"?new sx(r):new ux(r)}var sx,gl,ux,yl,cx=K(()=>{fe();Tt();ct();of();sx=class extends Lo{static{a(this,"PgDateBuilder")}static[j]="PgDateBuilder";constructor(t){super(t,"date","PgDate")}build(t){return new gl(t,this.config)}},gl=class extends he{static{a(this,"PgDate")}static[j]="PgDate";getSQLType(){return"date"}mapFromDriverValue(t){return new Date(t)}mapToDriverValue(t){return t.toISOString()}},ux=class extends Lo{static{a(this,"PgDateStringBuilder")}static[j]="PgDateStringBuilder";constructor(t){super(t,"string","PgDateString")}build(t){return new yl(t,this.config)}},yl=class extends he{static{a(this,"PgDateString")}static[j]="PgDateString";getSQLType(){return"date"}};a(Zr,"date")});function gj(e){return new lx(e??"")}var lx,dx,px=K(()=>{fe();ct();lx=class extends Te{static{a(this,"PgDoublePrecisionBuilder")}static[j]="PgDoublePrecisionBuilder";constructor(t){super(t,"number","PgDoublePrecision")}build(t){return new dx(t,this.config)}},dx=class extends he{static{a(this,"PgDoublePrecision")}static[j]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(t){return typeof t=="string"?Number.parseFloat(t):t}};a(gj,"doublePrecision")});function Nn(e){return new mx(e??"")}var mx,fx,hx=K(()=>{fe();ct();mx=class extends Te{static{a(this,"PgInetBuilder")}static[j]="PgInetBuilder";constructor(t){super(t,"string","PgInet")}build(t){return new fx(t,this.config)}},fx=class extends he{static{a(this,"PgInet")}static[j]="PgInet";getSQLType(){return"inet"}};a(Nn,"inet")});function Ot(e){return new gx(e??"")}var gx,yx,vx=K(()=>{fe();ct();hl();gx=class extends vi{static{a(this,"PgIntegerBuilder")}static[j]="PgIntegerBuilder";constructor(t){super(t,"number","PgInteger")}build(t){return new yx(t,this.config)}},yx=class extends he{static{a(this,"PgInteger")}static[j]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(t){return typeof t=="string"?Number.parseInt(t):t}};a(Ot,"integer")});function yj(e,t={}){let{name:r,config:n}=lt(e,t);return new _x(r,n)}var _x,bx,Sx=K(()=>{fe();Tt();ct();_x=class extends Te{static{a(this,"PgIntervalBuilder")}static[j]="PgIntervalBuilder";constructor(t,r){super(t,"string","PgInterval"),this.config.intervalConfig=r}build(t){return new bx(t,this.config)}},bx=class extends he{static{a(this,"PgInterval")}static[j]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){let t=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${t}${r}`}};a(yj,"interval")});function vj(e){return new wx(e??"")}var wx,vl,xx=K(()=>{fe();ct();wx=class extends Te{static{a(this,"PgJsonBuilder")}static[j]="PgJsonBuilder";constructor(t){super(t,"json","PgJson")}build(t){return new vl(t,this.config)}},vl=class extends he{static{a(this,"PgJson")}static[j]="PgJson";constructor(t,r){super(t,r)}getSQLType(){return"json"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}};a(vj,"json")});function at(e){return new Tx(e??"")}var Tx,_l,kx=K(()=>{fe();ct();Tx=class extends Te{static{a(this,"PgJsonbBuilder")}static[j]="PgJsonbBuilder";constructor(t){super(t,"json","PgJsonb")}build(t){return new _l(t,this.config)}},_l=class extends he{static{a(this,"PgJsonb")}static[j]="PgJsonb";constructor(t,r){super(t,r)}getSQLType(){return"jsonb"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}};a(at,"jsonb")});function _j(e,t){let{name:r,config:n}=lt(e,t);return!n?.mode||n.mode==="tuple"?new Ex(r):new Ix(r)}var Ex,Px,Ix,Ox,Ax=K(()=>{fe();Tt();ct();Ex=class extends Te{static{a(this,"PgLineBuilder")}static[j]="PgLineBuilder";constructor(t){super(t,"array","PgLine")}build(t){return new Px(t,this.config)}},Px=class extends he{static{a(this,"PgLineTuple")}static[j]="PgLine";getSQLType(){return"line"}mapFromDriverValue(t){let[r,n,o]=t.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n),Number.parseFloat(o)]}mapToDriverValue(t){return`{${t[0]},${t[1]},${t[2]}}`}},Ix=class extends Te{static{a(this,"PgLineABCBuilder")}static[j]="PgLineABCBuilder";constructor(t){super(t,"json","PgLineABC")}build(t){return new Ox(t,this.config)}},Ox=class extends he{static{a(this,"PgLineABC")}static[j]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(t){let[r,n,o]=t.slice(1,-1).split(",");return{a:Number.parseFloat(r),b:Number.parseFloat(n),c:Number.parseFloat(o)}}mapToDriverValue(t){return`{${t.a},${t.b},${t.c}}`}};a(_j,"line")});function bj(e){return new Cx(e??"")}var Cx,Rx,$x=K(()=>{fe();ct();Cx=class extends Te{static{a(this,"PgMacaddrBuilder")}static[j]="PgMacaddrBuilder";constructor(t){super(t,"string","PgMacaddr")}build(t){return new Rx(t,this.config)}},Rx=class extends he{static{a(this,"PgMacaddr")}static[j]="PgMacaddr";getSQLType(){return"macaddr"}};a(bj,"macaddr")});function Sj(e){return new Nx(e??"")}var Nx,jx,zx=K(()=>{fe();ct();Nx=class extends Te{static{a(this,"PgMacaddr8Builder")}static[j]="PgMacaddr8Builder";constructor(t){super(t,"string","PgMacaddr8")}build(t){return new jx(t,this.config)}},jx=class extends he{static{a(this,"PgMacaddr8")}static[j]="PgMacaddr8";getSQLType(){return"macaddr8"}};a(Sj,"macaddr8")});function Fx(e,t){let{name:r,config:n}=lt(e,t),o=n?.mode;return o==="number"?new Mx(r,n?.precision,n?.scale):o==="bigint"?new Ux(r,n?.precision,n?.scale):new Dx(r,n?.precision,n?.scale)}var Dx,bl,Mx,qx,Ux,Lx,st,Jx=K(()=>{fe();Tt();ct();Dx=class extends Te{static{a(this,"PgNumericBuilder")}static[j]="PgNumericBuilder";constructor(t,r,n){super(t,"string","PgNumeric"),this.config.precision=r,this.config.scale=n}build(t){return new bl(t,this.config)}},bl=class extends he{static{a(this,"PgNumeric")}static[j]="PgNumeric";precision;scale;constructor(t,r){super(t,r),this.precision=r.precision,this.scale=r.scale}mapFromDriverValue(t){return typeof t=="string"?t:String(t)}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}},Mx=class extends Te{static{a(this,"PgNumericNumberBuilder")}static[j]="PgNumericNumberBuilder";constructor(t,r,n){super(t,"number","PgNumericNumber"),this.config.precision=r,this.config.scale=n}build(t){return new qx(t,this.config)}},qx=class extends he{static{a(this,"PgNumericNumber")}static[j]="PgNumericNumber";precision;scale;constructor(t,r){super(t,r),this.precision=r.precision,this.scale=r.scale}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}mapToDriverValue=String;getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}},Ux=class extends Te{static{a(this,"PgNumericBigIntBuilder")}static[j]="PgNumericBigIntBuilder";constructor(t,r,n){super(t,"bigint","PgNumericBigInt"),this.config.precision=r,this.config.scale=n}build(t){return new Lx(t,this.config)}},Lx=class extends he{static{a(this,"PgNumericBigInt")}static[j]="PgNumericBigInt";precision;scale;constructor(t,r){super(t,r),this.precision=r.precision,this.scale=r.scale}mapFromDriverValue=BigInt;mapToDriverValue=String;getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}};a(Fx,"numeric");st=Fx});function wj(e,t){let{name:r,config:n}=lt(e,t);return!n?.mode||n.mode==="tuple"?new Bx(r):new Vx(r)}var Bx,Hx,Vx,Zx,Kx=K(()=>{fe();Tt();ct();Bx=class extends Te{static{a(this,"PgPointTupleBuilder")}static[j]="PgPointTupleBuilder";constructor(t){super(t,"array","PgPointTuple")}build(t){return new Hx(t,this.config)}},Hx=class extends he{static{a(this,"PgPointTuple")}static[j]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){let[r,n]=t.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n)]}return[t.x,t.y]}mapToDriverValue(t){return`(${t[0]},${t[1]})`}},Vx=class extends Te{static{a(this,"PgPointObjectBuilder")}static[j]="PgPointObjectBuilder";constructor(t){super(t,"json","PgPointObject")}build(t){return new Zx(t,this.config)}},Zx=class extends he{static{a(this,"PgPointObject")}static[j]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){let[r,n]=t.slice(1,-1).split(",");return{x:Number.parseFloat(r),y:Number.parseFloat(n)}}return t}mapToDriverValue(t){return`(${t.x},${t.y})`}};a(wj,"point")});function AX(e){let t=[];for(let r=0;r<e.length;r+=2)t.push(Number.parseInt(e.slice(r,r+2),16));return new Uint8Array(t)}function xj(e,t){let r=new ArrayBuffer(8),n=new DataView(r);for(let o=0;o<8;o++)n.setUint8(o,e[t+o]);return n.getFloat64(0,!0)}function Gx(e){let t=AX(e),r=0,n=t[r];r+=1;let o=new DataView(t.buffer),i=o.getUint32(r,n===1);r+=4;let s;if(i&536870912&&(s=o.getUint32(r,n===1),r+=4),(i&65535)===1){let u=xj(t,r);r+=8;let l=xj(t,r);return r+=8,[u,l]}throw new Error("Unsupported geometry type")}var Tj=K(()=>{a(AX,"hexToBytes");a(xj,"bytesToFloat64");a(Gx,"parseEWKB")});function kj(e,t){let{name:r,config:n}=lt(e,t);return!n?.mode||n.mode==="tuple"?new Wx(r):new Xx(r)}var Wx,Qx,Xx,Yx,e0=K(()=>{fe();Tt();ct();Tj();Wx=class extends Te{static{a(this,"PgGeometryBuilder")}static[j]="PgGeometryBuilder";constructor(t){super(t,"array","PgGeometry")}build(t){return new Qx(t,this.config)}},Qx=class extends he{static{a(this,"PgGeometry")}static[j]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(t){return Gx(t)}mapToDriverValue(t){return`point(${t[0]} ${t[1]})`}},Xx=class extends Te{static{a(this,"PgGeometryObjectBuilder")}static[j]="PgGeometryObjectBuilder";constructor(t){super(t,"json","PgGeometryObject")}build(t){return new Yx(t,this.config)}},Yx=class extends he{static{a(this,"PgGeometryObject")}static[j]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(t){let r=Gx(t);return{x:r[0],y:r[1]}}mapToDriverValue(t){return`point(${t.x} ${t.y})`}};a(kj,"geometry")});function Ej(e){return new t0(e??"")}var t0,r0,n0=K(()=>{fe();ct();t0=class extends Te{static{a(this,"PgRealBuilder")}static[j]="PgRealBuilder";constructor(t,r){super(t,"number","PgReal"),this.config.length=r}build(t){return new r0(t,this.config)}},r0=class extends he{static{a(this,"PgReal")}static[j]="PgReal";constructor(t,r){super(t,r)}getSQLType(){return"real"}mapFromDriverValue=a(t=>typeof t=="string"?Number.parseFloat(t):t,"mapFromDriverValue")};a(Ej,"real")});function Pj(e){return new o0(e??"")}var o0,i0,a0=K(()=>{fe();ct();o0=class extends Te{static{a(this,"PgSerialBuilder")}static[j]="PgSerialBuilder";constructor(t){super(t,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new i0(t,this.config)}},i0=class extends he{static{a(this,"PgSerial")}static[j]="PgSerial";getSQLType(){return"serial"}};a(Pj,"serial")});function Ij(e){return new s0(e??"")}var s0,u0,c0=K(()=>{fe();ct();hl();s0=class extends vi{static{a(this,"PgSmallIntBuilder")}static[j]="PgSmallIntBuilder";constructor(t){super(t,"number","PgSmallInt")}build(t){return new u0(t,this.config)}},u0=class extends he{static{a(this,"PgSmallInt")}static[j]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=a(t=>typeof t=="string"?Number(t):t,"mapFromDriverValue")};a(Ij,"smallint")});function Oj(e){return new l0(e??"")}var l0,d0,p0=K(()=>{fe();ct();l0=class extends Te{static{a(this,"PgSmallSerialBuilder")}static[j]="PgSmallSerialBuilder";constructor(t){super(t,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new d0(t,this.config)}},d0=class extends he{static{a(this,"PgSmallSerial")}static[j]="PgSmallSerial";getSQLType(){return"smallserial"}};a(Oj,"smallserial")});function C(e,t={}){let{name:r,config:n}=lt(e,t);return new m0(r,n)}var m0,f0,h0=K(()=>{fe();Tt();ct();m0=class extends Te{static{a(this,"PgTextBuilder")}static[j]="PgTextBuilder";constructor(t,r){super(t,"string","PgText"),this.config.enumValues=r.enum}build(t){return new f0(t,this.config)}},f0=class extends he{static{a(this,"PgText")}static[j]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}};a(C,"text")});function Aj(e,t={}){let{name:r,config:n}=lt(e,t);return new g0(r,n.withTimezone??!1,n.precision)}var g0,Sl,y0=K(()=>{fe();Tt();ct();of();g0=class extends Lo{static{a(this,"PgTimeBuilder")}constructor(t,r,n){super(t,"string","PgTime"),this.withTimezone=r,this.precision=n,this.config.withTimezone=r,this.config.precision=n}static[j]="PgTimeBuilder";build(t){return new Sl(t,this.config)}},Sl=class extends he{static{a(this,"PgTime")}static[j]="PgTime";withTimezone;precision;constructor(t,r){super(t,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}};a(Aj,"time")});function W(e,t={}){let{name:r,config:n}=lt(e,t);return n?.mode==="string"?new _0(r,n.withTimezone??!1,n.precision):new v0(r,n?.withTimezone??!1,n?.precision)}var v0,wl,_0,xl,b0=K(()=>{fe();Tt();ct();of();v0=class extends Lo{static{a(this,"PgTimestampBuilder")}static[j]="PgTimestampBuilder";constructor(t,r,n){super(t,"date","PgTimestamp"),this.config.withTimezone=r,this.config.precision=n}build(t){return new wl(t,this.config)}},wl=class extends he{static{a(this,"PgTimestamp")}static[j]="PgTimestamp";withTimezone;precision;constructor(t,r){super(t,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=a(t=>new Date(this.withTimezone?t:t+"+0000"),"mapFromDriverValue");mapToDriverValue=a(t=>t.toISOString(),"mapToDriverValue")},_0=class extends Lo{static{a(this,"PgTimestampStringBuilder")}static[j]="PgTimestampStringBuilder";constructor(t,r,n){super(t,"string","PgTimestampString"),this.config.withTimezone=r,this.config.precision=n}build(t){return new xl(t,this.config)}},xl=class extends he{static{a(this,"PgTimestampString")}static[j]="PgTimestampString";withTimezone;precision;constructor(t,r){super(t,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}};a(W,"timestamp")});function cu(e){return new S0(e??"")}var S0,Tl,w0=K(()=>{fe();Zt();ct();S0=class extends Te{static{a(this,"PgUUIDBuilder")}static[j]="PgUUIDBuilder";constructor(t){super(t,"string","PgUUID")}defaultRandom(){return this.default(M`gen_random_uuid()`)}build(t){return new Tl(t,this.config)}},Tl=class extends he{static{a(this,"PgUUID")}static[j]="PgUUID";getSQLType(){return"uuid"}};a(cu,"uuid")});function Cj(e,t={}){let{name:r,config:n}=lt(e,t);return new x0(r,n)}var x0,T0,k0=K(()=>{fe();Tt();ct();x0=class extends Te{static{a(this,"PgVarcharBuilder")}static[j]="PgVarcharBuilder";constructor(t,r){super(t,"string","PgVarchar"),this.config.length=r.length,this.config.enumValues=r.enum}build(t){return new T0(t,this.config)}},T0=class extends he{static{a(this,"PgVarchar")}static[j]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}};a(Cj,"varchar")});function Rj(e,t){let{name:r,config:n}=lt(e,t);return new E0(r,n)}var E0,P0,I0=K(()=>{fe();Tt();ct();E0=class extends Te{static{a(this,"PgBinaryVectorBuilder")}static[j]="PgBinaryVectorBuilder";constructor(t,r){super(t,"string","PgBinaryVector"),this.config.dimensions=r.dimensions}build(t){return new P0(t,this.config)}},P0=class extends he{static{a(this,"PgBinaryVector")}static[j]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}};a(Rj,"bit")});function $j(e,t){let{name:r,config:n}=lt(e,t);return new O0(r,n)}var O0,A0,C0=K(()=>{fe();Tt();ct();O0=class extends Te{static{a(this,"PgHalfVectorBuilder")}static[j]="PgHalfVectorBuilder";constructor(t,r){super(t,"array","PgHalfVector"),this.config.dimensions=r.dimensions}build(t){return new A0(t,this.config)}},A0=class extends he{static{a(this,"PgHalfVector")}static[j]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){return t.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}};a($j,"halfvec")});function Nj(e,t){let{name:r,config:n}=lt(e,t);return new R0(r,n)}var R0,$0,N0=K(()=>{fe();Tt();ct();R0=class extends Te{static{a(this,"PgSparseVectorBuilder")}static[j]="PgSparseVectorBuilder";constructor(t,r){super(t,"string","PgSparseVector"),this.config.dimensions=r.dimensions}build(t){return new $0(t,this.config)}},$0=class extends he{static{a(this,"PgSparseVector")}static[j]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}};a(Nj,"sparsevec")});function jj(e,t){let{name:r,config:n}=lt(e,t);return new j0(r,n)}var j0,z0,D0=K(()=>{fe();Tt();ct();j0=class extends Te{static{a(this,"PgVectorBuilder")}static[j]="PgVectorBuilder";constructor(t,r){super(t,"array","PgVector"),this.config.dimensions=r.dimensions}build(t){return new z0(t,this.config)}},z0=class extends he{static{a(this,"PgVector")}static[j]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){return t.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}};a(jj,"vector")});function zj(){return{bigint:dj,bigserial:pj,boolean:_e,char:mj,cidr:fj,customType:hj,date:Zr,doublePrecision:gj,inet:Nn,integer:Ot,interval:yj,json:vj,jsonb:at,line:_j,macaddr:bj,macaddr8:Sj,numeric:Fx,point:wj,geometry:kj,real:Ej,serial:Pj,smallint:Ij,smallserial:Oj,text:C,time:Aj,timestamp:W,uuid:cu,varchar:Cj,bit:Rj,halfvec:$j,sparsevec:Nj,vector:jj}}var Dj=K(()=>{Jw();Kw();Qw();ex();nx();ax();cx();px();hx();vx();Sx();xx();kx();Ax();$x();zx();Jx();Kx();e0();n0();a0();c0();p0();h0();y0();b0();w0();k0();I0();C0();N0();D0();a(zj,"getPgColumnBuilders")});function q0(e,t,r,n,o=e){let i=new Sr(e,n,o),s=typeof t=="function"?t(zj()):t,u=Object.fromEntries(Object.entries(s).map(([p,f])=>{let m=f;m.setName(p);let y=m.build(i);return i[M0].push(...m.buildForeignKeys(y,i)),[p,y]})),l=Object.fromEntries(Object.entries(s).map(([p,f])=>{let m=f;m.setName(p);let y=m.buildExtraConfigColumn(i);return[p,y]})),d=Object.assign(i,u);return d[ge.Symbol.Columns]=u,d[ge.Symbol.ExtraConfigColumns]=l,r&&(d[Sr.Symbol.ExtraConfigBuilder]=r),Object.assign(d,{enableRLS:a(()=>(d[Sr.Symbol.EnableRLS]=!0,d),"enableRLS")})}var M0,Mj,Sr,Pe,Yi=K(()=>{fe();Qr();Dj();M0=Symbol.for("drizzle:PgInlineForeignKeys"),Mj=Symbol.for("drizzle:EnableRLS"),Sr=class extends ge{static{a(this,"PgTable")}static[j]="PgTable";static Symbol=Object.assign({},ge.Symbol,{InlineForeignKeys:M0,EnableRLS:Mj});[M0]=[];[Mj]=!1;[ge.Symbol.ExtraConfigBuilder]=void 0;[ge.Symbol.ExtraConfigColumns]={}};a(q0,"pgTableWithSchema");Pe=a((e,t,r)=>q0(e,t,r,void 0),"pgTable")});var af,U0,L0=K(()=>{fe();Yi();af=class{static{a(this,"PrimaryKeyBuilder")}static[j]="PgPrimaryKeyBuilder";columns;name;constructor(t,r){this.columns=t,this.name=r}build(t){return new U0(t,this.columns,this.name)}},U0=class{static{a(this,"PrimaryKey")}constructor(t,r,n){this.table=t,this.columns=r,this.name=n}static[j]="PgPrimaryKey";columns;name;getName(){return this.name??`${this.table[Sr.Symbol.Name]}_${this.columns.map(t=>t.name).join("_")}_pk`}}});function fr(e,t){return jw(t)&&!Xm(e)&&!Y(e,Hr)&&!Y(e,mo)&&!Y(e,bt)&&!Y(e,ge)&&!Y(e,Vr)?new Hr(e,t):e}function Ee(...e){let t=e.filter(r=>r!==void 0);if(t.length!==0)return t.length===1?new be(t):new be([new mr("("),M.join(t,new mr(" and ")),new mr(")")])}function ea(...e){let t=e.filter(r=>r!==void 0);if(t.length!==0)return t.length===1?new be(t):new be([new mr("("),M.join(t,new mr(" or ")),new mr(")")])}function J0(e){return M`not ${e}`}function ns(e,t){return Array.isArray(t)?t.length===0?M`false`:M`${e} in ${t.map(r=>fr(r,e))}`:M`${e} in ${fr(t,e)}`}function V0(e,t){return Array.isArray(t)?t.length===0?M`true`:M`${e} not in ${t.map(r=>fr(r,e))}`:M`${e} not in ${fr(t,e)}`}function kl(e){return M`${e} is null`}function Z0(e){return M`${e} is not null`}function K0(e){return M`exists ${e}`}function G0(e){return M`not exists ${e}`}function W0(e,t,r){return M`${e} between ${fr(t,e)} and ${fr(r,e)}`}function Q0(e,t,r){return M`${e} not between ${fr(t,e)} and ${fr(r,e)}`}function X0(e,t){return M`${e} like ${t}`}function Y0(e,t){return M`${e} not like ${t}`}function Ur(e,t){return M`${e} ilike ${t}`}function eT(e,t){return M`${e} not ilike ${t}`}function CX(e,t){if(Array.isArray(t)){if(t.length===0)throw new Error("arrayContains requires at least one value");let r=M`${fr(t,e)}`;return M`${e} @> ${r}`}return M`${e} @> ${fr(t,e)}`}function RX(e,t){if(Array.isArray(t)){if(t.length===0)throw new Error("arrayContained requires at least one value");let r=M`${fr(t,e)}`;return M`${e} <@ ${r}`}return M`${e} <@ ${fr(t,e)}`}function $X(e,t){if(Array.isArray(t)){if(t.length===0)throw new Error("arrayOverlaps requires at least one value");let r=M`${fr(t,e)}`;return M`${e} && ${r}`}return M`${e} && ${fr(t,e)}`}var V,F0,B0,hr,H0,nr,qj=K(()=>{co();fe();Qr();Zt();a(fr,"bindIfParam");V=a((e,t)=>M`${e} = ${fr(t,e)}`,"eq"),F0=a((e,t)=>M`${e} <> ${fr(t,e)}`,"ne");a(Ee,"and");a(ea,"or");a(J0,"not");B0=a((e,t)=>M`${e} > ${fr(t,e)}`,"gt"),hr=a((e,t)=>M`${e} >= ${fr(t,e)}`,"gte"),H0=a((e,t)=>M`${e} < ${fr(t,e)}`,"lt"),nr=a((e,t)=>M`${e} <= ${fr(t,e)}`,"lte");a(ns,"inArray");a(V0,"notInArray");a(kl,"isNull");a(Z0,"isNotNull");a(K0,"exists");a(G0,"notExists");a(W0,"between");a(Q0,"notBetween");a(X0,"like");a(Y0,"notLike");a(Ur,"ilike");a(eT,"notIlike");a(CX,"arrayContains");a(RX,"arrayContained");a($X,"arrayOverlaps")});function _i(e){return M`${e} asc`}function Dt(e){return M`${e} desc`}var Uj=K(()=>{Zt();a(_i,"asc");a(Dt,"desc")});var tT=K(()=>{qj();Uj()});function rT(){return{and:Ee,between:W0,eq:V,exists:K0,gt:B0,gte:hr,ilike:Ur,inArray:ns,isNull:kl,isNotNull:Z0,like:X0,lt:H0,lte:nr,ne:F0,not:J0,notBetween:Q0,notExists:G0,notLike:Y0,notIlike:eT,notInArray:V0,or:ea,sql:M}}function nT(){return{sql:M,asc:_i,desc:Dt}}function Ol(e,t){Object.keys(e).length===1&&"default"in e&&!Y(e.default,ge)&&(e=e.default);let r={},n={},o={};for(let[i,s]of Object.entries(e))if(Y(s,ge)){let u=Qi(s),l=n[u];r[u]=i,o[i]={tsName:i,dbName:s[ge.Symbol.Name],schema:s[ge.Symbol.Schema],columns:s[ge.Symbol.Columns],relations:l?.relations??{},primaryKey:l?.primaryKey??[]};for(let p of Object.values(s[ge.Symbol.Columns]))p.primary&&o[i].primaryKey.push(p);let d=s[ge.Symbol.ExtraConfigBuilder]?.(s[ge.Symbol.ExtraConfigColumns]);if(d)for(let p of Object.values(d))Y(p,af)&&o[i].primaryKey.push(...p.columns)}else if(Y(s,Pl)){let u=Qi(s.table),l=r[u],d=s.config(t(s.table)),p;for(let[f,m]of Object.entries(d))if(l){let y=o[l];y.relations[f]=m,p&&y.primaryKey.push(...p)}else u in n||(n[u]={relations:{},primaryKey:p}),n[u].relations[f]=m}return{tables:o,tableNamesMap:r}}function Le(e,t){return new Pl(e,r=>Object.fromEntries(Object.entries(t(r)).map(([n,o])=>[n,o.withFieldName(n)])))}function Lj(e){return a(function(r,n){return new bi(e,r,n,n?.fields.reduce((o,i)=>o&&i.notNull,!0)??!1)},"one")}function Fj(e){return a(function(r,n){return new lu(e,r,n)},"many")}function oT(e,t,r){if(Y(r,bi)&&r.config)return{fields:r.config.fields,references:r.config.references};let n=t[Qi(r.referencedTable)];if(!n)throw new Error(`Table "${r.referencedTable[ge.Symbol.Name]}" not found in schema`);let o=e[n];if(!o)throw new Error(`Table "${n}" not found in schema`);let i=r.sourceTable,s=t[Qi(i)];if(!s)throw new Error(`Table "${i[ge.Symbol.Name]}" not found in schema`);let u=[];for(let l of Object.values(o.relations))(r.relationName&&r!==l&&l.relationName===r.relationName||!r.relationName&&l.referencedTable===r.sourceTable)&&u.push(l);if(u.length>1)throw r.relationName?new Error(`There are multiple relations with name "${r.relationName}" in table "${n}"`):new Error(`There are multiple relations between "${n}" and "${r.sourceTable[ge.Symbol.Name]}". Please specify relation name`);if(u[0]&&Y(u[0],bi)&&u[0].config)return{fields:u[0].config.references,references:u[0].config.fields};throw new Error(`There is not enough information to infer relation "${s}.${r.fieldName}"`)}function Al(e){return{one:Lj(e),many:Fj(e)}}function Il(e,t,r,n,o=i=>i){let i={};for(let[s,u]of n.entries())if(u.isJson){let l=t.relations[u.tsKey],d=r[s],p=typeof d=="string"?JSON.parse(d):d;i[u.tsKey]=Y(l,bi)?p&&Il(e,e[u.relationTableTsKey],p,u.selection,o):p.map(f=>Il(e,e[u.relationTableTsKey],f,u.selection,o))}else{let l=o(r[s]),d=u.field,p;Y(d,bt)?p=d:Y(d,be)?p=d.decoder:p=d.sql.decoder,i[u.tsKey]=l===null?null:p.mapFromDriverValue(l)}return i}var El,Pl,bi,lu,du=K(()=>{Qr();co();fe();L0();tT();Zt();El=class{static{a(this,"Relation")}constructor(t,r,n){this.sourceTable=t,this.referencedTable=r,this.relationName=n,this.referencedTableName=r[ge.Symbol.Name]}static[j]="Relation";referencedTableName;fieldName},Pl=class{static{a(this,"Relations")}constructor(t,r){this.table=t,this.config=r}static[j]="Relations"},bi=class e extends El{static{a(this,"One")}constructor(t,r,n,o){super(t,r,n?.relationName),this.config=n,this.isNullable=o}static[j]="One";withFieldName(t){let r=new e(this.sourceTable,this.referencedTable,this.config,this.isNullable);return r.fieldName=t,r}},lu=class e extends El{static{a(this,"Many")}constructor(t,r,n){super(t,r,n?.relationName),this.config=n}static[j]="Many";withFieldName(t){let r=new e(this.sourceTable,this.referencedTable,this.config);return r.fieldName=t,r}};a(rT,"getOperators");a(nT,"getOrderByOperators");a(Ol,"extractTablesRelationalConfig");a(Le,"relations");a(Lj,"createOne");a(Fj,"createMany");a(oT,"normalizeRelation");a(Al,"createTableRelationsHelpers");a(Il,"mapRelationalRow")});function iT(e){return M`count(${e||M.raw("*")})`.mapWith(Number)}function NX(e){return M`count(distinct ${e})`.mapWith(Number)}function jX(e){return M`avg(${e})`.mapWith(String)}function zX(e){return M`avg(distinct ${e})`.mapWith(String)}function Cl(e){return M`sum(${e})`.mapWith(String)}function DX(e){return M`sum(distinct ${e})`.mapWith(String)}function MX(e){return M`max(${e})`.mapWith(Y(e,bt)?e:String)}function qX(e){return M`min(${e})`.mapWith(Y(e,bt)?e:String)}var Jj=K(()=>{co();fe();Zt();a(iT,"count");a(NX,"countDistinct");a(jX,"avg");a(zX,"avgDistinct");a(Cl,"sum");a(DX,"sumDistinct");a(MX,"max");a(qX,"min")});function pu(e){return JSON.stringify(e)}function UX(e,t){return Array.isArray(t)?M`${e} <-> ${pu(t)}`:M`${e} <-> ${t}`}function LX(e,t){return Array.isArray(t)?M`${e} <+> ${pu(t)}`:M`${e} <+> ${t}`}function FX(e,t){return Array.isArray(t)?M`${e} <#> ${pu(t)}`:M`${e} <#> ${t}`}function JX(e,t){return Array.isArray(t)?M`${e} <=> ${pu(t)}`:M`${e} <=> ${t}`}function BX(e,t){return Array.isArray(t)?M`${e} <~> ${pu(t)}`:M`${e} <~> ${t}`}function HX(e,t){return Array.isArray(t)?M`${e} <%> ${pu(t)}`:M`${e} <%> ${t}`}var Bj=K(()=>{Zt();a(pu,"toSql");a(UX,"l2Distance");a(LX,"l1Distance");a(FX,"innerProduct");a(JX,"cosineDistance");a(BX,"hammingDistance");a(HX,"jaccardDistance")});var Hj=K(()=>{Jj();Bj()});var sf=K(()=>{tT();Hj();Zt()});var aT={};yn(aT,{BaseName:()=>Qm,Column:()=>bt,ColumnAliasProxyHandler:()=>Xi,ColumnBuilder:()=>cl,Columns:()=>ll,ConsoleLogWriter:()=>nf,DefaultLogger:()=>ts,DrizzleError:()=>iu,DrizzleQueryError:()=>qo,ExtraConfigBuilder:()=>$w,ExtraConfigColumns:()=>Rw,FakePrimitiveParam:()=>Nw,IsAlias:()=>ru,Many:()=>lu,Name:()=>Ya,NoopLogger:()=>rs,One:()=>bi,OriginalName:()=>Wm,Param:()=>Hr,Placeholder:()=>mo,QueryPromise:()=>qr,Relation:()=>El,RelationTableAliasProxyHandler:()=>Ym,Relations:()=>Pl,SQL:()=>be,Schema:()=>Wi,StringChunk:()=>mr,Subquery:()=>tr,Table:()=>ge,TableAliasProxyHandler:()=>es,TransactionRollbackError:()=>dl,View:()=>Vr,ViewBaseConfig:()=>It,WithSubquery:()=>Xa,aliasedRelation:()=>PX,aliasedTable:()=>nu,aliasedTableColumn:()=>fo,and:()=>Ee,applyMixins:()=>Mw,arrayContained:()=>RX,arrayContains:()=>CX,arrayOverlaps:()=>$X,asc:()=>_i,avg:()=>jX,avgDistinct:()=>zX,between:()=>W0,bindIfParam:()=>fr,cosineDistance:()=>JX,count:()=>iT,countDistinct:()=>NX,createMany:()=>Fj,createOne:()=>Lj,createTableRelationsHelpers:()=>Al,desc:()=>Dt,entityKind:()=>j,eq:()=>V,exists:()=>K0,extractTablesRelationalConfig:()=>Ol,fillPlaceholders:()=>gi,getColumnNameAndConfig:()=>lt,getOperators:()=>rT,getOrderByOperators:()=>nT,getTableColumns:()=>uu,getTableLikeName:()=>Uo,getTableName:()=>Wr,getTableUniqueName:()=>Qi,getViewName:()=>EX,getViewSelectedFields:()=>IX,gt:()=>B0,gte:()=>hr,hammingDistance:()=>BX,hasOwnEntityKind:()=>vX,haveSameKeys:()=>su,ilike:()=>Ur,inArray:()=>ns,innerProduct:()=>FX,is:()=>Y,isConfig:()=>fl,isDriverValueEncoder:()=>jw,isNotNull:()=>Z0,isNull:()=>kl,isSQLWrapper:()=>Xm,isTable:()=>_X,isView:()=>kX,jaccardDistance:()=>HX,l1Distance:()=>LX,l2Distance:()=>UX,like:()=>X0,lt:()=>H0,lte:()=>nr,mapColumnsInAliasedSQLToAlias:()=>ef,mapColumnsInSQLToAlias:()=>ou,mapRelationalRow:()=>Il,mapResultRow:()=>pl,mapUpdateSet:()=>ml,max:()=>MX,min:()=>qX,name:()=>SX,ne:()=>F0,noopDecoder:()=>zw,noopEncoder:()=>Dw,noopMapper:()=>wX,normalizeRelation:()=>oT,not:()=>J0,notBetween:()=>Q0,notExists:()=>G0,notIlike:()=>eT,notInArray:()=>V0,notLike:()=>Y0,or:()=>ea,orderSelectedFields:()=>$n,param:()=>xX,placeholder:()=>TX,relations:()=>Le,sql:()=>M,sum:()=>Cl,sumDistinct:()=>DX,textDecoder:()=>OX});var wr=K(()=>{tf();dw();co();fe();rf();au();lj();yi();du();sf();po();Qr();Tt();hi()});function ez(e){return 0}function mT(e,t=!1){let{protocol:r}=new URL(e),n="http:"+e.substring(r.length),{username:o,password:i,host:s,hostname:u,port:l,pathname:d,search:p,searchParams:f,hash:m}=new URL(n);i=decodeURIComponent(i),o=decodeURIComponent(o),d=decodeURIComponent(d);let y=o+":"+i,g=t?Object.fromEntries(f.entries()):p;return{href:e,protocol:r,auth:y,username:o,password:i,host:s,hostname:u,port:l,pathname:d,search:p,query:g,hash:m}}function Nl(e){let t=1779033703,r=3144134277,n=1013904242,o=2773480762,i=1359893119,s=2600822924,u=528734635,l=1541459225,d=0,p=0,f=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],m=P((b,w)=>b>>>w|b<<32-w,"rrot"),y=new Uint32Array(64),g=new Uint8Array(64),h=P(()=>{for(let N=0,z=0;N<16;N++,z+=4)y[N]=g[z]<<24|g[z+1]<<16|g[z+2]<<8|g[z+3];for(let N=16;N<64;N++){let z=m(y[N-15],7)^m(y[N-15],18)^y[N-15]>>>3,X=m(y[N-2],17)^m(y[N-2],19)^y[N-2]>>>10;y[N]=y[N-16]+z+y[N-7]+X|0}let b=t,w=r,k=n,$=o,A=i,O=s,R=u,I=l;for(let N=0;N<64;N++){let z=m(A,6)^m(A,11)^m(A,25),X=A&O^~A&R,Z=I+z+X+f[N]+y[N]|0,J=m(b,2)^m(b,13)^m(b,22),te=b&w^b&k^w&k,ne=J+te|0;I=R,R=O,O=A,A=$+Z|0,$=k,k=w,w=b,b=Z+ne|0}t=t+b|0,r=r+w|0,n=n+k|0,o=o+$|0,i=i+A|0,s=s+O|0,u=u+R|0,l=l+I|0,p=0},"process"),v=P(b=>{typeof b=="string"&&(b=new TextEncoder().encode(b));for(let w=0;w<b.length;w++)g[p++]=b[w],p===64&&h();d+=b.length},"add"),S=P(()=>{if(g[p++]=128,p==64&&h(),p+8>64){for(;p<64;)g[p++]=0;h()}for(;p<58;)g[p++]=0;let b=d*8;g[p++]=b/1099511627776&255,g[p++]=b/4294967296&255,g[p++]=b>>>24,g[p++]=b>>>16&255,g[p++]=b>>>8&255,g[p++]=b&255,h();let w=new Uint8Array(32);return w[0]=t>>>24,w[1]=t>>>16&255,w[2]=t>>>8&255,w[3]=t&255,w[4]=r>>>24,w[5]=r>>>16&255,w[6]=r>>>8&255,w[7]=r&255,w[8]=n>>>24,w[9]=n>>>16&255,w[10]=n>>>8&255,w[11]=n&255,w[12]=o>>>24,w[13]=o>>>16&255,w[14]=o>>>8&255,w[15]=o&255,w[16]=i>>>24,w[17]=i>>>16&255,w[18]=i>>>8&255,w[19]=i&255,w[20]=s>>>24,w[21]=s>>>16&255,w[22]=s>>>8&255,w[23]=s&255,w[24]=u>>>24,w[25]=u>>>16&255,w[26]=u>>>8&255,w[27]=u&255,w[28]=l>>>24,w[29]=l>>>16&255,w[30]=l>>>8&255,w[31]=l&255,w},"digest");return e===void 0?{add:v,digest:S}:(v(e),S())}function az(e){return crypto.getRandomValues(Ue.alloc(e))}function sz(e){if(e==="sha256")return{update:P(function(t){return{digest:P(function(){return Ue.from(Nl(t))},"digest")}},"update")};if(e==="md5")return{update:P(function(t){return{digest:P(function(){return typeof t=="string"?cT.hashStr(t):cT.hashByteArray(t)},"digest")}},"update")};throw new Error(`Hash type '${e}' not supported`)}function uz(e,t){if(e!=="sha256")throw new Error(`Only sha256 is supported (requested: '${e}')`);return{update:P(function(r){return{digest:P(function(){typeof t=="string"&&(t=new TextEncoder().encode(t)),typeof r=="string"&&(r=new TextEncoder().encode(r));let n=t.length;if(n>64)t=Nl(t);else if(n<64){let l=new Uint8Array(64);l.set(t),t=l}let o=new Uint8Array(64),i=new Uint8Array(64);for(let l=0;l<64;l++)o[l]=54^t[l],i[l]=92^t[l];let s=new Uint8Array(r.length+64);s.set(o,0),s.set(r,64);let u=new Uint8Array(96);return u.set(i,0),u.set(Nl(s),64),Ue.from(Nl(u))},"digest")}},"update")}}function dz(...e){return e.join("/")}function mz(e,t){t(new Error("No filesystem"))}function Tz({socket:e,servername:t}){return e.startTls(t),e}function Oz(e,{alphabet:t,scratchArr:r}={}){if(!$l)if($l=new Uint16Array(256),lf=new Uint16Array(256),Wj)for(let y=0;y<256;y++)$l[y]=uf[y&15]<<8|uf[y>>>4],lf[y]=cf[y&15]<<8|cf[y>>>4];else for(let y=0;y<256;y++)$l[y]=uf[y&15]|uf[y>>>4]<<8,lf[y]=cf[y&15]|cf[y>>>4]<<8;e.byteOffset%4!==0&&(e=new Uint8Array(e));let n=e.length,o=n>>>1,i=n>>>2,s=r||new Uint16Array(n),u=new Uint32Array(e.buffer,e.byteOffset,i),l=new Uint32Array(s.buffer,s.byteOffset,o),d=t==="upper"?lf:$l,p=0,f=0,m;if(Wj)for(;p<i;)m=u[p++],l[f++]=d[m>>>8&255]<<16|d[m&255],l[f++]=d[m>>>24]<<16|d[m>>>16&255];else for(;p<i;)m=u[p++],l[f++]=d[m>>>24]<<16|d[m>>>16&255],l[f++]=d[m>>>8&255]<<16|d[m&255];for(p<<=2;p<n;)s[p]=d[e[p++]];return UY.decode(s.subarray(0,n))}function Az(e,t={}){let r="",n=e.length,o=qY>>>1,i=Math.ceil(n/o),s=new Uint16Array(i>1?o:n);for(let u=0;u<i;u++){let l=u*o,d=l+o;r+=Oz(e.subarray(l,d),MY(DY({},t),{scratchArr:s}))}return r}function Cz(e,t={}){return t.alphabet!=="upper"&&typeof e.toHex=="function"?e.toHex():Az(e,t)}function ST(){typeof window<"u"&&typeof document<"u"&&typeof console<"u"&&typeof console.warn=="function"&&console.warn(`          
        ************************************************************
        *                                                          *
        *  WARNING: Running SQL directly from the browser can have *
        *  security implications. Even if your database is         *
        *  protected by Row-Level Security (RLS), use it at your   *
        *  own risk. This approach is great for fast prototyping,  *
        *  but ensure proper safeguards are in place to prevent    *
        *  misuse or execution of expensive SQL queries by your    *
        *  end users.                                              *
        *                                                          *
        *  If you've assessed the risks, suppress this message     *
        *  using the disableWarningInBrowsers configuration        *
        *  parameter.                                              *
        *                                                          *
        ************************************************************`)}function qz(e){return e instanceof Ue?"\\x"+Cz(e):e}function lT(e){let{query:t,params:r}=e instanceof Nz?e.toParameterizedQuery():e;return{query:t,params:r.map(n=>qz((0,JY.prepareValue)(n)))}}function ta(e,{arrayMode:t,fullResults:r,fetchOptions:n,isolationLevel:o,readOnly:i,deferrable:s,authToken:u,disableWarningInBrowsers:l}={}){if(!e)throw new Error("No database connection string was provided to `neon()`. Perhaps an environment variable has not been set?");let d;try{d=mT(e)}catch{throw new Error("Database connection string provided to `neon()` is not a valid URL. Connection string: "+String(e))}let{protocol:p,username:f,hostname:m,port:y,pathname:g}=d;if(p!=="postgres:"&&p!=="postgresql:"||!f||!m||!g)throw new Error("Database connection string format for `neon()` should be: postgresql://user:password@host.tld/dbname?option=value");function h(S,...b){if(!(Array.isArray(S)&&Array.isArray(S.raw)&&Array.isArray(b)))throw new Error('This function can now be called only as a tagged-template function: sql`SELECT ${value}`, not sql("SELECT $1", [value], options). For a conventional function call with value placeholders ($1, $2, etc.), use sql.query("SELECT $1", [value], options).');return new df(v,new Nz(S,b))}a(h,"D"),P(h,"templateFn"),h.query=(S,b,w)=>new df(v,{query:S,params:b??[]},w),h.unsafe=S=>new zz(S),h.transaction=async(S,b)=>{if(typeof S=="function"&&(S=S(h)),!Array.isArray(S))throw new Error(Qj);S.forEach($=>{if(!($ instanceof df))throw new Error(Qj)});let w=S.map($=>$.queryData),k=S.map($=>$.opts??{});return v(w,k,b)};async function v(S,b,w){let{fetchEndpoint:k,fetchFunction:$}=os,A=Array.isArray(S)?{queries:S.map(Se=>lT(Se))}:lT(S),O=n??{},R=t??!1,I=r??!1,N=o,z=i,X=s;w!==void 0&&(w.fetchOptions!==void 0&&(O={...O,...w.fetchOptions}),w.arrayMode!==void 0&&(R=w.arrayMode),w.fullResults!==void 0&&(I=w.fullResults),w.isolationLevel!==void 0&&(N=w.isolationLevel),w.readOnly!==void 0&&(z=w.readOnly),w.deferrable!==void 0&&(X=w.deferrable)),b!==void 0&&!Array.isArray(b)&&b.fetchOptions!==void 0&&(O={...O,...b.fetchOptions});let Z=u;!Array.isArray(b)&&b?.authToken!==void 0&&(Z=b.authToken);let J=typeof k=="function"?k(m,y,{jwtAuth:Z!==void 0}):k,te={"Neon-Connection-String":e,"Neon-Raw-Text-Output":"true","Neon-Array-Mode":"true"},ne=await Lz(Z);ne&&(te.Authorization=`Bearer ${ne}`),Array.isArray(S)&&(N!==void 0&&(te["Neon-Batch-Isolation-Level"]=N),z!==void 0&&(te["Neon-Batch-Read-Only"]=String(z)),X!==void 0&&(te["Neon-Batch-Deferrable"]=String(X))),l||os.disableWarningInBrowsers||ST();let ae;try{ae=await($??fetch)(J,{method:"POST",body:JSON.stringify(A),headers:te,...O})}catch(Se){let ke=new mu(`Error connecting to database: ${Se}`);throw ke.sourceError=Se,ke}if(ae.ok){let Se=await ae.json();if(Array.isArray(S)){let ke=Se.results;if(!Array.isArray(ke))throw new mu("Neon internal error: unexpected result format");return ke.map((Xe,Ve)=>{let G=b[Ve]??{},Re=G.arrayMode??R,ye=G.fullResults??I;return dT(Xe,{arrayMode:Re,fullResults:ye,types:G.types})})}else{let ke=b??{},Xe=ke.arrayMode??R,Ve=ke.fullResults??I;return dT(Se,{arrayMode:Xe,fullResults:Ve,types:ke.types})}}else{let{status:Se}=ae;if(Se===400){let ke=await ae.json(),Xe=new mu(ke.message);for(let Ve of BY)Xe[Ve]=ke[Ve]??void 0;throw Xe}else{let ke=await ae.text();throw new mu(`Server error (HTTP status ${Se}): ${ke}`)}}}return a(v,"Y"),P(v,"execute"),h}function dT(e,{arrayMode:t,fullResults:r,types:n}){let o=new FY.default(n),i=e.fields.map(l=>l.name),s=e.fields.map(l=>o.getTypeParser(l.dataTypeID)),u=t===!0?e.rows.map(l=>l.map((d,p)=>d===null?null:s[p](d))):e.rows.map(l=>Object.fromEntries(l.map((d,p)=>[i[p],d===null?null:s[p](d)])));return r?(e.viaNeonFetch=!0,e.rowAsArray=t,e.rows=u,e._parsers=s,e._types=o,e):u}async function Lz(e){if(typeof e=="string")return e;if(typeof e=="function")try{return await Promise.resolve(e())}catch(t){let r=new mu("Error getting auth token.");throw t instanceof Error&&(r=new mu(`Error getting auth token: ${t.message}`)),r}}function Jz(e,t){if(t)return{callback:t,result:void 0};let r,n,o=P(function(s,u){s?r(s):n(u)},"cb"),i=new e(function(s,u){n=s,r=u});return{callback:o,result:i}}var VX,fu,ZX,KX,GX,WX,QX,P,vn,et,ho,Xj,is,Ar,Fe,XX,YX,eY,pf,pT,tY,Ue,Ye,Ce,as,Yj,Vj,sT,Rl,os,jl,tz,rz,nz,iz,rY,nY,oY,iY,aY,sY,uY,cY,mf,fT,lY,Si,cT,dY,hT,cz,ff,hf,zl,lz,gf,pY,gT,pz,yT,fz,vT,hz,gz,yz,uT,vz,mY,fY,hY,gY,_z,bz,yY,vY,_T,_Y,bY,Sz,SY,wY,xY,TY,wz,xz,kY,kz,EY,PY,Ez,Pz,IY,OY,AY,CY,Zj,yf,RY,$Y,NY,Kj,jY,zY,Gj,DY,MY,qY,Wj,UY,bT,uf,cf,LY,Iz,$l,lf,Rz,Nz,jz,zz,FY,JY,Dz,mu,Qj,BY,Uz,df,HY,VY,Fz,ZY,KY,Bz,Fo,Dl,J$e,B$e,H$e,V$e,Bt,Ml=K(()=>{VX=Object.create,fu=Object.defineProperty,ZX=Object.getOwnPropertyDescriptor,KX=Object.getOwnPropertyNames,GX=Object.getPrototypeOf,WX=Object.prototype.hasOwnProperty,QX=a((e,t,r)=>t in e?fu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,"Io"),P=a((e,t)=>fu(e,"name",{value:t,configurable:!0}),"a"),vn=a((e,t)=>()=>(e&&(t=e(e=0)),t),"G"),et=a((e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),"T"),ho=a((e,t)=>{for(var r in t)fu(e,r,{get:t[r],enumerable:!0})},"ie"),Xj=a((e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of KX(t))!WX.call(e,o)&&o!==r&&fu(e,o,{get:a(()=>t[o],"get"),enumerable:!(n=ZX(t,o))||n.enumerable});return e},"Dn"),is=a((e,t,r)=>(r=e!=null?VX(GX(e)):{},Xj(t||!e||!e.__esModule?fu(r,"default",{value:e,enumerable:!0}):r,e)),"Se"),Ar=a(e=>Xj(fu({},"__esModule",{value:!0}),e),"O"),Fe=a((e,t,r)=>QX(e,typeof t!="symbol"?t+"":t,r),"E"),XX=et(e=>{"use strict";Ce(),e.byteLength=l,e.toByteArray=p,e.fromByteArray=y;var t=[],r=[],n=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(i=0,s=o.length;i<s;++i)t[i]=o[i],r[o.charCodeAt(i)]=i;var i,s;r[45]=62,r[95]=63;function u(g){var h=g.length;if(h%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var v=g.indexOf("=");v===-1&&(v=h);var S=v===h?0:4-v%4;return[v,S]}a(u,"qn"),P(u,"getLens");function l(g){var h=u(g),v=h[0],S=h[1];return(v+S)*3/4-S}a(l,"Po"),P(l,"byteLength");function d(g,h,v){return(h+v)*3/4-v}a(d,"Bo"),P(d,"_byteLength");function p(g){var h,v=u(g),S=v[0],b=v[1],w=new n(d(g,S,b)),k=0,$=b>0?S-4:S,A;for(A=0;A<$;A+=4)h=r[g.charCodeAt(A)]<<18|r[g.charCodeAt(A+1)]<<12|r[g.charCodeAt(A+2)]<<6|r[g.charCodeAt(A+3)],w[k++]=h>>16&255,w[k++]=h>>8&255,w[k++]=h&255;return b===2&&(h=r[g.charCodeAt(A)]<<2|r[g.charCodeAt(A+1)]>>4,w[k++]=h&255),b===1&&(h=r[g.charCodeAt(A)]<<10|r[g.charCodeAt(A+1)]<<4|r[g.charCodeAt(A+2)]>>2,w[k++]=h>>8&255,w[k++]=h&255),w}a(p,"Ro"),P(p,"toByteArray");function f(g){return t[g>>18&63]+t[g>>12&63]+t[g>>6&63]+t[g&63]}a(f,"Lo"),P(f,"tripletToBase64");function m(g,h,v){for(var S,b=[],w=h;w<v;w+=3)S=(g[w]<<16&16711680)+(g[w+1]<<8&65280)+(g[w+2]&255),b.push(f(S));return b.join("")}a(m,"Fo"),P(m,"encodeChunk");function y(g){for(var h,v=g.length,S=v%3,b=[],w=16383,k=0,$=v-S;k<$;k+=w)b.push(m(g,k,k+w>$?$:k+w));return S===1?(h=g[v-1],b.push(t[h>>2]+t[h<<4&63]+"==")):S===2&&(h=(g[v-2]<<8)+g[v-1],b.push(t[h>>10]+t[h>>4&63]+t[h<<2&63]+"=")),b.join("")}a(y,"ko"),P(y,"fromByteArray")}),YX=et(e=>{Ce(),e.read=function(t,r,n,o,i){var s,u,l=i*8-o-1,d=(1<<l)-1,p=d>>1,f=-7,m=n?i-1:0,y=n?-1:1,g=t[r+m];for(m+=y,s=g&(1<<-f)-1,g>>=-f,f+=l;f>0;s=s*256+t[r+m],m+=y,f-=8);for(u=s&(1<<-f)-1,s>>=-f,f+=o;f>0;u=u*256+t[r+m],m+=y,f-=8);if(s===0)s=1-p;else{if(s===d)return u?NaN:(g?-1:1)*(1/0);u=u+Math.pow(2,o),s=s-p}return(g?-1:1)*u*Math.pow(2,s-o)},e.write=function(t,r,n,o,i,s){var u,l,d,p=s*8-i-1,f=(1<<p)-1,m=f>>1,y=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=o?0:s-1,h=o?1:-1,v=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(l=isNaN(r)?1:0,u=f):(u=Math.floor(Math.log(r)/Math.LN2),r*(d=Math.pow(2,-u))<1&&(u--,d*=2),u+m>=1?r+=y/d:r+=y*Math.pow(2,1-m),r*d>=2&&(u++,d/=2),u+m>=f?(l=0,u=f):u+m>=1?(l=(r*d-1)*Math.pow(2,i),u=u+m):(l=r*Math.pow(2,m-1)*Math.pow(2,i),u=0));i>=8;t[n+g]=l&255,g+=h,l/=256,i-=8);for(u=u<<i|l,p+=i;p>0;t[n+g]=u&255,g+=h,u/=256,p-=8);t[n+g-h]|=v*128}}),eY=et(e=>{"use strict";Ce();var t=XX(),r=YX(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=b,e.INSPECT_MAX_BYTES=50;var o=2147483647;e.kMaxLength=o,u.TYPED_ARRAY_SUPPORT=i(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{let _=new Uint8Array(1),x={foo:P(function(){return 42},"foo")};return Object.setPrototypeOf(x,Uint8Array.prototype),Object.setPrototypeOf(_,x),_.foo()===42}catch{return!1}}a(i,"Mo"),P(i,"typedArraySupport"),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:P(function(){if(u.isBuffer(this))return this.buffer},"get")}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:P(function(){if(u.isBuffer(this))return this.byteOffset},"get")});function s(_){if(_>o)throw new RangeError('The value "'+_+'" is invalid for option "size"');let x=new Uint8Array(_);return Object.setPrototypeOf(x,u.prototype),x}a(s,"he"),P(s,"createBuffer");function u(_,x,E){if(typeof _=="number"){if(typeof x=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(_)}return l(_,x,E)}a(u,"h"),P(u,"Buffer"),u.poolSize=8192;function l(_,x,E){if(typeof _=="string")return m(_,x);if(ArrayBuffer.isView(_))return g(_);if(_==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof _);if(er(_,ArrayBuffer)||_&&er(_.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(er(_,SharedArrayBuffer)||_&&er(_.buffer,SharedArrayBuffer)))return h(_,x,E);if(typeof _=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let U=_.valueOf&&_.valueOf();if(U!=null&&U!==_)return u.from(U,x,E);let H=v(_);if(H)return H;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof _[Symbol.toPrimitive]=="function")return u.from(_[Symbol.toPrimitive]("string"),x,E);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof _)}a(l,"Gn"),P(l,"from"),u.from=function(_,x,E){return l(_,x,E)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function d(_){if(typeof _!="number")throw new TypeError('"size" argument must be of type number');if(_<0)throw new RangeError('The value "'+_+'" is invalid for option "size"')}a(d,"Vn"),P(d,"assertSize");function p(_,x,E){return d(_),_<=0?s(_):x!==void 0?typeof E=="string"?s(_).fill(x,E):s(_).fill(x):s(_)}a(p,"Uo"),P(p,"alloc"),u.alloc=function(_,x,E){return p(_,x,E)};function f(_){return d(_),s(_<0?0:S(_)|0)}a(f,"$t"),P(f,"allocUnsafe"),u.allocUnsafe=function(_){return f(_)},u.allocUnsafeSlow=function(_){return f(_)};function m(_,x){if((typeof x!="string"||x==="")&&(x="utf8"),!u.isEncoding(x))throw new TypeError("Unknown encoding: "+x);let E=w(_,x)|0,U=s(E),H=U.write(_,x);return H!==E&&(U=U.slice(0,H)),U}a(m,"Do"),P(m,"fromString");function y(_){let x=_.length<0?0:S(_.length)|0,E=s(x);for(let U=0;U<x;U+=1)E[U]=_[U]&255;return E}a(y,"Wt"),P(y,"fromArrayLike");function g(_){if(er(_,Uint8Array)){let x=new Uint8Array(_);return h(x.buffer,x.byteOffset,x.byteLength)}return y(_)}a(g,"Oo"),P(g,"fromArrayView");function h(_,x,E){if(x<0||_.byteLength<x)throw new RangeError('"offset" is outside of buffer bounds');if(_.byteLength<x+(E||0))throw new RangeError('"length" is outside of buffer bounds');let U;return x===void 0&&E===void 0?U=new Uint8Array(_):E===void 0?U=new Uint8Array(_,x):U=new Uint8Array(_,x,E),Object.setPrototypeOf(U,u.prototype),U}a(h,"jt"),P(h,"fromArrayBuffer");function v(_){if(u.isBuffer(_)){let x=S(_.length)|0,E=s(x);return E.length===0||_.copy(E,0,0,x),E}if(_.length!==void 0)return typeof _.length!="number"||uo(_.length)?s(0):y(_);if(_.type==="Buffer"&&Array.isArray(_.data))return y(_.data)}a(v,"qo"),P(v,"fromObject");function S(_){if(_>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return _|0}a(S,"Gt"),P(S,"checked");function b(_){return+_!=_&&(_=0),u.alloc(+_)}a(b,"Qo"),P(b,"SlowBuffer"),u.isBuffer=P(function(_){return _!=null&&_._isBuffer===!0&&_!==u.prototype},"isBuffer"),u.compare=P(function(_,x){if(er(_,Uint8Array)&&(_=u.from(_,_.offset,_.byteLength)),er(x,Uint8Array)&&(x=u.from(x,x.offset,x.byteLength)),!u.isBuffer(_)||!u.isBuffer(x))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_===x)return 0;let E=_.length,U=x.length;for(let H=0,re=Math.min(E,U);H<re;++H)if(_[H]!==x[H]){E=_[H],U=x[H];break}return E<U?-1:U<E?1:0},"compare"),u.isEncoding=P(function(_){switch(String(_).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},"isEncoding"),u.concat=P(function(_,x){if(!Array.isArray(_))throw new TypeError('"list" argument must be an Array of Buffers');if(_.length===0)return u.alloc(0);let E;if(x===void 0)for(x=0,E=0;E<_.length;++E)x+=_[E].length;let U=u.allocUnsafe(x),H=0;for(E=0;E<_.length;++E){let re=_[E];if(er(re,Uint8Array))H+re.length>U.length?(u.isBuffer(re)||(re=u.from(re)),re.copy(U,H)):Uint8Array.prototype.set.call(U,re,H);else if(u.isBuffer(re))re.copy(U,H);else throw new TypeError('"list" argument must be an Array of Buffers');H+=re.length}return U},"concat");function w(_,x){if(u.isBuffer(_))return _.length;if(ArrayBuffer.isView(_)||er(_,ArrayBuffer))return _.byteLength;if(typeof _!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof _);let E=_.length,U=arguments.length>2&&arguments[2]===!0;if(!U&&E===0)return 0;let H=!1;for(;;)switch(x){case"ascii":case"latin1":case"binary":return E;case"utf8":case"utf-8":return Ki(_).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E*2;case"hex":return E>>>1;case"base64":return Mo(_).length;default:if(H)return U?-1:Ki(_).length;x=(""+x).toLowerCase(),H=!0}}a(w,"zn"),P(w,"byteLength"),u.byteLength=w;function k(_,x,E){let U=!1;if((x===void 0||x<0)&&(x=0),x>this.length||((E===void 0||E>this.length)&&(E=this.length),E<=0)||(E>>>=0,x>>>=0,E<=x))return"";for(_||(_="utf8");;)switch(_){case"hex":return ke(this,x,E);case"utf8":case"utf-8":return J(this,x,E);case"ascii":return ae(this,x,E);case"latin1":case"binary":return Se(this,x,E);case"base64":return Z(this,x,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Xe(this,x,E);default:if(U)throw new TypeError("Unknown encoding: "+_);_=(_+"").toLowerCase(),U=!0}}a(k,"No"),P(k,"slowToString"),u.prototype._isBuffer=!0;function $(_,x,E){let U=_[x];_[x]=_[E],_[E]=U}a($,"Ae"),P($,"swap"),u.prototype.swap16=P(function(){let _=this.length;if(_%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let x=0;x<_;x+=2)$(this,x,x+1);return this},"swap16"),u.prototype.swap32=P(function(){let _=this.length;if(_%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let x=0;x<_;x+=4)$(this,x,x+3),$(this,x+1,x+2);return this},"swap32"),u.prototype.swap64=P(function(){let _=this.length;if(_%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let x=0;x<_;x+=8)$(this,x,x+7),$(this,x+1,x+6),$(this,x+2,x+5),$(this,x+3,x+4);return this},"swap64"),u.prototype.toString=P(function(){let _=this.length;return _===0?"":arguments.length===0?J(this,0,_):k.apply(this,arguments)},"toString"),u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=P(function(_){if(!u.isBuffer(_))throw new TypeError("Argument must be a Buffer");return this===_?!0:u.compare(this,_)===0},"equals"),u.prototype.inspect=P(function(){let _="",x=e.INSPECT_MAX_BYTES;return _=this.toString("hex",0,x).replace(/(.{2})/g,"$1 ").trim(),this.length>x&&(_+=" ... "),"<Buffer "+_+">"},"inspect"),n&&(u.prototype[n]=u.prototype.inspect),u.prototype.compare=P(function(_,x,E,U,H){if(er(_,Uint8Array)&&(_=u.from(_,_.offset,_.byteLength)),!u.isBuffer(_))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof _);if(x===void 0&&(x=0),E===void 0&&(E=_?_.length:0),U===void 0&&(U=0),H===void 0&&(H=this.length),x<0||E>_.length||U<0||H>this.length)throw new RangeError("out of range index");if(U>=H&&x>=E)return 0;if(U>=H)return-1;if(x>=E)return 1;if(x>>>=0,E>>>=0,U>>>=0,H>>>=0,this===_)return 0;let re=H-U,pe=E-x,Ne=Math.min(re,pe),gt=this.slice(U,H),_t=_.slice(x,E);for(let ut=0;ut<Ne;++ut)if(gt[ut]!==_t[ut]){re=gt[ut],pe=_t[ut];break}return re<pe?-1:pe<re?1:0},"compare");function A(_,x,E,U,H){if(_.length===0)return-1;if(typeof E=="string"?(U=E,E=0):E>2147483647?E=2147483647:E<-2147483648&&(E=-2147483648),E=+E,uo(E)&&(E=H?0:_.length-1),E<0&&(E=_.length+E),E>=_.length){if(H)return-1;E=_.length-1}else if(E<0)if(H)E=0;else return-1;if(typeof x=="string"&&(x=u.from(x,U)),u.isBuffer(x))return x.length===0?-1:O(_,x,E,U,H);if(typeof x=="number")return x=x&255,typeof Uint8Array.prototype.indexOf=="function"?H?Uint8Array.prototype.indexOf.call(_,x,E):Uint8Array.prototype.lastIndexOf.call(_,x,E):O(_,[x],E,U,H);throw new TypeError("val must be string, number or Buffer")}a(A,"Kn"),P(A,"bidirectionalIndexOf");function O(_,x,E,U,H){let re=1,pe=_.length,Ne=x.length;if(U!==void 0&&(U=String(U).toLowerCase(),U==="ucs2"||U==="ucs-2"||U==="utf16le"||U==="utf-16le")){if(_.length<2||x.length<2)return-1;re=2,pe/=2,Ne/=2,E/=2}function gt(ut,Ft){return re===1?ut[Ft]:ut.readUInt16BE(Ft*re)}a(gt,"c"),P(gt,"read");let _t;if(H){let ut=-1;for(_t=E;_t<pe;_t++)if(gt(_,_t)===gt(x,ut===-1?0:_t-ut)){if(ut===-1&&(ut=_t),_t-ut+1===Ne)return ut*re}else ut!==-1&&(_t-=_t-ut),ut=-1}else for(E+Ne>pe&&(E=pe-Ne),_t=E;_t>=0;_t--){let ut=!0;for(let Ft=0;Ft<Ne;Ft++)if(gt(_,_t+Ft)!==gt(x,Ft)){ut=!1;break}if(ut)return _t}return-1}a(O,"jn"),P(O,"arrayIndexOf"),u.prototype.includes=P(function(_,x,E){return this.indexOf(_,x,E)!==-1},"includes"),u.prototype.indexOf=P(function(_,x,E){return A(this,_,x,E,!0)},"indexOf"),u.prototype.lastIndexOf=P(function(_,x,E){return A(this,_,x,E,!1)},"lastIndexOf");function R(_,x,E,U){E=Number(E)||0;let H=_.length-E;U?(U=Number(U),U>H&&(U=H)):U=H;let re=x.length;U>re/2&&(U=re/2);let pe;for(pe=0;pe<U;++pe){let Ne=parseInt(x.substr(pe*2,2),16);if(uo(Ne))return pe;_[E+pe]=Ne}return pe}a(R,"Wo"),P(R,"hexWrite");function I(_,x,E,U){return Pr(Ki(x,_.length-E),_,E,U)}a(I,"jo"),P(I,"utf8Write");function N(_,x,E,U){return Pr($m(x),_,E,U)}a(N,"Ho"),P(N,"asciiWrite");function z(_,x,E,U){return Pr(Mo(x),_,E,U)}a(z,"$o"),P(z,"base64Write");function X(_,x,E,U){return Pr(Rn(x,_.length-E),_,E,U)}a(X,"Go"),P(X,"ucs2Write"),u.prototype.write=P(function(_,x,E,U){if(x===void 0)U="utf8",E=this.length,x=0;else if(E===void 0&&typeof x=="string")U=x,E=this.length,x=0;else if(isFinite(x))x=x>>>0,isFinite(E)?(E=E>>>0,U===void 0&&(U="utf8")):(U=E,E=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let H=this.length-x;if((E===void 0||E>H)&&(E=H),_.length>0&&(E<0||x<0)||x>this.length)throw new RangeError("Attempt to write outside buffer bounds");U||(U="utf8");let re=!1;for(;;)switch(U){case"hex":return R(this,_,x,E);case"utf8":case"utf-8":return I(this,_,x,E);case"ascii":case"latin1":case"binary":return N(this,_,x,E);case"base64":return z(this,_,x,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,_,x,E);default:if(re)throw new TypeError("Unknown encoding: "+U);U=(""+U).toLowerCase(),re=!0}},"write"),u.prototype.toJSON=P(function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},"toJSON");function Z(_,x,E){return x===0&&E===_.length?t.fromByteArray(_):t.fromByteArray(_.slice(x,E))}a(Z,"Vo"),P(Z,"base64Slice");function J(_,x,E){E=Math.min(_.length,E);let U=[],H=x;for(;H<E;){let re=_[H],pe=null,Ne=re>239?4:re>223?3:re>191?2:1;if(H+Ne<=E){let gt,_t,ut,Ft;switch(Ne){case 1:re<128&&(pe=re);break;case 2:gt=_[H+1],(gt&192)===128&&(Ft=(re&31)<<6|gt&63,Ft>127&&(pe=Ft));break;case 3:gt=_[H+1],_t=_[H+2],(gt&192)===128&&(_t&192)===128&&(Ft=(re&15)<<12|(gt&63)<<6|_t&63,Ft>2047&&(Ft<55296||Ft>57343)&&(pe=Ft));break;case 4:gt=_[H+1],_t=_[H+2],ut=_[H+3],(gt&192)===128&&(_t&192)===128&&(ut&192)===128&&(Ft=(re&15)<<18|(gt&63)<<12|(_t&63)<<6|ut&63,Ft>65535&&Ft<1114112&&(pe=Ft))}}pe===null?(pe=65533,Ne=1):pe>65535&&(pe-=65536,U.push(pe>>>10&1023|55296),pe=56320|pe&1023),U.push(pe),H+=Ne}return ne(U)}a(J,"Yn"),P(J,"utf8Slice");var te=4096;function ne(_){let x=_.length;if(x<=te)return String.fromCharCode.apply(String,_);let E="",U=0;for(;U<x;)E+=String.fromCharCode.apply(String,_.slice(U,U+=te));return E}a(ne,"zo"),P(ne,"decodeCodePointsArray");function ae(_,x,E){let U="";E=Math.min(_.length,E);for(let H=x;H<E;++H)U+=String.fromCharCode(_[H]&127);return U}a(ae,"Ko"),P(ae,"asciiSlice");function Se(_,x,E){let U="";E=Math.min(_.length,E);for(let H=x;H<E;++H)U+=String.fromCharCode(_[H]);return U}a(Se,"Yo"),P(Se,"latin1Slice");function ke(_,x,E){let U=_.length;(!x||x<0)&&(x=0),(!E||E<0||E>U)&&(E=U);let H="";for(let re=x;re<E;++re)H+=Nm[_[re]];return H}a(ke,"Zo"),P(ke,"hexSlice");function Xe(_,x,E){let U=_.slice(x,E),H="";for(let re=0;re<U.length-1;re+=2)H+=String.fromCharCode(U[re]+U[re+1]*256);return H}a(Xe,"Jo"),P(Xe,"utf16leSlice"),u.prototype.slice=P(function(_,x){let E=this.length;_=~~_,x=x===void 0?E:~~x,_<0?(_+=E,_<0&&(_=0)):_>E&&(_=E),x<0?(x+=E,x<0&&(x=0)):x>E&&(x=E),x<_&&(x=_);let U=this.subarray(_,x);return Object.setPrototypeOf(U,u.prototype),U},"slice");function Ve(_,x,E){if(_%1!==0||_<0)throw new RangeError("offset is not uint");if(_+x>E)throw new RangeError("Trying to access beyond buffer length")}a(Ve,"q"),P(Ve,"checkOffset"),u.prototype.readUintLE=u.prototype.readUIntLE=P(function(_,x,E){_=_>>>0,x=x>>>0,E||Ve(_,x,this.length);let U=this[_],H=1,re=0;for(;++re<x&&(H*=256);)U+=this[_+re]*H;return U},"readUIntLE"),u.prototype.readUintBE=u.prototype.readUIntBE=P(function(_,x,E){_=_>>>0,x=x>>>0,E||Ve(_,x,this.length);let U=this[_+--x],H=1;for(;x>0&&(H*=256);)U+=this[_+--x]*H;return U},"readUIntBE"),u.prototype.readUint8=u.prototype.readUInt8=P(function(_,x){return _=_>>>0,x||Ve(_,1,this.length),this[_]},"readUInt8"),u.prototype.readUint16LE=u.prototype.readUInt16LE=P(function(_,x){return _=_>>>0,x||Ve(_,2,this.length),this[_]|this[_+1]<<8},"readUInt16LE"),u.prototype.readUint16BE=u.prototype.readUInt16BE=P(function(_,x){return _=_>>>0,x||Ve(_,2,this.length),this[_]<<8|this[_+1]},"readUInt16BE"),u.prototype.readUint32LE=u.prototype.readUInt32LE=P(function(_,x){return _=_>>>0,x||Ve(_,4,this.length),(this[_]|this[_+1]<<8|this[_+2]<<16)+this[_+3]*16777216},"readUInt32LE"),u.prototype.readUint32BE=u.prototype.readUInt32BE=P(function(_,x){return _=_>>>0,x||Ve(_,4,this.length),this[_]*16777216+(this[_+1]<<16|this[_+2]<<8|this[_+3])},"readUInt32BE"),u.prototype.readBigUInt64LE=Mr(P(function(_){_=_>>>0,Or(_,"offset");let x=this[_],E=this[_+7];(x===void 0||E===void 0)&&Do(_,this.length-8);let U=x+this[++_]*2**8+this[++_]*2**16+this[++_]*2**24,H=this[++_]+this[++_]*2**8+this[++_]*2**16+E*2**24;return BigInt(U)+(BigInt(H)<<BigInt(32))},"readBigUInt64LE")),u.prototype.readBigUInt64BE=Mr(P(function(_){_=_>>>0,Or(_,"offset");let x=this[_],E=this[_+7];(x===void 0||E===void 0)&&Do(_,this.length-8);let U=x*2**24+this[++_]*2**16+this[++_]*2**8+this[++_],H=this[++_]*2**24+this[++_]*2**16+this[++_]*2**8+E;return(BigInt(U)<<BigInt(32))+BigInt(H)},"readBigUInt64BE")),u.prototype.readIntLE=P(function(_,x,E){_=_>>>0,x=x>>>0,E||Ve(_,x,this.length);let U=this[_],H=1,re=0;for(;++re<x&&(H*=256);)U+=this[_+re]*H;return H*=128,U>=H&&(U-=Math.pow(2,8*x)),U},"readIntLE"),u.prototype.readIntBE=P(function(_,x,E){_=_>>>0,x=x>>>0,E||Ve(_,x,this.length);let U=x,H=1,re=this[_+--U];for(;U>0&&(H*=256);)re+=this[_+--U]*H;return H*=128,re>=H&&(re-=Math.pow(2,8*x)),re},"readIntBE"),u.prototype.readInt8=P(function(_,x){return _=_>>>0,x||Ve(_,1,this.length),this[_]&128?(255-this[_]+1)*-1:this[_]},"readInt8"),u.prototype.readInt16LE=P(function(_,x){_=_>>>0,x||Ve(_,2,this.length);let E=this[_]|this[_+1]<<8;return E&32768?E|4294901760:E},"readInt16LE"),u.prototype.readInt16BE=P(function(_,x){_=_>>>0,x||Ve(_,2,this.length);let E=this[_+1]|this[_]<<8;return E&32768?E|4294901760:E},"readInt16BE"),u.prototype.readInt32LE=P(function(_,x){return _=_>>>0,x||Ve(_,4,this.length),this[_]|this[_+1]<<8|this[_+2]<<16|this[_+3]<<24},"readInt32LE"),u.prototype.readInt32BE=P(function(_,x){return _=_>>>0,x||Ve(_,4,this.length),this[_]<<24|this[_+1]<<16|this[_+2]<<8|this[_+3]},"readInt32BE"),u.prototype.readBigInt64LE=Mr(P(function(_){_=_>>>0,Or(_,"offset");let x=this[_],E=this[_+7];(x===void 0||E===void 0)&&Do(_,this.length-8);let U=this[_+4]+this[_+5]*2**8+this[_+6]*2**16+(E<<24);return(BigInt(U)<<BigInt(32))+BigInt(x+this[++_]*2**8+this[++_]*2**16+this[++_]*2**24)},"readBigInt64LE")),u.prototype.readBigInt64BE=Mr(P(function(_){_=_>>>0,Or(_,"offset");let x=this[_],E=this[_+7];(x===void 0||E===void 0)&&Do(_,this.length-8);let U=(x<<24)+this[++_]*2**16+this[++_]*2**8+this[++_];return(BigInt(U)<<BigInt(32))+BigInt(this[++_]*2**24+this[++_]*2**16+this[++_]*2**8+E)},"readBigInt64BE")),u.prototype.readFloatLE=P(function(_,x){return _=_>>>0,x||Ve(_,4,this.length),r.read(this,_,!0,23,4)},"readFloatLE"),u.prototype.readFloatBE=P(function(_,x){return _=_>>>0,x||Ve(_,4,this.length),r.read(this,_,!1,23,4)},"readFloatBE"),u.prototype.readDoubleLE=P(function(_,x){return _=_>>>0,x||Ve(_,8,this.length),r.read(this,_,!0,52,8)},"readDoubleLE"),u.prototype.readDoubleBE=P(function(_,x){return _=_>>>0,x||Ve(_,8,this.length),r.read(this,_,!1,52,8)},"readDoubleBE");function G(_,x,E,U,H,re){if(!u.isBuffer(_))throw new TypeError('"buffer" argument must be a Buffer instance');if(x>H||x<re)throw new RangeError('"value" argument is out of bounds');if(E+U>_.length)throw new RangeError("Index out of range")}a(G,"V"),P(G,"checkInt"),u.prototype.writeUintLE=u.prototype.writeUIntLE=P(function(_,x,E,U){if(_=+_,x=x>>>0,E=E>>>0,!U){let pe=Math.pow(2,8*E)-1;G(this,_,x,E,pe,0)}let H=1,re=0;for(this[x]=_&255;++re<E&&(H*=256);)this[x+re]=_/H&255;return x+E},"writeUIntLE"),u.prototype.writeUintBE=u.prototype.writeUIntBE=P(function(_,x,E,U){if(_=+_,x=x>>>0,E=E>>>0,!U){let pe=Math.pow(2,8*E)-1;G(this,_,x,E,pe,0)}let H=E-1,re=1;for(this[x+H]=_&255;--H>=0&&(re*=256);)this[x+H]=_/re&255;return x+E},"writeUIntBE"),u.prototype.writeUint8=u.prototype.writeUInt8=P(function(_,x,E){return _=+_,x=x>>>0,E||G(this,_,x,1,255,0),this[x]=_&255,x+1},"writeUInt8"),u.prototype.writeUint16LE=u.prototype.writeUInt16LE=P(function(_,x,E){return _=+_,x=x>>>0,E||G(this,_,x,2,65535,0),this[x]=_&255,this[x+1]=_>>>8,x+2},"writeUInt16LE"),u.prototype.writeUint16BE=u.prototype.writeUInt16BE=P(function(_,x,E){return _=+_,x=x>>>0,E||G(this,_,x,2,65535,0),this[x]=_>>>8,this[x+1]=_&255,x+2},"writeUInt16BE"),u.prototype.writeUint32LE=u.prototype.writeUInt32LE=P(function(_,x,E){return _=+_,x=x>>>0,E||G(this,_,x,4,4294967295,0),this[x+3]=_>>>24,this[x+2]=_>>>16,this[x+1]=_>>>8,this[x]=_&255,x+4},"writeUInt32LE"),u.prototype.writeUint32BE=u.prototype.writeUInt32BE=P(function(_,x,E){return _=+_,x=x>>>0,E||G(this,_,x,4,4294967295,0),this[x]=_>>>24,this[x+1]=_>>>16,this[x+2]=_>>>8,this[x+3]=_&255,x+4},"writeUInt32BE");function Re(_,x,E,U,H){Gs(x,U,H,_,E,7);let re=Number(x&BigInt(4294967295));_[E++]=re,re=re>>8,_[E++]=re,re=re>>8,_[E++]=re,re=re>>8,_[E++]=re;let pe=Number(x>>BigInt(32)&BigInt(4294967295));return _[E++]=pe,pe=pe>>8,_[E++]=pe,pe=pe>>8,_[E++]=pe,pe=pe>>8,_[E++]=pe,E}a(Re,"Zn"),P(Re,"wrtBigUInt64LE");function ye(_,x,E,U,H){Gs(x,U,H,_,E,7);let re=Number(x&BigInt(4294967295));_[E+7]=re,re=re>>8,_[E+6]=re,re=re>>8,_[E+5]=re,re=re>>8,_[E+4]=re;let pe=Number(x>>BigInt(32)&BigInt(4294967295));return _[E+3]=pe,pe=pe>>8,_[E+2]=pe,pe=pe>>8,_[E+1]=pe,pe=pe>>8,_[E]=pe,E+8}a(ye,"Jn"),P(ye,"wrtBigUInt64BE"),u.prototype.writeBigUInt64LE=Mr(P(function(_,x=0){return Re(this,_,x,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64LE")),u.prototype.writeBigUInt64BE=Mr(P(function(_,x=0){return ye(this,_,x,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64BE")),u.prototype.writeIntLE=P(function(_,x,E,U){if(_=+_,x=x>>>0,!U){let Ne=Math.pow(2,8*E-1);G(this,_,x,E,Ne-1,-Ne)}let H=0,re=1,pe=0;for(this[x]=_&255;++H<E&&(re*=256);)_<0&&pe===0&&this[x+H-1]!==0&&(pe=1),this[x+H]=(_/re>>0)-pe&255;return x+E},"writeIntLE"),u.prototype.writeIntBE=P(function(_,x,E,U){if(_=+_,x=x>>>0,!U){let Ne=Math.pow(2,8*E-1);G(this,_,x,E,Ne-1,-Ne)}let H=E-1,re=1,pe=0;for(this[x+H]=_&255;--H>=0&&(re*=256);)_<0&&pe===0&&this[x+H+1]!==0&&(pe=1),this[x+H]=(_/re>>0)-pe&255;return x+E},"writeIntBE"),u.prototype.writeInt8=P(function(_,x,E){return _=+_,x=x>>>0,E||G(this,_,x,1,127,-128),_<0&&(_=255+_+1),this[x]=_&255,x+1},"writeInt8"),u.prototype.writeInt16LE=P(function(_,x,E){return _=+_,x=x>>>0,E||G(this,_,x,2,32767,-32768),this[x]=_&255,this[x+1]=_>>>8,x+2},"writeInt16LE"),u.prototype.writeInt16BE=P(function(_,x,E){return _=+_,x=x>>>0,E||G(this,_,x,2,32767,-32768),this[x]=_>>>8,this[x+1]=_&255,x+2},"writeInt16BE"),u.prototype.writeInt32LE=P(function(_,x,E){return _=+_,x=x>>>0,E||G(this,_,x,4,2147483647,-2147483648),this[x]=_&255,this[x+1]=_>>>8,this[x+2]=_>>>16,this[x+3]=_>>>24,x+4},"writeInt32LE"),u.prototype.writeInt32BE=P(function(_,x,E){return _=+_,x=x>>>0,E||G(this,_,x,4,2147483647,-2147483648),_<0&&(_=4294967295+_+1),this[x]=_>>>24,this[x+1]=_>>>16,this[x+2]=_>>>8,this[x+3]=_&255,x+4},"writeInt32BE"),u.prototype.writeBigInt64LE=Mr(P(function(_,x=0){return Re(this,_,x,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64LE")),u.prototype.writeBigInt64BE=Mr(P(function(_,x=0){return ye(this,_,x,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64BE"));function F(_,x,E,U,H,re){if(E+U>_.length)throw new RangeError("Index out of range");if(E<0)throw new RangeError("Index out of range")}a(F,"Xn"),P(F,"checkIEEE754");function Ke(_,x,E,U,H){return x=+x,E=E>>>0,H||F(_,x,E,4,34028234663852886e22,-34028234663852886e22),r.write(_,x,E,U,23,4),E+4}a(Ke,"ei"),P(Ke,"writeFloat"),u.prototype.writeFloatLE=P(function(_,x,E){return Ke(this,_,x,!0,E)},"writeFloatLE"),u.prototype.writeFloatBE=P(function(_,x,E){return Ke(this,_,x,!1,E)},"writeFloatBE");function Pt(_,x,E,U,H){return x=+x,E=E>>>0,H||F(_,x,E,8,17976931348623157e292,-17976931348623157e292),r.write(_,x,E,U,52,8),E+8}a(Pt,"ti"),P(Pt,"writeDouble"),u.prototype.writeDoubleLE=P(function(_,x,E){return Pt(this,_,x,!0,E)},"writeDoubleLE"),u.prototype.writeDoubleBE=P(function(_,x,E){return Pt(this,_,x,!1,E)},"writeDoubleBE"),u.prototype.copy=P(function(_,x,E,U){if(!u.isBuffer(_))throw new TypeError("argument should be a Buffer");if(E||(E=0),!U&&U!==0&&(U=this.length),x>=_.length&&(x=_.length),x||(x=0),U>0&&U<E&&(U=E),U===E||_.length===0||this.length===0)return 0;if(x<0)throw new RangeError("targetStart out of bounds");if(E<0||E>=this.length)throw new RangeError("Index out of range");if(U<0)throw new RangeError("sourceEnd out of bounds");U>this.length&&(U=this.length),_.length-x<U-E&&(U=_.length-x+E);let H=U-E;return this===_&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(x,E,U):Uint8Array.prototype.set.call(_,this.subarray(E,U),x),H},"copy"),u.prototype.fill=P(function(_,x,E,U){if(typeof _=="string"){if(typeof x=="string"?(U=x,x=0,E=this.length):typeof E=="string"&&(U=E,E=this.length),U!==void 0&&typeof U!="string")throw new TypeError("encoding must be a string");if(typeof U=="string"&&!u.isEncoding(U))throw new TypeError("Unknown encoding: "+U);if(_.length===1){let re=_.charCodeAt(0);(U==="utf8"&&re<128||U==="latin1")&&(_=re)}}else typeof _=="number"?_=_&255:typeof _=="boolean"&&(_=Number(_));if(x<0||this.length<x||this.length<E)throw new RangeError("Out of range index");if(E<=x)return this;x=x>>>0,E=E===void 0?this.length:E>>>0,_||(_=0);let H;if(typeof _=="number")for(H=x;H<E;++H)this[H]=_;else{let re=u.isBuffer(_)?_:u.from(_,U),pe=re.length;if(pe===0)throw new TypeError('The value "'+_+'" is invalid for argument "value"');for(H=0;H<E-x;++H)this[H+x]=re[H%pe]}return this},"fill");var Nt={};function gn(_,x,E){var U;Nt[_]=(U=class extends E{static{a(this,"n")}constructor(){super(),Object.defineProperty(this,"message",{value:x.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${_}]`,this.stack,delete this.name}get code(){return _}set code(H){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:H,writable:!0})}toString(){return`${this.name} [${_}]: ${this.message}`}},P(U,"NodeError"),U)}a(gn,"Vt"),P(gn,"E"),gn("ERR_BUFFER_OUT_OF_BOUNDS",function(_){return _?`${_} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),gn("ERR_INVALID_ARG_TYPE",function(_,x){return`The "${_}" argument must be of type number. Received type ${typeof x}`},TypeError),gn("ERR_OUT_OF_RANGE",function(_,x,E){let U=`The value of "${_}" is out of range.`,H=E;return Number.isInteger(E)&&Math.abs(E)>2**32?H=Zi(String(E)):typeof E=="bigint"&&(H=String(E),(E>BigInt(2)**BigInt(32)||E<-(BigInt(2)**BigInt(32)))&&(H=Zi(H)),H+="n"),U+=` It must be ${x}. Received ${H}`,U},RangeError);function Zi(_){let x="",E=_.length,U=_[0]==="-"?1:0;for(;E>=U+4;E-=3)x=`_${_.slice(E-3,E)}${x}`;return`${_.slice(0,E)}${x}`}a(Zi,"$n"),P(Zi,"addNumericalSeparator");function pi(_,x,E){Or(x,"offset"),(_[x]===void 0||_[x+E]===void 0)&&Do(x,_.length-(E+1))}a(pi,"Xo"),P(pi,"checkBounds");function Gs(_,x,E,U,H,re){if(_>E||_<x){let pe=typeof x=="bigint"?"n":"",Ne;throw re>3?x===0||x===BigInt(0)?Ne=`>= 0${pe} and < 2${pe} ** ${(re+1)*8}${pe}`:Ne=`>= -(2${pe} ** ${(re+1)*8-1}${pe}) and < 2 ** ${(re+1)*8-1}${pe}`:Ne=`>= ${x}${pe} and <= ${E}${pe}`,new Nt.ERR_OUT_OF_RANGE("value",Ne,_)}pi(U,H,re)}a(Gs,"ri"),P(Gs,"checkIntBI");function Or(_,x){if(typeof _!="number")throw new Nt.ERR_INVALID_ARG_TYPE(x,"number",_)}a(Or,"Be"),P(Or,"validateNumber");function Do(_,x,E){throw Math.floor(_)!==_?(Or(_,E),new Nt.ERR_OUT_OF_RANGE(E||"offset","an integer",_)):x<0?new Nt.ERR_BUFFER_OUT_OF_BOUNDS:new Nt.ERR_OUT_OF_RANGE(E||"offset",`>= ${E?1:0} and <= ${x}`,_)}a(Do,"je"),P(Do,"boundsError");var Ws=/[^+/0-9A-Za-z-_]/g;function Rm(_){if(_=_.split("=")[0],_=_.trim().replace(Ws,""),_.length<2)return"";for(;_.length%4!==0;)_=_+"=";return _}a(Rm,"ta"),P(Rm,"base64clean");function Ki(_,x){x=x||1/0;let E,U=_.length,H=null,re=[];for(let pe=0;pe<U;++pe){if(E=_.charCodeAt(pe),E>55295&&E<57344){if(!H){if(E>56319){(x-=3)>-1&&re.push(239,191,189);continue}else if(pe+1===U){(x-=3)>-1&&re.push(239,191,189);continue}H=E;continue}if(E<56320){(x-=3)>-1&&re.push(239,191,189),H=E;continue}E=(H-55296<<10|E-56320)+65536}else H&&(x-=3)>-1&&re.push(239,191,189);if(H=null,E<128){if((x-=1)<0)break;re.push(E)}else if(E<2048){if((x-=2)<0)break;re.push(E>>6|192,E&63|128)}else if(E<65536){if((x-=3)<0)break;re.push(E>>12|224,E>>6&63|128,E&63|128)}else if(E<1114112){if((x-=4)<0)break;re.push(E>>18|240,E>>12&63|128,E>>6&63|128,E&63|128)}else throw new Error("Invalid code point")}return re}a(Ki,"Ht"),P(Ki,"utf8ToBytes");function $m(_){let x=[];for(let E=0;E<_.length;++E)x.push(_.charCodeAt(E)&255);return x}a($m,"ra"),P($m,"asciiToBytes");function Rn(_,x){let E,U,H,re=[];for(let pe=0;pe<_.length&&!((x-=2)<0);++pe)E=_.charCodeAt(pe),U=E>>8,H=E%256,re.push(H),re.push(U);return re}a(Rn,"na"),P(Rn,"utf16leToBytes");function Mo(_){return t.toByteArray(Rm(_))}a(Mo,"ni"),P(Mo,"base64ToBytes");function Pr(_,x,E,U){let H;for(H=0;H<U&&!(H+E>=x.length||H>=_.length);++H)x[H+E]=_[H];return H}a(Pr,"ht"),P(Pr,"blitBuffer");function er(_,x){return _ instanceof x||_!=null&&_.constructor!=null&&_.constructor.name!=null&&_.constructor.name===x.name}a(er,"ue"),P(er,"isInstance");function uo(_){return _!==_}a(uo,"zt"),P(uo,"numberIsNaN");var Nm=(function(){let _="0123456789abcdef",x=new Array(256);for(let E=0;E<16;++E){let U=E*16;for(let H=0;H<16;++H)x[U+H]=_[E]+_[H]}return x})();function Mr(_){return typeof BigInt>"u"?mi:_}a(Mr,"we"),P(Mr,"defineBigIntMethod");function mi(){throw new Error("BigInt not supported")}a(mi,"sa"),P(mi,"BufferBigIntNotDefined")}),Ce=vn(()=>{"use strict";pf=globalThis,pT=globalThis.setImmediate??(e=>setTimeout(e,0)),tY=globalThis.clearImmediate??(e=>clearTimeout(e)),Ue=typeof globalThis.Buffer=="function"&&typeof globalThis.Buffer.allocUnsafe=="function"?globalThis.Buffer:eY().Buffer,Ye=globalThis.process??{},Ye.env??(Ye.env={});try{Ye.nextTick(()=>{})}catch{let e=Promise.resolve();Ye.nextTick=e.then.bind(e)}}),as=et((e,t)=>{"use strict";Ce();var r=typeof Reflect=="object"?Reflect:null,n=r&&typeof r.apply=="function"?r.apply:P(function(A,O,R){return Function.prototype.apply.call(A,O,R)},"ReflectApply"),o;r&&typeof r.ownKeys=="function"?o=r.ownKeys:Object.getOwnPropertySymbols?o=P(function(A){return Object.getOwnPropertyNames(A).concat(Object.getOwnPropertySymbols(A))},"ReflectOwnKeys"):o=P(function(A){return Object.getOwnPropertyNames(A)},"ReflectOwnKeys");function i(A){console&&console.warn&&console.warn(A)}a(i,"oa"),P(i,"ProcessEmitWarning");var s=Number.isNaN||P(function(A){return A!==A},"NumberIsNaN");function u(){u.init.call(this)}a(u,"B"),P(u,"EventEmitter"),t.exports=u,t.exports.once=w,u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var l=10;function d(A){if(typeof A!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof A)}a(d,"dt"),P(d,"checkListener"),Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:P(function(){return l},"get"),set:P(function(A){if(typeof A!="number"||A<0||s(A))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+A+".");l=A},"set")}),u.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=P(function(A){if(typeof A!="number"||A<0||s(A))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+A+".");return this._maxListeners=A,this},"setMaxListeners");function p(A){return A._maxListeners===void 0?u.defaultMaxListeners:A._maxListeners}a(p,"ui"),P(p,"_getMaxListeners"),u.prototype.getMaxListeners=P(function(){return p(this)},"getMaxListeners"),u.prototype.emit=P(function(A){for(var O=[],R=1;R<arguments.length;R++)O.push(arguments[R]);var I=A==="error",N=this._events;if(N!==void 0)I=I&&N.error===void 0;else if(!I)return!1;if(I){var z;if(O.length>0&&(z=O[0]),z instanceof Error)throw z;var X=new Error("Unhandled error."+(z?" ("+z.message+")":""));throw X.context=z,X}var Z=N[A];if(Z===void 0)return!1;if(typeof Z=="function")n(Z,this,O);else for(var J=Z.length,te=v(Z,J),R=0;R<J;++R)n(te[R],this,O);return!0},"emit");function f(A,O,R,I){var N,z,X;if(d(R),z=A._events,z===void 0?(z=A._events=Object.create(null),A._eventsCount=0):(z.newListener!==void 0&&(A.emit("newListener",O,R.listener?R.listener:R),z=A._events),X=z[O]),X===void 0)X=z[O]=R,++A._eventsCount;else if(typeof X=="function"?X=z[O]=I?[R,X]:[X,R]:I?X.unshift(R):X.push(R),N=p(A),N>0&&X.length>N&&!X.warned){X.warned=!0;var Z=new Error("Possible EventEmitter memory leak detected. "+X.length+" "+String(O)+" listeners added. Use emitter.setMaxListeners() to increase limit");Z.name="MaxListenersExceededWarning",Z.emitter=A,Z.type=O,Z.count=X.length,i(Z)}return A}a(f,"ci"),P(f,"_addListener"),u.prototype.addListener=P(function(A,O){return f(this,A,O,!1)},"addListener"),u.prototype.on=u.prototype.addListener,u.prototype.prependListener=P(function(A,O){return f(this,A,O,!0)},"prependListener");function m(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}a(m,"aa"),P(m,"onceWrapper");function y(A,O,R){var I={fired:!1,wrapFn:void 0,target:A,type:O,listener:R},N=m.bind(I);return N.listener=R,I.wrapFn=N,N}a(y,"li"),P(y,"_onceWrap"),u.prototype.once=P(function(A,O){return d(O),this.on(A,y(this,A,O)),this},"once"),u.prototype.prependOnceListener=P(function(A,O){return d(O),this.prependListener(A,y(this,A,O)),this},"prependOnceListener"),u.prototype.removeListener=P(function(A,O){var R,I,N,z,X;if(d(O),I=this._events,I===void 0)return this;if(R=I[A],R===void 0)return this;if(R===O||R.listener===O)--this._eventsCount===0?this._events=Object.create(null):(delete I[A],I.removeListener&&this.emit("removeListener",A,R.listener||O));else if(typeof R!="function"){for(N=-1,z=R.length-1;z>=0;z--)if(R[z]===O||R[z].listener===O){X=R[z].listener,N=z;break}if(N<0)return this;N===0?R.shift():S(R,N),R.length===1&&(I[A]=R[0]),I.removeListener!==void 0&&this.emit("removeListener",A,X||O)}return this},"removeListener"),u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=P(function(A){var O,R,I;if(R=this._events,R===void 0)return this;if(R.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):R[A]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete R[A]),this;if(arguments.length===0){var N=Object.keys(R),z;for(I=0;I<N.length;++I)z=N[I],z!=="removeListener"&&this.removeAllListeners(z);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(O=R[A],typeof O=="function")this.removeListener(A,O);else if(O!==void 0)for(I=O.length-1;I>=0;I--)this.removeListener(A,O[I]);return this},"removeAllListeners");function g(A,O,R){var I=A._events;if(I===void 0)return[];var N=I[O];return N===void 0?[]:typeof N=="function"?R?[N.listener||N]:[N]:R?b(N):v(N,N.length)}a(g,"fi"),P(g,"_listeners"),u.prototype.listeners=P(function(A){return g(this,A,!0)},"listeners"),u.prototype.rawListeners=P(function(A){return g(this,A,!1)},"rawListeners"),u.listenerCount=function(A,O){return typeof A.listenerCount=="function"?A.listenerCount(O):h.call(A,O)},u.prototype.listenerCount=h;function h(A){var O=this._events;if(O!==void 0){var R=O[A];if(typeof R=="function")return 1;if(R!==void 0)return R.length}return 0}a(h,"hi"),P(h,"listenerCount"),u.prototype.eventNames=P(function(){return this._eventsCount>0?o(this._events):[]},"eventNames");function v(A,O){for(var R=new Array(O),I=0;I<O;++I)R[I]=A[I];return R}a(v,"pi"),P(v,"arrayClone");function S(A,O){for(;O+1<A.length;O++)A[O]=A[O+1];A.pop()}a(S,"ua"),P(S,"spliceOne");function b(A){for(var O=new Array(A.length),R=0;R<O.length;++R)O[R]=A[R].listener||A[R];return O}a(b,"ca"),P(b,"unwrapListeners");function w(A,O){return new Promise(function(R,I){function N(X){A.removeListener(O,z),I(X)}a(N,"i"),P(N,"errorListener");function z(){typeof A.removeListener=="function"&&A.removeListener("error",N),R([].slice.call(arguments))}a(z,"s"),P(z,"resolver"),$(A,O,z,{once:!0}),O!=="error"&&k(A,N,{once:!0})})}a(w,"la"),P(w,"once");function k(A,O,R){typeof A.on=="function"&&$(A,"error",O,R)}a(k,"fa"),P(k,"addErrorHandlerIfEventEmitter");function $(A,O,R,I){if(typeof A.on=="function")I.once?A.once(O,R):A.on(O,R);else if(typeof A.addEventListener=="function")A.addEventListener(O,P(a(function N(z){I.once&&A.removeEventListener(O,N),R(z)},"i"),"wrapListener"));else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof A)}a($,"di"),P($,"eventTargetAgnosticAddListener")}),Yj={};ho(Yj,{Socket:a(()=>os,"Socket"),isIP:a(()=>ez,"isIP")});a(ez,"ha");jl=vn(()=>{"use strict";Ce(),Vj=is(as(),1),P(ez,"isIP"),sT=/^[^.]+\./,Rl=class je extends Vj.EventEmitter{static{a(this,"S")}constructor(){super(...arguments),Fe(this,"opts",{}),Fe(this,"connecting",!1),Fe(this,"pending",!0),Fe(this,"writable",!0),Fe(this,"encrypted",!1),Fe(this,"authorized",!1),Fe(this,"destroyed",!1),Fe(this,"ws",null),Fe(this,"writeBuffer"),Fe(this,"tlsState",0),Fe(this,"tlsRead"),Fe(this,"tlsWrite")}static get poolQueryViaFetch(){return je.opts.poolQueryViaFetch??je.defaults.poolQueryViaFetch}static set poolQueryViaFetch(t){je.opts.poolQueryViaFetch=t}static get fetchEndpoint(){return je.opts.fetchEndpoint??je.defaults.fetchEndpoint}static set fetchEndpoint(t){je.opts.fetchEndpoint=t}static get fetchConnectionCache(){return!0}static set fetchConnectionCache(t){console.warn("The `fetchConnectionCache` option is deprecated (now always `true`)")}static get fetchFunction(){return je.opts.fetchFunction??je.defaults.fetchFunction}static set fetchFunction(t){je.opts.fetchFunction=t}static get webSocketConstructor(){return je.opts.webSocketConstructor??je.defaults.webSocketConstructor}static set webSocketConstructor(t){je.opts.webSocketConstructor=t}get webSocketConstructor(){return this.opts.webSocketConstructor??je.webSocketConstructor}set webSocketConstructor(t){this.opts.webSocketConstructor=t}static get wsProxy(){return je.opts.wsProxy??je.defaults.wsProxy}static set wsProxy(t){je.opts.wsProxy=t}get wsProxy(){return this.opts.wsProxy??je.wsProxy}set wsProxy(t){this.opts.wsProxy=t}static get coalesceWrites(){return je.opts.coalesceWrites??je.defaults.coalesceWrites}static set coalesceWrites(t){je.opts.coalesceWrites=t}get coalesceWrites(){return this.opts.coalesceWrites??je.coalesceWrites}set coalesceWrites(t){this.opts.coalesceWrites=t}static get useSecureWebSocket(){return je.opts.useSecureWebSocket??je.defaults.useSecureWebSocket}static set useSecureWebSocket(t){je.opts.useSecureWebSocket=t}get useSecureWebSocket(){return this.opts.useSecureWebSocket??je.useSecureWebSocket}set useSecureWebSocket(t){this.opts.useSecureWebSocket=t}static get forceDisablePgSSL(){return je.opts.forceDisablePgSSL??je.defaults.forceDisablePgSSL}static set forceDisablePgSSL(t){je.opts.forceDisablePgSSL=t}get forceDisablePgSSL(){return this.opts.forceDisablePgSSL??je.forceDisablePgSSL}set forceDisablePgSSL(t){this.opts.forceDisablePgSSL=t}static get disableSNI(){return je.opts.disableSNI??je.defaults.disableSNI}static set disableSNI(t){je.opts.disableSNI=t}get disableSNI(){return this.opts.disableSNI??je.disableSNI}set disableSNI(t){this.opts.disableSNI=t}static get disableWarningInBrowsers(){return je.opts.disableWarningInBrowsers??je.defaults.disableWarningInBrowsers}static set disableWarningInBrowsers(t){je.opts.disableWarningInBrowsers=t}get disableWarningInBrowsers(){return this.opts.disableWarningInBrowsers??je.disableWarningInBrowsers}set disableWarningInBrowsers(t){this.opts.disableWarningInBrowsers=t}static get pipelineConnect(){return je.opts.pipelineConnect??je.defaults.pipelineConnect}static set pipelineConnect(t){je.opts.pipelineConnect=t}get pipelineConnect(){return this.opts.pipelineConnect??je.pipelineConnect}set pipelineConnect(t){this.opts.pipelineConnect=t}static get subtls(){return je.opts.subtls??je.defaults.subtls}static set subtls(t){je.opts.subtls=t}get subtls(){return this.opts.subtls??je.subtls}set subtls(t){this.opts.subtls=t}static get pipelineTLS(){return je.opts.pipelineTLS??je.defaults.pipelineTLS}static set pipelineTLS(t){je.opts.pipelineTLS=t}get pipelineTLS(){return this.opts.pipelineTLS??je.pipelineTLS}set pipelineTLS(t){this.opts.pipelineTLS=t}static get rootCerts(){return je.opts.rootCerts??je.defaults.rootCerts}static set rootCerts(t){je.opts.rootCerts=t}get rootCerts(){return this.opts.rootCerts??je.rootCerts}set rootCerts(t){this.opts.rootCerts=t}wsProxyAddrForHost(t,r){let n=this.wsProxy;if(n===void 0)throw new Error("No WebSocket proxy is configured. Please see https://github.com/neondatabase/serverless/blob/main/CONFIG.md#wsproxy-string--host-string-port-number--string--string");return typeof n=="function"?n(t,r):`${n}?address=${t}:${r}`}setNoDelay(){return this}setKeepAlive(){return this}ref(){return this}unref(){return this}connect(t,r,n){this.connecting=!0,n&&this.once("connect",n);let o=P(()=>{this.connecting=!1,this.pending=!1,this.emit("connect"),this.emit("ready")},"handleWebSocketOpen"),i=P((u,l=!1)=>{u.binaryType="arraybuffer",u.addEventListener("error",d=>{this.emit("error",d),this.emit("close")}),u.addEventListener("message",d=>{if(this.tlsState===0){let p=Ue.from(d.data);this.emit("data",p)}}),u.addEventListener("close",()=>{this.emit("close")}),l?o():u.addEventListener("open",o)},"configureWebSocket"),s;try{s=this.wsProxyAddrForHost(r,typeof t=="string"?parseInt(t,10):t)}catch(u){this.emit("error",u),this.emit("close");return}try{let u=(this.useSecureWebSocket?"wss:":"ws:")+"//"+s;if(this.webSocketConstructor!==void 0)this.ws=new this.webSocketConstructor(u),i(this.ws);else try{this.ws=new WebSocket(u),i(this.ws)}catch{this.ws=new __unstable_WebSocket(u),i(this.ws)}}catch(u){let l=(this.useSecureWebSocket?"https:":"http:")+"//"+s;fetch(l,{headers:{Upgrade:"websocket"}}).then(d=>{if(this.ws=d.webSocket,this.ws==null)throw u;this.ws.accept(),i(this.ws,!0)}).catch(d=>{this.emit("error",new Error(`All attempts to open a WebSocket to connect to the database failed. Please refer to https://github.com/neondatabase/serverless/blob/main/CONFIG.md#websocketconstructor-typeof-websocket--undefined. Details: ${d}`)),this.emit("close")})}}async startTls(t){if(this.subtls===void 0)throw new Error("For Postgres SSL connections, you must set `neonConfig.subtls` to the subtls library. See https://github.com/neondatabase/serverless/blob/main/CONFIG.md for more information.");this.tlsState=1;let r=await this.subtls.TrustedCert.databaseFromPEM(this.rootCerts),n=new this.subtls.WebSocketReadQueue(this.ws),o=n.read.bind(n),i=this.rawWrite.bind(this),{read:s,write:u}=await this.subtls.startTls(t,r,o,i,{useSNI:!this.disableSNI,expectPreData:this.pipelineTLS?new Uint8Array([83]):void 0});this.tlsRead=s,this.tlsWrite=u,this.tlsState=2,this.encrypted=!0,this.authorized=!0,this.emit("secureConnection",this),this.tlsReadLoop()}async tlsReadLoop(){for(;;){let t=await this.tlsRead();if(t===void 0)break;{let r=Ue.from(t);this.emit("data",r)}}}rawWrite(t){if(!this.coalesceWrites){this.ws&&this.ws.send(t);return}if(this.writeBuffer===void 0)this.writeBuffer=t,setTimeout(()=>{this.ws&&this.ws.send(this.writeBuffer),this.writeBuffer=void 0},0);else{let r=new Uint8Array(this.writeBuffer.length+t.length);r.set(this.writeBuffer),r.set(t,this.writeBuffer.length),this.writeBuffer=r}}write(t,r="utf8",n=o=>{}){return t.length===0?(n(),!0):(typeof t=="string"&&(t=Ue.from(t,r)),this.tlsState===0?(this.rawWrite(t),n()):this.tlsState===1?this.once("secureConnection",()=>{this.write(t,r,n)}):(this.tlsWrite(t),n()),!0)}end(t=Ue.alloc(0),r="utf8",n=()=>{}){return this.write(t,r,()=>{this.ws.close(),n()}),this}destroy(){return this.destroyed=!0,this.end()}},P(Rl,"Socket"),Fe(Rl,"defaults",{poolQueryViaFetch:!1,fetchEndpoint:P((e,t,r)=>{let n;return r?.jwtAuth?n=e.replace(sT,"apiauth."):n=e.replace(sT,"api."),"https://"+n+"/sql"},"fetchEndpoint"),fetchConnectionCache:!0,fetchFunction:void 0,webSocketConstructor:void 0,wsProxy:P(e=>e+"/v2","wsProxy"),useSecureWebSocket:!0,forceDisablePgSSL:!0,coalesceWrites:!0,pipelineConnect:"password",subtls:void 0,rootCerts:"",pipelineTLS:!1,disableSNI:!1,disableWarningInBrowsers:!1}),Fe(Rl,"opts",{}),os=Rl}),tz={};ho(tz,{parse:a(()=>mT,"parse")});a(mT,"Yt");rz=vn(()=>{"use strict";Ce(),P(mT,"parse")}),nz=et(e=>{"use strict";Ce(),e.parse=function(o,i){return new r(o,i).parse()};var t=class oz{static{a(this,"vt")}constructor(i,s){this.source=i,this.transform=s||n,this.position=0,this.entries=[],this.recorded=[],this.dimension=0}isEof(){return this.position>=this.source.length}nextCharacter(){var i=this.source[this.position++];return i==="\\"?{value:this.source[this.position++],escaped:!0}:{value:i,escaped:!1}}record(i){this.recorded.push(i)}newEntry(i){var s;(this.recorded.length>0||i)&&(s=this.recorded.join(""),s==="NULL"&&!i&&(s=null),s!==null&&(s=this.transform(s)),this.entries.push(s),this.recorded=[])}consumeDimensions(){if(this.source[0]==="[")for(;!this.isEof();){var i=this.nextCharacter();if(i.value==="=")break}}parse(i){var s,u,l;for(this.consumeDimensions();!this.isEof();)if(s=this.nextCharacter(),s.value==="{"&&!l)this.dimension++,this.dimension>1&&(u=new oz(this.source.substr(this.position-1),this.transform),this.entries.push(u.parse(!0)),this.position+=u.position-2);else if(s.value==="}"&&!l){if(this.dimension--,!this.dimension&&(this.newEntry(),i))return this.entries}else s.value==='"'&&!s.escaped?(l&&this.newEntry(!0),l=!l):s.value===","&&!l?this.newEntry():this.record(s.value);if(this.dimension!==0)throw new Error("array dimension not balanced");return this.entries}};P(t,"ArrayParser");var r=t;function n(o){return o}a(n,"Ca"),P(n,"identity")}),iz=et((e,t)=>{Ce();var r=nz();t.exports={create:P(function(n,o){return{parse:P(function(){return r.parse(n,o)},"parse")}},"create")}}),rY=et((e,t)=>{"use strict";Ce();var r=/(\d{1,})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})(\.\d{1,})?.*?( BC)?$/,n=/^(\d{1,})-(\d{2})-(\d{2})( BC)?$/,o=/([Z+-])(\d{2})?:?(\d{2})?:?(\d{2})?/,i=/^-?infinity$/;t.exports=P(function(p){if(i.test(p))return Number(p.replace("i","I"));var f=r.exec(p);if(!f)return s(p)||null;var m=!!f[8],y=parseInt(f[1],10);m&&(y=l(y));var g=parseInt(f[2],10)-1,h=f[3],v=parseInt(f[4],10),S=parseInt(f[5],10),b=parseInt(f[6],10),w=f[7];w=w?1e3*parseFloat(w):0;var k,$=u(p);return $!=null?(k=new Date(Date.UTC(y,g,h,v,S,b,w)),d(y)&&k.setUTCFullYear(y),$!==0&&k.setTime(k.getTime()-$)):(k=new Date(y,g,h,v,S,b,w),d(y)&&k.setFullYear(y)),k},"parseDate");function s(p){var f=n.exec(p);if(f){var m=parseInt(f[1],10),y=!!f[4];y&&(m=l(m));var g=parseInt(f[2],10)-1,h=f[3],v=new Date(m,g,h);return d(m)&&v.setFullYear(m),v}}a(s,"Ra"),P(s,"getDate");function u(p){if(p.endsWith("+00"))return 0;var f=o.exec(p.split(" ")[1]);if(f){var m=f[1];if(m==="Z")return 0;var y=m==="-"?-1:1,g=parseInt(f[2],10)*3600+parseInt(f[3]||0,10)*60+parseInt(f[4]||0,10);return g*y*1e3}}a(u,"La"),P(u,"timeZoneOffset");function l(p){return-(p-1)}a(l,"_i"),P(l,"bcYearToNegativeYear");function d(p){return p>=0&&p<100}a(d,"nr"),P(d,"is0To99")}),nY=et((e,t)=>{Ce(),t.exports=n;var r=Object.prototype.hasOwnProperty;function n(o){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var u in s)r.call(s,u)&&(o[u]=s[u])}return o}a(n,"ka"),P(n,"extend")}),oY=et((e,t)=>{"use strict";Ce();var r=nY();t.exports=n;function n(b){if(!(this instanceof n))return new n(b);r(this,S(b))}a(n,"ke"),P(n,"PostgresInterval");var o=["seconds","minutes","hours","days","months","years"];n.prototype.toPostgres=function(){var b=o.filter(this.hasOwnProperty,this);return this.milliseconds&&b.indexOf("seconds")<0&&b.push("seconds"),b.length===0?"0":b.map(function(w){var k=this[w]||0;return w==="seconds"&&this.milliseconds&&(k=(k+this.milliseconds/1e3).toFixed(6).replace(/\.?0+$/,"")),k+" "+w},this).join(" ")};var i={years:"Y",months:"M",days:"D",hours:"H",minutes:"M",seconds:"S"},s=["years","months","days"],u=["hours","minutes","seconds"];n.prototype.toISOString=n.prototype.toISO=function(){var b=s.map(k,this).join(""),w=u.map(k,this).join("");return"P"+b+"T"+w;function k($){var A=this[$]||0;return $==="seconds"&&this.milliseconds&&(A=(A+this.milliseconds/1e3).toFixed(6).replace(/0+$/,"")),A+i[$]}};var l="([+-]?\\d+)",d=l+"\\s+years?",p=l+"\\s+mons?",f=l+"\\s+days?",m="([+-])?([\\d]*):(\\d\\d):(\\d\\d)\\.?(\\d{1,6})?",y=new RegExp([d,p,f,m].map(function(b){return"("+b+")?"}).join("\\s*")),g={years:2,months:4,days:6,hours:9,minutes:10,seconds:11,milliseconds:12},h=["hours","minutes","seconds","milliseconds"];function v(b){var w=b+"000000".slice(b.length);return parseInt(w,10)/1e3}a(v,"Ga"),P(v,"parseMilliseconds");function S(b){if(!b)return{};var w=y.exec(b),k=w[8]==="-";return Object.keys(g).reduce(function($,A){var O=g[A],R=w[O];return!R||(R=A==="milliseconds"?v(R):parseInt(R,10),!R)||(k&&~h.indexOf(A)&&(R*=-1),$[A]=R),$},{})}a(S,"Va"),P(S,"parse")}),iY=et((e,t)=>{"use strict";Ce(),t.exports=P(function(r){if(/^\\x/.test(r))return new Ue(r.substr(2),"hex");for(var n="",o=0;o<r.length;)if(r[o]!=="\\")n+=r[o],++o;else if(/[0-7]{3}/.test(r.substr(o+1,3)))n+=String.fromCharCode(parseInt(r.substr(o+1,3),8)),o+=4;else{for(var i=1;o+i<r.length&&r[o+i]==="\\";)i++;for(var s=0;s<Math.floor(i/2);++s)n+="\\";o+=Math.floor(i/2)*2}return new Ue(n,"binary")},"parseBytea")}),aY=et((e,t)=>{Ce();var r=nz(),n=iz(),o=rY(),i=oY(),s=iY();function u(I){return P(function(N){return N===null?N:I(N)},"nullAllowed")}a(u,"St"),P(u,"allowNull");function l(I){return I===null?I:I==="TRUE"||I==="t"||I==="true"||I==="y"||I==="yes"||I==="on"||I==="1"}a(l,"qi"),P(l,"parseBool");function d(I){return I?r.parse(I,l):null}a(d,"za"),P(d,"parseBoolArray");function p(I){return parseInt(I,10)}a(p,"Ka"),P(p,"parseBaseTenInt");function f(I){return I?r.parse(I,u(p)):null}a(f,"sr"),P(f,"parseIntegerArray");function m(I){return I?r.parse(I,u(function(N){return k(N).trim()})):null}a(m,"Ya"),P(m,"parseBigIntegerArray");var y=P(function(I){if(!I)return null;var N=n.create(I,function(z){return z!==null&&(z=A(z)),z});return N.parse()},"parsePointArray"),g=P(function(I){if(!I)return null;var N=n.create(I,function(z){return z!==null&&(z=parseFloat(z)),z});return N.parse()},"parseFloatArray"),h=P(function(I){if(!I)return null;var N=n.create(I);return N.parse()},"parseStringArray"),v=P(function(I){if(!I)return null;var N=n.create(I,function(z){return z!==null&&(z=o(z)),z});return N.parse()},"parseDateArray"),S=P(function(I){if(!I)return null;var N=n.create(I,function(z){return z!==null&&(z=i(z)),z});return N.parse()},"parseIntervalArray"),b=P(function(I){return I?r.parse(I,u(s)):null},"parseByteAArray"),w=P(function(I){return parseInt(I,10)},"parseInteger"),k=P(function(I){var N=String(I);return/^\d+$/.test(N)?N:I},"parseBigInteger"),$=P(function(I){return I?r.parse(I,u(JSON.parse)):null},"parseJsonArray"),A=P(function(I){return I[0]!=="("?null:(I=I.substring(1,I.length-1).split(","),{x:parseFloat(I[0]),y:parseFloat(I[1])})},"parsePoint"),O=P(function(I){if(I[0]!=="<"&&I[1]!=="(")return null;for(var N="(",z="",X=!1,Z=2;Z<I.length-1;Z++){if(X||(N+=I[Z]),I[Z]===")"){X=!0;continue}else if(!X)continue;I[Z]!==","&&(z+=I[Z])}var J=A(N);return J.radius=parseFloat(z),J},"parseCircle"),R=P(function(I){I(20,k),I(21,w),I(23,w),I(26,w),I(700,parseFloat),I(701,parseFloat),I(16,l),I(1082,o),I(1114,o),I(1184,o),I(600,A),I(651,h),I(718,O),I(1e3,d),I(1001,b),I(1005,f),I(1007,f),I(1028,f),I(1016,m),I(1017,y),I(1021,g),I(1022,g),I(1231,g),I(1014,h),I(1015,h),I(1008,h),I(1009,h),I(1040,h),I(1041,h),I(1115,v),I(1182,v),I(1185,v),I(1186,i),I(1187,S),I(17,s),I(114,JSON.parse.bind(JSON)),I(3802,JSON.parse.bind(JSON)),I(199,$),I(3807,$),I(3907,h),I(2951,h),I(791,h),I(1183,h),I(1270,h)},"init");t.exports={init:R}}),sY=et((e,t)=>{"use strict";Ce();var r=1e6;function n(o){var i=o.readInt32BE(0),s=o.readUInt32BE(4),u="";i<0&&(i=~i+(s===0),s=~s+1>>>0,u="-");var l="",d,p,f,m,y,g;{if(d=i%r,i=i/r>>>0,p=4294967296*d+s,s=p/r>>>0,f=""+(p-r*s),s===0&&i===0)return u+f+l;for(m="",y=6-f.length,g=0;g<y;g++)m+="0";l=m+f+l}{if(d=i%r,i=i/r>>>0,p=4294967296*d+s,s=p/r>>>0,f=""+(p-r*s),s===0&&i===0)return u+f+l;for(m="",y=6-f.length,g=0;g<y;g++)m+="0";l=m+f+l}{if(d=i%r,i=i/r>>>0,p=4294967296*d+s,s=p/r>>>0,f=""+(p-r*s),s===0&&i===0)return u+f+l;for(m="",y=6-f.length,g=0;g<y;g++)m+="0";l=m+f+l}return d=i%r,p=4294967296*d+s,f=""+p%r,u+f+l}a(n,"ru"),P(n,"readInt8"),t.exports=n}),uY=et((e,t)=>{Ce();var r=sY(),n=P(function(h,v,S,b,w){S=S||0,b=b||!1,w=w||function(X,Z,J){return X*Math.pow(2,J)+Z};var k=S>>3,$=P(function(X){return b?~X&255:X},"inv"),A=255,O=8-S%8;v<O&&(A=255<<8-v&255,O=v),S&&(A=A>>S%8);var R=0;S%8+v>=8&&(R=w(0,$(h[k])&A,O));for(var I=v+S>>3,N=k+1;N<I;N++)R=w(R,$(h[N]),8);var z=(v+S)%8;return z>0&&(R=w(R,$(h[I])>>8-z,z)),R},"parseBits"),o=P(function(h,v,S){var b=Math.pow(2,S-1)-1,w=n(h,1),k=n(h,S,1);if(k===0)return 0;var $=1,A=P(function(R,I,N){R===0&&(R=1);for(var z=1;z<=N;z++)$/=2,(I&1<<N-z)>0&&(R+=$);return R},"parsePrecisionBits"),O=n(h,v,S+1,!1,A);return k==Math.pow(2,S+1)-1?O===0?w===0?1/0:-1/0:NaN:(w===0?1:-1)*Math.pow(2,k-b)*O},"parseFloatFromBits"),i=P(function(h){return n(h,1)==1?-1*(n(h,15,1,!0)+1):n(h,15,1)},"parseInt16"),s=P(function(h){return n(h,1)==1?-1*(n(h,31,1,!0)+1):n(h,31,1)},"parseInt32"),u=P(function(h){return o(h,23,8)},"parseFloat32"),l=P(function(h){return o(h,52,11)},"parseFloat64"),d=P(function(h){var v=n(h,16,32);if(v==49152)return NaN;for(var S=Math.pow(1e4,n(h,16,16)),b=0,w=[],k=n(h,16),$=0;$<k;$++)b+=n(h,16,64+16*$)*S,S/=1e4;var A=Math.pow(10,n(h,16,48));return(v===0?1:-1)*Math.round(b*A)/A},"parseNumeric"),p=P(function(h,v){var S=n(v,1),b=n(v,63,1),w=new Date((S===0?1:-1)*b/1e3+9466848e5);return h||w.setTime(w.getTime()+w.getTimezoneOffset()*6e4),w.usec=b%1e3,w.getMicroSeconds=function(){return this.usec},w.setMicroSeconds=function(k){this.usec=k},w.getUTCMicroSeconds=function(){return this.usec},w},"parseDate"),f=P(function(h){for(var v=n(h,32),S=n(h,32,32),b=n(h,32,64),w=96,k=[],$=0;$<v;$++)k[$]=n(h,32,w),w+=32,w+=32;var A=P(function(R){var I=n(h,32,w);if(w+=32,I==4294967295)return null;var N;if(R==23||R==20)return N=n(h,I*8,w),w+=I*8,N;if(R==25)return N=h.toString(this.encoding,w>>3,(w+=I<<3)>>3),N;console.log("ERROR: ElementType not implemented: "+R)},"parseElement"),O=P(function(R,I){var N=[],z;if(R.length>1){var X=R.shift();for(z=0;z<X;z++)N[z]=O(R,I);R.unshift(X)}else for(z=0;z<R[0];z++)N[z]=A(I);return N},"parse");return O(k,b)},"parseArray"),m=P(function(h){return h.toString("utf8")},"parseText"),y=P(function(h){return h===null?null:n(h,8)>0},"parseBool"),g=P(function(h){h(20,r),h(21,i),h(23,s),h(26,s),h(1700,d),h(700,u),h(701,l),h(16,y),h(1114,p.bind(null,!1)),h(1184,p.bind(null,!0)),h(1e3,f),h(1007,f),h(1016,f),h(1008,f),h(1009,f),h(25,m)},"init");t.exports={init:g}}),cY=et((e,t)=>{Ce(),t.exports={BOOL:16,BYTEA:17,CHAR:18,INT8:20,INT2:21,INT4:23,REGPROC:24,TEXT:25,OID:26,TID:27,XID:28,CID:29,JSON:114,XML:142,PG_NODE_TREE:194,SMGR:210,PATH:602,POLYGON:604,CIDR:650,FLOAT4:700,FLOAT8:701,ABSTIME:702,RELTIME:703,TINTERVAL:704,CIRCLE:718,MACADDR8:774,MONEY:790,MACADDR:829,INET:869,ACLITEM:1033,BPCHAR:1042,VARCHAR:1043,DATE:1082,TIME:1083,TIMESTAMP:1114,TIMESTAMPTZ:1184,INTERVAL:1186,TIMETZ:1266,BIT:1560,VARBIT:1562,NUMERIC:1700,REFCURSOR:1790,REGPROCEDURE:2202,REGOPER:2203,REGOPERATOR:2204,REGCLASS:2205,REGTYPE:2206,UUID:2950,TXID_SNAPSHOT:2970,PG_LSN:3220,PG_NDISTINCT:3361,PG_DEPENDENCIES:3402,TSVECTOR:3614,TSQUERY:3615,GTSVECTOR:3642,REGCONFIG:3734,REGDICTIONARY:3769,JSONB:3802,REGNAMESPACE:4089,REGROLE:4096}}),mf=et(e=>{Ce();var t=aY(),r=uY(),n=iz(),o=cY();e.getTypeParser=u,e.setTypeParser=l,e.arrayParser=n,e.builtins=o;var i={text:{},binary:{}};function s(d){return String(d)}a(s,"Ji"),P(s,"noParse");function u(d,p){return p=p||"text",i[p]&&i[p][d]||s}a(u,"yu"),P(u,"getTypeParser");function l(d,p,f){typeof p=="function"&&(f=p,p="text"),i[p][d]=f}a(l,"mu"),P(l,"setTypeParser"),t.init(function(d,p){i.text[d]=p}),r.init(function(d,p){i.binary[d]=p})}),fT=et((e,t)=>{"use strict";Ce();var r=mf();function n(o){this._types=o||r,this.text={},this.binary={}}a(n,"Et"),P(n,"TypeOverrides"),n.prototype.getOverrides=function(o){switch(o){case"text":return this.text;case"binary":return this.binary;default:return{}}},n.prototype.setTypeParser=function(o,i,s){typeof i=="function"&&(s=i,i="text"),this.getOverrides(i)[o]=s},n.prototype.getTypeParser=function(o,i){return i=i||"text",this.getOverrides(i)[o]||this._types.getTypeParser(o,i)},t.exports=n});a(Nl,"Xe");lY=vn(()=>{"use strict";Ce(),P(Nl,"sha256")}),dY=vn(()=>{"use strict";Ce(),Si=class Vn{static{a(this,"U")}constructor(){Fe(this,"_dataLength",0),Fe(this,"_bufferLength",0),Fe(this,"_state",new Int32Array(4)),Fe(this,"_buffer",new ArrayBuffer(68)),Fe(this,"_buffer8"),Fe(this,"_buffer32"),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashByteArray(t,r=!1){return this.onePassHasher.start().appendByteArray(t).end(r)}static hashStr(t,r=!1){return this.onePassHasher.start().appendStr(t).end(r)}static hashAsciiStr(t,r=!1){return this.onePassHasher.start().appendAsciiStr(t).end(r)}static _hex(t){let r=Vn.hexChars,n=Vn.hexOut,o,i,s,u;for(u=0;u<4;u+=1)for(i=u*8,o=t[u],s=0;s<8;s+=2)n[i+1+s]=r.charAt(o&15),o>>>=4,n[i+0+s]=r.charAt(o&15),o>>>=4;return n.join("")}static _md5cycle(t,r){let n=t[0],o=t[1],i=t[2],s=t[3];n+=(o&i|~o&s)+r[0]-680876936|0,n=(n<<7|n>>>25)+o|0,s+=(n&o|~n&i)+r[1]-389564586|0,s=(s<<12|s>>>20)+n|0,i+=(s&n|~s&o)+r[2]+606105819|0,i=(i<<17|i>>>15)+s|0,o+=(i&s|~i&n)+r[3]-1044525330|0,o=(o<<22|o>>>10)+i|0,n+=(o&i|~o&s)+r[4]-176418897|0,n=(n<<7|n>>>25)+o|0,s+=(n&o|~n&i)+r[5]+1200080426|0,s=(s<<12|s>>>20)+n|0,i+=(s&n|~s&o)+r[6]-1473231341|0,i=(i<<17|i>>>15)+s|0,o+=(i&s|~i&n)+r[7]-45705983|0,o=(o<<22|o>>>10)+i|0,n+=(o&i|~o&s)+r[8]+1770035416|0,n=(n<<7|n>>>25)+o|0,s+=(n&o|~n&i)+r[9]-1958414417|0,s=(s<<12|s>>>20)+n|0,i+=(s&n|~s&o)+r[10]-42063|0,i=(i<<17|i>>>15)+s|0,o+=(i&s|~i&n)+r[11]-1990404162|0,o=(o<<22|o>>>10)+i|0,n+=(o&i|~o&s)+r[12]+1804603682|0,n=(n<<7|n>>>25)+o|0,s+=(n&o|~n&i)+r[13]-40341101|0,s=(s<<12|s>>>20)+n|0,i+=(s&n|~s&o)+r[14]-1502002290|0,i=(i<<17|i>>>15)+s|0,o+=(i&s|~i&n)+r[15]+1236535329|0,o=(o<<22|o>>>10)+i|0,n+=(o&s|i&~s)+r[1]-165796510|0,n=(n<<5|n>>>27)+o|0,s+=(n&i|o&~i)+r[6]-1069501632|0,s=(s<<9|s>>>23)+n|0,i+=(s&o|n&~o)+r[11]+643717713|0,i=(i<<14|i>>>18)+s|0,o+=(i&n|s&~n)+r[0]-373897302|0,o=(o<<20|o>>>12)+i|0,n+=(o&s|i&~s)+r[5]-701558691|0,n=(n<<5|n>>>27)+o|0,s+=(n&i|o&~i)+r[10]+38016083|0,s=(s<<9|s>>>23)+n|0,i+=(s&o|n&~o)+r[15]-660478335|0,i=(i<<14|i>>>18)+s|0,o+=(i&n|s&~n)+r[4]-405537848|0,o=(o<<20|o>>>12)+i|0,n+=(o&s|i&~s)+r[9]+568446438|0,n=(n<<5|n>>>27)+o|0,s+=(n&i|o&~i)+r[14]-1019803690|0,s=(s<<9|s>>>23)+n|0,i+=(s&o|n&~o)+r[3]-187363961|0,i=(i<<14|i>>>18)+s|0,o+=(i&n|s&~n)+r[8]+1163531501|0,o=(o<<20|o>>>12)+i|0,n+=(o&s|i&~s)+r[13]-1444681467|0,n=(n<<5|n>>>27)+o|0,s+=(n&i|o&~i)+r[2]-51403784|0,s=(s<<9|s>>>23)+n|0,i+=(s&o|n&~o)+r[7]+1735328473|0,i=(i<<14|i>>>18)+s|0,o+=(i&n|s&~n)+r[12]-1926607734|0,o=(o<<20|o>>>12)+i|0,n+=(o^i^s)+r[5]-378558|0,n=(n<<4|n>>>28)+o|0,s+=(n^o^i)+r[8]-2022574463|0,s=(s<<11|s>>>21)+n|0,i+=(s^n^o)+r[11]+1839030562|0,i=(i<<16|i>>>16)+s|0,o+=(i^s^n)+r[14]-35309556|0,o=(o<<23|o>>>9)+i|0,n+=(o^i^s)+r[1]-1530992060|0,n=(n<<4|n>>>28)+o|0,s+=(n^o^i)+r[4]+1272893353|0,s=(s<<11|s>>>21)+n|0,i+=(s^n^o)+r[7]-155497632|0,i=(i<<16|i>>>16)+s|0,o+=(i^s^n)+r[10]-1094730640|0,o=(o<<23|o>>>9)+i|0,n+=(o^i^s)+r[13]+681279174|0,n=(n<<4|n>>>28)+o|0,s+=(n^o^i)+r[0]-358537222|0,s=(s<<11|s>>>21)+n|0,i+=(s^n^o)+r[3]-722521979|0,i=(i<<16|i>>>16)+s|0,o+=(i^s^n)+r[6]+76029189|0,o=(o<<23|o>>>9)+i|0,n+=(o^i^s)+r[9]-640364487|0,n=(n<<4|n>>>28)+o|0,s+=(n^o^i)+r[12]-421815835|0,s=(s<<11|s>>>21)+n|0,i+=(s^n^o)+r[15]+530742520|0,i=(i<<16|i>>>16)+s|0,o+=(i^s^n)+r[2]-995338651|0,o=(o<<23|o>>>9)+i|0,n+=(i^(o|~s))+r[0]-198630844|0,n=(n<<6|n>>>26)+o|0,s+=(o^(n|~i))+r[7]+1126891415|0,s=(s<<10|s>>>22)+n|0,i+=(n^(s|~o))+r[14]-1416354905|0,i=(i<<15|i>>>17)+s|0,o+=(s^(i|~n))+r[5]-57434055|0,o=(o<<21|o>>>11)+i|0,n+=(i^(o|~s))+r[12]+1700485571|0,n=(n<<6|n>>>26)+o|0,s+=(o^(n|~i))+r[3]-1894986606|0,s=(s<<10|s>>>22)+n|0,i+=(n^(s|~o))+r[10]-1051523|0,i=(i<<15|i>>>17)+s|0,o+=(s^(i|~n))+r[1]-2054922799|0,o=(o<<21|o>>>11)+i|0,n+=(i^(o|~s))+r[8]+1873313359|0,n=(n<<6|n>>>26)+o|0,s+=(o^(n|~i))+r[15]-30611744|0,s=(s<<10|s>>>22)+n|0,i+=(n^(s|~o))+r[6]-1560198380|0,i=(i<<15|i>>>17)+s|0,o+=(s^(i|~n))+r[13]+1309151649|0,o=(o<<21|o>>>11)+i|0,n+=(i^(o|~s))+r[4]-145523070|0,n=(n<<6|n>>>26)+o|0,s+=(o^(n|~i))+r[11]-1120210379|0,s=(s<<10|s>>>22)+n|0,i+=(n^(s|~o))+r[2]+718787259|0,i=(i<<15|i>>>17)+s|0,o+=(s^(i|~n))+r[9]-343485551|0,o=(o<<21|o>>>11)+i|0,t[0]=n+t[0]|0,t[1]=o+t[1]|0,t[2]=i+t[2]|0,t[3]=s+t[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(Vn.stateIdentity),this}appendStr(t){let r=this._buffer8,n=this._buffer32,o=this._bufferLength,i,s;for(s=0;s<t.length;s+=1){if(i=t.charCodeAt(s),i<128)r[o++]=i;else if(i<2048)r[o++]=(i>>>6)+192,r[o++]=i&63|128;else if(i<55296||i>56319)r[o++]=(i>>>12)+224,r[o++]=i>>>6&63|128,r[o++]=i&63|128;else{if(i=(i-55296)*1024+(t.charCodeAt(++s)-56320)+65536,i>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");r[o++]=(i>>>18)+240,r[o++]=i>>>12&63|128,r[o++]=i>>>6&63|128,r[o++]=i&63|128}o>=64&&(this._dataLength+=64,Vn._md5cycle(this._state,n),o-=64,n[0]=n[16])}return this._bufferLength=o,this}appendAsciiStr(t){let r=this._buffer8,n=this._buffer32,o=this._bufferLength,i,s=0;for(;;){for(i=Math.min(t.length-s,64-o);i--;)r[o++]=t.charCodeAt(s++);if(o<64)break;this._dataLength+=64,Vn._md5cycle(this._state,n),o=0}return this._bufferLength=o,this}appendByteArray(t){let r=this._buffer8,n=this._buffer32,o=this._bufferLength,i,s=0;for(;;){for(i=Math.min(t.length-s,64-o);i--;)r[o++]=t[s++];if(o<64)break;this._dataLength+=64,Vn._md5cycle(this._state,n),o=0}return this._bufferLength=o,this}getState(){let t=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[t[0],t[1],t[2],t[3]]}}setState(t){let r=t.buffer,n=t.state,o=this._state,i;for(this._dataLength=t.length,this._bufferLength=t.buflen,o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=n[3],i=0;i<r.length;i+=1)this._buffer8[i]=r.charCodeAt(i)}end(t=!1){let r=this._bufferLength,n=this._buffer8,o=this._buffer32,i=(r>>2)+1;this._dataLength+=r;let s=this._dataLength*8;if(n[r]=128,n[r+1]=n[r+2]=n[r+3]=0,o.set(Vn.buffer32Identity.subarray(i),i),r>55&&(Vn._md5cycle(this._state,o),o.set(Vn.buffer32Identity)),s<=4294967295)o[14]=s;else{let u=s.toString(16).match(/(.*?)(.{0,8})$/);if(u===null)return;let l=parseInt(u[2],16),d=parseInt(u[1],16)||0;o[14]=l,o[15]=d}return Vn._md5cycle(this._state,o),t?this._state:Vn._hex(this._state)}},P(Si,"Md5"),Fe(Si,"stateIdentity",new Int32Array([1732584193,-271733879,-1732584194,271733878])),Fe(Si,"buffer32Identity",new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),Fe(Si,"hexChars","0123456789abcdef"),Fe(Si,"hexOut",[]),Fe(Si,"onePassHasher",new Si),cT=Si}),hT={};ho(hT,{createHash:a(()=>sz,"createHash"),createHmac:a(()=>uz,"createHmac"),randomBytes:a(()=>az,"randomBytes")});a(az,"gu");a(sz,"bu");a(uz,"vu");cz=vn(()=>{"use strict";Ce(),lY(),dY(),P(az,"randomBytes"),P(sz,"createHash"),P(uz,"createHmac")}),ff=et((e,t)=>{"use strict";Ce(),t.exports={host:"localhost",user:Ye.platform==="win32"?Ye.env.USERNAME:Ye.env.USER,database:void 0,password:null,connectionString:void 0,port:5432,rows:0,binary:!1,max:10,idleTimeoutMillis:3e4,client_encoding:"",ssl:!1,application_name:void 0,fallback_application_name:void 0,options:void 0,parseInputDatesAsUTC:!1,statement_timeout:!1,lock_timeout:!1,idle_in_transaction_session_timeout:!1,query_timeout:!1,connect_timeout:0,keepalives:1,keepalives_idle:0};var r=mf(),n=r.getTypeParser(20,"text"),o=r.getTypeParser(1016,"text");t.exports.__defineSetter__("parseInt8",function(i){r.setTypeParser(20,"text",i?r.getTypeParser(23,"text"):n),r.setTypeParser(1016,"text",i?r.getTypeParser(1007,"text"):o)})}),hf=et((e,t)=>{"use strict";Ce();var r=(cz(),Ar(hT)),n=ff();function o(g){var h=g.replace(/\\/g,"\\\\").replace(/"/g,'\\"');return'"'+h+'"'}a(o,"Cu"),P(o,"escapeElement");function i(g){for(var h="{",v=0;v<g.length;v++)v>0&&(h=h+","),g[v]===null||typeof g[v]>"u"?h=h+"NULL":Array.isArray(g[v])?h=h+i(g[v]):g[v]instanceof Ue?h+="\\\\x"+g[v].toString("hex"):h+=o(s(g[v]));return h=h+"}",h}a(i,"rs"),P(i,"arrayString");var s=P(function(g,h){if(g==null)return null;if(g instanceof Ue)return g;if(ArrayBuffer.isView(g)){var v=Ue.from(g.buffer,g.byteOffset,g.byteLength);return v.length===g.byteLength?v:v.slice(g.byteOffset,g.byteOffset+g.byteLength)}return g instanceof Date?n.parseInputDatesAsUTC?p(g):d(g):Array.isArray(g)?i(g):typeof g=="object"?u(g,h):g.toString()},"prepareValue");function u(g,h){if(g&&typeof g.toPostgres=="function"){if(h=h||[],h.indexOf(g)!==-1)throw new Error('circular reference detected while preparing "'+g+'" for query');return h.push(g),s(g.toPostgres(s),h)}return JSON.stringify(g)}a(u,"_u"),P(u,"prepareObject");function l(g,h){for(g=""+g;g.length<h;)g="0"+g;return g}a(l,"N"),P(l,"pad");function d(g){var h=-g.getTimezoneOffset(),v=g.getFullYear(),S=v<1;S&&(v=Math.abs(v)+1);var b=l(v,4)+"-"+l(g.getMonth()+1,2)+"-"+l(g.getDate(),2)+"T"+l(g.getHours(),2)+":"+l(g.getMinutes(),2)+":"+l(g.getSeconds(),2)+"."+l(g.getMilliseconds(),3);return h<0?(b+="-",h*=-1):b+="+",b+=l(Math.floor(h/60),2)+":"+l(h%60,2),S&&(b+=" BC"),b}a(d,"Iu"),P(d,"dateToString");function p(g){var h=g.getUTCFullYear(),v=h<1;v&&(h=Math.abs(h)+1);var S=l(h,4)+"-"+l(g.getUTCMonth()+1,2)+"-"+l(g.getUTCDate(),2)+"T"+l(g.getUTCHours(),2)+":"+l(g.getUTCMinutes(),2)+":"+l(g.getUTCSeconds(),2)+"."+l(g.getUTCMilliseconds(),3);return S+="+00:00",v&&(S+=" BC"),S}a(p,"Tu"),P(p,"dateToStringUTC");function f(g,h,v){return g=typeof g=="string"?{text:g}:g,h&&(typeof h=="function"?g.callback=h:g.values=h),v&&(g.callback=v),g}a(f,"Pu"),P(f,"normalizeQueryConfig");var m=P(function(g){return r.createHash("md5").update(g,"utf-8").digest("hex")},"md5"),y=P(function(g,h,v){var S=m(h+g),b=m(Ue.concat([Ue.from(S),v]));return"md5"+b},"postgresMd5PasswordHash");t.exports={prepareValue:P(function(g){return s(g)},"prepareValueWrapper"),normalizeQueryConfig:f,postgresMd5PasswordHash:y,md5:m}}),zl={};ho(zl,{default:a(()=>lz,"default")});gf=vn(()=>{"use strict";Ce(),lz={}}),pY=et((e,t)=>{"use strict";Ce();var r=(cz(),Ar(hT));function n(h){if(h.indexOf("SCRAM-SHA-256")===-1)throw new Error("SASL: Only mechanism SCRAM-SHA-256 is currently supported");let v=r.randomBytes(18).toString("base64");return{mechanism:"SCRAM-SHA-256",clientNonce:v,response:"n,,n=*,r="+v,message:"SASLInitialResponse"}}a(n,"Mu"),P(n,"startSession");function o(h,v,S){if(h.message!=="SASLInitialResponse")throw new Error("SASL: Last message was not SASLInitialResponse");if(typeof v!="string")throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string");if(typeof S!="string")throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: serverData must be a string");let b=d(S);if(b.nonce.startsWith(h.clientNonce)){if(b.nonce.length===h.clientNonce.length)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");var w=Ue.from(b.salt,"base64"),k=g(v,w,b.iteration),$=y(k,"Client Key"),A=m($),O="n=*,r="+h.clientNonce,R="r="+b.nonce+",s="+b.salt+",i="+b.iteration,I="c=biws,r="+b.nonce,N=O+","+R+","+I,z=y(A,N),X=f($,z),Z=X.toString("base64"),J=y(k,"Server Key"),te=y(J,N);h.message="SASLResponse",h.serverSignature=te.toString("base64"),h.response=I+",p="+Z}a(o,"Uu"),P(o,"continueSession");function i(h,v){if(h.message!=="SASLResponse")throw new Error("SASL: Last message was not SASLResponse");if(typeof v!="string")throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: serverData must be a string");let{serverSignature:S}=p(v);if(S!==h.serverSignature)throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature does not match")}a(i,"Du"),P(i,"finalizeSession");function s(h){if(typeof h!="string")throw new TypeError("SASL: text must be a string");return h.split("").map((v,S)=>h.charCodeAt(S)).every(v=>v>=33&&v<=43||v>=45&&v<=126)}a(s,"Ou"),P(s,"isPrintableChars");function u(h){return/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(h)}a(u,"ls"),P(u,"isBase64");function l(h){if(typeof h!="string")throw new TypeError("SASL: attribute pairs text must be a string");return new Map(h.split(",").map(v=>{if(!/^.=/.test(v))throw new Error("SASL: Invalid attribute pair entry");let S=v[0],b=v.substring(2);return[S,b]}))}a(l,"fs"),P(l,"parseAttributePairs");function d(h){let v=l(h),S=v.get("r");if(S){if(!s(S))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce must only contain printable characters")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing");let b=v.get("s");if(b){if(!u(b))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt must be base64")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing");let w=v.get("i");if(w){if(!/^[1-9][0-9]*$/.test(w))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: invalid iteration count")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: iteration missing");let k=parseInt(w,10);return{nonce:S,salt:b,iteration:k}}a(d,"qu"),P(d,"parseServerFirstMessage");function p(h){let v=l(h).get("v");if(v){if(!u(v))throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature must be base64")}else throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature is missing");return{serverSignature:v}}a(p,"Qu"),P(p,"parseServerFinalMessage");function f(h,v){if(!Ue.isBuffer(h))throw new TypeError("first argument must be a Buffer");if(!Ue.isBuffer(v))throw new TypeError("second argument must be a Buffer");if(h.length!==v.length)throw new Error("Buffer lengths must match");if(h.length===0)throw new Error("Buffers cannot be empty");return Ue.from(h.map((S,b)=>h[b]^v[b]))}a(f,"hs"),P(f,"xorBuffers");function m(h){return r.createHash("sha256").update(h).digest()}a(m,"Nu"),P(m,"sha256");function y(h,v){return r.createHmac("sha256",h).update(v).digest()}a(y,"Ue"),P(y,"hmacSha256");function g(h,v,S){for(var b=y(h,Ue.concat([v,Ue.from([0,0,0,1])])),w=b,k=0;k<S-1;k++)b=y(h,b),w=f(w,b);return w}a(g,"Wu"),P(g,"Hi"),t.exports={startSession:n,continueSession:o,finalizeSession:i}}),gT={};ho(gT,{join:a(()=>dz,"join")});a(dz,"ju");pz=vn(()=>{"use strict";Ce(),P(dz,"join")}),yT={};ho(yT,{stat:a(()=>mz,"stat")});a(mz,"Hu");fz=vn(()=>{"use strict";Ce(),P(mz,"stat")}),vT={};ho(vT,{default:a(()=>hz,"default")});gz=vn(()=>{"use strict";Ce(),hz={}}),yz={};ho(yz,{StringDecoder:a(()=>vz,"StringDecoder")});mY=vn(()=>{"use strict";Ce(),uT=class{static{a(this,"Er")}constructor(t){Fe(this,"td"),this.td=new TextDecoder(t)}write(t){return this.td.decode(t,{stream:!0})}end(t){return this.td.decode(t)}},P(uT,"StringDecoder"),vz=uT}),fY=et((e,t)=>{"use strict";Ce();var{Transform:r}=(gz(),Ar(vT)),{StringDecoder:n}=(mY(),Ar(yz)),o=Symbol("last"),i=Symbol("decoder");function s(f,m,y){let g;if(this.overflow){if(g=this[i].write(f).split(this.matcher),g.length===1)return y();g.shift(),this.overflow=!1}else this[o]+=this[i].write(f),g=this[o].split(this.matcher);this[o]=g.pop();for(let h=0;h<g.length;h++)try{l(this,this.mapper(g[h]))}catch(v){return y(v)}if(this.overflow=this[o].length>this.maxLength,this.overflow&&!this.skipOverflow){y(new Error("maximum buffer reached"));return}y()}a(s,"zu"),P(s,"transform");function u(f){if(this[o]+=this[i].end(),this[o])try{l(this,this.mapper(this[o]))}catch(m){return f(m)}f()}a(u,"Ku"),P(u,"flush");function l(f,m){m!==void 0&&f.push(m)}a(l,"gs"),P(l,"push");function d(f){return f}a(d,"ws"),P(d,"noop");function p(f,m,y){switch(f=f||/\r?\n/,m=m||d,y=y||{},arguments.length){case 1:typeof f=="function"?(m=f,f=/\r?\n/):typeof f=="object"&&!(f instanceof RegExp)&&!f[Symbol.split]&&(y=f,f=/\r?\n/);break;case 2:typeof f=="function"?(y=m,m=f,f=/\r?\n/):typeof m=="object"&&(y=m,m=d)}y=Object.assign({},y),y.autoDestroy=!0,y.transform=s,y.flush=u,y.readableObjectMode=!0;let g=new r(y);return g[o]="",g[i]=new n("utf8"),g.matcher=f,g.mapper=m,g.maxLength=y.maxLength,g.skipOverflow=y.skipOverflow||!1,g.overflow=!1,g._destroy=function(h,v){this._writableState.errorEmitted=!1,v(h)},g}a(p,"Yu"),P(p,"split"),t.exports=p}),hY=et((e,t)=>{"use strict";Ce();var r=(pz(),Ar(gT)),n=(gz(),Ar(vT)).Stream,o=fY(),i=(gf(),Ar(zl)),s=5432,u=Ye.platform==="win32",l=Ye.stderr,d=56,p=7,f=61440,m=32768;function y($){return($&f)==m}a(y,"ic"),P(y,"isRegFile");var g=["host","port","database","user","password"],h=g.length,v=g[h-1];function S(){var $=l instanceof n&&l.writable===!0;if($){var A=Array.prototype.slice.call(arguments).concat(`
`);l.write(i.format.apply(i,A))}}a(S,"Cr"),P(S,"warn"),Object.defineProperty(t.exports,"isWin",{get:P(function(){return u},"get"),set:P(function($){u=$},"set")}),t.exports.warnTo=function($){var A=l;return l=$,A},t.exports.getFileName=function($){var A=$||Ye.env,O=A.PGPASSFILE||(u?r.join(A.APPDATA||"./","postgresql","pgpass.conf"):r.join(A.HOME||"./",".pgpass"));return O},t.exports.usePgPass=function($,A){return Object.prototype.hasOwnProperty.call(Ye.env,"PGPASSWORD")?!1:u?!0:(A=A||"<unkn>",y($.mode)?$.mode&(d|p)?(S('WARNING: password file "%s" has group or world access; permissions should be u=rw (0600) or less',A),!1):!0:(S('WARNING: password file "%s" is not a plain file',A),!1))};var b=t.exports.match=function($,A){return g.slice(0,-1).reduce(function(O,R,I){return I==1&&Number($[R]||s)===Number(A[R])?O&&!0:O&&(A[R]==="*"||A[R]===$[R])},!0)};t.exports.getPassword=function($,A,O){var R,I=A.pipe(o());function N(Z){var J=w(Z);J&&k(J)&&b($,J)&&(R=J[v],I.end())}a(N,"s"),P(N,"onLine");var z=P(function(){A.destroy(),O(R)},"onEnd"),X=P(function(Z){A.destroy(),S("WARNING: error on reading file: %s",Z),O(void 0)},"onErr");A.on("error",X),I.on("data",N).on("end",z).on("error",X)};var w=t.exports.parseLine=function($){if($.length<11||$.match(/^\s+#/))return null;for(var A="",O="",R=0,I=0,N=0,z={},X=!1,Z=P(function(te,ne,ae){var Se=$.substring(ne,ae);Object.hasOwnProperty.call(Ye.env,"PGPASS_NO_DEESCAPE")||(Se=Se.replace(/\\([:\\])/g,"$1")),z[g[te]]=Se},"addToObj"),J=0;J<$.length-1;J+=1){if(A=$.charAt(J+1),O=$.charAt(J),X=R==h-1,X){Z(R,I);break}J>=0&&A==":"&&O!=="\\"&&(Z(R,I,J+1),I=J+2,R+=1)}return z=Object.keys(z).length===h?z:null,z},k=t.exports.isValidEntry=function($){for(var A={0:function(z){return z.length>0},1:function(z){return z==="*"?!0:(z=Number(z),isFinite(z)&&z>0&&z<9007199254740992&&Math.floor(z)===z)},2:function(z){return z.length>0},3:function(z){return z.length>0},4:function(z){return z.length>0}},O=0;O<g.length;O+=1){var R=A[O],I=$[g[O]]||"",N=R(I);if(!N)return!1}return!0}}),gY=et((e,t)=>{"use strict";Ce();var r=(pz(),Ar(gT)),n=(fz(),Ar(yT)),o=hY();t.exports=function(i,s){var u=o.getFileName();n.stat(u,function(l,d){if(l||!o.usePgPass(d,u))return s(void 0);var p=n.createReadStream(u);o.getPassword(i,p,s)})},t.exports.warnTo=o.warnTo}),_z={};ho(_z,{default:a(()=>bz,"default")});yY=vn(()=>{"use strict";Ce(),bz={}}),vY=et((e,t)=>{"use strict";Ce();var r=(rz(),Ar(tz)),n=(fz(),Ar(yT));function o(i){if(i.charAt(0)==="/"){var u=i.split(" ");return{host:u[0],database:u[1]}}var s=r.parse(/ |%[^a-f0-9]|%[a-f0-9][^a-f0-9]/i.test(i)?encodeURI(i).replace(/\%25(\d\d)/g,"%$1"):i,!0),u=s.query;for(var l in u)Array.isArray(u[l])&&(u[l]=u[l][u[l].length-1]);var d=(s.auth||":").split(":");if(u.user=d[0],u.password=d.splice(1).join(":"),u.port=s.port,s.protocol=="socket:")return u.host=decodeURI(s.pathname),u.database=s.query.db,u.client_encoding=s.query.encoding,u;u.host||(u.host=s.hostname);var p=s.pathname;if(!u.host&&p&&/^%2f/i.test(p)){var f=p.split("/");u.host=decodeURIComponent(f[0]),p=f.splice(1).join("/")}switch(p&&p.charAt(0)==="/"&&(p=p.slice(1)||null),u.database=p&&decodeURI(p),(u.ssl==="true"||u.ssl==="1")&&(u.ssl=!0),u.ssl==="0"&&(u.ssl=!1),(u.sslcert||u.sslkey||u.sslrootcert||u.sslmode)&&(u.ssl={}),u.sslcert&&(u.ssl.cert=n.readFileSync(u.sslcert).toString()),u.sslkey&&(u.ssl.key=n.readFileSync(u.sslkey).toString()),u.sslrootcert&&(u.ssl.ca=n.readFileSync(u.sslrootcert).toString()),u.sslmode){case"disable":{u.ssl=!1;break}case"prefer":case"require":case"verify-ca":case"verify-full":break;case"no-verify":{u.ssl.rejectUnauthorized=!1;break}}return u}a(o,"Tr"),P(o,"parse"),t.exports=o,o.parse=o}),_T=et((e,t)=>{"use strict";Ce();var r=(yY(),Ar(_z)),n=ff(),o=vY().parse,i=P(function(f,m,y){return y===void 0?y=Ye.env["PG"+f.toUpperCase()]:y===!1||(y=Ye.env[y]),m[f]||y||n[f]},"val"),s=P(function(){switch(Ye.env.PGSSLMODE){case"disable":return!1;case"prefer":case"require":case"verify-ca":case"verify-full":return!0;case"no-verify":return{rejectUnauthorized:!1}}return n.ssl},"readSSLConfigFromEnvironment"),u=P(function(f){return"'"+(""+f).replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"},"quoteParamValue"),l=P(function(f,m,y){var g=m[y];g!=null&&f.push(y+"="+u(g))},"add"),d=class{static{a(this,"Br")}constructor(m){m=typeof m=="string"?o(m):m||{},m.connectionString&&(m=Object.assign({},m,o(m.connectionString))),this.user=i("user",m),this.database=i("database",m),this.database===void 0&&(this.database=this.user),this.port=parseInt(i("port",m),10),this.host=i("host",m),Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:i("password",m)}),this.binary=i("binary",m),this.options=i("options",m),this.ssl=typeof m.ssl>"u"?s():m.ssl,typeof this.ssl=="string"&&this.ssl==="true"&&(this.ssl=!0),this.ssl==="no-verify"&&(this.ssl={rejectUnauthorized:!1}),this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this.client_encoding=i("client_encoding",m),this.replication=i("replication",m),this.isDomainSocket=!(this.host||"").indexOf("/"),this.application_name=i("application_name",m,"PGAPPNAME"),this.fallback_application_name=i("fallback_application_name",m,!1),this.statement_timeout=i("statement_timeout",m,!1),this.lock_timeout=i("lock_timeout",m,!1),this.idle_in_transaction_session_timeout=i("idle_in_transaction_session_timeout",m,!1),this.query_timeout=i("query_timeout",m,!1),m.connectionTimeoutMillis===void 0?this.connect_timeout=Ye.env.PGCONNECT_TIMEOUT||0:this.connect_timeout=Math.floor(m.connectionTimeoutMillis/1e3),m.keepAlive===!1?this.keepalives=0:m.keepAlive===!0&&(this.keepalives=1),typeof m.keepAliveInitialDelayMillis=="number"&&(this.keepalives_idle=Math.floor(m.keepAliveInitialDelayMillis/1e3))}getLibpqConnectionString(m){var y=[];l(y,this,"user"),l(y,this,"password"),l(y,this,"port"),l(y,this,"application_name"),l(y,this,"fallback_application_name"),l(y,this,"connect_timeout"),l(y,this,"options");var g=typeof this.ssl=="object"?this.ssl:this.ssl?{sslmode:this.ssl}:{};if(l(y,g,"sslmode"),l(y,g,"sslca"),l(y,g,"sslkey"),l(y,g,"sslcert"),l(y,g,"sslrootcert"),this.database&&y.push("dbname="+u(this.database)),this.replication&&y.push("replication="+u(this.replication)),this.host&&y.push("host="+u(this.host)),this.isDomainSocket)return m(null,y.join(" "));this.client_encoding&&y.push("client_encoding="+u(this.client_encoding)),r.lookup(this.host,function(h,v){return h?m(h,null):(y.push("hostaddr="+u(v)),m(null,y.join(" ")))})}};P(d,"ConnectionParameters");var p=d;t.exports=p}),_Y=et((e,t)=>{"use strict";Ce();var r=mf(),n=/^([A-Za-z]+)(?: (\d+))?(?: (\d+))?/,o=class{static{a(this,"Lr")}constructor(u,l){this.command=null,this.rowCount=null,this.oid=null,this.rows=[],this.fields=[],this._parsers=void 0,this._types=l,this.RowCtor=null,this.rowAsArray=u==="array",this.rowAsArray&&(this.parseRow=this._parseRowAsArray)}addCommandComplete(u){var l;u.text?l=n.exec(u.text):l=n.exec(u.command),l&&(this.command=l[1],l[3]?(this.oid=parseInt(l[2],10),this.rowCount=parseInt(l[3],10)):l[2]&&(this.rowCount=parseInt(l[2],10)))}_parseRowAsArray(u){for(var l=new Array(u.length),d=0,p=u.length;d<p;d++){var f=u[d];f!==null?l[d]=this._parsers[d](f):l[d]=null}return l}parseRow(u){for(var l={},d=0,p=u.length;d<p;d++){var f=u[d],m=this.fields[d].name;f!==null?l[m]=this._parsers[d](f):l[m]=null}return l}addRow(u){this.rows.push(u)}addFields(u){this.fields=u,this.fields.length&&(this._parsers=new Array(u.length));for(var l=0;l<u.length;l++){var d=u[l];this._types?this._parsers[l]=this._types.getTypeParser(d.dataTypeID,d.format||"text"):this._parsers[l]=r.getTypeParser(d.dataTypeID,d.format||"text")}}};P(o,"Result");var i=o;t.exports=i}),bY=et((e,t)=>{"use strict";Ce();var{EventEmitter:r}=as(),n=_Y(),o=hf(),i=class extends r{static{a(this,"kr")}constructor(l,d,p){super(),l=o.normalizeQueryConfig(l,d,p),this.text=l.text,this.values=l.values,this.rows=l.rows,this.types=l.types,this.name=l.name,this.binary=l.binary,this.portal=l.portal||"",this.callback=l.callback,this._rowMode=l.rowMode,Ye.domain&&l.callback&&(this.callback=Ye.domain.bind(l.callback)),this._result=new n(this._rowMode,this.types),this._results=this._result,this.isPreparedStatement=!1,this._canceledDueToError=!1,this._promise=null}requiresPreparation(){return this.name||this.rows?!0:!this.text||!this.values?!1:this.values.length>0}_checkForMultirow(){this._result.command&&(Array.isArray(this._results)||(this._results=[this._result]),this._result=new n(this._rowMode,this.types),this._results.push(this._result))}handleRowDescription(l){this._checkForMultirow(),this._result.addFields(l.fields),this._accumulateRows=this.callback||!this.listeners("row").length}handleDataRow(l){let d;if(!this._canceledDueToError){try{d=this._result.parseRow(l.fields)}catch(p){this._canceledDueToError=p;return}this.emit("row",d,this._result),this._accumulateRows&&this._result.addRow(d)}}handleCommandComplete(l,d){this._checkForMultirow(),this._result.addCommandComplete(l),this.rows&&d.sync()}handleEmptyQuery(l){this.rows&&l.sync()}handleError(l,d){if(this._canceledDueToError&&(l=this._canceledDueToError,this._canceledDueToError=!1),this.callback)return this.callback(l);this.emit("error",l)}handleReadyForQuery(l){if(this._canceledDueToError)return this.handleError(this._canceledDueToError,l);if(this.callback)try{this.callback(null,this._results)}catch(d){Ye.nextTick(()=>{throw d})}this.emit("end",this._results)}submit(l){if(typeof this.text!="string"&&typeof this.name!="string")return new Error("A query must have either text or a name. Supplying neither is unsupported.");let d=l.parsedStatements[this.name];return this.text&&d&&this.text!==d?new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`):this.values&&!Array.isArray(this.values)?new Error("Query values must be an array"):(this.requiresPreparation()?this.prepare(l):l.query(this.text),null)}hasBeenParsed(l){return this.name&&l.parsedStatements[this.name]}handlePortalSuspended(l){this._getRows(l,this.rows)}_getRows(l,d){l.execute({portal:this.portal,rows:d}),d?l.flush():l.sync()}prepare(l){this.isPreparedStatement=!0,this.hasBeenParsed(l)||l.parse({text:this.text,name:this.name,types:this.types});try{l.bind({portal:this.portal,statement:this.name,values:this.values,binary:this.binary,valueMapper:o.prepareValue})}catch(d){this.handleError(d,l);return}l.describe({type:"P",name:this.portal||""}),this._getRows(l,this.rows)}handleCopyInResponse(l){l.sendCopyFail("No source stream defined")}handleCopyData(l,d){}};P(i,"Query");var s=i;t.exports=s}),Sz=et(e=>{"use strict";Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.NoticeMessage=e.DataRowMessage=e.CommandCompleteMessage=e.ReadyForQueryMessage=e.NotificationResponseMessage=e.BackendKeyDataMessage=e.AuthenticationMD5Password=e.ParameterStatusMessage=e.ParameterDescriptionMessage=e.RowDescriptionMessage=e.Field=e.CopyResponse=e.CopyDataMessage=e.DatabaseError=e.copyDone=e.emptyQuery=e.replicationStart=e.portalSuspended=e.noData=e.closeComplete=e.bindComplete=e.parseComplete=void 0,e.parseComplete={name:"parseComplete",length:5},e.bindComplete={name:"bindComplete",length:5},e.closeComplete={name:"closeComplete",length:5},e.noData={name:"noData",length:5},e.portalSuspended={name:"portalSuspended",length:5},e.replicationStart={name:"replicationStart",length:4},e.emptyQuery={name:"emptyQuery",length:4},e.copyDone={name:"copyDone",length:4};var t=class extends Error{static{a(this,"Kr")}constructor(J,te,ne){super(J),this.length=te,this.name=ne}};P(t,"DatabaseError");var r=t;e.DatabaseError=r;var n=class{static{a(this,"Yr")}constructor(J,te){this.length=J,this.chunk=te,this.name="copyData"}};P(n,"CopyDataMessage");var o=n;e.CopyDataMessage=o;var i=class{static{a(this,"Zr")}constructor(J,te,ne,ae){this.length=J,this.name=te,this.binary=ne,this.columnTypes=new Array(ae)}};P(i,"CopyResponse");var s=i;e.CopyResponse=s;var u=class{static{a(this,"Jr")}constructor(J,te,ne,ae,Se,ke,Xe){this.name=J,this.tableID=te,this.columnID=ne,this.dataTypeID=ae,this.dataTypeSize=Se,this.dataTypeModifier=ke,this.format=Xe}};P(u,"Field");var l=u;e.Field=l;var d=class{static{a(this,"Xr")}constructor(J,te){this.length=J,this.fieldCount=te,this.name="rowDescription",this.fields=new Array(this.fieldCount)}};P(d,"RowDescriptionMessage");var p=d;e.RowDescriptionMessage=p;var f=class{static{a(this,"en")}constructor(J,te){this.length=J,this.parameterCount=te,this.name="parameterDescription",this.dataTypeIDs=new Array(this.parameterCount)}};P(f,"ParameterDescriptionMessage");var m=f;e.ParameterDescriptionMessage=m;var y=class{static{a(this,"tn")}constructor(J,te,ne){this.length=J,this.parameterName=te,this.parameterValue=ne,this.name="parameterStatus"}};P(y,"ParameterStatusMessage");var g=y;e.ParameterStatusMessage=g;var h=class{static{a(this,"rn")}constructor(J,te){this.length=J,this.salt=te,this.name="authenticationMD5Password"}};P(h,"AuthenticationMD5Password");var v=h;e.AuthenticationMD5Password=v;var S=class{static{a(this,"nn")}constructor(J,te,ne){this.length=J,this.processID=te,this.secretKey=ne,this.name="backendKeyData"}};P(S,"BackendKeyDataMessage");var b=S;e.BackendKeyDataMessage=b;var w=class{static{a(this,"sn")}constructor(J,te,ne,ae){this.length=J,this.processId=te,this.channel=ne,this.payload=ae,this.name="notification"}};P(w,"NotificationResponseMessage");var k=w;e.NotificationResponseMessage=k;var $=class{static{a(this,"on")}constructor(J,te){this.length=J,this.status=te,this.name="readyForQuery"}};P($,"ReadyForQueryMessage");var A=$;e.ReadyForQueryMessage=A;var O=class{static{a(this,"an")}constructor(J,te){this.length=J,this.text=te,this.name="commandComplete"}};P(O,"CommandCompleteMessage");var R=O;e.CommandCompleteMessage=R;var I=class{static{a(this,"un")}constructor(J,te){this.length=J,this.fields=te,this.name="dataRow",this.fieldCount=te.length}};P(I,"DataRowMessage");var N=I;e.DataRowMessage=N;var z=class{static{a(this,"cn")}constructor(J,te){this.length=J,this.message=te,this.name="notice"}};P(z,"NoticeMessage");var X=z;e.NoticeMessage=X}),SY=et(e=>{"use strict";Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.Writer=void 0;var t=class{static{a(this,"hn")}constructor(o=256){this.size=o,this.offset=5,this.headerPosition=0,this.buffer=Ue.allocUnsafe(o)}ensure(o){if(this.buffer.length-this.offset<o){let i=this.buffer,s=i.length+(i.length>>1)+o;this.buffer=Ue.allocUnsafe(s),i.copy(this.buffer)}}addInt32(o){return this.ensure(4),this.buffer[this.offset++]=o>>>24&255,this.buffer[this.offset++]=o>>>16&255,this.buffer[this.offset++]=o>>>8&255,this.buffer[this.offset++]=o>>>0&255,this}addInt16(o){return this.ensure(2),this.buffer[this.offset++]=o>>>8&255,this.buffer[this.offset++]=o>>>0&255,this}addCString(o){if(!o)this.ensure(1);else{let i=Ue.byteLength(o);this.ensure(i+1),this.buffer.write(o,this.offset,"utf-8"),this.offset+=i}return this.buffer[this.offset++]=0,this}addString(o=""){let i=Ue.byteLength(o);return this.ensure(i),this.buffer.write(o,this.offset),this.offset+=i,this}add(o){return this.ensure(o.length),o.copy(this.buffer,this.offset),this.offset+=o.length,this}join(o){if(o){this.buffer[this.headerPosition]=o;let i=this.offset-(this.headerPosition+1);this.buffer.writeInt32BE(i,this.headerPosition+1)}return this.buffer.slice(o?0:5,this.offset)}flush(o){let i=this.join(o);return this.offset=5,this.headerPosition=0,this.buffer=Ue.allocUnsafe(this.size),i}};P(t,"Writer");var r=t;e.Writer=r}),wY=et(e=>{"use strict";Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.serialize=void 0;var t=SY(),r=new t.Writer,n=P(J=>{r.addInt16(3).addInt16(0);for(let ae of Object.keys(J))r.addCString(ae).addCString(J[ae]);r.addCString("client_encoding").addCString("UTF8");let te=r.addCString("").flush(),ne=te.length+4;return new t.Writer().addInt32(ne).add(te).flush()},"startup"),o=P(()=>{let J=Ue.allocUnsafe(8);return J.writeInt32BE(8,0),J.writeInt32BE(80877103,4),J},"requestSsl"),i=P(J=>r.addCString(J).flush(112),"password"),s=P(function(J,te){return r.addCString(J).addInt32(Ue.byteLength(te)).addString(te),r.flush(112)},"sendSASLInitialResponseMessage"),u=P(function(J){return r.addString(J).flush(112)},"sendSCRAMClientFinalMessage"),l=P(J=>r.addCString(J).flush(81),"query"),d=[],p=P(J=>{let te=J.name||"";te.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",te,te.length),console.error("This can cause conflicts and silent errors executing queries"));let ne=J.types||d,ae=ne.length,Se=r.addCString(te).addCString(J.text).addInt16(ae);for(let ke=0;ke<ae;ke++)Se.addInt32(ne[ke]);return r.flush(80)},"parse"),f=new t.Writer,m=P(function(J,te){for(let ne=0;ne<J.length;ne++){let ae=te?te(J[ne],ne):J[ne];ae==null?(r.addInt16(0),f.addInt32(-1)):ae instanceof Ue?(r.addInt16(1),f.addInt32(ae.length),f.add(ae)):(r.addInt16(0),f.addInt32(Ue.byteLength(ae)),f.addString(ae))}},"writeValues"),y=P((J={})=>{let te=J.portal||"",ne=J.statement||"",ae=J.binary||!1,Se=J.values||d,ke=Se.length;return r.addCString(te).addCString(ne),r.addInt16(ke),m(Se,J.valueMapper),r.addInt16(ke),r.add(f.flush()),r.addInt16(ae?1:0),r.flush(66)},"bind"),g=Ue.from([69,0,0,0,9,0,0,0,0,0]),h=P(J=>{if(!J||!J.portal&&!J.rows)return g;let te=J.portal||"",ne=J.rows||0,ae=Ue.byteLength(te),Se=4+ae+1+4,ke=Ue.allocUnsafe(1+Se);return ke[0]=69,ke.writeInt32BE(Se,1),ke.write(te,5,"utf-8"),ke[ae+5]=0,ke.writeUInt32BE(ne,ke.length-4),ke},"execute"),v=P((J,te)=>{let ne=Ue.allocUnsafe(16);return ne.writeInt32BE(16,0),ne.writeInt16BE(1234,4),ne.writeInt16BE(5678,6),ne.writeInt32BE(J,8),ne.writeInt32BE(te,12),ne},"cancel"),S=P((J,te)=>{let ne=4+Ue.byteLength(te)+1,ae=Ue.allocUnsafe(1+ne);return ae[0]=J,ae.writeInt32BE(ne,1),ae.write(te,5,"utf-8"),ae[ne]=0,ae},"cstringMessage"),b=r.addCString("P").flush(68),w=r.addCString("S").flush(68),k=P(J=>J.name?S(68,`${J.type}${J.name||""}`):J.type==="P"?b:w,"describe"),$=P(J=>{let te=`${J.type}${J.name||""}`;return S(67,te)},"close"),A=P(J=>r.add(J).flush(100),"copyData"),O=P(J=>S(102,J),"copyFail"),R=P(J=>Ue.from([J,0,0,0,4]),"codeOnlyBuffer"),I=R(72),N=R(83),z=R(88),X=R(99),Z={startup:n,password:i,requestSsl:o,sendSASLInitialResponseMessage:s,sendSCRAMClientFinalMessage:u,query:l,parse:p,bind:y,execute:h,describe:k,close:$,flush:P(()=>I,"flush"),sync:P(()=>N,"sync"),end:P(()=>z,"end"),copyData:A,copyDone:P(()=>X,"copyDone"),copyFail:O,cancel:v};e.serialize=Z}),xY=et(e=>{"use strict";Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.BufferReader=void 0;var t=Ue.allocUnsafe(0),r=class{static{a(this,"mn")}constructor(i=0){this.offset=i,this.buffer=t,this.encoding="utf-8"}setBuffer(i,s){this.offset=i,this.buffer=s}int16(){let i=this.buffer.readInt16BE(this.offset);return this.offset+=2,i}byte(){let i=this.buffer[this.offset];return this.offset++,i}int32(){let i=this.buffer.readInt32BE(this.offset);return this.offset+=4,i}uint32(){let i=this.buffer.readUInt32BE(this.offset);return this.offset+=4,i}string(i){let s=this.buffer.toString(this.encoding,this.offset,this.offset+i);return this.offset+=i,s}cstring(){let i=this.offset,s=i;for(;this.buffer[s++]!==0;);return this.offset=s,this.buffer.toString(this.encoding,i,s-1)}bytes(i){let s=this.buffer.slice(this.offset,this.offset+i);return this.offset+=i,s}};P(r,"BufferReader");var n=r;e.BufferReader=n}),TY=et(e=>{"use strict";Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.Parser=void 0;var t=Sz(),r=xY(),n=1,o=4,i=n+o,s=Ue.allocUnsafe(0),u=class{static{a(this,"bn")}constructor(p){if(this.buffer=s,this.bufferLength=0,this.bufferOffset=0,this.reader=new r.BufferReader,p?.mode==="binary")throw new Error("Binary mode not supported yet");this.mode=p?.mode||"text"}parse(p,f){this.mergeBuffer(p);let m=this.bufferOffset+this.bufferLength,y=this.bufferOffset;for(;y+i<=m;){let g=this.buffer[y],h=this.buffer.readUInt32BE(y+n),v=n+h;if(v+y<=m){let S=this.handlePacket(y+i,g,h,this.buffer);f(S),y+=v}else break}y===m?(this.buffer=s,this.bufferLength=0,this.bufferOffset=0):(this.bufferLength=m-y,this.bufferOffset=y)}mergeBuffer(p){if(this.bufferLength>0){let f=this.bufferLength+p.byteLength;if(f+this.bufferOffset>this.buffer.byteLength){let m;if(f<=this.buffer.byteLength&&this.bufferOffset>=this.bufferLength)m=this.buffer;else{let y=this.buffer.byteLength*2;for(;f>=y;)y*=2;m=Ue.allocUnsafe(y)}this.buffer.copy(m,0,this.bufferOffset,this.bufferOffset+this.bufferLength),this.buffer=m,this.bufferOffset=0}p.copy(this.buffer,this.bufferOffset+this.bufferLength),this.bufferLength=f}else this.buffer=p,this.bufferOffset=0,this.bufferLength=p.byteLength}handlePacket(p,f,m,y){switch(f){case 50:return t.bindComplete;case 49:return t.parseComplete;case 51:return t.closeComplete;case 110:return t.noData;case 115:return t.portalSuspended;case 99:return t.copyDone;case 87:return t.replicationStart;case 73:return t.emptyQuery;case 68:return this.parseDataRowMessage(p,m,y);case 67:return this.parseCommandCompleteMessage(p,m,y);case 90:return this.parseReadyForQueryMessage(p,m,y);case 65:return this.parseNotificationMessage(p,m,y);case 82:return this.parseAuthenticationResponse(p,m,y);case 83:return this.parseParameterStatusMessage(p,m,y);case 75:return this.parseBackendKeyData(p,m,y);case 69:return this.parseErrorMessage(p,m,y,"error");case 78:return this.parseErrorMessage(p,m,y,"notice");case 84:return this.parseRowDescriptionMessage(p,m,y);case 116:return this.parseParameterDescriptionMessage(p,m,y);case 71:return this.parseCopyInMessage(p,m,y);case 72:return this.parseCopyOutMessage(p,m,y);case 100:return this.parseCopyData(p,m,y);default:return new t.DatabaseError("received invalid response: "+f.toString(16),m,"error")}}parseReadyForQueryMessage(p,f,m){this.reader.setBuffer(p,m);let y=this.reader.string(1);return new t.ReadyForQueryMessage(f,y)}parseCommandCompleteMessage(p,f,m){this.reader.setBuffer(p,m);let y=this.reader.cstring();return new t.CommandCompleteMessage(f,y)}parseCopyData(p,f,m){let y=m.slice(p,p+(f-4));return new t.CopyDataMessage(f,y)}parseCopyInMessage(p,f,m){return this.parseCopyMessage(p,f,m,"copyInResponse")}parseCopyOutMessage(p,f,m){return this.parseCopyMessage(p,f,m,"copyOutResponse")}parseCopyMessage(p,f,m,y){this.reader.setBuffer(p,m);let g=this.reader.byte()!==0,h=this.reader.int16(),v=new t.CopyResponse(f,y,g,h);for(let S=0;S<h;S++)v.columnTypes[S]=this.reader.int16();return v}parseNotificationMessage(p,f,m){this.reader.setBuffer(p,m);let y=this.reader.int32(),g=this.reader.cstring(),h=this.reader.cstring();return new t.NotificationResponseMessage(f,y,g,h)}parseRowDescriptionMessage(p,f,m){this.reader.setBuffer(p,m);let y=this.reader.int16(),g=new t.RowDescriptionMessage(f,y);for(let h=0;h<y;h++)g.fields[h]=this.parseField();return g}parseField(){let p=this.reader.cstring(),f=this.reader.uint32(),m=this.reader.int16(),y=this.reader.uint32(),g=this.reader.int16(),h=this.reader.int32(),v=this.reader.int16()===0?"text":"binary";return new t.Field(p,f,m,y,g,h,v)}parseParameterDescriptionMessage(p,f,m){this.reader.setBuffer(p,m);let y=this.reader.int16(),g=new t.ParameterDescriptionMessage(f,y);for(let h=0;h<y;h++)g.dataTypeIDs[h]=this.reader.int32();return g}parseDataRowMessage(p,f,m){this.reader.setBuffer(p,m);let y=this.reader.int16(),g=new Array(y);for(let h=0;h<y;h++){let v=this.reader.int32();g[h]=v===-1?null:this.reader.string(v)}return new t.DataRowMessage(f,g)}parseParameterStatusMessage(p,f,m){this.reader.setBuffer(p,m);let y=this.reader.cstring(),g=this.reader.cstring();return new t.ParameterStatusMessage(f,y,g)}parseBackendKeyData(p,f,m){this.reader.setBuffer(p,m);let y=this.reader.int32(),g=this.reader.int32();return new t.BackendKeyDataMessage(f,y,g)}parseAuthenticationResponse(p,f,m){this.reader.setBuffer(p,m);let y=this.reader.int32(),g={name:"authenticationOk",length:f};switch(y){case 0:break;case 3:g.length===8&&(g.name="authenticationCleartextPassword");break;case 5:if(g.length===12){g.name="authenticationMD5Password";let h=this.reader.bytes(4);return new t.AuthenticationMD5Password(f,h)}break;case 10:{g.name="authenticationSASL",g.mechanisms=[];let h;do h=this.reader.cstring(),h&&g.mechanisms.push(h);while(h)}break;case 11:g.name="authenticationSASLContinue",g.data=this.reader.string(f-8);break;case 12:g.name="authenticationSASLFinal",g.data=this.reader.string(f-8);break;default:throw new Error("Unknown authenticationOk message type "+y)}return g}parseErrorMessage(p,f,m,y){this.reader.setBuffer(p,m);let g={},h=this.reader.string(1);for(;h!=="\0";)g[h]=this.reader.cstring(),h=this.reader.string(1);let v=g.M,S=y==="notice"?new t.NoticeMessage(f,v):new t.DatabaseError(v,f,y);return S.severity=g.S,S.code=g.C,S.detail=g.D,S.hint=g.H,S.position=g.P,S.internalPosition=g.p,S.internalQuery=g.q,S.where=g.W,S.schema=g.s,S.table=g.t,S.column=g.c,S.dataType=g.d,S.constraint=g.n,S.file=g.F,S.line=g.L,S.routine=g.R,S}};P(u,"Parser");var l=u;e.Parser=l}),wz=et(e=>{"use strict";Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.DatabaseError=e.serialize=e.parse=void 0;var t=Sz();Object.defineProperty(e,"DatabaseError",{enumerable:!0,get:P(function(){return t.DatabaseError},"get")});var r=wY();Object.defineProperty(e,"serialize",{enumerable:!0,get:P(function(){return r.serialize},"get")});var n=TY();function o(i,s){let u=new n.Parser;return i.on("data",l=>u.parse(l,s)),new Promise(l=>i.on("end",()=>l()))}a(o,"Hc"),P(o,"parse"),e.parse=o}),xz={};ho(xz,{connect:a(()=>Tz,"connect")});a(Tz,"$c");kY=vn(()=>{"use strict";Ce(),P(Tz,"connect")}),kz=et((e,t)=>{"use strict";Ce();var r=(jl(),Ar(Yj)),n=as().EventEmitter,{parse:o,serialize:i}=wz(),s=i.flush(),u=i.sync(),l=i.end(),d=class extends n{static{a(this,"Sn")}constructor(m){super(),m=m||{},this.stream=m.stream||new r.Socket,this._keepAlive=m.keepAlive,this._keepAliveInitialDelayMillis=m.keepAliveInitialDelayMillis,this.lastBuffer=!1,this.parsedStatements={},this.ssl=m.ssl||!1,this._ending=!1,this._emitMessage=!1;var y=this;this.on("newListener",function(g){g==="message"&&(y._emitMessage=!0)})}connect(m,y){var g=this;this._connecting=!0,this.stream.setNoDelay(!0),this.stream.connect(m,y),this.stream.once("connect",function(){g._keepAlive&&g.stream.setKeepAlive(!0,g._keepAliveInitialDelayMillis),g.emit("connect")});let h=P(function(v){g._ending&&(v.code==="ECONNRESET"||v.code==="EPIPE")||g.emit("error",v)},"reportStreamError");if(this.stream.on("error",h),this.stream.on("close",function(){g.emit("end")}),!this.ssl)return this.attachListeners(this.stream);this.stream.once("data",function(v){var S=v.toString("utf8");switch(S){case"S":break;case"N":return g.stream.end(),g.emit("error",new Error("The server does not support SSL connections"));default:return g.stream.end(),g.emit("error",new Error("There was an error establishing an SSL connection"))}var b=(kY(),Ar(xz));let w={socket:g.stream};g.ssl!==!0&&(Object.assign(w,g.ssl),"key"in g.ssl&&(w.key=g.ssl.key)),r.isIP(y)===0&&(w.servername=y);try{g.stream=b.connect(w)}catch(k){return g.emit("error",k)}g.attachListeners(g.stream),g.stream.on("error",h),g.emit("sslconnect")})}attachListeners(m){m.on("end",()=>{this.emit("end")}),o(m,y=>{var g=y.name==="error"?"errorMessage":y.name;this._emitMessage&&this.emit("message",y),this.emit(g,y)})}requestSsl(){this.stream.write(i.requestSsl())}startup(m){this.stream.write(i.startup(m))}cancel(m,y){this._send(i.cancel(m,y))}password(m){this._send(i.password(m))}sendSASLInitialResponseMessage(m,y){this._send(i.sendSASLInitialResponseMessage(m,y))}sendSCRAMClientFinalMessage(m){this._send(i.sendSCRAMClientFinalMessage(m))}_send(m){return this.stream.writable?this.stream.write(m):!1}query(m){this._send(i.query(m))}parse(m){this._send(i.parse(m))}bind(m){this._send(i.bind(m))}execute(m){this._send(i.execute(m))}flush(){this.stream.writable&&this.stream.write(s)}sync(){this._ending=!0,this._send(s),this._send(u)}ref(){this.stream.ref()}unref(){this.stream.unref()}end(){if(this._ending=!0,!this._connecting||!this.stream.writable){this.stream.end();return}return this.stream.write(l,()=>{this.stream.end()})}close(m){this._send(i.close(m))}describe(m){this._send(i.describe(m))}sendCopyFromChunk(m){this._send(i.copyData(m))}endCopyFrom(){this._send(i.copyDone())}sendCopyFail(m){this._send(i.copyFail(m))}};P(d,"Connection");var p=d;t.exports=p}),EY=et((e,t)=>{"use strict";Ce();var r=as().EventEmitter,n=(gf(),Ar(zl)),o=hf(),i=pY(),s=gY(),u=fT(),l=_T(),d=bY(),p=ff(),f=kz(),m=class extends r{static{a(this,"Cn")}constructor(h){super(),this.connectionParameters=new l(h),this.user=this.connectionParameters.user,this.database=this.connectionParameters.database,this.port=this.connectionParameters.port,this.host=this.connectionParameters.host,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:this.connectionParameters.password}),this.replication=this.connectionParameters.replication;var v=h||{};this._Promise=v.Promise||pf.Promise,this._types=new u(v.types),this._ending=!1,this._connecting=!1,this._connected=!1,this._connectionError=!1,this._queryable=!0,this.connection=v.connection||new f({stream:v.stream,ssl:this.connectionParameters.ssl,keepAlive:v.keepAlive||!1,keepAliveInitialDelayMillis:v.keepAliveInitialDelayMillis||0,encoding:this.connectionParameters.client_encoding||"utf8"}),this.queryQueue=[],this.binary=v.binary||p.binary,this.processID=null,this.secretKey=null,this.ssl=this.connectionParameters.ssl||!1,this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this._connectionTimeoutMillis=v.connectionTimeoutMillis||0}_errorAllQueries(h){let v=P(S=>{Ye.nextTick(()=>{S.handleError(h,this.connection)})},"enqueueError");this.activeQuery&&(v(this.activeQuery),this.activeQuery=null),this.queryQueue.forEach(v),this.queryQueue.length=0}_connect(h){var v=this,S=this.connection;if(this._connectionCallback=h,this._connecting||this._connected){let b=new Error("Client has already been connected. You cannot reuse a client.");Ye.nextTick(()=>{h(b)});return}this._connecting=!0,this.connectionTimeoutHandle,this._connectionTimeoutMillis>0&&(this.connectionTimeoutHandle=setTimeout(()=>{S._ending=!0,S.stream.destroy(new Error("timeout expired"))},this._connectionTimeoutMillis)),this.host&&this.host.indexOf("/")===0?S.connect(this.host+"/.s.PGSQL."+this.port):S.connect(this.port,this.host),S.on("connect",function(){v.ssl?S.requestSsl():S.startup(v.getStartupConf())}),S.on("sslconnect",function(){S.startup(v.getStartupConf())}),this._attachListeners(S),S.once("end",()=>{let b=this._ending?new Error("Connection terminated"):new Error("Connection terminated unexpectedly");clearTimeout(this.connectionTimeoutHandle),this._errorAllQueries(b),this._ending||(this._connecting&&!this._connectionError?this._connectionCallback?this._connectionCallback(b):this._handleErrorEvent(b):this._connectionError||this._handleErrorEvent(b)),Ye.nextTick(()=>{this.emit("end")})})}connect(h){if(h){this._connect(h);return}return new this._Promise((v,S)=>{this._connect(b=>{b?S(b):v()})})}_attachListeners(h){h.on("authenticationCleartextPassword",this._handleAuthCleartextPassword.bind(this)),h.on("authenticationMD5Password",this._handleAuthMD5Password.bind(this)),h.on("authenticationSASL",this._handleAuthSASL.bind(this)),h.on("authenticationSASLContinue",this._handleAuthSASLContinue.bind(this)),h.on("authenticationSASLFinal",this._handleAuthSASLFinal.bind(this)),h.on("backendKeyData",this._handleBackendKeyData.bind(this)),h.on("error",this._handleErrorEvent.bind(this)),h.on("errorMessage",this._handleErrorMessage.bind(this)),h.on("readyForQuery",this._handleReadyForQuery.bind(this)),h.on("notice",this._handleNotice.bind(this)),h.on("rowDescription",this._handleRowDescription.bind(this)),h.on("dataRow",this._handleDataRow.bind(this)),h.on("portalSuspended",this._handlePortalSuspended.bind(this)),h.on("emptyQuery",this._handleEmptyQuery.bind(this)),h.on("commandComplete",this._handleCommandComplete.bind(this)),h.on("parseComplete",this._handleParseComplete.bind(this)),h.on("copyInResponse",this._handleCopyInResponse.bind(this)),h.on("copyData",this._handleCopyData.bind(this)),h.on("notification",this._handleNotification.bind(this))}_checkPgPass(h){let v=this.connection;typeof this.password=="function"?this._Promise.resolve().then(()=>this.password()).then(S=>{if(S!==void 0){if(typeof S!="string"){v.emit("error",new TypeError("Password must be a string"));return}this.connectionParameters.password=this.password=S}else this.connectionParameters.password=this.password=null;h()}).catch(S=>{v.emit("error",S)}):this.password!==null?h():s(this.connectionParameters,S=>{S!==void 0&&(this.connectionParameters.password=this.password=S),h()})}_handleAuthCleartextPassword(h){this._checkPgPass(()=>{this.connection.password(this.password)})}_handleAuthMD5Password(h){this._checkPgPass(()=>{let v=o.postgresMd5PasswordHash(this.user,this.password,h.salt);this.connection.password(v)})}_handleAuthSASL(h){this._checkPgPass(()=>{this.saslSession=i.startSession(h.mechanisms),this.connection.sendSASLInitialResponseMessage(this.saslSession.mechanism,this.saslSession.response)})}_handleAuthSASLContinue(h){i.continueSession(this.saslSession,this.password,h.data),this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}_handleAuthSASLFinal(h){i.finalizeSession(this.saslSession,h.data),this.saslSession=null}_handleBackendKeyData(h){this.processID=h.processID,this.secretKey=h.secretKey}_handleReadyForQuery(h){this._connecting&&(this._connecting=!1,this._connected=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback&&(this._connectionCallback(null,this),this._connectionCallback=null),this.emit("connect"));let{activeQuery:v}=this;this.activeQuery=null,this.readyForQuery=!0,v&&v.handleReadyForQuery(this.connection),this._pulseQueryQueue()}_handleErrorWhileConnecting(h){if(!this._connectionError){if(this._connectionError=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback)return this._connectionCallback(h);this.emit("error",h)}}_handleErrorEvent(h){if(this._connecting)return this._handleErrorWhileConnecting(h);this._queryable=!1,this._errorAllQueries(h),this.emit("error",h)}_handleErrorMessage(h){if(this._connecting)return this._handleErrorWhileConnecting(h);let v=this.activeQuery;if(!v){this._handleErrorEvent(h);return}this.activeQuery=null,v.handleError(h,this.connection)}_handleRowDescription(h){this.activeQuery.handleRowDescription(h)}_handleDataRow(h){this.activeQuery.handleDataRow(h)}_handlePortalSuspended(h){this.activeQuery.handlePortalSuspended(this.connection)}_handleEmptyQuery(h){this.activeQuery.handleEmptyQuery(this.connection)}_handleCommandComplete(h){this.activeQuery.handleCommandComplete(h,this.connection)}_handleParseComplete(h){this.activeQuery.name&&(this.connection.parsedStatements[this.activeQuery.name]=this.activeQuery.text)}_handleCopyInResponse(h){this.activeQuery.handleCopyInResponse(this.connection)}_handleCopyData(h){this.activeQuery.handleCopyData(h,this.connection)}_handleNotification(h){this.emit("notification",h)}_handleNotice(h){this.emit("notice",h)}getStartupConf(){var h=this.connectionParameters,v={user:h.user,database:h.database},S=h.application_name||h.fallback_application_name;return S&&(v.application_name=S),h.replication&&(v.replication=""+h.replication),h.statement_timeout&&(v.statement_timeout=String(parseInt(h.statement_timeout,10))),h.lock_timeout&&(v.lock_timeout=String(parseInt(h.lock_timeout,10))),h.idle_in_transaction_session_timeout&&(v.idle_in_transaction_session_timeout=String(parseInt(h.idle_in_transaction_session_timeout,10))),h.options&&(v.options=h.options),v}cancel(h,v){if(h.activeQuery===v){var S=this.connection;this.host&&this.host.indexOf("/")===0?S.connect(this.host+"/.s.PGSQL."+this.port):S.connect(this.port,this.host),S.on("connect",function(){S.cancel(h.processID,h.secretKey)})}else h.queryQueue.indexOf(v)!==-1&&h.queryQueue.splice(h.queryQueue.indexOf(v),1)}setTypeParser(h,v,S){return this._types.setTypeParser(h,v,S)}getTypeParser(h,v){return this._types.getTypeParser(h,v)}escapeIdentifier(h){return'"'+h.replace(/"/g,'""')+'"'}escapeLiteral(h){for(var v=!1,S="'",b=0;b<h.length;b++){var w=h[b];w==="'"?S+=w+w:w==="\\"?(S+=w+w,v=!0):S+=w}return S+="'",v===!0&&(S=" E"+S),S}_pulseQueryQueue(){if(this.readyForQuery===!0)if(this.activeQuery=this.queryQueue.shift(),this.activeQuery){this.readyForQuery=!1,this.hasExecuted=!0;let h=this.activeQuery.submit(this.connection);h&&Ye.nextTick(()=>{this.activeQuery.handleError(h,this.connection),this.readyForQuery=!0,this._pulseQueryQueue()})}else this.hasExecuted&&(this.activeQuery=null,this.emit("drain"))}query(h,v,S){var b,w,k,$,A;if(h==null)throw new TypeError("Client was passed a null or undefined query");return typeof h.submit=="function"?(k=h.query_timeout||this.connectionParameters.query_timeout,w=b=h,typeof v=="function"&&(b.callback=b.callback||v)):(k=this.connectionParameters.query_timeout,b=new d(h,v,S),b.callback||(w=new this._Promise((O,R)=>{b.callback=(I,N)=>I?R(I):O(N)}))),k&&(A=b.callback,$=setTimeout(()=>{var O=new Error("Query read timeout");Ye.nextTick(()=>{b.handleError(O,this.connection)}),A(O),b.callback=()=>{};var R=this.queryQueue.indexOf(b);R>-1&&this.queryQueue.splice(R,1),this._pulseQueryQueue()},k),b.callback=(O,R)=>{clearTimeout($),A(O,R)}),this.binary&&!b.binary&&(b.binary=!0),b._result&&!b._result._types&&(b._result._types=this._types),this._queryable?this._ending?(Ye.nextTick(()=>{b.handleError(new Error("Client was closed and is not queryable"),this.connection)}),w):(this.queryQueue.push(b),this._pulseQueryQueue(),w):(Ye.nextTick(()=>{b.handleError(new Error("Client has encountered a connection error and is not queryable"),this.connection)}),w)}ref(){this.connection.ref()}unref(){this.connection.unref()}end(h){if(this._ending=!0,!this.connection._connecting)if(h)h();else return this._Promise.resolve();if(this.activeQuery||!this._queryable?this.connection.stream.destroy():this.connection.end(),h)this.connection.once("end",h);else return new this._Promise(v=>{this.connection.once("end",v)})}};P(m,"Client");var y=m;y.Query=d,t.exports=y}),PY=et((e,t)=>{"use strict";Ce();var r=as().EventEmitter,n=P(function(){},"NOOP"),o=P((g,h)=>{let v=g.findIndex(h);return v===-1?void 0:g.splice(v,1)[0]},"removeWhere"),i=class{static{a(this,"Tn")}constructor(h,v,S){this.client=h,this.idleListener=v,this.timeoutId=S}};P(i,"IdleItem");var s=i,u=class{static{a(this,"Pn")}constructor(h){this.callback=h}};P(u,"PendingItem");var l=u;function d(){throw new Error("Release called on client which has already been released to the pool.")}a(d,"il"),P(d,"throwOnDoubleRelease");function p(g,h){if(h)return{callback:h,result:void 0};let v,S,b=P(function(k,$){k?v(k):S($)},"cb"),w=new g(function(k,$){S=k,v=$}).catch(k=>{throw Error.captureStackTrace(k),k});return{callback:b,result:w}}a(p,"Dt"),P(p,"promisify");function f(g,h){return P(a(function v(S){S.client=h,h.removeListener("error",v),h.on("error",()=>{g.log("additional client error after disconnection due to error",S)}),g._remove(h),g.emit("error",S,h)},"t"),"idleListener")}a(f,"sl"),P(f,"makeIdleListener");var m=class extends r{static{a(this,"Bn")}constructor(h,v){super(),this.options=Object.assign({},h),h!=null&&"password"in h&&Object.defineProperty(this.options,"password",{configurable:!0,enumerable:!1,writable:!0,value:h.password}),h!=null&&h.ssl&&h.ssl.key&&Object.defineProperty(this.options.ssl,"key",{enumerable:!1}),this.options.max=this.options.max||this.options.poolSize||10,this.options.min=this.options.min||0,this.options.maxUses=this.options.maxUses||1/0,this.options.allowExitOnIdle=this.options.allowExitOnIdle||!1,this.options.maxLifetimeSeconds=this.options.maxLifetimeSeconds||0,this.log=this.options.log||function(){},this.Client=this.options.Client||v||yf().Client,this.Promise=this.options.Promise||pf.Promise,typeof this.options.idleTimeoutMillis>"u"&&(this.options.idleTimeoutMillis=1e4),this._clients=[],this._idle=[],this._expired=new WeakSet,this._pendingQueue=[],this._endCallback=void 0,this.ending=!1,this.ended=!1}_isFull(){return this._clients.length>=this.options.max}_isAboveMin(){return this._clients.length>this.options.min}_pulseQueue(){if(this.log("pulse queue"),this.ended){this.log("pulse queue ended");return}if(this.ending){this.log("pulse queue on ending"),this._idle.length&&this._idle.slice().map(v=>{this._remove(v.client)}),this._clients.length||(this.ended=!0,this._endCallback());return}if(!this._pendingQueue.length){this.log("no queued requests");return}if(!this._idle.length&&this._isFull())return;let h=this._pendingQueue.shift();if(this._idle.length){let v=this._idle.pop();clearTimeout(v.timeoutId);let S=v.client;S.ref&&S.ref();let b=v.idleListener;return this._acquireClient(S,h,b,!1)}if(!this._isFull())return this.newClient(h);throw new Error("unexpected condition")}_remove(h){let v=o(this._idle,S=>S.client===h);v!==void 0&&clearTimeout(v.timeoutId),this._clients=this._clients.filter(S=>S!==h),h.end(),this.emit("remove",h)}connect(h){if(this.ending){let b=new Error("Cannot use a pool after calling end on the pool");return h?h(b):this.Promise.reject(b)}let v=p(this.Promise,h),S=v.result;if(this._isFull()||this._idle.length){if(this._idle.length&&Ye.nextTick(()=>this._pulseQueue()),!this.options.connectionTimeoutMillis)return this._pendingQueue.push(new l(v.callback)),S;let b=P(($,A,O)=>{clearTimeout(k),v.callback($,A,O)},"queueCallback"),w=new l(b),k=setTimeout(()=>{o(this._pendingQueue,$=>$.callback===b),w.timedOut=!0,v.callback(new Error("timeout exceeded when trying to connect"))},this.options.connectionTimeoutMillis);return k.unref&&k.unref(),this._pendingQueue.push(w),S}return this.newClient(new l(v.callback)),S}newClient(h){let v=new this.Client(this.options);this._clients.push(v);let S=f(this,v);this.log("checking client timeout");let b,w=!1;this.options.connectionTimeoutMillis&&(b=setTimeout(()=>{this.log("ending client due to timeout"),w=!0,v.connection?v.connection.stream.destroy():v.end()},this.options.connectionTimeoutMillis)),this.log("connecting new client"),v.connect(k=>{if(b&&clearTimeout(b),v.on("error",S),k)this.log("client failed to connect",k),this._clients=this._clients.filter($=>$!==v),w&&(k=new Error("Connection terminated due to connection timeout",{cause:k})),this._pulseQueue(),h.timedOut||h.callback(k,void 0,n);else{if(this.log("new client connected"),this.options.maxLifetimeSeconds!==0){let $=setTimeout(()=>{this.log("ending client due to expired lifetime"),this._expired.add(v),this._idle.findIndex(A=>A.client===v)!==-1&&this._acquireClient(v,new l((A,O,R)=>R()),S,!1)},this.options.maxLifetimeSeconds*1e3);$.unref(),v.once("end",()=>clearTimeout($))}return this._acquireClient(v,h,S,!0)}})}_acquireClient(h,v,S,b){b&&this.emit("connect",h),this.emit("acquire",h),h.release=this._releaseOnce(h,S),h.removeListener("error",S),v.timedOut?b&&this.options.verify?this.options.verify(h,h.release):h.release():b&&this.options.verify?this.options.verify(h,w=>{if(w)return h.release(w),v.callback(w,void 0,n);v.callback(void 0,h,h.release)}):v.callback(void 0,h,h.release)}_releaseOnce(h,v){let S=!1;return b=>{S&&d(),S=!0,this._release(h,v,b)}}_release(h,v,S){if(h.on("error",v),h._poolUseCount=(h._poolUseCount||0)+1,this.emit("release",S,h),S||this.ending||!h._queryable||h._ending||h._poolUseCount>=this.options.maxUses){h._poolUseCount>=this.options.maxUses&&this.log("remove expended client"),this._remove(h),this._pulseQueue();return}if(this._expired.has(h)){this.log("remove expired client"),this._expired.delete(h),this._remove(h),this._pulseQueue();return}let b;this.options.idleTimeoutMillis&&this._isAboveMin()&&(b=setTimeout(()=>{this.log("remove idle client"),this._remove(h)},this.options.idleTimeoutMillis),this.options.allowExitOnIdle&&b.unref()),this.options.allowExitOnIdle&&h.unref(),this._idle.push(new s(h,v,b)),this._pulseQueue()}query(h,v,S){if(typeof h=="function"){let w=p(this.Promise,h);return pT(function(){return w.callback(new Error("Passing a function as the first parameter to pool.query is not supported"))}),w.result}typeof v=="function"&&(S=v,v=void 0);let b=p(this.Promise,S);return S=b.callback,this.connect((w,k)=>{if(w)return S(w);let $=!1,A=P(O=>{$||($=!0,k.release(O),S(O))},"onError");k.once("error",A),this.log("dispatching query");try{k.query(h,v,(O,R)=>{if(this.log("query dispatched"),k.removeListener("error",A),!$)return $=!0,k.release(O),O?S(O):S(void 0,R)})}catch(O){return k.release(O),S(O)}}),b.result}end(h){if(this.log("ending"),this.ending){let S=new Error("Called end on pool more than once");return h?h(S):this.Promise.reject(S)}this.ending=!0;let v=p(this.Promise,h);return this._endCallback=v.callback,this._pulseQueue(),v.result}get waitingCount(){return this._pendingQueue.length}get idleCount(){return this._idle.length}get expiredCount(){return this._clients.reduce((h,v)=>h+(this._expired.has(v)?1:0),0)}get totalCount(){return this._clients.length}};P(m,"Pool");var y=m;t.exports=y}),Ez={};ho(Ez,{default:a(()=>Pz,"default")});IY=vn(()=>{"use strict";Ce(),Pz={}}),OY=et((e,t)=>{t.exports={name:"pg",version:"8.8.0",description:"PostgreSQL client - pure javascript & libpq with the same API",keywords:["database","libpq","pg","postgre","postgres","postgresql","rdbms"],homepage:"https://github.com/brianc/node-postgres",repository:{type:"git",url:"git://github.com/brianc/node-postgres.git",directory:"packages/pg"},author:"Brian Carlson <brian.m.carlson@gmail.com>",main:"./lib",dependencies:{"buffer-writer":"2.0.0","packet-reader":"1.0.0","pg-connection-string":"^2.5.0","pg-pool":"^3.5.2","pg-protocol":"^1.5.0","pg-types":"^2.1.0",pgpass:"1.x"},devDependencies:{async:"2.6.4",bluebird:"3.5.2",co:"4.6.0","pg-copy-streams":"0.3.0"},peerDependencies:{"pg-native":">=3.0.1"},peerDependenciesMeta:{"pg-native":{optional:!0}},scripts:{test:"make test-all"},files:["lib","SPONSORS.md"],license:"MIT",engines:{node:">= 8.0.0"},gitHead:"c99fb2c127ddf8d712500db2c7b9a5491a178655"}}),AY=et((e,t)=>{"use strict";Ce();var r=as().EventEmitter,n=(gf(),Ar(zl)),o=hf(),i=t.exports=function(u,l,d){r.call(this),u=o.normalizeQueryConfig(u,l,d),this.text=u.text,this.values=u.values,this.name=u.name,this.callback=u.callback,this.state="new",this._arrayMode=u.rowMode==="array",this._emitRowEvents=!1,this.on("newListener",function(p){p==="row"&&(this._emitRowEvents=!0)}.bind(this))};n.inherits(i,r);var s={sqlState:"code",statementPosition:"position",messagePrimary:"message",context:"where",schemaName:"schema",tableName:"table",columnName:"column",dataTypeName:"dataType",constraintName:"constraint",sourceFile:"file",sourceLine:"line",sourceFunction:"routine"};i.prototype.handleError=function(u){var l=this.native.pq.resultErrorFields();if(l)for(var d in l){var p=s[d]||d;u[p]=l[d]}this.callback?this.callback(u):this.emit("error",u),this.state="error"},i.prototype.then=function(u,l){return this._getPromise().then(u,l)},i.prototype.catch=function(u){return this._getPromise().catch(u)},i.prototype._getPromise=function(){return this._promise?this._promise:(this._promise=new Promise(function(u,l){this._once("end",u),this._once("error",l)}.bind(this)),this._promise)},i.prototype.submit=function(u){this.state="running";var l=this;this.native=u.native,u.native.arrayMode=this._arrayMode;var d=P(function(m,y,g){if(u.native.arrayMode=!1,pT(function(){l.emit("_done")}),m)return l.handleError(m);l._emitRowEvents&&(g.length>1?y.forEach((h,v)=>{h.forEach(S=>{l.emit("row",S,g[v])})}):y.forEach(function(h){l.emit("row",h,g)})),l.state="end",l.emit("end",g),l.callback&&l.callback(null,g)},"after");if(Ye.domain&&(d=Ye.domain.bind(d)),this.name){this.name.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",this.name,this.name.length),console.error("This can cause conflicts and silent errors executing queries"));var p=(this.values||[]).map(o.prepareValue);if(u.namedQueries[this.name]){if(this.text&&u.namedQueries[this.name]!==this.text){let m=new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`);return d(m)}return u.native.execute(this.name,p,d)}return u.native.prepare(this.name,this.text,p.length,function(m){return m?d(m):(u.namedQueries[l.name]=l.text,l.native.execute(l.name,p,d))})}else if(this.values){if(!Array.isArray(this.values)){let m=new Error("Query values must be an array");return d(m)}var f=this.values.map(o.prepareValue);u.native.query(this.text,f,d)}else u.native.query(this.text,d)}}),CY=et((e,t)=>{"use strict";Ce();var r=(IY(),Ar(Ez)),n=fT(),o=OY(),i=as().EventEmitter,s=(gf(),Ar(zl)),u=_T(),l=AY(),d=t.exports=function(p){i.call(this),p=p||{},this._Promise=p.Promise||pf.Promise,this._types=new n(p.types),this.native=new r({types:this._types}),this._queryQueue=[],this._ending=!1,this._connecting=!1,this._connected=!1,this._queryable=!0;var f=this.connectionParameters=new u(p);this.user=f.user,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:f.password}),this.database=f.database,this.host=f.host,this.port=f.port,this.namedQueries={}};d.Query=l,s.inherits(d,i),d.prototype._errorAllQueries=function(p){let f=P(m=>{Ye.nextTick(()=>{m.native=this.native,m.handleError(p)})},"enqueueError");this._hasActiveQuery()&&(f(this._activeQuery),this._activeQuery=null),this._queryQueue.forEach(f),this._queryQueue.length=0},d.prototype._connect=function(p){var f=this;if(this._connecting){Ye.nextTick(()=>p(new Error("Client has already been connected. You cannot reuse a client.")));return}this._connecting=!0,this.connectionParameters.getLibpqConnectionString(function(m,y){if(m)return p(m);f.native.connect(y,function(g){if(g)return f.native.end(),p(g);f._connected=!0,f.native.on("error",function(h){f._queryable=!1,f._errorAllQueries(h),f.emit("error",h)}),f.native.on("notification",function(h){f.emit("notification",{channel:h.relname,payload:h.extra})}),f.emit("connect"),f._pulseQueryQueue(!0),p()})})},d.prototype.connect=function(p){if(p){this._connect(p);return}return new this._Promise((f,m)=>{this._connect(y=>{y?m(y):f()})})},d.prototype.query=function(p,f,m){var y,g,h,v,S;if(p==null)throw new TypeError("Client was passed a null or undefined query");if(typeof p.submit=="function")h=p.query_timeout||this.connectionParameters.query_timeout,g=y=p,typeof f=="function"&&(p.callback=f);else if(h=this.connectionParameters.query_timeout,y=new l(p,f,m),!y.callback){let b,w;g=new this._Promise((k,$)=>{b=k,w=$}),y.callback=(k,$)=>k?w(k):b($)}return h&&(S=y.callback,v=setTimeout(()=>{var b=new Error("Query read timeout");Ye.nextTick(()=>{y.handleError(b,this.connection)}),S(b),y.callback=()=>{};var w=this._queryQueue.indexOf(y);w>-1&&this._queryQueue.splice(w,1),this._pulseQueryQueue()},h),y.callback=(b,w)=>{clearTimeout(v),S(b,w)}),this._queryable?this._ending?(y.native=this.native,Ye.nextTick(()=>{y.handleError(new Error("Client was closed and is not queryable"))}),g):(this._queryQueue.push(y),this._pulseQueryQueue(),g):(y.native=this.native,Ye.nextTick(()=>{y.handleError(new Error("Client has encountered a connection error and is not queryable"))}),g)},d.prototype.end=function(p){var f=this;this._ending=!0,this._connected||this.once("connect",this.end.bind(this,p));var m;return p||(m=new this._Promise(function(y,g){p=P(h=>h?g(h):y(),"cb")})),this.native.end(function(){f._errorAllQueries(new Error("Connection terminated")),Ye.nextTick(()=>{f.emit("end"),p&&p()})}),m},d.prototype._hasActiveQuery=function(){return this._activeQuery&&this._activeQuery.state!=="error"&&this._activeQuery.state!=="end"},d.prototype._pulseQueryQueue=function(p){if(this._connected&&!this._hasActiveQuery()){var f=this._queryQueue.shift();if(!f){p||this.emit("drain");return}this._activeQuery=f,f.submit(this);var m=this;f.once("_done",function(){m._pulseQueryQueue()})}},d.prototype.cancel=function(p){this._activeQuery===p?this.native.cancel(function(){}):this._queryQueue.indexOf(p)!==-1&&this._queryQueue.splice(this._queryQueue.indexOf(p),1)},d.prototype.ref=function(){},d.prototype.unref=function(){},d.prototype.setTypeParser=function(p,f,m){return this._types.setTypeParser(p,f,m)},d.prototype.getTypeParser=function(p,f){return this._types.getTypeParser(p,f)}}),Zj=et((e,t)=>{"use strict";Ce(),t.exports=CY()}),yf=et((e,t)=>{"use strict";Ce();var r=EY(),n=ff(),o=kz(),i=PY(),{DatabaseError:s}=wz(),u=P(d=>{var p;return p=class extends i{static{a(this,"e")}constructor(f){super(f,d)}},P(p,"BoundPool"),p},"poolFactory"),l=P(function(d){this.defaults=n,this.Client=d,this.Query=this.Client.Query,this.Pool=u(this.Client),this._pools=[],this.Connection=o,this.types=mf(),this.DatabaseError=s},"PG");typeof Ye.env.NODE_PG_FORCE_NATIVE<"u"?t.exports=new l(Zj()):(t.exports=new l(r),Object.defineProperty(t.exports,"native",{configurable:!0,enumerable:!1,get(){var d=null;try{d=new l(Zj())}catch(p){if(p.code!=="MODULE_NOT_FOUND")throw p}return Object.defineProperty(t.exports,"native",{value:d}),d}}))});Ce();Ce();jl();rz();Ce();RY=Object.defineProperty,$Y=Object.defineProperties,NY=Object.getOwnPropertyDescriptors,Kj=Object.getOwnPropertySymbols,jY=Object.prototype.hasOwnProperty,zY=Object.prototype.propertyIsEnumerable,Gj=P((e,t,r)=>t in e?RY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,"__defNormalProp"),DY=P((e,t)=>{for(var r in t||(t={}))jY.call(t,r)&&Gj(e,r,t[r]);if(Kj)for(var r of Kj(t))zY.call(t,r)&&Gj(e,r,t[r]);return e},"__spreadValues"),MY=P((e,t)=>$Y(e,NY(t)),"__spreadProps"),qY=1008e3,Wj=new Uint8Array(new Uint16Array([258]).buffer)[0]===2,UY=new TextDecoder,bT=new TextEncoder,uf=bT.encode("0123456789abcdef"),cf=bT.encode("0123456789ABCDEF"),LY=bT.encode("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Iz=LY.slice();Iz[62]=45;Iz[63]=95;a(Oz,"Ea");P(Oz,"_toHex");a(Az,"Aa");P(Az,"_toHexChunked");a(Cz,"Ei");P(Cz,"toHex");Ce();Rz=class $z{static{a(this,"gt")}constructor(t,r){this.strings=t,this.values=r}toParameterizedQuery(t={query:"",params:[]}){let{strings:r,values:n}=this;for(let o=0,i=r.length;o<i;o++)if(t.query+=r[o],o<n.length){let s=n[o];if(s instanceof zz)t.query+=s.sql;else if(s instanceof df)if(s.queryData instanceof $z)s.queryData.toParameterizedQuery(t);else{if(s.queryData.params?.length)throw new Error("This query is not composable");t.query+=s.queryData.query}else{let{params:u}=t;u.push(s),t.query+="$"+u.length,(s instanceof Ue||ArrayBuffer.isView(s))&&(t.query+="::bytea")}}return t}};P(Rz,"SqlTemplate");Nz=Rz,jz=class{static{a(this,"Xt")}constructor(t){this.sql=t}};P(jz,"UnsafeRawSql");zz=jz;Ce();a(ST,"bt");P(ST,"warnIfBrowser");jl();FY=is(fT()),JY=is(hf()),Dz=class Mz extends Error{static{a(this,"_t")}constructor(t){super(t),Fe(this,"name","NeonDbError"),Fe(this,"severity"),Fe(this,"code"),Fe(this,"detail"),Fe(this,"hint"),Fe(this,"position"),Fe(this,"internalPosition"),Fe(this,"internalQuery"),Fe(this,"where"),Fe(this,"schema"),Fe(this,"table"),Fe(this,"column"),Fe(this,"dataType"),Fe(this,"constraint"),Fe(this,"file"),Fe(this,"line"),Fe(this,"routine"),Fe(this,"sourceError"),"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Mz)}};P(Dz,"NeonDbError");mu=Dz,Qj="transaction() expects an array of queries, or a function returning an array of queries",BY=["severity","code","detail","hint","position","internalPosition","internalQuery","where","schema","table","column","dataType","constraint","file","line","routine"];a(qz,"Lu");P(qz,"encodeBuffersAsBytea");a(lT,"ss");P(lT,"prepareQuery");a(ta,"cs");P(ta,"neon");Uz=class{static{a(this,"dr")}constructor(t,r,n){this.execute=t,this.queryData=r,this.opts=n}then(t,r){return this.execute(this.queryData,this.opts).then(t,r)}catch(t){return this.execute(this.queryData,this.opts).catch(t)}finally(t){return this.execute(this.queryData,this.opts).finally(t)}};P(Uz,"NeonQueryPromise");df=Uz;a(dT,"os");P(dT,"processQueryResult");a(Lz,"Fu");P(Lz,"getAuthToken");Ce();HY=is(yf());Ce();VY=is(yf()),Fz=class extends VY.Client{static{a(this,"kn")}constructor(t){super(t),this.config=t}get neonConfig(){return this.connection.stream}connect(t){let{neonConfig:r}=this;r.forceDisablePgSSL&&(this.ssl=this.connection.ssl=!1),this.ssl&&r.useSecureWebSocket&&console.warn("SSL is enabled for both Postgres (e.g. ?sslmode=require in the connection string + forceDisablePgSSL = false) and the WebSocket tunnel (useSecureWebSocket = true). Double encryption will increase latency and CPU usage. It may be appropriate to disable SSL in the Postgres connection parameters or set forceDisablePgSSL = true.");let n=typeof this.config!="string"&&this.config?.host!==void 0||typeof this.config!="string"&&this.config?.connectionString!==void 0||Ye.env.PGHOST!==void 0,o=Ye.env.USER??Ye.env.USERNAME;if(!n&&this.host==="localhost"&&this.user===o&&this.database===o&&this.password===null)throw new Error(`No database host or connection string was set, and key parameters have default values (host: localhost, user: ${o}, db: ${o}, password: null). Is an environment variable missing? Alternatively, if you intended to connect with these parameters, please set the host to 'localhost' explicitly.`);let i=super.connect(t),s=r.pipelineTLS&&this.ssl,u=r.pipelineConnect==="password";if(!s&&!r.pipelineConnect)return i;let l=this.connection;if(s&&l.on("connect",()=>l.stream.emit("data","S")),u){l.removeAllListeners("authenticationCleartextPassword"),l.removeAllListeners("readyForQuery"),l.once("readyForQuery",()=>l.on("readyForQuery",this._handleReadyForQuery.bind(this)));let d=this.ssl?"sslconnect":"connect";l.on(d,()=>{this.neonConfig.disableWarningInBrowsers||ST(),this._handleAuthCleartextPassword(),this._handleReadyForQuery()})}return i}async _handleAuthSASLContinue(t){if(typeof crypto>"u"||crypto.subtle===void 0||crypto.subtle.importKey===void 0)throw new Error("Cannot use SASL auth when `crypto.subtle` is not defined");let r=crypto.subtle,n=this.saslSession,o=this.password,i=t.data;if(n.message!=="SASLInitialResponse"||typeof o!="string"||typeof i!="string")throw new Error("SASL: protocol error");let s=Object.fromEntries(i.split(",").map(Se=>{if(!/^.=/.test(Se))throw new Error("SASL: Invalid attribute pair entry");let ke=Se[0],Xe=Se.substring(2);return[ke,Xe]})),u=s.r,l=s.s,d=s.i;if(!u||!/^[!-+--~]+$/.test(u))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing/unprintable");if(!l||!/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(l))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing/not base64");if(!d||!/^[1-9][0-9]*$/.test(d))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: missing/invalid iteration count");if(!u.startsWith(n.clientNonce))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");if(u.length===n.clientNonce.length)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short");let p=parseInt(d,10),f=Ue.from(l,"base64"),m=new TextEncoder,y=m.encode(o),g=await r.importKey("raw",y,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),h=new Uint8Array(await r.sign("HMAC",g,Ue.concat([f,Ue.from([0,0,0,1])]))),v=h;for(var S=0;S<p-1;S++)h=new Uint8Array(await r.sign("HMAC",g,h)),v=Ue.from(v.map((Se,ke)=>v[ke]^h[ke]));let b=v,w=await r.importKey("raw",b,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),k=new Uint8Array(await r.sign("HMAC",w,m.encode("Client Key"))),$=await r.digest("SHA-256",k),A="n=*,r="+n.clientNonce,O="r="+u+",s="+l+",i="+p,R="c=biws,r="+u,I=A+","+O+","+R,N=await r.importKey("raw",$,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);var z=new Uint8Array(await r.sign("HMAC",N,m.encode(I))),X=Ue.from(k.map((Se,ke)=>k[ke]^z[ke])),Z=X.toString("base64");let J=await r.importKey("raw",b,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),te=await r.sign("HMAC",J,m.encode("Server Key")),ne=await r.importKey("raw",te,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);var ae=Ue.from(await r.sign("HMAC",ne,m.encode(I)));n.message="SASLResponse",n.serverSignature=ae.toString("base64"),n.response=R+",p="+Z,this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}};P(Fz,"NeonClient");ZY=Fz;jl();KY=is(_T());a(Jz,"vl");P(Jz,"promisify");Bz=class extends HY.Pool{static{a(this,"Un")}constructor(){super(...arguments),Fe(this,"Client",ZY),Fe(this,"hasFetchUnsupportedListeners",!1),Fe(this,"addListener",this.on)}on(t,r){return t!=="error"&&(this.hasFetchUnsupportedListeners=!0),super.on(t,r)}query(t,r,n){if(!os.poolQueryViaFetch||this.hasFetchUnsupportedListeners||typeof t=="function")return super.query(t,r,n);typeof r=="function"&&(n=r,r=void 0);let o=Jz(this.Promise,n);n=o.callback;try{let i=new KY.default(this.options),s=encodeURIComponent,u=encodeURI,l=`postgresql://${s(i.user)}:${s(i.password)}@${s(i.host)}/${u(i.database)}`,d=typeof t=="string"?t:t.text,p=r??t.values??[];ta(l,{fullResults:!0,arrayMode:t.rowMode==="array"}).query(d,p,{types:t.types??this.options?.types}).then(f=>n(void 0,f)).catch(f=>n(f))}catch(i){n(i)}return o.result}};P(Bz,"NeonPool");Fo=Bz;jl();Dl=is(yf()),J$e=Dl.DatabaseError,B$e=Dl.defaults,H$e=Dl.escapeIdentifier,V$e=Dl.escapeLiteral,Bt=Dl.types;});var At,ra=K(()=>{tf();co();fe();Zt();po();hi();At=class e{static{a(this,"SelectionProxyHandler")}static[j]="SelectionProxyHandler";config;constructor(t){this.config={...t}}get(t,r){if(r==="_")return{...t._,selectedFields:new Proxy(t._.selectedFields,this)};if(r===It)return{...t[It],selectedFields:new Proxy(t[It].selectedFields,this)};if(typeof r=="symbol")return t[r];let o=(Y(t,tr)?t._.selectedFields:Y(t,Vr)?t[It].selectedFields:t)[r];if(Y(o,be.Aliased)){if(this.config.sqlAliasedBehavior==="sql"&&!o.isSelectionField)return o.sql;let i=o.clone();return i.isSelectionField=!0,i}if(Y(o,be)){if(this.config.sqlBehavior==="sql")return o;throw new Error(`You tried to reference "${r}" field from a subquery, which is a raw SQL field, but it doesn't have an alias declared. Please add an alias to the field using ".as('alias')" method.`)}return Y(o,bt)?this.config.alias?new Proxy(o,new Xi(new Proxy(o.table,new es(this.config.alias,this.config.replaceOriginalName??!1)))):o:typeof o!="object"||o===null?o:new Proxy(o,new e(this.config))}}});var Hz,wT,Vz=K(()=>{fe();Hz=class{static{a(this,"CheckBuilder")}constructor(t,r){this.name=t,this.value=r}static[j]="PgCheckBuilder";brand;build(t){return new wT(t,this)}},wT=class{static{a(this,"Check")}constructor(t,r){this.table=t,this.name=r.name,this.value=r.value}static[j]="PgCheck";name;value}});var vf=K(()=>{Jw();Kw();Qw();ex();nx();ct();ax();cx();px();Gm();hx();hl();vx();Sx();xx();kx();Ax();$x();zx();Jx();Kx();e0();n0();a0();c0();p0();h0();y0();b0();w0();k0();I0();C0();N0();D0()});function kT(e){return new xT(!0,e)}var xT,ql,TT,Zz=K(()=>{Zt();fe();vf();xT=class{static{a(this,"IndexBuilderOn")}constructor(t,r){this.unique=t,this.name=r}static[j]="PgIndexBuilderOn";on(...t){return new ql(t.map(r=>{if(Y(r,be))return r;r=r;let n=new tu(r.name,!!r.keyAsName,r.columnType,r.indexConfig);return r.indexConfig=JSON.parse(JSON.stringify(r.defaultConfig)),n}),this.unique,!1,this.name)}onOnly(...t){return new ql(t.map(r=>{if(Y(r,be))return r;r=r;let n=new tu(r.name,!!r.keyAsName,r.columnType,r.indexConfig);return r.indexConfig=r.defaultConfig,n}),this.unique,!0,this.name)}using(t,...r){return new ql(r.map(n=>{if(Y(n,be))return n;n=n;let o=new tu(n.name,!!n.keyAsName,n.columnType,n.indexConfig);return n.indexConfig=JSON.parse(JSON.stringify(n.defaultConfig)),o}),this.unique,!0,this.name,t)}},ql=class{static{a(this,"IndexBuilder")}static[j]="PgIndexBuilder";config;constructor(t,r,n,o,i="btree"){this.config={name:o,columns:t,unique:r,only:n,method:i}}concurrently(){return this.config.concurrently=!0,this}with(t){return this.config.with=t,this}where(t){return this.config.where=t,this}build(t){return new TT(this.config,t)}},TT=class{static{a(this,"Index")}static[j]="PgIndex";config;constructor(t,r){this.config={...t,table:r}}};a(kT,"uniqueIndex")});var Kz,Gz=K(()=>{fe();Kz=class{static{a(this,"PgPolicy")}constructor(t,r){this.name=t,r&&(this.as=r.as,this.for=r.for,this.to=r.to,this.using=r.using,this.withCheck=r.withCheck)}static[j]="PgPolicy";as;for;to;using;withCheck;_linkedTable;link(t){return this._linkedTable=t,this}}});var ET,PT=K(()=>{ET=Symbol.for("drizzle:PgViewConfig")});function GY(e){return(e.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).map(r=>r.toLowerCase()).join("_")}function WY(e){return(e.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).reduce((r,n,o)=>{let i=o===0?n.toLowerCase():`${n[0].toUpperCase()}${n.slice(1)}`;return r+i},"")}function QY(e){return e}var _f,Wz=K(()=>{fe();Qr();a(GY,"toSnakeCase");a(WY,"toCamelCase");a(QY,"noopCase");_f=class{static{a(this,"CasingCache")}static[j]="CasingCache";cache={};cachedTables={};convert;constructor(t){this.convert=t==="snake_case"?GY:t==="camelCase"?WY:QY}getColumnCasing(t){if(!t.keyAsName)return t.name;let r=t.table[ge.Symbol.Schema]??"public",n=t.table[ge.Symbol.OriginalName],o=`${r}.${n}.${t.name}`;return this.cache[o]||this.cacheTable(t.table),this.cache[o]}cacheTable(t){let r=t[ge.Symbol.Schema]??"public",n=t[ge.Symbol.OriginalName],o=`${r}.${n}`;if(!this.cachedTables[o]){for(let i of Object.values(t[ge.Symbol.Columns])){let s=`${o}.${i.name}`;this.cache[s]=this.convert(i.name)}this.cachedTables[o]=!0}}clearCache(){this.cache={},this.cachedTables={}}}});var wi,bf=K(()=>{fe();Zt();wi=class extends Vr{static{a(this,"PgViewBase")}static[j]="PgViewBase"}});var Jo,Ul=K(()=>{tf();Wz();co();fe();rf();vf();Yi();du();sf();Zt();po();Qr();Tt();hi();bf();Jo=class{static{a(this,"PgDialect")}static[j]="PgDialect";casing;constructor(t){this.casing=new _f(t?.casing)}async migrate(t,r,n){let o=typeof n=="string"?"__drizzle_migrations":n.migrationsTable??"__drizzle_migrations",i=typeof n=="string"?"drizzle":n.migrationsSchema??"drizzle",s=M`
			CREATE TABLE IF NOT EXISTS ${M.identifier(i)}.${M.identifier(o)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at bigint
			)
		`;await r.execute(M`CREATE SCHEMA IF NOT EXISTS ${M.identifier(i)}`),await r.execute(s);let l=(await r.all(M`select id, hash, created_at from ${M.identifier(i)}.${M.identifier(o)} order by created_at desc limit 1`))[0];await r.transaction(async d=>{for await(let p of t)if(!l||Number(l.created_at)<p.folderMillis){for(let f of p.sql)await d.execute(M.raw(f));await d.execute(M`insert into ${M.identifier(i)}.${M.identifier(o)} ("hash", "created_at") values(${p.hash}, ${p.folderMillis})`)}})}escapeName(t){return`"${t}"`}escapeParam(t){return`$${t+1}`}escapeString(t){return`'${t.replace(/'/g,"''")}'`}buildWithCTE(t){if(!t?.length)return;let r=[M`with `];for(let[n,o]of t.entries())r.push(M`${M.identifier(o._.alias)} as (${o._.sql})`),n<t.length-1&&r.push(M`, `);return r.push(M` `),M.join(r)}buildDeleteQuery({table:t,where:r,returning:n,withList:o}){let i=this.buildWithCTE(o),s=n?M` returning ${this.buildSelection(n,{isSingleTable:!0})}`:void 0,u=r?M` where ${r}`:void 0;return M`${i}delete from ${t}${u}${s}`}buildUpdateSet(t,r){let n=t[ge.Symbol.Columns],o=Object.keys(n).filter(s=>r[s]!==void 0||n[s]?.onUpdateFn!==void 0),i=o.length;return M.join(o.flatMap((s,u)=>{let l=n[s],d=r[s]??M.param(l.onUpdateFn(),l),p=M`${M.identifier(this.casing.getColumnCasing(l))} = ${d}`;return u<i-1?[p,M.raw(", ")]:[p]}))}buildUpdateQuery({table:t,set:r,where:n,returning:o,withList:i,from:s,joins:u}){let l=this.buildWithCTE(i),d=t[Sr.Symbol.Name],p=t[Sr.Symbol.Schema],f=t[Sr.Symbol.OriginalName],m=d===f?void 0:d,y=M`${p?M`${M.identifier(p)}.`:void 0}${M.identifier(f)}${m&&M` ${M.identifier(m)}`}`,g=this.buildUpdateSet(t,r),h=s&&M.join([M.raw(" from "),this.buildFromTable(s)]),v=this.buildJoins(u),S=o?M` returning ${this.buildSelection(o,{isSingleTable:!s})}`:void 0,b=n?M` where ${n}`:void 0;return M`${l}update ${y} set ${g}${h}${v}${b}${S}`}buildSelection(t,{isSingleTable:r=!1}={}){let n=t.length,o=t.flatMap(({field:i},s)=>{let u=[];if(Y(i,be.Aliased)&&i.isSelectionField)u.push(M.identifier(i.fieldAlias));else if(Y(i,be.Aliased)||Y(i,be)){let l=Y(i,be.Aliased)?i.sql:i;r?u.push(new be(l.queryChunks.map(d=>Y(d,he)?M.identifier(this.casing.getColumnCasing(d)):d))):u.push(l),Y(i,be.Aliased)&&u.push(M` as ${M.identifier(i.fieldAlias)}`)}else Y(i,bt)&&(r?u.push(M.identifier(this.casing.getColumnCasing(i))):u.push(i));return s<n-1&&u.push(M`, `),u});return M.join(o)}buildJoins(t){if(!t||t.length===0)return;let r=[];for(let[n,o]of t.entries()){n===0&&r.push(M` `);let i=o.table,s=o.lateral?M` lateral`:void 0,u=o.on?M` on ${o.on}`:void 0;if(Y(i,Sr)){let l=i[Sr.Symbol.Name],d=i[Sr.Symbol.Schema],p=i[Sr.Symbol.OriginalName],f=l===p?void 0:o.alias;r.push(M`${M.raw(o.joinType)} join${s} ${d?M`${M.identifier(d)}.`:void 0}${M.identifier(p)}${f&&M` ${M.identifier(f)}`}${u}`)}else if(Y(i,Vr)){let l=i[It].name,d=i[It].schema,p=i[It].originalName,f=l===p?void 0:o.alias;r.push(M`${M.raw(o.joinType)} join${s} ${d?M`${M.identifier(d)}.`:void 0}${M.identifier(p)}${f&&M` ${M.identifier(f)}`}${u}`)}else r.push(M`${M.raw(o.joinType)} join${s} ${i}${u}`);n<t.length-1&&r.push(M` `)}return M.join(r)}buildFromTable(t){if(Y(t,ge)&&t[ge.Symbol.IsAlias]){let r=M`${M.identifier(t[ge.Symbol.OriginalName])}`;return t[ge.Symbol.Schema]&&(r=M`${M.identifier(t[ge.Symbol.Schema])}.${r}`),M`${r} ${M.identifier(t[ge.Symbol.Name])}`}return t}buildSelectQuery({withList:t,fields:r,fieldsFlat:n,where:o,having:i,table:s,joins:u,orderBy:l,groupBy:d,limit:p,offset:f,lockingClause:m,distinct:y,setOperators:g}){let h=n??$n(r);for(let J of h)if(Y(J.field,bt)&&Wr(J.field.table)!==(Y(s,tr)?s._.alias:Y(s,wi)?s[It].name:Y(s,be)?void 0:Wr(s))&&!(te=>u?.some(({alias:ne})=>ne===(te[ge.Symbol.IsAlias]?Wr(te):te[ge.Symbol.BaseName])))(J.field.table)){let te=Wr(J.field.table);throw new Error(`Your "${J.path.join("->")}" field references a column "${te}"."${J.field.name}", but the table "${te}" is not part of the query! Did you forget to join it?`)}let v=!u||u.length===0,S=this.buildWithCTE(t),b;y&&(b=y===!0?M` distinct`:M` distinct on (${M.join(y.on,M`, `)})`);let w=this.buildSelection(h,{isSingleTable:v}),k=this.buildFromTable(s),$=this.buildJoins(u),A=o?M` where ${o}`:void 0,O=i?M` having ${i}`:void 0,R;l&&l.length>0&&(R=M` order by ${M.join(l,M`, `)}`);let I;d&&d.length>0&&(I=M` group by ${M.join(d,M`, `)}`);let N=typeof p=="object"||typeof p=="number"&&p>=0?M` limit ${p}`:void 0,z=f?M` offset ${f}`:void 0,X=M.empty();if(m){let J=M` for ${M.raw(m.strength)}`;m.config.of&&J.append(M` of ${M.join(Array.isArray(m.config.of)?m.config.of:[m.config.of],M`, `)}`),m.config.noWait?J.append(M` nowait`):m.config.skipLocked&&J.append(M` skip locked`),X.append(J)}let Z=M`${S}select${b} ${w} from ${k}${$}${A}${I}${O}${R}${N}${z}${X}`;return g.length>0?this.buildSetOperations(Z,g):Z}buildSetOperations(t,r){let[n,...o]=r;if(!n)throw new Error("Cannot pass undefined values to any set operator");return o.length===0?this.buildSetOperationQuery({leftSelect:t,setOperator:n}):this.buildSetOperations(this.buildSetOperationQuery({leftSelect:t,setOperator:n}),o)}buildSetOperationQuery({leftSelect:t,setOperator:{type:r,isAll:n,rightSelect:o,limit:i,orderBy:s,offset:u}}){let l=M`(${t.getSQL()}) `,d=M`(${o.getSQL()})`,p;if(s&&s.length>0){let g=[];for(let h of s)if(Y(h,he))g.push(M.identifier(h.name));else if(Y(h,be)){for(let v=0;v<h.queryChunks.length;v++){let S=h.queryChunks[v];Y(S,he)&&(h.queryChunks[v]=M.identifier(S.name))}g.push(M`${h}`)}else g.push(M`${h}`);p=M` order by ${M.join(g,M`, `)} `}let f=typeof i=="object"||typeof i=="number"&&i>=0?M` limit ${i}`:void 0,m=M.raw(`${r} ${n?"all ":""}`),y=u?M` offset ${u}`:void 0;return M`${l}${m}${d}${p}${f}${y}`}buildInsertQuery({table:t,values:r,onConflict:n,returning:o,withList:i,select:s,overridingSystemValue_:u}){let l=[],d=t[ge.Symbol.Columns],p=Object.entries(d).filter(([S,b])=>!b.shouldDisableInsert()),f=p.map(([,S])=>M.identifier(this.casing.getColumnCasing(S)));if(s){let S=r;Y(S,be)?l.push(S):l.push(S.getSQL())}else{let S=r;l.push(M.raw("values "));for(let[b,w]of S.entries()){let k=[];for(let[$,A]of p){let O=w[$];if(O===void 0||Y(O,Hr)&&O.value===void 0)if(A.defaultFn!==void 0){let R=A.defaultFn(),I=Y(R,be)?R:M.param(R,A);k.push(I)}else if(!A.default&&A.onUpdateFn!==void 0){let R=A.onUpdateFn(),I=Y(R,be)?R:M.param(R,A);k.push(I)}else k.push(M`default`);else k.push(O)}l.push(k),b<S.length-1&&l.push(M`, `)}}let m=this.buildWithCTE(i),y=M.join(l),g=o?M` returning ${this.buildSelection(o,{isSingleTable:!0})}`:void 0,h=n?M` on conflict ${n}`:void 0,v=u===!0?M`overriding system value `:void 0;return M`${m}insert into ${t} ${f} ${v}${y}${h}${g}`}buildRefreshMaterializedViewQuery({view:t,concurrently:r,withNoData:n}){let o=r?M` concurrently`:void 0,i=n?M` with no data`:void 0;return M`refresh materialized view${o} ${t}${i}`}prepareTyping(t){return Y(t,_l)||Y(t,vl)?"json":Y(t,bl)?"decimal":Y(t,Sl)?"time":Y(t,wl)||Y(t,xl)?"timestamp":Y(t,gl)||Y(t,yl)?"date":Y(t,Tl)?"uuid":"none"}sqlToQuery(t,r){return t.toQuery({casing:this.casing,escapeName:this.escapeName,escapeParam:this.escapeParam,escapeString:this.escapeString,prepareTyping:this.prepareTyping,invokeSource:r})}buildRelationalQueryWithoutPK({fullSchema:t,schema:r,tableNamesMap:n,table:o,tableConfig:i,queryConfig:s,tableAlias:u,nestedQueryRelation:l,joinOn:d}){let p=[],f,m,y=[],g,h=[];if(s===!0)p=Object.entries(i.columns).map(([b,w])=>({dbKey:w.name,tsKey:b,field:fo(w,u),relationTableTsKey:void 0,isJson:!1,selection:[]}));else{let S=Object.fromEntries(Object.entries(i.columns).map(([O,R])=>[O,fo(R,u)]));if(s.where){let O=typeof s.where=="function"?s.where(S,rT()):s.where;g=O&&ou(O,u)}let b=[],w=[];if(s.columns){let O=!1;for(let[R,I]of Object.entries(s.columns))I!==void 0&&R in i.columns&&(!O&&I===!0&&(O=!0),w.push(R));w.length>0&&(w=O?w.filter(R=>s.columns?.[R]===!0):Object.keys(i.columns).filter(R=>!w.includes(R)))}else w=Object.keys(i.columns);for(let O of w){let R=i.columns[O];b.push({tsKey:O,value:R})}let k=[];s.with&&(k=Object.entries(s.with).filter(O=>!!O[1]).map(([O,R])=>({tsKey:O,queryConfig:R,relation:i.relations[O]})));let $;if(s.extras){$=typeof s.extras=="function"?s.extras(S,{sql:M}):s.extras;for(let[O,R]of Object.entries($))b.push({tsKey:O,value:ef(R,u)})}for(let{tsKey:O,value:R}of b)p.push({dbKey:Y(R,be.Aliased)?R.fieldAlias:i.columns[O].name,tsKey:O,field:Y(R,bt)?fo(R,u):R,relationTableTsKey:void 0,isJson:!1,selection:[]});let A=typeof s.orderBy=="function"?s.orderBy(S,nT()):s.orderBy??[];Array.isArray(A)||(A=[A]),y=A.map(O=>Y(O,bt)?fo(O,u):ou(O,u)),f=s.limit,m=s.offset;for(let{tsKey:O,queryConfig:R,relation:I}of k){let N=oT(r,n,I),z=Qi(I.referencedTable),X=n[z],Z=`${u}_${O}`,J=Ee(...N.fields.map((ae,Se)=>V(fo(N.references[Se],Z),fo(ae,u)))),te=this.buildRelationalQueryWithoutPK({fullSchema:t,schema:r,tableNamesMap:n,table:t[X],tableConfig:r[X],queryConfig:Y(I,bi)?R===!0?{limit:1}:{...R,limit:1}:R,tableAlias:Z,joinOn:J,nestedQueryRelation:I}),ne=M`${M.identifier(Z)}.${M.identifier("data")}`.as(O);h.push({on:M`true`,table:new tr(te.sql,{},Z),alias:Z,joinType:"left",lateral:!0}),p.push({dbKey:O,tsKey:O,field:ne,relationTableTsKey:X,isJson:!0,selection:te.selection})}}if(p.length===0)throw new iu({message:`No fields selected for table "${i.tsName}" ("${u}")`});let v;if(g=Ee(d,g),l){let S=M`json_build_array(${M.join(p.map(({field:k,tsKey:$,isJson:A})=>A?M`${M.identifier(`${u}_${$}`)}.${M.identifier("data")}`:Y(k,be.Aliased)?k.sql:k),M`, `)})`;Y(l,lu)&&(S=M`coalesce(json_agg(${S}${y.length>0?M` order by ${M.join(y,M`, `)}`:void 0}), '[]'::json)`);let b=[{dbKey:"data",tsKey:"data",field:S.as("data"),isJson:!0,relationTableTsKey:i.tsName,selection:p}];f!==void 0||m!==void 0||y.length>0?(v=this.buildSelectQuery({table:nu(o,u),fields:{},fieldsFlat:[{path:[],field:M.raw("*")}],where:g,limit:f,offset:m,orderBy:y,setOperators:[]}),g=void 0,f=void 0,m=void 0,y=[]):v=nu(o,u),v=this.buildSelectQuery({table:Y(v,Sr)?v:new tr(v,{},u),fields:{},fieldsFlat:b.map(({field:k})=>({path:[],field:Y(k,bt)?fo(k,u):k})),joins:h,where:g,limit:f,offset:m,orderBy:y,setOperators:[]})}else v=this.buildSelectQuery({table:nu(o,u),fields:{},fieldsFlat:p.map(({field:S})=>({path:[],field:Y(S,bt)?fo(S,u):S})),joins:h,where:g,limit:f,offset:m,orderBy:y,setOperators:[]});return{tableTsKey:i.tsName,sql:v,selection:p}}}});var Sf,Qz=K(()=>{fe();Sf=class{static{a(this,"TypedQueryBuilder")}static[j]="TypedQueryBuilder";getSelectedFields(){return this._.selectedFields}}});function hu(e,t){return(r,n,...o)=>{let i=[n,...o].map(s=>({type:e,isAll:t,rightSelect:s}));for(let s of i)if(!su(r.getSelectedFields(),s.rightSelect.getSelectedFields()))throw new Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return r.addSetOperators(i)}}var Kr,IT,wf,XY,YY,eee,tee,ree,nee,oee,OT=K(()=>{fe();bf();Qz();yi();ra();Zt();po();Qr();Gi();Tt();Tt();hi();gu();Kr=class{static{a(this,"PgSelectBuilder")}static[j]="PgSelectBuilder";fields;session;dialect;withList=[];distinct;constructor(t){this.fields=t.fields,this.session=t.session,this.dialect=t.dialect,t.withList&&(this.withList=t.withList),this.distinct=t.distinct}authToken;setToken(t){return this.authToken=t,this}from(t){let r=!!this.fields,n=t,o;return this.fields?o=this.fields:Y(n,tr)?o=Object.fromEntries(Object.keys(n._.selectedFields).map(i=>[i,n[i]])):Y(n,wi)?o=n[It].selectedFields:Y(n,be)?o={}:o=uu(n),new wf({table:n,fields:o,isPartialSelect:r,session:this.session,dialect:this.dialect,withList:this.withList,distinct:this.distinct}).setToken(this.authToken)}},IT=class extends Sf{static{a(this,"PgSelectQueryBuilderBase")}static[j]="PgSelectQueryBuilder";_;config;joinsNotNullableMap;tableName;isPartialSelect;session;dialect;cacheConfig=void 0;usedTables=new Set;constructor({table:t,fields:r,isPartialSelect:n,session:o,dialect:i,withList:s,distinct:u}){super(),this.config={withList:s,table:t,fields:{...r},distinct:u,setOperators:[]},this.isPartialSelect=n,this.session=o,this.dialect=i,this._={selectedFields:r,config:this.config},this.tableName=Uo(t),this.joinsNotNullableMap=typeof this.tableName=="string"?{[this.tableName]:!0}:{};for(let l of go(t))this.usedTables.add(l)}getUsedTables(){return[...this.usedTables]}createJoin(t,r){return(n,o)=>{let i=this.tableName,s=Uo(n);for(let u of go(n))this.usedTables.add(u);if(typeof s=="string"&&this.config.joins?.some(u=>u.alias===s))throw new Error(`Alias "${s}" is already used in this query`);if(!this.isPartialSelect&&(Object.keys(this.joinsNotNullableMap).length===1&&typeof i=="string"&&(this.config.fields={[i]:this.config.fields}),typeof s=="string"&&!Y(n,be))){let u=Y(n,tr)?n._.selectedFields:Y(n,Vr)?n[It].selectedFields:n[ge.Symbol.Columns];this.config.fields[s]=u}if(typeof o=="function"&&(o=o(new Proxy(this.config.fields,new At({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.joins||(this.config.joins=[]),this.config.joins.push({on:o,table:n,joinType:t,alias:s,lateral:r}),typeof s=="string")switch(t){case"left":{this.joinsNotNullableMap[s]=!1;break}case"right":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([u])=>[u,!1])),this.joinsNotNullableMap[s]=!0;break}case"cross":case"inner":{this.joinsNotNullableMap[s]=!0;break}case"full":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([u])=>[u,!1])),this.joinsNotNullableMap[s]=!1;break}}return this}}leftJoin=this.createJoin("left",!1);leftJoinLateral=this.createJoin("left",!0);rightJoin=this.createJoin("right",!1);innerJoin=this.createJoin("inner",!1);innerJoinLateral=this.createJoin("inner",!0);fullJoin=this.createJoin("full",!1);crossJoin=this.createJoin("cross",!1);crossJoinLateral=this.createJoin("cross",!0);createSetOperator(t,r){return n=>{let o=typeof n=="function"?n(XY()):n;if(!su(this.getSelectedFields(),o.getSelectedFields()))throw new Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return this.config.setOperators.push({type:t,isAll:r,rightSelect:o}),this}}union=this.createSetOperator("union",!1);unionAll=this.createSetOperator("union",!0);intersect=this.createSetOperator("intersect",!1);intersectAll=this.createSetOperator("intersect",!0);except=this.createSetOperator("except",!1);exceptAll=this.createSetOperator("except",!0);addSetOperators(t){return this.config.setOperators.push(...t),this}where(t){return typeof t=="function"&&(t=t(new Proxy(this.config.fields,new At({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.where=t,this}having(t){return typeof t=="function"&&(t=t(new Proxy(this.config.fields,new At({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.having=t,this}groupBy(...t){if(typeof t[0]=="function"){let r=t[0](new Proxy(this.config.fields,new At({sqlAliasedBehavior:"alias",sqlBehavior:"sql"})));this.config.groupBy=Array.isArray(r)?r:[r]}else this.config.groupBy=t;return this}orderBy(...t){if(typeof t[0]=="function"){let r=t[0](new Proxy(this.config.fields,new At({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),n=Array.isArray(r)?r:[r];this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=n:this.config.orderBy=n}else{let r=t;this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=r:this.config.orderBy=r}return this}limit(t){return this.config.setOperators.length>0?this.config.setOperators.at(-1).limit=t:this.config.limit=t,this}offset(t){return this.config.setOperators.length>0?this.config.setOperators.at(-1).offset=t:this.config.offset=t,this}for(t,r={}){return this.config.lockingClause={strength:t,config:r},this}getSQL(){return this.dialect.buildSelectQuery(this.config)}toSQL(){let{typings:t,...r}=this.dialect.sqlToQuery(this.getSQL());return r}as(t){let r=[];if(r.push(...go(this.config.table)),this.config.joins)for(let n of this.config.joins)r.push(...go(n.table));return new Proxy(new tr(this.getSQL(),this.config.fields,t,!1,[...new Set(r)]),new At({alias:t,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}getSelectedFields(){return new Proxy(this.config.fields,new At({alias:this.tableName,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}$dynamic(){return this}$withCache(t){return this.cacheConfig=t===void 0?{config:{},enable:!0,autoInvalidate:!0}:t===!1?{enable:!1}:{enable:!0,autoInvalidate:!0,...t},this}},wf=class extends IT{static{a(this,"PgSelectBase")}static[j]="PgSelect";_prepare(t){let{session:r,config:n,dialect:o,joinsNotNullableMap:i,authToken:s,cacheConfig:u,usedTables:l}=this;if(!r)throw new Error("Cannot execute a query on a query builder. Please use a database instance instead.");let{fields:d}=n;return br.startActiveSpan("drizzle.prepareQuery",()=>{let p=$n(d),f=r.prepareQuery(o.sqlToQuery(this.getSQL()),p,t,!0,void 0,{type:"select",tables:[...l]},u);return f.joinsNotNullableMap=i,f.setToken(s)})}prepare(t){return this._prepare(t)}authToken;setToken(t){return this.authToken=t,this}execute=a(t=>br.startActiveSpan("drizzle.operation",()=>this._prepare().execute(t,this.authToken)),"execute")};Mw(wf,[qr]);a(hu,"createSetOperator");XY=a(()=>({union:YY,unionAll:eee,intersect:tee,intersectAll:ree,except:nee,exceptAll:oee}),"getPgSetOperators"),YY=hu("union",!1),eee=hu("union",!0),tee=hu("intersect",!1),ree=hu("intersect",!0),nee=hu("except",!1),oee=hu("except",!0)});var xi,xf=K(()=>{fe();Ul();ra();po();OT();xi=class{static{a(this,"QueryBuilder")}static[j]="PgQueryBuilder";dialect;dialectConfig;constructor(t){this.dialect=Y(t,Jo)?t:void 0,this.dialectConfig=Y(t,Jo)?void 0:t}$with=a((t,r)=>{let n=this;return{as:a(i=>(typeof i=="function"&&(i=i(n)),new Proxy(new Xa(i.getSQL(),r??("getSelectedFields"in i?i.getSelectedFields()??{}:{}),t,!0),new At({alias:t,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))),"as")}},"$with");with(...t){let r=this;function n(s){return new Kr({fields:s??void 0,session:void 0,dialect:r.getDialect(),withList:t})}a(n,"select");function o(s){return new Kr({fields:s??void 0,session:void 0,dialect:r.getDialect(),distinct:!0})}a(o,"selectDistinct");function i(s,u){return new Kr({fields:u??void 0,session:void 0,dialect:r.getDialect(),distinct:{on:s}})}return a(i,"selectDistinctOn"),{select:n,selectDistinct:o,selectDistinctOn:i}}select(t){return new Kr({fields:t??void 0,session:void 0,dialect:this.getDialect()})}selectDistinct(t){return new Kr({fields:t??void 0,session:void 0,dialect:this.getDialect(),distinct:!0})}selectDistinctOn(t,r){return new Kr({fields:r??void 0,session:void 0,dialect:this.getDialect(),distinct:{on:t}})}getDialect(){return this.dialect||(this.dialect=new Jo(this.dialectConfig)),this.dialect}}});function Yz(e,t,r){return t?new CT(e,t,r):new AT(e,r)}function eD(e,t,r){return t?new $T(e,t,r):new RT(e,r)}var Tf,AT,CT,kf,RT,$T,Ll,Xz,Fl,NT=K(()=>{fe();ra();Tt();xf();Yi();bf();PT();Tf=class{static{a(this,"DefaultViewBuilderCore")}constructor(t,r){this.name=t,this.schema=r}static[j]="PgDefaultViewBuilderCore";config={};with(t){return this.config.with=t,this}},AT=class extends Tf{static{a(this,"ViewBuilder")}static[j]="PgViewBuilder";as(t){typeof t=="function"&&(t=t(new xi));let r=new At({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}),n=new Proxy(t.getSelectedFields(),r);return new Proxy(new Ll({pgConfig:this.config,config:{name:this.name,schema:this.schema,selectedFields:n,query:t.getSQL().inlineParams()}}),r)}},CT=class extends Tf{static{a(this,"ManualViewBuilder")}static[j]="PgManualViewBuilder";columns;constructor(t,r,n){super(t,n),this.columns=uu(Pe(t,r))}existing(){return new Proxy(new Ll({pgConfig:void 0,config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:void 0}}),new At({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}as(t){return new Proxy(new Ll({pgConfig:this.config,config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:t.inlineParams()}}),new At({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}},kf=class{static{a(this,"MaterializedViewBuilderCore")}constructor(t,r){this.name=t,this.schema=r}static[j]="PgMaterializedViewBuilderCore";config={};using(t){return this.config.using=t,this}with(t){return this.config.with=t,this}tablespace(t){return this.config.tablespace=t,this}withNoData(){return this.config.withNoData=!0,this}},RT=class extends kf{static{a(this,"MaterializedViewBuilder")}static[j]="PgMaterializedViewBuilder";as(t){typeof t=="function"&&(t=t(new xi));let r=new At({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}),n=new Proxy(t.getSelectedFields(),r);return new Proxy(new Fl({pgConfig:{with:this.config.with,using:this.config.using,tablespace:this.config.tablespace,withNoData:this.config.withNoData},config:{name:this.name,schema:this.schema,selectedFields:n,query:t.getSQL().inlineParams()}}),r)}},$T=class extends kf{static{a(this,"ManualMaterializedViewBuilder")}static[j]="PgManualMaterializedViewBuilder";columns;constructor(t,r,n){super(t,n),this.columns=uu(Pe(t,r))}existing(){return new Proxy(new Fl({pgConfig:{tablespace:this.config.tablespace,using:this.config.using,with:this.config.with,withNoData:this.config.withNoData},config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:void 0}}),new At({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}as(t){return new Proxy(new Fl({pgConfig:{tablespace:this.config.tablespace,using:this.config.using,with:this.config.with,withNoData:this.config.withNoData},config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:t.inlineParams()}}),new At({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}},Ll=class extends wi{static{a(this,"PgView")}static[j]="PgView";[ET];constructor({pgConfig:t,config:r}){super(r),t&&(this[ET]={with:t.with})}},Xz=Symbol.for("drizzle:PgMaterializedViewConfig"),Fl=class extends wi{static{a(this,"PgMaterializedView")}static[j]="PgMaterializedView";[Xz];constructor({pgConfig:t,config:r}){super(r),this[Xz]={with:t?.with,using:t?.using,tablespace:t?.tablespace,withNoData:t?.withNoData}}};a(Yz,"pgViewWithSchema");a(eD,"pgMaterializedViewWithSchema")});function go(e){return Y(e,Sr)?[e[Wi]?`${e[Wi]}.${e[ge.Symbol.BaseName]}`:e[ge.Symbol.BaseName]]:Y(e,tr)?e._.usedTables??[]:Y(e,be)?e.usedTables??[]:[]}var gu=K(()=>{fe();Yi();Zt();po();Qr();a(go,"extractUsedTable")});var Jl,tD=K(()=>{fe();yi();ra();Qr();Gi();Tt();gu();Jl=class extends qr{static{a(this,"PgDeleteBase")}constructor(t,r,n,o){super(),this.session=r,this.dialect=n,this.config={table:t,withList:o}}static[j]="PgDelete";config;cacheConfig;where(t){return this.config.where=t,this}returning(t=this.config.table[ge.Symbol.Columns]){return this.config.returningFields=t,this.config.returning=$n(t),this}getSQL(){return this.dialect.buildDeleteQuery(this.config)}toSQL(){let{typings:t,...r}=this.dialect.sqlToQuery(this.getSQL());return r}_prepare(t){return br.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,t,!0,void 0,{type:"delete",tables:go(this.config.table)},this.cacheConfig))}prepare(t){return this._prepare(t)}authToken;setToken(t){return this.authToken=t,this}execute=a(t=>br.startActiveSpan("drizzle.operation",()=>this._prepare().execute(t,this.authToken)),"execute");getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new At({alias:Wr(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}});var Bl,Ef,rD=K(()=>{fe();yi();ra();Zt();Qr();Gi();Tt();gu();xf();Bl=class{static{a(this,"PgInsertBuilder")}constructor(t,r,n,o,i){this.table=t,this.session=r,this.dialect=n,this.withList=o,this.overridingSystemValue_=i}static[j]="PgInsertBuilder";authToken;setToken(t){return this.authToken=t,this}overridingSystemValue(){return this.overridingSystemValue_=!0,this}values(t){if(t=Array.isArray(t)?t:[t],t.length===0)throw new Error("values() must be called with at least one value");let r=t.map(n=>{let o={},i=this.table[ge.Symbol.Columns];for(let s of Object.keys(n)){let u=n[s];o[s]=Y(u,be)?u:new Hr(u,i[s])}return o});return new Ef(this.table,r,this.session,this.dialect,this.withList,!1,this.overridingSystemValue_).setToken(this.authToken)}select(t){let r=typeof t=="function"?t(new xi):t;if(!Y(r,be)&&!su(this.table[ll],r._.selectedFields))throw new Error("Insert select error: selected fields are not the same or are in a different order compared to the table definition");return new Ef(this.table,r,this.session,this.dialect,this.withList,!0)}},Ef=class extends qr{static{a(this,"PgInsertBase")}constructor(t,r,n,o,i,s,u){super(),this.session=n,this.dialect=o,this.config={table:t,values:r,withList:i,select:s,overridingSystemValue_:u}}static[j]="PgInsert";config;cacheConfig;returning(t=this.config.table[ge.Symbol.Columns]){return this.config.returningFields=t,this.config.returning=$n(t),this}onConflictDoNothing(t={}){if(t.target===void 0)this.config.onConflict=M`do nothing`;else{let r="";r=Array.isArray(t.target)?t.target.map(o=>this.dialect.escapeName(this.dialect.casing.getColumnCasing(o))).join(","):this.dialect.escapeName(this.dialect.casing.getColumnCasing(t.target));let n=t.where?M` where ${t.where}`:void 0;this.config.onConflict=M`(${M.raw(r)})${n} do nothing`}return this}onConflictDoUpdate(t){if(t.where&&(t.targetWhere||t.setWhere))throw new Error('You cannot use both "where" and "targetWhere"/"setWhere" at the same time - "where" is deprecated, use "targetWhere" or "setWhere" instead.');let r=t.where?M` where ${t.where}`:void 0,n=t.targetWhere?M` where ${t.targetWhere}`:void 0,o=t.setWhere?M` where ${t.setWhere}`:void 0,i=this.dialect.buildUpdateSet(this.config.table,ml(this.config.table,t.set)),s="";return s=Array.isArray(t.target)?t.target.map(u=>this.dialect.escapeName(this.dialect.casing.getColumnCasing(u))).join(","):this.dialect.escapeName(this.dialect.casing.getColumnCasing(t.target)),this.config.onConflict=M`(${M.raw(s)})${n} do update set ${i}${r}${o}`,this}getSQL(){return this.dialect.buildInsertQuery(this.config)}toSQL(){let{typings:t,...r}=this.dialect.sqlToQuery(this.getSQL());return r}_prepare(t){return br.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,t,!0,void 0,{type:"insert",tables:go(this.config.table)},this.cacheConfig))}prepare(t){return this._prepare(t)}authToken;setToken(t){return this.authToken=t,this}execute=a(t=>br.startActiveSpan("drizzle.operation",()=>this._prepare().execute(t,this.authToken)),"execute");getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new At({alias:Wr(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}});var Pf,jT=K(()=>{fe();yi();Gi();Pf=class extends qr{static{a(this,"PgRefreshMaterializedView")}constructor(t,r,n){super(),this.session=r,this.dialect=n,this.config={view:t}}static[j]="PgRefreshMaterializedView";config;concurrently(){if(this.config.withNoData!==void 0)throw new Error("Cannot use concurrently and withNoData together");return this.config.concurrently=!0,this}withNoData(){if(this.config.concurrently!==void 0)throw new Error("Cannot use concurrently and withNoData together");return this.config.withNoData=!0,this}getSQL(){return this.dialect.buildRefreshMaterializedViewQuery(this.config)}toSQL(){let{typings:t,...r}=this.dialect.sqlToQuery(this.getSQL());return r}_prepare(t){return br.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),void 0,t,!0))}prepare(t){return this._prepare(t)}authToken;setToken(t){return this.authToken=t,this}execute=a(t=>br.startActiveSpan("drizzle.operation",()=>this._prepare().execute(t,this.authToken)),"execute")}});var nD=K(()=>{});var Hl,zT,oD=K(()=>{fe();Yi();yi();ra();Zt();po();Qr();Tt();hi();gu();Hl=class{static{a(this,"PgUpdateBuilder")}constructor(t,r,n,o){this.table=t,this.session=r,this.dialect=n,this.withList=o}static[j]="PgUpdateBuilder";authToken;setToken(t){return this.authToken=t,this}set(t){return new zT(this.table,ml(this.table,t),this.session,this.dialect,this.withList).setToken(this.authToken)}},zT=class extends qr{static{a(this,"PgUpdateBase")}constructor(t,r,n,o,i){super(),this.session=n,this.dialect=o,this.config={set:r,table:t,withList:i,joins:[]},this.tableName=Uo(t),this.joinsNotNullableMap=typeof this.tableName=="string"?{[this.tableName]:!0}:{}}static[j]="PgUpdate";config;tableName;joinsNotNullableMap;cacheConfig;from(t){let r=t,n=Uo(r);return typeof n=="string"&&(this.joinsNotNullableMap[n]=!0),this.config.from=r,this}getTableLikeFields(t){return Y(t,Sr)?t[ge.Symbol.Columns]:Y(t,tr)?t._.selectedFields:t[It].selectedFields}createJoin(t){return(r,n)=>{let o=Uo(r);if(typeof o=="string"&&this.config.joins.some(i=>i.alias===o))throw new Error(`Alias "${o}" is already used in this query`);if(typeof n=="function"){let i=this.config.from&&!Y(this.config.from,be)?this.getTableLikeFields(this.config.from):void 0;n=n(new Proxy(this.config.table[ge.Symbol.Columns],new At({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})),i&&new Proxy(i,new At({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))}if(this.config.joins.push({on:n,table:r,joinType:t,alias:o}),typeof o=="string")switch(t){case"left":{this.joinsNotNullableMap[o]=!1;break}case"right":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([i])=>[i,!1])),this.joinsNotNullableMap[o]=!0;break}case"inner":{this.joinsNotNullableMap[o]=!0;break}case"full":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([i])=>[i,!1])),this.joinsNotNullableMap[o]=!1;break}}return this}}leftJoin=this.createJoin("left");rightJoin=this.createJoin("right");innerJoin=this.createJoin("inner");fullJoin=this.createJoin("full");where(t){return this.config.where=t,this}returning(t){if(!t&&(t=Object.assign({},this.config.table[ge.Symbol.Columns]),this.config.from)){let r=Uo(this.config.from);if(typeof r=="string"&&this.config.from&&!Y(this.config.from,be)){let n=this.getTableLikeFields(this.config.from);t[r]=n}for(let n of this.config.joins){let o=Uo(n.table);if(typeof o=="string"&&!Y(n.table,be)){let i=this.getTableLikeFields(n.table);t[o]=i}}}return this.config.returningFields=t,this.config.returning=$n(t),this}getSQL(){return this.dialect.buildUpdateQuery(this.config)}toSQL(){let{typings:t,...r}=this.dialect.sqlToQuery(this.getSQL());return r}_prepare(t){let r=this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,t,!0,void 0,{type:"insert",tables:go(this.config.table)},this.cacheConfig);return r.joinsNotNullableMap=this.joinsNotNullableMap,r}prepare(t){return this._prepare(t)}authToken;setToken(t){return this.authToken=t,this}execute=a(t=>this._prepare().execute(t,this.authToken),"execute");getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new At({alias:Wr(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}});var DT=K(()=>{tD();rD();xf();jT();OT();nD();oD()});var If,iD=K(()=>{fe();Zt();If=class e extends be{static{a(this,"PgCountBuilder")}constructor(t){super(e.buildEmbeddedCount(t.source,t.filters).queryChunks),this.params=t,this.mapWith(Number),this.session=t.session,this.sql=e.buildCount(t.source,t.filters)}sql;token;static[j]="PgCountBuilder";[Symbol.toStringTag]="PgCountBuilder";session;static buildEmbeddedCount(t,r){return M`(select count(*) from ${t}${M.raw(" where ").if(r)}${r})`}static buildCount(t,r){return M`select count(*) as count from ${t}${M.raw(" where ").if(r)}${r};`}setToken(t){return this.token=t,this}then(t,r){return Promise.resolve(this.session.count(this.sql,this.token)).then(t,r)}catch(t){return this.then(void 0,t)}finally(t){return this.then(r=>(t?.(),r),r=>{throw t?.(),r})}}});var Of,Af,aD=K(()=>{fe();yi();du();Gi();Of=class{static{a(this,"RelationalQueryBuilder")}constructor(t,r,n,o,i,s,u){this.fullSchema=t,this.schema=r,this.tableNamesMap=n,this.table=o,this.tableConfig=i,this.dialect=s,this.session=u}static[j]="PgRelationalQueryBuilder";findMany(t){return new Af(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,t||{},"many")}findFirst(t){return new Af(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,t?{...t,limit:1}:{limit:1},"first")}},Af=class extends qr{static{a(this,"PgRelationalQuery")}constructor(t,r,n,o,i,s,u,l,d){super(),this.fullSchema=t,this.schema=r,this.tableNamesMap=n,this.table=o,this.tableConfig=i,this.dialect=s,this.session=u,this.config=l,this.mode=d}static[j]="PgRelationalQuery";_prepare(t){return br.startActiveSpan("drizzle.prepareQuery",()=>{let{query:r,builtQuery:n}=this._toSQL();return this.session.prepareQuery(n,void 0,t,!0,(o,i)=>{let s=o.map(u=>Il(this.schema,this.tableConfig,u,r.selection,i));return this.mode==="first"?s[0]:s})})}prepare(t){return this._prepare(t)}_getQuery(){return this.dialect.buildRelationalQueryWithoutPK({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName})}getSQL(){return this._getQuery().sql}_toSQL(){let t=this._getQuery(),r=this.dialect.sqlToQuery(t.sql);return{query:t,builtQuery:r}}toSQL(){return this._toSQL().builtQuery}authToken;setToken(t){return this.authToken=t,this}execute(){return br.startActiveSpan("drizzle.operation",()=>this._prepare().execute(void 0,this.authToken))}}});var Cf,sD=K(()=>{fe();yi();Cf=class extends qr{static{a(this,"PgRaw")}constructor(t,r,n,o){super(),this.execute=t,this.sql=r,this.query=n,this.mapBatchResult=o}static[j]="PgRaw";getSQL(){return this.sql}getQuery(){return this.query}mapResult(t,r){return r?this.mapBatchResult(t):t}_prepare(){return this}isResponseInArrayMode(){return!1}}});var na,Vl=K(()=>{fe();DT();ra();Zt();po();iD();aD();sD();jT();na=class{static{a(this,"PgDatabase")}constructor(t,r,n){if(this.dialect=t,this.session=r,this._=n?{schema:n.schema,fullSchema:n.fullSchema,tableNamesMap:n.tableNamesMap,session:r}:{schema:void 0,fullSchema:{},tableNamesMap:{},session:r},this.query={},this._.schema)for(let[o,i]of Object.entries(this._.schema))this.query[o]=new Of(n.fullSchema,this._.schema,this._.tableNamesMap,n.fullSchema[o],i,t,r);this.$cache={invalidate:a(async o=>{},"invalidate")}}static[j]="PgDatabase";query;$with=a((t,r)=>{let n=this;return{as:a(i=>(typeof i=="function"&&(i=i(new xi(n.dialect))),new Proxy(new Xa(i.getSQL(),r??("getSelectedFields"in i?i.getSelectedFields()??{}:{}),t,!0),new At({alias:t,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))),"as")}},"$with");$count(t,r){return new If({source:t,filters:r,session:this.session})}$cache;with(...t){let r=this;function n(d){return new Kr({fields:d??void 0,session:r.session,dialect:r.dialect,withList:t})}a(n,"select");function o(d){return new Kr({fields:d??void 0,session:r.session,dialect:r.dialect,withList:t,distinct:!0})}a(o,"selectDistinct");function i(d,p){return new Kr({fields:p??void 0,session:r.session,dialect:r.dialect,withList:t,distinct:{on:d}})}a(i,"selectDistinctOn");function s(d){return new Hl(d,r.session,r.dialect,t)}a(s,"update");function u(d){return new Bl(d,r.session,r.dialect,t)}a(u,"insert");function l(d){return new Jl(d,r.session,r.dialect,t)}return a(l,"delete_"),{select:n,selectDistinct:o,selectDistinctOn:i,update:s,insert:u,delete:l}}select(t){return new Kr({fields:t??void 0,session:this.session,dialect:this.dialect})}selectDistinct(t){return new Kr({fields:t??void 0,session:this.session,dialect:this.dialect,distinct:!0})}selectDistinctOn(t,r){return new Kr({fields:r??void 0,session:this.session,dialect:this.dialect,distinct:{on:t}})}update(t){return new Hl(t,this.session,this.dialect)}insert(t){return new Bl(t,this.session,this.dialect)}delete(t){return new Jl(t,this.session,this.dialect)}refreshMaterializedView(t){return new Pf(t,this.session,this.dialect)}authToken;execute(t){let r=typeof t=="string"?M.raw(t):t.getSQL(),n=this.dialect.sqlToQuery(r),o=this.session.prepareQuery(n,void 0,void 0,!1);return new Cf(()=>o.execute(void 0,this.authToken),r,n,i=>o.mapResult(i,!0))}transaction(t,r){return this.session.transaction(t,r)}}});async function qT(e,t){let r=`${e}-${JSON.stringify(t)}`,o=new TextEncoder().encode(r),i=await crypto.subtle.digest("SHA-256",o);return[...new Uint8Array(i)].map(l=>l.toString(16).padStart(2,"0")).join("")}var MT,oa,Rf=K(()=>{fe();MT=class{static{a(this,"Cache")}static[j]="Cache"},oa=class extends MT{static{a(this,"NoopCache")}strategy(){return"all"}static[j]="NoopCache";async get(t){}async put(t,r,n,o){}async onMutate(t){}};a(qT,"hashQuery")});var uD=K(()=>{Rf()});var cD=K(()=>{});var lD,dD=K(()=>{fe();lD=class{static{a(this,"PgRole")}constructor(t,r){this.name=t,r&&(this.createDb=r.createDb,this.createRole=r.createRole,this.inherit=r.inherit)}static[j]="PgRole";_existing;createDb;createRole;inherit;existing(){return this._existing=!0,this}}});function pD(e,t,r){return new UT(e,t,r)}var UT,LT=K(()=>{fe();UT=class{static{a(this,"PgSequence")}constructor(t,r,n){this.seqName=t,this.seqOptions=r,this.schema=n}static[j]="PgSequence"};a(pD,"pgSequenceWithSchema")});var mD,fD=K(()=>{fe();Zt();Gm();LT();Yi();NT();mD=class{static{a(this,"PgSchema")}constructor(t){this.schemaName=t}static[j]="PgSchema";table=a((t,r,n)=>q0(t,r,n,this.schemaName),"table");view=a((t,r)=>Yz(t,r,this.schemaName),"view");materializedView=a((t,r)=>eD(t,r,this.schemaName),"materializedView");enum(t,r){return Array.isArray(r)?Iw(t,[...r],this.schemaName):Ow(t,r,this.schemaName)}sequence=a((t,r)=>pD(t,r,this.schemaName),"sequence");getSQL(){return new be([M.identifier(this.schemaName)])}shouldOmitSQLParens(){return!0}}});var yu,vu,_u,$f=K(()=>{Rf();fe();rf();sf();Gi();Vl();yu=class{static{a(this,"PgPreparedQuery")}constructor(t,r,n,o){this.query=t,this.cache=r,this.queryMetadata=n,this.cacheConfig=o,r&&r.strategy()==="all"&&o===void 0&&(this.cacheConfig={enable:!0,autoInvalidate:!0}),this.cacheConfig?.enable||(this.cacheConfig=void 0)}authToken;getQuery(){return this.query}mapResult(t,r){return t}setToken(t){return this.authToken=t,this}static[j]="PgPreparedQuery";joinsNotNullableMap;async queryWithCache(t,r,n){if(this.cache===void 0||Y(this.cache,oa)||this.queryMetadata===void 0)try{return await n()}catch(o){throw new qo(t,r,o)}if(this.cacheConfig&&!this.cacheConfig.enable)try{return await n()}catch(o){throw new qo(t,r,o)}if((this.queryMetadata.type==="insert"||this.queryMetadata.type==="update"||this.queryMetadata.type==="delete")&&this.queryMetadata.tables.length>0)try{let[o]=await Promise.all([n(),this.cache.onMutate({tables:this.queryMetadata.tables})]);return o}catch(o){throw new qo(t,r,o)}if(!this.cacheConfig)try{return await n()}catch(o){throw new qo(t,r,o)}if(this.queryMetadata.type==="select"){let o=await this.cache.get(this.cacheConfig.tag??await qT(t,r),this.queryMetadata.tables,this.cacheConfig.tag!==void 0,this.cacheConfig.autoInvalidate);if(o===void 0){let i;try{i=await n()}catch(s){throw new qo(t,r,s)}return await this.cache.put(this.cacheConfig.tag??await qT(t,r),i,this.cacheConfig.autoInvalidate?this.queryMetadata.tables:[],this.cacheConfig.tag!==void 0,this.cacheConfig.config),i}return o}try{return await n()}catch(o){throw new qo(t,r,o)}}},vu=class{static{a(this,"PgSession")}constructor(t){this.dialect=t}static[j]="PgSession";execute(t,r){return br.startActiveSpan("drizzle.operation",()=>br.startActiveSpan("drizzle.prepareQuery",()=>this.prepareQuery(this.dialect.sqlToQuery(t),void 0,void 0,!1)).setToken(r).execute(void 0,r))}all(t){return this.prepareQuery(this.dialect.sqlToQuery(t),void 0,void 0,!1).all()}async count(t,r){let n=await this.execute(t,r);return Number(n[0].count)}},_u=class extends na{static{a(this,"PgTransaction")}constructor(t,r,n,o=0){super(t,r,n),this.schema=n,this.nestedIndex=o}static[j]="PgTransaction";rollback(){throw new dl}getTransactionConfigSQL(t){let r=[];return t.isolationLevel&&r.push(`isolation level ${t.isolationLevel}`),t.accessMode&&r.push(t.accessMode),typeof t.deferrable=="boolean"&&r.push(t.deferrable?"deferrable":"not deferrable"),M.raw(r.join(" "))}setTransaction(t){return this.session.execute(M`set transaction ${this.getTransactionConfigSQL(t)}`)}}});var hD=K(()=>{});var gD=K(()=>{bw()});var Xr=K(()=>{cD();Vz();vf();Vl();Ul();mw();Zz();Gz();L0();DT();dD();fD();LT();$f();hD();Yi();vw();gu();gD();PT();NT()});var Nf,FT,JT,jf,yD,BT=K(()=>{uD();fe();au();Xr();$f();Zt();Tt();Nf={arrayMode:!1,fullResults:!0},FT={arrayMode:!0,fullResults:!0},JT=class extends yu{static{a(this,"NeonHttpPreparedQuery")}constructor(t,r,n,o,i,s,u,l,d){super(r,o,i,s),this.client=t,this.logger=n,this.fields=u,this._isResponseInArrayMode=l,this.customResultMapper=d,this.clientQuery=t.query??t}static[j]="NeonHttpPreparedQuery";clientQuery;async execute(t={},r=this.authToken){let n=gi(this.query.params,t);this.logger.logQuery(this.query.sql,n);let{fields:o,clientQuery:i,query:s,customResultMapper:u}=this;if(!o&&!u)return this.queryWithCache(s.sql,n,async()=>i(s.sql,n,r===void 0?Nf:{...Nf,authToken:r}));let l=await this.queryWithCache(s.sql,n,async()=>await i(s.sql,n,r===void 0?FT:{...FT,authToken:r}));return this.mapResult(l)}mapResult(t){if(!this.fields&&!this.customResultMapper)return t;let r=t.rows;return this.customResultMapper?this.customResultMapper(r):r.map(n=>pl(this.fields,n,this.joinsNotNullableMap))}all(t={}){let r=gi(this.query.params,t);return this.logger.logQuery(this.query.sql,r),this.clientQuery(this.query.sql,r,this.authToken===void 0?Nf:{...Nf,authToken:this.authToken}).then(n=>n.rows)}values(t={},r){let n=gi(this.query.params,t);return this.logger.logQuery(this.query.sql,n),this.clientQuery(this.query.sql,n,{arrayMode:!0,fullResults:!0,authToken:r}).then(o=>o.rows)}isResponseInArrayMode(){return this._isResponseInArrayMode}},jf=class extends vu{static{a(this,"NeonHttpSession")}constructor(t,r,n,o={}){super(r),this.client=t,this.schema=n,this.options=o,this.clientQuery=t.query??t,this.logger=o.logger??new rs,this.cache=o.cache??new oa}static[j]="NeonHttpSession";clientQuery;logger;cache;prepareQuery(t,r,n,o,i,s,u){return new JT(this.client,t,this.logger,this.cache,s,u,r,o,i)}async batch(t){let r=[],n=[];for(let i of t){let s=i._prepare(),u=s.getQuery();r.push(s),n.push(this.clientQuery(u.sql,u.params,{fullResults:!0,arrayMode:s.isResponseInArrayMode()}))}return(await this.client.transaction(n,FT)).map((i,s)=>r[s].mapResult(i,!0))}async query(t,r){return this.logger.logQuery(t,r),await this.clientQuery(t,r,{arrayMode:!0,fullResults:!0})}async queryObjects(t,r){return this.clientQuery(t,r,{arrayMode:!1,fullResults:!0})}async count(t,r){let n=await this.execute(t,r);return Number(n.rows[0].count)}async transaction(t,r={}){throw new Error("No transactions support in neon-http driver")}},yD=class extends _u{static{a(this,"NeonTransaction")}static[j]="NeonHttpTransaction";async transaction(t){throw new Error("No transactions support in neon-http driver")}}});function zf(e,t,r,n){return new Proxy(e,{get(o,i){let s=o[i];return typeof s!="function"&&(typeof s!="object"||s===null)?s:n?zf(s,t,r):i==="query"?zf(s,t,r,!0):new Proxy(s,{apply(u,l,d){let p=u.call(l,...d);return typeof p=="object"&&p!==null&&"setToken"in p&&typeof p.setToken=="function"&&p.setToken(t),r(u,i,p)}})}})}function bu(e,t={}){let r=new Jo({casing:t.casing}),n;t.logger===!0?n=new ts:t.logger!==!1&&(n=t.logger);let o;if(t.schema){let l=Ol(t.schema,Al);o={fullSchema:t.schema,schema:l.tables,tableNamesMap:l.tableNamesMap}}let s=new HT(e,r,{logger:n,cache:t.cache}).createSession(o),u=new VT(r,s,o);return u.$client=e,u.$cache=t.cache,u.$cache&&(u.$cache.invalidate=t.cache?.onMutate),u}function Df(...e){if(typeof e[0]=="string"){let t=ta(e[0]);return bu(t,e[1])}if(fl(e[0])){let{connection:t,client:r,...n}=e[0];if(r)return bu(r,n);if(typeof t=="object"){let{connectionString:i,...s}=t,u=ta(i,s);return bu(u,n)}let o=ta(t);return bu(o,n)}return bu(e[0],e[1])}var HT,VT,vD=K(()=>{Ml();fe();au();Vl();Ul();du();Tt();BT();HT=class{static{a(this,"NeonHttpDriver")}constructor(t,r,n={}){this.client=t,this.dialect=r,this.options=n,this.initMappers()}static[j]="NeonHttpDriver";createSession(t){return new jf(this.client,this.dialect,t,{logger:this.options.logger,cache:this.options.cache})}initMappers(){Bt.setTypeParser(Bt.builtins.TIMESTAMPTZ,t=>t),Bt.setTypeParser(Bt.builtins.TIMESTAMP,t=>t),Bt.setTypeParser(Bt.builtins.DATE,t=>t),Bt.setTypeParser(Bt.builtins.INTERVAL,t=>t),Bt.setTypeParser(1231,t=>t),Bt.setTypeParser(1115,t=>t),Bt.setTypeParser(1185,t=>t),Bt.setTypeParser(1187,t=>t),Bt.setTypeParser(1182,t=>t)}};a(zf,"wrap");VT=class extends na{static{a(this,"NeonHttpDatabase")}static[j]="NeonHttpDatabase";$withAuth(t){return this.authToken=t,zf(this,t,(r,n,o)=>n==="with"?zf(o,t,(i,s,u)=>u):o)}async batch(t){return this.session.batch(t)}};a(bu,"construct");a(Df,"drizzle");(e=>{function t(r){return bu({},r)}a(t,"mock"),e.mock=t})(Df||(Df={}))});var _D=K(()=>{vD();BT()});var ZT,Mf,KT,GT=K(()=>{Ml();Rf();fe();au();Xr();$f();Zt();Tt();ZT=class extends yu{static{a(this,"NeonPreparedQuery")}constructor(t,r,n,o,i,s,u,l,d,p,f){super({sql:r,params:n},i,s,u),this.client=t,this.params=n,this.logger=o,this.fields=l,this._isResponseInArrayMode=p,this.customResultMapper=f,this.rawQueryConfig={name:d,text:r,types:{getTypeParser:a((m,y)=>m===Bt.builtins.TIMESTAMPTZ?g=>g:m===Bt.builtins.TIMESTAMP?g=>g:m===Bt.builtins.DATE?g=>g:m===Bt.builtins.INTERVAL?g=>g:m===1231?g=>g:m===1115?g=>g:m===1185?g=>g:m===1187?g=>g:m===1182?g=>g:Bt.getTypeParser(m,y),"getTypeParser")}},this.queryConfig={name:d,text:r,rowMode:"array",types:{getTypeParser:a((m,y)=>m===Bt.builtins.TIMESTAMPTZ?g=>g:m===Bt.builtins.TIMESTAMP?g=>g:m===Bt.builtins.DATE?g=>g:m===Bt.builtins.INTERVAL?g=>g:m===1231?g=>g:m===1115?g=>g:m===1185?g=>g:m===1187?g=>g:m===1182?g=>g:Bt.getTypeParser(m,y),"getTypeParser")}}}static[j]="NeonPreparedQuery";rawQueryConfig;queryConfig;async execute(t={}){let r=gi(this.params,t);this.logger.logQuery(this.rawQueryConfig.text,r);let{fields:n,client:o,rawQueryConfig:i,queryConfig:s,joinsNotNullableMap:u,customResultMapper:l}=this;if(!n&&!l)return await this.queryWithCache(i.text,r,async()=>await o.query(i,r));let d=await this.queryWithCache(s.text,r,async()=>await o.query(s,r));return l?l(d.rows):d.rows.map(p=>pl(n,p,u))}all(t={}){let r=gi(this.params,t);return this.logger.logQuery(this.rawQueryConfig.text,r),this.queryWithCache(this.rawQueryConfig.text,r,async()=>await this.client.query(this.rawQueryConfig,r)).then(n=>n.rows)}values(t={}){let r=gi(this.params,t);return this.logger.logQuery(this.rawQueryConfig.text,r),this.queryWithCache(this.queryConfig.text,r,async()=>await this.client.query(this.queryConfig,r)).then(n=>n.rows)}isResponseInArrayMode(){return this._isResponseInArrayMode}},Mf=class e extends vu{static{a(this,"NeonSession")}constructor(t,r,n,o={}){super(r),this.client=t,this.schema=n,this.options=o,this.logger=o.logger??new rs,this.cache=o.cache??new oa}static[j]="NeonSession";logger;cache;prepareQuery(t,r,n,o,i,s,u){return new ZT(this.client,t.sql,t.params,this.logger,this.cache,s,u,r,n,o,i)}async query(t,r){return this.logger.logQuery(t,r),await this.client.query({rowMode:"array",text:t,values:r})}async queryObjects(t,r){return this.client.query(t,r)}async count(t){let r=await this.execute(t);return Number(r.rows[0].count)}async transaction(t,r={}){let n=this.client instanceof Fo?new e(await this.client.connect(),this.dialect,this.schema,this.options):this,o=new KT(this.dialect,n,this.schema);await o.execute(M`begin ${o.getTransactionConfigSQL(r)}`);try{let i=await t(o);return await o.execute(M`commit`),i}catch(i){throw await o.execute(M`rollback`),i}finally{this.client instanceof Fo&&n.client.release()}}},KT=class e extends _u{static{a(this,"NeonTransaction")}static[j]="NeonTransaction";async transaction(t){let r=`sp${this.nestedIndex+1}`,n=new e(this.dialect,this.session,this.schema,this.nestedIndex+1);await n.execute(M.raw(`savepoint ${r}`));try{let o=await t(n);return await n.execute(M.raw(`release savepoint ${r}`)),o}catch(o){throw await n.execute(M.raw(`rollback to savepoint ${r}`)),o}}}});function Zl(e,t={}){let r=new Jo({casing:t.casing}),n;t.logger===!0?n=new ts:t.logger!==!1&&(n=t.logger);let o;if(t.schema){let l=Ol(t.schema,Al);o={fullSchema:t.schema,schema:l.tables,tableNamesMap:l.tableNamesMap}}let s=new WT(e,r,{logger:n,cache:t.cache}).createSession(o),u=new QT(r,s,o);return u.$client=e,u.$cache=t.cache,u.$cache&&(u.$cache.invalidate=t.cache?.onMutate),u}function Kl(...e){if(typeof e[0]=="string"){let t=new Fo({connectionString:e[0]});return Zl(t,e[1])}if(fl(e[0])){let{connection:t,client:r,ws:n,...o}=e[0];if(n&&(os.webSocketConstructor=n),r)return Zl(r,o);let i=typeof t=="string"?new Fo({connectionString:t}):new Fo(t);return Zl(i,o)}return Zl(e[0],e[1])}var WT,QT,bD=K(()=>{Ml();fe();au();Vl();Ul();du();Tt();GT();WT=class{static{a(this,"NeonDriver")}constructor(t,r,n={}){this.client=t,this.dialect=r,this.options=n}static[j]="NeonDriver";createSession(t){return new Mf(this.client,this.dialect,t,{logger:this.options.logger,cache:this.options.cache})}},QT=class extends na{static{a(this,"NeonDatabase")}static[j]="NeonServerlessDatabase"};a(Zl,"construct");a(Kl,"drizzle");(e=>{function t(r){return Zl({},r)}a(t,"mock"),e.mock=t})(Kl||(Kl={}))});var SD=K(()=>{bD();GT()});var Q,_n,ss,bn=K(()=>{"use strict";Xr();Q=Pe("users",{id:C("id").primaryKey(),email:C("email").unique().notNull(),fullName:C("full_name"),phone:C("phone"),cpf:C("cpf").unique(),birthDate:Zr("birth_date"),autonomyLevel:Ot("autonomy_level").default(50),voiceCommandEnabled:_e("voice_command_enabled").default(!0),language:C("language").default("pt-BR"),timezone:C("timezone").default("America/Sao_Paulo"),currency:C("currency").default("BRL"),profileImageUrl:C("profile_image_url"),isActive:_e("is_active").default(!0),lastLogin:W("last_login",{withTimezone:!0}),createdAt:W("created_at",{withTimezone:!0}).defaultNow(),updatedAt:W("updated_at",{withTimezone:!0}).defaultNow()}),_n=Pe("user_preferences",{id:C("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:C("user_id").references(()=>Q.id,{onDelete:"cascade"}),theme:C("theme").default("system"),notificationsEmail:_e("notifications_email").default(!0),notificationsPush:_e("notifications_push").default(!0),notificationsSms:_e("notifications_sms").default(!1),autoCategorize:_e("auto_categorize").default(!0),budgetAlerts:_e("budget_alerts").default(!0),voiceFeedback:_e("voice_feedback").default(!0),accessibilityHighContrast:_e("accessibility_high_contrast").default(!1),accessibilityLargeText:_e("accessibility_large_text").default(!1),accessibilityScreenReader:_e("accessibility_screen_reader").default(!1),createdAt:W("created_at",{withTimezone:!0}).defaultNow(),updatedAt:W("updated_at",{withTimezone:!0}).defaultNow()}),ss=Pe("user_security",{id:C("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:C("user_id").references(()=>Q.id,{onDelete:"cascade"}),biometricEnabled:_e("biometric_enabled").default(!1),twoFactorEnabled:_e("two_factor_enabled").default(!1),twoFactorSecret:C("two_factor_secret"),voiceBiometricEnabled:_e("voice_biometric_enabled").default(!1),voiceSampleEncrypted:C("voice_sample_encrypted"),sessionTimeoutMinutes:Ot("session_timeout_minutes").default(30),maxFailedAttempts:Ot("max_failed_attempts").default(5),lockedUntil:W("locked_until",{withTimezone:!0}),createdAt:W("created_at",{withTimezone:!0}).defaultNow(),updatedAt:W("updated_at",{withTimezone:!0}).defaultNow()})});var ia,us,Su,wu,xu,XT=K(()=>{"use strict";Xr();bn();ia=Pe("audit_logs",{id:C("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:C("user_id").references(()=>Q.id,{onDelete:"cascade"}),action:C("action").notNull(),resourceType:C("resource_type"),resourceId:C("resource_id"),oldValues:at("old_values"),newValues:at("new_values"),ipAddress:Nn("ip_address"),userAgent:C("user_agent"),sessionId:C("session_id"),success:_e("success").default(!0),errorMessage:C("error_message"),createdAt:W("created_at",{withTimezone:!0}).defaultNow()}),us=Pe("error_logs",{id:C("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:C("user_id").references(()=>Q.id,{onDelete:"cascade"}),errorType:C("error_type").notNull(),errorCode:C("error_code"),errorMessage:C("error_message").notNull(),stackTrace:C("stack_trace"),context:at("context"),userAgent:C("user_agent"),ipAddress:Nn("ip_address"),sessionId:C("session_id"),isResolved:_e("is_resolved").default(!1),resolvedAt:W("resolved_at",{withTimezone:!0}),resolvedBy:C("resolved_by").references(()=>Q.id),createdAt:W("created_at",{withTimezone:!0}).defaultNow()}),Su=Pe("user_sessions",{id:C("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:C("user_id").references(()=>Q.id,{onDelete:"cascade"}),sessionToken:C("session_token").unique().notNull(),deviceType:C("device_type"),deviceId:C("device_id"),ipAddress:Nn("ip_address"),userAgent:C("user_agent"),isActive:_e("is_active").default(!0),lastActivity:W("last_activity",{withTimezone:!0}).defaultNow(),expiresAt:W("expires_at",{withTimezone:!0}).notNull(),createdAt:W("created_at",{withTimezone:!0}).defaultNow()}),wu=Pe("lgpd_consent_logs",{id:C("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:C("user_id").references(()=>Q.id,{onDelete:"cascade"}),consentType:C("consent_type").notNull(),consentGiven:_e("consent_given").notNull(),consentVersion:C("consent_version").notNull(),ipAddress:Nn("ip_address"),userAgent:C("user_agent"),consentedAt:W("consented_at",{withTimezone:!0}).defaultNow(),revokedAt:W("revoked_at",{withTimezone:!0}),createdAt:W("created_at",{withTimezone:!0}).defaultNow()}),xu=Pe("data_export_requests",{id:C("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:C("user_id").references(()=>Q.id,{onDelete:"cascade"}),requestType:C("request_type").notNull(),status:C("status").default("pending"),processedAt:W("processed_at",{withTimezone:!0}),downloadUrl:C("download_url"),expiresAt:W("expires_at",{withTimezone:!0}),ipAddress:Nn("ip_address"),userAgent:C("user_agent"),requestedAt:W("requested_at",{withTimezone:!0}).defaultNow(),createdAt:W("created_at",{withTimezone:!0}).defaultNow()})});var ue,Tu,aa,Gl=K(()=>{"use strict";Xr();bn();ue=Pe("bank_accounts",{id:C("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:C("user_id").notNull().references(()=>Q.id,{onDelete:"cascade"}),belvoAccountId:C("belvo_account_id").unique().notNull(),institutionId:C("institution_id").notNull(),institutionName:C("institution_name").notNull(),accountType:C("account_type").notNull(),accountNumber:C("account_number"),accountMask:C("account_mask").notNull(),accountHolderName:C("account_holder_name"),balance:st("balance",{precision:15,scale:2}).default("0"),availableBalance:st("available_balance",{precision:15,scale:2}).default("0"),currency:C("currency").default("BRL"),isActive:_e("is_active").default(!0),isPrimary:_e("is_primary").default(!1),lastSync:W("last_sync",{withTimezone:!0}),syncStatus:C("sync_status").default("pending"),syncErrorMessage:C("sync_error_message"),createdAt:W("created_at",{withTimezone:!0}).defaultNow(),updatedAt:W("updated_at",{withTimezone:!0}).defaultNow()}),Tu=Pe("account_balance_history",{id:C("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),accountId:C("account_id").references(()=>ue.id,{onDelete:"cascade"}),balance:st("balance",{precision:15,scale:2}).notNull(),availableBalance:st("available_balance",{precision:15,scale:2}),recordedAt:W("recorded_at",{withTimezone:!0}).defaultNow(),source:C("source").default("sync")}),aa=Pe("bank_sync_logs",{id:C("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:C("user_id").references(()=>Q.id,{onDelete:"cascade"}),accountId:C("account_id").references(()=>ue.id,{onDelete:"cascade"}),syncType:C("sync_type").notNull(),status:C("status").notNull(),recordsSynced:Ot("records_synced").default(0),errorMessage:C("error_message"),startedAt:W("started_at",{withTimezone:!0}).defaultNow(),completedAt:W("completed_at",{withTimezone:!0}),durationMs:Ot("duration_ms")})});var YT,ek,Yr,Je,gr,tk=K(()=>{"use strict";Xr();bn();YT=pr("subscription_status",["free","trialing","active","past_due","canceled","unpaid"]),ek=pr("payment_status",["succeeded","failed","pending"]),Yr=Pe("subscription_plans",{id:C("id").primaryKey(),name:C("name").notNull(),description:C("description"),priceCents:Ot("price_cents").notNull().default(0),currency:C("currency").notNull().default("BRL"),interval:C("interval"),stripeProductId:C("stripe_product_id"),stripePriceId:C("stripe_price_id"),features:at("features").$type().default([]),aiModels:at("ai_models").$type().default([]),maxBankAccounts:Ot("max_bank_accounts").default(1),maxTransactionsPerMonth:Ot("max_transactions_per_month"),isActive:_e("is_active").default(!0),displayOrder:Ot("display_order").default(0),createdAt:W("created_at",{withTimezone:!0}).defaultNow(),updatedAt:W("updated_at",{withTimezone:!0}).defaultNow()}),Je=Pe("subscriptions",{id:cu("id").primaryKey().defaultRandom(),userId:C("user_id").notNull().unique().references(()=>Q.id,{onDelete:"cascade"}),stripeCustomerId:C("stripe_customer_id"),stripeSubscriptionId:C("stripe_subscription_id").unique(),planId:C("plan_id").notNull().default("free").references(()=>Yr.id),status:YT("status").notNull().default("free"),currentPeriodStart:W("current_period_start",{withTimezone:!0}),currentPeriodEnd:W("current_period_end",{withTimezone:!0}),cancelAtPeriodEnd:_e("cancel_at_period_end").default(!1),canceledAt:W("canceled_at",{withTimezone:!0}),trialStart:W("trial_start",{withTimezone:!0}),trialEnd:W("trial_end",{withTimezone:!0}),createdAt:W("created_at",{withTimezone:!0}).defaultNow(),updatedAt:W("updated_at",{withTimezone:!0}).defaultNow()}),gr=Pe("payment_history",{id:cu("id").primaryKey().defaultRandom(),userId:C("user_id").notNull().references(()=>Q.id,{onDelete:"cascade"}),subscriptionId:cu("subscription_id").references(()=>Je.id,{onDelete:"set null"}),stripePaymentIntentId:C("stripe_payment_intent_id"),stripeInvoiceId:C("stripe_invoice_id"),stripeChargeId:C("stripe_charge_id"),amountCents:Ot("amount_cents").notNull(),currency:C("currency").notNull().default("BRL"),status:ek("status").notNull(),description:C("description"),receiptUrl:C("receipt_url"),invoicePdf:C("invoice_pdf"),failureCode:C("failure_code"),failureMessage:C("failure_message"),createdAt:W("created_at",{withTimezone:!0}).defaultNow()})});var ze,oe,Kt,cs=K(()=>{"use strict";Xr();Gl();bn();ze=Pe("transaction_categories",{id:C("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:C("user_id").notNull().references(()=>Q.id,{onDelete:"cascade"}),name:C("name").notNull(),color:C("color").default("#6B7280"),icon:C("icon").default("circle"),isSystem:_e("is_system").default(!1),parentId:C("parent_id"),createdAt:W("created_at",{withTimezone:!0}).defaultNow(),updatedAt:W("updated_at",{withTimezone:!0}).defaultNow()}),oe=Pe("transactions",{id:C("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:C("user_id").notNull().references(()=>Q.id,{onDelete:"cascade"}),accountId:C("account_id").references(()=>ue.id,{onDelete:"set null"}),categoryId:C("category_id").references(()=>ze.id,{onDelete:"set null"}),amount:st("amount",{precision:15,scale:2}).notNull(),originalAmount:st("original_amount",{precision:15,scale:2}),currency:C("currency").default("BRL"),description:C("description").notNull(),merchantName:C("merchant_name"),transactionDate:W("transaction_date",{withTimezone:!0}).notNull(),postedDate:W("posted_date",{withTimezone:!0}),transactionType:C("transaction_type").notNull(),paymentMethod:C("payment_method"),status:C("status").default("posted"),isRecurring:_e("is_recurring").default(!1),recurringRule:at("recurring_rule"),tags:C("tags").array(),notes:C("notes"),attachments:C("attachments").array(),confidenceScore:st("confidence_score",{precision:3,scale:2}),isCategorized:_e("is_categorized").default(!1),isManualEntry:_e("is_manual_entry").default(!1),externalId:C("external_id"),externalSource:C("external_source"),createdAt:W("created_at",{withTimezone:!0}).defaultNow(),updatedAt:W("updated_at",{withTimezone:!0}).defaultNow()}),Kt=Pe("transaction_schedules",{id:C("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:C("user_id").references(()=>Q.id,{onDelete:"cascade"}),accountId:C("account_id").references(()=>ue.id,{onDelete:"set null"}),categoryId:C("category_id").references(()=>ze.id,{onDelete:"set null"}),amount:st("amount",{precision:15,scale:2}).notNull(),description:C("description").notNull(),recipientName:C("recipient_name"),recipientAccount:C("recipient_account"),recipientPixKey:C("recipient_pix_key"),scheduledDate:Zr("scheduled_date").notNull(),recurrenceRule:C("recurrence_rule"),isActive:_e("is_active").default(!0),autoExecute:_e("auto_execute").default(!1),notificationSent:_e("notification_sent").default(!1),executed:_e("executed").default(!1),executedTransactionId:C("executed_transaction_id").references(()=>oe.id),createdAt:W("created_at",{withTimezone:!0}).defaultNow(),updatedAt:W("updated_at",{withTimezone:!0}).defaultNow()})});var wD,Bo,sa,rk=K(()=>{"use strict";Xr();cs();bn();wD=pr("boleto_status",["pending","paid","overdue","cancelled","scheduled"]),Bo=Pe("boletos",{id:C("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:C("user_id").references(()=>Q.id,{onDelete:"cascade"}),barcode:C("barcode").unique().notNull(),lineIdDigitable:C("line_id_digitable").unique().notNull(),amount:st("amount",{precision:15,scale:2}).notNull(),dueDate:Zr("due_date").notNull(),beneficiaryName:C("beneficiary_name").notNull(),beneficiaryCnpj:C("beneficiary_cnpj"),description:C("description"),status:C("status").default("pending"),paymentDate:W("payment_date",{withTimezone:!0}),paidAmount:st("paid_amount",{precision:15,scale:2}),paidWith:C("paid_with"),transactionId:C("transaction_id").references(()=>oe.id),fineAmount:st("fine_amount",{precision:15,scale:2}).default("0"),interestAmount:st("interest_amount",{precision:15,scale:2}).default("0"),discountAmount:st("discount_amount",{precision:15,scale:2}).default("0"),pdfUrl:C("pdf_url"),createdAt:W("created_at",{withTimezone:!0}).defaultNow(),updatedAt:W("updated_at",{withTimezone:!0}).defaultNow()}),sa=Pe("boleto_payments",{id:C("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),boletoId:C("boleto_id").references(()=>Bo.id,{onDelete:"cascade"}),amount:st("amount",{precision:15,scale:2}).notNull(),paymentDate:W("payment_date",{withTimezone:!0}).defaultNow(),paymentMethod:C("payment_method").notNull(),transactionId:C("transaction_id").references(()=>oe.id),status:C("status").default("processing"),externalId:C("external_id"),createdAt:W("created_at",{withTimezone:!0}).defaultNow()})});var ls,mt,ua,nk=K(()=>{"use strict";Xr();Gl();cs();bn();ls=Pe("event_types",{id:C("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),name:C("name").unique().notNull(),description:C("description"),color:C("color").default("#3B82F6"),icon:C("icon").default("calendar"),isSystem:_e("is_system").default(!0),defaultReminderHours:Ot("default_reminder_hours").default(24),createdAt:W("created_at",{withTimezone:!0}).defaultNow(),updatedAt:W("updated_at",{withTimezone:!0}).defaultNow()}),mt=Pe("financial_events",{id:C("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:C("user_id").references(()=>Q.id,{onDelete:"cascade"}).notNull(),accountId:C("account_id").references(()=>ue.id,{onDelete:"set null"}),categoryId:C("category_id").references(()=>ze.id,{onDelete:"set null"}),eventTypeId:C("event_type_id").references(()=>ls.id,{onDelete:"set null"}),title:C("title").notNull(),description:C("description"),amount:st("amount",{precision:15,scale:2}).notNull(),status:C("status").notNull().default("pending"),startDate:W("start_date",{withTimezone:!0}).notNull(),endDate:W("end_date",{withTimezone:!0}).notNull(),allDay:_e("all_day").default(!1),color:C("color").notNull().default("blue"),icon:C("icon"),isIncome:_e("is_income").default(!1),isCompleted:_e("is_completed").default(!1),isRecurring:_e("is_recurring").default(!1),recurrenceRule:C("recurrence_rule"),parentEventId:C("parent_event_id"),location:C("location"),notes:C("notes"),dueDate:Zr("due_date"),completedAt:W("completed_at",{withTimezone:!0}),priority:C("priority").default("normal"),tags:C("tags").array(),attachments:C("attachments").array(),brazilianEventType:C("brazilian_event_type"),installmentInfo:at("installment_info"),merchantCategory:C("merchant_category"),metadata:at("metadata"),transactionId:C("transaction_id").references(()=>oe.id,{onDelete:"set null"}),createdAt:W("created_at",{withTimezone:!0}).defaultNow(),updatedAt:W("updated_at",{withTimezone:!0}).defaultNow()}),ua=Pe("event_reminders",{id:C("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:C("user_id").references(()=>Q.id,{onDelete:"cascade"}),eventId:C("event_id").references(()=>mt.id,{onDelete:"cascade"}),remindAt:W("remind_at",{withTimezone:!0}).notNull(),reminderType:C("reminder_type").default("notification"),message:C("message"),isSent:_e("is_sent").default(!1),sentAt:W("sent_at",{withTimezone:!0}),createdAt:W("created_at",{withTimezone:!0}).defaultNow(),updatedAt:W("updated_at",{withTimezone:!0}).defaultNow()})});var xD,$e,ku,ok=K(()=>{"use strict";Xr();bn();xD=pr("payment_method_type",["PIX","BANK_ACCOUNT","BOLETO"]),$e=Pe("contacts",{id:C("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:C("user_id").references(()=>Q.id,{onDelete:"cascade"}),name:C("name").notNull(),email:C("email"),phone:C("phone"),cpf:C("cpf"),cnpj:C("cnpj"),notes:C("notes"),isFavorite:_e("is_favorite").default(!1),createdAt:W("created_at",{withTimezone:!0}).defaultNow(),updatedAt:W("updated_at",{withTimezone:!0}).defaultNow()}),ku=Pe("contact_payment_methods",{id:C("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),contactId:C("contact_id").references(()=>$e.id,{onDelete:"cascade"}),methodType:C("method_type").notNull(),methodDetails:at("method_details").notNull(),isDefault:_e("is_default").default(!1),isActive:_e("is_active").default(!0),createdAt:W("created_at",{withTimezone:!0}).defaultNow(),updatedAt:W("updated_at",{withTimezone:!0}).defaultNow()})});var qf,ik,ak,sk,uk,ck,lk,dk,pk,Sn,Mt,Uf,en,yo,Lr,wn,Eu,mk=K(()=>{"use strict";Xr();bn();qf=pr("consent_type",["data_processing","marketing","analytics","third_party","third_party_sharing","voice_data","voice_recording","biometric","financial_data","location","open_banking"]),ik=pr("collection_method",["signup","settings","settings_toggle","prompt","api","import","explicit_form","terms_acceptance","voice_command"]),ak=pr("deletion_request_type",["full_account","full_deletion","specific_data","anonymization","partial_deletion","consent_withdrawal"]),sk=pr("deletion_request_status",["pending","verified","approved","processing","completed","rejected","cancelled"]),uk=pr("export_request_type",["full_data","full_export","transactions","profile","consents","audit_logs","financial_only","voice_commands","specific_period"]),ck=pr("export_format",["json","csv","pdf"]),lk=pr("export_status",["pending","processing","completed","failed","expired"]),dk=pr("limit_type",["pix_daily","pix_daytime","pix_nighttime","pix_transaction","pix_total_daily","boleto_daily","ted_daily","transfer_daily","withdrawal_daily","total_daily","total_monthly"]),pk=pr("compliance_event_type",["consent_granted","consent_revoked","data_export_requested","data_export_completed","data_deletion_requested","data_deletion_completed","data_accessed","data_modified","limit_updated","policy_acknowledged"]),Sn=Pe("consent_templates",{id:C("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),consentType:qf("consent_type").notNull(),version:C("version").notNull().default("1.0"),titlePt:C("title_pt").notNull(),descriptionPt:C("description_pt").notNull(),fullTextPt:C("full_text_pt").notNull(),titleEn:C("title_en"),descriptionEn:C("description_en"),fullTextEn:C("full_text_en"),isMandatory:_e("is_mandatory").default(!1),isActive:_e("is_active").default(!0),legalBasis:C("legal_basis"),effectiveFrom:W("effective_from",{withTimezone:!0}).defaultNow(),effectiveUntil:W("effective_until",{withTimezone:!0}),createdAt:W("created_at",{withTimezone:!0}).defaultNow(),updatedAt:W("updated_at",{withTimezone:!0}).defaultNow()}),Mt=Pe("lgpd_consents",{id:C("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:C("user_id").references(()=>Q.id,{onDelete:"cascade"}).notNull(),consentType:qf("consent_type").notNull(),purpose:C("purpose").notNull(),legalBasis:C("legal_basis").notNull(),granted:_e("granted").notNull().default(!1),grantedAt:W("granted_at",{withTimezone:!0}),revokedAt:W("revoked_at",{withTimezone:!0}),consentVersion:C("consent_version").notNull(),consentTextHash:C("consent_text_hash"),collectionMethod:ik("collection_method").notNull(),ipAddress:Nn("ip_address"),userAgent:C("user_agent"),createdAt:W("created_at",{withTimezone:!0}).defaultNow(),updatedAt:W("updated_at",{withTimezone:!0}).defaultNow()},e=>[kT("lgpd_consents_user_type_version_idx").on(e.userId,e.consentType,e.consentVersion)]),Uf=Pe("data_retention_policies",{id:C("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),dataType:C("data_type").notNull().unique(),description:C("description"),descriptionPt:C("description_pt"),retentionMonths:Ot("retention_months").notNull(),retentionPeriodLabel:C("retention_period_label"),autoDelete:_e("auto_delete").default(!1),deletionMethod:C("deletion_method").default("hard_delete"),legalHold:_e("legal_hold").default(!1),legalBasis:C("legal_basis"),legalRequirement:_e("legal_requirement").default(!1),isActive:_e("is_active").default(!0),createdAt:W("created_at",{withTimezone:!0}).defaultNow(),updatedAt:W("updated_at",{withTimezone:!0}).defaultNow()}),en=Pe("data_deletion_requests",{id:C("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:C("user_id").references(()=>Q.id,{onDelete:"cascade"}).notNull(),requestType:ak("request_type").notNull(),scope:at("scope").default({}),reason:C("reason"),status:sk("status").default("pending"),verificationCode:C("verification_code"),verifiedAt:W("verified_at",{withTimezone:!0}),reviewDeadline:W("review_deadline",{withTimezone:!0}),processedAt:W("processed_at",{withTimezone:!0}),processedBy:C("processed_by"),processingNotes:C("processing_notes"),legalHold:_e("legal_hold").default(!1),legalHoldReason:C("legal_hold_reason"),ipAddress:Nn("ip_address"),userAgent:C("user_agent"),createdAt:W("created_at",{withTimezone:!0}).defaultNow(),updatedAt:W("updated_at",{withTimezone:!0}).defaultNow()}),yo=Pe("lgpd_export_requests",{id:C("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:C("user_id").references(()=>Q.id,{onDelete:"cascade"}).notNull(),requestType:uk("request_type").notNull(),format:ck("format").default("json"),dateFrom:Zr("date_from"),dateTo:Zr("date_to"),status:lk("status").default("pending"),processedAt:W("processed_at",{withTimezone:!0}),downloadUrl:C("download_url"),downloadExpiresAt:W("download_expires_at",{withTimezone:!0}),fileSizeBytes:Ot("file_size_bytes"),errorMessage:C("error_message"),retryCount:Ot("retry_count").default(0),requestedVia:C("requested_via").default("app"),ipAddress:Nn("ip_address"),userAgent:C("user_agent"),createdAt:W("created_at",{withTimezone:!0}).defaultNow(),updatedAt:W("updated_at",{withTimezone:!0}).defaultNow()}),Lr=Pe("transaction_limits",{id:C("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:C("user_id").references(()=>Q.id,{onDelete:"cascade"}).notNull(),limitType:dk("limit_type").notNull(),dailyLimit:st("daily_limit",{precision:15,scale:2}).notNull(),transactionLimit:st("transaction_limit",{precision:15,scale:2}),monthlyLimit:st("monthly_limit",{precision:15,scale:2}),currentDailyUsed:st("current_daily_used",{precision:15,scale:2}).default("0"),currentMonthlyUsed:st("current_monthly_used",{precision:15,scale:2}).default("0"),lastResetAt:W("last_reset_at",{withTimezone:!0}).defaultNow(),nighttimeLimit:st("nighttime_limit",{precision:15,scale:2}),nighttimeStart:C("nighttime_start").default("20:00"),nighttimeEnd:C("nighttime_end").default("06:00"),isActive:_e("is_active").default(!0),createdAt:W("created_at",{withTimezone:!0}).defaultNow(),updatedAt:W("updated_at",{withTimezone:!0}).defaultNow()},e=>[kT("transaction_limits_user_type_idx").on(e.userId,e.limitType)]),wn=Pe("compliance_audit_logs",{id:C("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:C("user_id").references(()=>Q.id,{onDelete:"set null"}),eventType:pk("event_type").notNull(),resourceType:C("resource_type").notNull(),resourceId:C("resource_id"),description:C("description"),metadata:at("metadata").default({}),previousState:at("previous_state"),newState:at("new_state"),ipAddress:Nn("ip_address"),userAgent:C("user_agent"),sessionId:C("session_id"),retentionUntil:W("retention_until",{withTimezone:!0}),createdAt:W("created_at",{withTimezone:!0}).defaultNow()}),Eu=Pe("legal_holds",{id:C("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:C("user_id").references(()=>Q.id,{onDelete:"cascade"}).notNull(),reason:C("reason").notNull(),description:C("description"),referenceNumber:C("reference_number"),dataTypes:at("data_types").default([]),allData:_e("all_data").default(!1),active:_e("active").default(!0),startedAt:W("started_at",{withTimezone:!0}).defaultNow(),expiresAt:W("expires_at",{withTimezone:!0}),releasedAt:W("released_at",{withTimezone:!0}),releasedBy:C("released_by"),releaseReason:C("release_reason"),createdBy:C("created_by").notNull(),createdAt:W("created_at",{withTimezone:!0}).defaultNow(),updatedAt:W("updated_at",{withTimezone:!0}).defaultNow()})});var Ti,Pu,Iu,fk=K(()=>{"use strict";Xr();bn();Ti=Pe("notifications",{id:C("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:C("user_id").references(()=>Q.id,{onDelete:"cascade"}),title:C("title").notNull(),message:C("message").notNull(),type:C("type").notNull(),category:C("category"),priority:C("priority").default("normal"),isRead:_e("is_read").default(!1),readAt:W("read_at",{withTimezone:!0}),actionUrl:C("action_url"),actionText:C("action_text"),metadata:at("metadata"),expiresAt:W("expires_at",{withTimezone:!0}),createdAt:W("created_at",{withTimezone:!0}).defaultNow()}),Pu=Pe("alert_rules",{id:C("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:C("user_id").references(()=>Q.id,{onDelete:"cascade"}),ruleName:C("rule_name").notNull(),ruleType:C("rule_type").notNull(),conditions:at("conditions").notNull(),actions:at("actions").notNull(),isActive:_e("is_active").default(!0),createdAt:W("created_at",{withTimezone:!0}).defaultNow(),updatedAt:W("updated_at",{withTimezone:!0}).defaultNow()}),Iu=Pe("notification_logs",{id:C("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),notificationId:C("notification_id").references(()=>Ti.id,{onDelete:"cascade"}),deliveryMethod:C("delivery_method").notNull(),status:C("status").notNull(),sentAt:W("sent_at",{withTimezone:!0}).defaultNow(),deliveredAt:W("delivered_at",{withTimezone:!0}),errorMessage:C("error_message"),externalId:C("external_id"),createdAt:W("created_at",{withTimezone:!0}).defaultNow()})});var TD,kD,ED,Ou,ki,Ho,hk=K(()=>{"use strict";Xr();cs();bn();TD=pr("pix_key_type",["CPF","CNPJ","EMAIL","PHONE","RANDOM"]),kD=pr("pix_transaction_status",["pending","processing","completed","failed","cancelled","reversed"]),ED=pr("pix_transaction_type_enum",["sent","received","scheduled"]),Ou=Pe("pix_keys",{id:C("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:C("user_id").references(()=>Q.id,{onDelete:"cascade"}),keyType:C("key_type").notNull(),keyValue:C("key_value").notNull(),keyName:C("key_name").notNull(),bankName:C("bank_name"),isFavorite:_e("is_favorite").default(!1),isActive:_e("is_active").default(!0),verificationStatus:C("verification_status").default("pending"),lastUsed:W("last_used",{withTimezone:!0}),usageCount:Ot("usage_count").default(0),createdAt:W("created_at",{withTimezone:!0}).defaultNow(),updatedAt:W("updated_at",{withTimezone:!0}).defaultNow()}),ki=Pe("pix_qr_codes",{id:C("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:C("user_id").references(()=>Q.id,{onDelete:"cascade"}),qrCodeData:C("qr_code_data").notNull(),pixCopyPaste:C("pix_copy_paste").notNull(),amount:st("amount",{precision:15,scale:2}),description:C("description"),recipientName:C("recipient_name"),recipientPixKey:C("recipient_pix_key"),expiresAt:W("expires_at",{withTimezone:!0}),isActive:_e("is_active").default(!0),isSingleUse:_e("is_single_use").default(!1),usageCount:Ot("usage_count").default(0),maxUsage:Ot("max_usage"),createdAt:W("created_at",{withTimezone:!0}).defaultNow(),updatedAt:W("updated_at",{withTimezone:!0}).defaultNow()}),Ho=Pe("pix_transactions",{id:C("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:C("user_id").references(()=>Q.id,{onDelete:"cascade"}),transactionId:C("transaction_id").references(()=>oe.id,{onDelete:"set null"}),endToEndId:C("end_to_end_id").unique(),pixKey:C("pix_key").notNull(),pixKeyType:C("pix_key_type").notNull(),recipientName:C("recipient_name").notNull(),recipientDocument:C("recipient_document"),recipientBank:C("recipient_bank"),amount:st("amount",{precision:15,scale:2}).notNull(),description:C("description"),transactionDate:W("transaction_date",{withTimezone:!0}).notNull(),status:C("status").default("pending"),transactionType:C("transaction_type").default("sent"),scheduledFor:W("scheduled_for",{withTimezone:!0}),processedAt:W("processed_at",{withTimezone:!0}),qrCodeId:C("qr_code_id").references(()=>ki.id),externalId:C("external_id"),errorMessage:C("error_message"),feeAmount:st("fee_amount",{precision:15,scale:2}).default("0"),createdAt:W("created_at",{withTimezone:!0}).defaultNow(),updatedAt:W("updated_at",{withTimezone:!0}).defaultNow()})});var Au,PD,Cr,ca,la,Vo,Cu,Ru,n2e,gk=K(()=>{"use strict";Xr();cs();bn();Au=Pe("voice_commands",{id:C("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:C("user_id").references(()=>Q.id,{onDelete:"cascade"}),commandText:C("command_text").notNull(),audioFileUrl:C("audio_file_url"),intent:C("intent").notNull(),intentConfidence:st("intent_confidence",{precision:3,scale:2}),entities:at("entities"),responseText:C("response_text"),responseAudioUrl:C("response_audio_url"),processingTimeMs:Ot("processing_time_ms"),status:C("status").default("processed"),errorMessage:C("error_message"),context:at("context"),createdAt:W("created_at",{withTimezone:!0}).defaultNow()}),PD=Pe("command_intents",{id:C("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),intentName:C("intent_name").unique().notNull(),description:C("description"),examplePhrases:C("example_phrases").array(),requiredEntities:C("required_entities").array(),actionHandler:C("action_handler"),isActive:_e("is_active").default(!0),createdAt:W("created_at",{withTimezone:!0}).defaultNow(),updatedAt:W("updated_at",{withTimezone:!0}).defaultNow()}),Cr=Pe("ai_insights",{id:C("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:C("user_id").references(()=>Q.id,{onDelete:"cascade"}),insightType:C("insight_type").notNull(),title:C("title").notNull(),description:C("description").notNull(),recommendation:C("recommendation"),impactLevel:C("impact_level").default("medium"),categoryId:C("category_id").references(()=>ze.id),data:at("data"),isRead:_e("is_read").default(!1),isActioned:_e("is_actioned").default(!1),expiresAt:W("expires_at",{withTimezone:!0}),createdAt:W("created_at",{withTimezone:!0}).defaultNow()}),ca=Pe("spending_patterns",{id:C("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:C("user_id").references(()=>Q.id,{onDelete:"cascade"}),categoryId:C("category_id").references(()=>ze.id),periodStart:Zr("period_start").notNull(),periodEnd:Zr("period_end").notNull(),periodType:C("period_type").notNull(),totalAmount:st("total_amount",{precision:15,scale:2}).notNull(),transactionCount:Ot("transaction_count").notNull(),averageTransaction:st("average_transaction",{precision:15,scale:2}),trendPercentage:st("trend_percentage",{precision:5,scale:2}),patternData:at("pattern_data"),createdAt:W("created_at",{withTimezone:!0}).defaultNow()}),la=Pe("budget_categories",{id:C("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:C("user_id").references(()=>Q.id,{onDelete:"cascade"}),categoryId:C("category_id").references(()=>ze.id,{onDelete:"cascade"}),budgetAmount:st("budget_amount",{precision:15,scale:2}).notNull(),periodType:C("period_type").notNull(),alertThreshold:st("alert_threshold",{precision:5,scale:2}).default("80"),isActive:_e("is_active").default(!0),createdAt:W("created_at",{withTimezone:!0}).defaultNow(),updatedAt:W("updated_at",{withTimezone:!0}).defaultNow()}),Vo=Pe("chat_sessions",{id:C("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:C("user_id").references(()=>Q.id,{onDelete:"cascade"}),title:C("title"),isActive:_e("is_active").default(!0),metadata:at("metadata"),createdAt:W("created_at",{withTimezone:!0}).defaultNow(),updatedAt:W("updated_at",{withTimezone:!0}).defaultNow()}),Cu=Pe("chat_messages",{id:C("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),sessionId:C("session_id").references(()=>Vo.id,{onDelete:"cascade"}),role:C("role").notNull(),content:C("content").notNull(),attachments:at("attachments"),context:at("context"),createdAt:W("created_at",{withTimezone:!0}).defaultNow()}),Ru=Pe("voice_transcriptions",{id:C("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:C("user_id").references(()=>Q.id,{onDelete:"cascade"}),audioStoragePath:C("audio_storage_path").notNull(),transcript:C("transcript").notNull(),confidenceScore:st("confidence_score",{precision:3,scale:2}),language:C("language").notNull(),processingTimeMs:Ot("processing_time_ms").notNull(),expiresAt:W("expires_at",{withTimezone:!0}).notNull(),createdAt:W("created_at",{withTimezone:!0}).defaultNow(),updatedAt:W("updated_at",{withTimezone:!0}).defaultNow()}),n2e=Pe("chat_context_snapshots",{id:C("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),conversationId:C("conversation_id").references(()=>Vo.id,{onDelete:"cascade"}),recentTransactions:at("recent_transactions"),accountBalances:at("account_balances"),upcomingEvents:at("upcoming_events"),userPreferences:at("user_preferences"),createdAt:W("created_at",{withTimezone:!0}).defaultNow()})});var ID,OD,AD,CD,RD,$D,ND,jD,zD,DD,MD,qD,UD,LD,FD,JD,BD,HD,VD,ZD,KD,GD,WD,QD,XD,YD,eM,tM,rM,nM,oM,iM,aM,sM,uM,cM,lM,dM,pM,mM,fM,hM,gM,yM,vM,_M=K(()=>{"use strict";wr();XT();Gl();tk();rk();nk();ok();mk();fk();hk();cs();bn();gk();ID=Le(Q,({one:e,many:t})=>({preferences:e(_n,{fields:[Q.id],references:[_n.userId]}),security:e(ss,{fields:[Q.id],references:[ss.userId]}),bankAccounts:t(ue),transactionCategories:t(ze),transactions:t(oe),transactionSchedules:t(Kt),financialEvents:t(mt),eventReminders:t(ua),pixKeys:t(Ou),pixQrCodes:t(ki),pixTransactions:t(Ho),contacts:t($e),boletos:t(Bo),voiceCommands:t(Au),voiceTranscriptions:t(Ru),aiInsights:t(Cr),spendingPatterns:t(ca),budgetCategories:t(la),chatSessions:t(Vo),notifications:t(Ti),alertRules:t(Pu),auditLogs:t(ia),errorLogs:t(us),userSessions:t(Su),lgpdConsentLogs:t(wu),dataExportRequests:t(xu),bankSyncLogs:t(aa),lgpdConsents:t(Mt),dataDeletionRequests:t(en),lgpdExportRequests:t(yo),transactionLimits:t(Lr),complianceAuditLogs:t(wn),legalHolds:t(Eu),subscriptions:t(Je),paymentHistory:t(gr)})),OD=Le(_n,({one:e})=>({user:e(Q,{fields:[_n.userId],references:[Q.id]})})),AD=Le(ss,({one:e})=>({user:e(Q,{fields:[ss.userId],references:[Q.id]})})),CD=Le(ue,({one:e,many:t})=>({user:e(Q,{fields:[ue.userId],references:[Q.id]}),balanceHistory:t(Tu),syncLogs:t(aa),transactions:t(oe),transactionSchedules:t(Kt),financialEvents:t(mt)})),RD=Le(Tu,({one:e})=>({account:e(ue,{fields:[Tu.accountId],references:[ue.id]})})),$D=Le(aa,({one:e})=>({user:e(Q,{fields:[aa.userId],references:[Q.id]}),account:e(ue,{fields:[aa.accountId],references:[ue.id]})})),ND=Le(ze,({one:e,many:t})=>({user:e(Q,{fields:[ze.userId],references:[Q.id]}),parent:e(ze,{fields:[ze.parentId],references:[ze.id],relationName:"categoryParent"}),children:t(ze,{relationName:"categoryParent"}),transactions:t(oe),transactionSchedules:t(Kt),financialEvents:t(mt),aiInsights:t(Cr),spendingPatterns:t(ca),budgetCategories:t(la)})),jD=Le(oe,({one:e,many:t})=>({user:e(Q,{fields:[oe.userId],references:[Q.id]}),account:e(ue,{fields:[oe.accountId],references:[ue.id]}),category:e(ze,{fields:[oe.categoryId],references:[ze.id]}),pixTransactions:t(Ho),boletoPayments:t(sa),financialEvents:t(mt)})),zD=Le(Kt,({one:e})=>({user:e(Q,{fields:[Kt.userId],references:[Q.id]}),account:e(ue,{fields:[Kt.accountId],references:[ue.id]}),category:e(ze,{fields:[Kt.categoryId],references:[ze.id]}),executedTransaction:e(oe,{fields:[Kt.executedTransactionId],references:[oe.id]})})),DD=Le(ls,({many:e})=>({financialEvents:e(mt)})),MD=Le(mt,({one:e,many:t})=>({user:e(Q,{fields:[mt.userId],references:[Q.id]}),account:e(ue,{fields:[mt.accountId],references:[ue.id]}),category:e(ze,{fields:[mt.categoryId],references:[ze.id]}),eventType:e(ls,{fields:[mt.eventTypeId],references:[ls.id]}),parentEvent:e(mt,{fields:[mt.parentEventId],references:[mt.id],relationName:"eventParent"}),childEvents:t(mt,{relationName:"eventParent"}),transaction:e(oe,{fields:[mt.transactionId],references:[oe.id]}),reminders:t(ua)})),qD=Le(ua,({one:e})=>({user:e(Q,{fields:[ua.userId],references:[Q.id]}),event:e(mt,{fields:[ua.eventId],references:[mt.id]})})),UD=Le(Ou,({one:e})=>({user:e(Q,{fields:[Ou.userId],references:[Q.id]})})),LD=Le(ki,({one:e,many:t})=>({user:e(Q,{fields:[ki.userId],references:[Q.id]}),pixTransactions:t(Ho)})),FD=Le(Ho,({one:e})=>({user:e(Q,{fields:[Ho.userId],references:[Q.id]}),transaction:e(oe,{fields:[Ho.transactionId],references:[oe.id]}),qrCode:e(ki,{fields:[Ho.qrCodeId],references:[ki.id]})})),JD=Le($e,({one:e,many:t})=>({user:e(Q,{fields:[$e.userId],references:[Q.id]}),paymentMethods:t(ku)})),BD=Le(ku,({one:e})=>({contact:e($e,{fields:[ku.contactId],references:[$e.id]})})),HD=Le(Bo,({one:e,many:t})=>({user:e(Q,{fields:[Bo.userId],references:[Q.id]}),transaction:e(oe,{fields:[Bo.transactionId],references:[oe.id]}),payments:t(sa)})),VD=Le(sa,({one:e})=>({boleto:e(Bo,{fields:[sa.boletoId],references:[Bo.id]}),transaction:e(oe,{fields:[sa.transactionId],references:[oe.id]})})),ZD=Le(Au,({one:e})=>({user:e(Q,{fields:[Au.userId],references:[Q.id]})})),KD=Le(Ru,({one:e})=>({user:e(Q,{fields:[Ru.userId],references:[Q.id]})})),GD=Le(Cr,({one:e})=>({user:e(Q,{fields:[Cr.userId],references:[Q.id]}),category:e(ze,{fields:[Cr.categoryId],references:[ze.id]})})),WD=Le(ca,({one:e})=>({user:e(Q,{fields:[ca.userId],references:[Q.id]}),category:e(ze,{fields:[ca.categoryId],references:[ze.id]})})),QD=Le(la,({one:e})=>({user:e(Q,{fields:[la.userId],references:[Q.id]}),category:e(ze,{fields:[la.categoryId],references:[ze.id]})})),XD=Le(Vo,({one:e,many:t})=>({user:e(Q,{fields:[Vo.userId],references:[Q.id]}),messages:t(Cu)})),YD=Le(Cu,({one:e})=>({session:e(Vo,{fields:[Cu.sessionId],references:[Vo.id]})})),eM=Le(Ti,({one:e,many:t})=>({user:e(Q,{fields:[Ti.userId],references:[Q.id]}),logs:t(Iu)})),tM=Le(Pu,({one:e})=>({user:e(Q,{fields:[Pu.userId],references:[Q.id]})})),rM=Le(Iu,({one:e})=>({notification:e(Ti,{fields:[Iu.notificationId],references:[Ti.id]})})),nM=Le(ia,({one:e})=>({user:e(Q,{fields:[ia.userId],references:[Q.id]})})),oM=Le(us,({one:e})=>({user:e(Q,{fields:[us.userId],references:[Q.id]}),resolvedByUser:e(Q,{fields:[us.resolvedBy],references:[Q.id],relationName:"resolvedByUser"})})),iM=Le(Su,({one:e})=>({user:e(Q,{fields:[Su.userId],references:[Q.id]})})),aM=Le(wu,({one:e})=>({user:e(Q,{fields:[wu.userId],references:[Q.id]})})),sM=Le(xu,({one:e})=>({user:e(Q,{fields:[xu.userId],references:[Q.id]})})),uM=Le(Sn,({many:e})=>({consents:e(Mt)})),cM=Le(Mt,({one:e})=>({user:e(Q,{fields:[Mt.userId],references:[Q.id]})})),lM=Le(Uf,()=>({})),dM=Le(en,({one:e})=>({user:e(Q,{fields:[en.userId],references:[Q.id]})})),pM=Le(yo,({one:e})=>({user:e(Q,{fields:[yo.userId],references:[Q.id]})})),mM=Le(Lr,({one:e})=>({user:e(Q,{fields:[Lr.userId],references:[Q.id]})})),fM=Le(wn,({one:e})=>({user:e(Q,{fields:[wn.userId],references:[Q.id]})})),hM=Le(Eu,({one:e})=>({user:e(Q,{fields:[Eu.userId],references:[Q.id]})})),gM=Le(Yr,({many:e})=>({subscriptions:e(Je)})),yM=Le(Je,({one:e,many:t})=>({user:e(Q,{fields:[Je.userId],references:[Q.id]}),plan:e(Yr,{fields:[Je.planId],references:[Yr.id]}),paymentHistory:t(gr)})),vM=Le(gr,({one:e})=>({user:e(Q,{fields:[gr.userId],references:[Q.id]}),subscription:e(Je,{fields:[gr.subscriptionId],references:[Je.id]})}))});var $u={};yn($u,{accountBalanceHistory:()=>Tu,accountBalanceHistoryRelations:()=>RD,aiInsights:()=>Cr,aiInsightsRelations:()=>GD,alertRules:()=>Pu,alertRulesRelations:()=>tM,auditLogs:()=>ia,auditLogsRelations:()=>nM,bankAccounts:()=>ue,bankAccountsRelations:()=>CD,bankSyncLogs:()=>aa,bankSyncLogsRelations:()=>$D,boletoPayments:()=>sa,boletoPaymentsRelations:()=>VD,boletoStatusEnum:()=>wD,boletos:()=>Bo,boletosRelations:()=>HD,budgetCategories:()=>la,budgetCategoriesRelations:()=>QD,chatMessages:()=>Cu,chatMessagesRelations:()=>YD,chatSessions:()=>Vo,chatSessionsRelations:()=>XD,collectionMethodEnum:()=>ik,commandIntents:()=>PD,complianceAuditLogs:()=>wn,complianceAuditLogsRelations:()=>fM,complianceEventTypeEnum:()=>pk,consentTemplates:()=>Sn,consentTemplatesRelations:()=>uM,consentTypeEnum:()=>qf,contactPaymentMethods:()=>ku,contactPaymentMethodsRelations:()=>BD,contacts:()=>$e,contactsRelations:()=>JD,dataDeletionRequests:()=>en,dataDeletionRequestsRelations:()=>dM,dataExportRequests:()=>xu,dataExportRequestsRelations:()=>sM,dataRetentionPolicies:()=>Uf,dataRetentionPoliciesRelations:()=>lM,deletionRequestStatusEnum:()=>sk,deletionRequestTypeEnum:()=>ak,errorLogs:()=>us,errorLogsRelations:()=>oM,eventReminders:()=>ua,eventRemindersRelations:()=>qD,eventTypes:()=>ls,eventTypesRelations:()=>DD,exportFormatEnum:()=>ck,exportRequestTypeEnum:()=>uk,exportStatusEnum:()=>lk,financialEvents:()=>mt,financialEventsRelations:()=>MD,legalHolds:()=>Eu,legalHoldsRelations:()=>hM,lgpdConsentLogs:()=>wu,lgpdConsentLogsRelations:()=>aM,lgpdConsents:()=>Mt,lgpdConsentsRelations:()=>cM,lgpdExportRequests:()=>yo,lgpdExportRequestsRelations:()=>pM,limitTypeEnum:()=>dk,notificationLogs:()=>Iu,notificationLogsRelations:()=>rM,notifications:()=>Ti,notificationsRelations:()=>eM,paymentHistory:()=>gr,paymentHistoryRelations:()=>vM,paymentMethodTypeEnum:()=>xD,paymentStatusEnum:()=>ek,pixKeyTypeEnum:()=>TD,pixKeys:()=>Ou,pixKeysRelations:()=>UD,pixQrCodes:()=>ki,pixQrCodesRelations:()=>LD,pixTransactionStatusEnum:()=>kD,pixTransactionTypeEnum:()=>ED,pixTransactions:()=>Ho,pixTransactionsRelations:()=>FD,spendingPatterns:()=>ca,spendingPatternsRelations:()=>WD,subscriptionPlans:()=>Yr,subscriptionPlansRelations:()=>gM,subscriptionStatusEnum:()=>YT,subscriptions:()=>Je,subscriptionsRelations:()=>yM,transactionCategories:()=>ze,transactionCategoriesRelations:()=>ND,transactionLimits:()=>Lr,transactionLimitsRelations:()=>mM,transactionSchedules:()=>Kt,transactionSchedulesRelations:()=>zD,transactions:()=>oe,transactionsRelations:()=>jD,userPreferences:()=>_n,userPreferencesRelations:()=>OD,userSecurity:()=>ss,userSecurityRelations:()=>AD,userSessions:()=>Su,userSessionsRelations:()=>iM,users:()=>Q,usersRelations:()=>ID,voiceCommands:()=>Au,voiceCommandsRelations:()=>ZD,voiceTranscriptions:()=>Ru,voiceTranscriptionsRelations:()=>KD});var Rr=K(()=>{"use strict";XT();Gl();tk();rk();nk();ok();mk();fk();hk();cs();bn();gk();_M()});var bk={};yn(bk,{adminDb:()=>uee,closePool:()=>aee,createHttpClient:()=>wM,createPoolClient:()=>iee,db:()=>vo,getHttpClient:()=>xr,getOrganizationClient:()=>see,getPoolClient:()=>ds,schema:()=>$u});var bM,SM,wM,yk,xr,iee,Wl,Lf,ds,aee,see,vk,vo,_k,uee,Zn=K(()=>{"use strict";Ml();_D();SD();Rr();bM=a(()=>{let e=process.env.DATABASE_URL;if(!e)throw new Error("DATABASE_URL environment variable is not set");return e},"getPooledDatabaseUrl"),SM=a(()=>{let e=process.env.DATABASE_URL_UNPOOLED;return e||(console.warn("DATABASE_URL_UNPOOLED not set, using DATABASE_URL as fallback"),bM())},"getDirectDatabaseUrl"),wM=a(()=>{let e=ta(bM());return Df(e,{schema:$u})},"createHttpClient"),yk=null,xr=a(()=>(yk||(yk=wM()),yk),"getHttpClient"),iee=a(()=>{let e=new Fo({connectionString:SM()});return Kl(e,{schema:$u})},"createPoolClient"),Wl=null,Lf=null,ds=a(()=>(Lf||(Wl=new Fo({connectionString:SM()}),Lf=Kl(Wl,{schema:$u})),Lf),"getPoolClient"),aee=a(async()=>{Wl&&(await Wl.end(),Wl=null,Lf=null)},"closePool"),see=a(e=>ds(),"getOrganizationClient"),vk=null,vo=new Proxy({},{get(e,t){if(typeof window<"u")throw new Error("Database client cannot be used in browser context");if(!vk){if(!process.env.DATABASE_URL)throw new Error("DATABASE_URL environment variable is not set");vk=xr()}return vk[t]}}),_k=null,uee=new Proxy({},{get(e,t){if(typeof window<"u")throw new Error("Admin database client cannot be used in browser context");if(!_k){if(!(process.env.DATABASE_URL_UNPOOLED??process.env.DATABASE_URL))throw new Error("DATABASE_URL_UNPOOLED or DATABASE_URL environment variable is not set");_k=ds()}return _k[t]}})});var Sk,ps,Ff=K(()=>{"use strict";Sk={staticAssets:"public, max-age=31536000, immutable",htmlFiles:"no-cache, no-store, must-revalidate",apiResponses:"private, max-age=60",dynamicContent:"private, no-cache"},ps={NODE_ENV:"production",PORT:Number(process.env.PORT)||3e3,IS_DEVELOPMENT:!1,IS_PRODUCTION:!0,DATABASE_URL:process.env.DATABASE_URL||"",DATABASE_URL_UNPOOLED:process.env.DATABASE_URL_UNPOOLED||"",CLERK_PUBLISHABLE_KEY:process.env.VITE_CLERK_PUBLISHABLE_KEY||process.env.CLERK_PUBLISHABLE_KEY||"",CLERK_SECRET_KEY:process.env.CLERK_SECRET_KEY||"",API_URL:process.env.VITE_API_URL||process.env.API_URL||"http://localhost:3000",CORS_ORIGINS:(process.env.CORS_ORIGINS||"http://localhost:5173,http://localhost:3000").split(",")}});var EM={};yn(EM,{htmlCache:()=>pee,staticAssetsCache:()=>dee});var dee,pee,PM=K(()=>{"use strict";Ff();dee=a(()=>async(e,t)=>{e.header("Cache-Control",Sk.staticAssets),await t()},"staticAssetsCache"),pee=a(()=>async(e,t)=>{e.header("Cache-Control",Sk.htmlFiles),e.header("Pragma","no-cache"),e.header("Expires","0"),await t()},"htmlCache")});var aq=D(eh=>{"use strict";Object.defineProperty(eh,"__esModule",{value:!0});eh.parse=nte;eh.serialize=ote;var Qee=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,Xee=/^[\u0021-\u003A\u003C-\u007E]*$/,Yee=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,ete=/^[\u0020-\u003A\u003D-\u007E]*$/,tte=Object.prototype.toString,rte=(()=>{let e=a(function(){},"C");return e.prototype=Object.create(null),e})();function nte(e,t){let r=new rte,n=e.length;if(n<2)return r;let o=t?.decode||ite,i=0;do{let s=e.indexOf("=",i);if(s===-1)break;let u=e.indexOf(";",i),l=u===-1?n:u;if(s>l){i=e.lastIndexOf(";",s-1)+1;continue}let d=oq(e,i,s),p=iq(e,s,d),f=e.slice(d,p);if(r[f]===void 0){let m=oq(e,s+1,l),y=iq(e,l,m),g=o(e.slice(m,y));r[f]=g}i=l+1}while(i<n);return r}a(nte,"parse");function oq(e,t,r){do{let n=e.charCodeAt(t);if(n!==32&&n!==9)return t}while(++t<r);return r}a(oq,"startIndex");function iq(e,t,r){for(;t>r;){let n=e.charCodeAt(--t);if(n!==32&&n!==9)return t+1}return r}a(iq,"endIndex");function ote(e,t,r){let n=r?.encode||encodeURIComponent;if(!Qee.test(e))throw new TypeError(`argument name is invalid: ${e}`);let o=n(t);if(!Xee.test(o))throw new TypeError(`argument val is invalid: ${t}`);let i=e+"="+o;if(!r)return i;if(r.maxAge!==void 0){if(!Number.isInteger(r.maxAge))throw new TypeError(`option maxAge is invalid: ${r.maxAge}`);i+="; Max-Age="+r.maxAge}if(r.domain){if(!Yee.test(r.domain))throw new TypeError(`option domain is invalid: ${r.domain}`);i+="; Domain="+r.domain}if(r.path){if(!ete.test(r.path))throw new TypeError(`option path is invalid: ${r.path}`);i+="; Path="+r.path}if(r.expires){if(!ate(r.expires)||!Number.isFinite(r.expires.valueOf()))throw new TypeError(`option expires is invalid: ${r.expires}`);i+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.partitioned&&(i+="; Partitioned"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():void 0){case"low":i+="; Priority=Low";break;case"medium":i+="; Priority=Medium";break;case"high":i+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${r.priority}`)}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"none":i+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${r.sameSite}`)}return i}a(ote,"serialize");function ite(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}a(ite,"decode");function ate(e){return tte.call(e)==="[object Date]"}a(ate,"isDate")});var bg=D((YHe,Yu)=>{"use strict";var nce=typeof Buffer<"u",ML=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,qL=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function UL(e,t,r){r==null&&t!==null&&typeof t=="object"&&(r=t,t=void 0),nce&&Buffer.isBuffer(e)&&(e=e.toString()),e&&e.charCodeAt(0)===65279&&(e=e.slice(1));let n=JSON.parse(e,t);if(n===null||typeof n!="object")return n;let o=r&&r.protoAction||"error",i=r&&r.constructorAction||"error";if(o==="ignore"&&i==="ignore")return n;if(o!=="ignore"&&i!=="ignore"){if(ML.test(e)===!1&&qL.test(e)===!1)return n}else if(o!=="ignore"&&i==="ignore"){if(ML.test(e)===!1)return n}else if(qL.test(e)===!1)return n;return LL(n,{protoAction:o,constructorAction:i,safe:r&&r.safe})}a(UL,"_parse");function LL(e,{protoAction:t="error",constructorAction:r="error",safe:n}={}){let o=[e];for(;o.length;){let i=o;o=[];for(let s of i){if(t!=="ignore"&&Object.prototype.hasOwnProperty.call(s,"__proto__")){if(n===!0)return null;if(t==="error")throw new SyntaxError("Object contains forbidden prototype property");delete s.__proto__}if(r!=="ignore"&&Object.prototype.hasOwnProperty.call(s,"constructor")&&Object.prototype.hasOwnProperty.call(s.constructor,"prototype")){if(n===!0)return null;if(r==="error")throw new SyntaxError("Object contains forbidden prototype property");delete s.constructor}for(let u in s){let l=s[u];l&&typeof l=="object"&&o.push(l)}}}return e}a(LL,"filter");function mC(e,t,r){let n=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return UL(e,t,r)}finally{Error.stackTraceLimit=n}}a(mC,"parse");function oce(e,t){let r=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return UL(e,t,{safe:!0})}catch{return null}finally{Error.stackTraceLimit=r}}a(oce,"safeParse");Yu.exports=mC;Yu.exports.default=mC;Yu.exports.parse=mC;Yu.exports.safeParse=oce;Yu.exports.scan=LL});var Ts=D((Ttt,IB)=>{"use strict";IB.exports=TypeError});var AB=D((ktt,OB)=>{OB.exports=Q7("util").inspect});var qp=D((Ett,WB)=>{var Y1=typeof Map=="function"&&Map.prototype,B1=Object.getOwnPropertyDescriptor&&Y1?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,ny=Y1&&B1&&typeof B1.get=="function"?B1.get:null,CB=Y1&&Map.prototype.forEach,eR=typeof Set=="function"&&Set.prototype,H1=Object.getOwnPropertyDescriptor&&eR?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,oy=eR&&H1&&typeof H1.get=="function"?H1.get:null,RB=eR&&Set.prototype.forEach,x_e=typeof WeakMap=="function"&&WeakMap.prototype,zp=x_e?WeakMap.prototype.has:null,T_e=typeof WeakSet=="function"&&WeakSet.prototype,Dp=T_e?WeakSet.prototype.has:null,k_e=typeof WeakRef=="function"&&WeakRef.prototype,$B=k_e?WeakRef.prototype.deref:null,E_e=Boolean.prototype.valueOf,P_e=Object.prototype.toString,I_e=Function.prototype.toString,O_e=String.prototype.match,tR=String.prototype.slice,za=String.prototype.replace,A_e=String.prototype.toUpperCase,NB=String.prototype.toLowerCase,JB=RegExp.prototype.test,jB=Array.prototype.concat,ri=Array.prototype.join,C_e=Array.prototype.slice,zB=Math.floor,K1=typeof BigInt=="function"?BigInt.prototype.valueOf:null,V1=Object.getOwnPropertySymbols,G1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Mp=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Tc||!0)?Symbol.toStringTag:null,BB=Object.prototype.propertyIsEnumerable,DB=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function MB(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||JB.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var n=e<0?-zB(-e):zB(e);if(n!==e){var o=String(n),i=tR.call(t,o.length+1);return za.call(o,r,"$&_")+"."+za.call(za.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return za.call(t,r,"$&_")}a(MB,"addNumericSeparator");var W1=AB(),qB=W1.custom,UB=ZB(qB)?qB:null,HB={__proto__:null,double:'"',single:"'"},R_e={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};WB.exports=a(function e(t,r,n,o){var i=r||{};if(Li(i,"quoteStyle")&&!Li(HB,i.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Li(i,"maxStringLength")&&(typeof i.maxStringLength=="number"?i.maxStringLength<0&&i.maxStringLength!==1/0:i.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=Li(i,"customInspect")?i.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Li(i,"indent")&&i.indent!==null&&i.indent!=="	"&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Li(i,"numericSeparator")&&typeof i.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var u=i.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return GB(t,i);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var l=String(t);return u?MB(t,l):l}if(typeof t=="bigint"){var d=String(t)+"n";return u?MB(t,d):d}var p=typeof i.depth>"u"?5:i.depth;if(typeof n>"u"&&(n=0),n>=p&&p>0&&typeof t=="object")return Q1(t)?"[Array]":"[Object]";var f=W_e(i,n);if(typeof o>"u")o=[];else if(KB(o,t)>=0)return"[Circular]";function m(Z,J,te){if(J&&(o=C_e.call(o),o.push(J)),te){var ne={depth:i.depth};return Li(i,"quoteStyle")&&(ne.quoteStyle=i.quoteStyle),e(Z,ne,n+1,o)}return e(Z,i,n+1,o)}if(a(m,"inspect"),typeof t=="function"&&!LB(t)){var y=L_e(t),g=ry(t,m);return"[Function"+(y?": "+y:" (anonymous)")+"]"+(g.length>0?" { "+ri.call(g,", ")+" }":"")}if(ZB(t)){var h=Tc?za.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):G1.call(t);return typeof t=="object"&&!Tc?jp(h):h}if(Z_e(t)){for(var v="<"+NB.call(String(t.nodeName)),S=t.attributes||[],b=0;b<S.length;b++)v+=" "+S[b].name+"="+VB($_e(S[b].value),"double",i);return v+=">",t.childNodes&&t.childNodes.length&&(v+="..."),v+="</"+NB.call(String(t.nodeName))+">",v}if(Q1(t)){if(t.length===0)return"[]";var w=ry(t,m);return f&&!G_e(w)?"["+X1(w,f)+"]":"[ "+ri.call(w,", ")+" ]"}if(j_e(t)){var k=ry(t,m);return!("cause"in Error.prototype)&&"cause"in t&&!BB.call(t,"cause")?"{ ["+String(t)+"] "+ri.call(jB.call("[cause]: "+m(t.cause),k),", ")+" }":k.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+ri.call(k,", ")+" }"}if(typeof t=="object"&&s){if(UB&&typeof t[UB]=="function"&&W1)return W1(t,{depth:p-n});if(s!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(F_e(t)){var $=[];return CB&&CB.call(t,function(Z,J){$.push(m(J,t,!0)+" => "+m(Z,t))}),FB("Map",ny.call(t),$,f)}if(H_e(t)){var A=[];return RB&&RB.call(t,function(Z){A.push(m(Z,t))}),FB("Set",oy.call(t),A,f)}if(J_e(t))return Z1("WeakMap");if(V_e(t))return Z1("WeakSet");if(B_e(t))return Z1("WeakRef");if(D_e(t))return jp(m(Number(t)));if(q_e(t))return jp(m(K1.call(t)));if(M_e(t))return jp(E_e.call(t));if(z_e(t))return jp(m(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(typeof globalThis<"u"&&t===globalThis||typeof global<"u"&&t===global)return"{ [object globalThis] }";if(!N_e(t)&&!LB(t)){var O=ry(t,m),R=DB?DB(t)===Object.prototype:t instanceof Object||t.constructor===Object,I=t instanceof Object?"":"null prototype",N=!R&&Mp&&Object(t)===t&&Mp in t?tR.call(Da(t),8,-1):I?"Object":"",z=R||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",X=z+(N||I?"["+ri.call(jB.call([],N||[],I||[]),": ")+"] ":"");return O.length===0?X+"{}":f?X+"{"+X1(O,f)+"}":X+"{ "+ri.call(O,", ")+" }"}return String(t)},"inspect_");function VB(e,t,r){var n=r.quoteStyle||t,o=HB[n];return o+e+o}a(VB,"wrapQuotes");function $_e(e){return za.call(String(e),/"/g,"&quot;")}a($_e,"quote");function ks(e){return!Mp||!(typeof e=="object"&&(Mp in e||typeof e[Mp]<"u"))}a(ks,"canTrustToString");function Q1(e){return Da(e)==="[object Array]"&&ks(e)}a(Q1,"isArray");function N_e(e){return Da(e)==="[object Date]"&&ks(e)}a(N_e,"isDate");function LB(e){return Da(e)==="[object RegExp]"&&ks(e)}a(LB,"isRegExp");function j_e(e){return Da(e)==="[object Error]"&&ks(e)}a(j_e,"isError");function z_e(e){return Da(e)==="[object String]"&&ks(e)}a(z_e,"isString");function D_e(e){return Da(e)==="[object Number]"&&ks(e)}a(D_e,"isNumber");function M_e(e){return Da(e)==="[object Boolean]"&&ks(e)}a(M_e,"isBoolean");function ZB(e){if(Tc)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!G1)return!1;try{return G1.call(e),!0}catch{}return!1}a(ZB,"isSymbol");function q_e(e){if(!e||typeof e!="object"||!K1)return!1;try{return K1.call(e),!0}catch{}return!1}a(q_e,"isBigInt");var U_e=Object.prototype.hasOwnProperty||function(e){return e in this};function Li(e,t){return U_e.call(e,t)}a(Li,"has");function Da(e){return P_e.call(e)}a(Da,"toStr");function L_e(e){if(e.name)return e.name;var t=O_e.call(I_e.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}a(L_e,"nameOf");function KB(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}a(KB,"indexOf");function F_e(e){if(!ny||!e||typeof e!="object")return!1;try{ny.call(e);try{oy.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}a(F_e,"isMap");function J_e(e){if(!zp||!e||typeof e!="object")return!1;try{zp.call(e,zp);try{Dp.call(e,Dp)}catch{return!0}return e instanceof WeakMap}catch{}return!1}a(J_e,"isWeakMap");function B_e(e){if(!$B||!e||typeof e!="object")return!1;try{return $B.call(e),!0}catch{}return!1}a(B_e,"isWeakRef");function H_e(e){if(!oy||!e||typeof e!="object")return!1;try{oy.call(e);try{ny.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}a(H_e,"isSet");function V_e(e){if(!Dp||!e||typeof e!="object")return!1;try{Dp.call(e,Dp);try{zp.call(e,zp)}catch{return!0}return e instanceof WeakSet}catch{}return!1}a(V_e,"isWeakSet");function Z_e(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}a(Z_e,"isElement");function GB(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return GB(tR.call(e,0,t.maxStringLength),t)+n}var o=R_e[t.quoteStyle||"single"];o.lastIndex=0;var i=za.call(za.call(e,o,"\\$1"),/[\x00-\x1f]/g,K_e);return VB(i,"single",t)}a(GB,"inspectString");function K_e(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+A_e.call(t.toString(16))}a(K_e,"lowbyte");function jp(e){return"Object("+e+")"}a(jp,"markBoxed");function Z1(e){return e+" { ? }"}a(Z1,"weakCollectionOf");function FB(e,t,r,n){var o=n?X1(r,n):ri.call(r,", ");return e+" ("+t+") {"+o+"}"}a(FB,"collectionOf");function G_e(e){for(var t=0;t<e.length;t++)if(KB(e[t],`
`)>=0)return!1;return!0}a(G_e,"singleLineValues");function W_e(e,t){var r;if(e.indent==="	")r="	";else if(typeof e.indent=="number"&&e.indent>0)r=ri.call(Array(e.indent+1)," ");else return null;return{base:r,prev:ri.call(Array(t+1),r)}}a(W_e,"getIndent");function X1(e,t){if(e.length===0)return"";var r=`
`+t.prev+t.base;return r+ri.call(e,","+r)+`
`+t.prev}a(X1,"indentedJoin");function ry(e,t){var r=Q1(e),n=[];if(r){n.length=e.length;for(var o=0;o<e.length;o++)n[o]=Li(e,o)?t(e[o],e):""}var i=typeof V1=="function"?V1(e):[],s;if(Tc){s={};for(var u=0;u<i.length;u++)s["$"+i[u]]=i[u]}for(var l in e)Li(e,l)&&(r&&String(Number(l))===l&&l<e.length||Tc&&s["$"+l]instanceof Symbol||(JB.call(/[^\w$]/,l)?n.push(t(l,e)+": "+t(e[l],e)):n.push(l+": "+t(e[l],e))));if(typeof V1=="function")for(var d=0;d<i.length;d++)BB.call(e,i[d])&&n.push("["+t(i[d])+"]: "+t(e[i[d]],e));return n}a(ry,"arrObjKeys")});var XB=D((Itt,QB)=>{"use strict";var Q_e=qp(),X_e=Ts(),iy=a(function(e,t,r){for(var n=e,o;(o=n.next)!=null;n=o)if(o.key===t)return n.next=o.next,r||(o.next=e.next,e.next=o),o},"listGetNode"),Y_e=a(function(e,t){if(e){var r=iy(e,t);return r&&r.value}},"listGet"),ebe=a(function(e,t,r){var n=iy(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}},"listSet"),tbe=a(function(e,t){return e?!!iy(e,t):!1},"listHas"),rbe=a(function(e,t){if(e)return iy(e,t,!0)},"listDelete");QB.exports=a(function(){var t,r={assert:a(function(n){if(!r.has(n))throw new X_e("Side channel does not contain "+Q_e(n))},"assert"),delete:a(function(n){var o=t&&t.next,i=rbe(t,n);return i&&o&&o===i&&(t=void 0),!!i},"delete"),get:a(function(n){return Y_e(t,n)},"get"),has:a(function(n){return tbe(t,n)},"has"),set:a(function(n,o){t||(t={next:void 0}),ebe(t,n,o)},"set")};return r},"getSideChannelList")});var rR=D((Att,YB)=>{"use strict";YB.exports=Object});var t5=D((Ctt,e5)=>{"use strict";e5.exports=Error});var n5=D((Rtt,r5)=>{"use strict";r5.exports=EvalError});var i5=D(($tt,o5)=>{"use strict";o5.exports=RangeError});var s5=D((Ntt,a5)=>{"use strict";a5.exports=ReferenceError});var c5=D((jtt,u5)=>{"use strict";u5.exports=SyntaxError});var d5=D((ztt,l5)=>{"use strict";l5.exports=URIError});var m5=D((Dtt,p5)=>{"use strict";p5.exports=Math.abs});var h5=D((Mtt,f5)=>{"use strict";f5.exports=Math.floor});var y5=D((qtt,g5)=>{"use strict";g5.exports=Math.max});var _5=D((Utt,v5)=>{"use strict";v5.exports=Math.min});var S5=D((Ltt,b5)=>{"use strict";b5.exports=Math.pow});var x5=D((Ftt,w5)=>{"use strict";w5.exports=Math.round});var k5=D((Jtt,T5)=>{"use strict";T5.exports=Number.isNaN||a(function(t){return t!==t},"isNaN")});var P5=D((Htt,E5)=>{"use strict";var nbe=k5();E5.exports=a(function(t){return nbe(t)||t===0?t:t<0?-1:1},"sign")});var O5=D((Ztt,I5)=>{"use strict";I5.exports=Object.getOwnPropertyDescriptor});var nR=D((Ktt,A5)=>{"use strict";var ay=O5();if(ay)try{ay([],"length")}catch{ay=null}A5.exports=ay});var R5=D((Gtt,C5)=>{"use strict";var sy=Object.defineProperty||!1;if(sy)try{sy({},"a",{value:1})}catch{sy=!1}C5.exports=sy});var N5=D((Wtt,$5)=>{"use strict";$5.exports=a(function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var o=42;t[r]=o;for(var i in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var s=Object.getOwnPropertySymbols(t);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var u=Object.getOwnPropertyDescriptor(t,r);if(u.value!==o||u.enumerable!==!0)return!1}return!0},"hasSymbols")});var D5=D((Xtt,z5)=>{"use strict";var j5=typeof Symbol<"u"&&Symbol,obe=N5();z5.exports=a(function(){return typeof j5!="function"||typeof Symbol!="function"||typeof j5("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:obe()},"hasNativeSymbols")});var oR=D((ert,M5)=>{"use strict";M5.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null});var iR=D((trt,q5)=>{"use strict";var ibe=rR();q5.exports=ibe.getPrototypeOf||null});var F5=D((rrt,L5)=>{"use strict";var abe="Function.prototype.bind called on incompatible ",sbe=Object.prototype.toString,ube=Math.max,cbe="[object Function]",U5=a(function(t,r){for(var n=[],o=0;o<t.length;o+=1)n[o]=t[o];for(var i=0;i<r.length;i+=1)n[i+t.length]=r[i];return n},"concatty"),lbe=a(function(t,r){for(var n=[],o=r||0,i=0;o<t.length;o+=1,i+=1)n[i]=t[o];return n},"slicy"),dbe=a(function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r},"joiny");L5.exports=a(function(t){var r=this;if(typeof r!="function"||sbe.apply(r)!==cbe)throw new TypeError(abe+r);for(var n=lbe(arguments,1),o,i=a(function(){if(this instanceof o){var p=r.apply(this,U5(n,arguments));return Object(p)===p?p:this}return r.apply(t,U5(n,arguments))},"binder"),s=ube(0,r.length-n.length),u=[],l=0;l<s;l++)u[l]="$"+l;if(o=Function("binder","return function ("+dbe(u,",")+"){ return binder.apply(this,arguments); }")(i),r.prototype){var d=a(function(){},"Empty");d.prototype=r.prototype,o.prototype=new d,d.prototype=null}return o},"bind")});var Up=D((ort,J5)=>{"use strict";var pbe=F5();J5.exports=Function.prototype.bind||pbe});var uy=D((irt,B5)=>{"use strict";B5.exports=Function.prototype.call});var aR=D((art,H5)=>{"use strict";H5.exports=Function.prototype.apply});var Z5=D((srt,V5)=>{"use strict";V5.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply});var G5=D((urt,K5)=>{"use strict";var mbe=Up(),fbe=aR(),hbe=uy(),gbe=Z5();K5.exports=gbe||mbe.call(hbe,fbe)});var sR=D((crt,W5)=>{"use strict";var ybe=Up(),vbe=Ts(),_be=uy(),bbe=G5();W5.exports=a(function(t){if(t.length<1||typeof t[0]!="function")throw new vbe("a function is required");return bbe(ybe,_be,t)},"callBindBasic")});var rH=D((drt,tH)=>{"use strict";var Sbe=sR(),Q5=nR(),Y5;try{Y5=[].__proto__===Array.prototype}catch(e){if(!e||typeof e!="object"||!("code"in e)||e.code!=="ERR_PROTO_ACCESS")throw e}var uR=!!Y5&&Q5&&Q5(Object.prototype,"__proto__"),eH=Object,X5=eH.getPrototypeOf;tH.exports=uR&&typeof uR.get=="function"?Sbe([uR.get]):typeof X5=="function"?a(function(t){return X5(t==null?t:eH(t))},"getDunder"):!1});var sH=D((mrt,aH)=>{"use strict";var nH=oR(),oH=iR(),iH=rH();aH.exports=nH?a(function(t){return nH(t)},"getProto"):oH?a(function(t){if(!t||typeof t!="object"&&typeof t!="function")throw new TypeError("getProto: not an object");return oH(t)},"getProto"):iH?a(function(t){return iH(t)},"getProto"):null});var cH=D((hrt,uH)=>{"use strict";var wbe=Function.prototype.call,xbe=Object.prototype.hasOwnProperty,Tbe=Up();uH.exports=Tbe.call(wbe,xbe)});var dy=D((grt,hH)=>{"use strict";var pt,kbe=rR(),Ebe=t5(),Pbe=n5(),Ibe=i5(),Obe=s5(),Ic=c5(),Pc=Ts(),Abe=d5(),Cbe=m5(),Rbe=h5(),$be=y5(),Nbe=_5(),jbe=S5(),zbe=x5(),Dbe=P5(),mH=Function,cR=a(function(e){try{return mH('"use strict"; return ('+e+").constructor;")()}catch{}},"getEvalledConstructor"),Lp=nR(),Mbe=R5(),lR=a(function(){throw new Pc},"throwTypeError"),qbe=Lp?(function(){try{return arguments.callee,lR}catch{try{return Lp(arguments,"callee").get}catch{return lR}}})():lR,kc=D5()(),Nr=sH(),Ube=iR(),Lbe=oR(),fH=aR(),Fp=uy(),Ec={},Fbe=typeof Uint8Array>"u"||!Nr?pt:Nr(Uint8Array),Es={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?pt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?pt:ArrayBuffer,"%ArrayIteratorPrototype%":kc&&Nr?Nr([][Symbol.iterator]()):pt,"%AsyncFromSyncIteratorPrototype%":pt,"%AsyncFunction%":Ec,"%AsyncGenerator%":Ec,"%AsyncGeneratorFunction%":Ec,"%AsyncIteratorPrototype%":Ec,"%Atomics%":typeof Atomics>"u"?pt:Atomics,"%BigInt%":typeof BigInt>"u"?pt:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?pt:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?pt:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?pt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Ebe,"%eval%":eval,"%EvalError%":Pbe,"%Float16Array%":typeof Float16Array>"u"?pt:Float16Array,"%Float32Array%":typeof Float32Array>"u"?pt:Float32Array,"%Float64Array%":typeof Float64Array>"u"?pt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?pt:FinalizationRegistry,"%Function%":mH,"%GeneratorFunction%":Ec,"%Int8Array%":typeof Int8Array>"u"?pt:Int8Array,"%Int16Array%":typeof Int16Array>"u"?pt:Int16Array,"%Int32Array%":typeof Int32Array>"u"?pt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":kc&&Nr?Nr(Nr([][Symbol.iterator]())):pt,"%JSON%":typeof JSON=="object"?JSON:pt,"%Map%":typeof Map>"u"?pt:Map,"%MapIteratorPrototype%":typeof Map>"u"||!kc||!Nr?pt:Nr(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":kbe,"%Object.getOwnPropertyDescriptor%":Lp,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?pt:Promise,"%Proxy%":typeof Proxy>"u"?pt:Proxy,"%RangeError%":Ibe,"%ReferenceError%":Obe,"%Reflect%":typeof Reflect>"u"?pt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?pt:Set,"%SetIteratorPrototype%":typeof Set>"u"||!kc||!Nr?pt:Nr(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?pt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":kc&&Nr?Nr(""[Symbol.iterator]()):pt,"%Symbol%":kc?Symbol:pt,"%SyntaxError%":Ic,"%ThrowTypeError%":qbe,"%TypedArray%":Fbe,"%TypeError%":Pc,"%Uint8Array%":typeof Uint8Array>"u"?pt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?pt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?pt:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?pt:Uint32Array,"%URIError%":Abe,"%WeakMap%":typeof WeakMap>"u"?pt:WeakMap,"%WeakRef%":typeof WeakRef>"u"?pt:WeakRef,"%WeakSet%":typeof WeakSet>"u"?pt:WeakSet,"%Function.prototype.call%":Fp,"%Function.prototype.apply%":fH,"%Object.defineProperty%":Mbe,"%Object.getPrototypeOf%":Ube,"%Math.abs%":Cbe,"%Math.floor%":Rbe,"%Math.max%":$be,"%Math.min%":Nbe,"%Math.pow%":jbe,"%Math.round%":zbe,"%Math.sign%":Dbe,"%Reflect.getPrototypeOf%":Lbe};if(Nr)try{null.error}catch(e){lH=Nr(Nr(e)),Es["%Error.prototype%"]=lH}var lH,Jbe=a(function e(t){var r;if(t==="%AsyncFunction%")r=cR("async function () {}");else if(t==="%GeneratorFunction%")r=cR("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=cR("async function* () {}");else if(t==="%AsyncGenerator%"){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var o=e("%AsyncGenerator%");o&&Nr&&(r=Nr(o.prototype))}return Es[t]=r,r},"doEval"),dH={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Jp=Up(),cy=cH(),Bbe=Jp.call(Fp,Array.prototype.concat),Hbe=Jp.call(fH,Array.prototype.splice),pH=Jp.call(Fp,String.prototype.replace),ly=Jp.call(Fp,String.prototype.slice),Vbe=Jp.call(Fp,RegExp.prototype.exec),Zbe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Kbe=/\\(\\)?/g,Gbe=a(function(t){var r=ly(t,0,1),n=ly(t,-1);if(r==="%"&&n!=="%")throw new Ic("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Ic("invalid intrinsic syntax, expected opening `%`");var o=[];return pH(t,Zbe,function(i,s,u,l){o[o.length]=u?pH(l,Kbe,"$1"):s||i}),o},"stringToPath"),Wbe=a(function(t,r){var n=t,o;if(cy(dH,n)&&(o=dH[n],n="%"+o[0]+"%"),cy(Es,n)){var i=Es[n];if(i===Ec&&(i=Jbe(n)),typeof i>"u"&&!r)throw new Pc("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:o,name:n,value:i}}throw new Ic("intrinsic "+t+" does not exist!")},"getBaseIntrinsic");hH.exports=a(function(t,r){if(typeof t!="string"||t.length===0)throw new Pc("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Pc('"allowMissing" argument must be a boolean');if(Vbe(/^%?[^%]*%?$/,t)===null)throw new Ic("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Gbe(t),o=n.length>0?n[0]:"",i=Wbe("%"+o+"%",r),s=i.name,u=i.value,l=!1,d=i.alias;d&&(o=d[0],Hbe(n,Bbe([0,1],d)));for(var p=1,f=!0;p<n.length;p+=1){var m=n[p],y=ly(m,0,1),g=ly(m,-1);if((y==='"'||y==="'"||y==="`"||g==='"'||g==="'"||g==="`")&&y!==g)throw new Ic("property names with quotes must have matching quotes");if((m==="constructor"||!f)&&(l=!0),o+="."+m,s="%"+o+"%",cy(Es,s))u=Es[s];else if(u!=null){if(!(m in u)){if(!r)throw new Pc("base intrinsic for "+t+" exists, but the property is not available.");return}if(Lp&&p+1>=n.length){var h=Lp(u,m);f=!!h,f&&"get"in h&&!("originalValue"in h.get)?u=h.get:u=u[m]}else f=cy(u,m),u=u[m];f&&!l&&(Es[s]=u)}}return u},"GetIntrinsic")});var dR=D((vrt,vH)=>{"use strict";var gH=dy(),yH=sR(),Qbe=yH([gH("%String.prototype.indexOf%")]);vH.exports=a(function(t,r){var n=gH(t,!!r);return typeof n=="function"&&Qbe(t,".prototype.")>-1?yH([n]):n},"callBoundIntrinsic")});var pR=D((brt,bH)=>{"use strict";var Xbe=dy(),Bp=dR(),Ybe=qp(),eSe=Ts(),_H=Xbe("%Map%",!0),tSe=Bp("Map.prototype.get",!0),rSe=Bp("Map.prototype.set",!0),nSe=Bp("Map.prototype.has",!0),oSe=Bp("Map.prototype.delete",!0),iSe=Bp("Map.prototype.size",!0);bH.exports=!!_H&&a(function(){var t,r={assert:a(function(n){if(!r.has(n))throw new eSe("Side channel does not contain "+Ybe(n))},"assert"),delete:a(function(n){if(t){var o=oSe(t,n);return iSe(t)===0&&(t=void 0),o}return!1},"delete"),get:a(function(n){if(t)return tSe(t,n)},"get"),has:a(function(n){return t?nSe(t,n):!1},"has"),set:a(function(n,o){t||(t=new _H),rSe(t,n,o)},"set")};return r},"getSideChannelMap")});var wH=D((wrt,SH)=>{"use strict";var aSe=dy(),my=dR(),sSe=qp(),py=pR(),uSe=Ts(),Oc=aSe("%WeakMap%",!0),cSe=my("WeakMap.prototype.get",!0),lSe=my("WeakMap.prototype.set",!0),dSe=my("WeakMap.prototype.has",!0),pSe=my("WeakMap.prototype.delete",!0);SH.exports=Oc?a(function(){var t,r,n={assert:a(function(o){if(!n.has(o))throw new uSe("Side channel does not contain "+sSe(o))},"assert"),delete:a(function(o){if(Oc&&o&&(typeof o=="object"||typeof o=="function")){if(t)return pSe(t,o)}else if(py&&r)return r.delete(o);return!1},"delete"),get:a(function(o){return Oc&&o&&(typeof o=="object"||typeof o=="function")&&t?cSe(t,o):r&&r.get(o)},"get"),has:a(function(o){return Oc&&o&&(typeof o=="object"||typeof o=="function")&&t?dSe(t,o):!!r&&r.has(o)},"has"),set:a(function(o,i){Oc&&o&&(typeof o=="object"||typeof o=="function")?(t||(t=new Oc),lSe(t,o,i)):py&&(r||(r=py()),r.set(o,i))},"set")};return n},"getSideChannelWeakMap"):py});var TH=D((Trt,xH)=>{"use strict";var mSe=Ts(),fSe=qp(),hSe=XB(),gSe=pR(),ySe=wH(),vSe=ySe||gSe||hSe;xH.exports=a(function(){var t,r={assert:a(function(n){if(!r.has(n))throw new mSe("Side channel does not contain "+fSe(n))},"assert"),delete:a(function(n){return!!t&&t.delete(n)},"delete"),get:a(function(n){return t&&t.get(n)},"get"),has:a(function(n){return!!t&&t.has(n)},"has"),set:a(function(n,o){t||(t=vSe()),t.set(n,o)},"set")};return r},"getSideChannel")});var fy=D((Ert,kH)=>{"use strict";var _Se=String.prototype.replace,bSe=/%20/g,mR={RFC1738:"RFC1738",RFC3986:"RFC3986"};kH.exports={default:mR.RFC3986,formatters:{RFC1738:a(function(e){return _Se.call(e,bSe,"+")},"RFC1738"),RFC3986:a(function(e){return String(e)},"RFC3986")},RFC1738:mR.RFC1738,RFC3986:mR.RFC3986}});var gR=D((Irt,PH)=>{"use strict";var SSe=fy(),fR=Object.prototype.hasOwnProperty,Ps=Array.isArray,ni=(function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),wSe=a(function(t){for(;t.length>1;){var r=t.pop(),n=r.obj[r.prop];if(Ps(n)){for(var o=[],i=0;i<n.length;++i)typeof n[i]<"u"&&o.push(n[i]);r.obj[r.prop]=o}}},"compactQueue"),EH=a(function(t,r){for(var n=r&&r.plainObjects?{__proto__:null}:{},o=0;o<t.length;++o)typeof t[o]<"u"&&(n[o]=t[o]);return n},"arrayToObject"),xSe=a(function e(t,r,n){if(!r)return t;if(typeof r!="object"&&typeof r!="function"){if(Ps(t))t.push(r);else if(t&&typeof t=="object")(n&&(n.plainObjects||n.allowPrototypes)||!fR.call(Object.prototype,r))&&(t[r]=!0);else return[t,r];return t}if(!t||typeof t!="object")return[t].concat(r);var o=t;return Ps(t)&&!Ps(r)&&(o=EH(t,n)),Ps(t)&&Ps(r)?(r.forEach(function(i,s){if(fR.call(t,s)){var u=t[s];u&&typeof u=="object"&&i&&typeof i=="object"?t[s]=e(u,i,n):t.push(i)}else t[s]=i}),t):Object.keys(r).reduce(function(i,s){var u=r[s];return fR.call(i,s)?i[s]=e(i[s],u,n):i[s]=u,i},o)},"merge"),TSe=a(function(t,r){return Object.keys(r).reduce(function(n,o){return n[o]=r[o],n},t)},"assignSingleSource"),kSe=a(function(e,t,r){var n=e.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},"decode"),hR=1024,ESe=a(function(t,r,n,o,i){if(t.length===0)return t;var s=t;if(typeof t=="symbol"?s=Symbol.prototype.toString.call(t):typeof t!="string"&&(s=String(t)),n==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(y){return"%26%23"+parseInt(y.slice(2),16)+"%3B"});for(var u="",l=0;l<s.length;l+=hR){for(var d=s.length>=hR?s.slice(l,l+hR):s,p=[],f=0;f<d.length;++f){var m=d.charCodeAt(f);if(m===45||m===46||m===95||m===126||m>=48&&m<=57||m>=65&&m<=90||m>=97&&m<=122||i===SSe.RFC1738&&(m===40||m===41)){p[p.length]=d.charAt(f);continue}if(m<128){p[p.length]=ni[m];continue}if(m<2048){p[p.length]=ni[192|m>>6]+ni[128|m&63];continue}if(m<55296||m>=57344){p[p.length]=ni[224|m>>12]+ni[128|m>>6&63]+ni[128|m&63];continue}f+=1,m=65536+((m&1023)<<10|d.charCodeAt(f)&1023),p[p.length]=ni[240|m>>18]+ni[128|m>>12&63]+ni[128|m>>6&63]+ni[128|m&63]}u+=p.join("")}return u},"encode"),PSe=a(function(t){for(var r=[{obj:{o:t},prop:"o"}],n=[],o=0;o<r.length;++o)for(var i=r[o],s=i.obj[i.prop],u=Object.keys(s),l=0;l<u.length;++l){var d=u[l],p=s[d];typeof p=="object"&&p!==null&&n.indexOf(p)===-1&&(r.push({obj:s,prop:d}),n.push(p))}return wSe(r),t},"compact"),ISe=a(function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},"isRegExp"),OSe=a(function(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},"isBuffer"),ASe=a(function(t,r){return[].concat(t,r)},"combine"),CSe=a(function(t,r){if(Ps(t)){for(var n=[],o=0;o<t.length;o+=1)n.push(r(t[o]));return n}return r(t)},"maybeMap");PH.exports={arrayToObject:EH,assign:TSe,combine:ASe,compact:PSe,decode:kSe,encode:ESe,isBuffer:OSe,isRegExp:ISe,maybeMap:CSe,merge:xSe}});var $H=D((Art,RH)=>{"use strict";var OH=TH(),hy=gR(),Hp=fy(),RSe=Object.prototype.hasOwnProperty,AH={brackets:a(function(t){return t+"[]"},"brackets"),comma:"comma",indices:a(function(t,r){return t+"["+r+"]"},"indices"),repeat:a(function(t){return t},"repeat")},oi=Array.isArray,$Se=Array.prototype.push,CH=a(function(e,t){$Se.apply(e,oi(t)?t:[t])},"pushToArray"),NSe=Date.prototype.toISOString,IH=Hp.default,Ir={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:hy.encode,encodeValuesOnly:!1,filter:void 0,format:IH,formatter:Hp.formatters[IH],indices:!1,serializeDate:a(function(t){return NSe.call(t)},"serializeDate"),skipNulls:!1,strictNullHandling:!1},jSe=a(function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"},"isNonNullishPrimitive"),yR={},zSe=a(function e(t,r,n,o,i,s,u,l,d,p,f,m,y,g,h,v,S,b){for(var w=t,k=b,$=0,A=!1;(k=k.get(yR))!==void 0&&!A;){var O=k.get(t);if($+=1,typeof O<"u"){if(O===$)throw new RangeError("Cyclic object value");A=!0}typeof k.get(yR)>"u"&&($=0)}if(typeof p=="function"?w=p(r,w):w instanceof Date?w=y(w):n==="comma"&&oi(w)&&(w=hy.maybeMap(w,function(Xe){return Xe instanceof Date?y(Xe):Xe})),w===null){if(s)return d&&!v?d(r,Ir.encoder,S,"key",g):r;w=""}if(jSe(w)||hy.isBuffer(w)){if(d){var R=v?r:d(r,Ir.encoder,S,"key",g);return[h(R)+"="+h(d(w,Ir.encoder,S,"value",g))]}return[h(r)+"="+h(String(w))]}var I=[];if(typeof w>"u")return I;var N;if(n==="comma"&&oi(w))v&&d&&(w=hy.maybeMap(w,d)),N=[{value:w.length>0?w.join(",")||null:void 0}];else if(oi(p))N=p;else{var z=Object.keys(w);N=f?z.sort(f):z}var X=l?String(r).replace(/\./g,"%2E"):String(r),Z=o&&oi(w)&&w.length===1?X+"[]":X;if(i&&oi(w)&&w.length===0)return Z+"[]";for(var J=0;J<N.length;++J){var te=N[J],ne=typeof te=="object"&&te&&typeof te.value<"u"?te.value:w[te];if(!(u&&ne===null)){var ae=m&&l?String(te).replace(/\./g,"%2E"):String(te),Se=oi(w)?typeof n=="function"?n(Z,ae):Z:Z+(m?"."+ae:"["+ae+"]");b.set(t,$);var ke=OH();ke.set(yR,b),CH(I,e(ne,Se,n,o,i,s,u,l,n==="comma"&&v&&oi(w)?null:d,p,f,m,y,g,h,v,S,ke))}}return I},"stringify"),DSe=a(function(t){if(!t)return Ir;if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=t.charset||Ir.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Hp.default;if(typeof t.format<"u"){if(!RSe.call(Hp.formatters,t.format))throw new TypeError("Unknown format option provided.");n=t.format}var o=Hp.formatters[n],i=Ir.filter;(typeof t.filter=="function"||oi(t.filter))&&(i=t.filter);var s;if(t.arrayFormat in AH?s=t.arrayFormat:"indices"in t?s=t.indices?"indices":"repeat":s=Ir.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u=typeof t.allowDots>"u"?t.encodeDotInKeys===!0?!0:Ir.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:Ir.addQueryPrefix,allowDots:u,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:Ir.allowEmptyArrays,arrayFormat:s,charset:r,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Ir.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?Ir.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:Ir.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:Ir.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:Ir.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:Ir.encodeValuesOnly,filter:i,format:n,formatter:o,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:Ir.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:Ir.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Ir.strictNullHandling}},"normalizeStringifyOptions");RH.exports=function(e,t){var r=e,n=DSe(t),o,i;typeof n.filter=="function"?(i=n.filter,r=i("",r)):oi(n.filter)&&(i=n.filter,o=i);var s=[];if(typeof r!="object"||r===null)return"";var u=AH[n.arrayFormat],l=u==="comma"&&n.commaRoundTrip;o||(o=Object.keys(r)),n.sort&&o.sort(n.sort);for(var d=OH(),p=0;p<o.length;++p){var f=o[p],m=r[f];n.skipNulls&&m===null||CH(s,zSe(m,f,u,l,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,d))}var y=s.join(n.delimiter),g=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?g+="utf8=%26%2310003%3B&":g+="utf8=%E2%9C%93&"),y.length>0?g+y:""}});var DH=D((Rrt,zH)=>{"use strict";var Is=gR(),vR=Object.prototype.hasOwnProperty,NH=Array.isArray,ur={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:Is.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},MSe=a(function(e){return e.replace(/&#(\d+);/g,function(t,r){return String.fromCharCode(parseInt(r,10))})},"interpretNumericEntities"),jH=a(function(e,t,r){if(e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1)return e.split(",");if(t.throwOnLimitExceeded&&r>=t.arrayLimit)throw new RangeError("Array limit exceeded. Only "+t.arrayLimit+" element"+(t.arrayLimit===1?"":"s")+" allowed in an array.");return e},"parseArrayValue"),qSe="utf8=%26%2310003%3B",USe="utf8=%E2%9C%93",LSe=a(function(t,r){var n={__proto__:null},o=r.ignoreQueryPrefix?t.replace(/^\?/,""):t;o=o.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var i=r.parameterLimit===1/0?void 0:r.parameterLimit,s=o.split(r.delimiter,r.throwOnLimitExceeded?i+1:i);if(r.throwOnLimitExceeded&&s.length>i)throw new RangeError("Parameter limit exceeded. Only "+i+" parameter"+(i===1?"":"s")+" allowed.");var u=-1,l,d=r.charset;if(r.charsetSentinel)for(l=0;l<s.length;++l)s[l].indexOf("utf8=")===0&&(s[l]===USe?d="utf-8":s[l]===qSe&&(d="iso-8859-1"),u=l,l=s.length);for(l=0;l<s.length;++l)if(l!==u){var p=s[l],f=p.indexOf("]="),m=f===-1?p.indexOf("="):f+1,y,g;m===-1?(y=r.decoder(p,ur.decoder,d,"key"),g=r.strictNullHandling?null:""):(y=r.decoder(p.slice(0,m),ur.decoder,d,"key"),g=Is.maybeMap(jH(p.slice(m+1),r,NH(n[y])?n[y].length:0),function(v){return r.decoder(v,ur.decoder,d,"value")})),g&&r.interpretNumericEntities&&d==="iso-8859-1"&&(g=MSe(String(g))),p.indexOf("[]=")>-1&&(g=NH(g)?[g]:g);var h=vR.call(n,y);h&&r.duplicates==="combine"?n[y]=Is.combine(n[y],g):(!h||r.duplicates==="last")&&(n[y]=g)}return n},"parseQueryStringValues"),FSe=a(function(e,t,r,n){var o=0;if(e.length>0&&e[e.length-1]==="[]"){var i=e.slice(0,-1).join("");o=Array.isArray(t)&&t[i]?t[i].length:0}for(var s=n?t:jH(t,r,o),u=e.length-1;u>=0;--u){var l,d=e[u];if(d==="[]"&&r.parseArrays)l=r.allowEmptyArrays&&(s===""||r.strictNullHandling&&s===null)?[]:Is.combine([],s);else{l=r.plainObjects?{__proto__:null}:{};var p=d.charAt(0)==="["&&d.charAt(d.length-1)==="]"?d.slice(1,-1):d,f=r.decodeDotInKeys?p.replace(/%2E/g,"."):p,m=parseInt(f,10);!r.parseArrays&&f===""?l={0:s}:!isNaN(m)&&d!==f&&String(m)===f&&m>=0&&r.parseArrays&&m<=r.arrayLimit?(l=[],l[m]=s):f!=="__proto__"&&(l[f]=s)}s=l}return s},"parseObject"),JSe=a(function(t,r,n,o){if(t){var i=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,s=/(\[[^[\]]*])/,u=/(\[[^[\]]*])/g,l=n.depth>0&&s.exec(i),d=l?i.slice(0,l.index):i,p=[];if(d){if(!n.plainObjects&&vR.call(Object.prototype,d)&&!n.allowPrototypes)return;p.push(d)}for(var f=0;n.depth>0&&(l=u.exec(i))!==null&&f<n.depth;){if(f+=1,!n.plainObjects&&vR.call(Object.prototype,l[1].slice(1,-1))&&!n.allowPrototypes)return;p.push(l[1])}if(l){if(n.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");p.push("["+i.slice(l.index)+"]")}return FSe(p,r,n,o)}},"parseQueryStringKeys"),BSe=a(function(t){if(!t)return ur;if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.decodeDotInKeys<"u"&&typeof t.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(t.decoder!==null&&typeof t.decoder<"u"&&typeof t.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof t.throwOnLimitExceeded<"u"&&typeof t.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var r=typeof t.charset>"u"?ur.charset:t.charset,n=typeof t.duplicates>"u"?ur.duplicates:t.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var o=typeof t.allowDots>"u"?t.decodeDotInKeys===!0?!0:ur.allowDots:!!t.allowDots;return{allowDots:o,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:ur.allowEmptyArrays,allowPrototypes:typeof t.allowPrototypes=="boolean"?t.allowPrototypes:ur.allowPrototypes,allowSparse:typeof t.allowSparse=="boolean"?t.allowSparse:ur.allowSparse,arrayLimit:typeof t.arrayLimit=="number"?t.arrayLimit:ur.arrayLimit,charset:r,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:ur.charsetSentinel,comma:typeof t.comma=="boolean"?t.comma:ur.comma,decodeDotInKeys:typeof t.decodeDotInKeys=="boolean"?t.decodeDotInKeys:ur.decodeDotInKeys,decoder:typeof t.decoder=="function"?t.decoder:ur.decoder,delimiter:typeof t.delimiter=="string"||Is.isRegExp(t.delimiter)?t.delimiter:ur.delimiter,depth:typeof t.depth=="number"||t.depth===!1?+t.depth:ur.depth,duplicates:n,ignoreQueryPrefix:t.ignoreQueryPrefix===!0,interpretNumericEntities:typeof t.interpretNumericEntities=="boolean"?t.interpretNumericEntities:ur.interpretNumericEntities,parameterLimit:typeof t.parameterLimit=="number"?t.parameterLimit:ur.parameterLimit,parseArrays:t.parseArrays!==!1,plainObjects:typeof t.plainObjects=="boolean"?t.plainObjects:ur.plainObjects,strictDepth:typeof t.strictDepth=="boolean"?!!t.strictDepth:ur.strictDepth,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:ur.strictNullHandling,throwOnLimitExceeded:typeof t.throwOnLimitExceeded=="boolean"?t.throwOnLimitExceeded:!1}},"normalizeParseOptions");zH.exports=function(e,t){var r=BSe(t);if(e===""||e===null||typeof e>"u")return r.plainObjects?{__proto__:null}:{};for(var n=typeof e=="string"?LSe(e,r):e,o=r.plainObjects?{__proto__:null}:{},i=Object.keys(n),s=0;s<i.length;++s){var u=i[s],l=JSe(u,n[u],r,typeof e=="string");o=Is.merge(o,l,r)}return r.allowSparse===!0?o:Is.compact(o)}});var qH=D((Nrt,MH)=>{"use strict";var HSe=$H(),VSe=DH(),ZSe=fy();MH.exports={formats:ZSe,parse:VSe,stringify:HSe}});var iv=D(ov=>{"use strict";Object.defineProperty(ov,"__esModule",{value:!0});ov.ApplicationInSerializer=void 0;ov.ApplicationInSerializer={_fromJsonObject(e){return{metadata:e.metadata,name:e.name,rateLimit:e.rateLimit,uid:e.uid}},_toJsonObject(e){return{metadata:e.metadata,name:e.name,rateLimit:e.rateLimit,uid:e.uid}}}});var i$=D(av=>{"use strict";Object.defineProperty(av,"__esModule",{value:!0});av.ApplicationOutSerializer=void 0;av.ApplicationOutSerializer={_fromJsonObject(e){return{createdAt:new Date(e.createdAt),id:e.id,metadata:e.metadata,name:e.name,rateLimit:e.rateLimit,uid:e.uid,updatedAt:new Date(e.updatedAt)}},_toJsonObject(e){return{createdAt:e.createdAt,id:e.id,metadata:e.metadata,name:e.name,rateLimit:e.rateLimit,uid:e.uid,updatedAt:e.updatedAt}}}});var $8=D(sv=>{"use strict";Object.defineProperty(sv,"__esModule",{value:!0});sv.ApplicationPatchSerializer=void 0;sv.ApplicationPatchSerializer={_fromJsonObject(e){return{metadata:e.metadata,name:e.name,rateLimit:e.rateLimit,uid:e.uid}},_toJsonObject(e){return{metadata:e.metadata,name:e.name,rateLimit:e.rateLimit,uid:e.uid}}}});var j8=D(uv=>{"use strict";Object.defineProperty(uv,"__esModule",{value:!0});uv.ListResponseApplicationOutSerializer=void 0;var N8=i$();uv.ListResponseApplicationOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>N8.ApplicationOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>N8.ApplicationOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var s$=D(cv=>{"use strict";Object.defineProperty(cv,"__esModule",{value:!0});cv.ApiException=void 0;var a$=class extends Error{static{a(this,"ApiException")}constructor(t,r,n){super(`HTTP-Code: ${t}
Headers: ${JSON.stringify(n)}`),this.code=t,this.body=r,this.headers={},n.forEach((o,i)=>{this.headers[i]=o})}};cv.ApiException=a$});var z8,D8=K(()=>{z8="ffffffff-ffff-ffff-ffff-ffffffffffff"});var M8,q8=K(()=>{M8="00000000-0000-0000-0000-000000000000"});var U8,L8=K(()=>{U8=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i});function $xe(e){return typeof e=="string"&&U8.test(e)}var Ba,wm=K(()=>{L8();a($xe,"validate");Ba=$xe});function Nxe(e){if(!Ba(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var Ha,xm=K(()=>{wm();a(Nxe,"parse");Ha=Nxe});function hn(e,t=0){return(Br[e[t+0]]+Br[e[t+1]]+Br[e[t+2]]+Br[e[t+3]]+"-"+Br[e[t+4]]+Br[e[t+5]]+"-"+Br[e[t+6]]+Br[e[t+7]]+"-"+Br[e[t+8]]+Br[e[t+9]]+"-"+Br[e[t+10]]+Br[e[t+11]]+Br[e[t+12]]+Br[e[t+13]]+Br[e[t+14]]+Br[e[t+15]]).toLowerCase()}function jxe(e,t=0){let r=hn(e,t);if(!Ba(r))throw TypeError("Stringified UUID is invalid");return r}var Br,F8,Vi=K(()=>{wm();Br=[];for(let e=0;e<256;++e)Br.push((e+256).toString(16).slice(1));a(hn,"unsafeStringify");a(jxe,"stringify");F8=jxe});import zxe from"node:crypto";function zs(){return lv>dv.length-16&&(zxe.randomFillSync(dv),lv=0),dv.slice(lv,lv+=16)}var dv,lv,pv=K(()=>{dv=new Uint8Array(256),lv=dv.length;a(zs,"rng")});function Dxe(e,t,r){let n=t&&r||0,o=t||new Array(16);e=e||{};let i=e.node,s=e.clockseq;if(e._v6||(i||(i=u$),s==null&&(s=mv)),i==null||s==null){let m=e.random||(e.rng||zs)();i==null&&(i=[m[0],m[1],m[2],m[3],m[4],m[5]],!u$&&!e._v6&&(i[0]|=1,u$=i)),s==null&&(s=(m[6]<<8|m[7])&16383,mv===void 0&&!e._v6&&(mv=s))}let u=e.msecs!==void 0?e.msecs:Date.now(),l=e.nsecs!==void 0?e.nsecs:l$+1,d=u-c$+(l-l$)/1e4;if(d<0&&e.clockseq===void 0&&(s=s+1&16383),(d<0||u>c$)&&e.nsecs===void 0&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c$=u,l$=l,mv=s,u+=122192928e5;let p=((u&268435455)*1e4+l)%4294967296;o[n++]=p>>>24&255,o[n++]=p>>>16&255,o[n++]=p>>>8&255,o[n++]=p&255;let f=u/4294967296*1e4&268435455;o[n++]=f>>>8&255,o[n++]=f&255,o[n++]=f>>>24&15|16,o[n++]=f>>>16&255,o[n++]=s>>>8|128,o[n++]=s&255;for(let m=0;m<6;++m)o[n+m]=i[m];return t||hn(o)}var u$,mv,c$,l$,fv,d$=K(()=>{pv();Vi();c$=0,l$=0;a(Dxe,"v1");fv=Dxe});function Tm(e){let t=typeof e=="string"?Ha(e):e,r=Mxe(t);return typeof e=="string"?hn(r):r}function Mxe(e,t=!1){return Uint8Array.of((e[6]&15)<<4|e[7]>>4&15,(e[7]&15)<<4|(e[4]&240)>>4,(e[4]&15)<<4|(e[5]&240)>>4,(e[5]&15)<<4|(e[0]&240)>>4,(e[0]&15)<<4|(e[1]&240)>>4,(e[1]&15)<<4|(e[2]&240)>>4,96|e[2]&15,e[3],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}var p$=K(()=>{xm();Vi();a(Tm,"v1ToV6");a(Mxe,"_v1ToV6")});function qxe(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function km(e,t,r){function n(o,i,s,u){var l;if(typeof o=="string"&&(o=qxe(o)),typeof i=="string"&&(i=Ha(i)),((l=i)===null||l===void 0?void 0:l.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let d=new Uint8Array(16+o.length);if(d.set(i),d.set(o,i.length),d=r(d),d[6]=d[6]&15|t,d[8]=d[8]&63|128,s){u=u||0;for(let p=0;p<16;++p)s[u+p]=d[p];return s}return hn(d)}a(n,"generateUUID");try{n.name=e}catch{}return n.DNS=Uxe,n.URL=Lxe,n}var Uxe,Lxe,m$=K(()=>{Vi();xm();a(qxe,"stringToBytes");Uxe="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Lxe="6ba7b811-9dad-11d1-80b4-00c04fd430c8";a(km,"v35")});import Fxe from"node:crypto";function Jxe(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),Fxe.createHash("md5").update(e).digest()}var J8,B8=K(()=>{a(Jxe,"md5");J8=Jxe});var Bxe,H8,V8=K(()=>{m$();B8();Bxe=km("v3",48,J8),H8=Bxe});import Hxe from"node:crypto";var f$,Z8=K(()=>{f$={randomUUID:Hxe.randomUUID}});function Vxe(e,t,r){if(f$.randomUUID&&!t&&!e)return f$.randomUUID();e=e||{};let n=e.random||(e.rng||zs)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return hn(n)}var K8,G8=K(()=>{Z8();pv();Vi();a(Vxe,"v4");K8=Vxe});import Zxe from"node:crypto";function Kxe(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),Zxe.createHash("sha1").update(e).digest()}var W8,Q8=K(()=>{a(Kxe,"sha1");W8=Kxe});var Gxe,X8,Y8=K(()=>{m$();Q8();Gxe=km("v5",80,W8),X8=Gxe});function h$(e={},t,r=0){let n=fv({...e,_v6:!0},new Uint8Array(16));if(n=Tm(n),t){for(let o=0;o<16;o++)t[r+o]=n[o];return t}return hn(n)}var eZ=K(()=>{Vi();d$();p$();a(h$,"v6")});function g$(e){let t=typeof e=="string"?Ha(e):e,r=Wxe(t);return typeof e=="string"?hn(r):r}function Wxe(e){return Uint8Array.of((e[3]&15)<<4|e[4]>>4&15,(e[4]&15)<<4|(e[5]&240)>>4,(e[5]&15)<<4|e[6]&15,e[7],(e[1]&15)<<4|(e[2]&240)>>4,(e[2]&15)<<4|(e[3]&240)>>4,16|(e[0]&240)>>4,(e[0]&15)<<4|(e[1]&240)>>4,e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}var tZ=K(()=>{xm();Vi();a(g$,"v6ToV1");a(Wxe,"_v6ToV1")});function Qxe(e,t,r){e=e||{};let n=t&&r||0,o=t||new Uint8Array(16),i=e.random||(e.rng||zs)(),s=e.msecs!==void 0?e.msecs:Date.now(),u=e.seq!==void 0?e.seq:null,l=nZ,d=rZ;return s>zo&&e.msecs===void 0&&(zo=s,u!==null&&(l=null,d=null)),u!==null&&(u>2147483647&&(u=2147483647),l=u>>>19&4095,d=u&524287),(l===null||d===null)&&(l=i[6]&127,l=l<<8|i[7],d=i[8]&63,d=d<<8|i[9],d=d<<5|i[10]>>>3),s+1e4>zo&&u===null?++d>524287&&(d=0,++l>4095&&(l=0,zo++)):zo=s,nZ=l,rZ=d,o[n++]=zo/1099511627776&255,o[n++]=zo/4294967296&255,o[n++]=zo/16777216&255,o[n++]=zo/65536&255,o[n++]=zo/256&255,o[n++]=zo&255,o[n++]=l>>>4&15|112,o[n++]=l&255,o[n++]=d>>>13&63|128,o[n++]=d>>>5&255,o[n++]=d<<3&255|i[10]&7,o[n++]=i[11],o[n++]=i[12],o[n++]=i[13],o[n++]=i[14],o[n++]=i[15],t||hn(o)}var rZ,nZ,zo,oZ,iZ=K(()=>{pv();Vi();rZ=null,nZ=null,zo=0;a(Qxe,"v7");oZ=Qxe});function Xxe(e){if(!Ba(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var aZ,sZ=K(()=>{wm();a(Xxe,"version");aZ=Xxe});var uZ={};yn(uZ,{MAX:()=>z8,NIL:()=>M8,parse:()=>Ha,stringify:()=>F8,v1:()=>fv,v1ToV6:()=>Tm,v3:()=>H8,v4:()=>K8,v5:()=>X8,v6:()=>h$,v6ToV1:()=>g$,v7:()=>oZ,validate:()=>Ba,version:()=>aZ});var cZ=K(()=>{D8();q8();xm();Vi();d$();p$();V8();G8();Y8();eZ();tZ();iZ();wm();sZ()});var rr=D(no=>{"use strict";var Em=no&&no.__awaiter||function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return a(o,"adopt"),new(r||(r=Promise))(function(i,s){function u(p){try{d(n.next(p))}catch(f){s(f)}}a(u,"fulfilled");function l(p){try{d(n.throw(p))}catch(f){s(f)}}a(l,"rejected");function d(p){p.done?i(p.value):o(p.value).then(u,l)}a(d,"step"),d((n=n.apply(e,t||[])).next())})};Object.defineProperty(no,"__esModule",{value:!0});no.SvixRequest=no.HttpMethod=no.LIB_VERSION=void 0;var y$=s$(),Yxe=(cZ(),X7(uZ));no.LIB_VERSION="1.81.0";var e0e=`svix-libs/${no.LIB_VERSION}/javascript`,t0e;(function(e){e.GET="GET",e.HEAD="HEAD",e.POST="POST",e.PUT="PUT",e.DELETE="DELETE",e.CONNECT="CONNECT",e.OPTIONS="OPTIONS",e.TRACE="TRACE",e.PATCH="PATCH"})(t0e=no.HttpMethod||(no.HttpMethod={}));var v$=class{static{a(this,"SvixRequest")}constructor(t,r){this.method=t,this.path=r,this.queryParams={},this.headerParams={}}setPathParam(t,r){let n=this.path.replace(`{${t}}`,encodeURIComponent(r));if(this.path===n)throw new Error(`path parameter ${t} not found`);this.path=n}setQueryParam(t,r){if(r!=null)if(typeof r=="string")this.queryParams[t]=r;else if(typeof r=="boolean"||typeof r=="number")this.queryParams[t]=r.toString();else if(r instanceof Date)this.queryParams[t]=r.toISOString();else if(Array.isArray(r))r.length>0&&(this.queryParams[t]=r.join(","));else{let n=r;throw new Error(`query parameter ${t} has unsupported type`)}}setHeaderParam(t,r){r!==void 0&&(this.headerParams[t]=r)}setBody(t){this.body=JSON.stringify(t)}send(t,r){return Em(this,void 0,void 0,function*(){let n=yield this.sendInner(t);if(n.status===204)return null;let o=yield n.text();return r(JSON.parse(o))})}sendNoResponseBody(t){return Em(this,void 0,void 0,function*(){yield this.sendInner(t)})}sendInner(t){var r,n;return Em(this,void 0,void 0,function*(){let o=new URL(t.baseUrl+this.path);for(let[l,d]of Object.entries(this.queryParams))o.searchParams.set(l,d);this.headerParams["idempotency-key"]===void 0&&this.method.toUpperCase()==="POST"&&(this.headerParams["idempotency-key"]=`auto_${(0,Yxe.v4)()}`);let i=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER);this.body!=null&&(this.headerParams["content-type"]="application/json");let s="credentials"in Request.prototype,u=yield lZ(o,{method:this.method.toString(),body:this.body,headers:Object.assign({accept:"application/json, */*;q=0.8",authorization:`Bearer ${t.token}`,"user-agent":e0e,"svix-req-id":i.toString()},this.headerParams),credentials:s?"same-origin":void 0,signal:t.timeout!==void 0?AbortSignal.timeout(t.timeout):void 0},t.retryScheduleInMs,(r=t.retryScheduleInMs)===null||r===void 0?void 0:r[0],((n=t.retryScheduleInMs)===null||n===void 0?void 0:n.length)||t.numRetries,t.fetch);return r0e(u)})}};no.SvixRequest=v$;function r0e(e){return Em(this,void 0,void 0,function*(){if(e.status<300)return e;let t=yield e.text();throw e.status===422?new y$.ApiException(e.status,JSON.parse(t),e.headers):e.status>=400&&e.status<=499?new y$.ApiException(e.status,JSON.parse(t),e.headers):new y$.ApiException(e.status,t,e.headers)})}a(r0e,"filterResponseForErrors");function lZ(e,t,r,n=50,o=2,i=fetch,s=1){return Em(this,void 0,void 0,function*(){let u=a(l=>new Promise(d=>setTimeout(d,l)),"sleep");try{let l=yield i(e,t);if(o<=0||l.status<500)return l}catch(l){if(o<=0)throw l}return yield u(n),t.headers["svix-retry-count"]=s.toString(),n=r?.[s]||n*2,yield lZ(e,t,r,n,--o,i,++s)})}a(lZ,"sendWithRetry")});var dZ=D(hv=>{"use strict";Object.defineProperty(hv,"__esModule",{value:!0});hv.Application=void 0;var _$=iv(),Pm=i$(),n0e=$8(),o0e=j8(),Pn=rr(),b$=class{static{a(this,"Application")}constructor(t){this.requestCtx=t}list(t){let r=new Pn.SvixRequest(Pn.HttpMethod.GET,"/api/v1/app");return r.setQueryParam("limit",t?.limit),r.setQueryParam("iterator",t?.iterator),r.setQueryParam("order",t?.order),r.send(this.requestCtx,o0e.ListResponseApplicationOutSerializer._fromJsonObject)}create(t,r){let n=new Pn.SvixRequest(Pn.HttpMethod.POST,"/api/v1/app");return n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.setBody(_$.ApplicationInSerializer._toJsonObject(t)),n.send(this.requestCtx,Pm.ApplicationOutSerializer._fromJsonObject)}getOrCreate(t,r){let n=new Pn.SvixRequest(Pn.HttpMethod.POST,"/api/v1/app");return n.setQueryParam("get_if_exists",!0),n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.setBody(_$.ApplicationInSerializer._toJsonObject(t)),n.send(this.requestCtx,Pm.ApplicationOutSerializer._fromJsonObject)}get(t){let r=new Pn.SvixRequest(Pn.HttpMethod.GET,"/api/v1/app/{app_id}");return r.setPathParam("app_id",t),r.send(this.requestCtx,Pm.ApplicationOutSerializer._fromJsonObject)}update(t,r){let n=new Pn.SvixRequest(Pn.HttpMethod.PUT,"/api/v1/app/{app_id}");return n.setPathParam("app_id",t),n.setBody(_$.ApplicationInSerializer._toJsonObject(r)),n.send(this.requestCtx,Pm.ApplicationOutSerializer._fromJsonObject)}delete(t){let r=new Pn.SvixRequest(Pn.HttpMethod.DELETE,"/api/v1/app/{app_id}");return r.setPathParam("app_id",t),r.sendNoResponseBody(this.requestCtx)}patch(t,r){let n=new Pn.SvixRequest(Pn.HttpMethod.PATCH,"/api/v1/app/{app_id}");return n.setPathParam("app_id",t),n.setBody(n0e.ApplicationPatchSerializer._toJsonObject(r)),n.send(this.requestCtx,Pm.ApplicationOutSerializer._fromJsonObject)}};hv.Application=b$});var pZ=D(gv=>{"use strict";Object.defineProperty(gv,"__esModule",{value:!0});gv.ApiTokenOutSerializer=void 0;gv.ApiTokenOutSerializer={_fromJsonObject(e){return{createdAt:new Date(e.createdAt),expiresAt:e.expiresAt?new Date(e.expiresAt):null,id:e.id,name:e.name,scopes:e.scopes,token:e.token}},_toJsonObject(e){return{createdAt:e.createdAt,expiresAt:e.expiresAt,id:e.id,name:e.name,scopes:e.scopes,token:e.token}}}});var S$=D(Ds=>{"use strict";Object.defineProperty(Ds,"__esModule",{value:!0});Ds.AppPortalCapabilitySerializer=Ds.AppPortalCapability=void 0;var i0e;(function(e){e.ViewBase="ViewBase",e.ViewEndpointSecret="ViewEndpointSecret",e.ManageEndpointSecret="ManageEndpointSecret",e.ManageTransformations="ManageTransformations",e.CreateAttempts="CreateAttempts",e.ManageEndpoint="ManageEndpoint"})(i0e=Ds.AppPortalCapability||(Ds.AppPortalCapability={}));Ds.AppPortalCapabilitySerializer={_fromJsonObject(e){return e},_toJsonObject(e){return e}}});var hZ=D(yv=>{"use strict";Object.defineProperty(yv,"__esModule",{value:!0});yv.AppPortalAccessInSerializer=void 0;var mZ=S$(),fZ=iv();yv.AppPortalAccessInSerializer={_fromJsonObject(e){var t;return{application:e.application?fZ.ApplicationInSerializer._fromJsonObject(e.application):void 0,capabilities:(t=e.capabilities)===null||t===void 0?void 0:t.map(r=>mZ.AppPortalCapabilitySerializer._fromJsonObject(r)),expiry:e.expiry,featureFlags:e.featureFlags,readOnly:e.readOnly,sessionId:e.sessionId}},_toJsonObject(e){var t;return{application:e.application?fZ.ApplicationInSerializer._toJsonObject(e.application):void 0,capabilities:(t=e.capabilities)===null||t===void 0?void 0:t.map(r=>mZ.AppPortalCapabilitySerializer._toJsonObject(r)),expiry:e.expiry,featureFlags:e.featureFlags,readOnly:e.readOnly,sessionId:e.sessionId}}}});var gZ=D(vv=>{"use strict";Object.defineProperty(vv,"__esModule",{value:!0});vv.AppPortalAccessOutSerializer=void 0;vv.AppPortalAccessOutSerializer={_fromJsonObject(e){return{token:e.token,url:e.url}},_toJsonObject(e){return{token:e.token,url:e.url}}}});var yZ=D(_v=>{"use strict";Object.defineProperty(_v,"__esModule",{value:!0});_v.ApplicationTokenExpireInSerializer=void 0;_v.ApplicationTokenExpireInSerializer={_fromJsonObject(e){return{expiry:e.expiry,sessionIds:e.sessionIds}},_toJsonObject(e){return{expiry:e.expiry,sessionIds:e.sessionIds}}}});var vZ=D(bv=>{"use strict";Object.defineProperty(bv,"__esModule",{value:!0});bv.RotatePollerTokenInSerializer=void 0;bv.RotatePollerTokenInSerializer={_fromJsonObject(e){return{expiry:e.expiry,oldTokenExpiry:e.oldTokenExpiry}},_toJsonObject(e){return{expiry:e.expiry,oldTokenExpiry:e.oldTokenExpiry}}}});var _Z=D(Sv=>{"use strict";Object.defineProperty(Sv,"__esModule",{value:!0});Sv.StreamPortalAccessInSerializer=void 0;Sv.StreamPortalAccessInSerializer={_fromJsonObject(e){return{expiry:e.expiry,featureFlags:e.featureFlags,sessionId:e.sessionId}},_toJsonObject(e){return{expiry:e.expiry,featureFlags:e.featureFlags,sessionId:e.sessionId}}}});var w$=D(wv=>{"use strict";Object.defineProperty(wv,"__esModule",{value:!0});wv.DashboardAccessOutSerializer=void 0;wv.DashboardAccessOutSerializer={_fromJsonObject(e){return{token:e.token,url:e.url}},_toJsonObject(e){return{token:e.token,url:e.url}}}});var wZ=D(xv=>{"use strict";Object.defineProperty(xv,"__esModule",{value:!0});xv.Authentication=void 0;var bZ=pZ(),a0e=hZ(),SZ=gZ(),s0e=yZ(),u0e=vZ(),c0e=_Z(),l0e=w$(),In=rr(),x$=class{static{a(this,"Authentication")}constructor(t){this.requestCtx=t}appPortalAccess(t,r,n){let o=new In.SvixRequest(In.HttpMethod.POST,"/api/v1/auth/app-portal-access/{app_id}");return o.setPathParam("app_id",t),o.setHeaderParam("idempotency-key",n?.idempotencyKey),o.setBody(a0e.AppPortalAccessInSerializer._toJsonObject(r)),o.send(this.requestCtx,SZ.AppPortalAccessOutSerializer._fromJsonObject)}expireAll(t,r,n){let o=new In.SvixRequest(In.HttpMethod.POST,"/api/v1/auth/app/{app_id}/expire-all");return o.setPathParam("app_id",t),o.setHeaderParam("idempotency-key",n?.idempotencyKey),o.setBody(s0e.ApplicationTokenExpireInSerializer._toJsonObject(r)),o.sendNoResponseBody(this.requestCtx)}dashboardAccess(t,r){let n=new In.SvixRequest(In.HttpMethod.POST,"/api/v1/auth/dashboard-access/{app_id}");return n.setPathParam("app_id",t),n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.send(this.requestCtx,l0e.DashboardAccessOutSerializer._fromJsonObject)}logout(t){let r=new In.SvixRequest(In.HttpMethod.POST,"/api/v1/auth/logout");return r.setHeaderParam("idempotency-key",t?.idempotencyKey),r.sendNoResponseBody(this.requestCtx)}streamPortalAccess(t,r,n){let o=new In.SvixRequest(In.HttpMethod.POST,"/api/v1/auth/stream-portal-access/{stream_id}");return o.setPathParam("stream_id",t),o.setHeaderParam("idempotency-key",n?.idempotencyKey),o.setBody(c0e.StreamPortalAccessInSerializer._toJsonObject(r)),o.send(this.requestCtx,SZ.AppPortalAccessOutSerializer._fromJsonObject)}getStreamPollerToken(t,r){let n=new In.SvixRequest(In.HttpMethod.GET,"/api/v1/auth/stream/{stream_id}/sink/{sink_id}/poller/token");return n.setPathParam("stream_id",t),n.setPathParam("sink_id",r),n.send(this.requestCtx,bZ.ApiTokenOutSerializer._fromJsonObject)}rotateStreamPollerToken(t,r,n,o){let i=new In.SvixRequest(In.HttpMethod.POST,"/api/v1/auth/stream/{stream_id}/sink/{sink_id}/poller/token/rotate");return i.setPathParam("stream_id",t),i.setPathParam("sink_id",r),i.setHeaderParam("idempotency-key",o?.idempotencyKey),i.setBody(u0e.RotatePollerTokenInSerializer._toJsonObject(n)),i.send(this.requestCtx,bZ.ApiTokenOutSerializer._fromJsonObject)}};xv.Authentication=x$});var Va=D(Ms=>{"use strict";Object.defineProperty(Ms,"__esModule",{value:!0});Ms.BackgroundTaskStatusSerializer=Ms.BackgroundTaskStatus=void 0;var d0e;(function(e){e.Running="running",e.Finished="finished",e.Failed="failed"})(d0e=Ms.BackgroundTaskStatus||(Ms.BackgroundTaskStatus={}));Ms.BackgroundTaskStatusSerializer={_fromJsonObject(e){return e},_toJsonObject(e){return e}}});var Za=D(qs=>{"use strict";Object.defineProperty(qs,"__esModule",{value:!0});qs.BackgroundTaskTypeSerializer=qs.BackgroundTaskType=void 0;var p0e;(function(e){e.EndpointReplay="endpoint.replay",e.EndpointRecover="endpoint.recover",e.ApplicationStats="application.stats",e.MessageBroadcast="message.broadcast",e.SdkGenerate="sdk.generate",e.EventTypeAggregate="event-type.aggregate",e.ApplicationPurgeContent="application.purge_content"})(p0e=qs.BackgroundTaskType||(qs.BackgroundTaskType={}));qs.BackgroundTaskTypeSerializer={_fromJsonObject(e){return e},_toJsonObject(e){return e}}});var T$=D(Tv=>{"use strict";Object.defineProperty(Tv,"__esModule",{value:!0});Tv.BackgroundTaskOutSerializer=void 0;var xZ=Va(),TZ=Za();Tv.BackgroundTaskOutSerializer={_fromJsonObject(e){return{data:e.data,id:e.id,status:xZ.BackgroundTaskStatusSerializer._fromJsonObject(e.status),task:TZ.BackgroundTaskTypeSerializer._fromJsonObject(e.task)}},_toJsonObject(e){return{data:e.data,id:e.id,status:xZ.BackgroundTaskStatusSerializer._toJsonObject(e.status),task:TZ.BackgroundTaskTypeSerializer._toJsonObject(e.task)}}}});var EZ=D(kv=>{"use strict";Object.defineProperty(kv,"__esModule",{value:!0});kv.ListResponseBackgroundTaskOutSerializer=void 0;var kZ=T$();kv.ListResponseBackgroundTaskOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>kZ.BackgroundTaskOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>kZ.BackgroundTaskOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var PZ=D(Pv=>{"use strict";Object.defineProperty(Pv,"__esModule",{value:!0});Pv.BackgroundTask=void 0;var m0e=T$(),f0e=EZ(),Ev=rr(),k$=class{static{a(this,"BackgroundTask")}constructor(t){this.requestCtx=t}list(t){let r=new Ev.SvixRequest(Ev.HttpMethod.GET,"/api/v1/background-task");return r.setQueryParam("status",t?.status),r.setQueryParam("task",t?.task),r.setQueryParam("limit",t?.limit),r.setQueryParam("iterator",t?.iterator),r.setQueryParam("order",t?.order),r.send(this.requestCtx,f0e.ListResponseBackgroundTaskOutSerializer._fromJsonObject)}listByEndpoint(t){return this.list(t)}get(t){let r=new Ev.SvixRequest(Ev.HttpMethod.GET,"/api/v1/background-task/{task_id}");return r.setPathParam("task_id",t),r.send(this.requestCtx,m0e.BackgroundTaskOutSerializer._fromJsonObject)}};Pv.BackgroundTask=k$});var Gc=D(Us=>{"use strict";Object.defineProperty(Us,"__esModule",{value:!0});Us.ConnectorKindSerializer=Us.ConnectorKind=void 0;var h0e;(function(e){e.Custom="Custom",e.AgenticCommerceProtocol="AgenticCommerceProtocol",e.CloseCrm="CloseCRM",e.CustomerIo="CustomerIO",e.Discord="Discord",e.Hubspot="Hubspot",e.Inngest="Inngest",e.Loops="Loops",e.Resend="Resend",e.Salesforce="Salesforce",e.Segment="Segment",e.Sendgrid="Sendgrid",e.Slack="Slack",e.Teams="Teams",e.TriggerDev="TriggerDev",e.Windmill="Windmill",e.Zapier="Zapier"})(h0e=Us.ConnectorKind||(Us.ConnectorKind={}));Us.ConnectorKindSerializer={_fromJsonObject(e){return e},_toJsonObject(e){return e}}});var E$=D(Iv=>{"use strict";Object.defineProperty(Iv,"__esModule",{value:!0});Iv.ConnectorInSerializer=void 0;var IZ=Gc();Iv.ConnectorInSerializer={_fromJsonObject(e){return{allowedEventTypes:e.allowedEventTypes,description:e.description,featureFlags:e.featureFlags,instructions:e.instructions,kind:e.kind?IZ.ConnectorKindSerializer._fromJsonObject(e.kind):void 0,logo:e.logo,name:e.name,transformation:e.transformation}},_toJsonObject(e){return{allowedEventTypes:e.allowedEventTypes,description:e.description,featureFlags:e.featureFlags,instructions:e.instructions,kind:e.kind?IZ.ConnectorKindSerializer._toJsonObject(e.kind):void 0,logo:e.logo,name:e.name,transformation:e.transformation}}}});var Av=D(Ov=>{"use strict";Object.defineProperty(Ov,"__esModule",{value:!0});Ov.ConnectorOutSerializer=void 0;var OZ=Gc();Ov.ConnectorOutSerializer={_fromJsonObject(e){return{allowedEventTypes:e.allowedEventTypes,createdAt:new Date(e.createdAt),description:e.description,featureFlags:e.featureFlags,id:e.id,instructions:e.instructions,kind:OZ.ConnectorKindSerializer._fromJsonObject(e.kind),logo:e.logo,name:e.name,orgId:e.orgId,transformation:e.transformation,updatedAt:new Date(e.updatedAt)}},_toJsonObject(e){return{allowedEventTypes:e.allowedEventTypes,createdAt:e.createdAt,description:e.description,featureFlags:e.featureFlags,id:e.id,instructions:e.instructions,kind:OZ.ConnectorKindSerializer._toJsonObject(e.kind),logo:e.logo,name:e.name,orgId:e.orgId,transformation:e.transformation,updatedAt:e.updatedAt}}}});var CZ=D(Cv=>{"use strict";Object.defineProperty(Cv,"__esModule",{value:!0});Cv.ConnectorPatchSerializer=void 0;var AZ=Gc();Cv.ConnectorPatchSerializer={_fromJsonObject(e){return{allowedEventTypes:e.allowedEventTypes,description:e.description,featureFlags:e.featureFlags,instructions:e.instructions,kind:e.kind?AZ.ConnectorKindSerializer._fromJsonObject(e.kind):void 0,logo:e.logo,name:e.name,transformation:e.transformation}},_toJsonObject(e){return{allowedEventTypes:e.allowedEventTypes,description:e.description,featureFlags:e.featureFlags,instructions:e.instructions,kind:e.kind?AZ.ConnectorKindSerializer._toJsonObject(e.kind):void 0,logo:e.logo,name:e.name,transformation:e.transformation}}}});var $Z=D(Rv=>{"use strict";Object.defineProperty(Rv,"__esModule",{value:!0});Rv.ConnectorUpdateSerializer=void 0;var RZ=Gc();Rv.ConnectorUpdateSerializer={_fromJsonObject(e){return{allowedEventTypes:e.allowedEventTypes,description:e.description,featureFlags:e.featureFlags,instructions:e.instructions,kind:e.kind?RZ.ConnectorKindSerializer._fromJsonObject(e.kind):void 0,logo:e.logo,name:e.name,transformation:e.transformation}},_toJsonObject(e){return{allowedEventTypes:e.allowedEventTypes,description:e.description,featureFlags:e.featureFlags,instructions:e.instructions,kind:e.kind?RZ.ConnectorKindSerializer._toJsonObject(e.kind):void 0,logo:e.logo,name:e.name,transformation:e.transformation}}}});var jZ=D($v=>{"use strict";Object.defineProperty($v,"__esModule",{value:!0});$v.ListResponseConnectorOutSerializer=void 0;var NZ=Av();$v.ListResponseConnectorOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>NZ.ConnectorOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>NZ.ConnectorOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var zZ=D(jv=>{"use strict";Object.defineProperty(jv,"__esModule",{value:!0});jv.Connector=void 0;var g0e=E$(),Nv=Av(),y0e=CZ(),v0e=$Z(),_0e=jZ(),oo=rr(),P$=class{static{a(this,"Connector")}constructor(t){this.requestCtx=t}list(t){let r=new oo.SvixRequest(oo.HttpMethod.GET,"/api/v1/connector");return r.setQueryParam("limit",t?.limit),r.setQueryParam("iterator",t?.iterator),r.setQueryParam("order",t?.order),r.send(this.requestCtx,_0e.ListResponseConnectorOutSerializer._fromJsonObject)}create(t,r){let n=new oo.SvixRequest(oo.HttpMethod.POST,"/api/v1/connector");return n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.setBody(g0e.ConnectorInSerializer._toJsonObject(t)),n.send(this.requestCtx,Nv.ConnectorOutSerializer._fromJsonObject)}get(t){let r=new oo.SvixRequest(oo.HttpMethod.GET,"/api/v1/connector/{connector_id}");return r.setPathParam("connector_id",t),r.send(this.requestCtx,Nv.ConnectorOutSerializer._fromJsonObject)}update(t,r){let n=new oo.SvixRequest(oo.HttpMethod.PUT,"/api/v1/connector/{connector_id}");return n.setPathParam("connector_id",t),n.setBody(v0e.ConnectorUpdateSerializer._toJsonObject(r)),n.send(this.requestCtx,Nv.ConnectorOutSerializer._fromJsonObject)}delete(t){let r=new oo.SvixRequest(oo.HttpMethod.DELETE,"/api/v1/connector/{connector_id}");return r.setPathParam("connector_id",t),r.sendNoResponseBody(this.requestCtx)}patch(t,r){let n=new oo.SvixRequest(oo.HttpMethod.PATCH,"/api/v1/connector/{connector_id}");return n.setPathParam("connector_id",t),n.setBody(y0e.ConnectorPatchSerializer._toJsonObject(r)),n.send(this.requestCtx,Nv.ConnectorOutSerializer._fromJsonObject)}};jv.Connector=P$});var DZ=D(zv=>{"use strict";Object.defineProperty(zv,"__esModule",{value:!0});zv.EndpointHeadersInSerializer=void 0;zv.EndpointHeadersInSerializer={_fromJsonObject(e){return{headers:e.headers}},_toJsonObject(e){return{headers:e.headers}}}});var I$=D(Dv=>{"use strict";Object.defineProperty(Dv,"__esModule",{value:!0});Dv.EndpointHeadersOutSerializer=void 0;Dv.EndpointHeadersOutSerializer={_fromJsonObject(e){return{headers:e.headers,sensitive:e.sensitive}},_toJsonObject(e){return{headers:e.headers,sensitive:e.sensitive}}}});var MZ=D(Mv=>{"use strict";Object.defineProperty(Mv,"__esModule",{value:!0});Mv.EndpointHeadersPatchInSerializer=void 0;Mv.EndpointHeadersPatchInSerializer={_fromJsonObject(e){return{deleteHeaders:e.deleteHeaders,headers:e.headers}},_toJsonObject(e){return{deleteHeaders:e.deleteHeaders,headers:e.headers}}}});var qZ=D(qv=>{"use strict";Object.defineProperty(qv,"__esModule",{value:!0});qv.EndpointInSerializer=void 0;qv.EndpointInSerializer={_fromJsonObject(e){return{channels:e.channels,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,headers:e.headers,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url,version:e.version}},_toJsonObject(e){return{channels:e.channels,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,headers:e.headers,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url,version:e.version}}}});var O$=D(Uv=>{"use strict";Object.defineProperty(Uv,"__esModule",{value:!0});Uv.EndpointOutSerializer=void 0;Uv.EndpointOutSerializer={_fromJsonObject(e){return{channels:e.channels,createdAt:new Date(e.createdAt),description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,id:e.id,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,updatedAt:new Date(e.updatedAt),url:e.url,version:e.version}},_toJsonObject(e){return{channels:e.channels,createdAt:e.createdAt,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,id:e.id,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,updatedAt:e.updatedAt,url:e.url,version:e.version}}}});var UZ=D(Lv=>{"use strict";Object.defineProperty(Lv,"__esModule",{value:!0});Lv.EndpointPatchSerializer=void 0;Lv.EndpointPatchSerializer={_fromJsonObject(e){return{channels:e.channels,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url,version:e.version}},_toJsonObject(e){return{channels:e.channels,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url,version:e.version}}}});var LZ=D(Fv=>{"use strict";Object.defineProperty(Fv,"__esModule",{value:!0});Fv.EndpointSecretOutSerializer=void 0;Fv.EndpointSecretOutSerializer={_fromJsonObject(e){return{key:e.key}},_toJsonObject(e){return{key:e.key}}}});var A$=D(Jv=>{"use strict";Object.defineProperty(Jv,"__esModule",{value:!0});Jv.EndpointSecretRotateInSerializer=void 0;Jv.EndpointSecretRotateInSerializer={_fromJsonObject(e){return{key:e.key}},_toJsonObject(e){return{key:e.key}}}});var FZ=D(Bv=>{"use strict";Object.defineProperty(Bv,"__esModule",{value:!0});Bv.EndpointStatsSerializer=void 0;Bv.EndpointStatsSerializer={_fromJsonObject(e){return{fail:e.fail,pending:e.pending,sending:e.sending,success:e.success}},_toJsonObject(e){return{fail:e.fail,pending:e.pending,sending:e.sending,success:e.success}}}});var JZ=D(Hv=>{"use strict";Object.defineProperty(Hv,"__esModule",{value:!0});Hv.EndpointTransformationInSerializer=void 0;Hv.EndpointTransformationInSerializer={_fromJsonObject(e){return{code:e.code,enabled:e.enabled}},_toJsonObject(e){return{code:e.code,enabled:e.enabled}}}});var BZ=D(Vv=>{"use strict";Object.defineProperty(Vv,"__esModule",{value:!0});Vv.EndpointTransformationOutSerializer=void 0;Vv.EndpointTransformationOutSerializer={_fromJsonObject(e){return{code:e.code,enabled:e.enabled}},_toJsonObject(e){return{code:e.code,enabled:e.enabled}}}});var HZ=D(Zv=>{"use strict";Object.defineProperty(Zv,"__esModule",{value:!0});Zv.EndpointTransformationPatchSerializer=void 0;Zv.EndpointTransformationPatchSerializer={_fromJsonObject(e){return{code:e.code,enabled:e.enabled}},_toJsonObject(e){return{code:e.code,enabled:e.enabled}}}});var VZ=D(Kv=>{"use strict";Object.defineProperty(Kv,"__esModule",{value:!0});Kv.EndpointUpdateSerializer=void 0;Kv.EndpointUpdateSerializer={_fromJsonObject(e){return{channels:e.channels,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,url:e.url,version:e.version}},_toJsonObject(e){return{channels:e.channels,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,url:e.url,version:e.version}}}});var ZZ=D(Gv=>{"use strict";Object.defineProperty(Gv,"__esModule",{value:!0});Gv.EventExampleInSerializer=void 0;Gv.EventExampleInSerializer={_fromJsonObject(e){return{eventType:e.eventType,exampleIndex:e.exampleIndex}},_toJsonObject(e){return{eventType:e.eventType,exampleIndex:e.exampleIndex}}}});var GZ=D(Wv=>{"use strict";Object.defineProperty(Wv,"__esModule",{value:!0});Wv.ListResponseEndpointOutSerializer=void 0;var KZ=O$();Wv.ListResponseEndpointOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>KZ.EndpointOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>KZ.EndpointOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var Im=D(Qv=>{"use strict";Object.defineProperty(Qv,"__esModule",{value:!0});Qv.MessageOutSerializer=void 0;Qv.MessageOutSerializer={_fromJsonObject(e){return{channels:e.channels,deliverAt:e.deliverAt?new Date(e.deliverAt):null,eventId:e.eventId,eventType:e.eventType,id:e.id,payload:e.payload,tags:e.tags,timestamp:new Date(e.timestamp)}},_toJsonObject(e){return{channels:e.channels,deliverAt:e.deliverAt,eventId:e.eventId,eventType:e.eventType,id:e.id,payload:e.payload,tags:e.tags,timestamp:e.timestamp}}}});var WZ=D(Xv=>{"use strict";Object.defineProperty(Xv,"__esModule",{value:!0});Xv.RecoverInSerializer=void 0;Xv.RecoverInSerializer={_fromJsonObject(e){return{since:new Date(e.since),until:e.until?new Date(e.until):null}},_toJsonObject(e){return{since:e.since,until:e.until}}}});var YZ=D(Yv=>{"use strict";Object.defineProperty(Yv,"__esModule",{value:!0});Yv.RecoverOutSerializer=void 0;var QZ=Va(),XZ=Za();Yv.RecoverOutSerializer={_fromJsonObject(e){return{id:e.id,status:QZ.BackgroundTaskStatusSerializer._fromJsonObject(e.status),task:XZ.BackgroundTaskTypeSerializer._fromJsonObject(e.task)}},_toJsonObject(e){return{id:e.id,status:QZ.BackgroundTaskStatusSerializer._toJsonObject(e.status),task:XZ.BackgroundTaskTypeSerializer._toJsonObject(e.task)}}}});var eK=D(e_=>{"use strict";Object.defineProperty(e_,"__esModule",{value:!0});e_.ReplayInSerializer=void 0;e_.ReplayInSerializer={_fromJsonObject(e){return{since:new Date(e.since),until:e.until?new Date(e.until):null}},_toJsonObject(e){return{since:e.since,until:e.until}}}});var nK=D(t_=>{"use strict";Object.defineProperty(t_,"__esModule",{value:!0});t_.ReplayOutSerializer=void 0;var tK=Va(),rK=Za();t_.ReplayOutSerializer={_fromJsonObject(e){return{id:e.id,status:tK.BackgroundTaskStatusSerializer._fromJsonObject(e.status),task:rK.BackgroundTaskTypeSerializer._fromJsonObject(e.task)}},_toJsonObject(e){return{id:e.id,status:tK.BackgroundTaskStatusSerializer._toJsonObject(e.status),task:rK.BackgroundTaskTypeSerializer._toJsonObject(e.task)}}}});var oK=D(n_=>{"use strict";Object.defineProperty(n_,"__esModule",{value:!0});n_.Endpoint=void 0;var b0e=DZ(),S0e=I$(),w0e=MZ(),x0e=qZ(),r_=O$(),T0e=UZ(),k0e=LZ(),E0e=A$(),P0e=FZ(),I0e=JZ(),O0e=BZ(),A0e=HZ(),C0e=VZ(),R0e=ZZ(),$0e=GZ(),N0e=Im(),j0e=WZ(),z0e=YZ(),D0e=eK(),M0e=nK(),ht=rr(),C$=class{static{a(this,"Endpoint")}constructor(t){this.requestCtx=t}list(t,r){let n=new ht.SvixRequest(ht.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint");return n.setPathParam("app_id",t),n.setQueryParam("limit",r?.limit),n.setQueryParam("iterator",r?.iterator),n.setQueryParam("order",r?.order),n.send(this.requestCtx,$0e.ListResponseEndpointOutSerializer._fromJsonObject)}create(t,r,n){let o=new ht.SvixRequest(ht.HttpMethod.POST,"/api/v1/app/{app_id}/endpoint");return o.setPathParam("app_id",t),o.setHeaderParam("idempotency-key",n?.idempotencyKey),o.setBody(x0e.EndpointInSerializer._toJsonObject(r)),o.send(this.requestCtx,r_.EndpointOutSerializer._fromJsonObject)}get(t,r){let n=new ht.SvixRequest(ht.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint/{endpoint_id}");return n.setPathParam("app_id",t),n.setPathParam("endpoint_id",r),n.send(this.requestCtx,r_.EndpointOutSerializer._fromJsonObject)}update(t,r,n){let o=new ht.SvixRequest(ht.HttpMethod.PUT,"/api/v1/app/{app_id}/endpoint/{endpoint_id}");return o.setPathParam("app_id",t),o.setPathParam("endpoint_id",r),o.setBody(C0e.EndpointUpdateSerializer._toJsonObject(n)),o.send(this.requestCtx,r_.EndpointOutSerializer._fromJsonObject)}delete(t,r){let n=new ht.SvixRequest(ht.HttpMethod.DELETE,"/api/v1/app/{app_id}/endpoint/{endpoint_id}");return n.setPathParam("app_id",t),n.setPathParam("endpoint_id",r),n.sendNoResponseBody(this.requestCtx)}patch(t,r,n){let o=new ht.SvixRequest(ht.HttpMethod.PATCH,"/api/v1/app/{app_id}/endpoint/{endpoint_id}");return o.setPathParam("app_id",t),o.setPathParam("endpoint_id",r),o.setBody(T0e.EndpointPatchSerializer._toJsonObject(n)),o.send(this.requestCtx,r_.EndpointOutSerializer._fromJsonObject)}getHeaders(t,r){let n=new ht.SvixRequest(ht.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/headers");return n.setPathParam("app_id",t),n.setPathParam("endpoint_id",r),n.send(this.requestCtx,S0e.EndpointHeadersOutSerializer._fromJsonObject)}updateHeaders(t,r,n){let o=new ht.SvixRequest(ht.HttpMethod.PUT,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/headers");return o.setPathParam("app_id",t),o.setPathParam("endpoint_id",r),o.setBody(b0e.EndpointHeadersInSerializer._toJsonObject(n)),o.sendNoResponseBody(this.requestCtx)}headersUpdate(t,r,n){return this.updateHeaders(t,r,n)}patchHeaders(t,r,n){let o=new ht.SvixRequest(ht.HttpMethod.PATCH,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/headers");return o.setPathParam("app_id",t),o.setPathParam("endpoint_id",r),o.setBody(w0e.EndpointHeadersPatchInSerializer._toJsonObject(n)),o.sendNoResponseBody(this.requestCtx)}headersPatch(t,r,n){return this.patchHeaders(t,r,n)}recover(t,r,n,o){let i=new ht.SvixRequest(ht.HttpMethod.POST,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/recover");return i.setPathParam("app_id",t),i.setPathParam("endpoint_id",r),i.setHeaderParam("idempotency-key",o?.idempotencyKey),i.setBody(j0e.RecoverInSerializer._toJsonObject(n)),i.send(this.requestCtx,z0e.RecoverOutSerializer._fromJsonObject)}replayMissing(t,r,n,o){let i=new ht.SvixRequest(ht.HttpMethod.POST,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/replay-missing");return i.setPathParam("app_id",t),i.setPathParam("endpoint_id",r),i.setHeaderParam("idempotency-key",o?.idempotencyKey),i.setBody(D0e.ReplayInSerializer._toJsonObject(n)),i.send(this.requestCtx,M0e.ReplayOutSerializer._fromJsonObject)}getSecret(t,r){let n=new ht.SvixRequest(ht.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/secret");return n.setPathParam("app_id",t),n.setPathParam("endpoint_id",r),n.send(this.requestCtx,k0e.EndpointSecretOutSerializer._fromJsonObject)}rotateSecret(t,r,n,o){let i=new ht.SvixRequest(ht.HttpMethod.POST,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/secret/rotate");return i.setPathParam("app_id",t),i.setPathParam("endpoint_id",r),i.setHeaderParam("idempotency-key",o?.idempotencyKey),i.setBody(E0e.EndpointSecretRotateInSerializer._toJsonObject(n)),i.sendNoResponseBody(this.requestCtx)}sendExample(t,r,n,o){let i=new ht.SvixRequest(ht.HttpMethod.POST,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/send-example");return i.setPathParam("app_id",t),i.setPathParam("endpoint_id",r),i.setHeaderParam("idempotency-key",o?.idempotencyKey),i.setBody(R0e.EventExampleInSerializer._toJsonObject(n)),i.send(this.requestCtx,N0e.MessageOutSerializer._fromJsonObject)}getStats(t,r,n){let o=new ht.SvixRequest(ht.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/stats");return o.setPathParam("app_id",t),o.setPathParam("endpoint_id",r),o.setQueryParam("since",n?.since),o.setQueryParam("until",n?.until),o.send(this.requestCtx,P0e.EndpointStatsSerializer._fromJsonObject)}transformationGet(t,r){let n=new ht.SvixRequest(ht.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/transformation");return n.setPathParam("app_id",t),n.setPathParam("endpoint_id",r),n.send(this.requestCtx,O0e.EndpointTransformationOutSerializer._fromJsonObject)}patchTransformation(t,r,n){let o=new ht.SvixRequest(ht.HttpMethod.PATCH,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/transformation");return o.setPathParam("app_id",t),o.setPathParam("endpoint_id",r),o.setBody(A0e.EndpointTransformationPatchSerializer._toJsonObject(n)),o.sendNoResponseBody(this.requestCtx)}transformationPartialUpdate(t,r,n){let o=new ht.SvixRequest(ht.HttpMethod.PATCH,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/transformation");return o.setPathParam("app_id",t),o.setPathParam("endpoint_id",r),o.setBody(I0e.EndpointTransformationInSerializer._toJsonObject(n)),o.sendNoResponseBody(this.requestCtx)}};n_.Endpoint=C$});var R$=D(o_=>{"use strict";Object.defineProperty(o_,"__esModule",{value:!0});o_.EventTypeInSerializer=void 0;o_.EventTypeInSerializer={_fromJsonObject(e){return{archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,name:e.name,schemas:e.schemas}},_toJsonObject(e){return{archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,name:e.name,schemas:e.schemas}}}});var sK=D(i_=>{"use strict";Object.defineProperty(i_,"__esModule",{value:!0});i_.EnvironmentInSerializer=void 0;var iK=E$(),aK=R$();i_.EnvironmentInSerializer={_fromJsonObject(e){var t,r;return{connectors:(t=e.connectors)===null||t===void 0?void 0:t.map(n=>iK.ConnectorInSerializer._fromJsonObject(n)),eventTypes:(r=e.eventTypes)===null||r===void 0?void 0:r.map(n=>aK.EventTypeInSerializer._fromJsonObject(n)),settings:e.settings}},_toJsonObject(e){var t,r;return{connectors:(t=e.connectors)===null||t===void 0?void 0:t.map(n=>iK.ConnectorInSerializer._toJsonObject(n)),eventTypes:(r=e.eventTypes)===null||r===void 0?void 0:r.map(n=>aK.EventTypeInSerializer._toJsonObject(n)),settings:e.settings}}}});var s_=D(a_=>{"use strict";Object.defineProperty(a_,"__esModule",{value:!0});a_.EventTypeOutSerializer=void 0;a_.EventTypeOutSerializer={_fromJsonObject(e){return{archived:e.archived,createdAt:new Date(e.createdAt),deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,name:e.name,schemas:e.schemas,updatedAt:new Date(e.updatedAt)}},_toJsonObject(e){return{archived:e.archived,createdAt:e.createdAt,deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,name:e.name,schemas:e.schemas,updatedAt:e.updatedAt}}}});var lK=D(u_=>{"use strict";Object.defineProperty(u_,"__esModule",{value:!0});u_.EnvironmentOutSerializer=void 0;var uK=Av(),cK=s_();u_.EnvironmentOutSerializer={_fromJsonObject(e){return{connectors:e.connectors.map(t=>uK.ConnectorOutSerializer._fromJsonObject(t)),createdAt:new Date(e.createdAt),eventTypes:e.eventTypes.map(t=>cK.EventTypeOutSerializer._fromJsonObject(t)),settings:e.settings,version:e.version}},_toJsonObject(e){return{connectors:e.connectors.map(t=>uK.ConnectorOutSerializer._toJsonObject(t)),createdAt:e.createdAt,eventTypes:e.eventTypes.map(t=>cK.EventTypeOutSerializer._toJsonObject(t)),settings:e.settings,version:e.version}}}});var dK=D(l_=>{"use strict";Object.defineProperty(l_,"__esModule",{value:!0});l_.Environment=void 0;var q0e=sK(),U0e=lK(),c_=rr(),$$=class{static{a(this,"Environment")}constructor(t){this.requestCtx=t}export(t){let r=new c_.SvixRequest(c_.HttpMethod.POST,"/api/v1/environment/export");return r.setHeaderParam("idempotency-key",t?.idempotencyKey),r.send(this.requestCtx,U0e.EnvironmentOutSerializer._fromJsonObject)}import(t,r){let n=new c_.SvixRequest(c_.HttpMethod.POST,"/api/v1/environment/import");return n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.setBody(q0e.EnvironmentInSerializer._toJsonObject(t)),n.sendNoResponseBody(this.requestCtx)}};l_.Environment=$$});var pK=D(d_=>{"use strict";Object.defineProperty(d_,"__esModule",{value:!0});d_.EventTypeImportOpenApiInSerializer=void 0;d_.EventTypeImportOpenApiInSerializer={_fromJsonObject(e){return{dryRun:e.dryRun,replaceAll:e.replaceAll,spec:e.spec,specRaw:e.specRaw}},_toJsonObject(e){return{dryRun:e.dryRun,replaceAll:e.replaceAll,spec:e.spec,specRaw:e.specRaw}}}});var mK=D(p_=>{"use strict";Object.defineProperty(p_,"__esModule",{value:!0});p_.EventTypeFromOpenApiSerializer=void 0;p_.EventTypeFromOpenApiSerializer={_fromJsonObject(e){return{deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,name:e.name,schemas:e.schemas}},_toJsonObject(e){return{deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,name:e.name,schemas:e.schemas}}}});var hK=D(m_=>{"use strict";Object.defineProperty(m_,"__esModule",{value:!0});m_.EventTypeImportOpenApiOutDataSerializer=void 0;var fK=mK();m_.EventTypeImportOpenApiOutDataSerializer={_fromJsonObject(e){var t;return{modified:e.modified,toModify:(t=e.to_modify)===null||t===void 0?void 0:t.map(r=>fK.EventTypeFromOpenApiSerializer._fromJsonObject(r))}},_toJsonObject(e){var t;return{modified:e.modified,to_modify:(t=e.toModify)===null||t===void 0?void 0:t.map(r=>fK.EventTypeFromOpenApiSerializer._toJsonObject(r))}}}});var yK=D(f_=>{"use strict";Object.defineProperty(f_,"__esModule",{value:!0});f_.EventTypeImportOpenApiOutSerializer=void 0;var gK=hK();f_.EventTypeImportOpenApiOutSerializer={_fromJsonObject(e){return{data:gK.EventTypeImportOpenApiOutDataSerializer._fromJsonObject(e.data)}},_toJsonObject(e){return{data:gK.EventTypeImportOpenApiOutDataSerializer._toJsonObject(e.data)}}}});var vK=D(h_=>{"use strict";Object.defineProperty(h_,"__esModule",{value:!0});h_.EventTypePatchSerializer=void 0;h_.EventTypePatchSerializer={_fromJsonObject(e){return{archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,schemas:e.schemas}},_toJsonObject(e){return{archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,schemas:e.schemas}}}});var _K=D(g_=>{"use strict";Object.defineProperty(g_,"__esModule",{value:!0});g_.EventTypeUpdateSerializer=void 0;g_.EventTypeUpdateSerializer={_fromJsonObject(e){return{archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,schemas:e.schemas}},_toJsonObject(e){return{archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,schemas:e.schemas}}}});var SK=D(y_=>{"use strict";Object.defineProperty(y_,"__esModule",{value:!0});y_.ListResponseEventTypeOutSerializer=void 0;var bK=s_();y_.ListResponseEventTypeOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>bK.EventTypeOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>bK.EventTypeOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var wK=D(__=>{"use strict";Object.defineProperty(__,"__esModule",{value:!0});__.EventType=void 0;var L0e=pK(),F0e=yK(),J0e=R$(),v_=s_(),B0e=vK(),H0e=_K(),V0e=SK(),On=rr(),N$=class{static{a(this,"EventType")}constructor(t){this.requestCtx=t}list(t){let r=new On.SvixRequest(On.HttpMethod.GET,"/api/v1/event-type");return r.setQueryParam("limit",t?.limit),r.setQueryParam("iterator",t?.iterator),r.setQueryParam("order",t?.order),r.setQueryParam("include_archived",t?.includeArchived),r.setQueryParam("with_content",t?.withContent),r.send(this.requestCtx,V0e.ListResponseEventTypeOutSerializer._fromJsonObject)}create(t,r){let n=new On.SvixRequest(On.HttpMethod.POST,"/api/v1/event-type");return n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.setBody(J0e.EventTypeInSerializer._toJsonObject(t)),n.send(this.requestCtx,v_.EventTypeOutSerializer._fromJsonObject)}importOpenapi(t,r){let n=new On.SvixRequest(On.HttpMethod.POST,"/api/v1/event-type/import/openapi");return n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.setBody(L0e.EventTypeImportOpenApiInSerializer._toJsonObject(t)),n.send(this.requestCtx,F0e.EventTypeImportOpenApiOutSerializer._fromJsonObject)}get(t){let r=new On.SvixRequest(On.HttpMethod.GET,"/api/v1/event-type/{event_type_name}");return r.setPathParam("event_type_name",t),r.send(this.requestCtx,v_.EventTypeOutSerializer._fromJsonObject)}update(t,r){let n=new On.SvixRequest(On.HttpMethod.PUT,"/api/v1/event-type/{event_type_name}");return n.setPathParam("event_type_name",t),n.setBody(H0e.EventTypeUpdateSerializer._toJsonObject(r)),n.send(this.requestCtx,v_.EventTypeOutSerializer._fromJsonObject)}delete(t,r){let n=new On.SvixRequest(On.HttpMethod.DELETE,"/api/v1/event-type/{event_type_name}");return n.setPathParam("event_type_name",t),n.setQueryParam("expunge",r?.expunge),n.sendNoResponseBody(this.requestCtx)}patch(t,r){let n=new On.SvixRequest(On.HttpMethod.PATCH,"/api/v1/event-type/{event_type_name}");return n.setPathParam("event_type_name",t),n.setBody(B0e.EventTypePatchSerializer._toJsonObject(r)),n.send(this.requestCtx,v_.EventTypeOutSerializer._fromJsonObject)}};__.EventType=N$});var TK=D(b_=>{"use strict";Object.defineProperty(b_,"__esModule",{value:!0});b_.Health=void 0;var xK=rr(),j$=class{static{a(this,"Health")}constructor(t){this.requestCtx=t}get(){return new xK.SvixRequest(xK.HttpMethod.GET,"/api/v1/health").sendNoResponseBody(this.requestCtx)}};b_.Health=j$});var kK=D(S_=>{"use strict";Object.defineProperty(S_,"__esModule",{value:!0});S_.IngestSourceConsumerPortalAccessInSerializer=void 0;S_.IngestSourceConsumerPortalAccessInSerializer={_fromJsonObject(e){return{expiry:e.expiry,readOnly:e.readOnly}},_toJsonObject(e){return{expiry:e.expiry,readOnly:e.readOnly}}}});var EK=D(w_=>{"use strict";Object.defineProperty(w_,"__esModule",{value:!0});w_.IngestEndpointHeadersInSerializer=void 0;w_.IngestEndpointHeadersInSerializer={_fromJsonObject(e){return{headers:e.headers}},_toJsonObject(e){return{headers:e.headers}}}});var PK=D(x_=>{"use strict";Object.defineProperty(x_,"__esModule",{value:!0});x_.IngestEndpointHeadersOutSerializer=void 0;x_.IngestEndpointHeadersOutSerializer={_fromJsonObject(e){return{headers:e.headers,sensitive:e.sensitive}},_toJsonObject(e){return{headers:e.headers,sensitive:e.sensitive}}}});var IK=D(T_=>{"use strict";Object.defineProperty(T_,"__esModule",{value:!0});T_.IngestEndpointInSerializer=void 0;T_.IngestEndpointInSerializer={_fromJsonObject(e){return{description:e.description,disabled:e.disabled,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url}},_toJsonObject(e){return{description:e.description,disabled:e.disabled,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url}}}});var z$=D(k_=>{"use strict";Object.defineProperty(k_,"__esModule",{value:!0});k_.IngestEndpointOutSerializer=void 0;k_.IngestEndpointOutSerializer={_fromJsonObject(e){return{createdAt:new Date(e.createdAt),description:e.description,disabled:e.disabled,id:e.id,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,updatedAt:new Date(e.updatedAt),url:e.url}},_toJsonObject(e){return{createdAt:e.createdAt,description:e.description,disabled:e.disabled,id:e.id,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,updatedAt:e.updatedAt,url:e.url}}}});var OK=D(E_=>{"use strict";Object.defineProperty(E_,"__esModule",{value:!0});E_.IngestEndpointSecretInSerializer=void 0;E_.IngestEndpointSecretInSerializer={_fromJsonObject(e){return{key:e.key}},_toJsonObject(e){return{key:e.key}}}});var AK=D(P_=>{"use strict";Object.defineProperty(P_,"__esModule",{value:!0});P_.IngestEndpointSecretOutSerializer=void 0;P_.IngestEndpointSecretOutSerializer={_fromJsonObject(e){return{key:e.key}},_toJsonObject(e){return{key:e.key}}}});var CK=D(I_=>{"use strict";Object.defineProperty(I_,"__esModule",{value:!0});I_.IngestEndpointTransformationOutSerializer=void 0;I_.IngestEndpointTransformationOutSerializer={_fromJsonObject(e){return{code:e.code,enabled:e.enabled}},_toJsonObject(e){return{code:e.code,enabled:e.enabled}}}});var RK=D(O_=>{"use strict";Object.defineProperty(O_,"__esModule",{value:!0});O_.IngestEndpointTransformationPatchSerializer=void 0;O_.IngestEndpointTransformationPatchSerializer={_fromJsonObject(e){return{code:e.code,enabled:e.enabled}},_toJsonObject(e){return{code:e.code,enabled:e.enabled}}}});var $K=D(A_=>{"use strict";Object.defineProperty(A_,"__esModule",{value:!0});A_.IngestEndpointUpdateSerializer=void 0;A_.IngestEndpointUpdateSerializer={_fromJsonObject(e){return{description:e.description,disabled:e.disabled,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,url:e.url}},_toJsonObject(e){return{description:e.description,disabled:e.disabled,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,url:e.url}}}});var jK=D(C_=>{"use strict";Object.defineProperty(C_,"__esModule",{value:!0});C_.ListResponseIngestEndpointOutSerializer=void 0;var NK=z$();C_.ListResponseIngestEndpointOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>NK.IngestEndpointOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>NK.IngestEndpointOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var zK=D(R_=>{"use strict";Object.defineProperty(R_,"__esModule",{value:!0});R_.IngestEndpoint=void 0;var Z0e=EK(),K0e=PK(),G0e=IK(),D$=z$(),W0e=OK(),Q0e=AK(),X0e=CK(),Y0e=RK(),eTe=$K(),tTe=jK(),dr=rr(),M$=class{static{a(this,"IngestEndpoint")}constructor(t){this.requestCtx=t}list(t,r){let n=new dr.SvixRequest(dr.HttpMethod.GET,"/ingest/api/v1/source/{source_id}/endpoint");return n.setPathParam("source_id",t),n.setQueryParam("limit",r?.limit),n.setQueryParam("iterator",r?.iterator),n.setQueryParam("order",r?.order),n.send(this.requestCtx,tTe.ListResponseIngestEndpointOutSerializer._fromJsonObject)}create(t,r,n){let o=new dr.SvixRequest(dr.HttpMethod.POST,"/ingest/api/v1/source/{source_id}/endpoint");return o.setPathParam("source_id",t),o.setHeaderParam("idempotency-key",n?.idempotencyKey),o.setBody(G0e.IngestEndpointInSerializer._toJsonObject(r)),o.send(this.requestCtx,D$.IngestEndpointOutSerializer._fromJsonObject)}get(t,r){let n=new dr.SvixRequest(dr.HttpMethod.GET,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}");return n.setPathParam("source_id",t),n.setPathParam("endpoint_id",r),n.send(this.requestCtx,D$.IngestEndpointOutSerializer._fromJsonObject)}update(t,r,n){let o=new dr.SvixRequest(dr.HttpMethod.PUT,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}");return o.setPathParam("source_id",t),o.setPathParam("endpoint_id",r),o.setBody(eTe.IngestEndpointUpdateSerializer._toJsonObject(n)),o.send(this.requestCtx,D$.IngestEndpointOutSerializer._fromJsonObject)}delete(t,r){let n=new dr.SvixRequest(dr.HttpMethod.DELETE,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}");return n.setPathParam("source_id",t),n.setPathParam("endpoint_id",r),n.sendNoResponseBody(this.requestCtx)}getHeaders(t,r){let n=new dr.SvixRequest(dr.HttpMethod.GET,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/headers");return n.setPathParam("source_id",t),n.setPathParam("endpoint_id",r),n.send(this.requestCtx,K0e.IngestEndpointHeadersOutSerializer._fromJsonObject)}updateHeaders(t,r,n){let o=new dr.SvixRequest(dr.HttpMethod.PUT,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/headers");return o.setPathParam("source_id",t),o.setPathParam("endpoint_id",r),o.setBody(Z0e.IngestEndpointHeadersInSerializer._toJsonObject(n)),o.sendNoResponseBody(this.requestCtx)}getSecret(t,r){let n=new dr.SvixRequest(dr.HttpMethod.GET,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/secret");return n.setPathParam("source_id",t),n.setPathParam("endpoint_id",r),n.send(this.requestCtx,Q0e.IngestEndpointSecretOutSerializer._fromJsonObject)}rotateSecret(t,r,n,o){let i=new dr.SvixRequest(dr.HttpMethod.POST,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/secret/rotate");return i.setPathParam("source_id",t),i.setPathParam("endpoint_id",r),i.setHeaderParam("idempotency-key",o?.idempotencyKey),i.setBody(W0e.IngestEndpointSecretInSerializer._toJsonObject(n)),i.sendNoResponseBody(this.requestCtx)}getTransformation(t,r){let n=new dr.SvixRequest(dr.HttpMethod.GET,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/transformation");return n.setPathParam("source_id",t),n.setPathParam("endpoint_id",r),n.send(this.requestCtx,X0e.IngestEndpointTransformationOutSerializer._fromJsonObject)}setTransformation(t,r,n){let o=new dr.SvixRequest(dr.HttpMethod.PATCH,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/transformation");return o.setPathParam("source_id",t),o.setPathParam("endpoint_id",r),o.setBody(Y0e.IngestEndpointTransformationPatchSerializer._toJsonObject(n)),o.sendNoResponseBody(this.requestCtx)}};R_.IngestEndpoint=M$});var DK=D($_=>{"use strict";Object.defineProperty($_,"__esModule",{value:!0});$_.AdobeSignConfigSerializer=void 0;$_.AdobeSignConfigSerializer={_fromJsonObject(e){return{clientId:e.clientId}},_toJsonObject(e){return{clientId:e.clientId}}}});var MK=D(N_=>{"use strict";Object.defineProperty(N_,"__esModule",{value:!0});N_.AirwallexConfigSerializer=void 0;N_.AirwallexConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var qK=D(j_=>{"use strict";Object.defineProperty(j_,"__esModule",{value:!0});j_.CheckbookConfigSerializer=void 0;j_.CheckbookConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var q$=D(z_=>{"use strict";Object.defineProperty(z_,"__esModule",{value:!0});z_.CronConfigSerializer=void 0;z_.CronConfigSerializer={_fromJsonObject(e){return{contentType:e.contentType,payload:e.payload,schedule:e.schedule}},_toJsonObject(e){return{contentType:e.contentType,payload:e.payload,schedule:e.schedule}}}});var UK=D(D_=>{"use strict";Object.defineProperty(D_,"__esModule",{value:!0});D_.DocusignConfigSerializer=void 0;D_.DocusignConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var LK=D(M_=>{"use strict";Object.defineProperty(M_,"__esModule",{value:!0});M_.EasypostConfigSerializer=void 0;M_.EasypostConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var FK=D(q_=>{"use strict";Object.defineProperty(q_,"__esModule",{value:!0});q_.GithubConfigSerializer=void 0;q_.GithubConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var JK=D(U_=>{"use strict";Object.defineProperty(U_,"__esModule",{value:!0});U_.HubspotConfigSerializer=void 0;U_.HubspotConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var BK=D(L_=>{"use strict";Object.defineProperty(L_,"__esModule",{value:!0});L_.OrumIoConfigSerializer=void 0;L_.OrumIoConfigSerializer={_fromJsonObject(e){return{publicKey:e.publicKey}},_toJsonObject(e){return{publicKey:e.publicKey}}}});var HK=D(F_=>{"use strict";Object.defineProperty(F_,"__esModule",{value:!0});F_.PandaDocConfigSerializer=void 0;F_.PandaDocConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var VK=D(J_=>{"use strict";Object.defineProperty(J_,"__esModule",{value:!0});J_.PortIoConfigSerializer=void 0;J_.PortIoConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var ZK=D(B_=>{"use strict";Object.defineProperty(B_,"__esModule",{value:!0});B_.RutterConfigSerializer=void 0;B_.RutterConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var KK=D(H_=>{"use strict";Object.defineProperty(H_,"__esModule",{value:!0});H_.SegmentConfigSerializer=void 0;H_.SegmentConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var GK=D(V_=>{"use strict";Object.defineProperty(V_,"__esModule",{value:!0});V_.ShopifyConfigSerializer=void 0;V_.ShopifyConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var WK=D(Z_=>{"use strict";Object.defineProperty(Z_,"__esModule",{value:!0});Z_.SlackConfigSerializer=void 0;Z_.SlackConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var QK=D(K_=>{"use strict";Object.defineProperty(K_,"__esModule",{value:!0});K_.StripeConfigSerializer=void 0;K_.StripeConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var XK=D(G_=>{"use strict";Object.defineProperty(G_,"__esModule",{value:!0});G_.SvixConfigSerializer=void 0;G_.SvixConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var YK=D(W_=>{"use strict";Object.defineProperty(W_,"__esModule",{value:!0});W_.TelnyxConfigSerializer=void 0;W_.TelnyxConfigSerializer={_fromJsonObject(e){return{publicKey:e.publicKey}},_toJsonObject(e){return{publicKey:e.publicKey}}}});var eG=D(Q_=>{"use strict";Object.defineProperty(Q_,"__esModule",{value:!0});Q_.VapiConfigSerializer=void 0;Q_.VapiConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var tG=D(X_=>{"use strict";Object.defineProperty(X_,"__esModule",{value:!0});X_.VeriffConfigSerializer=void 0;X_.VeriffConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var rG=D(Y_=>{"use strict";Object.defineProperty(Y_,"__esModule",{value:!0});Y_.ZoomConfigSerializer=void 0;Y_.ZoomConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var xG=D(eb=>{"use strict";Object.defineProperty(eb,"__esModule",{value:!0});eb.IngestSourceInSerializer=void 0;var nG=DK(),oG=MK(),iG=qK(),aG=q$(),sG=UK(),uG=LK(),cG=FK(),lG=JK(),dG=BK(),pG=HK(),mG=VK(),fG=ZK(),hG=KK(),gG=GK(),yG=WK(),vG=QK(),wt=XK(),_G=YK(),bG=eG(),SG=tG(),wG=rG();eb.IngestSourceInSerializer={_fromJsonObject(e){let t=e.type;function r(n){switch(n){case"generic-webhook":return{};case"cron":return aG.CronConfigSerializer._fromJsonObject(e.config);case"adobe-sign":return nG.AdobeSignConfigSerializer._fromJsonObject(e.config);case"beehiiv":return wt.SvixConfigSerializer._fromJsonObject(e.config);case"brex":return wt.SvixConfigSerializer._fromJsonObject(e.config);case"checkbook":return iG.CheckbookConfigSerializer._fromJsonObject(e.config);case"clerk":return wt.SvixConfigSerializer._fromJsonObject(e.config);case"docusign":return sG.DocusignConfigSerializer._fromJsonObject(e.config);case"easypost":return uG.EasypostConfigSerializer._fromJsonObject(e.config);case"github":return cG.GithubConfigSerializer._fromJsonObject(e.config);case"guesty":return wt.SvixConfigSerializer._fromJsonObject(e.config);case"hubspot":return lG.HubspotConfigSerializer._fromJsonObject(e.config);case"incident-io":return wt.SvixConfigSerializer._fromJsonObject(e.config);case"lithic":return wt.SvixConfigSerializer._fromJsonObject(e.config);case"nash":return wt.SvixConfigSerializer._fromJsonObject(e.config);case"orum-io":return dG.OrumIoConfigSerializer._fromJsonObject(e.config);case"panda-doc":return pG.PandaDocConfigSerializer._fromJsonObject(e.config);case"port-io":return mG.PortIoConfigSerializer._fromJsonObject(e.config);case"pleo":return wt.SvixConfigSerializer._fromJsonObject(e.config);case"replicate":return wt.SvixConfigSerializer._fromJsonObject(e.config);case"resend":return wt.SvixConfigSerializer._fromJsonObject(e.config);case"rutter":return fG.RutterConfigSerializer._fromJsonObject(e.config);case"safebase":return wt.SvixConfigSerializer._fromJsonObject(e.config);case"sardine":return wt.SvixConfigSerializer._fromJsonObject(e.config);case"segment":return hG.SegmentConfigSerializer._fromJsonObject(e.config);case"shopify":return gG.ShopifyConfigSerializer._fromJsonObject(e.config);case"slack":return yG.SlackConfigSerializer._fromJsonObject(e.config);case"stripe":return vG.StripeConfigSerializer._fromJsonObject(e.config);case"stych":return wt.SvixConfigSerializer._fromJsonObject(e.config);case"svix":return wt.SvixConfigSerializer._fromJsonObject(e.config);case"zoom":return wG.ZoomConfigSerializer._fromJsonObject(e.config);case"telnyx":return _G.TelnyxConfigSerializer._fromJsonObject(e.config);case"vapi":return bG.VapiConfigSerializer._fromJsonObject(e.config);case"open-ai":return wt.SvixConfigSerializer._fromJsonObject(e.config);case"render":return wt.SvixConfigSerializer._fromJsonObject(e.config);case"veriff":return SG.VeriffConfigSerializer._fromJsonObject(e.config);case"airwallex":return oG.AirwallexConfigSerializer._fromJsonObject(e.config);default:throw new Error(`Unexpected type: ${n}`)}}return a(r,"getConfig"),{type:t,config:r(t),metadata:e.metadata,name:e.name,uid:e.uid}},_toJsonObject(e){let t;switch(e.type){case"generic-webhook":t={};break;case"cron":t=aG.CronConfigSerializer._toJsonObject(e.config);break;case"adobe-sign":t=nG.AdobeSignConfigSerializer._toJsonObject(e.config);break;case"beehiiv":t=wt.SvixConfigSerializer._toJsonObject(e.config);break;case"brex":t=wt.SvixConfigSerializer._toJsonObject(e.config);break;case"checkbook":t=iG.CheckbookConfigSerializer._toJsonObject(e.config);break;case"clerk":t=wt.SvixConfigSerializer._toJsonObject(e.config);break;case"docusign":t=sG.DocusignConfigSerializer._toJsonObject(e.config);break;case"easypost":t=uG.EasypostConfigSerializer._toJsonObject(e.config);break;case"github":t=cG.GithubConfigSerializer._toJsonObject(e.config);break;case"guesty":t=wt.SvixConfigSerializer._toJsonObject(e.config);break;case"hubspot":t=lG.HubspotConfigSerializer._toJsonObject(e.config);break;case"incident-io":t=wt.SvixConfigSerializer._toJsonObject(e.config);break;case"lithic":t=wt.SvixConfigSerializer._toJsonObject(e.config);break;case"nash":t=wt.SvixConfigSerializer._toJsonObject(e.config);break;case"orum-io":t=dG.OrumIoConfigSerializer._toJsonObject(e.config);break;case"panda-doc":t=pG.PandaDocConfigSerializer._toJsonObject(e.config);break;case"port-io":t=mG.PortIoConfigSerializer._toJsonObject(e.config);break;case"pleo":t=wt.SvixConfigSerializer._toJsonObject(e.config);break;case"replicate":t=wt.SvixConfigSerializer._toJsonObject(e.config);break;case"resend":t=wt.SvixConfigSerializer._toJsonObject(e.config);break;case"rutter":t=fG.RutterConfigSerializer._toJsonObject(e.config);break;case"safebase":t=wt.SvixConfigSerializer._toJsonObject(e.config);break;case"sardine":t=wt.SvixConfigSerializer._toJsonObject(e.config);break;case"segment":t=hG.SegmentConfigSerializer._toJsonObject(e.config);break;case"shopify":t=gG.ShopifyConfigSerializer._toJsonObject(e.config);break;case"slack":t=yG.SlackConfigSerializer._toJsonObject(e.config);break;case"stripe":t=vG.StripeConfigSerializer._toJsonObject(e.config);break;case"stych":t=wt.SvixConfigSerializer._toJsonObject(e.config);break;case"svix":t=wt.SvixConfigSerializer._toJsonObject(e.config);break;case"zoom":t=wG.ZoomConfigSerializer._toJsonObject(e.config);break;case"telnyx":t=_G.TelnyxConfigSerializer._toJsonObject(e.config);break;case"vapi":t=bG.VapiConfigSerializer._toJsonObject(e.config);break;case"open-ai":t=wt.SvixConfigSerializer._toJsonObject(e.config);break;case"render":t=wt.SvixConfigSerializer._toJsonObject(e.config);break;case"veriff":t=SG.VeriffConfigSerializer._toJsonObject(e.config);break;case"airwallex":t=oG.AirwallexConfigSerializer._toJsonObject(e.config);break}return{type:e.type,config:t,metadata:e.metadata,name:e.name,uid:e.uid}}}});var TG=D(tb=>{"use strict";Object.defineProperty(tb,"__esModule",{value:!0});tb.AdobeSignConfigOutSerializer=void 0;tb.AdobeSignConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var kG=D(rb=>{"use strict";Object.defineProperty(rb,"__esModule",{value:!0});rb.AirwallexConfigOutSerializer=void 0;rb.AirwallexConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var EG=D(nb=>{"use strict";Object.defineProperty(nb,"__esModule",{value:!0});nb.CheckbookConfigOutSerializer=void 0;nb.CheckbookConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var PG=D(ob=>{"use strict";Object.defineProperty(ob,"__esModule",{value:!0});ob.DocusignConfigOutSerializer=void 0;ob.DocusignConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var IG=D(ib=>{"use strict";Object.defineProperty(ib,"__esModule",{value:!0});ib.EasypostConfigOutSerializer=void 0;ib.EasypostConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var OG=D(ab=>{"use strict";Object.defineProperty(ab,"__esModule",{value:!0});ab.GithubConfigOutSerializer=void 0;ab.GithubConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var AG=D(sb=>{"use strict";Object.defineProperty(sb,"__esModule",{value:!0});sb.HubspotConfigOutSerializer=void 0;sb.HubspotConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var CG=D(ub=>{"use strict";Object.defineProperty(ub,"__esModule",{value:!0});ub.OrumIoConfigOutSerializer=void 0;ub.OrumIoConfigOutSerializer={_fromJsonObject(e){return{publicKey:e.publicKey}},_toJsonObject(e){return{publicKey:e.publicKey}}}});var RG=D(cb=>{"use strict";Object.defineProperty(cb,"__esModule",{value:!0});cb.PandaDocConfigOutSerializer=void 0;cb.PandaDocConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var $G=D(lb=>{"use strict";Object.defineProperty(lb,"__esModule",{value:!0});lb.PortIoConfigOutSerializer=void 0;lb.PortIoConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var NG=D(db=>{"use strict";Object.defineProperty(db,"__esModule",{value:!0});db.RutterConfigOutSerializer=void 0;db.RutterConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var jG=D(pb=>{"use strict";Object.defineProperty(pb,"__esModule",{value:!0});pb.SegmentConfigOutSerializer=void 0;pb.SegmentConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var zG=D(mb=>{"use strict";Object.defineProperty(mb,"__esModule",{value:!0});mb.ShopifyConfigOutSerializer=void 0;mb.ShopifyConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var DG=D(fb=>{"use strict";Object.defineProperty(fb,"__esModule",{value:!0});fb.SlackConfigOutSerializer=void 0;fb.SlackConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var MG=D(hb=>{"use strict";Object.defineProperty(hb,"__esModule",{value:!0});hb.StripeConfigOutSerializer=void 0;hb.StripeConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var qG=D(gb=>{"use strict";Object.defineProperty(gb,"__esModule",{value:!0});gb.SvixConfigOutSerializer=void 0;gb.SvixConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var UG=D(yb=>{"use strict";Object.defineProperty(yb,"__esModule",{value:!0});yb.TelnyxConfigOutSerializer=void 0;yb.TelnyxConfigOutSerializer={_fromJsonObject(e){return{publicKey:e.publicKey}},_toJsonObject(e){return{publicKey:e.publicKey}}}});var LG=D(vb=>{"use strict";Object.defineProperty(vb,"__esModule",{value:!0});vb.VapiConfigOutSerializer=void 0;vb.VapiConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var FG=D(_b=>{"use strict";Object.defineProperty(_b,"__esModule",{value:!0});_b.VeriffConfigOutSerializer=void 0;_b.VeriffConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var JG=D(bb=>{"use strict";Object.defineProperty(bb,"__esModule",{value:!0});bb.ZoomConfigOutSerializer=void 0;bb.ZoomConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var U$=D(Sb=>{"use strict";Object.defineProperty(Sb,"__esModule",{value:!0});Sb.IngestSourceOutSerializer=void 0;var BG=TG(),HG=kG(),VG=EG(),ZG=q$(),KG=PG(),GG=IG(),WG=OG(),QG=AG(),XG=CG(),YG=RG(),eW=$G(),tW=NG(),rW=jG(),nW=zG(),oW=DG(),iW=MG(),xt=qG(),aW=UG(),sW=LG(),uW=FG(),cW=JG();Sb.IngestSourceOutSerializer={_fromJsonObject(e){let t=e.type;function r(n){switch(n){case"generic-webhook":return{};case"cron":return ZG.CronConfigSerializer._fromJsonObject(e.config);case"adobe-sign":return BG.AdobeSignConfigOutSerializer._fromJsonObject(e.config);case"beehiiv":return xt.SvixConfigOutSerializer._fromJsonObject(e.config);case"brex":return xt.SvixConfigOutSerializer._fromJsonObject(e.config);case"checkbook":return VG.CheckbookConfigOutSerializer._fromJsonObject(e.config);case"clerk":return xt.SvixConfigOutSerializer._fromJsonObject(e.config);case"docusign":return KG.DocusignConfigOutSerializer._fromJsonObject(e.config);case"easypost":return GG.EasypostConfigOutSerializer._fromJsonObject(e.config);case"github":return WG.GithubConfigOutSerializer._fromJsonObject(e.config);case"guesty":return xt.SvixConfigOutSerializer._fromJsonObject(e.config);case"hubspot":return QG.HubspotConfigOutSerializer._fromJsonObject(e.config);case"incident-io":return xt.SvixConfigOutSerializer._fromJsonObject(e.config);case"lithic":return xt.SvixConfigOutSerializer._fromJsonObject(e.config);case"nash":return xt.SvixConfigOutSerializer._fromJsonObject(e.config);case"orum-io":return XG.OrumIoConfigOutSerializer._fromJsonObject(e.config);case"panda-doc":return YG.PandaDocConfigOutSerializer._fromJsonObject(e.config);case"port-io":return eW.PortIoConfigOutSerializer._fromJsonObject(e.config);case"pleo":return xt.SvixConfigOutSerializer._fromJsonObject(e.config);case"replicate":return xt.SvixConfigOutSerializer._fromJsonObject(e.config);case"resend":return xt.SvixConfigOutSerializer._fromJsonObject(e.config);case"rutter":return tW.RutterConfigOutSerializer._fromJsonObject(e.config);case"safebase":return xt.SvixConfigOutSerializer._fromJsonObject(e.config);case"sardine":return xt.SvixConfigOutSerializer._fromJsonObject(e.config);case"segment":return rW.SegmentConfigOutSerializer._fromJsonObject(e.config);case"shopify":return nW.ShopifyConfigOutSerializer._fromJsonObject(e.config);case"slack":return oW.SlackConfigOutSerializer._fromJsonObject(e.config);case"stripe":return iW.StripeConfigOutSerializer._fromJsonObject(e.config);case"stych":return xt.SvixConfigOutSerializer._fromJsonObject(e.config);case"svix":return xt.SvixConfigOutSerializer._fromJsonObject(e.config);case"zoom":return cW.ZoomConfigOutSerializer._fromJsonObject(e.config);case"telnyx":return aW.TelnyxConfigOutSerializer._fromJsonObject(e.config);case"vapi":return sW.VapiConfigOutSerializer._fromJsonObject(e.config);case"open-ai":return xt.SvixConfigOutSerializer._fromJsonObject(e.config);case"render":return xt.SvixConfigOutSerializer._fromJsonObject(e.config);case"veriff":return uW.VeriffConfigOutSerializer._fromJsonObject(e.config);case"airwallex":return HG.AirwallexConfigOutSerializer._fromJsonObject(e.config);default:throw new Error(`Unexpected type: ${n}`)}}return a(r,"getConfig"),{type:t,config:r(t),createdAt:new Date(e.createdAt),id:e.id,ingestUrl:e.ingestUrl,metadata:e.metadata,name:e.name,uid:e.uid,updatedAt:new Date(e.updatedAt)}},_toJsonObject(e){let t;switch(e.type){case"generic-webhook":t={};break;case"cron":t=ZG.CronConfigSerializer._toJsonObject(e.config);break;case"adobe-sign":t=BG.AdobeSignConfigOutSerializer._toJsonObject(e.config);break;case"beehiiv":t=xt.SvixConfigOutSerializer._toJsonObject(e.config);break;case"brex":t=xt.SvixConfigOutSerializer._toJsonObject(e.config);break;case"checkbook":t=VG.CheckbookConfigOutSerializer._toJsonObject(e.config);break;case"clerk":t=xt.SvixConfigOutSerializer._toJsonObject(e.config);break;case"docusign":t=KG.DocusignConfigOutSerializer._toJsonObject(e.config);break;case"easypost":t=GG.EasypostConfigOutSerializer._toJsonObject(e.config);break;case"github":t=WG.GithubConfigOutSerializer._toJsonObject(e.config);break;case"guesty":t=xt.SvixConfigOutSerializer._toJsonObject(e.config);break;case"hubspot":t=QG.HubspotConfigOutSerializer._toJsonObject(e.config);break;case"incident-io":t=xt.SvixConfigOutSerializer._toJsonObject(e.config);break;case"lithic":t=xt.SvixConfigOutSerializer._toJsonObject(e.config);break;case"nash":t=xt.SvixConfigOutSerializer._toJsonObject(e.config);break;case"orum-io":t=XG.OrumIoConfigOutSerializer._toJsonObject(e.config);break;case"panda-doc":t=YG.PandaDocConfigOutSerializer._toJsonObject(e.config);break;case"port-io":t=eW.PortIoConfigOutSerializer._toJsonObject(e.config);break;case"pleo":t=xt.SvixConfigOutSerializer._toJsonObject(e.config);break;case"replicate":t=xt.SvixConfigOutSerializer._toJsonObject(e.config);break;case"resend":t=xt.SvixConfigOutSerializer._toJsonObject(e.config);break;case"rutter":t=tW.RutterConfigOutSerializer._toJsonObject(e.config);break;case"safebase":t=xt.SvixConfigOutSerializer._toJsonObject(e.config);break;case"sardine":t=xt.SvixConfigOutSerializer._toJsonObject(e.config);break;case"segment":t=rW.SegmentConfigOutSerializer._toJsonObject(e.config);break;case"shopify":t=nW.ShopifyConfigOutSerializer._toJsonObject(e.config);break;case"slack":t=oW.SlackConfigOutSerializer._toJsonObject(e.config);break;case"stripe":t=iW.StripeConfigOutSerializer._toJsonObject(e.config);break;case"stych":t=xt.SvixConfigOutSerializer._toJsonObject(e.config);break;case"svix":t=xt.SvixConfigOutSerializer._toJsonObject(e.config);break;case"zoom":t=cW.ZoomConfigOutSerializer._toJsonObject(e.config);break;case"telnyx":t=aW.TelnyxConfigOutSerializer._toJsonObject(e.config);break;case"vapi":t=sW.VapiConfigOutSerializer._toJsonObject(e.config);break;case"open-ai":t=xt.SvixConfigOutSerializer._toJsonObject(e.config);break;case"render":t=xt.SvixConfigOutSerializer._toJsonObject(e.config);break;case"veriff":t=uW.VeriffConfigOutSerializer._toJsonObject(e.config);break;case"airwallex":t=HG.AirwallexConfigOutSerializer._toJsonObject(e.config);break}return{type:e.type,config:t,createdAt:e.createdAt,id:e.id,ingestUrl:e.ingestUrl,metadata:e.metadata,name:e.name,uid:e.uid,updatedAt:e.updatedAt}}}});var dW=D(wb=>{"use strict";Object.defineProperty(wb,"__esModule",{value:!0});wb.ListResponseIngestSourceOutSerializer=void 0;var lW=U$();wb.ListResponseIngestSourceOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>lW.IngestSourceOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>lW.IngestSourceOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var pW=D(xb=>{"use strict";Object.defineProperty(xb,"__esModule",{value:!0});xb.RotateTokenOutSerializer=void 0;xb.RotateTokenOutSerializer={_fromJsonObject(e){return{ingestUrl:e.ingestUrl}},_toJsonObject(e){return{ingestUrl:e.ingestUrl}}}});var fW=D(Tb=>{"use strict";Object.defineProperty(Tb,"__esModule",{value:!0});Tb.IngestSource=void 0;var mW=xG(),L$=U$(),rTe=dW(),nTe=pW(),io=rr(),F$=class{static{a(this,"IngestSource")}constructor(t){this.requestCtx=t}list(t){let r=new io.SvixRequest(io.HttpMethod.GET,"/ingest/api/v1/source");return r.setQueryParam("limit",t?.limit),r.setQueryParam("iterator",t?.iterator),r.setQueryParam("order",t?.order),r.send(this.requestCtx,rTe.ListResponseIngestSourceOutSerializer._fromJsonObject)}create(t,r){let n=new io.SvixRequest(io.HttpMethod.POST,"/ingest/api/v1/source");return n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.setBody(mW.IngestSourceInSerializer._toJsonObject(t)),n.send(this.requestCtx,L$.IngestSourceOutSerializer._fromJsonObject)}get(t){let r=new io.SvixRequest(io.HttpMethod.GET,"/ingest/api/v1/source/{source_id}");return r.setPathParam("source_id",t),r.send(this.requestCtx,L$.IngestSourceOutSerializer._fromJsonObject)}update(t,r){let n=new io.SvixRequest(io.HttpMethod.PUT,"/ingest/api/v1/source/{source_id}");return n.setPathParam("source_id",t),n.setBody(mW.IngestSourceInSerializer._toJsonObject(r)),n.send(this.requestCtx,L$.IngestSourceOutSerializer._fromJsonObject)}delete(t){let r=new io.SvixRequest(io.HttpMethod.DELETE,"/ingest/api/v1/source/{source_id}");return r.setPathParam("source_id",t),r.sendNoResponseBody(this.requestCtx)}rotateToken(t,r){let n=new io.SvixRequest(io.HttpMethod.POST,"/ingest/api/v1/source/{source_id}/token/rotate");return n.setPathParam("source_id",t),n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.send(this.requestCtx,nTe.RotateTokenOutSerializer._fromJsonObject)}};Tb.IngestSource=F$});var gW=D(kb=>{"use strict";Object.defineProperty(kb,"__esModule",{value:!0});kb.Ingest=void 0;var oTe=w$(),iTe=kK(),aTe=zK(),sTe=fW(),hW=rr(),J$=class{static{a(this,"Ingest")}constructor(t){this.requestCtx=t}get endpoint(){return new aTe.IngestEndpoint(this.requestCtx)}get source(){return new sTe.IngestSource(this.requestCtx)}dashboard(t,r,n){let o=new hW.SvixRequest(hW.HttpMethod.POST,"/ingest/api/v1/source/{source_id}/dashboard");return o.setPathParam("source_id",t),o.setHeaderParam("idempotency-key",n?.idempotencyKey),o.setBody(iTe.IngestSourceConsumerPortalAccessInSerializer._toJsonObject(r)),o.send(this.requestCtx,oTe.DashboardAccessOutSerializer._fromJsonObject)}};kb.Ingest=J$});var yW=D(Eb=>{"use strict";Object.defineProperty(Eb,"__esModule",{value:!0});Eb.IntegrationInSerializer=void 0;Eb.IntegrationInSerializer={_fromJsonObject(e){return{featureFlags:e.featureFlags,name:e.name}},_toJsonObject(e){return{featureFlags:e.featureFlags,name:e.name}}}});var vW=D(Pb=>{"use strict";Object.defineProperty(Pb,"__esModule",{value:!0});Pb.IntegrationKeyOutSerializer=void 0;Pb.IntegrationKeyOutSerializer={_fromJsonObject(e){return{key:e.key}},_toJsonObject(e){return{key:e.key}}}});var B$=D(Ib=>{"use strict";Object.defineProperty(Ib,"__esModule",{value:!0});Ib.IntegrationOutSerializer=void 0;Ib.IntegrationOutSerializer={_fromJsonObject(e){return{createdAt:new Date(e.createdAt),featureFlags:e.featureFlags,id:e.id,name:e.name,updatedAt:new Date(e.updatedAt)}},_toJsonObject(e){return{createdAt:e.createdAt,featureFlags:e.featureFlags,id:e.id,name:e.name,updatedAt:e.updatedAt}}}});var _W=D(Ob=>{"use strict";Object.defineProperty(Ob,"__esModule",{value:!0});Ob.IntegrationUpdateSerializer=void 0;Ob.IntegrationUpdateSerializer={_fromJsonObject(e){return{featureFlags:e.featureFlags,name:e.name}},_toJsonObject(e){return{featureFlags:e.featureFlags,name:e.name}}}});var SW=D(Ab=>{"use strict";Object.defineProperty(Ab,"__esModule",{value:!0});Ab.ListResponseIntegrationOutSerializer=void 0;var bW=B$();Ab.ListResponseIntegrationOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>bW.IntegrationOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>bW.IntegrationOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var xW=D(Cb=>{"use strict";Object.defineProperty(Cb,"__esModule",{value:!0});Cb.Integration=void 0;var uTe=yW(),wW=vW(),H$=B$(),cTe=_W(),lTe=SW(),An=rr(),V$=class{static{a(this,"Integration")}constructor(t){this.requestCtx=t}list(t,r){let n=new An.SvixRequest(An.HttpMethod.GET,"/api/v1/app/{app_id}/integration");return n.setPathParam("app_id",t),n.setQueryParam("limit",r?.limit),n.setQueryParam("iterator",r?.iterator),n.setQueryParam("order",r?.order),n.send(this.requestCtx,lTe.ListResponseIntegrationOutSerializer._fromJsonObject)}create(t,r,n){let o=new An.SvixRequest(An.HttpMethod.POST,"/api/v1/app/{app_id}/integration");return o.setPathParam("app_id",t),o.setHeaderParam("idempotency-key",n?.idempotencyKey),o.setBody(uTe.IntegrationInSerializer._toJsonObject(r)),o.send(this.requestCtx,H$.IntegrationOutSerializer._fromJsonObject)}get(t,r){let n=new An.SvixRequest(An.HttpMethod.GET,"/api/v1/app/{app_id}/integration/{integ_id}");return n.setPathParam("app_id",t),n.setPathParam("integ_id",r),n.send(this.requestCtx,H$.IntegrationOutSerializer._fromJsonObject)}update(t,r,n){let o=new An.SvixRequest(An.HttpMethod.PUT,"/api/v1/app/{app_id}/integration/{integ_id}");return o.setPathParam("app_id",t),o.setPathParam("integ_id",r),o.setBody(cTe.IntegrationUpdateSerializer._toJsonObject(n)),o.send(this.requestCtx,H$.IntegrationOutSerializer._fromJsonObject)}delete(t,r){let n=new An.SvixRequest(An.HttpMethod.DELETE,"/api/v1/app/{app_id}/integration/{integ_id}");return n.setPathParam("app_id",t),n.setPathParam("integ_id",r),n.sendNoResponseBody(this.requestCtx)}getKey(t,r){let n=new An.SvixRequest(An.HttpMethod.GET,"/api/v1/app/{app_id}/integration/{integ_id}/key");return n.setPathParam("app_id",t),n.setPathParam("integ_id",r),n.send(this.requestCtx,wW.IntegrationKeyOutSerializer._fromJsonObject)}rotateKey(t,r,n){let o=new An.SvixRequest(An.HttpMethod.POST,"/api/v1/app/{app_id}/integration/{integ_id}/key/rotate");return o.setPathParam("app_id",t),o.setPathParam("integ_id",r),o.setHeaderParam("idempotency-key",n?.idempotencyKey),o.send(this.requestCtx,wW.IntegrationKeyOutSerializer._fromJsonObject)}};Cb.Integration=V$});var EW=D(Rb=>{"use strict";Object.defineProperty(Rb,"__esModule",{value:!0});Rb.ExpungeAllContentsOutSerializer=void 0;var TW=Va(),kW=Za();Rb.ExpungeAllContentsOutSerializer={_fromJsonObject(e){return{id:e.id,status:TW.BackgroundTaskStatusSerializer._fromJsonObject(e.status),task:kW.BackgroundTaskTypeSerializer._fromJsonObject(e.task)}},_toJsonObject(e){return{id:e.id,status:TW.BackgroundTaskStatusSerializer._toJsonObject(e.status),task:kW.BackgroundTaskTypeSerializer._toJsonObject(e.task)}}}});var IW=D($b=>{"use strict";Object.defineProperty($b,"__esModule",{value:!0});$b.ListResponseMessageOutSerializer=void 0;var PW=Im();$b.ListResponseMessageOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>PW.MessageOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>PW.MessageOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var OW=D(Nb=>{"use strict";Object.defineProperty(Nb,"__esModule",{value:!0});Nb.PollingEndpointConsumerSeekInSerializer=void 0;Nb.PollingEndpointConsumerSeekInSerializer={_fromJsonObject(e){return{after:new Date(e.after)}},_toJsonObject(e){return{after:e.after}}}});var AW=D(jb=>{"use strict";Object.defineProperty(jb,"__esModule",{value:!0});jb.PollingEndpointConsumerSeekOutSerializer=void 0;jb.PollingEndpointConsumerSeekOutSerializer={_fromJsonObject(e){return{iterator:e.iterator}},_toJsonObject(e){return{iterator:e.iterator}}}});var CW=D(zb=>{"use strict";Object.defineProperty(zb,"__esModule",{value:!0});zb.PollingEndpointMessageOutSerializer=void 0;zb.PollingEndpointMessageOutSerializer={_fromJsonObject(e){return{channels:e.channels,deliverAt:e.deliverAt?new Date(e.deliverAt):null,eventId:e.eventId,eventType:e.eventType,headers:e.headers,id:e.id,payload:e.payload,tags:e.tags,timestamp:new Date(e.timestamp)}},_toJsonObject(e){return{channels:e.channels,deliverAt:e.deliverAt,eventId:e.eventId,eventType:e.eventType,headers:e.headers,id:e.id,payload:e.payload,tags:e.tags,timestamp:e.timestamp}}}});var $W=D(Db=>{"use strict";Object.defineProperty(Db,"__esModule",{value:!0});Db.PollingEndpointOutSerializer=void 0;var RW=CW();Db.PollingEndpointOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>RW.PollingEndpointMessageOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator}},_toJsonObject(e){return{data:e.data.map(t=>RW.PollingEndpointMessageOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator}}}});var jW=D(Mb=>{"use strict";Object.defineProperty(Mb,"__esModule",{value:!0});Mb.MessagePoller=void 0;var dTe=OW(),pTe=AW(),NW=$W(),Wc=rr(),Z$=class{static{a(this,"MessagePoller")}constructor(t){this.requestCtx=t}poll(t,r,n){let o=new Wc.SvixRequest(Wc.HttpMethod.GET,"/api/v1/app/{app_id}/poller/{sink_id}");return o.setPathParam("app_id",t),o.setPathParam("sink_id",r),o.setQueryParam("limit",n?.limit),o.setQueryParam("iterator",n?.iterator),o.setQueryParam("event_type",n?.eventType),o.setQueryParam("channel",n?.channel),o.setQueryParam("after",n?.after),o.send(this.requestCtx,NW.PollingEndpointOutSerializer._fromJsonObject)}consumerPoll(t,r,n,o){let i=new Wc.SvixRequest(Wc.HttpMethod.GET,"/api/v1/app/{app_id}/poller/{sink_id}/consumer/{consumer_id}");return i.setPathParam("app_id",t),i.setPathParam("sink_id",r),i.setPathParam("consumer_id",n),i.setQueryParam("limit",o?.limit),i.setQueryParam("iterator",o?.iterator),i.send(this.requestCtx,NW.PollingEndpointOutSerializer._fromJsonObject)}consumerSeek(t,r,n,o,i){let s=new Wc.SvixRequest(Wc.HttpMethod.POST,"/api/v1/app/{app_id}/poller/{sink_id}/consumer/{consumer_id}/seek");return s.setPathParam("app_id",t),s.setPathParam("sink_id",r),s.setPathParam("consumer_id",n),s.setHeaderParam("idempotency-key",i?.idempotencyKey),s.setBody(dTe.PollingEndpointConsumerSeekInSerializer._toJsonObject(o)),s.send(this.requestCtx,pTe.PollingEndpointConsumerSeekOutSerializer._fromJsonObject)}};Mb.MessagePoller=Z$});var DW=D(qb=>{"use strict";Object.defineProperty(qb,"__esModule",{value:!0});qb.MessageInSerializer=void 0;var zW=iv();qb.MessageInSerializer={_fromJsonObject(e){return{application:e.application?zW.ApplicationInSerializer._fromJsonObject(e.application):void 0,channels:e.channels,deliverAt:e.deliverAt?new Date(e.deliverAt):null,eventId:e.eventId,eventType:e.eventType,payload:e.payload,payloadRetentionHours:e.payloadRetentionHours,payloadRetentionPeriod:e.payloadRetentionPeriod,tags:e.tags,transformationsParams:e.transformationsParams}},_toJsonObject(e){return{application:e.application?zW.ApplicationInSerializer._toJsonObject(e.application):void 0,channels:e.channels,deliverAt:e.deliverAt,eventId:e.eventId,eventType:e.eventType,payload:e.payload,payloadRetentionHours:e.payloadRetentionHours,payloadRetentionPeriod:e.payloadRetentionPeriod,tags:e.tags,transformationsParams:e.transformationsParams}}}});var G$=D(Qc=>{"use strict";Object.defineProperty(Qc,"__esModule",{value:!0});Qc.messageInRaw=Qc.Message=void 0;var mTe=EW(),fTe=IW(),MW=Im(),hTe=jW(),di=rr(),gTe=DW(),K$=class{static{a(this,"Message")}constructor(t){this.requestCtx=t}get poller(){return new hTe.MessagePoller(this.requestCtx)}list(t,r){let n=new di.SvixRequest(di.HttpMethod.GET,"/api/v1/app/{app_id}/msg");return n.setPathParam("app_id",t),n.setQueryParam("limit",r?.limit),n.setQueryParam("iterator",r?.iterator),n.setQueryParam("channel",r?.channel),n.setQueryParam("before",r?.before),n.setQueryParam("after",r?.after),n.setQueryParam("with_content",r?.withContent),n.setQueryParam("tag",r?.tag),n.setQueryParam("event_types",r?.eventTypes),n.send(this.requestCtx,fTe.ListResponseMessageOutSerializer._fromJsonObject)}create(t,r,n){let o=new di.SvixRequest(di.HttpMethod.POST,"/api/v1/app/{app_id}/msg");return o.setPathParam("app_id",t),o.setQueryParam("with_content",n?.withContent),o.setHeaderParam("idempotency-key",n?.idempotencyKey),o.setBody(gTe.MessageInSerializer._toJsonObject(r)),o.send(this.requestCtx,MW.MessageOutSerializer._fromJsonObject)}expungeAllContents(t,r){let n=new di.SvixRequest(di.HttpMethod.POST,"/api/v1/app/{app_id}/msg/expunge-all-contents");return n.setPathParam("app_id",t),n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.send(this.requestCtx,mTe.ExpungeAllContentsOutSerializer._fromJsonObject)}get(t,r,n){let o=new di.SvixRequest(di.HttpMethod.GET,"/api/v1/app/{app_id}/msg/{msg_id}");return o.setPathParam("app_id",t),o.setPathParam("msg_id",r),o.setQueryParam("with_content",n?.withContent),o.send(this.requestCtx,MW.MessageOutSerializer._fromJsonObject)}expungeContent(t,r){let n=new di.SvixRequest(di.HttpMethod.DELETE,"/api/v1/app/{app_id}/msg/{msg_id}/content");return n.setPathParam("app_id",t),n.setPathParam("msg_id",r),n.sendNoResponseBody(this.requestCtx)}};Qc.Message=K$;function yTe(e,t,r){return{eventType:e,payload:{},transformationsParams:{rawPayload:t,headers:r?{"content-type":r}:void 0}}}a(yTe,"messageInRaw");Qc.messageInRaw=yTe});var Om=D(Ls=>{"use strict";Object.defineProperty(Ls,"__esModule",{value:!0});Ls.MessageStatusSerializer=Ls.MessageStatus=void 0;var vTe;(function(e){e[e.Success=0]="Success",e[e.Pending=1]="Pending",e[e.Fail=2]="Fail",e[e.Sending=3]="Sending"})(vTe=Ls.MessageStatus||(Ls.MessageStatus={}));Ls.MessageStatusSerializer={_fromJsonObject(e){return e},_toJsonObject(e){return e}}});var Am=D(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});Fs.MessageStatusTextSerializer=Fs.MessageStatusText=void 0;var _Te;(function(e){e.Success="success",e.Pending="pending",e.Fail="fail",e.Sending="sending"})(_Te=Fs.MessageStatusText||(Fs.MessageStatusText={}));Fs.MessageStatusTextSerializer={_fromJsonObject(e){return e},_toJsonObject(e){return e}}});var LW=D(Ub=>{"use strict";Object.defineProperty(Ub,"__esModule",{value:!0});Ub.EndpointMessageOutSerializer=void 0;var qW=Om(),UW=Am();Ub.EndpointMessageOutSerializer={_fromJsonObject(e){return{channels:e.channels,deliverAt:e.deliverAt?new Date(e.deliverAt):null,eventId:e.eventId,eventType:e.eventType,id:e.id,nextAttempt:e.nextAttempt?new Date(e.nextAttempt):null,payload:e.payload,status:qW.MessageStatusSerializer._fromJsonObject(e.status),statusText:UW.MessageStatusTextSerializer._fromJsonObject(e.statusText),tags:e.tags,timestamp:new Date(e.timestamp)}},_toJsonObject(e){return{channels:e.channels,deliverAt:e.deliverAt,eventId:e.eventId,eventType:e.eventType,id:e.id,nextAttempt:e.nextAttempt,payload:e.payload,status:qW.MessageStatusSerializer._toJsonObject(e.status),statusText:UW.MessageStatusTextSerializer._toJsonObject(e.statusText),tags:e.tags,timestamp:e.timestamp}}}});var JW=D(Lb=>{"use strict";Object.defineProperty(Lb,"__esModule",{value:!0});Lb.ListResponseEndpointMessageOutSerializer=void 0;var FW=LW();Lb.ListResponseEndpointMessageOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>FW.EndpointMessageOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>FW.EndpointMessageOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var W$=D(Js=>{"use strict";Object.defineProperty(Js,"__esModule",{value:!0});Js.MessageAttemptTriggerTypeSerializer=Js.MessageAttemptTriggerType=void 0;var bTe;(function(e){e[e.Scheduled=0]="Scheduled",e[e.Manual=1]="Manual"})(bTe=Js.MessageAttemptTriggerType||(Js.MessageAttemptTriggerType={}));Js.MessageAttemptTriggerTypeSerializer={_fromJsonObject(e){return e},_toJsonObject(e){return e}}});var Q$=D(Fb=>{"use strict";Object.defineProperty(Fb,"__esModule",{value:!0});Fb.MessageAttemptOutSerializer=void 0;var BW=W$(),HW=Im(),VW=Om(),ZW=Am();Fb.MessageAttemptOutSerializer={_fromJsonObject(e){return{endpointId:e.endpointId,id:e.id,msg:e.msg?HW.MessageOutSerializer._fromJsonObject(e.msg):void 0,msgId:e.msgId,response:e.response,responseDurationMs:e.responseDurationMs,responseStatusCode:e.responseStatusCode,status:VW.MessageStatusSerializer._fromJsonObject(e.status),statusText:ZW.MessageStatusTextSerializer._fromJsonObject(e.statusText),timestamp:new Date(e.timestamp),triggerType:BW.MessageAttemptTriggerTypeSerializer._fromJsonObject(e.triggerType),url:e.url}},_toJsonObject(e){return{endpointId:e.endpointId,id:e.id,msg:e.msg?HW.MessageOutSerializer._toJsonObject(e.msg):void 0,msgId:e.msgId,response:e.response,responseDurationMs:e.responseDurationMs,responseStatusCode:e.responseStatusCode,status:VW.MessageStatusSerializer._toJsonObject(e.status),statusText:ZW.MessageStatusTextSerializer._toJsonObject(e.statusText),timestamp:e.timestamp,triggerType:BW.MessageAttemptTriggerTypeSerializer._toJsonObject(e.triggerType),url:e.url}}}});var GW=D(Jb=>{"use strict";Object.defineProperty(Jb,"__esModule",{value:!0});Jb.ListResponseMessageAttemptOutSerializer=void 0;var KW=Q$();Jb.ListResponseMessageAttemptOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>KW.MessageAttemptOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>KW.MessageAttemptOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var XW=D(Bb=>{"use strict";Object.defineProperty(Bb,"__esModule",{value:!0});Bb.MessageEndpointOutSerializer=void 0;var WW=Om(),QW=Am();Bb.MessageEndpointOutSerializer={_fromJsonObject(e){return{channels:e.channels,createdAt:new Date(e.createdAt),description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,id:e.id,nextAttempt:e.nextAttempt?new Date(e.nextAttempt):null,rateLimit:e.rateLimit,status:WW.MessageStatusSerializer._fromJsonObject(e.status),statusText:QW.MessageStatusTextSerializer._fromJsonObject(e.statusText),uid:e.uid,updatedAt:new Date(e.updatedAt),url:e.url,version:e.version}},_toJsonObject(e){return{channels:e.channels,createdAt:e.createdAt,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,id:e.id,nextAttempt:e.nextAttempt,rateLimit:e.rateLimit,status:WW.MessageStatusSerializer._toJsonObject(e.status),statusText:QW.MessageStatusTextSerializer._toJsonObject(e.statusText),uid:e.uid,updatedAt:e.updatedAt,url:e.url,version:e.version}}}});var eQ=D(Hb=>{"use strict";Object.defineProperty(Hb,"__esModule",{value:!0});Hb.ListResponseMessageEndpointOutSerializer=void 0;var YW=XW();Hb.ListResponseMessageEndpointOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>YW.MessageEndpointOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>YW.MessageEndpointOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var rQ=D(Vb=>{"use strict";Object.defineProperty(Vb,"__esModule",{value:!0});Vb.MessageAttempt=void 0;var STe=JW(),tQ=GW(),wTe=eQ(),xTe=Q$(),Cn=rr(),X$=class{static{a(this,"MessageAttempt")}constructor(t){this.requestCtx=t}listByEndpoint(t,r,n){let o=new Cn.SvixRequest(Cn.HttpMethod.GET,"/api/v1/app/{app_id}/attempt/endpoint/{endpoint_id}");return o.setPathParam("app_id",t),o.setPathParam("endpoint_id",r),o.setQueryParam("limit",n?.limit),o.setQueryParam("iterator",n?.iterator),o.setQueryParam("status",n?.status),o.setQueryParam("status_code_class",n?.statusCodeClass),o.setQueryParam("channel",n?.channel),o.setQueryParam("tag",n?.tag),o.setQueryParam("before",n?.before),o.setQueryParam("after",n?.after),o.setQueryParam("with_content",n?.withContent),o.setQueryParam("with_msg",n?.withMsg),o.setQueryParam("event_types",n?.eventTypes),o.send(this.requestCtx,tQ.ListResponseMessageAttemptOutSerializer._fromJsonObject)}listByMsg(t,r,n){let o=new Cn.SvixRequest(Cn.HttpMethod.GET,"/api/v1/app/{app_id}/attempt/msg/{msg_id}");return o.setPathParam("app_id",t),o.setPathParam("msg_id",r),o.setQueryParam("limit",n?.limit),o.setQueryParam("iterator",n?.iterator),o.setQueryParam("status",n?.status),o.setQueryParam("status_code_class",n?.statusCodeClass),o.setQueryParam("channel",n?.channel),o.setQueryParam("tag",n?.tag),o.setQueryParam("endpoint_id",n?.endpointId),o.setQueryParam("before",n?.before),o.setQueryParam("after",n?.after),o.setQueryParam("with_content",n?.withContent),o.setQueryParam("event_types",n?.eventTypes),o.send(this.requestCtx,tQ.ListResponseMessageAttemptOutSerializer._fromJsonObject)}listAttemptedMessages(t,r,n){let o=new Cn.SvixRequest(Cn.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/msg");return o.setPathParam("app_id",t),o.setPathParam("endpoint_id",r),o.setQueryParam("limit",n?.limit),o.setQueryParam("iterator",n?.iterator),o.setQueryParam("channel",n?.channel),o.setQueryParam("tag",n?.tag),o.setQueryParam("status",n?.status),o.setQueryParam("before",n?.before),o.setQueryParam("after",n?.after),o.setQueryParam("with_content",n?.withContent),o.setQueryParam("event_types",n?.eventTypes),o.send(this.requestCtx,STe.ListResponseEndpointMessageOutSerializer._fromJsonObject)}get(t,r,n){let o=new Cn.SvixRequest(Cn.HttpMethod.GET,"/api/v1/app/{app_id}/msg/{msg_id}/attempt/{attempt_id}");return o.setPathParam("app_id",t),o.setPathParam("msg_id",r),o.setPathParam("attempt_id",n),o.send(this.requestCtx,xTe.MessageAttemptOutSerializer._fromJsonObject)}expungeContent(t,r,n){let o=new Cn.SvixRequest(Cn.HttpMethod.DELETE,"/api/v1/app/{app_id}/msg/{msg_id}/attempt/{attempt_id}/content");return o.setPathParam("app_id",t),o.setPathParam("msg_id",r),o.setPathParam("attempt_id",n),o.sendNoResponseBody(this.requestCtx)}listAttemptedDestinations(t,r,n){let o=new Cn.SvixRequest(Cn.HttpMethod.GET,"/api/v1/app/{app_id}/msg/{msg_id}/endpoint");return o.setPathParam("app_id",t),o.setPathParam("msg_id",r),o.setQueryParam("limit",n?.limit),o.setQueryParam("iterator",n?.iterator),o.send(this.requestCtx,wTe.ListResponseMessageEndpointOutSerializer._fromJsonObject)}resend(t,r,n,o){let i=new Cn.SvixRequest(Cn.HttpMethod.POST,"/api/v1/app/{app_id}/msg/{msg_id}/endpoint/{endpoint_id}/resend");return i.setPathParam("app_id",t),i.setPathParam("msg_id",r),i.setPathParam("endpoint_id",n),i.setHeaderParam("idempotency-key",o?.idempotencyKey),i.sendNoResponseBody(this.requestCtx)}};Vb.MessageAttempt=X$});var Y$=D(Zb=>{"use strict";Object.defineProperty(Zb,"__esModule",{value:!0});Zb.OperationalWebhookEndpointOutSerializer=void 0;Zb.OperationalWebhookEndpointOutSerializer={_fromJsonObject(e){return{createdAt:new Date(e.createdAt),description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,id:e.id,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,updatedAt:new Date(e.updatedAt),url:e.url}},_toJsonObject(e){return{createdAt:e.createdAt,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,id:e.id,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,updatedAt:e.updatedAt,url:e.url}}}});var oQ=D(Kb=>{"use strict";Object.defineProperty(Kb,"__esModule",{value:!0});Kb.ListResponseOperationalWebhookEndpointOutSerializer=void 0;var nQ=Y$();Kb.ListResponseOperationalWebhookEndpointOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>nQ.OperationalWebhookEndpointOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>nQ.OperationalWebhookEndpointOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var iQ=D(Gb=>{"use strict";Object.defineProperty(Gb,"__esModule",{value:!0});Gb.OperationalWebhookEndpointHeadersInSerializer=void 0;Gb.OperationalWebhookEndpointHeadersInSerializer={_fromJsonObject(e){return{headers:e.headers}},_toJsonObject(e){return{headers:e.headers}}}});var aQ=D(Wb=>{"use strict";Object.defineProperty(Wb,"__esModule",{value:!0});Wb.OperationalWebhookEndpointHeadersOutSerializer=void 0;Wb.OperationalWebhookEndpointHeadersOutSerializer={_fromJsonObject(e){return{headers:e.headers,sensitive:e.sensitive}},_toJsonObject(e){return{headers:e.headers,sensitive:e.sensitive}}}});var sQ=D(Qb=>{"use strict";Object.defineProperty(Qb,"__esModule",{value:!0});Qb.OperationalWebhookEndpointInSerializer=void 0;Qb.OperationalWebhookEndpointInSerializer={_fromJsonObject(e){return{description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url}},_toJsonObject(e){return{description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url}}}});var uQ=D(Xb=>{"use strict";Object.defineProperty(Xb,"__esModule",{value:!0});Xb.OperationalWebhookEndpointSecretInSerializer=void 0;Xb.OperationalWebhookEndpointSecretInSerializer={_fromJsonObject(e){return{key:e.key}},_toJsonObject(e){return{key:e.key}}}});var cQ=D(Yb=>{"use strict";Object.defineProperty(Yb,"__esModule",{value:!0});Yb.OperationalWebhookEndpointSecretOutSerializer=void 0;Yb.OperationalWebhookEndpointSecretOutSerializer={_fromJsonObject(e){return{key:e.key}},_toJsonObject(e){return{key:e.key}}}});var lQ=D(eS=>{"use strict";Object.defineProperty(eS,"__esModule",{value:!0});eS.OperationalWebhookEndpointUpdateSerializer=void 0;eS.OperationalWebhookEndpointUpdateSerializer={_fromJsonObject(e){return{description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,url:e.url}},_toJsonObject(e){return{description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,url:e.url}}}});var rN=D(tS=>{"use strict";Object.defineProperty(tS,"__esModule",{value:!0});tS.OperationalWebhookEndpoint=void 0;var TTe=oQ(),kTe=iQ(),ETe=aQ(),PTe=sQ(),eN=Y$(),ITe=uQ(),OTe=cQ(),ATe=lQ(),zr=rr(),tN=class{static{a(this,"OperationalWebhookEndpoint")}constructor(t){this.requestCtx=t}list(t){let r=new zr.SvixRequest(zr.HttpMethod.GET,"/api/v1/operational-webhook/endpoint");return r.setQueryParam("limit",t?.limit),r.setQueryParam("iterator",t?.iterator),r.setQueryParam("order",t?.order),r.send(this.requestCtx,TTe.ListResponseOperationalWebhookEndpointOutSerializer._fromJsonObject)}create(t,r){let n=new zr.SvixRequest(zr.HttpMethod.POST,"/api/v1/operational-webhook/endpoint");return n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.setBody(PTe.OperationalWebhookEndpointInSerializer._toJsonObject(t)),n.send(this.requestCtx,eN.OperationalWebhookEndpointOutSerializer._fromJsonObject)}get(t){let r=new zr.SvixRequest(zr.HttpMethod.GET,"/api/v1/operational-webhook/endpoint/{endpoint_id}");return r.setPathParam("endpoint_id",t),r.send(this.requestCtx,eN.OperationalWebhookEndpointOutSerializer._fromJsonObject)}update(t,r){let n=new zr.SvixRequest(zr.HttpMethod.PUT,"/api/v1/operational-webhook/endpoint/{endpoint_id}");return n.setPathParam("endpoint_id",t),n.setBody(ATe.OperationalWebhookEndpointUpdateSerializer._toJsonObject(r)),n.send(this.requestCtx,eN.OperationalWebhookEndpointOutSerializer._fromJsonObject)}delete(t){let r=new zr.SvixRequest(zr.HttpMethod.DELETE,"/api/v1/operational-webhook/endpoint/{endpoint_id}");return r.setPathParam("endpoint_id",t),r.sendNoResponseBody(this.requestCtx)}getHeaders(t){let r=new zr.SvixRequest(zr.HttpMethod.GET,"/api/v1/operational-webhook/endpoint/{endpoint_id}/headers");return r.setPathParam("endpoint_id",t),r.send(this.requestCtx,ETe.OperationalWebhookEndpointHeadersOutSerializer._fromJsonObject)}updateHeaders(t,r){let n=new zr.SvixRequest(zr.HttpMethod.PUT,"/api/v1/operational-webhook/endpoint/{endpoint_id}/headers");return n.setPathParam("endpoint_id",t),n.setBody(kTe.OperationalWebhookEndpointHeadersInSerializer._toJsonObject(r)),n.sendNoResponseBody(this.requestCtx)}getSecret(t){let r=new zr.SvixRequest(zr.HttpMethod.GET,"/api/v1/operational-webhook/endpoint/{endpoint_id}/secret");return r.setPathParam("endpoint_id",t),r.send(this.requestCtx,OTe.OperationalWebhookEndpointSecretOutSerializer._fromJsonObject)}rotateSecret(t,r,n){let o=new zr.SvixRequest(zr.HttpMethod.POST,"/api/v1/operational-webhook/endpoint/{endpoint_id}/secret/rotate");return o.setPathParam("endpoint_id",t),o.setHeaderParam("idempotency-key",n?.idempotencyKey),o.setBody(ITe.OperationalWebhookEndpointSecretInSerializer._toJsonObject(r)),o.sendNoResponseBody(this.requestCtx)}};tS.OperationalWebhookEndpoint=tN});var dQ=D(rS=>{"use strict";Object.defineProperty(rS,"__esModule",{value:!0});rS.OperationalWebhook=void 0;var CTe=rN(),nN=class{static{a(this,"OperationalWebhook")}constructor(t){this.requestCtx=t}get endpoint(){return new CTe.OperationalWebhookEndpoint(this.requestCtx)}};rS.OperationalWebhook=nN});var fQ=D(nS=>{"use strict";Object.defineProperty(nS,"__esModule",{value:!0});nS.AggregateEventTypesOutSerializer=void 0;var pQ=Va(),mQ=Za();nS.AggregateEventTypesOutSerializer={_fromJsonObject(e){return{id:e.id,status:pQ.BackgroundTaskStatusSerializer._fromJsonObject(e.status),task:mQ.BackgroundTaskTypeSerializer._fromJsonObject(e.task)}},_toJsonObject(e){return{id:e.id,status:pQ.BackgroundTaskStatusSerializer._toJsonObject(e.status),task:mQ.BackgroundTaskTypeSerializer._toJsonObject(e.task)}}}});var hQ=D(oS=>{"use strict";Object.defineProperty(oS,"__esModule",{value:!0});oS.AppUsageStatsInSerializer=void 0;oS.AppUsageStatsInSerializer={_fromJsonObject(e){return{appIds:e.appIds,since:new Date(e.since),until:new Date(e.until)}},_toJsonObject(e){return{appIds:e.appIds,since:e.since,until:e.until}}}});var vQ=D(iS=>{"use strict";Object.defineProperty(iS,"__esModule",{value:!0});iS.AppUsageStatsOutSerializer=void 0;var gQ=Va(),yQ=Za();iS.AppUsageStatsOutSerializer={_fromJsonObject(e){return{id:e.id,status:gQ.BackgroundTaskStatusSerializer._fromJsonObject(e.status),task:yQ.BackgroundTaskTypeSerializer._fromJsonObject(e.task),unresolvedAppIds:e.unresolvedAppIds}},_toJsonObject(e){return{id:e.id,status:gQ.BackgroundTaskStatusSerializer._toJsonObject(e.status),task:yQ.BackgroundTaskTypeSerializer._toJsonObject(e.task),unresolvedAppIds:e.unresolvedAppIds}}}});var _Q=D(sS=>{"use strict";Object.defineProperty(sS,"__esModule",{value:!0});sS.Statistics=void 0;var RTe=fQ(),$Te=hQ(),NTe=vQ(),aS=rr(),oN=class{static{a(this,"Statistics")}constructor(t){this.requestCtx=t}aggregateAppStats(t,r){let n=new aS.SvixRequest(aS.HttpMethod.POST,"/api/v1/stats/usage/app");return n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.setBody($Te.AppUsageStatsInSerializer._toJsonObject(t)),n.send(this.requestCtx,NTe.AppUsageStatsOutSerializer._fromJsonObject)}aggregateEventTypes(){return new aS.SvixRequest(aS.HttpMethod.PUT,"/api/v1/stats/usage/event-types").send(this.requestCtx,RTe.AggregateEventTypesOutSerializer._fromJsonObject)}};sS.Statistics=oN});var bQ=D(uS=>{"use strict";Object.defineProperty(uS,"__esModule",{value:!0});uS.HttpSinkHeadersPatchInSerializer=void 0;uS.HttpSinkHeadersPatchInSerializer={_fromJsonObject(e){return{headers:e.headers}},_toJsonObject(e){return{headers:e.headers}}}});var SQ=D(cS=>{"use strict";Object.defineProperty(cS,"__esModule",{value:!0});cS.SinkTransformationOutSerializer=void 0;cS.SinkTransformationOutSerializer={_fromJsonObject(e){return{code:e.code,enabled:e.enabled}},_toJsonObject(e){return{code:e.code,enabled:e.enabled}}}});var iN=D(lS=>{"use strict";Object.defineProperty(lS,"__esModule",{value:!0});lS.StreamEventTypeOutSerializer=void 0;lS.StreamEventTypeOutSerializer={_fromJsonObject(e){return{archived:e.archived,createdAt:new Date(e.createdAt),deprecated:e.deprecated,description:e.description,featureFlags:e.featureFlags,name:e.name,updatedAt:new Date(e.updatedAt)}},_toJsonObject(e){return{archived:e.archived,createdAt:e.createdAt,deprecated:e.deprecated,description:e.description,featureFlags:e.featureFlags,name:e.name,updatedAt:e.updatedAt}}}});var xQ=D(dS=>{"use strict";Object.defineProperty(dS,"__esModule",{value:!0});dS.ListResponseStreamEventTypeOutSerializer=void 0;var wQ=iN();dS.ListResponseStreamEventTypeOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>wQ.StreamEventTypeOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>wQ.StreamEventTypeOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var TQ=D(pS=>{"use strict";Object.defineProperty(pS,"__esModule",{value:!0});pS.StreamEventTypeInSerializer=void 0;pS.StreamEventTypeInSerializer={_fromJsonObject(e){return{archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlags:e.featureFlags,name:e.name}},_toJsonObject(e){return{archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlags:e.featureFlags,name:e.name}}}});var kQ=D(mS=>{"use strict";Object.defineProperty(mS,"__esModule",{value:!0});mS.StreamEventTypePatchSerializer=void 0;mS.StreamEventTypePatchSerializer={_fromJsonObject(e){return{archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlags:e.featureFlags,name:e.name}},_toJsonObject(e){return{archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlags:e.featureFlags,name:e.name}}}});var PQ=D(hS=>{"use strict";Object.defineProperty(hS,"__esModule",{value:!0});hS.StreamingEventType=void 0;var jTe=xQ(),EQ=TQ(),fS=iN(),zTe=kQ(),ao=rr(),aN=class{static{a(this,"StreamingEventType")}constructor(t){this.requestCtx=t}list(t){let r=new ao.SvixRequest(ao.HttpMethod.GET,"/api/v1/stream/event-type");return r.setQueryParam("limit",t?.limit),r.setQueryParam("iterator",t?.iterator),r.setQueryParam("order",t?.order),r.setQueryParam("include_archived",t?.includeArchived),r.send(this.requestCtx,jTe.ListResponseStreamEventTypeOutSerializer._fromJsonObject)}create(t,r){let n=new ao.SvixRequest(ao.HttpMethod.POST,"/api/v1/stream/event-type");return n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.setBody(EQ.StreamEventTypeInSerializer._toJsonObject(t)),n.send(this.requestCtx,fS.StreamEventTypeOutSerializer._fromJsonObject)}get(t){let r=new ao.SvixRequest(ao.HttpMethod.GET,"/api/v1/stream/event-type/{name}");return r.setPathParam("name",t),r.send(this.requestCtx,fS.StreamEventTypeOutSerializer._fromJsonObject)}update(t,r){let n=new ao.SvixRequest(ao.HttpMethod.PUT,"/api/v1/stream/event-type/{name}");return n.setPathParam("name",t),n.setBody(EQ.StreamEventTypeInSerializer._toJsonObject(r)),n.send(this.requestCtx,fS.StreamEventTypeOutSerializer._fromJsonObject)}delete(t,r){let n=new ao.SvixRequest(ao.HttpMethod.DELETE,"/api/v1/stream/event-type/{name}");return n.setPathParam("name",t),n.setQueryParam("expunge",r?.expunge),n.sendNoResponseBody(this.requestCtx)}patch(t,r){let n=new ao.SvixRequest(ao.HttpMethod.PATCH,"/api/v1/stream/event-type/{name}");return n.setPathParam("name",t),n.setBody(zTe.StreamEventTypePatchSerializer._toJsonObject(r)),n.send(this.requestCtx,fS.StreamEventTypeOutSerializer._fromJsonObject)}};hS.StreamingEventType=aN});var IQ=D(gS=>{"use strict";Object.defineProperty(gS,"__esModule",{value:!0});gS.EventInSerializer=void 0;gS.EventInSerializer={_fromJsonObject(e){return{eventType:e.eventType,payload:e.payload}},_toJsonObject(e){return{eventType:e.eventType,payload:e.payload}}}});var sN=D(yS=>{"use strict";Object.defineProperty(yS,"__esModule",{value:!0});yS.StreamInSerializer=void 0;yS.StreamInSerializer={_fromJsonObject(e){return{metadata:e.metadata,name:e.name,uid:e.uid}},_toJsonObject(e){return{metadata:e.metadata,name:e.name,uid:e.uid}}}});var CQ=D(vS=>{"use strict";Object.defineProperty(vS,"__esModule",{value:!0});vS.CreateStreamEventsInSerializer=void 0;var OQ=IQ(),AQ=sN();vS.CreateStreamEventsInSerializer={_fromJsonObject(e){return{events:e.events.map(t=>OQ.EventInSerializer._fromJsonObject(t)),stream:e.stream?AQ.StreamInSerializer._fromJsonObject(e.stream):void 0}},_toJsonObject(e){return{events:e.events.map(t=>OQ.EventInSerializer._toJsonObject(t)),stream:e.stream?AQ.StreamInSerializer._toJsonObject(e.stream):void 0}}}});var RQ=D(_S=>{"use strict";Object.defineProperty(_S,"__esModule",{value:!0});_S.CreateStreamEventsOutSerializer=void 0;_S.CreateStreamEventsOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var $Q=D(bS=>{"use strict";Object.defineProperty(bS,"__esModule",{value:!0});bS.EventOutSerializer=void 0;bS.EventOutSerializer={_fromJsonObject(e){return{eventType:e.eventType,payload:e.payload,timestamp:new Date(e.timestamp)}},_toJsonObject(e){return{eventType:e.eventType,payload:e.payload,timestamp:e.timestamp}}}});var jQ=D(SS=>{"use strict";Object.defineProperty(SS,"__esModule",{value:!0});SS.EventStreamOutSerializer=void 0;var NQ=$Q();SS.EventStreamOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>NQ.EventOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator}},_toJsonObject(e){return{data:e.data.map(t=>NQ.EventOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator}}}});var zQ=D(xS=>{"use strict";Object.defineProperty(xS,"__esModule",{value:!0});xS.StreamingEvents=void 0;var DTe=CQ(),MTe=RQ(),qTe=jQ(),wS=rr(),uN=class{static{a(this,"StreamingEvents")}constructor(t){this.requestCtx=t}create(t,r,n){let o=new wS.SvixRequest(wS.HttpMethod.POST,"/api/v1/stream/{stream_id}/events");return o.setPathParam("stream_id",t),o.setHeaderParam("idempotency-key",n?.idempotencyKey),o.setBody(DTe.CreateStreamEventsInSerializer._toJsonObject(r)),o.send(this.requestCtx,MTe.CreateStreamEventsOutSerializer._fromJsonObject)}get(t,r,n){let o=new wS.SvixRequest(wS.HttpMethod.GET,"/api/v1/stream/{stream_id}/sink/{sink_id}/events");return o.setPathParam("stream_id",t),o.setPathParam("sink_id",r),o.setQueryParam("limit",n?.limit),o.setQueryParam("iterator",n?.iterator),o.setQueryParam("after",n?.after),o.send(this.requestCtx,qTe.EventStreamOutSerializer._fromJsonObject)}};xS.StreamingEvents=uN});var DQ=D(TS=>{"use strict";Object.defineProperty(TS,"__esModule",{value:!0});TS.EmptyResponseSerializer=void 0;TS.EmptyResponseSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var cN=D(kS=>{"use strict";Object.defineProperty(kS,"__esModule",{value:!0});kS.AzureBlobStorageConfigSerializer=void 0;kS.AzureBlobStorageConfigSerializer={_fromJsonObject(e){return{accessKey:e.accessKey,account:e.account,container:e.container}},_toJsonObject(e){return{accessKey:e.accessKey,account:e.account,container:e.container}}}});var lN=D(ES=>{"use strict";Object.defineProperty(ES,"__esModule",{value:!0});ES.GoogleCloudStorageConfigSerializer=void 0;ES.GoogleCloudStorageConfigSerializer={_fromJsonObject(e){return{bucket:e.bucket,credentials:e.credentials}},_toJsonObject(e){return{bucket:e.bucket,credentials:e.credentials}}}});var dN=D(PS=>{"use strict";Object.defineProperty(PS,"__esModule",{value:!0});PS.S3ConfigSerializer=void 0;PS.S3ConfigSerializer={_fromJsonObject(e){return{accessKeyId:e.accessKeyId,bucket:e.bucket,region:e.region,secretAccessKey:e.secretAccessKey}},_toJsonObject(e){return{accessKeyId:e.accessKeyId,bucket:e.bucket,region:e.region,secretAccessKey:e.secretAccessKey}}}});var pN=D(IS=>{"use strict";Object.defineProperty(IS,"__esModule",{value:!0});IS.SinkHttpConfigSerializer=void 0;IS.SinkHttpConfigSerializer={_fromJsonObject(e){return{headers:e.headers,key:e.key,url:e.url}},_toJsonObject(e){return{headers:e.headers,key:e.key,url:e.url}}}});var mN=D(OS=>{"use strict";Object.defineProperty(OS,"__esModule",{value:!0});OS.SinkOtelV1ConfigSerializer=void 0;OS.SinkOtelV1ConfigSerializer={_fromJsonObject(e){return{headers:e.headers,url:e.url}},_toJsonObject(e){return{headers:e.headers,url:e.url}}}});var fN=D(Bs=>{"use strict";Object.defineProperty(Bs,"__esModule",{value:!0});Bs.SinkStatusSerializer=Bs.SinkStatus=void 0;var UTe;(function(e){e.Enabled="enabled",e.Paused="paused",e.Disabled="disabled",e.Retrying="retrying"})(UTe=Bs.SinkStatus||(Bs.SinkStatus={}));Bs.SinkStatusSerializer={_fromJsonObject(e){return e},_toJsonObject(e){return e}}});var hN=D(AS=>{"use strict";Object.defineProperty(AS,"__esModule",{value:!0});AS.StreamSinkOutSerializer=void 0;var MQ=cN(),qQ=lN(),UQ=dN(),LQ=pN(),FQ=mN(),JQ=fN();AS.StreamSinkOutSerializer={_fromJsonObject(e){let t=e.type;function r(n){switch(n){case"poller":return{};case"azureBlobStorage":return MQ.AzureBlobStorageConfigSerializer._fromJsonObject(e.config);case"otelTracing":return FQ.SinkOtelV1ConfigSerializer._fromJsonObject(e.config);case"http":return LQ.SinkHttpConfigSerializer._fromJsonObject(e.config);case"amazonS3":return UQ.S3ConfigSerializer._fromJsonObject(e.config);case"googleCloudStorage":return qQ.GoogleCloudStorageConfigSerializer._fromJsonObject(e.config);default:throw new Error(`Unexpected type: ${n}`)}}return a(r,"getConfig"),{type:t,config:r(t),batchSize:e.batchSize,createdAt:new Date(e.createdAt),currentIterator:e.currentIterator,eventTypes:e.eventTypes,failureReason:e.failureReason,id:e.id,maxWaitSecs:e.maxWaitSecs,metadata:e.metadata,nextRetryAt:e.nextRetryAt?new Date(e.nextRetryAt):null,status:JQ.SinkStatusSerializer._fromJsonObject(e.status),uid:e.uid,updatedAt:new Date(e.updatedAt)}},_toJsonObject(e){let t;switch(e.type){case"poller":t={};break;case"azureBlobStorage":t=MQ.AzureBlobStorageConfigSerializer._toJsonObject(e.config);break;case"otelTracing":t=FQ.SinkOtelV1ConfigSerializer._toJsonObject(e.config);break;case"http":t=LQ.SinkHttpConfigSerializer._toJsonObject(e.config);break;case"amazonS3":t=UQ.S3ConfigSerializer._toJsonObject(e.config);break;case"googleCloudStorage":t=qQ.GoogleCloudStorageConfigSerializer._toJsonObject(e.config);break}return{type:e.type,config:t,batchSize:e.batchSize,createdAt:e.createdAt,currentIterator:e.currentIterator,eventTypes:e.eventTypes,failureReason:e.failureReason,id:e.id,maxWaitSecs:e.maxWaitSecs,metadata:e.metadata,nextRetryAt:e.nextRetryAt,status:JQ.SinkStatusSerializer._toJsonObject(e.status),uid:e.uid,updatedAt:e.updatedAt}}}});var HQ=D(CS=>{"use strict";Object.defineProperty(CS,"__esModule",{value:!0});CS.ListResponseStreamSinkOutSerializer=void 0;var BQ=hN();CS.ListResponseStreamSinkOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>BQ.StreamSinkOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>BQ.StreamSinkOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var VQ=D(RS=>{"use strict";Object.defineProperty(RS,"__esModule",{value:!0});RS.SinkSecretOutSerializer=void 0;RS.SinkSecretOutSerializer={_fromJsonObject(e){return{key:e.key}},_toJsonObject(e){return{key:e.key}}}});var ZQ=D($S=>{"use strict";Object.defineProperty($S,"__esModule",{value:!0});$S.SinkTransformInSerializer=void 0;$S.SinkTransformInSerializer={_fromJsonObject(e){return{code:e.code}},_toJsonObject(e){return{code:e.code}}}});var NS=D(Hs=>{"use strict";Object.defineProperty(Hs,"__esModule",{value:!0});Hs.SinkStatusInSerializer=Hs.SinkStatusIn=void 0;var LTe;(function(e){e.Enabled="enabled",e.Disabled="disabled"})(LTe=Hs.SinkStatusIn||(Hs.SinkStatusIn={}));Hs.SinkStatusInSerializer={_fromJsonObject(e){return e},_toJsonObject(e){return e}}});var e7=D(jS=>{"use strict";Object.defineProperty(jS,"__esModule",{value:!0});jS.StreamSinkInSerializer=void 0;var KQ=cN(),GQ=lN(),WQ=dN(),QQ=pN(),XQ=mN(),YQ=NS();jS.StreamSinkInSerializer={_fromJsonObject(e){let t=e.type;function r(n){switch(n){case"poller":return{};case"azureBlobStorage":return KQ.AzureBlobStorageConfigSerializer._fromJsonObject(e.config);case"otelTracing":return XQ.SinkOtelV1ConfigSerializer._fromJsonObject(e.config);case"http":return QQ.SinkHttpConfigSerializer._fromJsonObject(e.config);case"amazonS3":return WQ.S3ConfigSerializer._fromJsonObject(e.config);case"googleCloudStorage":return GQ.GoogleCloudStorageConfigSerializer._fromJsonObject(e.config);default:throw new Error(`Unexpected type: ${n}`)}}return a(r,"getConfig"),{type:t,config:r(t),batchSize:e.batchSize,eventTypes:e.eventTypes,maxWaitSecs:e.maxWaitSecs,metadata:e.metadata,status:e.status?YQ.SinkStatusInSerializer._fromJsonObject(e.status):void 0,uid:e.uid}},_toJsonObject(e){let t;switch(e.type){case"poller":t={};break;case"azureBlobStorage":t=KQ.AzureBlobStorageConfigSerializer._toJsonObject(e.config);break;case"otelTracing":t=XQ.SinkOtelV1ConfigSerializer._toJsonObject(e.config);break;case"http":t=QQ.SinkHttpConfigSerializer._toJsonObject(e.config);break;case"amazonS3":t=WQ.S3ConfigSerializer._toJsonObject(e.config);break;case"googleCloudStorage":t=GQ.GoogleCloudStorageConfigSerializer._toJsonObject(e.config);break}return{type:e.type,config:t,batchSize:e.batchSize,eventTypes:e.eventTypes,maxWaitSecs:e.maxWaitSecs,metadata:e.metadata,status:e.status?YQ.SinkStatusInSerializer._toJsonObject(e.status):void 0,uid:e.uid}}}});var t7=D(zS=>{"use strict";Object.defineProperty(zS,"__esModule",{value:!0});zS.AmazonS3PatchConfigSerializer=void 0;zS.AmazonS3PatchConfigSerializer={_fromJsonObject(e){return{accessKeyId:e.accessKeyId,bucket:e.bucket,region:e.region,secretAccessKey:e.secretAccessKey}},_toJsonObject(e){return{accessKeyId:e.accessKeyId,bucket:e.bucket,region:e.region,secretAccessKey:e.secretAccessKey}}}});var r7=D(DS=>{"use strict";Object.defineProperty(DS,"__esModule",{value:!0});DS.AzureBlobStoragePatchConfigSerializer=void 0;DS.AzureBlobStoragePatchConfigSerializer={_fromJsonObject(e){return{accessKey:e.accessKey,account:e.account,container:e.container}},_toJsonObject(e){return{accessKey:e.accessKey,account:e.account,container:e.container}}}});var n7=D(MS=>{"use strict";Object.defineProperty(MS,"__esModule",{value:!0});MS.GoogleCloudStoragePatchConfigSerializer=void 0;MS.GoogleCloudStoragePatchConfigSerializer={_fromJsonObject(e){return{bucket:e.bucket,credentials:e.credentials}},_toJsonObject(e){return{bucket:e.bucket,credentials:e.credentials}}}});var o7=D(qS=>{"use strict";Object.defineProperty(qS,"__esModule",{value:!0});qS.HttpPatchConfigSerializer=void 0;qS.HttpPatchConfigSerializer={_fromJsonObject(e){return{url:e.url}},_toJsonObject(e){return{url:e.url}}}});var i7=D(US=>{"use strict";Object.defineProperty(US,"__esModule",{value:!0});US.OtelTracingPatchConfigSerializer=void 0;US.OtelTracingPatchConfigSerializer={_fromJsonObject(e){return{url:e.url}},_toJsonObject(e){return{url:e.url}}}});var p7=D(LS=>{"use strict";Object.defineProperty(LS,"__esModule",{value:!0});LS.StreamSinkPatchSerializer=void 0;var a7=t7(),s7=r7(),u7=n7(),c7=o7(),l7=i7(),d7=NS();LS.StreamSinkPatchSerializer={_fromJsonObject(e){let t=e.type;function r(n){switch(n){case"poller":return{};case"azureBlobStorage":return s7.AzureBlobStoragePatchConfigSerializer._fromJsonObject(e.config);case"otelTracing":return l7.OtelTracingPatchConfigSerializer._fromJsonObject(e.config);case"http":return c7.HttpPatchConfigSerializer._fromJsonObject(e.config);case"amazonS3":return a7.AmazonS3PatchConfigSerializer._fromJsonObject(e.config);case"googleCloudStorage":return u7.GoogleCloudStoragePatchConfigSerializer._fromJsonObject(e.config);default:throw new Error(`Unexpected type: ${n}`)}}return a(r,"getConfig"),{type:t,config:r(t),batchSize:e.batchSize,eventTypes:e.eventTypes,maxWaitSecs:e.maxWaitSecs,metadata:e.metadata,status:e.status?d7.SinkStatusInSerializer._fromJsonObject(e.status):void 0,uid:e.uid}},_toJsonObject(e){let t;switch(e.type){case"poller":t={};break;case"azureBlobStorage":t=s7.AzureBlobStoragePatchConfigSerializer._toJsonObject(e.config);break;case"otelTracing":t=l7.OtelTracingPatchConfigSerializer._toJsonObject(e.config);break;case"http":t=c7.HttpPatchConfigSerializer._toJsonObject(e.config);break;case"amazonS3":t=a7.AmazonS3PatchConfigSerializer._toJsonObject(e.config);break;case"googleCloudStorage":t=u7.GoogleCloudStoragePatchConfigSerializer._toJsonObject(e.config);break}return{type:e.type,config:t,batchSize:e.batchSize,eventTypes:e.eventTypes,maxWaitSecs:e.maxWaitSecs,metadata:e.metadata,status:e.status?d7.SinkStatusInSerializer._toJsonObject(e.status):void 0,uid:e.uid}}}});var h7=D(JS=>{"use strict";Object.defineProperty(JS,"__esModule",{value:!0});JS.StreamingSink=void 0;var m7=DQ(),FTe=A$(),JTe=HQ(),BTe=VQ(),HTe=ZQ(),f7=e7(),FS=hN(),VTe=p7(),Dr=rr(),gN=class{static{a(this,"StreamingSink")}constructor(t){this.requestCtx=t}list(t,r){let n=new Dr.SvixRequest(Dr.HttpMethod.GET,"/api/v1/stream/{stream_id}/sink");return n.setPathParam("stream_id",t),n.setQueryParam("limit",r?.limit),n.setQueryParam("iterator",r?.iterator),n.setQueryParam("order",r?.order),n.send(this.requestCtx,JTe.ListResponseStreamSinkOutSerializer._fromJsonObject)}create(t,r,n){let o=new Dr.SvixRequest(Dr.HttpMethod.POST,"/api/v1/stream/{stream_id}/sink");return o.setPathParam("stream_id",t),o.setHeaderParam("idempotency-key",n?.idempotencyKey),o.setBody(f7.StreamSinkInSerializer._toJsonObject(r)),o.send(this.requestCtx,FS.StreamSinkOutSerializer._fromJsonObject)}get(t,r){let n=new Dr.SvixRequest(Dr.HttpMethod.GET,"/api/v1/stream/{stream_id}/sink/{sink_id}");return n.setPathParam("stream_id",t),n.setPathParam("sink_id",r),n.send(this.requestCtx,FS.StreamSinkOutSerializer._fromJsonObject)}update(t,r,n){let o=new Dr.SvixRequest(Dr.HttpMethod.PUT,"/api/v1/stream/{stream_id}/sink/{sink_id}");return o.setPathParam("stream_id",t),o.setPathParam("sink_id",r),o.setBody(f7.StreamSinkInSerializer._toJsonObject(n)),o.send(this.requestCtx,FS.StreamSinkOutSerializer._fromJsonObject)}delete(t,r){let n=new Dr.SvixRequest(Dr.HttpMethod.DELETE,"/api/v1/stream/{stream_id}/sink/{sink_id}");return n.setPathParam("stream_id",t),n.setPathParam("sink_id",r),n.sendNoResponseBody(this.requestCtx)}patch(t,r,n){let o=new Dr.SvixRequest(Dr.HttpMethod.PATCH,"/api/v1/stream/{stream_id}/sink/{sink_id}");return o.setPathParam("stream_id",t),o.setPathParam("sink_id",r),o.setBody(VTe.StreamSinkPatchSerializer._toJsonObject(n)),o.send(this.requestCtx,FS.StreamSinkOutSerializer._fromJsonObject)}getSecret(t,r){let n=new Dr.SvixRequest(Dr.HttpMethod.GET,"/api/v1/stream/{stream_id}/sink/{sink_id}/secret");return n.setPathParam("stream_id",t),n.setPathParam("sink_id",r),n.send(this.requestCtx,BTe.SinkSecretOutSerializer._fromJsonObject)}rotateSecret(t,r,n,o){let i=new Dr.SvixRequest(Dr.HttpMethod.POST,"/api/v1/stream/{stream_id}/sink/{sink_id}/secret/rotate");return i.setPathParam("stream_id",t),i.setPathParam("sink_id",r),i.setHeaderParam("idempotency-key",o?.idempotencyKey),i.setBody(FTe.EndpointSecretRotateInSerializer._toJsonObject(n)),i.send(this.requestCtx,m7.EmptyResponseSerializer._fromJsonObject)}transformationPartialUpdate(t,r,n){let o=new Dr.SvixRequest(Dr.HttpMethod.PATCH,"/api/v1/stream/{stream_id}/sink/{sink_id}/transformation");return o.setPathParam("stream_id",t),o.setPathParam("sink_id",r),o.setBody(HTe.SinkTransformInSerializer._toJsonObject(n)),o.send(this.requestCtx,m7.EmptyResponseSerializer._fromJsonObject)}};JS.StreamingSink=gN});var yN=D(BS=>{"use strict";Object.defineProperty(BS,"__esModule",{value:!0});BS.StreamOutSerializer=void 0;BS.StreamOutSerializer={_fromJsonObject(e){return{createdAt:new Date(e.createdAt),id:e.id,metadata:e.metadata,name:e.name,uid:e.uid,updatedAt:new Date(e.updatedAt)}},_toJsonObject(e){return{createdAt:e.createdAt,id:e.id,metadata:e.metadata,name:e.name,uid:e.uid,updatedAt:e.updatedAt}}}});var y7=D(HS=>{"use strict";Object.defineProperty(HS,"__esModule",{value:!0});HS.ListResponseStreamOutSerializer=void 0;var g7=yN();HS.ListResponseStreamOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>g7.StreamOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>g7.StreamOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var v7=D(VS=>{"use strict";Object.defineProperty(VS,"__esModule",{value:!0});VS.StreamPatchSerializer=void 0;VS.StreamPatchSerializer={_fromJsonObject(e){return{description:e.description,metadata:e.metadata,uid:e.uid}},_toJsonObject(e){return{description:e.description,metadata:e.metadata,uid:e.uid}}}});var b7=D(KS=>{"use strict";Object.defineProperty(KS,"__esModule",{value:!0});KS.StreamingStream=void 0;var ZTe=y7(),_7=sN(),ZS=yN(),KTe=v7(),so=rr(),vN=class{static{a(this,"StreamingStream")}constructor(t){this.requestCtx=t}list(t){let r=new so.SvixRequest(so.HttpMethod.GET,"/api/v1/stream");return r.setQueryParam("limit",t?.limit),r.setQueryParam("iterator",t?.iterator),r.setQueryParam("order",t?.order),r.send(this.requestCtx,ZTe.ListResponseStreamOutSerializer._fromJsonObject)}create(t,r){let n=new so.SvixRequest(so.HttpMethod.POST,"/api/v1/stream");return n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.setBody(_7.StreamInSerializer._toJsonObject(t)),n.send(this.requestCtx,ZS.StreamOutSerializer._fromJsonObject)}get(t){let r=new so.SvixRequest(so.HttpMethod.GET,"/api/v1/stream/{stream_id}");return r.setPathParam("stream_id",t),r.send(this.requestCtx,ZS.StreamOutSerializer._fromJsonObject)}update(t,r){let n=new so.SvixRequest(so.HttpMethod.PUT,"/api/v1/stream/{stream_id}");return n.setPathParam("stream_id",t),n.setBody(_7.StreamInSerializer._toJsonObject(r)),n.send(this.requestCtx,ZS.StreamOutSerializer._fromJsonObject)}delete(t){let r=new so.SvixRequest(so.HttpMethod.DELETE,"/api/v1/stream/{stream_id}");return r.setPathParam("stream_id",t),r.sendNoResponseBody(this.requestCtx)}patch(t,r){let n=new so.SvixRequest(so.HttpMethod.PATCH,"/api/v1/stream/{stream_id}");return n.setPathParam("stream_id",t),n.setBody(KTe.StreamPatchSerializer._toJsonObject(r)),n.send(this.requestCtx,ZS.StreamOutSerializer._fromJsonObject)}};KS.StreamingStream=vN});var w7=D(GS=>{"use strict";Object.defineProperty(GS,"__esModule",{value:!0});GS.Streaming=void 0;var S7=I$(),GTe=bQ(),WTe=SQ(),QTe=PQ(),XTe=zQ(),YTe=h7(),eke=b7(),Xc=rr(),_N=class{static{a(this,"Streaming")}constructor(t){this.requestCtx=t}get event_type(){return new QTe.StreamingEventType(this.requestCtx)}get events(){return new XTe.StreamingEvents(this.requestCtx)}get sink(){return new YTe.StreamingSink(this.requestCtx)}get stream(){return new eke.StreamingStream(this.requestCtx)}sinkHeadersGet(t,r){let n=new Xc.SvixRequest(Xc.HttpMethod.GET,"/api/v1/stream/{stream_id}/sink/{sink_id}/headers");return n.setPathParam("stream_id",t),n.setPathParam("sink_id",r),n.send(this.requestCtx,S7.EndpointHeadersOutSerializer._fromJsonObject)}sinkHeadersPatch(t,r,n){let o=new Xc.SvixRequest(Xc.HttpMethod.PATCH,"/api/v1/stream/{stream_id}/sink/{sink_id}/headers");return o.setPathParam("stream_id",t),o.setPathParam("sink_id",r),o.setBody(GTe.HttpSinkHeadersPatchInSerializer._toJsonObject(n)),o.send(this.requestCtx,S7.EndpointHeadersOutSerializer._fromJsonObject)}sinkTransformationGet(t,r){let n=new Xc.SvixRequest(Xc.HttpMethod.GET,"/api/v1/stream/{stream_id}/sink/{sink_id}/transformation");return n.setPathParam("stream_id",t),n.setPathParam("sink_id",r),n.send(this.requestCtx,WTe.SinkTransformationOutSerializer._fromJsonObject)}};GS.Streaming=_N});var x7=D(Ka=>{"use strict";Object.defineProperty(Ka,"__esModule",{value:!0});Ka.HTTPValidationError=Ka.ValidationError=Ka.HttpErrorOut=void 0;var Yc=class e{static{a(this,"HttpErrorOut")}static getAttributeTypeMap(){return e.attributeTypeMap}};Ka.HttpErrorOut=Yc;Yc.discriminator=void 0;Yc.mapping=void 0;Yc.attributeTypeMap=[{name:"code",baseName:"code",type:"string",format:""},{name:"detail",baseName:"detail",type:"string",format:""}];var el=class e{static{a(this,"ValidationError")}static getAttributeTypeMap(){return e.attributeTypeMap}};Ka.ValidationError=el;el.discriminator=void 0;el.mapping=void 0;el.attributeTypeMap=[{name:"loc",baseName:"loc",type:"Array<string>",format:""},{name:"msg",baseName:"msg",type:"string",format:""},{name:"type",baseName:"type",type:"string",format:""}];var tl=class e{static{a(this,"HTTPValidationError")}static getAttributeTypeMap(){return e.attributeTypeMap}};Ka.HTTPValidationError=tl;tl.discriminator=void 0;tl.mapping=void 0;tl.attributeTypeMap=[{name:"detail",baseName:"detail",type:"Array<ValidationError>",format:""}]});var k7=D(WS=>{"use strict";Object.defineProperty(WS,"__esModule",{value:!0});WS.timingSafeEqual=void 0;function T7(e,t=""){if(!e)throw new Error(t)}a(T7,"assert");function tke(e,t){if(e.byteLength!==t.byteLength)return!1;e instanceof DataView||(e=new DataView(ArrayBuffer.isView(e)?e.buffer:e)),t instanceof DataView||(t=new DataView(ArrayBuffer.isView(t)?t.buffer:t)),T7(e instanceof DataView),T7(t instanceof DataView);let r=e.byteLength,n=0,o=-1;for(;++o<r;)n|=e.getUint8(o)^t.getUint8(o);return n===0}a(tke,"timingSafeEqual");WS.timingSafeEqual=tke});var I7=D(Hn=>{"use strict";var rke=Hn&&Hn.__extends||(function(){var e=a(function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},e(t,r)},"extendStatics");return function(t,r){e(t,r);function n(){this.constructor=t}a(n,"__"),t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(Hn,"__esModule",{value:!0});var kr=256,bN=(function(){function e(t){t===void 0&&(t="="),this._paddingCharacter=t}return a(e,"Coder"),e.prototype.encodedLength=function(t){return this._paddingCharacter?(t+2)/3*4|0:(t*8+5)/6|0},e.prototype.encode=function(t){for(var r="",n=0;n<t.length-2;n+=3){var o=t[n]<<16|t[n+1]<<8|t[n+2];r+=this._encodeByte(o>>>18&63),r+=this._encodeByte(o>>>12&63),r+=this._encodeByte(o>>>6&63),r+=this._encodeByte(o>>>0&63)}var i=t.length-n;if(i>0){var o=t[n]<<16|(i===2?t[n+1]<<8:0);r+=this._encodeByte(o>>>18&63),r+=this._encodeByte(o>>>12&63),i===2?r+=this._encodeByte(o>>>6&63):r+=this._paddingCharacter||"",r+=this._paddingCharacter||""}return r},e.prototype.maxDecodedLength=function(t){return this._paddingCharacter?t/4*3|0:(t*6+7)/8|0},e.prototype.decodedLength=function(t){return this.maxDecodedLength(t.length-this._getPaddingLength(t))},e.prototype.decode=function(t){if(t.length===0)return new Uint8Array(0);for(var r=this._getPaddingLength(t),n=t.length-r,o=new Uint8Array(this.maxDecodedLength(n)),i=0,s=0,u=0,l=0,d=0,p=0,f=0;s<n-4;s+=4)l=this._decodeChar(t.charCodeAt(s+0)),d=this._decodeChar(t.charCodeAt(s+1)),p=this._decodeChar(t.charCodeAt(s+2)),f=this._decodeChar(t.charCodeAt(s+3)),o[i++]=l<<2|d>>>4,o[i++]=d<<4|p>>>2,o[i++]=p<<6|f,u|=l&kr,u|=d&kr,u|=p&kr,u|=f&kr;if(s<n-1&&(l=this._decodeChar(t.charCodeAt(s)),d=this._decodeChar(t.charCodeAt(s+1)),o[i++]=l<<2|d>>>4,u|=l&kr,u|=d&kr),s<n-2&&(p=this._decodeChar(t.charCodeAt(s+2)),o[i++]=d<<4|p>>>2,u|=p&kr),s<n-3&&(f=this._decodeChar(t.charCodeAt(s+3)),o[i++]=p<<6|f,u|=f&kr),u!==0)throw new Error("Base64Coder: incorrect characters for decoding");return o},e.prototype._encodeByte=function(t){var r=t;return r+=65,r+=25-t>>>8&6,r+=51-t>>>8&-75,r+=61-t>>>8&-15,r+=62-t>>>8&3,String.fromCharCode(r)},e.prototype._decodeChar=function(t){var r=kr;return r+=(42-t&t-44)>>>8&-kr+t-43+62,r+=(46-t&t-48)>>>8&-kr+t-47+63,r+=(47-t&t-58)>>>8&-kr+t-48+52,r+=(64-t&t-91)>>>8&-kr+t-65+0,r+=(96-t&t-123)>>>8&-kr+t-97+26,r},e.prototype._getPaddingLength=function(t){var r=0;if(this._paddingCharacter){for(var n=t.length-1;n>=0&&t[n]===this._paddingCharacter;n--)r++;if(t.length<4||r>2)throw new Error("Base64Coder: incorrect padding")}return r},e})();Hn.Coder=bN;var Cm=new bN;function nke(e){return Cm.encode(e)}a(nke,"encode");Hn.encode=nke;function oke(e){return Cm.decode(e)}a(oke,"decode");Hn.decode=oke;var E7=(function(e){rke(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return a(t,"URLSafeCoder"),t.prototype._encodeByte=function(r){var n=r;return n+=65,n+=25-r>>>8&6,n+=51-r>>>8&-75,n+=61-r>>>8&-13,n+=62-r>>>8&49,String.fromCharCode(n)},t.prototype._decodeChar=function(r){var n=kr;return n+=(44-r&r-46)>>>8&-kr+r-45+62,n+=(94-r&r-96)>>>8&-kr+r-95+63,n+=(47-r&r-58)>>>8&-kr+r-48+52,n+=(64-r&r-91)>>>8&-kr+r-65+0,n+=(96-r&r-123)>>>8&-kr+r-97+26,n},t})(bN);Hn.URLSafeCoder=E7;var P7=new E7;function ike(e){return P7.encode(e)}a(ike,"encodeURLSafe");Hn.encodeURLSafe=ike;function ake(e){return P7.decode(e)}a(ake,"decodeURLSafe");Hn.decodeURLSafe=ake;Hn.encodedLength=function(e){return Cm.encodedLength(e)};Hn.maxDecodedLength=function(e){return Cm.maxDecodedLength(e)};Hn.decodedLength=function(e){return Cm.decodedLength(e)}});var A7=D((O7,QS)=>{(function(e,t){var r={};t(r);var n=r.default;for(var o in r)n[o]=r[o];typeof QS=="object"&&typeof QS.exports=="object"?QS.exports=n:typeof define=="function"&&define.amd?define(function(){return n}):e.sha256=n})(O7,function(e){"use strict";e.__esModule=!0,e.digestLength=32,e.blockSize=64;var t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function r(f,m,y,g,h){for(var v,S,b,w,k,$,A,O,R,I,N,z,X;h>=64;){for(v=m[0],S=m[1],b=m[2],w=m[3],k=m[4],$=m[5],A=m[6],O=m[7],I=0;I<16;I++)N=g+I*4,f[I]=(y[N]&255)<<24|(y[N+1]&255)<<16|(y[N+2]&255)<<8|y[N+3]&255;for(I=16;I<64;I++)R=f[I-2],z=(R>>>17|R<<15)^(R>>>19|R<<13)^R>>>10,R=f[I-15],X=(R>>>7|R<<25)^(R>>>18|R<<14)^R>>>3,f[I]=(z+f[I-7]|0)+(X+f[I-16]|0);for(I=0;I<64;I++)z=(((k>>>6|k<<26)^(k>>>11|k<<21)^(k>>>25|k<<7))+(k&$^~k&A)|0)+(O+(t[I]+f[I]|0)|0)|0,X=((v>>>2|v<<30)^(v>>>13|v<<19)^(v>>>22|v<<10))+(v&S^v&b^S&b)|0,O=A,A=$,$=k,k=w+z|0,w=b,b=S,S=v,v=z+X|0;m[0]+=v,m[1]+=S,m[2]+=b,m[3]+=w,m[4]+=k,m[5]+=$,m[6]+=A,m[7]+=O,g+=64,h-=64}return g}a(r,"hashBlocks");var n=(function(){function f(){this.digestLength=e.digestLength,this.blockSize=e.blockSize,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}return a(f,"Hash"),f.prototype.reset=function(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this},f.prototype.clean=function(){for(var m=0;m<this.buffer.length;m++)this.buffer[m]=0;for(var m=0;m<this.temp.length;m++)this.temp[m]=0;this.reset()},f.prototype.update=function(m,y){if(y===void 0&&(y=m.length),this.finished)throw new Error("SHA256: can't update because hash was finished.");var g=0;if(this.bytesHashed+=y,this.bufferLength>0){for(;this.bufferLength<64&&y>0;)this.buffer[this.bufferLength++]=m[g++],y--;this.bufferLength===64&&(r(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(y>=64&&(g=r(this.temp,this.state,m,g,y),y%=64);y>0;)this.buffer[this.bufferLength++]=m[g++],y--;return this},f.prototype.finish=function(m){if(!this.finished){var y=this.bytesHashed,g=this.bufferLength,h=y/536870912|0,v=y<<3,S=y%64<56?64:128;this.buffer[g]=128;for(var b=g+1;b<S-8;b++)this.buffer[b]=0;this.buffer[S-8]=h>>>24&255,this.buffer[S-7]=h>>>16&255,this.buffer[S-6]=h>>>8&255,this.buffer[S-5]=h>>>0&255,this.buffer[S-4]=v>>>24&255,this.buffer[S-3]=v>>>16&255,this.buffer[S-2]=v>>>8&255,this.buffer[S-1]=v>>>0&255,r(this.temp,this.state,this.buffer,0,S),this.finished=!0}for(var b=0;b<8;b++)m[b*4+0]=this.state[b]>>>24&255,m[b*4+1]=this.state[b]>>>16&255,m[b*4+2]=this.state[b]>>>8&255,m[b*4+3]=this.state[b]>>>0&255;return this},f.prototype.digest=function(){var m=new Uint8Array(this.digestLength);return this.finish(m),m},f.prototype._saveState=function(m){for(var y=0;y<this.state.length;y++)m[y]=this.state[y]},f.prototype._restoreState=function(m,y){for(var g=0;g<this.state.length;g++)this.state[g]=m[g];this.bytesHashed=y,this.finished=!1,this.bufferLength=0},f})();e.Hash=n;var o=(function(){function f(m){this.inner=new n,this.outer=new n,this.blockSize=this.inner.blockSize,this.digestLength=this.inner.digestLength;var y=new Uint8Array(this.blockSize);if(m.length>this.blockSize)new n().update(m).finish(y).clean();else for(var g=0;g<m.length;g++)y[g]=m[g];for(var g=0;g<y.length;g++)y[g]^=54;this.inner.update(y);for(var g=0;g<y.length;g++)y[g]^=106;this.outer.update(y),this.istate=new Uint32Array(8),this.ostate=new Uint32Array(8),this.inner._saveState(this.istate),this.outer._saveState(this.ostate);for(var g=0;g<y.length;g++)y[g]=0}return a(f,"HMAC"),f.prototype.reset=function(){return this.inner._restoreState(this.istate,this.inner.blockSize),this.outer._restoreState(this.ostate,this.outer.blockSize),this},f.prototype.clean=function(){for(var m=0;m<this.istate.length;m++)this.ostate[m]=this.istate[m]=0;this.inner.clean(),this.outer.clean()},f.prototype.update=function(m){return this.inner.update(m),this},f.prototype.finish=function(m){return this.outer.finished?this.outer.finish(m):(this.inner.finish(m),this.outer.update(m,this.digestLength).finish(m)),this},f.prototype.digest=function(){var m=new Uint8Array(this.digestLength);return this.finish(m),m},f})();e.HMAC=o;function i(f){var m=new n().update(f),y=m.digest();return m.clean(),y}a(i,"hash"),e.hash=i,e.default=i;function s(f,m){var y=new o(f).update(m),g=y.digest();return y.clean(),g}a(s,"hmac"),e.hmac=s;function u(f,m,y,g){var h=g[0];if(h===0)throw new Error("hkdf: cannot expand more");m.reset(),h>1&&m.update(f),y&&m.update(y),m.update(g),m.finish(f),g[0]++}a(u,"fillBuffer");var l=new Uint8Array(e.digestLength);function d(f,m,y,g){m===void 0&&(m=l),g===void 0&&(g=32);for(var h=new Uint8Array([1]),v=s(m,f),S=new o(v),b=new Uint8Array(S.digestLength),w=b.length,k=new Uint8Array(g),$=0;$<g;$++)w===b.length&&(u(b,S,y,h),w=0),k[$]=b[w++];return S.clean(),b.fill(0),h.fill(0),k}a(d,"hkdf"),e.hkdf=d;function p(f,m,y,g){for(var h=new o(f),v=h.digestLength,S=new Uint8Array(4),b=new Uint8Array(v),w=new Uint8Array(v),k=new Uint8Array(g),$=0;$*v<g;$++){var A=$+1;S[0]=A>>>24&255,S[1]=A>>>16&255,S[2]=A>>>8&255,S[3]=A>>>0&255,h.reset(),h.update(m),h.update(S),h.finish(w);for(var O=0;O<v;O++)b[O]=w[O];for(var O=2;O<=y;O++){h.reset(),h.update(w).finish(w);for(var R=0;R<v;R++)b[R]^=w[R]}for(var O=0;O<v&&$*v+O<g;O++)k[$*v+O]=b[O]}for(var $=0;$<v;$++)b[$]=w[$]=0;for(var $=0;$<4;$++)S[$]=0;return h.clean(),k}a(p,"pbkdf2"),e.pbkdf2=p})});var $7=D(rl=>{"use strict";Object.defineProperty(rl,"__esModule",{value:!0});rl.Webhook=rl.WebhookVerificationError=void 0;var ske=k7(),C7=I7(),uke=A7(),R7=300,SN=class e extends Error{static{a(this,"ExtendableError")}constructor(t){super(t),Object.setPrototypeOf(this,e.prototype),this.name="ExtendableError",this.stack=new Error(t).stack}},Ga=class e extends SN{static{a(this,"WebhookVerificationError")}constructor(t){super(t),Object.setPrototypeOf(this,e.prototype),this.name="WebhookVerificationError"}};rl.WebhookVerificationError=Ga;var XS=class e{static{a(this,"Webhook")}constructor(t,r){if(!t)throw new Error("Secret can't be empty.");if(r?.format==="raw")t instanceof Uint8Array?this.key=t:this.key=Uint8Array.from(t,n=>n.charCodeAt(0));else{if(typeof t!="string")throw new Error("Expected secret to be of type string");t.startsWith(e.prefix)&&(t=t.substring(e.prefix.length)),this.key=C7.decode(t)}}verify(t,r){let n={};for(let m of Object.keys(r))n[m.toLowerCase()]=r[m];let o=n["svix-id"],i=n["svix-signature"],s=n["svix-timestamp"];if((!i||!o||!s)&&(o=n["webhook-id"],i=n["webhook-signature"],s=n["webhook-timestamp"],!i||!o||!s))throw new Ga("Missing required headers");let u=this.verifyTimestamp(s),d=this.sign(o,u,t).split(",")[1],p=i.split(" "),f=new globalThis.TextEncoder;for(let m of p){let[y,g]=m.split(",");if(y==="v1"&&(0,ske.timingSafeEqual)(f.encode(g),f.encode(d)))return JSON.parse(t.toString())}throw new Ga("No matching signature found")}sign(t,r,n){if(typeof n!="string")if(n.constructor.name==="Buffer")n=n.toString();else throw new Error("Expected payload to be of type string or Buffer. Please refer to https://docs.svix.com/receiving/verifying-payloads/how for more information.");let o=new TextEncoder,i=Math.floor(r.getTime()/1e3),s=o.encode(`${t}.${i}.${n}`);return`v1,${C7.encode(uke.hmac(this.key,s))}`}verifyTimestamp(t){let r=Math.floor(Date.now()/1e3),n=parseInt(t,10);if(Number.isNaN(n))throw new Ga("Invalid Signature Headers");if(r-n>R7)throw new Ga("Message timestamp too old");if(n>r+R7)throw new Ga("Message timestamp too new");return new Date(n*1e3)}};rl.Webhook=XS;XS.prefix="whsec_"});var N7=D(Vs=>{"use strict";Object.defineProperty(Vs,"__esModule",{value:!0});Vs.EndpointDisabledTriggerSerializer=Vs.EndpointDisabledTrigger=void 0;var cke;(function(e){e.Manual="manual",e.Automatic="automatic"})(cke=Vs.EndpointDisabledTrigger||(Vs.EndpointDisabledTrigger={}));Vs.EndpointDisabledTriggerSerializer={_fromJsonObject(e){return e},_toJsonObject(e){return e}}});var j7=D(Zs=>{"use strict";Object.defineProperty(Zs,"__esModule",{value:!0});Zs.OrderingSerializer=Zs.Ordering=void 0;var lke;(function(e){e.Ascending="ascending",e.Descending="descending"})(lke=Zs.Ordering||(Zs.Ordering={}));Zs.OrderingSerializer={_fromJsonObject(e){return e},_toJsonObject(e){return e}}});var z7=D(Ks=>{"use strict";Object.defineProperty(Ks,"__esModule",{value:!0});Ks.StatusCodeClassSerializer=Ks.StatusCodeClass=void 0;var dke;(function(e){e[e.CodeNone=0]="CodeNone",e[e.Code1xx=100]="Code1xx",e[e.Code2xx=200]="Code2xx",e[e.Code3xx=300]="Code3xx",e[e.Code4xx=400]="Code4xx",e[e.Code5xx=500]="Code5xx"})(dke=Ks.StatusCodeClass||(Ks.StatusCodeClass={}));Ks.StatusCodeClassSerializer={_fromJsonObject(e){return e},_toJsonObject(e){return e}}});var D7=D(Jt=>{"use strict";Object.defineProperty(Jt,"__esModule",{value:!0});Jt.StatusCodeClass=Jt.SinkStatusIn=Jt.SinkStatus=Jt.Ordering=Jt.MessageStatusText=Jt.MessageStatus=Jt.MessageAttemptTriggerType=Jt.EndpointDisabledTrigger=Jt.ConnectorKind=Jt.BackgroundTaskType=Jt.BackgroundTaskStatus=Jt.AppPortalCapability=void 0;var pke=S$();Object.defineProperty(Jt,"AppPortalCapability",{enumerable:!0,get:a(function(){return pke.AppPortalCapability},"get")});var mke=Va();Object.defineProperty(Jt,"BackgroundTaskStatus",{enumerable:!0,get:a(function(){return mke.BackgroundTaskStatus},"get")});var fke=Za();Object.defineProperty(Jt,"BackgroundTaskType",{enumerable:!0,get:a(function(){return fke.BackgroundTaskType},"get")});var hke=Gc();Object.defineProperty(Jt,"ConnectorKind",{enumerable:!0,get:a(function(){return hke.ConnectorKind},"get")});var gke=N7();Object.defineProperty(Jt,"EndpointDisabledTrigger",{enumerable:!0,get:a(function(){return gke.EndpointDisabledTrigger},"get")});var yke=W$();Object.defineProperty(Jt,"MessageAttemptTriggerType",{enumerable:!0,get:a(function(){return yke.MessageAttemptTriggerType},"get")});var vke=Om();Object.defineProperty(Jt,"MessageStatus",{enumerable:!0,get:a(function(){return vke.MessageStatus},"get")});var _ke=Am();Object.defineProperty(Jt,"MessageStatusText",{enumerable:!0,get:a(function(){return _ke.MessageStatusText},"get")});var bke=j7();Object.defineProperty(Jt,"Ordering",{enumerable:!0,get:a(function(){return bke.Ordering},"get")});var Ske=fN();Object.defineProperty(Jt,"SinkStatus",{enumerable:!0,get:a(function(){return Ske.SinkStatus},"get")});var wke=NS();Object.defineProperty(Jt,"SinkStatusIn",{enumerable:!0,get:a(function(){return wke.SinkStatusIn},"get")});var xke=z7();Object.defineProperty(Jt,"StatusCodeClass",{enumerable:!0,get:a(function(){return xke.StatusCodeClass},"get")})});var q7=D(Er=>{"use strict";var Tke=Er&&Er.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:a(function(){return t[r]},"get")}),Object.defineProperty(e,n,o)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),M7=Er&&Er.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Tke(t,e,r)};Object.defineProperty(Er,"__esModule",{value:!0});Er.Svix=Er.messageInRaw=Er.ValidationError=Er.HttpErrorOut=Er.HTTPValidationError=Er.ApiException=void 0;var kke=dZ(),Eke=wZ(),Pke=PZ(),Ike=zZ(),Oke=oK(),Ake=dK(),Cke=wK(),Rke=TK(),$ke=gW(),Nke=xW(),jke=G$(),zke=rQ(),Dke=dQ(),Mke=_Q(),qke=w7(),Uke=rN(),Lke=s$();Object.defineProperty(Er,"ApiException",{enumerable:!0,get:a(function(){return Lke.ApiException},"get")});var xN=x7();Object.defineProperty(Er,"HTTPValidationError",{enumerable:!0,get:a(function(){return xN.HTTPValidationError},"get")});Object.defineProperty(Er,"HttpErrorOut",{enumerable:!0,get:a(function(){return xN.HttpErrorOut},"get")});Object.defineProperty(Er,"ValidationError",{enumerable:!0,get:a(function(){return xN.ValidationError},"get")});M7($7(),Er);M7(D7(),Er);var Fke=G$();Object.defineProperty(Er,"messageInRaw",{enumerable:!0,get:a(function(){return Fke.messageInRaw},"get")});var Jke=[{region:"us",url:"https://api.us.svix.com"},{region:"eu",url:"https://api.eu.svix.com"},{region:"in",url:"https://api.in.svix.com"},{region:"ca",url:"https://api.ca.svix.com"},{region:"au",url:"https://api.au.svix.com"}],wN=class{static{a(this,"Svix")}constructor(t,r={}){var n,o,i;let s=(n=Jke.find(l=>l.region===t.split(".")[1]))===null||n===void 0?void 0:n.url,u=(i=(o=r.serverUrl)!==null&&o!==void 0?o:s)!==null&&i!==void 0?i:"https://api.svix.com";if(r.retryScheduleInMs){this.requestCtx={baseUrl:u,token:t,timeout:r.requestTimeout,retryScheduleInMs:r.retryScheduleInMs,fetch:r.fetch};return}if(r.numRetries){this.requestCtx={baseUrl:u,token:t,timeout:r.requestTimeout,numRetries:r.numRetries,fetch:r.fetch};return}this.requestCtx={baseUrl:u,token:t,timeout:r.requestTimeout,fetch:r.fetch}}get application(){return new kke.Application(this.requestCtx)}get authentication(){return new Eke.Authentication(this.requestCtx)}get backgroundTask(){return new Pke.BackgroundTask(this.requestCtx)}get connector(){return new Ike.Connector(this.requestCtx)}get endpoint(){return new Oke.Endpoint(this.requestCtx)}get environment(){return new Ake.Environment(this.requestCtx)}get eventType(){return new Cke.EventType(this.requestCtx)}get health(){return new Rke.Health(this.requestCtx)}get ingest(){return new $ke.Ingest(this.requestCtx)}get integration(){return new Nke.Integration(this.requestCtx)}get message(){return new jke.Message(this.requestCtx)}get messageAttempt(){return new zke.MessageAttempt(this.requestCtx)}get operationalWebhook(){return new Dke.OperationalWebhook(this.requestCtx)}get statistics(){return new Mke.Statistics(this.requestCtx)}get streaming(){return new qke.Streaming(this.requestCtx)}get operationalWebhookEndpoint(){return new Uke.OperationalWebhookEndpoint(this.requestCtx)}};Er.Svix=wN});var YS=a((e,t,r)=>(n,o)=>{let i=-1;return s(0);async function s(u){if(u<=i)throw new Error("next() called multiple times");i=u;let l,d=!1,p;if(e[u]?(p=e[u][0][0],n.req.routeIndex=u):p=u===e.length&&o||void 0,p)try{l=await p(n,()=>s(u+1))}catch(f){if(f instanceof Error&&t)n.error=f,l=await t(f,n),d=!0;else throw f}else n.finalized===!1&&r&&(l=await r(n));return l&&(n.finalized===!1||d)&&(n.res=l),n}},"compose");var jm=class extends Error{static{a(this,"HTTPException")}res;status;constructor(e=500,t){super(t?.message,{cause:t?.cause}),this.res=t?.res,this.status=e}getResponse(){return this.res?new Response(this.res.body,{status:this.status,headers:this.res.headers}):new Response(this.message,{status:this.status})}};var kN=Symbol();var EN=a(async(e,t=Object.create(null))=>{let{all:r=!1,dot:n=!1}=t,i=(e instanceof zm?e.raw.headers:e.headers).get("Content-Type");return i?.startsWith("multipart/form-data")||i?.startsWith("application/x-www-form-urlencoded")?Y7(e,{all:r,dot:n}):{}},"parseBody");async function Y7(e,t){let r=await e.formData();return r?eX(r,t):{}}a(Y7,"parseFormData");function eX(e,t){let r=Object.create(null);return e.forEach((n,o)=>{t.all||o.endsWith("[]")?tX(r,o,n):r[o]=n}),t.dot&&Object.entries(r).forEach(([n,o])=>{n.includes(".")&&(rX(r,n,o),delete r[n])}),r}a(eX,"convertFormDataToBodyData");var tX=a((e,t,r)=>{e[t]!==void 0?Array.isArray(e[t])?e[t].push(r):e[t]=[e[t],r]:t.endsWith("[]")?e[t]=[r]:e[t]=r},"handleParsingAllValues"),rX=a((e,t,r)=>{let n=e,o=t.split(".");o.forEach((i,s)=>{s===o.length-1?n[i]=r:((!n[i]||typeof n[i]!="object"||Array.isArray(n[i])||n[i]instanceof File)&&(n[i]=Object.create(null)),n=n[i])})},"handleParsingNestedValues");var tw=a(e=>{let t=e.split("/");return t[0]===""&&t.shift(),t},"splitPath"),PN=a(e=>{let{groups:t,path:r}=nX(e),n=tw(r);return oX(n,t)},"splitRoutingPath"),nX=a(e=>{let t=[];return e=e.replace(/\{[^}]+\}/g,(r,n)=>{let o=`@${n}`;return t.push([o,r]),o}),{groups:t,path:e}},"extractGroupsFromPath"),oX=a((e,t)=>{for(let r=t.length-1;r>=0;r--){let[n]=t[r];for(let o=e.length-1;o>=0;o--)if(e[o].includes(n)){e[o]=e[o].replace(n,t[r][1]);break}}return e},"replaceGroupMarks"),Dm={},IN=a((e,t)=>{if(e==="*")return"*";let r=e.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);if(r){let n=`${e}#${t}`;return Dm[n]||(r[2]?Dm[n]=t&&t[0]!==":"&&t[0]!=="*"?[n,r[1],new RegExp(`^${r[2]}(?=/${t})`)]:[e,r[1],new RegExp(`^${r[2]}$`)]:Dm[n]=[e,r[1],!0]),Dm[n]}return null},"getPattern"),Ys=a((e,t)=>{try{return t(e)}catch{return e.replace(/(?:%[0-9A-Fa-f]{2})+/g,r=>{try{return t(r)}catch{return r}})}},"tryDecode"),iX=a(e=>Ys(e,decodeURI),"tryDecodeURI"),rw=a(e=>{let t=e.url,r=t.indexOf("/",t.indexOf(":")+4),n=r;for(;n<t.length;n++){let o=t.charCodeAt(n);if(o===37){let i=t.indexOf("?",n),s=t.slice(r,i===-1?void 0:i);return iX(s.includes("%25")?s.replace(/%25/g,"%2525"):s)}else if(o===63)break}return t.slice(r,n)},"getPath");var ON=a(e=>{let t=rw(e);return t.length>1&&t.at(-1)==="/"?t.slice(0,-1):t},"getPathNoStrict"),Wa=a((e,t,...r)=>(r.length&&(t=Wa(t,...r)),`${e?.[0]==="/"?"":"/"}${e}${t==="/"?"":`${e?.at(-1)==="/"?"":"/"}${t?.[0]==="/"?t.slice(1):t}`}`),"mergePath"),Mm=a(e=>{if(e.charCodeAt(e.length-1)!==63||!e.includes(":"))return null;let t=e.split("/"),r=[],n="";return t.forEach(o=>{if(o!==""&&!/\:/.test(o))n+="/"+o;else if(/\:/.test(o))if(/\?/.test(o)){r.length===0&&n===""?r.push("/"):r.push(n);let i=o.replace("?","");n+="/"+i,r.push(n)}else n+="/"+o}),r.filter((o,i,s)=>s.indexOf(o)===i)},"checkOptionalParameter"),ew=a(e=>/[%+]/.test(e)?(e.indexOf("+")!==-1&&(e=e.replace(/\+/g," ")),e.indexOf("%")!==-1?Ys(e,ol):e):e,"_decodeURI"),AN=a((e,t,r)=>{let n;if(!r&&t&&!/[%+]/.test(t)){let s=e.indexOf("?",8);if(s===-1)return;for(e.startsWith(t,s+1)||(s=e.indexOf(`&${t}`,s+1));s!==-1;){let u=e.charCodeAt(s+t.length+1);if(u===61){let l=s+t.length+2,d=e.indexOf("&",l);return ew(e.slice(l,d===-1?void 0:d))}else if(u==38||isNaN(u))return"";s=e.indexOf(`&${t}`,s+1)}if(n=/[%+]/.test(e),!n)return}let o={};n??=/[%+]/.test(e);let i=e.indexOf("?",8);for(;i!==-1;){let s=e.indexOf("&",i+1),u=e.indexOf("=",i);u>s&&s!==-1&&(u=-1);let l=e.slice(i+1,u===-1?s===-1?void 0:s:u);if(n&&(l=ew(l)),i=s,l==="")continue;let d;u===-1?d="":(d=e.slice(u+1,s===-1?void 0:s),n&&(d=ew(d))),r?(o[l]&&Array.isArray(o[l])||(o[l]=[]),o[l].push(d)):o[l]??=d}return t?o[t]:o},"_getQueryParam"),CN=AN,RN=a((e,t)=>AN(e,t,!0),"getQueryParams"),ol=decodeURIComponent;var $N=a(e=>Ys(e,ol),"tryDecodeURIComponent"),zm=class{static{a(this,"HonoRequest")}raw;#e;#t;routeIndex=0;path;bodyCache={};constructor(e,t="/",r=[[]]){this.raw=e,this.path=t,this.#t=r,this.#e={}}param(e){return e?this.#r(e):this.#i()}#r(e){let t=this.#t[0][this.routeIndex][1][e],r=this.#n(t);return r&&/\%/.test(r)?$N(r):r}#i(){let e={},t=Object.keys(this.#t[0][this.routeIndex][1]);for(let r of t){let n=this.#n(this.#t[0][this.routeIndex][1][r]);n!==void 0&&(e[r]=/\%/.test(n)?$N(n):n)}return e}#n(e){return this.#t[1]?this.#t[1][e]:e}query(e){return CN(this.url,e)}queries(e){return RN(this.url,e)}header(e){if(e)return this.raw.headers.get(e)??void 0;let t={};return this.raw.headers.forEach((r,n)=>{t[n]=r}),t}async parseBody(e){return this.bodyCache.parsedBody??=await EN(this,e)}#o=a(e=>{let{bodyCache:t,raw:r}=this,n=t[e];if(n)return n;let o=Object.keys(t)[0];return o?t[o].then(i=>(o==="json"&&(i=JSON.stringify(i)),new Response(i)[e]())):t[e]=r[e]()},"#cachedBody");json(){return this.#o("text").then(e=>JSON.parse(e))}text(){return this.#o("text")}arrayBuffer(){return this.#o("arrayBuffer")}blob(){return this.#o("blob")}formData(){return this.#o("formData")}addValidatedData(e,t){this.#e[e]=t}valid(e){return this.#e[e]}get url(){return this.raw.url}get method(){return this.raw.method}get[kN](){return this.#t}get matchedRoutes(){return this.#t[0].map(([[,e]])=>e)}get routePath(){return this.#t[0].map(([[,e]])=>e)[this.routeIndex].path}};var NN={Stringify:1,BeforeStream:2,Stream:3},aX=a((e,t)=>{let r=new String(e);return r.isEscaped=!0,r.callbacks=t,r},"raw");var nw=a(async(e,t,r,n,o)=>{typeof e=="object"&&!(e instanceof String)&&(e instanceof Promise||(e=e.toString()),e instanceof Promise&&(e=await e));let i=e.callbacks;if(!i?.length)return Promise.resolve(e);o?o[0]+=e:o=[e];let s=Promise.all(i.map(u=>u({phase:t,buffer:o,context:n}))).then(u=>Promise.all(u.filter(Boolean).map(l=>nw(l,t,!1,n,o))).then(()=>o[0]));return r?aX(await s,i):s},"resolveCallback");var sX="text/plain; charset=UTF-8",ow=a((e,t)=>({"Content-Type":e,...t}),"setDefaultContentType"),jN=class{static{a(this,"Context")}#e;#t;env={};#r;finalized=!1;error;#i;#n;#o;#d;#c;#u;#a;#p;#l;constructor(e,t){this.#e=e,t&&(this.#n=t.executionCtx,this.env=t.env,this.#u=t.notFoundHandler,this.#l=t.path,this.#p=t.matchResult)}get req(){return this.#t??=new zm(this.#e,this.#l,this.#p),this.#t}get event(){if(this.#n&&"respondWith"in this.#n)return this.#n;throw Error("This context has no FetchEvent")}get executionCtx(){if(this.#n)return this.#n;throw Error("This context has no ExecutionContext")}get res(){return this.#o||=new Response(null,{headers:this.#a??=new Headers})}set res(e){if(this.#o&&e){e=new Response(e.body,e);for(let[t,r]of this.#o.headers.entries())if(t!=="content-type")if(t==="set-cookie"){let n=this.#o.headers.getSetCookie();e.headers.delete("set-cookie");for(let o of n)e.headers.append("set-cookie",o)}else e.headers.set(t,r)}this.#o=e,this.finalized=!0}render=a((...e)=>(this.#c??=t=>this.html(t),this.#c(...e)),"render");setLayout=a(e=>this.#d=e,"setLayout");getLayout=a(()=>this.#d,"getLayout");setRenderer=a(e=>{this.#c=e},"setRenderer");header=a((e,t,r)=>{this.finalized&&(this.#o=new Response(this.#o.body,this.#o));let n=this.#o?this.#o.headers:this.#a??=new Headers;t===void 0?n.delete(e):r?.append?n.append(e,t):n.set(e,t)},"header");status=a(e=>{this.#i=e},"status");set=a((e,t)=>{this.#r??=new Map,this.#r.set(e,t)},"set");get=a(e=>this.#r?this.#r.get(e):void 0,"get");get var(){return this.#r?Object.fromEntries(this.#r):{}}#s(e,t,r){let n=this.#o?new Headers(this.#o.headers):this.#a??new Headers;if(typeof t=="object"&&"headers"in t){let i=t.headers instanceof Headers?t.headers:new Headers(t.headers);for(let[s,u]of i)s.toLowerCase()==="set-cookie"?n.append(s,u):n.set(s,u)}if(r)for(let[i,s]of Object.entries(r))if(typeof s=="string")n.set(i,s);else{n.delete(i);for(let u of s)n.append(i,u)}let o=typeof t=="number"?t:t?.status??this.#i;return new Response(e,{status:o,headers:n})}newResponse=a((...e)=>this.#s(...e),"newResponse");body=a((e,t,r)=>this.#s(e,t,r),"body");text=a((e,t,r)=>!this.#a&&!this.#i&&!t&&!r&&!this.finalized?new Response(e):this.#s(e,t,ow(sX,r)),"text");json=a((e,t,r)=>this.#s(JSON.stringify(e),t,ow("application/json",r)),"json");html=a((e,t,r)=>{let n=a(o=>this.#s(o,t,ow("text/html; charset=UTF-8",r)),"res");return typeof e=="object"?nw(e,NN.Stringify,!1,{}).then(n):n(e)},"html");redirect=a((e,t)=>{let r=String(e);return this.header("Location",/[^\x00-\xFF]/.test(r)?encodeURI(r):r),this.newResponse(null,t??302)},"redirect");notFound=a(()=>(this.#u??=()=>new Response,this.#u(this)),"notFound")};var Vt="ALL",zN="all",DN=["get","post","put","delete","options","patch"],qm="Can not add a route since the matcher is already built.",Um=class extends Error{static{a(this,"UnsupportedPathError")}};var MN="__COMPOSED_HANDLER";var uX=a(e=>e.text("404 Not Found",404),"notFoundHandler"),qN=a((e,t)=>{if("getResponse"in e){let r=e.getResponse();return t.newResponse(r.body,r)}return console.error(e),t.text("Internal Server Error",500)},"errorHandler"),iw=class{static{a(this,"Hono")}get;post;put;delete;options;patch;all;on;use;router;getPath;_basePath="/";#e="/";routes=[];constructor(e={}){[...DN,zN].forEach(o=>{this[o]=(i,...s)=>(typeof i=="string"?this.#e=i:this.#i(o,this.#e,i),s.forEach(u=>{this.#i(o,this.#e,u)}),this)}),this.on=(o,i,...s)=>{for(let u of[i].flat()){this.#e=u;for(let l of[o].flat())s.map(d=>{this.#i(l.toUpperCase(),this.#e,d)})}return this},this.use=(o,...i)=>(typeof o=="string"?this.#e=o:(this.#e="*",i.unshift(o)),i.forEach(s=>{this.#i(Vt,this.#e,s)}),this);let{strict:r,...n}=e;Object.assign(this,n),this.getPath=r??!0?e.getPath??rw:ON}#t(){let e=new iw({router:this.router,getPath:this.getPath});return e.errorHandler=this.errorHandler,e.#r=this.#r,e.routes=this.routes,e}#r=uX;errorHandler=qN;route(e,t){let r=this.basePath(e);return t.routes.map(n=>{let o;t.errorHandler===qN?o=n.handler:(o=a(async(i,s)=>(await YS([],t.errorHandler)(i,()=>n.handler(i,s))).res,"handler"),o[MN]=n.handler),r.#i(n.method,n.path,o)}),this}basePath(e){let t=this.#t();return t._basePath=Wa(this._basePath,e),t}onError=a(e=>(this.errorHandler=e,this),"onError");notFound=a(e=>(this.#r=e,this),"notFound");mount(e,t,r){let n,o;r&&(typeof r=="function"?o=r:(o=r.optionHandler,r.replaceRequest===!1?n=a(u=>u,"replaceRequest"):n=r.replaceRequest));let i=o?u=>{let l=o(u);return Array.isArray(l)?l:[l]}:u=>{let l;try{l=u.executionCtx}catch{}return[u.env,l]};n||=(()=>{let u=Wa(this._basePath,e),l=u==="/"?0:u.length;return d=>{let p=new URL(d.url);return p.pathname=p.pathname.slice(l)||"/",new Request(p,d)}})();let s=a(async(u,l)=>{let d=await t(n(u.req.raw),...i(u));if(d)return d;await l()},"handler");return this.#i(Vt,Wa(e,"*"),s),this}#i(e,t,r){e=e.toUpperCase(),t=Wa(this._basePath,t);let n={basePath:this._basePath,path:t,method:e,handler:r};this.router.add(e,t,[r,n]),this.routes.push(n)}#n(e,t){if(e instanceof Error)return this.errorHandler(e,t);throw e}#o(e,t,r,n){if(n==="HEAD")return(async()=>new Response(null,await this.#o(e,t,r,"GET")))();let o=this.getPath(e,{env:r}),i=this.router.match(n,o),s=new jN(e,{path:o,matchResult:i,env:r,executionCtx:t,notFoundHandler:this.#r});if(i[0].length===1){let l;try{l=i[0][0][0][0](s,async()=>{s.res=await this.#r(s)})}catch(d){return this.#n(d,s)}return l instanceof Promise?l.then(d=>d||(s.finalized?s.res:this.#r(s))).catch(d=>this.#n(d,s)):l??this.#r(s)}let u=YS(i[0],this.errorHandler,this.#r);return(async()=>{try{let l=await u(s);if(!l.finalized)throw new Error("Context is not finalized. Did you forget to return a Response object or `await next()`?");return l.res}catch(l){return this.#n(l,s)}})()}fetch=a((e,...t)=>this.#o(e,t[1],t[0],e.method),"fetch");request=a((e,t,r,n)=>e instanceof Request?this.fetch(t?new Request(e,t):e,r,n):(e=e.toString(),this.fetch(new Request(/^https?:\/\//.test(e)?e:`http://localhost${Wa("/",e)}`,t),r,n)),"request");fire=a(()=>{addEventListener("fetch",e=>{e.respondWith(this.#o(e.request,e,void 0,e.request.method))})},"fire")};var Lm=[];function aw(e,t){let r=this.buildAllMatchers(),n=a((o,i)=>{let s=r[o]||r[Vt],u=s[2][i];if(u)return u;let l=i.match(s[0]);if(!l)return[[],Lm];let d=l.indexOf("",1);return[s[1][d],l]},"match2");return this.match=n,n(e,t)}a(aw,"match");var Fm="[^/]+",il=".*",al="(?:|/.*)",Qa=Symbol(),cX=new Set(".\\+*[^]$()");function lX(e,t){return e.length===1?t.length===1?e<t?-1:1:-1:t.length===1||e===il||e===al?1:t===il||t===al?-1:e===Fm?1:t===Fm?-1:e.length===t.length?e<t?-1:1:t.length-e.length}a(lX,"compareKey");var Jm=class{static{a(this,"Node")}#e;#t;#r=Object.create(null);insert(e,t,r,n,o){if(e.length===0){if(this.#e!==void 0)throw Qa;if(o)return;this.#e=t;return}let[i,...s]=e,u=i==="*"?s.length===0?["","",il]:["","",Fm]:i==="/*"?["","",al]:i.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/),l;if(u){let d=u[1],p=u[2]||Fm;if(d&&u[2]&&(p===".*"||(p=p.replace(/^\((?!\?:)(?=[^)]+\)$)/,"(?:"),/\((?!\?:)/.test(p))))throw Qa;if(l=this.#r[p],!l){if(Object.keys(this.#r).some(f=>f!==il&&f!==al))throw Qa;if(o)return;l=this.#r[p]=new Jm,d!==""&&(l.#t=n.varIndex++)}!o&&d!==""&&r.push([d,l.#t])}else if(l=this.#r[i],!l){if(Object.keys(this.#r).some(d=>d.length>1&&d!==il&&d!==al))throw Qa;if(o)return;l=this.#r[i]=new Jm}l.insert(s,t,r,n,o)}buildRegExpStr(){let t=Object.keys(this.#r).sort(lX).map(r=>{let n=this.#r[r];return(typeof n.#t=="number"?`(${r})@${n.#t}`:cX.has(r)?`\\${r}`:r)+n.buildRegExpStr()});return typeof this.#e=="number"&&t.unshift(`#${this.#e}`),t.length===0?"":t.length===1?t[0]:"(?:"+t.join("|")+")"}};var UN=class{static{a(this,"Trie")}#e={varIndex:0};#t=new Jm;insert(e,t,r){let n=[],o=[];for(let s=0;;){let u=!1;if(e=e.replace(/\{[^}]+\}/g,l=>{let d=`@\\${s}`;return o[s]=[d,l],s++,u=!0,d}),!u)break}let i=e.match(/(?::[^\/]+)|(?:\/\*$)|./g)||[];for(let s=o.length-1;s>=0;s--){let[u]=o[s];for(let l=i.length-1;l>=0;l--)if(i[l].indexOf(u)!==-1){i[l]=i[l].replace(u,o[s][1]);break}}return this.#t.insert(i,t,n,this.#e,r),n}buildRegExp(){let e=this.#t.buildRegExpStr();if(e==="")return[/^$/,[],[]];let t=0,r=[],n=[];return e=e.replace(/#(\d+)|@(\d+)|\.\*\$/g,(o,i,s)=>i!==void 0?(r[++t]=Number(i),"$()"):(s!==void 0&&(n[Number(s)]=++t),"")),[new RegExp(`^${e}`),r,n]}};var dX=[/^$/,[],Object.create(null)],LN=Object.create(null);function FN(e){return LN[e]??=new RegExp(e==="*"?"":`^${e.replace(/\/\*$|([.\\+*[^\]$()])/g,(t,r)=>r?`\\${r}`:"(?:|/.*)")}$`)}a(FN,"buildWildcardRegExp");function pX(){LN=Object.create(null)}a(pX,"clearWildcardRegExpCache");function mX(e){let t=new UN,r=[];if(e.length===0)return dX;let n=e.map(d=>[!/\*|\/:/.test(d[0]),...d]).sort(([d,p],[f,m])=>d?1:f?-1:p.length-m.length),o=Object.create(null);for(let d=0,p=-1,f=n.length;d<f;d++){let[m,y,g]=n[d];m?o[y]=[g.map(([v])=>[v,Object.create(null)]),Lm]:p++;let h;try{h=t.insert(y,p,m)}catch(v){throw v===Qa?new Um(y):v}m||(r[p]=g.map(([v,S])=>{let b=Object.create(null);for(S-=1;S>=0;S--){let[w,k]=h[S];b[w]=k}return[v,b]}))}let[i,s,u]=t.buildRegExp();for(let d=0,p=r.length;d<p;d++)for(let f=0,m=r[d].length;f<m;f++){let y=r[d][f]?.[1];if(!y)continue;let g=Object.keys(y);for(let h=0,v=g.length;h<v;h++)y[g[h]]=u[y[g[h]]]}let l=[];for(let d in s)l[d]=r[s[d]];return[i,l,o]}a(mX,"buildMatcherFromPreprocessedRoutes");function eu(e,t){if(e){for(let r of Object.keys(e).sort((n,o)=>o.length-n.length))if(FN(r).test(t))return[...e[r]]}}a(eu,"findMiddleware");var Bm=class{static{a(this,"RegExpRouter")}name="RegExpRouter";#e;#t;constructor(){this.#e={[Vt]:Object.create(null)},this.#t={[Vt]:Object.create(null)}}add(e,t,r){let n=this.#e,o=this.#t;if(!n||!o)throw new Error(qm);n[e]||[n,o].forEach(u=>{u[e]=Object.create(null),Object.keys(u[Vt]).forEach(l=>{u[e][l]=[...u[Vt][l]]})}),t==="/*"&&(t="*");let i=(t.match(/\/:/g)||[]).length;if(/\*$/.test(t)){let u=FN(t);e===Vt?Object.keys(n).forEach(l=>{n[l][t]||=eu(n[l],t)||eu(n[Vt],t)||[]}):n[e][t]||=eu(n[e],t)||eu(n[Vt],t)||[],Object.keys(n).forEach(l=>{(e===Vt||e===l)&&Object.keys(n[l]).forEach(d=>{u.test(d)&&n[l][d].push([r,i])})}),Object.keys(o).forEach(l=>{(e===Vt||e===l)&&Object.keys(o[l]).forEach(d=>u.test(d)&&o[l][d].push([r,i]))});return}let s=Mm(t)||[t];for(let u=0,l=s.length;u<l;u++){let d=s[u];Object.keys(o).forEach(p=>{(e===Vt||e===p)&&(o[p][d]||=[...eu(n[p],d)||eu(n[Vt],d)||[]],o[p][d].push([r,i-l+u+1]))})}}match=aw;buildAllMatchers(){let e=Object.create(null);return Object.keys(this.#t).concat(Object.keys(this.#e)).forEach(t=>{e[t]||=this.#r(t)}),this.#e=this.#t=void 0,pX(),e}#r(e){let t=[],r=e===Vt;return[this.#e,this.#t].forEach(n=>{let o=n[e]?Object.keys(n[e]).map(i=>[i,n[e][i]]):[];o.length!==0?(r||=!0,t.push(...o)):e!==Vt&&t.push(...Object.keys(n[Vt]).map(i=>[i,n[Vt][i]]))}),r?mX(t):null}};var sw=class{static{a(this,"SmartRouter")}name="SmartRouter";#e=[];#t=[];constructor(e){this.#e=e.routers}add(e,t,r){if(!this.#t)throw new Error(qm);this.#t.push([e,t,r])}match(e,t){if(!this.#t)throw new Error("Fatal error");let r=this.#e,n=this.#t,o=r.length,i=0,s;for(;i<o;i++){let u=r[i];try{for(let l=0,d=n.length;l<d;l++)u.add(...n[l]);s=u.match(e,t)}catch(l){if(l instanceof Um)continue;throw l}this.match=u.match.bind(u),this.#e=[u],this.#t=void 0;break}if(i===o)throw new Error("Fatal error");return this.name=`SmartRouter + ${this.activeRouter.name}`,s}get activeRouter(){if(this.#t||this.#e.length!==1)throw new Error("No active router has been determined yet.");return this.#e[0]}};var sl=Object.create(null),uw=class{static{a(this,"Node")}#e;#t;#r;#i=0;#n=sl;constructor(e,t,r){if(this.#t=r||Object.create(null),this.#e=[],e&&t){let n=Object.create(null);n[e]={handler:t,possibleKeys:[],score:0},this.#e=[n]}this.#r=[]}insert(e,t,r){this.#i=++this.#i;let n=this,o=PN(t),i=[];for(let s=0,u=o.length;s<u;s++){let l=o[s],d=o[s+1],p=IN(l,d),f=Array.isArray(p)?p[0]:l;if(f in n.#t){n=n.#t[f],p&&i.push(p[1]);continue}n.#t[f]=new uw,p&&(n.#r.push(p),i.push(p[1])),n=n.#t[f]}return n.#e.push({[e]:{handler:r,possibleKeys:i.filter((s,u,l)=>l.indexOf(s)===u),score:this.#i}}),n}#o(e,t,r,n){let o=[];for(let i=0,s=e.#e.length;i<s;i++){let u=e.#e[i],l=u[t]||u[Vt],d={};if(l!==void 0&&(l.params=Object.create(null),o.push(l),r!==sl||n&&n!==sl))for(let p=0,f=l.possibleKeys.length;p<f;p++){let m=l.possibleKeys[p],y=d[l.score];l.params[m]=n?.[m]&&!y?n[m]:r[m]??n?.[m],d[l.score]=!0}}return o}search(e,t){let r=[];this.#n=sl;let o=[this],i=tw(t),s=[];for(let u=0,l=i.length;u<l;u++){let d=i[u],p=u===l-1,f=[];for(let m=0,y=o.length;m<y;m++){let g=o[m],h=g.#t[d];h&&(h.#n=g.#n,p?(h.#t["*"]&&r.push(...this.#o(h.#t["*"],e,g.#n)),r.push(...this.#o(h,e,g.#n))):f.push(h));for(let v=0,S=g.#r.length;v<S;v++){let b=g.#r[v],w=g.#n===sl?{}:{...g.#n};if(b==="*"){let I=g.#t["*"];I&&(r.push(...this.#o(I,e,g.#n)),I.#n=w,f.push(I));continue}let[k,$,A]=b;if(!d&&!(A instanceof RegExp))continue;let O=g.#t[k],R=i.slice(u).join("/");if(A instanceof RegExp){let I=A.exec(R);if(I){if(w[$]=I[0],r.push(...this.#o(O,e,g.#n,w)),Object.keys(O.#t).length){O.#n=w;let N=I[0].match(/\//)?.length??0;(s[N]||=[]).push(O)}continue}}(A===!0||A.test(d))&&(w[$]=d,p?(r.push(...this.#o(O,e,w,g.#n)),O.#t["*"]&&r.push(...this.#o(O.#t["*"],e,w,g.#n))):(O.#n=w,f.push(O)))}}o=f.concat(s.shift()??[])}return r.length>1&&r.sort((u,l)=>u.score-l.score),[r.map(({handler:u,params:l})=>[u,l])]}};var cw=class{static{a(this,"TrieRouter")}name="TrieRouter";#e;constructor(){this.#e=new uw}add(e,t,r){let n=Mm(t);if(n){for(let o=0,i=n.length;o<i;o++)this.#e.insert(e,n[o],r);return}this.#e.insert(e,t,r)}match(e,t){return this.#e.search(e,t)}};var Oe=class extends iw{static{a(this,"Hono")}constructor(e={}){super(e),this.router=e.router??new sw({routers:[new Bm,new cw]})}};function fX(){let{process:e,Deno:t}=globalThis;return!(typeof t?.noColor=="boolean"?t.noColor:e!==void 0?"NO_COLOR"in e?.env:!1)}a(fX,"getColorEnabled");async function JN(){let{navigator:e}=globalThis,t="cloudflare:workers";return!(e!==void 0&&e.userAgent==="Cloudflare-Workers"?await(async()=>{try{return"NO_COLOR"in((await import(t)).env??{})}catch{return!1}})():!fX())}a(JN,"getColorEnabledAsync");var hX=a(e=>{let[t,r]=[",","."];return e.map(o=>o.replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+t)).join(r)},"humanize"),gX=a(e=>{let t=Date.now()-e;return hX([t<1e3?t+"ms":Math.round(t/1e3)+"s"])},"time"),yX=a(async e=>{if(await JN())switch(e/100|0){case 5:return`\x1B[31m${e}\x1B[0m`;case 4:return`\x1B[33m${e}\x1B[0m`;case 3:return`\x1B[36m${e}\x1B[0m`;case 2:return`\x1B[32m${e}\x1B[0m`}return`${e}`},"colorStatus");async function BN(e,t,r,n,o=0,i){let s=t==="<--"?`${t} ${r} ${n}`:`${t} ${r} ${n} ${await yX(o)} ${i}`;e(s)}a(BN,"log");var HN=a((e=console.log)=>a(async function(r,n){let{method:o,url:i}=r.req,s=i.slice(i.indexOf("/",8));await BN(e,"<--",o,s);let u=Date.now();await n(),await BN(e,"-->",o,s,r.res.status,gX(u))},"logger2"),"logger");var lw=class{static{a(this,"SecureLogger")}isDevelopment;isProduction;currentUserId;sensitivePatterns;logBuffer=[];maxBufferSize=1e3;flushInterval=5e3;constructor(){this.isDevelopment=!!(typeof process<"u"&&!1||typeof import.meta<"u"&&import.meta.env?.DEV),this.isProduction=typeof process<"u"||typeof import.meta<"u"&&import.meta.env?.MODE==="production",this.sensitivePatterns=[/\b\d{3}\.?\d{3}\.?\d{3}-?\d{2}\b/g,/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/g,/\b(?:\+55\s?)?\(?[1-9]{2}\)?\s?[9]?\d{4}-?\d{4}\b/g,/\b\d{4}[\s-]?\d{4}[\s-]?\d{4}[\s-]?\d{4}\b/g,/(?:sk_|eyJ)[a-zA-Z0-9_-]{20,}/g,/password["\s:]+["']?[^"'\s,}]+["']?/gi,/token["\s:]+["']?[^"'\s,}]+["']?/gi,/account["\s:]+["']?\d{6,}["']?/gi],this.isProduction&&setInterval(()=>this.flushBuffer(),this.flushInterval)}setUserId(t){this.currentUserId=t}clearUserId(){this.currentUserId=void 0}sanitizeData(t,r){let n=t;this.sensitivePatterns.forEach(i=>{n=n.replace(i,"[REDACTED]")});let o;return r&&(o=this.sanitizeContextObject(r)),{sanitizedContext:o,sanitizedMessage:n}}sanitizeContextObject(t){let r={};for(let[n,o]of Object.entries(t))if(this.isSensitiveKey(n)&&o)r[n]="[REDACTED]";else if(typeof o=="string"){let s=o;this.sensitivePatterns.forEach(u=>{s=s.replace(u,"[REDACTED]")}),r[n]=s}else typeof o=="object"&&o!==null?r[n]=this.sanitizeContextObject(o):r[n]=o;return this.currentUserId&&!r.userId&&(r.userId=`${this.currentUserId.substring(0,8)}...`),r}isSensitiveKey(t){return["password","token","secret","key","auth","session","email","phone","cpf","cnpj","account","balance","creditcard","card","bank","transaction","amount"].some(n=>t.toLowerCase().includes(n.toLowerCase()))}createLogEntry(t,r,n){let{sanitizedMessage:o,sanitizedContext:i}=this.sanitizeData(r,n);return{context:i,level:t,message:o,sanitized:!0,timestamp:new Date().toISOString()}}writeLog(t){if(this.isDevelopment)switch(t.level){case 0:break;case 1:break;case 2:break;case 3:case 4:break;case 5:break}else this.isProduction&&this.addToBuffer(t)}addToBuffer(t){this.logBuffer.push(t),this.logBuffer.length>=this.maxBufferSize&&this.flushBuffer()}flushBuffer(){if(this.logBuffer.length===0)return;let t=[...this.logBuffer];this.logBuffer=[];let r=t.filter(n=>n.level>=3);r.length>0&&r.forEach(n=>{})}log(t,r,n){if(!this.isDevelopment&&t===0)return;let o=this.createLogEntry(t,r,n);this.writeLog(o)}debug(t,r){this.log(0,t,r)}info(t,r){this.log(1,t,r)}warn(t,r){this.log(2,t,r)}error(t,r){this.log(3,t,r)}security(t,r){this.log(4,t,r)}audit(t,r){this.log(5,t,r)}voiceCommand(t,r,n){this.info("Voice command processed",{...n,command:t.substring(0,50),confidence:r})}authEvent(t,r,n){this.audit("Authentication event",{...n,event:t,userId:r?`${r.substring(0,8)}...`:void 0})}userAction(t,r,n){this.info("User action",{action:t,component:r,...n})}performance(t,r,n){this.info("Performance metric",{...n,operation:t,duration:r})}getBufferStats(){return{lastFlush:new Date,maxSize:this.maxBufferSize,size:this.logBuffer.length}}forceFlush(){this.flushBuffer()}clear(){this.logBuffer=[],this.currentUserId=void 0}},L=new lw;var VN=new Oe;VN.get("/",async e=>{try{return L.info("Starting calendar channel renewal check"),e.json({success:!0,message:"Calendar channel renewal completed",timestamp:new Date().toISOString(),channelsRenewed:0})}catch(t){return L.error("Calendar channel renewal failed",{error:t instanceof Error?t.message:"Unknown error"}),e.json({success:!1,message:"Calendar channel renewal failed",error:t instanceof Error?t.message:"Unknown error"},500)}});var ZN=VN;var KN=new Oe;KN.get("/",async e=>{try{return L.info("Starting sync queue cleanup"),e.json({success:!0,message:"Sync queue cleanup completed",timestamp:new Date().toISOString(),itemsDeleted:0})}catch(t){return L.error("Sync queue cleanup failed",{error:t instanceof Error?t.message:"Unknown error"}),e.json({success:!1,message:"Sync queue cleanup failed",error:t instanceof Error?t.message:"Unknown error"},500)}});var GN=KN;var WN=new Oe;WN.get("/",async e=>{try{return L.info("Starting sync queue processing"),e.json({success:!0,message:"Sync queue processing completed",timestamp:new Date().toISOString(),itemsProcessed:0})}catch(t){return L.error("Sync queue processing failed",{error:t instanceof Error?t.message:"Unknown error"}),e.json({success:!1,message:"Sync queue processing failed",error:t instanceof Error?t.message:"Unknown error"},500)}});var QN=WN;var ul=new Oe;ul.route("/calendar-channel-renewal",ZN);ul.route("/sync-queue-processor",QN);ul.route("/cleanup-sync-queue",GN);ul.get("/health",e=>e.json({status:"healthy",service:"cron-jobs",timestamp:new Date().toISOString(),jobs:[{name:"calendar-channel-renewal",schedule:"0 0 * * *",description:"Renew expiring Google Calendar webhook channels"},{name:"sync-queue-processor",schedule:"*/5 * * * *",description:"Process pending Google Calendar sync queue items"},{name:"cleanup-sync-queue",schedule:"0 2 * * *",description:"Clean up old completed/failed sync queue items"}]}));var XN=ul;var YN=["https://aegiswallet.com","https://www.aegiswallet.com","https://app.aegiswallet.com","http://localhost:3000","http://localhost:5173","http://localhost:8080","http://localhost:8081","http://localhost:8082","https://localhost:3000","https://localhost:5173","https://localhost:8080","https://localhost:8081","https://localhost:8082"],ej=a(async(e,t)=>{let r=e.req.header("Origin");if(YN.includes(r||"")||r?.startsWith("http://localhost:")&&!1||r?.startsWith("https://localhost:")&&!1?e.header("Access-Control-Allow-Origin",r||"*"):e.header("Access-Control-Allow-Origin",YN[0]),e.header("Access-Control-Allow-Methods","GET, POST, PUT, DELETE, OPTIONS"),e.header("Access-Control-Allow-Headers","Content-Type, Authorization, X-Requested-With, X-Client-ID"),e.header("Access-Control-Allow-Credentials","true"),e.header("Access-Control-Max-Age","86400"),e.header("Vary","Origin"),e.req.method==="OPTIONS")return e.newResponse(null,204);await t()},"corsMiddleware");wr();Zn();async function xM(){let e=Date.now();try{return await vo.execute(M`SELECT 1`),{status:"connected",latencyMs:Date.now()-e}}catch(t){return{status:"disconnected",latencyMs:Date.now()-e,error:t instanceof Error?t.message:"Unknown error"}}}a(xM,"checkDatabaseHealth");function TM(e){e.get("/api/ping",t=>t.json({message:"pong",timestamp:new Date().toISOString(),version:"1.0.0"})),e.get("/api/status",async t=>{let r=await xM(),n=r.status==="connected";return t.json({services:{database:r.status,databaseLatencyMs:r.latencyMs,trpc:"connected",auth:"connected"},status:n?"operational":"degraded",timestamp:new Date().toISOString(),...r.error&&{errors:{database:r.error}}})}),e.get("/api/health",async t=>{let r=await xM();return r.status!=="connected"?t.json({healthy:!1,database:r,timestamp:new Date().toISOString()},503):t.json({healthy:!0,database:r,timestamp:new Date().toISOString()})})}a(TM,"setupApiRoutes");Ff();var Ql=null,cee=1e4;async function lee(){if(Ql&&Date.now()-Ql.timestamp<cee)return Ql.database;let e=Date.now(),t=5e3;try{let{getHttpClient:r}=await Promise.resolve().then(()=>(Zn(),bk)),{sql:n}=await Promise.resolve().then(()=>(wr(),aT)),o=r(),i=new Promise((l,d)=>{setTimeout(()=>d(new Error("Database query timeout")),t)});await Promise.race([o.execute(n`SELECT 1 as health_check`),i]);let u={status:"connected",latency:Date.now()-e};return Ql={database:u,timestamp:Date.now()},u}catch(r){let n=Date.now()-e,o=r instanceof Error?r.message:"Unknown database error";L.error("Database health check failed",{latency:n,error:o});let i={status:"disconnected",latency:n,error:o};return Ql={database:i,timestamp:Date.now()},i}}a(lee,"checkDatabaseHealth");function kM(e){e.get("/api/ping",t=>t.json({status:"ok",timestamp:new Date().toISOString()},200)),e.get("/api/health",async t=>{let r=Date.now();try{let n=await lee(),o=n.status==="connected",s={status:o?"ok":"degraded",timestamp:new Date().toISOString(),service:"aegiswallet-server",environment:ps.NODE_ENV,uptime:process.uptime?.()||0,memory:process.memoryUsage?.()||{},database:{status:n.status,latency:n.latency,...n.error&&{error:n.error}},responseTime:Date.now()-r};return o?t.json(s,200):t.json(s,503)}catch(n){let o=n instanceof Error?n.message:"Unknown error";return L.error("Health check error",{error:o}),t.json({status:"error",timestamp:new Date().toISOString(),service:"aegiswallet-server",environment:ps.NODE_ENV,uptime:process.uptime?.()||0,memory:process.memoryUsage?.()||{},database:{status:"disconnected",latency:0,error:"Health check failed"},responseTime:Date.now()-r},500)}})}a(kM,"setupHealthRoute");Ff();var mee=!0,fee="Bun"in globalThis;function IM(e){mee||(ps.IS_PRODUCTION&&fee?import("hono/bun").then(({serveStatic:t})=>{Promise.resolve().then(()=>(PM(),EM)).then(({htmlCache:r,staticAssetsCache:n})=>{e.use("/assets/*",n(),t({root:"./dist"})),e.use("/*.html",r(),t({root:"./dist"})),e.use("/*",r(),t({path:"./dist/index.html",rewriteRequestPath:a(o=>o,"rewriteRequestPath")}))})}):ps.IS_PRODUCTION||e.get("/*",t=>t.req.path.startsWith("/api/")?t.notFound():t.json({api:`http://localhost:${ps.PORT}`,frontend:"http://localhost:5173",message:"Development mode - Frontend served by Vite dev server",mode:"development"})))}a(IM,"setupStaticRoutes");wr();Zn();Rr();var hee=300*1e3,OM=100,da=new Map;function gee(){if(da.size<=OM)return;let t=Array.from(da.entries()).sort((r,n)=>r[1].lastAccess-n[1].lastAccess).slice(0,da.size-OM);for(let[r]of t)da.delete(r)}a(gee,"evictOldestCacheEntries");var Jf=class{static{a(this,"FinancialContextService")}userId;constructor(t){this.userId=t}async getContext(t=!1){let r=this.userId,n=da.get(r),o=Date.now();if(!t&&n&&n.expiresAt>o)return n.lastAccess=o,n.context;let i=await this.buildContext();return da.set(r,{context:i,expiresAt:o+hee,lastAccess:o}),gee(),i}invalidateCache(){da.delete(this.userId)}static clearAllCache(){da.clear()}async buildContext(){let t=new Date,r=new Date(t.getFullYear(),t.getMonth(),1),n=new Date(t.getFullYear(),t.getMonth()+1,0),[o,i,s,u,l]=await Promise.all([this.getAccountBalances(),this.getMonthlyTotals(r,n),this.getCategorySpending(r,n),this.getPendingAlerts(),this.getUpcomingPayments(30)]),d=o.reduce((f,m)=>f+Number(m.balance||0),0),p=o.reduce((f,m)=>f+Number(m.availableBalance||0),0);return{totalBalance:d,availableBalance:p,monthlyIncome:i.income,monthlyExpenses:i.expenses,topCategories:s,pendingAlerts:u,upcomingPayments:l,lastUpdated:t}}async getAccountBalances(){return await vo.select({id:ue.id,balance:ue.balance,availableBalance:ue.availableBalance,institutionName:ue.institutionName}).from(ue).where(Ee(V(ue.userId,this.userId),V(ue.isActive,!0)))}async getMonthlyTotals(t,r){let n=await vo.select({transactionType:oe.transactionType,total:Cl(oe.amount)}).from(oe).where(Ee(V(oe.userId,this.userId),hr(oe.transactionDate,t),nr(oe.transactionDate,r))).groupBy(oe.transactionType),o=0,i=0;for(let s of n){let u=Math.abs(Number(s.total||0));s.transactionType==="credit"?o+=u:s.transactionType==="debit"&&(i+=u)}return{income:o,expenses:i}}async getCategorySpending(t,r){let n=await vo.select({categoryId:oe.categoryId,categoryName:ze.name,total:Cl(oe.amount)}).from(oe).leftJoin(ze,V(oe.categoryId,ze.id)).where(Ee(V(oe.userId,this.userId),V(oe.transactionType,"debit"),hr(oe.transactionDate,t),nr(oe.transactionDate,r))).groupBy(oe.categoryId,ze.name).orderBy(Dt(Cl(oe.amount))).limit(10),o=n.reduce((i,s)=>i+Math.abs(Number(s.total||0)),0);return n.map(i=>({categoryId:i.categoryId||"uncategorized",categoryName:i.categoryName||"Sem categoria",amount:Math.abs(Number(i.total||0)),percentage:o>0?Math.round(Math.abs(Number(i.total||0))/o*100):0,trend:"stable"}))}async getPendingAlerts(){return(await vo.select({id:Cr.id,insightType:Cr.insightType,title:Cr.title,impactLevel:Cr.impactLevel,recommendation:Cr.recommendation}).from(Cr).where(Ee(V(Cr.userId,this.userId),V(Cr.isRead,!1))).orderBy(Dt(Cr.createdAt)).limit(5)).map(r=>({id:r.id,type:this.mapInsightTypeToAlertType(r.insightType),message:r.title,severity:r.impactLevel||"medium",actionable:!!r.recommendation}))}mapInsightTypeToAlertType(t){switch(this.normalizeInsightType(t)){case"budget_alert":return"budget_exceeded";case"warning":return"low_balance";case"spending_pattern":return"unusual_spending";case"opportunity":return"payment_due";default:return"unusual_spending"}}normalizeInsightType(t){return t.includes("_")?t:t.replace(/([A-Z])/g,"_$1").toLowerCase()}async getUpcomingPayments(t){let r=new Date,n=new Date;n.setDate(r.getDate()+t);let o=r.toISOString().split("T")[0],i=n.toISOString().split("T")[0];return(await vo.select({id:Kt.id,description:Kt.description,amount:Kt.amount,scheduledDate:Kt.scheduledDate,recurrenceRule:Kt.recurrenceRule}).from(Kt).where(Ee(V(Kt.userId,this.userId),V(Kt.isActive,!0),V(Kt.executed,!1),hr(Kt.scheduledDate,o),nr(Kt.scheduledDate,i))).orderBy(Kt.scheduledDate).limit(10)).map(u=>({id:u.id,description:u.description,amount:Math.abs(Number(u.amount)),dueDate:new Date(u.scheduledDate),isRecurring:!!u.recurrenceRule}))}};function Nu(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}a(Nu,"formatBRL");function yee(e){return new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(e)}a(yee,"formatDateBR");function vee(e){return{up:"\u2191 aumentando",down:"\u2193 diminuindo",stable:"\u2192 est\xE1vel"}[e]}a(vee,"translateTrend");function AM(e){let{totalBalance:t,availableBalance:r,monthlyIncome:n,monthlyExpenses:o,topCategories:i}=e,s=n-o,u=n>0?Math.round(s/n*100):0,l=i.slice(0,5).map((d,p)=>`${p+1}. **${d.categoryName}**: ${Nu(d.amount)} (${d.percentage}% do total, ${vee(d.trend)})`).join(`
`);return`
### Resumo Financeiro
- **Saldo Total**: ${Nu(t)}
- **Saldo Dispon\xEDvel**: ${Nu(r)}
- **Renda do M\xEAs**: ${Nu(n)}
- **Gastos do M\xEAs**: ${Nu(o)}
- **Economia do M\xEAs**: ${Nu(s)} (${u}% da renda)

### Top 5 Categorias de Gasto (M\xEAs Atual)
${l||"Nenhuma transa\xE7\xE3o registrada este m\xEAs."}

### \xDAltima Atualiza\xE7\xE3o
${yee(e.lastUpdated)}
`.trim()}a(AM,"buildFinancialContextBlock");function CM(e){if(e.length===0)return"\u2705 Nenhum alerta ativo no momento.";let t={low:"\u2139\uFE0F",medium:"\u26A0\uFE0F",high:"\u{1F6A8}"};return e.map(r=>`${t[r.severity]} [${r.severity.toUpperCase()}] ${r.message}`).join(`
`)}a(CM,"buildAlertsBlock");var RM=a(()=>{try{return!1}catch{}return!1},"isTestEnvironment"),$M=a(()=>{try{return!0}catch{}return!1},"isProductionEnvironment");var NM=new Set,Bf=a((e,t,r)=>{let n=RM()||$M(),o=r??e;NM.has(o)||n||(NM.add(o),console.warn(`Clerk - DEPRECATION WARNING: "${e}" is deprecated and will be removed in the next major release.
${t}`))},"deprecated");var wk=[".lcl.dev",".lclstage.dev",".lclclerk.com"],jM=[".accounts.dev",".accountsstage.dev",".accounts.lclclerk.com"],zM=[".lcl.dev",".stg.dev",".lclstage.dev",".stgstage.dev",".dev.lclclerk.com",".stg.lclclerk.com",".accounts.lclclerk.com","accountsstage.dev","accounts.dev"];var ju=a(e=>typeof atob<"u"&&typeof atob=="function"?atob(e):typeof global<"u"&&global.Buffer?new global.Buffer(e,"base64").toString():e,"isomorphicAtob");var DM=a(e=>typeof btoa<"u"&&typeof btoa=="function"?btoa(e):typeof global<"u"&&global.Buffer?new global.Buffer(e).toString("base64"):e,"isomorphicBtoa");var MM="pk_live_",_ee="pk_test_";function qM(e){if(!e.endsWith("$"))return!1;let t=e.slice(0,-1);return t.includes("$")?!1:t.includes(".")}a(qM,"isValidDecodedPublishableKey");function pa(e,t={}){if(e=e||"",!e||!xk(e)){if(t.fatal&&!e)throw new Error("Publishable key is missing. Ensure that your publishable key is correctly configured. Double-check your environment configuration for your keys, or access them here: https://dashboard.clerk.com/last-active?path=api-keys");if(t.fatal&&!xk(e))throw new Error("Publishable key not valid.");return null}let r=e.startsWith(MM)?"production":"development",n;try{n=ju(e.split("_")[2])}catch{if(t.fatal)throw new Error("Publishable key not valid: Failed to decode key.");return null}if(!qM(n)){if(t.fatal)throw new Error("Publishable key not valid: Decoded key has invalid format.");return null}let o=n.slice(0,-1);return t.proxyUrl?o=t.proxyUrl:r!=="development"&&t.domain&&t.isSatellite&&(o=`clerk.${t.domain}`),{instanceType:r,frontendApi:o}}a(pa,"parsePublishableKey");function xk(e=""){try{if(!(e.startsWith(MM)||e.startsWith(_ee)))return!1;let t=e.split("_");if(t.length!==3)return!1;let r=t[2];return r?qM(ju(r)):!1}catch{return!1}}a(xk,"isPublishableKey");function Tk(){let e=new Map;return{isDevOrStagingUrl:a(t=>{if(!t)return!1;let r=typeof t=="string"?t:t.hostname,n=e.get(r);return n===void 0&&(n=zM.some(o=>r.endsWith(o)),e.set(r,n)),n},"isDevOrStagingUrl")}}a(Tk,"createDevOrStagingUrlCache");function Hf(e){return e.startsWith("test_")||e.startsWith("sk_test_")}a(Hf,"isDevelopmentFromSecretKey");async function Vf(e,t=globalThis.crypto.subtle){let r=new TextEncoder().encode(e),n=await t.digest("sha-1",r);return DM(String.fromCharCode(...new Uint8Array(n))).replace(/\+/gi,"-").replace(/\//gi,"_").substring(0,8)}a(Vf,"getCookieSuffix");var Zf=a((e,t)=>`${e}_${t}`,"getSuffixedCookieName");var bee={initialDelay:125,maxDelayBetweenRetries:0,factor:2,shouldRetry:a((e,t)=>t<5,"shouldRetry"),retryImmediately:!1,jitter:!0},See=100,UM=a(async e=>new Promise(t=>setTimeout(t,e)),"sleep"),LM=a((e,t)=>t?e*(1+Math.random()):e,"applyJitter"),wee=a(e=>{let t=0,r=a(()=>{let n=e.initialDelay,o=e.factor,i=n*Math.pow(o,t);return i=LM(i,e.jitter),Math.min(e.maxDelayBetweenRetries||i,i)},"calculateDelayInMs");return async()=>{await UM(r()),t++}},"createExponentialDelayAsyncFn"),Kf=a(async(e,t={})=>{let r=0,{shouldRetry:n,initialDelay:o,maxDelayBetweenRetries:i,factor:s,retryImmediately:u,jitter:l,onBeforeRetry:d}={...bee,...t},p=wee({initialDelay:o,maxDelayBetweenRetries:i,factor:s,jitter:l});for(;;)try{return await e()}catch(f){if(r++,!n(f,r))throw f;d&&await d(r),u&&r===1?await UM(LM(See,l)):await p()}},"retry");function kk(e){return wk.some(t=>e.startsWith("accounts.")&&e.endsWith(t))}a(kk,"isLegacyDevAccountPortalOrigin");function Ek(e){return jM.some(t=>e.endsWith(t)&&!e.endsWith(".clerk"+t))}a(Ek,"isCurrentDevAccountPortalOrigin");function Pk(e){function t(r){let n=r??this;if(!n)throw new TypeError(`${e.kind||e.name} type guard requires an error object`);return n instanceof e}return a(t,"typeGuard"),t}a(Pk,"createErrorTypeGuard");var Gf=class{static{a(this,"ClerkAPIError")}static kind="ClerkApiError";code;message;longMessage;meta;constructor(e){let t={code:e.code,message:e.message,longMessage:e.long_message,meta:{paramName:e.meta?.param_name,sessionId:e.meta?.session_id,emailAddresses:e.meta?.email_addresses,identifiers:e.meta?.identifiers,zxcvbn:e.meta?.zxcvbn,plan:e.meta?.plan,isPlanUpgradePossible:e.meta?.is_plan_upgrade_possible}};this.code=t.code,this.message=t.message,this.longMessage=t.longMessage,this.meta=t.meta}},lLe=Pk(Gf);function Ik(e){return new Gf(e)}a(Ik,"parseError");var Ok=class FM extends Error{static{a(this,"ClerkError")}static kind="ClerkError";clerkError=!0;code;longMessage;docsUrl;cause;get name(){return this.constructor.name}constructor(t){super(new.target.formatMessage(new.target.kind,t.message,t.code,t.docsUrl),{cause:t.cause}),Object.setPrototypeOf(this,FM.prototype),this.code=t.code,this.docsUrl=t.docsUrl,this.longMessage=t.longMessage,this.cause=t.cause}toString(){return`[${this.name}]
Message:${this.message}`}static formatMessage(t,r,n,o){let i="Clerk:",s=new RegExp(i.replace(" ","\\s*"),"i");return r=r.replace(s,""),r=`${i} ${r.trim()}

(code="${n}")

`,o&&(r+=`

Docs: ${o}`),r}},Wf=class JM extends Ok{static{a(this,"ClerkAPIResponseError")}static kind="ClerkAPIResponseError";status;clerkTraceId;retryAfter;errors;constructor(t,r){let{data:n,status:o,clerkTraceId:i,retryAfter:s}=r;super({...r,message:t,code:"api_response_error"}),Object.setPrototypeOf(this,JM.prototype),this.status=o,this.clerkTraceId=i,this.retryAfter=s,this.errors=(n||[]).map(u=>new Gf(u))}toString(){let t=`[${this.name}]
Message:${this.message}
Status:${this.status}
Serialized errors: ${this.errors.map(r=>JSON.stringify(r))}`;return this.clerkTraceId&&(t+=`
Clerk Trace ID: ${this.clerkTraceId}`),t}static formatMessage(t,r,n,o){return r}},dLe=Pk(Wf),xee=Object.freeze({InvalidProxyUrlErrorMessage:"The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})",InvalidPublishableKeyErrorMessage:"The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",MissingPublishableKeyErrorMessage:"Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingSecretKeyErrorMessage:"Missing secretKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingClerkProvider:"{{source}} can only be used within the <ClerkProvider /> component. Learn more: https://clerk.com/docs/components/clerk-provider"});function Ak({packageName:e,customMessages:t}){let r=e;function n(i,s){if(!s)return`${r}: ${i}`;let u=i,l=i.matchAll(/{{([a-zA-Z0-9-_]+)}}/g);for(let d of l){let p=(s[d[1]]||"").toString();u=u.replace(`{{${d[1]}}}`,p)}return`${r}: ${u}`}a(n,"buildMessage");let o={...xee,...t};return{setPackageName({packageName:i}){return typeof i=="string"&&(r=i),this},setMessages({customMessages:i}){return Object.assign(o,i||{}),this},throwInvalidPublishableKeyError(i){throw new Error(n(o.InvalidPublishableKeyErrorMessage,i))},throwInvalidProxyUrl(i){throw new Error(n(o.InvalidProxyUrlErrorMessage,i))},throwMissingPublishableKeyError(){throw new Error(n(o.MissingPublishableKeyErrorMessage))},throwMissingSecretKeyError(){throw new Error(n(o.MissingSecretKeyErrorMessage))},throwMissingClerkProviderError(i){throw new Error(n(o.MissingClerkProvider,i))},throw(i){throw new Error(n(i))}}}a(Ak,"buildErrorThrower");var BM=class HM extends Ok{static{a(this,"ClerkRuntimeError")}static kind="ClerkRuntimeError";clerkRuntimeError=!0;constructor(t,r){super({...r,message:t}),Object.setPrototypeOf(this,HM.prototype)}},pLe=Pk(BM);function Ck(e){return e&&"clerkError"in e}a(Ck,"isClerkAPIResponseError");var Tee=Ak({packageName:"@clerk/backend"}),{isDevOrStagingUrl:ZLe}=Tk();var VM={InvalidSecretKey:"clerk_key_invalid"},tt={TokenExpired:"token-expired",TokenInvalid:"token-invalid",TokenInvalidAlgorithm:"token-invalid-algorithm",TokenInvalidAuthorizedParties:"token-invalid-authorized-parties",TokenInvalidSignature:"token-invalid-signature",TokenNotActiveYet:"token-not-active-yet",TokenIatInTheFuture:"token-iat-in-the-future",TokenVerificationFailed:"token-verification-failed",InvalidSecretKey:"secret-key-invalid",LocalJWKMissing:"jwk-local-missing",RemoteJWKFailedToLoad:"jwk-remote-failed-to-load",RemoteJWKInvalid:"jwk-remote-invalid",RemoteJWKMissing:"jwk-remote-missing",JWKFailedToResolve:"jwk-failed-to-resolve",JWKKidMismatch:"jwk-kid-mismatch"},Tr={ContactSupport:"Contact support@clerk.com",EnsureClerkJWT:"Make sure that this is a valid Clerk-generated JWT.",SetClerkJWTKey:"Set the CLERK_JWT_KEY environment variable.",SetClerkSecretKey:"Set the CLERK_SECRET_KEY environment variable.",EnsureClockSync:"Make sure your system clock is in sync (e.g. turn off and on automatic time synchronization)."},St=class ZM extends Error{static{a(this,"_TokenVerificationError")}constructor({action:t,message:r,reason:n}){super(r),Object.setPrototypeOf(this,ZM.prototype),this.reason=n,this.message=r,this.action=t}getFullMessage(){return`${[this.message,this.action].filter(t=>t).join(" ")} (reason=${this.reason}, token-carrier=${this.tokenCarrier})`}};var Xl={TokenInvalid:"token-invalid",InvalidSecretKey:"secret-key-invalid",UnexpectedError:"unexpected-error"},Qf=class KM extends Error{static{a(this,"_MachineTokenVerificationError")}constructor({message:t,code:r,status:n}){super(t),Object.setPrototypeOf(this,KM.prototype),this.code=r,this.status=n}getFullMessage(){return`${this.message} (code=${this.code}, status=${this.status})`}};import{webcrypto as GM}from"node:crypto";var kee=fetch.bind(globalThis),Zo={crypto:GM,get fetch(){return kee},AbortController:globalThis.AbortController,Blob:globalThis.Blob,FormData:globalThis.FormData,Headers:globalThis.Headers,Request:globalThis.Request,Response:globalThis.Response},Rk={parse(e,t){return Eee(e,WM,t)},stringify(e,t){return Pee(e,WM,t)}},WM={chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bits:6};function Eee(e,t,r={}){if(!t.codes){t.codes={};for(let l=0;l<t.chars.length;++l)t.codes[t.chars[l]]=l}if(!r.loose&&e.length*t.bits&7)throw new SyntaxError("Invalid padding");let n=e.length;for(;e[n-1]==="=";)if(--n,!r.loose&&!((e.length-n)*t.bits&7))throw new SyntaxError("Invalid padding");let o=new(r.out??Uint8Array)(n*t.bits/8|0),i=0,s=0,u=0;for(let l=0;l<n;++l){let d=t.codes[e[l]];if(d===void 0)throw new SyntaxError("Invalid character "+e[l]);s=s<<t.bits|d,i+=t.bits,i>=8&&(i-=8,o[u++]=255&s>>i)}if(i>=t.bits||255&s<<8-i)throw new SyntaxError("Unexpected end of data");return o}a(Eee,"parse");function Pee(e,t,r={}){let{pad:n=!0}=r,o=(1<<t.bits)-1,i="",s=0,u=0;for(let l=0;l<e.length;++l)for(u=u<<8|255&e[l],s+=8;s>t.bits;)s-=t.bits,i+=t.chars[o&u>>s];if(s&&(i+=t.chars[o&u<<t.bits-s]),n)for(;i.length*t.bits&7;)i+="=";return i}a(Pee,"stringify");var Nk={RS256:"SHA-256",RS384:"SHA-384",RS512:"SHA-512"},$k="RSASSA-PKCS1-v1_5",QM={RS256:$k,RS384:$k,RS512:$k},jk=Object.keys(Nk);function Iee(e){let t=Nk[e],r=QM[e];if(!t||!r)throw new Error(`Unsupported algorithm ${e}, expected one of ${jk.join(",")}.`);return{hash:{name:Nk[e]},name:QM[e]}}a(Iee,"getCryptoAlgorithm");var Oee=a(e=>Array.isArray(e)&&e.length>0&&e.every(t=>typeof t=="string"),"isArrayString"),Aee=a((e,t)=>{let r=[t].flat().filter(i=>!!i),n=[e].flat().filter(i=>!!i);if(r.length>0&&n.length>0){if(typeof e=="string"){if(!r.includes(e))throw new St({action:Tr.EnsureClerkJWT,reason:tt.TokenVerificationFailed,message:`Invalid JWT audience claim (aud) ${JSON.stringify(e)}. Is not included in "${JSON.stringify(r)}".`})}else if(Oee(e)&&!e.some(i=>r.includes(i)))throw new St({action:Tr.EnsureClerkJWT,reason:tt.TokenVerificationFailed,message:`Invalid JWT audience claim array (aud) ${JSON.stringify(e)}. Is not included in "${JSON.stringify(r)}".`})}},"assertAudienceClaim"),zk=a(e=>{if(!(typeof e>"u")&&e!=="JWT")throw new St({action:Tr.EnsureClerkJWT,reason:tt.TokenInvalid,message:`Invalid JWT type ${JSON.stringify(e)}. Expected "JWT".`})},"assertHeaderType"),Dk=a(e=>{if(!jk.includes(e))throw new St({action:Tr.EnsureClerkJWT,reason:tt.TokenInvalidAlgorithm,message:`Invalid JWT algorithm ${JSON.stringify(e)}. Supported: ${jk}.`})},"assertHeaderAlgorithm"),Cee=a(e=>{if(typeof e!="string")throw new St({action:Tr.EnsureClerkJWT,reason:tt.TokenVerificationFailed,message:`Subject claim (sub) is required and must be a string. Received ${JSON.stringify(e)}.`})},"assertSubClaim"),Ree=a((e,t)=>{if(!(!e||!t||t.length===0)&&!t.includes(e))throw new St({reason:tt.TokenInvalidAuthorizedParties,message:`Invalid JWT Authorized party claim (azp) ${JSON.stringify(e)}. Expected "${t}".`})},"assertAuthorizedPartiesClaim"),$ee=a((e,t)=>{if(typeof e!="number")throw new St({action:Tr.EnsureClerkJWT,reason:tt.TokenVerificationFailed,message:`Invalid JWT expiry date claim (exp) ${JSON.stringify(e)}. Expected number.`});let r=new Date(Date.now()),n=new Date(0);if(n.setUTCSeconds(e),n.getTime()<=r.getTime()-t)throw new St({reason:tt.TokenExpired,message:`JWT is expired. Expiry date: ${n.toUTCString()}, Current date: ${r.toUTCString()}.`})},"assertExpirationClaim"),Nee=a((e,t)=>{if(typeof e>"u")return;if(typeof e!="number")throw new St({action:Tr.EnsureClerkJWT,reason:tt.TokenVerificationFailed,message:`Invalid JWT not before date claim (nbf) ${JSON.stringify(e)}. Expected number.`});let r=new Date(Date.now()),n=new Date(0);if(n.setUTCSeconds(e),n.getTime()>r.getTime()+t)throw new St({reason:tt.TokenNotActiveYet,message:`JWT cannot be used prior to not before date claim (nbf). Not before date: ${n.toUTCString()}; Current date: ${r.toUTCString()};`})},"assertActivationClaim"),jee=a((e,t)=>{if(typeof e>"u")return;if(typeof e!="number")throw new St({action:Tr.EnsureClerkJWT,reason:tt.TokenVerificationFailed,message:`Invalid JWT issued at date claim (iat) ${JSON.stringify(e)}. Expected number.`});let r=new Date(Date.now()),n=new Date(0);if(n.setUTCSeconds(e),n.getTime()>r.getTime()+t)throw new St({reason:tt.TokenIatInTheFuture,message:`JWT issued at date claim (iat) is in the future. Issued at date: ${n.toUTCString()}; Current date: ${r.toUTCString()};`})},"assertIssuedAtClaim");function zee(e){let t=e.replace(/-----BEGIN.*?-----/g,"").replace(/-----END.*?-----/g,"").replace(/\s/g,""),r=ju(t),n=new ArrayBuffer(r.length),o=new Uint8Array(n);for(let i=0,s=r.length;i<s;i++)o[i]=r.charCodeAt(i);return o}a(zee,"pemToBuffer");function Dee(e,t,r){if(typeof e=="object")return Zo.crypto.subtle.importKey("jwk",e,t,!1,[r]);let n=zee(e),o=r==="sign"?"pkcs8":"spki";return Zo.crypto.subtle.importKey(o,n,t,!1,[r])}a(Dee,"importKey");var Mee=5*1e3;async function Mk(e,t){let{header:r,signature:n,raw:o}=e,s=new TextEncoder().encode([o.header,o.payload].join(".")),u=Iee(r.alg);try{let l=await Dee(t,u,"verify");return{data:await Zo.crypto.subtle.verify(u.name,l,n,s)}}catch(l){return{errors:[new St({reason:tt.TokenInvalidSignature,message:l?.message})]}}}a(Mk,"hasValidSignature");function _o(e){let t=(e||"").toString().split(".");if(t.length!==3)return{errors:[new St({reason:tt.TokenInvalid,message:"Invalid JWT form. A JWT consists of three parts separated by dots."})]};let[r,n,o]=t,i=new TextDecoder,s=JSON.parse(i.decode(Rk.parse(r,{loose:!0}))),u=JSON.parse(i.decode(Rk.parse(n,{loose:!0}))),l=Rk.parse(o,{loose:!0});return{data:{header:s,payload:u,signature:l,raw:{header:r,payload:n,signature:o,text:e}}}}a(_o,"decodeJwt");async function XM(e,t){let{audience:r,authorizedParties:n,clockSkewInMs:o,key:i}=t,s=o||Mee,{data:u,errors:l}=_o(e);if(l)return{errors:l};let{header:d,payload:p}=u;try{let{typ:y,alg:g}=d;zk(y),Dk(g);let{azp:h,sub:v,aud:S,iat:b,exp:w,nbf:k}=p;Cee(v),Aee([S],[r]),Ree(h,n),$ee(w,s),Nee(k,s),jee(b,s)}catch(y){return{errors:[y]}}let{data:f,errors:m}=await Mk(u,i);return m?{errors:[new St({action:Tr.EnsureClerkJWT,reason:tt.TokenVerificationFailed,message:`Error verifying JWT signature. ${m[0]}`})]}:f?{data:p}:{errors:[new St({reason:tt.TokenInvalidSignature,message:"JWT signature is invalid."})]}}a(XM,"verifyJwt");var YM=a(e=>{throw TypeError(e)},"__typeError"),qee=a((e,t,r)=>t.has(e)||YM("Cannot "+r),"__accessCheck"),eq=a((e,t,r)=>t.has(e)?YM("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),"__privateAdd"),Xf=a((e,t,r)=>(qee(e,t,"access private method"),r),"__privateMethod");function qk(e){return e?`https://${e.replace(/clerk\.accountsstage\./,"accountsstage.").replace(/clerk\.accounts\.|clerk\./,"accounts.")}`:""}a(qk,"buildAccountsBaseUrl");var Uee={strict_mfa:{afterMinutes:10,level:"multi_factor"},strict:{afterMinutes:10,level:"second_factor"},moderate:{afterMinutes:60,level:"second_factor"},lax:{afterMinutes:1440,level:"second_factor"}},Lee=new Set(["first_factor","second_factor","multi_factor"]),Fee=new Set(["strict_mfa","strict","moderate","lax"]),Jee=a(e=>typeof e=="number"&&e>0,"isValidMaxAge"),Bee=a(e=>Lee.has(e),"isValidLevel"),Hee=a(e=>Fee.has(e),"isValidVerificationType"),Uk=a(e=>e.replace(/^(org:)*/,"org:"),"prefixWithOrg"),Vee=a((e,t)=>{let{orgId:r,orgRole:n,orgPermissions:o}=t;return!e.role&&!e.permission||!r||!n||!o?null:e.permission?o.includes(Uk(e.permission)):e.role?Uk(n)===Uk(e.role):null},"checkOrgAuthorization"),tq=a((e,t)=>{let{org:r,user:n}=Yf(e),[o,i]=t.split(":"),s=i||o;return o==="org"?r.includes(s):o==="user"?n.includes(s):[...r,...n].includes(s)},"checkForFeatureOrPlan"),Zee=a((e,t)=>{let{features:r,plans:n}=t;return e.feature&&r?tq(r,e.feature):e.plan&&n?tq(n,e.plan):null},"checkBillingAuthorization"),Yf=a(e=>{let t=e?e.split(",").map(r=>r.trim()):[];return{org:t.filter(r=>r.split(":")[0].includes("o")).map(r=>r.split(":")[1]),user:t.filter(r=>r.split(":")[0].includes("u")).map(r=>r.split(":")[1])}},"splitByScope"),rq=a(e=>{if(!e)return!1;let t=a(o=>typeof o=="string"?Uee[o]:o,"convertConfigToObject"),r=typeof e=="string"&&Hee(e),n=typeof e=="object"&&Bee(e.level)&&Jee(e.afterMinutes);return r||n?t.bind(null,e):!1},"validateReverificationConfig"),Kee=a((e,{factorVerificationAge:t})=>{if(!e.reverification||!t)return null;let r=rq(e.reverification);if(!r)return null;let{level:n,afterMinutes:o}=r(),[i,s]=t,u=i!==-1?o>i:null,l=s!==-1?o>s:null;switch(n){case"first_factor":return u;case"second_factor":return s!==-1?l:u;case"multi_factor":return s===-1?u:u&&l}},"checkReverificationAuthorization"),Lk=a(e=>t=>{if(!e.userId)return!1;let r=Zee(t,e),n=Vee(t,e),o=Kee(t,e);return[r||n,o].some(i=>i===null)?[r||n,o].some(i=>i===!0):[r||n,o].every(i=>i===!0)},"createCheckAuthorization");var Gee=a(({per:e,fpm:t})=>{if(!e||!t)return{permissions:[],featurePermissionMap:[]};let r=e.split(",").map(n=>n.trim());return{permissions:r,featurePermissionMap:t.split(",").map(n=>Number.parseInt(n.trim(),10)).map(n=>n.toString(2).padStart(r.length,"0").split("").map(o=>Number.parseInt(o,10)).reverse()).filter(Boolean)}},"parsePermissions");function Wee({features:e,permissions:t,featurePermissionMap:r}){if(!e||!t||!r)return[];let n=[];for(let o=0;o<e.length;o++){let i=e[o];if(o>=r.length)continue;let s=r[o];if(s)for(let u=0;u<s.length;u++)s[u]===1&&n.push(`org:${i}:${t[u]}`)}return n}a(Wee,"buildOrgPermissions");var nq=a(e=>{let t,r,n,o,i=e.fva??null,s=e.sts??null;switch(e.v){case 2:if(e.o){t=e.o?.id,n=e.o?.slg,e.o?.rol&&(r=`org:${e.o?.rol}`);let{org:u}=Yf(e.fea),{permissions:l,featurePermissionMap:d}=Gee({per:e.o?.per,fpm:e.o?.fpm});o=Wee({features:u,featurePermissionMap:d,permissions:l})}break;default:t=e.org_id,r=e.org_role,n=e.org_slug,o=e.org_permissions;break}return{sessionClaims:e,sessionId:e.sid,sessionStatus:s,actor:e.act,userId:e.sub,orgId:t,orgRole:r,orgSlug:n,orgPermissions:o,factorVerificationAge:i}},"__experimental_JWTPayloadToAuthObjectProperties");var V2=Xs(aq(),1);function ste(e){for(var t=[],r=0;r<e.length;){var n=e[r];if(n==="*"||n==="+"||n==="?"){t.push({type:"MODIFIER",index:r,value:e[r++]});continue}if(n==="\\"){t.push({type:"ESCAPED_CHAR",index:r++,value:e[r++]});continue}if(n==="{"){t.push({type:"OPEN",index:r,value:e[r++]});continue}if(n==="}"){t.push({type:"CLOSE",index:r,value:e[r++]});continue}if(n===":"){for(var o="",i=r+1;i<e.length;){var s=e.charCodeAt(i);if(s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122||s===95){o+=e[i++];continue}break}if(!o)throw new TypeError("Missing parameter name at ".concat(r));t.push({type:"NAME",index:r,value:o}),r=i;continue}if(n==="("){var u=1,l="",i=r+1;if(e[i]==="?")throw new TypeError('Pattern cannot start with "?" at '.concat(i));for(;i<e.length;){if(e[i]==="\\"){l+=e[i++]+e[i++];continue}if(e[i]===")"){if(u--,u===0){i++;break}}else if(e[i]==="("&&(u++,e[i+1]!=="?"))throw new TypeError("Capturing groups are not allowed at ".concat(i));l+=e[i++]}if(u)throw new TypeError("Unbalanced pattern at ".concat(r));if(!l)throw new TypeError("Missing pattern at ".concat(r));t.push({type:"PATTERN",index:r,value:l}),r=i;continue}t.push({type:"CHAR",index:r,value:e[r++]})}return t.push({type:"END",index:r,value:""}),t}a(ste,"_");function ute(e,t){t===void 0&&(t={});for(var r=ste(e),n=t.prefixes,o=n===void 0?"./":n,i=t.delimiter,s=i===void 0?"/#?":i,u=[],l=0,d=0,p="",f=function(R){if(d<r.length&&r[d].type===R)return r[d++].value},m=function(R){var I=f(R);if(I!==void 0)return I;var N=r[d],z=N.type,X=N.index;throw new TypeError("Unexpected ".concat(z," at ").concat(X,", expected ").concat(R))},y=function(){for(var R="",I;I=f("CHAR")||f("ESCAPED_CHAR");)R+=I;return R},g=function(R){for(var I=0,N=s;I<N.length;I++){var z=N[I];if(R.indexOf(z)>-1)return!0}return!1},h=function(R){var I=u[u.length-1],N=R||(I&&typeof I=="string"?I:"");if(I&&!N)throw new TypeError('Must have text between two parameters, missing text after "'.concat(I.name,'"'));return!N||g(N)?"[^".concat(ma(s),"]+?"):"(?:(?!".concat(ma(N),")[^").concat(ma(s),"])+?")};d<r.length;){var v=f("CHAR"),S=f("NAME"),b=f("PATTERN");if(S||b){var w=v||"";o.indexOf(w)===-1&&(p+=w,w=""),p&&(u.push(p),p=""),u.push({name:S||l++,prefix:w,suffix:"",pattern:b||h(w),modifier:f("MODIFIER")||""});continue}var k=v||f("ESCAPED_CHAR");if(k){p+=k;continue}if(p&&(u.push(p),p=""),f("OPEN")){var w=y(),$=f("NAME")||"",A=f("PATTERN")||"",O=y();m("CLOSE"),u.push({name:$||(A?l++:""),pattern:$&&!A?h(w):A,prefix:w,suffix:O,modifier:f("MODIFIER")||""});continue}m("END")}return u}a(ute,"F");function cte(e,t){var r=[];return lte(uq(e,r,t),r,t)}a(cte,"H");function lte(e,t,r){r===void 0&&(r={});var n=r.decode,o=n===void 0?function(i){return i}:n;return function(i){var s=e.exec(i);if(!s)return!1;for(var u=s[0],l=s.index,d=Object.create(null),p=function(m){if(s[m]===void 0)return"continue";var y=t[m-1];y.modifier==="*"||y.modifier==="+"?d[y.name]=s[m].split(y.prefix+y.suffix).map(function(g){return o(g,y)}):d[y.name]=o(s[m],y)},f=1;f<s.length;f++)p(f);return{path:u,index:l,params:d}}}a(lte,"I");function ma(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}a(ma,"s");function sq(e){return e&&e.sensitive?"":"i"}a(sq,"D");function dte(e,t){if(!t)return e;for(var r=/\((?:\?<(.*?)>)?(?!\?)/g,n=0,o=r.exec(e.source);o;)t.push({name:o[1]||n++,prefix:"",suffix:"",modifier:"",pattern:""}),o=r.exec(e.source);return e}a(dte,"$");function pte(e,t,r){var n=e.map(function(o){return uq(o,t,r).source});return new RegExp("(?:".concat(n.join("|"),")"),sq(r))}a(pte,"W");function mte(e,t,r){return fte(ute(e,r),t,r)}a(mte,"L");function fte(e,t,r){r===void 0&&(r={});for(var n=r.strict,o=n===void 0?!1:n,i=r.start,s=i===void 0?!0:i,u=r.end,l=u===void 0?!0:u,d=r.encode,p=d===void 0?function(N){return N}:d,f=r.delimiter,m=f===void 0?"/#?":f,y=r.endsWith,g=y===void 0?"":y,h="[".concat(ma(g),"]|$"),v="[".concat(ma(m),"]"),S=s?"^":"",b=0,w=e;b<w.length;b++){var k=w[b];if(typeof k=="string")S+=ma(p(k));else{var $=ma(p(k.prefix)),A=ma(p(k.suffix));if(k.pattern)if(t&&t.push(k),$||A)if(k.modifier==="+"||k.modifier==="*"){var O=k.modifier==="*"?"?":"";S+="(?:".concat($,"((?:").concat(k.pattern,")(?:").concat(A).concat($,"(?:").concat(k.pattern,"))*)").concat(A,")").concat(O)}else S+="(?:".concat($,"(").concat(k.pattern,")").concat(A,")").concat(k.modifier);else{if(k.modifier==="+"||k.modifier==="*")throw new TypeError('Can not repeat "'.concat(k.name,'" without a prefix and suffix'));S+="(".concat(k.pattern,")").concat(k.modifier)}else S+="(?:".concat($).concat(A,")").concat(k.modifier)}}if(l)o||(S+="".concat(v,"?")),S+=r.endsWith?"(?=".concat(h,")"):"$";else{var R=e[e.length-1],I=typeof R=="string"?v.indexOf(R[R.length-1])>-1:R===void 0;o||(S+="(?:".concat(v,"(?=").concat(h,"))?")),I||(S+="(?=".concat(v,"|").concat(h,")"))}return new RegExp(S,sq(r))}a(fte,"U");function uq(e,t,r){return e instanceof RegExp?dte(e,t):Array.isArray(e)?pte(e,t,r):mte(e,t,r)}a(uq,"P");function Fk(e,t){try{return cte(e,t)}catch(r){throw new Error(`Invalid path and options: Consult the documentation of path-to-regexp here: https://github.com/pillarjs/path-to-regexp/tree/6.x
${r.message}`)}}a(Fk,"match");var Aq="https://api.clerk.com",Cq="v1",Rq="@clerk/backend@2.24.0",yte=300,nE="2025-11-10",vte={AuthToken:"__clerkAuthToken",AuthSignature:"__clerkAuthSignature",AuthStatus:"__clerkAuthStatus",AuthReason:"__clerkAuthReason",AuthMessage:"__clerkAuthMessage",ClerkUrl:"__clerkUrl"},uh={Session:"__session",Refresh:"__refresh",ClientUat:"__client_uat",Handshake:"__clerk_handshake",DevBrowser:"__clerk_db_jwt",RedirectCount:"__clerk_redirect_count",HandshakeNonce:"__clerk_handshake_nonce"},_te={ClerkSynced:"__clerk_synced",SuffixedCookies:"suffixed_cookies",ClerkRedirectUrl:"__clerk_redirect_url",DevBrowser:uh.DevBrowser,Handshake:uh.Handshake,HandshakeHelp:"__clerk_help",LegacyDevBrowser:"__dev_session",HandshakeReason:"__clerk_hs_reason",HandshakeNonce:uh.HandshakeNonce,HandshakeFormat:"format"},bte={Accept:"accept",AuthMessage:"x-clerk-auth-message",Authorization:"authorization",AuthReason:"x-clerk-auth-reason",AuthSignature:"x-clerk-auth-signature",AuthStatus:"x-clerk-auth-status",AuthToken:"x-clerk-auth-token",CacheControl:"cache-control",ClerkRedirectTo:"x-clerk-redirect-to",ClerkRequestData:"x-clerk-request-data",ClerkUrl:"x-clerk-clerk-url",CloudFrontForwardedProto:"cloudfront-forwarded-proto",ContentType:"content-type",ContentSecurityPolicy:"content-security-policy",ContentSecurityPolicyReportOnly:"content-security-policy-report-only",EnableDebug:"x-clerk-debug",ForwardedHost:"x-forwarded-host",ForwardedPort:"x-forwarded-port",ForwardedProto:"x-forwarded-proto",Host:"host",Location:"location",Nonce:"x-nonce",Origin:"origin",Referrer:"referer",SecFetchDest:"sec-fetch-dest",SecFetchSite:"sec-fetch-site",UserAgent:"user-agent",ReportingEndpoints:"reporting-endpoints"},Ste={Json:"application/json"},Ae={Attributes:vte,Cookies:uh,Headers:bte,ContentTypes:Ste,QueryParameters:_te};function cq(e,t){return Object.keys(e).reduce((r,n)=>({...r,[n]:t[n]||r[n]}),{...e})}a(cq,"mergePreDefinedOptions");function $q(e){if(!e||typeof e!="string")throw Error("Missing Clerk Secret Key. Go to https://dashboard.clerk.com and get your key for your instance.")}a($q,"assertValidSecretKey");function wte(e){pa(e,{fatal:!0})}a(wte,"assertValidPublishableKey");var Ze={SessionToken:"session_token",ApiKey:"api_key",M2MToken:"m2m_token",OAuthToken:"oauth_token"},xte=class{static{a(this,"AuthenticateContext")}constructor(e,t,r){this.cookieSuffix=e,this.clerkRequest=t,this.originalFrontendApi="",r.acceptsToken===Ze.M2MToken||r.acceptsToken===Ze.ApiKey?this.initHeaderValues():(this.initPublishableKeyValues(r),this.initHeaderValues(),this.initCookieValues(),this.initHandshakeValues()),Object.assign(this,r),this.clerkUrl=this.clerkRequest.clerkUrl}get sessionToken(){return this.sessionTokenInCookie||this.tokenInHeader}usesSuffixedCookies(){let e=this.getSuffixedCookie(Ae.Cookies.ClientUat),t=this.getCookie(Ae.Cookies.ClientUat),r=this.getSuffixedCookie(Ae.Cookies.Session)||"",n=this.getCookie(Ae.Cookies.Session)||"";if(n&&!this.tokenHasIssuer(n))return!1;if(n&&!this.tokenBelongsToInstance(n))return!0;if(!e&&!r)return!1;let{data:o}=_o(n),i=o?.payload.iat||0,{data:s}=_o(r),u=s?.payload.iat||0;if(e!=="0"&&t!=="0"&&i>u||e==="0"&&t!=="0")return!1;if(this.instanceType!=="production"){let l=this.sessionExpired(s);if(e!=="0"&&t==="0"&&l)return!1}return!(!e&&r)}isCrossOriginReferrer(){if(!this.referrer||!this.clerkUrl.origin)return!1;try{return new URL(this.referrer).origin!==this.clerkUrl.origin}catch{return!1}}isKnownClerkReferrer(){if(!this.referrer)return!1;try{let e=new URL(this.referrer),t=e.hostname;if(this.frontendApi){let n=this.frontendApi.startsWith("http")?new URL(this.frontendApi).hostname:this.frontendApi;if(t===n)return!0}if(kk(t)||Ek(t))return!0;let r=qk(this.frontendApi);if(r){let n=new URL(r).origin;if(e.origin===n)return!0}return!!t.startsWith("accounts.")}catch{return!1}}initPublishableKeyValues(e){wte(e.publishableKey),this.publishableKey=e.publishableKey;let t=pa(this.publishableKey,{fatal:!0,domain:e.domain,isSatellite:e.isSatellite});this.originalFrontendApi=t.frontendApi;let r=pa(this.publishableKey,{fatal:!0,proxyUrl:e.proxyUrl,domain:e.domain,isSatellite:e.isSatellite});this.instanceType=r.instanceType,this.frontendApi=r.frontendApi}initHeaderValues(){this.tokenInHeader=this.parseAuthorizationHeader(this.getHeader(Ae.Headers.Authorization)),this.origin=this.getHeader(Ae.Headers.Origin),this.host=this.getHeader(Ae.Headers.Host),this.forwardedHost=this.getHeader(Ae.Headers.ForwardedHost),this.forwardedProto=this.getHeader(Ae.Headers.CloudFrontForwardedProto)||this.getHeader(Ae.Headers.ForwardedProto),this.referrer=this.getHeader(Ae.Headers.Referrer),this.userAgent=this.getHeader(Ae.Headers.UserAgent),this.secFetchDest=this.getHeader(Ae.Headers.SecFetchDest),this.accept=this.getHeader(Ae.Headers.Accept)}initCookieValues(){this.sessionTokenInCookie=this.getSuffixedOrUnSuffixedCookie(Ae.Cookies.Session),this.refreshTokenInCookie=this.getSuffixedCookie(Ae.Cookies.Refresh),this.clientUat=Number.parseInt(this.getSuffixedOrUnSuffixedCookie(Ae.Cookies.ClientUat)||"")||0}initHandshakeValues(){this.devBrowserToken=this.getQueryParam(Ae.QueryParameters.DevBrowser)||this.getSuffixedOrUnSuffixedCookie(Ae.Cookies.DevBrowser),this.handshakeToken=this.getQueryParam(Ae.QueryParameters.Handshake)||this.getCookie(Ae.Cookies.Handshake),this.handshakeRedirectLoopCounter=Number(this.getCookie(Ae.Cookies.RedirectCount))||0,this.handshakeNonce=this.getQueryParam(Ae.QueryParameters.HandshakeNonce)||this.getCookie(Ae.Cookies.HandshakeNonce)}getQueryParam(e){return this.clerkRequest.clerkUrl.searchParams.get(e)}getHeader(e){return this.clerkRequest.headers.get(e)||void 0}getCookie(e){return this.clerkRequest.cookies.get(e)||void 0}getSuffixedCookie(e){return this.getCookie(Zf(e,this.cookieSuffix))||void 0}getSuffixedOrUnSuffixedCookie(e){return this.usesSuffixedCookies()?this.getSuffixedCookie(e):this.getCookie(e)}parseAuthorizationHeader(e){if(!e)return;let[t,r]=e.split(" ",2);if(!r)return t;if(t==="Bearer")return r}tokenHasIssuer(e){let{data:t,errors:r}=_o(e);return r?!1:!!t.payload.iss}tokenBelongsToInstance(e){if(!e)return!1;let{data:t,errors:r}=_o(e);if(r)return!1;let n=t.payload.iss.replace(/https?:\/\//gi,"");return this.originalFrontendApi===n}sessionExpired(e){return!!e&&e?.payload.exp<=Date.now()/1e3>>0}},Tte=a(async(e,t)=>{let r=t.publishableKey?await Vf(t.publishableKey,Zo.crypto.subtle):"";return new xte(r,e,t)},"createAuthenticateContext"),Wk="/",kte=new RegExp("(?<!:)"+Wk+"{1,}","g");function ie(...e){return e.filter(t=>t).join(Wk).replace(kte,Wk)}a(ie,"joinPaths");var kt=class{static{a(this,"AbstractAPI")}constructor(e){this.request=e}requireId(e){if(!e)throw new Error("A valid resource ID is required.")}},lq="/actor_tokens",Ete=class extends kt{static{a(this,"ActorTokenAPI")}async create(e){return this.request({method:"POST",path:lq,bodyParams:e})}async revoke(e){return this.requireId(e),this.request({method:"POST",path:ie(lq,e,"revoke")})}},dq="/accountless_applications",Pte=class extends kt{static{a(this,"AccountlessApplicationAPI")}async createAccountlessApplication(e){let t=e?.requestHeaders?Object.fromEntries(e.requestHeaders.entries()):void 0;return this.request({method:"POST",path:dq,headerParams:t})}async completeAccountlessApplicationOnboarding(e){let t=e?.requestHeaders?Object.fromEntries(e.requestHeaders.entries()):void 0;return this.request({method:"POST",path:ie(dq,"complete"),headerParams:t})}},Jk="/allowlist_identifiers",Ite=class extends kt{static{a(this,"AllowlistIdentifierAPI")}async getAllowlistIdentifierList(e={}){return this.request({method:"GET",path:Jk,queryParams:{...e,paginated:!0}})}async createAllowlistIdentifier(e){return this.request({method:"POST",path:Jk,bodyParams:e})}async deleteAllowlistIdentifier(e){return this.requireId(e),this.request({method:"DELETE",path:ie(Jk,e)})}},Yl="/api_keys",Ote=class extends kt{static{a(this,"APIKeysAPI")}async list(e){return this.request({method:"GET",path:Yl,queryParams:e})}async create(e){return this.request({method:"POST",path:Yl,bodyParams:e})}async revoke(e){let{apiKeyId:t,...r}=e;return this.requireId(t),this.request({method:"POST",path:ie(Yl,t,"revoke"),bodyParams:r})}async getSecret(e){return this.requireId(e),this.request({method:"GET",path:ie(Yl,e,"secret")})}async verifySecret(e){return this.request({method:"POST",path:ie(Yl,"verify"),bodyParams:{secret:e}})}},Ate="/beta_features",Cte=class extends kt{static{a(this,"BetaFeaturesAPI")}async changeDomain(e){return this.request({method:"POST",path:ie(Ate,"change_domain"),bodyParams:e})}},Bk="/blocklist_identifiers",Rte=class extends kt{static{a(this,"BlocklistIdentifierAPI")}async getBlocklistIdentifierList(e={}){return this.request({method:"GET",path:Bk,queryParams:e})}async createBlocklistIdentifier(e){return this.request({method:"POST",path:Bk,bodyParams:e})}async deleteBlocklistIdentifier(e){return this.requireId(e),this.request({method:"DELETE",path:ie(Bk,e)})}},th="/clients",$te=class extends kt{static{a(this,"ClientAPI")}async getClientList(e={}){return this.request({method:"GET",path:th,queryParams:{...e,paginated:!0}})}async getClient(e){return this.requireId(e),this.request({method:"GET",path:ie(th,e)})}verifyClient(e){return this.request({method:"POST",path:ie(th,"verify"),bodyParams:{token:e}})}async getHandshakePayload(e){return this.request({method:"GET",path:ie(th,"handshake_payload"),queryParams:e})}},rh="/domains",Nte=class extends kt{static{a(this,"DomainAPI")}async list(){return this.request({method:"GET",path:rh})}async add(e){return this.request({method:"POST",path:rh,bodyParams:e})}async update(e){let{domainId:t,...r}=e;return this.requireId(t),this.request({method:"PATCH",path:ie(rh,t),bodyParams:r})}async delete(e){return this.deleteDomain(e)}async deleteDomain(e){return this.requireId(e),this.request({method:"DELETE",path:ie(rh,e)})}},nh="/email_addresses",jte=class extends kt{static{a(this,"EmailAddressAPI")}async getEmailAddress(e){return this.requireId(e),this.request({method:"GET",path:ie(nh,e)})}async createEmailAddress(e){return this.request({method:"POST",path:nh,bodyParams:e})}async updateEmailAddress(e,t={}){return this.requireId(e),this.request({method:"PATCH",path:ie(nh,e),bodyParams:t})}async deleteEmailAddress(e){return this.requireId(e),this.request({method:"DELETE",path:ie(nh,e)})}},zte="/oauth_applications/access_tokens",Dte=class extends kt{static{a(this,"IdPOAuthAccessTokenApi")}async verifyAccessToken(e){return this.request({method:"POST",path:ie(zte,"verify"),bodyParams:{access_token:e}})}},oh="/instance",Mte=class extends kt{static{a(this,"InstanceAPI")}async get(){return this.request({method:"GET",path:oh})}async update(e){return this.request({method:"PATCH",path:oh,bodyParams:e})}async updateRestrictions(e){return this.request({method:"PATCH",path:ie(oh,"restrictions"),bodyParams:e})}async updateOrganizationSettings(e){return this.request({method:"PATCH",path:ie(oh,"organization_settings"),bodyParams:e})}},ih="/invitations",qte=class extends kt{static{a(this,"InvitationAPI")}async getInvitationList(e={}){return this.request({method:"GET",path:ih,queryParams:{...e,paginated:!0}})}async createInvitation(e){return this.request({method:"POST",path:ih,bodyParams:e})}async createInvitationBulk(e){return this.request({method:"POST",path:ie(ih,"bulk"),bodyParams:e})}async revokeInvitation(e){return this.requireId(e),this.request({method:"POST",path:ie(ih,e,"revoke")})}},Ei="/machines",Ute=class extends kt{static{a(this,"MachineApi")}async get(e){return this.requireId(e),this.request({method:"GET",path:ie(Ei,e)})}async list(e={}){return this.request({method:"GET",path:Ei,queryParams:e})}async create(e){return this.request({method:"POST",path:Ei,bodyParams:e})}async update(e){let{machineId:t,...r}=e;return this.requireId(t),this.request({method:"PATCH",path:ie(Ei,t),bodyParams:r})}async delete(e){return this.requireId(e),this.request({method:"DELETE",path:ie(Ei,e)})}async getSecretKey(e){return this.requireId(e),this.request({method:"GET",path:ie(Ei,e,"secret_key")})}async rotateSecretKey(e){let{machineId:t,previousTokenTtl:r}=e;return this.requireId(t),this.request({method:"POST",path:ie(Ei,t,"secret_key","rotate"),bodyParams:{previousTokenTtl:r}})}async createScope(e,t){return this.requireId(e),this.request({method:"POST",path:ie(Ei,e,"scopes"),bodyParams:{toMachineId:t}})}async deleteScope(e,t){return this.requireId(e),this.request({method:"DELETE",path:ie(Ei,e,"scopes",t)})}},Hk="/m2m_tokens",od,ch,Lte=class extends kt{static{a(this,"M2MTokenApi")}constructor(){super(...arguments),eq(this,od)}async createToken(e){let{claims:t=null,machineSecretKey:r,secondsUntilExpiration:n=null}=e||{},o=Xf(this,od,ch).call(this,{method:"POST",path:Hk,bodyParams:{secondsUntilExpiration:n,claims:t}},r);return this.request(o)}async revokeToken(e){let{m2mTokenId:t,revocationReason:r=null,machineSecretKey:n}=e;this.requireId(t);let o=Xf(this,od,ch).call(this,{method:"POST",path:ie(Hk,t,"revoke"),bodyParams:{revocationReason:r}},n);return this.request(o)}async verifyToken(e){let{token:t,machineSecretKey:r}=e,n=Xf(this,od,ch).call(this,{method:"POST",path:ie(Hk,"verify"),bodyParams:{token:t}},r);return this.request(n)}};od=new WeakSet;ch=a(function(e,t){return t?{...e,headerParams:{...e.headerParams,Authorization:`Bearer ${t}`}}:e},"createRequestOptions_fn");var Fte="/jwks",Jte=class extends kt{static{a(this,"JwksAPI")}async getJwks(){return this.request({method:"GET",path:Fte})}},ed="/jwt_templates",Bte=class extends kt{static{a(this,"JwtTemplatesApi")}async list(e={}){return this.request({method:"GET",path:ed,queryParams:{...e,paginated:!0}})}async get(e){return this.requireId(e),this.request({method:"GET",path:ie(ed,e)})}async create(e){return this.request({method:"POST",path:ed,bodyParams:e})}async update(e){let{templateId:t,...r}=e;return this.requireId(t),this.request({method:"PATCH",path:ie(ed,t),bodyParams:r})}async delete(e){return this.requireId(e),this.request({method:"DELETE",path:ie(ed,e)})}},or="/organizations",Hte=class extends kt{static{a(this,"OrganizationAPI")}async getOrganizationList(e){return this.request({method:"GET",path:or,queryParams:e})}async createOrganization(e){return this.request({method:"POST",path:or,bodyParams:e})}async getOrganization(e){let{includeMembersCount:t}=e,r="organizationId"in e?e.organizationId:e.slug;return this.requireId(r),this.request({method:"GET",path:ie(or,r),queryParams:{includeMembersCount:t}})}async updateOrganization(e,t){return this.requireId(e),this.request({method:"PATCH",path:ie(or,e),bodyParams:t})}async updateOrganizationLogo(e,t){this.requireId(e);let r=new Zo.FormData;return r.append("file",t?.file),t?.uploaderUserId&&r.append("uploader_user_id",t?.uploaderUserId),this.request({method:"PUT",path:ie(or,e,"logo"),formData:r})}async deleteOrganizationLogo(e){return this.requireId(e),this.request({method:"DELETE",path:ie(or,e,"logo")})}async updateOrganizationMetadata(e,t){return this.requireId(e),this.request({method:"PATCH",path:ie(or,e,"metadata"),bodyParams:t})}async deleteOrganization(e){return this.request({method:"DELETE",path:ie(or,e)})}async getOrganizationMembershipList(e){let{organizationId:t,...r}=e;return this.requireId(t),this.request({method:"GET",path:ie(or,t,"memberships"),queryParams:r})}async getInstanceOrganizationMembershipList(e){return this.request({method:"GET",path:"/organization_memberships",queryParams:e})}async createOrganizationMembership(e){let{organizationId:t,...r}=e;return this.requireId(t),this.request({method:"POST",path:ie(or,t,"memberships"),bodyParams:r})}async updateOrganizationMembership(e){let{organizationId:t,userId:r,...n}=e;return this.requireId(t),this.request({method:"PATCH",path:ie(or,t,"memberships",r),bodyParams:n})}async updateOrganizationMembershipMetadata(e){let{organizationId:t,userId:r,...n}=e;return this.request({method:"PATCH",path:ie(or,t,"memberships",r,"metadata"),bodyParams:n})}async deleteOrganizationMembership(e){let{organizationId:t,userId:r}=e;return this.requireId(t),this.request({method:"DELETE",path:ie(or,t,"memberships",r)})}async getOrganizationInvitationList(e){let{organizationId:t,...r}=e;return this.requireId(t),this.request({method:"GET",path:ie(or,t,"invitations"),queryParams:r})}async createOrganizationInvitation(e){let{organizationId:t,...r}=e;return this.requireId(t),this.request({method:"POST",path:ie(or,t,"invitations"),bodyParams:r})}async createOrganizationInvitationBulk(e,t){return this.requireId(e),this.request({method:"POST",path:ie(or,e,"invitations","bulk"),bodyParams:t})}async getOrganizationInvitation(e){let{organizationId:t,invitationId:r}=e;return this.requireId(t),this.requireId(r),this.request({method:"GET",path:ie(or,t,"invitations",r)})}async revokeOrganizationInvitation(e){let{organizationId:t,invitationId:r,...n}=e;return this.requireId(t),this.request({method:"POST",path:ie(or,t,"invitations",r,"revoke"),bodyParams:n})}async getOrganizationDomainList(e){let{organizationId:t,...r}=e;return this.requireId(t),this.request({method:"GET",path:ie(or,t,"domains"),queryParams:r})}async createOrganizationDomain(e){let{organizationId:t,...r}=e;return this.requireId(t),this.request({method:"POST",path:ie(or,t,"domains"),bodyParams:{...r,verified:r.verified??!0}})}async updateOrganizationDomain(e){let{organizationId:t,domainId:r,...n}=e;return this.requireId(t),this.requireId(r),this.request({method:"PATCH",path:ie(or,t,"domains",r),bodyParams:n})}async deleteOrganizationDomain(e){let{organizationId:t,domainId:r}=e;return this.requireId(t),this.requireId(r),this.request({method:"DELETE",path:ie(or,t,"domains",r)})}},zu="/oauth_applications",Vte=class extends kt{static{a(this,"OAuthApplicationsApi")}async list(e={}){return this.request({method:"GET",path:zu,queryParams:e})}async get(e){return this.requireId(e),this.request({method:"GET",path:ie(zu,e)})}async create(e){return this.request({method:"POST",path:zu,bodyParams:e})}async update(e){let{oauthApplicationId:t,...r}=e;return this.requireId(t),this.request({method:"PATCH",path:ie(zu,t),bodyParams:r})}async delete(e){return this.requireId(e),this.request({method:"DELETE",path:ie(zu,e)})}async rotateSecret(e){return this.requireId(e),this.request({method:"POST",path:ie(zu,e,"rotate_secret")})}},ah="/phone_numbers",Zte=class extends kt{static{a(this,"PhoneNumberAPI")}async getPhoneNumber(e){return this.requireId(e),this.request({method:"GET",path:ie(ah,e)})}async createPhoneNumber(e){return this.request({method:"POST",path:ah,bodyParams:e})}async updatePhoneNumber(e,t={}){return this.requireId(e),this.request({method:"PATCH",path:ie(ah,e),bodyParams:t})}async deletePhoneNumber(e){return this.requireId(e),this.request({method:"DELETE",path:ie(ah,e)})}},Kte="/proxy_checks",Gte=class extends kt{static{a(this,"ProxyCheckAPI")}async verify(e){return this.request({method:"POST",path:Kte,bodyParams:e})}},sh="/redirect_urls",Wte=class extends kt{static{a(this,"RedirectUrlAPI")}async getRedirectUrlList(){return this.request({method:"GET",path:sh,queryParams:{paginated:!0}})}async getRedirectUrl(e){return this.requireId(e),this.request({method:"GET",path:ie(sh,e)})}async createRedirectUrl(e){return this.request({method:"POST",path:sh,bodyParams:e})}async deleteRedirectUrl(e){return this.requireId(e),this.request({method:"DELETE",path:ie(sh,e)})}},td="/saml_connections",Qte=class extends kt{static{a(this,"SamlConnectionAPI")}async getSamlConnectionList(e={}){return this.request({method:"GET",path:td,queryParams:e})}async createSamlConnection(e){return this.request({method:"POST",path:td,bodyParams:e,options:{deepSnakecaseBodyParamKeys:!0}})}async getSamlConnection(e){return this.requireId(e),this.request({method:"GET",path:ie(td,e)})}async updateSamlConnection(e,t={}){return this.requireId(e),this.request({method:"PATCH",path:ie(td,e),bodyParams:t,options:{deepSnakecaseBodyParamKeys:!0}})}async deleteSamlConnection(e){return this.requireId(e),this.request({method:"DELETE",path:ie(td,e)})}},fa="/sessions",Xte=class extends kt{static{a(this,"SessionAPI")}async getSessionList(e={}){return this.request({method:"GET",path:fa,queryParams:{...e,paginated:!0}})}async getSession(e){return this.requireId(e),this.request({method:"GET",path:ie(fa,e)})}async createSession(e){return this.request({method:"POST",path:fa,bodyParams:e})}async revokeSession(e){return this.requireId(e),this.request({method:"POST",path:ie(fa,e,"revoke")})}async verifySession(e,t){return this.requireId(e),this.request({method:"POST",path:ie(fa,e,"verify"),bodyParams:{token:t}})}async getToken(e,t,r){this.requireId(e);let o={method:"POST",path:t?ie(fa,e,"tokens",t):ie(fa,e,"tokens")};return r!==void 0&&(o.bodyParams={expires_in_seconds:r}),this.request(o)}async refreshSession(e,t){this.requireId(e);let{suffixed_cookies:r,...n}=t;return this.request({method:"POST",path:ie(fa,e,"refresh"),bodyParams:n,queryParams:{suffixed_cookies:r}})}},pq="/sign_in_tokens",Yte=class extends kt{static{a(this,"SignInTokenAPI")}async createSignInToken(e){return this.request({method:"POST",path:pq,bodyParams:e})}async revokeSignInToken(e){return this.requireId(e),this.request({method:"POST",path:ie(pq,e,"revoke")})}},mq="/sign_ups",ere=class extends kt{static{a(this,"SignUpAPI")}async get(e){return this.requireId(e),this.request({method:"GET",path:ie(mq,e)})}async update(e){let{signUpAttemptId:t,...r}=e;return this.request({method:"PATCH",path:ie(mq,t),bodyParams:r})}},tre="/testing_tokens",rre=class extends kt{static{a(this,"TestingTokenAPI")}async createTestingToken(){return this.request({method:"POST",path:tre})}},Gt="/users",nre=class extends kt{static{a(this,"UserAPI")}async getUserList(e={}){let{limit:t,offset:r,orderBy:n,...o}=e,[i,s]=await Promise.all([this.request({method:"GET",path:Gt,queryParams:e}),this.getCount(o)]);return{data:i,totalCount:s}}async getUser(e){return this.requireId(e),this.request({method:"GET",path:ie(Gt,e)})}async createUser(e){return this.request({method:"POST",path:Gt,bodyParams:e})}async updateUser(e,t={}){return this.requireId(e),this.request({method:"PATCH",path:ie(Gt,e),bodyParams:t})}async updateUserProfileImage(e,t){this.requireId(e);let r=new Zo.FormData;return r.append("file",t?.file),this.request({method:"POST",path:ie(Gt,e,"profile_image"),formData:r})}async updateUserMetadata(e,t){return this.requireId(e),this.request({method:"PATCH",path:ie(Gt,e,"metadata"),bodyParams:t})}async deleteUser(e){return this.requireId(e),this.request({method:"DELETE",path:ie(Gt,e)})}async getCount(e={}){return this.request({method:"GET",path:ie(Gt,"count"),queryParams:e})}async getUserOauthAccessToken(e,t){this.requireId(e);let r=t.startsWith("oauth_"),n=r?t:`oauth_${t}`;return r&&Bf("getUserOauthAccessToken(userId, provider)","Remove the `oauth_` prefix from the `provider` argument."),this.request({method:"GET",path:ie(Gt,e,"oauth_access_tokens",n),queryParams:{paginated:!0}})}async disableUserMFA(e){return this.requireId(e),this.request({method:"DELETE",path:ie(Gt,e,"mfa")})}async getOrganizationMembershipList(e){let{userId:t,limit:r,offset:n}=e;return this.requireId(t),this.request({method:"GET",path:ie(Gt,t,"organization_memberships"),queryParams:{limit:r,offset:n}})}async getOrganizationInvitationList(e){let{userId:t,...r}=e;return this.requireId(t),this.request({method:"GET",path:ie(Gt,t,"organization_invitations"),queryParams:r})}async verifyPassword(e){let{userId:t,password:r}=e;return this.requireId(t),this.request({method:"POST",path:ie(Gt,t,"verify_password"),bodyParams:{password:r}})}async verifyTOTP(e){let{userId:t,code:r}=e;return this.requireId(t),this.request({method:"POST",path:ie(Gt,t,"verify_totp"),bodyParams:{code:r}})}async banUser(e){return this.requireId(e),this.request({method:"POST",path:ie(Gt,e,"ban")})}async unbanUser(e){return this.requireId(e),this.request({method:"POST",path:ie(Gt,e,"unban")})}async lockUser(e){return this.requireId(e),this.request({method:"POST",path:ie(Gt,e,"lock")})}async unlockUser(e){return this.requireId(e),this.request({method:"POST",path:ie(Gt,e,"unlock")})}async deleteUserProfileImage(e){return this.requireId(e),this.request({method:"DELETE",path:ie(Gt,e,"profile_image")})}async deleteUserPasskey(e){return this.requireId(e.userId),this.requireId(e.passkeyIdentificationId),this.request({method:"DELETE",path:ie(Gt,e.userId,"passkeys",e.passkeyIdentificationId)})}async deleteUserWeb3Wallet(e){return this.requireId(e.userId),this.requireId(e.web3WalletIdentificationId),this.request({method:"DELETE",path:ie(Gt,e.userId,"web3_wallets",e.web3WalletIdentificationId)})}async deleteUserExternalAccount(e){return this.requireId(e.userId),this.requireId(e.externalAccountId),this.request({method:"DELETE",path:ie(Gt,e.userId,"external_accounts",e.externalAccountId)})}async deleteUserBackupCodes(e){return this.requireId(e),this.request({method:"DELETE",path:ie(Gt,e,"backup_code")})}async deleteUserTOTP(e){return this.requireId(e),this.request({method:"DELETE",path:ie(Gt,e,"totp")})}},rd="/waitlist_entries",ore=class extends kt{static{a(this,"WaitlistEntryAPI")}async list(e={}){return this.request({method:"GET",path:rd,queryParams:e})}async create(e){return this.request({method:"POST",path:rd,bodyParams:e})}async invite(e,t={}){return this.requireId(e),this.request({method:"POST",path:ie(rd,e,"invite"),bodyParams:t})}async reject(e){return this.requireId(e),this.request({method:"POST",path:ie(rd,e,"reject")})}async delete(e){return this.requireId(e),this.request({method:"DELETE",path:ie(rd,e)})}},Vk="/webhooks",ire=class extends kt{static{a(this,"WebhookAPI")}async createSvixApp(){return this.request({method:"POST",path:ie(Vk,"svix")})}async generateSvixAuthURL(){return this.request({method:"POST",path:ie(Vk,"svix_url")})}async deleteSvixApp(){return this.request({method:"DELETE",path:ie(Vk,"svix")})}},fq="/billing",are="/organizations",sre="/users",ure=class extends kt{static{a(this,"BillingAPI")}async getPlanList(e){return this.request({method:"GET",path:ie(fq,"plans"),queryParams:e})}async cancelSubscriptionItem(e,t){return this.requireId(e),this.request({method:"DELETE",path:ie(fq,"subscription_items",e),queryParams:t})}async extendSubscriptionItemFreeTrial(e,t){return this.requireId(e),this.request({method:"POST",path:ie("/billing","subscription_items",e,"extend_free_trial"),bodyParams:t})}async getOrganizationBillingSubscription(e){return this.requireId(e),this.request({method:"GET",path:ie(are,e,"billing","subscription")})}async getUserBillingSubscription(e){return this.requireId(e),this.request({method:"GET",path:ie(sre,e,"billing","subscription")})}},Nq=a(e=>typeof e=="object"&&e!==null,"isObject"),hq=a(e=>Nq(e)&&!(e instanceof RegExp)&&!(e instanceof Error)&&!(e instanceof Date)&&!(globalThis.Blob&&e instanceof globalThis.Blob),"isObjectCustom"),cre=Symbol("mapObjectSkip"),Qk=a((e,t,r,n=new WeakMap)=>{if(r={deep:!1,target:{},...r},n.has(e))return n.get(e);n.set(e,r.target);let{target:o}=r;delete r.target;let i=a(s=>s.map(u=>hq(u)?Qk(u,t,r,n):u),"mapArray");if(Array.isArray(e))return i(e);for(let[s,u]of Object.entries(e)){let l=t(s,u,e);if(l===cre)continue;let[d,p,{shouldRecurse:f=!0}={}]=l;d!=="__proto__"&&(r.deep&&f&&hq(p)&&(p=Array.isArray(p)?i(p):Qk(p,t,r,n)),o[d]=p)}return o},"_mapObject");function gq(e,t,r){if(!Nq(e))throw new TypeError(`Expected an object, got \`${e}\` (${typeof e})`);if(Array.isArray(e))throw new TypeError("Expected an object, got an array");return Qk(e,t,r)}a(gq,"mapObject");var lre=new RegExp("([\\p{Ll}\\d])(\\p{Lu})","gu"),dre=new RegExp("(\\p{Lu})([\\p{Lu}][\\p{Ll}])","gu"),pre=new RegExp("(\\d)\\p{Ll}|(\\p{L})\\d","u"),mre=/[^\p{L}\d]+/giu,yq="$1\0$2",vq="";function jq(e){let t=e.trim();t=t.replace(lre,yq).replace(dre,yq),t=t.replace(mre,"\0");let r=0,n=t.length;for(;t.charAt(r)==="\0";)r++;if(r===n)return[];for(;t.charAt(n-1)==="\0";)n--;return t.slice(r,n).split(/\0/g)}a(jq,"split");function fre(e){let t=jq(e);for(let r=0;r<t.length;r++){let n=t[r],o=pre.exec(n);if(o){let i=o.index+(o[1]??o[2]).length;t.splice(r,1,n.slice(0,i),n.slice(i))}}return t}a(fre,"splitSeparateNumbers");function hre(e,t){let[r,n,o]=yre(e,t);return r+n.map(gre(t?.locale)).join(t?.delimiter??" ")+o}a(hre,"noCase");function _q(e,t){return hre(e,{delimiter:"_",...t})}a(_q,"snakeCase");function gre(e){return e===!1?t=>t.toLowerCase():t=>t.toLocaleLowerCase(e)}a(gre,"lowerFactory");function yre(e,t={}){let r=t.split??(t.separateNumbers?fre:jq),n=t.prefixCharacters??vq,o=t.suffixCharacters??vq,i=0,s=e.length;for(;i<e.length;){let u=e.charAt(i);if(!n.includes(u))break;i++}for(;s>i;){let u=s-1,l=e.charAt(u);if(!o.includes(l))break;s=u}return[e.slice(0,i),r(e.slice(i,s)),e.slice(s)]}a(yre,"splitPrefixSuffix");var bq={}.constructor;function vre(e,t){if(Array.isArray(e)){if(e.some(o=>o.constructor!==bq))throw new Error("obj must be array of plain objects");t={deep:!0,exclude:[],parsingOptions:{},...t};let n=t.snakeCase||(o=>_q(o,t.parsingOptions));return e.map(o=>gq(o,(i,s)=>[Sq(t.exclude,i)?i:n(i),s,wq(i,s,t)],t))}else if(e.constructor!==bq)throw new Error("obj must be an plain object");t={deep:!0,exclude:[],parsingOptions:{},...t};let r=t.snakeCase||(n=>_q(n,t.parsingOptions));return gq(e,(n,o)=>[Sq(t.exclude,n)?n:r(n),o,wq(n,o,t)],t)}a(vre,"snakecaseKeys");function Sq(e,t){return e.some(r=>typeof r=="string"?r===t:r.test(t))}a(Sq,"matches");function wq(e,t,r){return r.shouldRecurse?{shouldRecurse:r.shouldRecurse(e,t)}:void 0}a(wq,"mapperOptions");var xq=vre,_re=class zq{static{a(this,"_AccountlessApplication")}constructor(t,r,n,o){this.publishableKey=t,this.secretKey=r,this.claimUrl=n,this.apiKeysUrl=o}static fromJSON(t){return new zq(t.publishable_key,t.secret_key,t.claim_url,t.api_keys_url)}},bre=class Dq{static{a(this,"_ActorToken")}constructor(t,r,n,o,i,s,u,l){this.id=t,this.status=r,this.userId=n,this.actor=o,this.token=i,this.url=s,this.createdAt=u,this.updatedAt=l}static fromJSON(t){return new Dq(t.id,t.status,t.user_id,t.actor,t.token,t.url,t.created_at,t.updated_at)}},Sre=class Mq{static{a(this,"_AllowlistIdentifier")}constructor(t,r,n,o,i,s,u){this.id=t,this.identifier=r,this.identifierType=n,this.createdAt=o,this.updatedAt=i,this.instanceId=s,this.invitationId=u}static fromJSON(t){return new Mq(t.id,t.identifier,t.identifier_type,t.created_at,t.updated_at,t.instance_id,t.invitation_id)}},wre=class qq{static{a(this,"_APIKey")}constructor(t,r,n,o,i,s,u,l,d,p,f,m,y,g,h,v){this.id=t,this.type=r,this.name=n,this.subject=o,this.scopes=i,this.claims=s,this.revoked=u,this.revocationReason=l,this.expired=d,this.expiration=p,this.createdBy=f,this.description=m,this.lastUsedAt=y,this.createdAt=g,this.updatedAt=h,this.secret=v}static fromJSON(t){return new qq(t.id,t.type,t.name,t.subject,t.scopes,t.claims,t.revoked,t.revocation_reason,t.expired,t.expiration,t.created_by,t.description,t.last_used_at,t.created_at,t.updated_at,t.secret)}},xre=class Uq{static{a(this,"_BlocklistIdentifier")}constructor(t,r,n,o,i,s){this.id=t,this.identifier=r,this.identifierType=n,this.createdAt=o,this.updatedAt=i,this.instanceId=s}static fromJSON(t){return new Uq(t.id,t.identifier,t.identifier_type,t.created_at,t.updated_at,t.instance_id)}},Tre=class Lq{static{a(this,"_SessionActivity")}constructor(t,r,n,o,i,s,u,l){this.id=t,this.isMobile=r,this.ipAddress=n,this.city=o,this.country=i,this.browserVersion=s,this.browserName=u,this.deviceType=l}static fromJSON(t){return new Lq(t.id,t.is_mobile,t.ip_address,t.city,t.country,t.browser_version,t.browser_name,t.device_type)}},Fq=class Jq{static{a(this,"_Session")}constructor(t,r,n,o,i,s,u,l,d,p,f,m=null){this.id=t,this.clientId=r,this.userId=n,this.status=o,this.lastActiveAt=i,this.expireAt=s,this.abandonAt=u,this.createdAt=l,this.updatedAt=d,this.lastActiveOrganizationId=p,this.latestActivity=f,this.actor=m}static fromJSON(t){return new Jq(t.id,t.client_id,t.user_id,t.status,t.last_active_at,t.expire_at,t.abandon_at,t.created_at,t.updated_at,t.last_active_organization_id,t.latest_activity&&Tre.fromJSON(t.latest_activity),t.actor)}},kre=class Bq{static{a(this,"_Client")}constructor(t,r,n,o,i,s,u,l,d){this.id=t,this.sessionIds=r,this.sessions=n,this.signInId=o,this.signUpId=i,this.lastActiveSessionId=s,this.lastAuthenticationStrategy=u,this.createdAt=l,this.updatedAt=d}static fromJSON(t){return new Bq(t.id,t.session_ids,t.sessions.map(r=>Fq.fromJSON(r)),t.sign_in_id,t.sign_up_id,t.last_active_session_id,t.last_authentication_strategy,t.created_at,t.updated_at)}},Ere=class Hq{static{a(this,"_CnameTarget")}constructor(t,r,n){this.host=t,this.value=r,this.required=n}static fromJSON(t){return new Hq(t.host,t.value,t.required)}},Pre=class Vq{static{a(this,"_Cookies")}constructor(t){this.cookies=t}static fromJSON(t){return new Vq(t.cookies)}},Ire=class Zq{static{a(this,"_DeletedObject")}constructor(t,r,n,o){this.object=t,this.id=r,this.slug=n,this.deleted=o}static fromJSON(t){return new Zq(t.object,t.id||null,t.slug||null,t.deleted)}},Ore=class Kq{static{a(this,"_Domain")}constructor(t,r,n,o,i,s,u,l){this.id=t,this.name=r,this.isSatellite=n,this.frontendApiUrl=o,this.developmentOrigin=i,this.cnameTargets=s,this.accountsPortalUrl=u,this.proxyUrl=l}static fromJSON(t){return new Kq(t.id,t.name,t.is_satellite,t.frontend_api_url,t.development_origin,t.cname_targets&&t.cname_targets.map(r=>Ere.fromJSON(r)),t.accounts_portal_url,t.proxy_url)}},Are=class Gq{static{a(this,"_Email")}constructor(t,r,n,o,i,s,u,l,d,p,f){this.id=t,this.fromEmailName=r,this.emailAddressId=n,this.toEmailAddress=o,this.subject=i,this.body=s,this.bodyPlain=u,this.status=l,this.slug=d,this.data=p,this.deliveredByClerk=f}static fromJSON(t){return new Gq(t.id,t.from_email_name,t.email_address_id,t.to_email_address,t.subject,t.body,t.body_plain,t.status,t.slug,t.data,t.delivered_by_clerk)}},Wq=class Qq{static{a(this,"_IdentificationLink")}constructor(t,r){this.id=t,this.type=r}static fromJSON(t){return new Qq(t.id,t.type)}},ad=class Xq{static{a(this,"_Verification")}constructor(t,r,n=null,o=null,i=null,s=null,u=null){this.status=t,this.strategy=r,this.externalVerificationRedirectURL=n,this.attempts=o,this.expireAt=i,this.nonce=s,this.message=u}static fromJSON(t){return new Xq(t.status,t.strategy,t.external_verification_redirect_url?new URL(t.external_verification_redirect_url):null,t.attempts,t.expire_at,t.nonce)}},Yq=class e2{static{a(this,"_EmailAddress")}constructor(t,r,n,o){this.id=t,this.emailAddress=r,this.verification=n,this.linkedTo=o}static fromJSON(t){return new e2(t.id,t.email_address,t.verification&&ad.fromJSON(t.verification),t.linked_to.map(r=>Wq.fromJSON(r)))}},Cre=class t2{static{a(this,"_ExternalAccount")}constructor(t,r,n,o,i,s,u,l,d,p,f,m={},y,g){this.id=t,this.provider=r,this.identificationId=n,this.externalId=o,this.approvedScopes=i,this.emailAddress=s,this.firstName=u,this.lastName=l,this.imageUrl=d,this.username=p,this.phoneNumber=f,this.publicMetadata=m,this.label=y,this.verification=g}static fromJSON(t){return new t2(t.id,t.provider,t.identification_id,t.provider_user_id,t.approved_scopes,t.email_address,t.first_name,t.last_name,t.image_url||"",t.username,t.phone_number,t.public_metadata,t.label,t.verification&&ad.fromJSON(t.verification))}},Rre=class r2{static{a(this,"_IdPOAuthAccessToken")}constructor(t,r,n,o,i,s,u,l,d,p,f){this.id=t,this.clientId=r,this.type=n,this.subject=o,this.scopes=i,this.revoked=s,this.revocationReason=u,this.expired=l,this.expiration=d,this.createdAt=p,this.updatedAt=f}static fromJSON(t){return new r2(t.id,t.client_id,t.type,t.subject,t.scopes,t.revoked,t.revocation_reason,t.expired,t.expiration,t.created_at,t.updated_at)}},$re=class n2{static{a(this,"_Instance")}constructor(t,r,n){this.id=t,this.environmentType=r,this.allowedOrigins=n}static fromJSON(t){return new n2(t.id,t.environment_type,t.allowed_origins)}},Nre=class o2{static{a(this,"_InstanceRestrictions")}constructor(t,r,n,o,i){this.allowlist=t,this.blocklist=r,this.blockEmailSubaddresses=n,this.blockDisposableEmailDomains=o,this.ignoreDotsForGmailAddresses=i}static fromJSON(t){return new o2(t.allowlist,t.blocklist,t.block_email_subaddresses,t.block_disposable_email_domains,t.ignore_dots_for_gmail_addresses)}},jre=class i2{static{a(this,"_InstanceSettings")}constructor(t,r,n,o,i){this.id=t,this.restrictedToAllowlist=r,this.fromEmailAddress=n,this.progressiveSignUp=o,this.enhancedEmailDeliverability=i}static fromJSON(t){return new i2(t.id,t.restricted_to_allowlist,t.from_email_address,t.progressive_sign_up,t.enhanced_email_deliverability)}},a2=class s2{static{a(this,"_Invitation")}constructor(t,r,n,o,i,s,u,l){this.id=t,this.emailAddress=r,this.publicMetadata=n,this.createdAt=o,this.updatedAt=i,this.status=s,this.url=u,this.revoked=l,this._raw=null}get raw(){return this._raw}static fromJSON(t){let r=new s2(t.id,t.email_address,t.public_metadata,t.created_at,t.updated_at,t.status,t.url,t.revoked);return r._raw=t,r}},Ge={AccountlessApplication:"accountless_application",ActorToken:"actor_token",AllowlistIdentifier:"allowlist_identifier",ApiKey:"api_key",BlocklistIdentifier:"blocklist_identifier",Client:"client",Cookies:"cookies",Domain:"domain",Email:"email",EmailAddress:"email_address",ExternalAccount:"external_account",FacebookAccount:"facebook_account",GoogleAccount:"google_account",Instance:"instance",InstanceRestrictions:"instance_restrictions",InstanceSettings:"instance_settings",Invitation:"invitation",Machine:"machine",MachineScope:"machine_scope",MachineSecretKey:"machine_secret_key",M2MToken:"machine_to_machine_token",JwtTemplate:"jwt_template",OauthAccessToken:"oauth_access_token",IdpOAuthAccessToken:"clerk_idp_oauth_access_token",OAuthApplication:"oauth_application",Organization:"organization",OrganizationDomain:"organization_domain",OrganizationInvitation:"organization_invitation",OrganizationMembership:"organization_membership",OrganizationSettings:"organization_settings",PhoneNumber:"phone_number",ProxyCheck:"proxy_check",RedirectUrl:"redirect_url",SamlAccount:"saml_account",SamlConnection:"saml_connection",Session:"session",SignInAttempt:"sign_in_attempt",SignInToken:"sign_in_token",SignUpAttempt:"sign_up_attempt",SmsMessage:"sms_message",User:"user",WaitlistEntry:"waitlist_entry",Web3Wallet:"web3_wallet",Token:"token",TotalCount:"total_count",TestingToken:"testing_token",Role:"role",Permission:"permission",BillingPayer:"commerce_payer",BillingPaymentAttempt:"commerce_payment_attempt",BillingSubscription:"commerce_subscription",BillingSubscriptionItem:"commerce_subscription_item",BillingPlan:"commerce_plan",Feature:"feature"},zre=class Xk{static{a(this,"_Machine")}constructor(t,r,n,o,i,s,u,l){this.id=t,this.name=r,this.instanceId=n,this.createdAt=o,this.updatedAt=i,this.scopedMachines=s,this.defaultTokenTtl=u,this.secretKey=l}static fromJSON(t){return new Xk(t.id,t.name,t.instance_id,t.created_at,t.updated_at,t.scoped_machines.map(r=>new Xk(r.id,r.name,r.instance_id,r.created_at,r.updated_at,[],r.default_token_ttl)),t.default_token_ttl,t.secret_key)}},Dre=class u2{static{a(this,"_MachineScope")}constructor(t,r,n,o){this.fromMachineId=t,this.toMachineId=r,this.createdAt=n,this.deleted=o}static fromJSON(t){return new u2(t.from_machine_id,t.to_machine_id,t.created_at,t.deleted)}},Mre=class c2{static{a(this,"_MachineSecretKey")}constructor(t){this.secret=t}static fromJSON(t){return new c2(t.secret)}},qre=class l2{static{a(this,"_M2MToken")}constructor(t,r,n,o,i,s,u,l,d,p,f){this.id=t,this.subject=r,this.scopes=n,this.claims=o,this.revoked=i,this.revocationReason=s,this.expired=u,this.expiration=l,this.createdAt=d,this.updatedAt=p,this.token=f}static fromJSON(t){return new l2(t.id,t.subject,t.scopes,t.claims,t.revoked,t.revocation_reason,t.expired,t.expiration,t.created_at,t.updated_at,t.token)}},Ure=class d2{static{a(this,"_JwtTemplate")}constructor(t,r,n,o,i,s,u,l,d){this.id=t,this.name=r,this.claims=n,this.lifetime=o,this.allowedClockSkew=i,this.customSigningKey=s,this.signingAlgorithm=u,this.createdAt=l,this.updatedAt=d}static fromJSON(t){return new d2(t.id,t.name,t.claims,t.lifetime,t.allowed_clock_skew,t.custom_signing_key,t.signing_algorithm,t.created_at,t.updated_at)}},Lre=class p2{static{a(this,"_OauthAccessToken")}constructor(t,r,n,o={},i,s,u,l){this.externalAccountId=t,this.provider=r,this.token=n,this.publicMetadata=o,this.label=i,this.scopes=s,this.tokenSecret=u,this.expiresAt=l}static fromJSON(t){return new p2(t.external_account_id,t.provider,t.token,t.public_metadata,t.label||"",t.scopes,t.token_secret,t.expires_at)}},Fre=class m2{static{a(this,"_OAuthApplication")}constructor(t,r,n,o,i,s,u,l,d,p,f,m,y,g,h,v,S,b,w,k){this.id=t,this.instanceId=r,this.name=n,this.clientId=o,this.clientUri=i,this.clientImageUrl=s,this.dynamicallyRegistered=u,this.consentScreenEnabled=l,this.pkceRequired=d,this.isPublic=p,this.scopes=f,this.redirectUris=m,this.authorizeUrl=y,this.tokenFetchUrl=g,this.userInfoUrl=h,this.discoveryUrl=v,this.tokenIntrospectionUrl=S,this.createdAt=b,this.updatedAt=w,this.clientSecret=k}static fromJSON(t){return new m2(t.id,t.instance_id,t.name,t.client_id,t.client_uri,t.client_image_url,t.dynamically_registered,t.consent_screen_enabled,t.pkce_required,t.public,t.scopes,t.redirect_uris,t.authorize_url,t.token_fetch_url,t.user_info_url,t.discovery_url,t.token_introspection_url,t.created_at,t.updated_at,t.client_secret)}},f2=class h2{static{a(this,"_Organization")}constructor(t,r,n,o,i,s,u,l={},d={},p,f,m,y){this.id=t,this.name=r,this.slug=n,this.imageUrl=o,this.hasImage=i,this.createdAt=s,this.updatedAt=u,this.publicMetadata=l,this.privateMetadata=d,this.maxAllowedMemberships=p,this.adminDeleteEnabled=f,this.membersCount=m,this.createdBy=y,this._raw=null}get raw(){return this._raw}static fromJSON(t){let r=new h2(t.id,t.name,t.slug,t.image_url||"",t.has_image,t.created_at,t.updated_at,t.public_metadata,t.private_metadata,t.max_allowed_memberships,t.admin_delete_enabled,t.members_count,t.created_by);return r._raw=t,r}},Jre=class g2{static{a(this,"_OrganizationInvitation")}constructor(t,r,n,o,i,s,u,l,d,p,f={},m={},y){this.id=t,this.emailAddress=r,this.role=n,this.roleName=o,this.organizationId=i,this.createdAt=s,this.updatedAt=u,this.expiresAt=l,this.url=d,this.status=p,this.publicMetadata=f,this.privateMetadata=m,this.publicOrganizationData=y,this._raw=null}get raw(){return this._raw}static fromJSON(t){let r=new g2(t.id,t.email_address,t.role,t.role_name,t.organization_id,t.created_at,t.updated_at,t.expires_at,t.url,t.status,t.public_metadata,t.private_metadata,t.public_organization_data);return r._raw=t,r}},Bre=class y2{static{a(this,"_OrganizationMembership")}constructor(t,r,n,o={},i={},s,u,l,d){this.id=t,this.role=r,this.permissions=n,this.publicMetadata=o,this.privateMetadata=i,this.createdAt=s,this.updatedAt=u,this.organization=l,this.publicUserData=d,this._raw=null}get raw(){return this._raw}static fromJSON(t){let r=new y2(t.id,t.role,t.permissions,t.public_metadata,t.private_metadata,t.created_at,t.updated_at,f2.fromJSON(t.organization),Hre.fromJSON(t.public_user_data));return r._raw=t,r}},Hre=class v2{static{a(this,"_OrganizationMembershipPublicUserData")}constructor(t,r,n,o,i,s){this.identifier=t,this.firstName=r,this.lastName=n,this.imageUrl=o,this.hasImage=i,this.userId=s}static fromJSON(t){return new v2(t.identifier,t.first_name,t.last_name,t.image_url,t.has_image,t.user_id)}},Vre=class _2{static{a(this,"_OrganizationSettings")}constructor(t,r,n,o,i,s,u,l,d,p){this.enabled=t,this.maxAllowedMemberships=r,this.maxAllowedRoles=n,this.maxAllowedPermissions=o,this.creatorRole=i,this.adminDeleteEnabled=s,this.domainsEnabled=u,this.slugDisabled=l,this.domainsEnrollmentModes=d,this.domainsDefaultRole=p}static fromJSON(t){return new _2(t.enabled,t.max_allowed_memberships,t.max_allowed_roles,t.max_allowed_permissions,t.creator_role,t.admin_delete_enabled,t.domains_enabled,t.slug_disabled,t.domains_enrollment_modes,t.domains_default_role)}},b2=class S2{static{a(this,"_PhoneNumber")}constructor(t,r,n,o,i,s){this.id=t,this.phoneNumber=r,this.reservedForSecondFactor=n,this.defaultSecondFactor=o,this.verification=i,this.linkedTo=s}static fromJSON(t){return new S2(t.id,t.phone_number,t.reserved_for_second_factor,t.default_second_factor,t.verification&&ad.fromJSON(t.verification),t.linked_to.map(r=>Wq.fromJSON(r)))}},Zre=class w2{static{a(this,"_ProxyCheck")}constructor(t,r,n,o,i,s,u){this.id=t,this.domainId=r,this.lastRunAt=n,this.proxyUrl=o,this.successful=i,this.createdAt=s,this.updatedAt=u}static fromJSON(t){return new w2(t.id,t.domain_id,t.last_run_at,t.proxy_url,t.successful,t.created_at,t.updated_at)}},Kre=class x2{static{a(this,"_RedirectUrl")}constructor(t,r,n,o){this.id=t,this.url=r,this.createdAt=n,this.updatedAt=o}static fromJSON(t){return new x2(t.id,t.url,t.created_at,t.updated_at)}},Gre=class T2{static{a(this,"_SamlConnection")}constructor(t,r,n,o,i,s,u,l,d,p,f,m,y,g,h,v,S,b,w,k,$){this.id=t,this.name=r,this.domain=n,this.organizationId=o,this.idpEntityId=i,this.idpSsoUrl=s,this.idpCertificate=u,this.idpMetadataUrl=l,this.idpMetadata=d,this.acsUrl=p,this.spEntityId=f,this.spMetadataUrl=m,this.active=y,this.provider=g,this.userCount=h,this.syncUserAttributes=v,this.allowSubdomains=S,this.allowIdpInitiated=b,this.createdAt=w,this.updatedAt=k,this.attributeMapping=$}static fromJSON(t){return new T2(t.id,t.name,t.domain,t.organization_id,t.idp_entity_id,t.idp_sso_url,t.idp_certificate,t.idp_metadata_url,t.idp_metadata,t.acs_url,t.sp_entity_id,t.sp_metadata_url,t.active,t.provider,t.user_count,t.sync_user_attributes,t.allow_subdomains,t.allow_idp_initiated,t.created_at,t.updated_at,t.attribute_mapping&&Qre.fromJSON(t.attribute_mapping))}},Wre=class k2{static{a(this,"_SamlAccountConnection")}constructor(t,r,n,o,i,s,u,l,d,p){this.id=t,this.name=r,this.domain=n,this.active=o,this.provider=i,this.syncUserAttributes=s,this.allowSubdomains=u,this.allowIdpInitiated=l,this.createdAt=d,this.updatedAt=p}static fromJSON(t){return new k2(t.id,t.name,t.domain,t.active,t.provider,t.sync_user_attributes,t.allow_subdomains,t.allow_idp_initiated,t.created_at,t.updated_at)}},Qre=class E2{static{a(this,"_AttributeMapping")}constructor(t,r,n,o){this.userId=t,this.emailAddress=r,this.firstName=n,this.lastName=o}static fromJSON(t){return new E2(t.user_id,t.email_address,t.first_name,t.last_name)}},Xre=class P2{static{a(this,"_SamlAccount")}constructor(t,r,n,o,i,s,u,l,d,p,f){this.id=t,this.provider=r,this.providerUserId=n,this.active=o,this.emailAddress=i,this.firstName=s,this.lastName=u,this.verification=l,this.samlConnection=d,this.lastAuthenticatedAt=p,this.enterpriseConnectionId=f}static fromJSON(t){return new P2(t.id,t.provider,t.provider_user_id,t.active,t.email_address,t.first_name,t.last_name,t.verification&&ad.fromJSON(t.verification),t.saml_connection&&Wre.fromJSON(t.saml_connection),t.last_authenticated_at??null,t.enterprise_connection_id)}},Yre=class I2{static{a(this,"_SignInToken")}constructor(t,r,n,o,i,s,u){this.id=t,this.userId=r,this.token=n,this.status=o,this.url=i,this.createdAt=s,this.updatedAt=u}static fromJSON(t){return new I2(t.id,t.user_id,t.token,t.status,t.url,t.created_at,t.updated_at)}},Zk=class O2{static{a(this,"_SignUpAttemptVerification")}constructor(t,r){this.nextAction=t,this.supportedStrategies=r}static fromJSON(t){return new O2(t.next_action,t.supported_strategies)}},ene=class A2{static{a(this,"_SignUpAttemptVerifications")}constructor(t,r,n,o){this.emailAddress=t,this.phoneNumber=r,this.web3Wallet=n,this.externalAccount=o}static fromJSON(t){return new A2(t.email_address&&Zk.fromJSON(t.email_address),t.phone_number&&Zk.fromJSON(t.phone_number),t.web3_wallet&&Zk.fromJSON(t.web3_wallet),t.external_account)}},tne=class C2{static{a(this,"_SignUpAttempt")}constructor(t,r,n,o,i,s,u,l,d,p,f,m,y,g,h,v,S,b,w,k,$,A){this.id=t,this.status=r,this.requiredFields=n,this.optionalFields=o,this.missingFields=i,this.unverifiedFields=s,this.verifications=u,this.username=l,this.emailAddress=d,this.phoneNumber=p,this.web3Wallet=f,this.passwordEnabled=m,this.firstName=y,this.lastName=g,this.customAction=h,this.externalId=v,this.createdSessionId=S,this.createdUserId=b,this.abandonAt=w,this.legalAcceptedAt=k,this.publicMetadata=$,this.unsafeMetadata=A}static fromJSON(t){return new C2(t.id,t.status,t.required_fields,t.optional_fields,t.missing_fields,t.unverified_fields,t.verifications?ene.fromJSON(t.verifications):null,t.username,t.email_address,t.phone_number,t.web3_wallet,t.password_enabled,t.first_name,t.last_name,t.custom_action,t.external_id,t.created_session_id,t.created_user_id,t.abandon_at,t.legal_accepted_at,t.public_metadata,t.unsafe_metadata)}},rne=class R2{static{a(this,"_SMSMessage")}constructor(t,r,n,o,i,s,u){this.id=t,this.fromPhoneNumber=r,this.toPhoneNumber=n,this.message=o,this.status=i,this.phoneNumberId=s,this.data=u}static fromJSON(t){return new R2(t.id,t.from_phone_number,t.to_phone_number,t.message,t.status,t.phone_number_id,t.data)}},nne=class $2{static{a(this,"_Token")}constructor(t){this.jwt=t}static fromJSON(t){return new $2(t.jwt)}},one=class N2{static{a(this,"_Web3Wallet")}constructor(t,r,n){this.id=t,this.web3Wallet=r,this.verification=n}static fromJSON(t){return new N2(t.id,t.web3_wallet,t.verification&&ad.fromJSON(t.verification))}},ine=class j2{static{a(this,"_User")}constructor(t,r,n,o,i,s,u,l,d,p,f,m,y,g,h,v,S,b,w,k={},$={},A={},O=[],R=[],I=[],N=[],z=[],X,Z,J=null,te,ne,ae){this.id=t,this.passwordEnabled=r,this.totpEnabled=n,this.backupCodeEnabled=o,this.twoFactorEnabled=i,this.banned=s,this.locked=u,this.createdAt=l,this.updatedAt=d,this.imageUrl=p,this.hasImage=f,this.primaryEmailAddressId=m,this.primaryPhoneNumberId=y,this.primaryWeb3WalletId=g,this.lastSignInAt=h,this.externalId=v,this.username=S,this.firstName=b,this.lastName=w,this.publicMetadata=k,this.privateMetadata=$,this.unsafeMetadata=A,this.emailAddresses=O,this.phoneNumbers=R,this.web3Wallets=I,this.externalAccounts=N,this.samlAccounts=z,this.lastActiveAt=X,this.createOrganizationEnabled=Z,this.createOrganizationsLimit=J,this.deleteSelfEnabled=te,this.legalAcceptedAt=ne,this.locale=ae,this._raw=null}get raw(){return this._raw}static fromJSON(t){let r=new j2(t.id,t.password_enabled,t.totp_enabled,t.backup_code_enabled,t.two_factor_enabled,t.banned,t.locked,t.created_at,t.updated_at,t.image_url,t.has_image,t.primary_email_address_id,t.primary_phone_number_id,t.primary_web3_wallet_id,t.last_sign_in_at,t.external_id,t.username,t.first_name,t.last_name,t.public_metadata,t.private_metadata,t.unsafe_metadata,(t.email_addresses||[]).map(n=>Yq.fromJSON(n)),(t.phone_numbers||[]).map(n=>b2.fromJSON(n)),(t.web3_wallets||[]).map(n=>one.fromJSON(n)),(t.external_accounts||[]).map(n=>Cre.fromJSON(n)),(t.saml_accounts||[]).map(n=>Xre.fromJSON(n)),t.last_active_at,t.create_organization_enabled,t.create_organizations_limit,t.delete_self_enabled,t.legal_accepted_at,t.locale);return r._raw=t,r}get primaryEmailAddress(){return this.emailAddresses.find(({id:t})=>t===this.primaryEmailAddressId)??null}get primaryPhoneNumber(){return this.phoneNumbers.find(({id:t})=>t===this.primaryPhoneNumberId)??null}get primaryWeb3Wallet(){return this.web3Wallets.find(({id:t})=>t===this.primaryWeb3WalletId)??null}get fullName(){return[this.firstName,this.lastName].join(" ").trim()||null}},ane=class z2{static{a(this,"_WaitlistEntry")}constructor(t,r,n,o,i,s,u){this.id=t,this.emailAddress=r,this.status=n,this.invitation=o,this.createdAt=i,this.updatedAt=s,this.isLocked=u}static fromJSON(t){return new z2(t.id,t.email_address,t.status,t.invitation&&a2.fromJSON(t.invitation),t.created_at,t.updated_at,t.is_locked)}},D2=class M2{static{a(this,"_Feature")}constructor(t,r,n,o,i){this.id=t,this.name=r,this.description=n,this.slug=o,this.avatarUrl=i}static fromJSON(t){return new M2(t.id,t.name,t.description??null,t.slug,t.avatar_url??null)}},q2=class U2{static{a(this,"_BillingPlan")}constructor(t,r,n,o,i,s,u,l,d,p,f,m,y){this.id=t,this.name=r,this.slug=n,this.description=o,this.isDefault=i,this.isRecurring=s,this.hasBaseFee=u,this.publiclyVisible=l,this.fee=d,this.annualFee=p,this.annualMonthlyFee=f,this.forPayerType=m,this.features=y}static fromJSON(t){let r=a(n=>n?{amount:n.amount,amountFormatted:n.amount_formatted,currency:n.currency,currencySymbol:n.currency_symbol}:null,"formatAmountJSON");return new U2(t.id,t.name,t.slug,t.description??null,t.is_default,t.is_recurring,t.has_base_fee,t.publicly_visible,r(t.fee),r(t.annual_fee),r(t.annual_monthly_fee),t.for_payer_type,(t.features??[]).map(n=>D2.fromJSON(n)))}},L2=class F2{static{a(this,"_BillingSubscriptionItem")}constructor(t,r,n,o,i,s,u,l,d,p,f,m,y,g,h,v,S){this.id=t,this.status=r,this.planPeriod=n,this.periodStart=o,this.nextPayment=i,this.amount=s,this.plan=u,this.planId=l,this.createdAt=d,this.updatedAt=p,this.periodEnd=f,this.canceledAt=m,this.pastDueAt=y,this.endedAt=g,this.payerId=h,this.isFreeTrial=v,this.lifetimePaid=S}static fromJSON(t){function r(n){return n&&{amount:n.amount,amountFormatted:n.amount_formatted,currency:n.currency,currencySymbol:n.currency_symbol}}return a(r,"formatAmountJSON"),new F2(t.id,t.status,t.plan_period,t.period_start,t.next_payment,r(t.amount)??void 0,t.plan?q2.fromJSON(t.plan):null,t.plan_id??null,t.created_at,t.updated_at,t.period_end,t.canceled_at,t.past_due_at,t.ended_at,t.payer_id,t.is_free_trial,r(t.lifetime_paid)??void 0)}},sne=class J2{static{a(this,"_BillingSubscription")}constructor(t,r,n,o,i,s,u,l,d,p){this.id=t,this.status=r,this.payerId=n,this.createdAt=o,this.updatedAt=i,this.activeAt=s,this.pastDueAt=u,this.subscriptionItems=l,this.nextPayment=d,this.eligibleForFreeTrial=p}static fromJSON(t){let r=t.next_payment?{date:t.next_payment.date,amount:{amount:t.next_payment.amount.amount,amountFormatted:t.next_payment.amount.amount_formatted,currency:t.next_payment.amount.currency,currencySymbol:t.next_payment.amount.currency_symbol}}:null;return new J2(t.id,t.status,t.payer_id,t.created_at,t.updated_at,t.active_at??null,t.past_due_at??null,(t.subscription_items??[]).map(n=>L2.fromJSON(n)),r,t.eligible_for_free_trial??!1)}};function une(e){let t,r;return Array.isArray(e)?{data:e.map(o=>Kk(o))}:cne(e)?(t=e.data.map(n=>Kk(n)),r=e.total_count,{data:t,totalCount:r}):{data:Kk(e)}}a(une,"deserialize");function cne(e){return!e||typeof e!="object"||!("data"in e)?!1:Array.isArray(e.data)&&e.data!==void 0}a(cne,"isPaginated");function lne(e){return e.total_count}a(lne,"getCount");function Kk(e){if(typeof e!="string"&&"object"in e&&"deleted"in e)return Ire.fromJSON(e);switch(e.object){case Ge.AccountlessApplication:return _re.fromJSON(e);case Ge.ActorToken:return bre.fromJSON(e);case Ge.AllowlistIdentifier:return Sre.fromJSON(e);case Ge.ApiKey:return wre.fromJSON(e);case Ge.BlocklistIdentifier:return xre.fromJSON(e);case Ge.Client:return kre.fromJSON(e);case Ge.Cookies:return Pre.fromJSON(e);case Ge.Domain:return Ore.fromJSON(e);case Ge.EmailAddress:return Yq.fromJSON(e);case Ge.Email:return Are.fromJSON(e);case Ge.IdpOAuthAccessToken:return Rre.fromJSON(e);case Ge.Instance:return $re.fromJSON(e);case Ge.InstanceRestrictions:return Nre.fromJSON(e);case Ge.InstanceSettings:return jre.fromJSON(e);case Ge.Invitation:return a2.fromJSON(e);case Ge.JwtTemplate:return Ure.fromJSON(e);case Ge.Machine:return zre.fromJSON(e);case Ge.MachineScope:return Dre.fromJSON(e);case Ge.MachineSecretKey:return Mre.fromJSON(e);case Ge.M2MToken:return qre.fromJSON(e);case Ge.OauthAccessToken:return Lre.fromJSON(e);case Ge.OAuthApplication:return Fre.fromJSON(e);case Ge.Organization:return f2.fromJSON(e);case Ge.OrganizationInvitation:return Jre.fromJSON(e);case Ge.OrganizationMembership:return Bre.fromJSON(e);case Ge.OrganizationSettings:return Vre.fromJSON(e);case Ge.PhoneNumber:return b2.fromJSON(e);case Ge.ProxyCheck:return Zre.fromJSON(e);case Ge.RedirectUrl:return Kre.fromJSON(e);case Ge.SamlConnection:return Gre.fromJSON(e);case Ge.SignInToken:return Yre.fromJSON(e);case Ge.SignUpAttempt:return tne.fromJSON(e);case Ge.Session:return Fq.fromJSON(e);case Ge.SmsMessage:return rne.fromJSON(e);case Ge.Token:return nne.fromJSON(e);case Ge.TotalCount:return lne(e);case Ge.User:return ine.fromJSON(e);case Ge.WaitlistEntry:return ane.fromJSON(e);case Ge.BillingPlan:return q2.fromJSON(e);case Ge.BillingSubscription:return sne.fromJSON(e);case Ge.BillingSubscriptionItem:return L2.fromJSON(e);case Ge.Feature:return D2.fromJSON(e);default:return e}}a(Kk,"jsonToObject");function nd(e){return dne(a(async r=>{let{secretKey:n,machineSecretKey:o,useMachineSecretKey:i=!1,requireSecretKey:s=!0,apiUrl:u=Aq,apiVersion:l=Cq,userAgent:d=Rq,skipApiVersionInUrl:p=!1}=e,{path:f,method:m,queryParams:y,headerParams:g,bodyParams:h,formData:v,options:S}=r,{deepSnakecaseBodyParamKeys:b=!1}=S||{};s&&$q(n);let w=p?ie(u,f):ie(u,l,f),k=new URL(w);if(y){let R=xq({...y});for(let[I,N]of Object.entries(R))N&&[N].flat().forEach(z=>k.searchParams.append(I,z))}let $=new Headers({"Clerk-API-Version":nE,[Ae.Headers.UserAgent]:d,...g}),A=Ae.Headers.Authorization;$.has(A)||(i&&o?$.set(A,`Bearer ${o}`):n&&$.set(A,`Bearer ${n}`));let O;try{if(v)O=await Zo.fetch(k.href,{method:m,headers:$,body:v});else{$.set("Content-Type","application/json");let N=a(()=>{if(!(m!=="GET"&&h&&Object.keys(h).length>0))return null;let X=a(Z=>xq(Z,{deep:b}),"formatKeys");return{body:JSON.stringify(Array.isArray(h)?h.map(X):X(h))}},"buildBody");O=await Zo.fetch(k.href,{method:m,headers:$,...N()})}let I=await(O?.headers&&O.headers?.get(Ae.Headers.ContentType)===Ae.ContentTypes.Json?O.json():O.text());return O.ok?{...une(I),errors:null}:{data:null,errors:kq(I),status:O?.status,statusText:O?.statusText,clerkTraceId:Gk(I,O?.headers),retryAfter:Tq(O?.headers)}}catch(R){return R instanceof Error?{data:null,errors:[{code:"unexpected_error",message:R.message||"Unexpected error"}],clerkTraceId:Gk(R,O?.headers)}:{data:null,errors:kq(R),status:O?.status,statusText:O?.statusText,clerkTraceId:Gk(R,O?.headers),retryAfter:Tq(O?.headers)}}},"requestFn"))}a(nd,"buildRequest");function Gk(e,t){return e&&typeof e=="object"&&"clerk_trace_id"in e&&typeof e.clerk_trace_id=="string"?e.clerk_trace_id:t?.get("cf-ray")||""}a(Gk,"getTraceId");function Tq(e){let t=e?.get("Retry-After");if(!t)return;let r=parseInt(t,10);if(!isNaN(r))return r}a(Tq,"getRetryAfter");function kq(e){if(e&&typeof e=="object"&&"errors"in e){let t=e.errors;return t.length>0?t.map(Ik):[]}return[]}a(kq,"parseErrors");function dne(e){return async(...t)=>{let{data:r,errors:n,totalCount:o,status:i,statusText:s,clerkTraceId:u,retryAfter:l}=await e(...t);if(n){let d=new Wf(s||"",{data:[],status:i,clerkTraceId:u,retryAfter:l});throw d.errors=n,d}return typeof o<"u"?{data:r,totalCount:o}:r}}a(dne,"withLegacyRequestReturn");function Du(e){let t=nd(e);return{__experimental_accountlessApplications:new Pte(nd({...e,requireSecretKey:!1})),actorTokens:new Ete(t),allowlistIdentifiers:new Ite(t),apiKeys:new Ote(nd({...e,skipApiVersionInUrl:!0})),betaFeatures:new Cte(t),blocklistIdentifiers:new Rte(t),billing:new ure(t),clients:new $te(t),domains:new Nte(t),emailAddresses:new jte(t),idPOAuthAccessToken:new Dte(nd({...e,skipApiVersionInUrl:!0})),instance:new Mte(t),invitations:new qte(t),jwks:new Jte(t),jwtTemplates:new Bte(t),machines:new Ute(t),m2m:new Lte(nd({...e,skipApiVersionInUrl:!0,requireSecretKey:!1,useMachineSecretKey:!0})),oauthApplications:new Vte(t),organizations:new Hte(t),phoneNumbers:new Zte(t),proxyChecks:new Gte(t),redirectUrls:new Wte(t),samlConnections:new Qte(t),sessions:new Xte(t),signInTokens:new Yte(t),signUps:new ere(t),testingTokens:new rre(t),users:new nre(t),waitlistEntries:new ore(t),webhooks:new ire(t)}}a(Du,"createBackendApiClient");var oE="mt_",iE="oat_",aE="ak_",pne=[oE,iE,aE];function Yk(e){return pne.some(t=>e.startsWith(t))}a(Yk,"isMachineTokenByPrefix");function eE(e){if(e.startsWith(oE))return Ze.M2MToken;if(e.startsWith(iE))return Ze.OAuthToken;if(e.startsWith(aE))return Ze.ApiKey;throw new Error("Unknown machine token type")}a(eE,"getMachineTokenType");var B2=a((e,t)=>e?t==="any"?!0:(Array.isArray(t)?t:[t]).includes(e):!1,"isTokenTypeAccepted");var lh=a(e=>()=>{let t={...e};return t.secretKey=(t.secretKey||"").substring(0,7),t.jwtKey=(t.jwtKey||"").substring(0,7),{...t}},"createDebug");function mne(e,t,r){let{actor:n,sessionId:o,sessionStatus:i,userId:s,orgId:u,orgRole:l,orgSlug:d,orgPermissions:p,factorVerificationAge:f}=nq(r),m=Du(e),y=yne({sessionId:o,sessionToken:t,fetcher:a(async(g,h,v)=>(await m.sessions.getToken(g,h||"",v)).jwt,"fetcher")});return{tokenType:Ze.SessionToken,actor:n,sessionClaims:r,sessionId:o,sessionStatus:i,userId:s,orgId:u,orgRole:l,orgSlug:d,orgPermissions:p,factorVerificationAge:f,getToken:y,has:Lk({orgId:u,orgRole:l,orgPermissions:p,userId:s,factorVerificationAge:f,features:r.fea||"",plans:r.pla||""}),debug:lh({...e,sessionToken:t}),isAuthenticated:!0}}a(mne,"signedInAuthObject");function H2(e,t){return{tokenType:Ze.SessionToken,sessionClaims:null,sessionId:null,sessionStatus:t??null,userId:null,actor:null,orgId:null,orgRole:null,orgSlug:null,orgPermissions:null,factorVerificationAge:null,getToken:a(()=>Promise.resolve(null),"getToken"),has:a(()=>!1,"has"),debug:lh(e),isAuthenticated:!1}}a(H2,"signedOutAuthObject");function fne(e,t,r,n){let o={id:r.id,subject:r.subject,getToken:a(()=>Promise.resolve(t),"getToken"),has:a(()=>!1,"has"),debug:lh(n),isAuthenticated:!0};switch(e){case Ze.ApiKey:{let i=r;return{...o,tokenType:e,name:i.name,claims:i.claims,scopes:i.scopes,userId:i.subject.startsWith("user_")?i.subject:null,orgId:i.subject.startsWith("org_")?i.subject:null}}case Ze.M2MToken:{let i=r;return{...o,tokenType:e,claims:i.claims,scopes:i.scopes,machineId:i.subject}}case Ze.OAuthToken:{let i=r;return{...o,tokenType:e,scopes:i.scopes,userId:i.subject,clientId:i.clientId}}default:throw new Error(`Invalid token type: ${e}`)}}a(fne,"authenticatedMachineObject");function hne(e,t){let r={id:null,subject:null,scopes:null,has:a(()=>!1,"has"),getToken:a(()=>Promise.resolve(null),"getToken"),debug:lh(t),isAuthenticated:!1};switch(e){case Ze.ApiKey:return{...r,tokenType:e,name:null,claims:null,scopes:null,userId:null,orgId:null};case Ze.M2MToken:return{...r,tokenType:e,claims:null,scopes:null,machineId:null};case Ze.OAuthToken:return{...r,tokenType:e,scopes:null,userId:null,clientId:null};default:throw new Error(`Invalid token type: ${e}`)}}a(hne,"unauthenticatedMachineObject");function gne(){return{isAuthenticated:!1,tokenType:null,getToken:a(()=>Promise.resolve(null),"getToken"),has:a(()=>!1,"has"),debug:a(()=>({}),"debug")}}a(gne,"invalidTokenAuthObject");var yne=a(e=>{let{fetcher:t,sessionToken:r,sessionId:n}=e||{};return async(o={})=>n?o.template||o.expiresInSeconds!==void 0?t(n,o.template,o.expiresInSeconds):r:null},"createGetToken");var id={SignedIn:"signed-in",SignedOut:"signed-out",Handshake:"handshake"},ir={ClientUATWithoutSessionToken:"client-uat-but-no-session-token",DevBrowserMissing:"dev-browser-missing",DevBrowserSync:"dev-browser-sync",PrimaryRespondsToSyncing:"primary-responds-to-syncing",PrimaryDomainCrossOriginSync:"primary-domain-cross-origin-sync",SatelliteCookieNeedsSyncing:"satellite-needs-syncing",SessionTokenAndUATMissing:"session-token-and-uat-missing",SessionTokenMissing:"session-token-missing",SessionTokenExpired:"session-token-expired",SessionTokenIATBeforeClientUAT:"session-token-iat-before-client-uat",SessionTokenNBF:"session-token-nbf",SessionTokenIatInTheFuture:"session-token-iat-in-the-future",SessionTokenWithoutClientUAT:"session-token-but-no-client-uat",ActiveOrganizationMismatch:"active-organization-mismatch",TokenTypeMismatch:"token-type-mismatch",UnexpectedError:"unexpected-error"};function ha(e){let{authenticateContext:t,headers:r=new Headers,token:n}=e,o=a((({treatPendingAsSignedOut:i=!0}={})=>{if(e.tokenType===Ze.SessionToken){let{sessionClaims:u}=e,l=mne(t,n,u);return i&&l.sessionStatus==="pending"?H2(void 0,l.sessionStatus):l}let{machineData:s}=e;return fne(e.tokenType,n,s,t)}),"toAuth");return{status:id.SignedIn,reason:null,message:null,proxyUrl:t.proxyUrl||"",publishableKey:t.publishableKey||"",isSatellite:t.isSatellite||!1,domain:t.domain||"",signInUrl:t.signInUrl||"",signUpUrl:t.signUpUrl||"",afterSignInUrl:t.afterSignInUrl||"",afterSignUpUrl:t.afterSignUpUrl||"",isSignedIn:!0,isAuthenticated:!0,tokenType:e.tokenType,toAuth:o,headers:r,token:n}}a(ha,"signedIn");function Kn(e){let{authenticateContext:t,headers:r=new Headers,reason:n,message:o="",tokenType:i}=e,s=a((()=>i===Ze.SessionToken?H2({...t,status:id.SignedOut,reason:n,message:o}):hne(i,{reason:n,message:o,headers:r})),"toAuth");return sE({status:id.SignedOut,reason:n,message:o,proxyUrl:t.proxyUrl||"",publishableKey:t.publishableKey||"",isSatellite:t.isSatellite||!1,domain:t.domain||"",signInUrl:t.signInUrl||"",signUpUrl:t.signUpUrl||"",afterSignInUrl:t.afterSignInUrl||"",afterSignUpUrl:t.afterSignUpUrl||"",isSignedIn:!1,isAuthenticated:!1,tokenType:i,toAuth:s,headers:r,token:null})}a(Kn,"signedOut");function vne(e,t,r="",n){return sE({status:id.Handshake,reason:t,message:r,publishableKey:e.publishableKey||"",isSatellite:e.isSatellite||!1,domain:e.domain||"",proxyUrl:e.proxyUrl||"",signInUrl:e.signInUrl||"",signUpUrl:e.signUpUrl||"",afterSignInUrl:e.afterSignInUrl||"",afterSignUpUrl:e.afterSignUpUrl||"",isSignedIn:!1,isAuthenticated:!1,tokenType:Ze.SessionToken,toAuth:a(()=>null,"toAuth"),headers:n,token:null})}a(vne,"handshake");function _ne(){let e=gne();return sE({status:id.SignedOut,reason:ir.TokenTypeMismatch,message:"",proxyUrl:"",publishableKey:"",isSatellite:!1,domain:"",signInUrl:"",signUpUrl:"",afterSignInUrl:"",afterSignUpUrl:"",isSignedIn:!1,isAuthenticated:!1,tokenType:null,toAuth:a(()=>e,"toAuth"),headers:new Headers,token:null})}a(_ne,"signedOutInvalidToken");var sE=a(e=>{let t=new Headers(e.headers||{});if(e.message)try{t.set(Ae.Headers.AuthMessage,e.message)}catch{}if(e.reason)try{t.set(Ae.Headers.AuthReason,e.reason)}catch{}if(e.status)try{t.set(Ae.Headers.AuthStatus,e.status)}catch{}return e.headers=t,e},"withDebugHeaders"),bne=class extends URL{static{a(this,"ClerkUrl")}isCrossOrigin(e){return this.origin!==new URL(e.toString()).origin}},Eq=a((...e)=>new bne(...e),"createClerkUrl"),Pq=class extends Request{static{a(this,"ClerkRequest")}constructor(e,t){let r=typeof e!="string"&&"url"in e?e.url:String(e);super(r,t||typeof e=="string"?void 0:e),this.clerkUrl=this.deriveUrlFromHeaders(this),this.cookies=this.parseCookies(this)}toJSON(){return{url:this.clerkUrl.href,method:this.method,headers:JSON.stringify(Object.fromEntries(this.headers)),clerkUrl:this.clerkUrl.toString(),cookies:JSON.stringify(Object.fromEntries(this.cookies))}}deriveUrlFromHeaders(e){let t=new URL(e.url),r=e.headers.get(Ae.Headers.ForwardedProto),n=e.headers.get(Ae.Headers.ForwardedHost),o=e.headers.get(Ae.Headers.Host),i=t.protocol,s=this.getFirstValueFromHeader(n)??o,u=this.getFirstValueFromHeader(r)??i?.replace(/[:/]/,""),l=s&&u?`${u}://${s}`:t.origin;return l===t.origin?Eq(t):Eq(t.pathname+t.search,l)}getFirstValueFromHeader(e){return e?.split(",")[0]}parseCookies(e){let t=(0,V2.parse)(this.decodeCookieValue(e.headers.get("cookie")||""));return new Map(Object.entries(t))}decodeCookieValue(e){return e&&e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}},Sne=a((...e)=>e[0]instanceof Pq?e[0]:new Pq(...e),"createClerkRequest"),Z2=a(e=>e.split(";")[0]?.split("=")[0],"getCookieName"),K2=a(e=>e.split(";")[0]?.split("=")[1],"getCookieValue"),dh={},tE=0;function rE(e){return dh[e]}a(rE,"getFromCache");function wne(){return Object.values(dh)}a(wne,"getCacheValues");function G2(e,t,r=!0){dh[e]=t,tE=r?Date.now():-1}a(G2,"setInCache");var xne="-----BEGIN PUBLIC KEY-----",Tne="-----END PUBLIC KEY-----",kne="MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA",Ene="IDAQAB";function W2(e){let{kid:t,pem:r}=e,n=`local-${t}`,o=rE(n);if(o)return o;if(!r)throw new St({action:Tr.SetClerkJWTKey,message:"Missing local JWK.",reason:tt.LocalJWKMissing});let i=r.replace(/\r\n|\n|\r/g,"").replace(xne,"").replace(Tne,"").replace(kne,"").replace(Ene,"").replace(/\+/g,"-").replace(/\//g,"_"),s={kid:n,kty:"RSA",alg:"RS256",n:i,e:"AQAB"};return G2(n,s,!1),s}a(W2,"loadClerkJwkFromPem");async function Q2(e){let{secretKey:t,apiUrl:r=Aq,apiVersion:n=Cq,kid:o,skipJwksCache:i}=e;if(i||Ine()||!rE(o)){if(!t)throw new St({action:Tr.ContactSupport,message:"Failed to load JWKS from Clerk Backend or Frontend API.",reason:tt.RemoteJWKFailedToLoad});let u=a(()=>Pne(r,t,n),"fetcher"),{keys:l}=await Kf(u);if(!l||!l.length)throw new St({action:Tr.ContactSupport,message:"The JWKS endpoint did not contain any signing keys. Contact support@clerk.com.",reason:tt.RemoteJWKFailedToLoad});l.forEach(d=>G2(d.kid,d))}let s=rE(o);if(!s){let l=wne().map(d=>d.kid).sort().join(", ");throw new St({action:`Go to your Dashboard and validate your secret and public keys are correct. ${Tr.ContactSupport} if the issue persists.`,message:`Unable to find a signing key in JWKS that matches the kid='${o}' of the provided session token. Please make sure that the __session cookie or the HTTP authorization header contain a Clerk-generated session JWT. The following kid is available: ${l}`,reason:tt.JWKKidMismatch})}return s}a(Q2,"loadClerkJWKFromRemote");async function Pne(e,t,r){if(!t)throw new St({action:Tr.SetClerkSecretKey,message:"Missing Clerk Secret Key or API Key. Go to https://dashboard.clerk.com and get your key for your instance.",reason:tt.RemoteJWKFailedToLoad});let n=new URL(e);n.pathname=ie(n.pathname,r,"/jwks");let o=await Zo.fetch(n.href,{headers:{Authorization:`Bearer ${t}`,"Clerk-API-Version":nE,"Content-Type":"application/json","User-Agent":Rq}});if(!o.ok){let i=await o.json(),s=One(i?.errors,VM.InvalidSecretKey);if(s){let u=tt.InvalidSecretKey;throw new St({action:Tr.ContactSupport,message:s.message,reason:u})}throw new St({action:Tr.ContactSupport,message:`Error loading Clerk JWKS from ${n.href} with code=${o.status}`,reason:tt.RemoteJWKFailedToLoad})}return o.json()}a(Pne,"fetchJWKSFromBAPI");function Ine(){if(tE===-1)return!1;let e=Date.now()-tE>=yte*1e3;return e&&(dh={}),e}a(Ine,"cacheHasExpired");var One=a((e,t)=>e?e.find(r=>r.code===t):null,"getErrorObjectByCode");async function ga(e,t){let{data:r,errors:n}=_o(e);if(n)return{errors:n};let{header:o}=r,{kid:i}=o;try{let s;if(t.jwtKey)s=W2({kid:i,pem:t.jwtKey});else if(t.secretKey)s=await Q2({...t,kid:i});else return{errors:[new St({action:Tr.SetClerkJWTKey,message:"Failed to resolve JWK during verification.",reason:tt.JWKFailedToResolve})]};return await XM(e,{...t,key:s})}catch(s){return{errors:[s]}}}a(ga,"verifyToken");function uE(e,t,r){if(Ck(t)){let n,o;switch(t.status){case 401:n=Xl.InvalidSecretKey,o=t.errors[0]?.message||"Invalid secret key";break;case 404:n=Xl.TokenInvalid,o=r;break;default:n=Xl.UnexpectedError,o="Unexpected error"}return{data:void 0,tokenType:e,errors:[new Qf({message:o,code:n,status:t.status})]}}return{data:void 0,tokenType:e,errors:[new Qf({message:"Unexpected error",code:Xl.UnexpectedError,status:t.status})]}}a(uE,"handleClerkAPIError");async function Ane(e,t){try{return{data:await Du(t).m2m.verifyToken({token:e}),tokenType:Ze.M2MToken,errors:void 0}}catch(r){return uE(Ze.M2MToken,r,"Machine token not found")}}a(Ane,"verifyM2MToken");async function Cne(e,t){try{return{data:await Du(t).idPOAuthAccessToken.verifyAccessToken(e),tokenType:Ze.OAuthToken,errors:void 0}}catch(r){return uE(Ze.OAuthToken,r,"OAuth token not found")}}a(Cne,"verifyOAuthToken");async function Rne(e,t){try{return{data:await Du(t).apiKeys.verifySecret(e),tokenType:Ze.ApiKey,errors:void 0}}catch(r){return uE(Ze.ApiKey,r,"API key not found")}}a(Rne,"verifyAPIKey");async function Iq(e,t){if(e.startsWith(oE))return Ane(e,t);if(e.startsWith(iE))return Cne(e,t);if(e.startsWith(aE))return Rne(e,t);throw new Error("Unknown machine token type")}a(Iq,"verifyMachineAuthToken");async function $ne(e,{key:t}){let{data:r,errors:n}=_o(e);if(n)throw n[0];let{header:o,payload:i}=r,{typ:s,alg:u}=o;zk(s),Dk(u);let{data:l,errors:d}=await Mk(r,t);if(d)throw new St({reason:tt.TokenVerificationFailed,message:`Error verifying handshake token. ${d[0]}`});if(!l)throw new St({reason:tt.TokenInvalidSignature,message:"Handshake signature is invalid."});return i}a($ne,"verifyHandshakeJwt");async function Nne(e,t){let{secretKey:r,apiUrl:n,apiVersion:o,jwksCacheTtlInMs:i,jwtKey:s,skipJwksCache:u}=t,{data:l,errors:d}=_o(e);if(d)throw d[0];let{kid:p}=l.header,f;if(s)f=W2({kid:p,pem:s});else if(r)f=await Q2({secretKey:r,apiUrl:n,apiVersion:o,kid:p,jwksCacheTtlInMs:i,skipJwksCache:u});else throw new St({action:Tr.SetClerkJWTKey,message:"Failed to resolve JWK during handshake verification.",reason:tt.JWKFailedToResolve});return $ne(e,{key:f})}a(Nne,"verifyHandshakeToken");var jne=class{static{a(this,"HandshakeService")}constructor(e,t,r){this.authenticateContext=e,this.options=t,this.organizationMatcher=r}isRequestEligibleForHandshake(){let{accept:e,secFetchDest:t}=this.authenticateContext;return!!(t==="document"||t==="iframe"||!t&&e?.startsWith("text/html"))}buildRedirectToHandshake(e){if(!this.authenticateContext?.clerkUrl)throw new Error("Missing clerkUrl in authenticateContext");let t=this.removeDevBrowserFromURL(this.authenticateContext.clerkUrl),r=this.authenticateContext.frontendApi.startsWith("http")?this.authenticateContext.frontendApi:`https://${this.authenticateContext.frontendApi}`;r=r.replace(/\/+$/,"")+"/";let n=new URL("v1/client/handshake",r);n.searchParams.append("redirect_url",t?.href||""),n.searchParams.append("__clerk_api_version",nE),n.searchParams.append(Ae.QueryParameters.SuffixedCookies,this.authenticateContext.usesSuffixedCookies().toString()),n.searchParams.append(Ae.QueryParameters.HandshakeReason,e),n.searchParams.append(Ae.QueryParameters.HandshakeFormat,"nonce"),this.authenticateContext.instanceType==="development"&&this.authenticateContext.devBrowserToken&&n.searchParams.append(Ae.QueryParameters.DevBrowser,this.authenticateContext.devBrowserToken);let o=this.getOrganizationSyncTarget(this.authenticateContext.clerkUrl,this.organizationMatcher);return o&&this.getOrganizationSyncQueryParams(o).forEach((s,u)=>{n.searchParams.append(u,s)}),new Headers({[Ae.Headers.Location]:n.href})}async getCookiesFromHandshake(){let e=[];if(this.authenticateContext.handshakeNonce)try{let t=await this.authenticateContext.apiClient?.clients.getHandshakePayload({nonce:this.authenticateContext.handshakeNonce});t&&e.push(...t.directives)}catch(t){console.error("Clerk: HandshakeService: error getting handshake payload:",t)}else if(this.authenticateContext.handshakeToken){let t=await Nne(this.authenticateContext.handshakeToken,this.authenticateContext);t&&Array.isArray(t.handshake)&&e.push(...t.handshake)}return e}async resolveHandshake(){let e=new Headers({"Access-Control-Allow-Origin":"null","Access-Control-Allow-Credentials":"true"}),t=await this.getCookiesFromHandshake(),r="";if(t.forEach(i=>{e.append("Set-Cookie",i),Z2(i).startsWith(Ae.Cookies.Session)&&(r=K2(i))}),this.authenticateContext.instanceType==="development"){let i=new URL(this.authenticateContext.clerkUrl);i.searchParams.delete(Ae.QueryParameters.Handshake),i.searchParams.delete(Ae.QueryParameters.HandshakeHelp),i.searchParams.delete(Ae.QueryParameters.DevBrowser),i.searchParams.delete(Ae.QueryParameters.HandshakeNonce),e.append(Ae.Headers.Location,i.toString()),e.set(Ae.Headers.CacheControl,"no-store")}if(r==="")return Kn({tokenType:Ze.SessionToken,authenticateContext:this.authenticateContext,reason:ir.SessionTokenMissing,message:"",headers:e});let{data:n,errors:[o]=[]}=await ga(r,this.authenticateContext);if(n)return ha({tokenType:Ze.SessionToken,authenticateContext:this.authenticateContext,sessionClaims:n,headers:e,token:r});if(this.authenticateContext.instanceType==="development"&&(o?.reason===tt.TokenExpired||o?.reason===tt.TokenNotActiveYet||o?.reason===tt.TokenIatInTheFuture)){let i=new St({action:o.action,message:o.message,reason:o.reason});i.tokenCarrier="cookie",console.error(`Clerk: Clock skew detected. This usually means that your system clock is inaccurate. Clerk will attempt to account for the clock skew in development.

To resolve this issue, make sure your system's clock is set to the correct time (e.g. turn off and on automatic time synchronization).

---

${i.getFullMessage()}`);let{data:s,errors:[u]=[]}=await ga(r,{...this.authenticateContext,clockSkewInMs:864e5});if(s)return ha({tokenType:Ze.SessionToken,authenticateContext:this.authenticateContext,sessionClaims:s,headers:e,token:r});throw new Error(u?.message||"Clerk: Handshake retry failed.")}throw new Error(o?.message||"Clerk: Handshake failed.")}handleTokenVerificationErrorInDevelopment(e){if(e.reason===tt.TokenInvalidSignature){let t="Clerk: Handshake token verification failed due to an invalid signature. If you have switched Clerk keys locally, clear your cookies and try again.";throw new Error(t)}throw new Error(`Clerk: Handshake token verification failed: ${e.getFullMessage()}.`)}checkAndTrackRedirectLoop(e){if(this.authenticateContext.handshakeRedirectLoopCounter===3)return!0;let t=this.authenticateContext.handshakeRedirectLoopCounter+1,r=Ae.Cookies.RedirectCount;return e.append("Set-Cookie",`${r}=${t}; SameSite=Lax; HttpOnly; Max-Age=2`),!1}removeDevBrowserFromURL(e){let t=new URL(e);return t.searchParams.delete(Ae.QueryParameters.DevBrowser),t.searchParams.delete(Ae.QueryParameters.LegacyDevBrowser),t}getOrganizationSyncTarget(e,t){return t.findTarget(e)}getOrganizationSyncQueryParams(e){let t=new Map;return e.type==="personalAccount"&&t.set("organization_id",""),e.type==="organization"&&(e.organizationId&&t.set("organization_id",e.organizationId),e.organizationSlug&&t.set("organization_id",e.organizationSlug)),t}},zne=class{static{a(this,"OrganizationMatcher")}constructor(e){this.organizationPattern=this.createMatcher(e?.organizationPatterns),this.personalAccountPattern=this.createMatcher(e?.personalAccountPatterns)}createMatcher(e){if(!e)return null;try{return Fk(e)}catch(t){throw new Error(`Invalid pattern "${e}": ${t}`)}}findTarget(e){let t=this.findOrganizationTarget(e);return t||this.findPersonalAccountTarget(e)}findOrganizationTarget(e){if(!this.organizationPattern)return null;try{let t=this.organizationPattern(e.pathname);if(!t||!("params"in t))return null;let r=t.params;return r.id?{type:"organization",organizationId:r.id}:r.slug?{type:"organization",organizationSlug:r.slug}:null}catch(t){return console.error("Failed to match organization pattern:",t),null}}findPersonalAccountTarget(e){if(!this.personalAccountPattern)return null;try{return this.personalAccountPattern(e.pathname)?{type:"personalAccount"}:null}catch(t){return console.error("Failed to match personal account pattern:",t),null}}},bo={NonEligibleNoCookie:"non-eligible-no-refresh-cookie",NonEligibleNonGet:"non-eligible-non-get",InvalidSessionToken:"invalid-session-token",MissingApiClient:"missing-api-client",MissingSessionToken:"missing-session-token",MissingRefreshToken:"missing-refresh-token",ExpiredSessionTokenDecodeFailed:"expired-session-token-decode-failed",ExpiredSessionTokenMissingSidClaim:"expired-session-token-missing-sid-claim",FetchError:"fetch-error",UnexpectedSDKError:"unexpected-sdk-error",UnexpectedBAPIError:"unexpected-bapi-error"};function Dne(e,t){if(!e&&Hf(t))throw new Error("Missing signInUrl. Pass a signInUrl for dev instances if an app is satellite")}a(Dne,"assertSignInUrlExists");function Mne(e){if(!e)throw new Error("Missing domain and proxyUrl. A satellite application needs to specify a domain or a proxyUrl")}a(Mne,"assertProxyUrlOrDomain");function qne(e,t){let r;try{r=new URL(e)}catch{throw new Error("The signInUrl needs to have a absolute url format.")}if(r.origin===t)throw new Error("The signInUrl needs to be on a different origin than your satellite application.")}a(qne,"assertSignInUrlFormatAndOrigin");function Une(e){if(!e.machineSecretKey&&!e.secretKey)throw new Error("Machine token authentication requires either a Machine secret key or a Clerk secret key. Ensure a Clerk secret key or Machine secret key is set.")}a(Une,"assertMachineSecretOrSecretKey");function Lne(e,t,r){return e.reason===tt.TokenExpired&&!!t.refreshTokenInCookie&&r.method==="GET"}a(Lne,"isRequestEligibleForRefresh");function Oq(e,t,r){return B2(e,t)?null:Kn({tokenType:typeof t=="string"?t:e,authenticateContext:r,reason:ir.TokenTypeMismatch})}a(Oq,"checkTokenTypeMismatch");function Fne(e,t){let r=null,{tokenInHeader:n}=t;n&&(Yk(n)?r=eE(n):r=Ze.SessionToken);let o=r??Ze.SessionToken;return B2(o,e)}a(Fne,"isTokenTypeInAcceptedArray");var Jne=a((async(e,t)=>{let r=await Tte(Sne(e),t),n=t.acceptsToken??Ze.SessionToken;n!==Ze.M2MToken&&($q(r.secretKey),r.isSatellite&&(Dne(r.signInUrl,r.secretKey),r.signInUrl&&r.origin&&qne(r.signInUrl,r.origin),Mne(r.proxyUrl||r.domain))),n===Ze.M2MToken&&Une(r);let o=new zne(t.organizationSyncOptions),i=new jne(r,{organizationSyncOptions:t.organizationSyncOptions},o);async function s(v){if(!t.apiClient)return{data:null,error:{message:"An apiClient is needed to perform token refresh.",cause:{reason:bo.MissingApiClient}}};let{sessionToken:S,refreshTokenInCookie:b}=v;if(!S)return{data:null,error:{message:"Session token must be provided.",cause:{reason:bo.MissingSessionToken}}};if(!b)return{data:null,error:{message:"Refresh token must be provided.",cause:{reason:bo.MissingRefreshToken}}};let{data:w,errors:k}=_o(S);if(!w||k)return{data:null,error:{message:"Unable to decode the expired session token.",cause:{reason:bo.ExpiredSessionTokenDecodeFailed,errors:k}}};if(!w?.payload?.sid)return{data:null,error:{message:"Expired session token is missing the `sid` claim.",cause:{reason:bo.ExpiredSessionTokenMissingSidClaim}}};try{return{data:(await t.apiClient.sessions.refreshSession(w.payload.sid,{format:"cookie",suffixed_cookies:v.usesSuffixedCookies(),expired_token:S||"",refresh_token:b||"",request_origin:v.clerkUrl.origin,request_headers:Object.fromEntries(Array.from(e.headers.entries()).map(([A,O])=>[A,[O]]))})).cookies,error:null}}catch($){return $?.errors?.length?$.errors[0].code==="unexpected_error"?{data:null,error:{message:"Fetch unexpected error",cause:{reason:bo.FetchError,errors:$.errors}}}:{data:null,error:{message:$.errors[0].code,cause:{reason:$.errors[0].code,errors:$.errors}}}:{data:null,error:{message:"Unexpected Server/BAPI error",cause:{reason:bo.UnexpectedBAPIError,errors:[$]}}}}}a(s,"refreshToken");async function u(v){let{data:S,error:b}=await s(v);if(!S||S.length===0)return{data:null,error:b};let w=new Headers,k="";S.forEach(O=>{w.append("Set-Cookie",O),Z2(O).startsWith(Ae.Cookies.Session)&&(k=K2(O))});let{data:$,errors:A}=await ga(k,v);return A?{data:null,error:{message:"Clerk: unable to verify refreshed session token.",cause:{reason:bo.InvalidSessionToken,errors:A}}}:{data:{jwtPayload:$,sessionToken:k,headers:w},error:null}}a(u,"attemptRefresh");function l(v,S,b,w){if(!i.isRequestEligibleForHandshake())return Kn({tokenType:Ze.SessionToken,authenticateContext:v,reason:S,message:b});let k=w??i.buildRedirectToHandshake(S);return k.get(Ae.Headers.Location)&&k.set(Ae.Headers.CacheControl,"no-store"),i.checkAndTrackRedirectLoop(k)?(console.log("Clerk: Refreshing the session token resulted in an infinite redirect loop. This usually means that your Clerk instance keys do not match - make sure to copy the correct publishable and secret keys from the Clerk dashboard."),Kn({tokenType:Ze.SessionToken,authenticateContext:v,reason:S,message:b})):vne(v,S,b,k)}a(l,"handleMaybeHandshakeStatus");function d(v,S){let b=o.findTarget(v.clerkUrl);if(!b)return null;let w=!1;if(b.type==="organization"&&(b.organizationSlug&&b.organizationSlug!==S.orgSlug&&(w=!0),b.organizationId&&b.organizationId!==S.orgId&&(w=!0)),b.type==="personalAccount"&&S.orgId&&(w=!0),!w)return null;if(v.handshakeRedirectLoopCounter>=3)return console.warn("Clerk: Organization activation handshake loop detected. This is likely due to an invalid organization ID or slug. Skipping organization activation."),null;let k=l(v,ir.ActiveOrganizationMismatch,"");return k.status!=="handshake"?null:k}a(d,"handleMaybeOrganizationSyncHandshake");async function p(){let{tokenInHeader:v}=r;try{let{data:S,errors:b}=await ga(v,r);if(b)throw b[0];return ha({tokenType:Ze.SessionToken,authenticateContext:r,sessionClaims:S,headers:new Headers,token:v})}catch(S){return m(S,"header")}}a(p,"authenticateRequestWithTokenInHeader");async function f(){let v=r.clientUat,S=!!r.sessionTokenInCookie,b=!!r.devBrowserToken;if(r.handshakeNonce||r.handshakeToken)try{return await i.resolveHandshake()}catch(O){O instanceof St&&r.instanceType==="development"?i.handleTokenVerificationErrorInDevelopment(O):console.error("Clerk: unable to resolve handshake:",O)}let w=r.isSatellite&&r.secFetchDest==="document";if(r.instanceType==="production"&&w)return l(r,ir.SatelliteCookieNeedsSyncing,"");if(r.instanceType==="development"&&w&&!r.clerkUrl.searchParams.has(Ae.QueryParameters.ClerkSynced)){let O=new URL(r.signInUrl);O.searchParams.append(Ae.QueryParameters.ClerkRedirectUrl,r.clerkUrl.toString());let R=new Headers({[Ae.Headers.Location]:O.toString()});return l(r,ir.SatelliteCookieNeedsSyncing,"",R)}let k=new URL(r.clerkUrl).searchParams.get(Ae.QueryParameters.ClerkRedirectUrl);if(r.instanceType==="development"&&!r.isSatellite&&k){let O=new URL(k);r.devBrowserToken&&O.searchParams.append(Ae.QueryParameters.DevBrowser,r.devBrowserToken),O.searchParams.append(Ae.QueryParameters.ClerkSynced,"true");let R=new Headers({[Ae.Headers.Location]:O.toString()});return l(r,ir.PrimaryRespondsToSyncing,"",R)}if(r.instanceType==="development"&&r.clerkUrl.searchParams.has(Ae.QueryParameters.DevBrowser))return l(r,ir.DevBrowserSync,"");if(r.instanceType==="development"&&!b)return l(r,ir.DevBrowserMissing,"");if(!v&&!S)return Kn({tokenType:Ze.SessionToken,authenticateContext:r,reason:ir.SessionTokenAndUATMissing});if(!v&&S)return l(r,ir.SessionTokenWithoutClientUAT,"");if(v&&!S)return l(r,ir.ClientUATWithoutSessionToken,"");let{data:$,errors:A}=_o(r.sessionTokenInCookie);if(A)return m(A[0],"cookie");if($.payload.iat<r.clientUat)return l(r,ir.SessionTokenIATBeforeClientUAT,"");try{let{data:O,errors:R}=await ga(r.sessionTokenInCookie,r);if(R)throw R[0];let I=ha({tokenType:Ze.SessionToken,authenticateContext:r,sessionClaims:O,headers:new Headers,token:r.sessionTokenInCookie});if(!r.isSatellite&&r.secFetchDest==="document"&&r.isCrossOriginReferrer()&&!r.isKnownClerkReferrer()&&r.handshakeRedirectLoopCounter===0)return l(r,ir.PrimaryDomainCrossOriginSync,"Cross-origin request from satellite domain requires handshake");let z=I.toAuth();if(z.userId){let X=d(r,z);if(X)return X}return I}catch(O){return m(O,"cookie")}return Kn({tokenType:Ze.SessionToken,authenticateContext:r,reason:ir.UnexpectedError})}a(f,"authenticateRequestWithTokenInCookie");async function m(v,S){if(!(v instanceof St))return Kn({tokenType:Ze.SessionToken,authenticateContext:r,reason:ir.UnexpectedError});let b;if(Lne(v,r,e)){let{data:k,error:$}=await u(r);if(k)return ha({tokenType:Ze.SessionToken,authenticateContext:r,sessionClaims:k.jwtPayload,headers:k.headers,token:k.sessionToken});$?.cause?.reason?b=$.cause.reason:b=bo.UnexpectedSDKError}else e.method!=="GET"?b=bo.NonEligibleNonGet:r.refreshTokenInCookie?b=null:b=bo.NonEligibleNoCookie;return v.tokenCarrier=S,[tt.TokenExpired,tt.TokenNotActiveYet,tt.TokenIatInTheFuture].includes(v.reason)?l(r,Hne({tokenError:v.reason,refreshError:b}),v.getFullMessage()):Kn({tokenType:Ze.SessionToken,authenticateContext:r,reason:v.reason,message:v.getFullMessage()})}a(m,"handleSessionTokenError");function y(v,S){return S instanceof Qf?Kn({tokenType:v,authenticateContext:r,reason:S.code,message:S.getFullMessage()}):Kn({tokenType:v,authenticateContext:r,reason:ir.UnexpectedError})}a(y,"handleMachineError");async function g(){let{tokenInHeader:v}=r;if(!v)return m(new Error("Missing token in header"),"header");if(!Yk(v))return Kn({tokenType:n,authenticateContext:r,reason:ir.TokenTypeMismatch,message:""});let S=eE(v),b=Oq(S,n,r);if(b)return b;let{data:w,tokenType:k,errors:$}=await Iq(v,r);return $?y(k,$[0]):ha({tokenType:k,authenticateContext:r,machineData:w,token:v})}a(g,"authenticateMachineRequestWithTokenInHeader");async function h(){let{tokenInHeader:v}=r;if(!v)return m(new Error("Missing token in header"),"header");if(Yk(v)){let w=eE(v),k=Oq(w,n,r);if(k)return k;let{data:$,tokenType:A,errors:O}=await Iq(v,r);return O?y(A,O[0]):ha({tokenType:A,authenticateContext:r,machineData:$,token:v})}let{data:S,errors:b}=await ga(v,r);return b?m(b[0],"header"):ha({tokenType:Ze.SessionToken,authenticateContext:r,sessionClaims:S,token:v})}return a(h,"authenticateAnyRequestWithTokenInHeader"),Array.isArray(n)&&!Fne(n,r)?_ne():r.tokenInHeader?n==="any"?h():n===Ze.SessionToken?p():g():n===Ze.OAuthToken||n===Ze.ApiKey||n===Ze.M2MToken?Kn({tokenType:n,authenticateContext:r,reason:"No token in header"}):f()}),"authenticateRequest"),Bne=a(e=>{let{isSignedIn:t,isAuthenticated:r,proxyUrl:n,reason:o,message:i,publishableKey:s,isSatellite:u,domain:l}=e;return{isSignedIn:t,isAuthenticated:r,proxyUrl:n,reason:o,message:i,publishableKey:s,isSatellite:u,domain:l}},"debugRequestState"),Hne=a(({tokenError:e,refreshError:t})=>{switch(e){case tt.TokenExpired:return`${ir.SessionTokenExpired}-refresh-${t}`;case tt.TokenNotActiveYet:return ir.SessionTokenNBF;case tt.TokenIatInTheFuture:return ir.SessionTokenIatInTheFuture;default:return ir.UnexpectedError}},"convertTokenVerificationErrorReasonToAuthErrorReason"),Vne={secretKey:"",machineSecretKey:"",jwtKey:"",apiUrl:void 0,apiVersion:void 0,proxyUrl:"",publishableKey:"",isSatellite:!1,domain:"",audience:""};function X2(e){let t=cq(Vne,e.options),r=e.apiClient;return{authenticateRequest:a((o,i={})=>{let{apiUrl:s,apiVersion:u}=t,l=cq(t,i);return Jne(o,{...i,...l,apiUrl:s,apiVersion:u,apiClient:r})},"authenticateRequest2"),debugRequestState:Bne}}a(X2,"createAuthenticateRequest");function Y2(e){return async(...t)=>{let{data:r,errors:n}=await e(...t);if(n)throw n[0];return r}}a(Y2,"withLegacyReturn");function Zne(e){return e?e.replace(/([-_][a-z])/g,t=>t.toUpperCase().replace(/-|_/,"")):""}a(Zne,"snakeToCamel");function Kne(e){return e?e.replace(/[A-Z]/g,t=>`_${t.toLowerCase()}`):""}a(Kne,"camelToSnake");var eU=a(e=>{let t=a(r=>{if(!r)return r;if(Array.isArray(r))return r.map(i=>typeof i=="object"||Array.isArray(i)?t(i):i);let n={...r},o=Object.keys(n);for(let i of o){let s=e(i.toString());s!==i&&(n[s]=n[i],delete n[i]),typeof n[s]=="object"&&(n[s]=t(n[s]))}return n},"deepTransform");return t},"createDeepObjectTransformer"),OFe=eU(Kne),AFe=eU(Zne);function cE(e){if(typeof e=="boolean")return e;if(e==null)return!1;if(typeof e=="string"){if(e.toLowerCase()==="true")return!0;if(e.toLowerCase()==="false")return!1}let t=parseInt(e,10);return isNaN(t)?!1:t>0}a(cE,"isTruthy");var Gne=864e5,Wne=class{static{a(this,"TelemetryEventThrottler")}#e;#t=Gne;constructor(e){this.#e=e}isEventThrottled(e){let t=Date.now(),r=this.#r(e),n=this.#e.getItem(r);return n?t-n>this.#t?(this.#e.setItem(r,t),!1):!0:(this.#e.setItem(r,t),!1)}#r(e){let{sk:t,pk:r,payload:n,...o}=e,i={...n,...o};return JSON.stringify(Object.keys({...n,...o}).sort().map(s=>i[s]))}},tU=class{static{a(this,"LocalStorageThrottlerCache")}#e="clerk_telemetry_throttler";getItem(e){return this.#t()[e]}setItem(e,t){try{let r=this.#t();r[e]=t,localStorage.setItem(this.#e,JSON.stringify(r))}catch(r){r instanceof DOMException&&(r.name==="QuotaExceededError"||r.name==="NS_ERROR_DOM_QUOTA_REACHED")&&localStorage.length>0&&localStorage.removeItem(this.#e)}}removeItem(e){try{let t=this.#t();delete t[e],localStorage.setItem(this.#e,JSON.stringify(t))}catch{}}#t(){try{let e=localStorage.getItem(this.#e);return e?JSON.parse(e):{}}catch{return{}}}static isSupported(){return typeof window<"u"&&!!window.localStorage}},Qne=class{static{a(this,"InMemoryThrottlerCache")}#e=new Map;#t=1e4;getItem(e){if(this.#e.size>this.#t){this.#e.clear();return}return this.#e.get(e)}setItem(e,t){this.#e.set(e,t)}removeItem(e){this.#e.delete(e)}};function Xne(e){return typeof e=="object"&&e!==null&&"constructor"in e&&typeof e.constructor=="function"}a(Xne,"isWindowClerkWithMetadata");var Yne=new Set(["error","warn","info","debug","trace"]),lE={samplingRate:1,maxBufferSize:5,endpoint:"https://clerk-telemetry.com"},dE=class{static{a(this,"TelemetryCollector")}#e;#t;#r={};#i=[];#n=null;constructor(e){this.#e={maxBufferSize:e.maxBufferSize??lE.maxBufferSize,samplingRate:e.samplingRate??lE.samplingRate,perEventSampling:e.perEventSampling??!0,disabled:e.disabled??!1,debug:e.debug??!1,endpoint:lE.endpoint},!e.clerkVersion&&typeof window>"u"?this.#r.clerkVersion="":this.#r.clerkVersion=e.clerkVersion??"",this.#r.sdk=e.sdk,this.#r.sdkVersion=e.sdkVersion,this.#r.publishableKey=e.publishableKey??"";let t=pa(e.publishableKey);t&&(this.#r.instanceType=t.instanceType),e.secretKey&&(this.#r.secretKey=e.secretKey.substring(0,16)),this.#t=new Wne(tU.isSupported()?new tU:new Qne)}get isEnabled(){return!(this.#r.instanceType!=="development"||this.#e.disabled||typeof process<"u"&&process.env&&cE(process.env.CLERK_TELEMETRY_DISABLED)||typeof window<"u"&&window?.navigator?.webdriver)}get isDebug(){return this.#e.debug||typeof process<"u"&&process.env&&cE(process.env.CLERK_TELEMETRY_DEBUG)}record(e){try{let t=this.#s(e.event,e.payload);if(this.#p(t.event,t),!this.#o(t,e.eventSamplingRate))return;this.#i.push({kind:"event",value:t}),this.#u()}catch(t){console.error("[clerk/telemetry] Error recording telemetry event",t)}}recordLog(e){try{if(!this.#d(e))return;let t=typeof e?.level=="string"&&Yne.has(e.level),r=typeof e?.message=="string"&&e.message.trim().length>0,n=null,o=e?.timestamp;if(typeof o=="number"||typeof o=="string"){let u=new Date(o);Number.isNaN(u.getTime())||(n=u)}if(!t||!r||n===null){this.isDebug&&typeof console<"u"&&console.warn("[clerk/telemetry] Dropping invalid telemetry log entry",{levelIsValid:t,messageIsValid:r,timestampIsValid:n!==null});return}let i=this.#l(),s={sdk:i.name,sdkv:i.version,cv:this.#r.clerkVersion??"",lvl:e.level,msg:e.message,ts:n.toISOString(),pk:this.#r.publishableKey||null,payload:this.#m(e.context)};this.#i.push({kind:"log",value:s}),this.#u()}catch(t){console.error("[clerk/telemetry] Error recording telemetry log entry",t)}}#o(e,t){return this.isEnabled&&!this.isDebug&&this.#c(e,t)}#d(e){return!0}#c(e,t){let r=Math.random();return r<=this.#e.samplingRate&&(this.#e.perEventSampling===!1||typeof t>"u"||r<=t)?!this.#t.isEventThrottled(e):!1}#u(){if(typeof window>"u"){this.#a();return}if(this.#i.length>=this.#e.maxBufferSize){this.#n&&(typeof cancelIdleCallback<"u"?cancelIdleCallback(Number(this.#n)):clearTimeout(Number(this.#n))),this.#a();return}this.#n||("requestIdleCallback"in window?this.#n=requestIdleCallback(()=>{this.#a(),this.#n=null}):this.#n=setTimeout(()=>{this.#a(),this.#n=null},0))}#a(){let e=[...this.#i];if(this.#i=[],this.#n=null,e.length===0)return;let t=e.filter(n=>n.kind==="event").map(n=>n.value),r=e.filter(n=>n.kind==="log").map(n=>n.value);if(t.length>0){let n=new URL("/v1/event",this.#e.endpoint);fetch(n,{headers:{"Content-Type":"application/json"},keepalive:!0,method:"POST",body:JSON.stringify({events:t})}).catch(()=>{})}if(r.length>0){let n=new URL("/v1/logs",this.#e.endpoint);fetch(n,{headers:{"Content-Type":"application/json"},keepalive:!0,method:"POST",body:JSON.stringify({logs:r})}).catch(()=>{})}}#p(e,t){this.isDebug&&(typeof console.groupCollapsed<"u"?(console.groupCollapsed("[clerk/telemetry]",e),console.log(t),console.groupEnd()):console.log("[clerk/telemetry]",e,t))}#l(){let e={name:this.#r.sdk,version:this.#r.sdkVersion};if(typeof window<"u"){let t=window;if(t.Clerk){let r=t.Clerk;if(Xne(r)&&r.constructor.sdkMetadata){let{name:n,version:o}=r.constructor.sdkMetadata;n!==void 0&&(e.name=n),o!==void 0&&(e.version=o)}}}return e}#s(e,t){let r=this.#l();return{event:e,cv:this.#r.clerkVersion??"",it:this.#r.instanceType??"",sdk:r.name,sdkv:r.version,...this.#r.publishableKey?{pk:this.#r.publishableKey}:{},...this.#r.secretKey?{sk:this.#r.secretKey}:{},payload:t}}#m(e){if(e===null||typeof e>"u"||typeof e!="object")return null;try{let t=JSON.parse(JSON.stringify(e));return t&&typeof t=="object"&&!Array.isArray(t)?t:null}catch{return null}}};var pE=Y2(ga);function ph(e){let t={...e},r=Du(t),n=X2({options:t,apiClient:r}),o=new dE({publishableKey:t.publishableKey,secretKey:t.secretKey,samplingRate:.1,...t.sdkMetadata?{sdk:t.sdkMetadata.name,sdkVersion:t.sdkMetadata.version}:{},...t.telemetry||{}});return{...r,...n,telemetry:o}}a(ph,"createClerkClient");var mh=a(e=>e,"createMiddleware");Zn();function mE(){let e=process.env.CLERK_SECRET_KEY,t=process.env.VITE_CLERK_PUBLISHABLE_KEY;if(!e)throw new Error("CLERK_SECRET_KEY environment variable is not set");return{secretKey:e,publishableKey:t}}a(mE,"getClerkConfig");function rU(){let{secretKey:e}=mE();return ph({secretKey:e})}a(rU,"getClerkClient");var nU=mh(async(e,t)=>{let r=e.req.header("Authorization"),n=r?.startsWith("Bearer ")?r.replace("Bearer ","").trim():null,o=e.get("requestId")||"unknown",i=e.req.header("X-Forwarded-For")||e.req.header("X-Real-IP")||"unknown";if(!n)return L.warn("Authentication failed: No token provided",{ip:i,method:e.req.method,path:e.req.path,requestId:o,userAgent:e.req.header("User-Agent")}),e.json({code:"AUTH_REQUIRED",error:"Authentication required"},401);try{let{secretKey:s}=mE(),u=rU(),l=await pE(n,{secretKey:s});if(!l?.sub)return L.warn("Authentication failed: Invalid token",{ip:i,method:e.req.method,path:e.req.path,requestId:o,userAgent:e.req.header("User-Agent")}),e.json({code:"INVALID_TOKEN",error:"Invalid authentication token"},401);let d=l.sub,p=await u.users.getUser(d),m={db:xr(),clerkUser:p,user:{id:p.id,email:p.emailAddresses[0]?.emailAddress||"",fullName:`${p.firstName||""} ${p.lastName||""}`.trim()||null,role:p.publicMetadata?.role,metadata:p.publicMetadata}};e.set("auth",m),L.info("Authentication successful",{ip:i,method:e.req.method,path:e.req.path,requestId:o,userId:p.id}),await t()}catch(s){return L.error("Authentication error",{error:s instanceof Error?s.message:"Unknown error",ip:i,method:e.req.method,path:e.req.path,requestId:o,userAgent:e.req.header("User-Agent")}),e.json({code:"AUTH_ERROR",error:"Authentication failed"},500)}}),eoe=mh(async(e,t)=>{let r=e.req.header("Authorization"),n=r?.startsWith("Bearer ")?r.replace("Bearer ","").trim():null;if(!n){await t();return}try{let{secretKey:o}=mE(),i=rU(),s=await pE(n,{secretKey:o});if(!s?.sub){await t();return}let u=s.sub,l=await i.users.getUser(u),p={db:xr(),clerkUser:l,user:{id:l.id,email:l.emailAddresses[0]?.emailAddress||"",fullName:`${l.firstName||""} ${l.lastName||""}`.trim()||null,role:l.publicMetadata?.role,metadata:l.publicMetadata}};e.set("auth",p),await t()}catch{await t()}});function oU(e){let{windowMs:t,max:r,message:n="Too many requests"}=e,o=new Map;return mh(async(i,s)=>{let l=i.get("auth")?.user.id||i.req.header("X-Forwarded-For")||i.req.header("X-Real-IP")||"unknown",d=Date.now(),p=o.get(l);if(!p||d>p.resetTime)o.set(l,{count:1,resetTime:d+t});else if(p.count++,p.count>r){let m=Math.ceil((p.resetTime-d)/1e3);return i.json({code:"RATE_LIMIT_EXCEEDED",details:{limit:r,windowMs:t,retryAfter:m},error:n},429)}let f=o.get(l);f&&(i.header("X-RateLimit-Limit",r.toString()),i.header("X-RateLimit-Remaining",Math.max(0,r-f.count).toString()),i.header("X-RateLimit-Reset",new Date(f.resetTime).toISOString())),await s()})}a(oU,"clerkUserRateLimitMiddleware");var me=nU;var xe=oU;var fE=new Oe;fE.get("/",me,async e=>{let t=e.get("requestId");try{let{user:r}=e.get("auth"),n=r.id;if(!n)return e.json({code:"UNAUTHORIZED",error:"User not authenticated"},401);let o=e.req.query("refresh")==="true",s=await new Jf(n).getContext(o);return L.info("Financial context retrieved",{forceRefresh:o,requestId:t,userId:n}),e.json({context:s,formatted:{alertsBlock:CM(s.pendingAlerts),financialBlock:AM(s)},meta:{requestId:t,retrievedAt:new Date().toISOString()}})}catch(r){return L.error("Error fetching financial context",{error:r instanceof Error?r.message:"Unknown error",requestId:t}),e.json({code:"CONTEXT_ERROR",error:r instanceof Error?r.message:"Failed to fetch context"},500)}});var toe=/^[\w!#$%&'*.^`|~+-]+$/,roe=/^[ !#-:<-[\]-~]*$/,hE=a((e,t)=>{if(t&&e.indexOf(t)===-1)return{};let r=e.trim().split(";"),n={};for(let o of r){o=o.trim();let i=o.indexOf("=");if(i===-1)continue;let s=o.substring(0,i).trim();if(t&&t!==s||!toe.test(s))continue;let u=o.substring(i+1).trim();if(u.startsWith('"')&&u.endsWith('"')&&(u=u.slice(1,-1)),roe.test(u)&&(n[s]=u.indexOf("%")!==-1?Ys(u,ol):u,t))break}return n},"parse");var iU=a((e,t,r)=>{let n=e.req.raw.headers.get("Cookie");if(typeof t=="string"){if(!n)return;let i=t;return r==="secure"?i="__Secure-"+t:r==="host"&&(i="__Host-"+t),hE(n,i)[i]}return n?hE(n):{}},"getCookie");var aU=a((e,t)=>new Response(e,{headers:{"Content-Type":t}}).formData(),"bufferToFormData");var noe=/^application\/([a-z-\.]+\+)?json(;\s*[a-zA-Z0-9\-]+\=([^;]+))*$/,ooe=/^multipart\/form-data(;\s?boundary=[a-zA-Z0-9'"()+_,\-./:=?]+)?$/,ioe=/^application\/x-www-form-urlencoded(;\s*[a-zA-Z0-9\-]+\=([^;]+))*$/,gE=a((e,t)=>async(r,n)=>{let o={},i=r.req.header("Content-Type");switch(e){case"json":if(!i||!noe.test(i))break;try{o=await r.req.json()}catch{let u="Malformed JSON in request body";throw new jm(400,{message:u})}break;case"form":{if(!i||!(ooe.test(i)||ioe.test(i)))break;let u;if(r.req.bodyCache.formData)u=await r.req.bodyCache.formData;else try{let d=await r.req.arrayBuffer();u=await aU(d,i),r.req.bodyCache.formData=u}catch(d){let p="Malformed FormData request.";throw p+=d instanceof Error?` ${d.message}`:` ${String(d)}`,new jm(400,{message:p})}let l={};u.forEach((d,p)=>{p.endsWith("[]")?(l[p]??=[]).push(d):Array.isArray(l[p])?l[p].push(d):p in l?l[p]=[l[p],d]:l[p]=d}),o=l;break}case"query":o=Object.fromEntries(Object.entries(r.req.queries()).map(([u,l])=>l.length===1?[u,l[0]]:[u,l]));break;case"param":o=r.req.param();break;case"header":o=r.req.header();break;case"cookie":o=iU(r);break}let s=await t(o,r);return s instanceof Response?s:(r.req.addValidatedData(e,s),await n())},"validator");function aoe(e,t,r,n){return gE(e,async(o,i)=>{let s=o;if(e==="header"&&"_def"in t||e==="header"&&"_zod"in t){let l=Object.keys("in"in t?t.in.shape:t.shape),d=Object.fromEntries(l.map(p=>[p.toLowerCase(),p]));s=Object.fromEntries(Object.entries(o).map(([p,f])=>[d[p]||p,f]))}let u=n&&n.validationFunction?await n.validationFunction(t,s):await t.safeParseAsync(s);if(r){let l=await r({data:s,...u,target:e},i);if(l){if(l instanceof Response)return l;if("response"in l)return l.response}}return u.success?u.data:i.json(u,400)})}a(aoe,"zValidatorFunction");var Be=aoe;var c={};yn(c,{$brand:()=>fh,$input:()=>EO,$output:()=>kO,NEVER:()=>yE,TimePrecision:()=>AO,ZodAny:()=>KU,ZodArray:()=>XU,ZodBase64:()=>ZA,ZodBase64URL:()=>KA,ZodBigInt:()=>Gd,ZodBigIntFormat:()=>QA,ZodBoolean:()=>Kd,ZodCIDRv4:()=>HA,ZodCIDRv6:()=>VA,ZodCUID:()=>MA,ZodCUID2:()=>qA,ZodCatch:()=>yL,ZodCodec:()=>sC,ZodCustom:()=>_g,ZodCustomStringFormat:()=>Vd,ZodDate:()=>gg,ZodDefault:()=>dL,ZodDiscriminatedUnion:()=>YU,ZodE164:()=>GA,ZodEmail:()=>jA,ZodEmoji:()=>zA,ZodEnum:()=>Bd,ZodError:()=>Dae,ZodFile:()=>uL,ZodFirstPartyTypeKind:()=>uC,ZodFunction:()=>EL,ZodGUID:()=>dg,ZodIPv4:()=>JA,ZodIPv6:()=>BA,ZodISODate:()=>sg,ZodISODateTime:()=>ag,ZodISODuration:()=>cg,ZodISOTime:()=>ug,ZodIntersection:()=>eL,ZodIssueCode:()=>Qse,ZodJWT:()=>WA,ZodKSUID:()=>FA,ZodLazy:()=>xL,ZodLiteral:()=>sL,ZodMAC:()=>LU,ZodMap:()=>iL,ZodNaN:()=>_L,ZodNanoID:()=>DA,ZodNever:()=>WU,ZodNonOptional:()=>iC,ZodNull:()=>VU,ZodNullable:()=>lL,ZodNumber:()=>Zd,ZodNumberFormat:()=>Xu,ZodObject:()=>vg,ZodOptional:()=>oC,ZodPipe:()=>aC,ZodPrefault:()=>mL,ZodPromise:()=>kL,ZodReadonly:()=>bL,ZodRealError:()=>kn,ZodRecord:()=>tC,ZodSet:()=>aL,ZodString:()=>Hd,ZodStringFormat:()=>Ut,ZodSuccess:()=>gL,ZodSymbol:()=>BU,ZodTemplateLiteral:()=>wL,ZodTransform:()=>cL,ZodTuple:()=>rL,ZodType:()=>rt,ZodULID:()=>UA,ZodURL:()=>hg,ZodUUID:()=>Ri,ZodUndefined:()=>HU,ZodUnion:()=>YA,ZodUnknown:()=>GU,ZodVoid:()=>QU,ZodXID:()=>LA,_ZodString:()=>NA,_default:()=>pL,_function:()=>Fse,any:()=>wse,array:()=>yg,base64:()=>ise,base64url:()=>ase,bigint:()=>yse,boolean:()=>JU,catch:()=>vL,check:()=>Jse,cidrv4:()=>nse,cidrv6:()=>ose,clone:()=>tn,codec:()=>qse,coerce:()=>cC,config:()=>yr,core:()=>Ai,cuid:()=>Gae,cuid2:()=>Wae,custom:()=>Bse,date:()=>Tse,decode:()=>kA,decodeAsync:()=>PA,describe:()=>Hse,discriminatedUnion:()=>Ose,e164:()=>sse,email:()=>qae,emoji:()=>Zae,encode:()=>TA,encodeAsync:()=>EA,endsWith:()=>zd,enum:()=>rC,file:()=>jse,flattenError:()=>hd,float32:()=>mse,float64:()=>fse,formatError:()=>gd,function:()=>Fse,getErrorMap:()=>Yse,globalRegistry:()=>rn,gt:()=>Ii,gte:()=>Tn,guid:()=>Uae,hash:()=>pse,hex:()=>dse,hostname:()=>lse,httpUrl:()=>Vae,includes:()=>Nd,instanceof:()=>Zse,int:()=>$A,int32:()=>hse,int64:()=>vse,intersection:()=>tL,ipv4:()=>ese,ipv6:()=>rse,iso:()=>lg,json:()=>Gse,jwt:()=>use,keyof:()=>kse,ksuid:()=>Yae,lazy:()=>TL,length:()=>Gu,literal:()=>Nse,locales:()=>Pd,looseObject:()=>Ise,lowercase:()=>Rd,lt:()=>Pi,lte:()=>Qn,mac:()=>tse,map:()=>Cse,maxLength:()=>Ku,maxSize:()=>Zu,meta:()=>Vse,mime:()=>Dd,minLength:()=>xa,minSize:()=>ys,multipleOf:()=>gs,nan:()=>Mse,nanoid:()=>Kae,nativeEnum:()=>$se,negative:()=>iA,never:()=>XA,nonnegative:()=>sA,nonoptional:()=>hL,nonpositive:()=>aA,normalize:()=>Md,null:()=>ZU,nullable:()=>mg,nullish:()=>zse,number:()=>FU,object:()=>Ese,optional:()=>pg,overwrite:()=>Ko,parse:()=>SA,parseAsync:()=>wA,partialRecord:()=>Ase,pipe:()=>fg,positive:()=>oA,prefault:()=>fL,preprocess:()=>Wse,prettifyError:()=>OE,promise:()=>Lse,property:()=>uA,readonly:()=>SL,record:()=>oL,refine:()=>PL,regex:()=>Cd,regexes:()=>Wn,registry:()=>qh,safeDecode:()=>OA,safeDecodeAsync:()=>CA,safeEncode:()=>IA,safeEncodeAsync:()=>AA,safeParse:()=>xA,safeParseAsync:()=>Ci,set:()=>Rse,setErrorMap:()=>Xse,size:()=>Ad,slugify:()=>Fd,startsWith:()=>jd,strictObject:()=>Pse,string:()=>RA,stringFormat:()=>cse,stringbool:()=>Kse,success:()=>Dse,superRefine:()=>IL,symbol:()=>bse,templateLiteral:()=>Use,toJSONSchema:()=>Oi,toLowerCase:()=>Ud,toUpperCase:()=>Ld,transform:()=>nC,treeifyError:()=>IE,trim:()=>qd,tuple:()=>nL,uint32:()=>gse,uint64:()=>_se,ulid:()=>Qae,undefined:()=>Sse,union:()=>eC,unknown:()=>Qu,uppercase:()=>$d,url:()=>Hae,util:()=>de,uuid:()=>Lae,uuidv4:()=>Fae,uuidv6:()=>Jae,uuidv7:()=>Bae,void:()=>xse,xid:()=>Xae});var Ai={};yn(Ai,{$ZodAny:()=>oI,$ZodArray:()=>cI,$ZodAsyncError:()=>So,$ZodBase64:()=>KP,$ZodBase64URL:()=>GP,$ZodBigInt:()=>zh,$ZodBigIntFormat:()=>eI,$ZodBoolean:()=>bd,$ZodCIDRv4:()=>HP,$ZodCIDRv6:()=>VP,$ZodCUID:()=>$P,$ZodCUID2:()=>NP,$ZodCatch:()=>EI,$ZodCheck:()=>qt,$ZodCheckBigIntFormat:()=>cP,$ZodCheckEndsWith:()=>SP,$ZodCheckGreaterThan:()=>Oh,$ZodCheckIncludes:()=>_P,$ZodCheckLengthEquals:()=>hP,$ZodCheckLessThan:()=>Ih,$ZodCheckLowerCase:()=>yP,$ZodCheckMaxLength:()=>mP,$ZodCheckMaxSize:()=>lP,$ZodCheckMimeType:()=>xP,$ZodCheckMinLength:()=>fP,$ZodCheckMinSize:()=>dP,$ZodCheckMultipleOf:()=>sP,$ZodCheckNumberFormat:()=>uP,$ZodCheckOverwrite:()=>TP,$ZodCheckProperty:()=>wP,$ZodCheckRegex:()=>gP,$ZodCheckSizeEquals:()=>pP,$ZodCheckStartsWith:()=>bP,$ZodCheckStringFormat:()=>Hu,$ZodCheckUpperCase:()=>vP,$ZodCodec:()=>Sd,$ZodCustom:()=>NI,$ZodCustomStringFormat:()=>XP,$ZodDate:()=>uI,$ZodDefault:()=>wI,$ZodDiscriminatedUnion:()=>dI,$ZodE164:()=>WP,$ZodEmail:()=>OP,$ZodEmoji:()=>CP,$ZodEncodeError:()=>ya,$ZodEnum:()=>gI,$ZodError:()=>fd,$ZodFile:()=>vI,$ZodFunction:()=>CI,$ZodGUID:()=>PP,$ZodIPv4:()=>FP,$ZodIPv6:()=>JP,$ZodISODate:()=>qP,$ZodISODateTime:()=>MP,$ZodISODuration:()=>LP,$ZodISOTime:()=>UP,$ZodIntersection:()=>pI,$ZodJWT:()=>QP,$ZodKSUID:()=>DP,$ZodLazy:()=>$I,$ZodLiteral:()=>yI,$ZodMAC:()=>BP,$ZodMap:()=>fI,$ZodNaN:()=>PI,$ZodNanoID:()=>RP,$ZodNever:()=>aI,$ZodNonOptional:()=>TI,$ZodNull:()=>nI,$ZodNullable:()=>SI,$ZodNumber:()=>jh,$ZodNumberFormat:()=>YP,$ZodObject:()=>RU,$ZodObjectJIT:()=>lI,$ZodOptional:()=>bI,$ZodPipe:()=>II,$ZodPrefault:()=>xI,$ZodPromise:()=>RI,$ZodReadonly:()=>OI,$ZodRealError:()=>xn,$ZodRecord:()=>mI,$ZodRegistry:()=>Vu,$ZodSet:()=>hI,$ZodString:()=>hs,$ZodStringFormat:()=>jt,$ZodSuccess:()=>kI,$ZodSymbol:()=>tI,$ZodTemplateLiteral:()=>AI,$ZodTransform:()=>_I,$ZodTuple:()=>Mh,$ZodType:()=>He,$ZodULID:()=>jP,$ZodURL:()=>AP,$ZodUUID:()=>IP,$ZodUndefined:()=>rI,$ZodUnion:()=>Dh,$ZodUnknown:()=>iI,$ZodVoid:()=>sI,$ZodXID:()=>zP,$brand:()=>fh,$constructor:()=>B,$input:()=>EO,$output:()=>kO,Doc:()=>_d,JSONSchema:()=>MU,JSONSchemaGenerator:()=>Jd,NEVER:()=>yE,TimePrecision:()=>AO,_any:()=>QO,_array:()=>cA,_base64:()=>rg,_base64url:()=>ng,_bigint:()=>BO,_boolean:()=>FO,_catch:()=>Aae,_check:()=>DU,_cidrv4:()=>eg,_cidrv6:()=>tg,_coercedBigint:()=>HO,_coercedBoolean:()=>JO,_coercedDate:()=>rA,_coercedNumber:()=>zO,_coercedString:()=>IO,_cuid:()=>Zh,_cuid2:()=>Kh,_custom:()=>dA,_date:()=>tA,_decode:()=>bh,_decodeAsync:()=>wh,_default:()=>Pae,_discriminatedUnion:()=>hae,_e164:()=>og,_email:()=>Uh,_emoji:()=>Hh,_encode:()=>_h,_encodeAsync:()=>Sh,_endsWith:()=>zd,_enum:()=>Sae,_file:()=>lA,_float32:()=>MO,_float64:()=>qO,_gt:()=>Ii,_gte:()=>Tn,_guid:()=>Id,_includes:()=>Nd,_int:()=>DO,_int32:()=>UO,_int64:()=>VO,_intersection:()=>gae,_ipv4:()=>Xh,_ipv6:()=>Yh,_isoDate:()=>RO,_isoDateTime:()=>CO,_isoDuration:()=>NO,_isoTime:()=>$O,_jwt:()=>ig,_ksuid:()=>Qh,_lazy:()=>Nae,_length:()=>Gu,_literal:()=>xae,_lowercase:()=>Rd,_lt:()=>Pi,_lte:()=>Qn,_mac:()=>OO,_map:()=>_ae,_max:()=>Qn,_maxLength:()=>Ku,_maxSize:()=>Zu,_mime:()=>Dd,_min:()=>Tn,_minLength:()=>xa,_minSize:()=>ys,_multipleOf:()=>gs,_nan:()=>nA,_nanoid:()=>Vh,_nativeEnum:()=>wae,_negative:()=>iA,_never:()=>YO,_nonnegative:()=>sA,_nonoptional:()=>Iae,_nonpositive:()=>aA,_normalize:()=>Md,_null:()=>WO,_nullable:()=>Eae,_number:()=>jO,_optional:()=>kae,_overwrite:()=>Ko,_parse:()=>Lu,_parseAsync:()=>Fu,_pipe:()=>Cae,_positive:()=>oA,_promise:()=>jae,_property:()=>uA,_readonly:()=>Rae,_record:()=>vae,_refine:()=>pA,_regex:()=>Cd,_safeDecode:()=>Th,_safeDecodeAsync:()=>Eh,_safeEncode:()=>xh,_safeEncodeAsync:()=>kh,_safeParse:()=>Ju,_safeParseAsync:()=>Bu,_set:()=>bae,_size:()=>Ad,_slugify:()=>Fd,_startsWith:()=>jd,_string:()=>PO,_stringFormat:()=>Wu,_stringbool:()=>gA,_success:()=>Oae,_superRefine:()=>mA,_symbol:()=>KO,_templateLiteral:()=>$ae,_toLowerCase:()=>Ud,_toUpperCase:()=>Ld,_transform:()=>Tae,_trim:()=>qd,_tuple:()=>yae,_uint32:()=>LO,_uint64:()=>ZO,_ulid:()=>Gh,_undefined:()=>GO,_union:()=>fae,_unknown:()=>XO,_uppercase:()=>$d,_url:()=>Od,_uuid:()=>Lh,_uuidv4:()=>Fh,_uuidv6:()=>Jh,_uuidv7:()=>Bh,_void:()=>eA,_xid:()=>Wh,clone:()=>tn,config:()=>yr,decode:()=>Noe,decodeAsync:()=>zoe,describe:()=>fA,encode:()=>$oe,encodeAsync:()=>joe,flattenError:()=>hd,formatError:()=>gd,globalConfig:()=>sd,globalRegistry:()=>rn,isValidBase64:()=>ZP,isValidBase64URL:()=>IU,isValidJWT:()=>OU,locales:()=>Pd,meta:()=>hA,parse:()=>yh,parseAsync:()=>vh,prettifyError:()=>OE,regexes:()=>Wn,registry:()=>qh,safeDecode:()=>Moe,safeDecodeAsync:()=>Uoe,safeEncode:()=>Doe,safeEncodeAsync:()=>qoe,safeParse:()=>AE,safeParseAsync:()=>CE,toDotPath:()=>dU,toJSONSchema:()=>Oi,treeifyError:()=>IE,util:()=>de,version:()=>kP});var yE=Object.freeze({status:"aborted"});function B(e,t,r){function n(u,l){if(u._zod||Object.defineProperty(u,"_zod",{value:{def:l,constr:s,traits:new Set},enumerable:!1}),u._zod.traits.has(e))return;u._zod.traits.add(e),t(u,l);let d=s.prototype,p=Object.keys(d);for(let f=0;f<p.length;f++){let m=p[f];m in u||(u[m]=d[m].bind(u))}}a(n,"init");let o=r?.Parent??Object;class i extends o{static{a(this,"Definition")}}Object.defineProperty(i,"name",{value:e});function s(u){var l;let d=r?.Parent?new i:this;n(d,u),(l=d._zod).deferred??(l.deferred=[]);for(let p of d._zod.deferred)p();return d}return a(s,"_"),Object.defineProperty(s,"init",{value:n}),Object.defineProperty(s,Symbol.hasInstance,{value:a(u=>r?.Parent&&u instanceof r.Parent?!0:u?._zod?.traits?.has(e),"value")}),Object.defineProperty(s,"name",{value:e}),s}a(B,"$constructor");var fh=Symbol("zod_brand"),So=class extends Error{static{a(this,"$ZodAsyncError")}constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}},ya=class extends Error{static{a(this,"$ZodEncodeError")}constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}},sd={};function yr(e){return e&&Object.assign(sd,e),sd}a(yr,"config");var de={};yn(de,{BIGINT_FORMAT_RANGES:()=>PE,Class:()=>_E,NUMBER_FORMAT_RANGES:()=>EE,aborted:()=>wa,allowsEval:()=>wE,assert:()=>doe,assertEqual:()=>soe,assertIs:()=>coe,assertNever:()=>loe,assertNotEqual:()=>uoe,assignProp:()=>_a,base64ToUint8Array:()=>uU,base64urlToUint8Array:()=>Ioe,cached:()=>qu,captureStackTrace:()=>gh,cleanEnum:()=>Poe,cleanRegex:()=>ld,clone:()=>tn,cloneDef:()=>moe,createTransparentProxy:()=>_oe,defineLazy:()=>dt,esc:()=>hh,escapeRegex:()=>Gn,extend:()=>woe,finalizeIssue:()=>zn,floatSafeRemainder:()=>bE,getElementAtPath:()=>foe,getEnumValues:()=>cd,getLengthableOrigin:()=>md,getParsedType:()=>voe,getSizableOrigin:()=>pd,hexToUint8Array:()=>Aoe,isObject:()=>ms,isPlainObject:()=>Sa,issue:()=>Uu,joinValues:()=>ee,jsonStringifyReplacer:()=>Mu,merge:()=>Toe,mergeDefs:()=>ba,normalizeParams:()=>le,nullish:()=>va,numKeys:()=>yoe,objectClone:()=>poe,omit:()=>Soe,optionalKeys:()=>kE,partial:()=>koe,pick:()=>boe,prefixIssues:()=>jn,primitiveTypes:()=>TE,promiseAllObject:()=>hoe,propertyKeyTypes:()=>dd,randomString:()=>goe,required:()=>Eoe,safeExtend:()=>xoe,shallowClone:()=>xE,slugify:()=>SE,stringifyPrimitive:()=>ce,uint8ArrayToBase64:()=>cU,uint8ArrayToBase64url:()=>Ooe,uint8ArrayToHex:()=>Coe,unwrapMessage:()=>ud});function soe(e){return e}a(soe,"assertEqual");function uoe(e){return e}a(uoe,"assertNotEqual");function coe(e){}a(coe,"assertIs");function loe(e){throw new Error}a(loe,"assertNever");function doe(e){}a(doe,"assert");function cd(e){let t=Object.values(e).filter(n=>typeof n=="number");return Object.entries(e).filter(([n,o])=>t.indexOf(+n)===-1).map(([n,o])=>o)}a(cd,"getEnumValues");function ee(e,t="|"){return e.map(r=>ce(r)).join(t)}a(ee,"joinValues");function Mu(e,t){return typeof t=="bigint"?t.toString():t}a(Mu,"jsonStringifyReplacer");function qu(e){return{get value(){{let r=e();return Object.defineProperty(this,"value",{value:r}),r}throw new Error("cached value already set")}}}a(qu,"cached");function va(e){return e==null}a(va,"nullish");function ld(e){let t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}a(ld,"cleanRegex");function bE(e,t){let r=(e.toString().split(".")[1]||"").length,n=t.toString(),o=(n.split(".")[1]||"").length;if(o===0&&/\d?e-\d?/.test(n)){let l=n.match(/\d?e-(\d?)/);l?.[1]&&(o=Number.parseInt(l[1]))}let i=r>o?r:o,s=Number.parseInt(e.toFixed(i).replace(".","")),u=Number.parseInt(t.toFixed(i).replace(".",""));return s%u/10**i}a(bE,"floatSafeRemainder");var sU=Symbol("evaluating");function dt(e,t,r){let n;Object.defineProperty(e,t,{get(){if(n!==sU)return n===void 0&&(n=sU,n=r()),n},set(o){Object.defineProperty(e,t,{value:o})},configurable:!0})}a(dt,"defineLazy");function poe(e){return Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e))}a(poe,"objectClone");function _a(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}a(_a,"assignProp");function ba(...e){let t={};for(let r of e){let n=Object.getOwnPropertyDescriptors(r);Object.assign(t,n)}return Object.defineProperties({},t)}a(ba,"mergeDefs");function moe(e){return ba(e._zod.def)}a(moe,"cloneDef");function foe(e,t){return t?t.reduce((r,n)=>r?.[n],e):e}a(foe,"getElementAtPath");function hoe(e){let t=Object.keys(e),r=t.map(n=>e[n]);return Promise.all(r).then(n=>{let o={};for(let i=0;i<t.length;i++)o[t[i]]=n[i];return o})}a(hoe,"promiseAllObject");function goe(e=10){let t="abcdefghijklmnopqrstuvwxyz",r="";for(let n=0;n<e;n++)r+=t[Math.floor(Math.random()*t.length)];return r}a(goe,"randomString");function hh(e){return JSON.stringify(e)}a(hh,"esc");function SE(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}a(SE,"slugify");var gh="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function ms(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}a(ms,"isObject");var wE=qu(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{let e=Function;return new e(""),!0}catch{return!1}});function Sa(e){if(ms(e)===!1)return!1;let t=e.constructor;if(t===void 0||typeof t!="function")return!0;let r=t.prototype;return!(ms(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}a(Sa,"isPlainObject");function xE(e){return Sa(e)?{...e}:Array.isArray(e)?[...e]:e}a(xE,"shallowClone");function yoe(e){let t=0;for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}a(yoe,"numKeys");var voe=a(e=>{let t=typeof e;switch(t){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(e)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":return Array.isArray(e)?"array":e===null?"null":e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?"promise":typeof Map<"u"&&e instanceof Map?"map":typeof Set<"u"&&e instanceof Set?"set":typeof Date<"u"&&e instanceof Date?"date":typeof File<"u"&&e instanceof File?"file":"object";default:throw new Error(`Unknown data type: ${t}`)}},"getParsedType"),dd=new Set(["string","number","symbol"]),TE=new Set(["string","number","bigint","boolean","symbol","undefined"]);function Gn(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}a(Gn,"escapeRegex");function tn(e,t,r){let n=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(n._zod.parent=e),n}a(tn,"clone");function le(e){let t=e;if(!t)return{};if(typeof t=="string")return{error:a(()=>t,"error")};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:a(()=>t.error,"error")}:t}a(le,"normalizeParams");function _oe(e){let t;return new Proxy({},{get(r,n,o){return t??(t=e()),Reflect.get(t,n,o)},set(r,n,o,i){return t??(t=e()),Reflect.set(t,n,o,i)},has(r,n){return t??(t=e()),Reflect.has(t,n)},deleteProperty(r,n){return t??(t=e()),Reflect.deleteProperty(t,n)},ownKeys(r){return t??(t=e()),Reflect.ownKeys(t)},getOwnPropertyDescriptor(r,n){return t??(t=e()),Reflect.getOwnPropertyDescriptor(t,n)},defineProperty(r,n,o){return t??(t=e()),Reflect.defineProperty(t,n,o)}})}a(_oe,"createTransparentProxy");function ce(e){return typeof e=="bigint"?e.toString()+"n":typeof e=="string"?`"${e}"`:`${e}`}a(ce,"stringifyPrimitive");function kE(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}a(kE,"optionalKeys");var EE={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},PE={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function boe(e,t){let r=e._zod.def,n=ba(e._zod.def,{get shape(){let o={};for(let i in t){if(!(i in r.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&(o[i]=r.shape[i])}return _a(this,"shape",o),o},checks:[]});return tn(e,n)}a(boe,"pick");function Soe(e,t){let r=e._zod.def,n=ba(e._zod.def,{get shape(){let o={...e._zod.def.shape};for(let i in t){if(!(i in r.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&delete o[i]}return _a(this,"shape",o),o},checks:[]});return tn(e,n)}a(Soe,"omit");function woe(e,t){if(!Sa(t))throw new Error("Invalid input to extend: expected a plain object");let r=e._zod.def.checks;if(r&&r.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");let o=ba(e._zod.def,{get shape(){let i={...e._zod.def.shape,...t};return _a(this,"shape",i),i},checks:[]});return tn(e,o)}a(woe,"extend");function xoe(e,t){if(!Sa(t))throw new Error("Invalid input to safeExtend: expected a plain object");let r={...e._zod.def,get shape(){let n={...e._zod.def.shape,...t};return _a(this,"shape",n),n},checks:e._zod.def.checks};return tn(e,r)}a(xoe,"safeExtend");function Toe(e,t){let r=ba(e._zod.def,{get shape(){let n={...e._zod.def.shape,...t._zod.def.shape};return _a(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return tn(e,r)}a(Toe,"merge");function koe(e,t,r){let n=ba(t._zod.def,{get shape(){let o=t._zod.def.shape,i={...o};if(r)for(let s in r){if(!(s in o))throw new Error(`Unrecognized key: "${s}"`);r[s]&&(i[s]=e?new e({type:"optional",innerType:o[s]}):o[s])}else for(let s in o)i[s]=e?new e({type:"optional",innerType:o[s]}):o[s];return _a(this,"shape",i),i},checks:[]});return tn(t,n)}a(koe,"partial");function Eoe(e,t,r){let n=ba(t._zod.def,{get shape(){let o=t._zod.def.shape,i={...o};if(r)for(let s in r){if(!(s in i))throw new Error(`Unrecognized key: "${s}"`);r[s]&&(i[s]=new e({type:"nonoptional",innerType:o[s]}))}else for(let s in o)i[s]=new e({type:"nonoptional",innerType:o[s]});return _a(this,"shape",i),i},checks:[]});return tn(t,n)}a(Eoe,"required");function wa(e,t=0){if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}a(wa,"aborted");function jn(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}a(jn,"prefixIssues");function ud(e){return typeof e=="string"?e:e?.message}a(ud,"unwrapMessage");function zn(e,t,r){let n={...e,path:e.path??[]};if(!e.message){let o=ud(e.inst?._zod.def?.error?.(e))??ud(t?.error?.(e))??ud(r.customError?.(e))??ud(r.localeError?.(e))??"Invalid input";n.message=o}return delete n.inst,delete n.continue,t?.reportInput||delete n.input,n}a(zn,"finalizeIssue");function pd(e){return e instanceof Set?"set":e instanceof Map?"map":e instanceof File?"file":"unknown"}a(pd,"getSizableOrigin");function md(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}a(md,"getLengthableOrigin");function Uu(...e){let[t,r,n]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:n}:{...t}}a(Uu,"issue");function Poe(e){return Object.entries(e).filter(([t,r])=>Number.isNaN(Number.parseInt(t,10))).map(t=>t[1])}a(Poe,"cleanEnum");function uU(e){let t=atob(e),r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r}a(uU,"base64ToUint8Array");function cU(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}a(cU,"uint8ArrayToBase64");function Ioe(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),r="=".repeat((4-t.length%4)%4);return uU(t+r)}a(Ioe,"base64urlToUint8Array");function Ooe(e){return cU(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}a(Ooe,"uint8ArrayToBase64url");function Aoe(e){let t=e.replace(/^0x/,"");if(t.length%2!==0)throw new Error("Invalid hex string length");let r=new Uint8Array(t.length/2);for(let n=0;n<t.length;n+=2)r[n/2]=Number.parseInt(t.slice(n,n+2),16);return r}a(Aoe,"hexToUint8Array");function Coe(e){return Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join("")}a(Coe,"uint8ArrayToHex");var _E=class{static{a(this,"Class")}constructor(...t){}};var lU=a((e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Mu,2),Object.defineProperty(e,"toString",{value:a(()=>e.message,"value"),enumerable:!1})},"initializer"),fd=B("$ZodError",lU),xn=B("$ZodError",lU,{Parent:Error});function hd(e,t=r=>r.message){let r={},n=[];for(let o of e.issues)o.path.length>0?(r[o.path[0]]=r[o.path[0]]||[],r[o.path[0]].push(t(o))):n.push(t(o));return{formErrors:n,fieldErrors:r}}a(hd,"flattenError");function gd(e,t=r=>r.message){let r={_errors:[]},n=a(o=>{for(let i of o.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(s=>n({issues:s}));else if(i.code==="invalid_key")n({issues:i.issues});else if(i.code==="invalid_element")n({issues:i.issues});else if(i.path.length===0)r._errors.push(t(i));else{let s=r,u=0;for(;u<i.path.length;){let l=i.path[u];u===i.path.length-1?(s[l]=s[l]||{_errors:[]},s[l]._errors.push(t(i))):s[l]=s[l]||{_errors:[]},s=s[l],u++}}},"processError");return n(e),r}a(gd,"formatError");function IE(e,t=r=>r.message){let r={errors:[]},n=a((o,i=[])=>{var s,u;for(let l of o.issues)if(l.code==="invalid_union"&&l.errors.length)l.errors.map(d=>n({issues:d},l.path));else if(l.code==="invalid_key")n({issues:l.issues},l.path);else if(l.code==="invalid_element")n({issues:l.issues},l.path);else{let d=[...i,...l.path];if(d.length===0){r.errors.push(t(l));continue}let p=r,f=0;for(;f<d.length;){let m=d[f],y=f===d.length-1;typeof m=="string"?(p.properties??(p.properties={}),(s=p.properties)[m]??(s[m]={errors:[]}),p=p.properties[m]):(p.items??(p.items=[]),(u=p.items)[m]??(u[m]={errors:[]}),p=p.items[m]),y&&p.errors.push(t(l)),f++}}},"processError");return n(e),r}a(IE,"treeifyError");function dU(e){let t=[],r=e.map(n=>typeof n=="object"?n.key:n);for(let n of r)typeof n=="number"?t.push(`[${n}]`):typeof n=="symbol"?t.push(`[${JSON.stringify(String(n))}]`):/[^\w$]/.test(n)?t.push(`[${JSON.stringify(n)}]`):(t.length&&t.push("."),t.push(n));return t.join("")}a(dU,"toDotPath");function OE(e){let t=[],r=[...e.issues].sort((n,o)=>(n.path??[]).length-(o.path??[]).length);for(let n of r)t.push(`\u2716 ${n.message}`),n.path?.length&&t.push(`  \u2192 at ${dU(n.path)}`);return t.join(`
`)}a(OE,"prettifyError");var Lu=a(e=>(t,r,n,o)=>{let i=n?Object.assign(n,{async:!1}):{async:!1},s=t._zod.run({value:r,issues:[]},i);if(s instanceof Promise)throw new So;if(s.issues.length){let u=new(o?.Err??e)(s.issues.map(l=>zn(l,i,yr())));throw gh(u,o?.callee),u}return s.value},"_parse"),yh=Lu(xn),Fu=a(e=>async(t,r,n,o)=>{let i=n?Object.assign(n,{async:!0}):{async:!0},s=t._zod.run({value:r,issues:[]},i);if(s instanceof Promise&&(s=await s),s.issues.length){let u=new(o?.Err??e)(s.issues.map(l=>zn(l,i,yr())));throw gh(u,o?.callee),u}return s.value},"_parseAsync"),vh=Fu(xn),Ju=a(e=>(t,r,n)=>{let o=n?{...n,async:!1}:{async:!1},i=t._zod.run({value:r,issues:[]},o);if(i instanceof Promise)throw new So;return i.issues.length?{success:!1,error:new(e??fd)(i.issues.map(s=>zn(s,o,yr())))}:{success:!0,data:i.value}},"_safeParse"),AE=Ju(xn),Bu=a(e=>async(t,r,n)=>{let o=n?Object.assign(n,{async:!0}):{async:!0},i=t._zod.run({value:r,issues:[]},o);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new e(i.issues.map(s=>zn(s,o,yr())))}:{success:!0,data:i.value}},"_safeParseAsync"),CE=Bu(xn),_h=a(e=>(t,r,n)=>{let o=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Lu(e)(t,r,o)},"_encode"),$oe=_h(xn),bh=a(e=>(t,r,n)=>Lu(e)(t,r,n),"_decode"),Noe=bh(xn),Sh=a(e=>async(t,r,n)=>{let o=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Fu(e)(t,r,o)},"_encodeAsync"),joe=Sh(xn),wh=a(e=>async(t,r,n)=>Fu(e)(t,r,n),"_decodeAsync"),zoe=wh(xn),xh=a(e=>(t,r,n)=>{let o=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Ju(e)(t,r,o)},"_safeEncode"),Doe=xh(xn),Th=a(e=>(t,r,n)=>Ju(e)(t,r,n),"_safeDecode"),Moe=Th(xn),kh=a(e=>async(t,r,n)=>{let o=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Bu(e)(t,r,o)},"_safeEncodeAsync"),qoe=kh(xn),Eh=a(e=>async(t,r,n)=>Bu(e)(t,r,n),"_safeDecodeAsync"),Uoe=Eh(xn);var Wn={};yn(Wn,{base64:()=>ZE,base64url:()=>Ph,bigint:()=>YE,boolean:()=>rP,browserEmail:()=>Koe,cidrv4:()=>HE,cidrv6:()=>VE,cuid:()=>RE,cuid2:()=>$E,date:()=>GE,datetime:()=>QE,domain:()=>Qoe,duration:()=>ME,e164:()=>KE,email:()=>UE,emoji:()=>LE,extendedDuration:()=>Loe,guid:()=>qE,hex:()=>Xoe,hostname:()=>Woe,html5Email:()=>Hoe,idnEmail:()=>Zoe,integer:()=>eP,ipv4:()=>FE,ipv6:()=>JE,ksuid:()=>zE,lowercase:()=>iP,mac:()=>BE,md5_base64:()=>eie,md5_base64url:()=>tie,md5_hex:()=>Yoe,nanoid:()=>DE,null:()=>nP,number:()=>tP,rfc5322Email:()=>Voe,sha1_base64:()=>nie,sha1_base64url:()=>oie,sha1_hex:()=>rie,sha256_base64:()=>aie,sha256_base64url:()=>sie,sha256_hex:()=>iie,sha384_base64:()=>cie,sha384_base64url:()=>lie,sha384_hex:()=>uie,sha512_base64:()=>pie,sha512_base64url:()=>mie,sha512_hex:()=>die,string:()=>XE,time:()=>WE,ulid:()=>NE,undefined:()=>oP,unicodeEmail:()=>pU,uppercase:()=>aP,uuid:()=>fs,uuid4:()=>Foe,uuid6:()=>Joe,uuid7:()=>Boe,xid:()=>jE});var RE=/^[cC][^\s-]{8,}$/,$E=/^[0-9a-z]+$/,NE=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,jE=/^[0-9a-vA-V]{20}$/,zE=/^[A-Za-z0-9]{27}$/,DE=/^[a-zA-Z0-9_-]{21}$/,ME=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Loe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,qE=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,fs=a(e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,"uuid"),Foe=fs(4),Joe=fs(6),Boe=fs(7),UE=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Hoe=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Voe=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,pU=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,Zoe=pU,Koe=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Goe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function LE(){return new RegExp(Goe,"u")}a(LE,"emoji");var FE=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,JE=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,BE=a(e=>{let t=Gn(e??":");return new RegExp(`^(?:[0-9A-F]{2}${t}){5}[0-9A-F]{2}$|^(?:[0-9a-f]{2}${t}){5}[0-9a-f]{2}$`)},"mac"),HE=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,VE=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ZE=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Ph=/^[A-Za-z0-9_-]*$/,Woe=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,Qoe=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,KE=/^\+(?:[0-9]){6,14}[0-9]$/,mU="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",GE=new RegExp(`^${mU}$`);function fU(e){let t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}a(fU,"timeSource");function WE(e){return new RegExp(`^${fU(e)}$`)}a(WE,"time");function QE(e){let t=fU({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");let n=`${t}(?:${r.join("|")})`;return new RegExp(`^${mU}T(?:${n})$`)}a(QE,"datetime");var XE=a(e=>{let t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},"string"),YE=/^-?\d+n?$/,eP=/^-?\d+$/,tP=/^-?\d+(?:\.\d+)?/,rP=/^(?:true|false)$/i,nP=/^null$/i;var oP=/^undefined$/i;var iP=/^[^A-Z]*$/,aP=/^[^a-z]*$/,Xoe=/^[0-9a-fA-F]*$/;function yd(e,t){return new RegExp(`^[A-Za-z0-9+/]{${e}}${t}$`)}a(yd,"fixedBase64");function vd(e){return new RegExp(`^[A-Za-z0-9_-]{${e}}$`)}a(vd,"fixedBase64url");var Yoe=/^[0-9a-fA-F]{32}$/,eie=yd(22,"=="),tie=vd(22),rie=/^[0-9a-fA-F]{40}$/,nie=yd(27,"="),oie=vd(27),iie=/^[0-9a-fA-F]{64}$/,aie=yd(43,"="),sie=vd(43),uie=/^[0-9a-fA-F]{96}$/,cie=yd(64,""),lie=vd(64),die=/^[0-9a-fA-F]{128}$/,pie=yd(86,"=="),mie=vd(86);var qt=B("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),gU={number:"number",bigint:"bigint",object:"date"},Ih=B("$ZodCheckLessThan",(e,t)=>{qt.init(e,t);let r=gU[typeof t.value];e._zod.onattach.push(n=>{let o=n._zod.bag,i=(t.inclusive?o.maximum:o.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<i&&(t.inclusive?o.maximum=t.value:o.exclusiveMaximum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value<=t.value:n.value<t.value)||n.issues.push({origin:r,code:"too_big",maximum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Oh=B("$ZodCheckGreaterThan",(e,t)=>{qt.init(e,t);let r=gU[typeof t.value];e._zod.onattach.push(n=>{let o=n._zod.bag,i=(t.inclusive?o.minimum:o.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>i&&(t.inclusive?o.minimum=t.value:o.exclusiveMinimum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value>=t.value:n.value>t.value)||n.issues.push({origin:r,code:"too_small",minimum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),sP=B("$ZodCheckMultipleOf",(e,t)=>{qt.init(e,t),e._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):bE(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),uP=B("$ZodCheckNumberFormat",(e,t)=>{qt.init(e,t),t.format=t.format||"float64";let r=t.format?.includes("int"),n=r?"int":"number",[o,i]=EE[t.format];e._zod.onattach.push(s=>{let u=s._zod.bag;u.format=t.format,u.minimum=o,u.maximum=i,r&&(u.pattern=eP)}),e._zod.check=s=>{let u=s.value;if(r){if(!Number.isInteger(u)){s.issues.push({expected:n,format:t.format,code:"invalid_type",continue:!1,input:u,inst:e});return}if(!Number.isSafeInteger(u)){u>0?s.issues.push({input:u,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort}):s.issues.push({input:u,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort});return}}u<o&&s.issues.push({origin:"number",input:u,code:"too_small",minimum:o,inclusive:!0,inst:e,continue:!t.abort}),u>i&&s.issues.push({origin:"number",input:u,code:"too_big",maximum:i,inst:e})}}),cP=B("$ZodCheckBigIntFormat",(e,t)=>{qt.init(e,t);let[r,n]=PE[t.format];e._zod.onattach.push(o=>{let i=o._zod.bag;i.format=t.format,i.minimum=r,i.maximum=n}),e._zod.check=o=>{let i=o.value;i<r&&o.issues.push({origin:"bigint",input:i,code:"too_small",minimum:r,inclusive:!0,inst:e,continue:!t.abort}),i>n&&o.issues.push({origin:"bigint",input:i,code:"too_big",maximum:n,inst:e})}}),lP=B("$ZodCheckMaxSize",(e,t)=>{var r;qt.init(e,t),(r=e._zod.def).when??(r.when=n=>{let o=n.value;return!va(o)&&o.size!==void 0}),e._zod.onattach.push(n=>{let o=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<o&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{let o=n.value;o.size<=t.maximum||n.issues.push({origin:pd(o),code:"too_big",maximum:t.maximum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),dP=B("$ZodCheckMinSize",(e,t)=>{var r;qt.init(e,t),(r=e._zod.def).when??(r.when=n=>{let o=n.value;return!va(o)&&o.size!==void 0}),e._zod.onattach.push(n=>{let o=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>o&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{let o=n.value;o.size>=t.minimum||n.issues.push({origin:pd(o),code:"too_small",minimum:t.minimum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),pP=B("$ZodCheckSizeEquals",(e,t)=>{var r;qt.init(e,t),(r=e._zod.def).when??(r.when=n=>{let o=n.value;return!va(o)&&o.size!==void 0}),e._zod.onattach.push(n=>{let o=n._zod.bag;o.minimum=t.size,o.maximum=t.size,o.size=t.size}),e._zod.check=n=>{let o=n.value,i=o.size;if(i===t.size)return;let s=i>t.size;n.issues.push({origin:pd(o),...s?{code:"too_big",maximum:t.size}:{code:"too_small",minimum:t.size},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),mP=B("$ZodCheckMaxLength",(e,t)=>{var r;qt.init(e,t),(r=e._zod.def).when??(r.when=n=>{let o=n.value;return!va(o)&&o.length!==void 0}),e._zod.onattach.push(n=>{let o=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<o&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{let o=n.value;if(o.length<=t.maximum)return;let s=md(o);n.issues.push({origin:s,code:"too_big",maximum:t.maximum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),fP=B("$ZodCheckMinLength",(e,t)=>{var r;qt.init(e,t),(r=e._zod.def).when??(r.when=n=>{let o=n.value;return!va(o)&&o.length!==void 0}),e._zod.onattach.push(n=>{let o=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>o&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{let o=n.value;if(o.length>=t.minimum)return;let s=md(o);n.issues.push({origin:s,code:"too_small",minimum:t.minimum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),hP=B("$ZodCheckLengthEquals",(e,t)=>{var r;qt.init(e,t),(r=e._zod.def).when??(r.when=n=>{let o=n.value;return!va(o)&&o.length!==void 0}),e._zod.onattach.push(n=>{let o=n._zod.bag;o.minimum=t.length,o.maximum=t.length,o.length=t.length}),e._zod.check=n=>{let o=n.value,i=o.length;if(i===t.length)return;let s=md(o),u=i>t.length;n.issues.push({origin:s,...u?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),Hu=B("$ZodCheckStringFormat",(e,t)=>{var r,n;qt.init(e,t),e._zod.onattach.push(o=>{let i=o._zod.bag;i.format=t.format,t.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=o=>{t.pattern.lastIndex=0,!t.pattern.test(o.value)&&o.issues.push({origin:"string",code:"invalid_format",format:t.format,input:o.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),gP=B("$ZodCheckRegex",(e,t)=>{Hu.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),yP=B("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=iP),Hu.init(e,t)}),vP=B("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=aP),Hu.init(e,t)}),_P=B("$ZodCheckIncludes",(e,t)=>{qt.init(e,t);let r=Gn(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(o=>{let i=o._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=o=>{o.value.includes(t.includes,t.position)||o.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:o.value,inst:e,continue:!t.abort})}}),bP=B("$ZodCheckStartsWith",(e,t)=>{qt.init(e,t);let r=new RegExp(`^${Gn(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{let o=n._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),SP=B("$ZodCheckEndsWith",(e,t)=>{qt.init(e,t);let r=new RegExp(`.*${Gn(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{let o=n._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}});function hU(e,t,r){e.issues.length&&t.issues.push(...jn(r,e.issues))}a(hU,"handleCheckPropertyResult");var wP=B("$ZodCheckProperty",(e,t)=>{qt.init(e,t),e._zod.check=r=>{let n=t.schema._zod.run({value:r.value[t.property],issues:[]},{});if(n instanceof Promise)return n.then(o=>hU(o,r,t.property));hU(n,r,t.property)}}),xP=B("$ZodCheckMimeType",(e,t)=>{qt.init(e,t);let r=new Set(t.mime);e._zod.onattach.push(n=>{n._zod.bag.mime=t.mime}),e._zod.check=n=>{r.has(n.value.type)||n.issues.push({code:"invalid_value",values:t.mime,input:n.value.type,inst:e,continue:!t.abort})}}),TP=B("$ZodCheckOverwrite",(e,t)=>{qt.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});var _d=class{static{a(this,"Doc")}constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}let n=t.split(`
`).filter(s=>s),o=Math.min(...n.map(s=>s.length-s.trimStart().length)),i=n.map(s=>s.slice(o)).map(s=>" ".repeat(this.indent*2)+s);for(let s of i)this.content.push(s)}compile(){let t=Function,r=this?.args,o=[...(this?.content??[""]).map(i=>`  ${i}`)];return new t(...r,o.join(`
`))}};var kP={major:4,minor:1,patch:13};var He=B("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=kP;let n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(let o of n)for(let i of o._zod.onattach)i(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{let o=a((s,u,l)=>{let d=wa(s),p;for(let f of u){if(f._zod.def.when){if(!f._zod.def.when(s))continue}else if(d)continue;let m=s.issues.length,y=f._zod.check(s);if(y instanceof Promise&&l?.async===!1)throw new So;if(p||y instanceof Promise)p=(p??Promise.resolve()).then(async()=>{await y,s.issues.length!==m&&(d||(d=wa(s,m)))});else{if(s.issues.length===m)continue;d||(d=wa(s,m))}}return p?p.then(()=>s):s},"runChecks"),i=a((s,u,l)=>{if(wa(s))return s.aborted=!0,s;let d=o(u,n,l);if(d instanceof Promise){if(l.async===!1)throw new So;return d.then(p=>e._zod.parse(p,l))}return e._zod.parse(d,l)},"handleCanaryResult");e._zod.run=(s,u)=>{if(u.skipChecks)return e._zod.parse(s,u);if(u.direction==="backward"){let d=e._zod.parse({value:s.value,issues:[]},{...u,skipChecks:!0});return d instanceof Promise?d.then(p=>i(p,s,u)):i(d,s,u)}let l=e._zod.parse(s,u);if(l instanceof Promise){if(u.async===!1)throw new So;return l.then(d=>o(d,n,u))}return o(l,n,u)}}e["~standard"]={validate:a(o=>{try{let i=AE(e,o);return i.success?{value:i.data}:{issues:i.error?.issues}}catch{return CE(e,o).then(s=>s.success?{value:s.data}:{issues:s.error?.issues})}},"validate"),vendor:"zod",version:1}}),hs=B("$ZodString",(e,t)=>{He.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??XE(e._zod.bag),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),jt=B("$ZodStringFormat",(e,t)=>{Hu.init(e,t),hs.init(e,t)}),PP=B("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=qE),jt.init(e,t)}),IP=B("$ZodUUID",(e,t)=>{if(t.version){let n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(n===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=fs(n))}else t.pattern??(t.pattern=fs());jt.init(e,t)}),OP=B("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=UE),jt.init(e,t)}),AP=B("$ZodURL",(e,t)=>{jt.init(e,t),e._zod.check=r=>{try{let n=r.value.trim(),o=new URL(n);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(o.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(o.protocol.endsWith(":")?o.protocol.slice(0,-1):o.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=o.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),CP=B("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=LE()),jt.init(e,t)}),RP=B("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=DE),jt.init(e,t)}),$P=B("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=RE),jt.init(e,t)}),NP=B("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=$E),jt.init(e,t)}),jP=B("$ZodULID",(e,t)=>{t.pattern??(t.pattern=NE),jt.init(e,t)}),zP=B("$ZodXID",(e,t)=>{t.pattern??(t.pattern=jE),jt.init(e,t)}),DP=B("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=zE),jt.init(e,t)}),MP=B("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=QE(t)),jt.init(e,t)}),qP=B("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=GE),jt.init(e,t)}),UP=B("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=WE(t)),jt.init(e,t)}),LP=B("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=ME),jt.init(e,t)}),FP=B("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=FE),jt.init(e,t),e._zod.bag.format="ipv4"}),JP=B("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=JE),jt.init(e,t),e._zod.bag.format="ipv6",e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),BP=B("$ZodMAC",(e,t)=>{t.pattern??(t.pattern=BE(t.delimiter)),jt.init(e,t),e._zod.bag.format="mac"}),HP=B("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=HE),jt.init(e,t)}),VP=B("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=VE),jt.init(e,t),e._zod.check=r=>{let n=r.value.split("/");try{if(n.length!==2)throw new Error;let[o,i]=n;if(!i)throw new Error;let s=Number(i);if(`${s}`!==i)throw new Error;if(s<0||s>128)throw new Error;new URL(`http://[${o}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function ZP(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}a(ZP,"isValidBase64");var KP=B("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=ZE),jt.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=r=>{ZP(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function IU(e){if(!Ph.test(e))return!1;let t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return ZP(r)}a(IU,"isValidBase64URL");var GP=B("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=Ph),jt.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=r=>{IU(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),WP=B("$ZodE164",(e,t)=>{t.pattern??(t.pattern=KE),jt.init(e,t)});function OU(e,t=null){try{let r=e.split(".");if(r.length!==3)return!1;let[n]=r;if(!n)return!1;let o=JSON.parse(atob(n));return!("typ"in o&&o?.typ!=="JWT"||!o.alg||t&&(!("alg"in o)||o.alg!==t))}catch{return!1}}a(OU,"isValidJWT");var QP=B("$ZodJWT",(e,t)=>{jt.init(e,t),e._zod.check=r=>{OU(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),XP=B("$ZodCustomStringFormat",(e,t)=>{jt.init(e,t),e._zod.check=r=>{t.fn(r.value)||r.issues.push({code:"invalid_format",format:t.format,input:r.value,inst:e,continue:!t.abort})}}),jh=B("$ZodNumber",(e,t)=>{He.init(e,t),e._zod.pattern=e._zod.bag.pattern??tP,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}let o=r.value;if(typeof o=="number"&&!Number.isNaN(o)&&Number.isFinite(o))return r;let i=typeof o=="number"?Number.isNaN(o)?"NaN":Number.isFinite(o)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:o,inst:e,...i?{received:i}:{}}),r}}),YP=B("$ZodNumberFormat",(e,t)=>{uP.init(e,t),jh.init(e,t)}),bd=B("$ZodBoolean",(e,t)=>{He.init(e,t),e._zod.pattern=rP,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=!!r.value}catch{}let o=r.value;return typeof o=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:o,inst:e}),r}}),zh=B("$ZodBigInt",(e,t)=>{He.init(e,t),e._zod.pattern=YE,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=BigInt(r.value)}catch{}return typeof r.value=="bigint"||r.issues.push({expected:"bigint",code:"invalid_type",input:r.value,inst:e}),r}}),eI=B("$ZodBigIntFormat",(e,t)=>{cP.init(e,t),zh.init(e,t)}),tI=B("$ZodSymbol",(e,t)=>{He.init(e,t),e._zod.parse=(r,n)=>{let o=r.value;return typeof o=="symbol"||r.issues.push({expected:"symbol",code:"invalid_type",input:o,inst:e}),r}}),rI=B("$ZodUndefined",(e,t)=>{He.init(e,t),e._zod.pattern=oP,e._zod.values=new Set([void 0]),e._zod.optin="optional",e._zod.optout="optional",e._zod.parse=(r,n)=>{let o=r.value;return typeof o>"u"||r.issues.push({expected:"undefined",code:"invalid_type",input:o,inst:e}),r}}),nI=B("$ZodNull",(e,t)=>{He.init(e,t),e._zod.pattern=nP,e._zod.values=new Set([null]),e._zod.parse=(r,n)=>{let o=r.value;return o===null||r.issues.push({expected:"null",code:"invalid_type",input:o,inst:e}),r}}),oI=B("$ZodAny",(e,t)=>{He.init(e,t),e._zod.parse=r=>r}),iI=B("$ZodUnknown",(e,t)=>{He.init(e,t),e._zod.parse=r=>r}),aI=B("$ZodNever",(e,t)=>{He.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)}),sI=B("$ZodVoid",(e,t)=>{He.init(e,t),e._zod.parse=(r,n)=>{let o=r.value;return typeof o>"u"||r.issues.push({expected:"void",code:"invalid_type",input:o,inst:e}),r}}),uI=B("$ZodDate",(e,t)=>{He.init(e,t),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=new Date(r.value)}catch{}let o=r.value,i=o instanceof Date;return i&&!Number.isNaN(o.getTime())||r.issues.push({expected:"date",code:"invalid_type",input:o,...i?{received:"Invalid Date"}:{},inst:e}),r}});function vU(e,t,r){e.issues.length&&t.issues.push(...jn(r,e.issues)),t.value[r]=e.value}a(vU,"handleArrayResult");var cI=B("$ZodArray",(e,t)=>{He.init(e,t),e._zod.parse=(r,n)=>{let o=r.value;if(!Array.isArray(o))return r.issues.push({expected:"array",code:"invalid_type",input:o,inst:e}),r;r.value=Array(o.length);let i=[];for(let s=0;s<o.length;s++){let u=o[s],l=t.element._zod.run({value:u,issues:[]},n);l instanceof Promise?i.push(l.then(d=>vU(d,r,s))):vU(l,r,s)}return i.length?Promise.all(i).then(()=>r):r}});function Nh(e,t,r,n){e.issues.length&&t.issues.push(...jn(r,e.issues)),e.value===void 0?r in n&&(t.value[r]=void 0):t.value[r]=e.value}a(Nh,"handlePropertyResult");function AU(e){let t=Object.keys(e.shape);for(let n of t)if(!e.shape?.[n]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${n}": expected a Zod schema`);let r=kE(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}a(AU,"normalizeDef");function CU(e,t,r,n,o,i){let s=[],u=o.keySet,l=o.catchall._zod,d=l.def.type;for(let p in t){if(u.has(p))continue;if(d==="never"){s.push(p);continue}let f=l.run({value:t[p],issues:[]},n);f instanceof Promise?e.push(f.then(m=>Nh(m,r,p,t))):Nh(f,r,p,t)}return s.length&&r.issues.push({code:"unrecognized_keys",keys:s,input:t,inst:i}),e.length?Promise.all(e).then(()=>r):r}a(CU,"handleCatchall");var RU=B("$ZodObject",(e,t)=>{if(He.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){let u=t.shape;Object.defineProperty(t,"shape",{get:a(()=>{let l={...u};return Object.defineProperty(t,"shape",{value:l}),l},"get")})}let n=qu(()=>AU(t));dt(e._zod,"propValues",()=>{let u=t.shape,l={};for(let d in u){let p=u[d]._zod;if(p.values){l[d]??(l[d]=new Set);for(let f of p.values)l[d].add(f)}}return l});let o=ms,i=t.catchall,s;e._zod.parse=(u,l)=>{s??(s=n.value);let d=u.value;if(!o(d))return u.issues.push({expected:"object",code:"invalid_type",input:d,inst:e}),u;u.value={};let p=[],f=s.shape;for(let m of s.keys){let g=f[m]._zod.run({value:d[m],issues:[]},l);g instanceof Promise?p.push(g.then(h=>Nh(h,u,m,d))):Nh(g,u,m,d)}return i?CU(p,d,u,l,n.value,e):p.length?Promise.all(p).then(()=>u):u}}),lI=B("$ZodObjectJIT",(e,t)=>{RU.init(e,t);let r=e._zod.parse,n=qu(()=>AU(t)),o=a(m=>{let y=new _d(["shape","payload","ctx"]),g=n.value,h=a(w=>{let k=hh(w);return`shape[${k}]._zod.run({ value: input[${k}], issues: [] }, ctx)`},"parseStr");y.write("const input = payload.value;");let v=Object.create(null),S=0;for(let w of g.keys)v[w]=`key_${S++}`;y.write("const newResult = {};");for(let w of g.keys){let k=v[w],$=hh(w);y.write(`const ${k} = ${h(w)};`),y.write(`
        if (${k}.issues.length) {
          payload.issues = payload.issues.concat(${k}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${$}, ...iss.path] : [${$}]
          })));
        }
        
        
        if (${k}.value === undefined) {
          if (${$} in input) {
            newResult[${$}] = undefined;
          }
        } else {
          newResult[${$}] = ${k}.value;
        }
        
      `)}y.write("payload.value = newResult;"),y.write("return payload;");let b=y.compile();return(w,k)=>b(m,w,k)},"generateFastpass"),i,s=ms,u=!sd.jitless,d=u&&wE.value,p=t.catchall,f;e._zod.parse=(m,y)=>{f??(f=n.value);let g=m.value;return s(g)?u&&d&&y?.async===!1&&y.jitless!==!0?(i||(i=o(t.shape)),m=i(m,y),p?CU([],g,m,y,f,e):m):r(m,y):(m.issues.push({expected:"object",code:"invalid_type",input:g,inst:e}),m)}});function _U(e,t,r,n){for(let i of e)if(i.issues.length===0)return t.value=i.value,t;let o=e.filter(i=>!wa(i));return o.length===1?(t.value=o[0].value,o[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(i=>i.issues.map(s=>zn(s,n,yr())))}),t)}a(_U,"handleUnionResults");var Dh=B("$ZodUnion",(e,t)=>{He.init(e,t),dt(e._zod,"optin",()=>t.options.some(o=>o._zod.optin==="optional")?"optional":void 0),dt(e._zod,"optout",()=>t.options.some(o=>o._zod.optout==="optional")?"optional":void 0),dt(e._zod,"values",()=>{if(t.options.every(o=>o._zod.values))return new Set(t.options.flatMap(o=>Array.from(o._zod.values)))}),dt(e._zod,"pattern",()=>{if(t.options.every(o=>o._zod.pattern)){let o=t.options.map(i=>i._zod.pattern);return new RegExp(`^(${o.map(i=>ld(i.source)).join("|")})$`)}});let r=t.options.length===1,n=t.options[0]._zod.run;e._zod.parse=(o,i)=>{if(r)return n(o,i);let s=!1,u=[];for(let l of t.options){let d=l._zod.run({value:o.value,issues:[]},i);if(d instanceof Promise)u.push(d),s=!0;else{if(d.issues.length===0)return d;u.push(d)}}return s?Promise.all(u).then(l=>_U(l,o,e,i)):_U(u,o,e,i)}}),dI=B("$ZodDiscriminatedUnion",(e,t)=>{Dh.init(e,t);let r=e._zod.parse;dt(e._zod,"propValues",()=>{let o={};for(let i of t.options){let s=i._zod.propValues;if(!s||Object.keys(s).length===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(i)}"`);for(let[u,l]of Object.entries(s)){o[u]||(o[u]=new Set);for(let d of l)o[u].add(d)}}return o});let n=qu(()=>{let o=t.options,i=new Map;for(let s of o){let u=s._zod.propValues?.[t.discriminator];if(!u||u.size===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(s)}"`);for(let l of u){if(i.has(l))throw new Error(`Duplicate discriminator value "${String(l)}"`);i.set(l,s)}}return i});e._zod.parse=(o,i)=>{let s=o.value;if(!ms(s))return o.issues.push({code:"invalid_type",expected:"object",input:s,inst:e}),o;let u=n.value.get(s?.[t.discriminator]);return u?u._zod.run(o,i):t.unionFallback?r(o,i):(o.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:t.discriminator,input:s,path:[t.discriminator],inst:e}),o)}}),pI=B("$ZodIntersection",(e,t)=>{He.init(e,t),e._zod.parse=(r,n)=>{let o=r.value,i=t.left._zod.run({value:o,issues:[]},n),s=t.right._zod.run({value:o,issues:[]},n);return i instanceof Promise||s instanceof Promise?Promise.all([i,s]).then(([l,d])=>bU(r,l,d)):bU(r,i,s)}});function EP(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Sa(e)&&Sa(t)){let r=Object.keys(t),n=Object.keys(e).filter(i=>r.indexOf(i)!==-1),o={...e,...t};for(let i of n){let s=EP(e[i],t[i]);if(!s.valid)return{valid:!1,mergeErrorPath:[i,...s.mergeErrorPath]};o[i]=s.data}return{valid:!0,data:o}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};let r=[];for(let n=0;n<e.length;n++){let o=e[n],i=t[n],s=EP(o,i);if(!s.valid)return{valid:!1,mergeErrorPath:[n,...s.mergeErrorPath]};r.push(s.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}a(EP,"mergeValues");function bU(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),wa(e))return e;let n=EP(t.value,r.value);if(!n.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return e.value=n.data,e}a(bU,"handleIntersectionResults");var Mh=B("$ZodTuple",(e,t)=>{He.init(e,t);let r=t.items;e._zod.parse=(n,o)=>{let i=n.value;if(!Array.isArray(i))return n.issues.push({input:i,inst:e,expected:"tuple",code:"invalid_type"}),n;n.value=[];let s=[],u=[...r].reverse().findIndex(p=>p._zod.optin!=="optional"),l=u===-1?0:r.length-u;if(!t.rest){let p=i.length>r.length,f=i.length<l-1;if(p||f)return n.issues.push({...p?{code:"too_big",maximum:r.length}:{code:"too_small",minimum:r.length},input:i,inst:e,origin:"array"}),n}let d=-1;for(let p of r){if(d++,d>=i.length&&d>=l)continue;let f=p._zod.run({value:i[d],issues:[]},o);f instanceof Promise?s.push(f.then(m=>Ah(m,n,d))):Ah(f,n,d)}if(t.rest){let p=i.slice(r.length);for(let f of p){d++;let m=t.rest._zod.run({value:f,issues:[]},o);m instanceof Promise?s.push(m.then(y=>Ah(y,n,d))):Ah(m,n,d)}}return s.length?Promise.all(s).then(()=>n):n}});function Ah(e,t,r){e.issues.length&&t.issues.push(...jn(r,e.issues)),t.value[r]=e.value}a(Ah,"handleTupleResult");var mI=B("$ZodRecord",(e,t)=>{He.init(e,t),e._zod.parse=(r,n)=>{let o=r.value;if(!Sa(o))return r.issues.push({expected:"record",code:"invalid_type",input:o,inst:e}),r;let i=[],s=t.keyType._zod.values;if(s){r.value={};let u=new Set;for(let d of s)if(typeof d=="string"||typeof d=="number"||typeof d=="symbol"){u.add(typeof d=="number"?d.toString():d);let p=t.valueType._zod.run({value:o[d],issues:[]},n);p instanceof Promise?i.push(p.then(f=>{f.issues.length&&r.issues.push(...jn(d,f.issues)),r.value[d]=f.value})):(p.issues.length&&r.issues.push(...jn(d,p.issues)),r.value[d]=p.value)}let l;for(let d in o)u.has(d)||(l=l??[],l.push(d));l&&l.length>0&&r.issues.push({code:"unrecognized_keys",input:o,inst:e,keys:l})}else{r.value={};for(let u of Reflect.ownKeys(o)){if(u==="__proto__")continue;let l=t.keyType._zod.run({value:u,issues:[]},n);if(l instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(l.issues.length){r.issues.push({code:"invalid_key",origin:"record",issues:l.issues.map(p=>zn(p,n,yr())),input:u,path:[u],inst:e}),r.value[l.value]=l.value;continue}let d=t.valueType._zod.run({value:o[u],issues:[]},n);d instanceof Promise?i.push(d.then(p=>{p.issues.length&&r.issues.push(...jn(u,p.issues)),r.value[l.value]=p.value})):(d.issues.length&&r.issues.push(...jn(u,d.issues)),r.value[l.value]=d.value)}}return i.length?Promise.all(i).then(()=>r):r}}),fI=B("$ZodMap",(e,t)=>{He.init(e,t),e._zod.parse=(r,n)=>{let o=r.value;if(!(o instanceof Map))return r.issues.push({expected:"map",code:"invalid_type",input:o,inst:e}),r;let i=[];r.value=new Map;for(let[s,u]of o){let l=t.keyType._zod.run({value:s,issues:[]},n),d=t.valueType._zod.run({value:u,issues:[]},n);l instanceof Promise||d instanceof Promise?i.push(Promise.all([l,d]).then(([p,f])=>{SU(p,f,r,s,o,e,n)})):SU(l,d,r,s,o,e,n)}return i.length?Promise.all(i).then(()=>r):r}});function SU(e,t,r,n,o,i,s){e.issues.length&&(dd.has(typeof n)?r.issues.push(...jn(n,e.issues)):r.issues.push({code:"invalid_key",origin:"map",input:o,inst:i,issues:e.issues.map(u=>zn(u,s,yr()))})),t.issues.length&&(dd.has(typeof n)?r.issues.push(...jn(n,t.issues)):r.issues.push({origin:"map",code:"invalid_element",input:o,inst:i,key:n,issues:t.issues.map(u=>zn(u,s,yr()))})),r.value.set(e.value,t.value)}a(SU,"handleMapResult");var hI=B("$ZodSet",(e,t)=>{He.init(e,t),e._zod.parse=(r,n)=>{let o=r.value;if(!(o instanceof Set))return r.issues.push({input:o,inst:e,expected:"set",code:"invalid_type"}),r;let i=[];r.value=new Set;for(let s of o){let u=t.valueType._zod.run({value:s,issues:[]},n);u instanceof Promise?i.push(u.then(l=>wU(l,r))):wU(u,r)}return i.length?Promise.all(i).then(()=>r):r}});function wU(e,t){e.issues.length&&t.issues.push(...e.issues),t.value.add(e.value)}a(wU,"handleSetResult");var gI=B("$ZodEnum",(e,t)=>{He.init(e,t);let r=cd(t.entries),n=new Set(r);e._zod.values=n,e._zod.pattern=new RegExp(`^(${r.filter(o=>dd.has(typeof o)).map(o=>typeof o=="string"?Gn(o):o.toString()).join("|")})$`),e._zod.parse=(o,i)=>{let s=o.value;return n.has(s)||o.issues.push({code:"invalid_value",values:r,input:s,inst:e}),o}}),yI=B("$ZodLiteral",(e,t)=>{if(He.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");let r=new Set(t.values);e._zod.values=r,e._zod.pattern=new RegExp(`^(${t.values.map(n=>typeof n=="string"?Gn(n):n?Gn(n.toString()):String(n)).join("|")})$`),e._zod.parse=(n,o)=>{let i=n.value;return r.has(i)||n.issues.push({code:"invalid_value",values:t.values,input:i,inst:e}),n}}),vI=B("$ZodFile",(e,t)=>{He.init(e,t),e._zod.parse=(r,n)=>{let o=r.value;return o instanceof File||r.issues.push({expected:"file",code:"invalid_type",input:o,inst:e}),r}}),_I=B("$ZodTransform",(e,t)=>{He.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new ya(e.constructor.name);let o=t.transform(r.value,r);if(n.async)return(o instanceof Promise?o:Promise.resolve(o)).then(s=>(r.value=s,r));if(o instanceof Promise)throw new So;return r.value=o,r}});function xU(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}a(xU,"handleOptionalResult");var bI=B("$ZodOptional",(e,t)=>{He.init(e,t),e._zod.optin="optional",e._zod.optout="optional",dt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),dt(e._zod,"pattern",()=>{let r=t.innerType._zod.pattern;return r?new RegExp(`^(${ld(r.source)})?$`):void 0}),e._zod.parse=(r,n)=>{if(t.innerType._zod.optin==="optional"){let o=t.innerType._zod.run(r,n);return o instanceof Promise?o.then(i=>xU(i,r.value)):xU(o,r.value)}return r.value===void 0?r:t.innerType._zod.run(r,n)}}),SI=B("$ZodNullable",(e,t)=>{He.init(e,t),dt(e._zod,"optin",()=>t.innerType._zod.optin),dt(e._zod,"optout",()=>t.innerType._zod.optout),dt(e._zod,"pattern",()=>{let r=t.innerType._zod.pattern;return r?new RegExp(`^(${ld(r.source)}|null)$`):void 0}),dt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,n)=>r.value===null?r:t.innerType._zod.run(r,n)}),wI=B("$ZodDefault",(e,t)=>{He.init(e,t),e._zod.optin="optional",dt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);if(r.value===void 0)return r.value=t.defaultValue,r;let o=t.innerType._zod.run(r,n);return o instanceof Promise?o.then(i=>TU(i,t)):TU(o,t)}});function TU(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}a(TU,"handleDefaultResult");var xI=B("$ZodPrefault",(e,t)=>{He.init(e,t),e._zod.optin="optional",dt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>(n.direction==="backward"||r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,n))}),TI=B("$ZodNonOptional",(e,t)=>{He.init(e,t),dt(e._zod,"values",()=>{let r=t.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),e._zod.parse=(r,n)=>{let o=t.innerType._zod.run(r,n);return o instanceof Promise?o.then(i=>kU(i,e)):kU(o,e)}});function kU(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}a(kU,"handleNonOptionalResult");var kI=B("$ZodSuccess",(e,t)=>{He.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new ya("ZodSuccess");let o=t.innerType._zod.run(r,n);return o instanceof Promise?o.then(i=>(r.value=i.issues.length===0,r)):(r.value=o.issues.length===0,r)}}),EI=B("$ZodCatch",(e,t)=>{He.init(e,t),dt(e._zod,"optin",()=>t.innerType._zod.optin),dt(e._zod,"optout",()=>t.innerType._zod.optout),dt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);let o=t.innerType._zod.run(r,n);return o instanceof Promise?o.then(i=>(r.value=i.value,i.issues.length&&(r.value=t.catchValue({...r,error:{issues:i.issues.map(s=>zn(s,n,yr()))},input:r.value}),r.issues=[]),r)):(r.value=o.value,o.issues.length&&(r.value=t.catchValue({...r,error:{issues:o.issues.map(i=>zn(i,n,yr()))},input:r.value}),r.issues=[]),r)}}),PI=B("$ZodNaN",(e,t)=>{He.init(e,t),e._zod.parse=(r,n)=>((typeof r.value!="number"||!Number.isNaN(r.value))&&r.issues.push({input:r.value,inst:e,expected:"nan",code:"invalid_type"}),r)}),II=B("$ZodPipe",(e,t)=>{He.init(e,t),dt(e._zod,"values",()=>t.in._zod.values),dt(e._zod,"optin",()=>t.in._zod.optin),dt(e._zod,"optout",()=>t.out._zod.optout),dt(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{if(n.direction==="backward"){let i=t.out._zod.run(r,n);return i instanceof Promise?i.then(s=>Ch(s,t.in,n)):Ch(i,t.in,n)}let o=t.in._zod.run(r,n);return o instanceof Promise?o.then(i=>Ch(i,t.out,n)):Ch(o,t.out,n)}});function Ch(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}a(Ch,"handlePipeResult");var Sd=B("$ZodCodec",(e,t)=>{He.init(e,t),dt(e._zod,"values",()=>t.in._zod.values),dt(e._zod,"optin",()=>t.in._zod.optin),dt(e._zod,"optout",()=>t.out._zod.optout),dt(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{if((n.direction||"forward")==="forward"){let i=t.in._zod.run(r,n);return i instanceof Promise?i.then(s=>Rh(s,t,n)):Rh(i,t,n)}else{let i=t.out._zod.run(r,n);return i instanceof Promise?i.then(s=>Rh(s,t,n)):Rh(i,t,n)}}});function Rh(e,t,r){if(e.issues.length)return e.aborted=!0,e;if((r.direction||"forward")==="forward"){let o=t.transform(e.value,e);return o instanceof Promise?o.then(i=>$h(e,i,t.out,r)):$h(e,o,t.out,r)}else{let o=t.reverseTransform(e.value,e);return o instanceof Promise?o.then(i=>$h(e,i,t.in,r)):$h(e,o,t.in,r)}}a(Rh,"handleCodecAResult");function $h(e,t,r,n){return e.issues.length?(e.aborted=!0,e):r._zod.run({value:t,issues:e.issues},n)}a($h,"handleCodecTxResult");var OI=B("$ZodReadonly",(e,t)=>{He.init(e,t),dt(e._zod,"propValues",()=>t.innerType._zod.propValues),dt(e._zod,"values",()=>t.innerType._zod.values),dt(e._zod,"optin",()=>t.innerType?._zod?.optin),dt(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);let o=t.innerType._zod.run(r,n);return o instanceof Promise?o.then(EU):EU(o)}});function EU(e){return e.value=Object.freeze(e.value),e}a(EU,"handleReadonlyResult");var AI=B("$ZodTemplateLiteral",(e,t)=>{He.init(e,t);let r=[];for(let n of t.parts)if(typeof n=="object"&&n!==null){if(!n._zod.pattern)throw new Error(`Invalid template literal part, no pattern found: ${[...n._zod.traits].shift()}`);let o=n._zod.pattern instanceof RegExp?n._zod.pattern.source:n._zod.pattern;if(!o)throw new Error(`Invalid template literal part: ${n._zod.traits}`);let i=o.startsWith("^")?1:0,s=o.endsWith("$")?o.length-1:o.length;r.push(o.slice(i,s))}else if(n===null||TE.has(typeof n))r.push(Gn(`${n}`));else throw new Error(`Invalid template literal part: ${n}`);e._zod.pattern=new RegExp(`^${r.join("")}$`),e._zod.parse=(n,o)=>typeof n.value!="string"?(n.issues.push({input:n.value,inst:e,expected:"template_literal",code:"invalid_type"}),n):(e._zod.pattern.lastIndex=0,e._zod.pattern.test(n.value)||n.issues.push({input:n.value,inst:e,code:"invalid_format",format:t.format??"template_literal",pattern:e._zod.pattern.source}),n)}),CI=B("$ZodFunction",(e,t)=>(He.init(e,t),e._def=t,e._zod.def=t,e.implement=r=>{if(typeof r!="function")throw new Error("implement() must be called with a function");return function(...n){let o=e._def.input?yh(e._def.input,n):n,i=Reflect.apply(r,this,o);return e._def.output?yh(e._def.output,i):i}},e.implementAsync=r=>{if(typeof r!="function")throw new Error("implementAsync() must be called with a function");return async function(...n){let o=e._def.input?await vh(e._def.input,n):n,i=await Reflect.apply(r,this,o);return e._def.output?await vh(e._def.output,i):i}},e._zod.parse=(r,n)=>typeof r.value!="function"?(r.issues.push({code:"invalid_type",expected:"function",input:r.value,inst:e}),r):(e._def.output&&e._def.output._zod.def.type==="promise"?r.value=e.implementAsync(r.value):r.value=e.implement(r.value),r),e.input=(...r)=>{let n=e.constructor;return Array.isArray(r[0])?new n({type:"function",input:new Mh({type:"tuple",items:r[0],rest:r[1]}),output:e._def.output}):new n({type:"function",input:r[0],output:e._def.output})},e.output=r=>{let n=e.constructor;return new n({type:"function",input:e._def.input,output:r})},e)),RI=B("$ZodPromise",(e,t)=>{He.init(e,t),e._zod.parse=(r,n)=>Promise.resolve(r.value).then(o=>t.innerType._zod.run({value:o,issues:[]},n))}),$I=B("$ZodLazy",(e,t)=>{He.init(e,t),dt(e._zod,"innerType",()=>t.getter()),dt(e._zod,"pattern",()=>e._zod.innerType?._zod?.pattern),dt(e._zod,"propValues",()=>e._zod.innerType?._zod?.propValues),dt(e._zod,"optin",()=>e._zod.innerType?._zod?.optin??void 0),dt(e._zod,"optout",()=>e._zod.innerType?._zod?.optout??void 0),e._zod.parse=(r,n)=>e._zod.innerType._zod.run(r,n)}),NI=B("$ZodCustom",(e,t)=>{qt.init(e,t),He.init(e,t),e._zod.parse=(r,n)=>r,e._zod.check=r=>{let n=r.value,o=t.fn(n);if(o instanceof Promise)return o.then(i=>PU(i,r,n,e));PU(o,r,n,e)}});function PU(e,t,r,n){if(!e){let o={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(o.params=n._zod.def.params),t.issues.push(Uu(o))}}a(PU,"handleRefineResult");var Pd={};yn(Pd,{ar:()=>jI,az:()=>zI,be:()=>DI,bg:()=>MI,ca:()=>qI,cs:()=>UI,da:()=>LI,de:()=>FI,en:()=>wd,eo:()=>JI,es:()=>BI,fa:()=>HI,fi:()=>VI,fr:()=>ZI,frCA:()=>KI,he:()=>GI,hu:()=>WI,id:()=>QI,is:()=>XI,it:()=>YI,ja:()=>eO,ka:()=>tO,kh:()=>rO,km:()=>xd,ko:()=>nO,lt:()=>oO,mk:()=>iO,ms:()=>aO,nl:()=>sO,no:()=>uO,ota:()=>cO,pl:()=>dO,ps:()=>lO,pt:()=>pO,ru:()=>mO,sl:()=>fO,sv:()=>hO,ta:()=>gO,th:()=>yO,tr:()=>vO,ua:()=>_O,uk:()=>Ed,ur:()=>bO,vi:()=>SO,yo:()=>TO,zhCN:()=>wO,zhTW:()=>xO});var hie=a(()=>{let e={string:{unit:"\u062D\u0631\u0641",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},file:{unit:"\u0628\u0627\u064A\u062A",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},array:{unit:"\u0639\u0646\u0635\u0631",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},set:{unit:"\u0639\u0646\u0635\u0631",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"number";case"object":{if(Array.isArray(o))return"array";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\u0645\u062F\u062E\u0644",email:"\u0628\u0631\u064A\u062F \u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A",url:"\u0631\u0627\u0628\u0637",emoji:"\u0625\u064A\u0645\u0648\u062C\u064A",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u062A\u0627\u0631\u064A\u062E \u0648\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO",date:"\u062A\u0627\u0631\u064A\u062E \u0628\u0645\u0639\u064A\u0627\u0631 ISO",time:"\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO",duration:"\u0645\u062F\u0629 \u0628\u0645\u0639\u064A\u0627\u0631 ISO",ipv4:"\u0639\u0646\u0648\u0627\u0646 IPv4",ipv6:"\u0639\u0646\u0648\u0627\u0646 IPv6",cidrv4:"\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv4",cidrv6:"\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv6",base64:"\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64-encoded",base64url:"\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64url-encoded",json_string:"\u0646\u064E\u0635 \u0639\u0644\u0649 \u0647\u064A\u0626\u0629 JSON",e164:"\u0631\u0642\u0645 \u0647\u0627\u062A\u0641 \u0628\u0645\u0639\u064A\u0627\u0631 E.164",jwt:"JWT",template_literal:"\u0645\u062F\u062E\u0644"};return o=>{switch(o.code){case"invalid_type":return`\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${o.expected}\u060C \u0648\u0644\u0643\u0646 \u062A\u0645 \u0625\u062F\u062E\u0627\u0644 ${r(o.input)}`;case"invalid_value":return o.values.length===1?`\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${ce(o.values[0])}`:`\u0627\u062E\u062A\u064A\u0627\u0631 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062A\u0648\u0642\u0639 \u0627\u0646\u062A\u0642\u0627\u0621 \u0623\u062D\u062F \u0647\u0630\u0647 \u0627\u0644\u062E\u064A\u0627\u0631\u0627\u062A: ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?` \u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${o.origin??"\u0627\u0644\u0642\u064A\u0645\u0629"} ${i} ${o.maximum.toString()} ${s.unit??"\u0639\u0646\u0635\u0631"}`:`\u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${o.origin??"\u0627\u0644\u0642\u064A\u0645\u0629"} ${i} ${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${o.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${i} ${o.minimum.toString()} ${s.unit}`:`\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${o.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${i} ${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0628\u062F\u0623 \u0628\u0640 "${o.prefix}"`:i.format==="ends_with"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0646\u062A\u0647\u064A \u0628\u0640 "${i.suffix}"`:i.format==="includes"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u062A\u0636\u0645\u0651\u064E\u0646 "${i.includes}"`:i.format==="regex"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0637\u0627\u0628\u0642 \u0627\u0644\u0646\u0645\u0637 ${i.pattern}`:`${n[i.format]??o.format} \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644`}case"not_multiple_of":return`\u0631\u0642\u0645 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0645\u0646 \u0645\u0636\u0627\u0639\u0641\u0627\u062A ${o.divisor}`;case"unrecognized_keys":return`\u0645\u0639\u0631\u0641${o.keys.length>1?"\u0627\u062A":""} \u063A\u0631\u064A\u0628${o.keys.length>1?"\u0629":""}: ${ee(o.keys,"\u060C ")}`;case"invalid_key":return`\u0645\u0639\u0631\u0641 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${o.origin}`;case"invalid_union":return"\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644";case"invalid_element":return`\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${o.origin}`;default:return"\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644"}}},"error");function jI(){return{localeError:hie()}}a(jI,"default");var gie=a(()=>{let e={string:{unit:"simvol",verb:"olmal\u0131d\u0131r"},file:{unit:"bayt",verb:"olmal\u0131d\u0131r"},array:{unit:"element",verb:"olmal\u0131d\u0131r"},set:{unit:"element",verb:"olmal\u0131d\u0131r"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"number";case"object":{if(Array.isArray(o))return"array";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return o=>{switch(o.code){case"invalid_type":return`Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n ${o.expected}, daxil olan ${r(o.input)}`;case"invalid_value":return o.values.length===1?`Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n ${ce(o.values[0])}`:`Yanl\u0131\u015F se\xE7im: a\u015Fa\u011F\u0131dak\u0131lardan biri olmal\u0131d\u0131r: ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`\xC7ox b\xF6y\xFCk: g\xF6zl\u0259nil\u0259n ${o.origin??"d\u0259y\u0259r"} ${i}${o.maximum.toString()} ${s.unit??"element"}`:`\xC7ox b\xF6y\xFCk: g\xF6zl\u0259nil\u0259n ${o.origin??"d\u0259y\u0259r"} ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`\xC7ox ki\xE7ik: g\xF6zl\u0259nil\u0259n ${o.origin} ${i}${o.minimum.toString()} ${s.unit}`:`\xC7ox ki\xE7ik: g\xF6zl\u0259nil\u0259n ${o.origin} ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Yanl\u0131\u015F m\u0259tn: "${i.prefix}" il\u0259 ba\u015Flamal\u0131d\u0131r`:i.format==="ends_with"?`Yanl\u0131\u015F m\u0259tn: "${i.suffix}" il\u0259 bitm\u0259lidir`:i.format==="includes"?`Yanl\u0131\u015F m\u0259tn: "${i.includes}" daxil olmal\u0131d\u0131r`:i.format==="regex"?`Yanl\u0131\u015F m\u0259tn: ${i.pattern} \u015Fablonuna uy\u011Fun olmal\u0131d\u0131r`:`Yanl\u0131\u015F ${n[i.format]??o.format}`}case"not_multiple_of":return`Yanl\u0131\u015F \u0259d\u0259d: ${o.divisor} il\u0259 b\xF6l\xFCn\u0259 bil\u0259n olmal\u0131d\u0131r`;case"unrecognized_keys":return`Tan\u0131nmayan a\xE7ar${o.keys.length>1?"lar":""}: ${ee(o.keys,", ")}`;case"invalid_key":return`${o.origin} daxilind\u0259 yanl\u0131\u015F a\xE7ar`;case"invalid_union":return"Yanl\u0131\u015F d\u0259y\u0259r";case"invalid_element":return`${o.origin} daxilind\u0259 yanl\u0131\u015F d\u0259y\u0259r`;default:return"Yanl\u0131\u015F d\u0259y\u0259r"}}},"error");function zI(){return{localeError:gie()}}a(zI,"default");function $U(e,t,r,n){let o=Math.abs(e),i=o%10,s=o%100;return s>=11&&s<=19?n:i===1?t:i>=2&&i<=4?r:n}a($U,"getBelarusianPlural");var yie=a(()=>{let e={string:{unit:{one:"\u0441\u0456\u043C\u0432\u0430\u043B",few:"\u0441\u0456\u043C\u0432\u0430\u043B\u044B",many:"\u0441\u0456\u043C\u0432\u0430\u043B\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},array:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},set:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},file:{unit:{one:"\u0431\u0430\u0439\u0442",few:"\u0431\u0430\u0439\u0442\u044B",many:"\u0431\u0430\u0439\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"\u043B\u0456\u043A";case"object":{if(Array.isArray(o))return"\u043C\u0430\u0441\u0456\u045E";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\u0443\u0432\u043E\u0434",email:"email \u0430\u0434\u0440\u0430\u0441",url:"URL",emoji:"\u044D\u043C\u043E\u0434\u0437\u0456",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0430 \u0456 \u0447\u0430\u0441",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0447\u0430\u0441",duration:"ISO \u043F\u0440\u0430\u0446\u044F\u0433\u043B\u0430\u0441\u0446\u044C",ipv4:"IPv4 \u0430\u0434\u0440\u0430\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0430\u0441",cidrv4:"IPv4 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D",base64:"\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64",base64url:"\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64url",json_string:"JSON \u0440\u0430\u0434\u043E\u043A",e164:"\u043D\u0443\u043C\u0430\u0440 E.164",jwt:"JWT",template_literal:"\u0443\u0432\u043E\u0434"};return o=>{switch(o.code){case"invalid_type":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u045E\u0441\u044F ${o.expected}, \u0430\u0442\u0440\u044B\u043C\u0430\u043D\u0430 ${r(o.input)}`;case"invalid_value":return o.values.length===1?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F ${ce(o.values[0])}`:`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0432\u0430\u0440\u044B\u044F\u043D\u0442: \u0447\u0430\u043A\u0430\u045E\u0441\u044F \u0430\u0434\u0437\u0456\u043D \u0437 ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);if(s){let u=Number(o.maximum),l=$U(u,s.unit.one,s.unit.few,s.unit.many);return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${o.origin??"\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${s.verb} ${i}${o.maximum.toString()} ${l}`}return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${o.origin??"\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);if(s){let u=Number(o.minimum),l=$U(u,s.unit.one,s.unit.few,s.unit.many);return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${o.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${s.verb} ${i}${o.minimum.toString()} ${l}`}return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${o.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u043F\u0430\u0447\u044B\u043D\u0430\u0446\u0446\u0430 \u0437 "${i.prefix}"`:i.format==="ends_with"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u0430\u043A\u0430\u043D\u0447\u0432\u0430\u0446\u0446\u0430 \u043D\u0430 "${i.suffix}"`:i.format==="includes"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u043C\u044F\u0448\u0447\u0430\u0446\u044C "${i.includes}"`:i.format==="regex"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0430\u0434\u043F\u0430\u0432\u044F\u0434\u0430\u0446\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${i.pattern}`:`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B ${n[i.format]??o.format}`}case"not_multiple_of":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043B\u0456\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0431\u044B\u0446\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${o.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0441\u043F\u0430\u0437\u043D\u0430\u043D\u044B ${o.keys.length>1?"\u043A\u043B\u044E\u0447\u044B":"\u043A\u043B\u044E\u0447"}: ${ee(o.keys,", ")}`;case"invalid_key":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043A\u043B\u044E\u0447 \u0443 ${o.origin}`;case"invalid_union":return"\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434";case"invalid_element":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u0430\u0435 \u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435 \u045E ${o.origin}`;default:return"\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434"}}},"error");function DI(){return{localeError:yie()}}a(DI,"default");var vie=a(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"\u0447\u0438\u0441\u043B\u043E";case"object":{if(Array.isArray(e))return"\u043C\u0430\u0441\u0438\u0432";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},"parsedType"),_ie=a(()=>{let e={string:{unit:"\u0441\u0438\u043C\u0432\u043E\u043B\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"},file:{unit:"\u0431\u0430\u0439\u0442\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"},array:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"},set:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"}};function t(n){return e[n]??null}a(t,"getSizing");let r={regex:"\u0432\u0445\u043E\u0434",email:"\u0438\u043C\u0435\u0439\u043B \u0430\u0434\u0440\u0435\u0441",url:"URL",emoji:"\u0435\u043C\u043E\u0434\u0436\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0432\u0440\u0435\u043C\u0435",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0432\u0440\u0435\u043C\u0435",duration:"ISO \u043F\u0440\u043E\u0434\u044A\u043B\u0436\u0438\u0442\u0435\u043B\u043D\u043E\u0441\u0442",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441",cidrv4:"IPv4 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",base64:"base64-\u043A\u043E\u0434\u0438\u0440\u0430\u043D \u043D\u0438\u0437",base64url:"base64url-\u043A\u043E\u0434\u0438\u0440\u0430\u043D \u043D\u0438\u0437",json_string:"JSON \u043D\u0438\u0437",e164:"E.164 \u043D\u043E\u043C\u0435\u0440",jwt:"JWT",template_literal:"\u0432\u0445\u043E\u0434"};return n=>{switch(n.code){case"invalid_type":return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434: \u043E\u0447\u0430\u043A\u0432\u0430\u043D ${n.expected}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D ${vie(n.input)}`;case"invalid_value":return n.values.length===1?`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434: \u043E\u0447\u0430\u043A\u0432\u0430\u043D ${ce(n.values[0])}`:`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430 \u043E\u043F\u0446\u0438\u044F: \u043E\u0447\u0430\u043A\u0432\u0430\u043D\u043E \u0435\u0434\u043D\u043E \u043E\u0442 ${ee(n.values,"|")}`;case"too_big":{let o=n.inclusive?"<=":"<",i=t(n.origin);return i?`\u0422\u0432\u044A\u0440\u0434\u0435 \u0433\u043E\u043B\u044F\u043C\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${n.origin??"\u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442"} \u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430 ${o}${n.maximum.toString()} ${i.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430"}`:`\u0422\u0432\u044A\u0440\u0434\u0435 \u0433\u043E\u043B\u044F\u043C\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${n.origin??"\u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442"} \u0434\u0430 \u0431\u044A\u0434\u0435 ${o}${n.maximum.toString()}`}case"too_small":{let o=n.inclusive?">=":">",i=t(n.origin);return i?`\u0422\u0432\u044A\u0440\u0434\u0435 \u043C\u0430\u043B\u043A\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${n.origin} \u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430 ${o}${n.minimum.toString()} ${i.unit}`:`\u0422\u0432\u044A\u0440\u0434\u0435 \u043C\u0430\u043B\u043A\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${n.origin} \u0434\u0430 \u0431\u044A\u0434\u0435 ${o}${n.minimum.toString()}`}case"invalid_format":{let o=n;if(o.format==="starts_with")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0437\u0430\u043F\u043E\u0447\u0432\u0430 \u0441 "${o.prefix}"`;if(o.format==="ends_with")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0437\u0430\u0432\u044A\u0440\u0448\u0432\u0430 \u0441 "${o.suffix}"`;if(o.format==="includes")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0432\u043A\u043B\u044E\u0447\u0432\u0430 "${o.includes}"`;if(o.format==="regex")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0441\u044A\u0432\u043F\u0430\u0434\u0430 \u0441 ${o.pattern}`;let i="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D";return o.format==="emoji"&&(i="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E"),o.format==="datetime"&&(i="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E"),o.format==="date"&&(i="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430"),o.format==="time"&&(i="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E"),o.format==="duration"&&(i="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430"),`${i} ${r[o.format]??n.format}`}case"not_multiple_of":return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E \u0447\u0438\u0441\u043B\u043E: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0431\u044A\u0434\u0435 \u043A\u0440\u0430\u0442\u043D\u043E \u043D\u0430 ${n.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0437\u043F\u043E\u0437\u043D\u0430\u0442${n.keys.length>1?"\u0438":""} \u043A\u043B\u044E\u0447${n.keys.length>1?"\u043E\u0432\u0435":""}: ${ee(n.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043A\u043B\u044E\u0447 \u0432 ${n.origin}`;case"invalid_union":return"\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434";case"invalid_element":return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430 \u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442 \u0432 ${n.origin}`;default:return"\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434"}}},"error");function MI(){return{localeError:_ie()}}a(MI,"default");var bie=a(()=>{let e={string:{unit:"car\xE0cters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"number";case"object":{if(Array.isArray(o))return"array";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"entrada",email:"adre\xE7a electr\xF2nica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adre\xE7a IPv4",ipv6:"adre\xE7a IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"};return o=>{switch(o.code){case"invalid_type":return`Tipus inv\xE0lid: s'esperava ${o.expected}, s'ha rebut ${r(o.input)}`;case"invalid_value":return o.values.length===1?`Valor inv\xE0lid: s'esperava ${ce(o.values[0])}`:`Opci\xF3 inv\xE0lida: s'esperava una de ${ee(o.values," o ")}`;case"too_big":{let i=o.inclusive?"com a m\xE0xim":"menys de",s=t(o.origin);return s?`Massa gran: s'esperava que ${o.origin??"el valor"} contingu\xE9s ${i} ${o.maximum.toString()} ${s.unit??"elements"}`:`Massa gran: s'esperava que ${o.origin??"el valor"} fos ${i} ${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?"com a m\xEDnim":"m\xE9s de",s=t(o.origin);return s?`Massa petit: s'esperava que ${o.origin} contingu\xE9s ${i} ${o.minimum.toString()} ${s.unit}`:`Massa petit: s'esperava que ${o.origin} fos ${i} ${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Format inv\xE0lid: ha de comen\xE7ar amb "${i.prefix}"`:i.format==="ends_with"?`Format inv\xE0lid: ha d'acabar amb "${i.suffix}"`:i.format==="includes"?`Format inv\xE0lid: ha d'incloure "${i.includes}"`:i.format==="regex"?`Format inv\xE0lid: ha de coincidir amb el patr\xF3 ${i.pattern}`:`Format inv\xE0lid per a ${n[i.format]??o.format}`}case"not_multiple_of":return`N\xFAmero inv\xE0lid: ha de ser m\xFAltiple de ${o.divisor}`;case"unrecognized_keys":return`Clau${o.keys.length>1?"s":""} no reconeguda${o.keys.length>1?"s":""}: ${ee(o.keys,", ")}`;case"invalid_key":return`Clau inv\xE0lida a ${o.origin}`;case"invalid_union":return"Entrada inv\xE0lida";case"invalid_element":return`Element inv\xE0lid a ${o.origin}`;default:return"Entrada inv\xE0lida"}}},"error");function qI(){return{localeError:bie()}}a(qI,"default");var Sie=a(()=>{let e={string:{unit:"znak\u016F",verb:"m\xEDt"},file:{unit:"bajt\u016F",verb:"m\xEDt"},array:{unit:"prvk\u016F",verb:"m\xEDt"},set:{unit:"prvk\u016F",verb:"m\xEDt"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"\u010D\xEDslo";case"string":return"\u0159et\u011Bzec";case"boolean":return"boolean";case"bigint":return"bigint";case"function":return"funkce";case"symbol":return"symbol";case"undefined":return"undefined";case"object":{if(Array.isArray(o))return"pole";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"regul\xE1rn\xED v\xFDraz",email:"e-mailov\xE1 adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a \u010Das ve form\xE1tu ISO",date:"datum ve form\xE1tu ISO",time:"\u010Das ve form\xE1tu ISO",duration:"doba trv\xE1n\xED ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"\u0159et\u011Bzec zak\xF3dovan\xFD ve form\xE1tu base64",base64url:"\u0159et\u011Bzec zak\xF3dovan\xFD ve form\xE1tu base64url",json_string:"\u0159et\u011Bzec ve form\xE1tu JSON",e164:"\u010D\xEDslo E.164",jwt:"JWT",template_literal:"vstup"};return o=>{switch(o.code){case"invalid_type":return`Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no ${o.expected}, obdr\u017Eeno ${r(o.input)}`;case"invalid_value":return o.values.length===1?`Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no ${ce(o.values[0])}`:`Neplatn\xE1 mo\u017Enost: o\u010Dek\xE1v\xE1na jedna z hodnot ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`Hodnota je p\u0159\xEDli\u0161 velk\xE1: ${o.origin??"hodnota"} mus\xED m\xEDt ${i}${o.maximum.toString()} ${s.unit??"prvk\u016F"}`:`Hodnota je p\u0159\xEDli\u0161 velk\xE1: ${o.origin??"hodnota"} mus\xED b\xFDt ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`Hodnota je p\u0159\xEDli\u0161 mal\xE1: ${o.origin??"hodnota"} mus\xED m\xEDt ${i}${o.minimum.toString()} ${s.unit??"prvk\u016F"}`:`Hodnota je p\u0159\xEDli\u0161 mal\xE1: ${o.origin??"hodnota"} mus\xED b\xFDt ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED za\u010D\xEDnat na "${i.prefix}"`:i.format==="ends_with"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED kon\u010Dit na "${i.suffix}"`:i.format==="includes"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED obsahovat "${i.includes}"`:i.format==="regex"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED odpov\xEDdat vzoru ${i.pattern}`:`Neplatn\xFD form\xE1t ${n[i.format]??o.format}`}case"not_multiple_of":return`Neplatn\xE9 \u010D\xEDslo: mus\xED b\xFDt n\xE1sobkem ${o.divisor}`;case"unrecognized_keys":return`Nezn\xE1m\xE9 kl\xED\u010De: ${ee(o.keys,", ")}`;case"invalid_key":return`Neplatn\xFD kl\xED\u010D v ${o.origin}`;case"invalid_union":return"Neplatn\xFD vstup";case"invalid_element":return`Neplatn\xE1 hodnota v ${o.origin}`;default:return"Neplatn\xFD vstup"}}},"error");function UI(){return{localeError:Sie()}}a(UI,"default");var wie=a(()=>{let e={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}},t={string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"s\xE6t",file:"fil"};function r(s){return e[s]??null}a(r,"getSizing");function n(s){return t[s]??s}a(n,"getTypeName");let o=a(s=>{let u=typeof s;switch(u){case"number":return Number.isNaN(s)?"NaN":"tal";case"object":return Array.isArray(s)?"liste":s===null?"null":Object.getPrototypeOf(s)!==Object.prototype&&s.constructor?s.constructor.name:"objekt"}return u},"parsedType"),i={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkesl\xE6t",date:"ISO-dato",time:"ISO-klokkesl\xE6t",duration:"ISO-varighed",ipv4:"IPv4-omr\xE5de",ipv6:"IPv6-omr\xE5de",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return s=>{switch(s.code){case"invalid_type":return`Ugyldigt input: forventede ${n(s.expected)}, fik ${n(o(s.input))}`;case"invalid_value":return s.values.length===1?`Ugyldig v\xE6rdi: forventede ${ce(s.values[0])}`:`Ugyldigt valg: forventede en af f\xF8lgende ${ee(s.values,"|")}`;case"too_big":{let u=s.inclusive?"<=":"<",l=r(s.origin),d=n(s.origin);return l?`For stor: forventede ${d??"value"} ${l.verb} ${u} ${s.maximum.toString()} ${l.unit??"elementer"}`:`For stor: forventede ${d??"value"} havde ${u} ${s.maximum.toString()}`}case"too_small":{let u=s.inclusive?">=":">",l=r(s.origin),d=n(s.origin);return l?`For lille: forventede ${d} ${l.verb} ${u} ${s.minimum.toString()} ${l.unit}`:`For lille: forventede ${d} havde ${u} ${s.minimum.toString()}`}case"invalid_format":{let u=s;return u.format==="starts_with"?`Ugyldig streng: skal starte med "${u.prefix}"`:u.format==="ends_with"?`Ugyldig streng: skal ende med "${u.suffix}"`:u.format==="includes"?`Ugyldig streng: skal indeholde "${u.includes}"`:u.format==="regex"?`Ugyldig streng: skal matche m\xF8nsteret ${u.pattern}`:`Ugyldig ${i[u.format]??s.format}`}case"not_multiple_of":return`Ugyldigt tal: skal v\xE6re deleligt med ${s.divisor}`;case"unrecognized_keys":return`${s.keys.length>1?"Ukendte n\xF8gler":"Ukendt n\xF8gle"}: ${ee(s.keys,", ")}`;case"invalid_key":return`Ugyldig n\xF8gle i ${s.origin}`;case"invalid_union":return"Ugyldigt input: matcher ingen af de tilladte typer";case"invalid_element":return`Ugyldig v\xE6rdi i ${s.origin}`;default:return"Ugyldigt input"}}},"error");function LI(){return{localeError:wie()}}a(LI,"default");var xie=a(()=>{let e={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"Zahl";case"object":{if(Array.isArray(o))return"Array";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"};return o=>{switch(o.code){case"invalid_type":return`Ung\xFCltige Eingabe: erwartet ${o.expected}, erhalten ${r(o.input)}`;case"invalid_value":return o.values.length===1?`Ung\xFCltige Eingabe: erwartet ${ce(o.values[0])}`:`Ung\xFCltige Option: erwartet eine von ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`Zu gro\xDF: erwartet, dass ${o.origin??"Wert"} ${i}${o.maximum.toString()} ${s.unit??"Elemente"} hat`:`Zu gro\xDF: erwartet, dass ${o.origin??"Wert"} ${i}${o.maximum.toString()} ist`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`Zu klein: erwartet, dass ${o.origin} ${i}${o.minimum.toString()} ${s.unit} hat`:`Zu klein: erwartet, dass ${o.origin} ${i}${o.minimum.toString()} ist`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Ung\xFCltiger String: muss mit "${i.prefix}" beginnen`:i.format==="ends_with"?`Ung\xFCltiger String: muss mit "${i.suffix}" enden`:i.format==="includes"?`Ung\xFCltiger String: muss "${i.includes}" enthalten`:i.format==="regex"?`Ung\xFCltiger String: muss dem Muster ${i.pattern} entsprechen`:`Ung\xFCltig: ${n[i.format]??o.format}`}case"not_multiple_of":return`Ung\xFCltige Zahl: muss ein Vielfaches von ${o.divisor} sein`;case"unrecognized_keys":return`${o.keys.length>1?"Unbekannte Schl\xFCssel":"Unbekannter Schl\xFCssel"}: ${ee(o.keys,", ")}`;case"invalid_key":return`Ung\xFCltiger Schl\xFCssel in ${o.origin}`;case"invalid_union":return"Ung\xFCltige Eingabe";case"invalid_element":return`Ung\xFCltiger Wert in ${o.origin}`;default:return"Ung\xFCltige Eingabe"}}},"error");function FI(){return{localeError:xie()}}a(FI,"default");var Tie=a(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":{if(Array.isArray(e))return"array";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},"parsedType"),kie=a(()=>{let e={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}};function t(n){return e[n]??null}a(t,"getSizing");let r={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",mac:"MAC address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return n=>{switch(n.code){case"invalid_type":return`Invalid input: expected ${n.expected}, received ${Tie(n.input)}`;case"invalid_value":return n.values.length===1?`Invalid input: expected ${ce(n.values[0])}`:`Invalid option: expected one of ${ee(n.values,"|")}`;case"too_big":{let o=n.inclusive?"<=":"<",i=t(n.origin);return i?`Too big: expected ${n.origin??"value"} to have ${o}${n.maximum.toString()} ${i.unit??"elements"}`:`Too big: expected ${n.origin??"value"} to be ${o}${n.maximum.toString()}`}case"too_small":{let o=n.inclusive?">=":">",i=t(n.origin);return i?`Too small: expected ${n.origin} to have ${o}${n.minimum.toString()} ${i.unit}`:`Too small: expected ${n.origin} to be ${o}${n.minimum.toString()}`}case"invalid_format":{let o=n;return o.format==="starts_with"?`Invalid string: must start with "${o.prefix}"`:o.format==="ends_with"?`Invalid string: must end with "${o.suffix}"`:o.format==="includes"?`Invalid string: must include "${o.includes}"`:o.format==="regex"?`Invalid string: must match pattern ${o.pattern}`:`Invalid ${r[o.format]??n.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${n.divisor}`;case"unrecognized_keys":return`Unrecognized key${n.keys.length>1?"s":""}: ${ee(n.keys,", ")}`;case"invalid_key":return`Invalid key in ${n.origin}`;case"invalid_union":return"Invalid input";case"invalid_element":return`Invalid value in ${n.origin}`;default:return"Invalid input"}}},"error");function wd(){return{localeError:kie()}}a(wd,"default");var Eie=a(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nombro";case"object":{if(Array.isArray(e))return"tabelo";if(e===null)return"senvalora";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},"parsedType"),Pie=a(()=>{let e={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}};function t(n){return e[n]??null}a(t,"getSizing");let r={regex:"enigo",email:"retadreso",url:"URL",emoji:"emo\u011Dio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-da\u016Dro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"};return n=>{switch(n.code){case"invalid_type":return`Nevalida enigo: atendi\u011Dis ${n.expected}, ricevi\u011Dis ${Eie(n.input)}`;case"invalid_value":return n.values.length===1?`Nevalida enigo: atendi\u011Dis ${ce(n.values[0])}`:`Nevalida opcio: atendi\u011Dis unu el ${ee(n.values,"|")}`;case"too_big":{let o=n.inclusive?"<=":"<",i=t(n.origin);return i?`Tro granda: atendi\u011Dis ke ${n.origin??"valoro"} havu ${o}${n.maximum.toString()} ${i.unit??"elementojn"}`:`Tro granda: atendi\u011Dis ke ${n.origin??"valoro"} havu ${o}${n.maximum.toString()}`}case"too_small":{let o=n.inclusive?">=":">",i=t(n.origin);return i?`Tro malgranda: atendi\u011Dis ke ${n.origin} havu ${o}${n.minimum.toString()} ${i.unit}`:`Tro malgranda: atendi\u011Dis ke ${n.origin} estu ${o}${n.minimum.toString()}`}case"invalid_format":{let o=n;return o.format==="starts_with"?`Nevalida karaktraro: devas komenci\u011Di per "${o.prefix}"`:o.format==="ends_with"?`Nevalida karaktraro: devas fini\u011Di per "${o.suffix}"`:o.format==="includes"?`Nevalida karaktraro: devas inkluzivi "${o.includes}"`:o.format==="regex"?`Nevalida karaktraro: devas kongrui kun la modelo ${o.pattern}`:`Nevalida ${r[o.format]??n.format}`}case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${n.divisor}`;case"unrecognized_keys":return`Nekonata${n.keys.length>1?"j":""} \u015Dlosilo${n.keys.length>1?"j":""}: ${ee(n.keys,", ")}`;case"invalid_key":return`Nevalida \u015Dlosilo en ${n.origin}`;case"invalid_union":return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${n.origin}`;default:return"Nevalida enigo"}}},"error");function JI(){return{localeError:Pie()}}a(JI,"default");var Iie=a(()=>{let e={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}},t={string:"texto",number:"n\xFAmero",boolean:"booleano",array:"arreglo",object:"objeto",set:"conjunto",file:"archivo",date:"fecha",bigint:"n\xFAmero grande",symbol:"s\xEDmbolo",undefined:"indefinido",null:"nulo",function:"funci\xF3n",map:"mapa",record:"registro",tuple:"tupla",enum:"enumeraci\xF3n",union:"uni\xF3n",literal:"literal",promise:"promesa",void:"vac\xEDo",never:"nunca",unknown:"desconocido",any:"cualquiera"};function r(s){return e[s]??null}a(r,"getSizing");function n(s){return t[s]??s}a(n,"getTypeName");let o=a(s=>{let u=typeof s;switch(u){case"number":return Number.isNaN(s)?"NaN":"number";case"object":return Array.isArray(s)?"array":s===null?"null":Object.getPrototypeOf(s)!==Object.prototype?s.constructor.name:"object"}return u},"parsedType"),i={regex:"entrada",email:"direcci\xF3n de correo electr\xF3nico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duraci\xF3n ISO",ipv4:"direcci\xF3n IPv4",ipv6:"direcci\xF3n IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"};return s=>{switch(s.code){case"invalid_type":return`Entrada inv\xE1lida: se esperaba ${n(s.expected)}, recibido ${n(o(s.input))}`;case"invalid_value":return s.values.length===1?`Entrada inv\xE1lida: se esperaba ${ce(s.values[0])}`:`Opci\xF3n inv\xE1lida: se esperaba una de ${ee(s.values,"|")}`;case"too_big":{let u=s.inclusive?"<=":"<",l=r(s.origin),d=n(s.origin);return l?`Demasiado grande: se esperaba que ${d??"valor"} tuviera ${u}${s.maximum.toString()} ${l.unit??"elementos"}`:`Demasiado grande: se esperaba que ${d??"valor"} fuera ${u}${s.maximum.toString()}`}case"too_small":{let u=s.inclusive?">=":">",l=r(s.origin),d=n(s.origin);return l?`Demasiado peque\xF1o: se esperaba que ${d} tuviera ${u}${s.minimum.toString()} ${l.unit}`:`Demasiado peque\xF1o: se esperaba que ${d} fuera ${u}${s.minimum.toString()}`}case"invalid_format":{let u=s;return u.format==="starts_with"?`Cadena inv\xE1lida: debe comenzar con "${u.prefix}"`:u.format==="ends_with"?`Cadena inv\xE1lida: debe terminar en "${u.suffix}"`:u.format==="includes"?`Cadena inv\xE1lida: debe incluir "${u.includes}"`:u.format==="regex"?`Cadena inv\xE1lida: debe coincidir con el patr\xF3n ${u.pattern}`:`Inv\xE1lido ${i[u.format]??s.format}`}case"not_multiple_of":return`N\xFAmero inv\xE1lido: debe ser m\xFAltiplo de ${s.divisor}`;case"unrecognized_keys":return`Llave${s.keys.length>1?"s":""} desconocida${s.keys.length>1?"s":""}: ${ee(s.keys,", ")}`;case"invalid_key":return`Llave inv\xE1lida en ${n(s.origin)}`;case"invalid_union":return"Entrada inv\xE1lida";case"invalid_element":return`Valor inv\xE1lido en ${n(s.origin)}`;default:return"Entrada inv\xE1lida"}}},"error");function BI(){return{localeError:Iie()}}a(BI,"default");var Oie=a(()=>{let e={string:{unit:"\u06A9\u0627\u0631\u0627\u06A9\u062A\u0631",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},file:{unit:"\u0628\u0627\u06CC\u062A",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},array:{unit:"\u0622\u06CC\u062A\u0645",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},set:{unit:"\u0622\u06CC\u062A\u0645",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"\u0639\u062F\u062F";case"object":{if(Array.isArray(o))return"\u0622\u0631\u0627\u06CC\u0647";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\u0648\u0631\u0648\u062F\u06CC",email:"\u0622\u062F\u0631\u0633 \u0627\u06CC\u0645\u06CC\u0644",url:"URL",emoji:"\u0627\u06CC\u0645\u0648\u062C\u06CC",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u062A\u0627\u0631\u06CC\u062E \u0648 \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",date:"\u062A\u0627\u0631\u06CC\u062E \u0627\u06CC\u0632\u0648",time:"\u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",duration:"\u0645\u062F\u062A \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",ipv4:"IPv4 \u0622\u062F\u0631\u0633",ipv6:"IPv6 \u0622\u062F\u0631\u0633",cidrv4:"IPv4 \u062F\u0627\u0645\u0646\u0647",cidrv6:"IPv6 \u062F\u0627\u0645\u0646\u0647",base64:"base64-encoded \u0631\u0634\u062A\u0647",base64url:"base64url-encoded \u0631\u0634\u062A\u0647",json_string:"JSON \u0631\u0634\u062A\u0647",e164:"E.164 \u0639\u062F\u062F",jwt:"JWT",template_literal:"\u0648\u0631\u0648\u062F\u06CC"};return o=>{switch(o.code){case"invalid_type":return`\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${o.expected} \u0645\u06CC\u200C\u0628\u0648\u062F\u060C ${r(o.input)} \u062F\u0631\u06CC\u0627\u0641\u062A \u0634\u062F`;case"invalid_value":return o.values.length===1?`\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${ce(o.values[0])} \u0645\u06CC\u200C\u0628\u0648\u062F`:`\u06AF\u0632\u06CC\u0646\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A \u06CC\u06A9\u06CC \u0627\u0632 ${ee(o.values,"|")} \u0645\u06CC\u200C\u0628\u0648\u062F`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${o.origin??"\u0645\u0642\u062F\u0627\u0631"} \u0628\u0627\u06CC\u062F ${i}${o.maximum.toString()} ${s.unit??"\u0639\u0646\u0635\u0631"} \u0628\u0627\u0634\u062F`:`\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${o.origin??"\u0645\u0642\u062F\u0627\u0631"} \u0628\u0627\u06CC\u062F ${i}${o.maximum.toString()} \u0628\u0627\u0634\u062F`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${o.origin} \u0628\u0627\u06CC\u062F ${i}${o.minimum.toString()} ${s.unit} \u0628\u0627\u0634\u062F`:`\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${o.origin} \u0628\u0627\u06CC\u062F ${i}${o.minimum.toString()} \u0628\u0627\u0634\u062F`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 "${i.prefix}" \u0634\u0631\u0648\u0639 \u0634\u0648\u062F`:i.format==="ends_with"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 "${i.suffix}" \u062A\u0645\u0627\u0645 \u0634\u0648\u062F`:i.format==="includes"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0634\u0627\u0645\u0644 "${i.includes}" \u0628\u0627\u0634\u062F`:i.format==="regex"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 \u0627\u0644\u06AF\u0648\u06CC ${i.pattern} \u0645\u0637\u0627\u0628\u0642\u062A \u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F`:`${n[i.format]??o.format} \u0646\u0627\u0645\u0639\u062A\u0628\u0631`}case"not_multiple_of":return`\u0639\u062F\u062F \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0645\u0636\u0631\u0628 ${o.divisor} \u0628\u0627\u0634\u062F`;case"unrecognized_keys":return`\u06A9\u0644\u06CC\u062F${o.keys.length>1?"\u0647\u0627\u06CC":""} \u0646\u0627\u0634\u0646\u0627\u0633: ${ee(o.keys,", ")}`;case"invalid_key":return`\u06A9\u0644\u06CC\u062F \u0646\u0627\u0634\u0646\u0627\u0633 \u062F\u0631 ${o.origin}`;case"invalid_union":return"\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631";case"invalid_element":return`\u0645\u0642\u062F\u0627\u0631 \u0646\u0627\u0645\u0639\u062A\u0628\u0631 \u062F\u0631 ${o.origin}`;default:return"\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631"}}},"error");function HI(){return{localeError:Oie()}}a(HI,"default");var Aie=a(()=>{let e={string:{unit:"merkki\xE4",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"p\xE4iv\xE4m\xE4\xE4r\xE4n"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"number";case"object":{if(Array.isArray(o))return"array";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"s\xE4\xE4nn\xF6llinen lauseke",email:"s\xE4hk\xF6postiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-p\xE4iv\xE4m\xE4\xE4r\xE4",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"};return o=>{switch(o.code){case"invalid_type":return`Virheellinen tyyppi: odotettiin ${o.expected}, oli ${r(o.input)}`;case"invalid_value":return o.values.length===1?`Virheellinen sy\xF6te: t\xE4ytyy olla ${ce(o.values[0])}`:`Virheellinen valinta: t\xE4ytyy olla yksi seuraavista: ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`Liian suuri: ${s.subject} t\xE4ytyy olla ${i}${o.maximum.toString()} ${s.unit}`.trim():`Liian suuri: arvon t\xE4ytyy olla ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`Liian pieni: ${s.subject} t\xE4ytyy olla ${i}${o.minimum.toString()} ${s.unit}`.trim():`Liian pieni: arvon t\xE4ytyy olla ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Virheellinen sy\xF6te: t\xE4ytyy alkaa "${i.prefix}"`:i.format==="ends_with"?`Virheellinen sy\xF6te: t\xE4ytyy loppua "${i.suffix}"`:i.format==="includes"?`Virheellinen sy\xF6te: t\xE4ytyy sis\xE4lt\xE4\xE4 "${i.includes}"`:i.format==="regex"?`Virheellinen sy\xF6te: t\xE4ytyy vastata s\xE4\xE4nn\xF6llist\xE4 lauseketta ${i.pattern}`:`Virheellinen ${n[i.format]??o.format}`}case"not_multiple_of":return`Virheellinen luku: t\xE4ytyy olla luvun ${o.divisor} monikerta`;case"unrecognized_keys":return`${o.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${ee(o.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return"Virheellinen sy\xF6te"}}},"error");function VI(){return{localeError:Aie()}}a(VI,"default");var Cie=a(()=>{let e={string:{unit:"caract\xE8res",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"\xE9l\xE9ments",verb:"avoir"},set:{unit:"\xE9l\xE9ments",verb:"avoir"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"nombre";case"object":{if(Array.isArray(o))return"tableau";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"entr\xE9e",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"dur\xE9e ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"cha\xEEne encod\xE9e en base64",base64url:"cha\xEEne encod\xE9e en base64url",json_string:"cha\xEEne JSON",e164:"num\xE9ro E.164",jwt:"JWT",template_literal:"entr\xE9e"};return o=>{switch(o.code){case"invalid_type":return`Entr\xE9e invalide : ${o.expected} attendu, ${r(o.input)} re\xE7u`;case"invalid_value":return o.values.length===1?`Entr\xE9e invalide : ${ce(o.values[0])} attendu`:`Option invalide : une valeur parmi ${ee(o.values,"|")} attendue`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`Trop grand : ${o.origin??"valeur"} doit ${s.verb} ${i}${o.maximum.toString()} ${s.unit??"\xE9l\xE9ment(s)"}`:`Trop grand : ${o.origin??"valeur"} doit \xEAtre ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`Trop petit : ${o.origin} doit ${s.verb} ${i}${o.minimum.toString()} ${s.unit}`:`Trop petit : ${o.origin} doit \xEAtre ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Cha\xEEne invalide : doit commencer par "${i.prefix}"`:i.format==="ends_with"?`Cha\xEEne invalide : doit se terminer par "${i.suffix}"`:i.format==="includes"?`Cha\xEEne invalide : doit inclure "${i.includes}"`:i.format==="regex"?`Cha\xEEne invalide : doit correspondre au mod\xE8le ${i.pattern}`:`${n[i.format]??o.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit \xEAtre un multiple de ${o.divisor}`;case"unrecognized_keys":return`Cl\xE9${o.keys.length>1?"s":""} non reconnue${o.keys.length>1?"s":""} : ${ee(o.keys,", ")}`;case"invalid_key":return`Cl\xE9 invalide dans ${o.origin}`;case"invalid_union":return"Entr\xE9e invalide";case"invalid_element":return`Valeur invalide dans ${o.origin}`;default:return"Entr\xE9e invalide"}}},"error");function ZI(){return{localeError:Cie()}}a(ZI,"default");var Rie=a(()=>{let e={string:{unit:"caract\xE8res",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"\xE9l\xE9ments",verb:"avoir"},set:{unit:"\xE9l\xE9ments",verb:"avoir"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"number";case"object":{if(Array.isArray(o))return"array";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"entr\xE9e",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"dur\xE9e ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"cha\xEEne encod\xE9e en base64",base64url:"cha\xEEne encod\xE9e en base64url",json_string:"cha\xEEne JSON",e164:"num\xE9ro E.164",jwt:"JWT",template_literal:"entr\xE9e"};return o=>{switch(o.code){case"invalid_type":return`Entr\xE9e invalide : attendu ${o.expected}, re\xE7u ${r(o.input)}`;case"invalid_value":return o.values.length===1?`Entr\xE9e invalide : attendu ${ce(o.values[0])}`:`Option invalide : attendu l'une des valeurs suivantes ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"\u2264":"<",s=t(o.origin);return s?`Trop grand : attendu que ${o.origin??"la valeur"} ait ${i}${o.maximum.toString()} ${s.unit}`:`Trop grand : attendu que ${o.origin??"la valeur"} soit ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?"\u2265":">",s=t(o.origin);return s?`Trop petit : attendu que ${o.origin} ait ${i}${o.minimum.toString()} ${s.unit}`:`Trop petit : attendu que ${o.origin} soit ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Cha\xEEne invalide : doit commencer par "${i.prefix}"`:i.format==="ends_with"?`Cha\xEEne invalide : doit se terminer par "${i.suffix}"`:i.format==="includes"?`Cha\xEEne invalide : doit inclure "${i.includes}"`:i.format==="regex"?`Cha\xEEne invalide : doit correspondre au motif ${i.pattern}`:`${n[i.format]??o.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit \xEAtre un multiple de ${o.divisor}`;case"unrecognized_keys":return`Cl\xE9${o.keys.length>1?"s":""} non reconnue${o.keys.length>1?"s":""} : ${ee(o.keys,", ")}`;case"invalid_key":return`Cl\xE9 invalide dans ${o.origin}`;case"invalid_union":return"Entr\xE9e invalide";case"invalid_element":return`Valeur invalide dans ${o.origin}`;default:return"Entr\xE9e invalide"}}},"error");function KI(){return{localeError:Rie()}}a(KI,"default");var $ie=a(()=>{let e={string:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA",gender:"f"},number:{label:"\u05DE\u05E1\u05E4\u05E8",gender:"m"},boolean:{label:"\u05E2\u05E8\u05DA \u05D1\u05D5\u05DC\u05D9\u05D0\u05E0\u05D9",gender:"m"},bigint:{label:"BigInt",gender:"m"},date:{label:"\u05EA\u05D0\u05E8\u05D9\u05DA",gender:"m"},array:{label:"\u05DE\u05E2\u05E8\u05DA",gender:"m"},object:{label:"\u05D0\u05D5\u05D1\u05D9\u05D9\u05E7\u05D8",gender:"m"},null:{label:"\u05E2\u05E8\u05DA \u05E8\u05D9\u05E7 (null)",gender:"m"},undefined:{label:"\u05E2\u05E8\u05DA \u05DC\u05D0 \u05DE\u05D5\u05D2\u05D3\u05E8 (undefined)",gender:"m"},symbol:{label:"\u05E1\u05D9\u05DE\u05D1\u05D5\u05DC (Symbol)",gender:"m"},function:{label:"\u05E4\u05D5\u05E0\u05E7\u05E6\u05D9\u05D4",gender:"f"},map:{label:"\u05DE\u05E4\u05D4 (Map)",gender:"f"},set:{label:"\u05E7\u05D1\u05D5\u05E6\u05D4 (Set)",gender:"f"},file:{label:"\u05E7\u05D5\u05D1\u05E5",gender:"m"},promise:{label:"Promise",gender:"m"},NaN:{label:"NaN",gender:"m"},unknown:{label:"\u05E2\u05E8\u05DA \u05DC\u05D0 \u05D9\u05D3\u05D5\u05E2",gender:"m"},value:{label:"\u05E2\u05E8\u05DA",gender:"m"}},t={string:{unit:"\u05EA\u05D5\u05D5\u05D9\u05DD",shortLabel:"\u05E7\u05E6\u05E8",longLabel:"\u05D0\u05E8\u05D5\u05DA"},file:{unit:"\u05D1\u05D9\u05D9\u05D8\u05D9\u05DD",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"},array:{unit:"\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"},set:{unit:"\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"},number:{unit:"",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"}},r=a(d=>d?e[d]:void 0,"typeEntry"),n=a(d=>{let p=r(d);return p?p.label:d??e.unknown.label},"typeLabel"),o=a(d=>`\u05D4${n(d)}`,"withDefinite"),i=a(d=>(r(d)?.gender??"m")==="f"?"\u05E6\u05E8\u05D9\u05DB\u05D4 \u05DC\u05D4\u05D9\u05D5\u05EA":"\u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA","verbFor"),s=a(d=>d?t[d]??null:null,"getSizing"),u=a(d=>{let p=typeof d;switch(p){case"number":return Number.isNaN(d)?"NaN":"number";case"object":return Array.isArray(d)?"array":d===null?"null":Object.getPrototypeOf(d)!==Object.prototype&&d.constructor?d.constructor.name:"object";default:return p}},"parsedType"),l={regex:{label:"\u05E7\u05DC\u05D8",gender:"m"},email:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA \u05D0\u05D9\u05DE\u05D9\u05D9\u05DC",gender:"f"},url:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA \u05E8\u05E9\u05EA",gender:"f"},emoji:{label:"\u05D0\u05D9\u05DE\u05D5\u05D2'\u05D9",gender:"m"},uuid:{label:"UUID",gender:"m"},nanoid:{label:"nanoid",gender:"m"},guid:{label:"GUID",gender:"m"},cuid:{label:"cuid",gender:"m"},cuid2:{label:"cuid2",gender:"m"},ulid:{label:"ULID",gender:"m"},xid:{label:"XID",gender:"m"},ksuid:{label:"KSUID",gender:"m"},datetime:{label:"\u05EA\u05D0\u05E8\u05D9\u05DA \u05D5\u05D6\u05DE\u05DF ISO",gender:"m"},date:{label:"\u05EA\u05D0\u05E8\u05D9\u05DA ISO",gender:"m"},time:{label:"\u05D6\u05DE\u05DF ISO",gender:"m"},duration:{label:"\u05DE\u05E9\u05DA \u05D6\u05DE\u05DF ISO",gender:"m"},ipv4:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA IPv4",gender:"f"},ipv6:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA IPv6",gender:"f"},cidrv4:{label:"\u05D8\u05D5\u05D5\u05D7 IPv4",gender:"m"},cidrv6:{label:"\u05D8\u05D5\u05D5\u05D7 IPv6",gender:"m"},base64:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64",gender:"f"},base64url:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64 \u05DC\u05DB\u05EA\u05D5\u05D1\u05D5\u05EA \u05E8\u05E9\u05EA",gender:"f"},json_string:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA JSON",gender:"f"},e164:{label:"\u05DE\u05E1\u05E4\u05E8 E.164",gender:"m"},jwt:{label:"JWT",gender:"m"},ends_with:{label:"\u05E7\u05DC\u05D8",gender:"m"},includes:{label:"\u05E7\u05DC\u05D8",gender:"m"},lowercase:{label:"\u05E7\u05DC\u05D8",gender:"m"},starts_with:{label:"\u05E7\u05DC\u05D8",gender:"m"},uppercase:{label:"\u05E7\u05DC\u05D8",gender:"m"}};return d=>{switch(d.code){case"invalid_type":{let p=d.expected,f=n(p),m=u(d.input),y=e[m]?.label??m;return`\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${f}, \u05D4\u05EA\u05E7\u05D1\u05DC ${y}`}case"invalid_value":{if(d.values.length===1)return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D4\u05E2\u05E8\u05DA \u05D7\u05D9\u05D9\u05D1 \u05DC\u05D4\u05D9\u05D5\u05EA ${ce(d.values[0])}`;let p=d.values.map(y=>ce(y));if(d.values.length===2)return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D4\u05D0\u05E4\u05E9\u05E8\u05D5\u05D9\u05D5\u05EA \u05D4\u05DE\u05EA\u05D0\u05D9\u05DE\u05D5\u05EA \u05D4\u05DF ${p[0]} \u05D0\u05D5 ${p[1]}`;let f=p[p.length-1];return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D4\u05D0\u05E4\u05E9\u05E8\u05D5\u05D9\u05D5\u05EA \u05D4\u05DE\u05EA\u05D0\u05D9\u05DE\u05D5\u05EA \u05D4\u05DF ${p.slice(0,-1).join(", ")} \u05D0\u05D5 ${f}`}case"too_big":{let p=s(d.origin),f=o(d.origin??"value");if(d.origin==="string")return`${p?.longLabel??"\u05D0\u05E8\u05D5\u05DA"} \u05DE\u05D3\u05D9: ${f} \u05E6\u05E8\u05D9\u05DB\u05D4 \u05DC\u05D4\u05DB\u05D9\u05DC ${d.maximum.toString()} ${p?.unit??""} ${d.inclusive?"\u05D0\u05D5 \u05E4\u05D7\u05D5\u05EA":"\u05DC\u05DB\u05DC \u05D4\u05D9\u05D5\u05EA\u05E8"}`.trim();if(d.origin==="number"){let g=d.inclusive?`\u05E7\u05D8\u05DF \u05D0\u05D5 \u05E9\u05D5\u05D5\u05D4 \u05DC-${d.maximum}`:`\u05E7\u05D8\u05DF \u05DE-${d.maximum}`;return`\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${f} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${g}`}if(d.origin==="array"||d.origin==="set"){let g=d.origin==="set"?"\u05E6\u05E8\u05D9\u05DB\u05D4":"\u05E6\u05E8\u05D9\u05DA",h=d.inclusive?`${d.maximum} ${p?.unit??""} \u05D0\u05D5 \u05E4\u05D7\u05D5\u05EA`:`\u05E4\u05D7\u05D5\u05EA \u05DE-${d.maximum} ${p?.unit??""}`;return`\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${f} ${g} \u05DC\u05D4\u05DB\u05D9\u05DC ${h}`.trim()}let m=d.inclusive?"<=":"<",y=i(d.origin??"value");return p?.unit?`${p.longLabel} \u05DE\u05D3\u05D9: ${f} ${y} ${m}${d.maximum.toString()} ${p.unit}`:`${p?.longLabel??"\u05D2\u05D3\u05D5\u05DC"} \u05DE\u05D3\u05D9: ${f} ${y} ${m}${d.maximum.toString()}`}case"too_small":{let p=s(d.origin),f=o(d.origin??"value");if(d.origin==="string")return`${p?.shortLabel??"\u05E7\u05E6\u05E8"} \u05DE\u05D3\u05D9: ${f} \u05E6\u05E8\u05D9\u05DB\u05D4 \u05DC\u05D4\u05DB\u05D9\u05DC ${d.minimum.toString()} ${p?.unit??""} ${d.inclusive?"\u05D0\u05D5 \u05D9\u05D5\u05EA\u05E8":"\u05DC\u05E4\u05D7\u05D5\u05EA"}`.trim();if(d.origin==="number"){let g=d.inclusive?`\u05D2\u05D3\u05D5\u05DC \u05D0\u05D5 \u05E9\u05D5\u05D5\u05D4 \u05DC-${d.minimum}`:`\u05D2\u05D3\u05D5\u05DC \u05DE-${d.minimum}`;return`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${f} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${g}`}if(d.origin==="array"||d.origin==="set"){let g=d.origin==="set"?"\u05E6\u05E8\u05D9\u05DB\u05D4":"\u05E6\u05E8\u05D9\u05DA";if(d.minimum===1&&d.inclusive){let v=(d.origin==="set","\u05DC\u05E4\u05D7\u05D5\u05EA \u05E4\u05E8\u05D9\u05D8 \u05D0\u05D7\u05D3");return`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${f} ${g} \u05DC\u05D4\u05DB\u05D9\u05DC ${v}`}let h=d.inclusive?`${d.minimum} ${p?.unit??""} \u05D0\u05D5 \u05D9\u05D5\u05EA\u05E8`:`\u05D9\u05D5\u05EA\u05E8 \u05DE-${d.minimum} ${p?.unit??""}`;return`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${f} ${g} \u05DC\u05D4\u05DB\u05D9\u05DC ${h}`.trim()}let m=d.inclusive?">=":">",y=i(d.origin??"value");return p?.unit?`${p.shortLabel} \u05DE\u05D3\u05D9: ${f} ${y} ${m}${d.minimum.toString()} ${p.unit}`:`${p?.shortLabel??"\u05E7\u05D8\u05DF"} \u05DE\u05D3\u05D9: ${f} ${y} ${m}${d.minimum.toString()}`}case"invalid_format":{let p=d;if(p.format==="starts_with")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D7\u05D9\u05DC \u05D1 "${p.prefix}"`;if(p.format==="ends_with")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05E1\u05EA\u05D9\u05D9\u05DD \u05D1 "${p.suffix}"`;if(p.format==="includes")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05DB\u05DC\u05D5\u05DC "${p.includes}"`;if(p.format==="regex")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D0\u05D9\u05DD \u05DC\u05EA\u05D1\u05E0\u05D9\u05EA ${p.pattern}`;let f=l[p.format],m=f?.label??p.format,g=(f?.gender??"m")==="f"?"\u05EA\u05E7\u05D9\u05E0\u05D4":"\u05EA\u05E7\u05D9\u05DF";return`${m} \u05DC\u05D0 ${g}`}case"not_multiple_of":return`\u05DE\u05E1\u05E4\u05E8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D7\u05D9\u05D9\u05D1 \u05DC\u05D4\u05D9\u05D5\u05EA \u05DE\u05DB\u05E4\u05DC\u05D4 \u05E9\u05DC ${d.divisor}`;case"unrecognized_keys":return`\u05DE\u05E4\u05EA\u05D7${d.keys.length>1?"\u05D5\u05EA":""} \u05DC\u05D0 \u05DE\u05D6\u05D5\u05D4${d.keys.length>1?"\u05D9\u05DD":"\u05D4"}: ${ee(d.keys,", ")}`;case"invalid_key":return"\u05E9\u05D3\u05D4 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1\u05D0\u05D5\u05D1\u05D9\u05D9\u05E7\u05D8";case"invalid_union":return"\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF";case"invalid_element":return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1${o(d.origin??"array")}`;default:return"\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF"}}},"error");function GI(){return{localeError:$ie()}}a(GI,"default");var Nie=a(()=>{let e={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"sz\xE1m";case"object":{if(Array.isArray(o))return"t\xF6mb";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"bemenet",email:"email c\xEDm",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO id\u0151b\xE9lyeg",date:"ISO d\xE1tum",time:"ISO id\u0151",duration:"ISO id\u0151intervallum",ipv4:"IPv4 c\xEDm",ipv6:"IPv6 c\xEDm",cidrv4:"IPv4 tartom\xE1ny",cidrv6:"IPv6 tartom\xE1ny",base64:"base64-k\xF3dolt string",base64url:"base64url-k\xF3dolt string",json_string:"JSON string",e164:"E.164 sz\xE1m",jwt:"JWT",template_literal:"bemenet"};return o=>{switch(o.code){case"invalid_type":return`\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k ${o.expected}, a kapott \xE9rt\xE9k ${r(o.input)}`;case"invalid_value":return o.values.length===1?`\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k ${ce(o.values[0])}`:`\xC9rv\xE9nytelen opci\xF3: valamelyik \xE9rt\xE9k v\xE1rt ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`T\xFAl nagy: ${o.origin??"\xE9rt\xE9k"} m\xE9rete t\xFAl nagy ${i}${o.maximum.toString()} ${s.unit??"elem"}`:`T\xFAl nagy: a bemeneti \xE9rt\xE9k ${o.origin??"\xE9rt\xE9k"} t\xFAl nagy: ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`T\xFAl kicsi: a bemeneti \xE9rt\xE9k ${o.origin} m\xE9rete t\xFAl kicsi ${i}${o.minimum.toString()} ${s.unit}`:`T\xFAl kicsi: a bemeneti \xE9rt\xE9k ${o.origin} t\xFAl kicsi ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\xC9rv\xE9nytelen string: "${i.prefix}" \xE9rt\xE9kkel kell kezd\u0151dnie`:i.format==="ends_with"?`\xC9rv\xE9nytelen string: "${i.suffix}" \xE9rt\xE9kkel kell v\xE9gz\u0151dnie`:i.format==="includes"?`\xC9rv\xE9nytelen string: "${i.includes}" \xE9rt\xE9ket kell tartalmaznia`:i.format==="regex"?`\xC9rv\xE9nytelen string: ${i.pattern} mint\xE1nak kell megfelelnie`:`\xC9rv\xE9nytelen ${n[i.format]??o.format}`}case"not_multiple_of":return`\xC9rv\xE9nytelen sz\xE1m: ${o.divisor} t\xF6bbsz\xF6r\xF6s\xE9nek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${o.keys.length>1?"s":""}: ${ee(o.keys,", ")}`;case"invalid_key":return`\xC9rv\xE9nytelen kulcs ${o.origin}`;case"invalid_union":return"\xC9rv\xE9nytelen bemenet";case"invalid_element":return`\xC9rv\xE9nytelen \xE9rt\xE9k: ${o.origin}`;default:return"\xC9rv\xE9nytelen bemenet"}}},"error");function WI(){return{localeError:Nie()}}a(WI,"default");var jie=a(()=>{let e={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"number";case"object":{if(Array.isArray(o))return"array";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"};return o=>{switch(o.code){case"invalid_type":return`Input tidak valid: diharapkan ${o.expected}, diterima ${r(o.input)}`;case"invalid_value":return o.values.length===1?`Input tidak valid: diharapkan ${ce(o.values[0])}`:`Pilihan tidak valid: diharapkan salah satu dari ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`Terlalu besar: diharapkan ${o.origin??"value"} memiliki ${i}${o.maximum.toString()} ${s.unit??"elemen"}`:`Terlalu besar: diharapkan ${o.origin??"value"} menjadi ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`Terlalu kecil: diharapkan ${o.origin} memiliki ${i}${o.minimum.toString()} ${s.unit}`:`Terlalu kecil: diharapkan ${o.origin} menjadi ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`String tidak valid: harus dimulai dengan "${i.prefix}"`:i.format==="ends_with"?`String tidak valid: harus berakhir dengan "${i.suffix}"`:i.format==="includes"?`String tidak valid: harus menyertakan "${i.includes}"`:i.format==="regex"?`String tidak valid: harus sesuai pola ${i.pattern}`:`${n[i.format]??o.format} tidak valid`}case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${o.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${o.keys.length>1?"s":""}: ${ee(o.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${o.origin}`;case"invalid_union":return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${o.origin}`;default:return"Input tidak valid"}}},"error");function QI(){return{localeError:jie()}}a(QI,"default");var zie=a(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"n\xFAmer";case"object":{if(Array.isArray(e))return"fylki";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},"parsedType"),Die=a(()=>{let e={string:{unit:"stafi",verb:"a\xF0 hafa"},file:{unit:"b\xE6ti",verb:"a\xF0 hafa"},array:{unit:"hluti",verb:"a\xF0 hafa"},set:{unit:"hluti",verb:"a\xF0 hafa"}};function t(n){return e[n]??null}a(t,"getSizing");let r={regex:"gildi",email:"netfang",url:"vefsl\xF3\xF0",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og t\xEDmi",date:"ISO dagsetning",time:"ISO t\xEDmi",duration:"ISO t\xEDmalengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 t\xF6lugildi",jwt:"JWT",template_literal:"gildi"};return n=>{switch(n.code){case"invalid_type":return`Rangt gildi: \xDE\xFA sl\xF3st inn ${zie(n.input)} \xFEar sem \xE1 a\xF0 vera ${n.expected}`;case"invalid_value":return n.values.length===1?`Rangt gildi: gert r\xE1\xF0 fyrir ${ce(n.values[0])}`:`\xD3gilt val: m\xE1 vera eitt af eftirfarandi ${ee(n.values,"|")}`;case"too_big":{let o=n.inclusive?"<=":"<",i=t(n.origin);return i?`Of st\xF3rt: gert er r\xE1\xF0 fyrir a\xF0 ${n.origin??"gildi"} hafi ${o}${n.maximum.toString()} ${i.unit??"hluti"}`:`Of st\xF3rt: gert er r\xE1\xF0 fyrir a\xF0 ${n.origin??"gildi"} s\xE9 ${o}${n.maximum.toString()}`}case"too_small":{let o=n.inclusive?">=":">",i=t(n.origin);return i?`Of l\xEDti\xF0: gert er r\xE1\xF0 fyrir a\xF0 ${n.origin} hafi ${o}${n.minimum.toString()} ${i.unit}`:`Of l\xEDti\xF0: gert er r\xE1\xF0 fyrir a\xF0 ${n.origin} s\xE9 ${o}${n.minimum.toString()}`}case"invalid_format":{let o=n;return o.format==="starts_with"?`\xD3gildur strengur: ver\xF0ur a\xF0 byrja \xE1 "${o.prefix}"`:o.format==="ends_with"?`\xD3gildur strengur: ver\xF0ur a\xF0 enda \xE1 "${o.suffix}"`:o.format==="includes"?`\xD3gildur strengur: ver\xF0ur a\xF0 innihalda "${o.includes}"`:o.format==="regex"?`\xD3gildur strengur: ver\xF0ur a\xF0 fylgja mynstri ${o.pattern}`:`Rangt ${r[o.format]??n.format}`}case"not_multiple_of":return`R\xF6ng tala: ver\xF0ur a\xF0 vera margfeldi af ${n.divisor}`;case"unrecognized_keys":return`\xD3\xFEekkt ${n.keys.length>1?"ir lyklar":"ur lykill"}: ${ee(n.keys,", ")}`;case"invalid_key":return`Rangur lykill \xED ${n.origin}`;case"invalid_union":return"Rangt gildi";case"invalid_element":return`Rangt gildi \xED ${n.origin}`;default:return"Rangt gildi"}}},"error");function XI(){return{localeError:Die()}}a(XI,"default");var Mie=a(()=>{let e={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"numero";case"object":{if(Array.isArray(o))return"vettore";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"};return o=>{switch(o.code){case"invalid_type":return`Input non valido: atteso ${o.expected}, ricevuto ${r(o.input)}`;case"invalid_value":return o.values.length===1?`Input non valido: atteso ${ce(o.values[0])}`:`Opzione non valida: atteso uno tra ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`Troppo grande: ${o.origin??"valore"} deve avere ${i}${o.maximum.toString()} ${s.unit??"elementi"}`:`Troppo grande: ${o.origin??"valore"} deve essere ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`Troppo piccolo: ${o.origin} deve avere ${i}${o.minimum.toString()} ${s.unit}`:`Troppo piccolo: ${o.origin} deve essere ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Stringa non valida: deve iniziare con "${i.prefix}"`:i.format==="ends_with"?`Stringa non valida: deve terminare con "${i.suffix}"`:i.format==="includes"?`Stringa non valida: deve includere "${i.includes}"`:i.format==="regex"?`Stringa non valida: deve corrispondere al pattern ${i.pattern}`:`Invalid ${n[i.format]??o.format}`}case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${o.divisor}`;case"unrecognized_keys":return`Chiav${o.keys.length>1?"i":"e"} non riconosciut${o.keys.length>1?"e":"a"}: ${ee(o.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${o.origin}`;case"invalid_union":return"Input non valido";case"invalid_element":return`Valore non valido in ${o.origin}`;default:return"Input non valido"}}},"error");function YI(){return{localeError:Mie()}}a(YI,"default");var qie=a(()=>{let e={string:{unit:"\u6587\u5B57",verb:"\u3067\u3042\u308B"},file:{unit:"\u30D0\u30A4\u30C8",verb:"\u3067\u3042\u308B"},array:{unit:"\u8981\u7D20",verb:"\u3067\u3042\u308B"},set:{unit:"\u8981\u7D20",verb:"\u3067\u3042\u308B"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"\u6570\u5024";case"object":{if(Array.isArray(o))return"\u914D\u5217";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\u5165\u529B\u5024",email:"\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9",url:"URL",emoji:"\u7D75\u6587\u5B57",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO\u65E5\u6642",date:"ISO\u65E5\u4ED8",time:"ISO\u6642\u523B",duration:"ISO\u671F\u9593",ipv4:"IPv4\u30A2\u30C9\u30EC\u30B9",ipv6:"IPv6\u30A2\u30C9\u30EC\u30B9",cidrv4:"IPv4\u7BC4\u56F2",cidrv6:"IPv6\u7BC4\u56F2",base64:"base64\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217",base64url:"base64url\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217",json_string:"JSON\u6587\u5B57\u5217",e164:"E.164\u756A\u53F7",jwt:"JWT",template_literal:"\u5165\u529B\u5024"};return o=>{switch(o.code){case"invalid_type":return`\u7121\u52B9\u306A\u5165\u529B: ${o.expected}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F\u304C\u3001${r(o.input)}\u304C\u5165\u529B\u3055\u308C\u307E\u3057\u305F`;case"invalid_value":return o.values.length===1?`\u7121\u52B9\u306A\u5165\u529B: ${ce(o.values[0])}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F`:`\u7121\u52B9\u306A\u9078\u629E: ${ee(o.values,"\u3001")}\u306E\u3044\u305A\u308C\u304B\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;case"too_big":{let i=o.inclusive?"\u4EE5\u4E0B\u3067\u3042\u308B":"\u3088\u308A\u5C0F\u3055\u3044",s=t(o.origin);return s?`\u5927\u304D\u3059\u304E\u308B\u5024: ${o.origin??"\u5024"}\u306F${o.maximum.toString()}${s.unit??"\u8981\u7D20"}${i}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u5927\u304D\u3059\u304E\u308B\u5024: ${o.origin??"\u5024"}\u306F${o.maximum.toString()}${i}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`}case"too_small":{let i=o.inclusive?"\u4EE5\u4E0A\u3067\u3042\u308B":"\u3088\u308A\u5927\u304D\u3044",s=t(o.origin);return s?`\u5C0F\u3055\u3059\u304E\u308B\u5024: ${o.origin}\u306F${o.minimum.toString()}${s.unit}${i}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u5C0F\u3055\u3059\u304E\u308B\u5024: ${o.origin}\u306F${o.minimum.toString()}${i}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${i.prefix}"\u3067\u59CB\u307E\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:i.format==="ends_with"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${i.suffix}"\u3067\u7D42\u308F\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:i.format==="includes"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${i.includes}"\u3092\u542B\u3080\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:i.format==="regex"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: \u30D1\u30BF\u30FC\u30F3${i.pattern}\u306B\u4E00\u81F4\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u7121\u52B9\u306A${n[i.format]??o.format}`}case"not_multiple_of":return`\u7121\u52B9\u306A\u6570\u5024: ${o.divisor}\u306E\u500D\u6570\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;case"unrecognized_keys":return`\u8A8D\u8B58\u3055\u308C\u3066\u3044\u306A\u3044\u30AD\u30FC${o.keys.length>1?"\u7FA4":""}: ${ee(o.keys,"\u3001")}`;case"invalid_key":return`${o.origin}\u5185\u306E\u7121\u52B9\u306A\u30AD\u30FC`;case"invalid_union":return"\u7121\u52B9\u306A\u5165\u529B";case"invalid_element":return`${o.origin}\u5185\u306E\u7121\u52B9\u306A\u5024`;default:return"\u7121\u52B9\u306A\u5165\u529B"}}},"error");function eO(){return{localeError:qie()}}a(eO,"default");var Uie=a(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"\u10E0\u10D8\u10EA\u10EE\u10D5\u10D8";case"object":{if(Array.isArray(e))return"\u10DB\u10D0\u10E1\u10D8\u10D5\u10D8";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return{string:"\u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",boolean:"\u10D1\u10E3\u10DA\u10D4\u10D0\u10DC\u10D8",undefined:"undefined",bigint:"bigint",symbol:"symbol",function:"\u10E4\u10E3\u10DC\u10E5\u10EA\u10D8\u10D0"}[t]??t},"parsedType"),Lie=a(()=>{let e={string:{unit:"\u10E1\u10D8\u10DB\u10D1\u10DD\u10DA\u10DD",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"},file:{unit:"\u10D1\u10D0\u10D8\u10E2\u10D8",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"},array:{unit:"\u10D4\u10DA\u10D4\u10DB\u10D4\u10DC\u10E2\u10D8",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"},set:{unit:"\u10D4\u10DA\u10D4\u10DB\u10D4\u10DC\u10E2\u10D8",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"}};function t(n){return e[n]??null}a(t,"getSizing");let r={regex:"\u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0",email:"\u10D4\u10DA-\u10E4\u10DD\u10E1\u10E2\u10D8\u10E1 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",url:"URL",emoji:"\u10D4\u10DB\u10DD\u10EF\u10D8",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u10D7\u10D0\u10E0\u10D8\u10E6\u10D8-\u10D3\u10E0\u10DD",date:"\u10D7\u10D0\u10E0\u10D8\u10E6\u10D8",time:"\u10D3\u10E0\u10DD",duration:"\u10EE\u10D0\u10DC\u10D2\u10E0\u10EB\u10DA\u10D8\u10D5\u10DD\u10D1\u10D0",ipv4:"IPv4 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",ipv6:"IPv6 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",cidrv4:"IPv4 \u10D3\u10D8\u10D0\u10DE\u10D0\u10D6\u10DD\u10DC\u10D8",cidrv6:"IPv6 \u10D3\u10D8\u10D0\u10DE\u10D0\u10D6\u10DD\u10DC\u10D8",base64:"base64-\u10D9\u10DD\u10D3\u10D8\u10E0\u10D4\u10D1\u10E3\u10DA\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",base64url:"base64url-\u10D9\u10DD\u10D3\u10D8\u10E0\u10D4\u10D1\u10E3\u10DA\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",json_string:"JSON \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",e164:"E.164 \u10DC\u10DD\u10DB\u10D4\u10E0\u10D8",jwt:"JWT",template_literal:"\u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0"};return n=>{switch(n.code){case"invalid_type":return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${n.expected}, \u10DB\u10D8\u10E6\u10D4\u10D1\u10E3\u10DA\u10D8 ${Uie(n.input)}`;case"invalid_value":return n.values.length===1?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${ce(n.values[0])}`:`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10D5\u10D0\u10E0\u10D8\u10D0\u10DC\u10E2\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8\u10D0 \u10D4\u10E0\u10D7-\u10D4\u10E0\u10D7\u10D8 ${ee(n.values,"|")}-\u10D3\u10D0\u10DC`;case"too_big":{let o=n.inclusive?"<=":"<",i=t(n.origin);return i?`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10D3\u10D8\u10D3\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${n.origin??"\u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0"} ${i.verb} ${o}${n.maximum.toString()} ${i.unit}`:`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10D3\u10D8\u10D3\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${n.origin??"\u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0"} \u10D8\u10E7\u10DD\u10E1 ${o}${n.maximum.toString()}`}case"too_small":{let o=n.inclusive?">=":">",i=t(n.origin);return i?`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10DE\u10D0\u10E2\u10D0\u10E0\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${n.origin} ${i.verb} ${o}${n.minimum.toString()} ${i.unit}`:`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10DE\u10D0\u10E2\u10D0\u10E0\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${n.origin} \u10D8\u10E7\u10DD\u10E1 ${o}${n.minimum.toString()}`}case"invalid_format":{let o=n;return o.format==="starts_with"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10D8\u10EC\u10E7\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 "${o.prefix}"-\u10D8\u10D7`:o.format==="ends_with"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10DB\u10D7\u10D0\u10D5\u10E0\u10D3\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 "${o.suffix}"-\u10D8\u10D7`:o.format==="includes"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1 "${o.includes}"-\u10E1`:o.format==="regex"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D4\u10E1\u10D0\u10D1\u10D0\u10DB\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 \u10E8\u10D0\u10D1\u10DA\u10DD\u10DC\u10E1 ${o.pattern}`:`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 ${r[o.format]??n.format}`}case"not_multiple_of":return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E0\u10D8\u10EA\u10EE\u10D5\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10D8\u10E7\u10DD\u10E1 ${n.divisor}-\u10D8\u10E1 \u10EF\u10D4\u10E0\u10D0\u10D3\u10D8`;case"unrecognized_keys":return`\u10E3\u10EA\u10DC\u10DD\u10D1\u10D8 \u10D2\u10D0\u10E1\u10D0\u10E6\u10D4\u10D1${n.keys.length>1?"\u10D4\u10D1\u10D8":"\u10D8"}: ${ee(n.keys,", ")}`;case"invalid_key":return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10D2\u10D0\u10E1\u10D0\u10E6\u10D4\u10D1\u10D8 ${n.origin}-\u10E8\u10D8`;case"invalid_union":return"\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0";case"invalid_element":return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0 ${n.origin}-\u10E8\u10D8`;default:return"\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0"}}},"error");function tO(){return{localeError:Lie()}}a(tO,"default");var Fie=a(()=>{let e={string:{unit:"\u178F\u17BD\u17A2\u1780\u17D2\u179F\u179A",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},file:{unit:"\u1794\u17C3",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},array:{unit:"\u1792\u17B6\u178F\u17BB",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},set:{unit:"\u1792\u17B6\u178F\u17BB",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"\u1798\u17B7\u1793\u1798\u17C2\u1793\u1787\u17B6\u179B\u17C1\u1781 (NaN)":"\u179B\u17C1\u1781";case"object":{if(Array.isArray(o))return"\u17A2\u17B6\u179A\u17C1 (Array)";if(o===null)return"\u1782\u17D2\u1798\u17B6\u1793\u178F\u1798\u17D2\u179B\u17C3 (null)";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B",email:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793\u17A2\u17CA\u17B8\u1798\u17C2\u179B",url:"URL",emoji:"\u179F\u1789\u17D2\u1789\u17B6\u17A2\u17B6\u179A\u1798\u17D2\u1798\u178E\u17CD",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 \u1793\u17B7\u1784\u1798\u17C9\u17C4\u1784 ISO",date:"\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 ISO",time:"\u1798\u17C9\u17C4\u1784 ISO",duration:"\u179A\u1799\u17C8\u1796\u17C1\u179B ISO",ipv4:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4",ipv6:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6",cidrv4:"\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4",cidrv6:"\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6",base64:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64",base64url:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64url",json_string:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A JSON",e164:"\u179B\u17C1\u1781 E.164",jwt:"JWT",template_literal:"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B"};return o=>{switch(o.code){case"invalid_type":return`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${o.expected} \u1794\u17C9\u17BB\u1793\u17D2\u178F\u17C2\u1791\u1791\u17BD\u179B\u1794\u17B6\u1793 ${r(o.input)}`;case"invalid_value":return o.values.length===1?`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${ce(o.values[0])}`:`\u1787\u1798\u17D2\u179A\u17BE\u179F\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1787\u17B6\u1798\u17BD\u1799\u1780\u17D2\u1793\u17BB\u1784\u1785\u17C6\u178E\u17C4\u1798 ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${o.origin??"\u178F\u1798\u17D2\u179B\u17C3"} ${i} ${o.maximum.toString()} ${s.unit??"\u1792\u17B6\u178F\u17BB"}`:`\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${o.origin??"\u178F\u1798\u17D2\u179B\u17C3"} ${i} ${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${o.origin} ${i} ${o.minimum.toString()} ${s.unit}`:`\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${o.origin} ${i} ${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1785\u17B6\u1794\u17CB\u1795\u17D2\u178F\u17BE\u1798\u178A\u17C4\u1799 "${i.prefix}"`:i.format==="ends_with"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1794\u1789\u17D2\u1785\u1794\u17CB\u178A\u17C4\u1799 "${i.suffix}"`:i.format==="includes"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1798\u17B6\u1793 "${i.includes}"`:i.format==="regex"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1795\u17D2\u1782\u17BC\u1795\u17D2\u1782\u1784\u1793\u17B9\u1784\u1791\u1798\u17D2\u179A\u1784\u17CB\u178A\u17C2\u179B\u1794\u17B6\u1793\u1780\u17C6\u178E\u178F\u17CB ${i.pattern}`:`\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 ${n[i.format]??o.format}`}case"not_multiple_of":return`\u179B\u17C1\u1781\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1787\u17B6\u1796\u17A0\u17BB\u1782\u17BB\u178E\u1793\u17C3 ${o.divisor}`;case"unrecognized_keys":return`\u179A\u1780\u1783\u17BE\u1789\u179F\u17C4\u1798\u17B7\u1793\u179F\u17D2\u1782\u17B6\u179B\u17CB\u17D6 ${ee(o.keys,", ")}`;case"invalid_key":return`\u179F\u17C4\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${o.origin}`;case"invalid_union":return"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C";case"invalid_element":return`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${o.origin}`;default:return"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C"}}},"error");function xd(){return{localeError:Fie()}}a(xd,"default");function rO(){return xd()}a(rO,"default");var Jie=a(()=>{let e={string:{unit:"\uBB38\uC790",verb:"to have"},file:{unit:"\uBC14\uC774\uD2B8",verb:"to have"},array:{unit:"\uAC1C",verb:"to have"},set:{unit:"\uAC1C",verb:"to have"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"number";case"object":{if(Array.isArray(o))return"array";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\uC785\uB825",email:"\uC774\uBA54\uC77C \uC8FC\uC18C",url:"URL",emoji:"\uC774\uBAA8\uC9C0",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \uB0A0\uC9DC\uC2DC\uAC04",date:"ISO \uB0A0\uC9DC",time:"ISO \uC2DC\uAC04",duration:"ISO \uAE30\uAC04",ipv4:"IPv4 \uC8FC\uC18C",ipv6:"IPv6 \uC8FC\uC18C",cidrv4:"IPv4 \uBC94\uC704",cidrv6:"IPv6 \uBC94\uC704",base64:"base64 \uC778\uCF54\uB529 \uBB38\uC790\uC5F4",base64url:"base64url \uC778\uCF54\uB529 \uBB38\uC790\uC5F4",json_string:"JSON \uBB38\uC790\uC5F4",e164:"E.164 \uBC88\uD638",jwt:"JWT",template_literal:"\uC785\uB825"};return o=>{switch(o.code){case"invalid_type":return`\uC798\uBABB\uB41C \uC785\uB825: \uC608\uC0C1 \uD0C0\uC785\uC740 ${o.expected}, \uBC1B\uC740 \uD0C0\uC785\uC740 ${r(o.input)}\uC785\uB2C8\uB2E4`;case"invalid_value":return o.values.length===1?`\uC798\uBABB\uB41C \uC785\uB825: \uAC12\uC740 ${ce(o.values[0])} \uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4`:`\uC798\uBABB\uB41C \uC635\uC158: ${ee(o.values,"\uB610\uB294 ")} \uC911 \uD558\uB098\uC5EC\uC57C \uD569\uB2C8\uB2E4`;case"too_big":{let i=o.inclusive?"\uC774\uD558":"\uBBF8\uB9CC",s=i==="\uBBF8\uB9CC"?"\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4":"\uC5EC\uC57C \uD569\uB2C8\uB2E4",u=t(o.origin),l=u?.unit??"\uC694\uC18C";return u?`${o.origin??"\uAC12"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${o.maximum.toString()}${l} ${i}${s}`:`${o.origin??"\uAC12"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${o.maximum.toString()} ${i}${s}`}case"too_small":{let i=o.inclusive?"\uC774\uC0C1":"\uCD08\uACFC",s=i==="\uC774\uC0C1"?"\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4":"\uC5EC\uC57C \uD569\uB2C8\uB2E4",u=t(o.origin),l=u?.unit??"\uC694\uC18C";return u?`${o.origin??"\uAC12"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${o.minimum.toString()}${l} ${i}${s}`:`${o.origin??"\uAC12"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${o.minimum.toString()} ${i}${s}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${i.prefix}"(\uC73C)\uB85C \uC2DC\uC791\uD574\uC57C \uD569\uB2C8\uB2E4`:i.format==="ends_with"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${i.suffix}"(\uC73C)\uB85C \uB05D\uB098\uC57C \uD569\uB2C8\uB2E4`:i.format==="includes"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${i.includes}"\uC744(\uB97C) \uD3EC\uD568\uD574\uC57C \uD569\uB2C8\uB2E4`:i.format==="regex"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: \uC815\uADDC\uC2DD ${i.pattern} \uD328\uD134\uACFC \uC77C\uCE58\uD574\uC57C \uD569\uB2C8\uB2E4`:`\uC798\uBABB\uB41C ${n[i.format]??o.format}`}case"not_multiple_of":return`\uC798\uBABB\uB41C \uC22B\uC790: ${o.divisor}\uC758 \uBC30\uC218\uC5EC\uC57C \uD569\uB2C8\uB2E4`;case"unrecognized_keys":return`\uC778\uC2DD\uD560 \uC218 \uC5C6\uB294 \uD0A4: ${ee(o.keys,", ")}`;case"invalid_key":return`\uC798\uBABB\uB41C \uD0A4: ${o.origin}`;case"invalid_union":return"\uC798\uBABB\uB41C \uC785\uB825";case"invalid_element":return`\uC798\uBABB\uB41C \uAC12: ${o.origin}`;default:return"\uC798\uBABB\uB41C \uC785\uB825"}}},"error");function nO(){return{localeError:Jie()}}a(nO,"default");var Bie=a(e=>kd(typeof e,e),"parsedType"),kd=a((e,t=void 0)=>{switch(e){case"number":return Number.isNaN(t)?"NaN":"skai\u010Dius";case"bigint":return"sveikasis skai\u010Dius";case"string":return"eilut\u0117";case"boolean":return"login\u0117 reik\u0161m\u0117";case"undefined":case"void":return"neapibr\u0117\u017Eta reik\u0161m\u0117";case"function":return"funkcija";case"symbol":return"simbolis";case"object":return t===void 0?"ne\u017Einomas objektas":t===null?"nulin\u0117 reik\u0161m\u0117":Array.isArray(t)?"masyvas":Object.getPrototypeOf(t)!==Object.prototype&&t.constructor?t.constructor.name:"objektas";case"null":return"nulin\u0117 reik\u0161m\u0117"}return e},"parsedTypeFromType"),Td=a(e=>e.charAt(0).toUpperCase()+e.slice(1),"capitalizeFirstCharacter");function NU(e){let t=Math.abs(e),r=t%10,n=t%100;return n>=11&&n<=19||r===0?"many":r===1?"one":"few"}a(NU,"getUnitTypeFromNumber");var Hie=a(()=>{let e={string:{unit:{one:"simbolis",few:"simboliai",many:"simboli\u0173"},verb:{smaller:{inclusive:"turi b\u016Bti ne ilgesn\u0117 kaip",notInclusive:"turi b\u016Bti trumpesn\u0117 kaip"},bigger:{inclusive:"turi b\u016Bti ne trumpesn\u0117 kaip",notInclusive:"turi b\u016Bti ilgesn\u0117 kaip"}}},file:{unit:{one:"baitas",few:"baitai",many:"bait\u0173"},verb:{smaller:{inclusive:"turi b\u016Bti ne didesnis kaip",notInclusive:"turi b\u016Bti ma\u017Eesnis kaip"},bigger:{inclusive:"turi b\u016Bti ne ma\u017Eesnis kaip",notInclusive:"turi b\u016Bti didesnis kaip"}}},array:{unit:{one:"element\u0105",few:"elementus",many:"element\u0173"},verb:{smaller:{inclusive:"turi tur\u0117ti ne daugiau kaip",notInclusive:"turi tur\u0117ti ma\u017Eiau kaip"},bigger:{inclusive:"turi tur\u0117ti ne ma\u017Eiau kaip",notInclusive:"turi tur\u0117ti daugiau kaip"}}},set:{unit:{one:"element\u0105",few:"elementus",many:"element\u0173"},verb:{smaller:{inclusive:"turi tur\u0117ti ne daugiau kaip",notInclusive:"turi tur\u0117ti ma\u017Eiau kaip"},bigger:{inclusive:"turi tur\u0117ti ne ma\u017Eiau kaip",notInclusive:"turi tur\u0117ti daugiau kaip"}}}};function t(n,o,i,s){let u=e[n]??null;return u===null?u:{unit:u.unit[o],verb:u.verb[s][i?"inclusive":"notInclusive"]}}a(t,"getSizing");let r={regex:"\u012Fvestis",email:"el. pa\u0161to adresas",url:"URL",emoji:"jaustukas",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO data ir laikas",date:"ISO data",time:"ISO laikas",duration:"ISO trukm\u0117",ipv4:"IPv4 adresas",ipv6:"IPv6 adresas",cidrv4:"IPv4 tinklo prefiksas (CIDR)",cidrv6:"IPv6 tinklo prefiksas (CIDR)",base64:"base64 u\u017Ekoduota eilut\u0117",base64url:"base64url u\u017Ekoduota eilut\u0117",json_string:"JSON eilut\u0117",e164:"E.164 numeris",jwt:"JWT",template_literal:"\u012Fvestis"};return n=>{switch(n.code){case"invalid_type":return`Gautas tipas ${Bie(n.input)}, o tik\u0117tasi - ${kd(n.expected)}`;case"invalid_value":return n.values.length===1?`Privalo b\u016Bti ${ce(n.values[0])}`:`Privalo b\u016Bti vienas i\u0161 ${ee(n.values,"|")} pasirinkim\u0173`;case"too_big":{let o=kd(n.origin),i=t(n.origin,NU(Number(n.maximum)),n.inclusive??!1,"smaller");if(i?.verb)return`${Td(o??n.origin??"reik\u0161m\u0117")} ${i.verb} ${n.maximum.toString()} ${i.unit??"element\u0173"}`;let s=n.inclusive?"ne didesnis kaip":"ma\u017Eesnis kaip";return`${Td(o??n.origin??"reik\u0161m\u0117")} turi b\u016Bti ${s} ${n.maximum.toString()} ${i?.unit}`}case"too_small":{let o=kd(n.origin),i=t(n.origin,NU(Number(n.minimum)),n.inclusive??!1,"bigger");if(i?.verb)return`${Td(o??n.origin??"reik\u0161m\u0117")} ${i.verb} ${n.minimum.toString()} ${i.unit??"element\u0173"}`;let s=n.inclusive?"ne ma\u017Eesnis kaip":"didesnis kaip";return`${Td(o??n.origin??"reik\u0161m\u0117")} turi b\u016Bti ${s} ${n.minimum.toString()} ${i?.unit}`}case"invalid_format":{let o=n;return o.format==="starts_with"?`Eilut\u0117 privalo prasid\u0117ti "${o.prefix}"`:o.format==="ends_with"?`Eilut\u0117 privalo pasibaigti "${o.suffix}"`:o.format==="includes"?`Eilut\u0117 privalo \u012Ftraukti "${o.includes}"`:o.format==="regex"?`Eilut\u0117 privalo atitikti ${o.pattern}`:`Neteisingas ${r[o.format]??n.format}`}case"not_multiple_of":return`Skai\u010Dius privalo b\u016Bti ${n.divisor} kartotinis.`;case"unrecognized_keys":return`Neatpa\u017Eint${n.keys.length>1?"i":"as"} rakt${n.keys.length>1?"ai":"as"}: ${ee(n.keys,", ")}`;case"invalid_key":return"Rastas klaidingas raktas";case"invalid_union":return"Klaidinga \u012Fvestis";case"invalid_element":{let o=kd(n.origin);return`${Td(o??n.origin??"reik\u0161m\u0117")} turi klaiding\u0105 \u012Fvest\u012F`}default:return"Klaidinga \u012Fvestis"}}},"error");function oO(){return{localeError:Hie()}}a(oO,"default");var Vie=a(()=>{let e={string:{unit:"\u0437\u043D\u0430\u0446\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},file:{unit:"\u0431\u0430\u0458\u0442\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},array:{unit:"\u0441\u0442\u0430\u0432\u043A\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},set:{unit:"\u0441\u0442\u0430\u0432\u043A\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"\u0431\u0440\u043E\u0458";case"object":{if(Array.isArray(o))return"\u043D\u0438\u0437\u0430";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\u0432\u043D\u0435\u0441",email:"\u0430\u0434\u0440\u0435\u0441\u0430 \u043D\u0430 \u0435-\u043F\u043E\u0448\u0442\u0430",url:"URL",emoji:"\u0435\u043C\u043E\u045F\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0443\u043C \u0438 \u0432\u0440\u0435\u043C\u0435",date:"ISO \u0434\u0430\u0442\u0443\u043C",time:"ISO \u0432\u0440\u0435\u043C\u0435",duration:"ISO \u0432\u0440\u0435\u043C\u0435\u0442\u0440\u0430\u0435\u045A\u0435",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441\u0430",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441\u0430",cidrv4:"IPv4 \u043E\u043F\u0441\u0435\u0433",cidrv6:"IPv6 \u043E\u043F\u0441\u0435\u0433",base64:"base64-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430",base64url:"base64url-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430",json_string:"JSON \u043D\u0438\u0437\u0430",e164:"E.164 \u0431\u0440\u043E\u0458",jwt:"JWT",template_literal:"\u0432\u043D\u0435\u0441"};return o=>{switch(o.code){case"invalid_type":return`\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${o.expected}, \u043F\u0440\u0438\u043C\u0435\u043D\u043E ${r(o.input)}`;case"invalid_value":return o.values.length===1?`Invalid input: expected ${ce(o.values[0])}`:`\u0413\u0440\u0435\u0448\u0430\u043D\u0430 \u043E\u043F\u0446\u0438\u0458\u0430: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 \u0435\u0434\u043D\u0430 ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${o.origin??"\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430"} \u0434\u0430 \u0438\u043C\u0430 ${i}${o.maximum.toString()} ${s.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0438"}`:`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${o.origin??"\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430"} \u0434\u0430 \u0431\u0438\u0434\u0435 ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${o.origin} \u0434\u0430 \u0438\u043C\u0430 ${i}${o.minimum.toString()} ${s.unit}`:`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${o.origin} \u0434\u0430 \u0431\u0438\u0434\u0435 ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u043F\u043E\u0447\u043D\u0443\u0432\u0430 \u0441\u043E "${i.prefix}"`:i.format==="ends_with"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u0432\u0440\u0448\u0443\u0432\u0430 \u0441\u043E "${i.suffix}"`:i.format==="includes"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0432\u043A\u043B\u0443\u0447\u0443\u0432\u0430 "${i.includes}"`:i.format==="regex"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u043E\u0434\u0433\u043E\u0430\u0440\u0430 \u043D\u0430 \u043F\u0430\u0442\u0435\u0440\u043D\u043E\u0442 ${i.pattern}`:`Invalid ${n[i.format]??o.format}`}case"not_multiple_of":return`\u0413\u0440\u0435\u0448\u0435\u043D \u0431\u0440\u043E\u0458: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0431\u0438\u0434\u0435 \u0434\u0435\u043B\u0438\u0432 \u0441\u043E ${o.divisor}`;case"unrecognized_keys":return`${o.keys.length>1?"\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D\u0438 \u043A\u043B\u0443\u0447\u0435\u0432\u0438":"\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D \u043A\u043B\u0443\u0447"}: ${ee(o.keys,", ")}`;case"invalid_key":return`\u0413\u0440\u0435\u0448\u0435\u043D \u043A\u043B\u0443\u0447 \u0432\u043E ${o.origin}`;case"invalid_union":return"\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441";case"invalid_element":return`\u0413\u0440\u0435\u0448\u043D\u0430 \u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442 \u0432\u043E ${o.origin}`;default:return"\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441"}}},"error");function iO(){return{localeError:Vie()}}a(iO,"default");var Zie=a(()=>{let e={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"nombor";case"object":{if(Array.isArray(o))return"array";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"};return o=>{switch(o.code){case"invalid_type":return`Input tidak sah: dijangka ${o.expected}, diterima ${r(o.input)}`;case"invalid_value":return o.values.length===1?`Input tidak sah: dijangka ${ce(o.values[0])}`:`Pilihan tidak sah: dijangka salah satu daripada ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`Terlalu besar: dijangka ${o.origin??"nilai"} ${s.verb} ${i}${o.maximum.toString()} ${s.unit??"elemen"}`:`Terlalu besar: dijangka ${o.origin??"nilai"} adalah ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`Terlalu kecil: dijangka ${o.origin} ${s.verb} ${i}${o.minimum.toString()} ${s.unit}`:`Terlalu kecil: dijangka ${o.origin} adalah ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`String tidak sah: mesti bermula dengan "${i.prefix}"`:i.format==="ends_with"?`String tidak sah: mesti berakhir dengan "${i.suffix}"`:i.format==="includes"?`String tidak sah: mesti mengandungi "${i.includes}"`:i.format==="regex"?`String tidak sah: mesti sepadan dengan corak ${i.pattern}`:`${n[i.format]??o.format} tidak sah`}case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${o.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${ee(o.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${o.origin}`;case"invalid_union":return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${o.origin}`;default:return"Input tidak sah"}}},"error");function aO(){return{localeError:Zie()}}a(aO,"default");var Kie=a(()=>{let e={string:{unit:"tekens",verb:"te hebben"},file:{unit:"bytes",verb:"te hebben"},array:{unit:"elementen",verb:"te hebben"},set:{unit:"elementen",verb:"te hebben"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"getal";case"object":{if(Array.isArray(o))return"array";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"};return o=>{switch(o.code){case"invalid_type":return`Ongeldige invoer: verwacht ${o.expected}, ontving ${r(o.input)}`;case"invalid_value":return o.values.length===1?`Ongeldige invoer: verwacht ${ce(o.values[0])}`:`Ongeldige optie: verwacht \xE9\xE9n van ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`Te groot: verwacht dat ${o.origin??"waarde"} ${s.verb} ${i}${o.maximum.toString()} ${s.unit??"elementen"}`:`Te groot: verwacht dat ${o.origin??"waarde"} ${i}${o.maximum.toString()} is`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`Te klein: verwacht dat ${o.origin} ${s.verb} ${i}${o.minimum.toString()} ${s.unit}`:`Te klein: verwacht dat ${o.origin} ${i}${o.minimum.toString()} is`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Ongeldige tekst: moet met "${i.prefix}" beginnen`:i.format==="ends_with"?`Ongeldige tekst: moet op "${i.suffix}" eindigen`:i.format==="includes"?`Ongeldige tekst: moet "${i.includes}" bevatten`:i.format==="regex"?`Ongeldige tekst: moet overeenkomen met patroon ${i.pattern}`:`Ongeldig: ${n[i.format]??o.format}`}case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${o.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${o.keys.length>1?"s":""}: ${ee(o.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${o.origin}`;case"invalid_union":return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${o.origin}`;default:return"Ongeldige invoer"}}},"error");function sO(){return{localeError:Kie()}}a(sO,"default");var Gie=a(()=>{let e={string:{unit:"tegn",verb:"\xE5 ha"},file:{unit:"bytes",verb:"\xE5 ha"},array:{unit:"elementer",verb:"\xE5 inneholde"},set:{unit:"elementer",verb:"\xE5 inneholde"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"tall";case"object":{if(Array.isArray(o))return"liste";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omr\xE5de",ipv6:"IPv6-omr\xE5de",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return o=>{switch(o.code){case"invalid_type":return`Ugyldig input: forventet ${o.expected}, fikk ${r(o.input)}`;case"invalid_value":return o.values.length===1?`Ugyldig verdi: forventet ${ce(o.values[0])}`:`Ugyldig valg: forventet en av ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`For stor(t): forventet ${o.origin??"value"} til \xE5 ha ${i}${o.maximum.toString()} ${s.unit??"elementer"}`:`For stor(t): forventet ${o.origin??"value"} til \xE5 ha ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`For lite(n): forventet ${o.origin} til \xE5 ha ${i}${o.minimum.toString()} ${s.unit}`:`For lite(n): forventet ${o.origin} til \xE5 ha ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Ugyldig streng: m\xE5 starte med "${i.prefix}"`:i.format==="ends_with"?`Ugyldig streng: m\xE5 ende med "${i.suffix}"`:i.format==="includes"?`Ugyldig streng: m\xE5 inneholde "${i.includes}"`:i.format==="regex"?`Ugyldig streng: m\xE5 matche m\xF8nsteret ${i.pattern}`:`Ugyldig ${n[i.format]??o.format}`}case"not_multiple_of":return`Ugyldig tall: m\xE5 v\xE6re et multiplum av ${o.divisor}`;case"unrecognized_keys":return`${o.keys.length>1?"Ukjente n\xF8kler":"Ukjent n\xF8kkel"}: ${ee(o.keys,", ")}`;case"invalid_key":return`Ugyldig n\xF8kkel i ${o.origin}`;case"invalid_union":return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${o.origin}`;default:return"Ugyldig input"}}},"error");function uO(){return{localeError:Gie()}}a(uO,"default");var Wie=a(()=>{let e={string:{unit:"harf",verb:"olmal\u0131d\u0131r"},file:{unit:"bayt",verb:"olmal\u0131d\u0131r"},array:{unit:"unsur",verb:"olmal\u0131d\u0131r"},set:{unit:"unsur",verb:"olmal\u0131d\u0131r"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"numara";case"object":{if(Array.isArray(o))return"saf";if(o===null)return"gayb";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"giren",email:"epostag\xE2h",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO heng\xE2m\u0131",date:"ISO tarihi",time:"ISO zaman\u0131",duration:"ISO m\xFCddeti",ipv4:"IPv4 ni\u015F\xE2n\u0131",ipv6:"IPv6 ni\u015F\xE2n\u0131",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-\u015Fifreli metin",base64url:"base64url-\u015Fifreli metin",json_string:"JSON metin",e164:"E.164 say\u0131s\u0131",jwt:"JWT",template_literal:"giren"};return o=>{switch(o.code){case"invalid_type":return`F\xE2sit giren: umulan ${o.expected}, al\u0131nan ${r(o.input)}`;case"invalid_value":return o.values.length===1?`F\xE2sit giren: umulan ${ce(o.values[0])}`:`F\xE2sit tercih: m\xFBteberler ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`Fazla b\xFCy\xFCk: ${o.origin??"value"}, ${i}${o.maximum.toString()} ${s.unit??"elements"} sahip olmal\u0131yd\u0131.`:`Fazla b\xFCy\xFCk: ${o.origin??"value"}, ${i}${o.maximum.toString()} olmal\u0131yd\u0131.`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`Fazla k\xFC\xE7\xFCk: ${o.origin}, ${i}${o.minimum.toString()} ${s.unit} sahip olmal\u0131yd\u0131.`:`Fazla k\xFC\xE7\xFCk: ${o.origin}, ${i}${o.minimum.toString()} olmal\u0131yd\u0131.`}case"invalid_format":{let i=o;return i.format==="starts_with"?`F\xE2sit metin: "${i.prefix}" ile ba\u015Flamal\u0131.`:i.format==="ends_with"?`F\xE2sit metin: "${i.suffix}" ile bitmeli.`:i.format==="includes"?`F\xE2sit metin: "${i.includes}" ihtiv\xE2 etmeli.`:i.format==="regex"?`F\xE2sit metin: ${i.pattern} nak\u015F\u0131na uymal\u0131.`:`F\xE2sit ${n[i.format]??o.format}`}case"not_multiple_of":return`F\xE2sit say\u0131: ${o.divisor} kat\u0131 olmal\u0131yd\u0131.`;case"unrecognized_keys":return`Tan\u0131nmayan anahtar ${o.keys.length>1?"s":""}: ${ee(o.keys,", ")}`;case"invalid_key":return`${o.origin} i\xE7in tan\u0131nmayan anahtar var.`;case"invalid_union":return"Giren tan\u0131namad\u0131.";case"invalid_element":return`${o.origin} i\xE7in tan\u0131nmayan k\u0131ymet var.`;default:return"K\u0131ymet tan\u0131namad\u0131."}}},"error");function cO(){return{localeError:Wie()}}a(cO,"default");var Qie=a(()=>{let e={string:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"},file:{unit:"\u0628\u0627\u06CC\u067C\u0633",verb:"\u0648\u0644\u0631\u064A"},array:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"},set:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"\u0639\u062F\u062F";case"object":{if(Array.isArray(o))return"\u0627\u0631\u06D0";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\u0648\u0631\u0648\u062F\u064A",email:"\u0628\u0631\u06CC\u069A\u0646\u0627\u0644\u06CC\u06A9",url:"\u06CC\u0648 \u0622\u0631 \u0627\u0644",emoji:"\u0627\u06CC\u0645\u0648\u062C\u064A",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0646\u06CC\u067C\u0647 \u0627\u0648 \u0648\u062E\u062A",date:"\u0646\u06D0\u067C\u0647",time:"\u0648\u062E\u062A",duration:"\u0645\u0648\u062F\u0647",ipv4:"\u062F IPv4 \u067E\u062A\u0647",ipv6:"\u062F IPv6 \u067E\u062A\u0647",cidrv4:"\u062F IPv4 \u0633\u0627\u062D\u0647",cidrv6:"\u062F IPv6 \u0633\u0627\u062D\u0647",base64:"base64-encoded \u0645\u062A\u0646",base64url:"base64url-encoded \u0645\u062A\u0646",json_string:"JSON \u0645\u062A\u0646",e164:"\u062F E.164 \u0634\u0645\u06D0\u0631\u0647",jwt:"JWT",template_literal:"\u0648\u0631\u0648\u062F\u064A"};return o=>{switch(o.code){case"invalid_type":return`\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${o.expected} \u0648\u0627\u06CC, \u0645\u06AB\u0631 ${r(o.input)} \u062A\u0631\u0644\u0627\u0633\u0647 \u0634\u0648`;case"invalid_value":return o.values.length===1?`\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${ce(o.values[0])} \u0648\u0627\u06CC`:`\u0646\u0627\u0633\u0645 \u0627\u0646\u062A\u062E\u0627\u0628: \u0628\u0627\u06CC\u062F \u06CC\u0648 \u0644\u0647 ${ee(o.values,"|")} \u0685\u062E\u0647 \u0648\u0627\u06CC`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${o.origin??"\u0627\u0631\u0632\u069A\u062A"} \u0628\u0627\u06CC\u062F ${i}${o.maximum.toString()} ${s.unit??"\u0639\u0646\u0635\u0631\u0648\u0646\u0647"} \u0648\u0644\u0631\u064A`:`\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${o.origin??"\u0627\u0631\u0632\u069A\u062A"} \u0628\u0627\u06CC\u062F ${i}${o.maximum.toString()} \u0648\u064A`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${o.origin} \u0628\u0627\u06CC\u062F ${i}${o.minimum.toString()} ${s.unit} \u0648\u0644\u0631\u064A`:`\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${o.origin} \u0628\u0627\u06CC\u062F ${i}${o.minimum.toString()} \u0648\u064A`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F "${i.prefix}" \u0633\u0631\u0647 \u067E\u06CC\u0644 \u0634\u064A`:i.format==="ends_with"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F "${i.suffix}" \u0633\u0631\u0647 \u067E\u0627\u06CC \u062A\u0647 \u0648\u0631\u0633\u064A\u0696\u064A`:i.format==="includes"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F "${i.includes}" \u0648\u0644\u0631\u064A`:i.format==="regex"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F ${i.pattern} \u0633\u0631\u0647 \u0645\u0637\u0627\u0628\u0642\u062A \u0648\u0644\u0631\u064A`:`${n[i.format]??o.format} \u0646\u0627\u0633\u0645 \u062F\u06CC`}case"not_multiple_of":return`\u0646\u0627\u0633\u0645 \u0639\u062F\u062F: \u0628\u0627\u06CC\u062F \u062F ${o.divisor} \u0645\u0636\u0631\u0628 \u0648\u064A`;case"unrecognized_keys":return`\u0646\u0627\u0633\u0645 ${o.keys.length>1?"\u06A9\u0644\u06CC\u0689\u0648\u0646\u0647":"\u06A9\u0644\u06CC\u0689"}: ${ee(o.keys,", ")}`;case"invalid_key":return`\u0646\u0627\u0633\u0645 \u06A9\u0644\u06CC\u0689 \u067E\u0647 ${o.origin} \u06A9\u06D0`;case"invalid_union":return"\u0646\u0627\u0633\u0645\u0647 \u0648\u0631\u0648\u062F\u064A";case"invalid_element":return`\u0646\u0627\u0633\u0645 \u0639\u0646\u0635\u0631 \u067E\u0647 ${o.origin} \u06A9\u06D0`;default:return"\u0646\u0627\u0633\u0645\u0647 \u0648\u0631\u0648\u062F\u064A"}}},"error");function lO(){return{localeError:Qie()}}a(lO,"default");var Xie=a(()=>{let e={string:{unit:"znak\xF3w",verb:"mie\u0107"},file:{unit:"bajt\xF3w",verb:"mie\u0107"},array:{unit:"element\xF3w",verb:"mie\u0107"},set:{unit:"element\xF3w",verb:"mie\u0107"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"liczba";case"object":{if(Array.isArray(o))return"tablica";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"wyra\u017Cenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"ci\u0105g znak\xF3w zakodowany w formacie base64",base64url:"ci\u0105g znak\xF3w zakodowany w formacie base64url",json_string:"ci\u0105g znak\xF3w w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wej\u015Bcie"};return o=>{switch(o.code){case"invalid_type":return`Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${o.expected}, otrzymano ${r(o.input)}`;case"invalid_value":return o.values.length===1?`Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${ce(o.values[0])}`:`Nieprawid\u0142owa opcja: oczekiwano jednej z warto\u015Bci ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`Za du\u017Ca warto\u015B\u0107: oczekiwano, \u017Ce ${o.origin??"warto\u015B\u0107"} b\u0119dzie mie\u0107 ${i}${o.maximum.toString()} ${s.unit??"element\xF3w"}`:`Zbyt du\u017C(y/a/e): oczekiwano, \u017Ce ${o.origin??"warto\u015B\u0107"} b\u0119dzie wynosi\u0107 ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`Za ma\u0142a warto\u015B\u0107: oczekiwano, \u017Ce ${o.origin??"warto\u015B\u0107"} b\u0119dzie mie\u0107 ${i}${o.minimum.toString()} ${s.unit??"element\xF3w"}`:`Zbyt ma\u0142(y/a/e): oczekiwano, \u017Ce ${o.origin??"warto\u015B\u0107"} b\u0119dzie wynosi\u0107 ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi zaczyna\u0107 si\u0119 od "${i.prefix}"`:i.format==="ends_with"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi ko\u0144czy\u0107 si\u0119 na "${i.suffix}"`:i.format==="includes"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi zawiera\u0107 "${i.includes}"`:i.format==="regex"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi odpowiada\u0107 wzorcowi ${i.pattern}`:`Nieprawid\u0142ow(y/a/e) ${n[i.format]??o.format}`}case"not_multiple_of":return`Nieprawid\u0142owa liczba: musi by\u0107 wielokrotno\u015Bci\u0105 ${o.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${o.keys.length>1?"s":""}: ${ee(o.keys,", ")}`;case"invalid_key":return`Nieprawid\u0142owy klucz w ${o.origin}`;case"invalid_union":return"Nieprawid\u0142owe dane wej\u015Bciowe";case"invalid_element":return`Nieprawid\u0142owa warto\u015B\u0107 w ${o.origin}`;default:return"Nieprawid\u0142owe dane wej\u015Bciowe"}}},"error");function dO(){return{localeError:Xie()}}a(dO,"default");var Yie=a(()=>{let e={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"n\xFAmero";case"object":{if(Array.isArray(o))return"array";if(o===null)return"nulo";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"padr\xE3o",email:"endere\xE7o de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"dura\xE7\xE3o ISO",ipv4:"endere\xE7o IPv4",ipv6:"endere\xE7o IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"};return o=>{switch(o.code){case"invalid_type":return`Tipo inv\xE1lido: esperado ${o.expected}, recebido ${r(o.input)}`;case"invalid_value":return o.values.length===1?`Entrada inv\xE1lida: esperado ${ce(o.values[0])}`:`Op\xE7\xE3o inv\xE1lida: esperada uma das ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`Muito grande: esperado que ${o.origin??"valor"} tivesse ${i}${o.maximum.toString()} ${s.unit??"elementos"}`:`Muito grande: esperado que ${o.origin??"valor"} fosse ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`Muito pequeno: esperado que ${o.origin} tivesse ${i}${o.minimum.toString()} ${s.unit}`:`Muito pequeno: esperado que ${o.origin} fosse ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Texto inv\xE1lido: deve come\xE7ar com "${i.prefix}"`:i.format==="ends_with"?`Texto inv\xE1lido: deve terminar com "${i.suffix}"`:i.format==="includes"?`Texto inv\xE1lido: deve incluir "${i.includes}"`:i.format==="regex"?`Texto inv\xE1lido: deve corresponder ao padr\xE3o ${i.pattern}`:`${n[i.format]??o.format} inv\xE1lido`}case"not_multiple_of":return`N\xFAmero inv\xE1lido: deve ser m\xFAltiplo de ${o.divisor}`;case"unrecognized_keys":return`Chave${o.keys.length>1?"s":""} desconhecida${o.keys.length>1?"s":""}: ${ee(o.keys,", ")}`;case"invalid_key":return`Chave inv\xE1lida em ${o.origin}`;case"invalid_union":return"Entrada inv\xE1lida";case"invalid_element":return`Valor inv\xE1lido em ${o.origin}`;default:return"Campo inv\xE1lido"}}},"error");function pO(){return{localeError:Yie()}}a(pO,"default");function jU(e,t,r,n){let o=Math.abs(e),i=o%10,s=o%100;return s>=11&&s<=19?n:i===1?t:i>=2&&i<=4?r:n}a(jU,"getRussianPlural");var eae=a(()=>{let e={string:{unit:{one:"\u0441\u0438\u043C\u0432\u043E\u043B",few:"\u0441\u0438\u043C\u0432\u043E\u043B\u0430",many:"\u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"},file:{unit:{one:"\u0431\u0430\u0439\u0442",few:"\u0431\u0430\u0439\u0442\u0430",many:"\u0431\u0430\u0439\u0442"},verb:"\u0438\u043C\u0435\u0442\u044C"},array:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"},set:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"\u0447\u0438\u0441\u043B\u043E";case"object":{if(Array.isArray(o))return"\u043C\u0430\u0441\u0441\u0438\u0432";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\u0432\u0432\u043E\u0434",email:"email \u0430\u0434\u0440\u0435\u0441",url:"URL",emoji:"\u044D\u043C\u043E\u0434\u0437\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043C\u044F",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0432\u0440\u0435\u043C\u044F",duration:"ISO \u0434\u043B\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441",cidrv4:"IPv4 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",base64:"\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64",base64url:"\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64url",json_string:"JSON \u0441\u0442\u0440\u043E\u043A\u0430",e164:"\u043D\u043E\u043C\u0435\u0440 E.164",jwt:"JWT",template_literal:"\u0432\u0432\u043E\u0434"};return o=>{switch(o.code){case"invalid_type":return`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${o.expected}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u043E ${r(o.input)}`;case"invalid_value":return o.values.length===1?`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${ce(o.values[0])}`:`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0430\u0440\u0438\u0430\u043D\u0442: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C \u043E\u0434\u043D\u043E \u0438\u0437 ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);if(s){let u=Number(o.maximum),l=jU(u,s.unit.one,s.unit.few,s.unit.many);return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${o.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${i}${o.maximum.toString()} ${l}`}return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${o.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"} \u0431\u0443\u0434\u0435\u0442 ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);if(s){let u=Number(o.minimum),l=jU(u,s.unit.one,s.unit.few,s.unit.many);return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${o.origin} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${i}${o.minimum.toString()} ${l}`}return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${o.origin} \u0431\u0443\u0434\u0435\u0442 ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u043D\u0430\u0447\u0438\u043D\u0430\u0442\u044C\u0441\u044F \u0441 "${i.prefix}"`:i.format==="ends_with"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0437\u0430\u043A\u0430\u043D\u0447\u0438\u0432\u0430\u0442\u044C\u0441\u044F \u043D\u0430 "${i.suffix}"`:i.format==="includes"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0442\u044C "${i.includes}"`:i.format==="regex"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u043E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u043E\u0432\u0430\u0442\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${i.pattern}`:`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 ${n[i.format]??o.format}`}case"not_multiple_of":return`\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0447\u0438\u0441\u043B\u043E: \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${o.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0441\u043F\u043E\u0437\u043D\u0430\u043D\u043D${o.keys.length>1?"\u044B\u0435":"\u044B\u0439"} \u043A\u043B\u044E\u0447${o.keys.length>1?"\u0438":""}: ${ee(o.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u043A\u043B\u044E\u0447 \u0432 ${o.origin}`;case"invalid_union":return"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435";case"invalid_element":return`\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0432 ${o.origin}`;default:return"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435"}}},"error");function mO(){return{localeError:eae()}}a(mO,"default");var tae=a(()=>{let e={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"\u0161tevilo";case"object":{if(Array.isArray(o))return"tabela";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"vnos",email:"e-po\u0161tni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in \u010Das",date:"ISO datum",time:"ISO \u010Das",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 \u0161tevilka",jwt:"JWT",template_literal:"vnos"};return o=>{switch(o.code){case"invalid_type":return`Neveljaven vnos: pri\u010Dakovano ${o.expected}, prejeto ${r(o.input)}`;case"invalid_value":return o.values.length===1?`Neveljaven vnos: pri\u010Dakovano ${ce(o.values[0])}`:`Neveljavna mo\u017Enost: pri\u010Dakovano eno izmed ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`Preveliko: pri\u010Dakovano, da bo ${o.origin??"vrednost"} imelo ${i}${o.maximum.toString()} ${s.unit??"elementov"}`:`Preveliko: pri\u010Dakovano, da bo ${o.origin??"vrednost"} ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`Premajhno: pri\u010Dakovano, da bo ${o.origin} imelo ${i}${o.minimum.toString()} ${s.unit}`:`Premajhno: pri\u010Dakovano, da bo ${o.origin} ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Neveljaven niz: mora se za\u010Deti z "${i.prefix}"`:i.format==="ends_with"?`Neveljaven niz: mora se kon\u010Dati z "${i.suffix}"`:i.format==="includes"?`Neveljaven niz: mora vsebovati "${i.includes}"`:i.format==="regex"?`Neveljaven niz: mora ustrezati vzorcu ${i.pattern}`:`Neveljaven ${n[i.format]??o.format}`}case"not_multiple_of":return`Neveljavno \u0161tevilo: mora biti ve\u010Dkratnik ${o.divisor}`;case"unrecognized_keys":return`Neprepoznan${o.keys.length>1?"i klju\u010Di":" klju\u010D"}: ${ee(o.keys,", ")}`;case"invalid_key":return`Neveljaven klju\u010D v ${o.origin}`;case"invalid_union":return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${o.origin}`;default:return"Neveljaven vnos"}}},"error");function fO(){return{localeError:tae()}}a(fO,"default");var rae=a(()=>{let e={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att inneh\xE5lla"},set:{unit:"objekt",verb:"att inneh\xE5lla"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"antal";case"object":{if(Array.isArray(o))return"lista";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"regulj\xE4rt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad str\xE4ng",base64url:"base64url-kodad str\xE4ng",json_string:"JSON-str\xE4ng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"};return o=>{switch(o.code){case"invalid_type":return`Ogiltig inmatning: f\xF6rv\xE4ntat ${o.expected}, fick ${r(o.input)}`;case"invalid_value":return o.values.length===1?`Ogiltig inmatning: f\xF6rv\xE4ntat ${ce(o.values[0])}`:`Ogiltigt val: f\xF6rv\xE4ntade en av ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`F\xF6r stor(t): f\xF6rv\xE4ntade ${o.origin??"v\xE4rdet"} att ha ${i}${o.maximum.toString()} ${s.unit??"element"}`:`F\xF6r stor(t): f\xF6rv\xE4ntat ${o.origin??"v\xE4rdet"} att ha ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`F\xF6r lite(t): f\xF6rv\xE4ntade ${o.origin??"v\xE4rdet"} att ha ${i}${o.minimum.toString()} ${s.unit}`:`F\xF6r lite(t): f\xF6rv\xE4ntade ${o.origin??"v\xE4rdet"} att ha ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Ogiltig str\xE4ng: m\xE5ste b\xF6rja med "${i.prefix}"`:i.format==="ends_with"?`Ogiltig str\xE4ng: m\xE5ste sluta med "${i.suffix}"`:i.format==="includes"?`Ogiltig str\xE4ng: m\xE5ste inneh\xE5lla "${i.includes}"`:i.format==="regex"?`Ogiltig str\xE4ng: m\xE5ste matcha m\xF6nstret "${i.pattern}"`:`Ogiltig(t) ${n[i.format]??o.format}`}case"not_multiple_of":return`Ogiltigt tal: m\xE5ste vara en multipel av ${o.divisor}`;case"unrecognized_keys":return`${o.keys.length>1?"Ok\xE4nda nycklar":"Ok\xE4nd nyckel"}: ${ee(o.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${o.origin??"v\xE4rdet"}`;case"invalid_union":return"Ogiltig input";case"invalid_element":return`Ogiltigt v\xE4rde i ${o.origin??"v\xE4rdet"}`;default:return"Ogiltig input"}}},"error");function hO(){return{localeError:rae()}}a(hO,"default");var nae=a(()=>{let e={string:{unit:"\u0B8E\u0BB4\u0BC1\u0BA4\u0BCD\u0BA4\u0BC1\u0B95\u0BCD\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},file:{unit:"\u0BAA\u0BC8\u0B9F\u0BCD\u0B9F\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},array:{unit:"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},set:{unit:"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"\u0B8E\u0BA3\u0BCD \u0B85\u0BB2\u0BCD\u0BB2\u0BBE\u0BA4\u0BA4\u0BC1":"\u0B8E\u0BA3\u0BCD";case"object":{if(Array.isArray(o))return"\u0B85\u0BA3\u0BBF";if(o===null)return"\u0BB5\u0BC6\u0BB1\u0BC1\u0BAE\u0BC8";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1",email:"\u0BAE\u0BBF\u0BA9\u0BCD\u0BA9\u0B9E\u0BCD\u0B9A\u0BB2\u0BCD \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0BA4\u0BC7\u0BA4\u0BBF \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",date:"ISO \u0BA4\u0BC7\u0BA4\u0BBF",time:"ISO \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",duration:"ISO \u0B95\u0BBE\u0BB2 \u0B85\u0BB3\u0BB5\u0BC1",ipv4:"IPv4 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",ipv6:"IPv6 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",cidrv4:"IPv4 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1",cidrv6:"IPv6 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1",base64:"base64-encoded \u0B9A\u0BB0\u0BAE\u0BCD",base64url:"base64url-encoded \u0B9A\u0BB0\u0BAE\u0BCD",json_string:"JSON \u0B9A\u0BB0\u0BAE\u0BCD",e164:"E.164 \u0B8E\u0BA3\u0BCD",jwt:"JWT",template_literal:"input"};return o=>{switch(o.code){case"invalid_type":return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${o.expected}, \u0BAA\u0BC6\u0BB1\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${r(o.input)}`;case"invalid_value":return o.values.length===1?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${ce(o.values[0])}`:`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0BB0\u0BC1\u0BAA\u0BCD\u0BAA\u0BAE\u0BCD: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${ee(o.values,"|")} \u0B87\u0BB2\u0BCD \u0B92\u0BA9\u0BCD\u0BB1\u0BC1`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${o.origin??"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1"} ${i}${o.maximum.toString()} ${s.unit??"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD"} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${o.origin??"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1"} ${i}${o.maximum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${o.origin} ${i}${o.minimum.toString()} ${s.unit} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${o.origin} ${i}${o.minimum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${i.prefix}" \u0B87\u0BB2\u0BCD \u0BA4\u0BCA\u0B9F\u0B99\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:i.format==="ends_with"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${i.suffix}" \u0B87\u0BB2\u0BCD \u0BAE\u0BC1\u0B9F\u0BBF\u0BB5\u0B9F\u0BC8\u0BAF \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:i.format==="includes"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${i.includes}" \u0B90 \u0B89\u0BB3\u0BCD\u0BB3\u0B9F\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:i.format==="regex"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: ${i.pattern} \u0BAE\u0BC1\u0BB1\u0BC8\u0BAA\u0BBE\u0B9F\u0BCD\u0B9F\u0BC1\u0B9F\u0BA9\u0BCD \u0BAA\u0BCA\u0BB0\u0BC1\u0BA8\u0BCD\u0BA4 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 ${n[i.format]??o.format}`}case"not_multiple_of":return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B8E\u0BA3\u0BCD: ${o.divisor} \u0B87\u0BA9\u0BCD \u0BAA\u0BB2\u0BAE\u0BBE\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;case"unrecognized_keys":return`\u0B85\u0B9F\u0BC8\u0BAF\u0BBE\u0BB3\u0BAE\u0BCD \u0BA4\u0BC6\u0BB0\u0BBF\u0BAF\u0BBE\u0BA4 \u0BB5\u0BBF\u0B9A\u0BC8${o.keys.length>1?"\u0B95\u0BB3\u0BCD":""}: ${ee(o.keys,", ")}`;case"invalid_key":return`${o.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0B9A\u0BC8`;case"invalid_union":return"\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1";case"invalid_element":return`${o.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1`;default:return"\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1"}}},"error");function gO(){return{localeError:nae()}}a(gO,"default");var oae=a(()=>{let e={string:{unit:"\u0E15\u0E31\u0E27\u0E2D\u0E31\u0E01\u0E29\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},file:{unit:"\u0E44\u0E1A\u0E15\u0E4C",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},array:{unit:"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},set:{unit:"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"\u0E44\u0E21\u0E48\u0E43\u0E0A\u0E48\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02 (NaN)":"\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02";case"object":{if(Array.isArray(o))return"\u0E2D\u0E32\u0E23\u0E4C\u0E40\u0E23\u0E22\u0E4C (Array)";if(o===null)return"\u0E44\u0E21\u0E48\u0E21\u0E35\u0E04\u0E48\u0E32 (null)";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19",email:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48\u0E2D\u0E35\u0E40\u0E21\u0E25",url:"URL",emoji:"\u0E2D\u0E34\u0E42\u0E21\u0E08\u0E34",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",date:"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E41\u0E1A\u0E1A ISO",time:"\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",duration:"\u0E0A\u0E48\u0E27\u0E07\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",ipv4:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv4",ipv6:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv6",cidrv4:"\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv4",cidrv6:"\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv6",base64:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64",base64url:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64 \u0E2A\u0E33\u0E2B\u0E23\u0E31\u0E1A URL",json_string:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A JSON",e164:"\u0E40\u0E1A\u0E2D\u0E23\u0E4C\u0E42\u0E17\u0E23\u0E28\u0E31\u0E1E\u0E17\u0E4C\u0E23\u0E30\u0E2B\u0E27\u0E48\u0E32\u0E07\u0E1B\u0E23\u0E30\u0E40\u0E17\u0E28 (E.164)",jwt:"\u0E42\u0E17\u0E40\u0E04\u0E19 JWT",template_literal:"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19"};return o=>{switch(o.code){case"invalid_type":return`\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${o.expected} \u0E41\u0E15\u0E48\u0E44\u0E14\u0E49\u0E23\u0E31\u0E1A ${r(o.input)}`;case"invalid_value":return o.values.length===1?`\u0E04\u0E48\u0E32\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${ce(o.values[0])}`:`\u0E15\u0E31\u0E27\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19\u0E2B\u0E19\u0E36\u0E48\u0E07\u0E43\u0E19 ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"\u0E44\u0E21\u0E48\u0E40\u0E01\u0E34\u0E19":"\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32",s=t(o.origin);return s?`\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${o.origin??"\u0E04\u0E48\u0E32"} \u0E04\u0E27\u0E23\u0E21\u0E35${i} ${o.maximum.toString()} ${s.unit??"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23"}`:`\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${o.origin??"\u0E04\u0E48\u0E32"} \u0E04\u0E27\u0E23\u0E21\u0E35${i} ${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?"\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E19\u0E49\u0E2D\u0E22":"\u0E21\u0E32\u0E01\u0E01\u0E27\u0E48\u0E32",s=t(o.origin);return s?`\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${o.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${i} ${o.minimum.toString()} ${s.unit}`:`\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${o.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${i} ${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E02\u0E36\u0E49\u0E19\u0E15\u0E49\u0E19\u0E14\u0E49\u0E27\u0E22 "${i.prefix}"`:i.format==="ends_with"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E25\u0E07\u0E17\u0E49\u0E32\u0E22\u0E14\u0E49\u0E27\u0E22 "${i.suffix}"`:i.format==="includes"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E21\u0E35 "${i.includes}" \u0E2D\u0E22\u0E39\u0E48\u0E43\u0E19\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21`:i.format==="regex"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14 ${i.pattern}`:`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: ${n[i.format]??o.format}`}case"not_multiple_of":return`\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E40\u0E1B\u0E47\u0E19\u0E08\u0E33\u0E19\u0E27\u0E19\u0E17\u0E35\u0E48\u0E2B\u0E32\u0E23\u0E14\u0E49\u0E27\u0E22 ${o.divisor} \u0E44\u0E14\u0E49\u0E25\u0E07\u0E15\u0E31\u0E27`;case"unrecognized_keys":return`\u0E1E\u0E1A\u0E04\u0E35\u0E22\u0E4C\u0E17\u0E35\u0E48\u0E44\u0E21\u0E48\u0E23\u0E39\u0E49\u0E08\u0E31\u0E01: ${ee(o.keys,", ")}`;case"invalid_key":return`\u0E04\u0E35\u0E22\u0E4C\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${o.origin}`;case"invalid_union":return"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E44\u0E21\u0E48\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E22\u0E39\u0E40\u0E19\u0E35\u0E22\u0E19\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14\u0E44\u0E27\u0E49";case"invalid_element":return`\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${o.origin}`;default:return"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07"}}},"error");function yO(){return{localeError:oae()}}a(yO,"default");var iae=a(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":{if(Array.isArray(e))return"array";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},"parsedType"),aae=a(()=>{let e={string:{unit:"karakter",verb:"olmal\u0131"},file:{unit:"bayt",verb:"olmal\u0131"},array:{unit:"\xF6\u011Fe",verb:"olmal\u0131"},set:{unit:"\xF6\u011Fe",verb:"olmal\u0131"}};function t(n){return e[n]??null}a(t,"getSizing");let r={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO s\xFCre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aral\u0131\u011F\u0131",cidrv6:"IPv6 aral\u0131\u011F\u0131",base64:"base64 ile \u015Fifrelenmi\u015F metin",base64url:"base64url ile \u015Fifrelenmi\u015F metin",json_string:"JSON dizesi",e164:"E.164 say\u0131s\u0131",jwt:"JWT",template_literal:"\u015Eablon dizesi"};return n=>{switch(n.code){case"invalid_type":return`Ge\xE7ersiz de\u011Fer: beklenen ${n.expected}, al\u0131nan ${iae(n.input)}`;case"invalid_value":return n.values.length===1?`Ge\xE7ersiz de\u011Fer: beklenen ${ce(n.values[0])}`:`Ge\xE7ersiz se\xE7enek: a\u015Fa\u011F\u0131dakilerden biri olmal\u0131: ${ee(n.values,"|")}`;case"too_big":{let o=n.inclusive?"<=":"<",i=t(n.origin);return i?`\xC7ok b\xFCy\xFCk: beklenen ${n.origin??"de\u011Fer"} ${o}${n.maximum.toString()} ${i.unit??"\xF6\u011Fe"}`:`\xC7ok b\xFCy\xFCk: beklenen ${n.origin??"de\u011Fer"} ${o}${n.maximum.toString()}`}case"too_small":{let o=n.inclusive?">=":">",i=t(n.origin);return i?`\xC7ok k\xFC\xE7\xFCk: beklenen ${n.origin} ${o}${n.minimum.toString()} ${i.unit}`:`\xC7ok k\xFC\xE7\xFCk: beklenen ${n.origin} ${o}${n.minimum.toString()}`}case"invalid_format":{let o=n;return o.format==="starts_with"?`Ge\xE7ersiz metin: "${o.prefix}" ile ba\u015Flamal\u0131`:o.format==="ends_with"?`Ge\xE7ersiz metin: "${o.suffix}" ile bitmeli`:o.format==="includes"?`Ge\xE7ersiz metin: "${o.includes}" i\xE7ermeli`:o.format==="regex"?`Ge\xE7ersiz metin: ${o.pattern} desenine uymal\u0131`:`Ge\xE7ersiz ${r[o.format]??n.format}`}case"not_multiple_of":return`Ge\xE7ersiz say\u0131: ${n.divisor} ile tam b\xF6l\xFCnebilmeli`;case"unrecognized_keys":return`Tan\u0131nmayan anahtar${n.keys.length>1?"lar":""}: ${ee(n.keys,", ")}`;case"invalid_key":return`${n.origin} i\xE7inde ge\xE7ersiz anahtar`;case"invalid_union":return"Ge\xE7ersiz de\u011Fer";case"invalid_element":return`${n.origin} i\xE7inde ge\xE7ersiz de\u011Fer`;default:return"Ge\xE7ersiz de\u011Fer"}}},"error");function vO(){return{localeError:aae()}}a(vO,"default");var sae=a(()=>{let e={string:{unit:"\u0441\u0438\u043C\u0432\u043E\u043B\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},file:{unit:"\u0431\u0430\u0439\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},array:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},set:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"\u0447\u0438\u0441\u043B\u043E";case"object":{if(Array.isArray(o))return"\u043C\u0430\u0441\u0438\u0432";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456",email:"\u0430\u0434\u0440\u0435\u0441\u0430 \u0435\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0457 \u043F\u043E\u0448\u0442\u0438",url:"URL",emoji:"\u0435\u043C\u043E\u0434\u0437\u0456",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0434\u0430\u0442\u0430 \u0442\u0430 \u0447\u0430\u0441 ISO",date:"\u0434\u0430\u0442\u0430 ISO",time:"\u0447\u0430\u0441 ISO",duration:"\u0442\u0440\u0438\u0432\u0430\u043B\u0456\u0441\u0442\u044C ISO",ipv4:"\u0430\u0434\u0440\u0435\u0441\u0430 IPv4",ipv6:"\u0430\u0434\u0440\u0435\u0441\u0430 IPv6",cidrv4:"\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv4",cidrv6:"\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv6",base64:"\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64",base64url:"\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64url",json_string:"\u0440\u044F\u0434\u043E\u043A JSON",e164:"\u043D\u043E\u043C\u0435\u0440 E.164",jwt:"JWT",template_literal:"\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456"};return o=>{switch(o.code){case"invalid_type":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${o.expected}, \u043E\u0442\u0440\u0438\u043C\u0430\u043D\u043E ${r(o.input)}`;case"invalid_value":return o.values.length===1?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${ce(o.values[0])}`:`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0430 \u043E\u043F\u0446\u0456\u044F: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F \u043E\u0434\u043D\u0435 \u0437 ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${o.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F"} ${s.verb} ${i}${o.maximum.toString()} ${s.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432"}`:`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${o.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F"} \u0431\u0443\u0434\u0435 ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${o.origin} ${s.verb} ${i}${o.minimum.toString()} ${s.unit}`:`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${o.origin} \u0431\u0443\u0434\u0435 ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043F\u043E\u0447\u0438\u043D\u0430\u0442\u0438\u0441\u044F \u0437 "${i.prefix}"`:i.format==="ends_with"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0437\u0430\u043A\u0456\u043D\u0447\u0443\u0432\u0430\u0442\u0438\u0441\u044F \u043D\u0430 "${i.suffix}"`:i.format==="includes"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043C\u0456\u0441\u0442\u0438\u0442\u0438 "${i.includes}"`:i.format==="regex"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0432\u0456\u0434\u043F\u043E\u0432\u0456\u0434\u0430\u0442\u0438 \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${i.pattern}`:`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 ${n[i.format]??o.format}`}case"not_multiple_of":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0447\u0438\u0441\u043B\u043E: \u043F\u043E\u0432\u0438\u043D\u043D\u043E \u0431\u0443\u0442\u0438 \u043A\u0440\u0430\u0442\u043D\u0438\u043C ${o.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u043E\u0437\u043F\u0456\u0437\u043D\u0430\u043D\u0438\u0439 \u043A\u043B\u044E\u0447${o.keys.length>1?"\u0456":""}: ${ee(o.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u043A\u043B\u044E\u0447 \u0443 ${o.origin}`;case"invalid_union":return"\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456";case"invalid_element":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F \u0443 ${o.origin}`;default:return"\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456"}}},"error");function Ed(){return{localeError:sae()}}a(Ed,"default");function _O(){return Ed()}a(_O,"default");var uae=a(()=>{let e={string:{unit:"\u062D\u0631\u0648\u0641",verb:"\u06C1\u0648\u0646\u0627"},file:{unit:"\u0628\u0627\u0626\u0679\u0633",verb:"\u06C1\u0648\u0646\u0627"},array:{unit:"\u0622\u0626\u0679\u0645\u0632",verb:"\u06C1\u0648\u0646\u0627"},set:{unit:"\u0622\u0626\u0679\u0645\u0632",verb:"\u06C1\u0648\u0646\u0627"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"\u0646\u0645\u0628\u0631";case"object":{if(Array.isArray(o))return"\u0622\u0631\u06D2";if(o===null)return"\u0646\u0644";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\u0627\u0646 \u067E\u0679",email:"\u0627\u06CC \u0645\u06CC\u0644 \u0627\u06CC\u0688\u0631\u06CC\u0633",url:"\u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644",emoji:"\u0627\u06CC\u0645\u0648\u062C\u06CC",uuid:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",uuidv4:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 4",uuidv6:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 6",nanoid:"\u0646\u06CC\u0646\u0648 \u0622\u0626\u06CC \u0688\u06CC",guid:"\u062C\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",cuid:"\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",cuid2:"\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC 2",ulid:"\u06CC\u0648 \u0627\u06CC\u0644 \u0622\u0626\u06CC \u0688\u06CC",xid:"\u0627\u06CC\u06A9\u0633 \u0622\u0626\u06CC \u0688\u06CC",ksuid:"\u06A9\u06D2 \u0627\u06CC\u0633 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",datetime:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0688\u06CC\u0679 \u0679\u0627\u0626\u0645",date:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u062A\u0627\u0631\u06CC\u062E",time:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0648\u0642\u062A",duration:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0645\u062F\u062A",ipv4:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0627\u06CC\u0688\u0631\u06CC\u0633",ipv6:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0627\u06CC\u0688\u0631\u06CC\u0633",cidrv4:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0631\u06CC\u0646\u062C",cidrv6:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0631\u06CC\u0646\u062C",base64:"\u0628\u06CC\u0633 64 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF",base64url:"\u0628\u06CC\u0633 64 \u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF",json_string:"\u062C\u06D2 \u0627\u06CC\u0633 \u0627\u0648 \u0627\u06CC\u0646 \u0633\u0679\u0631\u0646\u06AF",e164:"\u0627\u06CC 164 \u0646\u0645\u0628\u0631",jwt:"\u062C\u06D2 \u0688\u0628\u0644\u06CC\u0648 \u0679\u06CC",template_literal:"\u0627\u0646 \u067E\u0679"};return o=>{switch(o.code){case"invalid_type":return`\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${o.expected} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627\u060C ${r(o.input)} \u0645\u0648\u0635\u0648\u0644 \u06C1\u0648\u0627`;case"invalid_value":return o.values.length===1?`\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${ce(o.values[0])} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`:`\u063A\u0644\u0637 \u0622\u067E\u0634\u0646: ${ee(o.values,"|")} \u0645\u06CC\u06BA \u0633\u06D2 \u0627\u06CC\u06A9 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`\u0628\u06C1\u062A \u0628\u0691\u0627: ${o.origin??"\u0648\u06CC\u0644\u06CC\u0648"} \u06A9\u06D2 ${i}${o.maximum.toString()} ${s.unit??"\u0639\u0646\u0627\u0635\u0631"} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`:`\u0628\u06C1\u062A \u0628\u0691\u0627: ${o.origin??"\u0648\u06CC\u0644\u06CC\u0648"} \u06A9\u0627 ${i}${o.maximum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${o.origin} \u06A9\u06D2 ${i}${o.minimum.toString()} ${s.unit} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`:`\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${o.origin} \u06A9\u0627 ${i}${o.minimum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${i.prefix}" \u0633\u06D2 \u0634\u0631\u0648\u0639 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:i.format==="ends_with"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${i.suffix}" \u067E\u0631 \u062E\u062A\u0645 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:i.format==="includes"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${i.includes}" \u0634\u0627\u0645\u0644 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:i.format==="regex"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: \u067E\u06CC\u0679\u0631\u0646 ${i.pattern} \u0633\u06D2 \u0645\u06CC\u0686 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:`\u063A\u0644\u0637 ${n[i.format]??o.format}`}case"not_multiple_of":return`\u063A\u0644\u0637 \u0646\u0645\u0628\u0631: ${o.divisor} \u06A9\u0627 \u0645\u0636\u0627\u0639\u0641 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;case"unrecognized_keys":return`\u063A\u06CC\u0631 \u062A\u0633\u0644\u06CC\u0645 \u0634\u062F\u06C1 \u06A9\u06CC${o.keys.length>1?"\u0632":""}: ${ee(o.keys,"\u060C ")}`;case"invalid_key":return`${o.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u06A9\u06CC`;case"invalid_union":return"\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679";case"invalid_element":return`${o.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u0648\u06CC\u0644\u06CC\u0648`;default:return"\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679"}}},"error");function bO(){return{localeError:uae()}}a(bO,"default");var cae=a(()=>{let e={string:{unit:"k\xFD t\u1EF1",verb:"c\xF3"},file:{unit:"byte",verb:"c\xF3"},array:{unit:"ph\u1EA7n t\u1EED",verb:"c\xF3"},set:{unit:"ph\u1EA7n t\u1EED",verb:"c\xF3"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"s\u1ED1";case"object":{if(Array.isArray(o))return"m\u1EA3ng";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\u0111\u1EA7u v\xE0o",email:"\u0111\u1ECBa ch\u1EC9 email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ng\xE0y gi\u1EDD ISO",date:"ng\xE0y ISO",time:"gi\u1EDD ISO",duration:"kho\u1EA3ng th\u1EDDi gian ISO",ipv4:"\u0111\u1ECBa ch\u1EC9 IPv4",ipv6:"\u0111\u1ECBa ch\u1EC9 IPv6",cidrv4:"d\u1EA3i IPv4",cidrv6:"d\u1EA3i IPv6",base64:"chu\u1ED7i m\xE3 h\xF3a base64",base64url:"chu\u1ED7i m\xE3 h\xF3a base64url",json_string:"chu\u1ED7i JSON",e164:"s\u1ED1 E.164",jwt:"JWT",template_literal:"\u0111\u1EA7u v\xE0o"};return o=>{switch(o.code){case"invalid_type":return`\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${o.expected}, nh\u1EADn \u0111\u01B0\u1EE3c ${r(o.input)}`;case"invalid_value":return o.values.length===1?`\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${ce(o.values[0])}`:`T\xF9y ch\u1ECDn kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i m\u1ED9t trong c\xE1c gi\xE1 tr\u1ECB ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`Qu\xE1 l\u1EDBn: mong \u0111\u1EE3i ${o.origin??"gi\xE1 tr\u1ECB"} ${s.verb} ${i}${o.maximum.toString()} ${s.unit??"ph\u1EA7n t\u1EED"}`:`Qu\xE1 l\u1EDBn: mong \u0111\u1EE3i ${o.origin??"gi\xE1 tr\u1ECB"} ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`Qu\xE1 nh\u1ECF: mong \u0111\u1EE3i ${o.origin} ${s.verb} ${i}${o.minimum.toString()} ${s.unit}`:`Qu\xE1 nh\u1ECF: mong \u0111\u1EE3i ${o.origin} ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i b\u1EAFt \u0111\u1EA7u b\u1EB1ng "${i.prefix}"`:i.format==="ends_with"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i k\u1EBFt th\xFAc b\u1EB1ng "${i.suffix}"`:i.format==="includes"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i bao g\u1ED3m "${i.includes}"`:i.format==="regex"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i kh\u1EDBp v\u1EDBi m\u1EABu ${i.pattern}`:`${n[i.format]??o.format} kh\xF4ng h\u1EE3p l\u1EC7`}case"not_multiple_of":return`S\u1ED1 kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i l\xE0 b\u1ED9i s\u1ED1 c\u1EE7a ${o.divisor}`;case"unrecognized_keys":return`Kh\xF3a kh\xF4ng \u0111\u01B0\u1EE3c nh\u1EADn d\u1EA1ng: ${ee(o.keys,", ")}`;case"invalid_key":return`Kh\xF3a kh\xF4ng h\u1EE3p l\u1EC7 trong ${o.origin}`;case"invalid_union":return"\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7";case"invalid_element":return`Gi\xE1 tr\u1ECB kh\xF4ng h\u1EE3p l\u1EC7 trong ${o.origin}`;default:return"\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7"}}},"error");function SO(){return{localeError:cae()}}a(SO,"default");var lae=a(()=>{let e={string:{unit:"\u5B57\u7B26",verb:"\u5305\u542B"},file:{unit:"\u5B57\u8282",verb:"\u5305\u542B"},array:{unit:"\u9879",verb:"\u5305\u542B"},set:{unit:"\u9879",verb:"\u5305\u542B"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"\u975E\u6570\u5B57(NaN)":"\u6570\u5B57";case"object":{if(Array.isArray(o))return"\u6570\u7EC4";if(o===null)return"\u7A7A\u503C(null)";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\u8F93\u5165",email:"\u7535\u5B50\u90AE\u4EF6",url:"URL",emoji:"\u8868\u60C5\u7B26\u53F7",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO\u65E5\u671F\u65F6\u95F4",date:"ISO\u65E5\u671F",time:"ISO\u65F6\u95F4",duration:"ISO\u65F6\u957F",ipv4:"IPv4\u5730\u5740",ipv6:"IPv6\u5730\u5740",cidrv4:"IPv4\u7F51\u6BB5",cidrv6:"IPv6\u7F51\u6BB5",base64:"base64\u7F16\u7801\u5B57\u7B26\u4E32",base64url:"base64url\u7F16\u7801\u5B57\u7B26\u4E32",json_string:"JSON\u5B57\u7B26\u4E32",e164:"E.164\u53F7\u7801",jwt:"JWT",template_literal:"\u8F93\u5165"};return o=>{switch(o.code){case"invalid_type":return`\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${o.expected}\uFF0C\u5B9E\u9645\u63A5\u6536 ${r(o.input)}`;case"invalid_value":return o.values.length===1?`\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${ce(o.values[0])}`:`\u65E0\u6548\u9009\u9879\uFF1A\u671F\u671B\u4EE5\u4E0B\u4E4B\u4E00 ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${o.origin??"\u503C"} ${i}${o.maximum.toString()} ${s.unit??"\u4E2A\u5143\u7D20"}`:`\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${o.origin??"\u503C"} ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${o.origin} ${i}${o.minimum.toString()} ${s.unit}`:`\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${o.origin} ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 "${i.prefix}" \u5F00\u5934`:i.format==="ends_with"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 "${i.suffix}" \u7ED3\u5C3E`:i.format==="includes"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u5305\u542B "${i.includes}"`:i.format==="regex"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u6EE1\u8DB3\u6B63\u5219\u8868\u8FBE\u5F0F ${i.pattern}`:`\u65E0\u6548${n[i.format]??o.format}`}case"not_multiple_of":return`\u65E0\u6548\u6570\u5B57\uFF1A\u5FC5\u987B\u662F ${o.divisor} \u7684\u500D\u6570`;case"unrecognized_keys":return`\u51FA\u73B0\u672A\u77E5\u7684\u952E(key): ${ee(o.keys,", ")}`;case"invalid_key":return`${o.origin} \u4E2D\u7684\u952E(key)\u65E0\u6548`;case"invalid_union":return"\u65E0\u6548\u8F93\u5165";case"invalid_element":return`${o.origin} \u4E2D\u5305\u542B\u65E0\u6548\u503C(value)`;default:return"\u65E0\u6548\u8F93\u5165"}}},"error");function wO(){return{localeError:lae()}}a(wO,"default");var dae=a(()=>{let e={string:{unit:"\u5B57\u5143",verb:"\u64C1\u6709"},file:{unit:"\u4F4D\u5143\u7D44",verb:"\u64C1\u6709"},array:{unit:"\u9805\u76EE",verb:"\u64C1\u6709"},set:{unit:"\u9805\u76EE",verb:"\u64C1\u6709"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"number";case"object":{if(Array.isArray(o))return"array";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\u8F38\u5165",email:"\u90F5\u4EF6\u5730\u5740",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u65E5\u671F\u6642\u9593",date:"ISO \u65E5\u671F",time:"ISO \u6642\u9593",duration:"ISO \u671F\u9593",ipv4:"IPv4 \u4F4D\u5740",ipv6:"IPv6 \u4F4D\u5740",cidrv4:"IPv4 \u7BC4\u570D",cidrv6:"IPv6 \u7BC4\u570D",base64:"base64 \u7DE8\u78BC\u5B57\u4E32",base64url:"base64url \u7DE8\u78BC\u5B57\u4E32",json_string:"JSON \u5B57\u4E32",e164:"E.164 \u6578\u503C",jwt:"JWT",template_literal:"\u8F38\u5165"};return o=>{switch(o.code){case"invalid_type":return`\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${o.expected}\uFF0C\u4F46\u6536\u5230 ${r(o.input)}`;case"invalid_value":return o.values.length===1?`\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${ce(o.values[0])}`:`\u7121\u6548\u7684\u9078\u9805\uFF1A\u9810\u671F\u70BA\u4EE5\u4E0B\u5176\u4E2D\u4E4B\u4E00 ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${o.origin??"\u503C"} \u61C9\u70BA ${i}${o.maximum.toString()} ${s.unit??"\u500B\u5143\u7D20"}`:`\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${o.origin??"\u503C"} \u61C9\u70BA ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${o.origin} \u61C9\u70BA ${i}${o.minimum.toString()} ${s.unit}`:`\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${o.origin} \u61C9\u70BA ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 "${i.prefix}" \u958B\u982D`:i.format==="ends_with"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 "${i.suffix}" \u7D50\u5C3E`:i.format==="includes"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u5305\u542B "${i.includes}"`:i.format==="regex"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u7B26\u5408\u683C\u5F0F ${i.pattern}`:`\u7121\u6548\u7684 ${n[i.format]??o.format}`}case"not_multiple_of":return`\u7121\u6548\u7684\u6578\u5B57\uFF1A\u5FC5\u9808\u70BA ${o.divisor} \u7684\u500D\u6578`;case"unrecognized_keys":return`\u7121\u6CD5\u8B58\u5225\u7684\u9375\u503C${o.keys.length>1?"\u5011":""}\uFF1A${ee(o.keys,"\u3001")}`;case"invalid_key":return`${o.origin} \u4E2D\u6709\u7121\u6548\u7684\u9375\u503C`;case"invalid_union":return"\u7121\u6548\u7684\u8F38\u5165\u503C";case"invalid_element":return`${o.origin} \u4E2D\u6709\u7121\u6548\u7684\u503C`;default:return"\u7121\u6548\u7684\u8F38\u5165\u503C"}}},"error");function xO(){return{localeError:dae()}}a(xO,"default");var pae=a(()=>{let e={string:{unit:"\xE0mi",verb:"n\xED"},file:{unit:"bytes",verb:"n\xED"},array:{unit:"nkan",verb:"n\xED"},set:{unit:"nkan",verb:"n\xED"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"n\u1ECD\u0301mb\xE0";case"object":{if(Array.isArray(o))return"akop\u1ECD";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\u1EB9\u0300r\u1ECD \xECb\xE1w\u1ECDl\xE9",email:"\xE0d\xEDr\u1EB9\u0301s\xEC \xECm\u1EB9\u0301l\xEC",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\xE0k\xF3k\xF2 ISO",date:"\u1ECDj\u1ECD\u0301 ISO",time:"\xE0k\xF3k\xF2 ISO",duration:"\xE0k\xF3k\xF2 t\xF3 p\xE9 ISO",ipv4:"\xE0d\xEDr\u1EB9\u0301s\xEC IPv4",ipv6:"\xE0d\xEDr\u1EB9\u0301s\xEC IPv6",cidrv4:"\xE0gb\xE8gb\xE8 IPv4",cidrv6:"\xE0gb\xE8gb\xE8 IPv6",base64:"\u1ECD\u0300r\u1ECD\u0300 t\xED a k\u1ECD\u0301 n\xED base64",base64url:"\u1ECD\u0300r\u1ECD\u0300 base64url",json_string:"\u1ECD\u0300r\u1ECD\u0300 JSON",e164:"n\u1ECD\u0301mb\xE0 E.164",jwt:"JWT",template_literal:"\u1EB9\u0300r\u1ECD \xECb\xE1w\u1ECDl\xE9"};return o=>{switch(o.code){case"invalid_type":return`\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e: a n\xED l\xE1ti fi ${o.expected}, \xE0m\u1ECD\u0300 a r\xED ${r(o.input)}`;case"invalid_value":return o.values.length===1?`\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e: a n\xED l\xE1ti fi ${ce(o.values[0])}`:`\xC0\u1E63\xE0y\xE0n a\u1E63\xEC\u1E63e: yan \u1ECD\u0300kan l\xE1ra ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`T\xF3 p\u1ECD\u0300 j\xF9: a n\xED l\xE1ti j\u1EB9\u0301 p\xE9 ${o.origin??"iye"} ${s.verb} ${i}${o.maximum} ${s.unit}`:`T\xF3 p\u1ECD\u0300 j\xF9: a n\xED l\xE1ti j\u1EB9\u0301 ${i}${o.maximum}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`K\xE9r\xE9 ju: a n\xED l\xE1ti j\u1EB9\u0301 p\xE9 ${o.origin} ${s.verb} ${i}${o.minimum} ${s.unit}`:`K\xE9r\xE9 ju: a n\xED l\xE1ti j\u1EB9\u0301 ${i}${o.minimum}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 b\u1EB9\u0300r\u1EB9\u0300 p\u1EB9\u0300l\xFA "${i.prefix}"`:i.format==="ends_with"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 par\xED p\u1EB9\u0300l\xFA "${i.suffix}"`:i.format==="includes"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 n\xED "${i.includes}"`:i.format==="regex"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 b\xE1 \xE0p\u1EB9\u1EB9r\u1EB9 mu ${i.pattern}`:`A\u1E63\xEC\u1E63e: ${n[i.format]??o.format}`}case"not_multiple_of":return`N\u1ECD\u0301mb\xE0 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 j\u1EB9\u0301 \xE8y\xE0 p\xEDp\xEDn ti ${o.divisor}`;case"unrecognized_keys":return`B\u1ECDt\xECn\xEC \xE0\xECm\u1ECD\u0300: ${ee(o.keys,", ")}`;case"invalid_key":return`B\u1ECDt\xECn\xEC a\u1E63\xEC\u1E63e n\xEDn\xFA ${o.origin}`;case"invalid_union":return"\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e";case"invalid_element":return`Iye a\u1E63\xEC\u1E63e n\xEDn\xFA ${o.origin}`;default:return"\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e"}}},"error");function TO(){return{localeError:pae()}}a(TO,"default");var zU,kO=Symbol("ZodOutput"),EO=Symbol("ZodInput"),Vu=class{static{a(this,"$ZodRegistry")}constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...r){let n=r[0];if(this._map.set(t,n),n&&typeof n=="object"&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){let r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){let r=t._zod.parent;if(r){let n={...this.get(r)??{}};delete n.id;let o={...n,...this._map.get(t)};return Object.keys(o).length?o:void 0}return this._map.get(t)}has(t){return this._map.has(t)}};function qh(){return new Vu}a(qh,"registry");(zU=globalThis).__zod_globalRegistry??(zU.__zod_globalRegistry=qh());var rn=globalThis.__zod_globalRegistry;function PO(e,t){return new e({type:"string",...le(t)})}a(PO,"_string");function IO(e,t){return new e({type:"string",coerce:!0,...le(t)})}a(IO,"_coercedString");function Uh(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...le(t)})}a(Uh,"_email");function Id(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...le(t)})}a(Id,"_guid");function Lh(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...le(t)})}a(Lh,"_uuid");function Fh(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...le(t)})}a(Fh,"_uuidv4");function Jh(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...le(t)})}a(Jh,"_uuidv6");function Bh(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...le(t)})}a(Bh,"_uuidv7");function Od(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...le(t)})}a(Od,"_url");function Hh(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...le(t)})}a(Hh,"_emoji");function Vh(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...le(t)})}a(Vh,"_nanoid");function Zh(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...le(t)})}a(Zh,"_cuid");function Kh(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...le(t)})}a(Kh,"_cuid2");function Gh(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...le(t)})}a(Gh,"_ulid");function Wh(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...le(t)})}a(Wh,"_xid");function Qh(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...le(t)})}a(Qh,"_ksuid");function Xh(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...le(t)})}a(Xh,"_ipv4");function Yh(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...le(t)})}a(Yh,"_ipv6");function OO(e,t){return new e({type:"string",format:"mac",check:"string_format",abort:!1,...le(t)})}a(OO,"_mac");function eg(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...le(t)})}a(eg,"_cidrv4");function tg(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...le(t)})}a(tg,"_cidrv6");function rg(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...le(t)})}a(rg,"_base64");function ng(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...le(t)})}a(ng,"_base64url");function og(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...le(t)})}a(og,"_e164");function ig(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...le(t)})}a(ig,"_jwt");var AO={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function CO(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...le(t)})}a(CO,"_isoDateTime");function RO(e,t){return new e({type:"string",format:"date",check:"string_format",...le(t)})}a(RO,"_isoDate");function $O(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...le(t)})}a($O,"_isoTime");function NO(e,t){return new e({type:"string",format:"duration",check:"string_format",...le(t)})}a(NO,"_isoDuration");function jO(e,t){return new e({type:"number",checks:[],...le(t)})}a(jO,"_number");function zO(e,t){return new e({type:"number",coerce:!0,checks:[],...le(t)})}a(zO,"_coercedNumber");function DO(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...le(t)})}a(DO,"_int");function MO(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float32",...le(t)})}a(MO,"_float32");function qO(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float64",...le(t)})}a(qO,"_float64");function UO(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"int32",...le(t)})}a(UO,"_int32");function LO(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"uint32",...le(t)})}a(LO,"_uint32");function FO(e,t){return new e({type:"boolean",...le(t)})}a(FO,"_boolean");function JO(e,t){return new e({type:"boolean",coerce:!0,...le(t)})}a(JO,"_coercedBoolean");function BO(e,t){return new e({type:"bigint",...le(t)})}a(BO,"_bigint");function HO(e,t){return new e({type:"bigint",coerce:!0,...le(t)})}a(HO,"_coercedBigint");function VO(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...le(t)})}a(VO,"_int64");function ZO(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...le(t)})}a(ZO,"_uint64");function KO(e,t){return new e({type:"symbol",...le(t)})}a(KO,"_symbol");function GO(e,t){return new e({type:"undefined",...le(t)})}a(GO,"_undefined");function WO(e,t){return new e({type:"null",...le(t)})}a(WO,"_null");function QO(e){return new e({type:"any"})}a(QO,"_any");function XO(e){return new e({type:"unknown"})}a(XO,"_unknown");function YO(e,t){return new e({type:"never",...le(t)})}a(YO,"_never");function eA(e,t){return new e({type:"void",...le(t)})}a(eA,"_void");function tA(e,t){return new e({type:"date",...le(t)})}a(tA,"_date");function rA(e,t){return new e({type:"date",coerce:!0,...le(t)})}a(rA,"_coercedDate");function nA(e,t){return new e({type:"nan",...le(t)})}a(nA,"_nan");function Pi(e,t){return new Ih({check:"less_than",...le(t),value:e,inclusive:!1})}a(Pi,"_lt");function Qn(e,t){return new Ih({check:"less_than",...le(t),value:e,inclusive:!0})}a(Qn,"_lte");function Ii(e,t){return new Oh({check:"greater_than",...le(t),value:e,inclusive:!1})}a(Ii,"_gt");function Tn(e,t){return new Oh({check:"greater_than",...le(t),value:e,inclusive:!0})}a(Tn,"_gte");function oA(e){return Ii(0,e)}a(oA,"_positive");function iA(e){return Pi(0,e)}a(iA,"_negative");function aA(e){return Qn(0,e)}a(aA,"_nonpositive");function sA(e){return Tn(0,e)}a(sA,"_nonnegative");function gs(e,t){return new sP({check:"multiple_of",...le(t),value:e})}a(gs,"_multipleOf");function Zu(e,t){return new lP({check:"max_size",...le(t),maximum:e})}a(Zu,"_maxSize");function ys(e,t){return new dP({check:"min_size",...le(t),minimum:e})}a(ys,"_minSize");function Ad(e,t){return new pP({check:"size_equals",...le(t),size:e})}a(Ad,"_size");function Ku(e,t){return new mP({check:"max_length",...le(t),maximum:e})}a(Ku,"_maxLength");function xa(e,t){return new fP({check:"min_length",...le(t),minimum:e})}a(xa,"_minLength");function Gu(e,t){return new hP({check:"length_equals",...le(t),length:e})}a(Gu,"_length");function Cd(e,t){return new gP({check:"string_format",format:"regex",...le(t),pattern:e})}a(Cd,"_regex");function Rd(e){return new yP({check:"string_format",format:"lowercase",...le(e)})}a(Rd,"_lowercase");function $d(e){return new vP({check:"string_format",format:"uppercase",...le(e)})}a($d,"_uppercase");function Nd(e,t){return new _P({check:"string_format",format:"includes",...le(t),includes:e})}a(Nd,"_includes");function jd(e,t){return new bP({check:"string_format",format:"starts_with",...le(t),prefix:e})}a(jd,"_startsWith");function zd(e,t){return new SP({check:"string_format",format:"ends_with",...le(t),suffix:e})}a(zd,"_endsWith");function uA(e,t,r){return new wP({check:"property",property:e,schema:t,...le(r)})}a(uA,"_property");function Dd(e,t){return new xP({check:"mime_type",mime:e,...le(t)})}a(Dd,"_mime");function Ko(e){return new TP({check:"overwrite",tx:e})}a(Ko,"_overwrite");function Md(e){return Ko(t=>t.normalize(e))}a(Md,"_normalize");function qd(){return Ko(e=>e.trim())}a(qd,"_trim");function Ud(){return Ko(e=>e.toLowerCase())}a(Ud,"_toLowerCase");function Ld(){return Ko(e=>e.toUpperCase())}a(Ld,"_toUpperCase");function Fd(){return Ko(e=>SE(e))}a(Fd,"_slugify");function cA(e,t,r){return new e({type:"array",element:t,...le(r)})}a(cA,"_array");function fae(e,t,r){return new e({type:"union",options:t,...le(r)})}a(fae,"_union");function hae(e,t,r,n){return new e({type:"union",options:r,discriminator:t,...le(n)})}a(hae,"_discriminatedUnion");function gae(e,t,r){return new e({type:"intersection",left:t,right:r})}a(gae,"_intersection");function yae(e,t,r,n){let o=r instanceof He,i=o?n:r,s=o?r:null;return new e({type:"tuple",items:t,rest:s,...le(i)})}a(yae,"_tuple");function vae(e,t,r,n){return new e({type:"record",keyType:t,valueType:r,...le(n)})}a(vae,"_record");function _ae(e,t,r,n){return new e({type:"map",keyType:t,valueType:r,...le(n)})}a(_ae,"_map");function bae(e,t,r){return new e({type:"set",valueType:t,...le(r)})}a(bae,"_set");function Sae(e,t,r){let n=Array.isArray(t)?Object.fromEntries(t.map(o=>[o,o])):t;return new e({type:"enum",entries:n,...le(r)})}a(Sae,"_enum");function wae(e,t,r){return new e({type:"enum",entries:t,...le(r)})}a(wae,"_nativeEnum");function xae(e,t,r){return new e({type:"literal",values:Array.isArray(t)?t:[t],...le(r)})}a(xae,"_literal");function lA(e,t){return new e({type:"file",...le(t)})}a(lA,"_file");function Tae(e,t){return new e({type:"transform",transform:t})}a(Tae,"_transform");function kae(e,t){return new e({type:"optional",innerType:t})}a(kae,"_optional");function Eae(e,t){return new e({type:"nullable",innerType:t})}a(Eae,"_nullable");function Pae(e,t,r){return new e({type:"default",innerType:t,get defaultValue(){return typeof r=="function"?r():xE(r)}})}a(Pae,"_default");function Iae(e,t,r){return new e({type:"nonoptional",innerType:t,...le(r)})}a(Iae,"_nonoptional");function Oae(e,t){return new e({type:"success",innerType:t})}a(Oae,"_success");function Aae(e,t,r){return new e({type:"catch",innerType:t,catchValue:typeof r=="function"?r:()=>r})}a(Aae,"_catch");function Cae(e,t,r){return new e({type:"pipe",in:t,out:r})}a(Cae,"_pipe");function Rae(e,t){return new e({type:"readonly",innerType:t})}a(Rae,"_readonly");function $ae(e,t,r){return new e({type:"template_literal",parts:t,...le(r)})}a($ae,"_templateLiteral");function Nae(e,t){return new e({type:"lazy",getter:t})}a(Nae,"_lazy");function jae(e,t){return new e({type:"promise",innerType:t})}a(jae,"_promise");function dA(e,t,r){let n=le(r);return n.abort??(n.abort=!0),new e({type:"custom",check:"custom",fn:t,...n})}a(dA,"_custom");function pA(e,t,r){return new e({type:"custom",check:"custom",fn:t,...le(r)})}a(pA,"_refine");function mA(e){let t=DU(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(Uu(n,r.value,t._zod.def));else{let o=n;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=r.value),o.inst??(o.inst=t),o.continue??(o.continue=!t._zod.def.abort),r.issues.push(Uu(o))}},e(r.value,r)));return t}a(mA,"_superRefine");function DU(e,t){let r=new qt({check:"custom",...le(t)});return r._zod.check=e,r}a(DU,"_check");function fA(e){let t=new qt({check:"describe"});return t._zod.onattach=[r=>{let n=rn.get(r)??{};rn.add(r,{...n,description:e})}],t._zod.check=()=>{},t}a(fA,"describe");function hA(e){let t=new qt({check:"meta"});return t._zod.onattach=[r=>{let n=rn.get(r)??{};rn.add(r,{...n,...e})}],t._zod.check=()=>{},t}a(hA,"meta");function gA(e,t){let r=le(t),n=r.truthy??["true","1","yes","on","y","enabled"],o=r.falsy??["false","0","no","off","n","disabled"];r.case!=="sensitive"&&(n=n.map(y=>typeof y=="string"?y.toLowerCase():y),o=o.map(y=>typeof y=="string"?y.toLowerCase():y));let i=new Set(n),s=new Set(o),u=e.Codec??Sd,l=e.Boolean??bd,d=e.String??hs,p=new d({type:"string",error:r.error}),f=new l({type:"boolean",error:r.error}),m=new u({type:"pipe",in:p,out:f,transform:a(((y,g)=>{let h=y;return r.case!=="sensitive"&&(h=h.toLowerCase()),i.has(h)?!0:s.has(h)?!1:(g.issues.push({code:"invalid_value",expected:"stringbool",values:[...i,...s],input:g.value,inst:m,continue:!1}),{})}),"transform"),reverseTransform:a(((y,g)=>y===!0?n[0]||"true":o[0]||"false"),"reverseTransform"),error:r.error});return m}a(gA,"_stringbool");function Wu(e,t,r,n={}){let o=le(n),i={...le(n),check:"string_format",type:"string",format:t,fn:typeof r=="function"?r:u=>r.test(u),...o};return r instanceof RegExp&&(i.pattern=r),new e(i)}a(Wu,"_stringFormat");var Jd=class{static{a(this,"JSONSchemaGenerator")}constructor(t){this.counter=0,this.metadataRegistry=t?.metadata??rn,this.target=t?.target??"draft-2020-12",this.unrepresentable=t?.unrepresentable??"throw",this.override=t?.override??(()=>{}),this.io=t?.io??"output",this.seen=new Map}process(t,r={path:[],schemaPath:[]}){var n;let o=t._zod.def,i={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},s=this.seen.get(t);if(s)return s.count++,r.schemaPath.includes(t)&&(s.cycle=r.path),s.schema;let u={schema:{},count:1,cycle:void 0,path:r.path};this.seen.set(t,u);let l=t._zod.toJSONSchema?.();if(l)u.schema=l;else{let f={...r,schemaPath:[...r.schemaPath,t],path:r.path},m=t._zod.parent;if(m)u.ref=m,this.process(m,f),this.seen.get(m).isParent=!0;else{let y=u.schema;switch(o.type){case"string":{let g=y;g.type="string";let{minimum:h,maximum:v,format:S,patterns:b,contentEncoding:w}=t._zod.bag;if(typeof h=="number"&&(g.minLength=h),typeof v=="number"&&(g.maxLength=v),S&&(g.format=i[S]??S,g.format===""&&delete g.format),w&&(g.contentEncoding=w),b&&b.size>0){let k=[...b];k.length===1?g.pattern=k[0].source:k.length>1&&(u.schema.allOf=[...k.map($=>({...this.target==="draft-7"||this.target==="draft-4"||this.target==="openapi-3.0"?{type:"string"}:{},pattern:$.source}))])}break}case"number":{let g=y,{minimum:h,maximum:v,format:S,multipleOf:b,exclusiveMaximum:w,exclusiveMinimum:k}=t._zod.bag;typeof S=="string"&&S.includes("int")?g.type="integer":g.type="number",typeof k=="number"&&(this.target==="draft-4"||this.target==="openapi-3.0"?(g.minimum=k,g.exclusiveMinimum=!0):g.exclusiveMinimum=k),typeof h=="number"&&(g.minimum=h,typeof k=="number"&&this.target!=="draft-4"&&(k>=h?delete g.minimum:delete g.exclusiveMinimum)),typeof w=="number"&&(this.target==="draft-4"||this.target==="openapi-3.0"?(g.maximum=w,g.exclusiveMaximum=!0):g.exclusiveMaximum=w),typeof v=="number"&&(g.maximum=v,typeof w=="number"&&this.target!=="draft-4"&&(w<=v?delete g.maximum:delete g.exclusiveMaximum)),typeof b=="number"&&(g.multipleOf=b);break}case"boolean":{let g=y;g.type="boolean";break}case"bigint":{if(this.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema");break}case"symbol":{if(this.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema");break}case"null":{this.target==="openapi-3.0"?(y.type="string",y.nullable=!0,y.enum=[null]):y.type="null";break}case"any":break;case"unknown":break;case"undefined":{if(this.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema");break}case"void":{if(this.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema");break}case"never":{y.not={};break}case"date":{if(this.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema");break}case"array":{let g=y,{minimum:h,maximum:v}=t._zod.bag;typeof h=="number"&&(g.minItems=h),typeof v=="number"&&(g.maxItems=v),g.type="array",g.items=this.process(o.element,{...f,path:[...f.path,"items"]});break}case"object":{let g=y;g.type="object",g.properties={};let h=o.shape;for(let b in h)g.properties[b]=this.process(h[b],{...f,path:[...f.path,"properties",b]});let v=new Set(Object.keys(h)),S=new Set([...v].filter(b=>{let w=o.shape[b]._zod;return this.io==="input"?w.optin===void 0:w.optout===void 0}));S.size>0&&(g.required=Array.from(S)),o.catchall?._zod.def.type==="never"?g.additionalProperties=!1:o.catchall?o.catchall&&(g.additionalProperties=this.process(o.catchall,{...f,path:[...f.path,"additionalProperties"]})):this.io==="output"&&(g.additionalProperties=!1);break}case"union":{let g=y,h=o.discriminator!==void 0,v=o.options.map((S,b)=>this.process(S,{...f,path:[...f.path,h?"oneOf":"anyOf",b]}));h?g.oneOf=v:g.anyOf=v;break}case"intersection":{let g=y,h=this.process(o.left,{...f,path:[...f.path,"allOf",0]}),v=this.process(o.right,{...f,path:[...f.path,"allOf",1]}),S=a(w=>"allOf"in w&&Object.keys(w).length===1,"isSimpleIntersection"),b=[...S(h)?h.allOf:[h],...S(v)?v.allOf:[v]];g.allOf=b;break}case"tuple":{let g=y;g.type="array";let h=this.target==="draft-2020-12"?"prefixItems":"items",v=this.target==="draft-2020-12"||this.target==="openapi-3.0"?"items":"additionalItems",S=o.items.map(($,A)=>this.process($,{...f,path:[...f.path,h,A]})),b=o.rest?this.process(o.rest,{...f,path:[...f.path,v,...this.target==="openapi-3.0"?[o.items.length]:[]]}):null;this.target==="draft-2020-12"?(g.prefixItems=S,b&&(g.items=b)):this.target==="openapi-3.0"?(g.items={anyOf:S},b&&g.items.anyOf.push(b),g.minItems=S.length,b||(g.maxItems=S.length)):(g.items=S,b&&(g.additionalItems=b));let{minimum:w,maximum:k}=t._zod.bag;typeof w=="number"&&(g.minItems=w),typeof k=="number"&&(g.maxItems=k);break}case"record":{let g=y;g.type="object",(this.target==="draft-7"||this.target==="draft-2020-12")&&(g.propertyNames=this.process(o.keyType,{...f,path:[...f.path,"propertyNames"]})),g.additionalProperties=this.process(o.valueType,{...f,path:[...f.path,"additionalProperties"]});break}case"map":{if(this.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema");break}case"set":{if(this.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema");break}case"enum":{let g=y,h=cd(o.entries);h.every(v=>typeof v=="number")&&(g.type="number"),h.every(v=>typeof v=="string")&&(g.type="string"),g.enum=h;break}case"literal":{let g=y,h=[];for(let v of o.values)if(v===void 0){if(this.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof v=="bigint"){if(this.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");h.push(Number(v))}else h.push(v);if(h.length!==0)if(h.length===1){let v=h[0];g.type=v===null?"null":typeof v,this.target==="draft-4"||this.target==="openapi-3.0"?g.enum=[v]:g.const=v}else h.every(v=>typeof v=="number")&&(g.type="number"),h.every(v=>typeof v=="string")&&(g.type="string"),h.every(v=>typeof v=="boolean")&&(g.type="string"),h.every(v=>v===null)&&(g.type="null"),g.enum=h;break}case"file":{let g=y,h={type:"string",format:"binary",contentEncoding:"binary"},{minimum:v,maximum:S,mime:b}=t._zod.bag;v!==void 0&&(h.minLength=v),S!==void 0&&(h.maxLength=S),b?b.length===1?(h.contentMediaType=b[0],Object.assign(g,h)):g.anyOf=b.map(w=>({...h,contentMediaType:w})):Object.assign(g,h);break}case"transform":{if(this.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema");break}case"nullable":{let g=this.process(o.innerType,f);this.target==="openapi-3.0"?(u.ref=o.innerType,y.nullable=!0):y.anyOf=[g,{type:"null"}];break}case"nonoptional":{this.process(o.innerType,f),u.ref=o.innerType;break}case"success":{let g=y;g.type="boolean";break}case"default":{this.process(o.innerType,f),u.ref=o.innerType,y.default=JSON.parse(JSON.stringify(o.defaultValue));break}case"prefault":{this.process(o.innerType,f),u.ref=o.innerType,this.io==="input"&&(y._prefault=JSON.parse(JSON.stringify(o.defaultValue)));break}case"catch":{this.process(o.innerType,f),u.ref=o.innerType;let g;try{g=o.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}y.default=g;break}case"nan":{if(this.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema");break}case"template_literal":{let g=y,h=t._zod.pattern;if(!h)throw new Error("Pattern not found in template literal");g.type="string",g.pattern=h.source;break}case"pipe":{let g=this.io==="input"?o.in._zod.def.type==="transform"?o.out:o.in:o.out;this.process(g,f),u.ref=g;break}case"readonly":{this.process(o.innerType,f),u.ref=o.innerType,y.readOnly=!0;break}case"promise":{this.process(o.innerType,f),u.ref=o.innerType;break}case"optional":{this.process(o.innerType,f),u.ref=o.innerType;break}case"lazy":{let g=t._zod.innerType;this.process(g,f),u.ref=g;break}case"custom":{if(this.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema");break}case"function":{if(this.unrepresentable==="throw")throw new Error("Function types cannot be represented in JSON Schema");break}default:}}}let d=this.metadataRegistry.get(t);return d&&Object.assign(u.schema,d),this.io==="input"&&nn(t)&&(delete u.schema.examples,delete u.schema.default),this.io==="input"&&u.schema._prefault&&((n=u.schema).default??(n.default=u.schema._prefault)),delete u.schema._prefault,this.seen.get(t).schema}emit(t,r){let n={cycles:r?.cycles??"ref",reused:r?.reused??"inline",external:r?.external??void 0},o=this.seen.get(t);if(!o)throw new Error("Unprocessed schema. This is a bug in Zod.");let i=a(p=>{let f=this.target==="draft-2020-12"?"$defs":"definitions";if(n.external){let h=n.external.registry.get(p[0])?.id,v=n.external.uri??(b=>b);if(h)return{ref:v(h)};let S=p[1].defId??p[1].schema.id??`schema${this.counter++}`;return p[1].defId=S,{defId:S,ref:`${v("__shared")}#/${f}/${S}`}}if(p[1]===o)return{ref:"#"};let y=`#/${f}/`,g=p[1].schema.id??`__schema${this.counter++}`;return{defId:g,ref:y+g}},"makeURI"),s=a(p=>{if(p[1].schema.$ref)return;let f=p[1],{ref:m,defId:y}=i(p);f.def={...f.schema},y&&(f.defId=y);let g=f.schema;for(let h in g)delete g[h];g.$ref=m},"extractToDef");if(n.cycles==="throw")for(let p of this.seen.entries()){let f=p[1];if(f.cycle)throw new Error(`Cycle detected: #/${f.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let p of this.seen.entries()){let f=p[1];if(t===p[0]){s(p);continue}if(n.external){let y=n.external.registry.get(p[0])?.id;if(t!==p[0]&&y){s(p);continue}}if(this.metadataRegistry.get(p[0])?.id){s(p);continue}if(f.cycle){s(p);continue}if(f.count>1&&n.reused==="ref"){s(p);continue}}let u=a((p,f)=>{let m=this.seen.get(p),y=m.def??m.schema,g={...y};if(m.ref===null)return;let h=m.ref;if(m.ref=null,h){u(h,f);let v=this.seen.get(h).schema;v.$ref&&(f.target==="draft-7"||f.target==="draft-4"||f.target==="openapi-3.0")?(y.allOf=y.allOf??[],y.allOf.push(v)):(Object.assign(y,v),Object.assign(y,g))}m.isParent||this.override({zodSchema:p,jsonSchema:y,path:m.path??[]})},"flattenRef");for(let p of[...this.seen.entries()].reverse())u(p[0],{target:this.target});let l={};if(this.target==="draft-2020-12"?l.$schema="https://json-schema.org/draft/2020-12/schema":this.target==="draft-7"?l.$schema="http://json-schema.org/draft-07/schema#":this.target==="draft-4"?l.$schema="http://json-schema.org/draft-04/schema#":this.target==="openapi-3.0"||console.warn(`Invalid target: ${this.target}`),n.external?.uri){let p=n.external.registry.get(t)?.id;if(!p)throw new Error("Schema is missing an `id` property");l.$id=n.external.uri(p)}Object.assign(l,o.def);let d=n.external?.defs??{};for(let p of this.seen.entries()){let f=p[1];f.def&&f.defId&&(d[f.defId]=f.def)}n.external||Object.keys(d).length>0&&(this.target==="draft-2020-12"?l.$defs=d:l.definitions=d);try{return JSON.parse(JSON.stringify(l))}catch{throw new Error("Error converting schema to JSON.")}}};function Oi(e,t){if(e instanceof Vu){let n=new Jd(t),o={};for(let u of e._idmap.entries()){let[l,d]=u;n.process(d)}let i={},s={registry:e,uri:t?.uri,defs:o};for(let u of e._idmap.entries()){let[l,d]=u;i[l]=n.emit(d,{...t,external:s})}if(Object.keys(o).length>0){let u=n.target==="draft-2020-12"?"$defs":"definitions";i.__shared={[u]:o}}return{schemas:i}}let r=new Jd(t);return r.process(e),r.emit(e,t)}a(Oi,"toJSONSchema");function nn(e,t){let r=t??{seen:new Set};if(r.seen.has(e))return!1;r.seen.add(e);let n=e._zod.def;if(n.type==="transform")return!0;if(n.type==="array")return nn(n.element,r);if(n.type==="set")return nn(n.valueType,r);if(n.type==="lazy")return nn(n.getter(),r);if(n.type==="promise"||n.type==="optional"||n.type==="nonoptional"||n.type==="nullable"||n.type==="readonly"||n.type==="default"||n.type==="prefault")return nn(n.innerType,r);if(n.type==="intersection")return nn(n.left,r)||nn(n.right,r);if(n.type==="record"||n.type==="map")return nn(n.keyType,r)||nn(n.valueType,r);if(n.type==="pipe")return nn(n.in,r)||nn(n.out,r);if(n.type==="object"){for(let o in n.shape)if(nn(n.shape[o],r))return!0;return!1}if(n.type==="union"){for(let o of n.options)if(nn(o,r))return!0;return!1}if(n.type==="tuple"){for(let o of n.items)if(nn(o,r))return!0;return!!(n.rest&&nn(n.rest,r))}return!1}a(nn,"isTransforming");var MU={};var lg={};yn(lg,{ZodISODate:()=>sg,ZodISODateTime:()=>ag,ZodISODuration:()=>cg,ZodISOTime:()=>ug,date:()=>vA,datetime:()=>yA,duration:()=>bA,time:()=>_A});var ag=B("ZodISODateTime",(e,t)=>{MP.init(e,t),Ut.init(e,t)});function yA(e){return CO(ag,e)}a(yA,"datetime");var sg=B("ZodISODate",(e,t)=>{qP.init(e,t),Ut.init(e,t)});function vA(e){return RO(sg,e)}a(vA,"date");var ug=B("ZodISOTime",(e,t)=>{UP.init(e,t),Ut.init(e,t)});function _A(e){return $O(ug,e)}a(_A,"time");var cg=B("ZodISODuration",(e,t)=>{LP.init(e,t),Ut.init(e,t)});function bA(e){return NO(cg,e)}a(bA,"duration");var UU=a((e,t)=>{fd.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:a(r=>gd(e,r),"value")},flatten:{value:a(r=>hd(e,r),"value")},addIssue:{value:a(r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,Mu,2)},"value")},addIssues:{value:a(r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,Mu,2)},"value")},isEmpty:{get(){return e.issues.length===0}}})},"initializer"),Dae=B("ZodError",UU),kn=B("ZodError",UU,{Parent:Error});var SA=Lu(kn),wA=Fu(kn),xA=Ju(kn),Ci=Bu(kn),TA=_h(kn),kA=bh(kn),EA=Sh(kn),PA=wh(kn),IA=xh(kn),OA=Th(kn),AA=kh(kn),CA=Eh(kn);var rt=B("ZodType",(e,t)=>(He.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone(de.mergeDefs(t,{checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]})),e.clone=(r,n)=>tn(e,r,n),e.brand=()=>e,e.register=((r,n)=>(r.add(e,n),e)),e.parse=(r,n)=>SA(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>xA(e,r,n),e.parseAsync=async(r,n)=>wA(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>Ci(e,r,n),e.spa=e.safeParseAsync,e.encode=(r,n)=>TA(e,r,n),e.decode=(r,n)=>kA(e,r,n),e.encodeAsync=async(r,n)=>EA(e,r,n),e.decodeAsync=async(r,n)=>PA(e,r,n),e.safeEncode=(r,n)=>IA(e,r,n),e.safeDecode=(r,n)=>OA(e,r,n),e.safeEncodeAsync=async(r,n)=>AA(e,r,n),e.safeDecodeAsync=async(r,n)=>CA(e,r,n),e.refine=(r,n)=>e.check(PL(r,n)),e.superRefine=r=>e.check(IL(r)),e.overwrite=r=>e.check(Ko(r)),e.optional=()=>pg(e),e.nullable=()=>mg(e),e.nullish=()=>pg(mg(e)),e.nonoptional=r=>hL(e,r),e.array=()=>yg(e),e.or=r=>eC([e,r]),e.and=r=>tL(e,r),e.transform=r=>fg(e,nC(r)),e.default=r=>pL(e,r),e.prefault=r=>fL(e,r),e.catch=r=>vL(e,r),e.pipe=r=>fg(e,r),e.readonly=()=>SL(e),e.describe=r=>{let n=e.clone();return rn.add(n,{description:r}),n},Object.defineProperty(e,"description",{get(){return rn.get(e)?.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return rn.get(e);let n=e.clone();return rn.add(n,r[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),NA=B("_ZodString",(e,t)=>{hs.init(e,t),rt.init(e,t);let r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...n)=>e.check(Cd(...n)),e.includes=(...n)=>e.check(Nd(...n)),e.startsWith=(...n)=>e.check(jd(...n)),e.endsWith=(...n)=>e.check(zd(...n)),e.min=(...n)=>e.check(xa(...n)),e.max=(...n)=>e.check(Ku(...n)),e.length=(...n)=>e.check(Gu(...n)),e.nonempty=(...n)=>e.check(xa(1,...n)),e.lowercase=n=>e.check(Rd(n)),e.uppercase=n=>e.check($d(n)),e.trim=()=>e.check(qd()),e.normalize=(...n)=>e.check(Md(...n)),e.toLowerCase=()=>e.check(Ud()),e.toUpperCase=()=>e.check(Ld()),e.slugify=()=>e.check(Fd())}),Hd=B("ZodString",(e,t)=>{hs.init(e,t),NA.init(e,t),e.email=r=>e.check(Uh(jA,r)),e.url=r=>e.check(Od(hg,r)),e.jwt=r=>e.check(ig(WA,r)),e.emoji=r=>e.check(Hh(zA,r)),e.guid=r=>e.check(Id(dg,r)),e.uuid=r=>e.check(Lh(Ri,r)),e.uuidv4=r=>e.check(Fh(Ri,r)),e.uuidv6=r=>e.check(Jh(Ri,r)),e.uuidv7=r=>e.check(Bh(Ri,r)),e.nanoid=r=>e.check(Vh(DA,r)),e.guid=r=>e.check(Id(dg,r)),e.cuid=r=>e.check(Zh(MA,r)),e.cuid2=r=>e.check(Kh(qA,r)),e.ulid=r=>e.check(Gh(UA,r)),e.base64=r=>e.check(rg(ZA,r)),e.base64url=r=>e.check(ng(KA,r)),e.xid=r=>e.check(Wh(LA,r)),e.ksuid=r=>e.check(Qh(FA,r)),e.ipv4=r=>e.check(Xh(JA,r)),e.ipv6=r=>e.check(Yh(BA,r)),e.cidrv4=r=>e.check(eg(HA,r)),e.cidrv6=r=>e.check(tg(VA,r)),e.e164=r=>e.check(og(GA,r)),e.datetime=r=>e.check(yA(r)),e.date=r=>e.check(vA(r)),e.time=r=>e.check(_A(r)),e.duration=r=>e.check(bA(r))});function RA(e){return PO(Hd,e)}a(RA,"string");var Ut=B("ZodStringFormat",(e,t)=>{jt.init(e,t),NA.init(e,t)}),jA=B("ZodEmail",(e,t)=>{OP.init(e,t),Ut.init(e,t)});function qae(e){return Uh(jA,e)}a(qae,"email");var dg=B("ZodGUID",(e,t)=>{PP.init(e,t),Ut.init(e,t)});function Uae(e){return Id(dg,e)}a(Uae,"guid");var Ri=B("ZodUUID",(e,t)=>{IP.init(e,t),Ut.init(e,t)});function Lae(e){return Lh(Ri,e)}a(Lae,"uuid");function Fae(e){return Fh(Ri,e)}a(Fae,"uuidv4");function Jae(e){return Jh(Ri,e)}a(Jae,"uuidv6");function Bae(e){return Bh(Ri,e)}a(Bae,"uuidv7");var hg=B("ZodURL",(e,t)=>{AP.init(e,t),Ut.init(e,t)});function Hae(e){return Od(hg,e)}a(Hae,"url");function Vae(e){return Od(hg,{protocol:/^https?$/,hostname:Wn.domain,...de.normalizeParams(e)})}a(Vae,"httpUrl");var zA=B("ZodEmoji",(e,t)=>{CP.init(e,t),Ut.init(e,t)});function Zae(e){return Hh(zA,e)}a(Zae,"emoji");var DA=B("ZodNanoID",(e,t)=>{RP.init(e,t),Ut.init(e,t)});function Kae(e){return Vh(DA,e)}a(Kae,"nanoid");var MA=B("ZodCUID",(e,t)=>{$P.init(e,t),Ut.init(e,t)});function Gae(e){return Zh(MA,e)}a(Gae,"cuid");var qA=B("ZodCUID2",(e,t)=>{NP.init(e,t),Ut.init(e,t)});function Wae(e){return Kh(qA,e)}a(Wae,"cuid2");var UA=B("ZodULID",(e,t)=>{jP.init(e,t),Ut.init(e,t)});function Qae(e){return Gh(UA,e)}a(Qae,"ulid");var LA=B("ZodXID",(e,t)=>{zP.init(e,t),Ut.init(e,t)});function Xae(e){return Wh(LA,e)}a(Xae,"xid");var FA=B("ZodKSUID",(e,t)=>{DP.init(e,t),Ut.init(e,t)});function Yae(e){return Qh(FA,e)}a(Yae,"ksuid");var JA=B("ZodIPv4",(e,t)=>{FP.init(e,t),Ut.init(e,t)});function ese(e){return Xh(JA,e)}a(ese,"ipv4");var LU=B("ZodMAC",(e,t)=>{BP.init(e,t),Ut.init(e,t)});function tse(e){return OO(LU,e)}a(tse,"mac");var BA=B("ZodIPv6",(e,t)=>{JP.init(e,t),Ut.init(e,t)});function rse(e){return Yh(BA,e)}a(rse,"ipv6");var HA=B("ZodCIDRv4",(e,t)=>{HP.init(e,t),Ut.init(e,t)});function nse(e){return eg(HA,e)}a(nse,"cidrv4");var VA=B("ZodCIDRv6",(e,t)=>{VP.init(e,t),Ut.init(e,t)});function ose(e){return tg(VA,e)}a(ose,"cidrv6");var ZA=B("ZodBase64",(e,t)=>{KP.init(e,t),Ut.init(e,t)});function ise(e){return rg(ZA,e)}a(ise,"base64");var KA=B("ZodBase64URL",(e,t)=>{GP.init(e,t),Ut.init(e,t)});function ase(e){return ng(KA,e)}a(ase,"base64url");var GA=B("ZodE164",(e,t)=>{WP.init(e,t),Ut.init(e,t)});function sse(e){return og(GA,e)}a(sse,"e164");var WA=B("ZodJWT",(e,t)=>{QP.init(e,t),Ut.init(e,t)});function use(e){return ig(WA,e)}a(use,"jwt");var Vd=B("ZodCustomStringFormat",(e,t)=>{XP.init(e,t),Ut.init(e,t)});function cse(e,t,r={}){return Wu(Vd,e,t,r)}a(cse,"stringFormat");function lse(e){return Wu(Vd,"hostname",Wn.hostname,e)}a(lse,"hostname");function dse(e){return Wu(Vd,"hex",Wn.hex,e)}a(dse,"hex");function pse(e,t){let r=t?.enc??"hex",n=`${e}_${r}`,o=Wn[n];if(!o)throw new Error(`Unrecognized hash format: ${n}`);return Wu(Vd,n,o,t)}a(pse,"hash");var Zd=B("ZodNumber",(e,t)=>{jh.init(e,t),rt.init(e,t),e.gt=(n,o)=>e.check(Ii(n,o)),e.gte=(n,o)=>e.check(Tn(n,o)),e.min=(n,o)=>e.check(Tn(n,o)),e.lt=(n,o)=>e.check(Pi(n,o)),e.lte=(n,o)=>e.check(Qn(n,o)),e.max=(n,o)=>e.check(Qn(n,o)),e.int=n=>e.check($A(n)),e.safe=n=>e.check($A(n)),e.positive=n=>e.check(Ii(0,n)),e.nonnegative=n=>e.check(Tn(0,n)),e.negative=n=>e.check(Pi(0,n)),e.nonpositive=n=>e.check(Qn(0,n)),e.multipleOf=(n,o)=>e.check(gs(n,o)),e.step=(n,o)=>e.check(gs(n,o)),e.finite=()=>e;let r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function FU(e){return jO(Zd,e)}a(FU,"number");var Xu=B("ZodNumberFormat",(e,t)=>{YP.init(e,t),Zd.init(e,t)});function $A(e){return DO(Xu,e)}a($A,"int");function mse(e){return MO(Xu,e)}a(mse,"float32");function fse(e){return qO(Xu,e)}a(fse,"float64");function hse(e){return UO(Xu,e)}a(hse,"int32");function gse(e){return LO(Xu,e)}a(gse,"uint32");var Kd=B("ZodBoolean",(e,t)=>{bd.init(e,t),rt.init(e,t)});function JU(e){return FO(Kd,e)}a(JU,"boolean");var Gd=B("ZodBigInt",(e,t)=>{zh.init(e,t),rt.init(e,t),e.gte=(n,o)=>e.check(Tn(n,o)),e.min=(n,o)=>e.check(Tn(n,o)),e.gt=(n,o)=>e.check(Ii(n,o)),e.gte=(n,o)=>e.check(Tn(n,o)),e.min=(n,o)=>e.check(Tn(n,o)),e.lt=(n,o)=>e.check(Pi(n,o)),e.lte=(n,o)=>e.check(Qn(n,o)),e.max=(n,o)=>e.check(Qn(n,o)),e.positive=n=>e.check(Ii(BigInt(0),n)),e.negative=n=>e.check(Pi(BigInt(0),n)),e.nonpositive=n=>e.check(Qn(BigInt(0),n)),e.nonnegative=n=>e.check(Tn(BigInt(0),n)),e.multipleOf=(n,o)=>e.check(gs(n,o));let r=e._zod.bag;e.minValue=r.minimum??null,e.maxValue=r.maximum??null,e.format=r.format??null});function yse(e){return BO(Gd,e)}a(yse,"bigint");var QA=B("ZodBigIntFormat",(e,t)=>{eI.init(e,t),Gd.init(e,t)});function vse(e){return VO(QA,e)}a(vse,"int64");function _se(e){return ZO(QA,e)}a(_se,"uint64");var BU=B("ZodSymbol",(e,t)=>{tI.init(e,t),rt.init(e,t)});function bse(e){return KO(BU,e)}a(bse,"symbol");var HU=B("ZodUndefined",(e,t)=>{rI.init(e,t),rt.init(e,t)});function Sse(e){return GO(HU,e)}a(Sse,"_undefined");var VU=B("ZodNull",(e,t)=>{nI.init(e,t),rt.init(e,t)});function ZU(e){return WO(VU,e)}a(ZU,"_null");var KU=B("ZodAny",(e,t)=>{oI.init(e,t),rt.init(e,t)});function wse(){return QO(KU)}a(wse,"any");var GU=B("ZodUnknown",(e,t)=>{iI.init(e,t),rt.init(e,t)});function Qu(){return XO(GU)}a(Qu,"unknown");var WU=B("ZodNever",(e,t)=>{aI.init(e,t),rt.init(e,t)});function XA(e){return YO(WU,e)}a(XA,"never");var QU=B("ZodVoid",(e,t)=>{sI.init(e,t),rt.init(e,t)});function xse(e){return eA(QU,e)}a(xse,"_void");var gg=B("ZodDate",(e,t)=>{uI.init(e,t),rt.init(e,t),e.min=(n,o)=>e.check(Tn(n,o)),e.max=(n,o)=>e.check(Qn(n,o));let r=e._zod.bag;e.minDate=r.minimum?new Date(r.minimum):null,e.maxDate=r.maximum?new Date(r.maximum):null});function Tse(e){return tA(gg,e)}a(Tse,"date");var XU=B("ZodArray",(e,t)=>{cI.init(e,t),rt.init(e,t),e.element=t.element,e.min=(r,n)=>e.check(xa(r,n)),e.nonempty=r=>e.check(xa(1,r)),e.max=(r,n)=>e.check(Ku(r,n)),e.length=(r,n)=>e.check(Gu(r,n)),e.unwrap=()=>e.element});function yg(e,t){return cA(XU,e,t)}a(yg,"array");function kse(e){let t=e._zod.def.shape;return rC(Object.keys(t))}a(kse,"keyof");var vg=B("ZodObject",(e,t)=>{lI.init(e,t),rt.init(e,t),de.defineLazy(e,"shape",()=>t.shape),e.keyof=()=>rC(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Qu()}),e.loose=()=>e.clone({...e._zod.def,catchall:Qu()}),e.strict=()=>e.clone({...e._zod.def,catchall:XA()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>de.extend(e,r),e.safeExtend=r=>de.safeExtend(e,r),e.merge=r=>de.merge(e,r),e.pick=r=>de.pick(e,r),e.omit=r=>de.omit(e,r),e.partial=(...r)=>de.partial(oC,e,r[0]),e.required=(...r)=>de.required(iC,e,r[0])});function Ese(e,t){let r={type:"object",shape:e??{},...de.normalizeParams(t)};return new vg(r)}a(Ese,"object");function Pse(e,t){return new vg({type:"object",shape:e,catchall:XA(),...de.normalizeParams(t)})}a(Pse,"strictObject");function Ise(e,t){return new vg({type:"object",shape:e,catchall:Qu(),...de.normalizeParams(t)})}a(Ise,"looseObject");var YA=B("ZodUnion",(e,t)=>{Dh.init(e,t),rt.init(e,t),e.options=t.options});function eC(e,t){return new YA({type:"union",options:e,...de.normalizeParams(t)})}a(eC,"union");var YU=B("ZodDiscriminatedUnion",(e,t)=>{YA.init(e,t),dI.init(e,t)});function Ose(e,t,r){return new YU({type:"union",options:t,discriminator:e,...de.normalizeParams(r)})}a(Ose,"discriminatedUnion");var eL=B("ZodIntersection",(e,t)=>{pI.init(e,t),rt.init(e,t)});function tL(e,t){return new eL({type:"intersection",left:e,right:t})}a(tL,"intersection");var rL=B("ZodTuple",(e,t)=>{Mh.init(e,t),rt.init(e,t),e.rest=r=>e.clone({...e._zod.def,rest:r})});function nL(e,t,r){let n=t instanceof He,o=n?r:t,i=n?t:null;return new rL({type:"tuple",items:e,rest:i,...de.normalizeParams(o)})}a(nL,"tuple");var tC=B("ZodRecord",(e,t)=>{mI.init(e,t),rt.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function oL(e,t,r){return new tC({type:"record",keyType:e,valueType:t,...de.normalizeParams(r)})}a(oL,"record");function Ase(e,t,r){let n=tn(e);return n._zod.values=void 0,new tC({type:"record",keyType:n,valueType:t,...de.normalizeParams(r)})}a(Ase,"partialRecord");var iL=B("ZodMap",(e,t)=>{fI.init(e,t),rt.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function Cse(e,t,r){return new iL({type:"map",keyType:e,valueType:t,...de.normalizeParams(r)})}a(Cse,"map");var aL=B("ZodSet",(e,t)=>{hI.init(e,t),rt.init(e,t),e.min=(...r)=>e.check(ys(...r)),e.nonempty=r=>e.check(ys(1,r)),e.max=(...r)=>e.check(Zu(...r)),e.size=(...r)=>e.check(Ad(...r))});function Rse(e,t){return new aL({type:"set",valueType:e,...de.normalizeParams(t)})}a(Rse,"set");var Bd=B("ZodEnum",(e,t)=>{gI.init(e,t),rt.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);let r=new Set(Object.keys(t.entries));e.extract=(n,o)=>{let i={};for(let s of n)if(r.has(s))i[s]=t.entries[s];else throw new Error(`Key ${s} not found in enum`);return new Bd({...t,checks:[],...de.normalizeParams(o),entries:i})},e.exclude=(n,o)=>{let i={...t.entries};for(let s of n)if(r.has(s))delete i[s];else throw new Error(`Key ${s} not found in enum`);return new Bd({...t,checks:[],...de.normalizeParams(o),entries:i})}});function rC(e,t){let r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new Bd({type:"enum",entries:r,...de.normalizeParams(t)})}a(rC,"_enum");function $se(e,t){return new Bd({type:"enum",entries:e,...de.normalizeParams(t)})}a($se,"nativeEnum");var sL=B("ZodLiteral",(e,t)=>{yI.init(e,t),rt.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function Nse(e,t){return new sL({type:"literal",values:Array.isArray(e)?e:[e],...de.normalizeParams(t)})}a(Nse,"literal");var uL=B("ZodFile",(e,t)=>{vI.init(e,t),rt.init(e,t),e.min=(r,n)=>e.check(ys(r,n)),e.max=(r,n)=>e.check(Zu(r,n)),e.mime=(r,n)=>e.check(Dd(Array.isArray(r)?r:[r],n))});function jse(e){return lA(uL,e)}a(jse,"file");var cL=B("ZodTransform",(e,t)=>{_I.init(e,t),rt.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new ya(e.constructor.name);r.addIssue=i=>{if(typeof i=="string")r.issues.push(de.issue(i,r.value,t));else{let s=i;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=r.value),s.inst??(s.inst=e),r.issues.push(de.issue(s))}};let o=t.transform(r.value,r);return o instanceof Promise?o.then(i=>(r.value=i,r)):(r.value=o,r)}});function nC(e){return new cL({type:"transform",transform:e})}a(nC,"transform");var oC=B("ZodOptional",(e,t)=>{bI.init(e,t),rt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function pg(e){return new oC({type:"optional",innerType:e})}a(pg,"optional");var lL=B("ZodNullable",(e,t)=>{SI.init(e,t),rt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function mg(e){return new lL({type:"nullable",innerType:e})}a(mg,"nullable");function zse(e){return pg(mg(e))}a(zse,"nullish");var dL=B("ZodDefault",(e,t)=>{wI.init(e,t),rt.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function pL(e,t){return new dL({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():de.shallowClone(t)}})}a(pL,"_default");var mL=B("ZodPrefault",(e,t)=>{xI.init(e,t),rt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function fL(e,t){return new mL({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():de.shallowClone(t)}})}a(fL,"prefault");var iC=B("ZodNonOptional",(e,t)=>{TI.init(e,t),rt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function hL(e,t){return new iC({type:"nonoptional",innerType:e,...de.normalizeParams(t)})}a(hL,"nonoptional");var gL=B("ZodSuccess",(e,t)=>{kI.init(e,t),rt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Dse(e){return new gL({type:"success",innerType:e})}a(Dse,"success");var yL=B("ZodCatch",(e,t)=>{EI.init(e,t),rt.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function vL(e,t){return new yL({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}a(vL,"_catch");var _L=B("ZodNaN",(e,t)=>{PI.init(e,t),rt.init(e,t)});function Mse(e){return nA(_L,e)}a(Mse,"nan");var aC=B("ZodPipe",(e,t)=>{II.init(e,t),rt.init(e,t),e.in=t.in,e.out=t.out});function fg(e,t){return new aC({type:"pipe",in:e,out:t})}a(fg,"pipe");var sC=B("ZodCodec",(e,t)=>{aC.init(e,t),Sd.init(e,t)});function qse(e,t,r){return new sC({type:"pipe",in:e,out:t,transform:r.decode,reverseTransform:r.encode})}a(qse,"codec");var bL=B("ZodReadonly",(e,t)=>{OI.init(e,t),rt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function SL(e){return new bL({type:"readonly",innerType:e})}a(SL,"readonly");var wL=B("ZodTemplateLiteral",(e,t)=>{AI.init(e,t),rt.init(e,t)});function Use(e,t){return new wL({type:"template_literal",parts:e,...de.normalizeParams(t)})}a(Use,"templateLiteral");var xL=B("ZodLazy",(e,t)=>{$I.init(e,t),rt.init(e,t),e.unwrap=()=>e._zod.def.getter()});function TL(e){return new xL({type:"lazy",getter:e})}a(TL,"lazy");var kL=B("ZodPromise",(e,t)=>{RI.init(e,t),rt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Lse(e){return new kL({type:"promise",innerType:e})}a(Lse,"promise");var EL=B("ZodFunction",(e,t)=>{CI.init(e,t),rt.init(e,t)});function Fse(e){return new EL({type:"function",input:Array.isArray(e?.input)?nL(e?.input):e?.input??yg(Qu()),output:e?.output??Qu()})}a(Fse,"_function");var _g=B("ZodCustom",(e,t)=>{NI.init(e,t),rt.init(e,t)});function Jse(e){let t=new qt({check:"custom"});return t._zod.check=e,t}a(Jse,"check");function Bse(e,t){return dA(_g,e??(()=>!0),t)}a(Bse,"custom");function PL(e,t={}){return pA(_g,e,t)}a(PL,"refine");function IL(e){return mA(e)}a(IL,"superRefine");var Hse=fA,Vse=hA;function Zse(e,t={error:`Input not instance of ${e.name}`}){let r=new _g({type:"custom",check:"custom",fn:a(n=>n instanceof e,"fn"),abort:!0,...de.normalizeParams(t)});return r._zod.bag.Class=e,r}a(Zse,"_instanceof");var Kse=a((...e)=>gA({Codec:sC,Boolean:Kd,String:Hd},...e),"stringbool");function Gse(e){let t=TL(()=>eC([RA(e),FU(),JU(),ZU(),yg(t),oL(RA(),t)]));return t}a(Gse,"json");function Wse(e,t){return fg(nC(e),t)}a(Wse,"preprocess");var Qse={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function Xse(e){yr({customError:e})}a(Xse,"setErrorMap");function Yse(){return yr().customError}a(Yse,"getErrorMap");var uC;uC||(uC={});var cC={};yn(cC,{bigint:()=>nue,boolean:()=>rue,date:()=>oue,number:()=>tue,string:()=>eue});function eue(e){return IO(Hd,e)}a(eue,"string");function tue(e){return zO(Zd,e)}a(tue,"number");function rue(e){return JO(Kd,e)}a(rue,"boolean");function nue(e){return HO(Gd,e)}a(nue,"bigint");function oue(e){return rA(gg,e)}a(oue,"date");yr(wd());var iue=c.object({arguments:c.record(c.string(),c.unknown()).optional().default({})}),lC=new Oe;lC.post("/:toolName",me,Be("json",iue),async e=>{let t=e.req.param("toolName"),{arguments:r}=e.req.valid("json");return e.json({error:"Not implemented",message:`Tool ${t} will be implemented in subsequent tasks`,toolName:t,receivedArgs:r},501)});var dC=new Oe;dC.route("/context",fE);dC.route("/tools",lC);var pC=dC;var AL="vercel.ai.error",aue=Symbol.for(AL),CL,sue=class RL extends Error{static{a(this,"_AISDKError")}constructor({name:t,message:r,cause:n}){super(r),this[CL]=!0,this.name=t,this.cause=n}static isInstance(t){return RL.hasMarker(t,AL)}static hasMarker(t,r){let n=Symbol.for(r);return t!=null&&typeof t=="object"&&n in t&&typeof t[n]=="boolean"&&t[n]===!0}toJSON(){return{name:this.name,message:this.message}}};CL=aue;var OL=sue,uue="AI_APICallError",cue=`vercel.ai.error.${uue}`,lue=Symbol.for(cue),due;due=lue;var pue="AI_EmptyResponseBodyError",mue=`vercel.ai.error.${pue}`,fue=Symbol.for(mue),hue;hue=fue;var $L="AI_InvalidArgumentError",NL=`vercel.ai.error.${$L}`,gue=Symbol.for(NL),jL,zL=class extends OL{static{a(this,"InvalidArgumentError")}constructor({message:e,cause:t,argument:r}){super({name:$L,message:e,cause:t}),this[jL]=!0,this.argument=r}static isInstance(e){return OL.hasMarker(e,NL)}};jL=gue;var yue="AI_InvalidPromptError",vue=`vercel.ai.error.${yue}`,_ue=Symbol.for(vue),bue;bue=_ue;var Sue="AI_InvalidResponseDataError",wue=`vercel.ai.error.${Sue}`,xue=Symbol.for(wue),Tue;Tue=xue;var kue="AI_JSONParseError",Eue=`vercel.ai.error.${kue}`,Pue=Symbol.for(Eue),Iue;Iue=Pue;var Oue="AI_LoadAPIKeyError",Aue=`vercel.ai.error.${Oue}`,Cue=Symbol.for(Aue),Rue;Rue=Cue;var $ue="AI_LoadSettingError",Nue=`vercel.ai.error.${$ue}`,jue=Symbol.for(Nue),zue;zue=jue;var Due="AI_NoContentGeneratedError",Mue=`vercel.ai.error.${Due}`,que=Symbol.for(Mue),Uue;Uue=que;var Lue="AI_NoSuchModelError",Fue=`vercel.ai.error.${Lue}`,Jue=Symbol.for(Fue),Bue;Bue=Jue;var Hue="AI_TooManyEmbeddingValuesForCallError",Vue=`vercel.ai.error.${Hue}`,Zue=Symbol.for(Vue),Kue;Kue=Zue;var Gue="AI_TypeValidationError",Wue=`vercel.ai.error.${Gue}`,Que=Symbol.for(Wue),Xue;Xue=Que;var Yue="AI_UnsupportedFunctionalityError",ece=`vercel.ai.error.${Yue}`,tce=Symbol.for(ece),rce;rce=tce;var DL=a((e,t=21)=>(r=t)=>{let n="",o=r|0;for(;o--;)n+=e[Math.random()*e.length|0];return n},"customAlphabet");var ace=Xs(bg(),1);var ice=a(({prefix:e,size:t=7,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:n="-"}={})=>{let o=DL(r,t);if(e==null)return o;if(r.includes(n))throw new zL({argument:"separator",message:`The separator "${n}" must not be part of the alphabet "${r}".`});return i=>`${e}${n}${o(i)}`},"createIdGenerator"),fC=ice();var FL=Symbol.for("vercel.ai.validator");var{btoa:n3e,atob:o3e}=globalThis;var Uce=Xs(bg(),1);var BL=Symbol("Let zodToJsonSchema decide on which parser to use");var JL={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"},HL=a(e=>typeof e=="string"?{...JL,name:e}:{...JL,...e},"getDefaultOptions");var VL=a(e=>{let t=HL(e),r=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,flags:{hasReferencedOpenAiAnyType:!1},currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([n,o])=>[o._def,{def:o._def,path:[...t.basePath,t.definitionPath,n],jsonSchema:void 0}]))}},"getRefs");function hC(e,t,r,n){n?.errorMessages&&r&&(e.errorMessage={...e.errorMessage,[t]:r})}a(hC,"addErrorMessage");function yt(e,t,r,n,o){e[t]=r,hC(e,t,n,o)}a(yt,"setResponseValueAndErrors");var Sg=a((e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")},"getRelativePath");var ft;(function(e){e.assertEqual=o=>{};function t(o){}a(t,"assertIs"),e.assertIs=t;function r(o){throw new Error}a(r,"assertNever"),e.assertNever=r,e.arrayToEnum=o=>{let i={};for(let s of o)i[s]=s;return i},e.getValidEnumValues=o=>{let i=e.objectKeys(o).filter(u=>typeof o[o[u]]!="number"),s={};for(let u of i)s[u]=o[u];return e.objectValues(s)},e.objectValues=o=>e.objectKeys(o).map(function(i){return o[i]}),e.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{let i=[];for(let s in o)Object.prototype.hasOwnProperty.call(o,s)&&i.push(s);return i},e.find=(o,i)=>{for(let s of o)if(i(s))return s},e.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&Number.isFinite(o)&&Math.floor(o)===o;function n(o,i=" | "){return o.map(s=>typeof s=="string"?`'${s}'`:s).join(i)}a(n,"joinValues"),e.joinValues=n,e.jsonStringifyReplacer=(o,i)=>typeof i=="bigint"?i.toString():i})(ft||(ft={}));var ZL;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(ZL||(ZL={}));var we=ft.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),$i=a(e=>{switch(typeof e){case"undefined":return we.undefined;case"string":return we.string;case"number":return Number.isNaN(e)?we.nan:we.number;case"boolean":return we.boolean;case"function":return we.function;case"bigint":return we.bigint;case"symbol":return we.symbol;case"object":return Array.isArray(e)?we.array:e===null?we.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?we.promise:typeof Map<"u"&&e instanceof Map?we.map:typeof Set<"u"&&e instanceof Set?we.set:typeof Date<"u"&&e instanceof Date?we.date:we.object;default:return we.unknown}},"getParsedType");var se=ft.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);var Dn=class e extends Error{static{a(this,"ZodError")}get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){let r=t||function(i){return i.message},n={_errors:[]},o=a(i=>{for(let s of i.issues)if(s.code==="invalid_union")s.unionErrors.map(o);else if(s.code==="invalid_return_type")o(s.returnTypeError);else if(s.code==="invalid_arguments")o(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let u=n,l=0;for(;l<s.path.length;){let d=s.path[l];l===s.path.length-1?(u[d]=u[d]||{_errors:[]},u[d]._errors.push(r(s))):u[d]=u[d]||{_errors:[]},u=u[d],l++}}},"processError");return o(this),n}static assert(t){if(!(t instanceof e))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ft.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){let r=Object.create(null),n=[];for(let o of this.issues)if(o.path.length>0){let i=o.path[0];r[i]=r[i]||[],r[i].push(t(o))}else n.push(t(o));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};Dn.create=e=>new Dn(e);var sce=a((e,t)=>{let r;switch(e.code){case se.invalid_type:e.received===we.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case se.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,ft.jsonStringifyReplacer)}`;break;case se.unrecognized_keys:r=`Unrecognized key(s) in object: ${ft.joinValues(e.keys,", ")}`;break;case se.invalid_union:r="Invalid input";break;case se.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ft.joinValues(e.options)}`;break;case se.invalid_enum_value:r=`Invalid enum value. Expected ${ft.joinValues(e.options)}, received '${e.received}'`;break;case se.invalid_arguments:r="Invalid function arguments";break;case se.invalid_return_type:r="Invalid function return type";break;case se.invalid_date:r="Invalid date";break;case se.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:ft.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case se.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case se.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case se.custom:r="Invalid input";break;case se.invalid_intersection_types:r="Intersection results could not be merged";break;case se.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case se.not_finite:r="Number must be finite";break;default:r=t.defaultError,ft.assertNever(e)}return{message:r}},"errorMap"),Ta=sce;var uce=Ta;function Wd(){return uce}a(Wd,"getErrorMap");var wg=a(e=>{let{data:t,path:r,errorMaps:n,issueData:o}=e,i=[...r,...o.path||[]],s={...o,path:i};if(o.message!==void 0)return{...o,path:i,message:o.message};let u="",l=n.filter(d=>!!d).slice().reverse();for(let d of l)u=d(s,{data:t,defaultError:u}).message;return{...o,path:i,message:u}},"makeIssue");function ve(e,t){let r=Wd(),n=wg({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Ta?void 0:Ta].filter(o=>!!o)});e.common.issues.push(n)}a(ve,"addIssueToContext");var Gr=class e{static{a(this,"ParseStatus")}constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){let n=[];for(let o of r){if(o.status==="aborted")return De;o.status==="dirty"&&t.dirty(),n.push(o.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){let n=[];for(let o of r){let i=await o.key,s=await o.value;n.push({key:i,value:s})}return e.mergeObjectSync(t,n)}static mergeObjectSync(t,r){let n={};for(let o of r){let{key:i,value:s}=o;if(i.status==="aborted"||s.status==="aborted")return De;i.status==="dirty"&&t.dirty(),s.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof s.value<"u"||o.alwaysSet)&&(n[i.value]=s.value)}return{status:t.value,value:n}}},De=Object.freeze({status:"aborted"}),ec=a(e=>({status:"dirty",value:e}),"DIRTY"),on=a(e=>({status:"valid",value:e}),"OK"),gC=a(e=>e.status==="aborted","isAborted"),yC=a(e=>e.status==="dirty","isDirty"),vs=a(e=>e.status==="valid","isValid"),Qd=a(e=>typeof Promise<"u"&&e instanceof Promise,"isAsync");var Ie;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(Ie||(Ie={}));var Xn=class{static{a(this,"ParseInputLazyPath")}constructor(t,r,n,o){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=o}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},KL=a((e,t)=>{if(vs(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new Dn(e.common.issues);return this._error=r,this._error}}},"handleResult");function We(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:o}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:o}:{errorMap:a((s,u)=>{let{message:l}=e;return s.code==="invalid_enum_value"?{message:l??u.defaultError}:typeof u.data>"u"?{message:l??n??u.defaultError}:s.code!=="invalid_type"?{message:u.defaultError}:{message:l??r??u.defaultError}},"customMap"),description:o}}a(We,"processCreateParams");var nt=class{static{a(this,"ZodType")}get description(){return this._def.description}_getType(t){return $i(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:$i(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Gr,ctx:{common:t.parent.common,data:t.data,parsedType:$i(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){let r=this._parse(t);if(Qd(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){let r=this._parse(t);return Promise.resolve(r)}parse(t,r){let n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){let n={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:$i(t)},o=this._parseSync({data:t,path:n.path,parent:n});return KL(n,o)}"~validate"(t){let r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:$i(t)};if(!this["~standard"].async)try{let n=this._parseSync({data:t,path:[],parent:r});return vs(n)?{value:n.value}:{issues:r.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(n=>vs(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(t,r){let n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){let n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:$i(t)},o=this._parse({data:t,path:n.path,parent:n}),i=await(Qd(o)?o:Promise.resolve(o));return KL(n,i)}refine(t,r){let n=a(o=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(o):r,"getIssueProperties");return this._refinement((o,i)=>{let s=t(o),u=a(()=>i.addIssue({code:se.custom,...n(o)}),"setError");return typeof Promise<"u"&&s instanceof Promise?s.then(l=>l?!0:(u(),!1)):s?!0:(u(),!1)})}refinement(t,r){return this._refinement((n,o)=>t(n)?!0:(o.addIssue(typeof r=="function"?r(n,o):r),!1))}_refinement(t){return new xo({schema:this,typeName:q.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:a(r=>this["~validate"](r),"validate")}}optional(){return wo.create(this,this._def)}nullable(){return zi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ea.create(this)}promise(){return _s.create(this,this._def)}or(t){return ic.create([this,t],this._def)}and(t){return ac.create(this,t,this._def)}transform(t){return new xo({...We(this._def),schema:this,typeName:q.ZodEffects,effect:{type:"transform",transform:t}})}default(t){let r=typeof t=="function"?t:()=>t;return new dc({...We(this._def),innerType:this,defaultValue:r,typeName:q.ZodDefault})}brand(){return new xg({typeName:q.ZodBranded,type:this,...We(this._def)})}catch(t){let r=typeof t=="function"?t:()=>t;return new pc({...We(this._def),innerType:this,catchValue:r,typeName:q.ZodCatch})}describe(t){let r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Tg.create(this,t)}readonly(){return mc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},cce=/^c[^\s-]{8,}$/i,lce=/^[0-9a-z]+$/,dce=/^[0-9A-HJKMNP-TV-Z]{26}$/i,pce=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,mce=/^[a-z0-9_-]{21}$/i,fce=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,hce=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,gce=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,yce="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",vC,vce=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,_ce=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,bce=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Sce=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,wce=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,xce=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,GL="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Tce=new RegExp(`^${GL}$`);function WL(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}a(WL,"timeRegexSource");function kce(e){return new RegExp(`^${WL(e)}$`)}a(kce,"timeRegex");function Ece(e){let t=`${GL}T${WL(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}a(Ece,"datetimeRegex");function Pce(e,t){return!!((t==="v4"||!t)&&vce.test(e)||(t==="v6"||!t)&&bce.test(e))}a(Pce,"isValidIP");function Ice(e,t){if(!fce.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),o=JSON.parse(atob(n));return!(typeof o!="object"||o===null||"typ"in o&&o?.typ!=="JWT"||!o.alg||t&&o.alg!==t)}catch{return!1}}a(Ice,"isValidJWT");function Oce(e,t){return!!((t==="v4"||!t)&&_ce.test(e)||(t==="v6"||!t)&&Sce.test(e))}a(Oce,"isValidCidr");var rc=class e extends nt{static{a(this,"ZodString")}_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==we.string){let i=this._getOrReturnCtx(t);return ve(i,{code:se.invalid_type,expected:we.string,received:i.parsedType}),De}let n=new Gr,o;for(let i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(o=this._getOrReturnCtx(t,o),ve(o,{code:se.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(o=this._getOrReturnCtx(t,o),ve(o,{code:se.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){let s=t.data.length>i.value,u=t.data.length<i.value;(s||u)&&(o=this._getOrReturnCtx(t,o),s?ve(o,{code:se.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):u&&ve(o,{code:se.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")gce.test(t.data)||(o=this._getOrReturnCtx(t,o),ve(o,{validation:"email",code:se.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")vC||(vC=new RegExp(yce,"u")),vC.test(t.data)||(o=this._getOrReturnCtx(t,o),ve(o,{validation:"emoji",code:se.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")pce.test(t.data)||(o=this._getOrReturnCtx(t,o),ve(o,{validation:"uuid",code:se.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")mce.test(t.data)||(o=this._getOrReturnCtx(t,o),ve(o,{validation:"nanoid",code:se.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")cce.test(t.data)||(o=this._getOrReturnCtx(t,o),ve(o,{validation:"cuid",code:se.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")lce.test(t.data)||(o=this._getOrReturnCtx(t,o),ve(o,{validation:"cuid2",code:se.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")dce.test(t.data)||(o=this._getOrReturnCtx(t,o),ve(o,{validation:"ulid",code:se.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{o=this._getOrReturnCtx(t,o),ve(o,{validation:"url",code:se.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(o=this._getOrReturnCtx(t,o),ve(o,{validation:"regex",code:se.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(o=this._getOrReturnCtx(t,o),ve(o,{code:se.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(o=this._getOrReturnCtx(t,o),ve(o,{code:se.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(o=this._getOrReturnCtx(t,o),ve(o,{code:se.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?Ece(i).test(t.data)||(o=this._getOrReturnCtx(t,o),ve(o,{code:se.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?Tce.test(t.data)||(o=this._getOrReturnCtx(t,o),ve(o,{code:se.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?kce(i).test(t.data)||(o=this._getOrReturnCtx(t,o),ve(o,{code:se.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?hce.test(t.data)||(o=this._getOrReturnCtx(t,o),ve(o,{validation:"duration",code:se.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?Pce(t.data,i.version)||(o=this._getOrReturnCtx(t,o),ve(o,{validation:"ip",code:se.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?Ice(t.data,i.alg)||(o=this._getOrReturnCtx(t,o),ve(o,{validation:"jwt",code:se.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?Oce(t.data,i.version)||(o=this._getOrReturnCtx(t,o),ve(o,{validation:"cidr",code:se.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?wce.test(t.data)||(o=this._getOrReturnCtx(t,o),ve(o,{validation:"base64",code:se.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?xce.test(t.data)||(o=this._getOrReturnCtx(t,o),ve(o,{validation:"base64url",code:se.invalid_string,message:i.message}),n.dirty()):ft.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(o=>t.test(o),{validation:r,code:se.invalid_string,...Ie.errToObj(n)})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ie.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ie.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ie.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ie.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ie.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ie.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ie.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ie.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ie.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ie.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ie.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ie.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ie.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:t?.offset??!1,local:t?.local??!1,...Ie.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...Ie.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...Ie.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Ie.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r?.position,...Ie.errToObj(r?.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Ie.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Ie.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Ie.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Ie.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Ie.errToObj(r)})}nonempty(t){return this.min(1,Ie.errToObj(t))}trim(){return new e({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}};rc.create=e=>new rc({checks:[],typeName:q.ZodString,coerce:e?.coerce??!1,...We(e)});function Ace(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,o=r>n?r:n,i=Number.parseInt(e.toFixed(o).replace(".","")),s=Number.parseInt(t.toFixed(o).replace(".",""));return i%s/10**o}a(Ace,"floatSafeRemainder");var Xd=class e extends nt{static{a(this,"ZodNumber")}constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==we.number){let i=this._getOrReturnCtx(t);return ve(i,{code:se.invalid_type,expected:we.number,received:i.parsedType}),De}let n,o=new Gr;for(let i of this._def.checks)i.kind==="int"?ft.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),ve(n,{code:se.invalid_type,expected:"integer",received:"float",message:i.message}),o.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),ve(n,{code:se.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),o.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),ve(n,{code:se.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),o.dirty()):i.kind==="multipleOf"?Ace(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),ve(n,{code:se.not_multiple_of,multipleOf:i.value,message:i.message}),o.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),ve(n,{code:se.not_finite,message:i.message}),o.dirty()):ft.assertNever(i);return{status:o.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Ie.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ie.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ie.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ie.toString(r))}setLimit(t,r,n,o){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ie.toString(o)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ie.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ie.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ie.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ie.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ie.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ie.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Ie.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ie.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ie.toString(t)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ft.isInteger(t.value))}get isFinite(){let t=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}};Xd.create=e=>new Xd({checks:[],typeName:q.ZodNumber,coerce:e?.coerce||!1,...We(e)});var Yd=class e extends nt{static{a(this,"ZodBigInt")}constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==we.bigint)return this._getInvalidInput(t);let n,o=new Gr;for(let i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),ve(n,{code:se.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),o.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),ve(n,{code:se.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),o.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),ve(n,{code:se.not_multiple_of,multipleOf:i.value,message:i.message}),o.dirty()):ft.assertNever(i);return{status:o.value,value:t.data}}_getInvalidInput(t){let r=this._getOrReturnCtx(t);return ve(r,{code:se.invalid_type,expected:we.bigint,received:r.parsedType}),De}gte(t,r){return this.setLimit("min",t,!0,Ie.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ie.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ie.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ie.toString(r))}setLimit(t,r,n,o){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ie.toString(o)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ie.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ie.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ie.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ie.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ie.toString(r)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}};Yd.create=e=>new Yd({checks:[],typeName:q.ZodBigInt,coerce:e?.coerce??!1,...We(e)});var ep=class extends nt{static{a(this,"ZodBoolean")}_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==we.boolean){let n=this._getOrReturnCtx(t);return ve(n,{code:se.invalid_type,expected:we.boolean,received:n.parsedType}),De}return on(t.data)}};ep.create=e=>new ep({typeName:q.ZodBoolean,coerce:e?.coerce||!1,...We(e)});var tp=class e extends nt{static{a(this,"ZodDate")}_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==we.date){let i=this._getOrReturnCtx(t);return ve(i,{code:se.invalid_type,expected:we.date,received:i.parsedType}),De}if(Number.isNaN(t.data.getTime())){let i=this._getOrReturnCtx(t);return ve(i,{code:se.invalid_date}),De}let n=new Gr,o;for(let i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(o=this._getOrReturnCtx(t,o),ve(o,{code:se.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(o=this._getOrReturnCtx(t,o),ve(o,{code:se.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):ft.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Ie.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Ie.toString(r)})}get minDate(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}};tp.create=e=>new tp({checks:[],coerce:e?.coerce||!1,typeName:q.ZodDate,...We(e)});var rp=class extends nt{static{a(this,"ZodSymbol")}_parse(t){if(this._getType(t)!==we.symbol){let n=this._getOrReturnCtx(t);return ve(n,{code:se.invalid_type,expected:we.symbol,received:n.parsedType}),De}return on(t.data)}};rp.create=e=>new rp({typeName:q.ZodSymbol,...We(e)});var nc=class extends nt{static{a(this,"ZodUndefined")}_parse(t){if(this._getType(t)!==we.undefined){let n=this._getOrReturnCtx(t);return ve(n,{code:se.invalid_type,expected:we.undefined,received:n.parsedType}),De}return on(t.data)}};nc.create=e=>new nc({typeName:q.ZodUndefined,...We(e)});var oc=class extends nt{static{a(this,"ZodNull")}_parse(t){if(this._getType(t)!==we.null){let n=this._getOrReturnCtx(t);return ve(n,{code:se.invalid_type,expected:we.null,received:n.parsedType}),De}return on(t.data)}};oc.create=e=>new oc({typeName:q.ZodNull,...We(e)});var np=class extends nt{static{a(this,"ZodAny")}constructor(){super(...arguments),this._any=!0}_parse(t){return on(t.data)}};np.create=e=>new np({typeName:q.ZodAny,...We(e)});var ka=class extends nt{static{a(this,"ZodUnknown")}constructor(){super(...arguments),this._unknown=!0}_parse(t){return on(t.data)}};ka.create=e=>new ka({typeName:q.ZodUnknown,...We(e)});var Go=class extends nt{static{a(this,"ZodNever")}_parse(t){let r=this._getOrReturnCtx(t);return ve(r,{code:se.invalid_type,expected:we.never,received:r.parsedType}),De}};Go.create=e=>new Go({typeName:q.ZodNever,...We(e)});var op=class extends nt{static{a(this,"ZodVoid")}_parse(t){if(this._getType(t)!==we.undefined){let n=this._getOrReturnCtx(t);return ve(n,{code:se.invalid_type,expected:we.void,received:n.parsedType}),De}return on(t.data)}};op.create=e=>new op({typeName:q.ZodVoid,...We(e)});var Ea=class e extends nt{static{a(this,"ZodArray")}_parse(t){let{ctx:r,status:n}=this._processInputParams(t),o=this._def;if(r.parsedType!==we.array)return ve(r,{code:se.invalid_type,expected:we.array,received:r.parsedType}),De;if(o.exactLength!==null){let s=r.data.length>o.exactLength.value,u=r.data.length<o.exactLength.value;(s||u)&&(ve(r,{code:s?se.too_big:se.too_small,minimum:u?o.exactLength.value:void 0,maximum:s?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),n.dirty())}if(o.minLength!==null&&r.data.length<o.minLength.value&&(ve(r,{code:se.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),n.dirty()),o.maxLength!==null&&r.data.length>o.maxLength.value&&(ve(r,{code:se.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,u)=>o.type._parseAsync(new Xn(r,s,r.path,u)))).then(s=>Gr.mergeArray(n,s));let i=[...r.data].map((s,u)=>o.type._parseSync(new Xn(r,s,r.path,u)));return Gr.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new e({...this._def,minLength:{value:t,message:Ie.toString(r)}})}max(t,r){return new e({...this._def,maxLength:{value:t,message:Ie.toString(r)}})}length(t,r){return new e({...this._def,exactLength:{value:t,message:Ie.toString(r)}})}nonempty(t){return this.min(1,t)}};Ea.create=(e,t)=>new Ea({type:e,minLength:null,maxLength:null,exactLength:null,typeName:q.ZodArray,...We(t)});function tc(e){if(e instanceof Mn){let t={};for(let r in e.shape){let n=e.shape[r];t[r]=wo.create(tc(n))}return new Mn({...e._def,shape:a(()=>t,"shape")})}else return e instanceof Ea?new Ea({...e._def,type:tc(e.element)}):e instanceof wo?wo.create(tc(e.unwrap())):e instanceof zi?zi.create(tc(e.unwrap())):e instanceof ji?ji.create(e.items.map(t=>tc(t))):e}a(tc,"deepPartialify");var Mn=class e extends nt{static{a(this,"ZodObject")}constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let t=this._def.shape(),r=ft.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==we.object){let d=this._getOrReturnCtx(t);return ve(d,{code:se.invalid_type,expected:we.object,received:d.parsedType}),De}let{status:n,ctx:o}=this._processInputParams(t),{shape:i,keys:s}=this._getCached(),u=[];if(!(this._def.catchall instanceof Go&&this._def.unknownKeys==="strip"))for(let d in o.data)s.includes(d)||u.push(d);let l=[];for(let d of s){let p=i[d],f=o.data[d];l.push({key:{status:"valid",value:d},value:p._parse(new Xn(o,f,o.path,d)),alwaysSet:d in o.data})}if(this._def.catchall instanceof Go){let d=this._def.unknownKeys;if(d==="passthrough")for(let p of u)l.push({key:{status:"valid",value:p},value:{status:"valid",value:o.data[p]}});else if(d==="strict")u.length>0&&(ve(o,{code:se.unrecognized_keys,keys:u}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let d=this._def.catchall;for(let p of u){let f=o.data[p];l.push({key:{status:"valid",value:p},value:d._parse(new Xn(o,f,o.path,p)),alwaysSet:p in o.data})}}return o.common.async?Promise.resolve().then(async()=>{let d=[];for(let p of l){let f=await p.key,m=await p.value;d.push({key:f,value:m,alwaysSet:p.alwaysSet})}return d}).then(d=>Gr.mergeObjectSync(n,d)):Gr.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(t){return Ie.errToObj,new e({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:a((r,n)=>{let o=this._def.errorMap?.(r,n).message??n.defaultError;return r.code==="unrecognized_keys"?{message:Ie.errToObj(t).message??o}:{message:o}},"errorMap")}:{}})}strip(){return new e({...this._def,unknownKeys:"strip"})}passthrough(){return new e({...this._def,unknownKeys:"passthrough"})}extend(t){return new e({...this._def,shape:a(()=>({...this._def.shape(),...t}),"shape")})}merge(t){return new e({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:a(()=>({...this._def.shape(),...t._def.shape()}),"shape"),typeName:q.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new e({...this._def,catchall:t})}pick(t){let r={};for(let n of ft.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new e({...this._def,shape:a(()=>r,"shape")})}omit(t){let r={};for(let n of ft.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new e({...this._def,shape:a(()=>r,"shape")})}deepPartial(){return tc(this)}partial(t){let r={};for(let n of ft.objectKeys(this.shape)){let o=this.shape[n];t&&!t[n]?r[n]=o:r[n]=o.optional()}return new e({...this._def,shape:a(()=>r,"shape")})}required(t){let r={};for(let n of ft.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof wo;)i=i._def.innerType;r[n]=i}return new e({...this._def,shape:a(()=>r,"shape")})}keyof(){return QL(ft.objectKeys(this.shape))}};Mn.create=(e,t)=>new Mn({shape:a(()=>e,"shape"),unknownKeys:"strip",catchall:Go.create(),typeName:q.ZodObject,...We(t)});Mn.strictCreate=(e,t)=>new Mn({shape:a(()=>e,"shape"),unknownKeys:"strict",catchall:Go.create(),typeName:q.ZodObject,...We(t)});Mn.lazycreate=(e,t)=>new Mn({shape:e,unknownKeys:"strip",catchall:Go.create(),typeName:q.ZodObject,...We(t)});var ic=class extends nt{static{a(this,"ZodUnion")}_parse(t){let{ctx:r}=this._processInputParams(t),n=this._def.options;function o(i){for(let u of i)if(u.result.status==="valid")return u.result;for(let u of i)if(u.result.status==="dirty")return r.common.issues.push(...u.ctx.common.issues),u.result;let s=i.map(u=>new Dn(u.ctx.common.issues));return ve(r,{code:se.invalid_union,unionErrors:s}),De}if(a(o,"handleResults"),r.common.async)return Promise.all(n.map(async i=>{let s={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(o);{let i,s=[];for(let l of n){let d={...r,common:{...r.common,issues:[]},parent:null},p=l._parseSync({data:r.data,path:r.path,parent:d});if(p.status==="valid")return p;p.status==="dirty"&&!i&&(i={result:p,ctx:d}),d.common.issues.length&&s.push(d.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;let u=s.map(l=>new Dn(l));return ve(r,{code:se.invalid_union,unionErrors:u}),De}}get options(){return this._def.options}};ic.create=(e,t)=>new ic({options:e,typeName:q.ZodUnion,...We(t)});var Ni=a(e=>e instanceof sc?Ni(e.schema):e instanceof xo?Ni(e.innerType()):e instanceof uc?[e.value]:e instanceof cc?e.options:e instanceof lc?ft.objectValues(e.enum):e instanceof dc?Ni(e._def.innerType):e instanceof nc?[void 0]:e instanceof oc?[null]:e instanceof wo?[void 0,...Ni(e.unwrap())]:e instanceof zi?[null,...Ni(e.unwrap())]:e instanceof xg||e instanceof mc?Ni(e.unwrap()):e instanceof pc?Ni(e._def.innerType):[],"getDiscriminator"),_C=class e extends nt{static{a(this,"ZodDiscriminatedUnion")}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==we.object)return ve(r,{code:se.invalid_type,expected:we.object,received:r.parsedType}),De;let n=this.discriminator,o=r.data[n],i=this.optionsMap.get(o);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(ve(r,{code:se.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),De)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){let o=new Map;for(let i of r){let s=Ni(i.shape[t]);if(!s.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(let u of s){if(o.has(u))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(u)}`);o.set(u,i)}}return new e({typeName:q.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:o,...We(n)})}};function bC(e,t){let r=$i(e),n=$i(t);if(e===t)return{valid:!0,data:e};if(r===we.object&&n===we.object){let o=ft.objectKeys(t),i=ft.objectKeys(e).filter(u=>o.indexOf(u)!==-1),s={...e,...t};for(let u of i){let l=bC(e[u],t[u]);if(!l.valid)return{valid:!1};s[u]=l.data}return{valid:!0,data:s}}else if(r===we.array&&n===we.array){if(e.length!==t.length)return{valid:!1};let o=[];for(let i=0;i<e.length;i++){let s=e[i],u=t[i],l=bC(s,u);if(!l.valid)return{valid:!1};o.push(l.data)}return{valid:!0,data:o}}else return r===we.date&&n===we.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}a(bC,"mergeValues");var ac=class extends nt{static{a(this,"ZodIntersection")}_parse(t){let{status:r,ctx:n}=this._processInputParams(t),o=a((i,s)=>{if(gC(i)||gC(s))return De;let u=bC(i.value,s.value);return u.valid?((yC(i)||yC(s))&&r.dirty(),{status:r.value,value:u.data}):(ve(n,{code:se.invalid_intersection_types}),De)},"handleParsed");return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,s])=>o(i,s)):o(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};ac.create=(e,t,r)=>new ac({left:e,right:t,typeName:q.ZodIntersection,...We(r)});var ji=class e extends nt{static{a(this,"ZodTuple")}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==we.array)return ve(n,{code:se.invalid_type,expected:we.array,received:n.parsedType}),De;if(n.data.length<this._def.items.length)return ve(n,{code:se.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),De;!this._def.rest&&n.data.length>this._def.items.length&&(ve(n,{code:se.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let i=[...n.data].map((s,u)=>{let l=this._def.items[u]||this._def.rest;return l?l._parse(new Xn(n,s,n.path,u)):null}).filter(s=>!!s);return n.common.async?Promise.all(i).then(s=>Gr.mergeArray(r,s)):Gr.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new e({...this._def,rest:t})}};ji.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ji({items:e,typeName:q.ZodTuple,rest:null,...We(t)})};var SC=class e extends nt{static{a(this,"ZodRecord")}get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==we.object)return ve(n,{code:se.invalid_type,expected:we.object,received:n.parsedType}),De;let o=[],i=this._def.keyType,s=this._def.valueType;for(let u in n.data)o.push({key:i._parse(new Xn(n,u,n.path,u)),value:s._parse(new Xn(n,n.data[u],n.path,u)),alwaysSet:u in n.data});return n.common.async?Gr.mergeObjectAsync(r,o):Gr.mergeObjectSync(r,o)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof nt?new e({keyType:t,valueType:r,typeName:q.ZodRecord,...We(n)}):new e({keyType:rc.create(),valueType:t,typeName:q.ZodRecord,...We(r)})}},ip=class extends nt{static{a(this,"ZodMap")}get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==we.map)return ve(n,{code:se.invalid_type,expected:we.map,received:n.parsedType}),De;let o=this._def.keyType,i=this._def.valueType,s=[...n.data.entries()].map(([u,l],d)=>({key:o._parse(new Xn(n,u,n.path,[d,"key"])),value:i._parse(new Xn(n,l,n.path,[d,"value"]))}));if(n.common.async){let u=new Map;return Promise.resolve().then(async()=>{for(let l of s){let d=await l.key,p=await l.value;if(d.status==="aborted"||p.status==="aborted")return De;(d.status==="dirty"||p.status==="dirty")&&r.dirty(),u.set(d.value,p.value)}return{status:r.value,value:u}})}else{let u=new Map;for(let l of s){let d=l.key,p=l.value;if(d.status==="aborted"||p.status==="aborted")return De;(d.status==="dirty"||p.status==="dirty")&&r.dirty(),u.set(d.value,p.value)}return{status:r.value,value:u}}}};ip.create=(e,t,r)=>new ip({valueType:t,keyType:e,typeName:q.ZodMap,...We(r)});var ap=class e extends nt{static{a(this,"ZodSet")}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==we.set)return ve(n,{code:se.invalid_type,expected:we.set,received:n.parsedType}),De;let o=this._def;o.minSize!==null&&n.data.size<o.minSize.value&&(ve(n,{code:se.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),r.dirty()),o.maxSize!==null&&n.data.size>o.maxSize.value&&(ve(n,{code:se.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),r.dirty());let i=this._def.valueType;function s(l){let d=new Set;for(let p of l){if(p.status==="aborted")return De;p.status==="dirty"&&r.dirty(),d.add(p.value)}return{status:r.value,value:d}}a(s,"finalizeSet");let u=[...n.data.values()].map((l,d)=>i._parse(new Xn(n,l,n.path,d)));return n.common.async?Promise.all(u).then(l=>s(l)):s(u)}min(t,r){return new e({...this._def,minSize:{value:t,message:Ie.toString(r)}})}max(t,r){return new e({...this._def,maxSize:{value:t,message:Ie.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}};ap.create=(e,t)=>new ap({valueType:e,minSize:null,maxSize:null,typeName:q.ZodSet,...We(t)});var wC=class e extends nt{static{a(this,"ZodFunction")}constructor(){super(...arguments),this.validate=this.implement}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==we.function)return ve(r,{code:se.invalid_type,expected:we.function,received:r.parsedType}),De;function n(u,l){return wg({data:u,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Wd(),Ta].filter(d=>!!d),issueData:{code:se.invalid_arguments,argumentsError:l}})}a(n,"makeArgsIssue");function o(u,l){return wg({data:u,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Wd(),Ta].filter(d=>!!d),issueData:{code:se.invalid_return_type,returnTypeError:l}})}a(o,"makeReturnsIssue");let i={errorMap:r.common.contextualErrorMap},s=r.data;if(this._def.returns instanceof _s){let u=this;return on(async function(...l){let d=new Dn([]),p=await u._def.args.parseAsync(l,i).catch(y=>{throw d.addIssue(n(l,y)),d}),f=await Reflect.apply(s,this,p);return await u._def.returns._def.type.parseAsync(f,i).catch(y=>{throw d.addIssue(o(f,y)),d})})}else{let u=this;return on(function(...l){let d=u._def.args.safeParse(l,i);if(!d.success)throw new Dn([n(l,d.error)]);let p=Reflect.apply(s,this,d.data),f=u._def.returns.safeParse(p,i);if(!f.success)throw new Dn([o(p,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new e({...this._def,args:ji.create(t).rest(ka.create())})}returns(t){return new e({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new e({args:t||ji.create([]).rest(ka.create()),returns:r||ka.create(),typeName:q.ZodFunction,...We(n)})}},sc=class extends nt{static{a(this,"ZodLazy")}get schema(){return this._def.getter()}_parse(t){let{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};sc.create=(e,t)=>new sc({getter:e,typeName:q.ZodLazy,...We(t)});var uc=class extends nt{static{a(this,"ZodLiteral")}_parse(t){if(t.data!==this._def.value){let r=this._getOrReturnCtx(t);return ve(r,{received:r.data,code:se.invalid_literal,expected:this._def.value}),De}return{status:"valid",value:t.data}}get value(){return this._def.value}};uc.create=(e,t)=>new uc({value:e,typeName:q.ZodLiteral,...We(t)});function QL(e,t){return new cc({values:e,typeName:q.ZodEnum,...We(t)})}a(QL,"createZodEnum");var cc=class e extends nt{static{a(this,"ZodEnum")}_parse(t){if(typeof t.data!="string"){let r=this._getOrReturnCtx(t),n=this._def.values;return ve(r,{expected:ft.joinValues(n),received:r.parsedType,code:se.invalid_type}),De}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){let r=this._getOrReturnCtx(t),n=this._def.values;return ve(r,{received:r.data,code:se.invalid_enum_value,options:n}),De}return on(t.data)}get options(){return this._def.values}get enum(){let t={};for(let r of this._def.values)t[r]=r;return t}get Values(){let t={};for(let r of this._def.values)t[r]=r;return t}get Enum(){let t={};for(let r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return e.create(t,{...this._def,...r})}exclude(t,r=this._def){return e.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}};cc.create=QL;var lc=class extends nt{static{a(this,"ZodNativeEnum")}_parse(t){let r=ft.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==we.string&&n.parsedType!==we.number){let o=ft.objectValues(r);return ve(n,{expected:ft.joinValues(o),received:n.parsedType,code:se.invalid_type}),De}if(this._cache||(this._cache=new Set(ft.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){let o=ft.objectValues(r);return ve(n,{received:n.data,code:se.invalid_enum_value,options:o}),De}return on(t.data)}get enum(){return this._def.values}};lc.create=(e,t)=>new lc({values:e,typeName:q.ZodNativeEnum,...We(t)});var _s=class extends nt{static{a(this,"ZodPromise")}unwrap(){return this._def.type}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==we.promise&&r.common.async===!1)return ve(r,{code:se.invalid_type,expected:we.promise,received:r.parsedType}),De;let n=r.parsedType===we.promise?r.data:Promise.resolve(r.data);return on(n.then(o=>this._def.type.parseAsync(o,{path:r.path,errorMap:r.common.contextualErrorMap})))}};_s.create=(e,t)=>new _s({type:e,typeName:q.ZodPromise,...We(t)});var xo=class extends nt{static{a(this,"ZodEffects")}innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===q.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){let{status:r,ctx:n}=this._processInputParams(t),o=this._def.effect||null,i={addIssue:a(s=>{ve(n,s),s.fatal?r.abort():r.dirty()},"addIssue"),get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),o.type==="preprocess"){let s=o.transform(n.data,i);if(n.common.async)return Promise.resolve(s).then(async u=>{if(r.value==="aborted")return De;let l=await this._def.schema._parseAsync({data:u,path:n.path,parent:n});return l.status==="aborted"?De:l.status==="dirty"?ec(l.value):r.value==="dirty"?ec(l.value):l});{if(r.value==="aborted")return De;let u=this._def.schema._parseSync({data:s,path:n.path,parent:n});return u.status==="aborted"?De:u.status==="dirty"?ec(u.value):r.value==="dirty"?ec(u.value):u}}if(o.type==="refinement"){let s=a(u=>{let l=o.refinement(u,i);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u},"executeRefinement");if(n.common.async===!1){let u=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return u.status==="aborted"?De:(u.status==="dirty"&&r.dirty(),s(u.value),{status:r.value,value:u.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(u=>u.status==="aborted"?De:(u.status==="dirty"&&r.dirty(),s(u.value).then(()=>({status:r.value,value:u.value}))))}if(o.type==="transform")if(n.common.async===!1){let s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!vs(s))return De;let u=o.transform(s.value,i);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:u}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>vs(s)?Promise.resolve(o.transform(s.value,i)).then(u=>({status:r.value,value:u})):De);ft.assertNever(o)}};xo.create=(e,t,r)=>new xo({schema:e,typeName:q.ZodEffects,effect:t,...We(r)});xo.createWithPreprocess=(e,t,r)=>new xo({schema:t,effect:{type:"preprocess",transform:e},typeName:q.ZodEffects,...We(r)});var wo=class extends nt{static{a(this,"ZodOptional")}_parse(t){return this._getType(t)===we.undefined?on(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};wo.create=(e,t)=>new wo({innerType:e,typeName:q.ZodOptional,...We(t)});var zi=class extends nt{static{a(this,"ZodNullable")}_parse(t){return this._getType(t)===we.null?on(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};zi.create=(e,t)=>new zi({innerType:e,typeName:q.ZodNullable,...We(t)});var dc=class extends nt{static{a(this,"ZodDefault")}_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return r.parsedType===we.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};dc.create=(e,t)=>new dc({innerType:e,typeName:q.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...We(t)});var pc=class extends nt{static{a(this,"ZodCatch")}_parse(t){let{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},o=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Qd(o)?o.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Dn(n.common.issues)},input:n.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Dn(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};pc.create=(e,t)=>new pc({innerType:e,typeName:q.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...We(t)});var sp=class extends nt{static{a(this,"ZodNaN")}_parse(t){if(this._getType(t)!==we.nan){let n=this._getOrReturnCtx(t);return ve(n,{code:se.invalid_type,expected:we.nan,received:n.parsedType}),De}return{status:"valid",value:t.data}}};sp.create=e=>new sp({typeName:q.ZodNaN,...We(e)});var M3e=Symbol("zod_brand"),xg=class extends nt{static{a(this,"ZodBranded")}_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},Tg=class e extends nt{static{a(this,"ZodPipeline")}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return a(async()=>{let i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?De:i.status==="dirty"?(r.dirty(),ec(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})},"handleAsync")();{let o=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?De:o.status==="dirty"?(r.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:n.path,parent:n})}}static create(t,r){return new e({in:t,out:r,typeName:q.ZodPipeline})}},mc=class extends nt{static{a(this,"ZodReadonly")}_parse(t){let r=this._def.innerType._parse(t),n=a(o=>(vs(o)&&(o.value=Object.freeze(o.value)),o),"freeze");return Qd(r)?r.then(o=>n(o)):n(r)}unwrap(){return this._def.innerType}};mc.create=(e,t)=>new mc({innerType:e,typeName:q.ZodReadonly,...We(t)});var q3e={object:Mn.lazycreate},q;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(q||(q={}));var U3e=rc.create,L3e=Xd.create,F3e=sp.create,J3e=Yd.create,B3e=ep.create,H3e=tp.create,V3e=rp.create,Z3e=nc.create,K3e=oc.create,G3e=np.create,W3e=ka.create,Q3e=Go.create,X3e=op.create,Y3e=Ea.create,e9e=Mn.create,t9e=Mn.strictCreate,r9e=ic.create,n9e=_C.create,o9e=ac.create,i9e=ji.create,a9e=SC.create,s9e=ip.create,u9e=ap.create,c9e=wC.create,l9e=sc.create,d9e=uc.create,p9e=cc.create,m9e=lc.create,f9e=_s.create,h9e=xo.create,g9e=wo.create,y9e=zi.create,v9e=xo.createWithPreprocess,_9e=Tg.create;function Wt(e){if(e.target!=="openAi")return{};let t=[...e.basePath,e.definitionPath,e.openAiAnyTypeName];return e.flags.hasReferencedOpenAiAnyType=!0,{$ref:e.$refStrategy==="relative"?Sg(t,e.currentPath):t.join("/")}}a(Wt,"parseAnyDef");function XL(e,t){let r={type:"array"};return e.type?._def&&e.type?._def?.typeName!==q.ZodAny&&(r.items=Me(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&yt(r,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&yt(r,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&(yt(r,"minItems",e.exactLength.value,e.exactLength.message,t),yt(r,"maxItems",e.exactLength.value,e.exactLength.message,t)),r}a(XL,"parseArrayDef");function YL(e,t){let r={type:"integer",format:"int64"};if(!e.checks)return r;for(let n of e.checks)switch(n.kind){case"min":t.target==="jsonSchema7"?n.inclusive?yt(r,"minimum",n.value,n.message,t):yt(r,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(r.exclusiveMinimum=!0),yt(r,"minimum",n.value,n.message,t));break;case"max":t.target==="jsonSchema7"?n.inclusive?yt(r,"maximum",n.value,n.message,t):yt(r,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(r.exclusiveMaximum=!0),yt(r,"maximum",n.value,n.message,t));break;case"multipleOf":yt(r,"multipleOf",n.value,n.message,t);break}return r}a(YL,"parseBigintDef");function e4(){return{type:"boolean"}}a(e4,"parseBooleanDef");function kg(e,t){return Me(e.type._def,t)}a(kg,"parseBrandedDef");var t4=a((e,t)=>Me(e.innerType._def,t),"parseCatchDef");function xC(e,t,r){let n=r??t.dateStrategy;if(Array.isArray(n))return{anyOf:n.map((o,i)=>xC(e,t,o))};switch(n){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return Rce(e,t)}}a(xC,"parseDateDef");var Rce=a((e,t)=>{let r={type:"integer",format:"unix-time"};if(t.target==="openApi3")return r;for(let n of e.checks)switch(n.kind){case"min":yt(r,"minimum",n.value,n.message,t);break;case"max":yt(r,"maximum",n.value,n.message,t);break}return r},"integerDateParser");function r4(e,t){return{...Me(e.innerType._def,t),default:e.defaultValue()}}a(r4,"parseDefaultDef");function n4(e,t){return t.effectStrategy==="input"?Me(e.schema._def,t):Wt(t)}a(n4,"parseEffectsDef");function o4(e){return{type:"string",enum:Array.from(e.values)}}a(o4,"parseEnumDef");var $ce=a(e=>"type"in e&&e.type==="string"?!1:"allOf"in e,"isJsonSchema7AllOfType");function i4(e,t){let r=[Me(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),Me(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(i=>!!i),n=t.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0,o=[];return r.forEach(i=>{if($ce(i))o.push(...i.allOf),i.unevaluatedProperties===void 0&&(n=void 0);else{let s=i;if("additionalProperties"in i&&i.additionalProperties===!1){let{additionalProperties:u,...l}=i;s=l}else n=void 0;o.push(s)}}),o.length?{allOf:o,...n}:void 0}a(i4,"parseIntersectionDef");function a4(e,t){let r=typeof e.value;return r!=="bigint"&&r!=="number"&&r!=="boolean"&&r!=="string"?{type:Array.isArray(e.value)?"array":"object"}:t.target==="openApi3"?{type:r==="bigint"?"integer":r,enum:[e.value]}:{type:r==="bigint"?"integer":r,const:e.value}}a(a4,"parseLiteralDef");var TC,To={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:a(()=>(TC===void 0&&(TC=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),TC),"emoji"),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function Eg(e,t){let r={type:"string"};if(e.checks)for(let n of e.checks)switch(n.kind){case"min":yt(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,n.message,t);break;case"max":yt(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value,n.message,t);break;case"email":switch(t.emailStrategy){case"format:email":ko(r,"email",n.message,t);break;case"format:idn-email":ko(r,"idn-email",n.message,t);break;case"pattern:zod":an(r,To.email,n.message,t);break}break;case"url":ko(r,"uri",n.message,t);break;case"uuid":ko(r,"uuid",n.message,t);break;case"regex":an(r,n.regex,n.message,t);break;case"cuid":an(r,To.cuid,n.message,t);break;case"cuid2":an(r,To.cuid2,n.message,t);break;case"startsWith":an(r,RegExp(`^${kC(n.value,t)}`),n.message,t);break;case"endsWith":an(r,RegExp(`${kC(n.value,t)}$`),n.message,t);break;case"datetime":ko(r,"date-time",n.message,t);break;case"date":ko(r,"date",n.message,t);break;case"time":ko(r,"time",n.message,t);break;case"duration":ko(r,"duration",n.message,t);break;case"length":yt(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,n.message,t),yt(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value,n.message,t);break;case"includes":{an(r,RegExp(kC(n.value,t)),n.message,t);break}case"ip":{n.version!=="v6"&&ko(r,"ipv4",n.message,t),n.version!=="v4"&&ko(r,"ipv6",n.message,t);break}case"base64url":an(r,To.base64url,n.message,t);break;case"jwt":an(r,To.jwt,n.message,t);break;case"cidr":{n.version!=="v6"&&an(r,To.ipv4Cidr,n.message,t),n.version!=="v4"&&an(r,To.ipv6Cidr,n.message,t);break}case"emoji":an(r,To.emoji(),n.message,t);break;case"ulid":{an(r,To.ulid,n.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{ko(r,"binary",n.message,t);break}case"contentEncoding:base64":{yt(r,"contentEncoding","base64",n.message,t);break}case"pattern:zod":{an(r,To.base64,n.message,t);break}}break}case"nanoid":an(r,To.nanoid,n.message,t);case"toLowerCase":case"toUpperCase":case"trim":break;default:}return r}a(Eg,"parseStringDef");function kC(e,t){return t.patternStrategy==="escape"?jce(e):e}a(kC,"escapeLiteralCheckValue");var Nce=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function jce(e){let t="";for(let r=0;r<e.length;r++)Nce.has(e[r])||(t+="\\"),t+=e[r];return t}a(jce,"escapeNonAlphaNumeric");function ko(e,t,r,n){e.format||e.anyOf?.some(o=>o.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&n.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.anyOf.push({format:t,...r&&n.errorMessages&&{errorMessage:{format:r}}})):yt(e,"format",t,r,n)}a(ko,"addFormat");function an(e,t,r,n){e.pattern||e.allOf?.some(o=>o.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&n.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.allOf.push({pattern:s4(t,n),...r&&n.errorMessages&&{errorMessage:{pattern:r}}})):yt(e,"pattern",s4(t,n),r,n)}a(an,"addPattern");function s4(e,t){if(!t.applyRegexFlags||!e.flags)return e.source;let r={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},n=r.i?e.source.toLowerCase():e.source,o="",i=!1,s=!1,u=!1;for(let l=0;l<n.length;l++){if(i){o+=n[l],i=!1;continue}if(r.i){if(s){if(n[l].match(/[a-z]/)){u?(o+=n[l],o+=`${n[l-2]}-${n[l]}`.toUpperCase(),u=!1):n[l+1]==="-"&&n[l+2]?.match(/[a-z]/)?(o+=n[l],u=!0):o+=`${n[l]}${n[l].toUpperCase()}`;continue}}else if(n[l].match(/[a-z]/)){o+=`[${n[l]}${n[l].toUpperCase()}]`;continue}}if(r.m){if(n[l]==="^"){o+=`(^|(?<=[\r
]))`;continue}else if(n[l]==="$"){o+=`($|(?=[\r
]))`;continue}}if(r.s&&n[l]==="."){o+=s?`${n[l]}\r
`:`[${n[l]}\r
]`;continue}o+=n[l],n[l]==="\\"?i=!0:s&&n[l]==="]"?s=!1:!s&&n[l]==="["&&(s=!0)}try{new RegExp(o)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return o}a(s4,"stringifyRegExpWithFlags");function Pg(e,t){if(t.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),t.target==="openApi3"&&e.keyType?._def.typeName===q.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((n,o)=>({...n,[o]:Me(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",o]})??Wt(t)}),{}),additionalProperties:t.rejectedAdditionalProperties};let r={type:"object",additionalProperties:Me(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??t.allowedAdditionalProperties};if(t.target==="openApi3")return r;if(e.keyType?._def.typeName===q.ZodString&&e.keyType._def.checks?.length){let{type:n,...o}=Eg(e.keyType._def,t);return{...r,propertyNames:o}}else{if(e.keyType?._def.typeName===q.ZodEnum)return{...r,propertyNames:{enum:e.keyType._def.values}};if(e.keyType?._def.typeName===q.ZodBranded&&e.keyType._def.type._def.typeName===q.ZodString&&e.keyType._def.type._def.checks?.length){let{type:n,...o}=kg(e.keyType._def,t);return{...r,propertyNames:o}}}return r}a(Pg,"parseRecordDef");function u4(e,t){if(t.mapStrategy==="record")return Pg(e,t);let r=Me(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||Wt(t),n=Me(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||Wt(t);return{type:"array",maxItems:125,items:{type:"array",items:[r,n],minItems:2,maxItems:2}}}a(u4,"parseMapDef");function c4(e){let t=e.values,n=Object.keys(e.values).filter(i=>typeof t[t[i]]!="number").map(i=>t[i]),o=Array.from(new Set(n.map(i=>typeof i)));return{type:o.length===1?o[0]==="string"?"string":"number":["string","number"],enum:n}}a(c4,"parseNativeEnumDef");function l4(e){return e.target==="openAi"?void 0:{not:Wt({...e,currentPath:[...e.currentPath,"not"]})}}a(l4,"parseNeverDef");function d4(e){return e.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}a(d4,"parseNullDef");var up={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function m4(e,t){if(t.target==="openApi3")return p4(e,t);let r=e.options instanceof Map?Array.from(e.options.values()):e.options;if(r.every(n=>n._def.typeName in up&&(!n._def.checks||!n._def.checks.length))){let n=r.reduce((o,i)=>{let s=up[i._def.typeName];return s&&!o.includes(s)?[...o,s]:o},[]);return{type:n.length>1?n:n[0]}}else if(r.every(n=>n._def.typeName==="ZodLiteral"&&!n.description)){let n=r.reduce((o,i)=>{let s=typeof i._def.value;switch(s){case"string":case"number":case"boolean":return[...o,s];case"bigint":return[...o,"integer"];case"object":if(i._def.value===null)return[...o,"null"];case"symbol":case"undefined":case"function":default:return o}},[]);if(n.length===r.length){let o=n.filter((i,s,u)=>u.indexOf(i)===s);return{type:o.length>1?o:o[0],enum:r.reduce((i,s)=>i.includes(s._def.value)?i:[...i,s._def.value],[])}}}else if(r.every(n=>n._def.typeName==="ZodEnum"))return{type:"string",enum:r.reduce((n,o)=>[...n,...o._def.values.filter(i=>!n.includes(i))],[])};return p4(e,t)}a(m4,"parseUnionDef");var p4=a((e,t)=>{let r=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((n,o)=>Me(n._def,{...t,currentPath:[...t.currentPath,"anyOf",`${o}`]})).filter(n=>!!n&&(!t.strictUnions||typeof n=="object"&&Object.keys(n).length>0));return r.length?{anyOf:r}:void 0},"asAnyOf");function f4(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return t.target==="openApi3"?{type:up[e.innerType._def.typeName],nullable:!0}:{type:[up[e.innerType._def.typeName],"null"]};if(t.target==="openApi3"){let n=Me(e.innerType._def,{...t,currentPath:[...t.currentPath]});return n&&"$ref"in n?{allOf:[n],nullable:!0}:n&&{...n,nullable:!0}}let r=Me(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}a(f4,"parseNullableDef");function h4(e,t){let r={type:"number"};if(!e.checks)return r;for(let n of e.checks)switch(n.kind){case"int":r.type="integer",hC(r,"type",n.message,t);break;case"min":t.target==="jsonSchema7"?n.inclusive?yt(r,"minimum",n.value,n.message,t):yt(r,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(r.exclusiveMinimum=!0),yt(r,"minimum",n.value,n.message,t));break;case"max":t.target==="jsonSchema7"?n.inclusive?yt(r,"maximum",n.value,n.message,t):yt(r,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(r.exclusiveMaximum=!0),yt(r,"maximum",n.value,n.message,t));break;case"multipleOf":yt(r,"multipleOf",n.value,n.message,t);break}return r}a(h4,"parseNumberDef");function g4(e,t){let r=t.target==="openAi",n={type:"object",properties:{}},o=[],i=e.shape();for(let u in i){let l=i[u];if(l===void 0||l._def===void 0)continue;let d=Dce(l);d&&r&&(l._def.typeName==="ZodOptional"&&(l=l._def.innerType),l.isNullable()||(l=l.nullable()),d=!1);let p=Me(l._def,{...t,currentPath:[...t.currentPath,"properties",u],propertyPath:[...t.currentPath,"properties",u]});p!==void 0&&(n.properties[u]=p,d||o.push(u))}o.length&&(n.required=o);let s=zce(e,t);return s!==void 0&&(n.additionalProperties=s),n}a(g4,"parseObjectDef");function zce(e,t){if(e.catchall._def.typeName!=="ZodNever")return Me(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}a(zce,"decideAdditionalProperties");function Dce(e){try{return e.isOptional()}catch{return!0}}a(Dce,"safeIsOptional");var y4=a((e,t)=>{if(t.currentPath.toString()===t.propertyPath?.toString())return Me(e.innerType._def,t);let r=Me(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return r?{anyOf:[{not:Wt(t)},r]}:Wt(t)},"parseOptionalDef");var v4=a((e,t)=>{if(t.pipeStrategy==="input")return Me(e.in._def,t);if(t.pipeStrategy==="output")return Me(e.out._def,t);let r=Me(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),n=Me(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,n].filter(o=>o!==void 0)}},"parsePipelineDef");function _4(e,t){return Me(e.type._def,t)}a(_4,"parsePromiseDef");function b4(e,t){let n={type:"array",uniqueItems:!0,items:Me(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&yt(n,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&yt(n,"maxItems",e.maxSize.value,e.maxSize.message,t),n}a(b4,"parseSetDef");function S4(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((r,n)=>Me(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[]),additionalItems:Me(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((r,n)=>Me(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[])}}a(S4,"parseTupleDef");function w4(e){return{not:Wt(e)}}a(w4,"parseUndefinedDef");function x4(e){return Wt(e)}a(x4,"parseUnknownDef");var T4=a((e,t)=>Me(e.innerType._def,t),"parseReadonlyDef");var k4=a((e,t,r)=>{switch(t){case q.ZodString:return Eg(e,r);case q.ZodNumber:return h4(e,r);case q.ZodObject:return g4(e,r);case q.ZodBigInt:return YL(e,r);case q.ZodBoolean:return e4();case q.ZodDate:return xC(e,r);case q.ZodUndefined:return w4(r);case q.ZodNull:return d4(r);case q.ZodArray:return XL(e,r);case q.ZodUnion:case q.ZodDiscriminatedUnion:return m4(e,r);case q.ZodIntersection:return i4(e,r);case q.ZodTuple:return S4(e,r);case q.ZodRecord:return Pg(e,r);case q.ZodLiteral:return a4(e,r);case q.ZodEnum:return o4(e);case q.ZodNativeEnum:return c4(e);case q.ZodNullable:return f4(e,r);case q.ZodOptional:return y4(e,r);case q.ZodMap:return u4(e,r);case q.ZodSet:return b4(e,r);case q.ZodLazy:return()=>e.getter()._def;case q.ZodPromise:return _4(e,r);case q.ZodNaN:case q.ZodNever:return l4(r);case q.ZodEffects:return n4(e,r);case q.ZodAny:return Wt(r);case q.ZodUnknown:return x4(r);case q.ZodDefault:return r4(e,r);case q.ZodBranded:return kg(e,r);case q.ZodReadonly:return T4(e,r);case q.ZodCatch:return t4(e,r);case q.ZodPipeline:return v4(e,r);case q.ZodFunction:case q.ZodVoid:case q.ZodSymbol:return;default:return(n=>{})(t)}},"selectParser");function Me(e,t,r=!1){let n=t.seen.get(e);if(t.override){let u=t.override?.(e,t,n,r);if(u!==BL)return u}if(n&&!r){let u=Mce(n,t);if(u!==void 0)return u}let o={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,o);let i=k4(e,e.typeName,t),s=typeof i=="function"?Me(i(),t):i;if(s&&qce(e,t,s),t.postProcess){let u=t.postProcess(s,e,t);return o.jsonSchema=s,u}return o.jsonSchema=s,s}a(Me,"parseDef");var Mce=a((e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:Sg(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((r,n)=>t.currentPath[n]===r)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),Wt(t)):t.$refStrategy==="seen"?Wt(t):void 0}},"get$ref"),qce=a((e,t,r)=>(e.description&&(r.description=e.description,t.markdownDescription&&(r.markdownDescription=e.description)),r),"addMeta");var E4=a((e,t)=>{let r=VL(t),n=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((l,[d,p])=>({...l,[d]:Me(p._def,{...r,currentPath:[...r.basePath,r.definitionPath,d]},!0)??Wt(r)}),{}):void 0,o=typeof t=="string"?t:t?.nameStrategy==="title"?void 0:t?.name,i=Me(e._def,o===void 0?r:{...r,currentPath:[...r.basePath,r.definitionPath,o]},!1)??Wt(r),s=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;s!==void 0&&(i.title=s),r.flags.hasReferencedOpenAiAnyType&&(n||(n={}),n[r.openAiAnyTypeName]||(n[r.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:r.$refStrategy==="relative"?"1":[...r.basePath,r.definitionPath,r.openAiAnyTypeName].join("/")}}));let u=o===void 0?n?{...i,[r.definitionPath]:n}:i:{$ref:[...r.$refStrategy==="relative"?[]:r.basePath,r.definitionPath,o].join("/"),[r.definitionPath]:{...n,[o]:i}};return r.target==="jsonSchema7"?u.$schema="http://json-schema.org/draft-07/schema#":(r.target==="jsonSchema2019-09"||r.target==="openAi")&&(u.$schema="https://json-schema.org/draft/2019-09/schema#"),r.target==="openAi"&&("anyOf"in u||"oneOf"in u||"allOf"in u||"type"in u&&Array.isArray(u.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),u},"zodToJsonSchema");var P4=E4;var cp={code:"0",name:"text",parse:a(e=>{if(typeof e!="string")throw new Error('"text" parts expect a string value.');return{type:"text",value:e}},"parse")},lp={code:"1",name:"function_call",parse:a(e=>{if(e==null||typeof e!="object"||!("function_call"in e)||typeof e.function_call!="object"||e.function_call==null||!("name"in e.function_call)||!("arguments"in e.function_call)||typeof e.function_call.name!="string"||typeof e.function_call.arguments!="string")throw new Error('"function_call" parts expect an object with a "function_call" property.');return{type:"function_call",value:e}},"parse")},dp={code:"2",name:"data",parse:a(e=>{if(!Array.isArray(e))throw new Error('"data" parts expect an array value.');return{type:"data",value:e}},"parse")},pp={code:"3",name:"error",parse:a(e=>{if(typeof e!="string")throw new Error('"error" parts expect a string value.');return{type:"error",value:e}},"parse")},mp={code:"4",name:"assistant_message",parse:a(e=>{if(e==null||typeof e!="object"||!("id"in e)||!("role"in e)||!("content"in e)||typeof e.id!="string"||typeof e.role!="string"||e.role!=="assistant"||!Array.isArray(e.content)||!e.content.every(t=>t!=null&&typeof t=="object"&&"type"in t&&t.type==="text"&&"text"in t&&t.text!=null&&typeof t.text=="object"&&"value"in t.text&&typeof t.text.value=="string"))throw new Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:e}},"parse")},fp={code:"5",name:"assistant_control_data",parse:a(e=>{if(e==null||typeof e!="object"||!("threadId"in e)||!("messageId"in e)||typeof e.threadId!="string"||typeof e.messageId!="string")throw new Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:e.threadId,messageId:e.messageId}}},"parse")},hp={code:"6",name:"data_message",parse:a(e=>{if(e==null||typeof e!="object"||!("role"in e)||!("data"in e)||typeof e.role!="string"||e.role!=="data")throw new Error('"data_message" parts expect an object with a "role" and "data" property.');return{type:"data_message",value:e}},"parse")},gp={code:"7",name:"tool_calls",parse:a(e=>{if(e==null||typeof e!="object"||!("tool_calls"in e)||typeof e.tool_calls!="object"||e.tool_calls==null||!Array.isArray(e.tool_calls)||e.tool_calls.some(t=>t==null||typeof t!="object"||!("id"in t)||typeof t.id!="string"||!("type"in t)||typeof t.type!="string"||!("function"in t)||t.function==null||typeof t.function!="object"||!("arguments"in t.function)||typeof t.function.name!="string"||typeof t.function.arguments!="string"))throw new Error('"tool_calls" parts expect an object with a ToolCallPayload.');return{type:"tool_calls",value:e}},"parse")},yp={code:"8",name:"message_annotations",parse:a(e=>{if(!Array.isArray(e))throw new Error('"message_annotations" parts expect an array value.');return{type:"message_annotations",value:e}},"parse")},vp={code:"9",name:"tool_call",parse:a(e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("toolName"in e)||typeof e.toolName!="string"||!("args"in e)||typeof e.args!="object")throw new Error('"tool_call" parts expect an object with a "toolCallId", "toolName", and "args" property.');return{type:"tool_call",value:e}},"parse")},_p={code:"a",name:"tool_result",parse:a(e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("result"in e))throw new Error('"tool_result" parts expect an object with a "toolCallId" and a "result" property.');return{type:"tool_result",value:e}},"parse")},bp={code:"b",name:"tool_call_streaming_start",parse:a(e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("toolName"in e)||typeof e.toolName!="string")throw new Error('"tool_call_streaming_start" parts expect an object with a "toolCallId" and "toolName" property.');return{type:"tool_call_streaming_start",value:e}},"parse")},Sp={code:"c",name:"tool_call_delta",parse:a(e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("argsTextDelta"in e)||typeof e.argsTextDelta!="string")throw new Error('"tool_call_delta" parts expect an object with a "toolCallId" and "argsTextDelta" property.');return{type:"tool_call_delta",value:e}},"parse")},wp={code:"d",name:"finish_message",parse:a(e=>{if(e==null||typeof e!="object"||!("finishReason"in e)||typeof e.finishReason!="string")throw new Error('"finish_message" parts expect an object with a "finishReason" property.');let t={finishReason:e.finishReason};return"usage"in e&&e.usage!=null&&typeof e.usage=="object"&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:typeof e.usage.promptTokens=="number"?e.usage.promptTokens:Number.NaN,completionTokens:typeof e.usage.completionTokens=="number"?e.usage.completionTokens:Number.NaN}),{type:"finish_message",value:t}},"parse")},xp={code:"e",name:"finish_step",parse:a(e=>{if(e==null||typeof e!="object"||!("finishReason"in e)||typeof e.finishReason!="string")throw new Error('"finish_step" parts expect an object with a "finishReason" property.');let t={finishReason:e.finishReason,isContinued:!1};return"usage"in e&&e.usage!=null&&typeof e.usage=="object"&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:typeof e.usage.promptTokens=="number"?e.usage.promptTokens:Number.NaN,completionTokens:typeof e.usage.completionTokens=="number"?e.usage.completionTokens:Number.NaN}),"isContinued"in e&&typeof e.isContinued=="boolean"&&(t.isContinued=e.isContinued),{type:"finish_step",value:t}},"parse")},I4=[cp,lp,dp,pp,mp,fp,hp,gp,yp,vp,_p,bp,Sp,wp,xp],WZe={[cp.code]:cp,[lp.code]:lp,[dp.code]:dp,[pp.code]:pp,[mp.code]:mp,[fp.code]:fp,[hp.code]:hp,[gp.code]:gp,[yp.code]:yp,[vp.code]:vp,[_p.code]:_p,[bp.code]:bp,[Sp.code]:Sp,[wp.code]:wp,[xp.code]:xp},QZe={[cp.name]:cp.code,[lp.name]:lp.code,[dp.name]:dp.code,[pp.name]:pp.code,[mp.name]:mp.code,[fp.name]:fp.code,[hp.name]:hp.code,[gp.name]:gp.code,[yp.name]:yp.code,[vp.name]:vp.code,[_p.name]:_p.code,[bp.name]:bp.code,[Sp.name]:Sp.code,[wp.name]:wp.code,[xp.name]:xp.code},XZe=I4.map(e=>e.code);function Eo(e,t){let r=I4.find(n=>n.name===e);if(!r)throw new Error(`Invalid stream part type: ${e}`);return`${r.code}:${JSON.stringify(t)}
`}a(Eo,"formatStreamPart");var EC=Symbol.for("vercel.ai.schema");function Lce(e,{validate:t}={}){return{[EC]:!0,_type:void 0,[FL]:!0,jsonSchema:e,validate:t}}a(Lce,"jsonSchema");function Fce(e){return typeof e=="object"&&e!==null&&EC in e&&e[EC]===!0&&"jsonSchema"in e&&"validate"in e}a(Fce,"isSchema");function Ig(e){return Fce(e)?e:Jce(e)}a(Ig,"asSchema");function Jce(e){return Lce(P4(e),{validate:a(t=>{let r=e.safeParse(t);return r.success?{success:!0,value:r.data}:{success:!1,error:r.error}},"validate")})}a(Jce,"zodSchema");var O4="vercel.ai.error",Bce=Symbol.for(O4),A4,Hce=class C4 extends Error{static{a(this,"_AISDKError")}constructor({name:t,message:r,cause:n}){super(r),this[A4]=!0,this.name=t,this.cause=n}static isInstance(t){return C4.hasMarker(t,O4)}static hasMarker(t,r){let n=Symbol.for(r);return t!=null&&typeof t=="object"&&n in t&&typeof t[n]=="boolean"&&t[n]===!0}toJSON(){return{name:this.name,message:this.message}}};A4=Bce;var vt=Hce,PC="AI_APICallError",R4=`vercel.ai.error.${PC}`,Vce=Symbol.for(R4),$4,N4=class extends vt{static{a(this,"APICallError")}constructor({message:e,url:t,requestBodyValues:r,statusCode:n,responseHeaders:o,responseBody:i,cause:s,isRetryable:u=n!=null&&(n===408||n===409||n===429||n>=500),data:l}){super({name:PC,message:e,cause:s}),this[$4]=!0,this.url=t,this.requestBodyValues=r,this.statusCode=n,this.responseHeaders=o,this.responseBody=i,this.isRetryable=u,this.data=l}static isInstance(e){return vt.hasMarker(e,R4)}static isAPICallError(e){return e instanceof Error&&e.name===PC&&typeof e.url=="string"&&typeof e.requestBodyValues=="object"&&(e.statusCode==null||typeof e.statusCode=="number")&&(e.responseHeaders==null||typeof e.responseHeaders=="object")&&(e.responseBody==null||typeof e.responseBody=="string")&&(e.cause==null||typeof e.cause=="object")&&typeof e.isRetryable=="boolean"&&(e.data==null||typeof e.data=="object")}toJSON(){return{name:this.name,message:this.message,url:this.url,requestBodyValues:this.requestBodyValues,statusCode:this.statusCode,responseHeaders:this.responseHeaders,responseBody:this.responseBody,cause:this.cause,isRetryable:this.isRetryable,data:this.data}}};$4=Vce;var Zce="AI_EmptyResponseBodyError",Kce=`vercel.ai.error.${Zce}`,Gce=Symbol.for(Kce),Wce;Wce=Gce;function Og(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}a(Og,"getErrorMessage");var j4="AI_InvalidArgumentError",z4=`vercel.ai.error.${j4}`,Qce=Symbol.for(z4),D4,M4=class extends vt{static{a(this,"InvalidArgumentError")}constructor({message:e,cause:t,argument:r}){super({name:j4,message:e,cause:t}),this[D4]=!0,this.argument=r}static isInstance(e){return vt.hasMarker(e,z4)}};D4=Qce;var IC="AI_InvalidPromptError",q4=`vercel.ai.error.${IC}`,Xce=Symbol.for(q4),U4,bs=class extends vt{static{a(this,"InvalidPromptError")}constructor({prompt:e,message:t,cause:r}){super({name:IC,message:`Invalid prompt: ${t}`,cause:r}),this[U4]=!0,this.prompt=e}static isInstance(e){return vt.hasMarker(e,q4)}static isInvalidPromptError(e){return e instanceof Error&&e.name===IC&&prompt!=null}toJSON(){return{name:this.name,message:this.message,stack:this.stack,prompt:this.prompt}}};U4=Xce;var Yce="AI_InvalidResponseDataError",ele=`vercel.ai.error.${Yce}`,tle=Symbol.for(ele),rle;rle=tle;var OC="AI_JSONParseError",L4=`vercel.ai.error.${OC}`,nle=Symbol.for(L4),F4,RC=class extends vt{static{a(this,"JSONParseError")}constructor({text:e,cause:t}){super({name:OC,message:`JSON parsing failed: Text: ${e}.
Error message: ${Og(t)}`,cause:t}),this[F4]=!0,this.text=e}static isInstance(e){return vt.hasMarker(e,L4)}static isJSONParseError(e){return e instanceof Error&&e.name===OC&&"text"in e&&typeof e.text=="string"}toJSON(){return{name:this.name,message:this.message,cause:this.cause,stack:this.stack,valueText:this.text}}};F4=nle;var ole="AI_LoadAPIKeyError",ile=`vercel.ai.error.${ole}`,ale=Symbol.for(ile),sle;sle=ale;var ule="AI_LoadSettingError",cle=`vercel.ai.error.${ule}`,lle=Symbol.for(cle),dle;dle=lle;var ple="AI_NoContentGeneratedError",mle=`vercel.ai.error.${ple}`,fle=Symbol.for(mle),hle;hle=fle;var gle="AI_NoSuchModelError",yle=`vercel.ai.error.${gle}`,vle=Symbol.for(yle),_le;_le=vle;var ble="AI_TooManyEmbeddingValuesForCallError",Sle=`vercel.ai.error.${ble}`,wle=Symbol.for(Sle),xle;xle=wle;var AC="AI_TypeValidationError",J4=`vercel.ai.error.${AC}`,Tle=Symbol.for(J4),B4,kle=class CC extends vt{static{a(this,"_TypeValidationError")}constructor({value:t,cause:r}){super({name:AC,message:`Type validation failed: Value: ${JSON.stringify(t)}.
Error message: ${Og(r)}`,cause:r}),this[B4]=!0,this.value=t}static isInstance(t){return vt.hasMarker(t,J4)}static wrap({value:t,cause:r}){return CC.isInstance(r)&&r.value===t?r:new CC({value:t,cause:r})}static isTypeValidationError(t){return t instanceof Error&&t.name===AC}toJSON(){return{name:this.name,message:this.message,cause:this.cause,stack:this.stack,value:this.value}}};B4=Tle;var Ag=kle,Ele="AI_UnsupportedFunctionalityError",Ple=`vercel.ai.error.${Ele}`,Ile=Symbol.for(Ple),Ole;Ole=Ile;var H4=a((e,t=21)=>(r=t)=>{let n="",o=r|0;for(;o--;)n+=e[Math.random()*e.length|0];return n},"customAlphabet");var K4=Xs(bg(),1);var Di=a(({prefix:e,size:t=7,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:n="-"}={})=>{let o=H4(r,t);if(e==null)return o;if(r.includes(n))throw new M4({argument:"separator",message:`The separator "${n}" must not be part of the alphabet "${r}".`});return i=>`${e}${n}${o(i)}`},"createIdGenerator"),mKe=Di();function V4(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}a(V4,"getErrorMessage");function Z4(e){return e instanceof Error&&(e.name==="AbortError"||e.name==="TimeoutError")}a(Z4,"isAbortError");var $C=Symbol.for("vercel.ai.validator");function Ale(e){return{[$C]:!0,validate:e}}a(Ale,"validator");function Cle(e){return typeof e=="object"&&e!==null&&$C in e&&e[$C]===!0&&"validate"in e}a(Cle,"isValidator");function Rle(e){return Cle(e)?e:$le(e)}a(Rle,"asValidator");function $le(e){return Ale(t=>{let r=e.safeParse(t);return r.success?{success:!0,value:r.data}:{success:!1,error:r.error}})}a($le,"zodValidator");function Tp({value:e,schema:t}){let r=Rle(t);try{if(r.validate==null)return{success:!0,value:e};let n=r.validate(e);return n.success?n:{success:!1,error:Ag.wrap({value:e,cause:n.error})}}catch(n){return{success:!1,error:Ag.wrap({value:e,cause:n})}}}a(Tp,"safeValidateTypes");function NC({text:e,schema:t}){try{let r=K4.default.parse(e);return t==null?{success:!0,value:r}:Tp({value:r,schema:t})}catch(r){return{success:!1,error:RC.isJSONParseError(r)?r:new RC({text:e,cause:r})}}}a(NC,"safeParseJSON");var{btoa:Nle,atob:jle}=globalThis;function G4(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),r=jle(t);return Uint8Array.from(r,n=>n.codePointAt(0))}a(G4,"convertBase64ToUint8Array");function jC(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCodePoint(e[r]);return Nle(t)}a(jC,"convertUint8ArrayToBase64");var W4=typeof globalThis=="object"?globalThis:global;var Mi="1.9.0";var Q4=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function zle(e){var t=new Set([e]),r=new Set,n=e.match(Q4);if(!n)return function(){return!1};var o={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(o.prerelease!=null)return a(function(l){return l===e},"isExactmatch");function i(u){return r.add(u),!1}a(i,"_reject");function s(u){return t.add(u),!0}return a(s,"_accept"),a(function(l){if(t.has(l))return!0;if(r.has(l))return!1;var d=l.match(Q4);if(!d)return i(l);var p={major:+d[1],minor:+d[2],patch:+d[3],prerelease:d[4]};return p.prerelease!=null||o.major!==p.major?i(l):o.major===0?o.minor===p.minor&&o.patch<=p.patch?s(l):i(l):o.minor<=p.minor?s(l):i(l)},"isCompatible")}a(zle,"_makeCompatibilityCheck");var X4=zle(Mi);var Dle=Mi.split(".")[0],kp=Symbol.for("opentelemetry.js.api."+Dle),Ep=W4;function fc(e,t,r,n){var o;n===void 0&&(n=!1);var i=Ep[kp]=(o=Ep[kp])!==null&&o!==void 0?o:{version:Mi};if(!n&&i[e]){var s=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return r.error(s.stack||s.message),!1}if(i.version!==Mi){var s=new Error("@opentelemetry/api: Registration of version v"+i.version+" for "+e+" does not match previously registered API v"+Mi);return r.error(s.stack||s.message),!1}return i[e]=t,r.debug("@opentelemetry/api: Registered a global for "+e+" v"+Mi+"."),!0}a(fc,"registerGlobal");function qi(e){var t,r,n=(t=Ep[kp])===null||t===void 0?void 0:t.version;if(!(!n||!X4(n)))return(r=Ep[kp])===null||r===void 0?void 0:r[e]}a(qi,"getGlobal");function hc(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+Mi+".");var r=Ep[kp];r&&delete r[e]}a(hc,"unregisterGlobal");var Mle=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],s;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(u){s={error:u}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i},qle=function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},Y4=(function(){function e(t){this._namespace=t.namespace||"DiagComponentLogger"}return a(e,"DiagComponentLogger"),e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Pp("debug",this._namespace,t)},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Pp("error",this._namespace,t)},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Pp("info",this._namespace,t)},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Pp("warn",this._namespace,t)},e.prototype.verbose=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Pp("verbose",this._namespace,t)},e})();function Pp(e,t,r){var n=qi("diag");if(n)return r.unshift(t),n[e].apply(n,qle([],Mle(r),!1))}a(Pp,"logProxy");var sn;(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(sn||(sn={}));function eF(e,t){e<sn.NONE?e=sn.NONE:e>sn.ALL&&(e=sn.ALL),t=t||{};function r(n,o){var i=t[n];return typeof i=="function"&&e>=o?i.bind(t):function(){}}return a(r,"_filterFunc"),{error:r("error",sn.ERROR),warn:r("warn",sn.WARN),info:r("info",sn.INFO),debug:r("debug",sn.DEBUG),verbose:r("verbose",sn.VERBOSE)}}a(eF,"createLogLevelDiagLogger");var Ule=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],s;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(u){s={error:u}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i},Lle=function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},Fle="diag",gc=(function(){function e(){function t(o){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var u=qi("diag");if(u)return u[o].apply(u,Lle([],Ule(i),!1))}}a(t,"_logProxy");var r=this,n=a(function(o,i){var s,u,l;if(i===void 0&&(i={logLevel:sn.INFO}),o===r){var d=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return r.error((s=d.stack)!==null&&s!==void 0?s:d.message),!1}typeof i=="number"&&(i={logLevel:i});var p=qi("diag"),f=eF((u=i.logLevel)!==null&&u!==void 0?u:sn.INFO,o);if(p&&!i.suppressOverrideMessage){var m=(l=new Error().stack)!==null&&l!==void 0?l:"<failed to generate stacktrace>";p.warn("Current logger will be overwritten from "+m),f.warn("Current logger will overwrite one already registered from "+m)}return fc("diag",f,r,!0)},"setLogger");r.setLogger=n,r.disable=function(){hc(Fle,r)},r.createComponentLogger=function(o){return new Y4(o)},r.verbose=t("verbose"),r.debug=t("debug"),r.info=t("info"),r.warn=t("warn"),r.error=t("error")}return a(e,"DiagAPI"),e.instance=function(){return this._instance||(this._instance=new e),this._instance},e})();function tF(e){return Symbol.for(e)}a(tF,"createContextKey");var Jle=(function(){function e(t){var r=this;r._currentContext=t?new Map(t):new Map,r.getValue=function(n){return r._currentContext.get(n)},r.setValue=function(n,o){var i=new e(r._currentContext);return i._currentContext.set(n,o),i},r.deleteValue=function(n){var o=new e(r._currentContext);return o._currentContext.delete(n),o}}return a(e,"BaseContext"),e})(),rF=new Jle;var Ble=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],s;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(u){s={error:u}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i},Hle=function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},nF=(function(){function e(){}return a(e,"NoopContextManager"),e.prototype.active=function(){return rF},e.prototype.with=function(t,r,n){for(var o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];return r.call.apply(r,Hle([n],Ble(o),!1))},e.prototype.bind=function(t,r){return r},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e})();var Vle=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],s;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(u){s={error:u}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i},Zle=function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},zC="context",Kle=new nF,Cg=(function(){function e(){}return a(e,"ContextAPI"),e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(t){return fc(zC,t,gc.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(t,r,n){for(var o,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];return(o=this._getContextManager()).with.apply(o,Zle([t,r,n],Vle(i),!1))},e.prototype.bind=function(t,r){return this._getContextManager().bind(t,r)},e.prototype._getContextManager=function(){return qi(zC)||Kle},e.prototype.disable=function(){this._getContextManager().disable(),hc(zC,gc.instance())},e})();var Rg;(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(Rg||(Rg={}));var DC="0000000000000000",MC="00000000000000000000000000000000",oF={traceId:MC,spanId:DC,traceFlags:Rg.NONE};var Pa=(function(){function e(t){t===void 0&&(t=oF),this._spanContext=t}return a(e,"NonRecordingSpan"),e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,r){return this},e.prototype.setAttributes=function(t){return this},e.prototype.addEvent=function(t,r){return this},e.prototype.addLink=function(t){return this},e.prototype.addLinks=function(t){return this},e.prototype.setStatus=function(t){return this},e.prototype.updateName=function(t){return this},e.prototype.end=function(t){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(t,r){},e})();var qC=tF("OpenTelemetry Context Key SPAN");function $g(e){return e.getValue(qC)||void 0}a($g,"getSpan");function iF(){return $g(Cg.getInstance().active())}a(iF,"getActiveSpan");function Ip(e,t){return e.setValue(qC,t)}a(Ip,"setSpan");function aF(e){return e.deleteValue(qC)}a(aF,"deleteSpan");function sF(e,t){return Ip(e,new Pa(t))}a(sF,"setSpanContext");function Ng(e){var t;return(t=$g(e))===null||t===void 0?void 0:t.spanContext()}a(Ng,"getSpanContext");var Gle=/^([0-9a-f]{32})$/i,Wle=/^[0-9a-f]{16}$/i;function Qle(e){return Gle.test(e)&&e!==MC}a(Qle,"isValidTraceId");function Xle(e){return Wle.test(e)&&e!==DC}a(Xle,"isValidSpanId");function jg(e){return Qle(e.traceId)&&Xle(e.spanId)}a(jg,"isSpanContextValid");function uF(e){return new Pa(e)}a(uF,"wrapSpanContext");var UC=Cg.getInstance(),zg=(function(){function e(){}return a(e,"NoopTracer"),e.prototype.startSpan=function(t,r,n){n===void 0&&(n=UC.active());var o=!!r?.root;if(o)return new Pa;var i=n&&Ng(n);return Yle(i)&&jg(i)?new Pa(i):new Pa},e.prototype.startActiveSpan=function(t,r,n,o){var i,s,u;if(!(arguments.length<2)){arguments.length===2?u=r:arguments.length===3?(i=r,u=n):(i=r,s=n,u=o);var l=s??UC.active(),d=this.startSpan(t,i,l),p=Ip(l,d);return UC.with(p,u,void 0,d)}},e})();function Yle(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}a(Yle,"isSpanContext");var ede=new zg,cF=(function(){function e(t,r,n,o){this._provider=t,this.name=r,this.version=n,this.options=o}return a(e,"ProxyTracer"),e.prototype.startSpan=function(t,r,n){return this._getTracer().startSpan(t,r,n)},e.prototype.startActiveSpan=function(t,r,n,o){var i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):ede},e})();var lF=(function(){function e(){}return a(e,"NoopTracerProvider"),e.prototype.getTracer=function(t,r,n){return new zg},e})();var tde=new lF,LC=(function(){function e(){}return a(e,"ProxyTracerProvider"),e.prototype.getTracer=function(t,r,n){var o;return(o=this.getDelegateTracer(t,r,n))!==null&&o!==void 0?o:new cF(this,t,r,n)},e.prototype.getDelegate=function(){var t;return(t=this._delegate)!==null&&t!==void 0?t:tde},e.prototype.setDelegate=function(t){this._delegate=t},e.prototype.getDelegateTracer=function(t,r,n){var o;return(o=this._delegate)===null||o===void 0?void 0:o.getTracer(t,r,n)},e})();var yc;(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(yc||(yc={}));var FC="trace",dF=(function(){function e(){this._proxyTracerProvider=new LC,this.wrapSpanContext=uF,this.isSpanContextValid=jg,this.deleteSpan=aF,this.getSpan=$g,this.getActiveSpan=iF,this.getSpanContext=Ng,this.setSpan=Ip,this.setSpanContext=sF}return a(e,"TraceAPI"),e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(t){var r=fc(FC,this._proxyTracerProvider,gc.instance());return r&&this._proxyTracerProvider.setDelegate(t),r},e.prototype.getTracerProvider=function(){return qi(FC)||this._proxyTracerProvider},e.prototype.getTracer=function(t,r){return this.getTracerProvider().getTracer(t,r)},e.prototype.disable=function(){hc(FC,gc.instance()),this._proxyTracerProvider=new LC},e})();var JC=dF.getInstance();var rde=Object.defineProperty,_F=a((e,t)=>{for(var r in t)rde(e,r,{get:t[r],enumerable:!0})},"__export");async function nde(e){return e===void 0?Promise.resolve():new Promise(t=>setTimeout(t,e))}a(nde,"delay");var HC="AI_RetryError",bF=`vercel.ai.error.${HC}`,ode=Symbol.for(bF),SF,pF=class extends vt{static{a(this,"RetryError")}constructor({message:e,reason:t,errors:r}){super({name:HC,message:e}),this[SF]=!0,this.reason=t,this.errors=r,this.lastError=r[r.length-1]}static isInstance(e){return vt.hasMarker(e,bF)}static isRetryError(e){return e instanceof Error&&e.name===HC&&typeof e.reason=="string"&&Array.isArray(e.errors)}toJSON(){return{name:this.name,message:this.message,reason:this.reason,lastError:this.lastError,errors:this.errors}}};SF=ode;var ide=a(({maxRetries:e=2,initialDelayInMs:t=2e3,backoffFactor:r=2}={})=>async n=>wF(n,{maxRetries:e,delayInMs:t,backoffFactor:r}),"retryWithExponentialBackoff");async function wF(e,{maxRetries:t,delayInMs:r,backoffFactor:n},o=[]){try{return await e()}catch(i){if(Z4(i)||t===0)throw i;let s=V4(i),u=[...o,i],l=u.length;if(l>t)throw new pF({message:`Failed after ${l} attempts. Last error: ${s}`,reason:"maxRetriesExceeded",errors:u});if(i instanceof Error&&N4.isAPICallError(i)&&i.isRetryable===!0&&l<=t)return await nde(r),wF(e,{maxRetries:t,delayInMs:n*r,backoffFactor:n},u);throw l===1?i:new pF({message:`Failed after ${l} attempts with non-retryable error: '${s}'`,reason:"errorNotRetryable",errors:u})}}a(wF,"_retryWithExponentialBackoff");function VC({operationId:e,telemetry:t}){return{"operation.name":`${e}${t?.functionId!=null?` ${t.functionId}`:""}`,"resource.name":t?.functionId,"ai.operationId":e,"ai.telemetry.functionId":t?.functionId}}a(VC,"assembleOperationName");function ade({model:e,settings:t,telemetry:r,headers:n}){var o;return{"ai.model.provider":e.provider,"ai.model.id":e.modelId,...Object.entries(t).reduce((i,[s,u])=>(i[`ai.settings.${s}`]=u,i),{}),...Object.entries((o=r?.metadata)!=null?o:{}).reduce((i,[s,u])=>(i[`ai.telemetry.metadata.${s}`]=u,i),{}),...Object.entries(n??{}).reduce((i,[s,u])=>(u!==void 0&&(i[`ai.request.headers.${s}`]=u),i),{})}}a(ade,"getBaseTelemetryAttributes");var sde={startSpan(){return Dg},startActiveSpan(e,t,r,n){if(typeof t=="function")return t(Dg);if(typeof r=="function")return r(Dg);if(typeof n=="function")return n(Dg)}},Dg={spanContext(){return ude},setAttribute(){return this},setAttributes(){return this},addEvent(){return this},addLink(){return this},addLinks(){return this},setStatus(){return this},updateName(){return this},end(){return this},isRecording(){return!1},recordException(){return this}},ude={traceId:"",spanId:"",traceFlags:0};function cde({isEnabled:e=!1,tracer:t}={}){return e?t||JC.getTracer("ai"):sde}a(cde,"getTracer");function ZC({name:e,tracer:t,attributes:r,fn:n,endWhenDone:o=!0}){return t.startActiveSpan(e,{attributes:r},async i=>{try{let s=await n(i);return o&&i.end(),s}catch(s){try{s instanceof Error?(i.recordException({name:s.name,message:s.message,stack:s.stack}),i.setStatus({code:yc.ERROR,message:s.message})):i.setStatus({code:yc.ERROR})}finally{i.end()}throw s}})}a(ZC,"recordSpan");function vc({telemetry:e,attributes:t}){return e?.isEnabled!==!0?{}:Object.entries(t).reduce((r,[n,o])=>{if(o===void 0)return r;if(typeof o=="object"&&"input"in o&&typeof o.input=="function"){if(e?.recordInputs===!1)return r;let i=o.input();return i===void 0?r:{...r,[n]:i}}if(typeof o=="object"&&"output"in o&&typeof o.output=="function"){if(e?.recordOutputs===!1)return r;let i=o.output();return i===void 0?r:{...r,[n]:i}}return{...r,[n]:o}},{})}a(vc,"selectTelemetryAttributes");var KC="AI_DownloadError",xF=`vercel.ai.error.${KC}`,lde=Symbol.for(xF),TF,BC=class extends vt{static{a(this,"DownloadError")}constructor({url:e,statusCode:t,statusText:r,cause:n,message:o=n==null?`Failed to download ${e}: ${t} ${r}`:`Failed to download ${e}: ${n}`}){super({name:KC,message:o,cause:n}),this[TF]=!0,this.url=e,this.statusCode=t,this.statusText=r}static isInstance(e){return vt.hasMarker(e,xF)}static isDownloadError(e){return e instanceof Error&&e.name===KC&&typeof e.url=="string"&&(e.statusCode==null||typeof e.statusCode=="number")&&(e.statusText==null||typeof e.statusText=="string")}toJSON(){return{name:this.name,message:this.message,url:this.url,statusCode:this.statusCode,statusText:this.statusText,cause:this.cause}}};TF=lde;async function dde({url:e,fetchImplementation:t=fetch}){var r;let n=e.toString();try{let o=await t(n);if(!o.ok)throw new BC({url:n,statusCode:o.status,statusText:o.statusText});return{data:new Uint8Array(await o.arrayBuffer()),mimeType:(r=o.headers.get("content-type"))!=null?r:void 0}}catch(o){throw BC.isInstance(o)?o:new BC({url:n,cause:o})}}a(dde,"download");var pde=[{mimeType:"image/gif",bytes:[71,73,70]},{mimeType:"image/png",bytes:[137,80,78,71]},{mimeType:"image/jpeg",bytes:[255,216]},{mimeType:"image/webp",bytes:[82,73,70,70]}];function mde(e){for(let{bytes:t,mimeType:r}of pde)if(e.length>=t.length&&t.every((n,o)=>e[o]===n))return r}a(mde,"detectImageMimeType");var GC="AI_InvalidDataContentError",kF=`vercel.ai.error.${GC}`,fde=Symbol.for(kF),EF,mF=class extends vt{static{a(this,"InvalidDataContentError")}constructor({content:e,cause:t,message:r=`Invalid data content. Expected a base64 string, Uint8Array, ArrayBuffer, or Buffer, but got ${typeof e}.`}){super({name:GC,message:r,cause:t}),this[EF]=!0,this.content=e}static isInstance(e){return vt.hasMarker(e,kF)}static isInvalidDataContentError(e){return e instanceof Error&&e.name===GC&&e.content!=null}toJSON(){return{name:this.name,message:this.message,stack:this.stack,cause:this.cause,content:this.content}}};EF=fde;var PF=c.union([c.string(),c.instanceof(Uint8Array),c.instanceof(ArrayBuffer),c.custom(e=>{var t,r;return(r=(t=globalThis.Buffer)==null?void 0:t.isBuffer(e))!=null?r:!1},{message:"Must be a Buffer"})]);function hde(e){return typeof e=="string"?e:e instanceof ArrayBuffer?jC(new Uint8Array(e)):jC(e)}a(hde,"convertDataContentToBase64String");function Mg(e){if(e instanceof Uint8Array)return e;if(typeof e=="string")try{return G4(e)}catch(t){throw new mF({message:"Invalid data content. Content string is not a base64-encoded media.",content:e,cause:t})}if(e instanceof ArrayBuffer)return new Uint8Array(e);throw new mF({content:e})}a(Mg,"convertDataContentToUint8Array");function gde(e){try{return new TextDecoder().decode(e)}catch{throw new Error("Error decoding Uint8Array to text")}}a(gde,"convertUint8ArrayToText");var WC="AI_InvalidMessageRoleError",IF=`vercel.ai.error.${WC}`,yde=Symbol.for(IF),OF,vde=class extends vt{static{a(this,"InvalidMessageRoleError")}constructor({role:e,message:t=`Invalid message role: '${e}'. Must be one of: "system", "user", "assistant", "tool".`}){super({name:WC,message:t}),this[OF]=!0,this.role=e}static isInstance(e){return vt.hasMarker(e,IF)}static isInvalidMessageRoleError(e){return e instanceof Error&&e.name===WC&&typeof e.role=="string"}toJSON(){return{name:this.name,message:this.message,stack:this.stack,role:this.role}}};OF=yde;function _de(e){try{let[t,r]=e.split(",");return{mimeType:t.split(";")[0].split(":")[1],base64Content:r}}catch{return{mimeType:void 0,base64Content:void 0}}}a(_de,"splitDataUrl");async function bde({prompt:e,modelSupportsImageUrls:t=!0,modelSupportsUrl:r=a(()=>!1,"modelSupportsUrl"),downloadImplementation:n=dde}){let o=await wde(e.messages,n,t,r);return[...e.system!=null?[{role:"system",content:e.system}]:[],...e.messages.map(i=>Sde(i,o))]}a(bde,"convertToLanguageModelPrompt");function Sde(e,t){let r=e.role;switch(r){case"system":return{role:"system",content:e.content,providerMetadata:e.experimental_providerMetadata};case"user":return typeof e.content=="string"?{role:"user",content:[{type:"text",text:e.content}],providerMetadata:e.experimental_providerMetadata}:{role:"user",content:e.content.map(n=>xde(n,t)).filter(n=>n.type!=="text"||n.text!==""),providerMetadata:e.experimental_providerMetadata};case"assistant":return typeof e.content=="string"?{role:"assistant",content:[{type:"text",text:e.content}],providerMetadata:e.experimental_providerMetadata}:{role:"assistant",content:e.content.filter(n=>n.type!=="text"||n.text!=="").map(n=>{let{experimental_providerMetadata:o,...i}=n;return{...i,providerMetadata:o}}),providerMetadata:e.experimental_providerMetadata};case"tool":return{role:"tool",content:e.content.map(n=>({type:"tool-result",toolCallId:n.toolCallId,toolName:n.toolName,result:n.result,content:n.experimental_content,isError:n.isError,providerMetadata:n.experimental_providerMetadata})),providerMetadata:e.experimental_providerMetadata};default:{let n=r;throw new vde({role:n})}}}a(Sde,"convertToLanguageModelMessage");async function wde(e,t,r,n){let o=e.filter(s=>s.role==="user").map(s=>s.content).filter(s=>Array.isArray(s)).flat().filter(s=>s.type==="image"||s.type==="file").filter(s=>!(s.type==="image"&&r===!0)).map(s=>s.type==="image"?s.image:s.data).map(s=>typeof s=="string"&&(s.startsWith("http:")||s.startsWith("https:"))?new URL(s):s).filter(s=>s instanceof URL).filter(s=>!n(s)),i=await Promise.all(o.map(async s=>({url:s,data:await t({url:s})})));return Object.fromEntries(i.map(({url:s,data:u})=>[s.toString(),u]))}a(wde,"downloadAssets");function xde(e,t){if(e.type==="text")return{type:"text",text:e.text,providerMetadata:e.experimental_providerMetadata};let r=e.mimeType,n,o,i,s=e.type;switch(s){case"image":n=e.image;break;case"file":n=e.data;break;default:throw new Error(`Unsupported part type: ${s}`)}try{o=typeof n=="string"?new URL(n):n}catch{o=n}if(o instanceof URL)if(o.protocol==="data:"){let{mimeType:u,base64Content:l}=_de(o.toString());if(u==null||l==null)throw new Error(`Invalid data URL format in part ${s}`);r=u,i=Mg(l)}else{let u=t[o.toString()];u?(i=u.data,r??(r=u.mimeType)):i=o}else i=Mg(o);switch(s){case"image":return r==null&&i instanceof Uint8Array&&(r=mde(i)),{type:"image",image:i,mimeType:r,providerMetadata:e.experimental_providerMetadata};case"file":if(r==null)throw new Error("Mime type is missing for file part");return{type:"file",data:i instanceof Uint8Array?hde(i):i,mimeType:r,providerMetadata:e.experimental_providerMetadata}}}a(xde,"convertPartToLanguageModelPart");var QC="AI_InvalidArgumentError",AF=`vercel.ai.error.${QC}`,Tde=Symbol.for(AF),CF,Po=class extends vt{static{a(this,"InvalidArgumentError")}constructor({parameter:e,value:t,message:r}){super({name:QC,message:`Invalid argument for parameter ${e}: ${r}`}),this[CF]=!0,this.parameter=e,this.value=t}static isInstance(e){return vt.hasMarker(e,AF)}static isInvalidArgumentError(e){return e instanceof Error&&e.name===QC&&typeof e.parameter=="string"&&typeof e.value=="string"}toJSON(){return{name:this.name,message:this.message,stack:this.stack,parameter:this.parameter,value:this.value}}};CF=Tde;function kde({maxTokens:e,temperature:t,topP:r,topK:n,presencePenalty:o,frequencyPenalty:i,stopSequences:s,seed:u,maxRetries:l}){if(e!=null){if(!Number.isInteger(e))throw new Po({parameter:"maxTokens",value:e,message:"maxTokens must be an integer"});if(e<1)throw new Po({parameter:"maxTokens",value:e,message:"maxTokens must be >= 1"})}if(t!=null&&typeof t!="number")throw new Po({parameter:"temperature",value:t,message:"temperature must be a number"});if(r!=null&&typeof r!="number")throw new Po({parameter:"topP",value:r,message:"topP must be a number"});if(n!=null&&typeof n!="number")throw new Po({parameter:"topK",value:n,message:"topK must be a number"});if(o!=null&&typeof o!="number")throw new Po({parameter:"presencePenalty",value:o,message:"presencePenalty must be a number"});if(i!=null&&typeof i!="number")throw new Po({parameter:"frequencyPenalty",value:i,message:"frequencyPenalty must be a number"});if(u!=null&&!Number.isInteger(u))throw new Po({parameter:"seed",value:u,message:"seed must be an integer"});if(l!=null){if(!Number.isInteger(l))throw new Po({parameter:"maxRetries",value:l,message:"maxRetries must be an integer"});if(l<0)throw new Po({parameter:"maxRetries",value:l,message:"maxRetries must be >= 0"})}return{maxTokens:e,temperature:t??0,topP:r,topK:n,presencePenalty:o,frequencyPenalty:i,stopSequences:s!=null&&s.length>0?s:void 0,seed:u,maxRetries:l??2}}a(kde,"prepareCallSettings");var XC=c.lazy(()=>c.union([c.null(),c.string(),c.number(),c.boolean(),c.record(c.string(),XC),c.array(XC)])),Ia=c.record(c.string(),c.record(c.string(),XC)),Ede=c.array(c.union([c.object({type:c.literal("text"),text:c.string()}),c.object({type:c.literal("image"),data:c.string(),mimeType:c.string().optional()})])),RF=c.object({type:c.literal("text"),text:c.string(),experimental_providerMetadata:Ia.optional()}),Pde=c.object({type:c.literal("image"),image:c.union([PF,c.instanceof(URL)]),mimeType:c.string().optional(),experimental_providerMetadata:Ia.optional()}),Ide=c.object({type:c.literal("file"),data:c.union([PF,c.instanceof(URL)]),mimeType:c.string(),experimental_providerMetadata:Ia.optional()}),Ode=c.object({type:c.literal("tool-call"),toolCallId:c.string(),toolName:c.string(),args:c.unknown()}),Ade=c.object({type:c.literal("tool-result"),toolCallId:c.string(),toolName:c.string(),result:c.unknown(),content:Ede.optional(),isError:c.boolean().optional(),experimental_providerMetadata:Ia.optional()}),Cde=c.object({role:c.literal("system"),content:c.string(),experimental_providerMetadata:Ia.optional()}),Rde=c.object({role:c.literal("user"),content:c.union([c.string(),c.array(c.union([RF,Pde,Ide]))]),experimental_providerMetadata:Ia.optional()}),$de=c.object({role:c.literal("assistant"),content:c.union([c.string(),c.array(c.union([RF,Ode]))]),experimental_providerMetadata:Ia.optional()}),Nde=c.object({role:c.literal("tool"),content:c.array(Ade),experimental_providerMetadata:Ia.optional()}),jde=c.union([Cde,Rde,$de,Nde]);function zde(e){if(!Array.isArray(e))return"other";if(e.length===0)return"messages";let t=e.map(Dde);return t.some(r=>r==="has-ui-specific-parts")?"ui-messages":t.every(r=>r==="has-core-specific-parts"||r==="message")?"messages":"other"}a(zde,"detectPromptType");function Dde(e){return typeof e=="object"&&e!==null&&(e.role==="function"||e.role==="data"||"toolInvocations"in e||"experimental_attachments"in e)?"has-ui-specific-parts":typeof e=="object"&&e!==null&&"content"in e&&(Array.isArray(e.content)||"experimental_providerMetadata"in e)?"has-core-specific-parts":typeof e=="object"&&e!==null&&"role"in e&&"content"in e&&typeof e.content=="string"&&["system","user","assistant","tool"].includes(e.role)?"message":"other"}a(Dde,"detectSingleMessageCharacteristics");function Mde(e){var t,r,n;let o=[];for(let i of e){let s;try{s=new URL(i.url)}catch{throw new Error(`Invalid URL: ${i.url}`)}switch(s.protocol){case"http:":case"https:":{if((t=i.contentType)!=null&&t.startsWith("image/"))o.push({type:"image",image:s});else{if(!i.contentType)throw new Error("If the attachment is not an image, it must specify a content type");o.push({type:"file",data:s,mimeType:i.contentType})}break}case"data:":{let u,l,d;try{[u,l]=i.url.split(","),d=u.split(";")[0].split(":")[1]}catch{throw new Error(`Error processing data URL: ${i.url}`)}if(d==null||l==null)throw new Error(`Invalid data URL format: ${i.url}`);if((r=i.contentType)!=null&&r.startsWith("image/"))o.push({type:"image",image:Mg(l)});else if((n=i.contentType)!=null&&n.startsWith("text/"))o.push({type:"text",text:gde(Mg(l))});else{if(!i.contentType)throw new Error("If the attachment is not an image or text, it must specify a content type");o.push({type:"file",data:l,mimeType:i.contentType})}break}default:throw new Error(`Unsupported URL protocol: ${s.protocol}`)}}return o}a(Mde,"attachmentsToParts");var $F="AI_MessageConversionError",NF=`vercel.ai.error.${$F}`,qde=Symbol.for(NF),jF,fF=class extends vt{static{a(this,"MessageConversionError")}constructor({originalMessage:e,message:t}){super({name:$F,message:t}),this[jF]=!0,this.originalMessage=e}static isInstance(e){return vt.hasMarker(e,NF)}};jF=qde;function t1(e,t){var r;let n=(r=t?.tools)!=null?r:{},o=[];for(let i of e){let{role:s,content:u,toolInvocations:l,experimental_attachments:d}=i;switch(s){case"system":{o.push({role:"system",content:u});break}case"user":{o.push({role:"user",content:d?[{type:"text",text:u},...Mde(d)]:u});break}case"assistant":{if(l==null){o.push({role:"assistant",content:u});break}o.push({role:"assistant",content:[{type:"text",text:u},...l.map(({toolCallId:p,toolName:f,args:m})=>({type:"tool-call",toolCallId:p,toolName:f,args:m}))]}),o.push({role:"tool",content:l.map(p=>{if(!("result"in p))throw new fF({originalMessage:i,message:"ToolInvocation must have a result: "+JSON.stringify(p)});let{toolCallId:f,toolName:m,result:y}=p,g=n[m];return g?.experimental_toToolResultContent!=null?{type:"tool-result",toolCallId:f,toolName:m,result:g.experimental_toToolResultContent(y),experimental_content:g.experimental_toToolResultContent(y)}:{type:"tool-result",toolCallId:f,toolName:m,result:y}})});break}case"function":case"data":case"tool":break;default:{let p=s;throw new fF({originalMessage:i,message:`Unsupported role: ${p}`})}}}return o}a(t1,"convertToCoreMessages");function Ude({prompt:e,tools:t}){if(e.prompt==null&&e.messages==null)throw new bs({prompt:e,message:"prompt or messages must be defined"});if(e.prompt!=null&&e.messages!=null)throw new bs({prompt:e,message:"prompt and messages cannot be defined at the same time"});if(e.system!=null&&typeof e.system!="string")throw new bs({prompt:e,message:"system must be a string"});if(e.prompt!=null){if(typeof e.prompt!="string")throw new bs({prompt:e,message:"prompt must be a string"});return{type:"prompt",system:e.system,messages:[{role:"user",content:e.prompt}]}}if(e.messages!=null){let r=zde(e.messages);if(r==="other")throw new bs({prompt:e,message:"messages must be an array of CoreMessage or UIMessage"});let n=r==="ui-messages"?t1(e.messages,{tools:t}):e.messages,o=Tp({value:n,schema:c.array(jde)});if(!o.success)throw new bs({prompt:e,message:"messages must be an array of CoreMessage or UIMessage",cause:o.error});return{type:"messages",messages:n,system:e.system}}throw new Error("unreachable")}a(Ude,"standardizePrompt");function Lde(e){return{promptTokens:e.promptTokens,completionTokens:e.completionTokens,totalTokens:e.promptTokens+e.completionTokens}}a(Lde,"calculateLanguageModelUsage");function qg(e,{contentType:t,dataStreamVersion:r}){var n;let o=new Headers((n=e?.headers)!=null?n:{});return o.has("Content-Type")||o.set("Content-Type",t),r!==void 0&&o.set("X-Vercel-AI-Data-Stream",r),o}a(qg,"prepareResponseHeaders");var Fde="AI_NoObjectGeneratedError",Jde=`vercel.ai.error.${Fde}`,Bde=Symbol.for(Jde),Hde;Hde=Bde;function hF(e,t){let r=e.pipeThrough(new TransformStream(t));return r[Symbol.asyncIterator]=()=>{let n=r.getReader();return{async next(){let{done:o,value:i}=await n.read();return o?{done:!0,value:void 0}:{done:!1,value:i}}}},r}a(hF,"createAsyncIterableStream");var pWe=Di({prefix:"aiobj",size:24});function Wo(){let e,t;return{promise:new Promise((n,o)=>{e=n,t=o}),resolve:e,reject:t}}a(Wo,"createResolvablePromise");function Vde(){var e,t;return(t=(e=globalThis?.performance)==null?void 0:e.now())!=null?t:Date.now()}a(Vde,"now");function gF(e,{contentType:t,dataStreamVersion:r}){let n={};if(e?.headers!=null)for(let[o,i]of Object.entries(e.headers))n[o]=i;return n["Content-Type"]==null&&(n["Content-Type"]=t),r!==void 0&&(n["X-Vercel-AI-Data-Stream"]=r),n}a(gF,"prepareOutgoingHttpHeaders");function yF({response:e,status:t,statusText:r,headers:n,stream:o}){e.writeHead(t??200,r,n);let i=o.getReader();a(async()=>{try{for(;;){let{done:u,value:l}=await i.read();if(u)break;e.write(l)}}catch(u){throw u}finally{e.end()}},"read")()}a(yF,"writeToServerResponse");var fWe=Di({prefix:"aiobj",size:24});var YC="AI_InvalidToolArgumentsError",zF=`vercel.ai.error.${YC}`,Zde=Symbol.for(zF),DF,Kde=class extends vt{static{a(this,"InvalidToolArgumentsError")}constructor({toolArgs:e,toolName:t,cause:r,message:n=`Invalid arguments for tool ${t}: ${Og(r)}`}){super({name:YC,message:n,cause:r}),this[DF]=!0,this.toolArgs=e,this.toolName=t}static isInstance(e){return vt.hasMarker(e,zF)}static isInvalidToolArgumentsError(e){return e instanceof Error&&e.name===YC&&typeof e.toolName=="string"&&typeof e.toolArgs=="string"}toJSON(){return{name:this.name,message:this.message,cause:this.cause,stack:this.stack,toolName:this.toolName,toolArgs:this.toolArgs}}};DF=Zde;var e1="AI_NoSuchToolError",MF=`vercel.ai.error.${e1}`,Gde=Symbol.for(MF),qF,Ug=class extends vt{static{a(this,"NoSuchToolError")}constructor({toolName:e,availableTools:t=void 0,message:r=`Model tried to call unavailable tool '${e}'. ${t===void 0?"No tools are available.":`Available tools: ${t.join(", ")}.`}`}){super({name:e1,message:r}),this[qF]=!0,this.toolName=e,this.availableTools=t}static isInstance(e){return vt.hasMarker(e,MF)}static isNoSuchToolError(e){return e instanceof Error&&e.name===e1&&"toolName"in e&&e.toolName!=null&&typeof e.name=="string"}toJSON(){return{name:this.name,message:this.message,stack:this.stack,toolName:this.toolName,availableTools:this.availableTools}}};qF=Gde;function Wde(e){return e!=null&&Object.keys(e).length>0}a(Wde,"isNonEmptyObject");function Qde({tools:e,toolChoice:t,activeTools:r}){return Wde(e)?{tools:(r!=null?Object.entries(e).filter(([o])=>r.includes(o)):Object.entries(e)).map(([o,i])=>{let s=i.type;switch(s){case void 0:case"function":return{type:"function",name:o,description:i.description,parameters:Ig(i.parameters).jsonSchema};case"provider-defined":return{type:"provider-defined",name:o,id:i.id,args:i.args};default:{let u=s;throw new Error(`Unsupported tool type: ${u}`)}}}),toolChoice:t==null?{type:"auto"}:typeof t=="string"?{type:t}:{type:"tool",toolName:t.toolName}}:{tools:void 0,toolChoice:void 0}}a(Qde,"prepareToolsAndToolChoice");var Xde=/^([\s\S]*?)(\s+)(\S*)$/;function Yde(e){let t=e.match(Xde);return t?{prefix:t[1],whitespace:t[2],suffix:t[3]}:void 0}a(Yde,"splitOnLastWhitespace");function epe({toolCall:e,tools:t}){let r=e.toolName;if(t==null)throw new Ug({toolName:e.toolName});let n=t[r];if(n==null)throw new Ug({toolName:e.toolName,availableTools:Object.keys(t)});let o=Ig(n.parameters),i=e.args.trim()===""?Tp({value:{},schema:o}):NC({text:e.args,schema:o});if(i.success===!1)throw new Kde({toolName:r,toolArgs:e.args,cause:i.error});return{type:"tool-call",toolCallId:e.toolCallId,toolName:r,args:i.value}}a(epe,"parseToolCall");function tpe({text:e="",tools:t,toolCalls:r,toolResults:n}){let o=[];return o.push({role:"assistant",content:[{type:"text",text:e},...r]}),n.length>0&&o.push({role:"tool",content:n.map(i=>{let s=t[i.toolName];return s?.experimental_toToolResultContent!=null?{type:"tool-result",toolCallId:i.toolCallId,toolName:i.toolName,result:s.experimental_toToolResultContent(i.result),experimental_content:s.experimental_toToolResultContent(i.result)}:{type:"tool-result",toolCallId:i.toolCallId,toolName:i.toolName,result:i.result}})}),o}a(tpe,"toResponseMessages");var SWe=Di({prefix:"aitxt",size:24});function rpe(){let e=[],t=null,r=!1,n=a(async()=>{if(r&&e.length===0){t?.close();return}if(e.length!==0)try{let{value:o,done:i}=await e[0].read();i?(e.shift(),e.length>0?await n():r&&t?.close()):t?.enqueue(o)}catch(o){t?.error(o),e.shift(),r&&e.length===0&&t?.close()}},"processPull");return{stream:new ReadableStream({start(o){t=o},pull:n,async cancel(){for(let o of e)await o.cancel();e=[],r=!0}}),addStream:a(o=>{if(r)throw new Error("Cannot add inner stream: outer stream is closed");e.push(o.getReader())},"addStream"),close:a(()=>{r=!0,e.length===0&&t?.close()},"close")}}a(rpe,"createStitchableStream");function r1(e,t){let r=e.getReader(),n=t.getReader(),o,i,s=!1,u=!1;async function l(p){try{o==null&&(o=r.read());let f=await o;o=void 0,f.done?p.close():p.enqueue(f.value)}catch(f){p.error(f)}}a(l,"readStream1");async function d(p){try{i==null&&(i=n.read());let f=await i;i=void 0,f.done?p.close():p.enqueue(f.value)}catch(f){p.error(f)}}return a(d,"readStream2"),new ReadableStream({async pull(p){try{if(s){await d(p);return}if(u){await l(p);return}o==null&&(o=r.read()),i==null&&(i=n.read());let{result:f,reader:m}=await Promise.race([o.then(y=>({result:y,reader:r})),i.then(y=>({result:y,reader:n}))]);f.done||p.enqueue(f.value),m===r?(o=void 0,f.done&&(await d(p),s=!0)):(i=void 0,f.done&&(u=!0,await l(p)))}catch(f){p.error(f)}},cancel(){r.cancel(),n.cancel()}})}a(r1,"mergeStreams");function npe({tools:e,generatorStream:t,toolCallStreaming:r,tracer:n,telemetry:o,abortSignal:i}){let s=null,u=new ReadableStream({start(g){s=g}}),l={},d=new Set,p=!1,f;function m(){p&&d.size===0&&(f!=null&&s.enqueue(f),s.close())}a(m,"attemptClose");let y=new TransformStream({transform(g,h){let v=g.type;switch(v){case"text-delta":case"response-metadata":case"error":{h.enqueue(g);break}case"tool-call-delta":{r&&(l[g.toolCallId]||(h.enqueue({type:"tool-call-streaming-start",toolCallId:g.toolCallId,toolName:g.toolName}),l[g.toolCallId]=!0),h.enqueue({type:"tool-call-delta",toolCallId:g.toolCallId,toolName:g.toolName,argsTextDelta:g.argsTextDelta}));break}case"tool-call":{let S=g.toolName;if(e==null){s.enqueue({type:"error",error:new Ug({toolName:g.toolName})});break}let b=e[S];if(b==null){s.enqueue({type:"error",error:new Ug({toolName:g.toolName,availableTools:Object.keys(e)})});break}try{let w=epe({toolCall:g,tools:e});if(h.enqueue(w),b.execute!=null){let k=fC();d.add(k),ZC({name:"ai.toolCall",attributes:vc({telemetry:o,attributes:{...VC({operationId:"ai.toolCall",telemetry:o}),"ai.toolCall.name":w.toolName,"ai.toolCall.id":w.toolCallId,"ai.toolCall.args":{output:a(()=>JSON.stringify(w.args),"output")}}}),tracer:n,fn:a(async $=>b.execute(w.args,{abortSignal:i}).then(A=>{s.enqueue({...w,type:"tool-result",result:A}),d.delete(k),m();try{$.setAttributes(vc({telemetry:o,attributes:{"ai.toolCall.result":{output:a(()=>JSON.stringify(A),"output")}}}))}catch{}},A=>{s.enqueue({type:"error",error:A}),d.delete(k),m()}),"fn")})}}catch(w){s.enqueue({type:"error",error:w})}break}case"finish":{f={type:"finish",finishReason:g.finishReason,logprobs:g.logprobs,usage:Lde(g.usage),experimental_providerMetadata:g.providerMetadata};break}default:{let S=v;throw new Error(`Unhandled chunk type: ${S}`)}}},flush(){p=!0,m()}});return new ReadableStream({async start(g){return Promise.all([t.pipeThrough(y).pipeTo(new WritableStream({write(h){g.enqueue(h)},close(){}})),u.pipeTo(new WritableStream({write(h){g.enqueue(h)},close(){g.close()}}))])}})}a(npe,"runToolsTransformation");var ope=Di({prefix:"aitxt",size:24});async function UF({model:e,tools:t,toolChoice:r,system:n,prompt:o,messages:i,maxRetries:s,abortSignal:u,headers:l,maxToolRoundtrips:d=0,maxSteps:p=d!=null?d+1:1,experimental_continueSteps:f=!1,experimental_telemetry:m,experimental_providerMetadata:y,experimental_toolCallStreaming:g=!1,experimental_activeTools:h,onChunk:v,onFinish:S,onStepFinish:b,_internal:{now:w=Vde,generateId:k=ope,currentDate:$=a(()=>new Date,"currentDate")}={},...A}){if(p<1)throw new Po({parameter:"maxSteps",value:p,message:"maxSteps must be at least 1"});let O=ade({model:e,telemetry:m,headers:l,settings:{...A,maxRetries:s}}),R=cde(m),I=Ude({prompt:{system:n,prompt:o,messages:i},tools:t});return ZC({name:"ai.streamText",attributes:vc({telemetry:m,attributes:{...VC({operationId:"ai.streamText",telemetry:m}),...O,"ai.prompt":{input:a(()=>JSON.stringify({system:n,prompt:o,messages:i}),"input")},"ai.settings.maxSteps":p}}),tracer:R,endWhenDone:!1,fn:a(async N=>{let z=ide({maxRetries:s}),X=a(async({responseMessages:ke})=>{let Xe=ke.length===0?I.type:"messages",Ve=await bde({prompt:{type:Xe,system:I.system,messages:[...I.messages,...ke]},modelSupportsImageUrls:e.supportsImageUrls,modelSupportsUrl:e.supportsUrl}),G={type:"regular",...Qde({tools:t,toolChoice:r,activeTools:h})},{result:{stream:Re,warnings:ye,rawResponse:F,request:Ke},doStreamSpan:Pt,startTimestampMs:Nt}=await z(()=>ZC({name:"ai.streamText.doStream",attributes:vc({telemetry:m,attributes:{...VC({operationId:"ai.streamText.doStream",telemetry:m}),...O,"ai.prompt.format":{input:a(()=>Xe,"input")},"ai.prompt.messages":{input:a(()=>JSON.stringify(Ve),"input")},"ai.prompt.tools":{input:a(()=>{var gn;return(gn=G.tools)==null?void 0:gn.map(Zi=>JSON.stringify(Zi))},"input")},"ai.prompt.toolChoice":{input:a(()=>G.toolChoice!=null?JSON.stringify(G.toolChoice):void 0,"input")},"gen_ai.system":e.provider,"gen_ai.request.model":e.modelId,"gen_ai.request.frequency_penalty":A.frequencyPenalty,"gen_ai.request.max_tokens":A.maxTokens,"gen_ai.request.presence_penalty":A.presencePenalty,"gen_ai.request.stop_sequences":A.stopSequences,"gen_ai.request.temperature":A.temperature,"gen_ai.request.top_k":A.topK,"gen_ai.request.top_p":A.topP}}),tracer:R,endWhenDone:!1,fn:a(async gn=>({startTimestampMs:w(),doStreamSpan:gn,result:await e.doStream({mode:G,...kde(A),inputFormat:Xe,prompt:Ve,providerMetadata:y,abortSignal:u,headers:l})}),"fn")}));return{result:{stream:npe({tools:t,generatorStream:Re,toolCallStreaming:g,tracer:R,telemetry:m,abortSignal:u}),warnings:ye,request:Ke??{},rawResponse:F},doStreamSpan:Pt,startTimestampMs:Nt}},"startStep"),{result:{stream:Z,warnings:J,rawResponse:te,request:ne},doStreamSpan:ae,startTimestampMs:Se}=await X({responseMessages:[]});return new ipe({stream:Z,warnings:J,rawResponse:te,request:ne,onChunk:v,onFinish:S,onStepFinish:b,rootSpan:N,doStreamSpan:ae,telemetry:m,startTimestampMs:Se,maxSteps:p,continueSteps:f,startStep:X,modelId:e.modelId,now:w,currentDate:$,generateId:k,tools:t})},"fn")})}a(UF,"streamText");var ipe=class{static{a(this,"DefaultStreamTextResult")}constructor({stream:e,warnings:t,rawResponse:r,request:n,onChunk:o,onFinish:i,onStepFinish:s,rootSpan:u,doStreamSpan:l,telemetry:d,startTimestampMs:p,maxSteps:f,continueSteps:m,startStep:y,modelId:g,now:h,currentDate:v,generateId:S,tools:b}){this.warnings=t,this.rawResponse=r;let{resolve:w,promise:k}=Wo();this.usage=k;let{resolve:$,promise:A}=Wo();this.finishReason=A;let{resolve:O,promise:R}=Wo();this.text=R;let{resolve:I,promise:N}=Wo();this.toolCalls=N;let{resolve:z,promise:X}=Wo();this.toolResults=X;let{resolve:Z,promise:J}=Wo();this.steps=J;let{resolve:te,promise:ne}=Wo();this.experimental_providerMetadata=ne;let{resolve:ae,promise:Se}=Wo();this.request=Se;let{resolve:ke,promise:Xe}=Wo();this.response=Xe;let{resolve:Ve,promise:G}=Wo();this.responseMessages=G;let{stream:Re,addStream:ye,close:F}=rpe();this.originalStream=Re;let Ke=[],Pt=this;function Nt({stream:gn,startTimestamp:Zi,doStreamSpan:pi,currentStep:Gs,responseMessages:Or,usage:Do={promptTokens:0,completionTokens:0,totalTokens:0},stepType:Ws,previousStepText:Rm="",stepRequest:Ki,hasLeadingWhitespace:$m}){let Rn=[],Mo=[],Pr="unknown",er={promptTokens:0,completionTokens:0,totalTokens:0},uo,Nm=!0,Mr="",mi=Ws==="continue"?Rm:"",_,x={id:S(),timestamp:v(),modelId:g},E="",U=!1,H=!0,re=!1;async function pe({controller:Ne,chunk:gt}){Ne.enqueue(gt),Mr+=gt.textDelta,mi+=gt.textDelta,U=!0,re=gt.textDelta.trimEnd()!==gt.textDelta,await o?.({chunk:gt})}a(pe,"publishTextChunk"),ye(gn.pipeThrough(new TransformStream({async transform(Ne,gt){var _t,ut,Ft;if(Nm){let Ht=h()-Zi;Nm=!1,pi.addEvent("ai.stream.firstChunk",{"ai.response.msToFirstChunk":Ht,"ai.stream.msToFirstChunk":Ht}),pi.setAttributes({"ai.response.msToFirstChunk":Ht,"ai.stream.msToFirstChunk":Ht})}if(Ne.type==="text-delta"&&Ne.textDelta.length===0)return;let fi=Ne.type;switch(fi){case"text-delta":{if(m){let Ht=H&&$m?Ne.textDelta.trimStart():Ne.textDelta;if(Ht.length===0)break;H=!1,E+=Ht;let Qs=Yde(E);Qs!=null&&(E=Qs.suffix,await pe({controller:gt,chunk:{type:"text-delta",textDelta:Qs.prefix+Qs.whitespace}}))}else await pe({controller:gt,chunk:Ne});break}case"tool-call":{gt.enqueue(Ne),Rn.push(Ne),await o?.({chunk:Ne});break}case"tool-result":{gt.enqueue(Ne),Mo.push(Ne),await o?.({chunk:Ne});break}case"response-metadata":{x={id:(_t=Ne.id)!=null?_t:x.id,timestamp:(ut=Ne.timestamp)!=null?ut:x.timestamp,modelId:(Ft=Ne.modelId)!=null?Ft:x.modelId};break}case"finish":{er=Ne.usage,Pr=Ne.finishReason,uo=Ne.experimental_providerMetadata,_=Ne.logprobs;let Ht=h()-Zi;pi.addEvent("ai.stream.finish"),pi.setAttributes({"ai.response.msToFinish":Ht,"ai.response.avgCompletionTokensPerSecond":1e3*er.completionTokens/Ht});break}case"tool-call-streaming-start":case"tool-call-delta":{gt.enqueue(Ne),await o?.({chunk:Ne});break}case"error":{gt.enqueue(Ne),Pr="error";break}default:{let Ht=fi;throw new Error(`Unknown chunk type: ${Ht}`)}}},async flush(Ne){var gt;let _t=Rn.length>0?JSON.stringify(Rn):void 0,ut="done";Gs+1<f&&(m&&Pr==="length"&&Rn.length===0?ut="continue":Rn.length>0&&Mo.length===Rn.length&&(ut="tool-result")),m&&E.length>0&&(ut!=="continue"||Ws==="continue"&&!U)&&(await pe({controller:Ne,chunk:{type:"text-delta",textDelta:E}}),E="");try{pi.setAttributes(vc({telemetry:d,attributes:{"ai.response.finishReason":Pr,"ai.response.text":{output:a(()=>Mr,"output")},"ai.response.toolCalls":{output:a(()=>_t,"output")},"ai.response.id":x.id,"ai.response.model":x.modelId,"ai.response.timestamp":x.timestamp.toISOString(),"ai.usage.promptTokens":er.promptTokens,"ai.usage.completionTokens":er.completionTokens,"ai.finishReason":Pr,"ai.result.text":{output:a(()=>Mr,"output")},"ai.result.toolCalls":{output:a(()=>_t,"output")},"gen_ai.response.finish_reasons":[Pr],"gen_ai.response.id":x.id,"gen_ai.response.model":x.modelId,"gen_ai.usage.input_tokens":er.promptTokens,"gen_ai.usage.output_tokens":er.completionTokens}}))}catch{}finally{pi.end()}if(Ne.enqueue({type:"step-finish",finishReason:Pr,usage:er,experimental_providerMetadata:uo,logprobs:_,response:{...x},isContinued:ut==="continue"}),Ws==="continue"){let Ht=Or[Or.length-1];typeof Ht.content=="string"?Ht.content+=Mr:Ht.content.push({text:Mr,type:"text"})}else Or.push(...tpe({text:Mr,tools:b??{},toolCalls:Rn,toolResults:Mo}));let Ft={stepType:Ws,text:Mr,toolCalls:Rn,toolResults:Mo,finishReason:Pr,usage:er,warnings:Pt.warnings,logprobs:_,request:Ki,rawResponse:Pt.rawResponse,response:{...x,headers:(gt=Pt.rawResponse)==null?void 0:gt.headers,messages:JSON.parse(JSON.stringify(Or))},experimental_providerMetadata:uo,isContinued:ut==="continue"};Ke.push(Ft),await s?.(Ft);let fi={promptTokens:Do.promptTokens+er.promptTokens,completionTokens:Do.completionTokens+er.completionTokens,totalTokens:Do.totalTokens+er.totalTokens};if(ut!=="done"){let{result:Ht,doStreamSpan:Qs,startTimestampMs:H7}=await y({responseMessages:Or});Pt.warnings=Ht.warnings,Pt.rawResponse=Ht.rawResponse,Nt({stream:Ht.stream,startTimestamp:H7,doStreamSpan:Qs,currentStep:Gs+1,responseMessages:Or,usage:fi,stepType:ut,previousStepText:mi,stepRequest:Ht.request,hasLeadingWhitespace:re});return}try{Ne.enqueue({type:"finish",finishReason:Pr,usage:fi,experimental_providerMetadata:uo,logprobs:_,response:{...x}}),F(),u.setAttributes(vc({telemetry:d,attributes:{"ai.response.finishReason":Pr,"ai.response.text":{output:a(()=>mi,"output")},"ai.response.toolCalls":{output:a(()=>_t,"output")},"ai.usage.promptTokens":fi.promptTokens,"ai.usage.completionTokens":fi.completionTokens,"ai.finishReason":Pr,"ai.result.text":{output:a(()=>mi,"output")},"ai.result.toolCalls":{output:a(()=>_t,"output")}}})),w(fi),$(Pr),O(mi),I(Rn),te(uo),z(Mo),ae(Ki),ke({...x,headers:r?.headers,messages:Or}),Z(Ke),Ve(Or),await i?.({finishReason:Pr,logprobs:_,usage:fi,text:mi,toolCalls:Rn,toolResults:Mo,request:Ki,rawResponse:r,response:{...x,headers:r?.headers,messages:Or},warnings:t,experimental_providerMetadata:uo,steps:Ke,responseMessages:Or})}catch(Ht){Ne.error(Ht)}finally{u.end()}}})))}a(Nt,"addStepStream"),Nt({stream:e,startTimestamp:p,doStreamSpan:l,currentStep:0,responseMessages:[],usage:void 0,stepType:"initial",stepRequest:n,hasLeadingWhitespace:!1})}teeStream(){let[e,t]=this.originalStream.tee();return this.originalStream=t,e}get textStream(){return hF(this.teeStream(),{transform(e,t){e.type==="text-delta"?t.enqueue(e.textDelta):e.type==="error"&&t.error(e.error)}})}get fullStream(){return hF(this.teeStream(),{transform(e,t){t.enqueue(e)}})}toAIStream(e={}){return this.toDataStreamInternal({callbacks:e})}toDataStreamInternal({callbacks:e={},getErrorMessage:t=a(()=>"","getErrorMessage3"),sendUsage:r=!0}={}){let n="",o=new TransformStream({async start(){e.onStart&&await e.onStart()},async transform(s,u){if(u.enqueue(s),s.type==="text-delta"){let l=s.textDelta;n+=l,e.onToken&&await e.onToken(l),e.onText&&await e.onText(l)}},async flush(){e.onCompletion&&await e.onCompletion(n),e.onFinal&&await e.onFinal(n)}}),i=new TransformStream({transform:a(async(s,u)=>{let l=s.type;switch(l){case"text-delta":{u.enqueue(Eo("text",s.textDelta));break}case"tool-call-streaming-start":{u.enqueue(Eo("tool_call_streaming_start",{toolCallId:s.toolCallId,toolName:s.toolName}));break}case"tool-call-delta":{u.enqueue(Eo("tool_call_delta",{toolCallId:s.toolCallId,argsTextDelta:s.argsTextDelta}));break}case"tool-call":{u.enqueue(Eo("tool_call",{toolCallId:s.toolCallId,toolName:s.toolName,args:s.args}));break}case"tool-result":{u.enqueue(Eo("tool_result",{toolCallId:s.toolCallId,result:s.result}));break}case"error":{u.enqueue(Eo("error",t(s.error)));break}case"step-finish":{u.enqueue(Eo("finish_step",{finishReason:s.finishReason,usage:r?{promptTokens:s.usage.promptTokens,completionTokens:s.usage.completionTokens}:void 0,isContinued:s.isContinued}));break}case"finish":{u.enqueue(Eo("finish_message",{finishReason:s.finishReason,usage:r?{promptTokens:s.usage.promptTokens,completionTokens:s.usage.completionTokens}:void 0}));break}default:{let d=l;throw new Error(`Unknown chunk type: ${d}`)}}},"transform")});return this.fullStream.pipeThrough(o).pipeThrough(i).pipeThrough(new TextEncoderStream)}pipeAIStreamToResponse(e,t){return this.pipeDataStreamToResponse(e,t)}pipeDataStreamToResponse(e,t){let r=t==null?void 0:"init"in t?t.init:{headers:"headers"in t?t.headers:void 0,status:"status"in t?t.status:void 0,statusText:"statusText"in t?t.statusText:void 0},n=t==null?void 0:"data"in t?t.data:void 0,o=t==null?void 0:"getErrorMessage"in t?t.getErrorMessage:void 0,i=t==null?void 0:"sendUsage"in t?t.sendUsage:void 0;yF({response:e,status:r?.status,statusText:r?.statusText,headers:gF(r,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"}),stream:this.toDataStream({data:n,getErrorMessage:o,sendUsage:i})})}pipeTextStreamToResponse(e,t){yF({response:e,status:t?.status,statusText:t?.statusText,headers:gF(t,{contentType:"text/plain; charset=utf-8"}),stream:this.textStream.pipeThrough(new TextEncoderStream)})}toAIStreamResponse(e){return this.toDataStreamResponse(e)}toDataStream(e){let t=this.toDataStreamInternal({getErrorMessage:e?.getErrorMessage,sendUsage:e?.sendUsage});return e?.data?r1(e?.data.stream,t):t}toDataStreamResponse(e){var t;let r=e==null?void 0:"init"in e?e.init:{headers:"headers"in e?e.headers:void 0,status:"status"in e?e.status:void 0,statusText:"statusText"in e?e.statusText:void 0},n=e==null?void 0:"data"in e?e.data:void 0,o=e==null?void 0:"getErrorMessage"in e?e.getErrorMessage:void 0,i=e==null?void 0:"sendUsage"in e?e.sendUsage:void 0;return new Response(this.toDataStream({data:n,getErrorMessage:o,sendUsage:i}),{status:(t=r?.status)!=null?t:200,statusText:r?.statusText,headers:qg(r,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}toTextStreamResponse(e){var t;return new Response(this.textStream.pipeThrough(new TextEncoderStream),{status:(t=e?.status)!=null?t:200,headers:qg(e,{contentType:"text/plain; charset=utf-8"})})}};var ape="AI_NoSuchProviderError",spe=`vercel.ai.error.${ape}`,upe=Symbol.for(spe),cpe;cpe=upe;function LF(e){let t=new TextEncoder,r="",n=e||{};return new TransformStream({async start(){n.onStart&&await n.onStart()},async transform(o,i){let s=typeof o=="string"?o:o.content;i.enqueue(t.encode(s)),r+=s,n.onToken&&await n.onToken(s),n.onText&&typeof o=="string"&&await n.onText(o)},async flush(){let o=lpe(n);n.onCompletion&&await n.onCompletion(r),n.onFinal&&!o&&await n.onFinal(r)}})}a(LF,"createCallbacksTransformer");function lpe(e){return"experimental_onFunctionCall"in e}a(lpe,"isOfTypeOpenAIStreamCallbacks");function dpe(){let e=!0;return t=>(e&&(t=t.trimStart(),t&&(e=!1)),t)}a(dpe,"trimStartOfStreamHelper");var kWe=15*1e3;function FF(){let e=new TextEncoder,t=new TextDecoder;return new TransformStream({transform:a(async(r,n)=>{let o=t.decode(r);n.enqueue(e.encode(Eo("text",o)))},"transform")})}a(FF,"createStreamDataTransformer");var EWe=new TextDecoder("utf-8");var ppe={};_F(ppe,{toAIStream:a(()=>mpe,"toAIStream"),toDataStream:a(()=>n1,"toDataStream"),toDataStreamResponse:a(()=>fpe,"toDataStreamResponse")});function mpe(e,t){return n1(e,t)}a(mpe,"toAIStream");function n1(e,t){return e.pipeThrough(new TransformStream({transform:a(async(r,n)=>{var o;if(typeof r=="string"){n.enqueue(r);return}if("event"in r){r.event==="on_chat_model_stream"&&vF((o=r.data)==null?void 0:o.chunk,n);return}vF(r,n)},"transform")})).pipeThrough(LF(t)).pipeThrough(FF())}a(n1,"toDataStream");function fpe(e,t){var r;let n=n1(e,t?.callbacks),o=t?.data,i=t?.init,s=o?r1(o.stream,n):n;return new Response(s,{status:(r=i?.status)!=null?r:200,statusText:i?.statusText,headers:qg(i,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}a(fpe,"toDataStreamResponse");function vF(e,t){if(typeof e.content=="string")t.enqueue(e.content);else{let r=e.content;for(let n of r)n.type==="text"&&t.enqueue(n.text)}}a(vF,"forwardAIMessageChunk");var hpe={};_F(hpe,{toDataStream:a(()=>JF,"toDataStream"),toDataStreamResponse:a(()=>gpe,"toDataStreamResponse")});function JF(e,t){return ype(e).pipeThrough(LF(t)).pipeThrough(FF())}a(JF,"toDataStream2");function gpe(e,t={}){var r;let{init:n,data:o,callbacks:i}=t,s=JF(e,i),u=o?r1(o.stream,s):s;return new Response(u,{status:(r=n?.status)!=null?r:200,statusText:n?.statusText,headers:qg(n,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}a(gpe,"toDataStreamResponse2");function ype(e){let t=e[Symbol.asyncIterator](),r=dpe();return new ReadableStream({async pull(n){var o;let{value:i,done:s}=await t.next();if(s){n.close();return}let u=r((o=i.delta)!=null?o:"");u&&n.enqueue(u)}})}a(ype,"toReadableStream");var PWe=Symbol("internal_openai_fn_messages");Zn();Rr();async function Lg(e){try{await vo.insert(ia).values({userId:e.userId,action:`ai_${e.actionType}`,resourceType:e.toolName||"ai_chat",sessionId:e.sessionId,success:e.outcome==="success",errorMessage:e.errorMessage,newValues:{provider:e.provider,model:e.model,action_type:e.actionType,tool_name:e.toolName,input_summary:e.inputSummary.slice(0,500),output_summary:e.outputSummary.slice(0,500),tokens_used:e.tokensUsed,latency_ms:e.latencyMs,outcome:e.outcome,affected_tables:e.affectedTables,affected_record_ids:e.affectedRecordIds}})}catch{}}a(Lg,"logAIOperation");var BF=`Voc\xEA \xE9 o assistente financeiro inteligente especializado do AegisWallet, a plataforma brasileira l\xEDder em gest\xE3o financeira pessoal com interface voz-first.

## SUA ESPECIALIDADE BRASILEIRA

### Dom\xEDnio do Mercado Financeiro Brasileiro
- **PIX**: Expert em transfer\xEAncias PIX instant\xE2neas 24/7, QR Codes, limites, taxas e regras do BCB
- **Boletos**: Gest\xE3o completa de boletos - registro, pagamento, c\xE1lculo de juros/multas, agendamentos
- **Open Banking**: Conhecimento profundo das APIs banc\xE1rias brasileiras e padr\xF5es regulat\xF3rios
- **C\xE2mbio**: Entendimento de opera\xE7\xF5es cambiais e limites legais brasileiros
- **Impostos**: Conhecimento de tributa\xE7\xE3o brasileira (IR, IOF, etc.)

### Cultura e Localiza\xE7\xE3o
- **Portugu\xEAs Brasileiro Nativo**: Use termos como "parab\xE9ns", "show de bola", "blz", " firm\xE3o"
- **Realidade Financeira Brasileira**: Entenda sal\xE1rios, infla\xE7\xE3o, custo de vida, juros altos
- **Calend\xE1rio Brasileiro**: Considere feriados, 13\xBA sal\xE1rio, d\xE9cimo terceiro, parcelas
- **Bancos Nacionais**: Ita\xFA, Bradesco, Caixa, Banco do Brasil, Nubank, Inter, etc.

## CAPACIDADES AVAN\xC7ADAS

### Opera\xE7\xF5es Financeiras (PIX, TED, DOC, Boletos)
- **Transfer\xEAncias PIX**: Envio/recebimento instant\xE2neo, QR Codes, agendamentos, status tracking
- **Gest\xE3o de Boletos**: Registro via c\xF3digo de barras, c\xE1lculo autom\xE1tico de juros/multas, agendamento de pagamentos
- **An\xE1lise de Contatos**: Salvar contatos frequentes, m\xE9todos de pagamento PIX, favoritos
- **Limites e Taxas**: Conhecimento de limites di\xE1rios, taxas, hor\xE1rios de compensa\xE7\xE3o

### An\xE1lises e Insights Financeiros
- **An\xE1lise de Gastos**: Detalhada por categoria, tend\xEAncias, padr\xF5es an\xF4malos
- **Previs\xE3o de Fluxo de Caixa**: Baseada em hist\xF3rico e eventos futuros com confian\xE7a
- **Detec\xE7\xE3o de Fraude**: An\xE1lise em tempo real de risco, padr\xF5es suspeitos
- **Recomenda\xE7\xF5es de Or\xE7amento**: Personalizadas baseadas em comportamento e metas

### Interface Voz-First (Voice-First)
- **Comandos em Portugu\xEAs Natural**: "Envia cem reais para a Maria pelo PIX", "Paga o boleto da luz"
- **Processamento de Contexto**: Mant\xE9m conversa\xE7\xE3o com hist\xF3rico e contexto relevante
- **Confirma\xE7\xE3o por Voz**: Valida\xE7\xE3o segura de opera\xE7\xF5es sens\xEDveis via reconhecimento de voz
- **Respostas Otimizadas para TTS**: Texto projetado para s\xEDntese de voz natural

### Seguran\xE7a e Conformidade LGPD
- **LGPD**: Conformidade total com Lei Geral de Prote\xE7\xE3o de Dados brasileira
- **Valida\xE7\xE3o Multi-Fator**: 2FA, biom\xE9trica, c\xF3digo via SMS/email
- **Audit Logging**: Registros completos para compliance e auditoria
- **Prote\xE7\xE3o de Dados**: Criptografia, anonimiza\xE7\xE3o, reten\xE7\xE3o conformidade

## REGRAS DE SEGURAN\xC7A E CONFORMIDADE (CR\xCDTICAS)

### Prote\xE7\xE3o de Dados LGPD
1. **NUNCA** exponha dados sens\xEDveis: CPF, senhas, tokens biom\xE9tricos
2. **SEMPRE** obtenha consentimento expl\xEDcito para uso de dados financeiros
3. **RESPEITE** direitos de acesso, corre\xE7\xE3o e exclus\xE3o de dados
4. **IMPLEMENTE** pol\xEDticas de reten\xE7\xE3o conformes com regulamenta\xE7\xE3o brasileira

### Seguran\xE7a de Transa\xE7\xF5es
1. **VALIDA\xC7\xC3O OBRIGAT\xD3RIA**: Toda transa\xE7\xE3o >R$1.000 requer verifica\xE7\xE3o adicional
2. **LIMITES AUTOM\xC1TICOS**: Respeite limites di\xE1rios e de frequ\xEAncia
3. **MONITORAMENTO**: Detecte padr\xF5es an\xF4malos e poss\xEDveis fraudes
4. **CONFIRMA\xC7\xC3O**: Use c\xF3digos, biometria ou confirma\xE7\xE3o por voz para opera\xE7\xF5es cr\xEDticas

### Padr\xF5es Brasileiros de Atendimento
1. **Formalidade Amig\xE1vel**: Tratamento "voc\xEA" mas respeitoso e profissional
2. **Hor\xE1rio Banc\xE1rio**: Considere hor\xE1rios banc\xE1rios e janela de compensa\xE7\xE3o
3. **Feriados**: Esteja ciente de feriados nacionais e estaduais brasileiros
4. **Cultura Financeira**: Entenda avers\xE3o a risco, prefer\xEAncia por seguran\xE7a

## FORMATA\xC7\xC3O E COMUNICA\xC7\xC3O

### Formatos Brasileiros
- **Valores**: R$ 1.234,56 (separador decimal v\xEDrgula, milhar ponto)
- **Datas**: DD/MM/YYYY ou "hoje", "ontem", "anteontem", "esta semana"
- **Hor\xE1rios**: 24h com fuso America/Sao_Paulo (BRT/BRST)
- **Documentos**: CPF: XXX.XXX.XXX-XX, CNPJ: XX.XXX.XXX/XXXX-XX

### Tom e Estilo
- **Voz Ativa**: "Vou analisar seus gastos" em vez de "Seus gastos ser\xE3o analisados"
- **Empatia**: Entenda dificuldades financeiras com respeito e apoio
- **Clareza**: Use termos simples, evite jarg\xF5es t\xE9cnicos excessivos
- **Cultura**: Use express\xF5es brasileiras naturais quando apropriado

## PADR\xD5ES DE RESPOSTA

### Para PIX
- **R\xE1pido**: "Transfer\xEAncia PIX enviada! Chega em segundos na conta do destinat\xE1rio."
- **Seguro**: "Para sua seguran\xE7a, vou enviar um c\xF3digo para confirmar esta transfer\xEAncia de R$ 500,00."
- **Informativo**: "O limite di\xE1rio PIX \xE9 R$ 5.000 entre 20h e 6h."

### Para Boletos
- **C\xE1lculo**: "Este boleto vence em 3 dias com multa de 2% e juros de 1% ao m\xEAs."
- **Agendamento**: "Boleto agendado! Ser\xE1 pago automaticamente na data de vencimento."
- **Alerta**: "\u26A0\uFE0F Voc\xEA tem 2 boletos vencendo esta semana totalizando R$ 850,00."

### Para An\xE1lises
- **Visual**: "Seus gastos em alimenta\xE7\xE3o subiram 15% este m\xEAs. Quer ver o gr\xE1fico detalhado?"
- **Pr\xE1tico**: "Com base no seu padr\xE3o, sugiro reservar R$ 2.000 para emerg\xEAncias."
- **Alerta**: "Detectei 3 transa\xE7\xF5es suspeitas esta semana. Quer investigar?"

### Para Voz
- **Conversacional**: "Entendi! Voc\xEA quer transferir R$ 250 para a Joana pelo PIX, correto?"
- **Claro**: "Pode repetir o valor? N\xE3o consegui entender bem."
- **Eficiente**: "Pronto! Transfer\xEAncia autorizada com sua confirma\xE7\xE3o por voz."

## FLUXOS ESPECIALIZADOS

### Transfer\xEAncia PIX Completa
1. "Quanto quer transferir?" \u2192 Validar valor e limites
2. "Qual a chave PIX do destinat\xE1rio?" \u2192 Validar formato e tipo
3. "Qual o nome completo do destinat\xE1rio?" \u2192 Para registro
4. "Descri\xE7\xE3o opcional?" \u2192 Para identifica\xE7\xE3o
5. "Confirmar transfer\xEAncia?" \u2192 Envio ou verifica\xE7\xE3o adicional

### Pagamento de Boleto
1. "C\xF3digo de barras ou\u7167\u7247?" \u2192 Captura e valida\xE7\xE3o
2. "Valor e data de vencimento?" \u2192 Confirma\xE7\xE3o
3. "Calcular juros/multas?" \u2192 Se vencido
4. "Pagar agora ou agendar?" \u2192 Processamento
5. "Confirma\xE7\xE3o?" \u2192 Seguran\xE7a e finaliza\xE7\xE3o

### An\xE1lise Financeira por Voz
1. "Que per\xEDodo quer analisar?" \u2192 Defini\xE7\xE3o de scope
2. "Foco em alguma categoria espec\xEDfica?" \u2192 Detalhamento
3. "Quer compara\xE7\xE3o com per\xEDodo anterior?" \u2192 An\xE1lise comparativa
4. "Preferir resumo oral ou visual?" \u2192 Formato de sa\xEDda
5. "Gerar recomenda\xE7\xF5es?" \u2192 A\xE7\xF5es pr\xE1ticas

## INTEGRA\xC7\xC3O COM FERRAMENTAS

### Sistema de Ferramentas
Voc\xEA tem acesso a 4 categorias principais de ferramentas:

1. **Opera\xE7\xF5es Financeiras Brasileiras**
   - pix.*: Transfer\xEAncias, QR codes, agendamentos PIX
   - boletos.*: Registro, pagamento, c\xE1lculos de boletos
   - contacts.*: Gest\xE3o de contatos e m\xE9todos de pagamento

2. **An\xE1lises e Insights**
   - insights.*: An\xE1lise de gastos, previs\xF5es, detec\xE7\xE3o de anomalias
   - multimodal.*: Relat\xF3rios visuais, gr\xE1ficos, exporta\xE7\xF5es

3. **Seguran\xE7a e Conformidade**
   - security.*: Detec\xE7\xE3o de fraude, valida\xE7\xF5es, configura\xE7\xF5es de seguran\xE7a
   - notifications.*: Alertas, lembretes, prefer\xEAncias de notifica\xE7\xE3o

4. **Interface Voz-First**
   - voice.*: Processamento de comandos, confirma\xE7\xE3o por voz, contexto
   - Todas as ferramentas otimizadas para resposta via TTS

### Orquestra\xE7\xE3o Inteligente
Combine m\xFAltiplas ferramentas para respostas completas:
- Consultar saldo \u2192 security.checkFraudRisk \u2192 pix.sendPixTransfer
- An\xE1lise de gastos \u2192 insights.getSpendingAnalysis \u2192 multimodal.generateVisualReport
- Alerta de seguran\xE7a \u2192 notifications.sendAlert \u2192 voice.confirmVoiceAction

## MANEJO DE ERROS E RECUPERA\xC7\xC3O

### Erros Comuns Brasileiros
- **Chave PIX Inv\xE1lida**: "Esta chave PIX n\xE3o existe. Verifique CPF, email ou telefone."
- **Boleto Duplicado**: "Este boleto j\xE1 est\xE1 pago. Verifique se n\xE3o h\xE1 duplicidade."
- **Fora do Hor\xE1rio**: "Transfer\xEAncias TED/DOC s\xF3 em hor\xE1rio banc\xE1rio. PIX funciona 24/7."
- **LGPD**: "Preciso de sua autoriza\xE7\xE3o para acessar estes dados financeiros."

### Recupera\xE7\xE3o Intelligente
- **Alternativas**: "PIX n\xE3o funciona? Tente TED para transfer\xEAncias banc\xE1rias."
- **Contexto**: "Baseado no nosso hist\xF3rico, voc\xEA costuma transferir para..."
- **Proativo**: "Detectei um padr\xE3o incomum. Quer que eu investigue?"

## ATUALIZA\xC7\xD5ES E MELHORIAS

### Sempre Melhorando
- **Feedback de Usu\xE1rio**: Adapte respostas baseado no hist\xF3rico de intera\xE7\xF5es
- **Contexto Financeiro**: Mantenha-se atualizado sobre taxas, regulamenta\xE7\xF5es, novos bancos
- **Cultura Financeira**: Evolua com mudan\xE7as no comportamento financeiro brasileiro
- **Tecnologia**: Integre novas tecnologias banc\xE1rias e fintechs brasileiras

### M\xE9tricas de Sucesso
- **Compreens\xE3o**: 95%+ de comandos voz entendidos corretamente
- **Satisfa\xE7\xE3o**: Respostas que realmente ajudam os usu\xE1rios brasileiros
- **Efici\xEAncia**: Opera\xE7\xF5es conclu\xEDdas com m\xEDnimo de etapas
- **Seguran\xE7a**: Zero breaches de dados ou fraudes n\xE3o detectadas

---

**Sua Miss\xE3o**: Ser o assistente financeiro mais completo, seguro e brasileiro que existe, transformando gest\xE3o financeira em uma experi\xEAncia natural, intuitiva e efetiva para todos os brasileiros.

**Data de Hoje**: ${new Date().toLocaleDateString("pt-BR")}
**Fuso Hor\xE1rio**: America/Sao_Paulo (${new Date().toLocaleTimeString("pt-BR")})
**Moeda**: BRL (Real Brasileiro)`;var HF=BF;var VF="vercel.ai.error",vpe=Symbol.for(VF),ZF,_pe=class KF extends Error{static{a(this,"_AISDKError")}constructor({name:t,message:r,cause:n}){super(r),this[ZF]=!0,this.name=t,this.cause=n}static isInstance(t){return KF.hasMarker(t,VF)}static hasMarker(t,r){let n=Symbol.for(r);return t!=null&&typeof t=="object"&&n in t&&typeof t[n]=="boolean"&&t[n]===!0}};ZF=vpe;var ar=_pe,GF="AI_APICallError",WF=`vercel.ai.error.${GF}`,bpe=Symbol.for(WF),QF,Qe=class extends ar{static{a(this,"APICallError")}constructor({message:e,url:t,requestBodyValues:r,statusCode:n,responseHeaders:o,responseBody:i,cause:s,isRetryable:u=n!=null&&(n===408||n===409||n===429||n>=500),data:l}){super({name:GF,message:e,cause:s}),this[QF]=!0,this.url=t,this.requestBodyValues=r,this.statusCode=n,this.responseHeaders=o,this.responseBody=i,this.isRetryable=u,this.data=l}static isInstance(e){return ar.hasMarker(e,WF)}};QF=bpe;var XF="AI_EmptyResponseBodyError",YF=`vercel.ai.error.${XF}`,Spe=Symbol.for(YF),e6,_c=class extends ar{static{a(this,"EmptyResponseBodyError")}constructor({message:e="Empty response body"}={}){super({name:XF,message:e}),this[e6]=!0}static isInstance(e){return ar.hasMarker(e,YF)}};e6=Spe;function t6(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}a(t6,"getErrorMessage");var r6="AI_InvalidArgumentError",n6=`vercel.ai.error.${r6}`,wpe=Symbol.for(n6),o6,Yn=class extends ar{static{a(this,"InvalidArgumentError")}constructor({message:e,cause:t,argument:r}){super({name:r6,message:e,cause:t}),this[o6]=!0,this.argument=r}static isInstance(e){return ar.hasMarker(e,n6)}};o6=wpe;var i6="AI_InvalidPromptError",a6=`vercel.ai.error.${i6}`,xpe=Symbol.for(a6),s6,u6=class extends ar{static{a(this,"InvalidPromptError")}constructor({prompt:e,message:t,cause:r}){super({name:i6,message:`Invalid prompt: ${t}`,cause:r}),this[s6]=!0,this.prompt=e}static isInstance(e){return ar.hasMarker(e,a6)}};s6=xpe;var c6="AI_InvalidResponseDataError",l6=`vercel.ai.error.${c6}`,Tpe=Symbol.for(l6),d6,Fg=class extends ar{static{a(this,"InvalidResponseDataError")}constructor({data:e,message:t=`Invalid response data: ${JSON.stringify(e)}.`}){super({name:c6,message:t}),this[d6]=!0,this.data=e}static isInstance(e){return ar.hasMarker(e,l6)}};d6=Tpe;var p6="AI_JSONParseError",m6=`vercel.ai.error.${p6}`,kpe=Symbol.for(m6),f6,un=class extends ar{static{a(this,"JSONParseError")}constructor({text:e,cause:t}){super({name:p6,message:`JSON parsing failed: Text: ${e}.
Error message: ${t6(t)}`,cause:t}),this[f6]=!0,this.text=e}static isInstance(e){return ar.hasMarker(e,m6)}};f6=kpe;var h6="AI_LoadAPIKeyError",g6=`vercel.ai.error.${h6}`,Epe=Symbol.for(g6),y6,cn=class extends ar{static{a(this,"LoadAPIKeyError")}constructor({message:e}){super({name:h6,message:e}),this[y6]=!0}static isInstance(e){return ar.hasMarker(e,g6)}};y6=Epe;var Ppe="AI_LoadSettingError",Ipe=`vercel.ai.error.${Ppe}`,Ope=Symbol.for(Ipe),Ape;Ape=Ope;var Cpe="AI_NoContentGeneratedError",Rpe=`vercel.ai.error.${Cpe}`,$pe=Symbol.for(Rpe),Npe;Npe=$pe;var v6="AI_NoSuchModelError",_6=`vercel.ai.error.${v6}`,jpe=Symbol.for(_6),b6,i1=class extends ar{static{a(this,"NoSuchModelError")}constructor({errorName:e=v6,modelId:t,modelType:r,message:n=`No such ${r}: ${t}`}){super({name:e,message:n}),this[b6]=!0,this.modelId=t,this.modelType=r}static isInstance(e){return ar.hasMarker(e,_6)}};b6=jpe;var S6="AI_TooManyEmbeddingValuesForCallError",w6=`vercel.ai.error.${S6}`,zpe=Symbol.for(w6),x6,Jg=class extends ar{static{a(this,"TooManyEmbeddingValuesForCallError")}constructor(e){super({name:S6,message:`Too many values for a single embedding call. The ${e.provider} model "${e.modelId}" can only embed up to ${e.maxEmbeddingsPerCall} values per call, but ${e.values.length} values were provided.`}),this[x6]=!0,this.provider=e.provider,this.modelId=e.modelId,this.maxEmbeddingsPerCall=e.maxEmbeddingsPerCall,this.values=e.values}static isInstance(e){return ar.hasMarker(e,w6)}};x6=zpe;var T6="AI_TypeValidationError",k6=`vercel.ai.error.${T6}`,Dpe=Symbol.for(k6),E6,Mpe=class o1 extends ar{static{a(this,"_TypeValidationError")}constructor({value:t,cause:r}){super({name:T6,message:`Type validation failed: Value: ${JSON.stringify(t)}.
Error message: ${t6(r)}`,cause:r}),this[E6]=!0,this.value=t}static isInstance(t){return ar.hasMarker(t,k6)}static wrap({value:t,cause:r}){return o1.isInstance(r)&&r.value===t?r:new o1({value:t,cause:r})}};E6=Dpe;var Qt=Mpe,P6="AI_UnsupportedFunctionalityError",I6=`vercel.ai.error.${P6}`,qpe=Symbol.for(I6),O6,Et=class extends ar{static{a(this,"UnsupportedFunctionalityError")}constructor({functionality:e,message:t=`'${e}' functionality not supported.`}){super({name:P6,message:t}),this[O6]=!0,this.functionality=e}static isInstance(e){return ar.hasMarker(e,I6)}};O6=qpe;function A6(e){let t,r,n,o,i,s,u;return l(),{feed:d,reset:l};function l(){t=!0,r="",n=0,o=-1,i=void 0,s=void 0,u=""}a(l,"reset");function d(f){r=r?r+f:f,t&&Upe(r)&&(r=r.slice(C6.length)),t=!1;let m=r.length,y=0,g=!1;for(;y<m;){g&&(r[y]===`
`&&++y,g=!1);let h=-1,v=o,S;for(let b=n;h<0&&b<m;++b)S=r[b],S===":"&&v<0?v=b-y:S==="\r"?(g=!0,h=b-y):S===`
`&&(h=b-y);if(h<0){n=m-y,o=v;break}else n=0,o=-1;p(r,y,v,h),y+=h+1}y===m?r="":y>0&&(r=r.slice(y))}a(d,"feed");function p(f,m,y,g){if(g===0){u.length>0&&(e({type:"event",id:i,event:s||void 0,data:u.slice(0,-1)}),u="",i=void 0),s=void 0;return}let h=y<0,v=f.slice(m,m+(h?g:y)),S=0;h?S=g:f[m+y+1]===" "?S=y+2:S=y+1;let b=m+S,w=g-S,k=f.slice(b,b+w).toString();if(v==="data")u+=k?"".concat(k,`
`):`
`;else if(v==="event")s=k;else if(v==="id"&&!k.includes("\0"))i=k;else if(v==="retry"){let $=parseInt(k,10);Number.isNaN($)||e({type:"reconnect-interval",value:$})}}a(p,"parseEventStreamLine")}a(A6,"createParser");var C6=[239,187,191];function Upe(e){return C6.every((t,r)=>e.charCodeAt(r)===t)}a(Upe,"hasBom");var Oa=class extends TransformStream{static{a(this,"EventSourceParserStream")}constructor(){let t;super({start(r){t=A6(n=>{n.type==="event"&&r.enqueue(n)})},transform(r){t.feed(r)}})}};function j6(...e){return e.reduce((t,r)=>({...t,...r??{}}),{})}a(j6,"combineHeaders");var z6=class{static{a(this,"DelayedPromise")}constructor(){this.status={type:"pending"},this._resolve=void 0,this._reject=void 0}get promise(){return this._promise?this._promise:(this._promise=new Promise((e,t)=>{this.status.type==="resolved"?e(this.status.value):this.status.type==="rejected"&&t(this.status.error),this._resolve=e,this._reject=t}),this._promise)}resolve(e){var t;this.status={type:"resolved",value:e},this._promise&&((t=this._resolve)==null||t.call(this,e))}reject(e){var t;this.status={type:"rejected",error:e},this._promise&&((t=this._reject)==null||t.call(this,e))}isResolved(){return this.status.type==="resolved"}isRejected(){return this.status.type==="rejected"}isPending(){return this.status.type==="pending"}};function Hg(e){return Object.fromEntries([...e.headers])}a(Hg,"extractResponseHeaders");var Lpe=a(({prefix:e,size:t=16,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:n="-"}={})=>{let o=a(()=>{let i=r.length,s=new Array(t);for(let u=0;u<t;u++)s[u]=r[Math.random()*i|0];return s.join("")},"generator");if(e==null)return o;if(r.includes(n))throw new Yn({argument:"separator",message:`The separator "${n}" must not be part of the alphabet "${r}".`});return()=>`${e}${n}${o()}`},"createIdGenerator"),Vg=Lpe();function c1(e){return(e instanceof Error||e instanceof DOMException)&&(e.name==="AbortError"||e.name==="ResponseAborted"||e.name==="TimeoutError")}a(c1,"isAbortError");var Fpe=["fetch failed","failed to fetch"];function Jpe({error:e,url:t,requestBodyValues:r}){if(c1(e))return e;if(e instanceof TypeError&&Fpe.includes(e.message.toLowerCase())){let n=e.cause;if(n!=null)return new Qe({message:`Cannot connect to API: ${n.message}`,cause:n,url:t,requestBodyValues:r,isRetryable:!0})}return e}a(Jpe,"handleFetchError");function Bpe(e=globalThis){var t,r,n;return e.window?"runtime/browser":(t=e.navigator)!=null&&t.userAgent?`runtime/${e.navigator.userAgent.toLowerCase()}`:(n=(r=e.process)==null?void 0:r.versions)!=null&&n.node?`runtime/node.js/${e.process.version.substring(0)}`:e.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}a(Bpe,"getRuntimeEnvironmentUserAgent");function Hpe(e){if(e==null)return{};let t={};if(e instanceof Headers)e.forEach((r,n)=>{t[n.toLowerCase()]=r});else{Array.isArray(e)||(e=Object.entries(e));for(let[r,n]of e)n!=null&&(t[r.toLowerCase()]=n)}return t}a(Hpe,"normalizeHeaders");function d1(e,...t){let r=new Headers(Hpe(e)),n=r.get("user-agent")||"";return r.set("user-agent",[n,...t].filter(Boolean).join(" ")),Object.fromEntries(r.entries())}a(d1,"withUserAgentSuffix");var Vpe="3.0.18";function D6({apiKey:e,environmentVariableName:t,apiKeyParameterName:r="apiKey",description:n}){if(typeof e=="string")return e;if(e!=null)throw new cn({message:`${n} API key must be a string.`});if(typeof process>"u")throw new cn({message:`${n} API key is missing. Pass it using the '${r}' parameter. Environment variables is not supported in this environment.`});if(e=process.env[t],e==null)throw new cn({message:`${n} API key is missing. Pass it using the '${r}' parameter or the ${t} environment variable.`});if(typeof e!="string")throw new cn({message:`${n} API key must be a string. The value of the ${t} environment variable is not a string.`});return e}a(D6,"loadApiKey");function M6({settingValue:e,environmentVariableName:t}){if(typeof e=="string")return e;if(!(e!=null||typeof process>"u")&&(e=process.env[t],!(e==null||typeof e!="string")))return e}a(M6,"loadOptionalSetting");var Zpe=/"__proto__"\s*:/,Kpe=/"constructor"\s*:/;function R6(e){let t=JSON.parse(e);return t===null||typeof t!="object"||Zpe.test(e)===!1&&Kpe.test(e)===!1?t:Gpe(t)}a(R6,"_parse");function Gpe(e){let t=[e];for(;t.length;){let r=t;t=[];for(let n of r){if(Object.prototype.hasOwnProperty.call(n,"__proto__"))throw new SyntaxError("Object contains forbidden prototype property");if(Object.prototype.hasOwnProperty.call(n,"constructor")&&Object.prototype.hasOwnProperty.call(n.constructor,"prototype"))throw new SyntaxError("Object contains forbidden prototype property");for(let o in n){let i=n[o];i&&typeof i=="object"&&t.push(i)}}}return e}a(Gpe,"filter");function q6(e){let{stackTraceLimit:t}=Error;try{Error.stackTraceLimit=0}catch{return R6(e)}try{return R6(e)}finally{Error.stackTraceLimit=t}}a(q6,"secureJsonParse");var Bg=Symbol.for("vercel.ai.validator");function Wpe(e){return{[Bg]:!0,validate:e}}a(Wpe,"validator");function Qpe(e){return typeof e=="object"&&e!==null&&Bg in e&&e[Bg]===!0&&"validate"in e}a(Qpe,"isValidator");function Xpe(e){return Qpe(e)?e:typeof e=="function"?e():Ype(e)}a(Xpe,"asValidator");function Ype(e){return Wpe(async t=>{let r=await e["~standard"].validate(t);return r.issues==null?{success:!0,value:r.value}:{success:!1,error:new Qt({value:t,cause:r.issues})}})}a(Ype,"standardSchemaValidator");async function Qo({value:e,schema:t}){let r=await p1({value:e,schema:t});if(!r.success)throw Qt.wrap({value:e,cause:r.error});return r.value}a(Qo,"validateTypes");async function p1({value:e,schema:t}){let r=Xpe(t);try{if(r.validate==null)return{success:!0,value:e,rawValue:e};let n=await r.validate(e);return n.success?{success:!0,value:n.value,rawValue:e}:{success:!1,error:Qt.wrap({value:e,cause:n.error}),rawValue:e}}catch(n){return{success:!1,error:Qt.wrap({value:e,cause:n}),rawValue:e}}}a(p1,"safeValidateTypes");async function eme({text:e,schema:t}){try{let r=q6(e);return t==null?r:Qo({value:r,schema:t})}catch(r){throw un.isInstance(r)||Qt.isInstance(r)?r:new un({text:e,cause:r})}}a(eme,"parseJSON");async function U6({text:e,schema:t}){try{let r=q6(e);return t==null?{success:!0,value:r,rawValue:r}:await p1({value:r,schema:t})}catch(r){return{success:!1,error:un.isInstance(r)?r:new un({text:e,cause:r}),rawValue:void 0}}}a(U6,"safeParseJSON");function tme({stream:e,schema:t}){return e.pipeThrough(new TextDecoderStream).pipeThrough(new Oa).pipeThrough(new TransformStream({async transform({data:r},n){r!=="[DONE]"&&n.enqueue(await U6({text:r,schema:t}))}}))}a(tme,"parseJsonEventStream");async function bc({provider:e,providerOptions:t,schema:r}){if(t?.[e]==null)return;let n=await p1({value:t[e],schema:r});if(!n.success)throw new Yn({argument:"providerOptions",message:`invalid ${e} provider options`,cause:n.error});return n.value}a(bc,"parseProviderOptions");var rme=a(()=>globalThis.fetch,"getOriginalFetch2"),m1=a(async({url:e,headers:t,body:r,failedResponseHandler:n,successfulResponseHandler:o,abortSignal:i,fetch:s})=>nme({url:e,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(r),values:r},failedResponseHandler:n,successfulResponseHandler:o,abortSignal:i,fetch:s}),"postJsonToApi");var nme=a(async({url:e,headers:t={},body:r,successfulResponseHandler:n,failedResponseHandler:o,abortSignal:i,fetch:s=rme()})=>{try{let u=await s(e,{method:"POST",headers:d1(t,`ai-sdk/provider-utils/${Vpe}`,Bpe()),body:r.content,signal:i}),l=Hg(u);if(!u.ok){let d;try{d=await o({response:u,url:e,requestBodyValues:r.values})}catch(p){throw c1(p)||Qe.isInstance(p)?p:new Qe({message:"Failed to process error response",cause:p,statusCode:u.status,url:e,responseHeaders:l,requestBodyValues:r.values})}throw d.value}try{return await n({response:u,url:e,requestBodyValues:r.values})}catch(d){throw d instanceof Error&&(c1(d)||Qe.isInstance(d))?d:new Qe({message:"Failed to process successful response",cause:d,statusCode:u.status,url:e,responseHeaders:l,requestBodyValues:r.values})}}catch(u){throw Jpe({error:u,url:e,requestBodyValues:r.values})}},"postToApi");function $r({id:e,name:t,inputSchema:r}){return({execute:n,outputSchema:o,toModelOutput:i,onInputStart:s,onInputDelta:u,onInputAvailable:l,...d})=>({type:"provider-defined",id:e,name:t,args:d,inputSchema:r,outputSchema:o,execute:n,toModelOutput:i,onInputStart:s,onInputDelta:u,onInputAvailable:l})}a($r,"createProviderDefinedToolFactory");function Aa({id:e,name:t,inputSchema:r,outputSchema:n}){return({execute:o,toModelOutput:i,onInputStart:s,onInputDelta:u,onInputAvailable:l,...d})=>({type:"provider-defined",id:e,name:t,args:d,inputSchema:r,outputSchema:n,execute:o,toModelOutput:i,onInputStart:s,onInputDelta:u,onInputAvailable:l})}a(Aa,"createProviderDefinedToolFactoryWithOutputSchema");async function f1(e){return typeof e=="function"&&(e=e()),Promise.resolve(e)}a(f1,"resolve");var L6=a(({errorSchema:e,errorToMessage:t,isRetryable:r})=>async({response:n,url:o,requestBodyValues:i})=>{let s=await n.text(),u=Hg(n);if(s.trim()==="")return{responseHeaders:u,value:new Qe({message:n.statusText,url:o,requestBodyValues:i,statusCode:n.status,responseHeaders:u,responseBody:s,isRetryable:r?.(n)})};try{let l=await eme({text:s,schema:e});return{responseHeaders:u,value:new Qe({message:t(l),url:o,requestBodyValues:i,statusCode:n.status,responseHeaders:u,responseBody:s,data:l,isRetryable:r?.(n,l)})}}catch{return{responseHeaders:u,value:new Qe({message:n.statusText,url:o,requestBodyValues:i,statusCode:n.status,responseHeaders:u,responseBody:s,isRetryable:r?.(n)})}}},"createJsonErrorResponseHandler"),F6=a(e=>async({response:t})=>{let r=Hg(t);if(t.body==null)throw new _c({});return{responseHeaders:r,value:tme({stream:t.body,schema:e})}},"createEventSourceResponseHandler");var J6=a(e=>async({response:t,url:r,requestBodyValues:n})=>{let o=await t.text(),i=await U6({text:o,schema:e}),s=Hg(t);if(!i.success)throw new Qe({message:"Invalid JSON response",cause:i.error,statusCode:t.status,responseHeaders:s,responseBody:o,url:r,requestBodyValues:n});return{responseHeaders:s,value:i.value,rawValue:i.rawValue}},"createJsonResponseHandler");var ome=a((e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")},"getRelativePath"),ime=Symbol("Let zodToJsonSchema decide on which parser to use"),$6={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},ame=a(e=>typeof e=="string"?{...$6,name:e}:{...$6,...e},"getDefaultOptions");function qn(){return{}}a(qn,"parseAnyDef");function sme(e,t){var r,n,o;let i={type:"array"};return(r=e.type)!=null&&r._def&&((o=(n=e.type)==null?void 0:n._def)==null?void 0:o.typeName)!==q.ZodAny&&(i.items=Ct(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&(i.minItems=e.minLength.value),e.maxLength&&(i.maxItems=e.maxLength.value),e.exactLength&&(i.minItems=e.exactLength.value,i.maxItems=e.exactLength.value),i}a(sme,"parseArrayDef");function ume(e){let t={type:"integer",format:"int64"};if(!e.checks)return t;for(let r of e.checks)switch(r.kind){case"min":r.inclusive?t.minimum=r.value:t.exclusiveMinimum=r.value;break;case"max":r.inclusive?t.maximum=r.value:t.exclusiveMaximum=r.value;break;case"multipleOf":t.multipleOf=r.value;break}return t}a(ume,"parseBigintDef");function cme(){return{type:"boolean"}}a(cme,"parseBooleanDef");function B6(e,t){return Ct(e.type._def,t)}a(B6,"parseBrandedDef");var lme=a((e,t)=>Ct(e.innerType._def,t),"parseCatchDef");function H6(e,t,r){let n=r??t.dateStrategy;if(Array.isArray(n))return{anyOf:n.map((o,i)=>H6(e,t,o))};switch(n){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return dme(e)}}a(H6,"parseDateDef");var dme=a(e=>{let t={type:"integer",format:"unix-time"};for(let r of e.checks)switch(r.kind){case"min":t.minimum=r.value;break;case"max":t.maximum=r.value;break}return t},"integerDateParser");function pme(e,t){return{...Ct(e.innerType._def,t),default:e.defaultValue()}}a(pme,"parseDefaultDef");function mme(e,t){return t.effectStrategy==="input"?Ct(e.schema._def,t):qn()}a(mme,"parseEffectsDef");function fme(e){return{type:"string",enum:Array.from(e.values)}}a(fme,"parseEnumDef");var hme=a(e=>"type"in e&&e.type==="string"?!1:"allOf"in e,"isJsonSchema7AllOfType");function gme(e,t){let r=[Ct(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),Ct(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(o=>!!o),n=[];return r.forEach(o=>{if(hme(o))n.push(...o.allOf);else{let i=o;if("additionalProperties"in o&&o.additionalProperties===!1){let{additionalProperties:s,...u}=o;i=u}n.push(i)}}),n.length?{allOf:n}:void 0}a(gme,"parseIntersectionDef");function yme(e){let t=typeof e.value;return t!=="bigint"&&t!=="number"&&t!=="boolean"&&t!=="string"?{type:Array.isArray(e.value)?"array":"object"}:{type:t==="bigint"?"integer":t,const:e.value}}a(yme,"parseLiteralDef");var s1=void 0,Io={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:a(()=>(s1===void 0&&(s1=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),s1),"emoji"),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function V6(e,t){let r={type:"string"};if(e.checks)for(let n of e.checks)switch(n.kind){case"min":r.minLength=typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value;break;case"max":r.maxLength=typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value;break;case"email":switch(t.emailStrategy){case"format:email":Oo(r,"email",n.message,t);break;case"format:idn-email":Oo(r,"idn-email",n.message,t);break;case"pattern:zod":ln(r,Io.email,n.message,t);break}break;case"url":Oo(r,"uri",n.message,t);break;case"uuid":Oo(r,"uuid",n.message,t);break;case"regex":ln(r,n.regex,n.message,t);break;case"cuid":ln(r,Io.cuid,n.message,t);break;case"cuid2":ln(r,Io.cuid2,n.message,t);break;case"startsWith":ln(r,RegExp(`^${u1(n.value,t)}`),n.message,t);break;case"endsWith":ln(r,RegExp(`${u1(n.value,t)}$`),n.message,t);break;case"datetime":Oo(r,"date-time",n.message,t);break;case"date":Oo(r,"date",n.message,t);break;case"time":Oo(r,"time",n.message,t);break;case"duration":Oo(r,"duration",n.message,t);break;case"length":r.minLength=typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,r.maxLength=typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value;break;case"includes":{ln(r,RegExp(u1(n.value,t)),n.message,t);break}case"ip":{n.version!=="v6"&&Oo(r,"ipv4",n.message,t),n.version!=="v4"&&Oo(r,"ipv6",n.message,t);break}case"base64url":ln(r,Io.base64url,n.message,t);break;case"jwt":ln(r,Io.jwt,n.message,t);break;case"cidr":{n.version!=="v6"&&ln(r,Io.ipv4Cidr,n.message,t),n.version!=="v4"&&ln(r,Io.ipv6Cidr,n.message,t);break}case"emoji":ln(r,Io.emoji(),n.message,t);break;case"ulid":{ln(r,Io.ulid,n.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{Oo(r,"binary",n.message,t);break}case"contentEncoding:base64":{r.contentEncoding="base64";break}case"pattern:zod":{ln(r,Io.base64,n.message,t);break}}break}case"nanoid":ln(r,Io.nanoid,n.message,t);case"toLowerCase":case"toUpperCase":case"trim":break;default:}return r}a(V6,"parseStringDef");function u1(e,t){return t.patternStrategy==="escape"?_me(e):e}a(u1,"escapeLiteralCheckValue");var vme=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function _me(e){let t="";for(let r=0;r<e.length;r++)vme.has(e[r])||(t+="\\"),t+=e[r];return t}a(_me,"escapeNonAlphaNumeric");function Oo(e,t,r,n){var o;e.format||(o=e.anyOf)!=null&&o.some(i=>i.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format}),delete e.format),e.anyOf.push({format:t,...r&&n.errorMessages&&{errorMessage:{format:r}}})):e.format=t}a(Oo,"addFormat");function ln(e,t,r,n){var o;e.pattern||(o=e.allOf)!=null&&o.some(i=>i.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern}),delete e.pattern),e.allOf.push({pattern:N6(t,n),...r&&n.errorMessages&&{errorMessage:{pattern:r}}})):e.pattern=N6(t,n)}a(ln,"addPattern");function N6(e,t){var r;if(!t.applyRegexFlags||!e.flags)return e.source;let n={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},o=n.i?e.source.toLowerCase():e.source,i="",s=!1,u=!1,l=!1;for(let d=0;d<o.length;d++){if(s){i+=o[d],s=!1;continue}if(n.i){if(u){if(o[d].match(/[a-z]/)){l?(i+=o[d],i+=`${o[d-2]}-${o[d]}`.toUpperCase(),l=!1):o[d+1]==="-"&&((r=o[d+2])!=null&&r.match(/[a-z]/))?(i+=o[d],l=!0):i+=`${o[d]}${o[d].toUpperCase()}`;continue}}else if(o[d].match(/[a-z]/)){i+=`[${o[d]}${o[d].toUpperCase()}]`;continue}}if(n.m){if(o[d]==="^"){i+=`(^|(?<=[\r
]))`;continue}else if(o[d]==="$"){i+=`($|(?=[\r
]))`;continue}}if(n.s&&o[d]==="."){i+=u?`${o[d]}\r
`:`[${o[d]}\r
]`;continue}i+=o[d],o[d]==="\\"?s=!0:u&&o[d]==="]"?u=!1:!u&&o[d]==="["&&(u=!0)}try{new RegExp(i)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return i}a(N6,"stringifyRegExpWithFlags");function Z6(e,t){var r,n,o,i,s,u;let l={type:"object",additionalProperties:(r=Ct(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]}))!=null?r:t.allowedAdditionalProperties};if(((n=e.keyType)==null?void 0:n._def.typeName)===q.ZodString&&((o=e.keyType._def.checks)!=null&&o.length)){let{type:d,...p}=V6(e.keyType._def,t);return{...l,propertyNames:p}}else{if(((i=e.keyType)==null?void 0:i._def.typeName)===q.ZodEnum)return{...l,propertyNames:{enum:e.keyType._def.values}};if(((s=e.keyType)==null?void 0:s._def.typeName)===q.ZodBranded&&e.keyType._def.type._def.typeName===q.ZodString&&((u=e.keyType._def.type._def.checks)!=null&&u.length)){let{type:d,...p}=B6(e.keyType._def,t);return{...l,propertyNames:p}}}return l}a(Z6,"parseRecordDef");function bme(e,t){if(t.mapStrategy==="record")return Z6(e,t);let r=Ct(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||qn(),n=Ct(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||qn();return{type:"array",maxItems:125,items:{type:"array",items:[r,n],minItems:2,maxItems:2}}}a(bme,"parseMapDef");function Sme(e){let t=e.values,n=Object.keys(e.values).filter(i=>typeof t[t[i]]!="number").map(i=>t[i]),o=Array.from(new Set(n.map(i=>typeof i)));return{type:o.length===1?o[0]==="string"?"string":"number":["string","number"],enum:n}}a(Sme,"parseNativeEnumDef");function wme(){return{not:qn()}}a(wme,"parseNeverDef");function xme(){return{type:"null"}}a(xme,"parseNullDef");var l1={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function Tme(e,t){let r=e.options instanceof Map?Array.from(e.options.values()):e.options;if(r.every(n=>n._def.typeName in l1&&(!n._def.checks||!n._def.checks.length))){let n=r.reduce((o,i)=>{let s=l1[i._def.typeName];return s&&!o.includes(s)?[...o,s]:o},[]);return{type:n.length>1?n:n[0]}}else if(r.every(n=>n._def.typeName==="ZodLiteral"&&!n.description)){let n=r.reduce((o,i)=>{let s=typeof i._def.value;switch(s){case"string":case"number":case"boolean":return[...o,s];case"bigint":return[...o,"integer"];case"object":if(i._def.value===null)return[...o,"null"];case"symbol":case"undefined":case"function":default:return o}},[]);if(n.length===r.length){let o=n.filter((i,s,u)=>u.indexOf(i)===s);return{type:o.length>1?o:o[0],enum:r.reduce((i,s)=>i.includes(s._def.value)?i:[...i,s._def.value],[])}}}else if(r.every(n=>n._def.typeName==="ZodEnum"))return{type:"string",enum:r.reduce((n,o)=>[...n,...o._def.values.filter(i=>!n.includes(i))],[])};return kme(e,t)}a(Tme,"parseUnionDef");var kme=a((e,t)=>{let r=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((n,o)=>Ct(n._def,{...t,currentPath:[...t.currentPath,"anyOf",`${o}`]})).filter(n=>!!n&&(!t.strictUnions||typeof n=="object"&&Object.keys(n).length>0));return r.length?{anyOf:r}:void 0},"asAnyOf");function Eme(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return{type:[l1[e.innerType._def.typeName],"null"]};let r=Ct(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}a(Eme,"parseNullableDef");function Pme(e){let t={type:"number"};if(!e.checks)return t;for(let r of e.checks)switch(r.kind){case"int":t.type="integer";break;case"min":r.inclusive?t.minimum=r.value:t.exclusiveMinimum=r.value;break;case"max":r.inclusive?t.maximum=r.value:t.exclusiveMaximum=r.value;break;case"multipleOf":t.multipleOf=r.value;break}return t}a(Pme,"parseNumberDef");function Ime(e,t){let r={type:"object",properties:{}},n=[],o=e.shape();for(let s in o){let u=o[s];if(u===void 0||u._def===void 0)continue;let l=Ame(u),d=Ct(u._def,{...t,currentPath:[...t.currentPath,"properties",s],propertyPath:[...t.currentPath,"properties",s]});d!==void 0&&(r.properties[s]=d,l||n.push(s))}n.length&&(r.required=n);let i=Ome(e,t);return i!==void 0&&(r.additionalProperties=i),r}a(Ime,"parseObjectDef");function Ome(e,t){if(e.catchall._def.typeName!=="ZodNever")return Ct(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}a(Ome,"decideAdditionalProperties");function Ame(e){try{return e.isOptional()}catch{return!0}}a(Ame,"safeIsOptional");var Cme=a((e,t)=>{var r;if(t.currentPath.toString()===((r=t.propertyPath)==null?void 0:r.toString()))return Ct(e.innerType._def,t);let n=Ct(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return n?{anyOf:[{not:qn()},n]}:qn()},"parseOptionalDef"),Rme=a((e,t)=>{if(t.pipeStrategy==="input")return Ct(e.in._def,t);if(t.pipeStrategy==="output")return Ct(e.out._def,t);let r=Ct(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),n=Ct(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,n].filter(o=>o!==void 0)}},"parsePipelineDef");function $me(e,t){return Ct(e.type._def,t)}a($me,"parsePromiseDef");function Nme(e,t){let n={type:"array",uniqueItems:!0,items:Ct(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&(n.minItems=e.minSize.value),e.maxSize&&(n.maxItems=e.maxSize.value),n}a(Nme,"parseSetDef");function jme(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((r,n)=>Ct(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[]),additionalItems:Ct(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((r,n)=>Ct(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[])}}a(jme,"parseTupleDef");function zme(){return{not:qn()}}a(zme,"parseUndefinedDef");function Dme(){return qn()}a(Dme,"parseUnknownDef");var Mme=a((e,t)=>Ct(e.innerType._def,t),"parseReadonlyDef"),qme=a((e,t,r)=>{switch(t){case q.ZodString:return V6(e,r);case q.ZodNumber:return Pme(e);case q.ZodObject:return Ime(e,r);case q.ZodBigInt:return ume(e);case q.ZodBoolean:return cme();case q.ZodDate:return H6(e,r);case q.ZodUndefined:return zme();case q.ZodNull:return xme();case q.ZodArray:return sme(e,r);case q.ZodUnion:case q.ZodDiscriminatedUnion:return Tme(e,r);case q.ZodIntersection:return gme(e,r);case q.ZodTuple:return jme(e,r);case q.ZodRecord:return Z6(e,r);case q.ZodLiteral:return yme(e);case q.ZodEnum:return fme(e);case q.ZodNativeEnum:return Sme(e);case q.ZodNullable:return Eme(e,r);case q.ZodOptional:return Cme(e,r);case q.ZodMap:return bme(e,r);case q.ZodSet:return Nme(e,r);case q.ZodLazy:return()=>e.getter()._def;case q.ZodPromise:return $me(e,r);case q.ZodNaN:case q.ZodNever:return wme();case q.ZodEffects:return mme(e,r);case q.ZodAny:return qn();case q.ZodUnknown:return Dme();case q.ZodDefault:return pme(e,r);case q.ZodBranded:return B6(e,r);case q.ZodReadonly:return Mme(e,r);case q.ZodCatch:return lme(e,r);case q.ZodPipeline:return Rme(e,r);case q.ZodFunction:case q.ZodVoid:case q.ZodSymbol:return;default:return(n=>{})(t)}},"selectParser");function Ct(e,t,r=!1){var n;let o=t.seen.get(e);if(t.override){let l=(n=t.override)==null?void 0:n.call(t,e,t,o,r);if(l!==ime)return l}if(o&&!r){let l=Ume(o,t);if(l!==void 0)return l}let i={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,i);let s=qme(e,e.typeName,t),u=typeof s=="function"?Ct(s(),t):s;if(u&&Lme(e,t,u),t.postProcess){let l=t.postProcess(u,e,t);return i.jsonSchema=u,l}return i.jsonSchema=u,u}a(Ct,"parseDef");var Ume=a((e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:ome(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((r,n)=>t.currentPath[n]===r)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),qn()):t.$refStrategy==="seen"?qn():void 0}},"get$ref"),Lme=a((e,t,r)=>(e.description&&(r.description=e.description),r),"addMeta"),Fme=a(e=>{let t=ame(e),r=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([n,o])=>[o._def,{def:o._def,path:[...t.basePath,t.definitionPath,n],jsonSchema:void 0}]))}},"getRefs"),Jme=a((e,t)=>{var r;let n=Fme(t),o=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((d,[p,f])=>{var m;return{...d,[p]:(m=Ct(f._def,{...n,currentPath:[...n.basePath,n.definitionPath,p]},!0))!=null?m:qn()}},{}):void 0,i=typeof t=="string"?t:t?.nameStrategy==="title"?void 0:t?.name,s=(r=Ct(e._def,i===void 0?n:{...n,currentPath:[...n.basePath,n.definitionPath,i]},!1))!=null?r:qn(),u=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;u!==void 0&&(s.title=u);let l=i===void 0?o?{...s,[n.definitionPath]:o}:s:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,i].join("/"),[n.definitionPath]:{...o,[i]:s}};return l.$schema="http://json-schema.org/draft-07/schema#",l},"zodToJsonSchema"),Bme=Jme;function Hme(e,t){var r;let n=(r=t?.useReferences)!=null?r:!1;return K6(()=>Bme(e,{$refStrategy:n?"root":"none"}),{validate:a(async o=>{let i=await e.safeParseAsync(o);return i.success?{success:!0,value:i.data}:{success:!1,error:i.error}},"validate")})}a(Hme,"zod3Schema");function Vme(e,t){var r;let n=(r=t?.useReferences)!=null?r:!1;return K6(()=>Oi(e,{target:"draft-7",io:"output",reused:n?"ref":"inline"}),{validate:a(async o=>{let i=await Ci(e,o);return i.success?{success:!0,value:i.data}:{success:!1,error:i.error}},"validate")})}a(Vme,"zod4Schema");function Zme(e){return"_zod"in e}a(Zme,"isZod4Schema");function ot(e,t){return Zme(e)?Vme(e,t):Hme(e,t)}a(ot,"zodSchema");var Kme=Symbol.for("vercel.ai.schema");function it(e){let t;return()=>(t==null&&(t=e()),t)}a(it,"lazySchema");function K6(e,{validate:t}={}){return{[Kme]:!0,_type:void 0,[Bg]:!0,get jsonSchema(){return typeof e=="function"&&(e=e()),e},validate:t}}a(K6,"jsonSchema");var{btoa:Gme,atob:OQe}=globalThis;function Wme(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCodePoint(e[r]);return Gme(t)}a(Wme,"convertUint8ArrayToBase64");function h1(e){return e instanceof Uint8Array?Wme(e):e}a(h1,"convertToBase64");function G6(e){return e?.replace(/\/$/,"")}a(G6,"withoutTrailingSlash");var Qme="2.0.50",Xme=it(()=>ot(c.object({type:c.literal("error"),error:c.object({type:c.string(),message:c.string()})}))),W6=L6({errorSchema:Xme,errorToMessage:a(e=>e.error.message,"errorToMessage")}),Yme=it(()=>ot(c.object({type:c.literal("message"),id:c.string().nullish(),model:c.string().nullish(),content:c.array(c.discriminatedUnion("type",[c.object({type:c.literal("text"),text:c.string(),citations:c.array(c.discriminatedUnion("type",[c.object({type:c.literal("web_search_result_location"),cited_text:c.string(),url:c.string(),title:c.string(),encrypted_index:c.string()}),c.object({type:c.literal("page_location"),cited_text:c.string(),document_index:c.number(),document_title:c.string().nullable(),start_page_number:c.number(),end_page_number:c.number()}),c.object({type:c.literal("char_location"),cited_text:c.string(),document_index:c.number(),document_title:c.string().nullable(),start_char_index:c.number(),end_char_index:c.number()})])).optional()}),c.object({type:c.literal("thinking"),thinking:c.string(),signature:c.string()}),c.object({type:c.literal("redacted_thinking"),data:c.string()}),c.object({type:c.literal("tool_use"),id:c.string(),name:c.string(),input:c.unknown()}),c.object({type:c.literal("server_tool_use"),id:c.string(),name:c.string(),input:c.record(c.string(),c.unknown()).nullish()}),c.object({type:c.literal("web_fetch_tool_result"),tool_use_id:c.string(),content:c.union([c.object({type:c.literal("web_fetch_result"),url:c.string(),retrieved_at:c.string(),content:c.object({type:c.literal("document"),title:c.string().nullable(),citations:c.object({enabled:c.boolean()}).optional(),source:c.object({type:c.literal("text"),media_type:c.string(),data:c.string()})})}),c.object({type:c.literal("web_fetch_tool_result_error"),error_code:c.string()})])}),c.object({type:c.literal("web_search_tool_result"),tool_use_id:c.string(),content:c.union([c.array(c.object({type:c.literal("web_search_result"),url:c.string(),title:c.string(),encrypted_content:c.string(),page_age:c.string().nullish()})),c.object({type:c.literal("web_search_tool_result_error"),error_code:c.string()})])}),c.object({type:c.literal("code_execution_tool_result"),tool_use_id:c.string(),content:c.union([c.object({type:c.literal("code_execution_result"),stdout:c.string(),stderr:c.string(),return_code:c.number()}),c.object({type:c.literal("code_execution_tool_result_error"),error_code:c.string()})])}),c.object({type:c.literal("bash_code_execution_tool_result"),tool_use_id:c.string(),content:c.discriminatedUnion("type",[c.object({type:c.literal("bash_code_execution_result"),content:c.array(c.object({type:c.literal("bash_code_execution_output"),file_id:c.string()})),stdout:c.string(),stderr:c.string(),return_code:c.number()}),c.object({type:c.literal("bash_code_execution_tool_result_error"),error_code:c.string()})])}),c.object({type:c.literal("text_editor_code_execution_tool_result"),tool_use_id:c.string(),content:c.discriminatedUnion("type",[c.object({type:c.literal("text_editor_code_execution_tool_result_error"),error_code:c.string()}),c.object({type:c.literal("text_editor_code_execution_view_result"),content:c.string(),file_type:c.string(),num_lines:c.number().nullable(),start_line:c.number().nullable(),total_lines:c.number().nullable()}),c.object({type:c.literal("text_editor_code_execution_create_result"),is_file_update:c.boolean()}),c.object({type:c.literal("text_editor_code_execution_str_replace_result"),lines:c.array(c.string()).nullable(),new_lines:c.number().nullable(),new_start:c.number().nullable(),old_lines:c.number().nullable(),old_start:c.number().nullable()})])})])),stop_reason:c.string().nullish(),stop_sequence:c.string().nullish(),usage:c.looseObject({input_tokens:c.number(),output_tokens:c.number(),cache_creation_input_tokens:c.number().nullish(),cache_read_input_tokens:c.number().nullish()}),container:c.object({expires_at:c.string(),id:c.string(),skills:c.array(c.object({type:c.union([c.literal("anthropic"),c.literal("custom")]),skill_id:c.string(),version:c.string()})).nullish()}).nullish()}))),efe=it(()=>ot(c.discriminatedUnion("type",[c.object({type:c.literal("message_start"),message:c.object({id:c.string().nullish(),model:c.string().nullish(),usage:c.looseObject({input_tokens:c.number(),cache_creation_input_tokens:c.number().nullish(),cache_read_input_tokens:c.number().nullish()})})}),c.object({type:c.literal("content_block_start"),index:c.number(),content_block:c.discriminatedUnion("type",[c.object({type:c.literal("text"),text:c.string()}),c.object({type:c.literal("thinking"),thinking:c.string()}),c.object({type:c.literal("tool_use"),id:c.string(),name:c.string()}),c.object({type:c.literal("redacted_thinking"),data:c.string()}),c.object({type:c.literal("server_tool_use"),id:c.string(),name:c.string(),input:c.record(c.string(),c.unknown()).nullish()}),c.object({type:c.literal("web_fetch_tool_result"),tool_use_id:c.string(),content:c.union([c.object({type:c.literal("web_fetch_result"),url:c.string(),retrieved_at:c.string(),content:c.object({type:c.literal("document"),title:c.string().nullable(),citations:c.object({enabled:c.boolean()}).optional(),source:c.object({type:c.literal("text"),media_type:c.string(),data:c.string()})})}),c.object({type:c.literal("web_fetch_tool_result_error"),error_code:c.string()})])}),c.object({type:c.literal("web_search_tool_result"),tool_use_id:c.string(),content:c.union([c.array(c.object({type:c.literal("web_search_result"),url:c.string(),title:c.string(),encrypted_content:c.string(),page_age:c.string().nullish()})),c.object({type:c.literal("web_search_tool_result_error"),error_code:c.string()})])}),c.object({type:c.literal("code_execution_tool_result"),tool_use_id:c.string(),content:c.union([c.object({type:c.literal("code_execution_result"),stdout:c.string(),stderr:c.string(),return_code:c.number()}),c.object({type:c.literal("code_execution_tool_result_error"),error_code:c.string()})])}),c.object({type:c.literal("bash_code_execution_tool_result"),tool_use_id:c.string(),content:c.discriminatedUnion("type",[c.object({type:c.literal("bash_code_execution_result"),content:c.array(c.object({type:c.literal("bash_code_execution_output"),file_id:c.string()})),stdout:c.string(),stderr:c.string(),return_code:c.number()}),c.object({type:c.literal("bash_code_execution_tool_result_error"),error_code:c.string()})])}),c.object({type:c.literal("text_editor_code_execution_tool_result"),tool_use_id:c.string(),content:c.discriminatedUnion("type",[c.object({type:c.literal("text_editor_code_execution_tool_result_error"),error_code:c.string()}),c.object({type:c.literal("text_editor_code_execution_view_result"),content:c.string(),file_type:c.string(),num_lines:c.number().nullable(),start_line:c.number().nullable(),total_lines:c.number().nullable()}),c.object({type:c.literal("text_editor_code_execution_create_result"),is_file_update:c.boolean()}),c.object({type:c.literal("text_editor_code_execution_str_replace_result"),lines:c.array(c.string()).nullable(),new_lines:c.number().nullable(),new_start:c.number().nullable(),old_lines:c.number().nullable(),old_start:c.number().nullable()})])})])}),c.object({type:c.literal("content_block_delta"),index:c.number(),delta:c.discriminatedUnion("type",[c.object({type:c.literal("input_json_delta"),partial_json:c.string()}),c.object({type:c.literal("text_delta"),text:c.string()}),c.object({type:c.literal("thinking_delta"),thinking:c.string()}),c.object({type:c.literal("signature_delta"),signature:c.string()}),c.object({type:c.literal("citations_delta"),citation:c.discriminatedUnion("type",[c.object({type:c.literal("web_search_result_location"),cited_text:c.string(),url:c.string(),title:c.string(),encrypted_index:c.string()}),c.object({type:c.literal("page_location"),cited_text:c.string(),document_index:c.number(),document_title:c.string().nullable(),start_page_number:c.number(),end_page_number:c.number()}),c.object({type:c.literal("char_location"),cited_text:c.string(),document_index:c.number(),document_title:c.string().nullable(),start_char_index:c.number(),end_char_index:c.number()})])})])}),c.object({type:c.literal("content_block_stop"),index:c.number()}),c.object({type:c.literal("error"),error:c.object({type:c.string(),message:c.string()})}),c.object({type:c.literal("message_delta"),delta:c.object({stop_reason:c.string().nullish(),stop_sequence:c.string().nullish(),container:c.object({expires_at:c.string(),id:c.string(),skills:c.array(c.object({type:c.union([c.literal("anthropic"),c.literal("custom")]),skill_id:c.string(),version:c.string()})).nullish()}).nullish()}),usage:c.looseObject({output_tokens:c.number(),cache_creation_input_tokens:c.number().nullish()})}),c.object({type:c.literal("message_stop")}),c.object({type:c.literal("ping")})]))),tfe=it(()=>ot(c.object({signature:c.string().optional(),redactedData:c.string().optional()}))),Q6=c.object({citations:c.object({enabled:c.boolean()}).optional(),title:c.string().optional(),context:c.string().optional()}),rfe=c.object({sendReasoning:c.boolean().optional(),structuredOutputMode:c.enum(["outputFormat","jsonTool","auto"]).optional(),thinking:c.object({type:c.union([c.literal("enabled"),c.literal("disabled")]),budgetTokens:c.number().optional()}).optional(),disableParallelToolUse:c.boolean().optional(),cacheControl:c.object({type:c.literal("ephemeral"),ttl:c.union([c.literal("5m"),c.literal("1h")]).optional()}).optional(),container:c.object({id:c.string().optional(),skills:c.array(c.object({type:c.union([c.literal("anthropic"),c.literal("custom")]),skillId:c.string(),version:c.string().optional()})).optional()}).optional(),effort:c.enum(["low","medium","high"]).optional()}),X6=4;function nfe(e){var t;let r=e?.anthropic;return(t=r?.cacheControl)!=null?t:r?.cache_control}a(nfe,"getCacheControl");var g1=class{static{a(this,"CacheControlValidator")}constructor(){this.breakpointCount=0,this.warnings=[]}getCacheControl(e,t){let r=nfe(e);if(r){if(!t.canCache){this.warnings.push({type:"unsupported-setting",setting:"cacheControl",details:`cache_control cannot be set on ${t.type}. It will be ignored.`});return}if(this.breakpointCount++,this.breakpointCount>X6){this.warnings.push({type:"unsupported-setting",setting:"cacheControl",details:`Maximum ${X6} cache breakpoints exceeded (found ${this.breakpointCount}). This breakpoint will be ignored.`});return}return r}}getWarnings(){return this.warnings}},ofe=it(()=>ot(c.object({maxCharacters:c.number().optional()}))),ife=it(()=>ot(c.object({command:c.enum(["view","create","str_replace","insert"]),path:c.string(),file_text:c.string().optional(),insert_line:c.number().int().optional(),new_str:c.string().optional(),old_str:c.string().optional(),view_range:c.array(c.number().int()).optional()}))),afe=$r({id:"anthropic.text_editor_20250728",name:"str_replace_based_edit_tool",inputSchema:ife}),sfe=a((e={})=>afe(e),"textEditor_20250728"),ufe=it(()=>ot(c.object({maxUses:c.number().optional(),allowedDomains:c.array(c.string()).optional(),blockedDomains:c.array(c.string()).optional(),userLocation:c.object({type:c.literal("approximate"),city:c.string().optional(),region:c.string().optional(),country:c.string().optional(),timezone:c.string().optional()}).optional()}))),tJ=it(()=>ot(c.array(c.object({url:c.string(),title:c.string(),pageAge:c.string().nullable(),encryptedContent:c.string(),type:c.literal("web_search_result")})))),cfe=it(()=>ot(c.object({query:c.string()}))),lfe=Aa({id:"anthropic.web_search_20250305",name:"web_search",inputSchema:cfe,outputSchema:tJ}),dfe=a((e={})=>lfe(e),"webSearch_20250305"),pfe=it(()=>ot(c.object({maxUses:c.number().optional(),allowedDomains:c.array(c.string()).optional(),blockedDomains:c.array(c.string()).optional(),citations:c.object({enabled:c.boolean()}).optional(),maxContentTokens:c.number().optional()}))),rJ=it(()=>ot(c.object({type:c.literal("web_fetch_result"),url:c.string(),content:c.object({type:c.literal("document"),title:c.string(),citations:c.object({enabled:c.boolean()}).optional(),source:c.union([c.object({type:c.literal("base64"),mediaType:c.literal("application/pdf"),data:c.string()}),c.object({type:c.literal("text"),mediaType:c.literal("text/plain"),data:c.string()})])}),retrievedAt:c.string().nullable()}))),mfe=it(()=>ot(c.object({url:c.string()}))),ffe=Aa({id:"anthropic.web_fetch_20250910",name:"web_fetch",inputSchema:mfe,outputSchema:rJ}),hfe=a((e={})=>ffe(e),"webFetch_20250910");async function gfe({tools:e,toolChoice:t,disableParallelToolUse:r,cacheControlValidator:n}){e=e?.length?e:void 0;let o=[],i=new Set,s=n||new g1;if(e==null)return{tools:void 0,toolChoice:void 0,toolWarnings:o,betas:i};let u=[];for(let d of e)switch(d.type){case"function":{let p=s.getCacheControl(d.providerOptions,{type:"tool definition",canCache:!0});u.push({name:d.name,description:d.description,input_schema:d.inputSchema,cache_control:p});break}case"provider-defined":{switch(d.id){case"anthropic.code_execution_20250522":{i.add("code-execution-2025-05-22"),u.push({type:"code_execution_20250522",name:"code_execution",cache_control:void 0});break}case"anthropic.code_execution_20250825":{i.add("code-execution-2025-08-25"),u.push({type:"code_execution_20250825",name:"code_execution"});break}case"anthropic.computer_20250124":{i.add("computer-use-2025-01-24"),u.push({name:"computer",type:"computer_20250124",display_width_px:d.args.displayWidthPx,display_height_px:d.args.displayHeightPx,display_number:d.args.displayNumber,cache_control:void 0});break}case"anthropic.computer_20241022":{i.add("computer-use-2024-10-22"),u.push({name:"computer",type:"computer_20241022",display_width_px:d.args.displayWidthPx,display_height_px:d.args.displayHeightPx,display_number:d.args.displayNumber,cache_control:void 0});break}case"anthropic.text_editor_20250124":{i.add("computer-use-2025-01-24"),u.push({name:"str_replace_editor",type:"text_editor_20250124",cache_control:void 0});break}case"anthropic.text_editor_20241022":{i.add("computer-use-2024-10-22"),u.push({name:"str_replace_editor",type:"text_editor_20241022",cache_control:void 0});break}case"anthropic.text_editor_20250429":{i.add("computer-use-2025-01-24"),u.push({name:"str_replace_based_edit_tool",type:"text_editor_20250429",cache_control:void 0});break}case"anthropic.text_editor_20250728":{let p=await Qo({value:d.args,schema:ofe});u.push({name:"str_replace_based_edit_tool",type:"text_editor_20250728",max_characters:p.maxCharacters,cache_control:void 0});break}case"anthropic.bash_20250124":{i.add("computer-use-2025-01-24"),u.push({name:"bash",type:"bash_20250124",cache_control:void 0});break}case"anthropic.bash_20241022":{i.add("computer-use-2024-10-22"),u.push({name:"bash",type:"bash_20241022",cache_control:void 0});break}case"anthropic.memory_20250818":{i.add("context-management-2025-06-27"),u.push({name:"memory",type:"memory_20250818"});break}case"anthropic.web_fetch_20250910":{i.add("web-fetch-2025-09-10");let p=await Qo({value:d.args,schema:pfe});u.push({type:"web_fetch_20250910",name:"web_fetch",max_uses:p.maxUses,allowed_domains:p.allowedDomains,blocked_domains:p.blockedDomains,citations:p.citations,max_content_tokens:p.maxContentTokens,cache_control:void 0});break}case"anthropic.web_search_20250305":{let p=await Qo({value:d.args,schema:ufe});u.push({type:"web_search_20250305",name:"web_search",max_uses:p.maxUses,allowed_domains:p.allowedDomains,blocked_domains:p.blockedDomains,user_location:p.userLocation,cache_control:void 0});break}default:{o.push({type:"unsupported-tool",tool:d});break}}break}default:{o.push({type:"unsupported-tool",tool:d});break}}if(t==null)return{tools:u,toolChoice:r?{type:"auto",disable_parallel_tool_use:r}:void 0,toolWarnings:o,betas:i};let l=t.type;switch(l){case"auto":return{tools:u,toolChoice:{type:"auto",disable_parallel_tool_use:r},toolWarnings:o,betas:i};case"required":return{tools:u,toolChoice:{type:"any",disable_parallel_tool_use:r},toolWarnings:o,betas:i};case"none":return{tools:void 0,toolChoice:void 0,toolWarnings:o,betas:i};case"tool":return{tools:u,toolChoice:{type:"tool",name:t.toolName,disable_parallel_tool_use:r},toolWarnings:o,betas:i};default:{let d=l;throw new Et({functionality:`tool choice type: ${d}`})}}}a(gfe,"prepareTools");var nJ=it(()=>ot(c.object({type:c.literal("code_execution_result"),stdout:c.string(),stderr:c.string(),return_code:c.number()}))),yfe=it(()=>ot(c.object({code:c.string()}))),vfe=Aa({id:"anthropic.code_execution_20250522",name:"code_execution",inputSchema:yfe,outputSchema:nJ}),_fe=a((e={})=>vfe(e),"codeExecution_20250522"),oJ=it(()=>ot(c.discriminatedUnion("type",[c.object({type:c.literal("bash_code_execution_result"),content:c.array(c.object({type:c.literal("bash_code_execution_output"),file_id:c.string()})),stdout:c.string(),stderr:c.string(),return_code:c.number()}),c.object({type:c.literal("bash_code_execution_tool_result_error"),error_code:c.string()}),c.object({type:c.literal("text_editor_code_execution_tool_result_error"),error_code:c.string()}),c.object({type:c.literal("text_editor_code_execution_view_result"),content:c.string(),file_type:c.string(),num_lines:c.number().nullable(),start_line:c.number().nullable(),total_lines:c.number().nullable()}),c.object({type:c.literal("text_editor_code_execution_create_result"),is_file_update:c.boolean()}),c.object({type:c.literal("text_editor_code_execution_str_replace_result"),lines:c.array(c.string()).nullable(),new_lines:c.number().nullable(),new_start:c.number().nullable(),old_lines:c.number().nullable(),old_start:c.number().nullable()})]))),bfe=it(()=>ot(c.discriminatedUnion("type",[c.object({type:c.literal("bash_code_execution"),command:c.string()}),c.discriminatedUnion("command",[c.object({type:c.literal("text_editor_code_execution"),command:c.literal("view"),path:c.string()}),c.object({type:c.literal("text_editor_code_execution"),command:c.literal("create"),path:c.string(),file_text:c.string().nullish()}),c.object({type:c.literal("text_editor_code_execution"),command:c.literal("str_replace"),path:c.string(),old_str:c.string(),new_str:c.string()})])]))),Sfe=Aa({id:"anthropic.code_execution_20250825",name:"code_execution",inputSchema:bfe,outputSchema:oJ}),wfe=a((e={})=>Sfe(e),"codeExecution_20250825");function xfe(e){if(typeof e=="string")return Buffer.from(e,"base64").toString("utf-8");if(e instanceof Uint8Array)return new TextDecoder().decode(e);throw e instanceof URL?new Et({functionality:"URL-based text documents are not supported for citations"}):new Et({functionality:`unsupported data type for text documents: ${typeof e}`})}a(xfe,"convertToString");async function Tfe({prompt:e,sendReasoning:t,warnings:r,cacheControlValidator:n}){var o,i,s,u,l;let d=new Set,p=kfe(e),f=n||new g1,m,y=[];async function g(v){var S,b;let w=await bc({provider:"anthropic",providerOptions:v,schema:Q6});return(b=(S=w?.citations)==null?void 0:S.enabled)!=null?b:!1}a(g,"shouldEnableCitations");async function h(v){let S=await bc({provider:"anthropic",providerOptions:v,schema:Q6});return{title:S?.title,context:S?.context}}a(h,"getDocumentMetadata");for(let v=0;v<p.length;v++){let S=p[v],b=v===p.length-1,w=S.type;switch(w){case"system":{if(m!=null)throw new Et({functionality:"Multiple system messages that are separated by user/assistant messages"});m=S.messages.map(({content:k,providerOptions:$})=>({type:"text",text:k,cache_control:f.getCacheControl($,{type:"system message",canCache:!0})}));break}case"user":{let k=[];for(let $ of S.messages){let{role:A,content:O}=$;switch(A){case"user":{for(let R=0;R<O.length;R++){let I=O[R],N=R===O.length-1,z=(o=f.getCacheControl(I.providerOptions,{type:"user message part",canCache:!0}))!=null?o:N?f.getCacheControl($.providerOptions,{type:"user message",canCache:!0}):void 0;switch(I.type){case"text":{k.push({type:"text",text:I.text,cache_control:z});break}case"file":{if(I.mediaType.startsWith("image/"))k.push({type:"image",source:I.data instanceof URL?{type:"url",url:I.data.toString()}:{type:"base64",media_type:I.mediaType==="image/*"?"image/jpeg":I.mediaType,data:h1(I.data)},cache_control:z});else if(I.mediaType==="application/pdf"){d.add("pdfs-2024-09-25");let X=await g(I.providerOptions),Z=await h(I.providerOptions);k.push({type:"document",source:I.data instanceof URL?{type:"url",url:I.data.toString()}:{type:"base64",media_type:"application/pdf",data:h1(I.data)},title:(i=Z.title)!=null?i:I.filename,...Z.context&&{context:Z.context},...X&&{citations:{enabled:!0}},cache_control:z})}else if(I.mediaType==="text/plain"){let X=await g(I.providerOptions),Z=await h(I.providerOptions);k.push({type:"document",source:I.data instanceof URL?{type:"url",url:I.data.toString()}:{type:"text",media_type:"text/plain",data:xfe(I.data)},title:(s=Z.title)!=null?s:I.filename,...Z.context&&{context:Z.context},...X&&{citations:{enabled:!0}},cache_control:z})}else throw new Et({functionality:`media type: ${I.mediaType}`});break}}}break}case"tool":{for(let R=0;R<O.length;R++){let I=O[R],N=R===O.length-1,z=(u=f.getCacheControl(I.providerOptions,{type:"tool result part",canCache:!0}))!=null?u:N?f.getCacheControl($.providerOptions,{type:"tool result message",canCache:!0}):void 0,X=I.output,Z;switch(X.type){case"content":Z=X.value.map(J=>{switch(J.type){case"text":return{type:"text",text:J.text};case"media":{if(J.mediaType.startsWith("image/"))return{type:"image",source:{type:"base64",media_type:J.mediaType,data:J.data}};if(J.mediaType==="application/pdf")return d.add("pdfs-2024-09-25"),{type:"document",source:{type:"base64",media_type:J.mediaType,data:J.data}};throw new Et({functionality:`media type: ${J.mediaType}`})}}});break;case"text":case"error-text":Z=X.value;break;case"json":case"error-json":default:Z=JSON.stringify(X.value);break}k.push({type:"tool_result",tool_use_id:I.toolCallId,content:Z,is_error:X.type==="error-text"||X.type==="error-json"?!0:void 0,cache_control:z})}break}default:{let R=A;throw new Error(`Unsupported role: ${R}`)}}}y.push({role:"user",content:k});break}case"assistant":{let k=[];for(let $=0;$<S.messages.length;$++){let A=S.messages[$],O=$===S.messages.length-1,{content:R}=A;for(let I=0;I<R.length;I++){let N=R[I],z=I===R.length-1,X=(l=f.getCacheControl(N.providerOptions,{type:"assistant message part",canCache:!0}))!=null?l:z?f.getCacheControl(A.providerOptions,{type:"assistant message",canCache:!0}):void 0;switch(N.type){case"text":{k.push({type:"text",text:b&&O&&z?N.text.trim():N.text,cache_control:X});break}case"reasoning":{if(t){let Z=await bc({provider:"anthropic",providerOptions:N.providerOptions,schema:tfe});Z!=null?Z.signature!=null?(f.getCacheControl(N.providerOptions,{type:"thinking block",canCache:!1}),k.push({type:"thinking",thinking:N.text,signature:Z.signature})):Z.redactedData!=null?(f.getCacheControl(N.providerOptions,{type:"redacted thinking block",canCache:!1}),k.push({type:"redacted_thinking",data:Z.redactedData})):r.push({type:"other",message:"unsupported reasoning metadata"}):r.push({type:"other",message:"unsupported reasoning metadata"})}else r.push({type:"other",message:"sending reasoning content is disabled for this model"});break}case"tool-call":{if(N.providerExecuted){N.toolName==="code_execution"&&N.input!=null&&typeof N.input=="object"&&"type"in N.input&&typeof N.input.type=="string"&&(N.input.type==="bash_code_execution"||N.input.type==="text_editor_code_execution")?k.push({type:"server_tool_use",id:N.toolCallId,name:N.input.type,input:N.input,cache_control:X}):N.toolName==="code_execution"||N.toolName==="web_fetch"||N.toolName==="web_search"?k.push({type:"server_tool_use",id:N.toolCallId,name:N.toolName,input:N.input,cache_control:X}):r.push({type:"other",message:`provider executed tool call for tool ${N.toolName} is not supported`});break}k.push({type:"tool_use",id:N.toolCallId,name:N.toolName,input:N.input,cache_control:X});break}case"tool-result":{if(N.toolName==="code_execution"){let Z=N.output;if(Z.type!=="json"){r.push({type:"other",message:`provider executed tool result output type ${Z.type} for tool ${N.toolName} is not supported`});break}if(Z.value==null||typeof Z.value!="object"||!("type"in Z.value)||typeof Z.value.type!="string"){r.push({type:"other",message:`provider executed tool result output value is not a valid code execution result for tool ${N.toolName}`});break}if(Z.value.type==="code_execution_result"){let J=await Qo({value:Z.value,schema:nJ});k.push({type:"code_execution_tool_result",tool_use_id:N.toolCallId,content:{type:J.type,stdout:J.stdout,stderr:J.stderr,return_code:J.return_code},cache_control:X})}else{let J=await Qo({value:Z.value,schema:oJ});k.push(J.type==="bash_code_execution_result"||J.type==="bash_code_execution_tool_result_error"?{type:"bash_code_execution_tool_result",tool_use_id:N.toolCallId,cache_control:X,content:J}:{type:"text_editor_code_execution_tool_result",tool_use_id:N.toolCallId,cache_control:X,content:J})}break}if(N.toolName==="web_fetch"){let Z=N.output;if(Z.type!=="json"){r.push({type:"other",message:`provider executed tool result output type ${Z.type} for tool ${N.toolName} is not supported`});break}let J=await Qo({value:Z.value,schema:rJ});k.push({type:"web_fetch_tool_result",tool_use_id:N.toolCallId,content:{type:"web_fetch_result",url:J.url,retrieved_at:J.retrievedAt,content:{type:"document",title:J.content.title,citations:J.content.citations,source:{type:J.content.source.type,media_type:J.content.source.mediaType,data:J.content.source.data}}},cache_control:X});break}if(N.toolName==="web_search"){let Z=N.output;if(Z.type!=="json"){r.push({type:"other",message:`provider executed tool result output type ${Z.type} for tool ${N.toolName} is not supported`});break}let J=await Qo({value:Z.value,schema:tJ});k.push({type:"web_search_tool_result",tool_use_id:N.toolCallId,content:J.map(te=>({url:te.url,title:te.title,page_age:te.pageAge,encrypted_content:te.encryptedContent,type:te.type})),cache_control:X});break}r.push({type:"other",message:`provider executed tool result for tool ${N.toolName} is not supported`});break}}}}y.push({role:"assistant",content:k});break}default:{let k=w;throw new Error(`content type: ${k}`)}}}return{prompt:{system:m,messages:y},betas:d}}a(Tfe,"convertToAnthropicMessagesPrompt");function kfe(e){let t=[],r;for(let n of e){let{role:o}=n;switch(o){case"system":{r?.type!=="system"&&(r={type:"system",messages:[]},t.push(r)),r.messages.push(n);break}case"assistant":{r?.type!=="assistant"&&(r={type:"assistant",messages:[]},t.push(r)),r.messages.push(n);break}case"user":{r?.type!=="user"&&(r={type:"user",messages:[]},t.push(r)),r.messages.push(n);break}case"tool":{r?.type!=="user"&&(r={type:"user",messages:[]},t.push(r)),r.messages.push(n);break}default:{let i=o;throw new Error(`Unsupported role: ${i}`)}}}return t}a(kfe,"groupIntoBlocks");function Y6({finishReason:e,isJsonResponseFromTool:t}){switch(e){case"pause_turn":case"end_turn":case"stop_sequence":return"stop";case"refusal":return"content-filter";case"tool_use":return t?"stop":"tool-calls";case"max_tokens":return"length";default:return"unknown"}}a(Y6,"mapAnthropicStopReason");function eJ(e,t,r){var n;if(e.type!=="page_location"&&e.type!=="char_location")return;let o=t[e.document_index];if(o)return{type:"source",sourceType:"document",id:r(),mediaType:o.mediaType,title:(n=e.document_title)!=null?n:o.title,filename:o.filename,providerMetadata:{anthropic:e.type==="page_location"?{citedText:e.cited_text,startPageNumber:e.start_page_number,endPageNumber:e.end_page_number}:{citedText:e.cited_text,startCharIndex:e.start_char_index,endCharIndex:e.end_char_index}}}}a(eJ,"createCitationSource");var Efe=class{static{a(this,"AnthropicMessagesLanguageModel")}constructor(e,t){this.specificationVersion="v2";var r;this.modelId=e,this.config=t,this.generateId=(r=t.generateId)!=null?r:Vg}supportsUrl(e){return e.protocol==="https:"}get provider(){return this.config.provider}get supportedUrls(){var e,t,r;return(r=(t=(e=this.config).supportedUrls)==null?void 0:t.call(e))!=null?r:{}}async getArgs({userSuppliedBetas:e,prompt:t,maxOutputTokens:r,temperature:n,topP:o,topK:i,frequencyPenalty:s,presencePenalty:u,stopSequences:l,responseFormat:d,seed:p,tools:f,toolChoice:m,providerOptions:y}){var g,h,v,S,b;let w=[];s!=null&&w.push({type:"unsupported-setting",setting:"frequencyPenalty"}),u!=null&&w.push({type:"unsupported-setting",setting:"presencePenalty"}),p!=null&&w.push({type:"unsupported-setting",setting:"seed"}),n!=null&&n>1?(w.push({type:"unsupported-setting",setting:"temperature",details:`${n} exceeds anthropic maximum of 1.0. clamped to 1.0`}),n=1):n!=null&&n<0&&(w.push({type:"unsupported-setting",setting:"temperature",details:`${n} is below anthropic minimum of 0. clamped to 0`}),n=0),d?.type==="json"&&(d.schema==null?w.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format requires a schema. The response format is ignored."}):f!=null&&w.push({type:"unsupported-setting",setting:"tools",details:"JSON response format does not support tools. The provided tools are ignored."}));let k=await bc({provider:"anthropic",providerOptions:y,schema:rfe}),{maxOutputTokens:$,supportsStructuredOutput:A,isKnownModel:O}=Pfe(this.modelId),R=(g=k?.structuredOutputMode)!=null?g:"jsonTool",I=R==="outputFormat"||R==="auto"&&A,N=d?.type==="json"&&d.schema!=null&&!I?{type:"function",name:"json",description:"Respond with a JSON object.",inputSchema:d.schema}:void 0,z=new g1,{prompt:X,betas:Z}=await Tfe({prompt:t,sendReasoning:(h=k?.sendReasoning)!=null?h:!0,warnings:w,cacheControlValidator:z}),J=((v=k?.thinking)==null?void 0:v.type)==="enabled",te=(S=k?.thinking)==null?void 0:S.budgetTokens,ne=r??$,ae={model:this.modelId,max_tokens:ne,temperature:n,top_k:i,top_p:o,stop_sequences:l,...J&&{thinking:{type:"enabled",budget_tokens:te}},...k?.effort&&{output_config:{effort:k.effort}},...I&&d?.type==="json"&&d.schema!=null&&{output_format:{type:"json_schema",schema:d.schema}},...k?.container&&{container:{id:k.container.id,skills:(b=k.container.skills)==null?void 0:b.map(Re=>({type:Re.type,skill_id:Re.skillId,version:Re.version}))}},system:X.system,messages:X.messages};if(J){if(te==null)throw new Et({functionality:"thinking requires a budget"});ae.temperature!=null&&(ae.temperature=void 0,w.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported when thinking is enabled"})),i!=null&&(ae.top_k=void 0,w.push({type:"unsupported-setting",setting:"topK",details:"topK is not supported when thinking is enabled"})),o!=null&&(ae.top_p=void 0,w.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported when thinking is enabled"})),ae.max_tokens=ne+te}O&&ae.max_tokens>$&&(r!=null&&w.push({type:"unsupported-setting",setting:"maxOutputTokens",details:`${ae.max_tokens} (maxOutputTokens + thinkingBudget) is greater than ${this.modelId} ${$} max output tokens. The max output tokens have been limited to ${$}.`}),ae.max_tokens=$),k?.container&&k.container.skills&&k.container.skills.length>0&&(Z.add("code-execution-2025-08-25"),Z.add("skills-2025-10-02"),Z.add("files-api-2025-04-14"),f?.some(Re=>Re.type==="provider-defined"&&Re.id==="anthropic.code_execution_20250825")||w.push({type:"other",message:"code execution tool is required when using skills"})),k?.effort&&Z.add("effort-2025-11-24"),I&&Z.add("structured-outputs-2025-11-13");let{tools:Se,toolChoice:ke,toolWarnings:Xe,betas:Ve}=await gfe(N!=null?{tools:[N],toolChoice:{type:"tool",toolName:N.name},disableParallelToolUse:!0,cacheControlValidator:z}:{tools:f??[],toolChoice:m,disableParallelToolUse:k?.disableParallelToolUse,cacheControlValidator:z}),G=z.getWarnings();return{args:{...ae,tools:Se,tool_choice:ke},warnings:[...w,...Xe,...G],betas:new Set([...Z,...Ve,...e]),usesJsonResponseTool:N!=null}}async getHeaders({betas:e,headers:t}){return j6(await f1(this.config.headers),t,e.size>0?{"anthropic-beta":Array.from(e).join(",")}:{})}async getBetasFromHeaders(e){var t,r;let o=(t=(await f1(this.config.headers))["anthropic-beta"])!=null?t:"",i=(r=e?.["anthropic-beta"])!=null?r:"";return new Set([...o.toLowerCase().split(","),...i.toLowerCase().split(",")].map(s=>s.trim()).filter(s=>s!==""))}buildRequestUrl(e){var t,r,n;return(n=(r=(t=this.config).buildRequestUrl)==null?void 0:r.call(t,this.config.baseURL,e))!=null?n:`${this.config.baseURL}/messages`}transformRequestBody(e){var t,r,n;return(n=(r=(t=this.config).transformRequestBody)==null?void 0:r.call(t,e))!=null?n:e}extractCitationDocuments(e){let t=a(r=>{var n,o;if(r.type!=="file"||r.mediaType!=="application/pdf"&&r.mediaType!=="text/plain")return!1;let i=(n=r.providerOptions)==null?void 0:n.anthropic,s=i?.citations;return(o=s?.enabled)!=null?o:!1},"isCitationPart");return e.filter(r=>r.role==="user").flatMap(r=>r.content).filter(t).map(r=>{var n;let o=r;return{title:(n=o.filename)!=null?n:"Untitled Document",filename:o.filename,mediaType:o.mediaType}})}async doGenerate(e){var t,r,n,o,i,s,u,l;let{args:d,warnings:p,betas:f,usesJsonResponseTool:m}=await this.getArgs({...e,userSuppliedBetas:await this.getBetasFromHeaders(e.headers)}),y=this.extractCitationDocuments(e.prompt),{responseHeaders:g,value:h,rawValue:v}=await m1({url:this.buildRequestUrl(!1),headers:await this.getHeaders({betas:f,headers:e.headers}),body:this.transformRequestBody(d),failedResponseHandler:W6,successfulResponseHandler:J6(Yme),abortSignal:e.abortSignal,fetch:this.config.fetch}),S=[];for(let b of h.content)switch(b.type){case"text":{if(!m&&(S.push({type:"text",text:b.text}),b.citations))for(let w of b.citations){let k=eJ(w,y,this.generateId);k&&S.push(k)}break}case"thinking":{S.push({type:"reasoning",text:b.thinking,providerMetadata:{anthropic:{signature:b.signature}}});break}case"redacted_thinking":{S.push({type:"reasoning",text:"",providerMetadata:{anthropic:{redactedData:b.data}}});break}case"tool_use":{S.push(m?{type:"text",text:JSON.stringify(b.input)}:{type:"tool-call",toolCallId:b.id,toolName:b.name,input:JSON.stringify(b.input)});break}case"server_tool_use":{b.name==="text_editor_code_execution"||b.name==="bash_code_execution"?S.push({type:"tool-call",toolCallId:b.id,toolName:"code_execution",input:JSON.stringify({type:b.name,...b.input}),providerExecuted:!0}):(b.name==="web_search"||b.name==="code_execution"||b.name==="web_fetch")&&S.push({type:"tool-call",toolCallId:b.id,toolName:b.name,input:JSON.stringify(b.input),providerExecuted:!0});break}case"web_fetch_tool_result":{b.content.type==="web_fetch_result"?S.push({type:"tool-result",toolCallId:b.tool_use_id,toolName:"web_fetch",result:{type:"web_fetch_result",url:b.content.url,retrievedAt:b.content.retrieved_at,content:{type:b.content.content.type,title:b.content.content.title,citations:b.content.content.citations,source:{type:b.content.content.source.type,mediaType:b.content.content.source.media_type,data:b.content.content.source.data}}},providerExecuted:!0}):b.content.type==="web_fetch_tool_result_error"&&S.push({type:"tool-result",toolCallId:b.tool_use_id,toolName:"web_fetch",isError:!0,result:{type:"web_fetch_tool_result_error",errorCode:b.content.error_code},providerExecuted:!0});break}case"web_search_tool_result":{if(Array.isArray(b.content)){S.push({type:"tool-result",toolCallId:b.tool_use_id,toolName:"web_search",result:b.content.map(w=>{var k;return{url:w.url,title:w.title,pageAge:(k=w.page_age)!=null?k:null,encryptedContent:w.encrypted_content,type:w.type}}),providerExecuted:!0});for(let w of b.content)S.push({type:"source",sourceType:"url",id:this.generateId(),url:w.url,title:w.title,providerMetadata:{anthropic:{pageAge:(t=w.page_age)!=null?t:null}}})}else S.push({type:"tool-result",toolCallId:b.tool_use_id,toolName:"web_search",isError:!0,result:{type:"web_search_tool_result_error",errorCode:b.content.error_code},providerExecuted:!0});break}case"code_execution_tool_result":{b.content.type==="code_execution_result"?S.push({type:"tool-result",toolCallId:b.tool_use_id,toolName:"code_execution",result:{type:b.content.type,stdout:b.content.stdout,stderr:b.content.stderr,return_code:b.content.return_code},providerExecuted:!0}):b.content.type==="code_execution_tool_result_error"&&S.push({type:"tool-result",toolCallId:b.tool_use_id,toolName:"code_execution",isError:!0,result:{type:"code_execution_tool_result_error",errorCode:b.content.error_code},providerExecuted:!0});break}case"bash_code_execution_tool_result":case"text_editor_code_execution_tool_result":{S.push({type:"tool-result",toolCallId:b.tool_use_id,toolName:"code_execution",result:b.content,providerExecuted:!0});break}}return{content:S,finishReason:Y6({finishReason:h.stop_reason,isJsonResponseFromTool:m}),usage:{inputTokens:h.usage.input_tokens,outputTokens:h.usage.output_tokens,totalTokens:h.usage.input_tokens+h.usage.output_tokens,cachedInputTokens:(r=h.usage.cache_read_input_tokens)!=null?r:void 0},request:{body:d},response:{id:(n=h.id)!=null?n:void 0,modelId:(o=h.model)!=null?o:void 0,headers:g,body:v},warnings:p,providerMetadata:{anthropic:{usage:h.usage,cacheCreationInputTokens:(i=h.usage.cache_creation_input_tokens)!=null?i:null,stopSequence:(s=h.stop_sequence)!=null?s:null,container:h.container?{expiresAt:h.container.expires_at,id:h.container.id,skills:(l=(u=h.container.skills)==null?void 0:u.map(b=>({type:b.type,skillId:b.skill_id,version:b.version})))!=null?l:null}:null}}}}async doStream(e){let{args:t,warnings:r,betas:n,usesJsonResponseTool:o}=await this.getArgs({...e,userSuppliedBetas:await this.getBetasFromHeaders(e.headers)}),i=this.extractCitationDocuments(e.prompt),s={...t,stream:!0},u=this.buildRequestUrl(!0),{responseHeaders:l,value:d}=await m1({url:u,headers:await this.getHeaders({betas:n,headers:e.headers}),body:this.transformRequestBody(s),failedResponseHandler:W6,successfulResponseHandler:F6(efe),abortSignal:e.abortSignal,fetch:this.config.fetch}),p="unknown",f={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},m={},y,g=null,h=null,v=null,S,b=this.generateId,w=!0,k,$=new z6,A=d.pipeThrough(new TransformStream({start(N){N.enqueue({type:"stream-start",warnings:r})},async flush(){$.isPending()&&$.resolve({stream:k,request:{body:s},response:{headers:l}})},transform(N,z){var X,Z,J,te,ne,ae,Se,ke,Xe,Ve;if(e.includeRawChunks&&z.enqueue({type:"raw",rawValue:N.rawValue}),!N.success){z.enqueue({type:"error",error:N.error});return}if(w){if(N.value.type==="error"){$.reject(new Qe({message:N.value.error.message,url:u,requestBodyValues:s,statusCode:N.value.error.type==="overloaded_error"?529:500,responseHeaders:l,responseBody:JSON.stringify(N.value.error),isRetryable:N.value.error.type==="overloaded_error"})),z.terminate();return}w=!1,$.resolve({stream:k,request:{body:s},response:{headers:l}})}let G=N.value;switch(G.type){case"ping":return;case"content_block_start":{let Re=G.content_block.type;switch(S=Re,Re){case"text":{m[G.index]={type:"text"},z.enqueue({type:"text-start",id:String(G.index)});return}case"thinking":{m[G.index]={type:"reasoning"},z.enqueue({type:"reasoning-start",id:String(G.index)});return}case"redacted_thinking":{m[G.index]={type:"reasoning"},z.enqueue({type:"reasoning-start",id:String(G.index),providerMetadata:{anthropic:{redactedData:G.content_block.data}}});return}case"tool_use":{m[G.index]=o?{type:"text"}:{type:"tool-call",toolCallId:G.content_block.id,toolName:G.content_block.name,input:"",firstDelta:!0},z.enqueue(o?{type:"text-start",id:String(G.index)}:{type:"tool-input-start",id:G.content_block.id,toolName:G.content_block.name});return}case"server_tool_use":{if(["web_fetch","web_search","code_execution","text_editor_code_execution","bash_code_execution"].includes(G.content_block.name)){m[G.index]={type:"tool-call",toolCallId:G.content_block.id,toolName:G.content_block.name,input:"",providerExecuted:!0,firstDelta:!0};let ye=G.content_block.name==="text_editor_code_execution"||G.content_block.name==="bash_code_execution"?"code_execution":G.content_block.name;z.enqueue({type:"tool-input-start",id:G.content_block.id,toolName:ye,providerExecuted:!0})}return}case"web_fetch_tool_result":{let ye=G.content_block;ye.content.type==="web_fetch_result"?z.enqueue({type:"tool-result",toolCallId:ye.tool_use_id,toolName:"web_fetch",result:{type:"web_fetch_result",url:ye.content.url,retrievedAt:ye.content.retrieved_at,content:{type:ye.content.content.type,title:ye.content.content.title,citations:ye.content.content.citations,source:{type:ye.content.content.source.type,mediaType:ye.content.content.source.media_type,data:ye.content.content.source.data}}},providerExecuted:!0}):ye.content.type==="web_fetch_tool_result_error"&&z.enqueue({type:"tool-result",toolCallId:ye.tool_use_id,toolName:"web_fetch",isError:!0,result:{type:"web_fetch_tool_result_error",errorCode:ye.content.error_code},providerExecuted:!0});return}case"web_search_tool_result":{let ye=G.content_block;if(Array.isArray(ye.content)){z.enqueue({type:"tool-result",toolCallId:ye.tool_use_id,toolName:"web_search",result:ye.content.map(F=>{var Ke;return{url:F.url,title:F.title,pageAge:(Ke=F.page_age)!=null?Ke:null,encryptedContent:F.encrypted_content,type:F.type}}),providerExecuted:!0});for(let F of ye.content)z.enqueue({type:"source",sourceType:"url",id:b(),url:F.url,title:F.title,providerMetadata:{anthropic:{pageAge:(X=F.page_age)!=null?X:null}}})}else z.enqueue({type:"tool-result",toolCallId:ye.tool_use_id,toolName:"web_search",isError:!0,result:{type:"web_search_tool_result_error",errorCode:ye.content.error_code},providerExecuted:!0});return}case"code_execution_tool_result":{let ye=G.content_block;ye.content.type==="code_execution_result"?z.enqueue({type:"tool-result",toolCallId:ye.tool_use_id,toolName:"code_execution",result:{type:ye.content.type,stdout:ye.content.stdout,stderr:ye.content.stderr,return_code:ye.content.return_code},providerExecuted:!0}):ye.content.type==="code_execution_tool_result_error"&&z.enqueue({type:"tool-result",toolCallId:ye.tool_use_id,toolName:"code_execution",isError:!0,result:{type:"code_execution_tool_result_error",errorCode:ye.content.error_code},providerExecuted:!0});return}case"bash_code_execution_tool_result":case"text_editor_code_execution_tool_result":{let ye=G.content_block;z.enqueue({type:"tool-result",toolCallId:ye.tool_use_id,toolName:"code_execution",result:ye.content,providerExecuted:!0});return}default:{let ye=Re;throw new Error(`Unsupported content block type: ${ye}`)}}}case"content_block_stop":{if(m[G.index]!=null){let Re=m[G.index];switch(Re.type){case"text":{z.enqueue({type:"text-end",id:String(G.index)});break}case"reasoning":{z.enqueue({type:"reasoning-end",id:String(G.index)});break}case"tool-call":if(!o){z.enqueue({type:"tool-input-end",id:Re.toolCallId});let ye=Re.toolName==="text_editor_code_execution"||Re.toolName==="bash_code_execution"?"code_execution":Re.toolName;z.enqueue({type:"tool-call",toolCallId:Re.toolCallId,toolName:ye,input:Re.input,providerExecuted:Re.providerExecuted})}break}delete m[G.index]}S=void 0;return}case"content_block_delta":{let Re=G.delta.type;switch(Re){case"text_delta":{if(o)return;z.enqueue({type:"text-delta",id:String(G.index),delta:G.delta.text});return}case"thinking_delta":{z.enqueue({type:"reasoning-delta",id:String(G.index),delta:G.delta.thinking});return}case"signature_delta":{S==="thinking"&&z.enqueue({type:"reasoning-delta",id:String(G.index),delta:"",providerMetadata:{anthropic:{signature:G.delta.signature}}});return}case"input_json_delta":{let ye=m[G.index],F=G.delta.partial_json;if(F.length===0)return;if(o){if(ye?.type!=="text")return;z.enqueue({type:"text-delta",id:String(G.index),delta:F})}else{if(ye?.type!=="tool-call")return;ye.firstDelta&&(ye.toolName==="bash_code_execution"||ye.toolName==="text_editor_code_execution")&&(F=`{"type": "${ye.toolName}",${F.substring(1)}`),z.enqueue({type:"tool-input-delta",id:ye.toolCallId,delta:F}),ye.input+=F,ye.firstDelta=!1}return}case"citations_delta":{let ye=G.delta.citation,F=eJ(ye,i,b);F&&z.enqueue(F);return}default:{let ye=Re;throw new Error(`Unsupported delta type: ${ye}`)}}}case"message_start":{f.inputTokens=G.message.usage.input_tokens,f.cachedInputTokens=(Z=G.message.usage.cache_read_input_tokens)!=null?Z:void 0,y={...G.message.usage},g=(J=G.message.usage.cache_creation_input_tokens)!=null?J:null,z.enqueue({type:"response-metadata",id:(te=G.message.id)!=null?te:void 0,modelId:(ne=G.message.model)!=null?ne:void 0});return}case"message_delta":{f.outputTokens=G.usage.output_tokens,f.totalTokens=((ae=f.inputTokens)!=null?ae:0)+((Se=G.usage.output_tokens)!=null?Se:0),p=Y6({finishReason:G.delta.stop_reason,isJsonResponseFromTool:o}),h=(ke=G.delta.stop_sequence)!=null?ke:null,v=G.delta.container!=null?{expiresAt:G.delta.container.expires_at,id:G.delta.container.id,skills:(Ve=(Xe=G.delta.container.skills)==null?void 0:Xe.map(Re=>({type:Re.type,skillId:Re.skill_id,version:Re.version})))!=null?Ve:null}:null,y={...y,...G.usage};return}case"message_stop":{z.enqueue({type:"finish",finishReason:p,usage:f,providerMetadata:{anthropic:{usage:y??null,cacheCreationInputTokens:g,stopSequence:h,container:v}}});return}case"error":{z.enqueue({type:"error",error:G.error});return}default:{let Re=G;throw new Error(`Unsupported chunk type: ${Re}`)}}}})),[O,R]=A.tee();k=R;let I=O.getReader();return(async()=>{try{let{done:N}=await I.read();N||await I.cancel()}catch{try{await I.cancel()}catch{}}finally{I.releaseLock()}})(),$.promise}};function Pfe(e){return e.includes("claude-sonnet-4-5")||e.includes("claude-opus-4-5")?{maxOutputTokens:64e3,supportsStructuredOutput:!0,isKnownModel:!0}:e.includes("claude-opus-4-1")?{maxOutputTokens:32e3,supportsStructuredOutput:!0,isKnownModel:!0}:e.includes("claude-sonnet-4-")||e.includes("claude-3-7-sonnet")||e.includes("claude-haiku-4-5")?{maxOutputTokens:64e3,supportsStructuredOutput:!1,isKnownModel:!0}:e.includes("claude-opus-4-")?{maxOutputTokens:32e3,supportsStructuredOutput:!1,isKnownModel:!0}:e.includes("claude-3-5-haiku")?{maxOutputTokens:8192,supportsStructuredOutput:!1,isKnownModel:!0}:e.includes("claude-3-haiku")?{maxOutputTokens:4096,supportsStructuredOutput:!1,isKnownModel:!0}:{maxOutputTokens:4096,supportsStructuredOutput:!1,isKnownModel:!1}}a(Pfe,"getModelCapabilities");var Ife=it(()=>ot(c.object({command:c.string(),restart:c.boolean().optional()}))),Ofe=$r({id:"anthropic.bash_20241022",name:"bash",inputSchema:Ife}),Afe=it(()=>ot(c.object({command:c.string(),restart:c.boolean().optional()}))),Cfe=$r({id:"anthropic.bash_20250124",name:"bash",inputSchema:Afe}),Rfe=it(()=>ot(c.object({action:c.enum(["key","type","mouse_move","left_click","left_click_drag","right_click","middle_click","double_click","screenshot","cursor_position"]),coordinate:c.array(c.number().int()).optional(),text:c.string().optional()}))),$fe=$r({id:"anthropic.computer_20241022",name:"computer",inputSchema:Rfe}),Nfe=it(()=>ot(c.object({action:c.enum(["key","hold_key","type","cursor_position","mouse_move","left_mouse_down","left_mouse_up","left_click","left_click_drag","right_click","middle_click","double_click","triple_click","scroll","wait","screenshot"]),coordinate:c.tuple([c.number().int(),c.number().int()]).optional(),duration:c.number().optional(),scroll_amount:c.number().optional(),scroll_direction:c.enum(["up","down","left","right"]).optional(),start_coordinate:c.tuple([c.number().int(),c.number().int()]).optional(),text:c.string().optional()}))),jfe=$r({id:"anthropic.computer_20250124",name:"computer",inputSchema:Nfe}),zfe=it(()=>ot(c.discriminatedUnion("command",[c.object({command:c.literal("view"),path:c.string(),view_range:c.tuple([c.number(),c.number()]).optional()}),c.object({command:c.literal("create"),path:c.string(),file_text:c.string()}),c.object({command:c.literal("str_replace"),path:c.string(),old_str:c.string(),new_str:c.string()}),c.object({command:c.literal("insert"),path:c.string(),insert_line:c.number(),insert_text:c.string()}),c.object({command:c.literal("delete"),path:c.string()}),c.object({command:c.literal("rename"),old_path:c.string(),new_path:c.string()})]))),Dfe=$r({id:"anthropic.memory_20250818",name:"memory",inputSchema:zfe}),Mfe=it(()=>ot(c.object({command:c.enum(["view","create","str_replace","insert","undo_edit"]),path:c.string(),file_text:c.string().optional(),insert_line:c.number().int().optional(),new_str:c.string().optional(),old_str:c.string().optional(),view_range:c.array(c.number().int()).optional()}))),qfe=$r({id:"anthropic.text_editor_20241022",name:"str_replace_editor",inputSchema:Mfe}),Ufe=it(()=>ot(c.object({command:c.enum(["view","create","str_replace","insert","undo_edit"]),path:c.string(),file_text:c.string().optional(),insert_line:c.number().int().optional(),new_str:c.string().optional(),old_str:c.string().optional(),view_range:c.array(c.number().int()).optional()}))),Lfe=$r({id:"anthropic.text_editor_20250124",name:"str_replace_editor",inputSchema:Ufe}),Ffe=it(()=>ot(c.object({command:c.enum(["view","create","str_replace","insert"]),path:c.string(),file_text:c.string().optional(),insert_line:c.number().int().optional(),new_str:c.string().optional(),old_str:c.string().optional(),view_range:c.array(c.number().int()).optional()}))),Jfe=$r({id:"anthropic.text_editor_20250429",name:"str_replace_based_edit_tool",inputSchema:Ffe}),Bfe={bash_20241022:Ofe,bash_20250124:Cfe,codeExecution_20250522:_fe,codeExecution_20250825:wfe,computer_20241022:$fe,computer_20250124:jfe,memory_20250818:Dfe,textEditor_20241022:qfe,textEditor_20250124:Lfe,textEditor_20250429:Jfe,textEditor_20250728:sfe,webFetch_20250910:hfe,webSearch_20250305:dfe};function Hfe(e={}){var t,r;let n=(t=G6(M6({settingValue:e.baseURL,environmentVariableName:"ANTHROPIC_BASE_URL"})))!=null?t:"https://api.anthropic.com/v1",o=(r=e.name)!=null?r:"anthropic.messages",i=a(()=>d1({"anthropic-version":"2023-06-01","x-api-key":D6({apiKey:e.apiKey,environmentVariableName:"ANTHROPIC_API_KEY",description:"Anthropic"}),...e.headers},`ai-sdk/anthropic/${Qme}`),"getHeaders"),s=a(l=>{var d;return new Efe(l,{provider:o,baseURL:n,headers:i,fetch:e.fetch,generateId:(d=e.generateId)!=null?d:Vg,supportedUrls:a(()=>({"image/*":[/^https?:\/\/.*$/]}),"supportedUrls")})},"createChatModel"),u=a(function(l){if(new.target)throw new Error("The Anthropic model function cannot be called with the new keyword.");return s(l)},"provider");return u.languageModel=s,u.chat=s,u.messages=s,u.textEmbeddingModel=l=>{throw new i1({modelId:l,modelType:"textEmbeddingModel"})},u.imageModel=l=>{throw new i1({modelId:l,modelType:"imageModel"})},u.tools=Bfe,u}a(Hfe,"createAnthropic");var y1=Hfe();function Ss(...e){return e.reduce((t,r)=>({...t,...r??{}}),{})}a(Ss,"combineHeaders");function Kg(e){return Object.fromEntries([...e.headers])}a(Kg,"extractResponseHeaders");var Vfe=a(({prefix:e,size:t=16,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:n="-"}={})=>{let o=a(()=>{let i=r.length,s=new Array(t);for(let u=0;u<t;u++)s[u]=r[Math.random()*i|0];return s.join("")},"generator");if(e==null)return o;if(r.includes(n))throw new Yn({argument:"separator",message:`The separator "${n}" must not be part of the alphabet "${r}".`});return()=>`${e}${n}${o()}`},"createIdGenerator"),Gg=Vfe();function b1(e){return(e instanceof Error||e instanceof DOMException)&&(e.name==="AbortError"||e.name==="ResponseAborted"||e.name==="TimeoutError")}a(b1,"isAbortError");var Zfe=["fetch failed","failed to fetch"];function Kfe({error:e,url:t,requestBodyValues:r}){if(b1(e))return e;if(e instanceof TypeError&&Zfe.includes(e.message.toLowerCase())){let n=e.cause;if(n!=null)return new Qe({message:`Cannot connect to API: ${n.message}`,cause:n,url:t,requestBodyValues:r,isRetryable:!0})}return e}a(Kfe,"handleFetchError");function Gfe(e=globalThis){var t,r,n;return e.window?"runtime/browser":(t=e.navigator)!=null&&t.userAgent?`runtime/${e.navigator.userAgent.toLowerCase()}`:(n=(r=e.process)==null?void 0:r.versions)!=null&&n.node?`runtime/node.js/${e.process.version.substring(0)}`:e.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}a(Gfe,"getRuntimeEnvironmentUserAgent");function Wfe(e){if(e==null)return{};let t={};if(e instanceof Headers)e.forEach((r,n)=>{t[n.toLowerCase()]=r});else{Array.isArray(e)||(e=Object.entries(e));for(let[r,n]of e)n!=null&&(t[r.toLowerCase()]=n)}return t}a(Wfe,"normalizeHeaders");function w1(e,...t){let r=new Headers(Wfe(e)),n=r.get("user-agent")||"";return r.set("user-agent",[n,...t].filter(Boolean).join(" ")),Object.fromEntries(r.entries())}a(w1,"withUserAgentSuffix");var Qfe="3.0.18";function uJ({apiKey:e,environmentVariableName:t,apiKeyParameterName:r="apiKey",description:n}){if(typeof e=="string")return e;if(e!=null)throw new cn({message:`${n} API key must be a string.`});if(typeof process>"u")throw new cn({message:`${n} API key is missing. Pass it using the '${r}' parameter. Environment variables is not supported in this environment.`});if(e=process.env[t],e==null)throw new cn({message:`${n} API key is missing. Pass it using the '${r}' parameter or the ${t} environment variable.`});if(typeof e!="string")throw new cn({message:`${n} API key must be a string. The value of the ${t} environment variable is not a string.`});return e}a(uJ,"loadApiKey");var Xfe=/"__proto__"\s*:/,Yfe=/"constructor"\s*:/;function iJ(e){let t=JSON.parse(e);return t===null||typeof t!="object"||Xfe.test(e)===!1&&Yfe.test(e)===!1?t:ehe(t)}a(iJ,"_parse");function ehe(e){let t=[e];for(;t.length;){let r=t;t=[];for(let n of r){if(Object.prototype.hasOwnProperty.call(n,"__proto__"))throw new SyntaxError("Object contains forbidden prototype property");if(Object.prototype.hasOwnProperty.call(n,"constructor")&&Object.prototype.hasOwnProperty.call(n.constructor,"prototype"))throw new SyntaxError("Object contains forbidden prototype property");for(let o in n){let i=n[o];i&&typeof i=="object"&&t.push(i)}}}return e}a(ehe,"filter");function cJ(e){let{stackTraceLimit:t}=Error;try{Error.stackTraceLimit=0}catch{return iJ(e)}try{return iJ(e)}finally{Error.stackTraceLimit=t}}a(cJ,"secureJsonParse");var Zg=Symbol.for("vercel.ai.validator");function the(e){return{[Zg]:!0,validate:e}}a(the,"validator");function rhe(e){return typeof e=="object"&&e!==null&&Zg in e&&e[Zg]===!0&&"validate"in e}a(rhe,"isValidator");function nhe(e){return rhe(e)?e:typeof e=="function"?e():ohe(e)}a(nhe,"asValidator");function ohe(e){return the(async t=>{let r=await e["~standard"].validate(t);return r.issues==null?{success:!0,value:r.value}:{success:!1,error:new Qt({value:t,cause:r.issues})}})}a(ohe,"standardSchemaValidator");async function ihe({value:e,schema:t}){let r=await x1({value:e,schema:t});if(!r.success)throw Qt.wrap({value:e,cause:r.error});return r.value}a(ihe,"validateTypes");async function x1({value:e,schema:t}){let r=nhe(t);try{if(r.validate==null)return{success:!0,value:e,rawValue:e};let n=await r.validate(e);return n.success?{success:!0,value:n.value,rawValue:e}:{success:!1,error:Qt.wrap({value:e,cause:n.error}),rawValue:e}}catch(n){return{success:!1,error:Qt.wrap({value:e,cause:n}),rawValue:e}}}a(x1,"safeValidateTypes");async function ahe({text:e,schema:t}){try{let r=cJ(e);return t==null?r:ihe({value:r,schema:t})}catch(r){throw un.isInstance(r)||Qt.isInstance(r)?r:new un({text:e,cause:r})}}a(ahe,"parseJSON");async function lJ({text:e,schema:t}){try{let r=cJ(e);return t==null?{success:!0,value:r,rawValue:r}:await x1({value:r,schema:t})}catch(r){return{success:!1,error:un.isInstance(r)?r:new un({text:e,cause:r}),rawValue:void 0}}}a(lJ,"safeParseJSON");function she({stream:e,schema:t}){return e.pipeThrough(new TextDecoderStream).pipeThrough(new Oa).pipeThrough(new TransformStream({async transform({data:r},n){r!=="[DONE]"&&n.enqueue(await lJ({text:r,schema:t}))}}))}a(she,"parseJsonEventStream");async function Sc({provider:e,providerOptions:t,schema:r}){if(t?.[e]==null)return;let n=await x1({value:t[e],schema:r});if(!n.success)throw new Yn({argument:"providerOptions",message:`invalid ${e} provider options`,cause:n.error});return n.value}a(Sc,"parseProviderOptions");var uhe=a(()=>globalThis.fetch,"getOriginalFetch2"),Ca=a(async({url:e,headers:t,body:r,failedResponseHandler:n,successfulResponseHandler:o,abortSignal:i,fetch:s})=>che({url:e,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(r),values:r},failedResponseHandler:n,successfulResponseHandler:o,abortSignal:i,fetch:s}),"postJsonToApi");var che=a(async({url:e,headers:t={},body:r,successfulResponseHandler:n,failedResponseHandler:o,abortSignal:i,fetch:s=uhe()})=>{try{let u=await s(e,{method:"POST",headers:w1(t,`ai-sdk/provider-utils/${Qfe}`,Gfe()),body:r.content,signal:i}),l=Kg(u);if(!u.ok){let d;try{d=await o({response:u,url:e,requestBodyValues:r.values})}catch(p){throw b1(p)||Qe.isInstance(p)?p:new Qe({message:"Failed to process error response",cause:p,statusCode:u.status,url:e,responseHeaders:l,requestBodyValues:r.values})}throw d.value}try{return await n({response:u,url:e,requestBodyValues:r.values})}catch(d){throw d instanceof Error&&(b1(d)||Qe.isInstance(d))?d:new Qe({message:"Failed to process successful response",cause:d,statusCode:u.status,url:e,responseHeaders:l,requestBodyValues:r.values})}}catch(u){throw Kfe({error:u,url:e,requestBodyValues:r.values})}},"postToApi");function Ra({id:e,name:t,inputSchema:r}){return({execute:n,outputSchema:o,toModelOutput:i,onInputStart:s,onInputDelta:u,onInputAvailable:l,...d})=>({type:"provider-defined",id:e,name:t,args:d,inputSchema:r,outputSchema:o,execute:n,toModelOutput:i,onInputStart:s,onInputDelta:u,onInputAvailable:l})}a(Ra,"createProviderDefinedToolFactory");function dJ({id:e,name:t,inputSchema:r,outputSchema:n}){return({execute:o,toModelOutput:i,onInputStart:s,onInputDelta:u,onInputAvailable:l,...d})=>({type:"provider-defined",id:e,name:t,args:d,inputSchema:r,outputSchema:n,execute:o,toModelOutput:i,onInputStart:s,onInputDelta:u,onInputAvailable:l})}a(dJ,"createProviderDefinedToolFactoryWithOutputSchema");async function ws(e){return typeof e=="function"&&(e=e()),Promise.resolve(e)}a(ws,"resolve");var pJ=a(({errorSchema:e,errorToMessage:t,isRetryable:r})=>async({response:n,url:o,requestBodyValues:i})=>{let s=await n.text(),u=Kg(n);if(s.trim()==="")return{responseHeaders:u,value:new Qe({message:n.statusText,url:o,requestBodyValues:i,statusCode:n.status,responseHeaders:u,responseBody:s,isRetryable:r?.(n)})};try{let l=await ahe({text:s,schema:e});return{responseHeaders:u,value:new Qe({message:t(l),url:o,requestBodyValues:i,statusCode:n.status,responseHeaders:u,responseBody:s,data:l,isRetryable:r?.(n,l)})}}catch{return{responseHeaders:u,value:new Qe({message:n.statusText,url:o,requestBodyValues:i,statusCode:n.status,responseHeaders:u,responseBody:s,isRetryable:r?.(n)})}}},"createJsonErrorResponseHandler"),mJ=a(e=>async({response:t})=>{let r=Kg(t);if(t.body==null)throw new _c({});return{responseHeaders:r,value:she({stream:t.body,schema:e})}},"createEventSourceResponseHandler");var xs=a(e=>async({response:t,url:r,requestBodyValues:n})=>{let o=await t.text(),i=await lJ({text:o,schema:e}),s=Kg(t);if(!i.success)throw new Qe({message:"Invalid JSON response",cause:i.error,statusCode:t.status,responseHeaders:s,responseBody:o,url:r,requestBodyValues:n});return{responseHeaders:s,value:i.value,rawValue:i.rawValue}},"createJsonResponseHandler");var lhe=a((e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")},"getRelativePath"),dhe=Symbol("Let zodToJsonSchema decide on which parser to use"),aJ={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},phe=a(e=>typeof e=="string"?{...aJ,name:e}:{...aJ,...e},"getDefaultOptions");function Un(){return{}}a(Un,"parseAnyDef");function mhe(e,t){var r,n,o;let i={type:"array"};return(r=e.type)!=null&&r._def&&((o=(n=e.type)==null?void 0:n._def)==null?void 0:o.typeName)!==q.ZodAny&&(i.items=Rt(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&(i.minItems=e.minLength.value),e.maxLength&&(i.maxItems=e.maxLength.value),e.exactLength&&(i.minItems=e.exactLength.value,i.maxItems=e.exactLength.value),i}a(mhe,"parseArrayDef");function fhe(e){let t={type:"integer",format:"int64"};if(!e.checks)return t;for(let r of e.checks)switch(r.kind){case"min":r.inclusive?t.minimum=r.value:t.exclusiveMinimum=r.value;break;case"max":r.inclusive?t.maximum=r.value:t.exclusiveMaximum=r.value;break;case"multipleOf":t.multipleOf=r.value;break}return t}a(fhe,"parseBigintDef");function hhe(){return{type:"boolean"}}a(hhe,"parseBooleanDef");function fJ(e,t){return Rt(e.type._def,t)}a(fJ,"parseBrandedDef");var ghe=a((e,t)=>Rt(e.innerType._def,t),"parseCatchDef");function hJ(e,t,r){let n=r??t.dateStrategy;if(Array.isArray(n))return{anyOf:n.map((o,i)=>hJ(e,t,o))};switch(n){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return yhe(e)}}a(hJ,"parseDateDef");var yhe=a(e=>{let t={type:"integer",format:"unix-time"};for(let r of e.checks)switch(r.kind){case"min":t.minimum=r.value;break;case"max":t.maximum=r.value;break}return t},"integerDateParser");function vhe(e,t){return{...Rt(e.innerType._def,t),default:e.defaultValue()}}a(vhe,"parseDefaultDef");function _he(e,t){return t.effectStrategy==="input"?Rt(e.schema._def,t):Un()}a(_he,"parseEffectsDef");function bhe(e){return{type:"string",enum:Array.from(e.values)}}a(bhe,"parseEnumDef");var She=a(e=>"type"in e&&e.type==="string"?!1:"allOf"in e,"isJsonSchema7AllOfType");function whe(e,t){let r=[Rt(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),Rt(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(o=>!!o),n=[];return r.forEach(o=>{if(She(o))n.push(...o.allOf);else{let i=o;if("additionalProperties"in o&&o.additionalProperties===!1){let{additionalProperties:s,...u}=o;i=u}n.push(i)}}),n.length?{allOf:n}:void 0}a(whe,"parseIntersectionDef");function xhe(e){let t=typeof e.value;return t!=="bigint"&&t!=="number"&&t!=="boolean"&&t!=="string"?{type:Array.isArray(e.value)?"array":"object"}:{type:t==="bigint"?"integer":t,const:e.value}}a(xhe,"parseLiteralDef");var v1=void 0,Ao={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:a(()=>(v1===void 0&&(v1=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),v1),"emoji"),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function gJ(e,t){let r={type:"string"};if(e.checks)for(let n of e.checks)switch(n.kind){case"min":r.minLength=typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value;break;case"max":r.maxLength=typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value;break;case"email":switch(t.emailStrategy){case"format:email":Co(r,"email",n.message,t);break;case"format:idn-email":Co(r,"idn-email",n.message,t);break;case"pattern:zod":dn(r,Ao.email,n.message,t);break}break;case"url":Co(r,"uri",n.message,t);break;case"uuid":Co(r,"uuid",n.message,t);break;case"regex":dn(r,n.regex,n.message,t);break;case"cuid":dn(r,Ao.cuid,n.message,t);break;case"cuid2":dn(r,Ao.cuid2,n.message,t);break;case"startsWith":dn(r,RegExp(`^${_1(n.value,t)}`),n.message,t);break;case"endsWith":dn(r,RegExp(`${_1(n.value,t)}$`),n.message,t);break;case"datetime":Co(r,"date-time",n.message,t);break;case"date":Co(r,"date",n.message,t);break;case"time":Co(r,"time",n.message,t);break;case"duration":Co(r,"duration",n.message,t);break;case"length":r.minLength=typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,r.maxLength=typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value;break;case"includes":{dn(r,RegExp(_1(n.value,t)),n.message,t);break}case"ip":{n.version!=="v6"&&Co(r,"ipv4",n.message,t),n.version!=="v4"&&Co(r,"ipv6",n.message,t);break}case"base64url":dn(r,Ao.base64url,n.message,t);break;case"jwt":dn(r,Ao.jwt,n.message,t);break;case"cidr":{n.version!=="v6"&&dn(r,Ao.ipv4Cidr,n.message,t),n.version!=="v4"&&dn(r,Ao.ipv6Cidr,n.message,t);break}case"emoji":dn(r,Ao.emoji(),n.message,t);break;case"ulid":{dn(r,Ao.ulid,n.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{Co(r,"binary",n.message,t);break}case"contentEncoding:base64":{r.contentEncoding="base64";break}case"pattern:zod":{dn(r,Ao.base64,n.message,t);break}}break}case"nanoid":dn(r,Ao.nanoid,n.message,t);case"toLowerCase":case"toUpperCase":case"trim":break;default:}return r}a(gJ,"parseStringDef");function _1(e,t){return t.patternStrategy==="escape"?khe(e):e}a(_1,"escapeLiteralCheckValue");var The=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function khe(e){let t="";for(let r=0;r<e.length;r++)The.has(e[r])||(t+="\\"),t+=e[r];return t}a(khe,"escapeNonAlphaNumeric");function Co(e,t,r,n){var o;e.format||(o=e.anyOf)!=null&&o.some(i=>i.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format}),delete e.format),e.anyOf.push({format:t,...r&&n.errorMessages&&{errorMessage:{format:r}}})):e.format=t}a(Co,"addFormat");function dn(e,t,r,n){var o;e.pattern||(o=e.allOf)!=null&&o.some(i=>i.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern}),delete e.pattern),e.allOf.push({pattern:sJ(t,n),...r&&n.errorMessages&&{errorMessage:{pattern:r}}})):e.pattern=sJ(t,n)}a(dn,"addPattern");function sJ(e,t){var r;if(!t.applyRegexFlags||!e.flags)return e.source;let n={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},o=n.i?e.source.toLowerCase():e.source,i="",s=!1,u=!1,l=!1;for(let d=0;d<o.length;d++){if(s){i+=o[d],s=!1;continue}if(n.i){if(u){if(o[d].match(/[a-z]/)){l?(i+=o[d],i+=`${o[d-2]}-${o[d]}`.toUpperCase(),l=!1):o[d+1]==="-"&&((r=o[d+2])!=null&&r.match(/[a-z]/))?(i+=o[d],l=!0):i+=`${o[d]}${o[d].toUpperCase()}`;continue}}else if(o[d].match(/[a-z]/)){i+=`[${o[d]}${o[d].toUpperCase()}]`;continue}}if(n.m){if(o[d]==="^"){i+=`(^|(?<=[\r
]))`;continue}else if(o[d]==="$"){i+=`($|(?=[\r
]))`;continue}}if(n.s&&o[d]==="."){i+=u?`${o[d]}\r
`:`[${o[d]}\r
]`;continue}i+=o[d],o[d]==="\\"?s=!0:u&&o[d]==="]"?u=!1:!u&&o[d]==="["&&(u=!0)}try{new RegExp(i)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return i}a(sJ,"stringifyRegExpWithFlags");function yJ(e,t){var r,n,o,i,s,u;let l={type:"object",additionalProperties:(r=Rt(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]}))!=null?r:t.allowedAdditionalProperties};if(((n=e.keyType)==null?void 0:n._def.typeName)===q.ZodString&&((o=e.keyType._def.checks)!=null&&o.length)){let{type:d,...p}=gJ(e.keyType._def,t);return{...l,propertyNames:p}}else{if(((i=e.keyType)==null?void 0:i._def.typeName)===q.ZodEnum)return{...l,propertyNames:{enum:e.keyType._def.values}};if(((s=e.keyType)==null?void 0:s._def.typeName)===q.ZodBranded&&e.keyType._def.type._def.typeName===q.ZodString&&((u=e.keyType._def.type._def.checks)!=null&&u.length)){let{type:d,...p}=fJ(e.keyType._def,t);return{...l,propertyNames:p}}}return l}a(yJ,"parseRecordDef");function Ehe(e,t){if(t.mapStrategy==="record")return yJ(e,t);let r=Rt(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||Un(),n=Rt(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||Un();return{type:"array",maxItems:125,items:{type:"array",items:[r,n],minItems:2,maxItems:2}}}a(Ehe,"parseMapDef");function Phe(e){let t=e.values,n=Object.keys(e.values).filter(i=>typeof t[t[i]]!="number").map(i=>t[i]),o=Array.from(new Set(n.map(i=>typeof i)));return{type:o.length===1?o[0]==="string"?"string":"number":["string","number"],enum:n}}a(Phe,"parseNativeEnumDef");function Ihe(){return{not:Un()}}a(Ihe,"parseNeverDef");function Ohe(){return{type:"null"}}a(Ohe,"parseNullDef");var S1={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function Ahe(e,t){let r=e.options instanceof Map?Array.from(e.options.values()):e.options;if(r.every(n=>n._def.typeName in S1&&(!n._def.checks||!n._def.checks.length))){let n=r.reduce((o,i)=>{let s=S1[i._def.typeName];return s&&!o.includes(s)?[...o,s]:o},[]);return{type:n.length>1?n:n[0]}}else if(r.every(n=>n._def.typeName==="ZodLiteral"&&!n.description)){let n=r.reduce((o,i)=>{let s=typeof i._def.value;switch(s){case"string":case"number":case"boolean":return[...o,s];case"bigint":return[...o,"integer"];case"object":if(i._def.value===null)return[...o,"null"];case"symbol":case"undefined":case"function":default:return o}},[]);if(n.length===r.length){let o=n.filter((i,s,u)=>u.indexOf(i)===s);return{type:o.length>1?o:o[0],enum:r.reduce((i,s)=>i.includes(s._def.value)?i:[...i,s._def.value],[])}}}else if(r.every(n=>n._def.typeName==="ZodEnum"))return{type:"string",enum:r.reduce((n,o)=>[...n,...o._def.values.filter(i=>!n.includes(i))],[])};return Che(e,t)}a(Ahe,"parseUnionDef");var Che=a((e,t)=>{let r=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((n,o)=>Rt(n._def,{...t,currentPath:[...t.currentPath,"anyOf",`${o}`]})).filter(n=>!!n&&(!t.strictUnions||typeof n=="object"&&Object.keys(n).length>0));return r.length?{anyOf:r}:void 0},"asAnyOf");function Rhe(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return{type:[S1[e.innerType._def.typeName],"null"]};let r=Rt(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}a(Rhe,"parseNullableDef");function $he(e){let t={type:"number"};if(!e.checks)return t;for(let r of e.checks)switch(r.kind){case"int":t.type="integer";break;case"min":r.inclusive?t.minimum=r.value:t.exclusiveMinimum=r.value;break;case"max":r.inclusive?t.maximum=r.value:t.exclusiveMaximum=r.value;break;case"multipleOf":t.multipleOf=r.value;break}return t}a($he,"parseNumberDef");function Nhe(e,t){let r={type:"object",properties:{}},n=[],o=e.shape();for(let s in o){let u=o[s];if(u===void 0||u._def===void 0)continue;let l=zhe(u),d=Rt(u._def,{...t,currentPath:[...t.currentPath,"properties",s],propertyPath:[...t.currentPath,"properties",s]});d!==void 0&&(r.properties[s]=d,l||n.push(s))}n.length&&(r.required=n);let i=jhe(e,t);return i!==void 0&&(r.additionalProperties=i),r}a(Nhe,"parseObjectDef");function jhe(e,t){if(e.catchall._def.typeName!=="ZodNever")return Rt(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}a(jhe,"decideAdditionalProperties");function zhe(e){try{return e.isOptional()}catch{return!0}}a(zhe,"safeIsOptional");var Dhe=a((e,t)=>{var r;if(t.currentPath.toString()===((r=t.propertyPath)==null?void 0:r.toString()))return Rt(e.innerType._def,t);let n=Rt(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return n?{anyOf:[{not:Un()},n]}:Un()},"parseOptionalDef"),Mhe=a((e,t)=>{if(t.pipeStrategy==="input")return Rt(e.in._def,t);if(t.pipeStrategy==="output")return Rt(e.out._def,t);let r=Rt(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),n=Rt(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,n].filter(o=>o!==void 0)}},"parsePipelineDef");function qhe(e,t){return Rt(e.type._def,t)}a(qhe,"parsePromiseDef");function Uhe(e,t){let n={type:"array",uniqueItems:!0,items:Rt(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&(n.minItems=e.minSize.value),e.maxSize&&(n.maxItems=e.maxSize.value),n}a(Uhe,"parseSetDef");function Lhe(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((r,n)=>Rt(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[]),additionalItems:Rt(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((r,n)=>Rt(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[])}}a(Lhe,"parseTupleDef");function Fhe(){return{not:Un()}}a(Fhe,"parseUndefinedDef");function Jhe(){return Un()}a(Jhe,"parseUnknownDef");var Bhe=a((e,t)=>Rt(e.innerType._def,t),"parseReadonlyDef"),Hhe=a((e,t,r)=>{switch(t){case q.ZodString:return gJ(e,r);case q.ZodNumber:return $he(e);case q.ZodObject:return Nhe(e,r);case q.ZodBigInt:return fhe(e);case q.ZodBoolean:return hhe();case q.ZodDate:return hJ(e,r);case q.ZodUndefined:return Fhe();case q.ZodNull:return Ohe();case q.ZodArray:return mhe(e,r);case q.ZodUnion:case q.ZodDiscriminatedUnion:return Ahe(e,r);case q.ZodIntersection:return whe(e,r);case q.ZodTuple:return Lhe(e,r);case q.ZodRecord:return yJ(e,r);case q.ZodLiteral:return xhe(e);case q.ZodEnum:return bhe(e);case q.ZodNativeEnum:return Phe(e);case q.ZodNullable:return Rhe(e,r);case q.ZodOptional:return Dhe(e,r);case q.ZodMap:return Ehe(e,r);case q.ZodSet:return Uhe(e,r);case q.ZodLazy:return()=>e.getter()._def;case q.ZodPromise:return qhe(e,r);case q.ZodNaN:case q.ZodNever:return Ihe();case q.ZodEffects:return _he(e,r);case q.ZodAny:return Un();case q.ZodUnknown:return Jhe();case q.ZodDefault:return vhe(e,r);case q.ZodBranded:return fJ(e,r);case q.ZodReadonly:return Bhe(e,r);case q.ZodCatch:return ghe(e,r);case q.ZodPipeline:return Mhe(e,r);case q.ZodFunction:case q.ZodVoid:case q.ZodSymbol:return;default:return(n=>{})(t)}},"selectParser");function Rt(e,t,r=!1){var n;let o=t.seen.get(e);if(t.override){let l=(n=t.override)==null?void 0:n.call(t,e,t,o,r);if(l!==dhe)return l}if(o&&!r){let l=Vhe(o,t);if(l!==void 0)return l}let i={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,i);let s=Hhe(e,e.typeName,t),u=typeof s=="function"?Rt(s(),t):s;if(u&&Zhe(e,t,u),t.postProcess){let l=t.postProcess(u,e,t);return i.jsonSchema=u,l}return i.jsonSchema=u,u}a(Rt,"parseDef");var Vhe=a((e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:lhe(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((r,n)=>t.currentPath[n]===r)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),Un()):t.$refStrategy==="seen"?Un():void 0}},"get$ref"),Zhe=a((e,t,r)=>(e.description&&(r.description=e.description),r),"addMeta"),Khe=a(e=>{let t=phe(e),r=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([n,o])=>[o._def,{def:o._def,path:[...t.basePath,t.definitionPath,n],jsonSchema:void 0}]))}},"getRefs"),Ghe=a((e,t)=>{var r;let n=Khe(t),o=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((d,[p,f])=>{var m;return{...d,[p]:(m=Rt(f._def,{...n,currentPath:[...n.basePath,n.definitionPath,p]},!0))!=null?m:Un()}},{}):void 0,i=typeof t=="string"?t:t?.nameStrategy==="title"?void 0:t?.name,s=(r=Rt(e._def,i===void 0?n:{...n,currentPath:[...n.basePath,n.definitionPath,i]},!1))!=null?r:Un(),u=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;u!==void 0&&(s.title=u);let l=i===void 0?o?{...s,[n.definitionPath]:o}:s:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,i].join("/"),[n.definitionPath]:{...o,[i]:s}};return l.$schema="http://json-schema.org/draft-07/schema#",l},"zodToJsonSchema"),Whe=Ghe;function Qhe(e,t){var r;let n=(r=t?.useReferences)!=null?r:!1;return vJ(()=>Whe(e,{$refStrategy:n?"root":"none"}),{validate:a(async o=>{let i=await e.safeParseAsync(o);return i.success?{success:!0,value:i.data}:{success:!1,error:i.error}},"validate")})}a(Qhe,"zod3Schema");function Xhe(e,t){var r;let n=(r=t?.useReferences)!=null?r:!1;return vJ(()=>Oi(e,{target:"draft-7",io:"output",reused:n?"ref":"inline"}),{validate:a(async o=>{let i=await Ci(e,o);return i.success?{success:!0,value:i.data}:{success:!1,error:i.error}},"validate")})}a(Xhe,"zod4Schema");function Yhe(e){return"_zod"in e}a(Yhe,"isZod4Schema");function vr(e,t){return Yhe(e)?Xhe(e,t):Qhe(e,t)}a(vr,"zodSchema");var ege=Symbol.for("vercel.ai.schema");function _r(e){let t;return()=>(t==null&&(t=e()),t)}a(_r,"lazySchema");function vJ(e,{validate:t}={}){return{[ege]:!0,_type:void 0,[Zg]:!0,get jsonSchema(){return typeof e=="function"&&(e=e()),e},validate:t}}a(vJ,"jsonSchema");var{btoa:tge,atob:D7e}=globalThis;function rge(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCodePoint(e[r]);return tge(t)}a(rge,"convertUint8ArrayToBase64");function T1(e){return e instanceof Uint8Array?rge(e):e}a(T1,"convertToBase64");function _J(e){return e?.replace(/\/$/,"")}a(_J,"withoutTrailingSlash");var nge="2.0.44",oge=_r(()=>vr(c.object({error:c.object({code:c.number().nullable(),message:c.string(),status:c.string()})}))),Op=pJ({errorSchema:oge,errorToMessage:a(e=>e.error.message,"errorToMessage")}),ige=_r(()=>vr(c.object({outputDimensionality:c.number().optional(),taskType:c.enum(["SEMANTIC_SIMILARITY","CLASSIFICATION","CLUSTERING","RETRIEVAL_DOCUMENT","RETRIEVAL_QUERY","QUESTION_ANSWERING","FACT_VERIFICATION","CODE_RETRIEVAL_QUERY"]).optional()}))),age=class{static{a(this,"GoogleGenerativeAIEmbeddingModel")}constructor(e,t){this.specificationVersion="v2",this.maxEmbeddingsPerCall=2048,this.supportsParallelCalls=!0,this.modelId=e,this.config=t}get provider(){return this.config.provider}async doEmbed({values:e,headers:t,abortSignal:r,providerOptions:n}){let o=await Sc({provider:"google",providerOptions:n,schema:ige});if(e.length>this.maxEmbeddingsPerCall)throw new Jg({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});let i=Ss(await ws(this.config.headers),t);if(e.length===1){let{responseHeaders:d,value:p,rawValue:f}=await Ca({url:`${this.config.baseURL}/models/${this.modelId}:embedContent`,headers:i,body:{model:`models/${this.modelId}`,content:{parts:[{text:e[0]}]},outputDimensionality:o?.outputDimensionality,taskType:o?.taskType},failedResponseHandler:Op,successfulResponseHandler:xs(uge),abortSignal:r,fetch:this.config.fetch});return{embeddings:[p.embedding.values],usage:void 0,response:{headers:d,body:f}}}let{responseHeaders:s,value:u,rawValue:l}=await Ca({url:`${this.config.baseURL}/models/${this.modelId}:batchEmbedContents`,headers:i,body:{requests:e.map(d=>({model:`models/${this.modelId}`,content:{role:"user",parts:[{text:d}]},outputDimensionality:o?.outputDimensionality,taskType:o?.taskType}))},failedResponseHandler:Op,successfulResponseHandler:xs(sge),abortSignal:r,fetch:this.config.fetch});return{embeddings:u.embeddings.map(d=>d.values),usage:void 0,response:{headers:s,body:l}}}},sge=_r(()=>vr(c.object({embeddings:c.array(c.object({values:c.array(c.number())}))}))),uge=_r(()=>vr(c.object({embedding:c.object({values:c.array(c.number())})})));function Xo(e){if(e==null||cge(e))return;if(typeof e=="boolean")return{type:"boolean",properties:{}};let{type:t,description:r,required:n,properties:o,items:i,allOf:s,anyOf:u,oneOf:l,format:d,const:p,minLength:f,enum:m}=e,y={};if(r&&(y.description=r),n&&(y.required=n),d&&(y.format=d),p!==void 0&&(y.enum=[p]),t)if(Array.isArray(t)){let g=t.includes("null"),h=t.filter(v=>v!=="null");h.length===0?y.type="null":(y.anyOf=h.map(v=>({type:v})),g&&(y.nullable=!0))}else y.type=t;if(m!==void 0&&(y.enum=m),o!=null&&(y.properties=Object.entries(o).reduce((g,[h,v])=>(g[h]=Xo(v),g),{})),i&&(y.items=Array.isArray(i)?i.map(Xo):Xo(i)),s&&(y.allOf=s.map(Xo)),u)if(u.some(g=>typeof g=="object"&&g?.type==="null")){let g=u.filter(h=>!(typeof h=="object"&&h?.type==="null"));if(g.length===1){let h=Xo(g[0]);typeof h=="object"&&(y.nullable=!0,Object.assign(y,h))}else y.anyOf=g.map(Xo),y.nullable=!0}else y.anyOf=u.map(Xo);return l&&(y.oneOf=l.map(Xo)),f!==void 0&&(y.minLength=f),y}a(Xo,"convertJSONSchemaToOpenAPISchema");function cge(e){return e!=null&&typeof e=="object"&&e.type==="object"&&(e.properties==null||Object.keys(e.properties).length===0)&&!e.additionalProperties}a(cge,"isEmptyObjectSchema");function lge(e,t){var r;let n=[],o=[],i=!0,s=(r=t?.isGemmaModel)!=null?r:!1;for(let{role:u,content:l}of e)switch(u){case"system":{if(!i)throw new Et({functionality:"system messages are only supported at the beginning of the conversation"});n.push({text:l});break}case"user":{i=!1;let d=[];for(let p of l)switch(p.type){case"text":{d.push({text:p.text});break}case"file":{let f=p.mediaType==="image/*"?"image/jpeg":p.mediaType;d.push(p.data instanceof URL?{fileData:{mimeType:f,fileUri:p.data.toString()}}:{inlineData:{mimeType:f,data:T1(p.data)}});break}}o.push({role:"user",parts:d});break}case"assistant":{i=!1,o.push({role:"model",parts:l.map(d=>{var p,f,m;let y=((f=(p=d.providerOptions)==null?void 0:p.google)==null?void 0:f.thoughtSignature)!=null?String((m=d.providerOptions.google)==null?void 0:m.thoughtSignature):void 0;switch(d.type){case"text":return d.text.length===0?void 0:{text:d.text,thoughtSignature:y};case"reasoning":return d.text.length===0?void 0:{text:d.text,thought:!0,thoughtSignature:y};case"file":{if(d.mediaType!=="image/png")throw new Et({functionality:"Only PNG images are supported in assistant messages"});if(d.data instanceof URL)throw new Et({functionality:"File data URLs in assistant messages are not supported"});return{inlineData:{mimeType:d.mediaType,data:T1(d.data)}}}case"tool-call":return{functionCall:{name:d.toolName,args:d.input},thoughtSignature:y}}}).filter(d=>d!==void 0)});break}case"tool":{i=!1;let d=[];for(let p of l){let f=p.output;if(f.type==="content")for(let m of f.value)switch(m.type){case"text":d.push({functionResponse:{name:p.toolName,response:{name:p.toolName,content:m.text}}});break;case"media":d.push({inlineData:{mimeType:m.mediaType,data:m.data}},{text:"Tool executed successfully and returned this image as a response"});break;default:d.push({text:JSON.stringify(m)});break}else d.push({functionResponse:{name:p.toolName,response:{name:p.toolName,content:f.value}}})}o.push({role:"user",parts:d});break}}if(s&&n.length>0&&o.length>0&&o[0].role==="user"){let u=n.map(l=>l.text).join(`

`);o[0].parts.unshift({text:u+`

`})}return{systemInstruction:n.length>0&&!s?{parts:n}:void 0,contents:o}}a(lge,"convertToGoogleGenerativeAIMessages");function bJ(e){return e.includes("/")?e:`models/${e}`}a(bJ,"getModelPath");var dge=_r(()=>vr(c.object({responseModalities:c.array(c.enum(["TEXT","IMAGE"])).optional(),thinkingConfig:c.object({thinkingBudget:c.number().optional(),includeThoughts:c.boolean().optional(),thinkingLevel:c.enum(["low","medium","high"]).optional()}).optional(),cachedContent:c.string().optional(),structuredOutputs:c.boolean().optional(),safetySettings:c.array(c.object({category:c.enum(["HARM_CATEGORY_UNSPECIFIED","HARM_CATEGORY_HATE_SPEECH","HARM_CATEGORY_DANGEROUS_CONTENT","HARM_CATEGORY_HARASSMENT","HARM_CATEGORY_SEXUALLY_EXPLICIT","HARM_CATEGORY_CIVIC_INTEGRITY"]),threshold:c.enum(["HARM_BLOCK_THRESHOLD_UNSPECIFIED","BLOCK_LOW_AND_ABOVE","BLOCK_MEDIUM_AND_ABOVE","BLOCK_ONLY_HIGH","BLOCK_NONE","OFF"])})).optional(),threshold:c.enum(["HARM_BLOCK_THRESHOLD_UNSPECIFIED","BLOCK_LOW_AND_ABOVE","BLOCK_MEDIUM_AND_ABOVE","BLOCK_ONLY_HIGH","BLOCK_NONE","OFF"]).optional(),audioTimestamp:c.boolean().optional(),labels:c.record(c.string(),c.string()).optional(),mediaResolution:c.enum(["MEDIA_RESOLUTION_UNSPECIFIED","MEDIA_RESOLUTION_LOW","MEDIA_RESOLUTION_MEDIUM","MEDIA_RESOLUTION_HIGH"]).optional(),imageConfig:c.object({aspectRatio:c.enum(["1:1","2:3","3:2","3:4","4:3","4:5","5:4","9:16","16:9","21:9"]).optional(),imageSize:c.enum(["1K","2K","4K"]).optional()}).optional()})));function pge({tools:e,toolChoice:t,modelId:r}){var n;e=e?.length?e:void 0;let o=[],i=["gemini-flash-latest","gemini-flash-lite-latest","gemini-pro-latest"].some(y=>y===r),s=r.includes("gemini-2")||r.includes("gemini-3")||i,u=r.includes("gemini-1.5-flash")&&!r.includes("-8b"),l=r.includes("gemini-2.5");if(e==null)return{tools:void 0,toolConfig:void 0,toolWarnings:o};let d=e.some(y=>y.type==="function"),p=e.some(y=>y.type==="provider-defined");if(d&&p){let y=e.filter(g=>g.type==="function");o.push({type:"unsupported-tool",tool:e.find(g=>g.type==="function"),details:`Cannot mix function tools with provider-defined tools in the same request. Falling back to provider-defined tools only. The following function tools will be ignored: ${y.map(g=>g.name).join(", ")}. Please use either function tools or provider-defined tools, but not both.`})}if(p){let y=[];return e.filter(h=>h.type==="provider-defined").forEach(h=>{switch(h.id){case"google.google_search":s?y.push({googleSearch:{}}):u?y.push({googleSearchRetrieval:{dynamicRetrievalConfig:{mode:h.args.mode,dynamicThreshold:h.args.dynamicThreshold}}}):y.push({googleSearchRetrieval:{}});break;case"google.url_context":s?y.push({urlContext:{}}):o.push({type:"unsupported-tool",tool:h,details:"The URL context tool is not supported with other Gemini models than Gemini 2."});break;case"google.code_execution":s?y.push({codeExecution:{}}):o.push({type:"unsupported-tool",tool:h,details:"The code execution tools is not supported with other Gemini models than Gemini 2."});break;case"google.file_search":l?y.push({fileSearch:{...h.args}}):o.push({type:"unsupported-tool",tool:h,details:"The file search tool is only supported with Gemini 2.5 models."});break;case"google.vertex_rag_store":s?y.push({retrieval:{vertex_rag_store:{rag_resources:{rag_corpus:h.args.ragCorpus},similarity_top_k:h.args.topK}}}):o.push({type:"unsupported-tool",tool:h,details:"The RAG store tool is not supported with other Gemini models than Gemini 2."});break;default:o.push({type:"unsupported-tool",tool:h});break}}),{tools:y.length>0?y:void 0,toolConfig:void 0,toolWarnings:o}}let f=[];for(let y of e)switch(y.type){case"function":f.push({name:y.name,description:(n=y.description)!=null?n:"",parameters:Xo(y.inputSchema)});break;default:o.push({type:"unsupported-tool",tool:y});break}if(t==null)return{tools:[{functionDeclarations:f}],toolConfig:void 0,toolWarnings:o};let m=t.type;switch(m){case"auto":return{tools:[{functionDeclarations:f}],toolConfig:{functionCallingConfig:{mode:"AUTO"}},toolWarnings:o};case"none":return{tools:[{functionDeclarations:f}],toolConfig:{functionCallingConfig:{mode:"NONE"}},toolWarnings:o};case"required":return{tools:[{functionDeclarations:f}],toolConfig:{functionCallingConfig:{mode:"ANY"}},toolWarnings:o};case"tool":return{tools:[{functionDeclarations:f}],toolConfig:{functionCallingConfig:{mode:"ANY",allowedFunctionNames:[t.toolName]}},toolWarnings:o};default:{let y=m;throw new Et({functionality:`tool choice type: ${y}`})}}}a(pge,"prepareTools");function SJ({finishReason:e,hasToolCalls:t}){switch(e){case"STOP":return t?"tool-calls":"stop";case"MAX_TOKENS":return"length";case"IMAGE_SAFETY":case"RECITATION":case"SAFETY":case"BLOCKLIST":case"PROHIBITED_CONTENT":case"SPII":return"content-filter";case"FINISH_REASON_UNSPECIFIED":case"OTHER":return"other";case"MALFORMED_FUNCTION_CALL":return"error";default:return"unknown"}}a(SJ,"mapGoogleGenerativeAIFinishReason");var mge=class{static{a(this,"GoogleGenerativeAILanguageModel")}constructor(e,t){this.specificationVersion="v2";var r;this.modelId=e,this.config=t,this.generateId=(r=t.generateId)!=null?r:Gg}get provider(){return this.config.provider}get supportedUrls(){var e,t,r;return(r=(t=(e=this.config).supportedUrls)==null?void 0:t.call(e))!=null?r:{}}async getArgs({prompt:e,maxOutputTokens:t,temperature:r,topP:n,topK:o,frequencyPenalty:i,presencePenalty:s,stopSequences:u,responseFormat:l,seed:d,tools:p,toolChoice:f,providerOptions:m}){var y;let g=[],h=await Sc({provider:"google",providerOptions:m,schema:dge});p?.some(A=>A.type==="provider-defined"&&A.id==="google.vertex_rag_store")&&!this.config.provider.startsWith("google.vertex.")&&g.push({type:"other",message:`The 'vertex_rag_store' tool is only supported with the Google Vertex provider and might not be supported or could behave unexpectedly with the current Google provider (${this.config.provider}).`});let v=this.modelId.toLowerCase().startsWith("gemma-"),{contents:S,systemInstruction:b}=lge(e,{isGemmaModel:v}),{tools:w,toolConfig:k,toolWarnings:$}=pge({tools:p,toolChoice:f,modelId:this.modelId});return{args:{generationConfig:{maxOutputTokens:t,temperature:r,topK:o,topP:n,frequencyPenalty:i,presencePenalty:s,stopSequences:u,seed:d,responseMimeType:l?.type==="json"?"application/json":void 0,responseSchema:l?.type==="json"&&l.schema!=null&&((y=h?.structuredOutputs)==null||y)?Xo(l.schema):void 0,...h?.audioTimestamp&&{audioTimestamp:h.audioTimestamp},responseModalities:h?.responseModalities,thinkingConfig:h?.thinkingConfig,...h?.imageConfig&&{imageConfig:h.imageConfig},...h?.mediaResolution&&{mediaResolution:h.mediaResolution}},contents:S,systemInstruction:v?void 0:b,safetySettings:h?.safetySettings,tools:w,toolConfig:k,cachedContent:h?.cachedContent,labels:h?.labels},warnings:[...g,...$]}}async doGenerate(e){var t,r,n,o,i,s,u,l,d,p,f,m,y;let{args:g,warnings:h}=await this.getArgs(e),v=JSON.stringify(g),S=Ss(await ws(this.config.headers),e.headers),{responseHeaders:b,value:w,rawValue:k}=await Ca({url:`${this.config.baseURL}/${bJ(this.modelId)}:generateContent`,headers:S,body:g,failedResponseHandler:Op,successfulResponseHandler:xs(hge),abortSignal:e.abortSignal,fetch:this.config.fetch}),$=w.candidates[0],A=[],O=(r=(t=$.content)==null?void 0:t.parts)!=null?r:[],R=w.usageMetadata,I;for(let z of O)if("executableCode"in z&&((n=z.executableCode)!=null&&n.code)){let X=this.config.generateId();I=X,A.push({type:"tool-call",toolCallId:X,toolName:"code_execution",input:JSON.stringify(z.executableCode),providerExecuted:!0})}else"codeExecutionResult"in z&&z.codeExecutionResult?(A.push({type:"tool-result",toolCallId:I,toolName:"code_execution",result:{outcome:z.codeExecutionResult.outcome,output:z.codeExecutionResult.output},providerExecuted:!0}),I=void 0):"text"in z&&z.text!=null&&z.text.length>0?A.push({type:z.thought===!0?"reasoning":"text",text:z.text,providerMetadata:z.thoughtSignature?{google:{thoughtSignature:z.thoughtSignature}}:void 0}):"functionCall"in z?A.push({type:"tool-call",toolCallId:this.config.generateId(),toolName:z.functionCall.name,input:JSON.stringify(z.functionCall.args),providerMetadata:z.thoughtSignature?{google:{thoughtSignature:z.thoughtSignature}}:void 0}):"inlineData"in z&&A.push({type:"file",data:z.inlineData.data,mediaType:z.inlineData.mimeType});let N=(o=wJ({groundingMetadata:$.groundingMetadata,generateId:this.config.generateId}))!=null?o:[];for(let z of N)A.push(z);return{content:A,finishReason:SJ({finishReason:$.finishReason,hasToolCalls:A.some(z=>z.type==="tool-call")}),usage:{inputTokens:(i=R?.promptTokenCount)!=null?i:void 0,outputTokens:(s=R?.candidatesTokenCount)!=null?s:void 0,totalTokens:(u=R?.totalTokenCount)!=null?u:void 0,reasoningTokens:(l=R?.thoughtsTokenCount)!=null?l:void 0,cachedInputTokens:(d=R?.cachedContentTokenCount)!=null?d:void 0},warnings:h,providerMetadata:{google:{promptFeedback:(p=w.promptFeedback)!=null?p:null,groundingMetadata:(f=$.groundingMetadata)!=null?f:null,urlContextMetadata:(m=$.urlContextMetadata)!=null?m:null,safetyRatings:(y=$.safetyRatings)!=null?y:null,usageMetadata:R??null}},request:{body:v},response:{headers:b,body:k}}}async doStream(e){let{args:t,warnings:r}=await this.getArgs(e),n=JSON.stringify(t),o=Ss(await ws(this.config.headers),e.headers),{responseHeaders:i,value:s}=await Ca({url:`${this.config.baseURL}/${bJ(this.modelId)}:streamGenerateContent?alt=sse`,headers:o,body:t,failedResponseHandler:Op,successfulResponseHandler:mJ(gge),abortSignal:e.abortSignal,fetch:this.config.fetch}),u="unknown",l={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},d,p=this.config.generateId,f=!1,m=null,y=null,g=0,h=new Set,v;return{stream:s.pipeThrough(new TransformStream({start(S){S.enqueue({type:"stream-start",warnings:r})},transform(S,b){var w,k,$,A,O,R,I,N,z,X,Z,J;if(e.includeRawChunks&&b.enqueue({type:"raw",rawValue:S.rawValue}),!S.success){b.enqueue({type:"error",error:S.error});return}let te=S.value,ne=te.usageMetadata;ne!=null&&(l.inputTokens=(w=ne.promptTokenCount)!=null?w:void 0,l.outputTokens=(k=ne.candidatesTokenCount)!=null?k:void 0,l.totalTokens=($=ne.totalTokenCount)!=null?$:void 0,l.reasoningTokens=(A=ne.thoughtsTokenCount)!=null?A:void 0,l.cachedInputTokens=(O=ne.cachedContentTokenCount)!=null?O:void 0);let ae=(R=te.candidates)==null?void 0:R[0];if(ae==null)return;let Se=ae.content,ke=wJ({groundingMetadata:ae.groundingMetadata,generateId:p});if(ke!=null)for(let Xe of ke)Xe.sourceType==="url"&&!h.has(Xe.url)&&(h.add(Xe.url),b.enqueue(Xe));if(Se!=null){let Xe=(I=Se.parts)!=null?I:[];for(let G of Xe)if("executableCode"in G&&((N=G.executableCode)!=null&&N.code)){let Re=p();v=Re,b.enqueue({type:"tool-call",toolCallId:Re,toolName:"code_execution",input:JSON.stringify(G.executableCode),providerExecuted:!0}),f=!0}else if("codeExecutionResult"in G&&G.codeExecutionResult){let Re=v;Re&&(b.enqueue({type:"tool-result",toolCallId:Re,toolName:"code_execution",result:{outcome:G.codeExecutionResult.outcome,output:G.codeExecutionResult.output},providerExecuted:!0}),v=void 0)}else"text"in G&&G.text!=null&&G.text.length>0?G.thought===!0?(m!==null&&(b.enqueue({type:"text-end",id:m}),m=null),y===null&&(y=String(g++),b.enqueue({type:"reasoning-start",id:y,providerMetadata:G.thoughtSignature?{google:{thoughtSignature:G.thoughtSignature}}:void 0})),b.enqueue({type:"reasoning-delta",id:y,delta:G.text,providerMetadata:G.thoughtSignature?{google:{thoughtSignature:G.thoughtSignature}}:void 0})):(y!==null&&(b.enqueue({type:"reasoning-end",id:y}),y=null),m===null&&(m=String(g++),b.enqueue({type:"text-start",id:m,providerMetadata:G.thoughtSignature?{google:{thoughtSignature:G.thoughtSignature}}:void 0})),b.enqueue({type:"text-delta",id:m,delta:G.text,providerMetadata:G.thoughtSignature?{google:{thoughtSignature:G.thoughtSignature}}:void 0})):"inlineData"in G&&b.enqueue({type:"file",mediaType:G.inlineData.mimeType,data:G.inlineData.data});let Ve=fge({parts:Se.parts,generateId:p});if(Ve!=null)for(let G of Ve)b.enqueue({type:"tool-input-start",id:G.toolCallId,toolName:G.toolName,providerMetadata:G.providerMetadata}),b.enqueue({type:"tool-input-delta",id:G.toolCallId,delta:G.args,providerMetadata:G.providerMetadata}),b.enqueue({type:"tool-input-end",id:G.toolCallId,providerMetadata:G.providerMetadata}),b.enqueue({type:"tool-call",toolCallId:G.toolCallId,toolName:G.toolName,input:G.args,providerMetadata:G.providerMetadata}),f=!0}ae.finishReason!=null&&(u=SJ({finishReason:ae.finishReason,hasToolCalls:f}),d={google:{promptFeedback:(z=te.promptFeedback)!=null?z:null,groundingMetadata:(X=ae.groundingMetadata)!=null?X:null,urlContextMetadata:(Z=ae.urlContextMetadata)!=null?Z:null,safetyRatings:(J=ae.safetyRatings)!=null?J:null}},ne!=null&&(d.google.usageMetadata=ne))},flush(S){m!==null&&S.enqueue({type:"text-end",id:m}),y!==null&&S.enqueue({type:"reasoning-end",id:y}),S.enqueue({type:"finish",finishReason:u,usage:l,providerMetadata:d})}})),response:{headers:i},request:{body:n}}}};function fge({parts:e,generateId:t}){let r=e?.filter(n=>"functionCall"in n);return r==null||r.length===0?void 0:r.map(n=>({type:"tool-call",toolCallId:t(),toolName:n.functionCall.name,args:JSON.stringify(n.functionCall.args),providerMetadata:n.thoughtSignature?{google:{thoughtSignature:n.thoughtSignature}}:void 0}))}a(fge,"getToolCallsFromParts");function wJ({groundingMetadata:e,generateId:t}){var r,n,o,i;if(!e?.groundingChunks)return;let s=[];for(let u of e.groundingChunks)if(u.web!=null)s.push({type:"source",sourceType:"url",id:t(),url:u.web.uri,title:(r=u.web.title)!=null?r:void 0});else if(u.retrievedContext!=null){let l=u.retrievedContext.uri,d=u.retrievedContext.fileSearchStore;if(l&&(l.startsWith("http://")||l.startsWith("https://")))s.push({type:"source",sourceType:"url",id:t(),url:l,title:(n=u.retrievedContext.title)!=null?n:void 0});else if(l){let p=(o=u.retrievedContext.title)!=null?o:"Unknown Document",f="application/octet-stream",m;l.endsWith(".pdf")?(f="application/pdf",m=l.split("/").pop()):l.endsWith(".txt")?(f="text/plain",m=l.split("/").pop()):l.endsWith(".docx")?(f="application/vnd.openxmlformats-officedocument.wordprocessingml.document",m=l.split("/").pop()):l.endsWith(".doc")?(f="application/msword",m=l.split("/").pop()):(l.match(/\.(md|markdown)$/)&&(f="text/markdown"),m=l.split("/").pop()),s.push({type:"source",sourceType:"document",id:t(),mediaType:f,title:p,filename:m})}else if(d){let p=(i=u.retrievedContext.title)!=null?i:"Unknown Document";s.push({type:"source",sourceType:"document",id:t(),mediaType:"application/octet-stream",title:p,filename:d.split("/").pop()})}}return s.length>0?s:void 0}a(wJ,"extractSources");var xJ=a(()=>c.object({webSearchQueries:c.array(c.string()).nullish(),retrievalQueries:c.array(c.string()).nullish(),searchEntryPoint:c.object({renderedContent:c.string()}).nullish(),groundingChunks:c.array(c.object({web:c.object({uri:c.string(),title:c.string().nullish()}).nullish(),retrievedContext:c.object({uri:c.string().nullish(),title:c.string().nullish(),text:c.string().nullish(),fileSearchStore:c.string().nullish()}).nullish()})).nullish(),groundingSupports:c.array(c.object({segment:c.object({startIndex:c.number().nullish(),endIndex:c.number().nullish(),text:c.string().nullish()}),segment_text:c.string().nullish(),groundingChunkIndices:c.array(c.number()).nullish(),supportChunkIndices:c.array(c.number()).nullish(),confidenceScores:c.array(c.number()).nullish(),confidenceScore:c.array(c.number()).nullish()})).nullish(),retrievalMetadata:c.union([c.object({webDynamicRetrievalScore:c.number()}),c.object({})]).nullish()}),"getGroundingMetadataSchema"),TJ=a(()=>c.object({parts:c.array(c.union([c.object({functionCall:c.object({name:c.string(),args:c.unknown()}),thoughtSignature:c.string().nullish()}),c.object({inlineData:c.object({mimeType:c.string(),data:c.string()})}),c.object({executableCode:c.object({language:c.string(),code:c.string()}).nullish(),codeExecutionResult:c.object({outcome:c.string(),output:c.string()}).nullish(),text:c.string().nullish(),thought:c.boolean().nullish(),thoughtSignature:c.string().nullish()})])).nullish()}),"getContentSchema"),Wg=a(()=>c.object({category:c.string().nullish(),probability:c.string().nullish(),probabilityScore:c.number().nullish(),severity:c.string().nullish(),severityScore:c.number().nullish(),blocked:c.boolean().nullish()}),"getSafetyRatingSchema"),kJ=c.object({cachedContentTokenCount:c.number().nullish(),thoughtsTokenCount:c.number().nullish(),promptTokenCount:c.number().nullish(),candidatesTokenCount:c.number().nullish(),totalTokenCount:c.number().nullish(),trafficType:c.string().nullish()}),EJ=a(()=>c.object({urlMetadata:c.array(c.object({retrievedUrl:c.string(),urlRetrievalStatus:c.string()}))}),"getUrlContextMetadataSchema"),hge=_r(()=>vr(c.object({candidates:c.array(c.object({content:TJ().nullish().or(c.object({}).strict()),finishReason:c.string().nullish(),safetyRatings:c.array(Wg()).nullish(),groundingMetadata:xJ().nullish(),urlContextMetadata:EJ().nullish()})),usageMetadata:kJ.nullish(),promptFeedback:c.object({blockReason:c.string().nullish(),safetyRatings:c.array(Wg()).nullish()}).nullish()}))),gge=_r(()=>vr(c.object({candidates:c.array(c.object({content:TJ().nullish(),finishReason:c.string().nullish(),safetyRatings:c.array(Wg()).nullish(),groundingMetadata:xJ().nullish(),urlContextMetadata:EJ().nullish()})).nullish(),usageMetadata:kJ.nullish(),promptFeedback:c.object({blockReason:c.string().nullish(),safetyRatings:c.array(Wg()).nullish()}).nullish()}))),yge=dJ({id:"google.code_execution",name:"code_execution",inputSchema:c.object({language:c.string().describe("The programming language of the code."),code:c.string().describe("The code to be executed.")}),outputSchema:c.object({outcome:c.string().describe('The outcome of the execution (e.g., "OUTCOME_OK").'),output:c.string().describe("The output from the code execution.")})}),vge=c.object({fileSearchStoreNames:c.array(c.string()).describe("The names of the file_search_stores to retrieve from. Example: `fileSearchStores/my-file-search-store-123`"),topK:c.number().int().positive().describe("The number of file search retrieval chunks to retrieve.").optional(),metadataFilter:c.string().describe("Metadata filter to apply to the file search retrieval documents. See https://google.aip.dev/160 for the syntax of the filter expression.").optional()}).passthrough(),_ge=_r(()=>vr(vge)),bge=Ra({id:"google.file_search",name:"file_search",inputSchema:_ge}),Sge=Ra({id:"google.google_search",name:"google_search",inputSchema:_r(()=>vr(c.object({mode:c.enum(["MODE_DYNAMIC","MODE_UNSPECIFIED"]).default("MODE_UNSPECIFIED"),dynamicThreshold:c.number().default(1)})))}),wge=Ra({id:"google.url_context",name:"url_context",inputSchema:_r(()=>vr(c.object({})))}),xge=Ra({id:"google.vertex_rag_store",name:"vertex_rag_store",inputSchema:c.object({ragCorpus:c.string(),topK:c.number().optional()})}),Tge={googleSearch:Sge,urlContext:wge,fileSearch:bge,codeExecution:yge,vertexRagStore:xge},kge=class{static{a(this,"GoogleGenerativeAIImageModel")}constructor(e,t,r){this.modelId=e,this.settings=t,this.config=r,this.specificationVersion="v2"}get maxImagesPerCall(){var e;return(e=this.settings.maxImagesPerCall)!=null?e:4}get provider(){return this.config.provider}async doGenerate(e){var t,r,n;let{prompt:o,n:i=1,size:s="1024x1024",aspectRatio:u="1:1",seed:l,providerOptions:d,headers:p,abortSignal:f}=e,m=[];s!=null&&m.push({type:"unsupported-setting",setting:"size",details:"This model does not support the `size` option. Use `aspectRatio` instead."}),l!=null&&m.push({type:"unsupported-setting",setting:"seed",details:"This model does not support the `seed` option through this provider."});let y=await Sc({provider:"google",providerOptions:d,schema:Pge}),g=(n=(r=(t=this.config._internal)==null?void 0:t.currentDate)==null?void 0:r.call(t))!=null?n:new Date,h={sampleCount:i};u!=null&&(h.aspectRatio=u),y&&Object.assign(h,y);let v={instances:[{prompt:o}],parameters:h},{responseHeaders:S,value:b}=await Ca({url:`${this.config.baseURL}/models/${this.modelId}:predict`,headers:Ss(await ws(this.config.headers),p),body:v,failedResponseHandler:Op,successfulResponseHandler:xs(Ege),abortSignal:f,fetch:this.config.fetch});return{images:b.predictions.map(w=>w.bytesBase64Encoded),warnings:m??[],providerMetadata:{google:{images:b.predictions.map(w=>({}))}},response:{timestamp:g,modelId:this.modelId,headers:S}}}},Ege=_r(()=>vr(c.object({predictions:c.array(c.object({bytesBase64Encoded:c.string()})).default([])}))),Pge=_r(()=>vr(c.object({personGeneration:c.enum(["dont_allow","allow_adult","allow_all"]).nullish(),aspectRatio:c.enum(["1:1","3:4","4:3","9:16","16:9"]).nullish()})));function Ige(e={}){var t,r;let n=(t=_J(e.baseURL))!=null?t:"https://generativelanguage.googleapis.com/v1beta",o=(r=e.name)!=null?r:"google.generative-ai",i=a(()=>w1({"x-goog-api-key":uJ({apiKey:e.apiKey,environmentVariableName:"GOOGLE_GENERATIVE_AI_API_KEY",description:"Google Generative AI"}),...e.headers},`ai-sdk/google/${nge}`),"getHeaders"),s=a(p=>{var f;return new mge(p,{provider:o,baseURL:n,headers:i,generateId:(f=e.generateId)!=null?f:Gg,supportedUrls:a(()=>({"*":[new RegExp(`^${n}/files/.*$`),new RegExp("^https://(?:www\\.)?youtube\\.com/watch\\?v=[\\w-]+(?:&[\\w=&.-]*)?$"),new RegExp("^https://youtu\\.be/[\\w-]+(?:\\?[\\w=&.-]*)?$")]}),"supportedUrls"),fetch:e.fetch})},"createChatModel"),u=a(p=>new age(p,{provider:o,baseURL:n,headers:i,fetch:e.fetch}),"createEmbeddingModel"),l=a((p,f={})=>new kge(p,f,{provider:o,baseURL:n,headers:i,fetch:e.fetch}),"createImageModel"),d=a(function(p){if(new.target)throw new Error("The Google Generative AI model function cannot be called with the new keyword.");return s(p)},"provider");return d.languageModel=s,d.chat=s,d.generativeAI=s,d.embedding=u,d.textEmbedding=u,d.textEmbeddingModel=u,d.image=l,d.imageModel=l,d.tools=Tge,d}a(Ige,"createGoogleGenerativeAI");var k1=Ige();function Fr(...e){return e.reduce((t,r)=>({...t,...r??{}}),{})}a(Fr,"combineHeaders");function Ap(e){return Object.fromEntries([...e.headers])}a(Ap,"extractResponseHeaders");var Oge=a(({prefix:e,size:t=16,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:n="-"}={})=>{let o=a(()=>{let i=r.length,s=new Array(t);for(let u=0;u<t;u++)s[u]=r[Math.random()*i|0];return s.join("")},"generator");if(e==null)return o;if(r.includes(n))throw new Yn({argument:"separator",message:`The separator "${n}" must not be part of the alphabet "${r}".`});return()=>`${e}${n}${o()}`},"createIdGenerator"),No=Oge();function I1(e){return(e instanceof Error||e instanceof DOMException)&&(e.name==="AbortError"||e.name==="ResponseAborted"||e.name==="TimeoutError")}a(I1,"isAbortError");var Age=["fetch failed","failed to fetch"];function Cge({error:e,url:t,requestBodyValues:r}){if(I1(e))return e;if(e instanceof TypeError&&Age.includes(e.message.toLowerCase())){let n=e.cause;if(n!=null)return new Qe({message:`Cannot connect to API: ${n.message}`,cause:n,url:t,requestBodyValues:r,isRetryable:!0})}return e}a(Cge,"handleFetchError");function Rge(e=globalThis){var t,r,n;return e.window?"runtime/browser":(t=e.navigator)!=null&&t.userAgent?`runtime/${e.navigator.userAgent.toLowerCase()}`:(n=(r=e.process)==null?void 0:r.versions)!=null&&n.node?`runtime/node.js/${e.process.version.substring(0)}`:e.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}a(Rge,"getRuntimeEnvironmentUserAgent");function $ge(e){if(e==null)return{};let t={};if(e instanceof Headers)e.forEach((r,n)=>{t[n.toLowerCase()]=r});else{Array.isArray(e)||(e=Object.entries(e));for(let[r,n]of e)n!=null&&(t[r.toLowerCase()]=n)}return t}a($ge,"normalizeHeaders");function A1(e,...t){let r=new Headers($ge(e)),n=r.get("user-agent")||"";return r.set("user-agent",[n,...t].filter(Boolean).join(" ")),Object.fromEntries(r.entries())}a(A1,"withUserAgentSuffix");var Nge="3.0.18";function AJ({apiKey:e,environmentVariableName:t,apiKeyParameterName:r="apiKey",description:n}){if(typeof e=="string")return e;if(e!=null)throw new cn({message:`${n} API key must be a string.`});if(typeof process>"u")throw new cn({message:`${n} API key is missing. Pass it using the '${r}' parameter. Environment variables is not supported in this environment.`});if(e=process.env[t],e==null)throw new cn({message:`${n} API key is missing. Pass it using the '${r}' parameter or the ${t} environment variable.`});if(typeof e!="string")throw new cn({message:`${n} API key must be a string. The value of the ${t} environment variable is not a string.`});return e}a(AJ,"loadApiKey");function CJ({settingValue:e,environmentVariableName:t}){if(typeof e=="string")return e;if(!(e!=null||typeof process>"u")&&(e=process.env[t],!(e==null||typeof e!="string")))return e}a(CJ,"loadOptionalSetting");function RJ(e){var t;let[r,n=""]=e.toLowerCase().split("/");return(t={mpeg:"mp3","x-wav":"wav",opus:"ogg",mp4:"m4a","x-m4a":"m4a"}[n])!=null?t:n}a(RJ,"mediaTypeToExtension");var jge=/"__proto__"\s*:/,zge=/"constructor"\s*:/;function PJ(e){let t=JSON.parse(e);return t===null||typeof t!="object"||jge.test(e)===!1&&zge.test(e)===!1?t:Dge(t)}a(PJ,"_parse");function Dge(e){let t=[e];for(;t.length;){let r=t;t=[];for(let n of r){if(Object.prototype.hasOwnProperty.call(n,"__proto__"))throw new SyntaxError("Object contains forbidden prototype property");if(Object.prototype.hasOwnProperty.call(n,"constructor")&&Object.prototype.hasOwnProperty.call(n.constructor,"prototype"))throw new SyntaxError("Object contains forbidden prototype property");for(let o in n){let i=n[o];i&&typeof i=="object"&&t.push(i)}}}return e}a(Dge,"filter");function C1(e){let{stackTraceLimit:t}=Error;try{Error.stackTraceLimit=0}catch{return PJ(e)}try{return PJ(e)}finally{Error.stackTraceLimit=t}}a(C1,"secureJsonParse");var Qg=Symbol.for("vercel.ai.validator");function Mge(e){return{[Qg]:!0,validate:e}}a(Mge,"validator");function qge(e){return typeof e=="object"&&e!==null&&Qg in e&&e[Qg]===!0&&"validate"in e}a(qge,"isValidator");function Lt(e){let t;return()=>(t==null&&(t=e()),t)}a(Lt,"lazyValidator");function Uge(e){return qge(e)?e:typeof e=="function"?e():Lge(e)}a(Uge,"asValidator");function Lge(e){return Mge(async t=>{let r=await e["~standard"].validate(t);return r.issues==null?{success:!0,value:r.value}:{success:!1,error:new Qt({value:t,cause:r.issues})}})}a(Lge,"standardSchemaValidator");async function Yo({value:e,schema:t}){let r=await R1({value:e,schema:t});if(!r.success)throw Qt.wrap({value:e,cause:r.error});return r.value}a(Yo,"validateTypes");async function R1({value:e,schema:t}){let r=Uge(t);try{if(r.validate==null)return{success:!0,value:e,rawValue:e};let n=await r.validate(e);return n.success?{success:!0,value:n.value,rawValue:e}:{success:!1,error:Qt.wrap({value:e,cause:n.error}),rawValue:e}}catch(n){return{success:!1,error:Qt.wrap({value:e,cause:n}),rawValue:e}}}a(R1,"safeValidateTypes");async function Fge({text:e,schema:t}){try{let r=C1(e);return t==null?r:Yo({value:r,schema:t})}catch(r){throw un.isInstance(r)||Qt.isInstance(r)?r:new un({text:e,cause:r})}}a(Fge,"parseJSON");async function $J({text:e,schema:t}){try{let r=C1(e);return t==null?{success:!0,value:r,rawValue:r}:await R1({value:r,schema:t})}catch(r){return{success:!1,error:un.isInstance(r)?r:new un({text:e,cause:r}),rawValue:void 0}}}a($J,"safeParseJSON");function $1(e){try{return C1(e),!0}catch{return!1}}a($1,"isParsableJson");function Jge({stream:e,schema:t}){return e.pipeThrough(new TextDecoderStream).pipeThrough(new Oa).pipeThrough(new TransformStream({async transform({data:r},n){r!=="[DONE]"&&n.enqueue(await $J({text:r,schema:t}))}}))}a(Jge,"parseJsonEventStream");async function mn({provider:e,providerOptions:t,schema:r}){if(t?.[e]==null)return;let n=await R1({value:t[e],schema:r});if(!n.success)throw new Yn({argument:"providerOptions",message:`invalid ${e} provider options`,cause:n.error});return n.value}a(mn,"parseProviderOptions");var Bge=a(()=>globalThis.fetch,"getOriginalFetch2"),fn=a(async({url:e,headers:t,body:r,failedResponseHandler:n,successfulResponseHandler:o,abortSignal:i,fetch:s})=>jJ({url:e,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(r),values:r},failedResponseHandler:n,successfulResponseHandler:o,abortSignal:i,fetch:s}),"postJsonToApi"),NJ=a(async({url:e,headers:t,formData:r,failedResponseHandler:n,successfulResponseHandler:o,abortSignal:i,fetch:s})=>jJ({url:e,headers:t,body:{content:r,values:Object.fromEntries(r.entries())},failedResponseHandler:n,successfulResponseHandler:o,abortSignal:i,fetch:s}),"postFormDataToApi"),jJ=a(async({url:e,headers:t={},body:r,successfulResponseHandler:n,failedResponseHandler:o,abortSignal:i,fetch:s=Bge()})=>{try{let u=await s(e,{method:"POST",headers:A1(t,`ai-sdk/provider-utils/${Nge}`,Rge()),body:r.content,signal:i}),l=Ap(u);if(!u.ok){let d;try{d=await o({response:u,url:e,requestBodyValues:r.values})}catch(p){throw I1(p)||Qe.isInstance(p)?p:new Qe({message:"Failed to process error response",cause:p,statusCode:u.status,url:e,responseHeaders:l,requestBodyValues:r.values})}throw d.value}try{return await n({response:u,url:e,requestBodyValues:r.values})}catch(d){throw d instanceof Error&&(I1(d)||Qe.isInstance(d))?d:new Qe({message:"Failed to process successful response",cause:d,statusCode:u.status,url:e,responseHeaders:l,requestBodyValues:r.values})}}catch(u){throw Cge({error:u,url:e,requestBodyValues:r.values})}},"postToApi");function eo({id:e,name:t,inputSchema:r,outputSchema:n}){return({execute:o,toModelOutput:i,onInputStart:s,onInputDelta:u,onInputAvailable:l,...d})=>({type:"provider-defined",id:e,name:t,args:d,inputSchema:r,outputSchema:n,execute:o,toModelOutput:i,onInputStart:s,onInputDelta:u,onInputAvailable:l})}a(eo,"createProviderDefinedToolFactoryWithOutputSchema");var zJ=a(({errorSchema:e,errorToMessage:t,isRetryable:r})=>async({response:n,url:o,requestBodyValues:i})=>{let s=await n.text(),u=Ap(n);if(s.trim()==="")return{responseHeaders:u,value:new Qe({message:n.statusText,url:o,requestBodyValues:i,statusCode:n.status,responseHeaders:u,responseBody:s,isRetryable:r?.(n)})};try{let l=await Fge({text:s,schema:e});return{responseHeaders:u,value:new Qe({message:t(l),url:o,requestBodyValues:i,statusCode:n.status,responseHeaders:u,responseBody:s,data:l,isRetryable:r?.(n,l)})}}catch{return{responseHeaders:u,value:new Qe({message:n.statusText,url:o,requestBodyValues:i,statusCode:n.status,responseHeaders:u,responseBody:s,isRetryable:r?.(n)})}}},"createJsonErrorResponseHandler"),wc=a(e=>async({response:t})=>{let r=Ap(t);if(t.body==null)throw new _c({});return{responseHeaders:r,value:Jge({stream:t.body,schema:e})}},"createEventSourceResponseHandler");var to=a(e=>async({response:t,url:r,requestBodyValues:n})=>{let o=await t.text(),i=await $J({text:o,schema:e}),s=Ap(t);if(!i.success)throw new Qe({message:"Invalid JSON response",cause:i.error,statusCode:t.status,responseHeaders:s,responseBody:o,url:r,requestBodyValues:n});return{responseHeaders:s,value:i.value,rawValue:i.rawValue}},"createJsonResponseHandler"),DJ=a(()=>async({response:e,url:t,requestBodyValues:r})=>{let n=Ap(e);if(!e.body)throw new Qe({message:"Response body is empty",url:t,requestBodyValues:r,statusCode:e.status,responseHeaders:n,responseBody:void 0});try{let o=await e.arrayBuffer();return{responseHeaders:n,value:new Uint8Array(o)}}catch(o){throw new Qe({message:"Failed to read response as array buffer",url:t,requestBodyValues:r,statusCode:e.status,responseHeaders:n,responseBody:void 0,cause:o})}},"createBinaryResponseHandler");var Hge=a((e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")},"getRelativePath"),Vge=Symbol("Let zodToJsonSchema decide on which parser to use"),IJ={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},Zge=a(e=>typeof e=="string"?{...IJ,name:e}:{...IJ,...e},"getDefaultOptions");function Ln(){return{}}a(Ln,"parseAnyDef");function Kge(e,t){var r,n,o;let i={type:"array"};return(r=e.type)!=null&&r._def&&((o=(n=e.type)==null?void 0:n._def)==null?void 0:o.typeName)!==q.ZodAny&&(i.items=$t(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&(i.minItems=e.minLength.value),e.maxLength&&(i.maxItems=e.maxLength.value),e.exactLength&&(i.minItems=e.exactLength.value,i.maxItems=e.exactLength.value),i}a(Kge,"parseArrayDef");function Gge(e){let t={type:"integer",format:"int64"};if(!e.checks)return t;for(let r of e.checks)switch(r.kind){case"min":r.inclusive?t.minimum=r.value:t.exclusiveMinimum=r.value;break;case"max":r.inclusive?t.maximum=r.value:t.exclusiveMaximum=r.value;break;case"multipleOf":t.multipleOf=r.value;break}return t}a(Gge,"parseBigintDef");function Wge(){return{type:"boolean"}}a(Wge,"parseBooleanDef");function MJ(e,t){return $t(e.type._def,t)}a(MJ,"parseBrandedDef");var Qge=a((e,t)=>$t(e.innerType._def,t),"parseCatchDef");function qJ(e,t,r){let n=r??t.dateStrategy;if(Array.isArray(n))return{anyOf:n.map((o,i)=>qJ(e,t,o))};switch(n){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return Xge(e)}}a(qJ,"parseDateDef");var Xge=a(e=>{let t={type:"integer",format:"unix-time"};for(let r of e.checks)switch(r.kind){case"min":t.minimum=r.value;break;case"max":t.maximum=r.value;break}return t},"integerDateParser");function Yge(e,t){return{...$t(e.innerType._def,t),default:e.defaultValue()}}a(Yge,"parseDefaultDef");function eye(e,t){return t.effectStrategy==="input"?$t(e.schema._def,t):Ln()}a(eye,"parseEffectsDef");function tye(e){return{type:"string",enum:Array.from(e.values)}}a(tye,"parseEnumDef");var rye=a(e=>"type"in e&&e.type==="string"?!1:"allOf"in e,"isJsonSchema7AllOfType");function nye(e,t){let r=[$t(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),$t(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(o=>!!o),n=[];return r.forEach(o=>{if(rye(o))n.push(...o.allOf);else{let i=o;if("additionalProperties"in o&&o.additionalProperties===!1){let{additionalProperties:s,...u}=o;i=u}n.push(i)}}),n.length?{allOf:n}:void 0}a(nye,"parseIntersectionDef");function oye(e){let t=typeof e.value;return t!=="bigint"&&t!=="number"&&t!=="boolean"&&t!=="string"?{type:Array.isArray(e.value)?"array":"object"}:{type:t==="bigint"?"integer":t,const:e.value}}a(oye,"parseLiteralDef");var E1=void 0,Ro={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:a(()=>(E1===void 0&&(E1=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),E1),"emoji"),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function UJ(e,t){let r={type:"string"};if(e.checks)for(let n of e.checks)switch(n.kind){case"min":r.minLength=typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value;break;case"max":r.maxLength=typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value;break;case"email":switch(t.emailStrategy){case"format:email":$o(r,"email",n.message,t);break;case"format:idn-email":$o(r,"idn-email",n.message,t);break;case"pattern:zod":pn(r,Ro.email,n.message,t);break}break;case"url":$o(r,"uri",n.message,t);break;case"uuid":$o(r,"uuid",n.message,t);break;case"regex":pn(r,n.regex,n.message,t);break;case"cuid":pn(r,Ro.cuid,n.message,t);break;case"cuid2":pn(r,Ro.cuid2,n.message,t);break;case"startsWith":pn(r,RegExp(`^${P1(n.value,t)}`),n.message,t);break;case"endsWith":pn(r,RegExp(`${P1(n.value,t)}$`),n.message,t);break;case"datetime":$o(r,"date-time",n.message,t);break;case"date":$o(r,"date",n.message,t);break;case"time":$o(r,"time",n.message,t);break;case"duration":$o(r,"duration",n.message,t);break;case"length":r.minLength=typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,r.maxLength=typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value;break;case"includes":{pn(r,RegExp(P1(n.value,t)),n.message,t);break}case"ip":{n.version!=="v6"&&$o(r,"ipv4",n.message,t),n.version!=="v4"&&$o(r,"ipv6",n.message,t);break}case"base64url":pn(r,Ro.base64url,n.message,t);break;case"jwt":pn(r,Ro.jwt,n.message,t);break;case"cidr":{n.version!=="v6"&&pn(r,Ro.ipv4Cidr,n.message,t),n.version!=="v4"&&pn(r,Ro.ipv6Cidr,n.message,t);break}case"emoji":pn(r,Ro.emoji(),n.message,t);break;case"ulid":{pn(r,Ro.ulid,n.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{$o(r,"binary",n.message,t);break}case"contentEncoding:base64":{r.contentEncoding="base64";break}case"pattern:zod":{pn(r,Ro.base64,n.message,t);break}}break}case"nanoid":pn(r,Ro.nanoid,n.message,t);case"toLowerCase":case"toUpperCase":case"trim":break;default:}return r}a(UJ,"parseStringDef");function P1(e,t){return t.patternStrategy==="escape"?aye(e):e}a(P1,"escapeLiteralCheckValue");var iye=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function aye(e){let t="";for(let r=0;r<e.length;r++)iye.has(e[r])||(t+="\\"),t+=e[r];return t}a(aye,"escapeNonAlphaNumeric");function $o(e,t,r,n){var o;e.format||(o=e.anyOf)!=null&&o.some(i=>i.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format}),delete e.format),e.anyOf.push({format:t,...r&&n.errorMessages&&{errorMessage:{format:r}}})):e.format=t}a($o,"addFormat");function pn(e,t,r,n){var o;e.pattern||(o=e.allOf)!=null&&o.some(i=>i.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern}),delete e.pattern),e.allOf.push({pattern:OJ(t,n),...r&&n.errorMessages&&{errorMessage:{pattern:r}}})):e.pattern=OJ(t,n)}a(pn,"addPattern");function OJ(e,t){var r;if(!t.applyRegexFlags||!e.flags)return e.source;let n={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},o=n.i?e.source.toLowerCase():e.source,i="",s=!1,u=!1,l=!1;for(let d=0;d<o.length;d++){if(s){i+=o[d],s=!1;continue}if(n.i){if(u){if(o[d].match(/[a-z]/)){l?(i+=o[d],i+=`${o[d-2]}-${o[d]}`.toUpperCase(),l=!1):o[d+1]==="-"&&((r=o[d+2])!=null&&r.match(/[a-z]/))?(i+=o[d],l=!0):i+=`${o[d]}${o[d].toUpperCase()}`;continue}}else if(o[d].match(/[a-z]/)){i+=`[${o[d]}${o[d].toUpperCase()}]`;continue}}if(n.m){if(o[d]==="^"){i+=`(^|(?<=[\r
]))`;continue}else if(o[d]==="$"){i+=`($|(?=[\r
]))`;continue}}if(n.s&&o[d]==="."){i+=u?`${o[d]}\r
`:`[${o[d]}\r
]`;continue}i+=o[d],o[d]==="\\"?s=!0:u&&o[d]==="]"?u=!1:!u&&o[d]==="["&&(u=!0)}try{new RegExp(i)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return i}a(OJ,"stringifyRegExpWithFlags");function LJ(e,t){var r,n,o,i,s,u;let l={type:"object",additionalProperties:(r=$t(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]}))!=null?r:t.allowedAdditionalProperties};if(((n=e.keyType)==null?void 0:n._def.typeName)===q.ZodString&&((o=e.keyType._def.checks)!=null&&o.length)){let{type:d,...p}=UJ(e.keyType._def,t);return{...l,propertyNames:p}}else{if(((i=e.keyType)==null?void 0:i._def.typeName)===q.ZodEnum)return{...l,propertyNames:{enum:e.keyType._def.values}};if(((s=e.keyType)==null?void 0:s._def.typeName)===q.ZodBranded&&e.keyType._def.type._def.typeName===q.ZodString&&((u=e.keyType._def.type._def.checks)!=null&&u.length)){let{type:d,...p}=MJ(e.keyType._def,t);return{...l,propertyNames:p}}}return l}a(LJ,"parseRecordDef");function sye(e,t){if(t.mapStrategy==="record")return LJ(e,t);let r=$t(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||Ln(),n=$t(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||Ln();return{type:"array",maxItems:125,items:{type:"array",items:[r,n],minItems:2,maxItems:2}}}a(sye,"parseMapDef");function uye(e){let t=e.values,n=Object.keys(e.values).filter(i=>typeof t[t[i]]!="number").map(i=>t[i]),o=Array.from(new Set(n.map(i=>typeof i)));return{type:o.length===1?o[0]==="string"?"string":"number":["string","number"],enum:n}}a(uye,"parseNativeEnumDef");function cye(){return{not:Ln()}}a(cye,"parseNeverDef");function lye(){return{type:"null"}}a(lye,"parseNullDef");var O1={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function dye(e,t){let r=e.options instanceof Map?Array.from(e.options.values()):e.options;if(r.every(n=>n._def.typeName in O1&&(!n._def.checks||!n._def.checks.length))){let n=r.reduce((o,i)=>{let s=O1[i._def.typeName];return s&&!o.includes(s)?[...o,s]:o},[]);return{type:n.length>1?n:n[0]}}else if(r.every(n=>n._def.typeName==="ZodLiteral"&&!n.description)){let n=r.reduce((o,i)=>{let s=typeof i._def.value;switch(s){case"string":case"number":case"boolean":return[...o,s];case"bigint":return[...o,"integer"];case"object":if(i._def.value===null)return[...o,"null"];case"symbol":case"undefined":case"function":default:return o}},[]);if(n.length===r.length){let o=n.filter((i,s,u)=>u.indexOf(i)===s);return{type:o.length>1?o:o[0],enum:r.reduce((i,s)=>i.includes(s._def.value)?i:[...i,s._def.value],[])}}}else if(r.every(n=>n._def.typeName==="ZodEnum"))return{type:"string",enum:r.reduce((n,o)=>[...n,...o._def.values.filter(i=>!n.includes(i))],[])};return pye(e,t)}a(dye,"parseUnionDef");var pye=a((e,t)=>{let r=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((n,o)=>$t(n._def,{...t,currentPath:[...t.currentPath,"anyOf",`${o}`]})).filter(n=>!!n&&(!t.strictUnions||typeof n=="object"&&Object.keys(n).length>0));return r.length?{anyOf:r}:void 0},"asAnyOf");function mye(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return{type:[O1[e.innerType._def.typeName],"null"]};let r=$t(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}a(mye,"parseNullableDef");function fye(e){let t={type:"number"};if(!e.checks)return t;for(let r of e.checks)switch(r.kind){case"int":t.type="integer";break;case"min":r.inclusive?t.minimum=r.value:t.exclusiveMinimum=r.value;break;case"max":r.inclusive?t.maximum=r.value:t.exclusiveMaximum=r.value;break;case"multipleOf":t.multipleOf=r.value;break}return t}a(fye,"parseNumberDef");function hye(e,t){let r={type:"object",properties:{}},n=[],o=e.shape();for(let s in o){let u=o[s];if(u===void 0||u._def===void 0)continue;let l=yye(u),d=$t(u._def,{...t,currentPath:[...t.currentPath,"properties",s],propertyPath:[...t.currentPath,"properties",s]});d!==void 0&&(r.properties[s]=d,l||n.push(s))}n.length&&(r.required=n);let i=gye(e,t);return i!==void 0&&(r.additionalProperties=i),r}a(hye,"parseObjectDef");function gye(e,t){if(e.catchall._def.typeName!=="ZodNever")return $t(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}a(gye,"decideAdditionalProperties");function yye(e){try{return e.isOptional()}catch{return!0}}a(yye,"safeIsOptional");var vye=a((e,t)=>{var r;if(t.currentPath.toString()===((r=t.propertyPath)==null?void 0:r.toString()))return $t(e.innerType._def,t);let n=$t(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return n?{anyOf:[{not:Ln()},n]}:Ln()},"parseOptionalDef"),_ye=a((e,t)=>{if(t.pipeStrategy==="input")return $t(e.in._def,t);if(t.pipeStrategy==="output")return $t(e.out._def,t);let r=$t(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),n=$t(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,n].filter(o=>o!==void 0)}},"parsePipelineDef");function bye(e,t){return $t(e.type._def,t)}a(bye,"parsePromiseDef");function Sye(e,t){let n={type:"array",uniqueItems:!0,items:$t(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&(n.minItems=e.minSize.value),e.maxSize&&(n.maxItems=e.maxSize.value),n}a(Sye,"parseSetDef");function wye(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((r,n)=>$t(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[]),additionalItems:$t(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((r,n)=>$t(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[])}}a(wye,"parseTupleDef");function xye(){return{not:Ln()}}a(xye,"parseUndefinedDef");function Tye(){return Ln()}a(Tye,"parseUnknownDef");var kye=a((e,t)=>$t(e.innerType._def,t),"parseReadonlyDef"),Eye=a((e,t,r)=>{switch(t){case q.ZodString:return UJ(e,r);case q.ZodNumber:return fye(e);case q.ZodObject:return hye(e,r);case q.ZodBigInt:return Gge(e);case q.ZodBoolean:return Wge();case q.ZodDate:return qJ(e,r);case q.ZodUndefined:return xye();case q.ZodNull:return lye();case q.ZodArray:return Kge(e,r);case q.ZodUnion:case q.ZodDiscriminatedUnion:return dye(e,r);case q.ZodIntersection:return nye(e,r);case q.ZodTuple:return wye(e,r);case q.ZodRecord:return LJ(e,r);case q.ZodLiteral:return oye(e);case q.ZodEnum:return tye(e);case q.ZodNativeEnum:return uye(e);case q.ZodNullable:return mye(e,r);case q.ZodOptional:return vye(e,r);case q.ZodMap:return sye(e,r);case q.ZodSet:return Sye(e,r);case q.ZodLazy:return()=>e.getter()._def;case q.ZodPromise:return bye(e,r);case q.ZodNaN:case q.ZodNever:return cye();case q.ZodEffects:return eye(e,r);case q.ZodAny:return Ln();case q.ZodUnknown:return Tye();case q.ZodDefault:return Yge(e,r);case q.ZodBranded:return MJ(e,r);case q.ZodReadonly:return kye(e,r);case q.ZodCatch:return Qge(e,r);case q.ZodPipeline:return _ye(e,r);case q.ZodFunction:case q.ZodVoid:case q.ZodSymbol:return;default:return(n=>{})(t)}},"selectParser");function $t(e,t,r=!1){var n;let o=t.seen.get(e);if(t.override){let l=(n=t.override)==null?void 0:n.call(t,e,t,o,r);if(l!==Vge)return l}if(o&&!r){let l=Pye(o,t);if(l!==void 0)return l}let i={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,i);let s=Eye(e,e.typeName,t),u=typeof s=="function"?$t(s(),t):s;if(u&&Iye(e,t,u),t.postProcess){let l=t.postProcess(u,e,t);return i.jsonSchema=u,l}return i.jsonSchema=u,u}a($t,"parseDef");var Pye=a((e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:Hge(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((r,n)=>t.currentPath[n]===r)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),Ln()):t.$refStrategy==="seen"?Ln():void 0}},"get$ref"),Iye=a((e,t,r)=>(e.description&&(r.description=e.description),r),"addMeta"),Oye=a(e=>{let t=Zge(e),r=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([n,o])=>[o._def,{def:o._def,path:[...t.basePath,t.definitionPath,n],jsonSchema:void 0}]))}},"getRefs"),Aye=a((e,t)=>{var r;let n=Oye(t),o=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((d,[p,f])=>{var m;return{...d,[p]:(m=$t(f._def,{...n,currentPath:[...n.basePath,n.definitionPath,p]},!0))!=null?m:Ln()}},{}):void 0,i=typeof t=="string"?t:t?.nameStrategy==="title"?void 0:t?.name,s=(r=$t(e._def,i===void 0?n:{...n,currentPath:[...n.basePath,n.definitionPath,i]},!1))!=null?r:Ln(),u=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;u!==void 0&&(s.title=u);let l=i===void 0?o?{...s,[n.definitionPath]:o}:s:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,i].join("/"),[n.definitionPath]:{...o,[i]:s}};return l.$schema="http://json-schema.org/draft-07/schema#",l},"zodToJsonSchema"),Cye=Aye;function Rye(e,t){var r;let n=(r=t?.useReferences)!=null?r:!1;return FJ(()=>Cye(e,{$refStrategy:n?"root":"none"}),{validate:a(async o=>{let i=await e.safeParseAsync(o);return i.success?{success:!0,value:i.data}:{success:!1,error:i.error}},"validate")})}a(Rye,"zod3Schema");function $ye(e,t){var r;let n=(r=t?.useReferences)!=null?r:!1;return FJ(()=>Oi(e,{target:"draft-7",io:"output",reused:n?"ref":"inline"}),{validate:a(async o=>{let i=await Ci(e,o);return i.success?{success:!0,value:i.data}:{success:!1,error:i.error}},"validate")})}a($ye,"zod4Schema");function Nye(e){return"_zod"in e}a(Nye,"isZod4Schema");function qe(e,t){return Nye(e)?$ye(e,t):Rye(e,t)}a(qe,"zodSchema");var jye=Symbol.for("vercel.ai.schema");function sr(e){let t;return()=>(t==null&&(t=e()),t)}a(sr,"lazySchema");function FJ(e,{validate:t}={}){return{[jye]:!0,_type:void 0,[Qg]:!0,get jsonSchema(){return typeof e=="function"&&(e=e()),e},validate:t}}a(FJ,"jsonSchema");var{btoa:zye,atob:Dye}=globalThis;function JJ(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),r=Dye(t);return Uint8Array.from(r,n=>n.codePointAt(0))}a(JJ,"convertBase64ToUint8Array");function Mye(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCodePoint(e[r]);return zye(t)}a(Mye,"convertUint8ArrayToBase64");function $a(e){return e instanceof Uint8Array?Mye(e):e}a($a,"convertToBase64");function BJ(e){return e?.replace(/\/$/,"")}a(BJ,"withoutTrailingSlash");var j1=c.object({error:c.object({message:c.string(),type:c.string().nullish(),param:c.any().nullish(),code:c.union([c.string(),c.number()]).nullish()})}),ei=zJ({errorSchema:j1,errorToMessage:a(e=>e.error.message,"errorToMessage")});function qye({prompt:e,systemMessageMode:t="system"}){let r=[],n=[];for(let{role:o,content:i}of e)switch(o){case"system":{switch(t){case"system":{r.push({role:"system",content:i});break}case"developer":{r.push({role:"developer",content:i});break}case"remove":{n.push({type:"other",message:"system messages are removed for this model"});break}default:{let s=t;throw new Error(`Unsupported system message mode: ${s}`)}}break}case"user":{if(i.length===1&&i[0].type==="text"){r.push({role:"user",content:i[0].text});break}r.push({role:"user",content:i.map((s,u)=>{var l,d,p;switch(s.type){case"text":return{type:"text",text:s.text};case"file":if(s.mediaType.startsWith("image/")){let f=s.mediaType==="image/*"?"image/jpeg":s.mediaType;return{type:"image_url",image_url:{url:s.data instanceof URL?s.data.toString():`data:${f};base64,${$a(s.data)}`,detail:(d=(l=s.providerOptions)==null?void 0:l.openai)==null?void 0:d.imageDetail}}}else if(s.mediaType.startsWith("audio/")){if(s.data instanceof URL)throw new Et({functionality:"audio file parts with URLs"});switch(s.mediaType){case"audio/wav":return{type:"input_audio",input_audio:{data:$a(s.data),format:"wav"}};case"audio/mp3":case"audio/mpeg":return{type:"input_audio",input_audio:{data:$a(s.data),format:"mp3"}};default:throw new Et({functionality:`audio content parts with media type ${s.mediaType}`})}}else if(s.mediaType==="application/pdf"){if(s.data instanceof URL)throw new Et({functionality:"PDF file parts with URLs"});return{type:"file",file:typeof s.data=="string"&&s.data.startsWith("file-")?{file_id:s.data}:{filename:(p=s.filename)!=null?p:`part-${u}.pdf`,file_data:`data:application/pdf;base64,${$a(s.data)}`}}}else throw new Et({functionality:`file part media type ${s.mediaType}`})}})});break}case"assistant":{let s="",u=[];for(let l of i)switch(l.type){case"text":{s+=l.text;break}case"tool-call":{u.push({id:l.toolCallId,type:"function",function:{name:l.toolName,arguments:JSON.stringify(l.input)}});break}}r.push({role:"assistant",content:s,tool_calls:u.length>0?u:void 0});break}case"tool":{for(let s of i){let u=s.output,l;switch(u.type){case"text":case"error-text":l=u.value;break;case"content":case"json":case"error-json":l=JSON.stringify(u.value);break}r.push({role:"tool",tool_call_id:s.toolCallId,content:l})}break}default:{let s=o;throw new Error(`Unsupported role: ${s}`)}}return{messages:r,warnings:n}}a(qye,"convertToOpenAIChatMessages");function N1({id:e,model:t,created:r}){return{id:e??void 0,modelId:t??void 0,timestamp:r?new Date(r*1e3):void 0}}a(N1,"getResponseMetadata");function HJ(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}a(HJ,"mapOpenAIFinishReason");var Uye=Lt(()=>qe(c.object({id:c.string().nullish(),created:c.number().nullish(),model:c.string().nullish(),choices:c.array(c.object({message:c.object({role:c.literal("assistant").nullish(),content:c.string().nullish(),tool_calls:c.array(c.object({id:c.string().nullish(),type:c.literal("function"),function:c.object({name:c.string(),arguments:c.string()})})).nullish(),annotations:c.array(c.object({type:c.literal("url_citation"),start_index:c.number(),end_index:c.number(),url:c.string(),title:c.string()})).nullish()}),index:c.number(),logprobs:c.object({content:c.array(c.object({token:c.string(),logprob:c.number(),top_logprobs:c.array(c.object({token:c.string(),logprob:c.number()}))})).nullish()}).nullish(),finish_reason:c.string().nullish()})),usage:c.object({prompt_tokens:c.number().nullish(),completion_tokens:c.number().nullish(),total_tokens:c.number().nullish(),prompt_tokens_details:c.object({cached_tokens:c.number().nullish()}).nullish(),completion_tokens_details:c.object({reasoning_tokens:c.number().nullish(),accepted_prediction_tokens:c.number().nullish(),rejected_prediction_tokens:c.number().nullish()}).nullish()}).nullish()}))),Lye=Lt(()=>qe(c.union([c.object({id:c.string().nullish(),created:c.number().nullish(),model:c.string().nullish(),choices:c.array(c.object({delta:c.object({role:c.enum(["assistant"]).nullish(),content:c.string().nullish(),tool_calls:c.array(c.object({index:c.number(),id:c.string().nullish(),type:c.literal("function").nullish(),function:c.object({name:c.string().nullish(),arguments:c.string().nullish()})})).nullish(),annotations:c.array(c.object({type:c.literal("url_citation"),start_index:c.number(),end_index:c.number(),url:c.string(),title:c.string()})).nullish()}).nullish(),logprobs:c.object({content:c.array(c.object({token:c.string(),logprob:c.number(),top_logprobs:c.array(c.object({token:c.string(),logprob:c.number()}))})).nullish()}).nullish(),finish_reason:c.string().nullish(),index:c.number()})),usage:c.object({prompt_tokens:c.number().nullish(),completion_tokens:c.number().nullish(),total_tokens:c.number().nullish(),prompt_tokens_details:c.object({cached_tokens:c.number().nullish()}).nullish(),completion_tokens_details:c.object({reasoning_tokens:c.number().nullish(),accepted_prediction_tokens:c.number().nullish(),rejected_prediction_tokens:c.number().nullish()}).nullish()}).nullish()}),j1]))),Fye=Lt(()=>qe(c.object({logitBias:c.record(c.coerce.number(),c.number()).optional(),logprobs:c.union([c.boolean(),c.number()]).optional(),parallelToolCalls:c.boolean().optional(),user:c.string().optional(),reasoningEffort:c.enum(["none","minimal","low","medium","high"]).optional(),maxCompletionTokens:c.number().optional(),store:c.boolean().optional(),metadata:c.record(c.string().max(64),c.string().max(512)).optional(),prediction:c.record(c.string(),c.any()).optional(),structuredOutputs:c.boolean().optional(),serviceTier:c.enum(["auto","flex","priority","default"]).optional(),strictJsonSchema:c.boolean().optional(),textVerbosity:c.enum(["low","medium","high"]).optional(),promptCacheKey:c.string().optional(),promptCacheRetention:c.enum(["in_memory","24h"]).optional(),safetyIdentifier:c.string().optional()})));function Jye({tools:e,toolChoice:t,structuredOutputs:r,strictJsonSchema:n}){e=e?.length?e:void 0;let o=[];if(e==null)return{tools:void 0,toolChoice:void 0,toolWarnings:o};let i=[];for(let u of e)switch(u.type){case"function":i.push({type:"function",function:{name:u.name,description:u.description,parameters:u.inputSchema,strict:r?n:void 0}});break;default:o.push({type:"unsupported-tool",tool:u});break}if(t==null)return{tools:i,toolChoice:void 0,toolWarnings:o};let s=t.type;switch(s){case"auto":case"none":case"required":return{tools:i,toolChoice:s,toolWarnings:o};case"tool":return{tools:i,toolChoice:{type:"function",function:{name:t.toolName}},toolWarnings:o};default:{let u=s;throw new Et({functionality:`tool choice type: ${u}`})}}}a(Jye,"prepareChatTools");var Bye=class{static{a(this,"OpenAIChatLanguageModel")}constructor(e,t){this.specificationVersion="v2",this.supportedUrls={"image/*":[/^https?:\/\/.*$/]},this.modelId=e,this.config=t}get provider(){return this.config.provider}async getArgs({prompt:e,maxOutputTokens:t,temperature:r,topP:n,topK:o,frequencyPenalty:i,presencePenalty:s,stopSequences:u,responseFormat:l,seed:d,tools:p,toolChoice:f,providerOptions:m}){var y,g,h,v;let S=[],b=(y=await mn({provider:"openai",providerOptions:m,schema:Fye}))!=null?y:{},w=(g=b.structuredOutputs)!=null?g:!0;o!=null&&S.push({type:"unsupported-setting",setting:"topK"}),l?.type==="json"&&l.schema!=null&&!w&&S.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is only supported with structuredOutputs"});let{messages:k,warnings:$}=qye({prompt:e,systemMessageMode:Zye(this.modelId)});S.push(...$);let A=(h=b.strictJsonSchema)!=null?h:!1,O={model:this.modelId,logit_bias:b.logitBias,logprobs:b.logprobs===!0||typeof b.logprobs=="number"?!0:void 0,top_logprobs:typeof b.logprobs=="number"?b.logprobs:typeof b.logprobs=="boolean"&&b.logprobs?0:void 0,user:b.user,parallel_tool_calls:b.parallelToolCalls,max_tokens:t,temperature:r,top_p:n,frequency_penalty:i,presence_penalty:s,response_format:l?.type==="json"?w&&l.schema!=null?{type:"json_schema",json_schema:{schema:l.schema,strict:A,name:(v=l.name)!=null?v:"response",description:l.description}}:{type:"json_object"}:void 0,stop:u,seed:d,verbosity:b.textVerbosity,max_completion_tokens:b.maxCompletionTokens,store:b.store,metadata:b.metadata,prediction:b.prediction,reasoning_effort:b.reasoningEffort,service_tier:b.serviceTier,prompt_cache_key:b.promptCacheKey,prompt_cache_retention:b.promptCacheRetention,safety_identifier:b.safetyIdentifier,messages:k};eB(this.modelId)?(O.temperature!=null&&(O.temperature=void 0,S.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),O.top_p!=null&&(O.top_p=void 0,S.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"})),O.frequency_penalty!=null&&(O.frequency_penalty=void 0,S.push({type:"unsupported-setting",setting:"frequencyPenalty",details:"frequencyPenalty is not supported for reasoning models"})),O.presence_penalty!=null&&(O.presence_penalty=void 0,S.push({type:"unsupported-setting",setting:"presencePenalty",details:"presencePenalty is not supported for reasoning models"})),O.logit_bias!=null&&(O.logit_bias=void 0,S.push({type:"other",message:"logitBias is not supported for reasoning models"})),O.logprobs!=null&&(O.logprobs=void 0,S.push({type:"other",message:"logprobs is not supported for reasoning models"})),O.top_logprobs!=null&&(O.top_logprobs=void 0,S.push({type:"other",message:"topLogprobs is not supported for reasoning models"})),O.max_tokens!=null&&(O.max_completion_tokens==null&&(O.max_completion_tokens=O.max_tokens),O.max_tokens=void 0)):(this.modelId.startsWith("gpt-4o-search-preview")||this.modelId.startsWith("gpt-4o-mini-search-preview"))&&O.temperature!=null&&(O.temperature=void 0,S.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for the search preview models and has been removed."})),b.serviceTier==="flex"&&!Hye(this.modelId)&&(S.push({type:"unsupported-setting",setting:"serviceTier",details:"flex processing is only available for o3, o4-mini, and gpt-5 models"}),O.service_tier=void 0),b.serviceTier==="priority"&&!Vye(this.modelId)&&(S.push({type:"unsupported-setting",setting:"serviceTier",details:"priority processing is only available for supported models (gpt-4, gpt-5, gpt-5-mini, o3, o4-mini) and requires Enterprise access. gpt-5-nano is not supported"}),O.service_tier=void 0);let{tools:R,toolChoice:I,toolWarnings:N}=Jye({tools:p,toolChoice:f,structuredOutputs:w,strictJsonSchema:A});return{args:{...O,tools:R,tool_choice:I},warnings:[...S,...N]}}async doGenerate(e){var t,r,n,o,i,s,u,l,d,p,f,m,y,g;let{args:h,warnings:v}=await this.getArgs(e),{responseHeaders:S,value:b,rawValue:w}=await fn({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:Fr(this.config.headers(),e.headers),body:h,failedResponseHandler:ei,successfulResponseHandler:to(Uye),abortSignal:e.abortSignal,fetch:this.config.fetch}),k=b.choices[0],$=[],A=k.message.content;A!=null&&A.length>0&&$.push({type:"text",text:A});for(let N of(t=k.message.tool_calls)!=null?t:[])$.push({type:"tool-call",toolCallId:(r=N.id)!=null?r:No(),toolName:N.function.name,input:N.function.arguments});for(let N of(n=k.message.annotations)!=null?n:[])$.push({type:"source",sourceType:"url",id:No(),url:N.url,title:N.title});let O=(o=b.usage)==null?void 0:o.completion_tokens_details,R=(i=b.usage)==null?void 0:i.prompt_tokens_details,I={openai:{}};return O?.accepted_prediction_tokens!=null&&(I.openai.acceptedPredictionTokens=O?.accepted_prediction_tokens),O?.rejected_prediction_tokens!=null&&(I.openai.rejectedPredictionTokens=O?.rejected_prediction_tokens),((s=k.logprobs)==null?void 0:s.content)!=null&&(I.openai.logprobs=k.logprobs.content),{content:$,finishReason:HJ(k.finish_reason),usage:{inputTokens:(l=(u=b.usage)==null?void 0:u.prompt_tokens)!=null?l:void 0,outputTokens:(p=(d=b.usage)==null?void 0:d.completion_tokens)!=null?p:void 0,totalTokens:(m=(f=b.usage)==null?void 0:f.total_tokens)!=null?m:void 0,reasoningTokens:(y=O?.reasoning_tokens)!=null?y:void 0,cachedInputTokens:(g=R?.cached_tokens)!=null?g:void 0},request:{body:h},response:{...N1(b),headers:S,body:w},warnings:v,providerMetadata:I}}async doStream(e){let{args:t,warnings:r}=await this.getArgs(e),n={...t,stream:!0,stream_options:{include_usage:!0}},{responseHeaders:o,value:i}=await fn({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:Fr(this.config.headers(),e.headers),body:n,failedResponseHandler:ei,successfulResponseHandler:wc(Lye),abortSignal:e.abortSignal,fetch:this.config.fetch}),s=[],u="unknown",l={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},d=!1,p=!1,f={openai:{}};return{stream:i.pipeThrough(new TransformStream({start(m){m.enqueue({type:"stream-start",warnings:r})},transform(m,y){var g,h,v,S,b,w,k,$,A,O,R,I,N,z,X,Z,J,te,ne,ae,Se,ke,Xe,Ve;if(e.includeRawChunks&&y.enqueue({type:"raw",rawValue:m.rawValue}),!m.success){u="error",y.enqueue({type:"error",error:m.error});return}let G=m.value;if("error"in G){u="error",y.enqueue({type:"error",error:G.error});return}if(!d){let F=N1(G);Object.values(F).some(Boolean)&&(d=!0,y.enqueue({type:"response-metadata",...N1(G)}))}G.usage!=null&&(l.inputTokens=(g=G.usage.prompt_tokens)!=null?g:void 0,l.outputTokens=(h=G.usage.completion_tokens)!=null?h:void 0,l.totalTokens=(v=G.usage.total_tokens)!=null?v:void 0,l.reasoningTokens=(b=(S=G.usage.completion_tokens_details)==null?void 0:S.reasoning_tokens)!=null?b:void 0,l.cachedInputTokens=(k=(w=G.usage.prompt_tokens_details)==null?void 0:w.cached_tokens)!=null?k:void 0,(($=G.usage.completion_tokens_details)==null?void 0:$.accepted_prediction_tokens)!=null&&(f.openai.acceptedPredictionTokens=(A=G.usage.completion_tokens_details)==null?void 0:A.accepted_prediction_tokens),((O=G.usage.completion_tokens_details)==null?void 0:O.rejected_prediction_tokens)!=null&&(f.openai.rejectedPredictionTokens=(R=G.usage.completion_tokens_details)==null?void 0:R.rejected_prediction_tokens));let Re=G.choices[0];if(Re?.finish_reason!=null&&(u=HJ(Re.finish_reason)),((I=Re?.logprobs)==null?void 0:I.content)!=null&&(f.openai.logprobs=Re.logprobs.content),Re?.delta==null)return;let ye=Re.delta;if(ye.content!=null&&(p||(y.enqueue({type:"text-start",id:"0"}),p=!0),y.enqueue({type:"text-delta",id:"0",delta:ye.content})),ye.tool_calls!=null)for(let F of ye.tool_calls){let Ke=F.index;if(s[Ke]==null){if(F.type!=="function")throw new Fg({data:F,message:"Expected 'function' type."});if(F.id==null)throw new Fg({data:F,message:"Expected 'id' to be a string."});if(((N=F.function)==null?void 0:N.name)==null)throw new Fg({data:F,message:"Expected 'function.name' to be a string."});y.enqueue({type:"tool-input-start",id:F.id,toolName:F.function.name}),s[Ke]={id:F.id,type:"function",function:{name:F.function.name,arguments:(z=F.function.arguments)!=null?z:""},hasFinished:!1};let Nt=s[Ke];((X=Nt.function)==null?void 0:X.name)!=null&&((Z=Nt.function)==null?void 0:Z.arguments)!=null&&(Nt.function.arguments.length>0&&y.enqueue({type:"tool-input-delta",id:Nt.id,delta:Nt.function.arguments}),$1(Nt.function.arguments)&&(y.enqueue({type:"tool-input-end",id:Nt.id}),y.enqueue({type:"tool-call",toolCallId:(J=Nt.id)!=null?J:No(),toolName:Nt.function.name,input:Nt.function.arguments}),Nt.hasFinished=!0));continue}let Pt=s[Ke];Pt.hasFinished||(((te=F.function)==null?void 0:te.arguments)!=null&&(Pt.function.arguments+=(ae=(ne=F.function)==null?void 0:ne.arguments)!=null?ae:""),y.enqueue({type:"tool-input-delta",id:Pt.id,delta:(Se=F.function.arguments)!=null?Se:""}),((ke=Pt.function)==null?void 0:ke.name)!=null&&((Xe=Pt.function)==null?void 0:Xe.arguments)!=null&&$1(Pt.function.arguments)&&(y.enqueue({type:"tool-input-end",id:Pt.id}),y.enqueue({type:"tool-call",toolCallId:(Ve=Pt.id)!=null?Ve:No(),toolName:Pt.function.name,input:Pt.function.arguments}),Pt.hasFinished=!0))}if(ye.annotations!=null)for(let F of ye.annotations)y.enqueue({type:"source",sourceType:"url",id:No(),url:F.url,title:F.title})},flush(m){p&&m.enqueue({type:"text-end",id:"0"}),m.enqueue({type:"finish",finishReason:u,usage:l,...f!=null?{providerMetadata:f}:{}})}})),request:{body:n},response:{headers:o}}}};function eB(e){return(e.startsWith("o")||e.startsWith("gpt-5"))&&!e.startsWith("gpt-5-chat")}a(eB,"isReasoningModel");function Hye(e){return e.startsWith("o3")||e.startsWith("o4-mini")||e.startsWith("gpt-5")&&!e.startsWith("gpt-5-chat")}a(Hye,"supportsFlexProcessing");function Vye(e){return e.startsWith("gpt-4")||e.startsWith("gpt-5-mini")||e.startsWith("gpt-5")&&!e.startsWith("gpt-5-nano")&&!e.startsWith("gpt-5-chat")||e.startsWith("o3")||e.startsWith("o4-mini")}a(Vye,"supportsPriorityProcessing");function Zye(e){var t,r;return eB(e)?(r=(t=Kye[e])==null?void 0:t.systemMessageMode)!=null?r:"developer":"system"}a(Zye,"getSystemMessageMode");var Kye={o3:{systemMessageMode:"developer"},"o3-2025-04-16":{systemMessageMode:"developer"},"o3-mini":{systemMessageMode:"developer"},"o3-mini-2025-01-31":{systemMessageMode:"developer"},"o4-mini":{systemMessageMode:"developer"},"o4-mini-2025-04-16":{systemMessageMode:"developer"}};function Gye({prompt:e,user:t="user",assistant:r="assistant"}){let n="";e[0].role==="system"&&(n+=`${e[0].content}

`,e=e.slice(1));for(let{role:o,content:i}of e)switch(o){case"system":throw new u6({message:"Unexpected system message in prompt: ${content}",prompt:e});case"user":{let s=i.map(u=>{switch(u.type){case"text":return u.text}}).filter(Boolean).join("");n+=`${t}:
${s}

`;break}case"assistant":{let s=i.map(u=>{switch(u.type){case"text":return u.text;case"tool-call":throw new Et({functionality:"tool-call messages"})}}).join("");n+=`${r}:
${s}

`;break}case"tool":throw new Et({functionality:"tool messages"});default:{let s=o;throw new Error(`Unsupported role: ${s}`)}}return n+=`${r}:
`,{prompt:n,stopSequences:[`
${t}:`]}}a(Gye,"convertToOpenAICompletionPrompt");function VJ({id:e,model:t,created:r}){return{id:e??void 0,modelId:t??void 0,timestamp:r!=null?new Date(r*1e3):void 0}}a(VJ,"getResponseMetadata2");function ZJ(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}a(ZJ,"mapOpenAIFinishReason2");var Wye=Lt(()=>qe(c.object({id:c.string().nullish(),created:c.number().nullish(),model:c.string().nullish(),choices:c.array(c.object({text:c.string(),finish_reason:c.string(),logprobs:c.object({tokens:c.array(c.string()),token_logprobs:c.array(c.number()),top_logprobs:c.array(c.record(c.string(),c.number())).nullish()}).nullish()})),usage:c.object({prompt_tokens:c.number(),completion_tokens:c.number(),total_tokens:c.number()}).nullish()}))),Qye=Lt(()=>qe(c.union([c.object({id:c.string().nullish(),created:c.number().nullish(),model:c.string().nullish(),choices:c.array(c.object({text:c.string(),finish_reason:c.string().nullish(),index:c.number(),logprobs:c.object({tokens:c.array(c.string()),token_logprobs:c.array(c.number()),top_logprobs:c.array(c.record(c.string(),c.number())).nullish()}).nullish()})),usage:c.object({prompt_tokens:c.number(),completion_tokens:c.number(),total_tokens:c.number()}).nullish()}),j1]))),KJ=Lt(()=>qe(c.object({echo:c.boolean().optional(),logitBias:c.record(c.string(),c.number()).optional(),suffix:c.string().optional(),user:c.string().optional(),logprobs:c.union([c.boolean(),c.number()]).optional()}))),Xye=class{static{a(this,"OpenAICompletionLanguageModel")}constructor(e,t){this.specificationVersion="v2",this.supportedUrls={},this.modelId=e,this.config=t}get providerOptionsName(){return this.config.provider.split(".")[0].trim()}get provider(){return this.config.provider}async getArgs({prompt:e,maxOutputTokens:t,temperature:r,topP:n,topK:o,frequencyPenalty:i,presencePenalty:s,stopSequences:u,responseFormat:l,tools:d,toolChoice:p,seed:f,providerOptions:m}){let y=[],g={...await mn({provider:"openai",providerOptions:m,schema:KJ}),...await mn({provider:this.providerOptionsName,providerOptions:m,schema:KJ})};o!=null&&y.push({type:"unsupported-setting",setting:"topK"}),d?.length&&y.push({type:"unsupported-setting",setting:"tools"}),p!=null&&y.push({type:"unsupported-setting",setting:"toolChoice"}),l!=null&&l.type!=="text"&&y.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});let{prompt:h,stopSequences:v}=Gye({prompt:e}),S=[...v??[],...u??[]];return{args:{model:this.modelId,echo:g.echo,logit_bias:g.logitBias,logprobs:g?.logprobs===!0?0:g?.logprobs===!1?void 0:g?.logprobs,suffix:g.suffix,user:g.user,max_tokens:t,temperature:r,top_p:n,frequency_penalty:i,presence_penalty:s,seed:f,prompt:h,stop:S.length>0?S:void 0},warnings:y}}async doGenerate(e){var t,r,n;let{args:o,warnings:i}=await this.getArgs(e),{responseHeaders:s,value:u,rawValue:l}=await fn({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:Fr(this.config.headers(),e.headers),body:o,failedResponseHandler:ei,successfulResponseHandler:to(Wye),abortSignal:e.abortSignal,fetch:this.config.fetch}),d=u.choices[0],p={openai:{}};return d.logprobs!=null&&(p.openai.logprobs=d.logprobs),{content:[{type:"text",text:d.text}],usage:{inputTokens:(t=u.usage)==null?void 0:t.prompt_tokens,outputTokens:(r=u.usage)==null?void 0:r.completion_tokens,totalTokens:(n=u.usage)==null?void 0:n.total_tokens},finishReason:ZJ(d.finish_reason),request:{body:o},response:{...VJ(u),headers:s,body:l},providerMetadata:p,warnings:i}}async doStream(e){let{args:t,warnings:r}=await this.getArgs(e),n={...t,stream:!0,stream_options:{include_usage:!0}},{responseHeaders:o,value:i}=await fn({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:Fr(this.config.headers(),e.headers),body:n,failedResponseHandler:ei,successfulResponseHandler:wc(Qye),abortSignal:e.abortSignal,fetch:this.config.fetch}),s="unknown",u={openai:{}},l={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},d=!0;return{stream:i.pipeThrough(new TransformStream({start(p){p.enqueue({type:"stream-start",warnings:r})},transform(p,f){if(e.includeRawChunks&&f.enqueue({type:"raw",rawValue:p.rawValue}),!p.success){s="error",f.enqueue({type:"error",error:p.error});return}let m=p.value;if("error"in m){s="error",f.enqueue({type:"error",error:m.error});return}d&&(d=!1,f.enqueue({type:"response-metadata",...VJ(m)}),f.enqueue({type:"text-start",id:"0"})),m.usage!=null&&(l.inputTokens=m.usage.prompt_tokens,l.outputTokens=m.usage.completion_tokens,l.totalTokens=m.usage.total_tokens);let y=m.choices[0];y?.finish_reason!=null&&(s=ZJ(y.finish_reason)),y?.logprobs!=null&&(u.openai.logprobs=y.logprobs),y?.text!=null&&y.text.length>0&&f.enqueue({type:"text-delta",id:"0",delta:y.text})},flush(p){d||p.enqueue({type:"text-end",id:"0"}),p.enqueue({type:"finish",finishReason:s,providerMetadata:u,usage:l})}})),request:{body:n},response:{headers:o}}}},Yye=Lt(()=>qe(c.object({dimensions:c.number().optional(),user:c.string().optional()}))),eve=Lt(()=>qe(c.object({data:c.array(c.object({embedding:c.array(c.number())})),usage:c.object({prompt_tokens:c.number()}).nullish()}))),tve=class{static{a(this,"OpenAIEmbeddingModel")}constructor(e,t){this.specificationVersion="v2",this.maxEmbeddingsPerCall=2048,this.supportsParallelCalls=!0,this.modelId=e,this.config=t}get provider(){return this.config.provider}async doEmbed({values:e,headers:t,abortSignal:r,providerOptions:n}){var o;if(e.length>this.maxEmbeddingsPerCall)throw new Jg({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});let i=(o=await mn({provider:"openai",providerOptions:n,schema:Yye}))!=null?o:{},{responseHeaders:s,value:u,rawValue:l}=await fn({url:this.config.url({path:"/embeddings",modelId:this.modelId}),headers:Fr(this.config.headers(),t),body:{model:this.modelId,input:e,encoding_format:"float",dimensions:i.dimensions,user:i.user},failedResponseHandler:ei,successfulResponseHandler:to(eve),abortSignal:r,fetch:this.config.fetch});return{embeddings:u.data.map(d=>d.embedding),usage:u.usage?{tokens:u.usage.prompt_tokens}:void 0,response:{headers:s,body:l}}}},rve=Lt(()=>qe(c.object({data:c.array(c.object({b64_json:c.string(),revised_prompt:c.string().nullish()}))}))),nve={"dall-e-3":1,"dall-e-2":10,"gpt-image-1":10,"gpt-image-1-mini":10},ove=new Set(["gpt-image-1","gpt-image-1-mini"]),ive=class{static{a(this,"OpenAIImageModel")}constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2"}get maxImagesPerCall(){var e;return(e=nve[this.modelId])!=null?e:1}get provider(){return this.config.provider}async doGenerate({prompt:e,n:t,size:r,aspectRatio:n,seed:o,providerOptions:i,headers:s,abortSignal:u}){var l,d,p,f;let m=[];n!=null&&m.push({type:"unsupported-setting",setting:"aspectRatio",details:"This model does not support aspect ratio. Use `size` instead."}),o!=null&&m.push({type:"unsupported-setting",setting:"seed"});let y=(p=(d=(l=this.config._internal)==null?void 0:l.currentDate)==null?void 0:d.call(l))!=null?p:new Date,{value:g,responseHeaders:h}=await fn({url:this.config.url({path:"/images/generations",modelId:this.modelId}),headers:Fr(this.config.headers(),s),body:{model:this.modelId,prompt:e,n:t,size:r,...(f=i.openai)!=null?f:{},...ove.has(this.modelId)?{}:{response_format:"b64_json"}},failedResponseHandler:ei,successfulResponseHandler:to(rve),abortSignal:u,fetch:this.config.fetch});return{images:g.data.map(v=>v.b64_json),warnings:m,response:{timestamp:y,modelId:this.modelId,headers:h},providerMetadata:{openai:{images:g.data.map(v=>v.revised_prompt?{revisedPrompt:v.revised_prompt}:null)}}}}},ave=sr(()=>qe(c.object({code:c.string().nullish(),containerId:c.string()}))),sve=sr(()=>qe(c.object({outputs:c.array(c.discriminatedUnion("type",[c.object({type:c.literal("logs"),logs:c.string()}),c.object({type:c.literal("image"),url:c.string()})])).nullish()}))),uve=sr(()=>qe(c.object({container:c.union([c.string(),c.object({fileIds:c.array(c.string()).optional()})]).optional()}))),cve=eo({id:"openai.code_interpreter",name:"code_interpreter",inputSchema:ave,outputSchema:sve}),lve=a((e={})=>cve(e),"codeInterpreter"),tB=c.object({key:c.string(),type:c.enum(["eq","ne","gt","gte","lt","lte"]),value:c.union([c.string(),c.number(),c.boolean()])}),rB=c.object({type:c.enum(["and","or"]),filters:c.array(c.union([tB,c.lazy(()=>rB)]))}),dve=sr(()=>qe(c.object({vectorStoreIds:c.array(c.string()),maxNumResults:c.number().optional(),ranking:c.object({ranker:c.string().optional(),scoreThreshold:c.number().optional()}).optional(),filters:c.union([tB,rB]).optional()}))),pve=sr(()=>qe(c.object({queries:c.array(c.string()),results:c.array(c.object({attributes:c.record(c.string(),c.unknown()),fileId:c.string(),filename:c.string(),score:c.number(),text:c.string()})).nullable()}))),mve=eo({id:"openai.file_search",name:"file_search",inputSchema:c.object({}),outputSchema:pve}),fve=sr(()=>qe(c.object({background:c.enum(["auto","opaque","transparent"]).optional(),inputFidelity:c.enum(["low","high"]).optional(),inputImageMask:c.object({fileId:c.string().optional(),imageUrl:c.string().optional()}).optional(),model:c.string().optional(),moderation:c.enum(["auto"]).optional(),outputCompression:c.number().int().min(0).max(100).optional(),outputFormat:c.enum(["png","jpeg","webp"]).optional(),partialImages:c.number().int().min(0).max(3).optional(),quality:c.enum(["auto","low","medium","high"]).optional(),size:c.enum(["1024x1024","1024x1536","1536x1024","auto"]).optional()}).strict())),hve=sr(()=>qe(c.object({}))),gve=sr(()=>qe(c.object({result:c.string()}))),yve=eo({id:"openai.image_generation",name:"image_generation",inputSchema:hve,outputSchema:gve}),vve=a((e={})=>yve(e),"imageGeneration"),nB=sr(()=>qe(c.object({action:c.object({type:c.literal("exec"),command:c.array(c.string()),timeoutMs:c.number().optional(),user:c.string().optional(),workingDirectory:c.string().optional(),env:c.record(c.string(),c.string()).optional()})}))),oB=sr(()=>qe(c.object({output:c.string()}))),_ve=eo({id:"openai.local_shell",name:"local_shell",inputSchema:nB,outputSchema:oB}),bve=sr(()=>qe(c.object({externalWebAccess:c.boolean().optional(),filters:c.object({allowedDomains:c.array(c.string()).optional()}).optional(),searchContextSize:c.enum(["low","medium","high"]).optional(),userLocation:c.object({type:c.literal("approximate"),country:c.string().optional(),city:c.string().optional(),region:c.string().optional(),timezone:c.string().optional()}).optional()}))),Sve=sr(()=>qe(c.object({}))),wve=sr(()=>qe(c.object({action:c.discriminatedUnion("type",[c.object({type:c.literal("search"),query:c.string().optional()}),c.object({type:c.literal("openPage"),url:c.string()}),c.object({type:c.literal("find"),url:c.string(),pattern:c.string()})]),sources:c.array(c.discriminatedUnion("type",[c.object({type:c.literal("url"),url:c.string()}),c.object({type:c.literal("api"),name:c.string()})])).optional()}))),xve=eo({id:"openai.web_search",name:"web_search",inputSchema:Sve,outputSchema:wve}),Tve=a((e={})=>xve(e),"webSearch"),kve=sr(()=>qe(c.object({searchContextSize:c.enum(["low","medium","high"]).optional(),userLocation:c.object({type:c.literal("approximate"),country:c.string().optional(),city:c.string().optional(),region:c.string().optional(),timezone:c.string().optional()}).optional()}))),Eve=sr(()=>qe(c.object({}))),Pve=sr(()=>qe(c.object({action:c.discriminatedUnion("type",[c.object({type:c.literal("search"),query:c.string().optional()}),c.object({type:c.literal("openPage"),url:c.string()}),c.object({type:c.literal("find"),url:c.string(),pattern:c.string()})])}))),Ive=eo({id:"openai.web_search_preview",name:"web_search_preview",inputSchema:Eve,outputSchema:Pve}),Ove={codeInterpreter:lve,fileSearch:mve,imageGeneration:vve,localShell:_ve,webSearchPreview:Ive,webSearch:Tve};function GJ(e,t){return t?t.some(r=>e.startsWith(r)):!1}a(GJ,"isFileId");async function Ave({prompt:e,systemMessageMode:t,fileIdPrefixes:r,store:n,hasLocalShellTool:o=!1}){var i,s,u,l;let d=[],p=[];for(let{role:f,content:m}of e)switch(f){case"system":{switch(t){case"system":{d.push({role:"system",content:m});break}case"developer":{d.push({role:"developer",content:m});break}case"remove":{p.push({type:"other",message:"system messages are removed for this model"});break}default:{let y=t;throw new Error(`Unsupported system message mode: ${y}`)}}break}case"user":{d.push({role:"user",content:m.map((y,g)=>{var h,v,S;switch(y.type){case"text":return{type:"input_text",text:y.text};case"file":if(y.mediaType.startsWith("image/")){let b=y.mediaType==="image/*"?"image/jpeg":y.mediaType;return{type:"input_image",...y.data instanceof URL?{image_url:y.data.toString()}:typeof y.data=="string"&&GJ(y.data,r)?{file_id:y.data}:{image_url:`data:${b};base64,${$a(y.data)}`},detail:(v=(h=y.providerOptions)==null?void 0:h.openai)==null?void 0:v.imageDetail}}else{if(y.mediaType==="application/pdf")return y.data instanceof URL?{type:"input_file",file_url:y.data.toString()}:{type:"input_file",...typeof y.data=="string"&&GJ(y.data,r)?{file_id:y.data}:{filename:(S=y.filename)!=null?S:`part-${g}.pdf`,file_data:`data:application/pdf;base64,${$a(y.data)}`}};throw new Et({functionality:`file part media type ${y.mediaType}`})}}})});break}case"assistant":{let y={},g={};for(let h of m)switch(h.type){case"text":{let v=(s=(i=h.providerOptions)==null?void 0:i.openai)==null?void 0:s.itemId;if(n&&v!=null){d.push({type:"item_reference",id:v});break}d.push({role:"assistant",content:[{type:"output_text",text:h.text}],id:v});break}case"tool-call":{if(g[h.toolCallId]=h,h.providerExecuted)break;let v=(l=(u=h.providerOptions)==null?void 0:u.openai)==null?void 0:l.itemId;if(n&&v!=null){d.push({type:"item_reference",id:v});break}if(o&&h.toolName==="local_shell"){let S=await Yo({value:h.input,schema:nB});d.push({type:"local_shell_call",call_id:h.toolCallId,id:v,action:{type:"exec",command:S.action.command,timeout_ms:S.action.timeoutMs,user:S.action.user,working_directory:S.action.workingDirectory,env:S.action.env}});break}d.push({type:"function_call",call_id:h.toolCallId,name:h.toolName,arguments:JSON.stringify(h.input),id:v});break}case"tool-result":{n?d.push({type:"item_reference",id:h.toolCallId}):p.push({type:"other",message:`Results for OpenAI tool ${h.toolName} are not sent to the API when store is false`});break}case"reasoning":{let v=await mn({provider:"openai",providerOptions:h.providerOptions,schema:Cve}),S=v?.itemId;if(S!=null){let b=y[S];if(n)b===void 0&&(d.push({type:"item_reference",id:S}),y[S]={type:"reasoning",id:S,summary:[]});else{let w=[];h.text.length>0?w.push({type:"summary_text",text:h.text}):b!==void 0&&p.push({type:"other",message:`Cannot append empty reasoning part to existing reasoning sequence. Skipping reasoning part: ${JSON.stringify(h)}.`}),b===void 0?(y[S]={type:"reasoning",id:S,encrypted_content:v?.reasoningEncryptedContent,summary:w},d.push(y[S])):(b.summary.push(...w),v?.reasoningEncryptedContent!=null&&(b.encrypted_content=v.reasoningEncryptedContent))}}else p.push({type:"other",message:`Non-OpenAI reasoning parts are not supported. Skipping reasoning part: ${JSON.stringify(h)}.`});break}}break}case"tool":{for(let y of m){let g=y.output;if(o&&y.toolName==="local_shell"&&g.type==="json"){let v=await Yo({value:g.value,schema:oB});d.push({type:"local_shell_call_output",call_id:y.toolCallId,output:v.output});break}let h;switch(g.type){case"text":case"error-text":h=g.value;break;case"json":case"error-json":h=JSON.stringify(g.value);break;case"content":h=g.value.map(v=>{switch(v.type){case"text":return{type:"input_text",text:v.text};case"media":return v.mediaType.startsWith("image/")?{type:"input_image",image_url:`data:${v.mediaType};base64,${v.data}`}:{type:"input_file",filename:"data",file_data:`data:${v.mediaType};base64,${v.data}`}}});break}d.push({type:"function_call_output",call_id:y.toolCallId,output:h})}break}default:{let y=f;throw new Error(`Unsupported role: ${y}`)}}return{input:d,warnings:p}}a(Ave,"convertToOpenAIResponsesInput");var Cve=c.object({itemId:c.string().nullish(),reasoningEncryptedContent:c.string().nullish()});function WJ({finishReason:e,hasFunctionCall:t}){switch(e){case void 0:case null:return t?"tool-calls":"stop";case"max_output_tokens":return"length";case"content_filter":return"content-filter";default:return t?"tool-calls":"unknown"}}a(WJ,"mapOpenAIResponseFinishReason");var Rve=Lt(()=>qe(c.union([c.object({type:c.literal("response.output_text.delta"),item_id:c.string(),delta:c.string(),logprobs:c.array(c.object({token:c.string(),logprob:c.number(),top_logprobs:c.array(c.object({token:c.string(),logprob:c.number()}))})).nullish()}),c.object({type:c.enum(["response.completed","response.incomplete"]),response:c.object({incomplete_details:c.object({reason:c.string()}).nullish(),usage:c.object({input_tokens:c.number(),input_tokens_details:c.object({cached_tokens:c.number().nullish()}).nullish(),output_tokens:c.number(),output_tokens_details:c.object({reasoning_tokens:c.number().nullish()}).nullish()}),service_tier:c.string().nullish()})}),c.object({type:c.literal("response.created"),response:c.object({id:c.string(),created_at:c.number(),model:c.string(),service_tier:c.string().nullish()})}),c.object({type:c.literal("response.output_item.added"),output_index:c.number(),item:c.discriminatedUnion("type",[c.object({type:c.literal("message"),id:c.string()}),c.object({type:c.literal("reasoning"),id:c.string(),encrypted_content:c.string().nullish()}),c.object({type:c.literal("function_call"),id:c.string(),call_id:c.string(),name:c.string(),arguments:c.string()}),c.object({type:c.literal("web_search_call"),id:c.string(),status:c.string()}),c.object({type:c.literal("computer_call"),id:c.string(),status:c.string()}),c.object({type:c.literal("file_search_call"),id:c.string()}),c.object({type:c.literal("image_generation_call"),id:c.string()}),c.object({type:c.literal("code_interpreter_call"),id:c.string(),container_id:c.string(),code:c.string().nullable(),outputs:c.array(c.discriminatedUnion("type",[c.object({type:c.literal("logs"),logs:c.string()}),c.object({type:c.literal("image"),url:c.string()})])).nullable(),status:c.string()})])}),c.object({type:c.literal("response.output_item.done"),output_index:c.number(),item:c.discriminatedUnion("type",[c.object({type:c.literal("message"),id:c.string()}),c.object({type:c.literal("reasoning"),id:c.string(),encrypted_content:c.string().nullish()}),c.object({type:c.literal("function_call"),id:c.string(),call_id:c.string(),name:c.string(),arguments:c.string(),status:c.literal("completed")}),c.object({type:c.literal("code_interpreter_call"),id:c.string(),code:c.string().nullable(),container_id:c.string(),outputs:c.array(c.discriminatedUnion("type",[c.object({type:c.literal("logs"),logs:c.string()}),c.object({type:c.literal("image"),url:c.string()})])).nullable()}),c.object({type:c.literal("image_generation_call"),id:c.string(),result:c.string()}),c.object({type:c.literal("web_search_call"),id:c.string(),status:c.string(),action:c.discriminatedUnion("type",[c.object({type:c.literal("search"),query:c.string().nullish(),sources:c.array(c.discriminatedUnion("type",[c.object({type:c.literal("url"),url:c.string()}),c.object({type:c.literal("api"),name:c.string()})])).nullish()}),c.object({type:c.literal("open_page"),url:c.string()}),c.object({type:c.literal("find"),url:c.string(),pattern:c.string()})])}),c.object({type:c.literal("file_search_call"),id:c.string(),queries:c.array(c.string()),results:c.array(c.object({attributes:c.record(c.string(),c.unknown()),file_id:c.string(),filename:c.string(),score:c.number(),text:c.string()})).nullish()}),c.object({type:c.literal("local_shell_call"),id:c.string(),call_id:c.string(),action:c.object({type:c.literal("exec"),command:c.array(c.string()),timeout_ms:c.number().optional(),user:c.string().optional(),working_directory:c.string().optional(),env:c.record(c.string(),c.string()).optional()})}),c.object({type:c.literal("computer_call"),id:c.string(),status:c.literal("completed")})])}),c.object({type:c.literal("response.function_call_arguments.delta"),item_id:c.string(),output_index:c.number(),delta:c.string()}),c.object({type:c.literal("response.image_generation_call.partial_image"),item_id:c.string(),output_index:c.number(),partial_image_b64:c.string()}),c.object({type:c.literal("response.code_interpreter_call_code.delta"),item_id:c.string(),output_index:c.number(),delta:c.string()}),c.object({type:c.literal("response.code_interpreter_call_code.done"),item_id:c.string(),output_index:c.number(),code:c.string()}),c.object({type:c.literal("response.output_text.annotation.added"),annotation:c.discriminatedUnion("type",[c.object({type:c.literal("url_citation"),start_index:c.number(),end_index:c.number(),url:c.string(),title:c.string()}),c.object({type:c.literal("file_citation"),file_id:c.string(),filename:c.string().nullish(),index:c.number().nullish(),start_index:c.number().nullish(),end_index:c.number().nullish(),quote:c.string().nullish()})])}),c.object({type:c.literal("response.reasoning_summary_part.added"),item_id:c.string(),summary_index:c.number()}),c.object({type:c.literal("response.reasoning_summary_text.delta"),item_id:c.string(),summary_index:c.number(),delta:c.string()}),c.object({type:c.literal("response.reasoning_summary_part.done"),item_id:c.string(),summary_index:c.number()}),c.object({type:c.literal("error"),sequence_number:c.number(),error:c.object({type:c.string(),code:c.string(),message:c.string(),param:c.string().nullish()})}),c.object({type:c.string()}).loose().transform(e=>({type:"unknown_chunk",message:e.type}))]))),$ve=Lt(()=>qe(c.object({id:c.string().optional(),created_at:c.number().optional(),error:c.object({message:c.string(),type:c.string(),param:c.string().nullish(),code:c.string()}).nullish(),model:c.string().optional(),output:c.array(c.discriminatedUnion("type",[c.object({type:c.literal("message"),role:c.literal("assistant"),id:c.string(),content:c.array(c.object({type:c.literal("output_text"),text:c.string(),logprobs:c.array(c.object({token:c.string(),logprob:c.number(),top_logprobs:c.array(c.object({token:c.string(),logprob:c.number()}))})).nullish(),annotations:c.array(c.discriminatedUnion("type",[c.object({type:c.literal("url_citation"),start_index:c.number(),end_index:c.number(),url:c.string(),title:c.string()}),c.object({type:c.literal("file_citation"),file_id:c.string(),filename:c.string().nullish(),index:c.number().nullish(),start_index:c.number().nullish(),end_index:c.number().nullish(),quote:c.string().nullish()}),c.object({type:c.literal("container_file_citation"),container_id:c.string(),file_id:c.string(),filename:c.string().nullish(),start_index:c.number().nullish(),end_index:c.number().nullish(),index:c.number().nullish()}),c.object({type:c.literal("file_path"),file_id:c.string(),index:c.number().nullish()})]))}))}),c.object({type:c.literal("web_search_call"),id:c.string(),status:c.string(),action:c.discriminatedUnion("type",[c.object({type:c.literal("search"),query:c.string().nullish(),sources:c.array(c.discriminatedUnion("type",[c.object({type:c.literal("url"),url:c.string()}),c.object({type:c.literal("api"),name:c.string()})])).nullish()}),c.object({type:c.literal("open_page"),url:c.string()}),c.object({type:c.literal("find"),url:c.string(),pattern:c.string()})])}),c.object({type:c.literal("file_search_call"),id:c.string(),queries:c.array(c.string()),results:c.array(c.object({attributes:c.record(c.string(),c.union([c.string(),c.number(),c.boolean()])),file_id:c.string(),filename:c.string(),score:c.number(),text:c.string()})).nullish()}),c.object({type:c.literal("code_interpreter_call"),id:c.string(),code:c.string().nullable(),container_id:c.string(),outputs:c.array(c.discriminatedUnion("type",[c.object({type:c.literal("logs"),logs:c.string()}),c.object({type:c.literal("image"),url:c.string()})])).nullable()}),c.object({type:c.literal("image_generation_call"),id:c.string(),result:c.string()}),c.object({type:c.literal("local_shell_call"),id:c.string(),call_id:c.string(),action:c.object({type:c.literal("exec"),command:c.array(c.string()),timeout_ms:c.number().optional(),user:c.string().optional(),working_directory:c.string().optional(),env:c.record(c.string(),c.string()).optional()})}),c.object({type:c.literal("function_call"),call_id:c.string(),name:c.string(),arguments:c.string(),id:c.string()}),c.object({type:c.literal("computer_call"),id:c.string(),status:c.string().optional()}),c.object({type:c.literal("reasoning"),id:c.string(),encrypted_content:c.string().nullish(),summary:c.array(c.object({type:c.literal("summary_text"),text:c.string()}))})])).optional(),service_tier:c.string().nullish(),incomplete_details:c.object({reason:c.string()}).nullish(),usage:c.object({input_tokens:c.number(),input_tokens_details:c.object({cached_tokens:c.number().nullish()}).nullish(),output_tokens:c.number(),output_tokens_details:c.object({reasoning_tokens:c.number().nullish()}).nullish()}).optional()}))),iB=20,Nve=["o1","o1-2024-12-17","o3","o3-2025-04-16","o3-deep-research","o3-deep-research-2025-06-26","o3-mini","o3-mini-2025-01-31","o4-mini","o4-mini-2025-04-16","o4-mini-deep-research","o4-mini-deep-research-2025-06-26","codex-mini-latest","computer-use-preview","gpt-5","gpt-5-2025-08-07","gpt-5-codex","gpt-5-mini","gpt-5-mini-2025-08-07","gpt-5-nano","gpt-5-nano-2025-08-07","gpt-5-pro","gpt-5-pro-2025-10-06","gpt-5.1","gpt-5.1-chat-latest","gpt-5.1-codex-mini","gpt-5.1-codex"],OYe=["gpt-4.1","gpt-4.1-2025-04-14","gpt-4.1-mini","gpt-4.1-mini-2025-04-14","gpt-4.1-nano","gpt-4.1-nano-2025-04-14","gpt-4o","gpt-4o-2024-05-13","gpt-4o-2024-08-06","gpt-4o-2024-11-20","gpt-4o-audio-preview","gpt-4o-audio-preview-2024-10-01","gpt-4o-audio-preview-2024-12-17","gpt-4o-search-preview","gpt-4o-search-preview-2025-03-11","gpt-4o-mini-search-preview","gpt-4o-mini-search-preview-2025-03-11","gpt-4o-mini","gpt-4o-mini-2024-07-18","gpt-4-turbo","gpt-4-turbo-2024-04-09","gpt-4-turbo-preview","gpt-4-0125-preview","gpt-4-1106-preview","gpt-4","gpt-4-0613","gpt-4.5-preview","gpt-4.5-preview-2025-02-27","gpt-3.5-turbo-0125","gpt-3.5-turbo","gpt-3.5-turbo-1106","chatgpt-4o-latest","gpt-5-chat-latest",...Nve],jve=Lt(()=>qe(c.object({conversation:c.string().nullish(),include:c.array(c.enum(["reasoning.encrypted_content","file_search_call.results","message.output_text.logprobs"])).nullish(),instructions:c.string().nullish(),logprobs:c.union([c.boolean(),c.number().min(1).max(iB)]).optional(),maxToolCalls:c.number().nullish(),metadata:c.any().nullish(),parallelToolCalls:c.boolean().nullish(),previousResponseId:c.string().nullish(),promptCacheKey:c.string().nullish(),promptCacheRetention:c.enum(["in_memory","24h"]).nullish(),reasoningEffort:c.string().nullish(),reasoningSummary:c.string().nullish(),safetyIdentifier:c.string().nullish(),serviceTier:c.enum(["auto","flex","priority","default"]).nullish(),store:c.boolean().nullish(),strictJsonSchema:c.boolean().nullish(),textVerbosity:c.enum(["low","medium","high"]).nullish(),truncation:c.enum(["auto","disabled"]).nullish(),user:c.string().nullish()})));async function zve({tools:e,toolChoice:t,strictJsonSchema:r}){e=e?.length?e:void 0;let n=[];if(e==null)return{tools:void 0,toolChoice:void 0,toolWarnings:n};let o=[];for(let s of e)switch(s.type){case"function":o.push({type:"function",name:s.name,description:s.description,parameters:s.inputSchema,strict:r});break;case"provider-defined":{switch(s.id){case"openai.file_search":{let u=await Yo({value:s.args,schema:dve});o.push({type:"file_search",vector_store_ids:u.vectorStoreIds,max_num_results:u.maxNumResults,ranking_options:u.ranking?{ranker:u.ranking.ranker,score_threshold:u.ranking.scoreThreshold}:void 0,filters:u.filters});break}case"openai.local_shell":{o.push({type:"local_shell"});break}case"openai.web_search_preview":{let u=await Yo({value:s.args,schema:kve});o.push({type:"web_search_preview",search_context_size:u.searchContextSize,user_location:u.userLocation});break}case"openai.web_search":{let u=await Yo({value:s.args,schema:bve});o.push({type:"web_search",filters:u.filters!=null?{allowed_domains:u.filters.allowedDomains}:void 0,external_web_access:u.externalWebAccess,search_context_size:u.searchContextSize,user_location:u.userLocation});break}case"openai.code_interpreter":{let u=await Yo({value:s.args,schema:uve});o.push({type:"code_interpreter",container:u.container==null?{type:"auto",file_ids:void 0}:typeof u.container=="string"?u.container:{type:"auto",file_ids:u.container.fileIds}});break}case"openai.image_generation":{let u=await Yo({value:s.args,schema:fve});o.push({type:"image_generation",background:u.background,input_fidelity:u.inputFidelity,input_image_mask:u.inputImageMask?{file_id:u.inputImageMask.fileId,image_url:u.inputImageMask.imageUrl}:void 0,model:u.model,size:u.size,quality:u.quality,moderation:u.moderation,output_format:u.outputFormat,output_compression:u.outputCompression});break}}break}default:n.push({type:"unsupported-tool",tool:s});break}if(t==null)return{tools:o,toolChoice:void 0,toolWarnings:n};let i=t.type;switch(i){case"auto":case"none":case"required":return{tools:o,toolChoice:i,toolWarnings:n};case"tool":return{tools:o,toolChoice:t.toolName==="code_interpreter"||t.toolName==="file_search"||t.toolName==="image_generation"||t.toolName==="web_search_preview"||t.toolName==="web_search"?{type:t.toolName}:{type:"function",name:t.toolName},toolWarnings:n};default:{let s=i;throw new Et({functionality:`tool choice type: ${s}`})}}}a(zve,"prepareResponsesTools");var Dve=class{static{a(this,"OpenAIResponsesLanguageModel")}constructor(e,t){this.specificationVersion="v2",this.supportedUrls={"image/*":[/^https?:\/\/.*$/],"application/pdf":[/^https?:\/\/.*$/]},this.modelId=e,this.config=t}get provider(){return this.config.provider}async getArgs({maxOutputTokens:e,temperature:t,stopSequences:r,topP:n,topK:o,presencePenalty:i,frequencyPenalty:s,seed:u,prompt:l,providerOptions:d,tools:p,toolChoice:f,responseFormat:m}){var y,g,h,v;let S=[],b=Zve(this.modelId);o!=null&&S.push({type:"unsupported-setting",setting:"topK"}),u!=null&&S.push({type:"unsupported-setting",setting:"seed"}),i!=null&&S.push({type:"unsupported-setting",setting:"presencePenalty"}),s!=null&&S.push({type:"unsupported-setting",setting:"frequencyPenalty"}),r!=null&&S.push({type:"unsupported-setting",setting:"stopSequences"});let w=await mn({provider:"openai",providerOptions:d,schema:jve});w?.conversation&&w?.previousResponseId&&S.push({type:"unsupported-setting",setting:"conversation",details:"conversation and previousResponseId cannot be used together"});let{input:k,warnings:$}=await Ave({prompt:l,systemMessageMode:b.systemMessageMode,fileIdPrefixes:this.config.fileIdPrefixes,store:(y=w?.store)!=null?y:!0,hasLocalShellTool:I("openai.local_shell")});S.push(...$);let A=(g=w?.strictJsonSchema)!=null?g:!1,O=w?.include;function R(ae){O==null?O=[ae]:O.includes(ae)||(O=[...O,ae])}a(R,"addInclude");function I(ae){return p?.find(Se=>Se.type==="provider-defined"&&Se.id===ae)!=null}a(I,"hasOpenAITool");let N=typeof w?.logprobs=="number"?w?.logprobs:w?.logprobs===!0?iB:void 0;N&&R("message.output_text.logprobs");let z=(h=p?.find(ae=>ae.type==="provider-defined"&&(ae.id==="openai.web_search"||ae.id==="openai.web_search_preview")))==null?void 0:h.name;z&&R("web_search_call.action.sources"),I("openai.code_interpreter")&&R("code_interpreter_call.outputs");let X=w?.store;X===!1&&b.isReasoningModel&&R("reasoning.encrypted_content");let Z={model:this.modelId,input:k,temperature:t,top_p:n,max_output_tokens:e,...(m?.type==="json"||w?.textVerbosity)&&{text:{...m?.type==="json"&&{format:m.schema!=null?{type:"json_schema",strict:A,name:(v=m.name)!=null?v:"response",description:m.description,schema:m.schema}:{type:"json_object"}},...w?.textVerbosity&&{verbosity:w.textVerbosity}}},conversation:w?.conversation,max_tool_calls:w?.maxToolCalls,metadata:w?.metadata,parallel_tool_calls:w?.parallelToolCalls,previous_response_id:w?.previousResponseId,store:X,user:w?.user,instructions:w?.instructions,service_tier:w?.serviceTier,include:O,prompt_cache_key:w?.promptCacheKey,prompt_cache_retention:w?.promptCacheRetention,safety_identifier:w?.safetyIdentifier,top_logprobs:N,truncation:w?.truncation,...b.isReasoningModel&&(w?.reasoningEffort!=null||w?.reasoningSummary!=null)&&{reasoning:{...w?.reasoningEffort!=null&&{effort:w.reasoningEffort},...w?.reasoningSummary!=null&&{summary:w.reasoningSummary}}}};b.isReasoningModel?(Z.temperature!=null&&(Z.temperature=void 0,S.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),Z.top_p!=null&&(Z.top_p=void 0,S.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"}))):(w?.reasoningEffort!=null&&S.push({type:"unsupported-setting",setting:"reasoningEffort",details:"reasoningEffort is not supported for non-reasoning models"}),w?.reasoningSummary!=null&&S.push({type:"unsupported-setting",setting:"reasoningSummary",details:"reasoningSummary is not supported for non-reasoning models"})),w?.serviceTier==="flex"&&!b.supportsFlexProcessing&&(S.push({type:"unsupported-setting",setting:"serviceTier",details:"flex processing is only available for o3, o4-mini, and gpt-5 models"}),delete Z.service_tier),w?.serviceTier==="priority"&&!b.supportsPriorityProcessing&&(S.push({type:"unsupported-setting",setting:"serviceTier",details:"priority processing is only available for supported models (gpt-4, gpt-5, gpt-5-mini, o3, o4-mini) and requires Enterprise access. gpt-5-nano is not supported"}),delete Z.service_tier);let{tools:J,toolChoice:te,toolWarnings:ne}=await zve({tools:p,toolChoice:f,strictJsonSchema:A});return{webSearchToolName:z,args:{...Z,tools:J,tool_choice:te},warnings:[...S,...ne],store:X}}async doGenerate(e){var t,r,n,o,i,s,u,l,d,p,f,m,y,g,h,v,S,b,w;let{args:k,warnings:$,webSearchToolName:A}=await this.getArgs(e),O=this.config.url({path:"/responses",modelId:this.modelId}),{responseHeaders:R,value:I,rawValue:N}=await fn({url:O,headers:Fr(this.config.headers(),e.headers),body:k,failedResponseHandler:ei,successfulResponseHandler:to($ve),abortSignal:e.abortSignal,fetch:this.config.fetch});if(I.error)throw new Qe({message:I.error.message,url:O,requestBodyValues:k,statusCode:400,responseHeaders:R,responseBody:N,isRetryable:!1});let z=[],X=[],Z=!1;for(let ne of I.output)switch(ne.type){case"reasoning":{ne.summary.length===0&&ne.summary.push({type:"summary_text",text:""});for(let ae of ne.summary)z.push({type:"reasoning",text:ae.text,providerMetadata:{openai:{itemId:ne.id,reasoningEncryptedContent:(t=ne.encrypted_content)!=null?t:null}}});break}case"image_generation_call":{z.push({type:"tool-call",toolCallId:ne.id,toolName:"image_generation",input:"{}",providerExecuted:!0}),z.push({type:"tool-result",toolCallId:ne.id,toolName:"image_generation",result:{result:ne.result},providerExecuted:!0});break}case"local_shell_call":{z.push({type:"tool-call",toolCallId:ne.call_id,toolName:"local_shell",input:JSON.stringify({action:ne.action}),providerMetadata:{openai:{itemId:ne.id}}});break}case"message":{for(let ae of ne.content){(n=(r=e.providerOptions)==null?void 0:r.openai)!=null&&n.logprobs&&ae.logprobs&&X.push(ae.logprobs),z.push({type:"text",text:ae.text,providerMetadata:{openai:{itemId:ne.id}}});for(let Se of ae.annotations)Se.type==="url_citation"?z.push({type:"source",sourceType:"url",id:(s=(i=(o=this.config).generateId)==null?void 0:i.call(o))!=null?s:No(),url:Se.url,title:Se.title}):Se.type==="file_citation"&&z.push({type:"source",sourceType:"document",id:(d=(l=(u=this.config).generateId)==null?void 0:l.call(u))!=null?d:No(),mediaType:"text/plain",title:(f=(p=Se.quote)!=null?p:Se.filename)!=null?f:"Document",filename:(m=Se.filename)!=null?m:Se.file_id,...Se.file_id?{providerMetadata:{openai:{fileId:Se.file_id}}}:{}})}break}case"function_call":{Z=!0,z.push({type:"tool-call",toolCallId:ne.call_id,toolName:ne.name,input:ne.arguments,providerMetadata:{openai:{itemId:ne.id}}});break}case"web_search_call":{z.push({type:"tool-call",toolCallId:ne.id,toolName:A??"web_search",input:JSON.stringify({}),providerExecuted:!0}),z.push({type:"tool-result",toolCallId:ne.id,toolName:A??"web_search",result:XJ(ne.action),providerExecuted:!0});break}case"computer_call":{z.push({type:"tool-call",toolCallId:ne.id,toolName:"computer_use",input:"",providerExecuted:!0}),z.push({type:"tool-result",toolCallId:ne.id,toolName:"computer_use",result:{type:"computer_use_tool_result",status:ne.status||"completed"},providerExecuted:!0});break}case"file_search_call":{z.push({type:"tool-call",toolCallId:ne.id,toolName:"file_search",input:"{}",providerExecuted:!0}),z.push({type:"tool-result",toolCallId:ne.id,toolName:"file_search",result:{queries:ne.queries,results:(g=(y=ne.results)==null?void 0:y.map(ae=>({attributes:ae.attributes,fileId:ae.file_id,filename:ae.filename,score:ae.score,text:ae.text})))!=null?g:null},providerExecuted:!0});break}case"code_interpreter_call":{z.push({type:"tool-call",toolCallId:ne.id,toolName:"code_interpreter",input:JSON.stringify({code:ne.code,containerId:ne.container_id}),providerExecuted:!0}),z.push({type:"tool-result",toolCallId:ne.id,toolName:"code_interpreter",result:{outputs:ne.outputs},providerExecuted:!0});break}}let J={openai:{...I.id!=null?{responseId:I.id}:{}}};X.length>0&&(J.openai.logprobs=X),typeof I.service_tier=="string"&&(J.openai.serviceTier=I.service_tier);let te=I.usage;return{content:z,finishReason:WJ({finishReason:(h=I.incomplete_details)==null?void 0:h.reason,hasFunctionCall:Z}),usage:{inputTokens:te.input_tokens,outputTokens:te.output_tokens,totalTokens:te.input_tokens+te.output_tokens,reasoningTokens:(S=(v=te.output_tokens_details)==null?void 0:v.reasoning_tokens)!=null?S:void 0,cachedInputTokens:(w=(b=te.input_tokens_details)==null?void 0:b.cached_tokens)!=null?w:void 0},request:{body:k},response:{id:I.id,timestamp:new Date(I.created_at*1e3),modelId:I.model,headers:R,body:N},providerMetadata:J,warnings:$}}async doStream(e){let{args:t,warnings:r,webSearchToolName:n,store:o}=await this.getArgs(e),{responseHeaders:i,value:s}=await fn({url:this.config.url({path:"/responses",modelId:this.modelId}),headers:Fr(this.config.headers(),e.headers),body:{...t,stream:!0},failedResponseHandler:ei,successfulResponseHandler:wc(Rve),abortSignal:e.abortSignal,fetch:this.config.fetch}),u=this,l="unknown",d={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},p=[],f=null,m={},y=[],g=!1,h={},v;return{stream:s.pipeThrough(new TransformStream({start(S){S.enqueue({type:"stream-start",warnings:r})},transform(S,b){var w,k,$,A,O,R,I,N,z,X,Z,J,te,ne,ae,Se,ke,Xe,Ve,G,Re,ye;if(e.includeRawChunks&&b.enqueue({type:"raw",rawValue:S.rawValue}),!S.success){l="error",b.enqueue({type:"error",error:S.error});return}let F=S.value;if(QJ(F))F.item.type==="function_call"?(m[F.output_index]={toolName:F.item.name,toolCallId:F.item.call_id},b.enqueue({type:"tool-input-start",id:F.item.call_id,toolName:F.item.name})):F.item.type==="web_search_call"?(m[F.output_index]={toolName:n??"web_search",toolCallId:F.item.id},b.enqueue({type:"tool-input-start",id:F.item.id,toolName:n??"web_search",providerExecuted:!0}),b.enqueue({type:"tool-input-end",id:F.item.id}),b.enqueue({type:"tool-call",toolCallId:F.item.id,toolName:n??"web_search",input:JSON.stringify({}),providerExecuted:!0})):F.item.type==="computer_call"?(m[F.output_index]={toolName:"computer_use",toolCallId:F.item.id},b.enqueue({type:"tool-input-start",id:F.item.id,toolName:"computer_use",providerExecuted:!0})):F.item.type==="code_interpreter_call"?(m[F.output_index]={toolName:"code_interpreter",toolCallId:F.item.id,codeInterpreter:{containerId:F.item.container_id}},b.enqueue({type:"tool-input-start",id:F.item.id,toolName:"code_interpreter",providerExecuted:!0}),b.enqueue({type:"tool-input-delta",id:F.item.id,delta:`{"containerId":"${F.item.container_id}","code":"`})):F.item.type==="file_search_call"?b.enqueue({type:"tool-call",toolCallId:F.item.id,toolName:"file_search",input:"{}",providerExecuted:!0}):F.item.type==="image_generation_call"?b.enqueue({type:"tool-call",toolCallId:F.item.id,toolName:"image_generation",input:"{}",providerExecuted:!0}):F.item.type==="message"?(y.splice(0,y.length),b.enqueue({type:"text-start",id:F.item.id,providerMetadata:{openai:{itemId:F.item.id}}})):QJ(F)&&F.item.type==="reasoning"&&(h[F.item.id]={encryptedContent:F.item.encrypted_content,summaryParts:{0:"active"}},b.enqueue({type:"reasoning-start",id:`${F.item.id}:0`,providerMetadata:{openai:{itemId:F.item.id,reasoningEncryptedContent:(w=F.item.encrypted_content)!=null?w:null}}}));else if(qve(F)){if(F.item.type==="message")b.enqueue({type:"text-end",id:F.item.id,providerMetadata:{openai:{itemId:F.item.id,...y.length>0&&{annotations:y}}}});else if(F.item.type==="function_call")m[F.output_index]=void 0,g=!0,b.enqueue({type:"tool-input-end",id:F.item.call_id}),b.enqueue({type:"tool-call",toolCallId:F.item.call_id,toolName:F.item.name,input:F.item.arguments,providerMetadata:{openai:{itemId:F.item.id}}});else if(F.item.type==="web_search_call")m[F.output_index]=void 0,b.enqueue({type:"tool-result",toolCallId:F.item.id,toolName:n??"web_search",result:XJ(F.item.action),providerExecuted:!0});else if(F.item.type==="computer_call")m[F.output_index]=void 0,b.enqueue({type:"tool-input-end",id:F.item.id}),b.enqueue({type:"tool-call",toolCallId:F.item.id,toolName:"computer_use",input:"",providerExecuted:!0}),b.enqueue({type:"tool-result",toolCallId:F.item.id,toolName:"computer_use",result:{type:"computer_use_tool_result",status:F.item.status||"completed"},providerExecuted:!0});else if(F.item.type==="file_search_call")m[F.output_index]=void 0,b.enqueue({type:"tool-result",toolCallId:F.item.id,toolName:"file_search",result:{queries:F.item.queries,results:($=(k=F.item.results)==null?void 0:k.map(Ke=>({attributes:Ke.attributes,fileId:Ke.file_id,filename:Ke.filename,score:Ke.score,text:Ke.text})))!=null?$:null},providerExecuted:!0});else if(F.item.type==="code_interpreter_call")m[F.output_index]=void 0,b.enqueue({type:"tool-result",toolCallId:F.item.id,toolName:"code_interpreter",result:{outputs:F.item.outputs},providerExecuted:!0});else if(F.item.type==="image_generation_call")b.enqueue({type:"tool-result",toolCallId:F.item.id,toolName:"image_generation",result:{result:F.item.result},providerExecuted:!0});else if(F.item.type==="local_shell_call")m[F.output_index]=void 0,b.enqueue({type:"tool-call",toolCallId:F.item.call_id,toolName:"local_shell",input:JSON.stringify({action:{type:"exec",command:F.item.action.command,timeoutMs:F.item.action.timeout_ms,user:F.item.action.user,workingDirectory:F.item.action.working_directory,env:F.item.action.env}}),providerMetadata:{openai:{itemId:F.item.id}}});else if(F.item.type==="reasoning"){let Ke=h[F.item.id],Pt=Object.entries(Ke.summaryParts).filter(([Nt,gn])=>gn==="active"||gn==="can-conclude").map(([Nt])=>Nt);for(let Nt of Pt)b.enqueue({type:"reasoning-end",id:`${F.item.id}:${Nt}`,providerMetadata:{openai:{itemId:F.item.id,reasoningEncryptedContent:(A=F.item.encrypted_content)!=null?A:null}}});delete h[F.item.id]}}else if(Fve(F)){let Ke=m[F.output_index];Ke!=null&&b.enqueue({type:"tool-input-delta",id:Ke.toolCallId,delta:F.delta})}else if(Jve(F)){let Ke=m[F.output_index];Ke!=null&&b.enqueue({type:"tool-input-delta",id:Ke.toolCallId,delta:JSON.stringify(F.delta).slice(1,-1)})}else if(Bve(F)){let Ke=m[F.output_index];Ke!=null&&(b.enqueue({type:"tool-input-delta",id:Ke.toolCallId,delta:'"}'}),b.enqueue({type:"tool-input-end",id:Ke.toolCallId}),b.enqueue({type:"tool-call",toolCallId:Ke.toolCallId,toolName:"code_interpreter",input:JSON.stringify({code:F.code,containerId:Ke.codeInterpreter.containerId}),providerExecuted:!0}))}else if(Lve(F))f=F.response.id,b.enqueue({type:"response-metadata",id:F.response.id,timestamp:new Date(F.response.created_at*1e3),modelId:F.response.model});else if(Mve(F))b.enqueue({type:"text-delta",id:F.item_id,delta:F.delta}),(R=(O=e.providerOptions)==null?void 0:O.openai)!=null&&R.logprobs&&F.logprobs&&p.push(F.logprobs);else if(F.type==="response.reasoning_summary_part.added"){if(F.summary_index>0){let Ke=h[F.item_id];Ke.summaryParts[F.summary_index]="active";for(let Pt of Object.keys(Ke.summaryParts))Ke.summaryParts[Pt]==="can-conclude"&&(b.enqueue({type:"reasoning-end",id:`${F.item_id}:${Pt}`,providerMetadata:{openai:{itemId:F.item_id}}}),Ke.summaryParts[Pt]="concluded");b.enqueue({type:"reasoning-start",id:`${F.item_id}:${F.summary_index}`,providerMetadata:{openai:{itemId:F.item_id,reasoningEncryptedContent:(N=(I=h[F.item_id])==null?void 0:I.encryptedContent)!=null?N:null}}})}}else F.type==="response.reasoning_summary_text.delta"?b.enqueue({type:"reasoning-delta",id:`${F.item_id}:${F.summary_index}`,delta:F.delta,providerMetadata:{openai:{itemId:F.item_id}}}):F.type==="response.reasoning_summary_part.done"?o?(b.enqueue({type:"reasoning-end",id:`${F.item_id}:${F.summary_index}`,providerMetadata:{openai:{itemId:F.item_id}}}),h[F.item_id].summaryParts[F.summary_index]="concluded"):h[F.item_id].summaryParts[F.summary_index]="can-conclude":Uve(F)?(l=WJ({finishReason:(z=F.response.incomplete_details)==null?void 0:z.reason,hasFunctionCall:g}),d.inputTokens=F.response.usage.input_tokens,d.outputTokens=F.response.usage.output_tokens,d.totalTokens=F.response.usage.input_tokens+F.response.usage.output_tokens,d.reasoningTokens=(Z=(X=F.response.usage.output_tokens_details)==null?void 0:X.reasoning_tokens)!=null?Z:void 0,d.cachedInputTokens=(te=(J=F.response.usage.input_tokens_details)==null?void 0:J.cached_tokens)!=null?te:void 0,typeof F.response.service_tier=="string"&&(v=F.response.service_tier)):Hve(F)?(y.push(F.annotation),F.annotation.type==="url_citation"?b.enqueue({type:"source",sourceType:"url",id:(Se=(ae=(ne=u.config).generateId)==null?void 0:ae.call(ne))!=null?Se:No(),url:F.annotation.url,title:F.annotation.title}):F.annotation.type==="file_citation"&&b.enqueue({type:"source",sourceType:"document",id:(Ve=(Xe=(ke=u.config).generateId)==null?void 0:Xe.call(ke))!=null?Ve:No(),mediaType:"text/plain",title:(Re=(G=F.annotation.quote)!=null?G:F.annotation.filename)!=null?Re:"Document",filename:(ye=F.annotation.filename)!=null?ye:F.annotation.file_id,...F.annotation.file_id?{providerMetadata:{openai:{fileId:F.annotation.file_id}}}:{}})):Vve(F)&&b.enqueue({type:"error",error:F})},flush(S){let b={openai:{responseId:f}};p.length>0&&(b.openai.logprobs=p),v!==void 0&&(b.openai.serviceTier=v),S.enqueue({type:"finish",finishReason:l,usage:d,providerMetadata:b})}})),request:{body:t},response:{headers:i}}}};function Mve(e){return e.type==="response.output_text.delta"}a(Mve,"isTextDeltaChunk");function qve(e){return e.type==="response.output_item.done"}a(qve,"isResponseOutputItemDoneChunk");function Uve(e){return e.type==="response.completed"||e.type==="response.incomplete"}a(Uve,"isResponseFinishedChunk");function Lve(e){return e.type==="response.created"}a(Lve,"isResponseCreatedChunk");function Fve(e){return e.type==="response.function_call_arguments.delta"}a(Fve,"isResponseFunctionCallArgumentsDeltaChunk");function Jve(e){return e.type==="response.code_interpreter_call_code.delta"}a(Jve,"isResponseCodeInterpreterCallCodeDeltaChunk");function Bve(e){return e.type==="response.code_interpreter_call_code.done"}a(Bve,"isResponseCodeInterpreterCallCodeDoneChunk");function QJ(e){return e.type==="response.output_item.added"}a(QJ,"isResponseOutputItemAddedChunk");function Hve(e){return e.type==="response.output_text.annotation.added"}a(Hve,"isResponseAnnotationAddedChunk");function Vve(e){return e.type==="error"}a(Vve,"isErrorChunk");function Zve(e){let t=e.startsWith("o3")||e.startsWith("o4-mini")||e.startsWith("gpt-5")&&!e.startsWith("gpt-5-chat"),r=e.startsWith("gpt-4")||e.startsWith("gpt-5-mini")||e.startsWith("gpt-5")&&!e.startsWith("gpt-5-nano")&&!e.startsWith("gpt-5-chat")||e.startsWith("o3")||e.startsWith("o4-mini"),n={systemMessageMode:"system",supportsFlexProcessing:t,supportsPriorityProcessing:r};return e.startsWith("gpt-5-chat")?{...n,isReasoningModel:!1}:e.startsWith("o")||e.startsWith("gpt-5")||e.startsWith("codex-")||e.startsWith("computer-use")?{...n,isReasoningModel:!0,systemMessageMode:"developer"}:{...n,isReasoningModel:!1}}a(Zve,"getResponsesModelConfig");function XJ(e){var t;switch(e.type){case"search":return{action:{type:"search",query:(t=e.query)!=null?t:void 0},...e.sources!=null&&{sources:e.sources}};case"open_page":return{action:{type:"openPage",url:e.url}};case"find":return{action:{type:"find",url:e.url,pattern:e.pattern}}}}a(XJ,"mapWebSearchOutput");var Kve=Lt(()=>qe(c.object({instructions:c.string().nullish(),speed:c.number().min(.25).max(4).default(1).nullish()}))),Gve=class{static{a(this,"OpenAISpeechModel")}constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2"}get provider(){return this.config.provider}async getArgs({text:e,voice:t="alloy",outputFormat:r="mp3",speed:n,instructions:o,language:i,providerOptions:s}){let u=[],l=await mn({provider:"openai",providerOptions:s,schema:Kve}),d={model:this.modelId,input:e,voice:t,response_format:"mp3",speed:n,instructions:o};if(r&&(["mp3","opus","aac","flac","wav","pcm"].includes(r)?d.response_format=r:u.push({type:"unsupported-setting",setting:"outputFormat",details:`Unsupported output format: ${r}. Using mp3 instead.`})),l){let p={};for(let f in p){let m=p[f];m!==void 0&&(d[f]=m)}}return i&&u.push({type:"unsupported-setting",setting:"language",details:`OpenAI speech models do not support language selection. Language parameter "${i}" was ignored.`}),{requestBody:d,warnings:u}}async doGenerate(e){var t,r,n;let o=(n=(r=(t=this.config._internal)==null?void 0:t.currentDate)==null?void 0:r.call(t))!=null?n:new Date,{requestBody:i,warnings:s}=await this.getArgs(e),{value:u,responseHeaders:l,rawValue:d}=await fn({url:this.config.url({path:"/audio/speech",modelId:this.modelId}),headers:Fr(this.config.headers(),e.headers),body:i,failedResponseHandler:ei,successfulResponseHandler:DJ(),abortSignal:e.abortSignal,fetch:this.config.fetch});return{audio:u,warnings:s,request:{body:JSON.stringify(i)},response:{timestamp:o,modelId:this.modelId,headers:l,body:d}}}},Wve=Lt(()=>qe(c.object({text:c.string(),language:c.string().nullish(),duration:c.number().nullish(),words:c.array(c.object({word:c.string(),start:c.number(),end:c.number()})).nullish(),segments:c.array(c.object({id:c.number(),seek:c.number(),start:c.number(),end:c.number(),text:c.string(),tokens:c.array(c.number()),temperature:c.number(),avg_logprob:c.number(),compression_ratio:c.number(),no_speech_prob:c.number()})).nullish()}))),Qve=Lt(()=>qe(c.object({include:c.array(c.string()).optional(),language:c.string().optional(),prompt:c.string().optional(),temperature:c.number().min(0).max(1).default(0).optional(),timestampGranularities:c.array(c.enum(["word","segment"])).default(["segment"]).optional()}))),YJ={afrikaans:"af",arabic:"ar",armenian:"hy",azerbaijani:"az",belarusian:"be",bosnian:"bs",bulgarian:"bg",catalan:"ca",chinese:"zh",croatian:"hr",czech:"cs",danish:"da",dutch:"nl",english:"en",estonian:"et",finnish:"fi",french:"fr",galician:"gl",german:"de",greek:"el",hebrew:"he",hindi:"hi",hungarian:"hu",icelandic:"is",indonesian:"id",italian:"it",japanese:"ja",kannada:"kn",kazakh:"kk",korean:"ko",latvian:"lv",lithuanian:"lt",macedonian:"mk",malay:"ms",marathi:"mr",maori:"mi",nepali:"ne",norwegian:"no",persian:"fa",polish:"pl",portuguese:"pt",romanian:"ro",russian:"ru",serbian:"sr",slovak:"sk",slovenian:"sl",spanish:"es",swahili:"sw",swedish:"sv",tagalog:"tl",tamil:"ta",thai:"th",turkish:"tr",ukrainian:"uk",urdu:"ur",vietnamese:"vi",welsh:"cy"},Xve=class{static{a(this,"OpenAITranscriptionModel")}constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2"}get provider(){return this.config.provider}async getArgs({audio:e,mediaType:t,providerOptions:r}){let n=[],o=await mn({provider:"openai",providerOptions:r,schema:Qve}),i=new FormData,s=e instanceof Uint8Array?new Blob([e]):new Blob([JJ(e)]);i.append("model",this.modelId);let u=RJ(t);if(i.append("file",new File([s],"audio",{type:t}),`audio.${u}`),o){let l={include:o.include,language:o.language,prompt:o.prompt,response_format:["gpt-4o-transcribe","gpt-4o-mini-transcribe"].includes(this.modelId)?"json":"verbose_json",temperature:o.temperature,timestamp_granularities:o.timestampGranularities};for(let[d,p]of Object.entries(l))if(p!=null)if(Array.isArray(p))for(let f of p)i.append(`${d}[]`,String(f));else i.append(d,String(p))}return{formData:i,warnings:n}}async doGenerate(e){var t,r,n,o,i,s,u,l;let d=(n=(r=(t=this.config._internal)==null?void 0:t.currentDate)==null?void 0:r.call(t))!=null?n:new Date,{formData:p,warnings:f}=await this.getArgs(e),{value:m,responseHeaders:y,rawValue:g}=await NJ({url:this.config.url({path:"/audio/transcriptions",modelId:this.modelId}),headers:Fr(this.config.headers(),e.headers),formData:p,failedResponseHandler:ei,successfulResponseHandler:to(Wve),abortSignal:e.abortSignal,fetch:this.config.fetch}),h=m.language!=null&&m.language in YJ?YJ[m.language]:void 0;return{text:m.text,segments:(u=(s=(o=m.segments)==null?void 0:o.map(v=>({text:v.text,startSecond:v.start,endSecond:v.end})))!=null?s:(i=m.words)==null?void 0:i.map(v=>({text:v.word,startSecond:v.start,endSecond:v.end})))!=null?u:[],language:h,durationInSeconds:(l=m.duration)!=null?l:void 0,warnings:f,response:{timestamp:d,modelId:this.modelId,headers:y,body:g}}}},Yve="2.0.74";function e_e(e={}){var t,r;let n=(t=BJ(CJ({settingValue:e.baseURL,environmentVariableName:"OPENAI_BASE_URL"})))!=null?t:"https://api.openai.com/v1",o=(r=e.name)!=null?r:"openai",i=a(()=>A1({Authorization:`Bearer ${AJ({apiKey:e.apiKey,environmentVariableName:"OPENAI_API_KEY",description:"OpenAI"})}`,"OpenAI-Organization":e.organization,"OpenAI-Project":e.project,...e.headers},`ai-sdk/openai/${Yve}`),"getHeaders"),s=a(h=>new Bye(h,{provider:`${o}.chat`,url:a(({path:v})=>`${n}${v}`,"url"),headers:i,fetch:e.fetch}),"createChatModel"),u=a(h=>new Xye(h,{provider:`${o}.completion`,url:a(({path:v})=>`${n}${v}`,"url"),headers:i,fetch:e.fetch}),"createCompletionModel"),l=a(h=>new tve(h,{provider:`${o}.embedding`,url:a(({path:v})=>`${n}${v}`,"url"),headers:i,fetch:e.fetch}),"createEmbeddingModel"),d=a(h=>new ive(h,{provider:`${o}.image`,url:a(({path:v})=>`${n}${v}`,"url"),headers:i,fetch:e.fetch}),"createImageModel"),p=a(h=>new Xve(h,{provider:`${o}.transcription`,url:a(({path:v})=>`${n}${v}`,"url"),headers:i,fetch:e.fetch}),"createTranscriptionModel"),f=a(h=>new Gve(h,{provider:`${o}.speech`,url:a(({path:v})=>`${n}${v}`,"url"),headers:i,fetch:e.fetch}),"createSpeechModel"),m=a(h=>{if(new.target)throw new Error("The OpenAI model function cannot be called with the new keyword.");return y(h)},"createLanguageModel"),y=a(h=>new Dve(h,{provider:`${o}.responses`,url:a(({path:v})=>`${n}${v}`,"url"),headers:i,fetch:e.fetch,fileIdPrefixes:["file-"]}),"createResponsesModel"),g=a(function(h){return m(h)},"provider");return g.languageModel=m,g.chat=s,g.completion=u,g.responses=y,g.embedding=l,g.textEmbedding=l,g.textEmbeddingModel=l,g.image=d,g.imageModel=d,g.transcription=p,g.transcriptionModel=p,g.speech=f,g.speechModel=f,g.tools=Ove,g}a(e_e,"createOpenAI");var z1=e_e();var aB=c.enum(["openai","anthropic","google"]),t_e={openai:{default:a(()=>z1("gpt-4o"),"default"),fast:a(()=>z1("gpt-4o-mini"),"fast"),envKey:"OPENAI_API_KEY"},anthropic:{default:a(()=>y1("claude-3-5-sonnet-latest"),"default"),fast:a(()=>y1("claude-3-5-haiku-latest"),"fast"),envKey:"ANTHROPIC_API_KEY"},google:{default:a(()=>k1("gemini-1.5-pro-latest"),"default"),fast:a(()=>k1("gemini-1.5-flash-latest"),"fast"),envKey:"GOOGLE_GENERATIVE_AI_API_KEY"}};function sB(e,t="default"){return t_e[e][t]()}a(sB,"getModel");function uB(){let e=[];return process.env.OPENAI_API_KEY&&e.push("openai"),process.env.ANTHROPIC_API_KEY&&e.push("anthropic"),process.env.GOOGLE_GENERATIVE_AI_API_KEY&&e.push("google"),e.length>0?e:["google"]}a(uB,"getAvailableProviders");var r_e=[/ignore\s+(all\s+)?(previous|above|prior)\s+instructions/i,/disregard\s+(all\s+)?(previous|prior)\s+(instructions|context)/i,/you\s+are\s+now/i,/new\s+instructions:/i,/system:\s*/i,/\[INST\]/i,/<\/s>/i,/DROP\s+TABLE/i,/DELETE\s+FROM\s+\w+\s*;/i,/UPDATE\s+\w+\s+SET.*WHERE\s+1\s*=\s*1/i,/;\s*--/];function cB(e){for(let r of r_e)if(r.test(e))return{isSafe:!1,reason:`Potential injection detected: ${r.source}`};return{isSafe:!0,sanitizedInput:[...e].filter(r=>{let n=r.charCodeAt(0);return n>=32&&n!==127}).join("").trim()}}a(cB,"checkPromptInjection");wr();var n_e=new Set(["password","password_hash","two_factor_secret","two_factor_enabled","voice_sample_encrypted","voice_biometric_enabled","biometric_enabled","api_token","refresh_token","belvo_link_token","session_token"]),lB={cpf:a(e=>e?`***.***.***-${e.slice(-2)}`:"[n\xE3o informado]","cpf"),account_number:a(e=>e?`****${e.slice(-4)}`:"[n\xE3o informado]","account_number"),phone:a(e=>e?`(**) *****-${e.slice(-4)}`:"[n\xE3o informado]","phone")};function ti(e){if(!e)return{};let t={};for(let[r,n]of Object.entries(e))if(!n_e.has(r.toLowerCase())){if(r.toLowerCase()in lB&&typeof n=="string"){t[r]=lB[r.toLowerCase()](n);continue}if(n&&typeof n=="object"){Array.isArray(n)?t[r]=n.map(o=>typeof o=="object"&&o!==null?ti(o):o):t[r]=ti(n);continue}t[r]=n}return t}a(ti,"filterSensitiveData");Rr();function dB(e,t){let r=c.object({includeInactive:c.boolean().default(!1).describe("Incluir contas inativas")}),n=c.object({accountId:c.string().uuid().optional().describe("ID da conta (omitir para total)")});return{listAccounts:{description:"Lista todas as contas banc\xE1rias do usu\xE1rio.",parameters:r,execute:a(async o=>{let{includeInactive:i}=o,s=[V(ue.userId,e)];i||s.push(V(ue.isActive,!0));let u=await t.select({id:ue.id,institutionName:ue.institutionName,accountType:ue.accountType,balance:ue.balance,availableBalance:ue.availableBalance,currency:ue.currency,isActive:ue.isActive,isPrimary:ue.isPrimary,lastSync:ue.lastSync}).from(ue).where(Ee(...s)).orderBy(Dt(ue.isPrimary)),l=u.reduce((d,p)=>d+Number(p.balance??0),0);return{accounts:u.map(ti),totalBalance:l,count:u.length}},"execute")},getAccountBalance:{description:"Obt\xE9m saldo atual de uma conta espec\xEDfica ou total de todas as contas.",parameters:n,execute:a(async o=>{let{accountId:i}=o;if(i){let[d]=await t.select({id:ue.id,institutionName:ue.institutionName,balance:ue.balance,availableBalance:ue.availableBalance,currency:ue.currency,lastSync:ue.lastSync}).from(ue).where(Ee(V(ue.id,i),V(ue.userId,e))).limit(1);if(!d)throw new Error("Conta n\xE3o encontrada");return ti(d)}let s=await t.select({balance:ue.balance,availableBalance:ue.availableBalance,currency:ue.currency}).from(ue).where(Ee(V(ue.userId,e),V(ue.isActive,!0))),u=s.reduce((d,p)=>d+Number(p.balance??0),0),l=s.reduce((d,p)=>d+Number(p.availableBalance??0),0);return{totalBalance:u,totalAvailable:l,currency:"BRL",accountCount:s.length}},"execute")}}}a(dB,"createAccountTools");wr();Rr();function pB(e,t){let r=c.object({includeSystem:c.boolean().default(!0).describe("Incluir categorias do sistema")}),n=c.object({name:c.string().min(1).max(50).describe("Nome da categoria"),color:c.string().regex(/^#[0-9A-Fa-f]{6}$/).default("#6B7280").describe("Cor em hexadecimal"),icon:c.string().default("circle").describe("Nome do \xEDcone")});return{listCategories:{description:"Lista todas as categorias de transa\xE7\xE3o dispon\xEDveis.",parameters:r,execute:a(async o=>{let{includeSystem:i}=o,s=ea(V(ze.userId,e),kl(ze.userId)),u=await t.select({id:ze.id,name:ze.name,color:ze.color,icon:ze.icon,isSystem:ze.isSystem,parentId:ze.parentId}).from(ze).where(s);return i||(u=u.filter(l=>!l.isSystem)),{categories:u,count:u.length}},"execute")},createCategory:{description:"Cria uma nova categoria personalizada.",parameters:n,execute:a(async o=>{let{name:i,color:s,icon:u}=o,[l]=await t.insert(ze).values({userId:e,name:i,color:s,icon:u,isSystem:!1}).returning();return{success:!0,category:l}},"execute")}}}a(pB,"createCategoryTools");wr();Rr();function mB(e,t){let r=c.object({startDate:c.string().datetime().optional().describe("Data inicial no formato ISO (YYYY-MM-DD)"),endDate:c.string().datetime().optional().describe("Data final no formato ISO (YYYY-MM-DD)"),categoryId:c.string().uuid().optional().describe("ID da categoria para filtrar"),accountId:c.string().uuid().optional().describe("ID da conta para filtrar"),minAmount:c.number().optional().describe("Valor m\xEDnimo da transa\xE7\xE3o"),maxAmount:c.number().optional().describe("Valor m\xE1ximo da transa\xE7\xE3o"),searchTerm:c.string().optional().describe("Termo para buscar na descri\xE7\xE3o"),limit:c.number().min(1).max(100).default(20).describe("N\xFAmero m\xE1ximo de resultados"),offset:c.number().min(0).default(0).describe("Pular N resultados para pagina\xE7\xE3o")}),n=c.object({transactionId:c.string().uuid().describe("ID da transa\xE7\xE3o")}),o=c.object({amount:c.number().describe("Valor da transa\xE7\xE3o (positivo para receita, negativo para despesa)"),description:c.string().min(1).max(255).describe("Descri\xE7\xE3o da transa\xE7\xE3o"),categoryId:c.string().uuid().optional().describe("ID da categoria"),accountId:c.string().uuid().optional().describe("ID da conta banc\xE1ria"),transactionDate:c.string().datetime().optional().describe("Data da transa\xE7\xE3o (padr\xE3o: agora)"),merchantName:c.string().optional().describe("Nome do estabelecimento")}),i=c.object({transactionId:c.string().uuid().describe("ID da transa\xE7\xE3o a atualizar"),amount:c.number().optional().describe("Novo valor"),description:c.string().min(1).max(255).optional().describe("Nova descri\xE7\xE3o"),categoryId:c.string().uuid().optional().describe("Nova categoria"),transactionDate:c.string().datetime().optional().describe("Nova data"),merchantName:c.string().optional().describe("Novo estabelecimento")}),s=c.object({transactionId:c.string().uuid().describe("ID da transa\xE7\xE3o")}),u=c.object({startDate:c.string().datetime().describe("Data inicial"),endDate:c.string().datetime().describe("Data final")});return{listTransactions:{description:"Lista transa\xE7\xF5es do usu\xE1rio com filtros opcionais. Use para consultar hist\xF3rico, buscar por per\xEDodo ou categoria.",parameters:r,execute:a(async l=>{let{startDate:d,endDate:p,categoryId:f,accountId:m,minAmount:y,maxAmount:g,searchTerm:h,limit:v,offset:S}=l,b=[V(oe.userId,e)];d&&b.push(hr(oe.transactionDate,new Date(d))),p&&b.push(nr(oe.transactionDate,new Date(p))),f&&b.push(V(oe.categoryId,f)),m&&b.push(V(oe.accountId,m)),y&&b.push(hr(oe.amount,String(y))),g&&b.push(nr(oe.amount,String(g))),h&&b.push(Ur(oe.description,`%${h}%`));let w=await t.select({id:oe.id,amount:oe.amount,description:oe.description,merchantName:oe.merchantName,transactionDate:oe.transactionDate,status:oe.status,createdAt:oe.createdAt}).from(oe).where(Ee(...b)).orderBy(Dt(oe.transactionDate)).limit(v).offset(S);return{transactions:w.map(ti),total:w.length,hasMore:w.length===v}},"execute")},getTransaction:{description:"Obt\xE9m detalhes de uma transa\xE7\xE3o espec\xEDfica pelo ID.",parameters:n,execute:a(async l=>{let{transactionId:d}=l,[p]=await t.select().from(oe).where(Ee(V(oe.id,d),V(oe.userId,e))).limit(1);if(!p)throw new Error("Transa\xE7\xE3o n\xE3o encontrada");return ti(p)},"execute")},createTransaction:{description:"Cria uma nova transa\xE7\xE3o manual para o usu\xE1rio.",parameters:o,execute:a(async l=>{let{amount:d,description:p,categoryId:f,accountId:m,transactionDate:y,merchantName:g}=l,[h]=await t.insert(oe).values({userId:e,amount:String(d),description:p,categoryId:f,accountId:m,transactionDate:y?new Date(y):new Date,merchantName:g,transactionType:d>=0?"credit":"debit",status:"posted",isManualEntry:!0}).returning();return{success:!0,transaction:ti(h)}},"execute")},updateTransaction:{description:"Atualiza uma transa\xE7\xE3o existente do usu\xE1rio.",parameters:i,execute:a(async l=>{let{transactionId:d,...p}=l,f={updatedAt:new Date};p.amount!==void 0&&(f.amount=String(p.amount)),p.description!==void 0&&(f.description=p.description),p.categoryId!==void 0&&(f.categoryId=p.categoryId),p.transactionDate!==void 0&&(f.transactionDate=new Date(p.transactionDate)),p.merchantName!==void 0&&(f.merchantName=p.merchantName);let[m]=await t.update(oe).set(f).where(Ee(V(oe.id,d),V(oe.userId,e))).returning();if(!m)throw new Error("Transa\xE7\xE3o n\xE3o encontrada");return{success:!0,transaction:ti(m)}},"execute")},deleteTransaction:{description:"Deleta uma transa\xE7\xE3o. Use com cuidado, esta a\xE7\xE3o \xE9 irrevers\xEDvel.",parameters:s,execute:a(async l=>{let{transactionId:d}=l,[p]=await t.delete(oe).where(Ee(V(oe.id,d),V(oe.userId,e))).returning({id:oe.id});if(!p)throw new Error("Transa\xE7\xE3o n\xE3o encontrada");return{success:!0,message:"Transa\xE7\xE3o deletada com sucesso."}},"execute")},getSpendingSummary:{description:"Obt\xE9m resumo de gastos por categoria em um per\xEDodo.",parameters:u,execute:a(async l=>{let{startDate:d,endDate:p}=l,f=await t.select({amount:oe.amount,categoryId:oe.categoryId}).from(oe).where(Ee(V(oe.userId,e),nr(oe.amount,"0"),hr(oe.transactionDate,new Date(d)),nr(oe.transactionDate,new Date(p)))),m=[...new Set(f.map(b=>b.categoryId).filter(Boolean))],y=m.length?await t.select({id:ze.id,name:ze.name,color:ze.color}).from(ze).where(ns(ze.id,m)):[],g=new Map(y.map(b=>[b.id,b])),h=f.reduce((b,w)=>{let k=w.categoryId??"uncategorized",$=g.get(w.categoryId??"");return b[k]||(b[k]={categoryId:k,categoryName:$?.name??"Sem categoria",color:$?.color??"#6B7280",total:0,count:0}),b[k].total+=Math.abs(Number(w.amount)),b[k].count+=1,b},{}),v=Object.values(h).sort((b,w)=>w.total-b.total),S=v.reduce((b,w)=>b+w.total,0);return{period:{startDate:d,endDate:p},grandTotal:S,categories:v}},"execute")}}}a(mB,"createTransactionTools");function fB(e,t){return{...mB(e,t),...dB(e,t),...pB(e,t)}}a(fB,"createAllTools");function o_e(e){let t=[],n=[/\b\d{3}\.\d{3}\.\d{3}-\d{2}\b/,/\b\d{2}\.\d{3}\.\d{3}\/\d{4}-\d{2}\b/,/\b\d{4}[- ]?\d{4}[- ]?\d{4}[- ]?\d{4}\b/].some(i=>i.test(e));n&&t.push("Sensitive data detected in response");let o=/[]/i.test(e)||e.includes("R$");return{isValid:t.length===0,language:o?"pt-BR":"en",contentType:"text",sensitiveDataDetected:n,complianceIssues:t}}a(o_e,"validateBrazilianPortugueseContent");var Cp=new Oe,i_e=c.object({messages:c.array(c.object({role:c.enum(["user","assistant","system","tool"]),content:c.string(),sensitiveDataRedacted:c.boolean().optional().default(!1),timestamp:c.string().datetime().optional(),sessionId:c.string().uuid().optional(),parts:c.array(c.object({type:c.literal("text"),text:c.string()})).optional()})).min(1,"At least one message is required").transform(e=>e.filter(t=>t.role!=="tool").map(t=>({...t,parts:t.parts||[{type:"text",text:t.content}]}))),provider:aB.optional().default("google"),tier:c.enum(["default","fast"]).optional().default("default")});Cp.post("/chat",me,Be("json",i_e),async e=>{let t=Date.now(),{messages:r,provider:n,tier:o}=e.req.valid("json"),i=e.get("auth");if(!i?.user)return e.json({error:"Unauthorized"},401);let s=i.user.id,u=crypto.randomUUID(),l=r[r.length-1],d=l?.role==="user"?l.content:null;if(d&&typeof d=="string"){let p=cB(d);if(!p.isSafe)return await Lg({userId:s,sessionId:u,provider:n,model:`${n}/${o}`,actionType:"chat",inputSummary:d.slice(0,100),outputSummary:"Blocked: injection detected",latencyMs:Date.now()-t,outcome:"blocked",errorMessage:p.reason}),e.json({error:"Invalid input detected"},400)}try{let p=sB(n,o),f=fB(s,i.db);return UF({model:p,system:HF,messages:t1(r),tools:f,maxSteps:5,onFinish:a(async({usage:y,finishReason:g,toolCalls:h})=>{let v=r,S=v[v.length-1],b=S?.role==="assistant"?S.content:g,w=typeof b=="string"?o_e(b):{isValid:!0,language:"pt-BR",contentType:"text",sensitiveDataDetected:!1,complianceIssues:[]},k=w.sensitiveDataDetected?" [LGPD Warning: Sensitive data detected]":w.language==="pt-BR"?" [PT-BR]":" [EN]";await Lg({userId:s,sessionId:u,provider:n,model:`${n}/${o}`,actionType:h?.length?"tool_call":"chat",toolName:h?.map($=>$.toolName).join(", "),inputSummary:typeof d=="string"?d.slice(0,100):"Multi-modal/Tool input",outputSummary:g+k,tokensUsed:y.totalTokens,latencyMs:Date.now()-t,outcome:w.isValid?"success":"error",errorMessage:w.complianceIssues.length>0?`Compliance issues: ${w.complianceIssues.join("; ")}`:void 0})},"onFinish")}).toDataStreamResponse()}catch(p){return await Lg({userId:s,sessionId:u,provider:n,model:`${n}/${o}`,actionType:"chat",inputSummary:typeof d=="string"?d.slice(0,100):"",outputSummary:"Error",latencyMs:Date.now()-t,outcome:"error",errorMessage:p instanceof Error?p.message:"Unknown error"}),e.json({error:"AI service error"},500)}});Cp.get("/providers",me,e=>e.json({available:uB(),default:"google"}));import{randomUUID as m_e}from"node:crypto";wr();Rr();import{randomUUID as u_e}from"node:crypto";var hB={BRL:{symbol:"R$",decimalSeparator:",",thousandsSeparator:".",maxAmount:99999999999e-2,minAmount:.01}},Xg=new Set(["001","033","104","237","341","260","077","021","025","036","037","039","041","047","062","063","064","065","066","069","070","074","075","078","079","083","084","085","089","102","105","107","108","109","110","111","112","114","117","118","119","120","121","122","124","125","126","127","128","129","130","131","132","133","134","136","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320"]),a_e={CNPJ:{format:"XX.XXX.XXX/XXXX-XX",regex:/^\d{14}$/},CPF:{format:"XXX.XXX.XXX-XX",regex:/^\d{11}$/},EMAIL:{format:"email@example.com",regex:/^[^\s@]+@[^\s@]+\.[^\s@]+$/},PHONE:{format:"+55 (XX) XXXXX-XXXX",regex:/^\+?\d{10,15}$/},RANDOM_KEY:{format:"XXXX-XXXX-XXXX-XXXX-XXXX",regex:/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i}};var s_e={SUSPICIOUS_DESCRIPTIONS:["test","teste","debug","xxx","fake","fraud","hack","stolen","lavagem","dinheiro negro"],HIGH_VALUE_TRANSACTION:5e4,FREQUENT_SMALL_TRANSACTIONS:{count:20,amount:1e3,window:1440*60*1e3},RAPID_SUCCESSION:{count:5,window:300*1e3}},Fet={amount:c.number().min(hB.BRL.minAmount,"Amount must be at least R$ 0,01").max(hB.BRL.maxAmount,"Amount exceeds maximum allowed").refine(e=>Number.isFinite(e)&&Number(e.toFixed(2))===e,"Amount must have at most 2 decimal places"),bankAccount:c.object({account:c.string().regex(/^\d{1,12}$/,"Account must be 1-12 digits").refine(e=>!/^0+$/.test(e),"Account cannot be all zeros"),accountDigit:c.string().regex(/^\d$/,"Account digit must be a single digit"),agency:c.string().regex(/^\d{1,6}$/,"Agency must be 1-6 digits").refine(e=>!/^0+$/.test(e),"Agency cannot be all zeros"),bankCode:c.string().refine(e=>Xg.has(e),"Invalid Brazilian bank code")}),financialInstitution:c.object({code:c.string().refine(e=>Xg.has(e),"Invalid bank code"),name:c.string().min(2,"Institution name must be at least 2 characters").max(100,"Institution name must be less than 100 characters")}),pixKey:c.object({key:c.string().min(1,"PIX key cannot be empty"),type:c.enum(["cpf","cnpj","email","phone","random"])}).refine(e=>a_e[e.type.toUpperCase()].regex.test(e.key.replace(/\D/g,"")),"Invalid PIX key format for the specified type"),transaction:c.object({account_id:c.string().uuid("Conta banc\xE1ria inv\xE1lida"),amount:c.number(),category_id:c.string().uuid().optional(),description:c.string().min(3,"Description must be at least 3 characters").max(200,"Description must be less than 200 characters").refine(e=>!s_e.SUSPICIOUS_DESCRIPTIONS.some(t=>e.toLowerCase().includes(t)),"Description contains suspicious content"),is_manual_entry:c.boolean().default(!0),merchant_name:c.string().max(120).optional(),notes:c.string().max(500).optional(),payment_method:c.enum(["cash","debit_card","credit_card","pix","boleto","transfer"]).optional(),status:c.enum(["pending","posted","failed","cancelled"]).default("posted"),tags:c.array(c.string()).max(10).optional(),transaction_date:c.string().refine(e=>{let t=new Date(e);return!Number.isNaN(t.getTime())&&t>=new Date("2020-01-01")&&t<=new Date(Date.now()+1440*60*1e3)},"Invalid date. Must be a valid date between 2020-01-01 and tomorrow"),transaction_type:c.enum(["debit","credit","transfer","pix","boleto"])})};function gB(e){let t=e.replace(/\D/g,"");if(t.length!==11||/^(\d)\1{10}$/.test(t))return!1;let r=0,n;for(let o=1;o<=9;o++)r+=Number.parseInt(t.substring(o-1,o),10)*(11-o);if(n=r*10%11,(n===10||n===11)&&(n=0),n!==Number.parseInt(t.substring(9,10),10))return!1;r=0;for(let o=1;o<=10;o++)r+=Number.parseInt(t.substring(o-1,o),10)*(12-o);return n=r*10%11,(n===10||n===11)&&(n=0),n===Number.parseInt(t.substring(10,11),10)}a(gB,"validateCPF");var yB=["CHECKING","SAVINGS","INVESTMENT","SALARY","DIGITAL_WALLET"],c_e=["pending","manual","success","error"],l_e=c.object({account_holder_name:c.string().optional(),account_mask:c.string().min(7,"M\xE1scara da conta \xE9 obrigat\xF3ria."),account_number:c.string().optional(),account_type:c.enum(yB),balance:c.number(),belvo_account_id:c.string().optional(),currency:c.string().default("BRL"),institution_id:c.string().min(1,"ID da institui\xE7\xE3o \xE9 obrigat\xF3rio."),institution_name:c.string().min(1,"Nome da institui\xE7\xE3o \xE9 obrigat\xF3rio."),is_active:c.boolean().optional(),is_primary:c.boolean().optional(),user_id:c.string().min(1,"Usu\xE1rio \xE9 obrigat\xF3rio.")}),d_e=c.object({account_holder_name:c.string().optional(),account_mask:c.string().optional(),account_number:c.string().optional(),account_type:c.enum(yB).optional(),balance:c.number().optional(),belvo_account_id:c.string().optional(),currency:c.string().optional(),institution_id:c.string().optional(),institution_name:c.string().optional(),is_active:c.boolean().optional(),is_primary:c.boolean().optional(),sync_error_message:c.string().optional(),sync_status:c.enum(c_e).optional()}),p_e=new Set(["user_id","institution_name","institution_id","account_type","account_mask","account_holder_name","account_number","belvo_account_id","balance","currency","is_primary","is_active","sync_status","sync_error_message"]),vB="manual_",_B=a(e=>{if(!e)return!1;let t=e.trim();return Xg.has(t)?!0:/^[0-9a-f-]{8,}$/i.test(t)},"isValidInstitutionId"),bB=a(e=>!e||e.toUpperCase()==="BRL","isValidCurrency"),SB=a(e=>!e||e.startsWith(vB)?!0:/^[a-z0-9_-]{6,}$/i.test(e),"isValidBelvoId"),Rp=a(e=>e?/^\*{4}\s\d{4}$/.test(e):!1,"validateAccountMask"),$p=a(e=>/^\*{4}\d{4}$/.test(e)?`**** ${e.slice(-4)}`:e,"normalizeAccountMask"),wB=a(e=>e.map(t=>({field:t.path.join(".")||"root",message:t.message})),"collectZodErrors"),D1=a(e=>{let t={};return Object.entries(e).forEach(([r,n])=>{if(p_e.has(r)){if(typeof n=="string"){let o=n.trim();if(o==="")return;switch(r){case"currency":t.currency=o.toUpperCase();break;case"account_number":t.account_number=o.replace(/\s+/g,"");break;case"account_mask":t.account_mask=$p(o);break;default:t[r]=o}return}if(typeof n=="number"){t[r]=Number(n);return}t[r]=n}}),t},"sanitizeBankAccountData"),xB=a(()=>`${vB}${u_e()}`,"generateManualAccountId"),TB=a(e=>{let t=[],r=l_e.safeParse(e);if(!r.success)return t.push(...wB(r.error.issues)),{errors:t,valid:!1};let n=r.data;return Rp(n.account_mask)||t.push({field:"account_mask",message:"A m\xE1scara deve seguir o formato **** 1234."}),_B(n.institution_id)||t.push({field:"institution_id",message:"Institui\xE7\xE3o banc\xE1ria inv\xE1lida."}),bB(n.currency)||t.push({field:"currency",message:"Apenas contas em BRL s\xE3o suportadas no momento."}),SB(n.belvo_account_id)||t.push({field:"belvo_account_id",message:"Identificador da conta Belvo inv\xE1lido."}),Number.isNaN(n.balance)&&t.push({field:"balance",message:"Saldo precisa ser um n\xFAmero v\xE1lido."}),{errors:t,valid:t.length===0}},"validateBankAccountForInsert"),kB=a(e=>{let t=[],r=d_e.safeParse(e);if(!r.success)return t.push(...wB(r.error.issues)),{errors:t,valid:!1};let n=r.data;return n.account_mask&&!Rp(n.account_mask)&&t.push({field:"account_mask",message:"A m\xE1scara deve seguir o formato **** 1234."}),n.institution_id&&!_B(n.institution_id)&&t.push({field:"institution_id",message:"Institui\xE7\xE3o banc\xE1ria inv\xE1lida."}),n.currency&&!bB(n.currency)&&t.push({field:"currency",message:"Apenas contas em BRL s\xE3o suportadas."}),n.belvo_account_id&&!SB(n.belvo_account_id)&&t.push({field:"belvo_account_id",message:"Identificador da conta Belvo inv\xE1lido."}),n.balance!==void 0&&Number.isNaN(n.balance)&&t.push({field:"balance",message:"Saldo precisa ser um n\xFAmero v\xE1lido."}),{errors:t,valid:t.length===0}},"validateBankAccountForUpdate");var f_e=c.object({institutionName:c.string().min(1,"Nome da institui\xE7\xE3o \xE9 obrigat\xF3rio"),accountType:c.enum(["checking","savings","investment","cash"],{message:"Tipo de conta \xE9 obrigat\xF3rio"}),balance:c.number().default(0),currency:c.string().default("BRL"),isPrimary:c.boolean().default(!1),isActive:c.boolean().default(!0),accountMask:c.string().optional(),institutionId:c.string().optional()}),h_e=c.object({institutionName:c.string().optional(),accountType:c.enum(["checking","savings","investment","cash"]).optional(),balance:c.number().optional(),currency:c.string().optional(),isPrimary:c.boolean().optional(),isActive:c.boolean().optional(),accountMask:c.string().optional()}),g_e=c.object({balance:c.number()}),y_e=c.object({days:c.coerce.number().int().positive().default(30)}),v_e={checking:"CHECKING",savings:"SAVINGS",investment:"INVESTMENT",cash:"DIGITAL_WALLET"},M1=a(e=>v_e[e.toLowerCase()]||e.toUpperCase(),"normalizeAccountType"),__e=a(()=>`**** ${Math.floor(1e3+Math.random()*9e3)}`,"generateAccountMask"),Ui=new Oe;Ui.get("/",me,xe({windowMs:60*1e3,max:30,message:"Too many requests, please try again later"}),async e=>{let{user:t,db:r}=e.get("auth"),n=e.get("requestId");try{let o=await r.select().from(ue).where(V(ue.userId,t.id)).orderBy(Dt(ue.createdAt));return e.json({data:o||[],meta:{requestId:n,retrievedAt:new Date().toISOString()}})}catch(o){return L.error("Failed to get bank accounts",{error:o instanceof Error?o.message:"Unknown error",requestId:n,userId:t.id}),e.json({code:"BANK_ACCOUNTS_ERROR",error:"Failed to retrieve bank accounts"},500)}});Ui.get("/total-balance",me,xe({windowMs:60*1e3,max:20,message:"Too many requests, please try again later"}),async e=>{let{user:t,db:r}=e.get("auth"),n=e.get("requestId");try{let o=await r.select({balance:ue.balance,currency:ue.currency}).from(ue).where(Ee(V(ue.userId,t.id),V(ue.isActive,!0))),i={};return o&&o.forEach(s=>{let u=s.currency||"BRL";i[u]=(i[u]||0)+Number(s.balance||0)}),e.json({data:i,meta:{requestId:n,retrievedAt:new Date().toISOString()}})}catch(o){return L.error("Failed to get total balance",{error:o instanceof Error?o.message:"Unknown error",requestId:n,userId:t.id}),e.json({code:"TOTAL_BALANCE_ERROR",error:"Failed to calculate total balance"},500)}});Ui.get("/:id",me,xe({windowMs:60*1e3,max:30,message:"Too many requests, please try again later"}),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.param("id"),o=e.get("requestId");try{let[i]=await r.select().from(ue).where(Ee(V(ue.id,n),V(ue.userId,t.id))).limit(1);return i?e.json({data:i,meta:{requestId:o,retrievedAt:new Date().toISOString()}}):e.json({code:"NOT_FOUND",error:"Conta banc\xE1ria n\xE3o encontrada"},404)}catch(i){return L.error("Failed to get bank account",{accountId:n,error:i instanceof Error?i.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"BANK_ACCOUNT_ERROR",error:"Failed to retrieve bank account"},500)}});Ui.get("/:id/balance-history",me,xe({windowMs:60*1e3,max:20,message:"Too many requests, please try again later"}),Be("query",y_e),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.param("id"),{days:o}=e.req.valid("query"),i=e.get("requestId");try{if(!n||n==="all")return e.json({data:[],meta:{requestId:i,retrievedAt:new Date().toISOString()}});let[s]=await r.select({balance:ue.balance}).from(ue).where(Ee(V(ue.id,n),V(ue.userId,t.id))).limit(1);if(!s)return e.json({data:[],meta:{requestId:i,retrievedAt:new Date().toISOString()}});let u=Number(s.balance||0),l=[];for(let d=0;d<o;d++){let p=new Date;p.setDate(p.getDate()-d),l.push({date:p.toISOString(),balance:u})}return e.json({data:l.reverse(),meta:{requestId:i,retrievedAt:new Date().toISOString()}})}catch(s){return L.error("Failed to get balance history",{accountId:n,error:s instanceof Error?s.message:"Unknown error",requestId:i,userId:t.id}),e.json({code:"BALANCE_HISTORY_ERROR",error:"Failed to retrieve balance history"},500)}});Ui.post("/",me,xe({windowMs:60*1e3,max:10,message:"Too many account creation attempts, please try again later"}),Be("json",f_e),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.valid("json"),o=e.get("requestId");try{let i=M1(n.accountType),s=n.accountMask?$p(n.accountMask):__e();if(!Rp(s))return e.json({code:"BAD_REQUEST",error:"A m\xE1scara da conta deve seguir o formato **** 1234"},400);let u=n.institutionId||m_e(),l=xB(),d="manual",p=D1({user_id:t.id,institution_name:n.institutionName,institution_id:u,account_type:i,account_mask:s,balance:n.balance,currency:n.currency.toUpperCase(),is_primary:n.isPrimary,is_active:n.isActive,belvo_account_id:l,sync_status:d}),f=TB(p);if(!f.valid){let g=f.errors.length>0?f.errors.map(h=>h.message).join(", "):"Dados inv\xE1lidos";return e.json({code:"BAD_REQUEST",error:g},400)}let[m]=await r.select({id:ue.id}).from(ue).where(Ee(V(ue.userId,t.id),V(ue.institutionId,u),V(ue.accountMask,s))).limit(1);if(m)return e.json({code:"CONFLICT",error:"J\xE1 existe uma conta com a mesma institui\xE7\xE3o e final"},409);let[y]=await r.insert(ue).values({userId:t.id,institutionName:n.institutionName,institutionId:u,accountType:i,accountMask:s,balance:String(n.balance),currency:n.currency.toUpperCase(),isPrimary:n.isPrimary,isActive:n.isActive,belvoAccountId:l,syncStatus:d}).returning();return L.info("Bank account created",{accountId:y.id,institutionName:n.institutionName,requestId:o,userId:t.id}),e.json({data:y,meta:{createdAt:new Date().toISOString(),requestId:o}},201)}catch(i){return L.error("Failed to create bank account",{error:i instanceof Error?i.message:"Unknown error",institutionName:n.institutionName,requestId:o,userId:t.id}),e.json({code:"BANK_ACCOUNT_CREATE_ERROR",error:"Failed to create bank account"},500)}});Ui.put("/:id",me,xe({windowMs:60*1e3,max:30,message:"Too many update attempts, please try again later"}),Be("json",h_e),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.param("id"),o=e.req.valid("json"),i=e.get("requestId");try{let[s]=await r.select({id:ue.id}).from(ue).where(Ee(V(ue.id,n),V(ue.userId,t.id))).limit(1);if(!s)return e.json({code:"NOT_FOUND",error:"Conta banc\xE1ria n\xE3o encontrada"},404);let u={};if(o.institutionName!==void 0&&(u.institutionName=o.institutionName),o.accountType!==void 0&&(u.accountType=M1(o.accountType)),o.balance!==void 0&&(u.balance=String(o.balance)),o.currency!==void 0&&(u.currency=o.currency.toUpperCase()),o.isPrimary!==void 0&&(u.isPrimary=o.isPrimary),o.isActive!==void 0&&(u.isActive=o.isActive),o.accountMask!==void 0){let f=$p(o.accountMask);if(!Rp(f))return e.json({code:"BAD_REQUEST",error:"A m\xE1scara da conta deve seguir o formato **** 1234"},400);u.accountMask=f}let l=D1({institution_name:o.institutionName,account_type:o.accountType?M1(o.accountType):void 0,balance:o.balance,currency:o.currency?.toUpperCase(),is_primary:o.isPrimary,is_active:o.isActive,account_mask:o.accountMask?$p(o.accountMask):void 0}),d=kB(l);if(!d.valid){let f=d.errors.length>0?d.errors.map(m=>m.message).join(", "):"Dados inv\xE1lidos";return e.json({code:"BAD_REQUEST",error:f},400)}let[p]=await r.update(ue).set(u).where(Ee(V(ue.id,n),V(ue.userId,t.id))).returning();return e.json({data:p,meta:{requestId:i,updatedAt:new Date().toISOString()}})}catch(s){return L.error("Failed to update bank account",{accountId:n,error:s instanceof Error?s.message:"Unknown error",requestId:i,userId:t.id}),e.json({code:"BANK_ACCOUNT_UPDATE_ERROR",error:"Failed to update bank account"},500)}});Ui.patch("/:id/balance",me,xe({windowMs:60*1e3,max:30,message:"Too many balance update attempts, please try again later"}),Be("json",g_e),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.param("id"),{balance:o}=e.req.valid("json"),i=e.get("requestId");try{let[s]=await r.update(ue).set({balance:String(o)}).where(Ee(V(ue.id,n),V(ue.userId,t.id))).returning();return s?e.json({data:s,meta:{requestId:i,updatedAt:new Date().toISOString()}}):e.json({code:"NOT_FOUND",error:"Conta banc\xE1ria n\xE3o encontrada"},404)}catch(s){return L.error("Failed to update balance",{accountId:n,error:s instanceof Error?s.message:"Unknown error",requestId:i,userId:t.id}),e.json({code:"BALANCE_UPDATE_ERROR",error:"Failed to update balance"},500)}});Ui.delete("/:id",me,xe({windowMs:60*1e3,max:20,message:"Too many deletion attempts, please try again later"}),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.param("id"),o=e.get("requestId");try{return await r.delete(ue).where(Ee(V(ue.id,n),V(ue.userId,t.id))),L.info("Bank account deleted",{accountId:n,requestId:o,userId:t.id}),e.json({data:{success:!0},meta:{deletedAt:new Date().toISOString(),requestId:o}})}catch(i){return L.error("Failed to delete bank account",{accountId:n,error:i instanceof Error?i.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"BANK_ACCOUNT_DELETE_ERROR",error:"Failed to delete bank account"},500)}});var q1=Ui;var Yg=new Oe,b_e=c.object({accountType:c.string(),balance:c.number(),bankName:c.string(),currency:c.string(),id:c.string(),lastSync:c.string().datetime().optional()}),ptt=c.object({accounts:c.array(b_e),currency:c.string(),total:c.number()});Yg.get("/accounts",me,xe({windowMs:60*1e3,max:20,message:"Too many requests, please try again later"}),async e=>{let{user:t}=e.get("auth"),r=e.get("requestId");try{L.info("Bank accounts accessed",{requestId:r,userId:t.id});let n={accounts:[],currency:"BRL",total:0};return e.json({data:n,meta:{note:"Placeholder implementation - Belvo integration pending",requestId:r,retrievedAt:new Date().toISOString()}})}catch(n){return L.error("Failed to get bank accounts",{error:n instanceof Error?n.message:"Unknown error",requestId:r,userId:t.id}),e.json({code:"BANK_ACCOUNTS_ERROR",error:"Failed to retrieve bank accounts"},500)}});Yg.post("/accounts/link",me,xe({windowMs:60*1e3,max:5,message:"Too many link attempts, please try again later"}),Be("json",c.object({bankCode:c.string(),credentials:c.record(c.string(),c.any())})),async e=>{let{user:t}=e.get("auth"),r=e.req.valid("json"),n=e.get("requestId");try{return L.info("Bank account link attempt",{bankCode:r.bankCode,requestId:n,userId:t.id}),e.json({code:"NOT_IMPLEMENTED",details:{bankCode:r.bankCode,note:"Belvo integration is pending implementation"},error:"Bank account linking not yet implemented"},501)}catch(o){return L.error("Failed to link bank account",{bankCode:r.bankCode,error:o instanceof Error?o.message:"Unknown error",requestId:n,userId:t.id}),e.json({code:"BANK_LINK_ERROR",error:"Failed to link bank account"},500)}});Yg.post("/accounts/sync",me,xe({windowMs:60*1e3,max:10,message:"Too many sync requests, please try again later"}),async e=>{let{user:t}=e.get("auth"),r=e.get("requestId");try{return L.info("Bank accounts sync attempt",{requestId:r,userId:t.id}),e.json({code:"NOT_IMPLEMENTED",details:{note:"Belvo integration is pending implementation"},error:"Bank account synchronization not yet implemented"},501)}catch(n){return L.error("Failed to sync bank accounts",{error:n instanceof Error?n.message:"Unknown error",requestId:r,userId:t.id}),e.json({code:"BANK_SYNC_ERROR",error:"Failed to sync bank accounts"},500)}});var U1=Yg;wr();import*as jc from"crypto";import{EventEmitter as XH}from"events";import*as ty from"crypto";var Na=class{static{a(this,"CryptoProvider")}computeHMACSignature(t,r){throw new Error("computeHMACSignature not implemented.")}computeHMACSignatureAsync(t,r){throw new Error("computeHMACSignatureAsync not implemented.")}computeSHA256Async(t){throw new Error("computeSHA256 not implemented.")}},xc=class extends Error{static{a(this,"CryptoProviderOnlySupportsAsyncError")}};var ey=class extends Na{static{a(this,"NodeCryptoProvider")}computeHMACSignature(t,r){return ty.createHmac("sha256",r).update(t,"utf8").digest("hex")}async computeHMACSignatureAsync(t,r){return await this.computeHMACSignature(t,r)}async computeSHA256Async(t){return new Uint8Array(await ty.createHash("sha256").update(t).digest())}};import*as F1 from"http";import*as J1 from"https";var Jr=class e{static{a(this,"HttpClient")}getClientName(){throw new Error("getClientName not implemented.")}makeRequest(t,r,n,o,i,s,u,l){throw new Error("makeRequest not implemented.")}static makeTimeoutError(){let t=new TypeError(e.TIMEOUT_ERROR_CODE);return t.code=e.TIMEOUT_ERROR_CODE,t}};Jr.CONNECTION_CLOSED_ERROR_CODES=["ECONNRESET","EPIPE"];Jr.TIMEOUT_ERROR_CODE="ETIMEDOUT";var ja=class{static{a(this,"HttpClientResponse")}constructor(t,r){this._statusCode=t,this._headers=r}getStatusCode(){return this._statusCode}getHeaders(){return this._headers}getRawResponse(){throw new Error("getRawResponse not implemented.")}toStream(t){throw new Error("toStream not implemented.")}toJSON(){throw new Error("toJSON not implemented.")}};var EB=F1.default||F1,PB=J1.default||J1,S_e=new EB.Agent({keepAlive:!0}),w_e=new PB.Agent({keepAlive:!0}),Np=class extends Jr{static{a(this,"NodeHttpClient")}constructor(t){super(),this._agent=t}getClientName(){return"node"}makeRequest(t,r,n,o,i,s,u,l){let d=u==="http",p=this._agent;return p||(p=d?S_e:w_e),new Promise((m,y)=>{let g=(d?EB:PB).request({host:t,port:r,path:n,method:o,agent:p,headers:i,ciphers:"DEFAULT:!aNULL:!eNULL:!LOW:!EXPORT:!SSLv2:!MD5"});g.setTimeout(l,()=>{g.destroy(Jr.makeTimeoutError())}),g.on("response",h=>{m(new L1(h))}),g.on("error",h=>{y(h)}),g.once("socket",h=>{h.connecting?h.once(d?"connect":"secureConnect",()=>{g.write(s),g.end()}):(g.write(s),g.end())})})}},L1=class extends ja{static{a(this,"NodeHttpClientResponse")}constructor(t){super(t.statusCode,t.headers||{}),this._res=t}getRawResponse(){return this._res}toStream(t){return this._res.once("end",()=>t()),this._res}toJSON(){return new Promise((t,r)=>{let n="";this._res.setEncoding("utf8"),this._res.on("data",o=>{n+=o}),this._res.once("end",()=>{try{t(JSON.parse(n))}catch(o){r(o)}})})}};var UH=Xs(qH(),1);var _R=["apiKey","idempotencyKey","stripeAccount","apiVersion","maxNetworkRetries","timeout","host","authenticator","stripeContext","additionalHeaders","streaming"];function LH(e){return e&&typeof e=="object"&&_R.some(t=>Object.prototype.hasOwnProperty.call(e,t))}a(LH,"isOptionsHash");function Ma(e,t){return UH.stringify(e,{serializeDate:a(r=>Math.floor(r.getTime()/1e3).toString(),"serializeDate"),arrayFormat:"indices"}).replace(/%5B/g,"[").replace(/%5D/g,"]")}a(Ma,"queryStringifyRequestData");var yy=(()=>{let e={"\n":"\\n",'"':'\\"',"\u2028":"\\u2028","\u2029":"\\u2029"};return t=>{let r=t.replace(/["\n\r\u2028\u2029]/g,n=>e[n]);return n=>r.replace(/\{([\s\S]+?)\}/g,(o,i)=>{let s=n[i];return KSe(s)?encodeURIComponent(s):""})}})();function KSe(e){return["number","string","boolean"].includes(typeof e)}a(KSe,"isValidEncodeUriComponentType");function FH(e){let t=e.match(/\{\w+\}/g);return t?t.map(r=>r.replace(/[{}]/g,"")):[]}a(FH,"extractUrlParams");function Ac(e){if(!Array.isArray(e)||!e[0]||typeof e[0]!="object")return{};if(!LH(e[0]))return e.shift();let t=Object.keys(e[0]),r=t.filter(n=>_R.includes(n));return r.length>0&&r.length!==t.length&&Zp(`Options found in arguments (${r.join(", ")}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options.`),{}}a(Ac,"getDataFromArgs");function vy(e){let t={host:null,headers:{},settings:{},streaming:!1};if(e.length>0){let r=e[e.length-1];if(typeof r=="string")t.authenticator=gy(e.pop());else if(LH(r)){let n=Object.assign({},e.pop()),o=Object.keys(n).filter(i=>!_R.includes(i));if(o.length&&Zp(`Invalid options found (${o.join(", ")}); ignoring.`),n.apiKey&&(t.authenticator=gy(n.apiKey)),n.idempotencyKey&&(t.headers["Idempotency-Key"]=n.idempotencyKey),n.stripeAccount&&(t.headers["Stripe-Account"]=n.stripeAccount),n.stripeContext){if(t.headers["Stripe-Account"])throw new Error("Can't specify both stripeAccount and stripeContext.");t.headers["Stripe-Context"]=n.stripeContext}if(n.apiVersion&&(t.headers["Stripe-Version"]=n.apiVersion),Number.isInteger(n.maxNetworkRetries)&&(t.settings.maxNetworkRetries=n.maxNetworkRetries),Number.isInteger(n.timeout)&&(t.settings.timeout=n.timeout),n.host&&(t.host=n.host),n.authenticator){if(n.apiKey)throw new Error("Can't specify both apiKey and authenticator.");if(typeof n.authenticator!="function")throw new Error("The authenticator must be a function receiving a request as the first parameter.");t.authenticator=n.authenticator}n.additionalHeaders&&(t.headers=n.additionalHeaders),n.streaming&&(t.streaming=!0)}}return t}a(vy,"getOptionsFromArgs");function JH(e){let t=this,r=Object.prototype.hasOwnProperty.call(e,"constructor")?e.constructor:function(...n){t.apply(this,n)};return Object.assign(r,t),r.prototype=Object.create(t.prototype),Object.assign(r.prototype,e),r}a(JH,"protoExtend");function _y(e){if(typeof e!="object")throw new Error("Argument must be an object");return Object.keys(e).reduce((t,r)=>(e[r]!=null&&(t[r]=e[r]),t),{})}a(_y,"removeNullish");function BH(e){return e&&typeof e=="object"?Object.keys(e).reduce((t,r)=>(t[GSe(r)]=e[r],t),{}):e}a(BH,"normalizeHeaders");function GSe(e){return e.split("-").map(t=>t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()).join("-")}a(GSe,"normalizeHeader");function Vp(e,t){return t?e.then(r=>{setTimeout(()=>{t(null,r)},0)},r=>{setTimeout(()=>{t(r,null)},0)}):e}a(Vp,"callbackifyPromiseWithTimeout");function HH(e){return e==="OAuth"?"oauth":e[0].toLowerCase()+e.substring(1)}a(HH,"pascalToCamelCase");function Zp(e){return typeof process.emitWarning!="function"?console.warn(`Stripe: ${e}`):process.emitWarning(e,"Stripe")}a(Zp,"emitWarning");function WSe(e){let t=typeof e;return(t==="function"||t==="object")&&!!e}a(WSe,"isObject");function VH(e){let t={},r=a((n,o)=>{Object.entries(n).forEach(([i,s])=>{let u=o?`${o}[${i}]`:i;if(WSe(s)){if(!(s instanceof Uint8Array)&&!Object.prototype.hasOwnProperty.call(s,"data"))return r(s,u);t[u]=s}else t[u]=String(s)})},"step");return r(e,null),t}a(VH,"flattenAndStringify");function by(e,t,r){if(!Number.isInteger(t)){if(r!==void 0)return r;throw new Error(`${e} must be an integer`)}return t}a(by,"validateInteger");function ZH(){return typeof process>"u"?{}:{lang_version:process.version,platform:process.platform}}a(ZH,"determineProcessUserAgentProperties");function gy(e){let t=a(r=>(r.headers.Authorization="Bearer "+e,Promise.resolve()),"authenticator");return t._apiKey=e,t}a(gy,"createApiKeyAuthenticator");function KH(e){let t=e.reduce((o,i)=>o+i.length,0),r=new Uint8Array(t),n=0;return e.forEach(o=>{r.set(o,n),n+=o.length}),r}a(KH,"concat");function QSe(e,t){return this[e]instanceof Date?Math.floor(this[e].getTime()/1e3).toString():t}a(QSe,"dateTimeReplacer");function GH(e){return JSON.stringify(e,QSe)}a(GH,"jsonStringifyRequestData");function Cc(e){return e&&e.startsWith("/v2")?"v2":"v1"}a(Cc,"getAPIMode");function Sy(e){return Array.isArray(e)?e.join(", "):String(e)}a(Sy,"parseHttpHeaderAsString");function WH(e){let t=Array.isArray(e)?e[0]:e;return Number(t)}a(WH,"parseHttpHeaderAsNumber");function QH(e){return Object.entries(e).map(([t,r])=>[t,Sy(r)])}a(QH,"parseHeadersForFetch");var wy=class e extends Jr{static{a(this,"FetchHttpClient")}constructor(t){if(super(),!t){if(!globalThis.fetch)throw new Error("fetch() function not provided and is not defined in the global scope. You must provide a fetch implementation.");t=globalThis.fetch}globalThis.AbortController?this._fetchFn=e.makeFetchWithAbortTimeout(t):this._fetchFn=e.makeFetchWithRaceTimeout(t)}static makeFetchWithRaceTimeout(t){return(r,n,o)=>{let i,s=new Promise((l,d)=>{i=setTimeout(()=>{i=null,d(Jr.makeTimeoutError())},o)}),u=t(r,n);return Promise.race([u,s]).finally(()=>{i&&clearTimeout(i)})}}static makeFetchWithAbortTimeout(t){return async(r,n,o)=>{let i=new AbortController,s=setTimeout(()=>{s=null,i.abort(Jr.makeTimeoutError())},o);try{return await t(r,Object.assign(Object.assign({},n),{signal:i.signal}))}catch(u){throw u.name==="AbortError"?Jr.makeTimeoutError():u}finally{s&&clearTimeout(s)}}}getClientName(){return"fetch"}async makeRequest(t,r,n,o,i,s,u,l){let d=u==="http",p=new URL(n,`${d?"http":"https"}://${t}`);p.port=r;let f=o=="POST"||o=="PUT"||o=="PATCH",m=s||(f?"":void 0),y=await this._fetchFn(p.toString(),{method:o,headers:QH(i),body:m},l);return new bR(y)}},bR=class e extends ja{static{a(this,"FetchHttpClientResponse")}constructor(t){super(t.status,e._transformHeadersToObject(t.headers)),this._res=t}getRawResponse(){return this._res}toStream(t){return t(),this._res.body}toJSON(){return this._res.json()}static _transformHeadersToObject(t){let r={};for(let n of t){if(!Array.isArray(n)||n.length!=2)throw new Error("Response objects produced by the fetch function given to FetchHttpClient do not have an iterable headers map. Response#headers should be an iterable object.");r[n[0]]=n[1]}return r}};var xy=class extends Na{static{a(this,"SubtleCryptoProvider")}constructor(t){super(),this.subtleCrypto=t||crypto.subtle}computeHMACSignature(t,r){throw new xc("SubtleCryptoProvider cannot be used in a synchronous context.")}async computeHMACSignatureAsync(t,r){let n=new TextEncoder,o=await this.subtleCrypto.importKey("raw",n.encode(r),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),i=await this.subtleCrypto.sign("hmac",o,n.encode(t)),s=new Uint8Array(i),u=new Array(s.length);for(let l=0;l<s.length;l++)u[l]=SR[s[l]];return u.join("")}async computeSHA256Async(t){return new Uint8Array(await this.subtleCrypto.digest("SHA-256",t))}},SR=new Array(256);for(let e=0;e<SR.length;e++)SR[e]=e.toString(16).padStart(2,"0");var Ty=class{static{a(this,"PlatformFunctions")}constructor(){this._fetchFn=null,this._agent=null}getUname(){throw new Error("getUname not implemented.")}uuid4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{let r=Math.random()*16|0;return(t==="x"?r:r&3|8).toString(16)})}secureCompare(t,r){if(t.length!==r.length)return!1;let n=t.length,o=0;for(let i=0;i<n;++i)o|=t.charCodeAt(i)^r.charCodeAt(i);return o===0}createEmitter(){throw new Error("createEmitter not implemented.")}tryBufferData(t){throw new Error("tryBufferData not implemented.")}createNodeHttpClient(t){throw new Error("createNodeHttpClient not implemented.")}createFetchHttpClient(t){return new wy(t)}createDefaultHttpClient(){throw new Error("createDefaultHttpClient not implemented.")}createNodeCryptoProvider(){throw new Error("createNodeCryptoProvider not implemented.")}createSubtleCryptoProvider(t){return new xy(t)}createDefaultCryptoProvider(){throw new Error("createDefaultCryptoProvider not implemented.")}};var Ay={};yn(Ay,{StripeAPIError:()=>Rc,StripeAuthenticationError:()=>$c,StripeCardError:()=>ky,StripeConnectionError:()=>Wp,StripeError:()=>cr,StripeIdempotencyError:()=>Ey,StripeInvalidGrantError:()=>Py,StripeInvalidRequestError:()=>Kp,StripePermissionError:()=>Gp,StripeRateLimitError:()=>Nc,StripeSignatureVerificationError:()=>jo,StripeUnknownError:()=>Iy,TemporarySessionExpiredError:()=>Oy,generateV1Error:()=>Qp,generateV2Error:()=>wR});var Qp=a(e=>{switch(e.type){case"card_error":return new ky(e);case"invalid_request_error":return new Kp(e);case"api_error":return new Rc(e);case"authentication_error":return new $c(e);case"rate_limit_error":return new Nc(e);case"idempotency_error":return new Ey(e);case"invalid_grant":return new Py(e);default:return new Iy(e)}},"generateV1Error"),wR=a(e=>{switch(e.type){case"temporary_session_expired":return new Oy(e)}switch(e.code){case"invalid_fields":return new Kp(e)}return Qp(e)},"generateV2Error"),cr=class extends Error{static{a(this,"StripeError")}constructor(t={},r=null){var n;super(t.message),this.type=r||this.constructor.name,this.raw=t,this.rawType=t.type,this.code=t.code,this.doc_url=t.doc_url,this.param=t.param,this.detail=t.detail,this.headers=t.headers,this.requestId=t.requestId,this.statusCode=t.statusCode,this.message=(n=t.message)!==null&&n!==void 0?n:"",this.userMessage=t.user_message,this.charge=t.charge,this.decline_code=t.decline_code,this.payment_intent=t.payment_intent,this.payment_method=t.payment_method,this.payment_method_type=t.payment_method_type,this.setup_intent=t.setup_intent,this.source=t.source}};cr.generate=Qp;var ky=class extends cr{static{a(this,"StripeCardError")}constructor(t={}){super(t,"StripeCardError")}},Kp=class extends cr{static{a(this,"StripeInvalidRequestError")}constructor(t={}){super(t,"StripeInvalidRequestError")}},Rc=class extends cr{static{a(this,"StripeAPIError")}constructor(t={}){super(t,"StripeAPIError")}},$c=class extends cr{static{a(this,"StripeAuthenticationError")}constructor(t={}){super(t,"StripeAuthenticationError")}},Gp=class extends cr{static{a(this,"StripePermissionError")}constructor(t={}){super(t,"StripePermissionError")}},Nc=class extends cr{static{a(this,"StripeRateLimitError")}constructor(t={}){super(t,"StripeRateLimitError")}},Wp=class extends cr{static{a(this,"StripeConnectionError")}constructor(t={}){super(t,"StripeConnectionError")}},jo=class extends cr{static{a(this,"StripeSignatureVerificationError")}constructor(t,r,n={}){super(n,"StripeSignatureVerificationError"),this.header=t,this.payload=r}},Ey=class extends cr{static{a(this,"StripeIdempotencyError")}constructor(t={}){super(t,"StripeIdempotencyError")}},Py=class extends cr{static{a(this,"StripeInvalidGrantError")}constructor(t={}){super(t,"StripeInvalidGrantError")}},Iy=class extends cr{static{a(this,"StripeUnknownError")}constructor(t={}){super(t,"StripeUnknownError")}},Oy=class extends cr{static{a(this,"TemporarySessionExpiredError")}constructor(t={}){super(t,"TemporarySessionExpiredError")}};import{exec as XSe}from"child_process";var xR=class extends cr{static{a(this,"StreamProcessingError")}},Cy=class extends Ty{static{a(this,"NodePlatformFunctions")}constructor(){super(),this._exec=XSe,this._UNAME_CACHE=null}uuid4(){return jc.randomUUID?jc.randomUUID():super.uuid4()}getUname(){return this._UNAME_CACHE||(this._UNAME_CACHE=new Promise((t,r)=>{try{this._exec("uname -a",(n,o)=>{if(n)return t(null);t(o)})}catch{t(null)}})),this._UNAME_CACHE}secureCompare(t,r){if(!t||!r)throw new Error("secureCompare must receive two arguments");if(t.length!==r.length)return!1;if(jc.timingSafeEqual){let n=new TextEncoder,o=n.encode(t),i=n.encode(r);return jc.timingSafeEqual(o,i)}return super.secureCompare(t,r)}createEmitter(){return new XH}tryBufferData(t){if(!(t.file.data instanceof XH))return Promise.resolve(t);let r=[];return new Promise((n,o)=>{t.file.data.on("data",i=>{r.push(i)}).once("end",()=>{let i=Object.assign({},t);i.file.data=KH(r),n(i)}).on("error",i=>{o(new xR({message:"An error occurred while attempting to process the file for upload.",detail:i}))})})}createNodeHttpClient(t){return new Np(t)}createDefaultHttpClient(){return new Np}createNodeCryptoProvider(){return new ey}createDefaultCryptoProvider(){return this.createNodeCryptoProvider()}};var YSe=60,Ry=class e{static{a(this,"RequestSender")}constructor(t,r){this._stripe=t,this._maxBufferedRequestMetric=r}_normalizeStripeContext(t,r){return t?t.toString()||null:r?.toString()||null}_addHeadersDirectlyToObject(t,r){t.requestId=r["request-id"],t.stripeAccount=t.stripeAccount||r["stripe-account"],t.apiVersion=t.apiVersion||r["stripe-version"],t.idempotencyKey=t.idempotencyKey||r["idempotency-key"]}_makeResponseEvent(t,r,n){let o=Date.now(),i=o-t.request_start_time;return _y({api_version:n["stripe-version"],account:n["stripe-account"],idempotency_key:n["idempotency-key"],method:t.method,path:t.path,status:r,request_id:this._getRequestId(n),elapsed:i,request_start_time:t.request_start_time,request_end_time:o})}_getRequestId(t){return t["request-id"]}_streamingResponseHandler(t,r,n){return o=>{let i=o.getHeaders(),s=a(()=>{let l=this._makeResponseEvent(t,o.getStatusCode(),i);this._stripe._emitter.emit("response",l),this._recordRequestMetrics(this._getRequestId(i),l.elapsed,r)},"streamCompleteCallback"),u=o.toStream(s);return this._addHeadersDirectlyToObject(u,i),n(null,u)}}_jsonResponseHandler(t,r,n,o){return i=>{let s=i.getHeaders(),u=this._getRequestId(s),l=i.getStatusCode(),d=this._makeResponseEvent(t,l,s);this._stripe._emitter.emit("response",d),i.toJSON().then(p=>{if(p.error){let f;throw typeof p.error=="string"&&(p.error={type:p.error,message:p.error_description}),p.error.headers=s,p.error.statusCode=l,p.error.requestId=u,l===401?f=new $c(p.error):l===403?f=new Gp(p.error):l===429?f=new Nc(p.error):r==="v2"?f=wR(p.error):f=Qp(p.error),f}return p},p=>{throw new Rc({message:"Invalid JSON received from the Stripe API",exception:p,requestId:s["request-id"]})}).then(p=>{this._recordRequestMetrics(u,d.elapsed,n);let f=i.getRawResponse();this._addHeadersDirectlyToObject(f,s),Object.defineProperty(p,"lastResponse",{enumerable:!1,writable:!1,value:f}),o(null,p)},p=>o(p,null))}}static _generateConnectionErrorMessage(t){return`An error occurred with our connection to Stripe.${t>0?` Request was retried ${t} times.`:""}`}static _shouldRetry(t,r,n,o){return o&&r===0&&Jr.CONNECTION_CLOSED_ERROR_CODES.includes(o.code)?!0:r>=n?!1:t?t.getHeaders()["stripe-should-retry"]==="false"?!1:t.getHeaders()["stripe-should-retry"]==="true"||t.getStatusCode()===409||t.getStatusCode()>=500:!0}_getSleepTimeInMS(t,r=null){let n=this._stripe.getInitialNetworkRetryDelay(),o=this._stripe.getMaxNetworkRetryDelay(),i=Math.min(n*Math.pow(2,t-1),o);return i*=.5*(1+Math.random()),i=Math.max(n,i),Number.isInteger(r)&&r<=YSe&&(i=Math.max(i,r)),i*1e3}_getMaxNetworkRetries(t={}){return t.maxNetworkRetries!==void 0&&Number.isInteger(t.maxNetworkRetries)?t.maxNetworkRetries:this._stripe.getMaxNetworkRetries()}_defaultIdempotencyKey(t,r,n){let o=this._getMaxNetworkRetries(r),i=a(()=>`stripe-node-retry-${this._stripe._platformFunctions.uuid4()}`,"genKey");if(n==="v2"){if(t==="POST"||t==="DELETE")return i()}else if(n==="v1"&&t==="POST"&&o>0)return i();return null}_makeHeaders({contentType:t,contentLength:r,apiVersion:n,clientUserAgent:o,method:i,userSuppliedHeaders:s,userSuppliedSettings:u,stripeAccount:l,stripeContext:d,apiMode:p}){let f={Accept:"application/json","Content-Type":t,"User-Agent":this._getUserAgentString(p),"X-Stripe-Client-User-Agent":o,"X-Stripe-Client-Telemetry":this._getTelemetryHeader(),"Stripe-Version":n,"Stripe-Account":l,"Stripe-Context":d,"Idempotency-Key":this._defaultIdempotencyKey(i,u,p)},m=i=="POST"||i=="PUT"||i=="PATCH";return(m||r)&&(m||Zp(`${i} method had non-zero contentLength but no payload is expected for this verb`),f["Content-Length"]=r),Object.assign(_y(f),BH(s))}_getUserAgentString(t){let r=this._stripe.getConstant("PACKAGE_VERSION"),n=this._stripe._appInfo?this._stripe.getAppInfoAsString():"";return`Stripe/${t} NodeBindings/${r} ${n}`.trim()}_getTelemetryHeader(){if(this._stripe.getTelemetryEnabled()&&this._stripe._prevRequestMetrics.length>0){let t=this._stripe._prevRequestMetrics.shift();return JSON.stringify({last_request_metrics:t})}}_recordRequestMetrics(t,r,n){if(this._stripe.getTelemetryEnabled()&&t)if(this._stripe._prevRequestMetrics.length>this._maxBufferedRequestMetric)Zp("Request metrics buffer is full, dropping telemetry message.");else{let o={request_id:t,request_duration_ms:r};n&&n.length>0&&(o.usage=n),this._stripe._prevRequestMetrics.push(o)}}_rawRequest(t,r,n,o,i){return new Promise((u,l)=>{let d;try{let g=t.toUpperCase();if(g!=="POST"&&n&&Object.keys(n).length!==0)throw new Error("rawRequest only supports params on POST requests. Please pass null and add your parameters to path.");let h=[].slice.call([n,o]),v=Ac(h),S=g==="POST"?Object.assign({},v):null,b=vy(h),w=b.headers,k=b.authenticator;d={requestMethod:g,requestPath:r,bodyData:S,queryData:{},authenticator:k,headers:w,host:b.host,streaming:!!b.streaming,settings:{},usage:i||["raw_request"]}}catch(g){l(g);return}function p(g,h){g?l(g):u(h)}a(p,"requestCallback");let{headers:f,settings:m}=d,y=d.authenticator;this._request(d.requestMethod,d.host,r,d.bodyData,y,{headers:f,settings:m,streaming:d.streaming},d.usage,p)})}_request(t,r,n,o,i,s,u=[],l,d=null){var p;let f;i=(p=i??this._stripe._authenticator)!==null&&p!==void 0?p:null;let m=Cc(n),y=a((v,S,b,w,k)=>setTimeout(v,this._getSleepTimeInMS(w,k),S,b,w+1),"retryRequest"),g=a((v,S,b)=>{let w=s.settings&&s.settings.timeout&&Number.isInteger(s.settings.timeout)&&s.settings.timeout>=0?s.settings.timeout:this._stripe.getApiField("timeout"),k={host:r||this._stripe.getApiField("host"),port:this._stripe.getApiField("port"),path:n,method:t,headers:Object.assign({},S),body:f,protocol:this._stripe.getApiField("protocol")};i(k).then(()=>{let $=this._stripe.getApiField("httpClient").makeRequest(k.host,k.port,k.path,k.method,k.headers,k.body,k.protocol,w),A=Date.now(),O=_y({api_version:v,account:Sy(S["Stripe-Account"]),idempotency_key:Sy(S["Idempotency-Key"]),method:t,path:n,request_start_time:A}),R=b||0,I=this._getMaxNetworkRetries(s.settings||{});this._stripe._emitter.emit("request",O),$.then(N=>e._shouldRetry(N,R,I)?y(g,v,S,R,WH(N.getHeaders()["retry-after"])):s.streaming&&N.getStatusCode()<400?this._streamingResponseHandler(O,u,l)(N):this._jsonResponseHandler(O,m,u,l)(N)).catch(N=>{if(e._shouldRetry(null,R,I,N))return y(g,v,S,R,null);{let z=N.code&&N.code===Jr.TIMEOUT_ERROR_CODE;return l(new Wp({message:z?`Request aborted due to timeout being reached (${w}ms)`:e._generateConnectionErrorMessage(R),detail:N}))}})}).catch($=>{throw new cr({message:"Unable to authenticate the request",exception:$})})},"makeRequest"),h=a((v,S)=>{if(v)return l(v);f=S,this._stripe.getClientUserAgent(b=>{var w,k,$;let A=this._stripe.getApiField("version"),O=this._makeHeaders({contentType:m=="v2"?"application/json":"application/x-www-form-urlencoded",contentLength:new TextEncoder().encode(f).length,apiVersion:A,clientUserAgent:b,method:t,userSuppliedHeaders:(w=s.headers)!==null&&w!==void 0?w:null,userSuppliedSettings:(k=s.settings)!==null&&k!==void 0?k:{},stripeAccount:($=s.stripeAccount)!==null&&$!==void 0?$:this._stripe.getApiField("stripeAccount"),stripeContext:this._normalizeStripeContext(s.stripeContext,this._stripe.getApiField("stripeContext")),apiMode:m});g(A,O,0)})},"prepareAndMakeRequest");if(d)d(t,o,s.headers,h);else{let v;m=="v2"?v=o?GH(o):"":v=Ma(o||{},m),h(null,v)}}};var $y=class{static{a(this,"V1Iterator")}constructor(t,r,n,o){this.index=0,this.pagePromise=t,this.promiseCache={currentPromise:null},this.requestArgs=r,this.spec=n,this.stripeResource=o}async iterate(t){if(!(t&&t.data&&typeof t.data.length=="number"))throw Error("Unexpected: Stripe API response does not have a well-formed `data` array.");let r=e3(this.requestArgs);if(this.index<t.data.length){let n=r?t.data.length-1-this.index:this.index,o=t.data[n];return this.index+=1,{value:o,done:!1}}else if(t.has_more){this.index=0,this.pagePromise=this.getNextPage(t);let n=await this.pagePromise;return this.iterate(n)}return{done:!0,value:void 0}}getNextPage(t){throw new Error("Unimplemented")}async _next(){return this.iterate(await this.pagePromise)}next(){if(this.promiseCache.currentPromise)return this.promiseCache.currentPromise;let t=(async()=>{let r=await this._next();return this.promiseCache.currentPromise=null,r})();return this.promiseCache.currentPromise=t,t}},kR=class extends $y{static{a(this,"V1ListIterator")}getNextPage(t){let r=e3(this.requestArgs),n=nwe(t,r);return this.stripeResource._makeRequest(this.requestArgs,this.spec,{[r?"ending_before":"starting_after"]:n})}},ER=class extends $y{static{a(this,"V1SearchIterator")}getNextPage(t){if(!t.next_page)throw Error("Unexpected: Stripe API response does not have a well-formed `next_page` field, but `has_more` was true.");return this.stripeResource._makeRequest(this.requestArgs,this.spec,{page:t.next_page})}},PR=class{static{a(this,"V2ListIterator")}constructor(t,r,n,o){this.currentPageIterator=(async()=>(await t).data[Symbol.iterator]())(),this.nextPageUrl=(async()=>(await t).next_page_url||null)(),this.requestArgs=r,this.spec=n,this.stripeResource=o}async turnPage(){let t=await this.nextPageUrl;if(!t)return null;this.spec.fullPath=t;let r=await this.stripeResource._makeRequest([],this.spec,{});return this.nextPageUrl=Promise.resolve(r.next_page_url),this.currentPageIterator=Promise.resolve(r.data[Symbol.iterator]()),this.currentPageIterator}async next(){{let n=(await this.currentPageIterator).next();if(!n.done)return{done:!1,value:n.value}}let t=await this.turnPage();if(!t)return{done:!0,value:void 0};let r=t.next();return r.done?{done:!0,value:void 0}:{done:!1,value:r.value}}},YH=a((e,t,r,n)=>{let o=Cc(r.fullPath||r.path);return o!=="v2"&&r.methodType==="search"?TR(new ER(n,t,r,e)):o!=="v2"&&r.methodType==="list"?TR(new kR(n,t,r,e)):o==="v2"&&r.methodType==="list"?TR(new PR(n,t,r,e)):null},"makeAutoPaginationMethods"),TR=a(e=>{let t=owe((...o)=>e.next(...o)),r=iwe(t),n={autoPagingEach:t,autoPagingToArray:r,next:a(()=>e.next(),"next"),return:a(()=>({}),"return"),[ewe()]:()=>n};return n},"makeAutoPaginationMethodsFromIterator");function ewe(){return typeof Symbol<"u"&&Symbol.asyncIterator?Symbol.asyncIterator:"@@asyncIterator"}a(ewe,"getAsyncIteratorSymbol");function twe(e){if(e.length<2)return null;let t=e[1];if(typeof t!="function")throw Error(`The second argument to autoPagingEach, if present, must be a callback function; received ${typeof t}`);return t}a(twe,"getDoneCallback");function rwe(e){if(e.length===0)return;let t=e[0];if(typeof t!="function")throw Error(`The first argument to autoPagingEach, if present, must be a callback function; received ${typeof t}`);if(t.length===2)return t;if(t.length>2)throw Error(`The \`onItem\` callback function passed to autoPagingEach must accept at most two arguments; got ${t}`);return a(function(n,o){let i=t(n);o(i)},"_onItem")}a(rwe,"getItemCallback");function nwe(e,t){let r=t?0:e.data.length-1,n=e.data[r],o=n&&n.id;if(!o)throw Error("Unexpected: No `id` found on the last item while auto-paging a list.");return o}a(nwe,"getLastId");function owe(e){return a(function(){let r=[].slice.call(arguments),n=rwe(r),o=twe(r);if(r.length>2)throw Error(`autoPagingEach takes up to two arguments; received ${r}`);let i=awe(e,n);return Vp(i,o)},"autoPagingEach")}a(owe,"makeAutoPagingEach");function iwe(e){return a(function(r,n){let o=r&&r.limit;if(!o)throw Error("You must pass a `limit` option to autoPagingToArray, e.g., `autoPagingToArray({limit: 1000});`.");if(o>1e4)throw Error("You cannot specify a limit of more than 10,000 items to fetch in `autoPagingToArray`; use `autoPagingEach` to iterate through longer lists.");let i=new Promise((s,u)=>{let l=[];e(d=>{if(l.push(d),l.length>=o)return!1}).then(()=>{s(l)}).catch(u)});return Vp(i,n)},"autoPagingToArray")}a(iwe,"makeAutoPagingToArray");function awe(e,t){return new Promise((r,n)=>{function o(i){if(i.done){r();return}let s=i.value;return new Promise(u=>{t(s,u)}).then(u=>u===!1?o({done:!0,value:void 0}):e().then(o))}a(o,"handleIteration"),e().then(o).catch(n)})}a(awe,"wrapAsyncIteratorWithCallback");function e3(e){let t=[].slice.call(e);return!!Ac(t).ending_before}a(e3,"isReverseIteration");function t3(e){if(e.path!==void 0&&e.fullPath!==void 0)throw new Error(`Method spec specified both a 'path' (${e.path}) and a 'fullPath' (${e.fullPath}).`);return function(...t){let r=typeof t[t.length-1]=="function"&&t.pop();e.urlParams=FH(e.fullPath||this.createResourcePathWithSymbols(e.path||""));let n=Vp(this._makeRequest(t,e,{}),r);return Object.assign(n,YH(this,t,e,n)),n}}a(t3,"stripeMethod");T.extend=JH;T.method=t3;T.MAX_BUFFERED_REQUEST_METRICS=100;function T(e,t){if(this._stripe=e,t)throw new Error("Support for curried url params was dropped in stripe-node v7.0.0. Instead, pass two ids.");this.basePath=yy(this.basePath||e.getApiField("basePath")),this.resourcePath=this.path,this.path=yy(this.path),this.initialize(...arguments)}a(T,"StripeResource");T.prototype={_stripe:null,path:"",resourcePath:"",basePath:null,initialize(){},requestDataProcessor:null,validateRequest:null,createFullPath(e,t){let r=[this.basePath(t),this.path(t)];if(typeof e=="function"){let n=e(t);n&&r.push(n)}else r.push(e);return this._joinUrlParts(r)},createResourcePathWithSymbols(e){return e?`/${this._joinUrlParts([this.resourcePath,e])}`:`/${this.resourcePath}`},_joinUrlParts(e){return e.join("/").replace(/\/{2,}/g,"/")},_getRequestOpts(e,t,r){var n;let o=(t.method||"GET").toUpperCase(),i=t.usage||[],s=t.urlParams||[],u=t.encode||(O=>O),l=!!t.fullPath,d=yy(l?t.fullPath:t.path||""),p=l?t.fullPath:this.createResourcePathWithSymbols(t.path),f=[].slice.call(e),m=s.reduce((O,R)=>{let I=f.shift();if(typeof I!="string")throw new Error(`Stripe: Argument "${R}" must be a string, but got: ${I} (on API request to \`${o} ${p}\`)`);return O[R]=I,O},{}),y=Ac(f),g=u(Object.assign({},y,r)),h=vy(f),v=h.host||t.host,S=!!t.streaming||!!h.streaming;if(f.filter(O=>O!=null).length)throw new Error(`Stripe: Unknown arguments (${f}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options. (on API request to ${o} \`${p}\`)`);let b=l?d(m):this.createFullPath(d,m),w=Object.assign(h.headers,t.headers);t.validator&&t.validator(g,{headers:w});let k=t.method==="GET"||t.method==="DELETE";return{requestMethod:o,requestPath:b,bodyData:k?null:g,queryData:k?g:{},authenticator:(n=h.authenticator)!==null&&n!==void 0?n:null,headers:w,host:v??null,streaming:S,settings:h.settings,usage:i}},_makeRequest(e,t,r){return new Promise((n,o)=>{var i;let s;try{s=this._getRequestOpts(e,t,r)}catch(m){o(m);return}function u(m,y){m?o(m):n(t.transformResponseData?t.transformResponseData(y):y)}a(u,"requestCallback");let l=Object.keys(s.queryData).length===0,d=[s.requestPath,l?"":"?",Ma(s.queryData,Cc(s.requestPath))].join(""),{headers:p,settings:f}=s;this._stripe._requestSender._request(s.requestMethod,s.host,d,s.bodyData,s.authenticator,{headers:p,settings:f,streaming:s.streaming},s.usage,u,(i=this.requestDataProcessor)===null||i===void 0?void 0:i.bind(this))})}};var Xp=class e{static{a(this,"StripeContext")}constructor(t=[]){this._segments=[...t]}get segments(){return[...this._segments]}push(t){if(!t)throw new Error("Segment cannot be null or undefined");return new e([...this._segments,t])}pop(){if(this._segments.length===0)throw new Error("Cannot pop from an empty context");return new e(this._segments.slice(0,-1))}toString(){return this._segments.join("/")}static parse(t){return t?new e(t.split("/")):new e([])}};function r3(e){let t={DEFAULT_TOLERANCE:300,signature:null,constructEvent(p,f,m,y,g,h){try{if(!this.signature)throw new Error("ERR: missing signature helper, unable to verify");this.signature.verifyHeader(p,f,m,y||t.DEFAULT_TOLERANCE,g,h)}catch(S){throw S instanceof xc&&(S.message+="\nUse `await constructEventAsync(...)` instead of `constructEvent(...)`"),S}return p instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(p)):JSON.parse(p)},async constructEventAsync(p,f,m,y,g,h){if(!this.signature)throw new Error("ERR: missing signature helper, unable to verify");return await this.signature.verifyHeaderAsync(p,f,m,y||t.DEFAULT_TOLERANCE,g,h),p instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(p)):JSON.parse(p)},generateTestHeaderString:a(function(p){let f=d(p),m=f.signature||f.cryptoProvider.computeHMACSignature(f.payloadString,f.secret);return f.generateHeaderString(m)},"generateTestHeaderString"),generateTestHeaderStringAsync:a(async function(p){let f=d(p),m=f.signature||await f.cryptoProvider.computeHMACSignatureAsync(f.payloadString,f.secret);return f.generateHeaderString(m)},"generateTestHeaderStringAsync")},r={EXPECTED_SCHEME:"v1",verifyHeader(p,f,m,y,g,h){let{decodedHeader:v,decodedPayload:S,details:b,suspectPayloadType:w}=o(p,f,this.EXPECTED_SCHEME),k=/\s/.test(m);g=g||l();let $=g.computeHMACSignature(n(S,b),m);return i(S,v,b,$,y,w,k,h),!0},async verifyHeaderAsync(p,f,m,y,g,h){let{decodedHeader:v,decodedPayload:S,details:b,suspectPayloadType:w}=o(p,f,this.EXPECTED_SCHEME),k=/\s/.test(m);g=g||l();let $=await g.computeHMACSignatureAsync(n(S,b),m);return i(S,v,b,$,y,w,k,h)}};function n(p,f){return`${f.timestamp}.${p}`}a(n,"makeHMACContent");function o(p,f,m){if(!p)throw new jo(f,p,{message:"No webhook payload was provided."});let y=typeof p!="string"&&!(p instanceof Uint8Array),g=new TextDecoder("utf8"),h=p instanceof Uint8Array?g.decode(p):p;if(Array.isArray(f))throw new Error("Unexpected: An array was passed as a header, which should not be possible for the stripe-signature header.");if(f==null||f=="")throw new jo(f,p,{message:"No stripe-signature header value was provided."});let v=f instanceof Uint8Array?g.decode(f):f,S=s(v,m);if(!S||S.timestamp===-1)throw new jo(v,h,{message:"Unable to extract timestamp and signatures from header"});if(!S.signatures.length)throw new jo(v,h,{message:"No signatures found with expected scheme"});return{decodedPayload:h,decodedHeader:v,details:S,suspectPayloadType:y}}a(o,"parseEventDetails");function i(p,f,m,y,g,h,v,S){let b=!!m.signatures.filter(e.secureCompare.bind(e,y)).length,w=`
Learn more about webhook signing and explore webhook integration examples for various frameworks at https://docs.stripe.com/webhooks/signature`,k=v?`

Note: The provided signing secret contains whitespace. This often indicates an extra newline or space is in the value`:"";if(!b)throw h?new jo(f,p,{message:`Webhook payload must be provided as a string or a Buffer (https://nodejs.org/api/buffer.html) instance representing the _raw_ request body.Payload was provided as a parsed JavaScript object instead. 
Signature verification is impossible without access to the original signed material. 
`+w+`
`+k}):new jo(f,p,{message:`No signatures found matching the expected signature for payload. Are you passing the raw request body you received from Stripe? 
 If a webhook request is being forwarded by a third-party tool, ensure that the exact request body, including JSON formatting and new line style, is preserved.
`+w+`
`+k});let $=Math.floor((typeof S=="number"?S:Date.now())/1e3)-m.timestamp;if(g>0&&$>g)throw new jo(f,p,{message:"Timestamp outside the tolerance zone"});return!0}a(i,"validateComputedSignature");function s(p,f){return typeof p!="string"?null:p.split(",").reduce((m,y)=>{let g=y.split("=");return g[0]==="t"&&(m.timestamp=parseInt(g[1],10)),g[0]===f&&m.signatures.push(g[1]),m},{timestamp:-1,signatures:[]})}a(s,"parseHeader");let u=null;function l(){return u||(u=e.createDefaultCryptoProvider()),u}a(l,"getCryptoProvider");function d(p){if(!p)throw new cr({message:"Options are required"});let f=Math.floor(p.timestamp)||Math.floor(Date.now()/1e3),m=p.scheme||r.EXPECTED_SCHEME,y=p.cryptoProvider||l(),g=`${f}.${p.payload}`,h=a(v=>`t=${f},${m}=${v}`,"generateHeaderString");return Object.assign(Object.assign({},p),{timestamp:f,scheme:m,cryptoProvider:y,payloadString:g,generateHeaderString:h})}return a(d,"prepareOptions"),t.signature=r,t}a(r3,"createWebhooks");var IR="2025-11-17.clover";var Hc={};yn(Hc,{Account:()=>LR,AccountLinks:()=>L9,AccountSessions:()=>F9,Accounts:()=>LR,ApplePayDomains:()=>J9,ApplicationFees:()=>B9,Apps:()=>Rwe,Balance:()=>H9,BalanceSettings:()=>Z9,BalanceTransactions:()=>G9,Billing:()=>$we,BillingPortal:()=>Nwe,Charges:()=>W9,Checkout:()=>jwe,Climate:()=>zwe,ConfirmationTokens:()=>Q9,CountrySpecs:()=>Y9,Coupons:()=>eV,CreditNotes:()=>tV,CustomerSessions:()=>rV,Customers:()=>nV,Disputes:()=>oV,Entitlements:()=>Dwe,EphemeralKeys:()=>aV,Events:()=>uV,ExchangeRates:()=>lV,FileLinks:()=>dV,Files:()=>mV,FinancialConnections:()=>Mwe,Forwarding:()=>qwe,Identity:()=>Uwe,InvoiceItems:()=>fV,InvoicePayments:()=>gV,InvoiceRenderingTemplates:()=>yV,Invoices:()=>vV,Issuing:()=>Lwe,Mandates:()=>_V,OAuth:()=>SV,PaymentAttemptRecords:()=>xV,PaymentIntents:()=>TV,PaymentLinks:()=>kV,PaymentMethodConfigurations:()=>EV,PaymentMethodDomains:()=>PV,PaymentMethods:()=>IV,PaymentRecords:()=>OV,Payouts:()=>AV,Plans:()=>CV,Prices:()=>RV,Products:()=>$V,PromotionCodes:()=>NV,Quotes:()=>jV,Radar:()=>Fwe,Refunds:()=>zV,Reporting:()=>Jwe,Reviews:()=>DV,SetupAttempts:()=>MV,SetupIntents:()=>qV,ShippingRates:()=>UV,Sigma:()=>Bwe,Sources:()=>LV,SubscriptionItems:()=>FV,SubscriptionSchedules:()=>JV,Subscriptions:()=>BV,Tax:()=>Hwe,TaxCodes:()=>VV,TaxIds:()=>ZV,TaxRates:()=>KV,Terminal:()=>Vwe,TestHelpers:()=>Zwe,Tokens:()=>WV,Topups:()=>QV,Transfers:()=>XV,Treasury:()=>Kwe,V2:()=>Gwe,WebhookEndpoints:()=>YV});function swe(e,t){for(let r in t){if(!Object.prototype.hasOwnProperty.call(t,r))continue;let n=r[0].toLowerCase()+r.substring(1),o=new t[r](e);this[n]=o}}a(swe,"ResourceNamespace");function Xt(e,t){return function(r){return new swe(r,t)}}a(Xt,"resourceNamespace");var Os=T.method,n3=T.extend({retrieve:Os({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}"}),list:Os({method:"GET",fullPath:"/v1/financial_connections/accounts",methodType:"list"}),disconnect:Os({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/disconnect"}),listOwners:Os({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}/owners",methodType:"list"}),refresh:Os({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/refresh"}),subscribe:Os({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/subscribe"}),unsubscribe:Os({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/unsubscribe"})});var o3=T.method,i3=T.extend({retrieve:o3({method:"GET",fullPath:"/v1/entitlements/active_entitlements/{id}"}),list:o3({method:"GET",fullPath:"/v1/entitlements/active_entitlements",methodType:"list"})});var zc=T.method,a3=T.extend({create:zc({method:"POST",fullPath:"/v1/billing/alerts"}),retrieve:zc({method:"GET",fullPath:"/v1/billing/alerts/{id}"}),list:zc({method:"GET",fullPath:"/v1/billing/alerts",methodType:"list"}),activate:zc({method:"POST",fullPath:"/v1/billing/alerts/{id}/activate"}),archive:zc({method:"POST",fullPath:"/v1/billing/alerts/{id}/archive"}),deactivate:zc({method:"POST",fullPath:"/v1/billing/alerts/{id}/deactivate"})});var uwe=T.method,s3=T.extend({find:uwe({method:"GET",fullPath:"/v1/tax/associations/find"})});var Yp=T.method,u3=T.extend({retrieve:Yp({method:"GET",fullPath:"/v1/issuing/authorizations/{authorization}"}),update:Yp({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}"}),list:Yp({method:"GET",fullPath:"/v1/issuing/authorizations",methodType:"list"}),approve:Yp({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/approve"}),decline:Yp({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/decline"})});var As=T.method,c3=T.extend({create:As({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations"}),capture:As({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/capture"}),expire:As({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/expire"}),finalizeAmount:As({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/finalize_amount"}),increment:As({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/increment"}),respond:As({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/fraud_challenges/respond"}),reverse:As({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/reverse"})});var OR=T.method,l3=T.extend({create:OR({method:"POST",fullPath:"/v1/tax/calculations"}),retrieve:OR({method:"GET",fullPath:"/v1/tax/calculations/{calculation}"}),listLineItems:OR({method:"GET",fullPath:"/v1/tax/calculations/{calculation}/line_items",methodType:"list"})});var Ny=T.method,d3=T.extend({create:Ny({method:"POST",fullPath:"/v1/issuing/cardholders"}),retrieve:Ny({method:"GET",fullPath:"/v1/issuing/cardholders/{cardholder}"}),update:Ny({method:"POST",fullPath:"/v1/issuing/cardholders/{cardholder}"}),list:Ny({method:"GET",fullPath:"/v1/issuing/cardholders",methodType:"list"})});var jy=T.method,p3=T.extend({create:jy({method:"POST",fullPath:"/v1/issuing/cards"}),retrieve:jy({method:"GET",fullPath:"/v1/issuing/cards/{card}"}),update:jy({method:"POST",fullPath:"/v1/issuing/cards/{card}"}),list:jy({method:"GET",fullPath:"/v1/issuing/cards",methodType:"list"})});var em=T.method,m3=T.extend({deliverCard:em({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/deliver"}),failCard:em({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/fail"}),returnCard:em({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/return"}),shipCard:em({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/ship"}),submitCard:em({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/submit"})});var zy=T.method,f3=T.extend({create:zy({method:"POST",fullPath:"/v1/billing_portal/configurations"}),retrieve:zy({method:"GET",fullPath:"/v1/billing_portal/configurations/{configuration}"}),update:zy({method:"POST",fullPath:"/v1/billing_portal/configurations/{configuration}"}),list:zy({method:"GET",fullPath:"/v1/billing_portal/configurations",methodType:"list"})});var tm=T.method,h3=T.extend({create:tm({method:"POST",fullPath:"/v1/terminal/configurations"}),retrieve:tm({method:"GET",fullPath:"/v1/terminal/configurations/{configuration}"}),update:tm({method:"POST",fullPath:"/v1/terminal/configurations/{configuration}"}),list:tm({method:"GET",fullPath:"/v1/terminal/configurations",methodType:"list"}),del:tm({method:"DELETE",fullPath:"/v1/terminal/configurations/{configuration}"})});var cwe=T.method,g3=T.extend({create:cwe({method:"POST",fullPath:"/v1/test_helpers/confirmation_tokens"})});var lwe=T.method,y3=T.extend({create:lwe({method:"POST",fullPath:"/v1/terminal/connection_tokens"})});var dwe=T.method,v3=T.extend({retrieve:dwe({method:"GET",fullPath:"/v1/billing/credit_balance_summary"})});var _3=T.method,b3=T.extend({retrieve:_3({method:"GET",fullPath:"/v1/billing/credit_balance_transactions/{id}"}),list:_3({method:"GET",fullPath:"/v1/billing/credit_balance_transactions",methodType:"list"})});var Dc=T.method,S3=T.extend({create:Dc({method:"POST",fullPath:"/v1/billing/credit_grants"}),retrieve:Dc({method:"GET",fullPath:"/v1/billing/credit_grants/{id}"}),update:Dc({method:"POST",fullPath:"/v1/billing/credit_grants/{id}"}),list:Dc({method:"GET",fullPath:"/v1/billing/credit_grants",methodType:"list"}),expire:Dc({method:"POST",fullPath:"/v1/billing/credit_grants/{id}/expire"}),voidGrant:Dc({method:"POST",fullPath:"/v1/billing/credit_grants/{id}/void"})});var AR=T.method,w3=T.extend({create:AR({method:"POST",fullPath:"/v1/treasury/credit_reversals"}),retrieve:AR({method:"GET",fullPath:"/v1/treasury/credit_reversals/{credit_reversal}"}),list:AR({method:"GET",fullPath:"/v1/treasury/credit_reversals",methodType:"list"})});var pwe=T.method,x3=T.extend({fundCashBalance:pwe({method:"POST",fullPath:"/v1/test_helpers/customers/{customer}/fund_cash_balance"})});var CR=T.method,T3=T.extend({create:CR({method:"POST",fullPath:"/v1/treasury/debit_reversals"}),retrieve:CR({method:"GET",fullPath:"/v1/treasury/debit_reversals/{debit_reversal}"}),list:CR({method:"GET",fullPath:"/v1/treasury/debit_reversals",methodType:"list"})});var rm=T.method,k3=T.extend({create:rm({method:"POST",fullPath:"/v1/issuing/disputes"}),retrieve:rm({method:"GET",fullPath:"/v1/issuing/disputes/{dispute}"}),update:rm({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}"}),list:rm({method:"GET",fullPath:"/v1/issuing/disputes",methodType:"list"}),submit:rm({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}/submit"})});var E3=T.method,P3=T.extend({retrieve:E3({method:"GET",fullPath:"/v1/radar/early_fraud_warnings/{early_fraud_warning}"}),list:E3({method:"GET",fullPath:"/v1/radar/early_fraud_warnings",methodType:"list"})});var qa=T.method,I3=T.extend({create:qa({method:"POST",fullPath:"/v2/core/event_destinations"}),retrieve:qa({method:"GET",fullPath:"/v2/core/event_destinations/{id}"}),update:qa({method:"POST",fullPath:"/v2/core/event_destinations/{id}"}),list:qa({method:"GET",fullPath:"/v2/core/event_destinations",methodType:"list"}),del:qa({method:"DELETE",fullPath:"/v2/core/event_destinations/{id}"}),disable:qa({method:"POST",fullPath:"/v2/core/event_destinations/{id}/disable"}),enable:qa({method:"POST",fullPath:"/v2/core/event_destinations/{id}/enable"}),ping:qa({method:"POST",fullPath:"/v2/core/event_destinations/{id}/ping"})});var RR=T.method,O3=T.extend({retrieve(...e){return RR({method:"GET",fullPath:"/v2/core/events/{id}",transformResponseData:a(r=>this.addFetchRelatedObjectIfNeeded(r),"transformResponseData")}).apply(this,e)},list(...e){return RR({method:"GET",fullPath:"/v2/core/events",methodType:"list",transformResponseData:a(r=>Object.assign(Object.assign({},r),{data:r.data.map(this.addFetchRelatedObjectIfNeeded.bind(this))}),"transformResponseData")}).apply(this,e)},addFetchRelatedObjectIfNeeded(e){return!e.related_object||!e.related_object.url?e:Object.assign(Object.assign({},e),{fetchRelatedObject:a(()=>RR({method:"GET",fullPath:e.related_object.url}).apply(this,[{stripeContext:e.context}]),"fetchRelatedObject")})}});var Dy=T.method,A3=T.extend({create:Dy({method:"POST",fullPath:"/v1/entitlements/features"}),retrieve:Dy({method:"GET",fullPath:"/v1/entitlements/features/{id}"}),update:Dy({method:"POST",fullPath:"/v1/entitlements/features/{id}"}),list:Dy({method:"GET",fullPath:"/v1/entitlements/features",methodType:"list"})});var Cs=T.method,C3=T.extend({create:Cs({method:"POST",fullPath:"/v1/treasury/financial_accounts"}),retrieve:Cs({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),update:Cs({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),list:Cs({method:"GET",fullPath:"/v1/treasury/financial_accounts",methodType:"list"}),close:Cs({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}/close"}),retrieveFeatures:Cs({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"}),updateFeatures:Cs({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"})});var $R=T.method,R3=T.extend({fail:$R({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/fail"}),returnInboundTransfer:$R({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/return"}),succeed:$R({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/succeed"})});var My=T.method,$3=T.extend({create:My({method:"POST",fullPath:"/v1/treasury/inbound_transfers"}),retrieve:My({method:"GET",fullPath:"/v1/treasury/inbound_transfers/{id}"}),list:My({method:"GET",fullPath:"/v1/treasury/inbound_transfers",methodType:"list"}),cancel:My({method:"POST",fullPath:"/v1/treasury/inbound_transfers/{inbound_transfer}/cancel"})});var nm=T.method,N3=T.extend({create:nm({method:"POST",fullPath:"/v1/terminal/locations"}),retrieve:nm({method:"GET",fullPath:"/v1/terminal/locations/{location}"}),update:nm({method:"POST",fullPath:"/v1/terminal/locations/{location}"}),list:nm({method:"GET",fullPath:"/v1/terminal/locations",methodType:"list"}),del:nm({method:"DELETE",fullPath:"/v1/terminal/locations/{location}"})});var mwe=T.method,j3=T.extend({create:mwe({method:"POST",fullPath:"/v1/billing/meter_event_adjustments"})});var fwe=T.method,z3=T.extend({create:fwe({method:"POST",fullPath:"/v2/billing/meter_event_adjustments"})});var hwe=T.method,D3=T.extend({create:hwe({method:"POST",fullPath:"/v2/billing/meter_event_session"})});var gwe=T.method,M3=T.extend({create:gwe({method:"POST",fullPath:"/v2/billing/meter_event_stream",host:"meter-events.stripe.com"})});var ywe=T.method,q3=T.extend({create:ywe({method:"POST",fullPath:"/v1/billing/meter_events"})});var vwe=T.method,U3=T.extend({create:vwe({method:"POST",fullPath:"/v2/billing/meter_events"})});var Rs=T.method,L3=T.extend({create:Rs({method:"POST",fullPath:"/v1/billing/meters"}),retrieve:Rs({method:"GET",fullPath:"/v1/billing/meters/{id}"}),update:Rs({method:"POST",fullPath:"/v1/billing/meters/{id}"}),list:Rs({method:"GET",fullPath:"/v1/billing/meters",methodType:"list"}),deactivate:Rs({method:"POST",fullPath:"/v1/billing/meters/{id}/deactivate"}),listEventSummaries:Rs({method:"GET",fullPath:"/v1/billing/meters/{id}/event_summaries",methodType:"list"}),reactivate:Rs({method:"POST",fullPath:"/v1/billing/meters/{id}/reactivate"})});var _we=T.method,F3=T.extend({create:_we({method:"POST",fullPath:"/v1/terminal/onboarding_links"})});var om=T.method,J3=T.extend({create:om({method:"POST",fullPath:"/v1/climate/orders"}),retrieve:om({method:"GET",fullPath:"/v1/climate/orders/{order}"}),update:om({method:"POST",fullPath:"/v1/climate/orders/{order}"}),list:om({method:"GET",fullPath:"/v1/climate/orders",methodType:"list"}),cancel:om({method:"POST",fullPath:"/v1/climate/orders/{order}/cancel"})});var qy=T.method,B3=T.extend({update:qy({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}"}),fail:qy({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/fail"}),post:qy({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/post"}),returnOutboundPayment:qy({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/return"})});var Uy=T.method,H3=T.extend({create:Uy({method:"POST",fullPath:"/v1/treasury/outbound_payments"}),retrieve:Uy({method:"GET",fullPath:"/v1/treasury/outbound_payments/{id}"}),list:Uy({method:"GET",fullPath:"/v1/treasury/outbound_payments",methodType:"list"}),cancel:Uy({method:"POST",fullPath:"/v1/treasury/outbound_payments/{id}/cancel"})});var Ly=T.method,V3=T.extend({update:Ly({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}"}),fail:Ly({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/fail"}),post:Ly({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/post"}),returnOutboundTransfer:Ly({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/return"})});var Fy=T.method,Z3=T.extend({create:Fy({method:"POST",fullPath:"/v1/treasury/outbound_transfers"}),retrieve:Fy({method:"GET",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}"}),list:Fy({method:"GET",fullPath:"/v1/treasury/outbound_transfers",methodType:"list"}),cancel:Fy({method:"POST",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}/cancel"})});var Jy=T.method,K3=T.extend({create:Jy({method:"POST",fullPath:"/v1/issuing/personalization_designs"}),retrieve:Jy({method:"GET",fullPath:"/v1/issuing/personalization_designs/{personalization_design}"}),update:Jy({method:"POST",fullPath:"/v1/issuing/personalization_designs/{personalization_design}"}),list:Jy({method:"GET",fullPath:"/v1/issuing/personalization_designs",methodType:"list"})});var NR=T.method,G3=T.extend({activate:NR({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/activate"}),deactivate:NR({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/deactivate"}),reject:NR({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/reject"})});var W3=T.method,Q3=T.extend({retrieve:W3({method:"GET",fullPath:"/v1/issuing/physical_bundles/{physical_bundle}"}),list:W3({method:"GET",fullPath:"/v1/issuing/physical_bundles",methodType:"list"})});var X3=T.method,Y3=T.extend({retrieve:X3({method:"GET",fullPath:"/v1/climate/products/{product}"}),list:X3({method:"GET",fullPath:"/v1/climate/products",methodType:"list"})});var Fn=T.method,e9=T.extend({create:Fn({method:"POST",fullPath:"/v1/terminal/readers"}),retrieve:Fn({method:"GET",fullPath:"/v1/terminal/readers/{reader}"}),update:Fn({method:"POST",fullPath:"/v1/terminal/readers/{reader}"}),list:Fn({method:"GET",fullPath:"/v1/terminal/readers",methodType:"list"}),del:Fn({method:"DELETE",fullPath:"/v1/terminal/readers/{reader}"}),cancelAction:Fn({method:"POST",fullPath:"/v1/terminal/readers/{reader}/cancel_action"}),collectInputs:Fn({method:"POST",fullPath:"/v1/terminal/readers/{reader}/collect_inputs"}),collectPaymentMethod:Fn({method:"POST",fullPath:"/v1/terminal/readers/{reader}/collect_payment_method"}),confirmPaymentIntent:Fn({method:"POST",fullPath:"/v1/terminal/readers/{reader}/confirm_payment_intent"}),processPaymentIntent:Fn({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_payment_intent"}),processSetupIntent:Fn({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_setup_intent"}),refundPayment:Fn({method:"POST",fullPath:"/v1/terminal/readers/{reader}/refund_payment"}),setReaderDisplay:Fn({method:"POST",fullPath:"/v1/terminal/readers/{reader}/set_reader_display"})});var jR=T.method,t9=T.extend({presentPaymentMethod:jR({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/present_payment_method"}),succeedInputCollection:jR({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/succeed_input_collection"}),timeoutInputCollection:jR({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/timeout_input_collection"})});var bwe=T.method,r9=T.extend({create:bwe({method:"POST",fullPath:"/v1/test_helpers/treasury/received_credits"})});var n9=T.method,o9=T.extend({retrieve:n9({method:"GET",fullPath:"/v1/treasury/received_credits/{id}"}),list:n9({method:"GET",fullPath:"/v1/treasury/received_credits",methodType:"list"})});var Swe=T.method,i9=T.extend({create:Swe({method:"POST",fullPath:"/v1/test_helpers/treasury/received_debits"})});var a9=T.method,s9=T.extend({retrieve:a9({method:"GET",fullPath:"/v1/treasury/received_debits/{id}"}),list:a9({method:"GET",fullPath:"/v1/treasury/received_debits",methodType:"list"})});var wwe=T.method,u9=T.extend({expire:wwe({method:"POST",fullPath:"/v1/test_helpers/refunds/{refund}/expire"})});var By=T.method,c9=T.extend({create:By({method:"POST",fullPath:"/v1/tax/registrations"}),retrieve:By({method:"GET",fullPath:"/v1/tax/registrations/{id}"}),update:By({method:"POST",fullPath:"/v1/tax/registrations/{id}"}),list:By({method:"GET",fullPath:"/v1/tax/registrations",methodType:"list"})});var zR=T.method,l9=T.extend({create:zR({method:"POST",fullPath:"/v1/reporting/report_runs"}),retrieve:zR({method:"GET",fullPath:"/v1/reporting/report_runs/{report_run}"}),list:zR({method:"GET",fullPath:"/v1/reporting/report_runs",methodType:"list"})});var d9=T.method,p9=T.extend({retrieve:d9({method:"GET",fullPath:"/v1/reporting/report_types/{report_type}"}),list:d9({method:"GET",fullPath:"/v1/reporting/report_types",methodType:"list"})});var DR=T.method,m9=T.extend({create:DR({method:"POST",fullPath:"/v1/forwarding/requests"}),retrieve:DR({method:"GET",fullPath:"/v1/forwarding/requests/{id}"}),list:DR({method:"GET",fullPath:"/v1/forwarding/requests",methodType:"list"})});var f9=T.method,h9=T.extend({retrieve:f9({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs/{scheduled_query_run}"}),list:f9({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs",methodType:"list"})});var Hy=T.method,g9=T.extend({create:Hy({method:"POST",fullPath:"/v1/apps/secrets"}),list:Hy({method:"GET",fullPath:"/v1/apps/secrets",methodType:"list"}),deleteWhere:Hy({method:"POST",fullPath:"/v1/apps/secrets/delete"}),find:Hy({method:"GET",fullPath:"/v1/apps/secrets/find"})});var xwe=T.method,y9=T.extend({create:xwe({method:"POST",fullPath:"/v1/billing_portal/sessions"})});var Mc=T.method,v9=T.extend({create:Mc({method:"POST",fullPath:"/v1/checkout/sessions"}),retrieve:Mc({method:"GET",fullPath:"/v1/checkout/sessions/{session}"}),update:Mc({method:"POST",fullPath:"/v1/checkout/sessions/{session}"}),list:Mc({method:"GET",fullPath:"/v1/checkout/sessions",methodType:"list"}),expire:Mc({method:"POST",fullPath:"/v1/checkout/sessions/{session}/expire"}),listLineItems:Mc({method:"GET",fullPath:"/v1/checkout/sessions/{session}/line_items",methodType:"list"})});var _9=T.method,b9=T.extend({create:_9({method:"POST",fullPath:"/v1/financial_connections/sessions"}),retrieve:_9({method:"GET",fullPath:"/v1/financial_connections/sessions/{session}"})});var S9=T.method,w9=T.extend({retrieve:S9({method:"GET",fullPath:"/v1/tax/settings"}),update:S9({method:"POST",fullPath:"/v1/tax/settings"})});var x9=T.method,T9=T.extend({retrieve:x9({method:"GET",fullPath:"/v1/climate/suppliers/{supplier}"}),list:x9({method:"GET",fullPath:"/v1/climate/suppliers",methodType:"list"})});var im=T.method,k9=T.extend({create:im({method:"POST",fullPath:"/v1/test_helpers/test_clocks"}),retrieve:im({method:"GET",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),list:im({method:"GET",fullPath:"/v1/test_helpers/test_clocks",methodType:"list"}),del:im({method:"DELETE",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),advance:im({method:"POST",fullPath:"/v1/test_helpers/test_clocks/{test_clock}/advance"})});var MR=T.method,E9=T.extend({retrieve:MR({method:"GET",fullPath:"/v1/issuing/tokens/{token}"}),update:MR({method:"POST",fullPath:"/v1/issuing/tokens/{token}"}),list:MR({method:"GET",fullPath:"/v1/issuing/tokens",methodType:"list"})});var P9=T.method,I9=T.extend({retrieve:P9({method:"GET",fullPath:"/v1/treasury/transaction_entries/{id}"}),list:P9({method:"GET",fullPath:"/v1/treasury/transaction_entries",methodType:"list"})});var O9=T.method,A9=T.extend({retrieve:O9({method:"GET",fullPath:"/v1/financial_connections/transactions/{transaction}"}),list:O9({method:"GET",fullPath:"/v1/financial_connections/transactions",methodType:"list"})});var qR=T.method,C9=T.extend({retrieve:qR({method:"GET",fullPath:"/v1/issuing/transactions/{transaction}"}),update:qR({method:"POST",fullPath:"/v1/issuing/transactions/{transaction}"}),list:qR({method:"GET",fullPath:"/v1/issuing/transactions",methodType:"list"})});var Vy=T.method,R9=T.extend({retrieve:Vy({method:"GET",fullPath:"/v1/tax/transactions/{transaction}"}),createFromCalculation:Vy({method:"POST",fullPath:"/v1/tax/transactions/create_from_calculation"}),createReversal:Vy({method:"POST",fullPath:"/v1/tax/transactions/create_reversal"}),listLineItems:Vy({method:"GET",fullPath:"/v1/tax/transactions/{transaction}/line_items",methodType:"list"})});var UR=T.method,$9=T.extend({createForceCapture:UR({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/create_force_capture"}),createUnlinkedRefund:UR({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/create_unlinked_refund"}),refund:UR({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/{transaction}/refund"})});var N9=T.method,j9=T.extend({retrieve:N9({method:"GET",fullPath:"/v1/treasury/transactions/{id}"}),list:N9({method:"GET",fullPath:"/v1/treasury/transactions",methodType:"list"})});var Zy=T.method,z9=T.extend({create:Zy({method:"POST",fullPath:"/v1/radar/value_list_items"}),retrieve:Zy({method:"GET",fullPath:"/v1/radar/value_list_items/{item}"}),list:Zy({method:"GET",fullPath:"/v1/radar/value_list_items",methodType:"list"}),del:Zy({method:"DELETE",fullPath:"/v1/radar/value_list_items/{item}"})});var am=T.method,D9=T.extend({create:am({method:"POST",fullPath:"/v1/radar/value_lists"}),retrieve:am({method:"GET",fullPath:"/v1/radar/value_lists/{value_list}"}),update:am({method:"POST",fullPath:"/v1/radar/value_lists/{value_list}"}),list:am({method:"GET",fullPath:"/v1/radar/value_lists",methodType:"list"}),del:am({method:"DELETE",fullPath:"/v1/radar/value_lists/{value_list}"})});var M9=T.method,q9=T.extend({retrieve:M9({method:"GET",fullPath:"/v1/identity/verification_reports/{report}"}),list:M9({method:"GET",fullPath:"/v1/identity/verification_reports",methodType:"list"})});var qc=T.method,U9=T.extend({create:qc({method:"POST",fullPath:"/v1/identity/verification_sessions"}),retrieve:qc({method:"GET",fullPath:"/v1/identity/verification_sessions/{session}"}),update:qc({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}"}),list:qc({method:"GET",fullPath:"/v1/identity/verification_sessions",methodType:"list"}),cancel:qc({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/cancel"}),redact:qc({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/redact"})});var lr=T.method,LR=T.extend({create:lr({method:"POST",fullPath:"/v1/accounts"}),retrieve(e,...t){return typeof e=="string"?lr({method:"GET",fullPath:"/v1/accounts/{id}"}).apply(this,[e,...t]):(e==null&&[].shift.apply([e,...t]),lr({method:"GET",fullPath:"/v1/account"}).apply(this,[e,...t]))},update:lr({method:"POST",fullPath:"/v1/accounts/{account}"}),list:lr({method:"GET",fullPath:"/v1/accounts",methodType:"list"}),del:lr({method:"DELETE",fullPath:"/v1/accounts/{account}"}),createExternalAccount:lr({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts"}),createLoginLink:lr({method:"POST",fullPath:"/v1/accounts/{account}/login_links"}),createPerson:lr({method:"POST",fullPath:"/v1/accounts/{account}/persons"}),deleteExternalAccount:lr({method:"DELETE",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),deletePerson:lr({method:"DELETE",fullPath:"/v1/accounts/{account}/persons/{person}"}),listCapabilities:lr({method:"GET",fullPath:"/v1/accounts/{account}/capabilities",methodType:"list"}),listExternalAccounts:lr({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts",methodType:"list"}),listPersons:lr({method:"GET",fullPath:"/v1/accounts/{account}/persons",methodType:"list"}),reject:lr({method:"POST",fullPath:"/v1/accounts/{account}/reject"}),retrieveCurrent:lr({method:"GET",fullPath:"/v1/account"}),retrieveCapability:lr({method:"GET",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),retrieveExternalAccount:lr({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),retrievePerson:lr({method:"GET",fullPath:"/v1/accounts/{account}/persons/{person}"}),updateCapability:lr({method:"POST",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),updateExternalAccount:lr({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),updatePerson:lr({method:"POST",fullPath:"/v1/accounts/{account}/persons/{person}"})});var Twe=T.method,L9=T.extend({create:Twe({method:"POST",fullPath:"/v1/account_links"})});var kwe=T.method,F9=T.extend({create:kwe({method:"POST",fullPath:"/v1/account_sessions"})});var Ky=T.method,J9=T.extend({create:Ky({method:"POST",fullPath:"/v1/apple_pay/domains"}),retrieve:Ky({method:"GET",fullPath:"/v1/apple_pay/domains/{domain}"}),list:Ky({method:"GET",fullPath:"/v1/apple_pay/domains",methodType:"list"}),del:Ky({method:"DELETE",fullPath:"/v1/apple_pay/domains/{domain}"})});var Uc=T.method,B9=T.extend({retrieve:Uc({method:"GET",fullPath:"/v1/application_fees/{id}"}),list:Uc({method:"GET",fullPath:"/v1/application_fees",methodType:"list"}),createRefund:Uc({method:"POST",fullPath:"/v1/application_fees/{id}/refunds"}),listRefunds:Uc({method:"GET",fullPath:"/v1/application_fees/{id}/refunds",methodType:"list"}),retrieveRefund:Uc({method:"GET",fullPath:"/v1/application_fees/{fee}/refunds/{id}"}),updateRefund:Uc({method:"POST",fullPath:"/v1/application_fees/{fee}/refunds/{id}"})});var Ewe=T.method,H9=T.extend({retrieve:Ewe({method:"GET",fullPath:"/v1/balance"})});var V9=T.method,Z9=T.extend({retrieve:V9({method:"GET",fullPath:"/v1/balance_settings"}),update:V9({method:"POST",fullPath:"/v1/balance_settings"})});var K9=T.method,G9=T.extend({retrieve:K9({method:"GET",fullPath:"/v1/balance_transactions/{id}"}),list:K9({method:"GET",fullPath:"/v1/balance_transactions",methodType:"list"})});var Lc=T.method,W9=T.extend({create:Lc({method:"POST",fullPath:"/v1/charges"}),retrieve:Lc({method:"GET",fullPath:"/v1/charges/{charge}"}),update:Lc({method:"POST",fullPath:"/v1/charges/{charge}"}),list:Lc({method:"GET",fullPath:"/v1/charges",methodType:"list"}),capture:Lc({method:"POST",fullPath:"/v1/charges/{charge}/capture"}),search:Lc({method:"GET",fullPath:"/v1/charges/search",methodType:"search"})});var Pwe=T.method,Q9=T.extend({retrieve:Pwe({method:"GET",fullPath:"/v1/confirmation_tokens/{confirmation_token}"})});var X9=T.method,Y9=T.extend({retrieve:X9({method:"GET",fullPath:"/v1/country_specs/{country}"}),list:X9({method:"GET",fullPath:"/v1/country_specs",methodType:"list"})});var sm=T.method,eV=T.extend({create:sm({method:"POST",fullPath:"/v1/coupons"}),retrieve:sm({method:"GET",fullPath:"/v1/coupons/{coupon}"}),update:sm({method:"POST",fullPath:"/v1/coupons/{coupon}"}),list:sm({method:"GET",fullPath:"/v1/coupons",methodType:"list"}),del:sm({method:"DELETE",fullPath:"/v1/coupons/{coupon}"})});var Ua=T.method,tV=T.extend({create:Ua({method:"POST",fullPath:"/v1/credit_notes"}),retrieve:Ua({method:"GET",fullPath:"/v1/credit_notes/{id}"}),update:Ua({method:"POST",fullPath:"/v1/credit_notes/{id}"}),list:Ua({method:"GET",fullPath:"/v1/credit_notes",methodType:"list"}),listLineItems:Ua({method:"GET",fullPath:"/v1/credit_notes/{credit_note}/lines",methodType:"list"}),listPreviewLineItems:Ua({method:"GET",fullPath:"/v1/credit_notes/preview/lines",methodType:"list"}),preview:Ua({method:"GET",fullPath:"/v1/credit_notes/preview"}),voidCreditNote:Ua({method:"POST",fullPath:"/v1/credit_notes/{id}/void"})});var Iwe=T.method,rV=T.extend({create:Iwe({method:"POST",fullPath:"/v1/customer_sessions"})});var zt=T.method,nV=T.extend({create:zt({method:"POST",fullPath:"/v1/customers"}),retrieve:zt({method:"GET",fullPath:"/v1/customers/{customer}"}),update:zt({method:"POST",fullPath:"/v1/customers/{customer}"}),list:zt({method:"GET",fullPath:"/v1/customers",methodType:"list"}),del:zt({method:"DELETE",fullPath:"/v1/customers/{customer}"}),createBalanceTransaction:zt({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions"}),createFundingInstructions:zt({method:"POST",fullPath:"/v1/customers/{customer}/funding_instructions"}),createSource:zt({method:"POST",fullPath:"/v1/customers/{customer}/sources"}),createTaxId:zt({method:"POST",fullPath:"/v1/customers/{customer}/tax_ids"}),deleteDiscount:zt({method:"DELETE",fullPath:"/v1/customers/{customer}/discount"}),deleteSource:zt({method:"DELETE",fullPath:"/v1/customers/{customer}/sources/{id}"}),deleteTaxId:zt({method:"DELETE",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),listBalanceTransactions:zt({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions",methodType:"list"}),listCashBalanceTransactions:zt({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions",methodType:"list"}),listPaymentMethods:zt({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods",methodType:"list"}),listSources:zt({method:"GET",fullPath:"/v1/customers/{customer}/sources",methodType:"list"}),listTaxIds:zt({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids",methodType:"list"}),retrieveBalanceTransaction:zt({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),retrieveCashBalance:zt({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance"}),retrieveCashBalanceTransaction:zt({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions/{transaction}"}),retrievePaymentMethod:zt({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods/{payment_method}"}),retrieveSource:zt({method:"GET",fullPath:"/v1/customers/{customer}/sources/{id}"}),retrieveTaxId:zt({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),search:zt({method:"GET",fullPath:"/v1/customers/search",methodType:"search"}),updateBalanceTransaction:zt({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),updateCashBalance:zt({method:"POST",fullPath:"/v1/customers/{customer}/cash_balance"}),updateSource:zt({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}"}),verifySource:zt({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}/verify"})});var Gy=T.method,oV=T.extend({retrieve:Gy({method:"GET",fullPath:"/v1/disputes/{dispute}"}),update:Gy({method:"POST",fullPath:"/v1/disputes/{dispute}"}),list:Gy({method:"GET",fullPath:"/v1/disputes",methodType:"list"}),close:Gy({method:"POST",fullPath:"/v1/disputes/{dispute}/close"})});var iV=T.method,aV=T.extend({create:iV({method:"POST",fullPath:"/v1/ephemeral_keys",validator:a((e,t)=>{if(!t.headers||!t.headers["Stripe-Version"])throw new Error("Passing apiVersion in a separate options hash is required to create an ephemeral key. See https://stripe.com/docs/api/versioning?lang=node")},"validator")}),del:iV({method:"DELETE",fullPath:"/v1/ephemeral_keys/{key}"})});var sV=T.method,uV=T.extend({retrieve:sV({method:"GET",fullPath:"/v1/events/{id}"}),list:sV({method:"GET",fullPath:"/v1/events",methodType:"list"})});var cV=T.method,lV=T.extend({retrieve:cV({method:"GET",fullPath:"/v1/exchange_rates/{rate_id}"}),list:cV({method:"GET",fullPath:"/v1/exchange_rates",methodType:"list"})});var Wy=T.method,dV=T.extend({create:Wy({method:"POST",fullPath:"/v1/file_links"}),retrieve:Wy({method:"GET",fullPath:"/v1/file_links/{link}"}),update:Wy({method:"POST",fullPath:"/v1/file_links/{link}"}),list:Wy({method:"GET",fullPath:"/v1/file_links",methodType:"list"})});var Owe=a((e,t,r)=>{let n=(Math.round(Math.random()*1e16)+Math.round(Math.random()*1e16)).toString();r["Content-Type"]=`multipart/form-data; boundary=${n}`;let o=new TextEncoder,i=new Uint8Array(0),s=o.encode(`\r
`);function u(p){let f=i,m=p instanceof Uint8Array?p:new Uint8Array(o.encode(p));i=new Uint8Array(f.length+m.length+2),i.set(f),i.set(m,f.length),i.set(s,i.length-2)}a(u,"push");function l(p){return`"${p.replace(/"|"/g,"%22").replace(/\r\n|\r|\n/g," ")}"`}a(l,"q");let d=VH(t);for(let p in d){if(!Object.prototype.hasOwnProperty.call(d,p))continue;let f=d[p];if(u(`--${n}`),Object.prototype.hasOwnProperty.call(f,"data")){let m=f;u(`Content-Disposition: form-data; name=${l(p)}; filename=${l(m.name||"blob")}`),u(`Content-Type: ${m.type||"application/octet-stream"}`),u(""),u(m.data)}else u(`Content-Disposition: form-data; name=${l(p)}`),u(""),u(f)}return u(`--${n}--`),i},"multipartDataGenerator");function pV(e,t,r,n){if(t=t||{},e!=="POST")return n(null,Ma(t));this._stripe._platformFunctions.tryBufferData(t).then(o=>{let i=Owe(e,o,r);return n(null,i)}).catch(o=>n(o,null))}a(pV,"multipartRequestDataProcessor");var FR=T.method,mV=T.extend({create:FR({method:"POST",fullPath:"/v1/files",headers:{"Content-Type":"multipart/form-data"},host:"files.stripe.com"}),retrieve:FR({method:"GET",fullPath:"/v1/files/{file}"}),list:FR({method:"GET",fullPath:"/v1/files",methodType:"list"}),requestDataProcessor:pV});var um=T.method,fV=T.extend({create:um({method:"POST",fullPath:"/v1/invoiceitems"}),retrieve:um({method:"GET",fullPath:"/v1/invoiceitems/{invoiceitem}"}),update:um({method:"POST",fullPath:"/v1/invoiceitems/{invoiceitem}"}),list:um({method:"GET",fullPath:"/v1/invoiceitems",methodType:"list"}),del:um({method:"DELETE",fullPath:"/v1/invoiceitems/{invoiceitem}"})});var hV=T.method,gV=T.extend({retrieve:hV({method:"GET",fullPath:"/v1/invoice_payments/{invoice_payment}"}),list:hV({method:"GET",fullPath:"/v1/invoice_payments",methodType:"list"})});var Qy=T.method,yV=T.extend({retrieve:Qy({method:"GET",fullPath:"/v1/invoice_rendering_templates/{template}"}),list:Qy({method:"GET",fullPath:"/v1/invoice_rendering_templates",methodType:"list"}),archive:Qy({method:"POST",fullPath:"/v1/invoice_rendering_templates/{template}/archive"}),unarchive:Qy({method:"POST",fullPath:"/v1/invoice_rendering_templates/{template}/unarchive"})});var jr=T.method,vV=T.extend({create:jr({method:"POST",fullPath:"/v1/invoices"}),retrieve:jr({method:"GET",fullPath:"/v1/invoices/{invoice}"}),update:jr({method:"POST",fullPath:"/v1/invoices/{invoice}"}),list:jr({method:"GET",fullPath:"/v1/invoices",methodType:"list"}),del:jr({method:"DELETE",fullPath:"/v1/invoices/{invoice}"}),addLines:jr({method:"POST",fullPath:"/v1/invoices/{invoice}/add_lines"}),attachPayment:jr({method:"POST",fullPath:"/v1/invoices/{invoice}/attach_payment"}),createPreview:jr({method:"POST",fullPath:"/v1/invoices/create_preview"}),finalizeInvoice:jr({method:"POST",fullPath:"/v1/invoices/{invoice}/finalize"}),listLineItems:jr({method:"GET",fullPath:"/v1/invoices/{invoice}/lines",methodType:"list"}),markUncollectible:jr({method:"POST",fullPath:"/v1/invoices/{invoice}/mark_uncollectible"}),pay:jr({method:"POST",fullPath:"/v1/invoices/{invoice}/pay"}),removeLines:jr({method:"POST",fullPath:"/v1/invoices/{invoice}/remove_lines"}),search:jr({method:"GET",fullPath:"/v1/invoices/search",methodType:"search"}),sendInvoice:jr({method:"POST",fullPath:"/v1/invoices/{invoice}/send"}),updateLines:jr({method:"POST",fullPath:"/v1/invoices/{invoice}/update_lines"}),updateLineItem:jr({method:"POST",fullPath:"/v1/invoices/{invoice}/lines/{line_item_id}"}),voidInvoice:jr({method:"POST",fullPath:"/v1/invoices/{invoice}/void"})});var Awe=T.method,_V=T.extend({retrieve:Awe({method:"GET",fullPath:"/v1/mandates/{mandate}"})});var bV=T.method,JR="connect.stripe.com",SV=T.extend({basePath:"/",authorizeUrl(e,t){e=e||{},t=t||{};let r="oauth/authorize";return t.express&&(r=`express/${r}`),e.response_type||(e.response_type="code"),e.client_id||(e.client_id=this._stripe.getClientId()),e.scope||(e.scope="read_write"),`https://${JR}/${r}?${Ma(e)}`},token:bV({method:"POST",path:"oauth/token",host:JR}),deauthorize(e,...t){return e.client_id||(e.client_id=this._stripe.getClientId()),bV({method:"POST",path:"oauth/deauthorize",host:JR}).apply(this,[e,...t])}});var wV=T.method,xV=T.extend({retrieve:wV({method:"GET",fullPath:"/v1/payment_attempt_records/{id}"}),list:wV({method:"GET",fullPath:"/v1/payment_attempt_records",methodType:"list"})});var ro=T.method,TV=T.extend({create:ro({method:"POST",fullPath:"/v1/payment_intents"}),retrieve:ro({method:"GET",fullPath:"/v1/payment_intents/{intent}"}),update:ro({method:"POST",fullPath:"/v1/payment_intents/{intent}"}),list:ro({method:"GET",fullPath:"/v1/payment_intents",methodType:"list"}),applyCustomerBalance:ro({method:"POST",fullPath:"/v1/payment_intents/{intent}/apply_customer_balance"}),cancel:ro({method:"POST",fullPath:"/v1/payment_intents/{intent}/cancel"}),capture:ro({method:"POST",fullPath:"/v1/payment_intents/{intent}/capture"}),confirm:ro({method:"POST",fullPath:"/v1/payment_intents/{intent}/confirm"}),incrementAuthorization:ro({method:"POST",fullPath:"/v1/payment_intents/{intent}/increment_authorization"}),listAmountDetailsLineItems:ro({method:"GET",fullPath:"/v1/payment_intents/{intent}/amount_details_line_items",methodType:"list"}),search:ro({method:"GET",fullPath:"/v1/payment_intents/search",methodType:"search"}),verifyMicrodeposits:ro({method:"POST",fullPath:"/v1/payment_intents/{intent}/verify_microdeposits"})});var cm=T.method,kV=T.extend({create:cm({method:"POST",fullPath:"/v1/payment_links"}),retrieve:cm({method:"GET",fullPath:"/v1/payment_links/{payment_link}"}),update:cm({method:"POST",fullPath:"/v1/payment_links/{payment_link}"}),list:cm({method:"GET",fullPath:"/v1/payment_links",methodType:"list"}),listLineItems:cm({method:"GET",fullPath:"/v1/payment_links/{payment_link}/line_items",methodType:"list"})});var Xy=T.method,EV=T.extend({create:Xy({method:"POST",fullPath:"/v1/payment_method_configurations"}),retrieve:Xy({method:"GET",fullPath:"/v1/payment_method_configurations/{configuration}"}),update:Xy({method:"POST",fullPath:"/v1/payment_method_configurations/{configuration}"}),list:Xy({method:"GET",fullPath:"/v1/payment_method_configurations",methodType:"list"})});var lm=T.method,PV=T.extend({create:lm({method:"POST",fullPath:"/v1/payment_method_domains"}),retrieve:lm({method:"GET",fullPath:"/v1/payment_method_domains/{payment_method_domain}"}),update:lm({method:"POST",fullPath:"/v1/payment_method_domains/{payment_method_domain}"}),list:lm({method:"GET",fullPath:"/v1/payment_method_domains",methodType:"list"}),validate:lm({method:"POST",fullPath:"/v1/payment_method_domains/{payment_method_domain}/validate"})});var Fc=T.method,IV=T.extend({create:Fc({method:"POST",fullPath:"/v1/payment_methods"}),retrieve:Fc({method:"GET",fullPath:"/v1/payment_methods/{payment_method}"}),update:Fc({method:"POST",fullPath:"/v1/payment_methods/{payment_method}"}),list:Fc({method:"GET",fullPath:"/v1/payment_methods",methodType:"list"}),attach:Fc({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/attach"}),detach:Fc({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/detach"})});var La=T.method,OV=T.extend({retrieve:La({method:"GET",fullPath:"/v1/payment_records/{id}"}),reportPayment:La({method:"POST",fullPath:"/v1/payment_records/report_payment"}),reportPaymentAttempt:La({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt"}),reportPaymentAttemptCanceled:La({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt_canceled"}),reportPaymentAttemptFailed:La({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt_failed"}),reportPaymentAttemptGuaranteed:La({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt_guaranteed"}),reportPaymentAttemptInformational:La({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt_informational"}),reportRefund:La({method:"POST",fullPath:"/v1/payment_records/{id}/report_refund"})});var Jc=T.method,AV=T.extend({create:Jc({method:"POST",fullPath:"/v1/payouts"}),retrieve:Jc({method:"GET",fullPath:"/v1/payouts/{payout}"}),update:Jc({method:"POST",fullPath:"/v1/payouts/{payout}"}),list:Jc({method:"GET",fullPath:"/v1/payouts",methodType:"list"}),cancel:Jc({method:"POST",fullPath:"/v1/payouts/{payout}/cancel"}),reverse:Jc({method:"POST",fullPath:"/v1/payouts/{payout}/reverse"})});var dm=T.method,CV=T.extend({create:dm({method:"POST",fullPath:"/v1/plans"}),retrieve:dm({method:"GET",fullPath:"/v1/plans/{plan}"}),update:dm({method:"POST",fullPath:"/v1/plans/{plan}"}),list:dm({method:"GET",fullPath:"/v1/plans",methodType:"list"}),del:dm({method:"DELETE",fullPath:"/v1/plans/{plan}"})});var pm=T.method,RV=T.extend({create:pm({method:"POST",fullPath:"/v1/prices"}),retrieve:pm({method:"GET",fullPath:"/v1/prices/{price}"}),update:pm({method:"POST",fullPath:"/v1/prices/{price}"}),list:pm({method:"GET",fullPath:"/v1/prices",methodType:"list"}),search:pm({method:"GET",fullPath:"/v1/prices/search",methodType:"search"})});var ii=T.method,$V=T.extend({create:ii({method:"POST",fullPath:"/v1/products"}),retrieve:ii({method:"GET",fullPath:"/v1/products/{id}"}),update:ii({method:"POST",fullPath:"/v1/products/{id}"}),list:ii({method:"GET",fullPath:"/v1/products",methodType:"list"}),del:ii({method:"DELETE",fullPath:"/v1/products/{id}"}),createFeature:ii({method:"POST",fullPath:"/v1/products/{product}/features"}),deleteFeature:ii({method:"DELETE",fullPath:"/v1/products/{product}/features/{id}"}),listFeatures:ii({method:"GET",fullPath:"/v1/products/{product}/features",methodType:"list"}),retrieveFeature:ii({method:"GET",fullPath:"/v1/products/{product}/features/{id}"}),search:ii({method:"GET",fullPath:"/v1/products/search",methodType:"search"})});var Yy=T.method,NV=T.extend({create:Yy({method:"POST",fullPath:"/v1/promotion_codes"}),retrieve:Yy({method:"GET",fullPath:"/v1/promotion_codes/{promotion_code}"}),update:Yy({method:"POST",fullPath:"/v1/promotion_codes/{promotion_code}"}),list:Yy({method:"GET",fullPath:"/v1/promotion_codes",methodType:"list"})});var ai=T.method,jV=T.extend({create:ai({method:"POST",fullPath:"/v1/quotes"}),retrieve:ai({method:"GET",fullPath:"/v1/quotes/{quote}"}),update:ai({method:"POST",fullPath:"/v1/quotes/{quote}"}),list:ai({method:"GET",fullPath:"/v1/quotes",methodType:"list"}),accept:ai({method:"POST",fullPath:"/v1/quotes/{quote}/accept"}),cancel:ai({method:"POST",fullPath:"/v1/quotes/{quote}/cancel"}),finalizeQuote:ai({method:"POST",fullPath:"/v1/quotes/{quote}/finalize"}),listComputedUpfrontLineItems:ai({method:"GET",fullPath:"/v1/quotes/{quote}/computed_upfront_line_items",methodType:"list"}),listLineItems:ai({method:"GET",fullPath:"/v1/quotes/{quote}/line_items",methodType:"list"}),pdf:ai({method:"GET",fullPath:"/v1/quotes/{quote}/pdf",host:"files.stripe.com",streaming:!0})});var mm=T.method,zV=T.extend({create:mm({method:"POST",fullPath:"/v1/refunds"}),retrieve:mm({method:"GET",fullPath:"/v1/refunds/{refund}"}),update:mm({method:"POST",fullPath:"/v1/refunds/{refund}"}),list:mm({method:"GET",fullPath:"/v1/refunds",methodType:"list"}),cancel:mm({method:"POST",fullPath:"/v1/refunds/{refund}/cancel"})});var BR=T.method,DV=T.extend({retrieve:BR({method:"GET",fullPath:"/v1/reviews/{review}"}),list:BR({method:"GET",fullPath:"/v1/reviews",methodType:"list"}),approve:BR({method:"POST",fullPath:"/v1/reviews/{review}/approve"})});var Cwe=T.method,MV=T.extend({list:Cwe({method:"GET",fullPath:"/v1/setup_attempts",methodType:"list"})});var $s=T.method,qV=T.extend({create:$s({method:"POST",fullPath:"/v1/setup_intents"}),retrieve:$s({method:"GET",fullPath:"/v1/setup_intents/{intent}"}),update:$s({method:"POST",fullPath:"/v1/setup_intents/{intent}"}),list:$s({method:"GET",fullPath:"/v1/setup_intents",methodType:"list"}),cancel:$s({method:"POST",fullPath:"/v1/setup_intents/{intent}/cancel"}),confirm:$s({method:"POST",fullPath:"/v1/setup_intents/{intent}/confirm"}),verifyMicrodeposits:$s({method:"POST",fullPath:"/v1/setup_intents/{intent}/verify_microdeposits"})});var ev=T.method,UV=T.extend({create:ev({method:"POST",fullPath:"/v1/shipping_rates"}),retrieve:ev({method:"GET",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),update:ev({method:"POST",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),list:ev({method:"GET",fullPath:"/v1/shipping_rates",methodType:"list"})});var fm=T.method,LV=T.extend({create:fm({method:"POST",fullPath:"/v1/sources"}),retrieve:fm({method:"GET",fullPath:"/v1/sources/{source}"}),update:fm({method:"POST",fullPath:"/v1/sources/{source}"}),listSourceTransactions:fm({method:"GET",fullPath:"/v1/sources/{source}/source_transactions",methodType:"list"}),verify:fm({method:"POST",fullPath:"/v1/sources/{source}/verify"})});var hm=T.method,FV=T.extend({create:hm({method:"POST",fullPath:"/v1/subscription_items"}),retrieve:hm({method:"GET",fullPath:"/v1/subscription_items/{item}"}),update:hm({method:"POST",fullPath:"/v1/subscription_items/{item}"}),list:hm({method:"GET",fullPath:"/v1/subscription_items",methodType:"list"}),del:hm({method:"DELETE",fullPath:"/v1/subscription_items/{item}"})});var Bc=T.method,JV=T.extend({create:Bc({method:"POST",fullPath:"/v1/subscription_schedules"}),retrieve:Bc({method:"GET",fullPath:"/v1/subscription_schedules/{schedule}"}),update:Bc({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}"}),list:Bc({method:"GET",fullPath:"/v1/subscription_schedules",methodType:"list"}),cancel:Bc({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/cancel"}),release:Bc({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/release"})});var Fi=T.method,BV=T.extend({create:Fi({method:"POST",fullPath:"/v1/subscriptions"}),retrieve:Fi({method:"GET",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),update:Fi({method:"POST",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),list:Fi({method:"GET",fullPath:"/v1/subscriptions",methodType:"list"}),cancel:Fi({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),deleteDiscount:Fi({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}/discount"}),migrate:Fi({method:"POST",fullPath:"/v1/subscriptions/{subscription}/migrate"}),resume:Fi({method:"POST",fullPath:"/v1/subscriptions/{subscription}/resume"}),search:Fi({method:"GET",fullPath:"/v1/subscriptions/search",methodType:"search"})});var HV=T.method,VV=T.extend({retrieve:HV({method:"GET",fullPath:"/v1/tax_codes/{id}"}),list:HV({method:"GET",fullPath:"/v1/tax_codes",methodType:"list"})});var tv=T.method,ZV=T.extend({create:tv({method:"POST",fullPath:"/v1/tax_ids"}),retrieve:tv({method:"GET",fullPath:"/v1/tax_ids/{id}"}),list:tv({method:"GET",fullPath:"/v1/tax_ids",methodType:"list"}),del:tv({method:"DELETE",fullPath:"/v1/tax_ids/{id}"})});var rv=T.method,KV=T.extend({create:rv({method:"POST",fullPath:"/v1/tax_rates"}),retrieve:rv({method:"GET",fullPath:"/v1/tax_rates/{tax_rate}"}),update:rv({method:"POST",fullPath:"/v1/tax_rates/{tax_rate}"}),list:rv({method:"GET",fullPath:"/v1/tax_rates",methodType:"list"})});var GV=T.method,WV=T.extend({create:GV({method:"POST",fullPath:"/v1/tokens"}),retrieve:GV({method:"GET",fullPath:"/v1/tokens/{token}"})});var gm=T.method,QV=T.extend({create:gm({method:"POST",fullPath:"/v1/topups"}),retrieve:gm({method:"GET",fullPath:"/v1/topups/{topup}"}),update:gm({method:"POST",fullPath:"/v1/topups/{topup}"}),list:gm({method:"GET",fullPath:"/v1/topups",methodType:"list"}),cancel:gm({method:"POST",fullPath:"/v1/topups/{topup}/cancel"})});var Fa=T.method,XV=T.extend({create:Fa({method:"POST",fullPath:"/v1/transfers"}),retrieve:Fa({method:"GET",fullPath:"/v1/transfers/{transfer}"}),update:Fa({method:"POST",fullPath:"/v1/transfers/{transfer}"}),list:Fa({method:"GET",fullPath:"/v1/transfers",methodType:"list"}),createReversal:Fa({method:"POST",fullPath:"/v1/transfers/{id}/reversals"}),listReversals:Fa({method:"GET",fullPath:"/v1/transfers/{id}/reversals",methodType:"list"}),retrieveReversal:Fa({method:"GET",fullPath:"/v1/transfers/{transfer}/reversals/{id}"}),updateReversal:Fa({method:"POST",fullPath:"/v1/transfers/{transfer}/reversals/{id}"})});var ym=T.method,YV=T.extend({create:ym({method:"POST",fullPath:"/v1/webhook_endpoints"}),retrieve:ym({method:"GET",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),update:ym({method:"POST",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),list:ym({method:"GET",fullPath:"/v1/webhook_endpoints",methodType:"list"}),del:ym({method:"DELETE",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"})});var Rwe=Xt("apps",{Secrets:g9}),$we=Xt("billing",{Alerts:a3,CreditBalanceSummary:v3,CreditBalanceTransactions:b3,CreditGrants:S3,MeterEventAdjustments:j3,MeterEvents:q3,Meters:L3}),Nwe=Xt("billingPortal",{Configurations:f3,Sessions:y9}),jwe=Xt("checkout",{Sessions:v9}),zwe=Xt("climate",{Orders:J3,Products:Y3,Suppliers:T9}),Dwe=Xt("entitlements",{ActiveEntitlements:i3,Features:A3}),Mwe=Xt("financialConnections",{Accounts:n3,Sessions:b9,Transactions:A9}),qwe=Xt("forwarding",{Requests:m9}),Uwe=Xt("identity",{VerificationReports:q9,VerificationSessions:U9}),Lwe=Xt("issuing",{Authorizations:u3,Cardholders:d3,Cards:p3,Disputes:k3,PersonalizationDesigns:K3,PhysicalBundles:Q3,Tokens:E9,Transactions:C9}),Fwe=Xt("radar",{EarlyFraudWarnings:P3,ValueListItems:z9,ValueLists:D9}),Jwe=Xt("reporting",{ReportRuns:l9,ReportTypes:p9}),Bwe=Xt("sigma",{ScheduledQueryRuns:h9}),Hwe=Xt("tax",{Associations:s3,Calculations:l3,Registrations:c9,Settings:w9,Transactions:R9}),Vwe=Xt("terminal",{Configurations:h3,ConnectionTokens:y3,Locations:N3,OnboardingLinks:F3,Readers:e9}),Zwe=Xt("testHelpers",{ConfirmationTokens:g3,Customers:x3,Refunds:u9,TestClocks:k9,Issuing:Xt("issuing",{Authorizations:c3,Cards:m3,PersonalizationDesigns:G3,Transactions:$9}),Terminal:Xt("terminal",{Readers:t9}),Treasury:Xt("treasury",{InboundTransfers:R3,OutboundPayments:B3,OutboundTransfers:V3,ReceivedCredits:r9,ReceivedDebits:i9})}),Kwe=Xt("treasury",{CreditReversals:w3,DebitReversals:T3,FinancialAccounts:C3,InboundTransfers:$3,OutboundPayments:H3,OutboundTransfers:Z3,ReceivedCredits:o9,ReceivedDebits:s9,TransactionEntries:I9,Transactions:j9}),Gwe=Xt("v2",{Billing:Xt("billing",{MeterEventAdjustments:z3,MeterEventSession:D3,MeterEventStream:M3,MeterEvents:U3}),Core:Xt("core",{EventDestinations:I3,Events:O3})});var e8="api.stripe.com",t8="443",r8="/v1/",n8=IR,o8=8e4,i8=5,a8=.5,Wwe=["name","version","url","partner_id"],s8=["authenticator","apiVersion","typescript","maxNetworkRetries","httpAgent","httpClient","timeout","host","port","protocol","telemetry","appInfo","stripeAccount","stripeContext"],Qwe=a(e=>new Ry(e,T.MAX_BUFFERED_REQUEST_METRICS),"defaultRequestSenderFactory");function u8(e,t=Qwe){r.PACKAGE_VERSION="20.0.0",r.API_VERSION=IR,r.USER_AGENT=Object.assign({bindings_version:r.PACKAGE_VERSION,lang:"node",publisher:"stripe",uname:null,typescript:!1},ZH()),r.StripeResource=T,r.StripeContext=Xp,r.resources=Hc,r.HttpClient=Jr,r.HttpClientResponse=ja,r.CryptoProvider=Na,r.webhooks=r3(e);function r(n,o={}){if(!(this instanceof r))return new r(n,o);let i=this._getPropsFromConfig(o);this._platformFunctions=e,Object.defineProperty(this,"_emitter",{value:this._platformFunctions.createEmitter(),enumerable:!1,configurable:!1,writable:!1}),this.VERSION=r.PACKAGE_VERSION,this.on=this._emitter.on.bind(this._emitter),this.once=this._emitter.once.bind(this._emitter),this.off=this._emitter.removeListener.bind(this._emitter);let s=i.httpAgent||null;this._api={host:i.host||e8,port:i.port||t8,protocol:i.protocol||"https",basePath:r8,version:i.apiVersion||n8,timeout:by("timeout",i.timeout,o8),maxNetworkRetries:by("maxNetworkRetries",i.maxNetworkRetries,2),agent:s,httpClient:i.httpClient||(s?this._platformFunctions.createNodeHttpClient(s):this._platformFunctions.createDefaultHttpClient()),dev:!1,stripeAccount:i.stripeAccount||null,stripeContext:i.stripeContext||null};let u=i.typescript||!1;u!==r.USER_AGENT.typescript&&(r.USER_AGENT.typescript=u),i.appInfo&&this._setAppInfo(i.appInfo),this._prepResources(),this._setAuthenticator(n,i.authenticator),this.errors=Ay,this.webhooks=r.webhooks,this._prevRequestMetrics=[],this._enableTelemetry=i.telemetry!==!1,this._requestSender=t(this),this.StripeResource=r.StripeResource}return a(r,"Stripe"),r.errors=Ay,r.createNodeHttpClient=e.createNodeHttpClient,r.createFetchHttpClient=e.createFetchHttpClient,r.createNodeCryptoProvider=e.createNodeCryptoProvider,r.createSubtleCryptoProvider=e.createSubtleCryptoProvider,r.prototype={_appInfo:void 0,on:null,off:null,once:null,VERSION:null,StripeResource:null,webhooks:null,errors:null,_api:null,_prevRequestMetrics:null,_emitter:null,_enableTelemetry:null,_requestSender:null,_platformFunctions:null,rawRequest(n,o,i,s){return this._requestSender._rawRequest(n,o,i,s)},_setAuthenticator(n,o){if(n&&o)throw new Error("Can't specify both apiKey and authenticator");if(!n&&!o)throw new Error("Neither apiKey nor config.authenticator provided");this._authenticator=n?gy(n):o},_setAppInfo(n){if(n&&typeof n!="object")throw new Error("AppInfo must be an object.");if(n&&!n.name)throw new Error("AppInfo.name is required");n=n||{},this._appInfo=Wwe.reduce((o,i)=>(typeof n[i]=="string"&&(o=o||{},o[i]=n[i]),o),{})},_setApiField(n,o){this._api[n]=o},getApiField(n){return this._api[n]},setClientId(n){this._clientId=n},getClientId(){return this._clientId},getConstant:a(n=>{switch(n){case"DEFAULT_HOST":return e8;case"DEFAULT_PORT":return t8;case"DEFAULT_BASE_PATH":return r8;case"DEFAULT_API_VERSION":return n8;case"DEFAULT_TIMEOUT":return o8;case"MAX_NETWORK_RETRY_DELAY_SEC":return i8;case"INITIAL_NETWORK_RETRY_DELAY_SEC":return a8}return r[n]},"getConstant"),getMaxNetworkRetries(){return this.getApiField("maxNetworkRetries")},_setApiNumberField(n,o,i){let s=by(n,o,i);this._setApiField(n,s)},getMaxNetworkRetryDelay(){return i8},getInitialNetworkRetryDelay(){return a8},getClientUserAgent(n){return this.getClientUserAgentSeeded(r.USER_AGENT,n)},getClientUserAgentSeeded(n,o){this._platformFunctions.getUname().then(i=>{var s;let u={};for(let d in n)Object.prototype.hasOwnProperty.call(n,d)&&(u[d]=encodeURIComponent((s=n[d])!==null&&s!==void 0?s:"null"));u.uname=encodeURIComponent(i||"UNKNOWN");let l=this.getApiField("httpClient");l&&(u.httplib=encodeURIComponent(l.getClientName())),this._appInfo&&(u.application=this._appInfo),o(JSON.stringify(u))})},getAppInfoAsString(){if(!this._appInfo)return"";let n=this._appInfo.name;return this._appInfo.version&&(n+=`/${this._appInfo.version}`),this._appInfo.url&&(n+=` (${this._appInfo.url})`),n},getTelemetryEnabled(){return this._enableTelemetry},_prepResources(){for(let n in Hc)Object.prototype.hasOwnProperty.call(Hc,n)&&(this[HH(n)]=new Hc[n](this))},_getPropsFromConfig(n){if(!n)return{};let o=typeof n=="string";if(!(n===Object(n)&&!Array.isArray(n))&&!o)throw new Error("Config must either be an object or a string");if(o)return{apiVersion:n};if(Object.keys(n).filter(u=>!s8.includes(u)).length>0)throw new Error(`Config object may only contain the following: ${s8.join(", ")}`);return n},parseEventNotification(n,o,i,s,u,l){let d=this.webhooks.constructEvent(n,o,i,s,u,l);return d.context&&(d.context=Xp.parse(d.context)),d.fetchEvent=()=>this._requestSender._rawRequest("GET",`/v2/core/events/${d.id}`,void 0,{stripeContext:d.context},["fetch_event"]),d.fetchRelatedObject=()=>d.related_object?this._requestSender._rawRequest("GET",d.related_object.url,void 0,{stripeContext:d.context},["fetch_related_object"]):Promise.resolve(null),d}},r}a(u8,"createStripe");var Xwe=u8(new Cy),c8=Xwe;function Ywe(){let e=process.env.STRIPE_SECRET_KEY;if(!e)throw new Error("STRIPE_SECRET_KEY environment variable is not set. Configure Stripe credentials.");return e}a(Ywe,"getStripeSecretKey");var exe={apiVersion:"2025-11-17.clover",typescript:!0,appInfo:{name:"AegisWallet",version:"1.0.0",url:"https://aegiswallet.com.br"}},HR=null;function Jn(){return HR||(HR=new c8(Ywe(),exe)),HR}a(Jn,"getStripeClient");var Ja=class e{static{a(this,"StripeCustomerService")}static async createCustomer(t,r,n){let o=Jn();try{let i=await o.customers.create({email:r,name:n,metadata:{clerkUserId:t}});return L.info("Stripe customer created",{clerkUserId:t,stripeCustomerId:i.id}),i.id}catch(i){throw L.error("Failed to create Stripe customer",{clerkUserId:t,error:i instanceof Error?i.message:"Unknown error"}),new Error("Falha ao criar cliente no Stripe")}}static async getOrCreateCustomer(t,r,n){let o=Jn();try{let i=await o.customers.search({query:`metadata['clerkUserId']:'${t}'`,limit:1});if(i.data.length>0)return i.data[0].id;let s=await o.customers.list({email:r,limit:1});return s.data.length>0?(await o.customers.update(s.data[0].id,{metadata:{clerkUserId:t}}),s.data[0].id):await e.createCustomer(t,r,n)}catch(i){throw L.error("Failed to get/create Stripe customer",{clerkUserId:t,error:i instanceof Error?i.message:"Unknown error"}),new Error("Falha ao processar cliente no Stripe")}}static async updateCustomer(t,r){let n=Jn();try{await n.customers.update(t,r)}catch(o){throw L.error("Failed to update Stripe customer",{stripeCustomerId:t,error:o instanceof Error?o.message:"Unknown error"}),o}}static async deleteCustomer(t){let r=Jn();try{let n=await r.subscriptions.list({customer:t,status:"active"});for(let o of n.data)await r.subscriptions.cancel(o.id);await r.customers.del(t),L.info("Stripe customer deleted",{stripeCustomerId:t})}catch(n){throw L.error("Failed to delete Stripe customer",{stripeCustomerId:t,error:n instanceof Error?n.message:"Unknown error"}),n}}};Zn();Rr();var txe=c.object({STRIPE_SECRET_KEY:c.string().min(1,"STRIPE_SECRET_KEY is required"),STRIPE_PUBLISHABLE_KEY:c.string().min(1,"STRIPE_PUBLISHABLE_KEY is required"),STRIPE_WEBHOOK_SECRET:c.string().min(1,"STRIPE_WEBHOOK_SECRET is required"),STRIPE_SUCCESS_URL:c.string().url("STRIPE_SUCCESS_URL must be a valid URL"),STRIPE_CANCEL_URL:c.string().url("STRIPE_CANCEL_URL must be a valid URL"),STRIPE_PORTAL_RETURN_URL:c.string().url("STRIPE_PORTAL_RETURN_URL must be a valid URL"),STRIPE_PRICE_BASIC_MONTHLY:c.string().min(1,"STRIPE_PRICE_BASIC_MONTHLY is required"),STRIPE_PRICE_ADVANCED_MONTHLY:c.string().min(1,"STRIPE_PRICE_ADVANCED_MONTHLY is required")}),si;try{si=txe.parse(process.env)}catch{si=process.env}var Ns={secretKey:si?.STRIPE_SECRET_KEY,publishableKey:si?.STRIPE_PUBLISHABLE_KEY,webhookSecret:si?.STRIPE_WEBHOOK_SECRET,successUrl:si?.STRIPE_SUCCESS_URL,cancelUrl:si?.STRIPE_CANCEL_URL,portalReturnUrl:si?.STRIPE_PORTAL_RETURN_URL},l8={BASIC_MONTHLY:si?.STRIPE_PRICE_BASIC_MONTHLY,ADVANCED_MONTHLY:si?.STRIPE_PRICE_ADVANCED_MONTHLY},rxe=[{id:"free",name:"Gratuito",priceCents:0,features:["Dashboard b\xE1sico","1 conta banc\xE1ria","Transa\xE7\xF5es limitadas"],aiModels:[]},{id:"basic",name:"B\xE1sico",priceCents:5900,features:["Chat IA (Gemini Flash)","3 contas banc\xE1rias","Automa\xE7\xF5es b\xE1sicas"],aiModels:["gemini-flash"]},{id:"advanced",name:"Avan\xE7ado",priceCents:11900,features:["Todas as IAs","Contas ilimitadas","API access","Suporte priorit\xE1rio"],aiModels:["gpt-4o","claude-sonnet","gemini-pro","gemini-flash"]}],Vc=a(e=>rxe.find(t=>t.id===e),"getPlanById"),vm=a(e=>e===l8.BASIC_MONTHLY?Vc("basic"):e===l8.ADVANCED_MONTHLY?Vc("advanced"):null,"getPlanByStripePrice"),d8=a(e=>{let t=Vc(e);return t?t.aiModels.length>0:!1},"canAccessAI"),p8=a(e=>{let t=Vc(e);return t?t.aiModels:[]},"getAllowedModels");var Ji=class{static{a(this,"StripeSubscriptionService")}static async createCheckoutSession(t,r,n,o,i){let s=Jn(),u=xr();try{let[l]=await u.select().from(Q).where(V(Q.id,t)).limit(1);if(!l?.email)throw new Error("Usu\xE1rio n\xE3o encontrado ou sem email");let d=await Ja.getOrCreateCustomer(t,l.email,l.fullName||void 0),p=i||Ns.successUrl?.replace(/\/billing\/success$/,"")||"https://app.aegiswallet.com.br",f=n||`${p}/billing/success`,m=o||`${p}/billing/cancel`,y=await s.checkout.sessions.create({customer:d,mode:"subscription",payment_method_types:["card"],line_items:[{price:r,quantity:1}],success_url:f,cancel_url:m,metadata:{clerkUserId:t},allow_promotion_codes:!0});if(!y.url)throw new Error("Stripe n\xE3o retornou URL de checkout v\xE1lida");return{sessionId:y.id,checkoutUrl:y.url}}catch(l){throw L.error("Failed to create checkout session",{userId:t,priceId:r,requestOrigin:i,error:l instanceof Error?l.message:"Unknown error"}),l}}static async createPortalSession(t,r){let n=Jn();try{return{portalUrl:(await n.billingPortal.sessions.create({customer:t,return_url:r||Ns.portalReturnUrl||"https://app.aegiswallet.com.br/settings/billing"})).url}}catch(o){throw L.error("Failed to create portal session",{stripeCustomerId:t,error:o instanceof Error?o.message:"Unknown error"}),o}}static async getSubscription(t){let r=xr();try{let n=await r.select({subscription:Je,plan:Yr}).from(Je).leftJoin(Yr,V(Je.planId,Yr.id)).where(V(Je.userId,t)).limit(1);if(n.length===0)return L.info("No subscription found for user",{userId:t}),null;let{subscription:o,plan:i}=n[0];return o?(L.info("Retrieved subscription for user",{userId:t,subscriptionId:o.id,status:o.status,planId:o.planId}),{subscription:o,plan:i||null}):(L.warn("Subscription record is null despite query success",{userId:t}),null)}catch(n){throw L.error("Failed to get subscription",{userId:t,error:n instanceof Error?n.message:"Unknown error"}),n}}static async syncSubscriptionFromStripe(t){let r=Jn(),n=xr();try{let i=await r.subscriptions.retrieve(t),s=typeof i.customer=="string"?i.customer:i.customer.id,[u]=await n.select().from(Je).where(V(Je.stripeCustomerId,s)).limit(1);if(!u)return L.warn("Subscription sync skipped: User not found for customer",{customerId:s,stripeSubscriptionId:t}),null;let l=i.items.data[0]?.price?.id;if(!l)throw L.error("No price ID found in subscription",{stripeSubscriptionId:t,items:i.items.data.length}),new Error("Pre\xE7o n\xE3o encontrado na assinatura do Stripe");let d=vm(l),p=d?d.id:"free",f=i.status,m=f==="incomplete"||f==="incomplete_expired"||f==="paused"?"canceled":f,y=i.items.data[0];if(!y)throw L.error("No subscription items found",{stripeSubscriptionId:t}),new Error("Item da assinatura n\xE3o encontrado");let g=y.current_period_start,h=y.current_period_end;if(!(g&&h))throw L.error("Missing billing period dates",{stripeSubscriptionId:t,periodStart:g,periodEnd:h}),new Error("Datas do per\xEDodo de cobran\xE7a n\xE3o encontradas");let v={stripeSubscriptionId:i.id,planId:p,status:m,currentPeriodStart:new Date(g*1e3),currentPeriodEnd:new Date(h*1e3)},[S]=await n.update(Je).set({...v,cancelAtPeriodEnd:i.cancel_at_period_end,canceledAt:i.canceled_at?new Date(i.canceled_at*1e3):null,trialStart:i.trial_start?new Date(i.trial_start*1e3):null,trialEnd:i.trial_end?new Date(i.trial_end*1e3):null,updatedAt:new Date}).where(V(Je.id,u.id)).returning();return L.info("Subscription synced from Stripe",{userId:u.userId,subscriptionId:i.id,status:m,planId:p,previousStatus:u.status,previousPlanId:u.planId}),S}catch(o){throw L.error("Failed to sync subscription",{stripeSubscriptionId:t,error:o instanceof Error?o.message:"Unknown error",stack:o instanceof Error?o.stack:void 0}),o}}static async cancelSubscription(t,r=!1){let n=Jn(),o=xr();try{let[i]=await o.select().from(Je).where(V(Je.userId,t)).limit(1);if(!i?.stripeSubscriptionId)throw new Error("Assinatura n\xE3o encontrada");return r?await n.subscriptions.cancel(i.stripeSubscriptionId):await n.subscriptions.update(i.stripeSubscriptionId,{cancel_at_period_end:!0}),!0}catch(i){throw L.error("Failed to cancel subscription",{userId:t,error:i instanceof Error?i.message:"Unknown error"}),i}}};var m8=new Oe,nxe=c.object({priceId:c.string().min(1),successUrl:c.string().url().optional(),cancelUrl:c.string().url().optional()});m8.post("/",me,xe({windowMs:6e4,max:30}),Be("json",nxe),async e=>{let{user:t}=e.get("auth"),{priceId:r,successUrl:n,cancelUrl:o}=e.req.valid("json"),i=e.get("requestId");if(!t?.id)return L.warn("Checkout request missing user authentication",{requestId:i}),e.json({error:"Usu\xE1rio n\xE3o autenticado"},401);if(!t?.email)return L.warn("Checkout request missing user email",{requestId:i,userId:t.id}),e.json({error:"Email do usu\xE1rio n\xE3o encontrado"},400);try{let s=e.req.header("origin")||e.req.header("referer")?.replace(/\/$/,""),u=await Ji.createCheckoutSession(t.id,r,n,o,s);return L.info("Checkout session created successfully",{userId:t.id,priceId:r,requestOrigin:s,sessionId:u.sessionId}),e.json({data:u,meta:{requestId:i}})}catch(s){let u=s instanceof Error?s.message:"Unknown error";return L.error("Checkout creation failed",{userId:t.id,priceId:r,error:u,requestId:i}),u.includes("Usu\xE1rio n\xE3o encontrado")?e.json({error:"Usu\xE1rio n\xE3o encontrado"},404):u.includes("plano")||u.includes("price")?e.json({error:"Plano inv\xE1lido ou n\xE3o encontrado"},400):u.includes("Stripe")?e.json({error:"Servi\xE7o de pagamento temporariamente indispon\xEDvel"},503):e.json({error:"Falha ao criar checkout"},500)}});var f8=m8;var VR=new Oe,oxe=c.object({limit:c.coerce.number().min(1).max(100).default(10),offset:c.coerce.number().min(0).default(0),status:c.enum(["draft","open","paid","void","uncollectible"]).optional()});VR.get("/",me,xe({windowMs:6e4,max:30}),Be("query",oxe),async e=>{let{user:t}=e.get("auth"),{limit:r,offset:n,status:o}=e.req.valid("query"),i=e.get("requestId");try{let s=[],[u]=[{count:0}];return e.json({data:{invoices:s,total:Number(u?.count||0),hasMore:!1},meta:{requestId:i}})}catch(s){return L.error("Failed to fetch invoices",{userId:t.id,error:s instanceof Error?s.message:"Unknown error",requestId:i}),e.json({error:"Falha ao buscar faturas"},500)}});VR.get("/:id/pdf",me,xe({windowMs:6e4,max:10}),async e=>{let{user:t}=e.get("auth"),r=e.req.param("id"),n=e.get("requestId");try{L.info("Invoice PDF download requested",{userId:t.id,invoiceId:r,requestId:n});let o=new Blob(["Mock PDF content"],{type:"application/pdf"});return new Response(o,{headers:{"Content-Type":"application/pdf","Content-Disposition":`attachment; filename="fatura-${r}.pdf"`}})}catch(o){return L.error("Failed to download invoice PDF",{userId:t.id,invoiceId:r,error:o instanceof Error?o.message:"Unknown error",requestId:n}),e.json({error:"Falha ao baixar fatura"},500)}});var h8=VR;wr();Zn();Rr();var g8=new Oe,ixe=c.object({limit:c.coerce.number().min(1).max(100).default(10),offset:c.coerce.number().min(0).default(0)});g8.get("/",me,xe({windowMs:6e4,max:30}),Be("query",ixe),async e=>{let{user:t}=e.get("auth"),{limit:r,offset:n}=e.req.valid("query"),o=e.get("requestId"),i=xr();try{let s=await i.select().from(gr).where(V(gr.userId,t.id)).orderBy(Dt(gr.createdAt)).limit(r).offset(n),[u]=await i.select({count:M`count(*)`}).from(gr).where(V(gr.userId,t.id));return e.json({data:{payments:s,total:Number(u.count)},meta:{requestId:o}})}catch(s){return L.error("Failed to fetch payment history",{userId:t.id,error:s instanceof Error?s.message:"Unknown error",requestId:o}),e.json({error:"Falha ao buscar hist\xF3rico de pagamentos"},500)}});var y8=g8;var _m=new Oe,axe=c.object({type:c.enum(["card","pix","bank_account"]),isDefault:c.boolean().optional(),cardNumber:c.string().optional(),expiryMonth:c.number().min(1).max(12).optional(),expiryYear:c.number().min(new Date().getFullYear()).optional(),cvc:c.string().optional(),pixKey:c.string().optional(),pixKeyType:c.enum(["cpf","cnpj","phone","email","random"]).optional(),bankCode:c.string().optional(),accountNumber:c.string().optional(),accountType:c.enum(["checking","savings"]).optional(),accountHolderName:c.string().optional(),documentNumber:c.string().optional()}),sxe=c.object({isDefault:c.boolean()});_m.get("/",me,xe({windowMs:6e4,max:30}),async e=>{let{user:t}=e.get("auth"),r=e.get("requestId");try{let n=[];return e.json({data:{paymentMethods:n,hasMore:!1,total:0},meta:{requestId:r}})}catch(n){return L.error("Failed to fetch payment methods",{userId:t.id,error:n instanceof Error?n.message:"Unknown error",requestId:r}),e.json({error:"Falha ao buscar m\xE9todos de pagamento"},500)}});_m.post("/",me,xe({windowMs:6e4,max:10}),Be("json",axe),async e=>{let{user:t}=e.get("auth"),r=e.req.valid("json"),n=e.get("requestId");try{return L.info("Payment method addition requested",{userId:t.id,type:r.type,requestId:n}),e.json({data:{paymentMethod:{id:"pm_mock_id",type:r.type,isDefault:r.isDefault,createdAt:new Date().toISOString()}},meta:{requestId:n}})}catch(o){return L.error("Failed to add payment method",{userId:t.id,error:o instanceof Error?o.message:"Unknown error",requestId:n}),e.json({error:"Falha ao adicionar m\xE9todo de pagamento"},500)}});_m.put("/:id",me,xe({windowMs:6e4,max:20}),Be("json",sxe),async e=>{let{user:t}=e.get("auth"),r=e.req.param("id"),n=e.req.valid("json"),o=e.get("requestId");try{return L.info("Payment method update requested",{userId:t.id,paymentMethodId:r,data:n,requestId:o}),e.json({data:{paymentMethod:{id:r,isDefault:n.isDefault}},meta:{requestId:o}})}catch(i){return L.error("Failed to update payment method",{userId:t.id,paymentMethodId:r,error:i instanceof Error?i.message:"Unknown error",requestId:o}),e.json({error:"Falha ao atualizar m\xE9todo de pagamento"},500)}});_m.delete("/:id",me,xe({windowMs:6e4,max:10}),async e=>{let{user:t}=e.get("auth"),r=e.req.param("id"),n=e.get("requestId");try{return L.info("Payment method deletion requested",{userId:t.id,paymentMethodId:r,requestId:n}),e.json({data:{success:!0},meta:{requestId:n}})}catch(o){return L.error("Failed to remove payment method",{userId:t.id,paymentMethodId:r,error:o instanceof Error?o.message:"Unknown error",requestId:n}),e.json({error:"Falha ao remover m\xE9todo de pagamento"},500)}});var v8=_m;wr();Zn();Rr();var _8=new Oe;_8.get("/",async e=>{let t=e.get("requestId"),r=xr();try{let o=(await r.select().from(Yr).where(V(Yr.isActive,!0)).orderBy(_i(Yr.displayOrder))).map(i=>({...i,priceFormatted:new Intl.NumberFormat("pt-BR",{style:"currency",currency:i.currency}).format(i.priceCents/100)}));return e.json({data:{plans:o},meta:{requestId:t}})}catch(n){return L.error("Failed to fetch plans",{error:n instanceof Error?n.message:"Unknown error",requestId:t}),e.json({error:"Falha ao buscar planos"},500)}});var b8=_8;var S8=new Oe,uxe=c.object({returnUrl:c.string().url().optional()});S8.post("/",me,xe({windowMs:6e4,max:10}),Be("json",uxe),async e=>{let{user:t}=e.get("auth"),{returnUrl:r}=e.req.valid("json"),n=e.get("requestId");try{let o=await Ji.getSubscription(t.id);if(!o?.subscription?.stripeCustomerId)return e.json({error:"Assinatura n\xE3o encontrada"},400);let i=await Ji.createPortalSession(o.subscription.stripeCustomerId,r);return L.info("Portal session created",{userId:t.id}),e.json({data:i,meta:{requestId:n}})}catch(o){return L.error("Portal creation failed",{userId:t.id,error:o instanceof Error?o.message:"Unknown error",requestId:n}),e.json({error:"Falha ao criar portal"},500)}});var w8=S8;var x8=new Oe;x8.get("/",me,xe({windowMs:6e4,max:30}),async e=>{let{user:t}=e.get("auth"),r=e.get("requestId");try{let n=await Ji.getSubscription(t.id),o=n?.plan||Vc("free"),i=o?.id||"free",s=d8(i),u=p8(i);return e.json({data:{subscription:n?.subscription||null,plan:o,canAccessAI:s,allowedModels:u},meta:{requestId:r}})}catch(n){return L.error("Failed to get subscription",{userId:t.id,error:n instanceof Error?n.message:"Unknown error",requestId:r}),e.json({error:"Falha ao buscar assinatura"},500)}});var T8=x8;wr();Zn();Rr();var ui=class{static{a(this,"StripeWebhookService")}static constructEvent(t,r){let n=Jn();if(!Ns.webhookSecret)throw L.error("Webhook secret not configured",{hasConfig:!!Ns.webhookSecret}),new Error("STRIPE_WEBHOOK_SECRET n\xE3o est\xE1 configurado. Verifique as vari\xE1veis de ambiente.");try{let o=n.webhooks.constructEvent(t,r,Ns.webhookSecret);return L.info("Webhook event constructed successfully",{type:o.type,id:o.id}),o}catch(o){let i=o instanceof Error?o.message:"Unknown error";throw L.error("Failed to construct webhook event",{error:i,signatureLength:r?.length}),new Error(`Falha ao validar webhook: ${i}`)}}static async handleCheckoutSessionCompleted(t){let r=xr(),n=t.metadata?.clerkUserId,o=typeof t.customer=="string"?t.customer:t.customer?.id,i=typeof t.subscription=="string"?t.subscription:t.subscription?.id;if(!(n&&o&&i))throw L.warn("Checkout session missing required metadata",{sessionId:t.id,hasClerkUserId:!!n,hasCustomerId:!!o,hasSubscriptionId:!!i}),new Error("Checkout session incompleto - metadados obrigat\xF3rios n\xE3o encontrados");try{let[s]=await r.select().from(Je).where(V(Je.stripeSubscriptionId,i)).limit(1);if(s){L.info("Checkout session already processed",{sessionId:t.id,subscriptionId:i,existingStatus:s.status});return}let l=await Jn().subscriptions.retrieve(i),d=l.items.data[0]?.price?.id;if(!d)throw new Error("Price ID n\xE3o encontrado na assinatura do Stripe");let p=vm(d),f=p?p.id:"free",m=l.items.data[0];if(!m)throw new Error("Item da assinatura n\xE3o encontrado");let y=m.current_period_start,g=m.current_period_end;if(!(y&&g))throw new Error("Datas do per\xEDodo de cobran\xE7a n\xE3o encontradas");let h=l.status,v=h==="incomplete"||h==="incomplete_expired"||h==="paused"?"canceled":h;await r.update(Je).set({stripeCustomerId:o,stripeSubscriptionId:i,planId:f,status:v,currentPeriodStart:new Date(y*1e3),currentPeriodEnd:new Date(g*1e3),updatedAt:new Date}).where(V(Je.userId,n)),L.info("Checkout session completed successfully",{clerkUserId:n,sessionId:t.id,subscriptionId:i,status:v,planId:f})}catch(s){let u=s instanceof Error?s.message:"Unknown error";throw L.error("Failed to process checkout session completion",{sessionId:t.id,clerkUserId:n,error:u}),s}}static async handleSubscriptionCreated(t){}static async handleSubscriptionUpdated(t){let r=xr(),n=typeof t.customer=="string"?t.customer:t.customer.id,[o]=await r.select().from(Je).where(V(Je.stripeCustomerId,n)).limit(1);if(!o){L.warn("Subscription update webhook subscription not found",{customerId:n,subscriptionId:t.id});return}let i=t.items.data[0]?.price?.id;if(!i){L.error("No price ID found in subscription update",{subscriptionId:t.id});return}let s=vm(i),u=s?s.id:"free",l=t.items.data[0];if(!l){L.error("No subscription items found in update",{subscriptionId:t.id});return}let d=l.current_period_start,p=l.current_period_end,f=t.status,m=f==="incomplete"||f==="incomplete_expired"||f==="paused"?"canceled":f;await r.update(Je).set({stripeSubscriptionId:t.id,planId:u,status:m,currentPeriodStart:new Date(d*1e3),currentPeriodEnd:new Date(p*1e3),cancelAtPeriodEnd:t.cancel_at_period_end,canceledAt:t.canceled_at?new Date(t.canceled_at*1e3):null,updatedAt:new Date}).where(V(Je.id,o.id)),L.info("Subscription updated webhook processed successfully",{subscriptionId:t.id,previousStatus:o.status,newStatus:m,previousPlanId:o.planId,newPlanId:u})}static async handleSubscriptionDeleted(t){let r=xr(),n=typeof t.customer=="string"?t.customer:t.customer.id,[o]=await r.select().from(Je).where(V(Je.stripeCustomerId,n)).limit(1);if(!o){L.warn("Subscription delete webhook subscription not found",{customerId:n,subscriptionId:t.id});return}await r.update(Je).set({status:"canceled",canceledAt:new Date,updatedAt:new Date}).where(V(Je.stripeCustomerId,n)),L.info("Subscription deleted webhook processed successfully",{subscriptionId:t.id,userId:o.userId,previousStatus:o.status})}static async handleInvoicePaid(t){let r=xr(),n=t,o=typeof n.customer=="string"?n.customer:n.customer?.id;if(!o){L.warn("Invoice paid webhook missing customer ID",{invoiceId:n.id});return}let[i]=await r.select().from(Je).where(V(Je.stripeCustomerId,o)).limit(1);if(!i){L.warn("Invoice paid webhook subscription not found",{invoiceId:n.id,customerId:o});return}let[s]=await r.select().from(gr).where(V(gr.stripeInvoiceId,n.id)).limit(1);if(s){L.info("Invoice payment already processed",{invoiceId:n.id,existingStatus:s.status});return}try{await r.insert(gr).values({userId:i.userId,subscriptionId:i.id,stripePaymentIntentId:typeof n.payment_intent=="string"?n.payment_intent:n.payment_intent?.id,stripeInvoiceId:n.id,stripeChargeId:typeof n.charge=="string"?n.charge:n.charge?.id,amountCents:n.amount_paid,currency:n.currency,status:"succeeded",description:n.description||"Assinatura AegisWallet",receiptUrl:n.hosted_invoice_url,invoicePdf:n.invoice_pdf}),L.info("Invoice paid webhook processed successfully",{invoiceId:n.id,userId:i.userId,amount:n.amount_paid,currency:n.currency})}catch(u){let l=u instanceof Error?u.message:"Unknown error";throw L.error("Failed to process invoice payment",{invoiceId:n.id,userId:i.userId,error:l}),u}}static async handleInvoicePaymentFailed(t){let r=xr(),n=t,o=typeof n.customer=="string"?n.customer:n.customer?.id;if(!o){L.warn("Invoice payment failed webhook missing customer ID",{invoiceId:n.id});return}let[i]=await r.select().from(Je).where(V(Je.stripeCustomerId,o)).limit(1);if(!i){L.warn("Invoice payment failed webhook subscription not found",{invoiceId:n.id,customerId:o});return}let[s]=await r.select().from(gr).where(V(gr.stripeInvoiceId,n.id)).limit(1);if(s){L.info("Invoice payment failure already processed",{invoiceId:n.id,existingStatus:s.status});return}try{await r.insert(gr).values({userId:i.userId,subscriptionId:i.id,stripePaymentIntentId:typeof n.payment_intent=="string"?n.payment_intent:n.payment_intent?.id,stripeInvoiceId:n.id,stripeChargeId:typeof n.charge=="string"?n.charge:n.charge?.id,amountCents:n.amount_due,currency:n.currency,status:"failed",description:n.description||"Falha no pagamento",failureCode:n.last_finalization_error?.code,failureMessage:t.last_finalization_error?.message}),L.warn("Invoice payment failed webhook processed successfully",{invoiceId:n.id,userId:i.userId,amount:n.amount_due,currency:n.currency,failureCode:n.last_finalization_error?.code,failureMessage:t.last_finalization_error?.message})}catch(u){let l=u instanceof Error?u.message:"Unknown error";throw L.error("Failed to process invoice payment failure",{invoiceId:n.id,userId:i.userId,error:l}),u}}};var k8=new Oe;k8.post("/",async e=>{let t=e.req.header("stripe-signature"),r=await e.req.text();if(!t)return e.json({error:"Missing stripe-signature header"},400);try{let n=ui.constructEvent(r,t);switch(L.info("Stripe webhook received",{type:n.type,id:n.id}),n.type){case"checkout.session.completed":await ui.handleCheckoutSessionCompleted(n.data.object);break;case"customer.subscription.created":await ui.handleSubscriptionCreated(n.data.object);break;case"customer.subscription.updated":await ui.handleSubscriptionUpdated(n.data.object);break;case"customer.subscription.deleted":await ui.handleSubscriptionDeleted(n.data.object);break;case"invoice.paid":await ui.handleInvoicePaid(n.data.object);break;case"invoice.payment_failed":await ui.handleInvoicePaymentFailed(n.data.object);break;default:L.info("Unhandled webhook event type",{type:n.type})}return e.json({received:!0})}catch(n){return L.error("Webhook processing failed",{error:n instanceof Error?n.message:"Unknown error"}),e.json({error:"Webhook handler failed"},400)}});var E8=k8;var Bi=new Oe;Bi.route("/checkout",f8);Bi.route("/subscription",T8);Bi.route("/portal",w8);Bi.route("/plans",b8);Bi.route("/webhook",E8);Bi.route("/payment-history",y8);Bi.route("/payment-methods",v8);Bi.route("/invoices",h8);var ZR=Bi;wr();Rr();var KR=new Oe,cxe=c.object({categoryId:c.string().optional(),endDate:c.string().datetime().optional(),limit:c.coerce.number().min(1).max(100).default(20),offset:c.coerce.number().min(0).default(0),query:c.string().min(1,"Query \xE9 obrigat\xF3ria"),startDate:c.string().datetime().optional()}),lxe=c.object({accountId:c.string().optional(),categoryId:c.string().optional(),endDate:c.string().datetime().optional(),limit:c.coerce.number().min(1).max(100).default(20),offset:c.coerce.number().min(0).default(0),query:c.string().min(1,"Query \xE9 obrigat\xF3ria"),startDate:c.string().datetime().optional()});KR.get("/events/search",me,xe({max:30,message:"Muitas requisi\xE7\xF5es, tente novamente mais tarde",windowMs:60*1e3}),Be("query",cxe),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.valid("query"),o=e.get("requestId");try{let i=[V(mt.userId,t.id),Ur(mt.title,`%${n.query}%`)];n.categoryId&&i.push(V(mt.categoryId,n.categoryId)),n.startDate&&i.push(hr(mt.startDate,new Date(n.startDate))),n.endDate&&i.push(nr(mt.endDate,new Date(n.endDate)));let s=await r.select().from(mt).where(Ee(...i)).orderBy(Dt(mt.createdAt)).limit(n.limit).offset(n.offset);return L.info("Calendar events searched",{limit:n.limit,query:n.query,requestId:o,resultsCount:s.length,userId:t.id}),e.json({data:s,meta:{requestId:o,retrievedAt:new Date().toISOString()}})}catch(i){return L.error("Failed to search calendar events",{error:i instanceof Error?i.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"CALENDAR_SEARCH_ERROR",error:"Falha ao buscar eventos"},500)}});KR.get("/transactions/search",me,xe({max:30,message:"Muitas requisi\xE7\xF5es, tente novamente mais tarde",windowMs:60*1e3}),Be("query",lxe),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.valid("query"),o=e.get("requestId");try{let i=[V(oe.userId,t.id),Ur(oe.description,`%${n.query}%`)];n.accountId&&i.push(V(oe.accountId,n.accountId)),n.categoryId&&i.push(V(oe.categoryId,n.categoryId)),n.startDate&&i.push(hr(oe.transactionDate,new Date(n.startDate))),n.endDate&&i.push(nr(oe.transactionDate,new Date(n.endDate)));let s=await r.select().from(oe).where(Ee(...i)).orderBy(Dt(oe.createdAt)).limit(n.limit).offset(n.offset);return L.info("Calendar transactions searched",{limit:n.limit,query:n.query,requestId:o,resultsCount:s.length,userId:t.id}),e.json({data:s,meta:{requestId:o,retrievedAt:new Date().toISOString()}})}catch(i){return L.error("Failed to search calendar transactions",{error:i instanceof Error?i.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"CALENDAR_SEARCH_ERROR",error:"Falha ao buscar transa\xE7\xF5es"},500)}});var GR=KR;wr();Rr();var WR=class{constructor(t){this.db=t}static{a(this,"ComplianceService")}async getUserConsents(t){try{return await this.db.select().from(Mt).where(V(Mt.userId,t)).orderBy(Dt(Mt.createdAt))}catch(r){throw L.error("Failed to get user consents",{error:r instanceof Error?r.message:"Unknown error",userId:t}),new Error(`Erro ao buscar consentimentos: ${r instanceof Error?r.message:"Unknown error"}`)}}async getConsentTemplates(){try{return await this.db.select().from(Sn).where(V(Sn.isActive,!0)).orderBy(Sn.consentType)}catch(t){throw L.error("Failed to get consent templates",{error:t instanceof Error?t.message:"Unknown error"}),new Error(`Erro ao buscar templates de consentimento: ${t instanceof Error?t.message:"Unknown error"}`)}}async grantConsent(t,r,n,o,i){try{let[s]=await this.db.select().from(Sn).where(Ee(V(Sn.consentType,r),V(Sn.isActive,!0))).limit(1);if(!s)throw new Error(`Template de consentimento n\xE3o encontrado: ${r}`);let u=await this.generateHash(s.fullTextPt),[l]=await this.db.select().from(Mt).where(Ee(V(Mt.userId,t),V(Mt.consentType,r))).limit(1);if(l){let[p]=await this.db.update(Mt).set({granted:!0,grantedAt:new Date,revokedAt:null,consentVersion:s.version,consentTextHash:u,collectionMethod:n,ipAddress:o??null,userAgent:i??null}).where(V(Mt.id,l.id)).returning();return p}let[d]=await this.db.insert(Mt).values({userId:t,consentType:r,purpose:s.descriptionPt,legalBasis:"consent",granted:!0,grantedAt:new Date,revokedAt:null,consentVersion:s.version,consentTextHash:u,collectionMethod:n,ipAddress:o??null,userAgent:i??null}).returning();return d}catch(s){throw L.error("Failed to grant consent",{error:s instanceof Error?s.message:"Unknown error",userId:t,consentType:r}),new Error(`Erro ao conceder consentimento: ${s instanceof Error?s.message:"Unknown error"}`)}}async revokeConsent(t,r){try{await this.db.update(Mt).set({granted:!1,revokedAt:new Date}).where(Ee(V(Mt.userId,t),V(Mt.consentType,r)))}catch(n){throw L.error("Failed to revoke consent",{error:n instanceof Error?n.message:"Unknown error",userId:t,consentType:r}),new Error(`Erro ao revogar consentimento: ${n instanceof Error?n.message:"Unknown error"}`)}}async checkRequiredConsents(t,r){try{return(await this.db.select().from(Mt).where(Ee(V(Mt.userId,t),ns(Mt.consentType,r),V(Mt.granted,!0)))).length===r.length}catch(n){return L.error("Failed to check required consents",{error:n instanceof Error?n.message:"Unknown error",userId:t}),!1}}async getMissingMandatoryConsents(t){try{let n=(await this.db.select().from(Sn).where(Ee(V(Sn.isMandatory,!0),V(Sn.isActive,!0)))).map(s=>s.consentType),i=(await this.db.select().from(Mt).where(Ee(V(Mt.userId,t),V(Mt.granted,!0)))).map(s=>s.consentType);return n.filter(s=>!i.includes(s))}catch(r){throw L.error("Failed to get missing mandatory consents",{error:r instanceof Error?r.message:"Unknown error",userId:t}),new Error(`Erro ao buscar consentimentos obrigat\xF3rios faltantes: ${r instanceof Error?r.message:"Unknown error"}`)}}async createExportRequest(t,r,n,o,i,s){try{let[u]=await this.db.insert(yo).values({userId:t,requestType:r,format:n,status:"pending",dateFrom:o??null,dateTo:i??null,requestedVia:"app",ipAddress:s??null}).returning();return await this.logAuditEvent(t,"data_export_requested","data_export_requests",u.id,{requestType:r,format:n}),u}catch(u){throw L.error("Failed to create export request",{error:u instanceof Error?u.message:"Unknown error",userId:t}),new Error(`Erro ao criar solicita\xE7\xE3o de exporta\xE7\xE3o: ${u instanceof Error?u.message:"Unknown error"}`)}}async getExportRequests(t){try{return await this.db.select().from(yo).where(V(yo.userId,t)).orderBy(Dt(yo.createdAt))}catch(r){throw L.error("Failed to get export requests",{error:r instanceof Error?r.message:"Unknown error",userId:t}),new Error(`Erro ao buscar solicita\xE7\xF5es de exporta\xE7\xE3o: ${r instanceof Error?r.message:"Unknown error"}`)}}async createDeletionRequest(t,r,n,o,i){try{let[s]=await this.db.select({legalHold:en.legalHold}).from(en).where(Ee(V(en.userId,t),V(en.legalHold,!0))).limit(1);if(s?.legalHold)throw new Error("Seus dados est\xE3o em reten\xE7\xE3o legal e n\xE3o podem ser exclu\xEDdos no momento");let u=new Date;u.setDate(u.getDate()+15);let[l]=await this.db.insert(en).values({userId:t,requestType:r,scope:n??{},reason:o??null,status:"pending",reviewDeadline:u,ipAddress:i??null}).returning();return await this.logAuditEvent(t,"data_deletion_requested","data_deletion_requests",l.id,{requestType:r}),l}catch(s){throw L.error("Failed to create deletion request",{error:s instanceof Error?s.message:"Unknown error",userId:t}),s}}async getDeletionRequests(t){try{return await this.db.select().from(en).where(V(en.userId,t)).orderBy(Dt(en.createdAt))}catch(r){throw L.error("Failed to get deletion requests",{error:r instanceof Error?r.message:"Unknown error",userId:t}),new Error(`Erro ao buscar solicita\xE7\xF5es de exclus\xE3o: ${r instanceof Error?r.message:"Unknown error"}`)}}async getTransactionLimits(t){try{return await this.db.select().from(Lr).where(V(Lr.userId,t))}catch(r){throw L.error("Failed to get transaction limits",{error:r instanceof Error?r.message:"Unknown error",userId:t}),new Error(`Erro ao buscar limites de transa\xE7\xE3o: ${r instanceof Error?r.message:"Unknown error"}`)}}async checkTransactionLimit(t,r,n){try{let[o]=await this.db.select().from(Lr).where(Ee(V(Lr.userId,t),V(Lr.limitType,r),V(Lr.isActive,!0))).limit(1);if(!o)return{allowed:!0};let i=Number(o.dailyLimit),s=Number(o.currentDailyUsed??0),u=o.transactionLimit?Number(o.transactionLimit):null,l=i-s;return u&&n>u?{allowed:!1,reason:`Valor excede limite por transa\xE7\xE3o de R$ ${u.toFixed(2)}`,limit:i,used:s,requested:n,remaining:l}:n>l?{allowed:!1,reason:`Valor excede saldo di\xE1rio dispon\xEDvel de R$ ${l.toFixed(2)}`,limit:i,used:s,requested:n,remaining:l}:{allowed:!0,limit:i,used:s,requested:n,remaining:l}}catch(o){throw L.error("Failed to check transaction limit",{error:o instanceof Error?o.message:"Unknown error",limitType:r,userId:t}),new Error(`Erro ao verificar limite de transa\xE7\xE3o: ${o instanceof Error?o.message:"Unknown error"}`)}}async updateLimitUsage(t,r,n){try{await this.db.update(Lr).set({currentDailyUsed:M`${Lr.currentDailyUsed} + ${n}`}).where(Ee(V(Lr.userId,t),V(Lr.limitType,r)))}catch(o){throw L.error("Failed to update limit usage",{error:o instanceof Error?o.message:"Unknown error",userId:t,limitType:r,amount:n}),new Error(`Erro ao atualizar uso de limite: ${o instanceof Error?o.message:"Unknown error"}`)}}async logAuditEvent(t,r,n,o,i){try{let s=new Date;s.setFullYear(s.getFullYear()+5),await this.db.insert(wn).values({userId:t,eventType:r,resourceType:n,resourceId:o??null,description:i?.action??null,metadata:i??{},previousState:null,newState:null,ipAddress:null,userAgent:null,sessionId:null,retentionUntil:s})}catch(s){L.error("Failed to log audit event",{error:s instanceof Error?s.message:"Unknown error",eventType:r,userId:t})}}async getAuditHistory(t,r){try{let n=[V(wn.userId,t)];return r?.eventType&&n.push(V(wn.eventType,r.eventType)),r?.startDate&&n.push(hr(wn.createdAt,r.startDate)),r?.endDate&&n.push(nr(wn.createdAt,r.endDate)),await this.db.select().from(wn).where(n.length>1?Ee(...n):n[0]).orderBy(Dt(wn.createdAt)).limit(r?.limit??100)}catch(n){throw L.error("Failed to get audit history",{error:n instanceof Error?n.message:"Unknown error",userId:t}),new Error(`Erro ao buscar hist\xF3rico de auditoria: ${n instanceof Error?n.message:"Unknown error"}`)}}async generateHash(t){let n=new TextEncoder().encode(t),o=await crypto.subtle.digest("SHA-256",n);return Array.from(new Uint8Array(o)).map(s=>s.toString(16).padStart(2,"0")).join("")}};function En(e){return new WR(e)}a(En,"createComplianceService");var Bn=new Oe,dxe=c.object({collectionMethod:c.enum(["explicit_form","voice_command","terms_acceptance","settings_toggle"]).default("explicit_form"),consentType:c.enum(["data_processing","marketing","analytics","third_party","voice_data","biometric","financial_data","location"])}),pxe=c.object({dateFrom:c.string().optional(),dateTo:c.string().optional(),format:c.enum(["json","csv","pdf"]).default("json"),requestType:c.enum(["full_data","full_export","transactions","profile","consents","audit_logs"]).default("full_export")}),mxe=c.object({reason:c.string().optional(),requestType:c.enum(["full_account","full_deletion","specific_data","anonymization"]),scope:c.record(c.string(),c.unknown()).optional()}),fxe=c.object({amount:c.number().positive("Valor deve ser positivo"),limitType:c.enum(["pix_daily","pix_daytime","pix_transaction","boleto_daily","transfer_daily","withdrawal_daily"])});Bn.get("/consent-templates",me,async e=>{let{db:t}=e.get("auth"),r=e.get("requestId");try{let o=await En(t).getConsentTemplates();return e.json({data:o,meta:{requestId:r,retrievedAt:new Date().toISOString()}})}catch(n){return L.error("Failed to get consent templates",{error:n instanceof Error?n.message:"Unknown error",requestId:r}),e.json({code:"CONSENT_TEMPLATES_ERROR",error:"Erro ao buscar modelos de consentimento"},500)}});Bn.get("/consents",me,xe({windowMs:6e4,max:30,message:"Muitas requisi\xE7\xF5es"}),async e=>{let{user:t,db:r}=e.get("auth"),n=e.get("requestId");try{let i=await En(r).getUserConsents(t.id);return e.json({data:i,meta:{requestId:n,retrievedAt:new Date().toISOString()}})}catch(o){return L.error("Failed to get user consents",{error:o instanceof Error?o.message:"Unknown error",requestId:n,userId:t.id}),e.json({code:"CONSENTS_ERROR",error:"Erro ao buscar consentimentos"},500)}});Bn.get("/consents/missing",me,async e=>{let{user:t,db:r}=e.get("auth"),n=e.get("requestId");try{let i=await En(r).getMissingMandatoryConsents(t.id);return e.json({data:{hasMissing:i.length>0,missingConsents:i},meta:{requestId:n,retrievedAt:new Date().toISOString()}})}catch(o){return L.error("Failed to get missing consents",{error:o instanceof Error?o.message:"Unknown error",requestId:n,userId:t.id}),e.json({code:"MISSING_CONSENTS_ERROR",error:"Erro ao verificar consentimentos"},500)}});Bn.post("/consents",me,xe({windowMs:6e4,max:20,message:"Muitas requisi\xE7\xF5es"}),Be("json",dxe),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.valid("json"),o=e.get("requestId");try{let i=e.req.header("x-forwarded-for")??e.req.header("x-real-ip"),s=e.req.header("user-agent"),l=await En(r).grantConsent(t.id,n.consentType,n.collectionMethod,i,s);return L.info("Consent granted",{consentType:n.consentType,requestId:o,userId:t.id}),e.json({data:l,meta:{requestId:o,grantedAt:new Date().toISOString()}},201)}catch(i){return L.error("Failed to grant consent",{consentType:n.consentType,error:i instanceof Error?i.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"CONSENT_GRANT_ERROR",error:"Erro ao registrar consentimento"},500)}});Bn.delete("/consents/:type",me,xe({windowMs:6e4,max:20,message:"Muitas requisi\xE7\xF5es"}),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.param("type"),o=e.get("requestId");try{return await En(r).revokeConsent(t.id,n),L.info("Consent revoked",{consentType:n,requestId:o,userId:t.id}),e.json({data:{success:!0,message:"Consentimento revogado com sucesso"},meta:{requestId:o,revokedAt:new Date().toISOString()}})}catch(i){return L.error("Failed to revoke consent",{consentType:n,error:i instanceof Error?i.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"CONSENT_REVOKE_ERROR",error:"Erro ao revogar consentimento"},500)}});Bn.get("/export-requests",me,async e=>{let{user:t,db:r}=e.get("auth"),n=e.get("requestId");try{let i=await En(r).getExportRequests(t.id);return e.json({data:i,meta:{requestId:n,retrievedAt:new Date().toISOString()}})}catch(o){return L.error("Failed to get export requests",{error:o instanceof Error?o.message:"Unknown error",requestId:n,userId:t.id}),e.json({code:"EXPORT_REQUESTS_ERROR",error:"Erro ao buscar solicita\xE7\xF5es"},500)}});Bn.post("/export-requests",me,xe({windowMs:36e5,max:5,message:"Limite de solicita\xE7\xF5es atingido"}),Be("json",pxe),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.valid("json"),o=e.get("requestId");try{let i=e.req.header("x-forwarded-for")??e.req.header("x-real-ip"),u=await En(r).createExportRequest(t.id,n.requestType,n.format,n.dateFrom,n.dateTo,i);return L.info("Export request created",{format:n.format,requestId:o,requestType:n.requestType,userId:t.id}),e.json({data:u,meta:{requestId:o,createdAt:new Date().toISOString()}},201)}catch(i){return L.error("Failed to create export request",{error:i instanceof Error?i.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"EXPORT_REQUEST_ERROR",error:"Erro ao criar solicita\xE7\xE3o"},500)}});Bn.get("/deletion-requests",me,async e=>{let{user:t,db:r}=e.get("auth"),n=e.get("requestId");try{let i=await En(r).getDeletionRequests(t.id);return e.json({data:i,meta:{requestId:n,retrievedAt:new Date().toISOString()}})}catch(o){return L.error("Failed to get deletion requests",{error:o instanceof Error?o.message:"Unknown error",requestId:n,userId:t.id}),e.json({code:"DELETION_REQUESTS_ERROR",error:"Erro ao buscar solicita\xE7\xF5es"},500)}});Bn.post("/deletion-requests",me,xe({windowMs:864e5,max:3,message:"Limite di\xE1rio atingido"}),Be("json",mxe),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.valid("json"),o=e.get("requestId");try{let i=e.req.header("x-forwarded-for")??e.req.header("x-real-ip"),u=await En(r).createDeletionRequest(t.id,n.requestType,n.scope,n.reason,i);return L.info("Deletion request created",{requestId:o,requestType:n.requestType,userId:t.id}),e.json({data:u,meta:{requestId:o,createdAt:new Date().toISOString()}},201)}catch(i){let s=i instanceof Error?i.message:"Unknown error";return L.error("Failed to create deletion request",{error:s,requestId:o,userId:t.id}),s.includes("reten\xE7\xE3o legal")?e.json({code:"LEGAL_HOLD",error:s},403):e.json({code:"DELETION_REQUEST_ERROR",error:"Erro ao criar solicita\xE7\xE3o"},500)}});Bn.get("/limits",me,async e=>{let{user:t,db:r}=e.get("auth"),n=e.get("requestId");try{let i=await En(r).getTransactionLimits(t.id);return e.json({data:i,meta:{requestId:n,retrievedAt:new Date().toISOString()}})}catch(o){return L.error("Failed to get transaction limits",{error:o instanceof Error?o.message:"Unknown error",requestId:n,userId:t.id}),e.json({code:"LIMITS_ERROR",error:"Erro ao buscar limites"},500)}});Bn.post("/limits/check",me,xe({windowMs:6e4,max:60,message:"Muitas verifica\xE7\xF5es"}),Be("json",fxe),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.valid("json"),o=e.get("requestId");try{let s=await En(r).checkTransactionLimit(t.id,n.limitType,n.amount);return e.json({data:s,meta:{requestId:o,checkedAt:new Date().toISOString()}})}catch(i){return L.error("Failed to check transaction limit",{amount:n.amount,error:i instanceof Error?i.message:"Unknown error",limitType:n.limitType,requestId:o,userId:t.id}),e.json({code:"LIMIT_CHECK_ERROR",error:"Erro ao verificar limite"},500)}});Bn.get("/audit",me,xe({windowMs:6e4,max:10,message:"Muitas requisi\xE7\xF5es"}),async e=>{let{user:t,db:r}=e.get("auth"),n=e.get("requestId");try{let o=Number(e.req.query("limit"))||50,i=e.req.query("eventType"),u=await En(r).getAuditHistory(t.id,{limit:o,eventType:i||void 0});return e.json({data:u,meta:{requestId:n,retrievedAt:new Date().toISOString()}})}catch(o){return L.error("Failed to get audit history",{error:o instanceof Error?o.message:"Unknown error",requestId:n,userId:t.id}),e.json({code:"AUDIT_ERROR",error:"Erro ao buscar hist\xF3rico"},500)}});var QR=Bn;wr();Rr();var hxe=/^\d{10,11}$/,nv=a(e=>e?e.replace(/\D/g,""):e??void 0,"normalizeDigits"),P8=a(e=>({...e,cpf:e.cpf?nv(e.cpf):e.cpf,email:e.email?.trim().toLowerCase(),phone:e.phone?nv(e.phone):e.phone}),"sanitizeContactFields"),ci=new Oe,gxe=c.object({cpf:c.string().optional(),email:c.string().email().optional(),isFavorite:c.boolean().default(!1),name:c.string().min(1,"Nome \xE9 obrigat\xF3rio"),notes:c.string().optional(),phone:c.string().optional()}),yxe=c.object({cpf:c.string().optional().refine(e=>!e||gB(nv(e)??""),"CPF inv\xE1lido"),email:c.string().email().optional(),id:c.string().uuid(),isFavorite:c.boolean().optional(),name:c.string().optional(),notes:c.string().optional(),phone:c.string().optional().refine(e=>!e||hxe.test(nv(e)??""),"Telefone inv\xE1lido")}),vxe=c.object({isFavorite:c.boolean().optional(),limit:c.number().min(1).max(100).default(50),offset:c.number().default(0),search:c.string().optional()}),_xe=c.object({limit:c.number().min(1).max(20).default(10),query:c.string().min(1,"Query de busca \xE9 obrigat\xF3ria")});ci.get("/",me,xe({windowMs:60*1e3,max:30,message:"Too many requests, please try again later"}),Be("query",vxe),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.valid("query"),o=e.get("requestId");try{let i=[V($e.userId,t.id)];if(n.search){let l=`%${n.search}%`,d=ea(Ur($e.name,l),Ur($e.email,l),Ur($e.phone,l));d&&i.push(d)}n.isFavorite!==void 0&&i.push(V($e.isFavorite,n.isFavorite));let[{total:s}]=await r.select({total:iT()}).from($e).where(Ee(...i)),u=await r.select().from($e).where(Ee(...i)).orderBy(Dt($e.isFavorite),_i($e.name)).limit(n.limit).offset(n.offset);return e.json({data:{contacts:u,hasMore:s>n.offset+n.limit,total:s},meta:{requestId:o,retrievedAt:new Date().toISOString()}})}catch(i){return L.error("Failed to get contacts",{error:i instanceof Error?i.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"CONTACTS_ERROR",error:"Failed to retrieve contacts"},500)}});ci.get("/:id",me,xe({windowMs:60*1e3,max:30,message:"Too many requests, please try again later"}),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.param("id"),o=e.get("requestId");try{let[i]=await r.select().from($e).where(Ee(V($e.id,n),V($e.userId,t.id))).limit(1);return i?e.json({data:i,meta:{requestId:o,retrievedAt:new Date().toISOString()}}):e.json({code:"NOT_FOUND",error:"Contato n\xE3o encontrado"},404)}catch(i){return L.error("Failed to get contact",{contactId:n,error:i instanceof Error?i.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"CONTACT_ERROR",error:"Failed to retrieve contact"},500)}});ci.post("/",me,xe({windowMs:60*1e3,max:20,message:"Too many creation attempts, please try again later"}),Be("json",gxe),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.valid("json"),o=e.get("requestId");try{let i=P8(n),[s]=await r.insert($e).values({userId:t.id,name:i.name,email:i.email??null,phone:i.phone??null,cpf:i.cpf??null,notes:i.notes??null,isFavorite:i.isFavorite??!1,createdAt:new Date,updatedAt:new Date}).returning();return L.info("Contact created",{contactId:s.id,contactName:n.name,requestId:o,userId:t.id}),e.json({data:s,meta:{createdAt:new Date().toISOString(),requestId:o}},201)}catch(i){return i instanceof Error&&i.message.includes("unique constraint")?e.json({code:"CONFLICT",error:"Email ou telefone j\xE1 cadastrado para este usu\xE1rio"},409):(L.error("Failed to create contact",{contactName:n.name,error:i instanceof Error?i.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"CONTACT_CREATE_ERROR",error:"Failed to create contact"},500))}});ci.put("/:id",me,xe({windowMs:60*1e3,max:30,message:"Too many update attempts, please try again later"}),Be("json",yxe),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.param("id"),o=e.req.valid("json"),i=e.get("requestId");try{let{id:s,...u}=o,l=P8(u),d={updatedAt:new Date};l.name!==void 0&&(d.name=l.name),l.email!==void 0&&(d.email=l.email??null),l.phone!==void 0&&(d.phone=l.phone??null),l.cpf!==void 0&&(d.cpf=l.cpf??null),l.notes!==void 0&&(d.notes=l.notes??null),l.isFavorite!==void 0&&(d.isFavorite=l.isFavorite);let[p]=await r.update($e).set(d).where(Ee(V($e.id,n),V($e.userId,t.id))).returning();return p?(L.info("Contact updated",{contactId:n,requestId:i,updatedFields:Object.keys(u).filter(f=>f!=="updatedAt"),userId:t.id}),e.json({data:p,meta:{requestId:i,updatedAt:new Date().toISOString()}})):e.json({code:"NOT_FOUND",error:"Contato n\xE3o encontrado"},404)}catch(s){return L.error("Failed to update contact",{contactId:n,error:s instanceof Error?s.message:"Unknown error",requestId:i,userId:t.id}),e.json({code:"CONTACT_UPDATE_ERROR",error:"Failed to update contact"},500)}});ci.delete("/:id",me,xe({windowMs:60*1e3,max:20,message:"Too many deletion attempts, please try again later"}),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.param("id"),o=e.get("requestId");try{let[i]=await r.delete($e).where(Ee(V($e.id,n),V($e.userId,t.id))).returning();return i?(L.info("Contact deleted",{contactId:n,requestId:o,userId:t.id}),e.json({data:{id:n,success:!0},meta:{deletedAt:new Date().toISOString(),requestId:o}})):e.json({code:"NOT_FOUND",error:"Contato n\xE3o encontrado"},404)}catch(i){return L.error("Failed to delete contact",{contactId:n,error:i instanceof Error?i.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"CONTACT_DELETE_ERROR",error:"Failed to delete contact"},500)}});ci.get("/search",me,xe({windowMs:60*1e3,max:20,message:"Too many search attempts, please try again later"}),Be("query",_xe),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.valid("query"),o=e.get("requestId");try{let i=`%${n.query}%`,s=await r.select({id:$e.id,name:$e.name,email:$e.email,phone:$e.phone,isFavorite:$e.isFavorite}).from($e).where(Ee(V($e.userId,t.id),ea(Ur($e.name,i),Ur($e.email,i),Ur($e.phone,i)))).orderBy(Dt($e.isFavorite),_i($e.name)).limit(n.limit);return L.info("Contacts searched",{requestId:o,resultsCount:s.length,searchQuery:n.query,userId:t.id}),e.json({data:s,meta:{requestId:o,retrievedAt:new Date().toISOString()}})}catch(i){return L.error("Failed to search contacts",{error:i instanceof Error?i.message:"Unknown error",requestId:o,searchQuery:n.query,userId:t.id}),e.json({code:"CONTACT_SEARCH_ERROR",error:"Failed to search contacts"},500)}});ci.get("/favorites",me,xe({windowMs:60*1e3,max:20,message:"Too many requests, please try again later"}),async e=>{let{user:t,db:r}=e.get("auth"),n=e.get("requestId");try{let o=await r.select().from($e).where(Ee(V($e.userId,t.id),V($e.isFavorite,!0))).orderBy(_i($e.name));return L.info("Favorite contacts retrieved",{favoritesCount:o.length,requestId:n,userId:t.id}),e.json({data:o,meta:{requestId:n,retrievedAt:new Date().toISOString()}})}catch(o){return L.error("Failed to get favorite contacts",{error:o instanceof Error?o.message:"Unknown error",requestId:n,userId:t.id}),e.json({code:"FAVORITES_ERROR",error:"Failed to retrieve favorite contacts"},500)}});ci.post("/:id/favorite",me,xe({windowMs:60*1e3,max:30,message:"Too many toggle attempts, please try again later"}),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.param("id"),o=e.get("requestId");try{let[i]=await r.select({isFavorite:$e.isFavorite}).from($e).where(Ee(V($e.id,n),V($e.userId,t.id))).limit(1);if(!i)return e.json({code:"NOT_FOUND",error:"Contato n\xE3o encontrado"},404);let[s]=await r.update($e).set({isFavorite:!i.isFavorite,updatedAt:new Date}).where(Ee(V($e.id,n),V($e.userId,t.id))).returning();return L.info("Contact favorite status toggled",{contactId:n,newStatus:!i.isFavorite,previousStatus:i.isFavorite,requestId:o,userId:t.id}),e.json({data:s,meta:{requestId:o,updatedAt:new Date().toISOString()}})}catch(i){return L.error("Failed to toggle favorite status",{contactId:n,error:i instanceof Error?i.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"FAVORITE_TOGGLE_ERROR",error:"Failed to toggle favorite status"},500)}});ci.get("/stats",me,xe({windowMs:60*1e3,max:10,message:"Too many requests, please try again later"}),async e=>{let{user:t,db:r}=e.get("auth"),n=e.get("requestId");try{let o=await r.select({isFavorite:$e.isFavorite,email:$e.email,phone:$e.phone}).from($e).where(V($e.userId,t.id)),i=o.length,s=o.filter(d=>d.isFavorite).length,u=o.filter(d=>d.email).length,l=o.filter(d=>d.phone).length;return e.json({data:{contactsWithEmail:u,contactsWithPhone:l,favoriteContacts:s,favoritePercentage:i>0?s/i*100:0,totalContacts:i},meta:{requestId:n,retrievedAt:new Date().toISOString()}})}catch(o){return L.error("Failed to get contact statistics",{error:o instanceof Error?o.message:"Unknown error",requestId:n,userId:t.id}),e.json({code:"CONTACT_STATS_ERROR",error:"Failed to retrieve contact statistics"},500)}});var XR=ci;var li=new Oe,bm={code:"NOT_IMPLEMENTED",error:"Google Calendar sync is temporarily unavailable during migration. Please check back later.",message:"Esta funcionalidade est\xE1 temporariamente indispon\xEDvel durante a migra\xE7\xE3o do sistema."},Hi=xe({max:30,message:"Muitas requisi\xE7\xF5es, tente novamente mais tarde",windowMs:60*1e3});li.get("/sync/status",me,Hi,async e=>{let{user:t}=e.get("auth"),r=e.get("requestId");return L.info("Google Calendar status requested (not implemented)",{requestId:r,userId:t.id}),e.json({data:{googleEmail:null,isConnected:!1,isEnabled:!1,lastSyncAt:null,migrationNotice:"Google Calendar sync is being migrated to new infrastructure"},meta:{requestId:r,retrievedAt:new Date().toISOString()}},200)});li.get("/sync/settings",me,Hi,async e=>{let t=e.get("requestId");return e.json({data:null,meta:{requestId:t,retrievedAt:new Date().toISOString(),notice:"Google Calendar sync is being migrated"}},200)});li.get("/sync/history",me,Hi,async e=>{let t=e.get("requestId");return e.json({data:[],meta:{requestId:t,retrievedAt:new Date().toISOString(),notice:"Google Calendar sync is being migrated"}},200)});li.put("/sync/settings",me,Hi,async e=>{let t=e.get("requestId");return e.json({...bm,meta:{requestId:t}},501)});li.post("/sync/full",me,Hi,async e=>{let t=e.get("requestId");return e.json({...bm,meta:{requestId:t}},501)});li.post("/sync/incremental",me,Hi,async e=>{let t=e.get("requestId");return e.json({...bm,meta:{requestId:t}},501)});li.post("/sync/event",me,Hi,async e=>{let t=e.get("requestId");return e.json({...bm,meta:{requestId:t}},501)});li.post("/sync/channel/renew",me,Hi,async e=>{let t=e.get("requestId");return e.json({...bm,meta:{requestId:t}},501)});li.get("/sync/conflicts",me,Hi,async e=>{let t=e.get("requestId");return e.json({data:[],meta:{requestId:t,retrievedAt:new Date().toISOString(),notice:"Google Calendar sync is being migrated"}},200)});var YR=li;var Sm=new Oe,Zc=null,bxe=1e4,jmt=c.object({services:c.object({database:c.enum(["connected","disconnected","error"]),api:c.enum(["operational","degraded","down"]),auth:c.enum(["operational","degraded","down"])}),status:c.enum(["ok","error"]),timestamp:c.string(),uptime:c.number(),version:c.string()});async function Sxe(){if(Zc&&Date.now()-Zc.timestamp<bxe)return{status:Zc.status,latency:Zc.latency};let e=Date.now();try{let{getHttpClient:t,schema:r}=await Promise.resolve().then(()=>(Zn(),bk)),{sql:n}=await Promise.resolve().then(()=>(wr(),aT)),o=t(),i=new Promise((l,d)=>{setTimeout(()=>d(new Error("Database query timeout")),5e3)});await Promise.race([o.execute(n`SELECT 1 as health_check`),i]);let s=Date.now()-e,u=!0;try{await o.select({count:n`count(*)`}).from(r.users).limit(1)}catch(l){u=!1,L.warn("Database schema access check failed (non-critical)",{error:l instanceof Error?l.message:"Unknown error",note:"Basic connectivity succeeded, schema may not be migrated yet"})}return Zc={status:"connected",latency:s,timestamp:Date.now()},{status:"connected",latency:s,schemaAccessible:u}}catch(t){let r=Date.now()-e;return L.error("Database health check failed",{error:t instanceof Error?t.message:"Unknown error",latency:r}),Zc={status:"error",latency:r,timestamp:Date.now()},{status:"error",latency:r,schemaAccessible:!1}}}a(Sxe,"checkDatabaseConnectivity");async function I8(e){let t=Date.now();try{let r=await Sxe(),n=r.status,o=r.latency,i=n==="connected",s={services:{database:n,api:i?"operational":"degraded",auth:i?"operational":"degraded"},status:i?"ok":"error",timestamp:new Date().toISOString(),uptime:process.uptime(),version:"1.0.0",metrics:{databaseLatency:o,totalLatency:Date.now()-t},checks:{server:{status:"ok",uptime:process.uptime()},database:{status:n,latency:o},memory:{used:process.memoryUsage().heapUsed,total:process.memoryUsage().heapTotal}}};return L.info("Health check completed",{databaseStatus:n,duration:Date.now()-t,status:s.status}),i?e.json(s,200):e.json(s,503)}catch(r){return L.error("Health check error",{duration:Date.now()-t,error:r instanceof Error?r.message:"Unknown error"}),e.json({services:{database:"error",api:"down",auth:"down"},status:"error",timestamp:new Date().toISOString(),uptime:process.uptime(),version:"1.0.0"},500)}}a(I8,"healthCheckHandler");Sm.get("/",I8);Sm.get("/health",I8);Sm.get("/ping",e=>e.json({message:"pong",timestamp:new Date().toISOString(),version:"v1"}));Sm.get("/auth",async e=>{let t=e.get("auth");return e.json({authenticated:!!t,services:{database:"connected",api:"operational",auth:"operational"},status:"ok",timestamp:new Date().toISOString(),user:t?{id:t.user.id,email:t.user.email}:null,version:"1.0.0"})});var e$=Sm;wr();Rr();var wxe=c.object({limit:c.coerce.number().int().min(1).max(100).default(50),offset:c.coerce.number().int().min(0).default(0),categoryId:c.string().optional(),accountId:c.string().optional(),type:c.enum(["transfer","debit","credit","pix","boleto"]).optional(),status:c.enum(["cancelled","failed","pending","posted"]).optional(),startDate:c.string().optional(),endDate:c.string().optional(),search:c.string().optional()}),O8=c.object({amount:c.number(),categoryId:c.string().optional(),description:c.string(),transactionType:c.enum(["transfer","debit","credit","pix","boleto"]),status:c.enum(["cancelled","failed","pending","posted"]).default("pending"),transactionDate:c.string().optional(),accountId:c.string().optional(),paymentMethod:c.string().optional(),merchantName:c.string().optional(),notes:c.string().optional(),tags:c.array(c.string()).optional()}),xxe=c.object({period:c.enum(["week","month","quarter","year"]).default("month"),accountId:c.string().optional()}),Kc=new Oe;Kc.get("/",me,xe({windowMs:60*1e3,max:30,message:"Too many requests, please try again later"}),Be("query",wxe),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.valid("query"),o=e.get("requestId");try{let i=[V(oe.userId,t.id)];n.categoryId&&i.push(V(oe.categoryId,n.categoryId)),n.accountId&&i.push(V(oe.accountId,n.accountId)),n.type&&i.push(V(oe.transactionType,n.type)),n.status&&i.push(V(oe.status,n.status)),n.startDate&&i.push(hr(oe.transactionDate,new Date(n.startDate))),n.endDate&&i.push(nr(oe.transactionDate,new Date(n.endDate))),n.search&&i.push(Ur(oe.description,`%${n.search}%`));let s=await r.select().from(oe).where(Ee(...i)).orderBy(Dt(oe.createdAt)).limit(n.limit).offset(n.offset);return e.json({data:s,meta:{requestId:o,retrievedAt:new Date().toISOString(),total:s.length}})}catch(i){return L.error("Failed to get transactions",{error:i instanceof Error?i.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"TRANSACTIONS_ERROR",error:"Failed to retrieve transactions"},500)}});Kc.get("/statistics",me,xe({windowMs:60*1e3,max:20,message:"Too many requests, please try again later"}),Be("query",xxe),async e=>{let{user:t,db:r}=e.get("auth"),{period:n}=e.req.valid("query"),o=e.get("requestId");try{let i=new Date,s=new Date;switch(n){case"week":s.setDate(i.getDate()-7);break;case"month":s.setMonth(i.getMonth()-1);break;case"quarter":s.setMonth(i.getMonth()-3);break;case"year":s.setFullYear(i.getFullYear()-1);break}let u=await r.select().from(oe).where(Ee(V(oe.userId,t.id),hr(oe.transactionDate,s),nr(oe.transactionDate,i))),l=u.reduce((f,m)=>f+Number(m.amount),0),d=u.filter(f=>Number(f.amount)<0).reduce((f,m)=>f+Math.abs(Number(m.amount)),0),p=u.filter(f=>Number(f.amount)>0).reduce((f,m)=>f+Number(m.amount),0);return e.json({data:{balance:l,expenses:d,income:p,period:n,transactionsCount:u.length},meta:{requestId:o,retrievedAt:new Date().toISOString()}})}catch(i){return L.error("Failed to get transaction statistics",{error:i instanceof Error?i.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"STATISTICS_ERROR",error:"Failed to retrieve statistics"},500)}});Kc.post("/",me,xe({windowMs:60*1e3,max:10,message:"Too many transaction creation attempts, please try again later"}),Be("json",O8),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.valid("json"),o=e.get("requestId");try{let i=new Date,[s]=await r.insert(oe).values({userId:t.id,amount:n.amount.toString(),description:n.description,transactionType:n.transactionType,status:n.status,transactionDate:n.transactionDate?new Date(n.transactionDate):i,categoryId:n.categoryId,accountId:n.accountId,paymentMethod:n.paymentMethod,merchantName:n.merchantName,notes:n.notes,tags:n.tags,isManualEntry:!0}).returning();return L.info("Transaction created",{amount:n.amount,requestId:o,transactionId:s.id,type:n.transactionType,userId:t.id}),e.json({data:s,meta:{createdAt:new Date().toISOString(),requestId:o}},201)}catch(i){return L.error("Failed to create transaction",{amount:n.amount,error:i instanceof Error?i.message:"Unknown error",requestId:o,type:n.transactionType,userId:t.id}),e.json({code:"TRANSACTION_CREATE_ERROR",error:"Failed to create transaction"},500)}});Kc.put("/:id",me,xe({windowMs:60*1e3,max:30,message:"Too many update attempts, please try again later"}),Be("json",O8.partial()),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.param("id"),o=e.req.valid("json"),i=e.get("requestId");try{let[s]=await r.select({id:oe.id}).from(oe).where(Ee(V(oe.id,n),V(oe.userId,t.id))).limit(1);if(!s)return e.json({code:"NOT_FOUND",error:"Transa\xE7\xE3o n\xE3o encontrada"},404);let u={updatedAt:new Date};o.description!==void 0&&(u.description=o.description),o.amount!==void 0&&(u.amount=o.amount.toString()),o.transactionType!==void 0&&(u.transactionType=o.transactionType),o.status!==void 0&&(u.status=o.status),o.categoryId!==void 0&&(u.categoryId=o.categoryId),o.accountId!==void 0&&(u.accountId=o.accountId),o.paymentMethod!==void 0&&(u.paymentMethod=o.paymentMethod),o.merchantName!==void 0&&(u.merchantName=o.merchantName),o.notes!==void 0&&(u.notes=o.notes),o.tags!==void 0&&(u.tags=o.tags);let[l]=await r.update(oe).set(u).where(Ee(V(oe.id,n),V(oe.userId,t.id))).returning();return L.info("Transaction updated",{requestId:i,transactionId:n,userId:t.id}),e.json({data:l,meta:{updatedAt:new Date().toISOString(),requestId:i}})}catch(s){return L.error("Failed to update transaction",{error:s instanceof Error?s.message:"Unknown error",requestId:i,transactionId:n,userId:t.id}),e.json({code:"TRANSACTION_UPDATE_ERROR",error:"Failed to update transaction"},500)}});Kc.delete("/:id",me,xe({windowMs:60*1e3,max:20,message:"Too many deletion attempts, please try again later"}),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.param("id"),o=e.get("requestId");try{return(await r.delete(oe).where(Ee(V(oe.id,n),V(oe.userId,t.id))).returning()).length===0?e.json({code:"NOT_FOUND",error:"Transa\xE7\xE3o n\xE3o encontrada ou permiss\xE3o negada"},404):(L.info("Transaction deleted",{requestId:o,transactionId:n,userId:t.id}),e.json({data:{success:!0},meta:{deletedAt:new Date().toISOString(),requestId:o}}))}catch(i){return L.error("Failed to delete transaction",{error:i instanceof Error?i.message:"Unknown error",requestId:o,transactionId:n,userId:t.id}),e.json({code:"TRANSACTION_DELETE_ERROR",error:"Failed to delete transaction"},500)}});var t$=Kc;wr();Rr();var Txe=c.object({full_name:c.string().optional(),phone:c.string().optional(),cpf:c.string().optional(),birth_date:c.string().optional(),profile_image_url:c.string().url().optional()}),kxe=c.record(c.string(),c.any()),Exe=c.object({period_start:c.string(),period_end:c.string()}),A8=["theme","notificationsEmail","notificationsPush","notificationsSms","autoCategorize","budgetAlerts","voiceFeedback","accessibilityHighContrast","accessibilityLargeText","accessibilityScreenReader"],js=new Oe;js.get("/me",me,xe({windowMs:60*1e3,max:30,message:"Too many requests, please try again later"}),async e=>{let{user:t,db:r}=e.get("auth"),n=e.get("requestId");try{let[o]=await r.select().from(Q).where(V(Q.id,t.id)).limit(1);return e.json({data:o||null,meta:{requestId:n,retrievedAt:new Date().toISOString()}})}catch(o){return L.error("Failed to get user profile",{error:o instanceof Error?o.message:"Unknown error",requestId:n,userId:t.id}),e.json({code:"PROFILE_ERROR",error:"Failed to retrieve profile"},500)}});js.put("/me",me,xe({windowMs:60*1e3,max:20,message:"Too many update attempts, please try again later"}),Be("json",Txe),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.valid("json"),o=e.get("requestId");try{let i={updatedAt:new Date};n.full_name&&(i.fullName=n.full_name),n.phone&&(i.phone=n.phone),n.cpf&&(i.cpf=n.cpf),n.birth_date&&(i.birthDate=n.birth_date),n.profile_image_url&&(i.profileImageUrl=n.profile_image_url);let[s]=await r.update(Q).set(i).where(V(Q.id,t.id)).returning();return L.info("User profile updated",{requestId:o,userId:t.id}),e.json({data:s,meta:{requestId:o,updatedAt:new Date().toISOString()}})}catch(i){return L.error("Failed to update user profile",{error:i instanceof Error?i.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"PROFILE_UPDATE_ERROR",error:"Failed to update profile"},500)}});js.put("/me/preferences",me,xe({windowMs:60*1e3,max:20,message:"Too many update attempts, please try again later"}),Be("json",kxe),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.valid("json"),o=e.get("requestId");try{let[i]=await r.select({id:_n.id}).from(_n).where(V(_n.userId,t.id)).limit(1),s;if(i){let u={updatedAt:new Date};for(let l of A8)n[l]!==void 0&&(u[l]=n[l]);[s]=await r.update(_n).set(u).where(V(_n.id,i.id)).returning()}else{let u={userId:t.id,createdAt:new Date,updatedAt:new Date};for(let l of A8)n[l]!==void 0&&(u[l]=n[l]);[s]=await r.insert(_n).values(u).returning()}return L.info("User preferences updated",{requestId:o,userId:t.id}),e.json({data:s,meta:{requestId:o,updatedAt:new Date().toISOString()}})}catch(i){return L.error("Failed to update user preferences",{error:i instanceof Error?i.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"PREFERENCES_UPDATE_ERROR",error:"Failed to update preferences"},500)}});js.post("/me/last-login",me,xe({windowMs:60*1e3,max:10,message:"Too many requests, please try again later"}),async e=>{let{user:t,db:r}=e.get("auth"),n=e.get("requestId");try{return await r.update(Q).set({lastLogin:new Date}).where(V(Q.id,t.id)),e.json({data:{success:!0},meta:{requestId:n,updatedAt:new Date().toISOString()}})}catch(o){return L.warn("Failed to update last login",{error:o instanceof Error?o.message:"Unknown error",requestId:n,userId:t.id}),e.json({data:{success:!0},meta:{requestId:n,updatedAt:new Date().toISOString()}})}});js.get("/me/status",me,xe({windowMs:60*1e3,max:30,message:"Too many requests, please try again later"}),async e=>{let{user:t,db:r}=e.get("auth"),n=e.get("requestId");try{let[o]=await r.select({isActive:Q.isActive,lastLogin:Q.lastLogin}).from(Q).where(V(Q.id,t.id)).limit(1);return o?e.json({data:{isActive:o.isActive,lastLogin:o.lastLogin?.toISOString()||null},meta:{requestId:n,retrievedAt:new Date().toISOString()}}):e.json({data:{isActive:!1,lastLogin:null},meta:{requestId:n,retrievedAt:new Date().toISOString()}})}catch(o){return L.error("Failed to check user status",{error:o instanceof Error?o.message:"Unknown error",requestId:n,userId:t.id}),e.json({data:{isActive:!1,lastLogin:null},meta:{requestId:n,retrievedAt:new Date().toISOString()}})}});js.get("/me/financial-summary",me,xe({windowMs:60*1e3,max:20,message:"Too many requests, please try again later"}),Be("query",Exe),async e=>{let{user:t,db:r}=e.get("auth"),{period_start:n,period_end:o}=e.req.valid("query"),i=e.get("requestId");try{let u=(await r.select({amount:mt.amount,isIncome:mt.isIncome}).from(mt).where(Ee(V(mt.userId,t.id),hr(mt.createdAt,new Date(n)),nr(mt.createdAt,new Date(o))))).reduce((l,d)=>{let p=Number(d.amount);return d.isIncome?(l.income+=p,l.balance+=p):(l.expenses+=p,l.balance-=p),l},{income:0,expenses:0,balance:0});return e.json({data:u,meta:{requestId:i,retrievedAt:new Date().toISOString()}})}catch(s){return L.error("Failed to get financial summary",{error:s instanceof Error?s.message:"Unknown error",requestId:i,userId:t.id}),e.json({code:"FINANCIAL_SUMMARY_ERROR",error:"Failed to retrieve financial summary"},500)}});var r$=js;function Pxe(e){let t=e.toLowerCase().trim(),r={},n=[{intent:"check_balance",patterns:["saldo","quanto tenho","quanto dinheiro","verificar saldo"]},{intent:"transfer_money",patterns:["transferir","pagar","enviar dinheiro","mandar dinheiro"],entityExtractor:a(o=>Ixe(o,r),"entityExtractor")},{intent:"pay_bill",patterns:["conta","boleto","pagar conta","pagar boleto"],entityExtractor:a(()=>Oxe(t,r),"entityExtractor")},{intent:"transaction_history",patterns:["extrato","transa\xE7\xF5es","historico","compras"]},{intent:"pix_transfer",patterns:["pix","fazer pix"],entityExtractor:a(o=>Axe(o,r),"entityExtractor")}];for(let{intent:o,patterns:i,entityExtractor:s}of n)if(i.some(u=>t.includes(u)))return s&&s(e),{intent:o,entities:r,confidence:.9};return{intent:"unknown",entities:r,confidence:.3}}a(Pxe,"detectIntentAndEntities");function Ixe(e,t){let r=e.match(/r?\$?\s*(\d+(?:,\d{1,2})?)/i);if(r){let o=Number.parseFloat(r[1].replace(",","."));t.amount=o,t.currency="BRL"}let n=e.match(/(?:para|para o|para a)\s+([a-z-\s]{2,30})/i);n&&(t.recipient=n[1].trim())}a(Ixe,"extractTransferEntities");function Oxe(e,t){e.includes("luz")?t.billType="electricity":e.includes("\xE1gua")?t.billType="water":e.includes("telefone")?t.billType="phone":e.includes("internet")&&(t.billType="internet")}a(Oxe,"extractBillEntities");function Axe(e,t){let r=e.match(/([a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,})/),n=e.match(/\(?(\d{2})?\)?\s?(\d{4,5})-?(\d{4})/),o=e.match(/\b\d{3}\.?\d{3}\.?\d{3}-?\d{2}\b/);r?(t.pixKey=r[1],t.pixKeyType="EMAIL"):n?(t.pixKey=n[0],t.pixKeyType="PHONE"):o&&(t.pixKey=o[0],t.pixKeyType="CPF")}a(Axe,"extractPixEntities");function Cxe(e,t){switch(e){case"check_balance":return"Verificando seu saldo...";case"transfer_money":return t.amount&&t.recipient?`Preparando transfer\xEAncia de R$ ${t.amount} para ${t.recipient}`:"Entendi que quer transferir dinheiro. Para quem e quanto?";case"pay_bill":return"Buscando suas contas a pagar...";case"transaction_history":return"Mostrando seu hist\xF3rico de transa\xE7\xF5es...";case"pix_transfer":return"Preparando transfer\xEAncia PIX...";default:return"N\xE3o entendi o comando. Pode repetir?"}}a(Cxe,"generateResponse");async function C8(e){let{commandText:t,sessionId:r,language:n,requireConfirmation:o,userId:i}=e,s=t??"";await new Promise(y=>setTimeout(y,300));let{intent:u,entities:l,confidence:d}=Pxe(s),p=d<.8||(o??!1),f=Cxe(u,l);return{confidence:d,entities:l,intent:u,language:n??"pt-BR",processedAt:new Date().toISOString(),requiresConfirmation:p,response:f,sessionId:r}}a(C8,"processVoiceCommand");function R8(){return{commands:[{description:"Verificar saldo da conta",examples:["Qual \xE9 o meu saldo?","Quanto dinheiro eu tenho?","Mostrar meu saldo"],name:"check_balance"},{description:"Transferir dinheiro para outra conta",examples:["Transferir R$ 100 para Jo\xE3o","Pagar 50 reais para Maria","Enviar R$ 200 para o email teste@email.com"],name:"transfer_money"},{description:"Pagar contas e boletos",examples:["Pagar conta de luz","Pagar boleto do cart\xE3o","Quitar conta de telefone"],name:"pay_bill"},{description:"Fazer transfer\xEAncia PIX",examples:["Fazer PIX para o CPF 123.456.789-00","Enviar PIX para o telefone 11999999999","Transferir por PIX para maria@email.com"],name:"pix_transfer"},{description:"Ver hist\xF3rico de transa\xE7\xF5es",examples:["Mostrar minhas transa\xE7\xF5es","Ver extrato do m\xEAs","Hist\xF3rico de compras"],name:"transaction_history"}],language:"pt-BR"}}a(R8,"getAvailableCommands");var n$=new Oe,Rxe=c.object({commandText:c.string().min(1).max(1e3).optional(),sessionId:c.string().uuid(),audioData:c.string().optional(),language:c.string().default("pt-BR"),requireConfirmation:c.boolean().default(!1)}).refine(e=>e.audioData||e.commandText,{message:"Dados de \xE1udio ou texto do comando s\xE3o obrigat\xF3rios",path:["audioData"]}),uft=c.object({commands:c.array(c.object({description:c.string(),examples:c.array(c.string()),name:c.string()})),language:c.string()});n$.post("/process",me,xe({windowMs:60*1e3,max:30,message:"Too many voice commands, please try again later"}),Be("json",Rxe),async e=>{let{user:t}=e.get("auth"),r=e.req.valid("json"),n=e.get("requestId"),{commandText:o,sessionId:i,audioData:s,language:u,requireConfirmation:l}=r,d=o??"";try{L.audit("Voice command processing started",{commandLength:d.length,component:"voice.processCommand",requestId:n,userId:t.id});let p=await C8({audioData:s,commandText:d,userId:t.id,context:{user:t},language:u,requireConfirmation:l,sessionId:i});return L.audit("Voice command processing completed",{command:d,requestId:n,result:p,sessionId:i,timestamp:new Date().toISOString(),userId:t.id}),e.json({data:p,meta:{processedAt:new Date().toISOString(),requestId:n}})}catch(p){return L.audit("Voice command processing failed",{command:d,error:p instanceof Error?p.message:"Unknown error",requestId:n,sessionId:i,timestamp:new Date().toISOString(),userId:t.id}),e.json({code:"VOICE_PROCESSING_ERROR",details:{command:d.substring(0,50)},error:"Failed to process voice command"},500)}});n$.get("/commands",me,xe({windowMs:60*1e3,max:10,message:"Too many requests, please try again later"}),async e=>{let{user:t}=e.get("auth"),r=e.get("requestId");try{let n=R8();return L.info("Voice commands list accessed",{requestId:r,userId:t.id}),e.json({data:n,meta:{requestId:r,retrievedAt:new Date().toISOString()}})}catch(n){return L.error("Failed to get voice commands",{error:n instanceof Error?n.message:"Unknown error",requestId:r,userId:t.id}),e.json({code:"COMMANDS_RETRIEVAL_ERROR",error:"Failed to retrieve voice commands"},500)}});var o$=n$;wr();var L7=Xs(q7(),1);Zn();Rr();var U7=process.env.CLERK_WEBHOOK_SECRET,Bke=process.env.CLERK_SECRET_KEY,Hke=ph({secretKey:Bke||""}),F7=new Oe;F7.post("/",async e=>{if(!U7)return e.json({error:"Webhook secret not configured"},500);let t=await e.req.text(),r={"svix-id":e.req.header("svix-id")||"","svix-timestamp":e.req.header("svix-timestamp")||"","svix-signature":e.req.header("svix-signature")||""},n;try{n=new L7.Webhook(U7).verify(t,r)}catch(i){return L.error("Clerk webhook verification failed",{error:i instanceof Error?i.message:"Unknown error"}),e.json({error:"Invalid signature"},400)}let o=n.type;try{if(o==="user.created"){let{id:i,email_addresses:s,first_name:u,last_name:l}=n.data,d=s[0]?.email_address,p=[u,l].filter(Boolean).join(" ")||void 0;if(!d)return L.warn("User created without email",{userId:i}),e.json({error:"No email found"},400);let f=await Ja.createCustomer(i,d,p),m=ds();await m.insert(Q).values({id:i,email:d,fullName:p}),await Hke.users.updateUserMetadata(i,{privateMetadata:{stripeCustomerId:f}}),await m.insert(Je).values({userId:i,stripeCustomerId:f,planId:"free",status:"free"}),L.info("User created and initialized",{userId:i,stripeCustomerId:f})}else if(o==="user.deleted"){let{id:i}=n.data,s=ds();if(!i)return e.json({error:"No user ID"},400);let[u]=await s.select().from(Je).where(V(Je.userId,i)).limit(1);u?.stripeCustomerId&&await Ja.deleteCustomer(u.stripeCustomerId),await s.delete(Je).where(V(Je.userId,i)),L.info("User deleted and data cleaned up",{userId:i})}else if(o==="user.updated"){let{id:i,email_addresses:s,first_name:u,last_name:l}=n.data,d=s[0]?.email_address,p=[u,l].filter(Boolean).join(" ")||void 0,f=ds(),[m]=await f.select().from(Je).where(V(Je.userId,i)).limit(1);m?.stripeCustomerId&&d&&await Ja.updateCustomer(m.stripeCustomerId,{email:d,name:p}),L.info("User updated",{userId:i})}return e.json({received:!0})}catch(i){return L.error("Clerk webhook processing error",{eventType:o,error:i instanceof Error?i.message:"Unknown error"}),e.json({error:"Webhook processing failed"},500)}});var J7=F7;var Yt=new Oe;Yt.use("*",HN());Yt.use("*",ej);Yt.use("*",async(e,t)=>{let r=crypto.randomUUID();e.set("requestId",r),await t()});kM(Yt);TM(Yt);Yt.route("/api/v1",e$);Yt.route("/api/v1/voice",o$);Yt.route("/api/v1/banking",U1);Yt.route("/api/v1/contacts",XR);Yt.route("/api/v1/bank-accounts",q1);Yt.route("/api/v1/users",r$);Yt.route("/api/v1/transactions",t$);Yt.route("/api/v1/calendar",GR);Yt.route("/api/v1/google-calendar",YR);Yt.route("/api/v1/compliance",QR);Yt.route("/api/v1/billing",ZR);Yt.route("/api/v1/ai",Cp);Yt.route("/api/v1/agent",pC);Yt.route("/api/webhooks/clerk",J7);Yt.route("/cron",XN);IM(Yt);Yt.notFound(e=>{let t=e.get("requestId");return L.warn("Route not found",{ip:e.req.header("X-Forwarded-For")||e.req.header("X-Real-IP")||"unknown",method:e.req.method,path:e.req.path,requestId:t,userAgent:e.req.header("User-Agent")||"unknown"}),e.json({error:"Not Found",message:`Route ${e.req.method} ${e.req.path} not found`,requestId:t,timestamp:new Date().toISOString()},404)});Yt.onError((e,t)=>{let r=t.get("requestId");return L.error("Unhandled error",{error:e.message,method:t.req.method,path:t.req.path,requestId:r,stack:e.stack}),t.json({error:"Internal server error",requestId:r,timestamp:new Date().toISOString()},500)});var B7=Yt;var Fbt=B7;export{Fbt as default};
/*! Bundled license information:

@neondatabase/serverless/index.mjs:
  (*! Bundled license information:
  
  ieee754/index.js:
    (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)
  
  buffer/index.js:
    (*!
     * The buffer module from node.js, for the browser.
     *
     * @author   Feross Aboukhadijeh <https://feross.org>
     * @license  MIT
     *)
  *)
*/
