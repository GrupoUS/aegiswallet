// AegisWallet API - Bundled for Vercel Node.js Runtime
// Generated at: 2025-12-03T18:03:15.908Z
// Entry: src/server/vercel.ts
// Format: ESM for Vercel Node.js 20.x

// Shim for CommonJS modules that use require()
import { createRequire } from 'node:module';
const require = createRequire(import.meta.url);

var oX=Object.create;var pl=Object.defineProperty;var iX=Object.getOwnPropertyDescriptor;var aX=Object.getOwnPropertyNames;var sX=Object.getPrototypeOf,uX=Object.prototype.hasOwnProperty;var a=(e,t)=>pl(e,"name",{value:t,configurable:!0}),cX=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var W=(e,t)=>()=>(e&&(t=e(e=0)),t);var M=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),_n=(e,t)=>{for(var r in t)pl(e,r,{get:t[r],enumerable:!0})},NN=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of aX(t))!uX.call(e,o)&&o!==r&&pl(e,o,{get:()=>t[o],enumerable:!(n=iX(t,o))||n.enumerable});return e};var iu=(e,t,r)=>(r=e!=null?oX(sX(e)):{},NN(t||!e||!e.__esModule?pl(r,"default",{value:e,enumerable:!0}):r,e)),lX=e=>NN(pl({},"__esModule",{value:!0}),e);function Y(e,t){if(!e||typeof e!="object")return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,j))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=Object.getPrototypeOf(e).constructor;if(r)for(;r;){if(j in r&&r[j]===t[j])return!0;r=Object.getPrototypeOf(r)}return!1}var j,CX,he=W(()=>{j=Symbol.for("drizzle:entityKind"),CX=Symbol.for("drizzle:hasOwnEntityKind");a(Y,"is")});var St,lo=W(()=>{he();St=class{static{a(this,"Column")}constructor(t,r){this.table=t,this.config=r,this.name=r.name,this.keyAsName=r.keyAsName,this.notNull=r.notNull,this.default=r.default,this.defaultFn=r.defaultFn,this.onUpdateFn=r.onUpdateFn,this.hasDefault=r.hasDefault,this.primary=r.primaryKey,this.isUnique=r.isUnique,this.uniqueName=r.uniqueName,this.uniqueType=r.uniqueType,this.dataType=r.dataType,this.columnType=r.columnType,this.generated=r.generated,this.generatedIdentity=r.generatedIdentity}static[j]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(t){return t}mapToDriverValue(t){return t}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}});var vl,Sw=W(()=>{he();vl=class{static{a(this,"ColumnBuilder")}static[j]="ColumnBuilder";config;constructor(t,r,n){this.config={name:t,keyAsName:t==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:r,columnType:n,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(t){return this.config.default=t,this.config.hasDefault=!0,this}$defaultFn(t){return this.config.defaultFn=t,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(t){return this.config.onUpdateFn=t,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(t){this.config.name===""&&(this.config.name=t)}}});var po,ef=W(()=>{po=Symbol.for("drizzle:Name")});var tf,ww,xw=W(()=>{he();ef();tf=class{static{a(this,"ForeignKeyBuilder")}static[j]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(t,r){this.reference=()=>{let{name:n,columns:o,foreignColumns:i}=t();return{name:n,columns:o,foreignTable:i[0].table,foreignColumns:i}},r&&(this._onUpdate=r.onUpdate,this._onDelete=r.onDelete)}onUpdate(t){return this._onUpdate=t===void 0?"no action":t,this}onDelete(t){return this._onDelete=t===void 0?"no action":t,this}build(t){return new ww(t,this)}},ww=class{static{a(this,"ForeignKey")}constructor(t,r){this.table=t,this.reference=r.reference,this.onUpdate=r._onUpdate,this.onDelete=r._onDelete}static[j]="PgForeignKey";reference;onUpdate;onDelete;getName(){let{name:t,columns:r,foreignColumns:n}=this.reference(),o=r.map(u=>u.name),i=n.map(u=>u.name),s=[this.table[po],...o,n[0].table[po],...i];return t??`${s.join("_")}_fk`}}});function rf(e,...t){return e(...t)}var Tw=W(()=>{a(rf,"iife")});function Pw(e,t){return`${e[po]}_${t.join("_")}_unique`}var Ew,pz,kw,Iw=W(()=>{he();ef();a(Pw,"uniqueKeyName");Ew=class{static{a(this,"UniqueConstraintBuilder")}constructor(t,r){this.name=r,this.columns=t}static[j]="PgUniqueConstraintBuilder";columns;nullsNotDistinctConfig=!1;nullsNotDistinct(){return this.nullsNotDistinctConfig=!0,this}build(t){return new kw(t,this.columns,this.nullsNotDistinctConfig,this.name)}},pz=class{static{a(this,"UniqueOnConstraintBuilder")}static[j]="PgUniqueOnConstraintBuilder";name;constructor(t){this.name=t}on(...t){return new Ew(t,this.name)}},kw=class{static{a(this,"UniqueConstraint")}constructor(t,r,n,o){this.table=t,this.columns=r,this.name=o??Pw(this.table,this.columns.map(i=>i.name)),this.nullsNotDistinct=n}static[j]="PgUniqueConstraint";columns;name;nullsNotDistinct=!1;getName(){return this.name}}});function mz(e,t,r){for(let n=t;n<e.length;n++){let o=e[n];if(o==="\\"){n++;continue}if(o==='"')return[e.slice(t,n).replace(/\\/g,""),n+1];if(!r&&(o===","||o==="}"))return[e.slice(t,n).replace(/\\/g,""),n]}return[e.slice(t).replace(/\\/g,""),e.length]}function fz(e,t=0){let r=[],n=t,o=!1;for(;n<e.length;){let i=e[n];if(i===","){(o||n===t)&&r.push(""),o=!0,n++;continue}if(o=!1,i==="\\"){n+=2;continue}if(i==='"'){let[l,d]=mz(e,n+1,!0);r.push(l),n=d;continue}if(i==="}")return[r,n+1];if(i==="{"){let[l,d]=fz(e,n+1);r.push(l),n=d;continue}let[s,u]=mz(e,n,!1);r.push(s),n=u}return[r,n]}function hz(e){let[t]=fz(e,1);return t}function Ow(e){return`{${e.map(t=>Array.isArray(t)?Ow(t):typeof t=="string"?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}var Aw=W(()=>{a(mz,"parsePgArrayValue");a(fz,"parsePgNestedArray");a(hz,"parsePgArray");a(Ow,"makePgArray")});var Te,ge,Cw,uu,Rw,$w,ct=W(()=>{Sw();lo();he();xw();Tw();Iw();Aw();Te=class extends vl{static{a(this,"PgColumnBuilder")}foreignKeyConfigs=[];static[j]="PgColumnBuilder";array(t){return new Rw(this.config.name,this,t)}references(t,r={}){return this.foreignKeyConfigs.push({ref:t,actions:r}),this}unique(t,r){return this.config.isUnique=!0,this.config.uniqueName=t,this.config.uniqueType=r?.nulls,this}generatedAlwaysAs(t){return this.config.generated={as:t,type:"always",mode:"stored"},this}buildForeignKeys(t,r){return this.foreignKeyConfigs.map(({ref:n,actions:o})=>rf((i,s)=>{let u=new tf(()=>{let l=i();return{columns:[t],foreignColumns:[l]}});return s.onUpdate&&u.onUpdate(s.onUpdate),s.onDelete&&u.onDelete(s.onDelete),u.build(r)},n,o))}buildExtraConfigColumn(t){return new Cw(t,this.config)}},ge=class extends St{static{a(this,"PgColumn")}constructor(t,r){r.uniqueName||(r.uniqueName=Pw(t,[r.name])),super(t,r),this.table=t}static[j]="PgColumn"},Cw=class extends ge{static{a(this,"ExtraConfigColumn")}static[j]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(t){return this.indexConfig.opClass=t,this}},uu=class{static{a(this,"IndexedColumn")}static[j]="IndexedColumn";constructor(t,r,n,o){this.name=t,this.keyAsName=r,this.type=n,this.indexConfig=o}name;keyAsName;type;indexConfig},Rw=class extends Te{static{a(this,"PgArrayBuilder")}static[j]="PgArrayBuilder";constructor(t,r,n){super(t,"array","PgArray"),this.config.baseBuilder=r,this.config.size=n}build(t){let r=this.config.baseBuilder.build(t);return new $w(t,this.config,r)}},$w=class e extends ge{static{a(this,"PgArray")}constructor(t,r,n,o){super(t,r),this.baseColumn=n,this.range=o,this.size=r.size}size;static[j]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(t){return typeof t=="string"&&(t=hz(t)),t.map(r=>this.baseColumn.mapFromDriverValue(r))}mapToDriverValue(t,r=!1){let n=t.map(o=>o===null?null:Y(this.baseColumn,e)?this.baseColumn.mapToDriverValue(o,!0):this.baseColumn.mapToDriverValue(o));return r?n:Ow(n)}}});function gz(e){return!!e&&typeof e=="function"&&nf in e&&e[nf]===!0}function zt(e,t){return Array.isArray(t)?Mw(e,[...t],void 0):qw(e,t,void 0)}function Mw(e,t,r){let n=Object.assign(o=>new jw(o??"",n),{enumName:e,enumValues:t,schema:r,[nf]:!0});return n}function qw(e,t,r){let n=Object.assign(o=>new Nw(o??"",n),{enumName:e,enumValues:Object.values(t),schema:r,[nf]:!0});return n}var Nw,zw,nf,jw,Dw,of=W(()=>{he();ct();Nw=class extends Te{static{a(this,"PgEnumObjectColumnBuilder")}static[j]="PgEnumObjectColumnBuilder";constructor(t,r){super(t,"string","PgEnumObjectColumn"),this.config.enum=r}build(t){return new zw(t,this.config)}},zw=class extends ge{static{a(this,"PgEnumObjectColumn")}static[j]="PgEnumObjectColumn";enum;enumValues=this.config.enum.enumValues;constructor(t,r){super(t,r),this.enum=r.enum}getSQLType(){return this.enum.enumName}},nf=Symbol.for("drizzle:isPgEnum");a(gz,"isPgEnum");jw=class extends Te{static{a(this,"PgEnumColumnBuilder")}static[j]="PgEnumColumnBuilder";constructor(t,r){super(t,"string","PgEnumColumn"),this.config.enum=r}build(t){return new Dw(t,this.config)}},Dw=class extends ge{static{a(this,"PgEnumColumn")}static[j]="PgEnumColumn";enum=this.config.enum;enumValues=this.config.enum.enumValues;constructor(t,r){super(t,r),this.enum=r.enum}getSQLType(){return this.enum.enumName}};a(zt,"pgEnum");a(Mw,"pgEnumWithSchema");a(qw,"pgEnumObjectWithSchema")});var rr,ns,mo=W(()=>{he();rr=class{static{a(this,"Subquery")}static[j]="Subquery";constructor(t,r,n,o=!1,i=[]){this._={brand:"Subquery",sql:t,selectedFields:r,alias:n,isWith:o,usedTables:i}}},ns=class extends rr{static{a(this,"WithSubquery")}static[j]="WithSubquery"}});var yz,vz=W(()=>{yz="0.44.7"});var Uw,Lw,wr,ea=W(()=>{Tw();vz();wr={startActiveSpan(e,t){return Uw?(Lw||(Lw=Uw.trace.getTracer("drizzle-orm",yz)),rf((r,n)=>n.startActiveSpan(e,o=>{try{return t(o)}catch(i){throw o.setStatus({code:r.SpanStatusCode.ERROR,message:i instanceof Error?i.message:"Unknown error"}),i}finally{o.end()}}),Uw,Lw)):t()}}});var Ot,vi=W(()=>{Ot=Symbol.for("drizzle:ViewBaseConfig")});function RX(e){return typeof e=="object"&&e!==null&&_z in e}function Xr(e){return e[po]}function ra(e){return`${e[ta]??"public"}.${e[po]}`}var ta,_l,Fw,af,sf,cu,Bw,_z,ye,Yr=W(()=>{he();ef();ta=Symbol.for("drizzle:Schema"),_l=Symbol.for("drizzle:Columns"),Fw=Symbol.for("drizzle:ExtraConfigColumns"),af=Symbol.for("drizzle:OriginalName"),sf=Symbol.for("drizzle:BaseName"),cu=Symbol.for("drizzle:IsAlias"),Bw=Symbol.for("drizzle:ExtraConfigBuilder"),_z=Symbol.for("drizzle:IsDrizzleTable"),ye=class{static{a(this,"Table")}static[j]="Table";static Symbol={Name:po,Schema:ta,OriginalName:af,Columns:_l,ExtraConfigColumns:Fw,BaseName:sf,IsAlias:cu,ExtraConfigBuilder:Bw};[po];[af];[ta];[_l];[Fw];[sf];[cu]=!1;[_z]=!0;[Bw]=void 0;constructor(t,r,n){this[po]=this[af]=t,this[ta]=r,this[sf]=n}};a(RX,"isTable");a(Xr,"getTableName");a(ra,"getTableUniqueName")});function uf(e){return e!=null&&typeof e.getSQL=="function"}function $X(e){let t={sql:"",params:[]};for(let r of e)t.sql+=r.sql,t.params.push(...r.params),r.typings?.length&&(t.typings||(t.typings=[]),t.typings.push(...r.typings));return t}function NX(e){return new os(e)}function Hw(e){return typeof e=="object"&&e!==null&&"mapToDriverValue"in e&&typeof e.mapToDriverValue=="function"}function jX(e,t){return new Vr(e,t)}function q(e,...t){let r=[];(t.length>0||e.length>0&&e[0]!=="")&&r.push(new fr(e[0]));for(let[n,o]of t.entries())r.push(o,new fr(e[n+1]));return new be(r)}function DX(e){return new fo(e)}function _i(e,t){return e.map(r=>{if(Y(r,fo)){if(!(r.name in t))throw new Error(`No value for placeholder "${r.name}" was provided`);return t[r.name]}if(Y(r,Vr)&&Y(r.value,fo)){if(!(r.value.name in t))throw new Error(`No value for placeholder "${r.value.name}" was provided`);return r.encoder.mapToDriverValue(t[r.value.name])}return r})}function MX(e){return typeof e=="object"&&e!==null&&bz in e}function qX(e){return e[Ot].name}var Jw,fr,be,os,Vw,Zw,zX,Vr,fo,bz,Zr,Kt=W(()=>{he();of();mo();ea();vi();lo();Yr();Jw=class{static{a(this,"FakePrimitiveParam")}static[j]="FakePrimitiveParam"};a(uf,"isSQLWrapper");a($X,"mergeQueries");fr=class{static{a(this,"StringChunk")}static[j]="StringChunk";value;constructor(t){this.value=Array.isArray(t)?t:[t]}getSQL(){return new be([this])}},be=class e{static{a(this,"SQL")}constructor(t){this.queryChunks=t;for(let r of t)if(Y(r,ye)){let n=r[ye.Symbol.Schema];this.usedTables.push(n===void 0?r[ye.Symbol.Name]:n+"."+r[ye.Symbol.Name])}}static[j]="SQL";decoder=Vw;shouldInlineParams=!1;usedTables=[];append(t){return this.queryChunks.push(...t.queryChunks),this}toQuery(t){return wr.startActiveSpan("drizzle.buildSQL",r=>{let n=this.buildQueryFromSourceParams(this.queryChunks,t);return r?.setAttributes({"drizzle.query.text":n.sql,"drizzle.query.params":JSON.stringify(n.params)}),n})}buildQueryFromSourceParams(t,r){let n=Object.assign({},r,{inlineParams:r.inlineParams||this.shouldInlineParams,paramStartIndex:r.paramStartIndex||{value:0}}),{casing:o,escapeName:i,escapeParam:s,prepareTyping:u,inlineParams:l,paramStartIndex:d}=n;return $X(t.map(p=>{if(Y(p,fr))return{sql:p.value.join(""),params:[]};if(Y(p,os))return{sql:i(p.value),params:[]};if(p===void 0)return{sql:"",params:[]};if(Array.isArray(p)){let f=[new fr("(")];for(let[m,y]of p.entries())f.push(y),m<p.length-1&&f.push(new fr(", "));return f.push(new fr(")")),this.buildQueryFromSourceParams(f,n)}if(Y(p,e))return this.buildQueryFromSourceParams(p.queryChunks,{...n,inlineParams:l||p.shouldInlineParams});if(Y(p,ye)){let f=p[ye.Symbol.Schema],m=p[ye.Symbol.Name];return{sql:f===void 0||p[cu]?i(m):i(f)+"."+i(m),params:[]}}if(Y(p,St)){let f=o.getColumnCasing(p);if(r.invokeSource==="indexes")return{sql:i(f),params:[]};let m=p.table[ye.Symbol.Schema];return{sql:p.table[cu]||m===void 0?i(p.table[ye.Symbol.Name])+"."+i(f):i(m)+"."+i(p.table[ye.Symbol.Name])+"."+i(f),params:[]}}if(Y(p,Zr)){let f=p[Ot].schema,m=p[Ot].name;return{sql:f===void 0||p[Ot].isAlias?i(m):i(f)+"."+i(m),params:[]}}if(Y(p,Vr)){if(Y(p.value,fo))return{sql:s(d.value++,p),params:[p],typings:["none"]};let f=p.value===null?null:p.encoder.mapToDriverValue(p.value);if(Y(f,e))return this.buildQueryFromSourceParams([f],n);if(l)return{sql:this.mapInlineParam(f,n),params:[]};let m=["none"];return u&&(m=[u(p.encoder)]),{sql:s(d.value++,f),params:[f],typings:m}}return Y(p,fo)?{sql:s(d.value++,p),params:[p],typings:["none"]}:Y(p,e.Aliased)&&p.fieldAlias!==void 0?{sql:i(p.fieldAlias),params:[]}:Y(p,rr)?p._.isWith?{sql:i(p._.alias),params:[]}:this.buildQueryFromSourceParams([new fr("("),p._.sql,new fr(") "),new os(p._.alias)],n):gz(p)?p.schema?{sql:i(p.schema)+"."+i(p.enumName),params:[]}:{sql:i(p.enumName),params:[]}:uf(p)?p.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([p.getSQL()],n):this.buildQueryFromSourceParams([new fr("("),p.getSQL(),new fr(")")],n):l?{sql:this.mapInlineParam(p,n),params:[]}:{sql:s(d.value++,p),params:[p],typings:["none"]}}))}mapInlineParam(t,{escapeString:r}){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return t.toString();if(typeof t=="string")return r(t);if(typeof t=="object"){let n=t.toString();return r(n==="[object Object]"?JSON.stringify(t):n)}throw new Error("Unexpected param value: "+t)}getSQL(){return this}as(t){return t===void 0?this:new e.Aliased(this,t)}mapWith(t){return this.decoder=typeof t=="function"?{mapFromDriverValue:t}:t,this}inlineParams(){return this.shouldInlineParams=!0,this}if(t){return t?this:void 0}},os=class{static{a(this,"Name")}constructor(t){this.value=t}static[j]="Name";brand;getSQL(){return new be([this])}};a(NX,"name");a(Hw,"isDriverValueEncoder");Vw={mapFromDriverValue:a(e=>e,"mapFromDriverValue")},Zw={mapToDriverValue:a(e=>e,"mapToDriverValue")},zX={...Vw,...Zw},Vr=class{static{a(this,"Param")}constructor(t,r=Zw){this.value=t,this.encoder=r}static[j]="Param";brand;getSQL(){return new be([this])}};a(jX,"param");a(q,"sql");(e=>{function t(){return new be([])}a(t,"empty"),e.empty=t;function r(l){return new be(l)}a(r,"fromList"),e.fromList=r;function n(l){return new be([new fr(l)])}a(n,"raw"),e.raw=n;function o(l,d){let p=[];for(let[f,m]of l.entries())f>0&&d!==void 0&&p.push(d),p.push(m);return new be(p)}a(o,"join"),e.join=o;function i(l){return new os(l)}a(i,"identifier"),e.identifier=i;function s(l){return new fo(l)}a(s,"placeholder2"),e.placeholder=s;function u(l,d){return new Vr(l,d)}a(u,"param2"),e.param=u})(q||(q={}));(e=>{class t{static{a(this,"Aliased")}constructor(n,o){this.sql=n,this.fieldAlias=o}static[j]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new t(this.sql,this.fieldAlias)}}e.Aliased=t})(be||(be={}));fo=class{static{a(this,"Placeholder")}constructor(t){this.name=t}static[j]="Placeholder";getSQL(){return new be([this])}};a(DX,"placeholder");a(_i,"fillPlaceholders");bz=Symbol.for("drizzle:IsDrizzleView"),Zr=class{static{a(this,"View")}static[j]="View";[Ot];[bz]=!0;constructor({name:t,schema:r,selectedFields:n,query:o}){this[Ot]={name:t,originalName:t,schema:r,selectedFields:n,query:o,isExisting:!o,isAlias:!1}}getSQL(){return new be([this])}};a(MX,"isView");a(qX,"getViewName");St.prototype.getSQL=function(){return new be([this])};ye.prototype.getSQL=function(){return new be([this])};rr.prototype.getSQL=function(){return new be([this])}});function lu(e,t){return new Proxy(e,new is(t,!1))}function UX(e,t){return new Proxy(e,new cf(t))}function ho(e,t){return new Proxy(e,new na(new Proxy(e.table,new is(t,!1))))}function lf(e,t){return new be.Aliased(du(e.sql,t),e.fieldAlias)}function du(e,t){return q.join(e.queryChunks.map(r=>Y(r,St)?ho(r,t):Y(r,be)?du(r,t):Y(r,be.Aliased)?lf(r,t):r))}var na,is,cf,df=W(()=>{lo();he();Kt();Yr();vi();na=class{static{a(this,"ColumnAliasProxyHandler")}constructor(t){this.table=t}static[j]="ColumnAliasProxyHandler";get(t,r){return r==="table"?this.table:t[r]}},is=class{static{a(this,"TableAliasProxyHandler")}constructor(t,r){this.alias=t,this.replaceOriginalName=r}static[j]="TableAliasProxyHandler";get(t,r){if(r===ye.Symbol.IsAlias)return!0;if(r===ye.Symbol.Name)return this.alias;if(this.replaceOriginalName&&r===ye.Symbol.OriginalName)return this.alias;if(r===Ot)return{...t[Ot],name:this.alias,isAlias:!0};if(r===ye.Symbol.Columns){let o=t[ye.Symbol.Columns];if(!o)return o;let i={};return Object.keys(o).map(s=>{i[s]=new Proxy(o[s],new na(new Proxy(t,this)))}),i}let n=t[r];return Y(n,St)?new Proxy(n,new na(new Proxy(t,this))):n}},cf=class{static{a(this,"RelationTableAliasProxyHandler")}constructor(t){this.alias=t}static[j]="RelationTableAliasProxyHandler";get(t,r){return r==="sourceTable"?lu(t.sourceTable,this.alias):t[r]}};a(lu,"aliasedTable");a(UX,"aliasedRelation");a(ho,"aliasedTableColumn");a(lf,"mapColumnsInAliasedSQLToAlias");a(du,"mapColumnsInSQLToAlias")});var pu,Fo,bl,pf=W(()=>{he();pu=class extends Error{static{a(this,"DrizzleError")}static[j]="DrizzleError";constructor({message:t,cause:r}){super(t),this.name="DrizzleError",this.cause=r}},Fo=class e extends Error{static{a(this,"DrizzleQueryError")}constructor(t,r,n){super(`Failed query: ${t}
params: ${r}`),this.query=t,this.params=r,this.cause=n,Error.captureStackTrace(this,e),n&&(this.cause=n)}},bl=class extends pu{static{a(this,"TransactionRollbackError")}static[j]="TransactionRollbackError";constructor(){super({message:"Rollback"})}}});var mf,as,ss,mu=W(()=>{he();mf=class{static{a(this,"ConsoleLogWriter")}static[j]="ConsoleLogWriter";write(t){console.log(t)}},as=class{static{a(this,"DefaultLogger")}static[j]="DefaultLogger";writer;constructor(t){this.writer=t?.writer??new mf}logQuery(t,r){let n=r.map(i=>{try{return JSON.stringify(i)}catch{return String(i)}}),o=n.length?` -- params: [${n.join(", ")}]`:"";this.writer.write(`Query: ${t}${o}`)}},ss=class{static{a(this,"NoopLogger")}static[j]="NoopLogger";logQuery(){}}});var Sz=W(()=>{});var qr,bi=W(()=>{he();qr=class{static{a(this,"QueryPromise")}static[j]="QueryPromise";[Symbol.toStringTag]="QueryPromise";catch(t){return this.then(void 0,t)}finally(t){return this.then(r=>(t?.(),r),r=>{throw t?.(),r})}then(t,r){return this.execute().then(t,r)}}});function Sl(e,t,r){let n={},o=e.reduce((i,{path:s,field:u},l)=>{let d;Y(u,St)?d=u:Y(u,be)?d=u.decoder:d=u.sql.decoder;let p=i;for(let[f,m]of s.entries())if(f<s.length-1)m in p||(p[m]={}),p=p[m];else{let y=t[l],g=p[m]=y===null?null:d.mapFromDriverValue(y);if(r&&Y(u,St)&&s.length===2){let h=s[0];h in n?typeof n[h]=="string"&&n[h]!==Xr(u.table)&&(n[h]=!1):n[h]=g===null?Xr(u.table):!1}}return i},{});if(r&&Object.keys(n).length>0)for(let[i,s]of Object.entries(n))typeof s=="string"&&!r[s]&&(o[i]=null);return o}function Nn(e,t){return Object.entries(e).reduce((r,[n,o])=>{if(typeof n!="string")return r;let i=t?[...t,n]:[n];return Y(o,St)||Y(o,be)||Y(o,be.Aliased)?r.push({path:i,field:o}):Y(o,ye)?r.push(...Nn(o[ye.Symbol.Columns],i)):r.push(...Nn(o,i)),r},[])}function fu(e,t){let r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let[o,i]of r.entries())if(i!==n[o])return!1;return!0}function wl(e,t){let r=Object.entries(t).filter(([,n])=>n!==void 0).map(([n,o])=>Y(o,be)||Y(o,St)?[n,o]:[n,new Vr(o,e[ye.Symbol.Columns][n])]);if(r.length===0)throw new Error("No values to set");return Object.fromEntries(r)}function Kw(e,t){for(let r of t)for(let n of Object.getOwnPropertyNames(r.prototype))n!=="constructor"&&Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(r.prototype,n)||Object.create(null))}function hu(e){return e[ye.Symbol.Columns]}function LX(e){return e[Ot].selectedFields}function Bo(e){return Y(e,rr)?e._.alias:Y(e,Zr)?e[Ot].name:Y(e,be)?void 0:e[ye.Symbol.IsAlias]?e[ye.Symbol.Name]:e[ye.Symbol.BaseName]}function lt(e,t){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:t}}function xl(e){if(typeof e!="object"||e===null||e.constructor.name!=="Object")return!1;if("logger"in e){let t=typeof e.logger;return!(t!=="boolean"&&(t!=="object"||typeof e.logger.logQuery!="function")&&t!=="undefined")}if("schema"in e){let t=typeof e.schema;return!(t!=="object"&&t!=="undefined")}if("casing"in e){let t=typeof e.casing;return!(t!=="string"&&t!=="undefined")}if("mode"in e)return!(e.mode!=="default"||e.mode!=="planetscale"||e.mode!==void 0);if("connection"in e){let t=typeof e.connection;return!(t!=="string"&&t!=="object"&&t!=="undefined")}if("client"in e){let t=typeof e.client;return!(t!=="object"&&t!=="function"&&t!=="undefined")}return Object.keys(e).length===0}var FX,Et=W(()=>{lo();he();Kt();mo();Yr();vi();a(Sl,"mapResultRow");a(Nn,"orderSelectedFields");a(fu,"haveSameKeys");a(wl,"mapUpdateSet");a(Kw,"applyMixins");a(hu,"getTableColumns");a(LX,"getViewSelectedFields");a(Bo,"getTableLikeName");a(lt,"getColumnNameAndConfig");a(xl,"isConfig");FX=typeof TextDecoder>"u"?null:new TextDecoder});var Si,Tl=W(()=>{he();ct();Si=class extends Te{static{a(this,"PgIntColumnBaseBuilder")}static[j]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(t){if(t){let{name:r,...n}=t;this.config.generatedIdentity={type:"always",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(t){if(t){let{name:r,...n}=t;this.config.generatedIdentity={type:"byDefault",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}});function wz(e,t){let{name:r,config:n}=lt(e,t);return n.mode==="number"?new Gw(r):new Qw(r)}var Gw,Ww,Qw,Xw,Yw=W(()=>{he();Et();ct();Tl();Gw=class extends Si{static{a(this,"PgBigInt53Builder")}static[j]="PgBigInt53Builder";constructor(t){super(t,"number","PgBigInt53")}build(t){return new Ww(t,this.config)}},Ww=class extends ge{static{a(this,"PgBigInt53")}static[j]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}},Qw=class extends Si{static{a(this,"PgBigInt64Builder")}static[j]="PgBigInt64Builder";constructor(t){super(t,"bigint","PgBigInt64")}build(t){return new Xw(t,this.config)}},Xw=class extends ge{static{a(this,"PgBigInt64")}static[j]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(t){return BigInt(t)}};a(wz,"bigint")});function xz(e,t){let{name:r,config:n}=lt(e,t);return n.mode==="number"?new ex(r):new rx(r)}var ex,tx,rx,nx,ox=W(()=>{he();Et();ct();ex=class extends Te{static{a(this,"PgBigSerial53Builder")}static[j]="PgBigSerial53Builder";constructor(t){super(t,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new tx(t,this.config)}},tx=class extends ge{static{a(this,"PgBigSerial53")}static[j]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}},rx=class extends Te{static{a(this,"PgBigSerial64Builder")}static[j]="PgBigSerial64Builder";constructor(t){super(t,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(t){return new nx(t,this.config)}},nx=class extends ge{static{a(this,"PgBigSerial64")}static[j]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(t){return BigInt(t)}};a(xz,"bigserial")});function se(e){return new ix(e??"")}var ix,ax,sx=W(()=>{he();ct();ix=class extends Te{static{a(this,"PgBooleanBuilder")}static[j]="PgBooleanBuilder";constructor(t){super(t,"boolean","PgBoolean")}build(t){return new ax(t,this.config)}},ax=class extends ge{static{a(this,"PgBoolean")}static[j]="PgBoolean";getSQLType(){return"boolean"}};a(se,"boolean")});function Tz(e,t={}){let{name:r,config:n}=lt(e,t);return new ux(r,n)}var ux,cx,lx=W(()=>{he();Et();ct();ux=class extends Te{static{a(this,"PgCharBuilder")}static[j]="PgCharBuilder";constructor(t,r){super(t,"string","PgChar"),this.config.length=r.length,this.config.enumValues=r.enum}build(t){return new cx(t,this.config)}},cx=class extends ge{static{a(this,"PgChar")}static[j]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"char":`char(${this.length})`}};a(Tz,"char")});function Ez(e){return new dx(e??"")}var dx,px,mx=W(()=>{he();ct();dx=class extends Te{static{a(this,"PgCidrBuilder")}static[j]="PgCidrBuilder";constructor(t){super(t,"string","PgCidr")}build(t){return new px(t,this.config)}},px=class extends ge{static{a(this,"PgCidr")}static[j]="PgCidr";getSQLType(){return"cidr"}};a(Ez,"cidr")});function kz(e){return(t,r)=>{let{name:n,config:o}=lt(t,r);return new fx(n,o,e)}}var fx,hx,gx=W(()=>{he();Et();ct();fx=class extends Te{static{a(this,"PgCustomColumnBuilder")}static[j]="PgCustomColumnBuilder";constructor(t,r,n){super(t,"custom","PgCustomColumn"),this.config.fieldConfig=r,this.config.customTypeParams=n}build(t){return new hx(t,this.config)}},hx=class extends ge{static{a(this,"PgCustomColumn")}static[j]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(t,r){super(t,r),this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(t){return typeof this.mapFrom=="function"?this.mapFrom(t):t}mapToDriverValue(t){return typeof this.mapTo=="function"?this.mapTo(t):t}};a(kz,"customType")});var Jo,ff=W(()=>{he();Kt();ct();Jo=class extends Te{static{a(this,"PgDateColumnBaseBuilder")}static[j]="PgDateColumnBaseBuilder";defaultNow(){return this.default(q`now()`)}}});function Kr(e,t){let{name:r,config:n}=lt(e,t);return n?.mode==="date"?new yx(r):new vx(r)}var yx,El,vx,kl,_x=W(()=>{he();Et();ct();ff();yx=class extends Jo{static{a(this,"PgDateBuilder")}static[j]="PgDateBuilder";constructor(t){super(t,"date","PgDate")}build(t){return new El(t,this.config)}},El=class extends ge{static{a(this,"PgDate")}static[j]="PgDate";getSQLType(){return"date"}mapFromDriverValue(t){return new Date(t)}mapToDriverValue(t){return t.toISOString()}},vx=class extends Jo{static{a(this,"PgDateStringBuilder")}static[j]="PgDateStringBuilder";constructor(t){super(t,"string","PgDateString")}build(t){return new kl(t,this.config)}},kl=class extends ge{static{a(this,"PgDateString")}static[j]="PgDateString";getSQLType(){return"date"}};a(Kr,"date")});function Pz(e){return new bx(e??"")}var bx,Sx,wx=W(()=>{he();ct();bx=class extends Te{static{a(this,"PgDoublePrecisionBuilder")}static[j]="PgDoublePrecisionBuilder";constructor(t){super(t,"number","PgDoublePrecision")}build(t){return new Sx(t,this.config)}},Sx=class extends ge{static{a(this,"PgDoublePrecision")}static[j]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(t){return typeof t=="string"?Number.parseFloat(t):t}};a(Pz,"doublePrecision")});function zn(e){return new xx(e??"")}var xx,Tx,Ex=W(()=>{he();ct();xx=class extends Te{static{a(this,"PgInetBuilder")}static[j]="PgInetBuilder";constructor(t){super(t,"string","PgInet")}build(t){return new Tx(t,this.config)}},Tx=class extends ge{static{a(this,"PgInet")}static[j]="PgInet";getSQLType(){return"inet"}};a(zn,"inet")});function yt(e){return new kx(e??"")}var kx,Px,Ix=W(()=>{he();ct();Tl();kx=class extends Si{static{a(this,"PgIntegerBuilder")}static[j]="PgIntegerBuilder";constructor(t){super(t,"number","PgInteger")}build(t){return new Px(t,this.config)}},Px=class extends ge{static{a(this,"PgInteger")}static[j]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(t){return typeof t=="string"?Number.parseInt(t):t}};a(yt,"integer")});function Iz(e,t={}){let{name:r,config:n}=lt(e,t);return new Ox(r,n)}var Ox,Ax,Cx=W(()=>{he();Et();ct();Ox=class extends Te{static{a(this,"PgIntervalBuilder")}static[j]="PgIntervalBuilder";constructor(t,r){super(t,"string","PgInterval"),this.config.intervalConfig=r}build(t){return new Ax(t,this.config)}},Ax=class extends ge{static{a(this,"PgInterval")}static[j]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){let t=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${t}${r}`}};a(Iz,"interval")});function Oz(e){return new Rx(e??"")}var Rx,Pl,$x=W(()=>{he();ct();Rx=class extends Te{static{a(this,"PgJsonBuilder")}static[j]="PgJsonBuilder";constructor(t){super(t,"json","PgJson")}build(t){return new Pl(t,this.config)}},Pl=class extends ge{static{a(this,"PgJson")}static[j]="PgJson";constructor(t,r){super(t,r)}getSQLType(){return"json"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}};a(Oz,"json")});function Le(e){return new Nx(e??"")}var Nx,Il,zx=W(()=>{he();ct();Nx=class extends Te{static{a(this,"PgJsonbBuilder")}static[j]="PgJsonbBuilder";constructor(t){super(t,"json","PgJsonb")}build(t){return new Il(t,this.config)}},Il=class extends ge{static{a(this,"PgJsonb")}static[j]="PgJsonb";constructor(t,r){super(t,r)}getSQLType(){return"jsonb"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}};a(Le,"jsonb")});function Az(e,t){let{name:r,config:n}=lt(e,t);return!n?.mode||n.mode==="tuple"?new jx(r):new Mx(r)}var jx,Dx,Mx,qx,Ux=W(()=>{he();Et();ct();jx=class extends Te{static{a(this,"PgLineBuilder")}static[j]="PgLineBuilder";constructor(t){super(t,"array","PgLine")}build(t){return new Dx(t,this.config)}},Dx=class extends ge{static{a(this,"PgLineTuple")}static[j]="PgLine";getSQLType(){return"line"}mapFromDriverValue(t){let[r,n,o]=t.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n),Number.parseFloat(o)]}mapToDriverValue(t){return`{${t[0]},${t[1]},${t[2]}}`}},Mx=class extends Te{static{a(this,"PgLineABCBuilder")}static[j]="PgLineABCBuilder";constructor(t){super(t,"json","PgLineABC")}build(t){return new qx(t,this.config)}},qx=class extends ge{static{a(this,"PgLineABC")}static[j]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(t){let[r,n,o]=t.slice(1,-1).split(",");return{a:Number.parseFloat(r),b:Number.parseFloat(n),c:Number.parseFloat(o)}}mapToDriverValue(t){return`{${t.a},${t.b},${t.c}}`}};a(Az,"line")});function Cz(e){return new Lx(e??"")}var Lx,Fx,Bx=W(()=>{he();ct();Lx=class extends Te{static{a(this,"PgMacaddrBuilder")}static[j]="PgMacaddrBuilder";constructor(t){super(t,"string","PgMacaddr")}build(t){return new Fx(t,this.config)}},Fx=class extends ge{static{a(this,"PgMacaddr")}static[j]="PgMacaddr";getSQLType(){return"macaddr"}};a(Cz,"macaddr")});function Rz(e){return new Jx(e??"")}var Jx,Hx,Vx=W(()=>{he();ct();Jx=class extends Te{static{a(this,"PgMacaddr8Builder")}static[j]="PgMacaddr8Builder";constructor(t){super(t,"string","PgMacaddr8")}build(t){return new Hx(t,this.config)}},Hx=class extends ge{static{a(this,"PgMacaddr8")}static[j]="PgMacaddr8";getSQLType(){return"macaddr8"}};a(Rz,"macaddr8")});function Xx(e,t){let{name:r,config:n}=lt(e,t),o=n?.mode;return o==="number"?new Kx(r,n?.precision,n?.scale):o==="bigint"?new Wx(r,n?.precision,n?.scale):new Zx(r,n?.precision,n?.scale)}var Zx,Ol,Kx,Gx,Wx,Qx,He,Yx=W(()=>{he();Et();ct();Zx=class extends Te{static{a(this,"PgNumericBuilder")}static[j]="PgNumericBuilder";constructor(t,r,n){super(t,"string","PgNumeric"),this.config.precision=r,this.config.scale=n}build(t){return new Ol(t,this.config)}},Ol=class extends ge{static{a(this,"PgNumeric")}static[j]="PgNumeric";precision;scale;constructor(t,r){super(t,r),this.precision=r.precision,this.scale=r.scale}mapFromDriverValue(t){return typeof t=="string"?t:String(t)}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}},Kx=class extends Te{static{a(this,"PgNumericNumberBuilder")}static[j]="PgNumericNumberBuilder";constructor(t,r,n){super(t,"number","PgNumericNumber"),this.config.precision=r,this.config.scale=n}build(t){return new Gx(t,this.config)}},Gx=class extends ge{static{a(this,"PgNumericNumber")}static[j]="PgNumericNumber";precision;scale;constructor(t,r){super(t,r),this.precision=r.precision,this.scale=r.scale}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}mapToDriverValue=String;getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}},Wx=class extends Te{static{a(this,"PgNumericBigIntBuilder")}static[j]="PgNumericBigIntBuilder";constructor(t,r,n){super(t,"bigint","PgNumericBigInt"),this.config.precision=r,this.config.scale=n}build(t){return new Qx(t,this.config)}},Qx=class extends ge{static{a(this,"PgNumericBigInt")}static[j]="PgNumericBigInt";precision;scale;constructor(t,r){super(t,r),this.precision=r.precision,this.scale=r.scale}mapFromDriverValue=BigInt;mapToDriverValue=String;getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}};a(Xx,"numeric");He=Xx});function $z(e,t){let{name:r,config:n}=lt(e,t);return!n?.mode||n.mode==="tuple"?new e0(r):new r0(r)}var e0,t0,r0,n0,o0=W(()=>{he();Et();ct();e0=class extends Te{static{a(this,"PgPointTupleBuilder")}static[j]="PgPointTupleBuilder";constructor(t){super(t,"array","PgPointTuple")}build(t){return new t0(t,this.config)}},t0=class extends ge{static{a(this,"PgPointTuple")}static[j]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){let[r,n]=t.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n)]}return[t.x,t.y]}mapToDriverValue(t){return`(${t[0]},${t[1]})`}},r0=class extends Te{static{a(this,"PgPointObjectBuilder")}static[j]="PgPointObjectBuilder";constructor(t){super(t,"json","PgPointObject")}build(t){return new n0(t,this.config)}},n0=class extends ge{static{a(this,"PgPointObject")}static[j]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){let[r,n]=t.slice(1,-1).split(",");return{x:Number.parseFloat(r),y:Number.parseFloat(n)}}return t}mapToDriverValue(t){return`(${t.x},${t.y})`}};a($z,"point")});function BX(e){let t=[];for(let r=0;r<e.length;r+=2)t.push(Number.parseInt(e.slice(r,r+2),16));return new Uint8Array(t)}function Nz(e,t){let r=new ArrayBuffer(8),n=new DataView(r);for(let o=0;o<8;o++)n.setUint8(o,e[t+o]);return n.getFloat64(0,!0)}function i0(e){let t=BX(e),r=0,n=t[r];r+=1;let o=new DataView(t.buffer),i=o.getUint32(r,n===1);r+=4;let s;if(i&536870912&&(s=o.getUint32(r,n===1),r+=4),(i&65535)===1){let u=Nz(t,r);r+=8;let l=Nz(t,r);return r+=8,[u,l]}throw new Error("Unsupported geometry type")}var zz=W(()=>{a(BX,"hexToBytes");a(Nz,"bytesToFloat64");a(i0,"parseEWKB")});function jz(e,t){let{name:r,config:n}=lt(e,t);return!n?.mode||n.mode==="tuple"?new a0(r):new u0(r)}var a0,s0,u0,c0,l0=W(()=>{he();Et();ct();zz();a0=class extends Te{static{a(this,"PgGeometryBuilder")}static[j]="PgGeometryBuilder";constructor(t){super(t,"array","PgGeometry")}build(t){return new s0(t,this.config)}},s0=class extends ge{static{a(this,"PgGeometry")}static[j]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(t){return i0(t)}mapToDriverValue(t){return`point(${t[0]} ${t[1]})`}},u0=class extends Te{static{a(this,"PgGeometryObjectBuilder")}static[j]="PgGeometryObjectBuilder";constructor(t){super(t,"json","PgGeometryObject")}build(t){return new c0(t,this.config)}},c0=class extends ge{static{a(this,"PgGeometryObject")}static[j]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(t){let r=i0(t);return{x:r[0],y:r[1]}}mapToDriverValue(t){return`point(${t.x} ${t.y})`}};a(jz,"geometry")});function Dz(e){return new d0(e??"")}var d0,p0,m0=W(()=>{he();ct();d0=class extends Te{static{a(this,"PgRealBuilder")}static[j]="PgRealBuilder";constructor(t,r){super(t,"number","PgReal"),this.config.length=r}build(t){return new p0(t,this.config)}},p0=class extends ge{static{a(this,"PgReal")}static[j]="PgReal";constructor(t,r){super(t,r)}getSQLType(){return"real"}mapFromDriverValue=a(t=>typeof t=="string"?Number.parseFloat(t):t,"mapFromDriverValue")};a(Dz,"real")});function Mz(e){return new f0(e??"")}var f0,h0,g0=W(()=>{he();ct();f0=class extends Te{static{a(this,"PgSerialBuilder")}static[j]="PgSerialBuilder";constructor(t){super(t,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new h0(t,this.config)}},h0=class extends ge{static{a(this,"PgSerial")}static[j]="PgSerial";getSQLType(){return"serial"}};a(Mz,"serial")});function qz(e){return new y0(e??"")}var y0,v0,_0=W(()=>{he();ct();Tl();y0=class extends Si{static{a(this,"PgSmallIntBuilder")}static[j]="PgSmallIntBuilder";constructor(t){super(t,"number","PgSmallInt")}build(t){return new v0(t,this.config)}},v0=class extends ge{static{a(this,"PgSmallInt")}static[j]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=a(t=>typeof t=="string"?Number(t):t,"mapFromDriverValue")};a(qz,"smallint")});function Uz(e){return new b0(e??"")}var b0,S0,w0=W(()=>{he();ct();b0=class extends Te{static{a(this,"PgSmallSerialBuilder")}static[j]="PgSmallSerialBuilder";constructor(t){super(t,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new S0(t,this.config)}},S0=class extends ge{static{a(this,"PgSmallSerial")}static[j]="PgSmallSerial";getSQLType(){return"smallserial"}};a(Uz,"smallserial")});function T(e,t={}){let{name:r,config:n}=lt(e,t);return new x0(r,n)}var x0,T0,E0=W(()=>{he();Et();ct();x0=class extends Te{static{a(this,"PgTextBuilder")}static[j]="PgTextBuilder";constructor(t,r){super(t,"string","PgText"),this.config.enumValues=r.enum}build(t){return new T0(t,this.config)}},T0=class extends ge{static{a(this,"PgText")}static[j]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}};a(T,"text")});function Lz(e,t={}){let{name:r,config:n}=lt(e,t);return new k0(r,n.withTimezone??!1,n.precision)}var k0,Al,P0=W(()=>{he();Et();ct();ff();k0=class extends Jo{static{a(this,"PgTimeBuilder")}constructor(t,r,n){super(t,"string","PgTime"),this.withTimezone=r,this.precision=n,this.config.withTimezone=r,this.config.precision=n}static[j]="PgTimeBuilder";build(t){return new Al(t,this.config)}},Al=class extends ge{static{a(this,"PgTime")}static[j]="PgTime";withTimezone;precision;constructor(t,r){super(t,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}};a(Lz,"time")});function K(e,t={}){let{name:r,config:n}=lt(e,t);return n?.mode==="string"?new O0(r,n.withTimezone??!1,n.precision):new I0(r,n?.withTimezone??!1,n?.precision)}var I0,Cl,O0,Rl,A0=W(()=>{he();Et();ct();ff();I0=class extends Jo{static{a(this,"PgTimestampBuilder")}static[j]="PgTimestampBuilder";constructor(t,r,n){super(t,"date","PgTimestamp"),this.config.withTimezone=r,this.config.precision=n}build(t){return new Cl(t,this.config)}},Cl=class extends ge{static{a(this,"PgTimestamp")}static[j]="PgTimestamp";withTimezone;precision;constructor(t,r){super(t,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=a(t=>new Date(this.withTimezone?t:t+"+0000"),"mapFromDriverValue");mapToDriverValue=a(t=>t.toISOString(),"mapToDriverValue")},O0=class extends Jo{static{a(this,"PgTimestampStringBuilder")}static[j]="PgTimestampStringBuilder";constructor(t,r,n){super(t,"string","PgTimestampString"),this.config.withTimezone=r,this.config.precision=n}build(t){return new Rl(t,this.config)}},Rl=class extends ge{static{a(this,"PgTimestampString")}static[j]="PgTimestampString";withTimezone;precision;constructor(t,r){super(t,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}};a(K,"timestamp")});function gu(e){return new C0(e??"")}var C0,$l,R0=W(()=>{he();Kt();ct();C0=class extends Te{static{a(this,"PgUUIDBuilder")}static[j]="PgUUIDBuilder";constructor(t){super(t,"string","PgUUID")}defaultRandom(){return this.default(q`gen_random_uuid()`)}build(t){return new $l(t,this.config)}},$l=class extends ge{static{a(this,"PgUUID")}static[j]="PgUUID";getSQLType(){return"uuid"}};a(gu,"uuid")});function Fz(e,t={}){let{name:r,config:n}=lt(e,t);return new $0(r,n)}var $0,N0,z0=W(()=>{he();Et();ct();$0=class extends Te{static{a(this,"PgVarcharBuilder")}static[j]="PgVarcharBuilder";constructor(t,r){super(t,"string","PgVarchar"),this.config.length=r.length,this.config.enumValues=r.enum}build(t){return new N0(t,this.config)}},N0=class extends ge{static{a(this,"PgVarchar")}static[j]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}};a(Fz,"varchar")});function Bz(e,t){let{name:r,config:n}=lt(e,t);return new j0(r,n)}var j0,D0,M0=W(()=>{he();Et();ct();j0=class extends Te{static{a(this,"PgBinaryVectorBuilder")}static[j]="PgBinaryVectorBuilder";constructor(t,r){super(t,"string","PgBinaryVector"),this.config.dimensions=r.dimensions}build(t){return new D0(t,this.config)}},D0=class extends ge{static{a(this,"PgBinaryVector")}static[j]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}};a(Bz,"bit")});function Jz(e,t){let{name:r,config:n}=lt(e,t);return new q0(r,n)}var q0,U0,L0=W(()=>{he();Et();ct();q0=class extends Te{static{a(this,"PgHalfVectorBuilder")}static[j]="PgHalfVectorBuilder";constructor(t,r){super(t,"array","PgHalfVector"),this.config.dimensions=r.dimensions}build(t){return new U0(t,this.config)}},U0=class extends ge{static{a(this,"PgHalfVector")}static[j]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){return t.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}};a(Jz,"halfvec")});function Hz(e,t){let{name:r,config:n}=lt(e,t);return new F0(r,n)}var F0,B0,J0=W(()=>{he();Et();ct();F0=class extends Te{static{a(this,"PgSparseVectorBuilder")}static[j]="PgSparseVectorBuilder";constructor(t,r){super(t,"string","PgSparseVector"),this.config.dimensions=r.dimensions}build(t){return new B0(t,this.config)}},B0=class extends ge{static{a(this,"PgSparseVector")}static[j]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}};a(Hz,"sparsevec")});function Vz(e,t){let{name:r,config:n}=lt(e,t);return new H0(r,n)}var H0,V0,Z0=W(()=>{he();Et();ct();H0=class extends Te{static{a(this,"PgVectorBuilder")}static[j]="PgVectorBuilder";constructor(t,r){super(t,"array","PgVector"),this.config.dimensions=r.dimensions}build(t){return new V0(t,this.config)}},V0=class extends ge{static{a(this,"PgVector")}static[j]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){return t.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}};a(Vz,"vector")});function Zz(){return{bigint:wz,bigserial:xz,boolean:se,char:Tz,cidr:Ez,customType:kz,date:Kr,doublePrecision:Pz,inet:zn,integer:yt,interval:Iz,json:Oz,jsonb:Le,line:Az,macaddr:Cz,macaddr8:Rz,numeric:Xx,point:$z,geometry:jz,real:Dz,serial:Mz,smallint:qz,smallserial:Uz,text:T,time:Lz,timestamp:K,uuid:gu,varchar:Fz,bit:Bz,halfvec:Jz,sparsevec:Hz,vector:Vz}}var Kz=W(()=>{Yw();ox();sx();lx();mx();gx();_x();wx();Ex();Ix();Cx();$x();zx();Ux();Bx();Vx();Yx();o0();l0();m0();g0();_0();w0();E0();P0();A0();R0();z0();M0();L0();J0();Z0();a(Zz,"getPgColumnBuilders")});function G0(e,t,r,n,o=e){let i=new xr(e,n,o),s=typeof t=="function"?t(Zz()):t,u=Object.fromEntries(Object.entries(s).map(([p,f])=>{let m=f;m.setName(p);let y=m.build(i);return i[K0].push(...m.buildForeignKeys(y,i)),[p,y]})),l=Object.fromEntries(Object.entries(s).map(([p,f])=>{let m=f;m.setName(p);let y=m.buildExtraConfigColumn(i);return[p,y]})),d=Object.assign(i,u);return d[ye.Symbol.Columns]=u,d[ye.Symbol.ExtraConfigColumns]=l,r&&(d[xr.Symbol.ExtraConfigBuilder]=r),Object.assign(d,{enableRLS:a(()=>(d[xr.Symbol.EnableRLS]=!0,d),"enableRLS")})}var K0,Gz,xr,Ee,oa=W(()=>{he();Yr();Kz();K0=Symbol.for("drizzle:PgInlineForeignKeys"),Gz=Symbol.for("drizzle:EnableRLS"),xr=class extends ye{static{a(this,"PgTable")}static[j]="PgTable";static Symbol=Object.assign({},ye.Symbol,{InlineForeignKeys:K0,EnableRLS:Gz});[K0]=[];[Gz]=!1;[ye.Symbol.ExtraConfigBuilder]=void 0;[ye.Symbol.ExtraConfigColumns]={}};a(G0,"pgTableWithSchema");Ee=a((e,t,r)=>G0(e,t,r,void 0),"pgTable")});var hf,W0,Q0=W(()=>{he();oa();hf=class{static{a(this,"PrimaryKeyBuilder")}static[j]="PgPrimaryKeyBuilder";columns;name;constructor(t,r){this.columns=t,this.name=r}build(t){return new W0(t,this.columns,this.name)}},W0=class{static{a(this,"PrimaryKey")}constructor(t,r,n){this.table=t,this.columns=r,this.name=n}static[j]="PgPrimaryKey";columns;name;getName(){return this.name??`${this.table[xr.Symbol.Name]}_${this.columns.map(t=>t.name).join("_")}_pk`}}});function hr(e,t){return Hw(t)&&!uf(e)&&!Y(e,Vr)&&!Y(e,fo)&&!Y(e,St)&&!Y(e,ye)&&!Y(e,Zr)?new Vr(e,t):e}function Pe(...e){let t=e.filter(r=>r!==void 0);if(t.length!==0)return t.length===1?new be(t):new be([new fr("("),q.join(t,new fr(" and ")),new fr(")")])}function ia(...e){let t=e.filter(r=>r!==void 0);if(t.length!==0)return t.length===1?new be(t):new be([new fr("("),q.join(t,new fr(" or ")),new fr(")")])}function Y0(e){return q`not ${e}`}function us(e,t){return Array.isArray(t)?t.length===0?q`false`:q`${e} in ${t.map(r=>hr(r,e))}`:q`${e} in ${hr(t,e)}`}function rT(e,t){return Array.isArray(t)?t.length===0?q`true`:q`${e} not in ${t.map(r=>hr(r,e))}`:q`${e} not in ${hr(t,e)}`}function Nl(e){return q`${e} is null`}function nT(e){return q`${e} is not null`}function oT(e){return q`exists ${e}`}function iT(e){return q`not exists ${e}`}function aT(e,t,r){return q`${e} between ${hr(t,e)} and ${hr(r,e)}`}function sT(e,t,r){return q`${e} not between ${hr(t,e)} and ${hr(r,e)}`}function uT(e,t){return q`${e} like ${t}`}function cT(e,t){return q`${e} not like ${t}`}function Ur(e,t){return q`${e} ilike ${t}`}function lT(e,t){return q`${e} not ilike ${t}`}function JX(e,t){if(Array.isArray(t)){if(t.length===0)throw new Error("arrayContains requires at least one value");let r=q`${hr(t,e)}`;return q`${e} @> ${r}`}return q`${e} @> ${hr(t,e)}`}function HX(e,t){if(Array.isArray(t)){if(t.length===0)throw new Error("arrayContained requires at least one value");let r=q`${hr(t,e)}`;return q`${e} <@ ${r}`}return q`${e} <@ ${hr(t,e)}`}function VX(e,t){if(Array.isArray(t)){if(t.length===0)throw new Error("arrayOverlaps requires at least one value");let r=q`${hr(t,e)}`;return q`${e} && ${r}`}return q`${e} && ${hr(t,e)}`}var V,X0,eT,gr,tT,or,Wz=W(()=>{lo();he();Yr();Kt();a(hr,"bindIfParam");V=a((e,t)=>q`${e} = ${hr(t,e)}`,"eq"),X0=a((e,t)=>q`${e} <> ${hr(t,e)}`,"ne");a(Pe,"and");a(ia,"or");a(Y0,"not");eT=a((e,t)=>q`${e} > ${hr(t,e)}`,"gt"),gr=a((e,t)=>q`${e} >= ${hr(t,e)}`,"gte"),tT=a((e,t)=>q`${e} < ${hr(t,e)}`,"lt"),or=a((e,t)=>q`${e} <= ${hr(t,e)}`,"lte");a(us,"inArray");a(rT,"notInArray");a(Nl,"isNull");a(nT,"isNotNull");a(oT,"exists");a(iT,"notExists");a(aT,"between");a(sT,"notBetween");a(uT,"like");a(cT,"notLike");a(Ur,"ilike");a(lT,"notIlike");a(JX,"arrayContains");a(HX,"arrayContained");a(VX,"arrayOverlaps")});function wi(e){return q`${e} asc`}function Mt(e){return q`${e} desc`}var Qz=W(()=>{Kt();a(wi,"asc");a(Mt,"desc")});var dT=W(()=>{Wz();Qz()});function pT(){return{and:Pe,between:aT,eq:V,exists:oT,gt:eT,gte:gr,ilike:Ur,inArray:us,isNull:Nl,isNotNull:nT,like:uT,lt:tT,lte:or,ne:X0,not:Y0,notBetween:sT,notExists:iT,notLike:cT,notIlike:lT,notInArray:rT,or:ia,sql:q}}function mT(){return{sql:q,asc:wi,desc:Mt}}function Ml(e,t){Object.keys(e).length===1&&"default"in e&&!Y(e.default,ye)&&(e=e.default);let r={},n={},o={};for(let[i,s]of Object.entries(e))if(Y(s,ye)){let u=ra(s),l=n[u];r[u]=i,o[i]={tsName:i,dbName:s[ye.Symbol.Name],schema:s[ye.Symbol.Schema],columns:s[ye.Symbol.Columns],relations:l?.relations??{},primaryKey:l?.primaryKey??[]};for(let p of Object.values(s[ye.Symbol.Columns]))p.primary&&o[i].primaryKey.push(p);let d=s[ye.Symbol.ExtraConfigBuilder]?.(s[ye.Symbol.ExtraConfigColumns]);if(d)for(let p of Object.values(d))Y(p,hf)&&o[i].primaryKey.push(...p.columns)}else if(Y(s,jl)){let u=ra(s.table),l=r[u],d=s.config(t(s.table)),p;for(let[f,m]of Object.entries(d))if(l){let y=o[l];y.relations[f]=m,p&&y.primaryKey.push(...p)}else u in n||(n[u]={relations:{},primaryKey:p}),n[u].relations[f]=m}return{tables:o,tableNamesMap:r}}function Be(e,t){return new jl(e,r=>Object.fromEntries(Object.entries(t(r)).map(([n,o])=>[n,o.withFieldName(n)])))}function Xz(e){return a(function(r,n){return new xi(e,r,n,n?.fields.reduce((o,i)=>o&&i.notNull,!0)??!1)},"one")}function Yz(e){return a(function(r,n){return new yu(e,r,n)},"many")}function fT(e,t,r){if(Y(r,xi)&&r.config)return{fields:r.config.fields,references:r.config.references};let n=t[ra(r.referencedTable)];if(!n)throw new Error(`Table "${r.referencedTable[ye.Symbol.Name]}" not found in schema`);let o=e[n];if(!o)throw new Error(`Table "${n}" not found in schema`);let i=r.sourceTable,s=t[ra(i)];if(!s)throw new Error(`Table "${i[ye.Symbol.Name]}" not found in schema`);let u=[];for(let l of Object.values(o.relations))(r.relationName&&r!==l&&l.relationName===r.relationName||!r.relationName&&l.referencedTable===r.sourceTable)&&u.push(l);if(u.length>1)throw r.relationName?new Error(`There are multiple relations with name "${r.relationName}" in table "${n}"`):new Error(`There are multiple relations between "${n}" and "${r.sourceTable[ye.Symbol.Name]}". Please specify relation name`);if(u[0]&&Y(u[0],xi)&&u[0].config)return{fields:u[0].config.references,references:u[0].config.fields};throw new Error(`There is not enough information to infer relation "${s}.${r.fieldName}"`)}function ql(e){return{one:Xz(e),many:Yz(e)}}function Dl(e,t,r,n,o=i=>i){let i={};for(let[s,u]of n.entries())if(u.isJson){let l=t.relations[u.tsKey],d=r[s],p=typeof d=="string"?JSON.parse(d):d;i[u.tsKey]=Y(l,xi)?p&&Dl(e,e[u.relationTableTsKey],p,u.selection,o):p.map(f=>Dl(e,e[u.relationTableTsKey],f,u.selection,o))}else{let l=o(r[s]),d=u.field,p;Y(d,St)?p=d:Y(d,be)?p=d.decoder:p=d.sql.decoder,i[u.tsKey]=l===null?null:p.mapFromDriverValue(l)}return i}var zl,jl,xi,yu,vu=W(()=>{Yr();lo();he();Q0();dT();Kt();zl=class{static{a(this,"Relation")}constructor(t,r,n){this.sourceTable=t,this.referencedTable=r,this.relationName=n,this.referencedTableName=r[ye.Symbol.Name]}static[j]="Relation";referencedTableName;fieldName},jl=class{static{a(this,"Relations")}constructor(t,r){this.table=t,this.config=r}static[j]="Relations"},xi=class e extends zl{static{a(this,"One")}constructor(t,r,n,o){super(t,r,n?.relationName),this.config=n,this.isNullable=o}static[j]="One";withFieldName(t){let r=new e(this.sourceTable,this.referencedTable,this.config,this.isNullable);return r.fieldName=t,r}},yu=class e extends zl{static{a(this,"Many")}constructor(t,r,n){super(t,r,n?.relationName),this.config=n}static[j]="Many";withFieldName(t){let r=new e(this.sourceTable,this.referencedTable,this.config);return r.fieldName=t,r}};a(pT,"getOperators");a(mT,"getOrderByOperators");a(Ml,"extractTablesRelationalConfig");a(Be,"relations");a(Xz,"createOne");a(Yz,"createMany");a(fT,"normalizeRelation");a(ql,"createTableRelationsHelpers");a(Dl,"mapRelationalRow")});function hT(e){return q`count(${e||q.raw("*")})`.mapWith(Number)}function ZX(e){return q`count(distinct ${e})`.mapWith(Number)}function KX(e){return q`avg(${e})`.mapWith(String)}function GX(e){return q`avg(distinct ${e})`.mapWith(String)}function Ul(e){return q`sum(${e})`.mapWith(String)}function WX(e){return q`sum(distinct ${e})`.mapWith(String)}function QX(e){return q`max(${e})`.mapWith(Y(e,St)?e:String)}function XX(e){return q`min(${e})`.mapWith(Y(e,St)?e:String)}var ej=W(()=>{lo();he();Kt();a(hT,"count");a(ZX,"countDistinct");a(KX,"avg");a(GX,"avgDistinct");a(Ul,"sum");a(WX,"sumDistinct");a(QX,"max");a(XX,"min")});function _u(e){return JSON.stringify(e)}function YX(e,t){return Array.isArray(t)?q`${e} <-> ${_u(t)}`:q`${e} <-> ${t}`}function eY(e,t){return Array.isArray(t)?q`${e} <+> ${_u(t)}`:q`${e} <+> ${t}`}function tY(e,t){return Array.isArray(t)?q`${e} <#> ${_u(t)}`:q`${e} <#> ${t}`}function rY(e,t){return Array.isArray(t)?q`${e} <=> ${_u(t)}`:q`${e} <=> ${t}`}function nY(e,t){return Array.isArray(t)?q`${e} <~> ${_u(t)}`:q`${e} <~> ${t}`}function oY(e,t){return Array.isArray(t)?q`${e} <%> ${_u(t)}`:q`${e} <%> ${t}`}var tj=W(()=>{Kt();a(_u,"toSql");a(YX,"l2Distance");a(eY,"l1Distance");a(tY,"innerProduct");a(rY,"cosineDistance");a(nY,"hammingDistance");a(oY,"jaccardDistance")});var rj=W(()=>{ej();tj()});var gf=W(()=>{dT();rj();Kt()});var gT={};_n(gT,{BaseName:()=>sf,Column:()=>St,ColumnAliasProxyHandler:()=>na,ColumnBuilder:()=>vl,Columns:()=>_l,ConsoleLogWriter:()=>mf,DefaultLogger:()=>as,DrizzleError:()=>pu,DrizzleQueryError:()=>Fo,ExtraConfigBuilder:()=>Bw,ExtraConfigColumns:()=>Fw,FakePrimitiveParam:()=>Jw,IsAlias:()=>cu,Many:()=>yu,Name:()=>os,NoopLogger:()=>ss,One:()=>xi,OriginalName:()=>af,Param:()=>Vr,Placeholder:()=>fo,QueryPromise:()=>qr,Relation:()=>zl,RelationTableAliasProxyHandler:()=>cf,Relations:()=>jl,SQL:()=>be,Schema:()=>ta,StringChunk:()=>fr,Subquery:()=>rr,Table:()=>ye,TableAliasProxyHandler:()=>is,TransactionRollbackError:()=>bl,View:()=>Zr,ViewBaseConfig:()=>Ot,WithSubquery:()=>ns,aliasedRelation:()=>UX,aliasedTable:()=>lu,aliasedTableColumn:()=>ho,and:()=>Pe,applyMixins:()=>Kw,arrayContained:()=>HX,arrayContains:()=>JX,arrayOverlaps:()=>VX,asc:()=>wi,avg:()=>KX,avgDistinct:()=>GX,between:()=>aT,bindIfParam:()=>hr,cosineDistance:()=>rY,count:()=>hT,countDistinct:()=>ZX,createMany:()=>Yz,createOne:()=>Xz,createTableRelationsHelpers:()=>ql,desc:()=>Mt,entityKind:()=>j,eq:()=>V,exists:()=>oT,extractTablesRelationalConfig:()=>Ml,fillPlaceholders:()=>_i,getColumnNameAndConfig:()=>lt,getOperators:()=>pT,getOrderByOperators:()=>mT,getTableColumns:()=>hu,getTableLikeName:()=>Bo,getTableName:()=>Xr,getTableUniqueName:()=>ra,getViewName:()=>qX,getViewSelectedFields:()=>LX,gt:()=>eT,gte:()=>gr,hammingDistance:()=>nY,hasOwnEntityKind:()=>CX,haveSameKeys:()=>fu,ilike:()=>Ur,inArray:()=>us,innerProduct:()=>tY,is:()=>Y,isConfig:()=>xl,isDriverValueEncoder:()=>Hw,isNotNull:()=>nT,isNull:()=>Nl,isSQLWrapper:()=>uf,isTable:()=>RX,isView:()=>MX,jaccardDistance:()=>oY,l1Distance:()=>eY,l2Distance:()=>YX,like:()=>uT,lt:()=>tT,lte:()=>or,mapColumnsInAliasedSQLToAlias:()=>lf,mapColumnsInSQLToAlias:()=>du,mapRelationalRow:()=>Dl,mapResultRow:()=>Sl,mapUpdateSet:()=>wl,max:()=>QX,min:()=>XX,name:()=>NX,ne:()=>X0,noopDecoder:()=>Vw,noopEncoder:()=>Zw,noopMapper:()=>zX,normalizeRelation:()=>fT,not:()=>Y0,notBetween:()=>sT,notExists:()=>iT,notIlike:()=>lT,notInArray:()=>rT,notLike:()=>cT,or:()=>ia,orderSelectedFields:()=>Nn,param:()=>jX,placeholder:()=>DX,relations:()=>Be,sql:()=>q,sum:()=>Ul,sumDistinct:()=>WX,textDecoder:()=>FX});var ir=W(()=>{df();Sw();lo();he();pf();mu();Sz();bi();vu();gf();mo();Yr();Et();vi()});function dj(e){return 0}function xT(e,t=!1){let{protocol:r}=new URL(e),n="http:"+e.substring(r.length),{username:o,password:i,host:s,hostname:u,port:l,pathname:d,search:p,searchParams:f,hash:m}=new URL(n);i=decodeURIComponent(i),o=decodeURIComponent(o),d=decodeURIComponent(d);let y=o+":"+i,g=t?Object.fromEntries(f.entries()):p;return{href:e,protocol:r,auth:y,username:o,password:i,host:s,hostname:u,port:l,pathname:d,search:p,query:g,hash:m}}function Bl(e){let t=1779033703,r=3144134277,n=1013904242,o=2773480762,i=1359893119,s=2600822924,u=528734635,l=1541459225,d=0,p=0,f=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],m=I((b,w)=>b>>>w|b<<32-w,"rrot"),y=new Uint32Array(64),g=new Uint8Array(64),h=I(()=>{for(let z=0,D=0;z<16;z++,D+=4)y[z]=g[D]<<24|g[D+1]<<16|g[D+2]<<8|g[D+3];for(let z=16;z<64;z++){let D=m(y[z-15],7)^m(y[z-15],18)^y[z-15]>>>3,X=m(y[z-2],17)^m(y[z-2],19)^y[z-2]>>>10;y[z]=y[z-16]+D+y[z-7]+X|0}let b=t,w=r,k=n,$=o,C=i,A=s,R=u,O=l;for(let z=0;z<64;z++){let D=m(C,6)^m(C,11)^m(C,25),X=C&A^~C&R,G=O+D+X+f[z]+y[z]|0,B=m(b,2)^m(b,13)^m(b,22),te=b&w^b&k^w&k,ne=B+te|0;O=R,R=A,A=C,C=$+G|0,$=k,k=w,w=b,b=G+ne|0}t=t+b|0,r=r+w|0,n=n+k|0,o=o+$|0,i=i+C|0,s=s+A|0,u=u+R|0,l=l+O|0,p=0},"process"),v=I(b=>{typeof b=="string"&&(b=new TextEncoder().encode(b));for(let w=0;w<b.length;w++)g[p++]=b[w],p===64&&h();d+=b.length},"add"),S=I(()=>{if(g[p++]=128,p==64&&h(),p+8>64){for(;p<64;)g[p++]=0;h()}for(;p<58;)g[p++]=0;let b=d*8;g[p++]=b/1099511627776&255,g[p++]=b/4294967296&255,g[p++]=b>>>24,g[p++]=b>>>16&255,g[p++]=b>>>8&255,g[p++]=b&255,h();let w=new Uint8Array(32);return w[0]=t>>>24,w[1]=t>>>16&255,w[2]=t>>>8&255,w[3]=t&255,w[4]=r>>>24,w[5]=r>>>16&255,w[6]=r>>>8&255,w[7]=r&255,w[8]=n>>>24,w[9]=n>>>16&255,w[10]=n>>>8&255,w[11]=n&255,w[12]=o>>>24,w[13]=o>>>16&255,w[14]=o>>>8&255,w[15]=o&255,w[16]=i>>>24,w[17]=i>>>16&255,w[18]=i>>>8&255,w[19]=i&255,w[20]=s>>>24,w[21]=s>>>16&255,w[22]=s>>>8&255,w[23]=s&255,w[24]=u>>>24,w[25]=u>>>16&255,w[26]=u>>>8&255,w[27]=u&255,w[28]=l>>>24,w[29]=l>>>16&255,w[30]=l>>>8&255,w[31]=l&255,w},"digest");return e===void 0?{add:v,digest:S}:(v(e),S())}function yj(e){return crypto.getRandomValues(Fe.alloc(e))}function vj(e){if(e==="sha256")return{update:I(function(t){return{digest:I(function(){return Fe.from(Bl(t))},"digest")}},"update")};if(e==="md5")return{update:I(function(t){return{digest:I(function(){return typeof t=="string"?_T.hashStr(t):_T.hashByteArray(t)},"digest")}},"update")};throw new Error(`Hash type '${e}' not supported`)}function _j(e,t){if(e!=="sha256")throw new Error(`Only sha256 is supported (requested: '${e}')`);return{update:I(function(r){return{digest:I(function(){typeof t=="string"&&(t=new TextEncoder().encode(t)),typeof r=="string"&&(r=new TextEncoder().encode(r));let n=t.length;if(n>64)t=Bl(t);else if(n<64){let l=new Uint8Array(64);l.set(t),t=l}let o=new Uint8Array(64),i=new Uint8Array(64);for(let l=0;l<64;l++)o[l]=54^t[l],i[l]=92^t[l];let s=new Uint8Array(r.length+64);s.set(o,0),s.set(r,64);let u=new Uint8Array(96);return u.set(i,0),u.set(Bl(s),64),Fe.from(Bl(u))},"digest")}},"update")}}function wj(...e){return e.join("/")}function Tj(e,t){t(new Error("No filesystem"))}function zj({socket:e,servername:t}){return e.startTls(t),e}function Uj(e,{alphabet:t,scratchArr:r}={}){if(!Fl)if(Fl=new Uint16Array(256),_f=new Uint16Array(256),sj)for(let y=0;y<256;y++)Fl[y]=yf[y&15]<<8|yf[y>>>4],_f[y]=vf[y&15]<<8|vf[y>>>4];else for(let y=0;y<256;y++)Fl[y]=yf[y&15]|yf[y>>>4]<<8,_f[y]=vf[y&15]|vf[y>>>4]<<8;e.byteOffset%4!==0&&(e=new Uint8Array(e));let n=e.length,o=n>>>1,i=n>>>2,s=r||new Uint16Array(n),u=new Uint32Array(e.buffer,e.byteOffset,i),l=new Uint32Array(s.buffer,s.byteOffset,o),d=t==="upper"?_f:Fl,p=0,f=0,m;if(sj)for(;p<i;)m=u[p++],l[f++]=d[m>>>8&255]<<16|d[m&255],l[f++]=d[m>>>24]<<16|d[m>>>16&255];else for(;p<i;)m=u[p++],l[f++]=d[m>>>24]<<16|d[m>>>16&255],l[f++]=d[m>>>8&255]<<16|d[m&255];for(p<<=2;p<n;)s[p]=d[e[p++]];return YY.decode(s.subarray(0,n))}function Lj(e,t={}){let r="",n=e.length,o=XY>>>1,i=Math.ceil(n/o),s=new Uint16Array(i>1?o:n);for(let u=0;u<i;u++){let l=u*o,d=l+o;r+=Uj(e.subarray(l,d),QY(WY({},t),{scratchArr:s}))}return r}function Fj(e,t={}){return t.alphabet!=="upper"&&typeof e.toHex=="function"?e.toHex():Lj(e,t)}function CT(){typeof window<"u"&&typeof document<"u"&&typeof console<"u"&&typeof console.warn=="function"&&console.warn(`          
        ************************************************************
        *                                                          *
        *  WARNING: Running SQL directly from the browser can have *
        *  security implications. Even if your database is         *
        *  protected by Row-Level Security (RLS), use it at your   *
        *  own risk. This approach is great for fast prototyping,  *
        *  but ensure proper safeguards are in place to prevent    *
        *  misuse or execution of expensive SQL queries by your    *
        *  end users.                                              *
        *                                                          *
        *  If you've assessed the risks, suppress this message     *
        *  using the disableWarningInBrowsers configuration        *
        *  parameter.                                              *
        *                                                          *
        ************************************************************`)}function Wj(e){return e instanceof Fe?"\\x"+Fj(e):e}function bT(e){let{query:t,params:r}=e instanceof Hj?e.toParameterizedQuery():e;return{query:t,params:r.map(n=>Wj((0,ree.prepareValue)(n)))}}function aa(e,{arrayMode:t,fullResults:r,fetchOptions:n,isolationLevel:o,readOnly:i,deferrable:s,authToken:u,disableWarningInBrowsers:l}={}){if(!e)throw new Error("No database connection string was provided to `neon()`. Perhaps an environment variable has not been set?");let d;try{d=xT(e)}catch{throw new Error("Database connection string provided to `neon()` is not a valid URL. Connection string: "+String(e))}let{protocol:p,username:f,hostname:m,port:y,pathname:g}=d;if(p!=="postgres:"&&p!=="postgresql:"||!f||!m||!g)throw new Error("Database connection string format for `neon()` should be: postgresql://user:password@host.tld/dbname?option=value");function h(S,...b){if(!(Array.isArray(S)&&Array.isArray(S.raw)&&Array.isArray(b)))throw new Error('This function can now be called only as a tagged-template function: sql`SELECT ${value}`, not sql("SELECT $1", [value], options). For a conventional function call with value placeholders ($1, $2, etc.), use sql.query("SELECT $1", [value], options).');return new bf(v,new Hj(S,b))}a(h,"D"),I(h,"templateFn"),h.query=(S,b,w)=>new bf(v,{query:S,params:b??[]},w),h.unsafe=S=>new Zj(S),h.transaction=async(S,b)=>{if(typeof S=="function"&&(S=S(h)),!Array.isArray(S))throw new Error(uj);S.forEach($=>{if(!($ instanceof bf))throw new Error(uj)});let w=S.map($=>$.queryData),k=S.map($=>$.opts??{});return v(w,k,b)};async function v(S,b,w){let{fetchEndpoint:k,fetchFunction:$}=cs,C=Array.isArray(S)?{queries:S.map(Se=>bT(Se))}:bT(S),A=n??{},R=t??!1,O=r??!1,z=o,D=i,X=s;w!==void 0&&(w.fetchOptions!==void 0&&(A={...A,...w.fetchOptions}),w.arrayMode!==void 0&&(R=w.arrayMode),w.fullResults!==void 0&&(O=w.fullResults),w.isolationLevel!==void 0&&(z=w.isolationLevel),w.readOnly!==void 0&&(D=w.readOnly),w.deferrable!==void 0&&(X=w.deferrable)),b!==void 0&&!Array.isArray(b)&&b.fetchOptions!==void 0&&(A={...A,...b.fetchOptions});let G=u;!Array.isArray(b)&&b?.authToken!==void 0&&(G=b.authToken);let B=typeof k=="function"?k(m,y,{jwtAuth:G!==void 0}):k,te={"Neon-Connection-String":e,"Neon-Raw-Text-Output":"true","Neon-Array-Mode":"true"},ne=await Xj(G);ne&&(te.Authorization=`Bearer ${ne}`),Array.isArray(S)&&(z!==void 0&&(te["Neon-Batch-Isolation-Level"]=z),D!==void 0&&(te["Neon-Batch-Read-Only"]=String(D)),X!==void 0&&(te["Neon-Batch-Deferrable"]=String(X))),l||cs.disableWarningInBrowsers||CT();let ae;try{ae=await($??fetch)(B,{method:"POST",body:JSON.stringify(C),headers:te,...A})}catch(Se){let ke=new bu(`Error connecting to database: ${Se}`);throw ke.sourceError=Se,ke}if(ae.ok){let Se=await ae.json();if(Array.isArray(S)){let ke=Se.results;if(!Array.isArray(ke))throw new bu("Neon internal error: unexpected result format");return ke.map((et,Ke)=>{let Q=b[Ke]??{},Re=Q.arrayMode??R,ve=Q.fullResults??O;return ST(et,{arrayMode:Re,fullResults:ve,types:Q.types})})}else{let ke=b??{},et=ke.arrayMode??R,Ke=ke.fullResults??O;return ST(Se,{arrayMode:et,fullResults:Ke,types:ke.types})}}else{let{status:Se}=ae;if(Se===400){let ke=await ae.json(),et=new bu(ke.message);for(let Ke of nee)et[Ke]=ke[Ke]??void 0;throw et}else{let ke=await ae.text();throw new bu(`Server error (HTTP status ${Se}): ${ke}`)}}}return a(v,"Y"),I(v,"execute"),h}function ST(e,{arrayMode:t,fullResults:r,types:n}){let o=new tee.default(n),i=e.fields.map(l=>l.name),s=e.fields.map(l=>o.getTypeParser(l.dataTypeID)),u=t===!0?e.rows.map(l=>l.map((d,p)=>d===null?null:s[p](d))):e.rows.map(l=>Object.fromEntries(l.map((d,p)=>[i[p],d===null?null:s[p](d)])));return r?(e.viaNeonFetch=!0,e.rowAsArray=t,e.rows=u,e._parsers=s,e._types=o,e):u}async function Xj(e){if(typeof e=="string")return e;if(typeof e=="function")try{return await Promise.resolve(e())}catch(t){let r=new bu("Error getting auth token.");throw t instanceof Error&&(r=new bu(`Error getting auth token: ${t.message}`)),r}}function eD(e,t){if(t)return{callback:t,result:void 0};let r,n,o=I(function(s,u){s?r(s):n(u)},"cb"),i=new e(function(s,u){n=s,r=u});return{callback:o,result:i}}var iY,Su,aY,sY,uY,cY,lY,I,bn,rt,go,cj,ls,Ar,Je,dY,pY,mY,Sf,wT,fY,Fe,tt,Ce,ds,lj,nj,yT,Ll,cs,Jl,pj,mj,fj,gj,hY,gY,yY,vY,_Y,bY,SY,wY,wf,TT,xY,Ti,_T,TY,ET,bj,xf,Tf,Hl,Sj,Ef,EY,kT,xj,PT,Ej,IT,kj,Pj,Ij,vT,Oj,kY,PY,IY,OY,Aj,Cj,AY,CY,OT,RY,$Y,Rj,NY,zY,jY,DY,$j,Nj,MY,jj,qY,UY,Dj,Mj,LY,FY,BY,JY,oj,kf,HY,VY,ZY,ij,KY,GY,aj,WY,QY,XY,sj,YY,AT,yf,vf,eee,qj,Fl,_f,Bj,Hj,Vj,Zj,tee,ree,Kj,bu,uj,nee,Qj,bf,oee,iee,Yj,aee,see,tD,yo,Vl,pNe,mNe,fNe,hNe,Ht,Zl=W(()=>{iY=Object.create,Su=Object.defineProperty,aY=Object.getOwnPropertyDescriptor,sY=Object.getOwnPropertyNames,uY=Object.getPrototypeOf,cY=Object.prototype.hasOwnProperty,lY=a((e,t,r)=>t in e?Su(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,"Io"),I=a((e,t)=>Su(e,"name",{value:t,configurable:!0}),"a"),bn=a((e,t)=>()=>(e&&(t=e(e=0)),t),"G"),rt=a((e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),"T"),go=a((e,t)=>{for(var r in t)Su(e,r,{get:t[r],enumerable:!0})},"ie"),cj=a((e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of sY(t))!cY.call(e,o)&&o!==r&&Su(e,o,{get:a(()=>t[o],"get"),enumerable:!(n=aY(t,o))||n.enumerable});return e},"Dn"),ls=a((e,t,r)=>(r=e!=null?iY(uY(e)):{},cj(t||!e||!e.__esModule?Su(r,"default",{value:e,enumerable:!0}):r,e)),"Se"),Ar=a(e=>cj(Su({},"__esModule",{value:!0}),e),"O"),Je=a((e,t,r)=>lY(e,typeof t!="symbol"?t+"":t,r),"E"),dY=rt(e=>{"use strict";Ce(),e.byteLength=l,e.toByteArray=p,e.fromByteArray=y;var t=[],r=[],n=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(i=0,s=o.length;i<s;++i)t[i]=o[i],r[o.charCodeAt(i)]=i;var i,s;r[45]=62,r[95]=63;function u(g){var h=g.length;if(h%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var v=g.indexOf("=");v===-1&&(v=h);var S=v===h?0:4-v%4;return[v,S]}a(u,"qn"),I(u,"getLens");function l(g){var h=u(g),v=h[0],S=h[1];return(v+S)*3/4-S}a(l,"Po"),I(l,"byteLength");function d(g,h,v){return(h+v)*3/4-v}a(d,"Bo"),I(d,"_byteLength");function p(g){var h,v=u(g),S=v[0],b=v[1],w=new n(d(g,S,b)),k=0,$=b>0?S-4:S,C;for(C=0;C<$;C+=4)h=r[g.charCodeAt(C)]<<18|r[g.charCodeAt(C+1)]<<12|r[g.charCodeAt(C+2)]<<6|r[g.charCodeAt(C+3)],w[k++]=h>>16&255,w[k++]=h>>8&255,w[k++]=h&255;return b===2&&(h=r[g.charCodeAt(C)]<<2|r[g.charCodeAt(C+1)]>>4,w[k++]=h&255),b===1&&(h=r[g.charCodeAt(C)]<<10|r[g.charCodeAt(C+1)]<<4|r[g.charCodeAt(C+2)]>>2,w[k++]=h>>8&255,w[k++]=h&255),w}a(p,"Ro"),I(p,"toByteArray");function f(g){return t[g>>18&63]+t[g>>12&63]+t[g>>6&63]+t[g&63]}a(f,"Lo"),I(f,"tripletToBase64");function m(g,h,v){for(var S,b=[],w=h;w<v;w+=3)S=(g[w]<<16&16711680)+(g[w+1]<<8&65280)+(g[w+2]&255),b.push(f(S));return b.join("")}a(m,"Fo"),I(m,"encodeChunk");function y(g){for(var h,v=g.length,S=v%3,b=[],w=16383,k=0,$=v-S;k<$;k+=w)b.push(m(g,k,k+w>$?$:k+w));return S===1?(h=g[v-1],b.push(t[h>>2]+t[h<<4&63]+"==")):S===2&&(h=(g[v-2]<<8)+g[v-1],b.push(t[h>>10]+t[h>>4&63]+t[h<<2&63]+"=")),b.join("")}a(y,"ko"),I(y,"fromByteArray")}),pY=rt(e=>{Ce(),e.read=function(t,r,n,o,i){var s,u,l=i*8-o-1,d=(1<<l)-1,p=d>>1,f=-7,m=n?i-1:0,y=n?-1:1,g=t[r+m];for(m+=y,s=g&(1<<-f)-1,g>>=-f,f+=l;f>0;s=s*256+t[r+m],m+=y,f-=8);for(u=s&(1<<-f)-1,s>>=-f,f+=o;f>0;u=u*256+t[r+m],m+=y,f-=8);if(s===0)s=1-p;else{if(s===d)return u?NaN:(g?-1:1)*(1/0);u=u+Math.pow(2,o),s=s-p}return(g?-1:1)*u*Math.pow(2,s-o)},e.write=function(t,r,n,o,i,s){var u,l,d,p=s*8-i-1,f=(1<<p)-1,m=f>>1,y=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=o?0:s-1,h=o?1:-1,v=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(l=isNaN(r)?1:0,u=f):(u=Math.floor(Math.log(r)/Math.LN2),r*(d=Math.pow(2,-u))<1&&(u--,d*=2),u+m>=1?r+=y/d:r+=y*Math.pow(2,1-m),r*d>=2&&(u++,d/=2),u+m>=f?(l=0,u=f):u+m>=1?(l=(r*d-1)*Math.pow(2,i),u=u+m):(l=r*Math.pow(2,m-1)*Math.pow(2,i),u=0));i>=8;t[n+g]=l&255,g+=h,l/=256,i-=8);for(u=u<<i|l,p+=i;p>0;t[n+g]=u&255,g+=h,u/=256,p-=8);t[n+g-h]|=v*128}}),mY=rt(e=>{"use strict";Ce();var t=dY(),r=pY(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=b,e.INSPECT_MAX_BYTES=50;var o=2147483647;e.kMaxLength=o,u.TYPED_ARRAY_SUPPORT=i(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{let _=new Uint8Array(1),x={foo:I(function(){return 42},"foo")};return Object.setPrototypeOf(x,Uint8Array.prototype),Object.setPrototypeOf(_,x),_.foo()===42}catch{return!1}}a(i,"Mo"),I(i,"typedArraySupport"),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:I(function(){if(u.isBuffer(this))return this.buffer},"get")}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:I(function(){if(u.isBuffer(this))return this.byteOffset},"get")});function s(_){if(_>o)throw new RangeError('The value "'+_+'" is invalid for option "size"');let x=new Uint8Array(_);return Object.setPrototypeOf(x,u.prototype),x}a(s,"he"),I(s,"createBuffer");function u(_,x,P){if(typeof _=="number"){if(typeof x=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(_)}return l(_,x,P)}a(u,"h"),I(u,"Buffer"),u.poolSize=8192;function l(_,x,P){if(typeof _=="string")return m(_,x);if(ArrayBuffer.isView(_))return g(_);if(_==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof _);if(tr(_,ArrayBuffer)||_&&tr(_.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(tr(_,SharedArrayBuffer)||_&&tr(_.buffer,SharedArrayBuffer)))return h(_,x,P);if(typeof _=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let L=_.valueOf&&_.valueOf();if(L!=null&&L!==_)return u.from(L,x,P);let Z=v(_);if(Z)return Z;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof _[Symbol.toPrimitive]=="function")return u.from(_[Symbol.toPrimitive]("string"),x,P);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof _)}a(l,"Gn"),I(l,"from"),u.from=function(_,x,P){return l(_,x,P)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function d(_){if(typeof _!="number")throw new TypeError('"size" argument must be of type number');if(_<0)throw new RangeError('The value "'+_+'" is invalid for option "size"')}a(d,"Vn"),I(d,"assertSize");function p(_,x,P){return d(_),_<=0?s(_):x!==void 0?typeof P=="string"?s(_).fill(x,P):s(_).fill(x):s(_)}a(p,"Uo"),I(p,"alloc"),u.alloc=function(_,x,P){return p(_,x,P)};function f(_){return d(_),s(_<0?0:S(_)|0)}a(f,"$t"),I(f,"allocUnsafe"),u.allocUnsafe=function(_){return f(_)},u.allocUnsafeSlow=function(_){return f(_)};function m(_,x){if((typeof x!="string"||x==="")&&(x="utf8"),!u.isEncoding(x))throw new TypeError("Unknown encoding: "+x);let P=w(_,x)|0,L=s(P),Z=L.write(_,x);return Z!==P&&(L=L.slice(0,Z)),L}a(m,"Do"),I(m,"fromString");function y(_){let x=_.length<0?0:S(_.length)|0,P=s(x);for(let L=0;L<x;L+=1)P[L]=_[L]&255;return P}a(y,"Wt"),I(y,"fromArrayLike");function g(_){if(tr(_,Uint8Array)){let x=new Uint8Array(_);return h(x.buffer,x.byteOffset,x.byteLength)}return y(_)}a(g,"Oo"),I(g,"fromArrayView");function h(_,x,P){if(x<0||_.byteLength<x)throw new RangeError('"offset" is outside of buffer bounds');if(_.byteLength<x+(P||0))throw new RangeError('"length" is outside of buffer bounds');let L;return x===void 0&&P===void 0?L=new Uint8Array(_):P===void 0?L=new Uint8Array(_,x):L=new Uint8Array(_,x,P),Object.setPrototypeOf(L,u.prototype),L}a(h,"jt"),I(h,"fromArrayBuffer");function v(_){if(u.isBuffer(_)){let x=S(_.length)|0,P=s(x);return P.length===0||_.copy(P,0,0,x),P}if(_.length!==void 0)return typeof _.length!="number"||co(_.length)?s(0):y(_);if(_.type==="Buffer"&&Array.isArray(_.data))return y(_.data)}a(v,"qo"),I(v,"fromObject");function S(_){if(_>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return _|0}a(S,"Gt"),I(S,"checked");function b(_){return+_!=_&&(_=0),u.alloc(+_)}a(b,"Qo"),I(b,"SlowBuffer"),u.isBuffer=I(function(_){return _!=null&&_._isBuffer===!0&&_!==u.prototype},"isBuffer"),u.compare=I(function(_,x){if(tr(_,Uint8Array)&&(_=u.from(_,_.offset,_.byteLength)),tr(x,Uint8Array)&&(x=u.from(x,x.offset,x.byteLength)),!u.isBuffer(_)||!u.isBuffer(x))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_===x)return 0;let P=_.length,L=x.length;for(let Z=0,re=Math.min(P,L);Z<re;++Z)if(_[Z]!==x[Z]){P=_[Z],L=x[Z];break}return P<L?-1:L<P?1:0},"compare"),u.isEncoding=I(function(_){switch(String(_).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},"isEncoding"),u.concat=I(function(_,x){if(!Array.isArray(_))throw new TypeError('"list" argument must be an Array of Buffers');if(_.length===0)return u.alloc(0);let P;if(x===void 0)for(x=0,P=0;P<_.length;++P)x+=_[P].length;let L=u.allocUnsafe(x),Z=0;for(P=0;P<_.length;++P){let re=_[P];if(tr(re,Uint8Array))Z+re.length>L.length?(u.isBuffer(re)||(re=u.from(re)),re.copy(L,Z)):Uint8Array.prototype.set.call(L,re,Z);else if(u.isBuffer(re))re.copy(L,Z);else throw new TypeError('"list" argument must be an Array of Buffers');Z+=re.length}return L},"concat");function w(_,x){if(u.isBuffer(_))return _.length;if(ArrayBuffer.isView(_)||tr(_,ArrayBuffer))return _.byteLength;if(typeof _!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof _);let P=_.length,L=arguments.length>2&&arguments[2]===!0;if(!L&&P===0)return 0;let Z=!1;for(;;)switch(x){case"ascii":case"latin1":case"binary":return P;case"utf8":case"utf-8":return Yi(_).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P*2;case"hex":return P>>>1;case"base64":return Lo(_).length;default:if(Z)return L?-1:Yi(_).length;x=(""+x).toLowerCase(),Z=!0}}a(w,"zn"),I(w,"byteLength"),u.byteLength=w;function k(_,x,P){let L=!1;if((x===void 0||x<0)&&(x=0),x>this.length||((P===void 0||P>this.length)&&(P=this.length),P<=0)||(P>>>=0,x>>>=0,P<=x))return"";for(_||(_="utf8");;)switch(_){case"hex":return ke(this,x,P);case"utf8":case"utf-8":return B(this,x,P);case"ascii":return ae(this,x,P);case"latin1":case"binary":return Se(this,x,P);case"base64":return G(this,x,P);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return et(this,x,P);default:if(L)throw new TypeError("Unknown encoding: "+_);_=(_+"").toLowerCase(),L=!0}}a(k,"No"),I(k,"slowToString"),u.prototype._isBuffer=!0;function $(_,x,P){let L=_[x];_[x]=_[P],_[P]=L}a($,"Ae"),I($,"swap"),u.prototype.swap16=I(function(){let _=this.length;if(_%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let x=0;x<_;x+=2)$(this,x,x+1);return this},"swap16"),u.prototype.swap32=I(function(){let _=this.length;if(_%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let x=0;x<_;x+=4)$(this,x,x+3),$(this,x+1,x+2);return this},"swap32"),u.prototype.swap64=I(function(){let _=this.length;if(_%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let x=0;x<_;x+=8)$(this,x,x+7),$(this,x+1,x+6),$(this,x+2,x+5),$(this,x+3,x+4);return this},"swap64"),u.prototype.toString=I(function(){let _=this.length;return _===0?"":arguments.length===0?B(this,0,_):k.apply(this,arguments)},"toString"),u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=I(function(_){if(!u.isBuffer(_))throw new TypeError("Argument must be a Buffer");return this===_?!0:u.compare(this,_)===0},"equals"),u.prototype.inspect=I(function(){let _="",x=e.INSPECT_MAX_BYTES;return _=this.toString("hex",0,x).replace(/(.{2})/g,"$1 ").trim(),this.length>x&&(_+=" ... "),"<Buffer "+_+">"},"inspect"),n&&(u.prototype[n]=u.prototype.inspect),u.prototype.compare=I(function(_,x,P,L,Z){if(tr(_,Uint8Array)&&(_=u.from(_,_.offset,_.byteLength)),!u.isBuffer(_))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof _);if(x===void 0&&(x=0),P===void 0&&(P=_?_.length:0),L===void 0&&(L=0),Z===void 0&&(Z=this.length),x<0||P>_.length||L<0||Z>this.length)throw new RangeError("out of range index");if(L>=Z&&x>=P)return 0;if(L>=Z)return-1;if(x>=P)return 1;if(x>>>=0,P>>>=0,L>>>=0,Z>>>=0,this===_)return 0;let re=Z-L,me=P-x,Ne=Math.min(re,me),gt=this.slice(L,Z),bt=_.slice(x,P);for(let ut=0;ut<Ne;++ut)if(gt[ut]!==bt[ut]){re=gt[ut],me=bt[ut];break}return re<me?-1:me<re?1:0},"compare");function C(_,x,P,L,Z){if(_.length===0)return-1;if(typeof P=="string"?(L=P,P=0):P>2147483647?P=2147483647:P<-2147483648&&(P=-2147483648),P=+P,co(P)&&(P=Z?0:_.length-1),P<0&&(P=_.length+P),P>=_.length){if(Z)return-1;P=_.length-1}else if(P<0)if(Z)P=0;else return-1;if(typeof x=="string"&&(x=u.from(x,L)),u.isBuffer(x))return x.length===0?-1:A(_,x,P,L,Z);if(typeof x=="number")return x=x&255,typeof Uint8Array.prototype.indexOf=="function"?Z?Uint8Array.prototype.indexOf.call(_,x,P):Uint8Array.prototype.lastIndexOf.call(_,x,P):A(_,[x],P,L,Z);throw new TypeError("val must be string, number or Buffer")}a(C,"Kn"),I(C,"bidirectionalIndexOf");function A(_,x,P,L,Z){let re=1,me=_.length,Ne=x.length;if(L!==void 0&&(L=String(L).toLowerCase(),L==="ucs2"||L==="ucs-2"||L==="utf16le"||L==="utf-16le")){if(_.length<2||x.length<2)return-1;re=2,me/=2,Ne/=2,P/=2}function gt(ut,Bt){return re===1?ut[Bt]:ut.readUInt16BE(Bt*re)}a(gt,"c"),I(gt,"read");let bt;if(Z){let ut=-1;for(bt=P;bt<me;bt++)if(gt(_,bt)===gt(x,ut===-1?0:bt-ut)){if(ut===-1&&(ut=bt),bt-ut+1===Ne)return ut*re}else ut!==-1&&(bt-=bt-ut),ut=-1}else for(P+Ne>me&&(P=me-Ne),bt=P;bt>=0;bt--){let ut=!0;for(let Bt=0;Bt<Ne;Bt++)if(gt(_,bt+Bt)!==gt(x,Bt)){ut=!1;break}if(ut)return bt}return-1}a(A,"jn"),I(A,"arrayIndexOf"),u.prototype.includes=I(function(_,x,P){return this.indexOf(_,x,P)!==-1},"includes"),u.prototype.indexOf=I(function(_,x,P){return C(this,_,x,P,!0)},"indexOf"),u.prototype.lastIndexOf=I(function(_,x,P){return C(this,_,x,P,!1)},"lastIndexOf");function R(_,x,P,L){P=Number(P)||0;let Z=_.length-P;L?(L=Number(L),L>Z&&(L=Z)):L=Z;let re=x.length;L>re/2&&(L=re/2);let me;for(me=0;me<L;++me){let Ne=parseInt(x.substr(me*2,2),16);if(co(Ne))return me;_[P+me]=Ne}return me}a(R,"Wo"),I(R,"hexWrite");function O(_,x,P,L){return Pr(Yi(x,_.length-P),_,P,L)}a(O,"jo"),I(O,"utf8Write");function z(_,x,P,L){return Pr(Fm(x),_,P,L)}a(z,"Ho"),I(z,"asciiWrite");function D(_,x,P,L){return Pr(Lo(x),_,P,L)}a(D,"$o"),I(D,"base64Write");function X(_,x,P,L){return Pr($n(x,_.length-P),_,P,L)}a(X,"Go"),I(X,"ucs2Write"),u.prototype.write=I(function(_,x,P,L){if(x===void 0)L="utf8",P=this.length,x=0;else if(P===void 0&&typeof x=="string")L=x,P=this.length,x=0;else if(isFinite(x))x=x>>>0,isFinite(P)?(P=P>>>0,L===void 0&&(L="utf8")):(L=P,P=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let Z=this.length-x;if((P===void 0||P>Z)&&(P=Z),_.length>0&&(P<0||x<0)||x>this.length)throw new RangeError("Attempt to write outside buffer bounds");L||(L="utf8");let re=!1;for(;;)switch(L){case"hex":return R(this,_,x,P);case"utf8":case"utf-8":return O(this,_,x,P);case"ascii":case"latin1":case"binary":return z(this,_,x,P);case"base64":return D(this,_,x,P);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,_,x,P);default:if(re)throw new TypeError("Unknown encoding: "+L);L=(""+L).toLowerCase(),re=!0}},"write"),u.prototype.toJSON=I(function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},"toJSON");function G(_,x,P){return x===0&&P===_.length?t.fromByteArray(_):t.fromByteArray(_.slice(x,P))}a(G,"Vo"),I(G,"base64Slice");function B(_,x,P){P=Math.min(_.length,P);let L=[],Z=x;for(;Z<P;){let re=_[Z],me=null,Ne=re>239?4:re>223?3:re>191?2:1;if(Z+Ne<=P){let gt,bt,ut,Bt;switch(Ne){case 1:re<128&&(me=re);break;case 2:gt=_[Z+1],(gt&192)===128&&(Bt=(re&31)<<6|gt&63,Bt>127&&(me=Bt));break;case 3:gt=_[Z+1],bt=_[Z+2],(gt&192)===128&&(bt&192)===128&&(Bt=(re&15)<<12|(gt&63)<<6|bt&63,Bt>2047&&(Bt<55296||Bt>57343)&&(me=Bt));break;case 4:gt=_[Z+1],bt=_[Z+2],ut=_[Z+3],(gt&192)===128&&(bt&192)===128&&(ut&192)===128&&(Bt=(re&15)<<18|(gt&63)<<12|(bt&63)<<6|ut&63,Bt>65535&&Bt<1114112&&(me=Bt))}}me===null?(me=65533,Ne=1):me>65535&&(me-=65536,L.push(me>>>10&1023|55296),me=56320|me&1023),L.push(me),Z+=Ne}return ne(L)}a(B,"Yn"),I(B,"utf8Slice");var te=4096;function ne(_){let x=_.length;if(x<=te)return String.fromCharCode.apply(String,_);let P="",L=0;for(;L<x;)P+=String.fromCharCode.apply(String,_.slice(L,L+=te));return P}a(ne,"zo"),I(ne,"decodeCodePointsArray");function ae(_,x,P){let L="";P=Math.min(_.length,P);for(let Z=x;Z<P;++Z)L+=String.fromCharCode(_[Z]&127);return L}a(ae,"Ko"),I(ae,"asciiSlice");function Se(_,x,P){let L="";P=Math.min(_.length,P);for(let Z=x;Z<P;++Z)L+=String.fromCharCode(_[Z]);return L}a(Se,"Yo"),I(Se,"latin1Slice");function ke(_,x,P){let L=_.length;(!x||x<0)&&(x=0),(!P||P<0||P>L)&&(P=L);let Z="";for(let re=x;re<P;++re)Z+=Bm[_[re]];return Z}a(ke,"Zo"),I(ke,"hexSlice");function et(_,x,P){let L=_.slice(x,P),Z="";for(let re=0;re<L.length-1;re+=2)Z+=String.fromCharCode(L[re]+L[re+1]*256);return Z}a(et,"Jo"),I(et,"utf16leSlice"),u.prototype.slice=I(function(_,x){let P=this.length;_=~~_,x=x===void 0?P:~~x,_<0?(_+=P,_<0&&(_=0)):_>P&&(_=P),x<0?(x+=P,x<0&&(x=0)):x>P&&(x=P),x<_&&(x=_);let L=this.subarray(_,x);return Object.setPrototypeOf(L,u.prototype),L},"slice");function Ke(_,x,P){if(_%1!==0||_<0)throw new RangeError("offset is not uint");if(_+x>P)throw new RangeError("Trying to access beyond buffer length")}a(Ke,"q"),I(Ke,"checkOffset"),u.prototype.readUintLE=u.prototype.readUIntLE=I(function(_,x,P){_=_>>>0,x=x>>>0,P||Ke(_,x,this.length);let L=this[_],Z=1,re=0;for(;++re<x&&(Z*=256);)L+=this[_+re]*Z;return L},"readUIntLE"),u.prototype.readUintBE=u.prototype.readUIntBE=I(function(_,x,P){_=_>>>0,x=x>>>0,P||Ke(_,x,this.length);let L=this[_+--x],Z=1;for(;x>0&&(Z*=256);)L+=this[_+--x]*Z;return L},"readUIntBE"),u.prototype.readUint8=u.prototype.readUInt8=I(function(_,x){return _=_>>>0,x||Ke(_,1,this.length),this[_]},"readUInt8"),u.prototype.readUint16LE=u.prototype.readUInt16LE=I(function(_,x){return _=_>>>0,x||Ke(_,2,this.length),this[_]|this[_+1]<<8},"readUInt16LE"),u.prototype.readUint16BE=u.prototype.readUInt16BE=I(function(_,x){return _=_>>>0,x||Ke(_,2,this.length),this[_]<<8|this[_+1]},"readUInt16BE"),u.prototype.readUint32LE=u.prototype.readUInt32LE=I(function(_,x){return _=_>>>0,x||Ke(_,4,this.length),(this[_]|this[_+1]<<8|this[_+2]<<16)+this[_+3]*16777216},"readUInt32LE"),u.prototype.readUint32BE=u.prototype.readUInt32BE=I(function(_,x){return _=_>>>0,x||Ke(_,4,this.length),this[_]*16777216+(this[_+1]<<16|this[_+2]<<8|this[_+3])},"readUInt32BE"),u.prototype.readBigUInt64LE=Mr(I(function(_){_=_>>>0,Or(_,"offset");let x=this[_],P=this[_+7];(x===void 0||P===void 0)&&Uo(_,this.length-8);let L=x+this[++_]*2**8+this[++_]*2**16+this[++_]*2**24,Z=this[++_]+this[++_]*2**8+this[++_]*2**16+P*2**24;return BigInt(L)+(BigInt(Z)<<BigInt(32))},"readBigUInt64LE")),u.prototype.readBigUInt64BE=Mr(I(function(_){_=_>>>0,Or(_,"offset");let x=this[_],P=this[_+7];(x===void 0||P===void 0)&&Uo(_,this.length-8);let L=x*2**24+this[++_]*2**16+this[++_]*2**8+this[++_],Z=this[++_]*2**24+this[++_]*2**16+this[++_]*2**8+P;return(BigInt(L)<<BigInt(32))+BigInt(Z)},"readBigUInt64BE")),u.prototype.readIntLE=I(function(_,x,P){_=_>>>0,x=x>>>0,P||Ke(_,x,this.length);let L=this[_],Z=1,re=0;for(;++re<x&&(Z*=256);)L+=this[_+re]*Z;return Z*=128,L>=Z&&(L-=Math.pow(2,8*x)),L},"readIntLE"),u.prototype.readIntBE=I(function(_,x,P){_=_>>>0,x=x>>>0,P||Ke(_,x,this.length);let L=x,Z=1,re=this[_+--L];for(;L>0&&(Z*=256);)re+=this[_+--L]*Z;return Z*=128,re>=Z&&(re-=Math.pow(2,8*x)),re},"readIntBE"),u.prototype.readInt8=I(function(_,x){return _=_>>>0,x||Ke(_,1,this.length),this[_]&128?(255-this[_]+1)*-1:this[_]},"readInt8"),u.prototype.readInt16LE=I(function(_,x){_=_>>>0,x||Ke(_,2,this.length);let P=this[_]|this[_+1]<<8;return P&32768?P|4294901760:P},"readInt16LE"),u.prototype.readInt16BE=I(function(_,x){_=_>>>0,x||Ke(_,2,this.length);let P=this[_+1]|this[_]<<8;return P&32768?P|4294901760:P},"readInt16BE"),u.prototype.readInt32LE=I(function(_,x){return _=_>>>0,x||Ke(_,4,this.length),this[_]|this[_+1]<<8|this[_+2]<<16|this[_+3]<<24},"readInt32LE"),u.prototype.readInt32BE=I(function(_,x){return _=_>>>0,x||Ke(_,4,this.length),this[_]<<24|this[_+1]<<16|this[_+2]<<8|this[_+3]},"readInt32BE"),u.prototype.readBigInt64LE=Mr(I(function(_){_=_>>>0,Or(_,"offset");let x=this[_],P=this[_+7];(x===void 0||P===void 0)&&Uo(_,this.length-8);let L=this[_+4]+this[_+5]*2**8+this[_+6]*2**16+(P<<24);return(BigInt(L)<<BigInt(32))+BigInt(x+this[++_]*2**8+this[++_]*2**16+this[++_]*2**24)},"readBigInt64LE")),u.prototype.readBigInt64BE=Mr(I(function(_){_=_>>>0,Or(_,"offset");let x=this[_],P=this[_+7];(x===void 0||P===void 0)&&Uo(_,this.length-8);let L=(x<<24)+this[++_]*2**16+this[++_]*2**8+this[++_];return(BigInt(L)<<BigInt(32))+BigInt(this[++_]*2**24+this[++_]*2**16+this[++_]*2**8+P)},"readBigInt64BE")),u.prototype.readFloatLE=I(function(_,x){return _=_>>>0,x||Ke(_,4,this.length),r.read(this,_,!0,23,4)},"readFloatLE"),u.prototype.readFloatBE=I(function(_,x){return _=_>>>0,x||Ke(_,4,this.length),r.read(this,_,!1,23,4)},"readFloatBE"),u.prototype.readDoubleLE=I(function(_,x){return _=_>>>0,x||Ke(_,8,this.length),r.read(this,_,!0,52,8)},"readDoubleLE"),u.prototype.readDoubleBE=I(function(_,x){return _=_>>>0,x||Ke(_,8,this.length),r.read(this,_,!1,52,8)},"readDoubleBE");function Q(_,x,P,L,Z,re){if(!u.isBuffer(_))throw new TypeError('"buffer" argument must be a Buffer instance');if(x>Z||x<re)throw new RangeError('"value" argument is out of bounds');if(P+L>_.length)throw new RangeError("Index out of range")}a(Q,"V"),I(Q,"checkInt"),u.prototype.writeUintLE=u.prototype.writeUIntLE=I(function(_,x,P,L){if(_=+_,x=x>>>0,P=P>>>0,!L){let me=Math.pow(2,8*P)-1;Q(this,_,x,P,me,0)}let Z=1,re=0;for(this[x]=_&255;++re<P&&(Z*=256);)this[x+re]=_/Z&255;return x+P},"writeUIntLE"),u.prototype.writeUintBE=u.prototype.writeUIntBE=I(function(_,x,P,L){if(_=+_,x=x>>>0,P=P>>>0,!L){let me=Math.pow(2,8*P)-1;Q(this,_,x,P,me,0)}let Z=P-1,re=1;for(this[x+Z]=_&255;--Z>=0&&(re*=256);)this[x+Z]=_/re&255;return x+P},"writeUIntBE"),u.prototype.writeUint8=u.prototype.writeUInt8=I(function(_,x,P){return _=+_,x=x>>>0,P||Q(this,_,x,1,255,0),this[x]=_&255,x+1},"writeUInt8"),u.prototype.writeUint16LE=u.prototype.writeUInt16LE=I(function(_,x,P){return _=+_,x=x>>>0,P||Q(this,_,x,2,65535,0),this[x]=_&255,this[x+1]=_>>>8,x+2},"writeUInt16LE"),u.prototype.writeUint16BE=u.prototype.writeUInt16BE=I(function(_,x,P){return _=+_,x=x>>>0,P||Q(this,_,x,2,65535,0),this[x]=_>>>8,this[x+1]=_&255,x+2},"writeUInt16BE"),u.prototype.writeUint32LE=u.prototype.writeUInt32LE=I(function(_,x,P){return _=+_,x=x>>>0,P||Q(this,_,x,4,4294967295,0),this[x+3]=_>>>24,this[x+2]=_>>>16,this[x+1]=_>>>8,this[x]=_&255,x+4},"writeUInt32LE"),u.prototype.writeUint32BE=u.prototype.writeUInt32BE=I(function(_,x,P){return _=+_,x=x>>>0,P||Q(this,_,x,4,4294967295,0),this[x]=_>>>24,this[x+1]=_>>>16,this[x+2]=_>>>8,this[x+3]=_&255,x+4},"writeUInt32BE");function Re(_,x,P,L,Z){ru(x,L,Z,_,P,7);let re=Number(x&BigInt(4294967295));_[P++]=re,re=re>>8,_[P++]=re,re=re>>8,_[P++]=re,re=re>>8,_[P++]=re;let me=Number(x>>BigInt(32)&BigInt(4294967295));return _[P++]=me,me=me>>8,_[P++]=me,me=me>>8,_[P++]=me,me=me>>8,_[P++]=me,P}a(Re,"Zn"),I(Re,"wrtBigUInt64LE");function ve(_,x,P,L,Z){ru(x,L,Z,_,P,7);let re=Number(x&BigInt(4294967295));_[P+7]=re,re=re>>8,_[P+6]=re,re=re>>8,_[P+5]=re,re=re>>8,_[P+4]=re;let me=Number(x>>BigInt(32)&BigInt(4294967295));return _[P+3]=me,me=me>>8,_[P+2]=me,me=me>>8,_[P+1]=me,me=me>>8,_[P]=me,P+8}a(ve,"Jn"),I(ve,"wrtBigUInt64BE"),u.prototype.writeBigUInt64LE=Mr(I(function(_,x=0){return Re(this,_,x,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64LE")),u.prototype.writeBigUInt64BE=Mr(I(function(_,x=0){return ve(this,_,x,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64BE")),u.prototype.writeIntLE=I(function(_,x,P,L){if(_=+_,x=x>>>0,!L){let Ne=Math.pow(2,8*P-1);Q(this,_,x,P,Ne-1,-Ne)}let Z=0,re=1,me=0;for(this[x]=_&255;++Z<P&&(re*=256);)_<0&&me===0&&this[x+Z-1]!==0&&(me=1),this[x+Z]=(_/re>>0)-me&255;return x+P},"writeIntLE"),u.prototype.writeIntBE=I(function(_,x,P,L){if(_=+_,x=x>>>0,!L){let Ne=Math.pow(2,8*P-1);Q(this,_,x,P,Ne-1,-Ne)}let Z=P-1,re=1,me=0;for(this[x+Z]=_&255;--Z>=0&&(re*=256);)_<0&&me===0&&this[x+Z+1]!==0&&(me=1),this[x+Z]=(_/re>>0)-me&255;return x+P},"writeIntBE"),u.prototype.writeInt8=I(function(_,x,P){return _=+_,x=x>>>0,P||Q(this,_,x,1,127,-128),_<0&&(_=255+_+1),this[x]=_&255,x+1},"writeInt8"),u.prototype.writeInt16LE=I(function(_,x,P){return _=+_,x=x>>>0,P||Q(this,_,x,2,32767,-32768),this[x]=_&255,this[x+1]=_>>>8,x+2},"writeInt16LE"),u.prototype.writeInt16BE=I(function(_,x,P){return _=+_,x=x>>>0,P||Q(this,_,x,2,32767,-32768),this[x]=_>>>8,this[x+1]=_&255,x+2},"writeInt16BE"),u.prototype.writeInt32LE=I(function(_,x,P){return _=+_,x=x>>>0,P||Q(this,_,x,4,2147483647,-2147483648),this[x]=_&255,this[x+1]=_>>>8,this[x+2]=_>>>16,this[x+3]=_>>>24,x+4},"writeInt32LE"),u.prototype.writeInt32BE=I(function(_,x,P){return _=+_,x=x>>>0,P||Q(this,_,x,4,2147483647,-2147483648),_<0&&(_=4294967295+_+1),this[x]=_>>>24,this[x+1]=_>>>16,this[x+2]=_>>>8,this[x+3]=_&255,x+4},"writeInt32BE"),u.prototype.writeBigInt64LE=Mr(I(function(_,x=0){return Re(this,_,x,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64LE")),u.prototype.writeBigInt64BE=Mr(I(function(_,x=0){return ve(this,_,x,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64BE"));function F(_,x,P,L,Z,re){if(P+L>_.length)throw new RangeError("Index out of range");if(P<0)throw new RangeError("Index out of range")}a(F,"Xn"),I(F,"checkIEEE754");function We(_,x,P,L,Z){return x=+x,P=P>>>0,Z||F(_,x,P,4,34028234663852886e22,-34028234663852886e22),r.write(_,x,P,L,23,4),P+4}a(We,"ei"),I(We,"writeFloat"),u.prototype.writeFloatLE=I(function(_,x,P){return We(this,_,x,!0,P)},"writeFloatLE"),u.prototype.writeFloatBE=I(function(_,x,P){return We(this,_,x,!1,P)},"writeFloatBE");function It(_,x,P,L,Z){return x=+x,P=P>>>0,Z||F(_,x,P,8,17976931348623157e292,-17976931348623157e292),r.write(_,x,P,L,52,8),P+8}a(It,"ti"),I(It,"writeDouble"),u.prototype.writeDoubleLE=I(function(_,x,P){return It(this,_,x,!0,P)},"writeDoubleLE"),u.prototype.writeDoubleBE=I(function(_,x,P){return It(this,_,x,!1,P)},"writeDoubleBE"),u.prototype.copy=I(function(_,x,P,L){if(!u.isBuffer(_))throw new TypeError("argument should be a Buffer");if(P||(P=0),!L&&L!==0&&(L=this.length),x>=_.length&&(x=_.length),x||(x=0),L>0&&L<P&&(L=P),L===P||_.length===0||this.length===0)return 0;if(x<0)throw new RangeError("targetStart out of bounds");if(P<0||P>=this.length)throw new RangeError("Index out of range");if(L<0)throw new RangeError("sourceEnd out of bounds");L>this.length&&(L=this.length),_.length-x<L-P&&(L=_.length-x+P);let Z=L-P;return this===_&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(x,P,L):Uint8Array.prototype.set.call(_,this.subarray(P,L),x),Z},"copy"),u.prototype.fill=I(function(_,x,P,L){if(typeof _=="string"){if(typeof x=="string"?(L=x,x=0,P=this.length):typeof P=="string"&&(L=P,P=this.length),L!==void 0&&typeof L!="string")throw new TypeError("encoding must be a string");if(typeof L=="string"&&!u.isEncoding(L))throw new TypeError("Unknown encoding: "+L);if(_.length===1){let re=_.charCodeAt(0);(L==="utf8"&&re<128||L==="latin1")&&(_=re)}}else typeof _=="number"?_=_&255:typeof _=="boolean"&&(_=Number(_));if(x<0||this.length<x||this.length<P)throw new RangeError("Out of range index");if(P<=x)return this;x=x>>>0,P=P===void 0?this.length:P>>>0,_||(_=0);let Z;if(typeof _=="number")for(Z=x;Z<P;++Z)this[Z]=_;else{let re=u.isBuffer(_)?_:u.from(_,L),me=re.length;if(me===0)throw new TypeError('The value "'+_+'" is invalid for argument "value"');for(Z=0;Z<P-x;++Z)this[Z+x]=re[Z%me]}return this},"fill");var Nt={};function vn(_,x,P){var L;Nt[_]=(L=class extends P{static{a(this,"n")}constructor(){super(),Object.defineProperty(this,"message",{value:x.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${_}]`,this.stack,delete this.name}get code(){return _}set code(Z){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Z,writable:!0})}toString(){return`${this.name} [${_}]: ${this.message}`}},I(L,"NodeError"),L)}a(vn,"Vt"),I(vn,"E"),vn("ERR_BUFFER_OUT_OF_BOUNDS",function(_){return _?`${_} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),vn("ERR_INVALID_ARG_TYPE",function(_,x){return`The "${_}" argument must be of type number. Received type ${typeof x}`},TypeError),vn("ERR_OUT_OF_RANGE",function(_,x,P){let L=`The value of "${_}" is out of range.`,Z=P;return Number.isInteger(P)&&Math.abs(P)>2**32?Z=Xi(String(P)):typeof P=="bigint"&&(Z=String(P),(P>BigInt(2)**BigInt(32)||P<-(BigInt(2)**BigInt(32)))&&(Z=Xi(Z)),Z+="n"),L+=` It must be ${x}. Received ${Z}`,L},RangeError);function Xi(_){let x="",P=_.length,L=_[0]==="-"?1:0;for(;P>=L+4;P-=3)x=`_${_.slice(P-3,P)}${x}`;return`${_.slice(0,P)}${x}`}a(Xi,"$n"),I(Xi,"addNumericalSeparator");function hi(_,x,P){Or(x,"offset"),(_[x]===void 0||_[x+P]===void 0)&&Uo(x,_.length-(P+1))}a(hi,"Xo"),I(hi,"checkBounds");function ru(_,x,P,L,Z,re){if(_>P||_<x){let me=typeof x=="bigint"?"n":"",Ne;throw re>3?x===0||x===BigInt(0)?Ne=`>= 0${me} and < 2${me} ** ${(re+1)*8}${me}`:Ne=`>= -(2${me} ** ${(re+1)*8-1}${me}) and < 2 ** ${(re+1)*8-1}${me}`:Ne=`>= ${x}${me} and <= ${P}${me}`,new Nt.ERR_OUT_OF_RANGE("value",Ne,_)}hi(L,Z,re)}a(ru,"ri"),I(ru,"checkIntBI");function Or(_,x){if(typeof _!="number")throw new Nt.ERR_INVALID_ARG_TYPE(x,"number",_)}a(Or,"Be"),I(Or,"validateNumber");function Uo(_,x,P){throw Math.floor(_)!==_?(Or(_,P),new Nt.ERR_OUT_OF_RANGE(P||"offset","an integer",_)):x<0?new Nt.ERR_BUFFER_OUT_OF_BOUNDS:new Nt.ERR_OUT_OF_RANGE(P||"offset",`>= ${P?1:0} and <= ${x}`,_)}a(Uo,"je"),I(Uo,"boundsError");var nu=/[^+/0-9A-Za-z-_]/g;function Lm(_){if(_=_.split("=")[0],_=_.trim().replace(nu,""),_.length<2)return"";for(;_.length%4!==0;)_=_+"=";return _}a(Lm,"ta"),I(Lm,"base64clean");function Yi(_,x){x=x||1/0;let P,L=_.length,Z=null,re=[];for(let me=0;me<L;++me){if(P=_.charCodeAt(me),P>55295&&P<57344){if(!Z){if(P>56319){(x-=3)>-1&&re.push(239,191,189);continue}else if(me+1===L){(x-=3)>-1&&re.push(239,191,189);continue}Z=P;continue}if(P<56320){(x-=3)>-1&&re.push(239,191,189),Z=P;continue}P=(Z-55296<<10|P-56320)+65536}else Z&&(x-=3)>-1&&re.push(239,191,189);if(Z=null,P<128){if((x-=1)<0)break;re.push(P)}else if(P<2048){if((x-=2)<0)break;re.push(P>>6|192,P&63|128)}else if(P<65536){if((x-=3)<0)break;re.push(P>>12|224,P>>6&63|128,P&63|128)}else if(P<1114112){if((x-=4)<0)break;re.push(P>>18|240,P>>12&63|128,P>>6&63|128,P&63|128)}else throw new Error("Invalid code point")}return re}a(Yi,"Ht"),I(Yi,"utf8ToBytes");function Fm(_){let x=[];for(let P=0;P<_.length;++P)x.push(_.charCodeAt(P)&255);return x}a(Fm,"ra"),I(Fm,"asciiToBytes");function $n(_,x){let P,L,Z,re=[];for(let me=0;me<_.length&&!((x-=2)<0);++me)P=_.charCodeAt(me),L=P>>8,Z=P%256,re.push(Z),re.push(L);return re}a($n,"na"),I($n,"utf16leToBytes");function Lo(_){return t.toByteArray(Lm(_))}a(Lo,"ni"),I(Lo,"base64ToBytes");function Pr(_,x,P,L){let Z;for(Z=0;Z<L&&!(Z+P>=x.length||Z>=_.length);++Z)x[Z+P]=_[Z];return Z}a(Pr,"ht"),I(Pr,"blitBuffer");function tr(_,x){return _ instanceof x||_!=null&&_.constructor!=null&&_.constructor.name!=null&&_.constructor.name===x.name}a(tr,"ue"),I(tr,"isInstance");function co(_){return _!==_}a(co,"zt"),I(co,"numberIsNaN");var Bm=(function(){let _="0123456789abcdef",x=new Array(256);for(let P=0;P<16;++P){let L=P*16;for(let Z=0;Z<16;++Z)x[L+Z]=_[P]+_[Z]}return x})();function Mr(_){return typeof BigInt>"u"?gi:_}a(Mr,"we"),I(Mr,"defineBigIntMethod");function gi(){throw new Error("BigInt not supported")}a(gi,"sa"),I(gi,"BufferBigIntNotDefined")}),Ce=bn(()=>{"use strict";Sf=globalThis,wT=globalThis.setImmediate??(e=>setTimeout(e,0)),fY=globalThis.clearImmediate??(e=>clearTimeout(e)),Fe=typeof globalThis.Buffer=="function"&&typeof globalThis.Buffer.allocUnsafe=="function"?globalThis.Buffer:mY().Buffer,tt=globalThis.process??{},tt.env??(tt.env={});try{tt.nextTick(()=>{})}catch{let e=Promise.resolve();tt.nextTick=e.then.bind(e)}}),ds=rt((e,t)=>{"use strict";Ce();var r=typeof Reflect=="object"?Reflect:null,n=r&&typeof r.apply=="function"?r.apply:I(function(C,A,R){return Function.prototype.apply.call(C,A,R)},"ReflectApply"),o;r&&typeof r.ownKeys=="function"?o=r.ownKeys:Object.getOwnPropertySymbols?o=I(function(C){return Object.getOwnPropertyNames(C).concat(Object.getOwnPropertySymbols(C))},"ReflectOwnKeys"):o=I(function(C){return Object.getOwnPropertyNames(C)},"ReflectOwnKeys");function i(C){console&&console.warn&&console.warn(C)}a(i,"oa"),I(i,"ProcessEmitWarning");var s=Number.isNaN||I(function(C){return C!==C},"NumberIsNaN");function u(){u.init.call(this)}a(u,"B"),I(u,"EventEmitter"),t.exports=u,t.exports.once=w,u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var l=10;function d(C){if(typeof C!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof C)}a(d,"dt"),I(d,"checkListener"),Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:I(function(){return l},"get"),set:I(function(C){if(typeof C!="number"||C<0||s(C))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+C+".");l=C},"set")}),u.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=I(function(C){if(typeof C!="number"||C<0||s(C))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+C+".");return this._maxListeners=C,this},"setMaxListeners");function p(C){return C._maxListeners===void 0?u.defaultMaxListeners:C._maxListeners}a(p,"ui"),I(p,"_getMaxListeners"),u.prototype.getMaxListeners=I(function(){return p(this)},"getMaxListeners"),u.prototype.emit=I(function(C){for(var A=[],R=1;R<arguments.length;R++)A.push(arguments[R]);var O=C==="error",z=this._events;if(z!==void 0)O=O&&z.error===void 0;else if(!O)return!1;if(O){var D;if(A.length>0&&(D=A[0]),D instanceof Error)throw D;var X=new Error("Unhandled error."+(D?" ("+D.message+")":""));throw X.context=D,X}var G=z[C];if(G===void 0)return!1;if(typeof G=="function")n(G,this,A);else for(var B=G.length,te=v(G,B),R=0;R<B;++R)n(te[R],this,A);return!0},"emit");function f(C,A,R,O){var z,D,X;if(d(R),D=C._events,D===void 0?(D=C._events=Object.create(null),C._eventsCount=0):(D.newListener!==void 0&&(C.emit("newListener",A,R.listener?R.listener:R),D=C._events),X=D[A]),X===void 0)X=D[A]=R,++C._eventsCount;else if(typeof X=="function"?X=D[A]=O?[R,X]:[X,R]:O?X.unshift(R):X.push(R),z=p(C),z>0&&X.length>z&&!X.warned){X.warned=!0;var G=new Error("Possible EventEmitter memory leak detected. "+X.length+" "+String(A)+" listeners added. Use emitter.setMaxListeners() to increase limit");G.name="MaxListenersExceededWarning",G.emitter=C,G.type=A,G.count=X.length,i(G)}return C}a(f,"ci"),I(f,"_addListener"),u.prototype.addListener=I(function(C,A){return f(this,C,A,!1)},"addListener"),u.prototype.on=u.prototype.addListener,u.prototype.prependListener=I(function(C,A){return f(this,C,A,!0)},"prependListener");function m(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}a(m,"aa"),I(m,"onceWrapper");function y(C,A,R){var O={fired:!1,wrapFn:void 0,target:C,type:A,listener:R},z=m.bind(O);return z.listener=R,O.wrapFn=z,z}a(y,"li"),I(y,"_onceWrap"),u.prototype.once=I(function(C,A){return d(A),this.on(C,y(this,C,A)),this},"once"),u.prototype.prependOnceListener=I(function(C,A){return d(A),this.prependListener(C,y(this,C,A)),this},"prependOnceListener"),u.prototype.removeListener=I(function(C,A){var R,O,z,D,X;if(d(A),O=this._events,O===void 0)return this;if(R=O[C],R===void 0)return this;if(R===A||R.listener===A)--this._eventsCount===0?this._events=Object.create(null):(delete O[C],O.removeListener&&this.emit("removeListener",C,R.listener||A));else if(typeof R!="function"){for(z=-1,D=R.length-1;D>=0;D--)if(R[D]===A||R[D].listener===A){X=R[D].listener,z=D;break}if(z<0)return this;z===0?R.shift():S(R,z),R.length===1&&(O[C]=R[0]),O.removeListener!==void 0&&this.emit("removeListener",C,X||A)}return this},"removeListener"),u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=I(function(C){var A,R,O;if(R=this._events,R===void 0)return this;if(R.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):R[C]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete R[C]),this;if(arguments.length===0){var z=Object.keys(R),D;for(O=0;O<z.length;++O)D=z[O],D!=="removeListener"&&this.removeAllListeners(D);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(A=R[C],typeof A=="function")this.removeListener(C,A);else if(A!==void 0)for(O=A.length-1;O>=0;O--)this.removeListener(C,A[O]);return this},"removeAllListeners");function g(C,A,R){var O=C._events;if(O===void 0)return[];var z=O[A];return z===void 0?[]:typeof z=="function"?R?[z.listener||z]:[z]:R?b(z):v(z,z.length)}a(g,"fi"),I(g,"_listeners"),u.prototype.listeners=I(function(C){return g(this,C,!0)},"listeners"),u.prototype.rawListeners=I(function(C){return g(this,C,!1)},"rawListeners"),u.listenerCount=function(C,A){return typeof C.listenerCount=="function"?C.listenerCount(A):h.call(C,A)},u.prototype.listenerCount=h;function h(C){var A=this._events;if(A!==void 0){var R=A[C];if(typeof R=="function")return 1;if(R!==void 0)return R.length}return 0}a(h,"hi"),I(h,"listenerCount"),u.prototype.eventNames=I(function(){return this._eventsCount>0?o(this._events):[]},"eventNames");function v(C,A){for(var R=new Array(A),O=0;O<A;++O)R[O]=C[O];return R}a(v,"pi"),I(v,"arrayClone");function S(C,A){for(;A+1<C.length;A++)C[A]=C[A+1];C.pop()}a(S,"ua"),I(S,"spliceOne");function b(C){for(var A=new Array(C.length),R=0;R<A.length;++R)A[R]=C[R].listener||C[R];return A}a(b,"ca"),I(b,"unwrapListeners");function w(C,A){return new Promise(function(R,O){function z(X){C.removeListener(A,D),O(X)}a(z,"i"),I(z,"errorListener");function D(){typeof C.removeListener=="function"&&C.removeListener("error",z),R([].slice.call(arguments))}a(D,"s"),I(D,"resolver"),$(C,A,D,{once:!0}),A!=="error"&&k(C,z,{once:!0})})}a(w,"la"),I(w,"once");function k(C,A,R){typeof C.on=="function"&&$(C,"error",A,R)}a(k,"fa"),I(k,"addErrorHandlerIfEventEmitter");function $(C,A,R,O){if(typeof C.on=="function")O.once?C.once(A,R):C.on(A,R);else if(typeof C.addEventListener=="function")C.addEventListener(A,I(a(function z(D){O.once&&C.removeEventListener(A,z),R(D)},"i"),"wrapListener"));else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof C)}a($,"di"),I($,"eventTargetAgnosticAddListener")}),lj={};go(lj,{Socket:a(()=>cs,"Socket"),isIP:a(()=>dj,"isIP")});a(dj,"ha");Jl=bn(()=>{"use strict";Ce(),nj=ls(ds(),1),I(dj,"isIP"),yT=/^[^.]+\./,Ll=class ze extends nj.EventEmitter{static{a(this,"S")}constructor(){super(...arguments),Je(this,"opts",{}),Je(this,"connecting",!1),Je(this,"pending",!0),Je(this,"writable",!0),Je(this,"encrypted",!1),Je(this,"authorized",!1),Je(this,"destroyed",!1),Je(this,"ws",null),Je(this,"writeBuffer"),Je(this,"tlsState",0),Je(this,"tlsRead"),Je(this,"tlsWrite")}static get poolQueryViaFetch(){return ze.opts.poolQueryViaFetch??ze.defaults.poolQueryViaFetch}static set poolQueryViaFetch(t){ze.opts.poolQueryViaFetch=t}static get fetchEndpoint(){return ze.opts.fetchEndpoint??ze.defaults.fetchEndpoint}static set fetchEndpoint(t){ze.opts.fetchEndpoint=t}static get fetchConnectionCache(){return!0}static set fetchConnectionCache(t){console.warn("The `fetchConnectionCache` option is deprecated (now always `true`)")}static get fetchFunction(){return ze.opts.fetchFunction??ze.defaults.fetchFunction}static set fetchFunction(t){ze.opts.fetchFunction=t}static get webSocketConstructor(){return ze.opts.webSocketConstructor??ze.defaults.webSocketConstructor}static set webSocketConstructor(t){ze.opts.webSocketConstructor=t}get webSocketConstructor(){return this.opts.webSocketConstructor??ze.webSocketConstructor}set webSocketConstructor(t){this.opts.webSocketConstructor=t}static get wsProxy(){return ze.opts.wsProxy??ze.defaults.wsProxy}static set wsProxy(t){ze.opts.wsProxy=t}get wsProxy(){return this.opts.wsProxy??ze.wsProxy}set wsProxy(t){this.opts.wsProxy=t}static get coalesceWrites(){return ze.opts.coalesceWrites??ze.defaults.coalesceWrites}static set coalesceWrites(t){ze.opts.coalesceWrites=t}get coalesceWrites(){return this.opts.coalesceWrites??ze.coalesceWrites}set coalesceWrites(t){this.opts.coalesceWrites=t}static get useSecureWebSocket(){return ze.opts.useSecureWebSocket??ze.defaults.useSecureWebSocket}static set useSecureWebSocket(t){ze.opts.useSecureWebSocket=t}get useSecureWebSocket(){return this.opts.useSecureWebSocket??ze.useSecureWebSocket}set useSecureWebSocket(t){this.opts.useSecureWebSocket=t}static get forceDisablePgSSL(){return ze.opts.forceDisablePgSSL??ze.defaults.forceDisablePgSSL}static set forceDisablePgSSL(t){ze.opts.forceDisablePgSSL=t}get forceDisablePgSSL(){return this.opts.forceDisablePgSSL??ze.forceDisablePgSSL}set forceDisablePgSSL(t){this.opts.forceDisablePgSSL=t}static get disableSNI(){return ze.opts.disableSNI??ze.defaults.disableSNI}static set disableSNI(t){ze.opts.disableSNI=t}get disableSNI(){return this.opts.disableSNI??ze.disableSNI}set disableSNI(t){this.opts.disableSNI=t}static get disableWarningInBrowsers(){return ze.opts.disableWarningInBrowsers??ze.defaults.disableWarningInBrowsers}static set disableWarningInBrowsers(t){ze.opts.disableWarningInBrowsers=t}get disableWarningInBrowsers(){return this.opts.disableWarningInBrowsers??ze.disableWarningInBrowsers}set disableWarningInBrowsers(t){this.opts.disableWarningInBrowsers=t}static get pipelineConnect(){return ze.opts.pipelineConnect??ze.defaults.pipelineConnect}static set pipelineConnect(t){ze.opts.pipelineConnect=t}get pipelineConnect(){return this.opts.pipelineConnect??ze.pipelineConnect}set pipelineConnect(t){this.opts.pipelineConnect=t}static get subtls(){return ze.opts.subtls??ze.defaults.subtls}static set subtls(t){ze.opts.subtls=t}get subtls(){return this.opts.subtls??ze.subtls}set subtls(t){this.opts.subtls=t}static get pipelineTLS(){return ze.opts.pipelineTLS??ze.defaults.pipelineTLS}static set pipelineTLS(t){ze.opts.pipelineTLS=t}get pipelineTLS(){return this.opts.pipelineTLS??ze.pipelineTLS}set pipelineTLS(t){this.opts.pipelineTLS=t}static get rootCerts(){return ze.opts.rootCerts??ze.defaults.rootCerts}static set rootCerts(t){ze.opts.rootCerts=t}get rootCerts(){return this.opts.rootCerts??ze.rootCerts}set rootCerts(t){this.opts.rootCerts=t}wsProxyAddrForHost(t,r){let n=this.wsProxy;if(n===void 0)throw new Error("No WebSocket proxy is configured. Please see https://github.com/neondatabase/serverless/blob/main/CONFIG.md#wsproxy-string--host-string-port-number--string--string");return typeof n=="function"?n(t,r):`${n}?address=${t}:${r}`}setNoDelay(){return this}setKeepAlive(){return this}ref(){return this}unref(){return this}connect(t,r,n){this.connecting=!0,n&&this.once("connect",n);let o=I(()=>{this.connecting=!1,this.pending=!1,this.emit("connect"),this.emit("ready")},"handleWebSocketOpen"),i=I((u,l=!1)=>{u.binaryType="arraybuffer",u.addEventListener("error",d=>{this.emit("error",d),this.emit("close")}),u.addEventListener("message",d=>{if(this.tlsState===0){let p=Fe.from(d.data);this.emit("data",p)}}),u.addEventListener("close",()=>{this.emit("close")}),l?o():u.addEventListener("open",o)},"configureWebSocket"),s;try{s=this.wsProxyAddrForHost(r,typeof t=="string"?parseInt(t,10):t)}catch(u){this.emit("error",u),this.emit("close");return}try{let u=(this.useSecureWebSocket?"wss:":"ws:")+"//"+s;if(this.webSocketConstructor!==void 0)this.ws=new this.webSocketConstructor(u),i(this.ws);else try{this.ws=new WebSocket(u),i(this.ws)}catch{this.ws=new __unstable_WebSocket(u),i(this.ws)}}catch(u){let l=(this.useSecureWebSocket?"https:":"http:")+"//"+s;fetch(l,{headers:{Upgrade:"websocket"}}).then(d=>{if(this.ws=d.webSocket,this.ws==null)throw u;this.ws.accept(),i(this.ws,!0)}).catch(d=>{this.emit("error",new Error(`All attempts to open a WebSocket to connect to the database failed. Please refer to https://github.com/neondatabase/serverless/blob/main/CONFIG.md#websocketconstructor-typeof-websocket--undefined. Details: ${d}`)),this.emit("close")})}}async startTls(t){if(this.subtls===void 0)throw new Error("For Postgres SSL connections, you must set `neonConfig.subtls` to the subtls library. See https://github.com/neondatabase/serverless/blob/main/CONFIG.md for more information.");this.tlsState=1;let r=await this.subtls.TrustedCert.databaseFromPEM(this.rootCerts),n=new this.subtls.WebSocketReadQueue(this.ws),o=n.read.bind(n),i=this.rawWrite.bind(this),{read:s,write:u}=await this.subtls.startTls(t,r,o,i,{useSNI:!this.disableSNI,expectPreData:this.pipelineTLS?new Uint8Array([83]):void 0});this.tlsRead=s,this.tlsWrite=u,this.tlsState=2,this.encrypted=!0,this.authorized=!0,this.emit("secureConnection",this),this.tlsReadLoop()}async tlsReadLoop(){for(;;){let t=await this.tlsRead();if(t===void 0)break;{let r=Fe.from(t);this.emit("data",r)}}}rawWrite(t){if(!this.coalesceWrites){this.ws&&this.ws.send(t);return}if(this.writeBuffer===void 0)this.writeBuffer=t,setTimeout(()=>{this.ws&&this.ws.send(this.writeBuffer),this.writeBuffer=void 0},0);else{let r=new Uint8Array(this.writeBuffer.length+t.length);r.set(this.writeBuffer),r.set(t,this.writeBuffer.length),this.writeBuffer=r}}write(t,r="utf8",n=o=>{}){return t.length===0?(n(),!0):(typeof t=="string"&&(t=Fe.from(t,r)),this.tlsState===0?(this.rawWrite(t),n()):this.tlsState===1?this.once("secureConnection",()=>{this.write(t,r,n)}):(this.tlsWrite(t),n()),!0)}end(t=Fe.alloc(0),r="utf8",n=()=>{}){return this.write(t,r,()=>{this.ws.close(),n()}),this}destroy(){return this.destroyed=!0,this.end()}},I(Ll,"Socket"),Je(Ll,"defaults",{poolQueryViaFetch:!1,fetchEndpoint:I((e,t,r)=>{let n;return r?.jwtAuth?n=e.replace(yT,"apiauth."):n=e.replace(yT,"api."),"https://"+n+"/sql"},"fetchEndpoint"),fetchConnectionCache:!0,fetchFunction:void 0,webSocketConstructor:void 0,wsProxy:I(e=>e+"/v2","wsProxy"),useSecureWebSocket:!0,forceDisablePgSSL:!0,coalesceWrites:!0,pipelineConnect:"password",subtls:void 0,rootCerts:"",pipelineTLS:!1,disableSNI:!1,disableWarningInBrowsers:!1}),Je(Ll,"opts",{}),cs=Ll}),pj={};go(pj,{parse:a(()=>xT,"parse")});a(xT,"Yt");mj=bn(()=>{"use strict";Ce(),I(xT,"parse")}),fj=rt(e=>{"use strict";Ce(),e.parse=function(o,i){return new r(o,i).parse()};var t=class hj{static{a(this,"vt")}constructor(i,s){this.source=i,this.transform=s||n,this.position=0,this.entries=[],this.recorded=[],this.dimension=0}isEof(){return this.position>=this.source.length}nextCharacter(){var i=this.source[this.position++];return i==="\\"?{value:this.source[this.position++],escaped:!0}:{value:i,escaped:!1}}record(i){this.recorded.push(i)}newEntry(i){var s;(this.recorded.length>0||i)&&(s=this.recorded.join(""),s==="NULL"&&!i&&(s=null),s!==null&&(s=this.transform(s)),this.entries.push(s),this.recorded=[])}consumeDimensions(){if(this.source[0]==="[")for(;!this.isEof();){var i=this.nextCharacter();if(i.value==="=")break}}parse(i){var s,u,l;for(this.consumeDimensions();!this.isEof();)if(s=this.nextCharacter(),s.value==="{"&&!l)this.dimension++,this.dimension>1&&(u=new hj(this.source.substr(this.position-1),this.transform),this.entries.push(u.parse(!0)),this.position+=u.position-2);else if(s.value==="}"&&!l){if(this.dimension--,!this.dimension&&(this.newEntry(),i))return this.entries}else s.value==='"'&&!s.escaped?(l&&this.newEntry(!0),l=!l):s.value===","&&!l?this.newEntry():this.record(s.value);if(this.dimension!==0)throw new Error("array dimension not balanced");return this.entries}};I(t,"ArrayParser");var r=t;function n(o){return o}a(n,"Ca"),I(n,"identity")}),gj=rt((e,t)=>{Ce();var r=fj();t.exports={create:I(function(n,o){return{parse:I(function(){return r.parse(n,o)},"parse")}},"create")}}),hY=rt((e,t)=>{"use strict";Ce();var r=/(\d{1,})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})(\.\d{1,})?.*?( BC)?$/,n=/^(\d{1,})-(\d{2})-(\d{2})( BC)?$/,o=/([Z+-])(\d{2})?:?(\d{2})?:?(\d{2})?/,i=/^-?infinity$/;t.exports=I(function(p){if(i.test(p))return Number(p.replace("i","I"));var f=r.exec(p);if(!f)return s(p)||null;var m=!!f[8],y=parseInt(f[1],10);m&&(y=l(y));var g=parseInt(f[2],10)-1,h=f[3],v=parseInt(f[4],10),S=parseInt(f[5],10),b=parseInt(f[6],10),w=f[7];w=w?1e3*parseFloat(w):0;var k,$=u(p);return $!=null?(k=new Date(Date.UTC(y,g,h,v,S,b,w)),d(y)&&k.setUTCFullYear(y),$!==0&&k.setTime(k.getTime()-$)):(k=new Date(y,g,h,v,S,b,w),d(y)&&k.setFullYear(y)),k},"parseDate");function s(p){var f=n.exec(p);if(f){var m=parseInt(f[1],10),y=!!f[4];y&&(m=l(m));var g=parseInt(f[2],10)-1,h=f[3],v=new Date(m,g,h);return d(m)&&v.setFullYear(m),v}}a(s,"Ra"),I(s,"getDate");function u(p){if(p.endsWith("+00"))return 0;var f=o.exec(p.split(" ")[1]);if(f){var m=f[1];if(m==="Z")return 0;var y=m==="-"?-1:1,g=parseInt(f[2],10)*3600+parseInt(f[3]||0,10)*60+parseInt(f[4]||0,10);return g*y*1e3}}a(u,"La"),I(u,"timeZoneOffset");function l(p){return-(p-1)}a(l,"_i"),I(l,"bcYearToNegativeYear");function d(p){return p>=0&&p<100}a(d,"nr"),I(d,"is0To99")}),gY=rt((e,t)=>{Ce(),t.exports=n;var r=Object.prototype.hasOwnProperty;function n(o){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var u in s)r.call(s,u)&&(o[u]=s[u])}return o}a(n,"ka"),I(n,"extend")}),yY=rt((e,t)=>{"use strict";Ce();var r=gY();t.exports=n;function n(b){if(!(this instanceof n))return new n(b);r(this,S(b))}a(n,"ke"),I(n,"PostgresInterval");var o=["seconds","minutes","hours","days","months","years"];n.prototype.toPostgres=function(){var b=o.filter(this.hasOwnProperty,this);return this.milliseconds&&b.indexOf("seconds")<0&&b.push("seconds"),b.length===0?"0":b.map(function(w){var k=this[w]||0;return w==="seconds"&&this.milliseconds&&(k=(k+this.milliseconds/1e3).toFixed(6).replace(/\.?0+$/,"")),k+" "+w},this).join(" ")};var i={years:"Y",months:"M",days:"D",hours:"H",minutes:"M",seconds:"S"},s=["years","months","days"],u=["hours","minutes","seconds"];n.prototype.toISOString=n.prototype.toISO=function(){var b=s.map(k,this).join(""),w=u.map(k,this).join("");return"P"+b+"T"+w;function k($){var C=this[$]||0;return $==="seconds"&&this.milliseconds&&(C=(C+this.milliseconds/1e3).toFixed(6).replace(/0+$/,"")),C+i[$]}};var l="([+-]?\\d+)",d=l+"\\s+years?",p=l+"\\s+mons?",f=l+"\\s+days?",m="([+-])?([\\d]*):(\\d\\d):(\\d\\d)\\.?(\\d{1,6})?",y=new RegExp([d,p,f,m].map(function(b){return"("+b+")?"}).join("\\s*")),g={years:2,months:4,days:6,hours:9,minutes:10,seconds:11,milliseconds:12},h=["hours","minutes","seconds","milliseconds"];function v(b){var w=b+"000000".slice(b.length);return parseInt(w,10)/1e3}a(v,"Ga"),I(v,"parseMilliseconds");function S(b){if(!b)return{};var w=y.exec(b),k=w[8]==="-";return Object.keys(g).reduce(function($,C){var A=g[C],R=w[A];return!R||(R=C==="milliseconds"?v(R):parseInt(R,10),!R)||(k&&~h.indexOf(C)&&(R*=-1),$[C]=R),$},{})}a(S,"Va"),I(S,"parse")}),vY=rt((e,t)=>{"use strict";Ce(),t.exports=I(function(r){if(/^\\x/.test(r))return new Fe(r.substr(2),"hex");for(var n="",o=0;o<r.length;)if(r[o]!=="\\")n+=r[o],++o;else if(/[0-7]{3}/.test(r.substr(o+1,3)))n+=String.fromCharCode(parseInt(r.substr(o+1,3),8)),o+=4;else{for(var i=1;o+i<r.length&&r[o+i]==="\\";)i++;for(var s=0;s<Math.floor(i/2);++s)n+="\\";o+=Math.floor(i/2)*2}return new Fe(n,"binary")},"parseBytea")}),_Y=rt((e,t)=>{Ce();var r=fj(),n=gj(),o=hY(),i=yY(),s=vY();function u(O){return I(function(z){return z===null?z:O(z)},"nullAllowed")}a(u,"St"),I(u,"allowNull");function l(O){return O===null?O:O==="TRUE"||O==="t"||O==="true"||O==="y"||O==="yes"||O==="on"||O==="1"}a(l,"qi"),I(l,"parseBool");function d(O){return O?r.parse(O,l):null}a(d,"za"),I(d,"parseBoolArray");function p(O){return parseInt(O,10)}a(p,"Ka"),I(p,"parseBaseTenInt");function f(O){return O?r.parse(O,u(p)):null}a(f,"sr"),I(f,"parseIntegerArray");function m(O){return O?r.parse(O,u(function(z){return k(z).trim()})):null}a(m,"Ya"),I(m,"parseBigIntegerArray");var y=I(function(O){if(!O)return null;var z=n.create(O,function(D){return D!==null&&(D=C(D)),D});return z.parse()},"parsePointArray"),g=I(function(O){if(!O)return null;var z=n.create(O,function(D){return D!==null&&(D=parseFloat(D)),D});return z.parse()},"parseFloatArray"),h=I(function(O){if(!O)return null;var z=n.create(O);return z.parse()},"parseStringArray"),v=I(function(O){if(!O)return null;var z=n.create(O,function(D){return D!==null&&(D=o(D)),D});return z.parse()},"parseDateArray"),S=I(function(O){if(!O)return null;var z=n.create(O,function(D){return D!==null&&(D=i(D)),D});return z.parse()},"parseIntervalArray"),b=I(function(O){return O?r.parse(O,u(s)):null},"parseByteAArray"),w=I(function(O){return parseInt(O,10)},"parseInteger"),k=I(function(O){var z=String(O);return/^\d+$/.test(z)?z:O},"parseBigInteger"),$=I(function(O){return O?r.parse(O,u(JSON.parse)):null},"parseJsonArray"),C=I(function(O){return O[0]!=="("?null:(O=O.substring(1,O.length-1).split(","),{x:parseFloat(O[0]),y:parseFloat(O[1])})},"parsePoint"),A=I(function(O){if(O[0]!=="<"&&O[1]!=="(")return null;for(var z="(",D="",X=!1,G=2;G<O.length-1;G++){if(X||(z+=O[G]),O[G]===")"){X=!0;continue}else if(!X)continue;O[G]!==","&&(D+=O[G])}var B=C(z);return B.radius=parseFloat(D),B},"parseCircle"),R=I(function(O){O(20,k),O(21,w),O(23,w),O(26,w),O(700,parseFloat),O(701,parseFloat),O(16,l),O(1082,o),O(1114,o),O(1184,o),O(600,C),O(651,h),O(718,A),O(1e3,d),O(1001,b),O(1005,f),O(1007,f),O(1028,f),O(1016,m),O(1017,y),O(1021,g),O(1022,g),O(1231,g),O(1014,h),O(1015,h),O(1008,h),O(1009,h),O(1040,h),O(1041,h),O(1115,v),O(1182,v),O(1185,v),O(1186,i),O(1187,S),O(17,s),O(114,JSON.parse.bind(JSON)),O(3802,JSON.parse.bind(JSON)),O(199,$),O(3807,$),O(3907,h),O(2951,h),O(791,h),O(1183,h),O(1270,h)},"init");t.exports={init:R}}),bY=rt((e,t)=>{"use strict";Ce();var r=1e6;function n(o){var i=o.readInt32BE(0),s=o.readUInt32BE(4),u="";i<0&&(i=~i+(s===0),s=~s+1>>>0,u="-");var l="",d,p,f,m,y,g;{if(d=i%r,i=i/r>>>0,p=4294967296*d+s,s=p/r>>>0,f=""+(p-r*s),s===0&&i===0)return u+f+l;for(m="",y=6-f.length,g=0;g<y;g++)m+="0";l=m+f+l}{if(d=i%r,i=i/r>>>0,p=4294967296*d+s,s=p/r>>>0,f=""+(p-r*s),s===0&&i===0)return u+f+l;for(m="",y=6-f.length,g=0;g<y;g++)m+="0";l=m+f+l}{if(d=i%r,i=i/r>>>0,p=4294967296*d+s,s=p/r>>>0,f=""+(p-r*s),s===0&&i===0)return u+f+l;for(m="",y=6-f.length,g=0;g<y;g++)m+="0";l=m+f+l}return d=i%r,p=4294967296*d+s,f=""+p%r,u+f+l}a(n,"ru"),I(n,"readInt8"),t.exports=n}),SY=rt((e,t)=>{Ce();var r=bY(),n=I(function(h,v,S,b,w){S=S||0,b=b||!1,w=w||function(X,G,B){return X*Math.pow(2,B)+G};var k=S>>3,$=I(function(X){return b?~X&255:X},"inv"),C=255,A=8-S%8;v<A&&(C=255<<8-v&255,A=v),S&&(C=C>>S%8);var R=0;S%8+v>=8&&(R=w(0,$(h[k])&C,A));for(var O=v+S>>3,z=k+1;z<O;z++)R=w(R,$(h[z]),8);var D=(v+S)%8;return D>0&&(R=w(R,$(h[O])>>8-D,D)),R},"parseBits"),o=I(function(h,v,S){var b=Math.pow(2,S-1)-1,w=n(h,1),k=n(h,S,1);if(k===0)return 0;var $=1,C=I(function(R,O,z){R===0&&(R=1);for(var D=1;D<=z;D++)$/=2,(O&1<<z-D)>0&&(R+=$);return R},"parsePrecisionBits"),A=n(h,v,S+1,!1,C);return k==Math.pow(2,S+1)-1?A===0?w===0?1/0:-1/0:NaN:(w===0?1:-1)*Math.pow(2,k-b)*A},"parseFloatFromBits"),i=I(function(h){return n(h,1)==1?-1*(n(h,15,1,!0)+1):n(h,15,1)},"parseInt16"),s=I(function(h){return n(h,1)==1?-1*(n(h,31,1,!0)+1):n(h,31,1)},"parseInt32"),u=I(function(h){return o(h,23,8)},"parseFloat32"),l=I(function(h){return o(h,52,11)},"parseFloat64"),d=I(function(h){var v=n(h,16,32);if(v==49152)return NaN;for(var S=Math.pow(1e4,n(h,16,16)),b=0,w=[],k=n(h,16),$=0;$<k;$++)b+=n(h,16,64+16*$)*S,S/=1e4;var C=Math.pow(10,n(h,16,48));return(v===0?1:-1)*Math.round(b*C)/C},"parseNumeric"),p=I(function(h,v){var S=n(v,1),b=n(v,63,1),w=new Date((S===0?1:-1)*b/1e3+9466848e5);return h||w.setTime(w.getTime()+w.getTimezoneOffset()*6e4),w.usec=b%1e3,w.getMicroSeconds=function(){return this.usec},w.setMicroSeconds=function(k){this.usec=k},w.getUTCMicroSeconds=function(){return this.usec},w},"parseDate"),f=I(function(h){for(var v=n(h,32),S=n(h,32,32),b=n(h,32,64),w=96,k=[],$=0;$<v;$++)k[$]=n(h,32,w),w+=32,w+=32;var C=I(function(R){var O=n(h,32,w);if(w+=32,O==4294967295)return null;var z;if(R==23||R==20)return z=n(h,O*8,w),w+=O*8,z;if(R==25)return z=h.toString(this.encoding,w>>3,(w+=O<<3)>>3),z;console.log("ERROR: ElementType not implemented: "+R)},"parseElement"),A=I(function(R,O){var z=[],D;if(R.length>1){var X=R.shift();for(D=0;D<X;D++)z[D]=A(R,O);R.unshift(X)}else for(D=0;D<R[0];D++)z[D]=C(O);return z},"parse");return A(k,b)},"parseArray"),m=I(function(h){return h.toString("utf8")},"parseText"),y=I(function(h){return h===null?null:n(h,8)>0},"parseBool"),g=I(function(h){h(20,r),h(21,i),h(23,s),h(26,s),h(1700,d),h(700,u),h(701,l),h(16,y),h(1114,p.bind(null,!1)),h(1184,p.bind(null,!0)),h(1e3,f),h(1007,f),h(1016,f),h(1008,f),h(1009,f),h(25,m)},"init");t.exports={init:g}}),wY=rt((e,t)=>{Ce(),t.exports={BOOL:16,BYTEA:17,CHAR:18,INT8:20,INT2:21,INT4:23,REGPROC:24,TEXT:25,OID:26,TID:27,XID:28,CID:29,JSON:114,XML:142,PG_NODE_TREE:194,SMGR:210,PATH:602,POLYGON:604,CIDR:650,FLOAT4:700,FLOAT8:701,ABSTIME:702,RELTIME:703,TINTERVAL:704,CIRCLE:718,MACADDR8:774,MONEY:790,MACADDR:829,INET:869,ACLITEM:1033,BPCHAR:1042,VARCHAR:1043,DATE:1082,TIME:1083,TIMESTAMP:1114,TIMESTAMPTZ:1184,INTERVAL:1186,TIMETZ:1266,BIT:1560,VARBIT:1562,NUMERIC:1700,REFCURSOR:1790,REGPROCEDURE:2202,REGOPER:2203,REGOPERATOR:2204,REGCLASS:2205,REGTYPE:2206,UUID:2950,TXID_SNAPSHOT:2970,PG_LSN:3220,PG_NDISTINCT:3361,PG_DEPENDENCIES:3402,TSVECTOR:3614,TSQUERY:3615,GTSVECTOR:3642,REGCONFIG:3734,REGDICTIONARY:3769,JSONB:3802,REGNAMESPACE:4089,REGROLE:4096}}),wf=rt(e=>{Ce();var t=_Y(),r=SY(),n=gj(),o=wY();e.getTypeParser=u,e.setTypeParser=l,e.arrayParser=n,e.builtins=o;var i={text:{},binary:{}};function s(d){return String(d)}a(s,"Ji"),I(s,"noParse");function u(d,p){return p=p||"text",i[p]&&i[p][d]||s}a(u,"yu"),I(u,"getTypeParser");function l(d,p,f){typeof p=="function"&&(f=p,p="text"),i[p][d]=f}a(l,"mu"),I(l,"setTypeParser"),t.init(function(d,p){i.text[d]=p}),r.init(function(d,p){i.binary[d]=p})}),TT=rt((e,t)=>{"use strict";Ce();var r=wf();function n(o){this._types=o||r,this.text={},this.binary={}}a(n,"Et"),I(n,"TypeOverrides"),n.prototype.getOverrides=function(o){switch(o){case"text":return this.text;case"binary":return this.binary;default:return{}}},n.prototype.setTypeParser=function(o,i,s){typeof i=="function"&&(s=i,i="text"),this.getOverrides(i)[o]=s},n.prototype.getTypeParser=function(o,i){return i=i||"text",this.getOverrides(i)[o]||this._types.getTypeParser(o,i)},t.exports=n});a(Bl,"Xe");xY=bn(()=>{"use strict";Ce(),I(Bl,"sha256")}),TY=bn(()=>{"use strict";Ce(),Ti=class Zn{static{a(this,"U")}constructor(){Je(this,"_dataLength",0),Je(this,"_bufferLength",0),Je(this,"_state",new Int32Array(4)),Je(this,"_buffer",new ArrayBuffer(68)),Je(this,"_buffer8"),Je(this,"_buffer32"),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashByteArray(t,r=!1){return this.onePassHasher.start().appendByteArray(t).end(r)}static hashStr(t,r=!1){return this.onePassHasher.start().appendStr(t).end(r)}static hashAsciiStr(t,r=!1){return this.onePassHasher.start().appendAsciiStr(t).end(r)}static _hex(t){let r=Zn.hexChars,n=Zn.hexOut,o,i,s,u;for(u=0;u<4;u+=1)for(i=u*8,o=t[u],s=0;s<8;s+=2)n[i+1+s]=r.charAt(o&15),o>>>=4,n[i+0+s]=r.charAt(o&15),o>>>=4;return n.join("")}static _md5cycle(t,r){let n=t[0],o=t[1],i=t[2],s=t[3];n+=(o&i|~o&s)+r[0]-680876936|0,n=(n<<7|n>>>25)+o|0,s+=(n&o|~n&i)+r[1]-389564586|0,s=(s<<12|s>>>20)+n|0,i+=(s&n|~s&o)+r[2]+606105819|0,i=(i<<17|i>>>15)+s|0,o+=(i&s|~i&n)+r[3]-1044525330|0,o=(o<<22|o>>>10)+i|0,n+=(o&i|~o&s)+r[4]-176418897|0,n=(n<<7|n>>>25)+o|0,s+=(n&o|~n&i)+r[5]+1200080426|0,s=(s<<12|s>>>20)+n|0,i+=(s&n|~s&o)+r[6]-1473231341|0,i=(i<<17|i>>>15)+s|0,o+=(i&s|~i&n)+r[7]-45705983|0,o=(o<<22|o>>>10)+i|0,n+=(o&i|~o&s)+r[8]+1770035416|0,n=(n<<7|n>>>25)+o|0,s+=(n&o|~n&i)+r[9]-1958414417|0,s=(s<<12|s>>>20)+n|0,i+=(s&n|~s&o)+r[10]-42063|0,i=(i<<17|i>>>15)+s|0,o+=(i&s|~i&n)+r[11]-1990404162|0,o=(o<<22|o>>>10)+i|0,n+=(o&i|~o&s)+r[12]+1804603682|0,n=(n<<7|n>>>25)+o|0,s+=(n&o|~n&i)+r[13]-40341101|0,s=(s<<12|s>>>20)+n|0,i+=(s&n|~s&o)+r[14]-1502002290|0,i=(i<<17|i>>>15)+s|0,o+=(i&s|~i&n)+r[15]+1236535329|0,o=(o<<22|o>>>10)+i|0,n+=(o&s|i&~s)+r[1]-165796510|0,n=(n<<5|n>>>27)+o|0,s+=(n&i|o&~i)+r[6]-1069501632|0,s=(s<<9|s>>>23)+n|0,i+=(s&o|n&~o)+r[11]+643717713|0,i=(i<<14|i>>>18)+s|0,o+=(i&n|s&~n)+r[0]-373897302|0,o=(o<<20|o>>>12)+i|0,n+=(o&s|i&~s)+r[5]-701558691|0,n=(n<<5|n>>>27)+o|0,s+=(n&i|o&~i)+r[10]+38016083|0,s=(s<<9|s>>>23)+n|0,i+=(s&o|n&~o)+r[15]-660478335|0,i=(i<<14|i>>>18)+s|0,o+=(i&n|s&~n)+r[4]-405537848|0,o=(o<<20|o>>>12)+i|0,n+=(o&s|i&~s)+r[9]+568446438|0,n=(n<<5|n>>>27)+o|0,s+=(n&i|o&~i)+r[14]-1019803690|0,s=(s<<9|s>>>23)+n|0,i+=(s&o|n&~o)+r[3]-187363961|0,i=(i<<14|i>>>18)+s|0,o+=(i&n|s&~n)+r[8]+1163531501|0,o=(o<<20|o>>>12)+i|0,n+=(o&s|i&~s)+r[13]-1444681467|0,n=(n<<5|n>>>27)+o|0,s+=(n&i|o&~i)+r[2]-51403784|0,s=(s<<9|s>>>23)+n|0,i+=(s&o|n&~o)+r[7]+1735328473|0,i=(i<<14|i>>>18)+s|0,o+=(i&n|s&~n)+r[12]-1926607734|0,o=(o<<20|o>>>12)+i|0,n+=(o^i^s)+r[5]-378558|0,n=(n<<4|n>>>28)+o|0,s+=(n^o^i)+r[8]-2022574463|0,s=(s<<11|s>>>21)+n|0,i+=(s^n^o)+r[11]+1839030562|0,i=(i<<16|i>>>16)+s|0,o+=(i^s^n)+r[14]-35309556|0,o=(o<<23|o>>>9)+i|0,n+=(o^i^s)+r[1]-1530992060|0,n=(n<<4|n>>>28)+o|0,s+=(n^o^i)+r[4]+1272893353|0,s=(s<<11|s>>>21)+n|0,i+=(s^n^o)+r[7]-155497632|0,i=(i<<16|i>>>16)+s|0,o+=(i^s^n)+r[10]-1094730640|0,o=(o<<23|o>>>9)+i|0,n+=(o^i^s)+r[13]+681279174|0,n=(n<<4|n>>>28)+o|0,s+=(n^o^i)+r[0]-358537222|0,s=(s<<11|s>>>21)+n|0,i+=(s^n^o)+r[3]-722521979|0,i=(i<<16|i>>>16)+s|0,o+=(i^s^n)+r[6]+76029189|0,o=(o<<23|o>>>9)+i|0,n+=(o^i^s)+r[9]-640364487|0,n=(n<<4|n>>>28)+o|0,s+=(n^o^i)+r[12]-421815835|0,s=(s<<11|s>>>21)+n|0,i+=(s^n^o)+r[15]+530742520|0,i=(i<<16|i>>>16)+s|0,o+=(i^s^n)+r[2]-995338651|0,o=(o<<23|o>>>9)+i|0,n+=(i^(o|~s))+r[0]-198630844|0,n=(n<<6|n>>>26)+o|0,s+=(o^(n|~i))+r[7]+1126891415|0,s=(s<<10|s>>>22)+n|0,i+=(n^(s|~o))+r[14]-1416354905|0,i=(i<<15|i>>>17)+s|0,o+=(s^(i|~n))+r[5]-57434055|0,o=(o<<21|o>>>11)+i|0,n+=(i^(o|~s))+r[12]+1700485571|0,n=(n<<6|n>>>26)+o|0,s+=(o^(n|~i))+r[3]-1894986606|0,s=(s<<10|s>>>22)+n|0,i+=(n^(s|~o))+r[10]-1051523|0,i=(i<<15|i>>>17)+s|0,o+=(s^(i|~n))+r[1]-2054922799|0,o=(o<<21|o>>>11)+i|0,n+=(i^(o|~s))+r[8]+1873313359|0,n=(n<<6|n>>>26)+o|0,s+=(o^(n|~i))+r[15]-30611744|0,s=(s<<10|s>>>22)+n|0,i+=(n^(s|~o))+r[6]-1560198380|0,i=(i<<15|i>>>17)+s|0,o+=(s^(i|~n))+r[13]+1309151649|0,o=(o<<21|o>>>11)+i|0,n+=(i^(o|~s))+r[4]-145523070|0,n=(n<<6|n>>>26)+o|0,s+=(o^(n|~i))+r[11]-1120210379|0,s=(s<<10|s>>>22)+n|0,i+=(n^(s|~o))+r[2]+718787259|0,i=(i<<15|i>>>17)+s|0,o+=(s^(i|~n))+r[9]-343485551|0,o=(o<<21|o>>>11)+i|0,t[0]=n+t[0]|0,t[1]=o+t[1]|0,t[2]=i+t[2]|0,t[3]=s+t[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(Zn.stateIdentity),this}appendStr(t){let r=this._buffer8,n=this._buffer32,o=this._bufferLength,i,s;for(s=0;s<t.length;s+=1){if(i=t.charCodeAt(s),i<128)r[o++]=i;else if(i<2048)r[o++]=(i>>>6)+192,r[o++]=i&63|128;else if(i<55296||i>56319)r[o++]=(i>>>12)+224,r[o++]=i>>>6&63|128,r[o++]=i&63|128;else{if(i=(i-55296)*1024+(t.charCodeAt(++s)-56320)+65536,i>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");r[o++]=(i>>>18)+240,r[o++]=i>>>12&63|128,r[o++]=i>>>6&63|128,r[o++]=i&63|128}o>=64&&(this._dataLength+=64,Zn._md5cycle(this._state,n),o-=64,n[0]=n[16])}return this._bufferLength=o,this}appendAsciiStr(t){let r=this._buffer8,n=this._buffer32,o=this._bufferLength,i,s=0;for(;;){for(i=Math.min(t.length-s,64-o);i--;)r[o++]=t.charCodeAt(s++);if(o<64)break;this._dataLength+=64,Zn._md5cycle(this._state,n),o=0}return this._bufferLength=o,this}appendByteArray(t){let r=this._buffer8,n=this._buffer32,o=this._bufferLength,i,s=0;for(;;){for(i=Math.min(t.length-s,64-o);i--;)r[o++]=t[s++];if(o<64)break;this._dataLength+=64,Zn._md5cycle(this._state,n),o=0}return this._bufferLength=o,this}getState(){let t=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[t[0],t[1],t[2],t[3]]}}setState(t){let r=t.buffer,n=t.state,o=this._state,i;for(this._dataLength=t.length,this._bufferLength=t.buflen,o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=n[3],i=0;i<r.length;i+=1)this._buffer8[i]=r.charCodeAt(i)}end(t=!1){let r=this._bufferLength,n=this._buffer8,o=this._buffer32,i=(r>>2)+1;this._dataLength+=r;let s=this._dataLength*8;if(n[r]=128,n[r+1]=n[r+2]=n[r+3]=0,o.set(Zn.buffer32Identity.subarray(i),i),r>55&&(Zn._md5cycle(this._state,o),o.set(Zn.buffer32Identity)),s<=4294967295)o[14]=s;else{let u=s.toString(16).match(/(.*?)(.{0,8})$/);if(u===null)return;let l=parseInt(u[2],16),d=parseInt(u[1],16)||0;o[14]=l,o[15]=d}return Zn._md5cycle(this._state,o),t?this._state:Zn._hex(this._state)}},I(Ti,"Md5"),Je(Ti,"stateIdentity",new Int32Array([1732584193,-271733879,-1732584194,271733878])),Je(Ti,"buffer32Identity",new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),Je(Ti,"hexChars","0123456789abcdef"),Je(Ti,"hexOut",[]),Je(Ti,"onePassHasher",new Ti),_T=Ti}),ET={};go(ET,{createHash:a(()=>vj,"createHash"),createHmac:a(()=>_j,"createHmac"),randomBytes:a(()=>yj,"randomBytes")});a(yj,"gu");a(vj,"bu");a(_j,"vu");bj=bn(()=>{"use strict";Ce(),xY(),TY(),I(yj,"randomBytes"),I(vj,"createHash"),I(_j,"createHmac")}),xf=rt((e,t)=>{"use strict";Ce(),t.exports={host:"localhost",user:tt.platform==="win32"?tt.env.USERNAME:tt.env.USER,database:void 0,password:null,connectionString:void 0,port:5432,rows:0,binary:!1,max:10,idleTimeoutMillis:3e4,client_encoding:"",ssl:!1,application_name:void 0,fallback_application_name:void 0,options:void 0,parseInputDatesAsUTC:!1,statement_timeout:!1,lock_timeout:!1,idle_in_transaction_session_timeout:!1,query_timeout:!1,connect_timeout:0,keepalives:1,keepalives_idle:0};var r=wf(),n=r.getTypeParser(20,"text"),o=r.getTypeParser(1016,"text");t.exports.__defineSetter__("parseInt8",function(i){r.setTypeParser(20,"text",i?r.getTypeParser(23,"text"):n),r.setTypeParser(1016,"text",i?r.getTypeParser(1007,"text"):o)})}),Tf=rt((e,t)=>{"use strict";Ce();var r=(bj(),Ar(ET)),n=xf();function o(g){var h=g.replace(/\\/g,"\\\\").replace(/"/g,'\\"');return'"'+h+'"'}a(o,"Cu"),I(o,"escapeElement");function i(g){for(var h="{",v=0;v<g.length;v++)v>0&&(h=h+","),g[v]===null||typeof g[v]>"u"?h=h+"NULL":Array.isArray(g[v])?h=h+i(g[v]):g[v]instanceof Fe?h+="\\\\x"+g[v].toString("hex"):h+=o(s(g[v]));return h=h+"}",h}a(i,"rs"),I(i,"arrayString");var s=I(function(g,h){if(g==null)return null;if(g instanceof Fe)return g;if(ArrayBuffer.isView(g)){var v=Fe.from(g.buffer,g.byteOffset,g.byteLength);return v.length===g.byteLength?v:v.slice(g.byteOffset,g.byteOffset+g.byteLength)}return g instanceof Date?n.parseInputDatesAsUTC?p(g):d(g):Array.isArray(g)?i(g):typeof g=="object"?u(g,h):g.toString()},"prepareValue");function u(g,h){if(g&&typeof g.toPostgres=="function"){if(h=h||[],h.indexOf(g)!==-1)throw new Error('circular reference detected while preparing "'+g+'" for query');return h.push(g),s(g.toPostgres(s),h)}return JSON.stringify(g)}a(u,"_u"),I(u,"prepareObject");function l(g,h){for(g=""+g;g.length<h;)g="0"+g;return g}a(l,"N"),I(l,"pad");function d(g){var h=-g.getTimezoneOffset(),v=g.getFullYear(),S=v<1;S&&(v=Math.abs(v)+1);var b=l(v,4)+"-"+l(g.getMonth()+1,2)+"-"+l(g.getDate(),2)+"T"+l(g.getHours(),2)+":"+l(g.getMinutes(),2)+":"+l(g.getSeconds(),2)+"."+l(g.getMilliseconds(),3);return h<0?(b+="-",h*=-1):b+="+",b+=l(Math.floor(h/60),2)+":"+l(h%60,2),S&&(b+=" BC"),b}a(d,"Iu"),I(d,"dateToString");function p(g){var h=g.getUTCFullYear(),v=h<1;v&&(h=Math.abs(h)+1);var S=l(h,4)+"-"+l(g.getUTCMonth()+1,2)+"-"+l(g.getUTCDate(),2)+"T"+l(g.getUTCHours(),2)+":"+l(g.getUTCMinutes(),2)+":"+l(g.getUTCSeconds(),2)+"."+l(g.getUTCMilliseconds(),3);return S+="+00:00",v&&(S+=" BC"),S}a(p,"Tu"),I(p,"dateToStringUTC");function f(g,h,v){return g=typeof g=="string"?{text:g}:g,h&&(typeof h=="function"?g.callback=h:g.values=h),v&&(g.callback=v),g}a(f,"Pu"),I(f,"normalizeQueryConfig");var m=I(function(g){return r.createHash("md5").update(g,"utf-8").digest("hex")},"md5"),y=I(function(g,h,v){var S=m(h+g),b=m(Fe.concat([Fe.from(S),v]));return"md5"+b},"postgresMd5PasswordHash");t.exports={prepareValue:I(function(g){return s(g)},"prepareValueWrapper"),normalizeQueryConfig:f,postgresMd5PasswordHash:y,md5:m}}),Hl={};go(Hl,{default:a(()=>Sj,"default")});Ef=bn(()=>{"use strict";Ce(),Sj={}}),EY=rt((e,t)=>{"use strict";Ce();var r=(bj(),Ar(ET));function n(h){if(h.indexOf("SCRAM-SHA-256")===-1)throw new Error("SASL: Only mechanism SCRAM-SHA-256 is currently supported");let v=r.randomBytes(18).toString("base64");return{mechanism:"SCRAM-SHA-256",clientNonce:v,response:"n,,n=*,r="+v,message:"SASLInitialResponse"}}a(n,"Mu"),I(n,"startSession");function o(h,v,S){if(h.message!=="SASLInitialResponse")throw new Error("SASL: Last message was not SASLInitialResponse");if(typeof v!="string")throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string");if(typeof S!="string")throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: serverData must be a string");let b=d(S);if(b.nonce.startsWith(h.clientNonce)){if(b.nonce.length===h.clientNonce.length)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");var w=Fe.from(b.salt,"base64"),k=g(v,w,b.iteration),$=y(k,"Client Key"),C=m($),A="n=*,r="+h.clientNonce,R="r="+b.nonce+",s="+b.salt+",i="+b.iteration,O="c=biws,r="+b.nonce,z=A+","+R+","+O,D=y(C,z),X=f($,D),G=X.toString("base64"),B=y(k,"Server Key"),te=y(B,z);h.message="SASLResponse",h.serverSignature=te.toString("base64"),h.response=O+",p="+G}a(o,"Uu"),I(o,"continueSession");function i(h,v){if(h.message!=="SASLResponse")throw new Error("SASL: Last message was not SASLResponse");if(typeof v!="string")throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: serverData must be a string");let{serverSignature:S}=p(v);if(S!==h.serverSignature)throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature does not match")}a(i,"Du"),I(i,"finalizeSession");function s(h){if(typeof h!="string")throw new TypeError("SASL: text must be a string");return h.split("").map((v,S)=>h.charCodeAt(S)).every(v=>v>=33&&v<=43||v>=45&&v<=126)}a(s,"Ou"),I(s,"isPrintableChars");function u(h){return/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(h)}a(u,"ls"),I(u,"isBase64");function l(h){if(typeof h!="string")throw new TypeError("SASL: attribute pairs text must be a string");return new Map(h.split(",").map(v=>{if(!/^.=/.test(v))throw new Error("SASL: Invalid attribute pair entry");let S=v[0],b=v.substring(2);return[S,b]}))}a(l,"fs"),I(l,"parseAttributePairs");function d(h){let v=l(h),S=v.get("r");if(S){if(!s(S))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce must only contain printable characters")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing");let b=v.get("s");if(b){if(!u(b))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt must be base64")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing");let w=v.get("i");if(w){if(!/^[1-9][0-9]*$/.test(w))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: invalid iteration count")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: iteration missing");let k=parseInt(w,10);return{nonce:S,salt:b,iteration:k}}a(d,"qu"),I(d,"parseServerFirstMessage");function p(h){let v=l(h).get("v");if(v){if(!u(v))throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature must be base64")}else throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature is missing");return{serverSignature:v}}a(p,"Qu"),I(p,"parseServerFinalMessage");function f(h,v){if(!Fe.isBuffer(h))throw new TypeError("first argument must be a Buffer");if(!Fe.isBuffer(v))throw new TypeError("second argument must be a Buffer");if(h.length!==v.length)throw new Error("Buffer lengths must match");if(h.length===0)throw new Error("Buffers cannot be empty");return Fe.from(h.map((S,b)=>h[b]^v[b]))}a(f,"hs"),I(f,"xorBuffers");function m(h){return r.createHash("sha256").update(h).digest()}a(m,"Nu"),I(m,"sha256");function y(h,v){return r.createHmac("sha256",h).update(v).digest()}a(y,"Ue"),I(y,"hmacSha256");function g(h,v,S){for(var b=y(h,Fe.concat([v,Fe.from([0,0,0,1])])),w=b,k=0;k<S-1;k++)b=y(h,b),w=f(w,b);return w}a(g,"Wu"),I(g,"Hi"),t.exports={startSession:n,continueSession:o,finalizeSession:i}}),kT={};go(kT,{join:a(()=>wj,"join")});a(wj,"ju");xj=bn(()=>{"use strict";Ce(),I(wj,"join")}),PT={};go(PT,{stat:a(()=>Tj,"stat")});a(Tj,"Hu");Ej=bn(()=>{"use strict";Ce(),I(Tj,"stat")}),IT={};go(IT,{default:a(()=>kj,"default")});Pj=bn(()=>{"use strict";Ce(),kj={}}),Ij={};go(Ij,{StringDecoder:a(()=>Oj,"StringDecoder")});kY=bn(()=>{"use strict";Ce(),vT=class{static{a(this,"Er")}constructor(t){Je(this,"td"),this.td=new TextDecoder(t)}write(t){return this.td.decode(t,{stream:!0})}end(t){return this.td.decode(t)}},I(vT,"StringDecoder"),Oj=vT}),PY=rt((e,t)=>{"use strict";Ce();var{Transform:r}=(Pj(),Ar(IT)),{StringDecoder:n}=(kY(),Ar(Ij)),o=Symbol("last"),i=Symbol("decoder");function s(f,m,y){let g;if(this.overflow){if(g=this[i].write(f).split(this.matcher),g.length===1)return y();g.shift(),this.overflow=!1}else this[o]+=this[i].write(f),g=this[o].split(this.matcher);this[o]=g.pop();for(let h=0;h<g.length;h++)try{l(this,this.mapper(g[h]))}catch(v){return y(v)}if(this.overflow=this[o].length>this.maxLength,this.overflow&&!this.skipOverflow){y(new Error("maximum buffer reached"));return}y()}a(s,"zu"),I(s,"transform");function u(f){if(this[o]+=this[i].end(),this[o])try{l(this,this.mapper(this[o]))}catch(m){return f(m)}f()}a(u,"Ku"),I(u,"flush");function l(f,m){m!==void 0&&f.push(m)}a(l,"gs"),I(l,"push");function d(f){return f}a(d,"ws"),I(d,"noop");function p(f,m,y){switch(f=f||/\r?\n/,m=m||d,y=y||{},arguments.length){case 1:typeof f=="function"?(m=f,f=/\r?\n/):typeof f=="object"&&!(f instanceof RegExp)&&!f[Symbol.split]&&(y=f,f=/\r?\n/);break;case 2:typeof f=="function"?(y=m,m=f,f=/\r?\n/):typeof m=="object"&&(y=m,m=d)}y=Object.assign({},y),y.autoDestroy=!0,y.transform=s,y.flush=u,y.readableObjectMode=!0;let g=new r(y);return g[o]="",g[i]=new n("utf8"),g.matcher=f,g.mapper=m,g.maxLength=y.maxLength,g.skipOverflow=y.skipOverflow||!1,g.overflow=!1,g._destroy=function(h,v){this._writableState.errorEmitted=!1,v(h)},g}a(p,"Yu"),I(p,"split"),t.exports=p}),IY=rt((e,t)=>{"use strict";Ce();var r=(xj(),Ar(kT)),n=(Pj(),Ar(IT)).Stream,o=PY(),i=(Ef(),Ar(Hl)),s=5432,u=tt.platform==="win32",l=tt.stderr,d=56,p=7,f=61440,m=32768;function y($){return($&f)==m}a(y,"ic"),I(y,"isRegFile");var g=["host","port","database","user","password"],h=g.length,v=g[h-1];function S(){var $=l instanceof n&&l.writable===!0;if($){var C=Array.prototype.slice.call(arguments).concat(`
`);l.write(i.format.apply(i,C))}}a(S,"Cr"),I(S,"warn"),Object.defineProperty(t.exports,"isWin",{get:I(function(){return u},"get"),set:I(function($){u=$},"set")}),t.exports.warnTo=function($){var C=l;return l=$,C},t.exports.getFileName=function($){var C=$||tt.env,A=C.PGPASSFILE||(u?r.join(C.APPDATA||"./","postgresql","pgpass.conf"):r.join(C.HOME||"./",".pgpass"));return A},t.exports.usePgPass=function($,C){return Object.prototype.hasOwnProperty.call(tt.env,"PGPASSWORD")?!1:u?!0:(C=C||"<unkn>",y($.mode)?$.mode&(d|p)?(S('WARNING: password file "%s" has group or world access; permissions should be u=rw (0600) or less',C),!1):!0:(S('WARNING: password file "%s" is not a plain file',C),!1))};var b=t.exports.match=function($,C){return g.slice(0,-1).reduce(function(A,R,O){return O==1&&Number($[R]||s)===Number(C[R])?A&&!0:A&&(C[R]==="*"||C[R]===$[R])},!0)};t.exports.getPassword=function($,C,A){var R,O=C.pipe(o());function z(G){var B=w(G);B&&k(B)&&b($,B)&&(R=B[v],O.end())}a(z,"s"),I(z,"onLine");var D=I(function(){C.destroy(),A(R)},"onEnd"),X=I(function(G){C.destroy(),S("WARNING: error on reading file: %s",G),A(void 0)},"onErr");C.on("error",X),O.on("data",z).on("end",D).on("error",X)};var w=t.exports.parseLine=function($){if($.length<11||$.match(/^\s+#/))return null;for(var C="",A="",R=0,O=0,z=0,D={},X=!1,G=I(function(te,ne,ae){var Se=$.substring(ne,ae);Object.hasOwnProperty.call(tt.env,"PGPASS_NO_DEESCAPE")||(Se=Se.replace(/\\([:\\])/g,"$1")),D[g[te]]=Se},"addToObj"),B=0;B<$.length-1;B+=1){if(C=$.charAt(B+1),A=$.charAt(B),X=R==h-1,X){G(R,O);break}B>=0&&C==":"&&A!=="\\"&&(G(R,O,B+1),O=B+2,R+=1)}return D=Object.keys(D).length===h?D:null,D},k=t.exports.isValidEntry=function($){for(var C={0:function(D){return D.length>0},1:function(D){return D==="*"?!0:(D=Number(D),isFinite(D)&&D>0&&D<9007199254740992&&Math.floor(D)===D)},2:function(D){return D.length>0},3:function(D){return D.length>0},4:function(D){return D.length>0}},A=0;A<g.length;A+=1){var R=C[A],O=$[g[A]]||"",z=R(O);if(!z)return!1}return!0}}),OY=rt((e,t)=>{"use strict";Ce();var r=(xj(),Ar(kT)),n=(Ej(),Ar(PT)),o=IY();t.exports=function(i,s){var u=o.getFileName();n.stat(u,function(l,d){if(l||!o.usePgPass(d,u))return s(void 0);var p=n.createReadStream(u);o.getPassword(i,p,s)})},t.exports.warnTo=o.warnTo}),Aj={};go(Aj,{default:a(()=>Cj,"default")});AY=bn(()=>{"use strict";Ce(),Cj={}}),CY=rt((e,t)=>{"use strict";Ce();var r=(mj(),Ar(pj)),n=(Ej(),Ar(PT));function o(i){if(i.charAt(0)==="/"){var u=i.split(" ");return{host:u[0],database:u[1]}}var s=r.parse(/ |%[^a-f0-9]|%[a-f0-9][^a-f0-9]/i.test(i)?encodeURI(i).replace(/\%25(\d\d)/g,"%$1"):i,!0),u=s.query;for(var l in u)Array.isArray(u[l])&&(u[l]=u[l][u[l].length-1]);var d=(s.auth||":").split(":");if(u.user=d[0],u.password=d.splice(1).join(":"),u.port=s.port,s.protocol=="socket:")return u.host=decodeURI(s.pathname),u.database=s.query.db,u.client_encoding=s.query.encoding,u;u.host||(u.host=s.hostname);var p=s.pathname;if(!u.host&&p&&/^%2f/i.test(p)){var f=p.split("/");u.host=decodeURIComponent(f[0]),p=f.splice(1).join("/")}switch(p&&p.charAt(0)==="/"&&(p=p.slice(1)||null),u.database=p&&decodeURI(p),(u.ssl==="true"||u.ssl==="1")&&(u.ssl=!0),u.ssl==="0"&&(u.ssl=!1),(u.sslcert||u.sslkey||u.sslrootcert||u.sslmode)&&(u.ssl={}),u.sslcert&&(u.ssl.cert=n.readFileSync(u.sslcert).toString()),u.sslkey&&(u.ssl.key=n.readFileSync(u.sslkey).toString()),u.sslrootcert&&(u.ssl.ca=n.readFileSync(u.sslrootcert).toString()),u.sslmode){case"disable":{u.ssl=!1;break}case"prefer":case"require":case"verify-ca":case"verify-full":break;case"no-verify":{u.ssl.rejectUnauthorized=!1;break}}return u}a(o,"Tr"),I(o,"parse"),t.exports=o,o.parse=o}),OT=rt((e,t)=>{"use strict";Ce();var r=(AY(),Ar(Aj)),n=xf(),o=CY().parse,i=I(function(f,m,y){return y===void 0?y=tt.env["PG"+f.toUpperCase()]:y===!1||(y=tt.env[y]),m[f]||y||n[f]},"val"),s=I(function(){switch(tt.env.PGSSLMODE){case"disable":return!1;case"prefer":case"require":case"verify-ca":case"verify-full":return!0;case"no-verify":return{rejectUnauthorized:!1}}return n.ssl},"readSSLConfigFromEnvironment"),u=I(function(f){return"'"+(""+f).replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"},"quoteParamValue"),l=I(function(f,m,y){var g=m[y];g!=null&&f.push(y+"="+u(g))},"add"),d=class{static{a(this,"Br")}constructor(m){m=typeof m=="string"?o(m):m||{},m.connectionString&&(m=Object.assign({},m,o(m.connectionString))),this.user=i("user",m),this.database=i("database",m),this.database===void 0&&(this.database=this.user),this.port=parseInt(i("port",m),10),this.host=i("host",m),Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:i("password",m)}),this.binary=i("binary",m),this.options=i("options",m),this.ssl=typeof m.ssl>"u"?s():m.ssl,typeof this.ssl=="string"&&this.ssl==="true"&&(this.ssl=!0),this.ssl==="no-verify"&&(this.ssl={rejectUnauthorized:!1}),this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this.client_encoding=i("client_encoding",m),this.replication=i("replication",m),this.isDomainSocket=!(this.host||"").indexOf("/"),this.application_name=i("application_name",m,"PGAPPNAME"),this.fallback_application_name=i("fallback_application_name",m,!1),this.statement_timeout=i("statement_timeout",m,!1),this.lock_timeout=i("lock_timeout",m,!1),this.idle_in_transaction_session_timeout=i("idle_in_transaction_session_timeout",m,!1),this.query_timeout=i("query_timeout",m,!1),m.connectionTimeoutMillis===void 0?this.connect_timeout=tt.env.PGCONNECT_TIMEOUT||0:this.connect_timeout=Math.floor(m.connectionTimeoutMillis/1e3),m.keepAlive===!1?this.keepalives=0:m.keepAlive===!0&&(this.keepalives=1),typeof m.keepAliveInitialDelayMillis=="number"&&(this.keepalives_idle=Math.floor(m.keepAliveInitialDelayMillis/1e3))}getLibpqConnectionString(m){var y=[];l(y,this,"user"),l(y,this,"password"),l(y,this,"port"),l(y,this,"application_name"),l(y,this,"fallback_application_name"),l(y,this,"connect_timeout"),l(y,this,"options");var g=typeof this.ssl=="object"?this.ssl:this.ssl?{sslmode:this.ssl}:{};if(l(y,g,"sslmode"),l(y,g,"sslca"),l(y,g,"sslkey"),l(y,g,"sslcert"),l(y,g,"sslrootcert"),this.database&&y.push("dbname="+u(this.database)),this.replication&&y.push("replication="+u(this.replication)),this.host&&y.push("host="+u(this.host)),this.isDomainSocket)return m(null,y.join(" "));this.client_encoding&&y.push("client_encoding="+u(this.client_encoding)),r.lookup(this.host,function(h,v){return h?m(h,null):(y.push("hostaddr="+u(v)),m(null,y.join(" ")))})}};I(d,"ConnectionParameters");var p=d;t.exports=p}),RY=rt((e,t)=>{"use strict";Ce();var r=wf(),n=/^([A-Za-z]+)(?: (\d+))?(?: (\d+))?/,o=class{static{a(this,"Lr")}constructor(u,l){this.command=null,this.rowCount=null,this.oid=null,this.rows=[],this.fields=[],this._parsers=void 0,this._types=l,this.RowCtor=null,this.rowAsArray=u==="array",this.rowAsArray&&(this.parseRow=this._parseRowAsArray)}addCommandComplete(u){var l;u.text?l=n.exec(u.text):l=n.exec(u.command),l&&(this.command=l[1],l[3]?(this.oid=parseInt(l[2],10),this.rowCount=parseInt(l[3],10)):l[2]&&(this.rowCount=parseInt(l[2],10)))}_parseRowAsArray(u){for(var l=new Array(u.length),d=0,p=u.length;d<p;d++){var f=u[d];f!==null?l[d]=this._parsers[d](f):l[d]=null}return l}parseRow(u){for(var l={},d=0,p=u.length;d<p;d++){var f=u[d],m=this.fields[d].name;f!==null?l[m]=this._parsers[d](f):l[m]=null}return l}addRow(u){this.rows.push(u)}addFields(u){this.fields=u,this.fields.length&&(this._parsers=new Array(u.length));for(var l=0;l<u.length;l++){var d=u[l];this._types?this._parsers[l]=this._types.getTypeParser(d.dataTypeID,d.format||"text"):this._parsers[l]=r.getTypeParser(d.dataTypeID,d.format||"text")}}};I(o,"Result");var i=o;t.exports=i}),$Y=rt((e,t)=>{"use strict";Ce();var{EventEmitter:r}=ds(),n=RY(),o=Tf(),i=class extends r{static{a(this,"kr")}constructor(l,d,p){super(),l=o.normalizeQueryConfig(l,d,p),this.text=l.text,this.values=l.values,this.rows=l.rows,this.types=l.types,this.name=l.name,this.binary=l.binary,this.portal=l.portal||"",this.callback=l.callback,this._rowMode=l.rowMode,tt.domain&&l.callback&&(this.callback=tt.domain.bind(l.callback)),this._result=new n(this._rowMode,this.types),this._results=this._result,this.isPreparedStatement=!1,this._canceledDueToError=!1,this._promise=null}requiresPreparation(){return this.name||this.rows?!0:!this.text||!this.values?!1:this.values.length>0}_checkForMultirow(){this._result.command&&(Array.isArray(this._results)||(this._results=[this._result]),this._result=new n(this._rowMode,this.types),this._results.push(this._result))}handleRowDescription(l){this._checkForMultirow(),this._result.addFields(l.fields),this._accumulateRows=this.callback||!this.listeners("row").length}handleDataRow(l){let d;if(!this._canceledDueToError){try{d=this._result.parseRow(l.fields)}catch(p){this._canceledDueToError=p;return}this.emit("row",d,this._result),this._accumulateRows&&this._result.addRow(d)}}handleCommandComplete(l,d){this._checkForMultirow(),this._result.addCommandComplete(l),this.rows&&d.sync()}handleEmptyQuery(l){this.rows&&l.sync()}handleError(l,d){if(this._canceledDueToError&&(l=this._canceledDueToError,this._canceledDueToError=!1),this.callback)return this.callback(l);this.emit("error",l)}handleReadyForQuery(l){if(this._canceledDueToError)return this.handleError(this._canceledDueToError,l);if(this.callback)try{this.callback(null,this._results)}catch(d){tt.nextTick(()=>{throw d})}this.emit("end",this._results)}submit(l){if(typeof this.text!="string"&&typeof this.name!="string")return new Error("A query must have either text or a name. Supplying neither is unsupported.");let d=l.parsedStatements[this.name];return this.text&&d&&this.text!==d?new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`):this.values&&!Array.isArray(this.values)?new Error("Query values must be an array"):(this.requiresPreparation()?this.prepare(l):l.query(this.text),null)}hasBeenParsed(l){return this.name&&l.parsedStatements[this.name]}handlePortalSuspended(l){this._getRows(l,this.rows)}_getRows(l,d){l.execute({portal:this.portal,rows:d}),d?l.flush():l.sync()}prepare(l){this.isPreparedStatement=!0,this.hasBeenParsed(l)||l.parse({text:this.text,name:this.name,types:this.types});try{l.bind({portal:this.portal,statement:this.name,values:this.values,binary:this.binary,valueMapper:o.prepareValue})}catch(d){this.handleError(d,l);return}l.describe({type:"P",name:this.portal||""}),this._getRows(l,this.rows)}handleCopyInResponse(l){l.sendCopyFail("No source stream defined")}handleCopyData(l,d){}};I(i,"Query");var s=i;t.exports=s}),Rj=rt(e=>{"use strict";Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.NoticeMessage=e.DataRowMessage=e.CommandCompleteMessage=e.ReadyForQueryMessage=e.NotificationResponseMessage=e.BackendKeyDataMessage=e.AuthenticationMD5Password=e.ParameterStatusMessage=e.ParameterDescriptionMessage=e.RowDescriptionMessage=e.Field=e.CopyResponse=e.CopyDataMessage=e.DatabaseError=e.copyDone=e.emptyQuery=e.replicationStart=e.portalSuspended=e.noData=e.closeComplete=e.bindComplete=e.parseComplete=void 0,e.parseComplete={name:"parseComplete",length:5},e.bindComplete={name:"bindComplete",length:5},e.closeComplete={name:"closeComplete",length:5},e.noData={name:"noData",length:5},e.portalSuspended={name:"portalSuspended",length:5},e.replicationStart={name:"replicationStart",length:4},e.emptyQuery={name:"emptyQuery",length:4},e.copyDone={name:"copyDone",length:4};var t=class extends Error{static{a(this,"Kr")}constructor(B,te,ne){super(B),this.length=te,this.name=ne}};I(t,"DatabaseError");var r=t;e.DatabaseError=r;var n=class{static{a(this,"Yr")}constructor(B,te){this.length=B,this.chunk=te,this.name="copyData"}};I(n,"CopyDataMessage");var o=n;e.CopyDataMessage=o;var i=class{static{a(this,"Zr")}constructor(B,te,ne,ae){this.length=B,this.name=te,this.binary=ne,this.columnTypes=new Array(ae)}};I(i,"CopyResponse");var s=i;e.CopyResponse=s;var u=class{static{a(this,"Jr")}constructor(B,te,ne,ae,Se,ke,et){this.name=B,this.tableID=te,this.columnID=ne,this.dataTypeID=ae,this.dataTypeSize=Se,this.dataTypeModifier=ke,this.format=et}};I(u,"Field");var l=u;e.Field=l;var d=class{static{a(this,"Xr")}constructor(B,te){this.length=B,this.fieldCount=te,this.name="rowDescription",this.fields=new Array(this.fieldCount)}};I(d,"RowDescriptionMessage");var p=d;e.RowDescriptionMessage=p;var f=class{static{a(this,"en")}constructor(B,te){this.length=B,this.parameterCount=te,this.name="parameterDescription",this.dataTypeIDs=new Array(this.parameterCount)}};I(f,"ParameterDescriptionMessage");var m=f;e.ParameterDescriptionMessage=m;var y=class{static{a(this,"tn")}constructor(B,te,ne){this.length=B,this.parameterName=te,this.parameterValue=ne,this.name="parameterStatus"}};I(y,"ParameterStatusMessage");var g=y;e.ParameterStatusMessage=g;var h=class{static{a(this,"rn")}constructor(B,te){this.length=B,this.salt=te,this.name="authenticationMD5Password"}};I(h,"AuthenticationMD5Password");var v=h;e.AuthenticationMD5Password=v;var S=class{static{a(this,"nn")}constructor(B,te,ne){this.length=B,this.processID=te,this.secretKey=ne,this.name="backendKeyData"}};I(S,"BackendKeyDataMessage");var b=S;e.BackendKeyDataMessage=b;var w=class{static{a(this,"sn")}constructor(B,te,ne,ae){this.length=B,this.processId=te,this.channel=ne,this.payload=ae,this.name="notification"}};I(w,"NotificationResponseMessage");var k=w;e.NotificationResponseMessage=k;var $=class{static{a(this,"on")}constructor(B,te){this.length=B,this.status=te,this.name="readyForQuery"}};I($,"ReadyForQueryMessage");var C=$;e.ReadyForQueryMessage=C;var A=class{static{a(this,"an")}constructor(B,te){this.length=B,this.text=te,this.name="commandComplete"}};I(A,"CommandCompleteMessage");var R=A;e.CommandCompleteMessage=R;var O=class{static{a(this,"un")}constructor(B,te){this.length=B,this.fields=te,this.name="dataRow",this.fieldCount=te.length}};I(O,"DataRowMessage");var z=O;e.DataRowMessage=z;var D=class{static{a(this,"cn")}constructor(B,te){this.length=B,this.message=te,this.name="notice"}};I(D,"NoticeMessage");var X=D;e.NoticeMessage=X}),NY=rt(e=>{"use strict";Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.Writer=void 0;var t=class{static{a(this,"hn")}constructor(o=256){this.size=o,this.offset=5,this.headerPosition=0,this.buffer=Fe.allocUnsafe(o)}ensure(o){if(this.buffer.length-this.offset<o){let i=this.buffer,s=i.length+(i.length>>1)+o;this.buffer=Fe.allocUnsafe(s),i.copy(this.buffer)}}addInt32(o){return this.ensure(4),this.buffer[this.offset++]=o>>>24&255,this.buffer[this.offset++]=o>>>16&255,this.buffer[this.offset++]=o>>>8&255,this.buffer[this.offset++]=o>>>0&255,this}addInt16(o){return this.ensure(2),this.buffer[this.offset++]=o>>>8&255,this.buffer[this.offset++]=o>>>0&255,this}addCString(o){if(!o)this.ensure(1);else{let i=Fe.byteLength(o);this.ensure(i+1),this.buffer.write(o,this.offset,"utf-8"),this.offset+=i}return this.buffer[this.offset++]=0,this}addString(o=""){let i=Fe.byteLength(o);return this.ensure(i),this.buffer.write(o,this.offset),this.offset+=i,this}add(o){return this.ensure(o.length),o.copy(this.buffer,this.offset),this.offset+=o.length,this}join(o){if(o){this.buffer[this.headerPosition]=o;let i=this.offset-(this.headerPosition+1);this.buffer.writeInt32BE(i,this.headerPosition+1)}return this.buffer.slice(o?0:5,this.offset)}flush(o){let i=this.join(o);return this.offset=5,this.headerPosition=0,this.buffer=Fe.allocUnsafe(this.size),i}};I(t,"Writer");var r=t;e.Writer=r}),zY=rt(e=>{"use strict";Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.serialize=void 0;var t=NY(),r=new t.Writer,n=I(B=>{r.addInt16(3).addInt16(0);for(let ae of Object.keys(B))r.addCString(ae).addCString(B[ae]);r.addCString("client_encoding").addCString("UTF8");let te=r.addCString("").flush(),ne=te.length+4;return new t.Writer().addInt32(ne).add(te).flush()},"startup"),o=I(()=>{let B=Fe.allocUnsafe(8);return B.writeInt32BE(8,0),B.writeInt32BE(80877103,4),B},"requestSsl"),i=I(B=>r.addCString(B).flush(112),"password"),s=I(function(B,te){return r.addCString(B).addInt32(Fe.byteLength(te)).addString(te),r.flush(112)},"sendSASLInitialResponseMessage"),u=I(function(B){return r.addString(B).flush(112)},"sendSCRAMClientFinalMessage"),l=I(B=>r.addCString(B).flush(81),"query"),d=[],p=I(B=>{let te=B.name||"";te.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",te,te.length),console.error("This can cause conflicts and silent errors executing queries"));let ne=B.types||d,ae=ne.length,Se=r.addCString(te).addCString(B.text).addInt16(ae);for(let ke=0;ke<ae;ke++)Se.addInt32(ne[ke]);return r.flush(80)},"parse"),f=new t.Writer,m=I(function(B,te){for(let ne=0;ne<B.length;ne++){let ae=te?te(B[ne],ne):B[ne];ae==null?(r.addInt16(0),f.addInt32(-1)):ae instanceof Fe?(r.addInt16(1),f.addInt32(ae.length),f.add(ae)):(r.addInt16(0),f.addInt32(Fe.byteLength(ae)),f.addString(ae))}},"writeValues"),y=I((B={})=>{let te=B.portal||"",ne=B.statement||"",ae=B.binary||!1,Se=B.values||d,ke=Se.length;return r.addCString(te).addCString(ne),r.addInt16(ke),m(Se,B.valueMapper),r.addInt16(ke),r.add(f.flush()),r.addInt16(ae?1:0),r.flush(66)},"bind"),g=Fe.from([69,0,0,0,9,0,0,0,0,0]),h=I(B=>{if(!B||!B.portal&&!B.rows)return g;let te=B.portal||"",ne=B.rows||0,ae=Fe.byteLength(te),Se=4+ae+1+4,ke=Fe.allocUnsafe(1+Se);return ke[0]=69,ke.writeInt32BE(Se,1),ke.write(te,5,"utf-8"),ke[ae+5]=0,ke.writeUInt32BE(ne,ke.length-4),ke},"execute"),v=I((B,te)=>{let ne=Fe.allocUnsafe(16);return ne.writeInt32BE(16,0),ne.writeInt16BE(1234,4),ne.writeInt16BE(5678,6),ne.writeInt32BE(B,8),ne.writeInt32BE(te,12),ne},"cancel"),S=I((B,te)=>{let ne=4+Fe.byteLength(te)+1,ae=Fe.allocUnsafe(1+ne);return ae[0]=B,ae.writeInt32BE(ne,1),ae.write(te,5,"utf-8"),ae[ne]=0,ae},"cstringMessage"),b=r.addCString("P").flush(68),w=r.addCString("S").flush(68),k=I(B=>B.name?S(68,`${B.type}${B.name||""}`):B.type==="P"?b:w,"describe"),$=I(B=>{let te=`${B.type}${B.name||""}`;return S(67,te)},"close"),C=I(B=>r.add(B).flush(100),"copyData"),A=I(B=>S(102,B),"copyFail"),R=I(B=>Fe.from([B,0,0,0,4]),"codeOnlyBuffer"),O=R(72),z=R(83),D=R(88),X=R(99),G={startup:n,password:i,requestSsl:o,sendSASLInitialResponseMessage:s,sendSCRAMClientFinalMessage:u,query:l,parse:p,bind:y,execute:h,describe:k,close:$,flush:I(()=>O,"flush"),sync:I(()=>z,"sync"),end:I(()=>D,"end"),copyData:C,copyDone:I(()=>X,"copyDone"),copyFail:A,cancel:v};e.serialize=G}),jY=rt(e=>{"use strict";Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.BufferReader=void 0;var t=Fe.allocUnsafe(0),r=class{static{a(this,"mn")}constructor(i=0){this.offset=i,this.buffer=t,this.encoding="utf-8"}setBuffer(i,s){this.offset=i,this.buffer=s}int16(){let i=this.buffer.readInt16BE(this.offset);return this.offset+=2,i}byte(){let i=this.buffer[this.offset];return this.offset++,i}int32(){let i=this.buffer.readInt32BE(this.offset);return this.offset+=4,i}uint32(){let i=this.buffer.readUInt32BE(this.offset);return this.offset+=4,i}string(i){let s=this.buffer.toString(this.encoding,this.offset,this.offset+i);return this.offset+=i,s}cstring(){let i=this.offset,s=i;for(;this.buffer[s++]!==0;);return this.offset=s,this.buffer.toString(this.encoding,i,s-1)}bytes(i){let s=this.buffer.slice(this.offset,this.offset+i);return this.offset+=i,s}};I(r,"BufferReader");var n=r;e.BufferReader=n}),DY=rt(e=>{"use strict";Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.Parser=void 0;var t=Rj(),r=jY(),n=1,o=4,i=n+o,s=Fe.allocUnsafe(0),u=class{static{a(this,"bn")}constructor(p){if(this.buffer=s,this.bufferLength=0,this.bufferOffset=0,this.reader=new r.BufferReader,p?.mode==="binary")throw new Error("Binary mode not supported yet");this.mode=p?.mode||"text"}parse(p,f){this.mergeBuffer(p);let m=this.bufferOffset+this.bufferLength,y=this.bufferOffset;for(;y+i<=m;){let g=this.buffer[y],h=this.buffer.readUInt32BE(y+n),v=n+h;if(v+y<=m){let S=this.handlePacket(y+i,g,h,this.buffer);f(S),y+=v}else break}y===m?(this.buffer=s,this.bufferLength=0,this.bufferOffset=0):(this.bufferLength=m-y,this.bufferOffset=y)}mergeBuffer(p){if(this.bufferLength>0){let f=this.bufferLength+p.byteLength;if(f+this.bufferOffset>this.buffer.byteLength){let m;if(f<=this.buffer.byteLength&&this.bufferOffset>=this.bufferLength)m=this.buffer;else{let y=this.buffer.byteLength*2;for(;f>=y;)y*=2;m=Fe.allocUnsafe(y)}this.buffer.copy(m,0,this.bufferOffset,this.bufferOffset+this.bufferLength),this.buffer=m,this.bufferOffset=0}p.copy(this.buffer,this.bufferOffset+this.bufferLength),this.bufferLength=f}else this.buffer=p,this.bufferOffset=0,this.bufferLength=p.byteLength}handlePacket(p,f,m,y){switch(f){case 50:return t.bindComplete;case 49:return t.parseComplete;case 51:return t.closeComplete;case 110:return t.noData;case 115:return t.portalSuspended;case 99:return t.copyDone;case 87:return t.replicationStart;case 73:return t.emptyQuery;case 68:return this.parseDataRowMessage(p,m,y);case 67:return this.parseCommandCompleteMessage(p,m,y);case 90:return this.parseReadyForQueryMessage(p,m,y);case 65:return this.parseNotificationMessage(p,m,y);case 82:return this.parseAuthenticationResponse(p,m,y);case 83:return this.parseParameterStatusMessage(p,m,y);case 75:return this.parseBackendKeyData(p,m,y);case 69:return this.parseErrorMessage(p,m,y,"error");case 78:return this.parseErrorMessage(p,m,y,"notice");case 84:return this.parseRowDescriptionMessage(p,m,y);case 116:return this.parseParameterDescriptionMessage(p,m,y);case 71:return this.parseCopyInMessage(p,m,y);case 72:return this.parseCopyOutMessage(p,m,y);case 100:return this.parseCopyData(p,m,y);default:return new t.DatabaseError("received invalid response: "+f.toString(16),m,"error")}}parseReadyForQueryMessage(p,f,m){this.reader.setBuffer(p,m);let y=this.reader.string(1);return new t.ReadyForQueryMessage(f,y)}parseCommandCompleteMessage(p,f,m){this.reader.setBuffer(p,m);let y=this.reader.cstring();return new t.CommandCompleteMessage(f,y)}parseCopyData(p,f,m){let y=m.slice(p,p+(f-4));return new t.CopyDataMessage(f,y)}parseCopyInMessage(p,f,m){return this.parseCopyMessage(p,f,m,"copyInResponse")}parseCopyOutMessage(p,f,m){return this.parseCopyMessage(p,f,m,"copyOutResponse")}parseCopyMessage(p,f,m,y){this.reader.setBuffer(p,m);let g=this.reader.byte()!==0,h=this.reader.int16(),v=new t.CopyResponse(f,y,g,h);for(let S=0;S<h;S++)v.columnTypes[S]=this.reader.int16();return v}parseNotificationMessage(p,f,m){this.reader.setBuffer(p,m);let y=this.reader.int32(),g=this.reader.cstring(),h=this.reader.cstring();return new t.NotificationResponseMessage(f,y,g,h)}parseRowDescriptionMessage(p,f,m){this.reader.setBuffer(p,m);let y=this.reader.int16(),g=new t.RowDescriptionMessage(f,y);for(let h=0;h<y;h++)g.fields[h]=this.parseField();return g}parseField(){let p=this.reader.cstring(),f=this.reader.uint32(),m=this.reader.int16(),y=this.reader.uint32(),g=this.reader.int16(),h=this.reader.int32(),v=this.reader.int16()===0?"text":"binary";return new t.Field(p,f,m,y,g,h,v)}parseParameterDescriptionMessage(p,f,m){this.reader.setBuffer(p,m);let y=this.reader.int16(),g=new t.ParameterDescriptionMessage(f,y);for(let h=0;h<y;h++)g.dataTypeIDs[h]=this.reader.int32();return g}parseDataRowMessage(p,f,m){this.reader.setBuffer(p,m);let y=this.reader.int16(),g=new Array(y);for(let h=0;h<y;h++){let v=this.reader.int32();g[h]=v===-1?null:this.reader.string(v)}return new t.DataRowMessage(f,g)}parseParameterStatusMessage(p,f,m){this.reader.setBuffer(p,m);let y=this.reader.cstring(),g=this.reader.cstring();return new t.ParameterStatusMessage(f,y,g)}parseBackendKeyData(p,f,m){this.reader.setBuffer(p,m);let y=this.reader.int32(),g=this.reader.int32();return new t.BackendKeyDataMessage(f,y,g)}parseAuthenticationResponse(p,f,m){this.reader.setBuffer(p,m);let y=this.reader.int32(),g={name:"authenticationOk",length:f};switch(y){case 0:break;case 3:g.length===8&&(g.name="authenticationCleartextPassword");break;case 5:if(g.length===12){g.name="authenticationMD5Password";let h=this.reader.bytes(4);return new t.AuthenticationMD5Password(f,h)}break;case 10:{g.name="authenticationSASL",g.mechanisms=[];let h;do h=this.reader.cstring(),h&&g.mechanisms.push(h);while(h)}break;case 11:g.name="authenticationSASLContinue",g.data=this.reader.string(f-8);break;case 12:g.name="authenticationSASLFinal",g.data=this.reader.string(f-8);break;default:throw new Error("Unknown authenticationOk message type "+y)}return g}parseErrorMessage(p,f,m,y){this.reader.setBuffer(p,m);let g={},h=this.reader.string(1);for(;h!=="\0";)g[h]=this.reader.cstring(),h=this.reader.string(1);let v=g.M,S=y==="notice"?new t.NoticeMessage(f,v):new t.DatabaseError(v,f,y);return S.severity=g.S,S.code=g.C,S.detail=g.D,S.hint=g.H,S.position=g.P,S.internalPosition=g.p,S.internalQuery=g.q,S.where=g.W,S.schema=g.s,S.table=g.t,S.column=g.c,S.dataType=g.d,S.constraint=g.n,S.file=g.F,S.line=g.L,S.routine=g.R,S}};I(u,"Parser");var l=u;e.Parser=l}),$j=rt(e=>{"use strict";Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.DatabaseError=e.serialize=e.parse=void 0;var t=Rj();Object.defineProperty(e,"DatabaseError",{enumerable:!0,get:I(function(){return t.DatabaseError},"get")});var r=zY();Object.defineProperty(e,"serialize",{enumerable:!0,get:I(function(){return r.serialize},"get")});var n=DY();function o(i,s){let u=new n.Parser;return i.on("data",l=>u.parse(l,s)),new Promise(l=>i.on("end",()=>l()))}a(o,"Hc"),I(o,"parse"),e.parse=o}),Nj={};go(Nj,{connect:a(()=>zj,"connect")});a(zj,"$c");MY=bn(()=>{"use strict";Ce(),I(zj,"connect")}),jj=rt((e,t)=>{"use strict";Ce();var r=(Jl(),Ar(lj)),n=ds().EventEmitter,{parse:o,serialize:i}=$j(),s=i.flush(),u=i.sync(),l=i.end(),d=class extends n{static{a(this,"Sn")}constructor(m){super(),m=m||{},this.stream=m.stream||new r.Socket,this._keepAlive=m.keepAlive,this._keepAliveInitialDelayMillis=m.keepAliveInitialDelayMillis,this.lastBuffer=!1,this.parsedStatements={},this.ssl=m.ssl||!1,this._ending=!1,this._emitMessage=!1;var y=this;this.on("newListener",function(g){g==="message"&&(y._emitMessage=!0)})}connect(m,y){var g=this;this._connecting=!0,this.stream.setNoDelay(!0),this.stream.connect(m,y),this.stream.once("connect",function(){g._keepAlive&&g.stream.setKeepAlive(!0,g._keepAliveInitialDelayMillis),g.emit("connect")});let h=I(function(v){g._ending&&(v.code==="ECONNRESET"||v.code==="EPIPE")||g.emit("error",v)},"reportStreamError");if(this.stream.on("error",h),this.stream.on("close",function(){g.emit("end")}),!this.ssl)return this.attachListeners(this.stream);this.stream.once("data",function(v){var S=v.toString("utf8");switch(S){case"S":break;case"N":return g.stream.end(),g.emit("error",new Error("The server does not support SSL connections"));default:return g.stream.end(),g.emit("error",new Error("There was an error establishing an SSL connection"))}var b=(MY(),Ar(Nj));let w={socket:g.stream};g.ssl!==!0&&(Object.assign(w,g.ssl),"key"in g.ssl&&(w.key=g.ssl.key)),r.isIP(y)===0&&(w.servername=y);try{g.stream=b.connect(w)}catch(k){return g.emit("error",k)}g.attachListeners(g.stream),g.stream.on("error",h),g.emit("sslconnect")})}attachListeners(m){m.on("end",()=>{this.emit("end")}),o(m,y=>{var g=y.name==="error"?"errorMessage":y.name;this._emitMessage&&this.emit("message",y),this.emit(g,y)})}requestSsl(){this.stream.write(i.requestSsl())}startup(m){this.stream.write(i.startup(m))}cancel(m,y){this._send(i.cancel(m,y))}password(m){this._send(i.password(m))}sendSASLInitialResponseMessage(m,y){this._send(i.sendSASLInitialResponseMessage(m,y))}sendSCRAMClientFinalMessage(m){this._send(i.sendSCRAMClientFinalMessage(m))}_send(m){return this.stream.writable?this.stream.write(m):!1}query(m){this._send(i.query(m))}parse(m){this._send(i.parse(m))}bind(m){this._send(i.bind(m))}execute(m){this._send(i.execute(m))}flush(){this.stream.writable&&this.stream.write(s)}sync(){this._ending=!0,this._send(s),this._send(u)}ref(){this.stream.ref()}unref(){this.stream.unref()}end(){if(this._ending=!0,!this._connecting||!this.stream.writable){this.stream.end();return}return this.stream.write(l,()=>{this.stream.end()})}close(m){this._send(i.close(m))}describe(m){this._send(i.describe(m))}sendCopyFromChunk(m){this._send(i.copyData(m))}endCopyFrom(){this._send(i.copyDone())}sendCopyFail(m){this._send(i.copyFail(m))}};I(d,"Connection");var p=d;t.exports=p}),qY=rt((e,t)=>{"use strict";Ce();var r=ds().EventEmitter,n=(Ef(),Ar(Hl)),o=Tf(),i=EY(),s=OY(),u=TT(),l=OT(),d=$Y(),p=xf(),f=jj(),m=class extends r{static{a(this,"Cn")}constructor(h){super(),this.connectionParameters=new l(h),this.user=this.connectionParameters.user,this.database=this.connectionParameters.database,this.port=this.connectionParameters.port,this.host=this.connectionParameters.host,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:this.connectionParameters.password}),this.replication=this.connectionParameters.replication;var v=h||{};this._Promise=v.Promise||Sf.Promise,this._types=new u(v.types),this._ending=!1,this._connecting=!1,this._connected=!1,this._connectionError=!1,this._queryable=!0,this.connection=v.connection||new f({stream:v.stream,ssl:this.connectionParameters.ssl,keepAlive:v.keepAlive||!1,keepAliveInitialDelayMillis:v.keepAliveInitialDelayMillis||0,encoding:this.connectionParameters.client_encoding||"utf8"}),this.queryQueue=[],this.binary=v.binary||p.binary,this.processID=null,this.secretKey=null,this.ssl=this.connectionParameters.ssl||!1,this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this._connectionTimeoutMillis=v.connectionTimeoutMillis||0}_errorAllQueries(h){let v=I(S=>{tt.nextTick(()=>{S.handleError(h,this.connection)})},"enqueueError");this.activeQuery&&(v(this.activeQuery),this.activeQuery=null),this.queryQueue.forEach(v),this.queryQueue.length=0}_connect(h){var v=this,S=this.connection;if(this._connectionCallback=h,this._connecting||this._connected){let b=new Error("Client has already been connected. You cannot reuse a client.");tt.nextTick(()=>{h(b)});return}this._connecting=!0,this.connectionTimeoutHandle,this._connectionTimeoutMillis>0&&(this.connectionTimeoutHandle=setTimeout(()=>{S._ending=!0,S.stream.destroy(new Error("timeout expired"))},this._connectionTimeoutMillis)),this.host&&this.host.indexOf("/")===0?S.connect(this.host+"/.s.PGSQL."+this.port):S.connect(this.port,this.host),S.on("connect",function(){v.ssl?S.requestSsl():S.startup(v.getStartupConf())}),S.on("sslconnect",function(){S.startup(v.getStartupConf())}),this._attachListeners(S),S.once("end",()=>{let b=this._ending?new Error("Connection terminated"):new Error("Connection terminated unexpectedly");clearTimeout(this.connectionTimeoutHandle),this._errorAllQueries(b),this._ending||(this._connecting&&!this._connectionError?this._connectionCallback?this._connectionCallback(b):this._handleErrorEvent(b):this._connectionError||this._handleErrorEvent(b)),tt.nextTick(()=>{this.emit("end")})})}connect(h){if(h){this._connect(h);return}return new this._Promise((v,S)=>{this._connect(b=>{b?S(b):v()})})}_attachListeners(h){h.on("authenticationCleartextPassword",this._handleAuthCleartextPassword.bind(this)),h.on("authenticationMD5Password",this._handleAuthMD5Password.bind(this)),h.on("authenticationSASL",this._handleAuthSASL.bind(this)),h.on("authenticationSASLContinue",this._handleAuthSASLContinue.bind(this)),h.on("authenticationSASLFinal",this._handleAuthSASLFinal.bind(this)),h.on("backendKeyData",this._handleBackendKeyData.bind(this)),h.on("error",this._handleErrorEvent.bind(this)),h.on("errorMessage",this._handleErrorMessage.bind(this)),h.on("readyForQuery",this._handleReadyForQuery.bind(this)),h.on("notice",this._handleNotice.bind(this)),h.on("rowDescription",this._handleRowDescription.bind(this)),h.on("dataRow",this._handleDataRow.bind(this)),h.on("portalSuspended",this._handlePortalSuspended.bind(this)),h.on("emptyQuery",this._handleEmptyQuery.bind(this)),h.on("commandComplete",this._handleCommandComplete.bind(this)),h.on("parseComplete",this._handleParseComplete.bind(this)),h.on("copyInResponse",this._handleCopyInResponse.bind(this)),h.on("copyData",this._handleCopyData.bind(this)),h.on("notification",this._handleNotification.bind(this))}_checkPgPass(h){let v=this.connection;typeof this.password=="function"?this._Promise.resolve().then(()=>this.password()).then(S=>{if(S!==void 0){if(typeof S!="string"){v.emit("error",new TypeError("Password must be a string"));return}this.connectionParameters.password=this.password=S}else this.connectionParameters.password=this.password=null;h()}).catch(S=>{v.emit("error",S)}):this.password!==null?h():s(this.connectionParameters,S=>{S!==void 0&&(this.connectionParameters.password=this.password=S),h()})}_handleAuthCleartextPassword(h){this._checkPgPass(()=>{this.connection.password(this.password)})}_handleAuthMD5Password(h){this._checkPgPass(()=>{let v=o.postgresMd5PasswordHash(this.user,this.password,h.salt);this.connection.password(v)})}_handleAuthSASL(h){this._checkPgPass(()=>{this.saslSession=i.startSession(h.mechanisms),this.connection.sendSASLInitialResponseMessage(this.saslSession.mechanism,this.saslSession.response)})}_handleAuthSASLContinue(h){i.continueSession(this.saslSession,this.password,h.data),this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}_handleAuthSASLFinal(h){i.finalizeSession(this.saslSession,h.data),this.saslSession=null}_handleBackendKeyData(h){this.processID=h.processID,this.secretKey=h.secretKey}_handleReadyForQuery(h){this._connecting&&(this._connecting=!1,this._connected=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback&&(this._connectionCallback(null,this),this._connectionCallback=null),this.emit("connect"));let{activeQuery:v}=this;this.activeQuery=null,this.readyForQuery=!0,v&&v.handleReadyForQuery(this.connection),this._pulseQueryQueue()}_handleErrorWhileConnecting(h){if(!this._connectionError){if(this._connectionError=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback)return this._connectionCallback(h);this.emit("error",h)}}_handleErrorEvent(h){if(this._connecting)return this._handleErrorWhileConnecting(h);this._queryable=!1,this._errorAllQueries(h),this.emit("error",h)}_handleErrorMessage(h){if(this._connecting)return this._handleErrorWhileConnecting(h);let v=this.activeQuery;if(!v){this._handleErrorEvent(h);return}this.activeQuery=null,v.handleError(h,this.connection)}_handleRowDescription(h){this.activeQuery.handleRowDescription(h)}_handleDataRow(h){this.activeQuery.handleDataRow(h)}_handlePortalSuspended(h){this.activeQuery.handlePortalSuspended(this.connection)}_handleEmptyQuery(h){this.activeQuery.handleEmptyQuery(this.connection)}_handleCommandComplete(h){this.activeQuery.handleCommandComplete(h,this.connection)}_handleParseComplete(h){this.activeQuery.name&&(this.connection.parsedStatements[this.activeQuery.name]=this.activeQuery.text)}_handleCopyInResponse(h){this.activeQuery.handleCopyInResponse(this.connection)}_handleCopyData(h){this.activeQuery.handleCopyData(h,this.connection)}_handleNotification(h){this.emit("notification",h)}_handleNotice(h){this.emit("notice",h)}getStartupConf(){var h=this.connectionParameters,v={user:h.user,database:h.database},S=h.application_name||h.fallback_application_name;return S&&(v.application_name=S),h.replication&&(v.replication=""+h.replication),h.statement_timeout&&(v.statement_timeout=String(parseInt(h.statement_timeout,10))),h.lock_timeout&&(v.lock_timeout=String(parseInt(h.lock_timeout,10))),h.idle_in_transaction_session_timeout&&(v.idle_in_transaction_session_timeout=String(parseInt(h.idle_in_transaction_session_timeout,10))),h.options&&(v.options=h.options),v}cancel(h,v){if(h.activeQuery===v){var S=this.connection;this.host&&this.host.indexOf("/")===0?S.connect(this.host+"/.s.PGSQL."+this.port):S.connect(this.port,this.host),S.on("connect",function(){S.cancel(h.processID,h.secretKey)})}else h.queryQueue.indexOf(v)!==-1&&h.queryQueue.splice(h.queryQueue.indexOf(v),1)}setTypeParser(h,v,S){return this._types.setTypeParser(h,v,S)}getTypeParser(h,v){return this._types.getTypeParser(h,v)}escapeIdentifier(h){return'"'+h.replace(/"/g,'""')+'"'}escapeLiteral(h){for(var v=!1,S="'",b=0;b<h.length;b++){var w=h[b];w==="'"?S+=w+w:w==="\\"?(S+=w+w,v=!0):S+=w}return S+="'",v===!0&&(S=" E"+S),S}_pulseQueryQueue(){if(this.readyForQuery===!0)if(this.activeQuery=this.queryQueue.shift(),this.activeQuery){this.readyForQuery=!1,this.hasExecuted=!0;let h=this.activeQuery.submit(this.connection);h&&tt.nextTick(()=>{this.activeQuery.handleError(h,this.connection),this.readyForQuery=!0,this._pulseQueryQueue()})}else this.hasExecuted&&(this.activeQuery=null,this.emit("drain"))}query(h,v,S){var b,w,k,$,C;if(h==null)throw new TypeError("Client was passed a null or undefined query");return typeof h.submit=="function"?(k=h.query_timeout||this.connectionParameters.query_timeout,w=b=h,typeof v=="function"&&(b.callback=b.callback||v)):(k=this.connectionParameters.query_timeout,b=new d(h,v,S),b.callback||(w=new this._Promise((A,R)=>{b.callback=(O,z)=>O?R(O):A(z)}))),k&&(C=b.callback,$=setTimeout(()=>{var A=new Error("Query read timeout");tt.nextTick(()=>{b.handleError(A,this.connection)}),C(A),b.callback=()=>{};var R=this.queryQueue.indexOf(b);R>-1&&this.queryQueue.splice(R,1),this._pulseQueryQueue()},k),b.callback=(A,R)=>{clearTimeout($),C(A,R)}),this.binary&&!b.binary&&(b.binary=!0),b._result&&!b._result._types&&(b._result._types=this._types),this._queryable?this._ending?(tt.nextTick(()=>{b.handleError(new Error("Client was closed and is not queryable"),this.connection)}),w):(this.queryQueue.push(b),this._pulseQueryQueue(),w):(tt.nextTick(()=>{b.handleError(new Error("Client has encountered a connection error and is not queryable"),this.connection)}),w)}ref(){this.connection.ref()}unref(){this.connection.unref()}end(h){if(this._ending=!0,!this.connection._connecting)if(h)h();else return this._Promise.resolve();if(this.activeQuery||!this._queryable?this.connection.stream.destroy():this.connection.end(),h)this.connection.once("end",h);else return new this._Promise(v=>{this.connection.once("end",v)})}};I(m,"Client");var y=m;y.Query=d,t.exports=y}),UY=rt((e,t)=>{"use strict";Ce();var r=ds().EventEmitter,n=I(function(){},"NOOP"),o=I((g,h)=>{let v=g.findIndex(h);return v===-1?void 0:g.splice(v,1)[0]},"removeWhere"),i=class{static{a(this,"Tn")}constructor(h,v,S){this.client=h,this.idleListener=v,this.timeoutId=S}};I(i,"IdleItem");var s=i,u=class{static{a(this,"Pn")}constructor(h){this.callback=h}};I(u,"PendingItem");var l=u;function d(){throw new Error("Release called on client which has already been released to the pool.")}a(d,"il"),I(d,"throwOnDoubleRelease");function p(g,h){if(h)return{callback:h,result:void 0};let v,S,b=I(function(k,$){k?v(k):S($)},"cb"),w=new g(function(k,$){S=k,v=$}).catch(k=>{throw Error.captureStackTrace(k),k});return{callback:b,result:w}}a(p,"Dt"),I(p,"promisify");function f(g,h){return I(a(function v(S){S.client=h,h.removeListener("error",v),h.on("error",()=>{g.log("additional client error after disconnection due to error",S)}),g._remove(h),g.emit("error",S,h)},"t"),"idleListener")}a(f,"sl"),I(f,"makeIdleListener");var m=class extends r{static{a(this,"Bn")}constructor(h,v){super(),this.options=Object.assign({},h),h!=null&&"password"in h&&Object.defineProperty(this.options,"password",{configurable:!0,enumerable:!1,writable:!0,value:h.password}),h!=null&&h.ssl&&h.ssl.key&&Object.defineProperty(this.options.ssl,"key",{enumerable:!1}),this.options.max=this.options.max||this.options.poolSize||10,this.options.min=this.options.min||0,this.options.maxUses=this.options.maxUses||1/0,this.options.allowExitOnIdle=this.options.allowExitOnIdle||!1,this.options.maxLifetimeSeconds=this.options.maxLifetimeSeconds||0,this.log=this.options.log||function(){},this.Client=this.options.Client||v||kf().Client,this.Promise=this.options.Promise||Sf.Promise,typeof this.options.idleTimeoutMillis>"u"&&(this.options.idleTimeoutMillis=1e4),this._clients=[],this._idle=[],this._expired=new WeakSet,this._pendingQueue=[],this._endCallback=void 0,this.ending=!1,this.ended=!1}_isFull(){return this._clients.length>=this.options.max}_isAboveMin(){return this._clients.length>this.options.min}_pulseQueue(){if(this.log("pulse queue"),this.ended){this.log("pulse queue ended");return}if(this.ending){this.log("pulse queue on ending"),this._idle.length&&this._idle.slice().map(v=>{this._remove(v.client)}),this._clients.length||(this.ended=!0,this._endCallback());return}if(!this._pendingQueue.length){this.log("no queued requests");return}if(!this._idle.length&&this._isFull())return;let h=this._pendingQueue.shift();if(this._idle.length){let v=this._idle.pop();clearTimeout(v.timeoutId);let S=v.client;S.ref&&S.ref();let b=v.idleListener;return this._acquireClient(S,h,b,!1)}if(!this._isFull())return this.newClient(h);throw new Error("unexpected condition")}_remove(h){let v=o(this._idle,S=>S.client===h);v!==void 0&&clearTimeout(v.timeoutId),this._clients=this._clients.filter(S=>S!==h),h.end(),this.emit("remove",h)}connect(h){if(this.ending){let b=new Error("Cannot use a pool after calling end on the pool");return h?h(b):this.Promise.reject(b)}let v=p(this.Promise,h),S=v.result;if(this._isFull()||this._idle.length){if(this._idle.length&&tt.nextTick(()=>this._pulseQueue()),!this.options.connectionTimeoutMillis)return this._pendingQueue.push(new l(v.callback)),S;let b=I(($,C,A)=>{clearTimeout(k),v.callback($,C,A)},"queueCallback"),w=new l(b),k=setTimeout(()=>{o(this._pendingQueue,$=>$.callback===b),w.timedOut=!0,v.callback(new Error("timeout exceeded when trying to connect"))},this.options.connectionTimeoutMillis);return k.unref&&k.unref(),this._pendingQueue.push(w),S}return this.newClient(new l(v.callback)),S}newClient(h){let v=new this.Client(this.options);this._clients.push(v);let S=f(this,v);this.log("checking client timeout");let b,w=!1;this.options.connectionTimeoutMillis&&(b=setTimeout(()=>{this.log("ending client due to timeout"),w=!0,v.connection?v.connection.stream.destroy():v.end()},this.options.connectionTimeoutMillis)),this.log("connecting new client"),v.connect(k=>{if(b&&clearTimeout(b),v.on("error",S),k)this.log("client failed to connect",k),this._clients=this._clients.filter($=>$!==v),w&&(k=new Error("Connection terminated due to connection timeout",{cause:k})),this._pulseQueue(),h.timedOut||h.callback(k,void 0,n);else{if(this.log("new client connected"),this.options.maxLifetimeSeconds!==0){let $=setTimeout(()=>{this.log("ending client due to expired lifetime"),this._expired.add(v),this._idle.findIndex(C=>C.client===v)!==-1&&this._acquireClient(v,new l((C,A,R)=>R()),S,!1)},this.options.maxLifetimeSeconds*1e3);$.unref(),v.once("end",()=>clearTimeout($))}return this._acquireClient(v,h,S,!0)}})}_acquireClient(h,v,S,b){b&&this.emit("connect",h),this.emit("acquire",h),h.release=this._releaseOnce(h,S),h.removeListener("error",S),v.timedOut?b&&this.options.verify?this.options.verify(h,h.release):h.release():b&&this.options.verify?this.options.verify(h,w=>{if(w)return h.release(w),v.callback(w,void 0,n);v.callback(void 0,h,h.release)}):v.callback(void 0,h,h.release)}_releaseOnce(h,v){let S=!1;return b=>{S&&d(),S=!0,this._release(h,v,b)}}_release(h,v,S){if(h.on("error",v),h._poolUseCount=(h._poolUseCount||0)+1,this.emit("release",S,h),S||this.ending||!h._queryable||h._ending||h._poolUseCount>=this.options.maxUses){h._poolUseCount>=this.options.maxUses&&this.log("remove expended client"),this._remove(h),this._pulseQueue();return}if(this._expired.has(h)){this.log("remove expired client"),this._expired.delete(h),this._remove(h),this._pulseQueue();return}let b;this.options.idleTimeoutMillis&&this._isAboveMin()&&(b=setTimeout(()=>{this.log("remove idle client"),this._remove(h)},this.options.idleTimeoutMillis),this.options.allowExitOnIdle&&b.unref()),this.options.allowExitOnIdle&&h.unref(),this._idle.push(new s(h,v,b)),this._pulseQueue()}query(h,v,S){if(typeof h=="function"){let w=p(this.Promise,h);return wT(function(){return w.callback(new Error("Passing a function as the first parameter to pool.query is not supported"))}),w.result}typeof v=="function"&&(S=v,v=void 0);let b=p(this.Promise,S);return S=b.callback,this.connect((w,k)=>{if(w)return S(w);let $=!1,C=I(A=>{$||($=!0,k.release(A),S(A))},"onError");k.once("error",C),this.log("dispatching query");try{k.query(h,v,(A,R)=>{if(this.log("query dispatched"),k.removeListener("error",C),!$)return $=!0,k.release(A),A?S(A):S(void 0,R)})}catch(A){return k.release(A),S(A)}}),b.result}end(h){if(this.log("ending"),this.ending){let S=new Error("Called end on pool more than once");return h?h(S):this.Promise.reject(S)}this.ending=!0;let v=p(this.Promise,h);return this._endCallback=v.callback,this._pulseQueue(),v.result}get waitingCount(){return this._pendingQueue.length}get idleCount(){return this._idle.length}get expiredCount(){return this._clients.reduce((h,v)=>h+(this._expired.has(v)?1:0),0)}get totalCount(){return this._clients.length}};I(m,"Pool");var y=m;t.exports=y}),Dj={};go(Dj,{default:a(()=>Mj,"default")});LY=bn(()=>{"use strict";Ce(),Mj={}}),FY=rt((e,t)=>{t.exports={name:"pg",version:"8.8.0",description:"PostgreSQL client - pure javascript & libpq with the same API",keywords:["database","libpq","pg","postgre","postgres","postgresql","rdbms"],homepage:"https://github.com/brianc/node-postgres",repository:{type:"git",url:"git://github.com/brianc/node-postgres.git",directory:"packages/pg"},author:"Brian Carlson <brian.m.carlson@gmail.com>",main:"./lib",dependencies:{"buffer-writer":"2.0.0","packet-reader":"1.0.0","pg-connection-string":"^2.5.0","pg-pool":"^3.5.2","pg-protocol":"^1.5.0","pg-types":"^2.1.0",pgpass:"1.x"},devDependencies:{async:"2.6.4",bluebird:"3.5.2",co:"4.6.0","pg-copy-streams":"0.3.0"},peerDependencies:{"pg-native":">=3.0.1"},peerDependenciesMeta:{"pg-native":{optional:!0}},scripts:{test:"make test-all"},files:["lib","SPONSORS.md"],license:"MIT",engines:{node:">= 8.0.0"},gitHead:"c99fb2c127ddf8d712500db2c7b9a5491a178655"}}),BY=rt((e,t)=>{"use strict";Ce();var r=ds().EventEmitter,n=(Ef(),Ar(Hl)),o=Tf(),i=t.exports=function(u,l,d){r.call(this),u=o.normalizeQueryConfig(u,l,d),this.text=u.text,this.values=u.values,this.name=u.name,this.callback=u.callback,this.state="new",this._arrayMode=u.rowMode==="array",this._emitRowEvents=!1,this.on("newListener",function(p){p==="row"&&(this._emitRowEvents=!0)}.bind(this))};n.inherits(i,r);var s={sqlState:"code",statementPosition:"position",messagePrimary:"message",context:"where",schemaName:"schema",tableName:"table",columnName:"column",dataTypeName:"dataType",constraintName:"constraint",sourceFile:"file",sourceLine:"line",sourceFunction:"routine"};i.prototype.handleError=function(u){var l=this.native.pq.resultErrorFields();if(l)for(var d in l){var p=s[d]||d;u[p]=l[d]}this.callback?this.callback(u):this.emit("error",u),this.state="error"},i.prototype.then=function(u,l){return this._getPromise().then(u,l)},i.prototype.catch=function(u){return this._getPromise().catch(u)},i.prototype._getPromise=function(){return this._promise?this._promise:(this._promise=new Promise(function(u,l){this._once("end",u),this._once("error",l)}.bind(this)),this._promise)},i.prototype.submit=function(u){this.state="running";var l=this;this.native=u.native,u.native.arrayMode=this._arrayMode;var d=I(function(m,y,g){if(u.native.arrayMode=!1,wT(function(){l.emit("_done")}),m)return l.handleError(m);l._emitRowEvents&&(g.length>1?y.forEach((h,v)=>{h.forEach(S=>{l.emit("row",S,g[v])})}):y.forEach(function(h){l.emit("row",h,g)})),l.state="end",l.emit("end",g),l.callback&&l.callback(null,g)},"after");if(tt.domain&&(d=tt.domain.bind(d)),this.name){this.name.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",this.name,this.name.length),console.error("This can cause conflicts and silent errors executing queries"));var p=(this.values||[]).map(o.prepareValue);if(u.namedQueries[this.name]){if(this.text&&u.namedQueries[this.name]!==this.text){let m=new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`);return d(m)}return u.native.execute(this.name,p,d)}return u.native.prepare(this.name,this.text,p.length,function(m){return m?d(m):(u.namedQueries[l.name]=l.text,l.native.execute(l.name,p,d))})}else if(this.values){if(!Array.isArray(this.values)){let m=new Error("Query values must be an array");return d(m)}var f=this.values.map(o.prepareValue);u.native.query(this.text,f,d)}else u.native.query(this.text,d)}}),JY=rt((e,t)=>{"use strict";Ce();var r=(LY(),Ar(Dj)),n=TT(),o=FY(),i=ds().EventEmitter,s=(Ef(),Ar(Hl)),u=OT(),l=BY(),d=t.exports=function(p){i.call(this),p=p||{},this._Promise=p.Promise||Sf.Promise,this._types=new n(p.types),this.native=new r({types:this._types}),this._queryQueue=[],this._ending=!1,this._connecting=!1,this._connected=!1,this._queryable=!0;var f=this.connectionParameters=new u(p);this.user=f.user,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:f.password}),this.database=f.database,this.host=f.host,this.port=f.port,this.namedQueries={}};d.Query=l,s.inherits(d,i),d.prototype._errorAllQueries=function(p){let f=I(m=>{tt.nextTick(()=>{m.native=this.native,m.handleError(p)})},"enqueueError");this._hasActiveQuery()&&(f(this._activeQuery),this._activeQuery=null),this._queryQueue.forEach(f),this._queryQueue.length=0},d.prototype._connect=function(p){var f=this;if(this._connecting){tt.nextTick(()=>p(new Error("Client has already been connected. You cannot reuse a client.")));return}this._connecting=!0,this.connectionParameters.getLibpqConnectionString(function(m,y){if(m)return p(m);f.native.connect(y,function(g){if(g)return f.native.end(),p(g);f._connected=!0,f.native.on("error",function(h){f._queryable=!1,f._errorAllQueries(h),f.emit("error",h)}),f.native.on("notification",function(h){f.emit("notification",{channel:h.relname,payload:h.extra})}),f.emit("connect"),f._pulseQueryQueue(!0),p()})})},d.prototype.connect=function(p){if(p){this._connect(p);return}return new this._Promise((f,m)=>{this._connect(y=>{y?m(y):f()})})},d.prototype.query=function(p,f,m){var y,g,h,v,S;if(p==null)throw new TypeError("Client was passed a null or undefined query");if(typeof p.submit=="function")h=p.query_timeout||this.connectionParameters.query_timeout,g=y=p,typeof f=="function"&&(p.callback=f);else if(h=this.connectionParameters.query_timeout,y=new l(p,f,m),!y.callback){let b,w;g=new this._Promise((k,$)=>{b=k,w=$}),y.callback=(k,$)=>k?w(k):b($)}return h&&(S=y.callback,v=setTimeout(()=>{var b=new Error("Query read timeout");tt.nextTick(()=>{y.handleError(b,this.connection)}),S(b),y.callback=()=>{};var w=this._queryQueue.indexOf(y);w>-1&&this._queryQueue.splice(w,1),this._pulseQueryQueue()},h),y.callback=(b,w)=>{clearTimeout(v),S(b,w)}),this._queryable?this._ending?(y.native=this.native,tt.nextTick(()=>{y.handleError(new Error("Client was closed and is not queryable"))}),g):(this._queryQueue.push(y),this._pulseQueryQueue(),g):(y.native=this.native,tt.nextTick(()=>{y.handleError(new Error("Client has encountered a connection error and is not queryable"))}),g)},d.prototype.end=function(p){var f=this;this._ending=!0,this._connected||this.once("connect",this.end.bind(this,p));var m;return p||(m=new this._Promise(function(y,g){p=I(h=>h?g(h):y(),"cb")})),this.native.end(function(){f._errorAllQueries(new Error("Connection terminated")),tt.nextTick(()=>{f.emit("end"),p&&p()})}),m},d.prototype._hasActiveQuery=function(){return this._activeQuery&&this._activeQuery.state!=="error"&&this._activeQuery.state!=="end"},d.prototype._pulseQueryQueue=function(p){if(this._connected&&!this._hasActiveQuery()){var f=this._queryQueue.shift();if(!f){p||this.emit("drain");return}this._activeQuery=f,f.submit(this);var m=this;f.once("_done",function(){m._pulseQueryQueue()})}},d.prototype.cancel=function(p){this._activeQuery===p?this.native.cancel(function(){}):this._queryQueue.indexOf(p)!==-1&&this._queryQueue.splice(this._queryQueue.indexOf(p),1)},d.prototype.ref=function(){},d.prototype.unref=function(){},d.prototype.setTypeParser=function(p,f,m){return this._types.setTypeParser(p,f,m)},d.prototype.getTypeParser=function(p,f){return this._types.getTypeParser(p,f)}}),oj=rt((e,t)=>{"use strict";Ce(),t.exports=JY()}),kf=rt((e,t)=>{"use strict";Ce();var r=qY(),n=xf(),o=jj(),i=UY(),{DatabaseError:s}=$j(),u=I(d=>{var p;return p=class extends i{static{a(this,"e")}constructor(f){super(f,d)}},I(p,"BoundPool"),p},"poolFactory"),l=I(function(d){this.defaults=n,this.Client=d,this.Query=this.Client.Query,this.Pool=u(this.Client),this._pools=[],this.Connection=o,this.types=wf(),this.DatabaseError=s},"PG");typeof tt.env.NODE_PG_FORCE_NATIVE<"u"?t.exports=new l(oj()):(t.exports=new l(r),Object.defineProperty(t.exports,"native",{configurable:!0,enumerable:!1,get(){var d=null;try{d=new l(oj())}catch(p){if(p.code!=="MODULE_NOT_FOUND")throw p}return Object.defineProperty(t.exports,"native",{value:d}),d}}))});Ce();Ce();Jl();mj();Ce();HY=Object.defineProperty,VY=Object.defineProperties,ZY=Object.getOwnPropertyDescriptors,ij=Object.getOwnPropertySymbols,KY=Object.prototype.hasOwnProperty,GY=Object.prototype.propertyIsEnumerable,aj=I((e,t,r)=>t in e?HY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,"__defNormalProp"),WY=I((e,t)=>{for(var r in t||(t={}))KY.call(t,r)&&aj(e,r,t[r]);if(ij)for(var r of ij(t))GY.call(t,r)&&aj(e,r,t[r]);return e},"__spreadValues"),QY=I((e,t)=>VY(e,ZY(t)),"__spreadProps"),XY=1008e3,sj=new Uint8Array(new Uint16Array([258]).buffer)[0]===2,YY=new TextDecoder,AT=new TextEncoder,yf=AT.encode("0123456789abcdef"),vf=AT.encode("0123456789ABCDEF"),eee=AT.encode("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),qj=eee.slice();qj[62]=45;qj[63]=95;a(Uj,"Ea");I(Uj,"_toHex");a(Lj,"Aa");I(Lj,"_toHexChunked");a(Fj,"Ei");I(Fj,"toHex");Ce();Bj=class Jj{static{a(this,"gt")}constructor(t,r){this.strings=t,this.values=r}toParameterizedQuery(t={query:"",params:[]}){let{strings:r,values:n}=this;for(let o=0,i=r.length;o<i;o++)if(t.query+=r[o],o<n.length){let s=n[o];if(s instanceof Zj)t.query+=s.sql;else if(s instanceof bf)if(s.queryData instanceof Jj)s.queryData.toParameterizedQuery(t);else{if(s.queryData.params?.length)throw new Error("This query is not composable");t.query+=s.queryData.query}else{let{params:u}=t;u.push(s),t.query+="$"+u.length,(s instanceof Fe||ArrayBuffer.isView(s))&&(t.query+="::bytea")}}return t}};I(Bj,"SqlTemplate");Hj=Bj,Vj=class{static{a(this,"Xt")}constructor(t){this.sql=t}};I(Vj,"UnsafeRawSql");Zj=Vj;Ce();a(CT,"bt");I(CT,"warnIfBrowser");Jl();tee=ls(TT()),ree=ls(Tf()),Kj=class Gj extends Error{static{a(this,"_t")}constructor(t){super(t),Je(this,"name","NeonDbError"),Je(this,"severity"),Je(this,"code"),Je(this,"detail"),Je(this,"hint"),Je(this,"position"),Je(this,"internalPosition"),Je(this,"internalQuery"),Je(this,"where"),Je(this,"schema"),Je(this,"table"),Je(this,"column"),Je(this,"dataType"),Je(this,"constraint"),Je(this,"file"),Je(this,"line"),Je(this,"routine"),Je(this,"sourceError"),"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Gj)}};I(Kj,"NeonDbError");bu=Kj,uj="transaction() expects an array of queries, or a function returning an array of queries",nee=["severity","code","detail","hint","position","internalPosition","internalQuery","where","schema","table","column","dataType","constraint","file","line","routine"];a(Wj,"Lu");I(Wj,"encodeBuffersAsBytea");a(bT,"ss");I(bT,"prepareQuery");a(aa,"cs");I(aa,"neon");Qj=class{static{a(this,"dr")}constructor(t,r,n){this.execute=t,this.queryData=r,this.opts=n}then(t,r){return this.execute(this.queryData,this.opts).then(t,r)}catch(t){return this.execute(this.queryData,this.opts).catch(t)}finally(t){return this.execute(this.queryData,this.opts).finally(t)}};I(Qj,"NeonQueryPromise");bf=Qj;a(ST,"os");I(ST,"processQueryResult");a(Xj,"Fu");I(Xj,"getAuthToken");Ce();oee=ls(kf());Ce();iee=ls(kf()),Yj=class extends iee.Client{static{a(this,"kn")}constructor(t){super(t),this.config=t}get neonConfig(){return this.connection.stream}connect(t){let{neonConfig:r}=this;r.forceDisablePgSSL&&(this.ssl=this.connection.ssl=!1),this.ssl&&r.useSecureWebSocket&&console.warn("SSL is enabled for both Postgres (e.g. ?sslmode=require in the connection string + forceDisablePgSSL = false) and the WebSocket tunnel (useSecureWebSocket = true). Double encryption will increase latency and CPU usage. It may be appropriate to disable SSL in the Postgres connection parameters or set forceDisablePgSSL = true.");let n=typeof this.config!="string"&&this.config?.host!==void 0||typeof this.config!="string"&&this.config?.connectionString!==void 0||tt.env.PGHOST!==void 0,o=tt.env.USER??tt.env.USERNAME;if(!n&&this.host==="localhost"&&this.user===o&&this.database===o&&this.password===null)throw new Error(`No database host or connection string was set, and key parameters have default values (host: localhost, user: ${o}, db: ${o}, password: null). Is an environment variable missing? Alternatively, if you intended to connect with these parameters, please set the host to 'localhost' explicitly.`);let i=super.connect(t),s=r.pipelineTLS&&this.ssl,u=r.pipelineConnect==="password";if(!s&&!r.pipelineConnect)return i;let l=this.connection;if(s&&l.on("connect",()=>l.stream.emit("data","S")),u){l.removeAllListeners("authenticationCleartextPassword"),l.removeAllListeners("readyForQuery"),l.once("readyForQuery",()=>l.on("readyForQuery",this._handleReadyForQuery.bind(this)));let d=this.ssl?"sslconnect":"connect";l.on(d,()=>{this.neonConfig.disableWarningInBrowsers||CT(),this._handleAuthCleartextPassword(),this._handleReadyForQuery()})}return i}async _handleAuthSASLContinue(t){if(typeof crypto>"u"||crypto.subtle===void 0||crypto.subtle.importKey===void 0)throw new Error("Cannot use SASL auth when `crypto.subtle` is not defined");let r=crypto.subtle,n=this.saslSession,o=this.password,i=t.data;if(n.message!=="SASLInitialResponse"||typeof o!="string"||typeof i!="string")throw new Error("SASL: protocol error");let s=Object.fromEntries(i.split(",").map(Se=>{if(!/^.=/.test(Se))throw new Error("SASL: Invalid attribute pair entry");let ke=Se[0],et=Se.substring(2);return[ke,et]})),u=s.r,l=s.s,d=s.i;if(!u||!/^[!-+--~]+$/.test(u))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing/unprintable");if(!l||!/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(l))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing/not base64");if(!d||!/^[1-9][0-9]*$/.test(d))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: missing/invalid iteration count");if(!u.startsWith(n.clientNonce))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");if(u.length===n.clientNonce.length)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short");let p=parseInt(d,10),f=Fe.from(l,"base64"),m=new TextEncoder,y=m.encode(o),g=await r.importKey("raw",y,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),h=new Uint8Array(await r.sign("HMAC",g,Fe.concat([f,Fe.from([0,0,0,1])]))),v=h;for(var S=0;S<p-1;S++)h=new Uint8Array(await r.sign("HMAC",g,h)),v=Fe.from(v.map((Se,ke)=>v[ke]^h[ke]));let b=v,w=await r.importKey("raw",b,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),k=new Uint8Array(await r.sign("HMAC",w,m.encode("Client Key"))),$=await r.digest("SHA-256",k),C="n=*,r="+n.clientNonce,A="r="+u+",s="+l+",i="+p,R="c=biws,r="+u,O=C+","+A+","+R,z=await r.importKey("raw",$,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);var D=new Uint8Array(await r.sign("HMAC",z,m.encode(O))),X=Fe.from(k.map((Se,ke)=>k[ke]^D[ke])),G=X.toString("base64");let B=await r.importKey("raw",b,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),te=await r.sign("HMAC",B,m.encode("Server Key")),ne=await r.importKey("raw",te,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);var ae=Fe.from(await r.sign("HMAC",ne,m.encode(O)));n.message="SASLResponse",n.serverSignature=ae.toString("base64"),n.response=R+",p="+G,this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}};I(Yj,"NeonClient");aee=Yj;Jl();see=ls(OT());a(eD,"vl");I(eD,"promisify");tD=class extends oee.Pool{static{a(this,"Un")}constructor(){super(...arguments),Je(this,"Client",aee),Je(this,"hasFetchUnsupportedListeners",!1),Je(this,"addListener",this.on)}on(t,r){return t!=="error"&&(this.hasFetchUnsupportedListeners=!0),super.on(t,r)}query(t,r,n){if(!cs.poolQueryViaFetch||this.hasFetchUnsupportedListeners||typeof t=="function")return super.query(t,r,n);typeof r=="function"&&(n=r,r=void 0);let o=eD(this.Promise,n);n=o.callback;try{let i=new see.default(this.options),s=encodeURIComponent,u=encodeURI,l=`postgresql://${s(i.user)}:${s(i.password)}@${s(i.host)}/${u(i.database)}`,d=typeof t=="string"?t:t.text,p=r??t.values??[];aa(l,{fullResults:!0,arrayMode:t.rowMode==="array"}).query(d,p,{types:t.types??this.options?.types}).then(f=>n(void 0,f)).catch(f=>n(f))}catch(i){n(i)}return o.result}};I(tD,"NeonPool");yo=tD;Jl();Vl=ls(kf()),pNe=Vl.DatabaseError,mNe=Vl.defaults,fNe=Vl.escapeIdentifier,hNe=Vl.escapeLiteral,Ht=Vl.types;});var At,sa=W(()=>{df();lo();he();Kt();mo();vi();At=class e{static{a(this,"SelectionProxyHandler")}static[j]="SelectionProxyHandler";config;constructor(t){this.config={...t}}get(t,r){if(r==="_")return{...t._,selectedFields:new Proxy(t._.selectedFields,this)};if(r===Ot)return{...t[Ot],selectedFields:new Proxy(t[Ot].selectedFields,this)};if(typeof r=="symbol")return t[r];let o=(Y(t,rr)?t._.selectedFields:Y(t,Zr)?t[Ot].selectedFields:t)[r];if(Y(o,be.Aliased)){if(this.config.sqlAliasedBehavior==="sql"&&!o.isSelectionField)return o.sql;let i=o.clone();return i.isSelectionField=!0,i}if(Y(o,be)){if(this.config.sqlBehavior==="sql")return o;throw new Error(`You tried to reference "${r}" field from a subquery, which is a raw SQL field, but it doesn't have an alias declared. Please add an alias to the field using ".as('alias')" method.`)}return Y(o,St)?this.config.alias?new Proxy(o,new na(new Proxy(o.table,new is(this.config.alias,this.config.replaceOriginalName??!1)))):o:typeof o!="object"||o===null?o:new Proxy(o,new e(this.config))}}});var rD,RT,nD=W(()=>{he();rD=class{static{a(this,"CheckBuilder")}constructor(t,r){this.name=t,this.value=r}static[j]="PgCheckBuilder";brand;build(t){return new RT(t,this)}},RT=class{static{a(this,"Check")}constructor(t,r){this.table=t,this.name=r.name,this.value=r.value}static[j]="PgCheck";name;value}});var Pf=W(()=>{Yw();ox();sx();lx();mx();ct();gx();_x();wx();of();Ex();Tl();Ix();Cx();$x();zx();Ux();Bx();Vx();Yx();o0();l0();m0();g0();_0();w0();E0();P0();A0();R0();z0();M0();L0();J0();Z0()});function ps(e){return new $T(!0,e)}var $T,Kl,NT,oD=W(()=>{Kt();he();Pf();$T=class{static{a(this,"IndexBuilderOn")}constructor(t,r){this.unique=t,this.name=r}static[j]="PgIndexBuilderOn";on(...t){return new Kl(t.map(r=>{if(Y(r,be))return r;r=r;let n=new uu(r.name,!!r.keyAsName,r.columnType,r.indexConfig);return r.indexConfig=JSON.parse(JSON.stringify(r.defaultConfig)),n}),this.unique,!1,this.name)}onOnly(...t){return new Kl(t.map(r=>{if(Y(r,be))return r;r=r;let n=new uu(r.name,!!r.keyAsName,r.columnType,r.indexConfig);return r.indexConfig=r.defaultConfig,n}),this.unique,!0,this.name)}using(t,...r){return new Kl(r.map(n=>{if(Y(n,be))return n;n=n;let o=new uu(n.name,!!n.keyAsName,n.columnType,n.indexConfig);return n.indexConfig=JSON.parse(JSON.stringify(n.defaultConfig)),o}),this.unique,!0,this.name,t)}},Kl=class{static{a(this,"IndexBuilder")}static[j]="PgIndexBuilder";config;constructor(t,r,n,o,i="btree"){this.config={name:o,columns:t,unique:r,only:n,method:i}}concurrently(){return this.config.concurrently=!0,this}with(t){return this.config.with=t,this}where(t){return this.config.where=t,this}build(t){return new NT(this.config,t)}},NT=class{static{a(this,"Index")}static[j]="PgIndex";config;constructor(t,r){this.config={...t,table:r}}};a(ps,"uniqueIndex")});var iD,aD=W(()=>{he();iD=class{static{a(this,"PgPolicy")}constructor(t,r){this.name=t,r&&(this.as=r.as,this.for=r.for,this.to=r.to,this.using=r.using,this.withCheck=r.withCheck)}static[j]="PgPolicy";as;for;to;using;withCheck;_linkedTable;link(t){return this._linkedTable=t,this}}});var zT,jT=W(()=>{zT=Symbol.for("drizzle:PgViewConfig")});function uee(e){return(e.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).map(r=>r.toLowerCase()).join("_")}function cee(e){return(e.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).reduce((r,n,o)=>{let i=o===0?n.toLowerCase():`${n[0].toUpperCase()}${n.slice(1)}`;return r+i},"")}function lee(e){return e}var If,sD=W(()=>{he();Yr();a(uee,"toSnakeCase");a(cee,"toCamelCase");a(lee,"noopCase");If=class{static{a(this,"CasingCache")}static[j]="CasingCache";cache={};cachedTables={};convert;constructor(t){this.convert=t==="snake_case"?uee:t==="camelCase"?cee:lee}getColumnCasing(t){if(!t.keyAsName)return t.name;let r=t.table[ye.Symbol.Schema]??"public",n=t.table[ye.Symbol.OriginalName],o=`${r}.${n}.${t.name}`;return this.cache[o]||this.cacheTable(t.table),this.cache[o]}cacheTable(t){let r=t[ye.Symbol.Schema]??"public",n=t[ye.Symbol.OriginalName],o=`${r}.${n}`;if(!this.cachedTables[o]){for(let i of Object.values(t[ye.Symbol.Columns])){let s=`${o}.${i.name}`;this.cache[s]=this.convert(i.name)}this.cachedTables[o]=!0}}clearCache(){this.cache={},this.cachedTables={}}}});var Ei,Of=W(()=>{he();Kt();Ei=class extends Zr{static{a(this,"PgViewBase")}static[j]="PgViewBase"}});var Ho,Gl=W(()=>{df();sD();lo();he();pf();Pf();oa();vu();gf();Kt();mo();Yr();Et();vi();Of();Ho=class{static{a(this,"PgDialect")}static[j]="PgDialect";casing;constructor(t){this.casing=new If(t?.casing)}async migrate(t,r,n){let o=typeof n=="string"?"__drizzle_migrations":n.migrationsTable??"__drizzle_migrations",i=typeof n=="string"?"drizzle":n.migrationsSchema??"drizzle",s=q`
			CREATE TABLE IF NOT EXISTS ${q.identifier(i)}.${q.identifier(o)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at bigint
			)
		`;await r.execute(q`CREATE SCHEMA IF NOT EXISTS ${q.identifier(i)}`),await r.execute(s);let l=(await r.all(q`select id, hash, created_at from ${q.identifier(i)}.${q.identifier(o)} order by created_at desc limit 1`))[0];await r.transaction(async d=>{for await(let p of t)if(!l||Number(l.created_at)<p.folderMillis){for(let f of p.sql)await d.execute(q.raw(f));await d.execute(q`insert into ${q.identifier(i)}.${q.identifier(o)} ("hash", "created_at") values(${p.hash}, ${p.folderMillis})`)}})}escapeName(t){return`"${t}"`}escapeParam(t){return`$${t+1}`}escapeString(t){return`'${t.replace(/'/g,"''")}'`}buildWithCTE(t){if(!t?.length)return;let r=[q`with `];for(let[n,o]of t.entries())r.push(q`${q.identifier(o._.alias)} as (${o._.sql})`),n<t.length-1&&r.push(q`, `);return r.push(q` `),q.join(r)}buildDeleteQuery({table:t,where:r,returning:n,withList:o}){let i=this.buildWithCTE(o),s=n?q` returning ${this.buildSelection(n,{isSingleTable:!0})}`:void 0,u=r?q` where ${r}`:void 0;return q`${i}delete from ${t}${u}${s}`}buildUpdateSet(t,r){let n=t[ye.Symbol.Columns],o=Object.keys(n).filter(s=>r[s]!==void 0||n[s]?.onUpdateFn!==void 0),i=o.length;return q.join(o.flatMap((s,u)=>{let l=n[s],d=r[s]??q.param(l.onUpdateFn(),l),p=q`${q.identifier(this.casing.getColumnCasing(l))} = ${d}`;return u<i-1?[p,q.raw(", ")]:[p]}))}buildUpdateQuery({table:t,set:r,where:n,returning:o,withList:i,from:s,joins:u}){let l=this.buildWithCTE(i),d=t[xr.Symbol.Name],p=t[xr.Symbol.Schema],f=t[xr.Symbol.OriginalName],m=d===f?void 0:d,y=q`${p?q`${q.identifier(p)}.`:void 0}${q.identifier(f)}${m&&q` ${q.identifier(m)}`}`,g=this.buildUpdateSet(t,r),h=s&&q.join([q.raw(" from "),this.buildFromTable(s)]),v=this.buildJoins(u),S=o?q` returning ${this.buildSelection(o,{isSingleTable:!s})}`:void 0,b=n?q` where ${n}`:void 0;return q`${l}update ${y} set ${g}${h}${v}${b}${S}`}buildSelection(t,{isSingleTable:r=!1}={}){let n=t.length,o=t.flatMap(({field:i},s)=>{let u=[];if(Y(i,be.Aliased)&&i.isSelectionField)u.push(q.identifier(i.fieldAlias));else if(Y(i,be.Aliased)||Y(i,be)){let l=Y(i,be.Aliased)?i.sql:i;r?u.push(new be(l.queryChunks.map(d=>Y(d,ge)?q.identifier(this.casing.getColumnCasing(d)):d))):u.push(l),Y(i,be.Aliased)&&u.push(q` as ${q.identifier(i.fieldAlias)}`)}else Y(i,St)&&(r?u.push(q.identifier(this.casing.getColumnCasing(i))):u.push(i));return s<n-1&&u.push(q`, `),u});return q.join(o)}buildJoins(t){if(!t||t.length===0)return;let r=[];for(let[n,o]of t.entries()){n===0&&r.push(q` `);let i=o.table,s=o.lateral?q` lateral`:void 0,u=o.on?q` on ${o.on}`:void 0;if(Y(i,xr)){let l=i[xr.Symbol.Name],d=i[xr.Symbol.Schema],p=i[xr.Symbol.OriginalName],f=l===p?void 0:o.alias;r.push(q`${q.raw(o.joinType)} join${s} ${d?q`${q.identifier(d)}.`:void 0}${q.identifier(p)}${f&&q` ${q.identifier(f)}`}${u}`)}else if(Y(i,Zr)){let l=i[Ot].name,d=i[Ot].schema,p=i[Ot].originalName,f=l===p?void 0:o.alias;r.push(q`${q.raw(o.joinType)} join${s} ${d?q`${q.identifier(d)}.`:void 0}${q.identifier(p)}${f&&q` ${q.identifier(f)}`}${u}`)}else r.push(q`${q.raw(o.joinType)} join${s} ${i}${u}`);n<t.length-1&&r.push(q` `)}return q.join(r)}buildFromTable(t){if(Y(t,ye)&&t[ye.Symbol.IsAlias]){let r=q`${q.identifier(t[ye.Symbol.OriginalName])}`;return t[ye.Symbol.Schema]&&(r=q`${q.identifier(t[ye.Symbol.Schema])}.${r}`),q`${r} ${q.identifier(t[ye.Symbol.Name])}`}return t}buildSelectQuery({withList:t,fields:r,fieldsFlat:n,where:o,having:i,table:s,joins:u,orderBy:l,groupBy:d,limit:p,offset:f,lockingClause:m,distinct:y,setOperators:g}){let h=n??Nn(r);for(let B of h)if(Y(B.field,St)&&Xr(B.field.table)!==(Y(s,rr)?s._.alias:Y(s,Ei)?s[Ot].name:Y(s,be)?void 0:Xr(s))&&!(te=>u?.some(({alias:ne})=>ne===(te[ye.Symbol.IsAlias]?Xr(te):te[ye.Symbol.BaseName])))(B.field.table)){let te=Xr(B.field.table);throw new Error(`Your "${B.path.join("->")}" field references a column "${te}"."${B.field.name}", but the table "${te}" is not part of the query! Did you forget to join it?`)}let v=!u||u.length===0,S=this.buildWithCTE(t),b;y&&(b=y===!0?q` distinct`:q` distinct on (${q.join(y.on,q`, `)})`);let w=this.buildSelection(h,{isSingleTable:v}),k=this.buildFromTable(s),$=this.buildJoins(u),C=o?q` where ${o}`:void 0,A=i?q` having ${i}`:void 0,R;l&&l.length>0&&(R=q` order by ${q.join(l,q`, `)}`);let O;d&&d.length>0&&(O=q` group by ${q.join(d,q`, `)}`);let z=typeof p=="object"||typeof p=="number"&&p>=0?q` limit ${p}`:void 0,D=f?q` offset ${f}`:void 0,X=q.empty();if(m){let B=q` for ${q.raw(m.strength)}`;m.config.of&&B.append(q` of ${q.join(Array.isArray(m.config.of)?m.config.of:[m.config.of],q`, `)}`),m.config.noWait?B.append(q` nowait`):m.config.skipLocked&&B.append(q` skip locked`),X.append(B)}let G=q`${S}select${b} ${w} from ${k}${$}${C}${O}${A}${R}${z}${D}${X}`;return g.length>0?this.buildSetOperations(G,g):G}buildSetOperations(t,r){let[n,...o]=r;if(!n)throw new Error("Cannot pass undefined values to any set operator");return o.length===0?this.buildSetOperationQuery({leftSelect:t,setOperator:n}):this.buildSetOperations(this.buildSetOperationQuery({leftSelect:t,setOperator:n}),o)}buildSetOperationQuery({leftSelect:t,setOperator:{type:r,isAll:n,rightSelect:o,limit:i,orderBy:s,offset:u}}){let l=q`(${t.getSQL()}) `,d=q`(${o.getSQL()})`,p;if(s&&s.length>0){let g=[];for(let h of s)if(Y(h,ge))g.push(q.identifier(h.name));else if(Y(h,be)){for(let v=0;v<h.queryChunks.length;v++){let S=h.queryChunks[v];Y(S,ge)&&(h.queryChunks[v]=q.identifier(S.name))}g.push(q`${h}`)}else g.push(q`${h}`);p=q` order by ${q.join(g,q`, `)} `}let f=typeof i=="object"||typeof i=="number"&&i>=0?q` limit ${i}`:void 0,m=q.raw(`${r} ${n?"all ":""}`),y=u?q` offset ${u}`:void 0;return q`${l}${m}${d}${p}${f}${y}`}buildInsertQuery({table:t,values:r,onConflict:n,returning:o,withList:i,select:s,overridingSystemValue_:u}){let l=[],d=t[ye.Symbol.Columns],p=Object.entries(d).filter(([S,b])=>!b.shouldDisableInsert()),f=p.map(([,S])=>q.identifier(this.casing.getColumnCasing(S)));if(s){let S=r;Y(S,be)?l.push(S):l.push(S.getSQL())}else{let S=r;l.push(q.raw("values "));for(let[b,w]of S.entries()){let k=[];for(let[$,C]of p){let A=w[$];if(A===void 0||Y(A,Vr)&&A.value===void 0)if(C.defaultFn!==void 0){let R=C.defaultFn(),O=Y(R,be)?R:q.param(R,C);k.push(O)}else if(!C.default&&C.onUpdateFn!==void 0){let R=C.onUpdateFn(),O=Y(R,be)?R:q.param(R,C);k.push(O)}else k.push(q`default`);else k.push(A)}l.push(k),b<S.length-1&&l.push(q`, `)}}let m=this.buildWithCTE(i),y=q.join(l),g=o?q` returning ${this.buildSelection(o,{isSingleTable:!0})}`:void 0,h=n?q` on conflict ${n}`:void 0,v=u===!0?q`overriding system value `:void 0;return q`${m}insert into ${t} ${f} ${v}${y}${h}${g}`}buildRefreshMaterializedViewQuery({view:t,concurrently:r,withNoData:n}){let o=r?q` concurrently`:void 0,i=n?q` with no data`:void 0;return q`refresh materialized view${o} ${t}${i}`}prepareTyping(t){return Y(t,Il)||Y(t,Pl)?"json":Y(t,Ol)?"decimal":Y(t,Al)?"time":Y(t,Cl)||Y(t,Rl)?"timestamp":Y(t,El)||Y(t,kl)?"date":Y(t,$l)?"uuid":"none"}sqlToQuery(t,r){return t.toQuery({casing:this.casing,escapeName:this.escapeName,escapeParam:this.escapeParam,escapeString:this.escapeString,prepareTyping:this.prepareTyping,invokeSource:r})}buildRelationalQueryWithoutPK({fullSchema:t,schema:r,tableNamesMap:n,table:o,tableConfig:i,queryConfig:s,tableAlias:u,nestedQueryRelation:l,joinOn:d}){let p=[],f,m,y=[],g,h=[];if(s===!0)p=Object.entries(i.columns).map(([b,w])=>({dbKey:w.name,tsKey:b,field:ho(w,u),relationTableTsKey:void 0,isJson:!1,selection:[]}));else{let S=Object.fromEntries(Object.entries(i.columns).map(([A,R])=>[A,ho(R,u)]));if(s.where){let A=typeof s.where=="function"?s.where(S,pT()):s.where;g=A&&du(A,u)}let b=[],w=[];if(s.columns){let A=!1;for(let[R,O]of Object.entries(s.columns))O!==void 0&&R in i.columns&&(!A&&O===!0&&(A=!0),w.push(R));w.length>0&&(w=A?w.filter(R=>s.columns?.[R]===!0):Object.keys(i.columns).filter(R=>!w.includes(R)))}else w=Object.keys(i.columns);for(let A of w){let R=i.columns[A];b.push({tsKey:A,value:R})}let k=[];s.with&&(k=Object.entries(s.with).filter(A=>!!A[1]).map(([A,R])=>({tsKey:A,queryConfig:R,relation:i.relations[A]})));let $;if(s.extras){$=typeof s.extras=="function"?s.extras(S,{sql:q}):s.extras;for(let[A,R]of Object.entries($))b.push({tsKey:A,value:lf(R,u)})}for(let{tsKey:A,value:R}of b)p.push({dbKey:Y(R,be.Aliased)?R.fieldAlias:i.columns[A].name,tsKey:A,field:Y(R,St)?ho(R,u):R,relationTableTsKey:void 0,isJson:!1,selection:[]});let C=typeof s.orderBy=="function"?s.orderBy(S,mT()):s.orderBy??[];Array.isArray(C)||(C=[C]),y=C.map(A=>Y(A,St)?ho(A,u):du(A,u)),f=s.limit,m=s.offset;for(let{tsKey:A,queryConfig:R,relation:O}of k){let z=fT(r,n,O),D=ra(O.referencedTable),X=n[D],G=`${u}_${A}`,B=Pe(...z.fields.map((ae,Se)=>V(ho(z.references[Se],G),ho(ae,u)))),te=this.buildRelationalQueryWithoutPK({fullSchema:t,schema:r,tableNamesMap:n,table:t[X],tableConfig:r[X],queryConfig:Y(O,xi)?R===!0?{limit:1}:{...R,limit:1}:R,tableAlias:G,joinOn:B,nestedQueryRelation:O}),ne=q`${q.identifier(G)}.${q.identifier("data")}`.as(A);h.push({on:q`true`,table:new rr(te.sql,{},G),alias:G,joinType:"left",lateral:!0}),p.push({dbKey:A,tsKey:A,field:ne,relationTableTsKey:X,isJson:!0,selection:te.selection})}}if(p.length===0)throw new pu({message:`No fields selected for table "${i.tsName}" ("${u}")`});let v;if(g=Pe(d,g),l){let S=q`json_build_array(${q.join(p.map(({field:k,tsKey:$,isJson:C})=>C?q`${q.identifier(`${u}_${$}`)}.${q.identifier("data")}`:Y(k,be.Aliased)?k.sql:k),q`, `)})`;Y(l,yu)&&(S=q`coalesce(json_agg(${S}${y.length>0?q` order by ${q.join(y,q`, `)}`:void 0}), '[]'::json)`);let b=[{dbKey:"data",tsKey:"data",field:S.as("data"),isJson:!0,relationTableTsKey:i.tsName,selection:p}];f!==void 0||m!==void 0||y.length>0?(v=this.buildSelectQuery({table:lu(o,u),fields:{},fieldsFlat:[{path:[],field:q.raw("*")}],where:g,limit:f,offset:m,orderBy:y,setOperators:[]}),g=void 0,f=void 0,m=void 0,y=[]):v=lu(o,u),v=this.buildSelectQuery({table:Y(v,xr)?v:new rr(v,{},u),fields:{},fieldsFlat:b.map(({field:k})=>({path:[],field:Y(k,St)?ho(k,u):k})),joins:h,where:g,limit:f,offset:m,orderBy:y,setOperators:[]})}else v=this.buildSelectQuery({table:lu(o,u),fields:{},fieldsFlat:p.map(({field:S})=>({path:[],field:Y(S,St)?ho(S,u):S})),joins:h,where:g,limit:f,offset:m,orderBy:y,setOperators:[]});return{tableTsKey:i.tsName,sql:v,selection:p}}}});var Af,uD=W(()=>{he();Af=class{static{a(this,"TypedQueryBuilder")}static[j]="TypedQueryBuilder";getSelectedFields(){return this._.selectedFields}}});function wu(e,t){return(r,n,...o)=>{let i=[n,...o].map(s=>({type:e,isAll:t,rightSelect:s}));for(let s of i)if(!fu(r.getSelectedFields(),s.rightSelect.getSelectedFields()))throw new Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return r.addSetOperators(i)}}var Gr,DT,Cf,dee,pee,mee,fee,hee,gee,yee,MT=W(()=>{he();Of();uD();bi();sa();Kt();mo();Yr();ea();Et();Et();vi();xu();Gr=class{static{a(this,"PgSelectBuilder")}static[j]="PgSelectBuilder";fields;session;dialect;withList=[];distinct;constructor(t){this.fields=t.fields,this.session=t.session,this.dialect=t.dialect,t.withList&&(this.withList=t.withList),this.distinct=t.distinct}authToken;setToken(t){return this.authToken=t,this}from(t){let r=!!this.fields,n=t,o;return this.fields?o=this.fields:Y(n,rr)?o=Object.fromEntries(Object.keys(n._.selectedFields).map(i=>[i,n[i]])):Y(n,Ei)?o=n[Ot].selectedFields:Y(n,be)?o={}:o=hu(n),new Cf({table:n,fields:o,isPartialSelect:r,session:this.session,dialect:this.dialect,withList:this.withList,distinct:this.distinct}).setToken(this.authToken)}},DT=class extends Af{static{a(this,"PgSelectQueryBuilderBase")}static[j]="PgSelectQueryBuilder";_;config;joinsNotNullableMap;tableName;isPartialSelect;session;dialect;cacheConfig=void 0;usedTables=new Set;constructor({table:t,fields:r,isPartialSelect:n,session:o,dialect:i,withList:s,distinct:u}){super(),this.config={withList:s,table:t,fields:{...r},distinct:u,setOperators:[]},this.isPartialSelect=n,this.session=o,this.dialect=i,this._={selectedFields:r,config:this.config},this.tableName=Bo(t),this.joinsNotNullableMap=typeof this.tableName=="string"?{[this.tableName]:!0}:{};for(let l of vo(t))this.usedTables.add(l)}getUsedTables(){return[...this.usedTables]}createJoin(t,r){return(n,o)=>{let i=this.tableName,s=Bo(n);for(let u of vo(n))this.usedTables.add(u);if(typeof s=="string"&&this.config.joins?.some(u=>u.alias===s))throw new Error(`Alias "${s}" is already used in this query`);if(!this.isPartialSelect&&(Object.keys(this.joinsNotNullableMap).length===1&&typeof i=="string"&&(this.config.fields={[i]:this.config.fields}),typeof s=="string"&&!Y(n,be))){let u=Y(n,rr)?n._.selectedFields:Y(n,Zr)?n[Ot].selectedFields:n[ye.Symbol.Columns];this.config.fields[s]=u}if(typeof o=="function"&&(o=o(new Proxy(this.config.fields,new At({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.joins||(this.config.joins=[]),this.config.joins.push({on:o,table:n,joinType:t,alias:s,lateral:r}),typeof s=="string")switch(t){case"left":{this.joinsNotNullableMap[s]=!1;break}case"right":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([u])=>[u,!1])),this.joinsNotNullableMap[s]=!0;break}case"cross":case"inner":{this.joinsNotNullableMap[s]=!0;break}case"full":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([u])=>[u,!1])),this.joinsNotNullableMap[s]=!1;break}}return this}}leftJoin=this.createJoin("left",!1);leftJoinLateral=this.createJoin("left",!0);rightJoin=this.createJoin("right",!1);innerJoin=this.createJoin("inner",!1);innerJoinLateral=this.createJoin("inner",!0);fullJoin=this.createJoin("full",!1);crossJoin=this.createJoin("cross",!1);crossJoinLateral=this.createJoin("cross",!0);createSetOperator(t,r){return n=>{let o=typeof n=="function"?n(dee()):n;if(!fu(this.getSelectedFields(),o.getSelectedFields()))throw new Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return this.config.setOperators.push({type:t,isAll:r,rightSelect:o}),this}}union=this.createSetOperator("union",!1);unionAll=this.createSetOperator("union",!0);intersect=this.createSetOperator("intersect",!1);intersectAll=this.createSetOperator("intersect",!0);except=this.createSetOperator("except",!1);exceptAll=this.createSetOperator("except",!0);addSetOperators(t){return this.config.setOperators.push(...t),this}where(t){return typeof t=="function"&&(t=t(new Proxy(this.config.fields,new At({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.where=t,this}having(t){return typeof t=="function"&&(t=t(new Proxy(this.config.fields,new At({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.having=t,this}groupBy(...t){if(typeof t[0]=="function"){let r=t[0](new Proxy(this.config.fields,new At({sqlAliasedBehavior:"alias",sqlBehavior:"sql"})));this.config.groupBy=Array.isArray(r)?r:[r]}else this.config.groupBy=t;return this}orderBy(...t){if(typeof t[0]=="function"){let r=t[0](new Proxy(this.config.fields,new At({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),n=Array.isArray(r)?r:[r];this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=n:this.config.orderBy=n}else{let r=t;this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=r:this.config.orderBy=r}return this}limit(t){return this.config.setOperators.length>0?this.config.setOperators.at(-1).limit=t:this.config.limit=t,this}offset(t){return this.config.setOperators.length>0?this.config.setOperators.at(-1).offset=t:this.config.offset=t,this}for(t,r={}){return this.config.lockingClause={strength:t,config:r},this}getSQL(){return this.dialect.buildSelectQuery(this.config)}toSQL(){let{typings:t,...r}=this.dialect.sqlToQuery(this.getSQL());return r}as(t){let r=[];if(r.push(...vo(this.config.table)),this.config.joins)for(let n of this.config.joins)r.push(...vo(n.table));return new Proxy(new rr(this.getSQL(),this.config.fields,t,!1,[...new Set(r)]),new At({alias:t,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}getSelectedFields(){return new Proxy(this.config.fields,new At({alias:this.tableName,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}$dynamic(){return this}$withCache(t){return this.cacheConfig=t===void 0?{config:{},enable:!0,autoInvalidate:!0}:t===!1?{enable:!1}:{enable:!0,autoInvalidate:!0,...t},this}},Cf=class extends DT{static{a(this,"PgSelectBase")}static[j]="PgSelect";_prepare(t){let{session:r,config:n,dialect:o,joinsNotNullableMap:i,authToken:s,cacheConfig:u,usedTables:l}=this;if(!r)throw new Error("Cannot execute a query on a query builder. Please use a database instance instead.");let{fields:d}=n;return wr.startActiveSpan("drizzle.prepareQuery",()=>{let p=Nn(d),f=r.prepareQuery(o.sqlToQuery(this.getSQL()),p,t,!0,void 0,{type:"select",tables:[...l]},u);return f.joinsNotNullableMap=i,f.setToken(s)})}prepare(t){return this._prepare(t)}authToken;setToken(t){return this.authToken=t,this}execute=a(t=>wr.startActiveSpan("drizzle.operation",()=>this._prepare().execute(t,this.authToken)),"execute")};Kw(Cf,[qr]);a(wu,"createSetOperator");dee=a(()=>({union:pee,unionAll:mee,intersect:fee,intersectAll:hee,except:gee,exceptAll:yee}),"getPgSetOperators"),pee=wu("union",!1),mee=wu("union",!0),fee=wu("intersect",!1),hee=wu("intersect",!0),gee=wu("except",!1),yee=wu("except",!0)});var ki,Rf=W(()=>{he();Gl();sa();mo();MT();ki=class{static{a(this,"QueryBuilder")}static[j]="PgQueryBuilder";dialect;dialectConfig;constructor(t){this.dialect=Y(t,Ho)?t:void 0,this.dialectConfig=Y(t,Ho)?void 0:t}$with=a((t,r)=>{let n=this;return{as:a(i=>(typeof i=="function"&&(i=i(n)),new Proxy(new ns(i.getSQL(),r??("getSelectedFields"in i?i.getSelectedFields()??{}:{}),t,!0),new At({alias:t,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))),"as")}},"$with");with(...t){let r=this;function n(s){return new Gr({fields:s??void 0,session:void 0,dialect:r.getDialect(),withList:t})}a(n,"select");function o(s){return new Gr({fields:s??void 0,session:void 0,dialect:r.getDialect(),distinct:!0})}a(o,"selectDistinct");function i(s,u){return new Gr({fields:u??void 0,session:void 0,dialect:r.getDialect(),distinct:{on:s}})}return a(i,"selectDistinctOn"),{select:n,selectDistinct:o,selectDistinctOn:i}}select(t){return new Gr({fields:t??void 0,session:void 0,dialect:this.getDialect()})}selectDistinct(t){return new Gr({fields:t??void 0,session:void 0,dialect:this.getDialect(),distinct:!0})}selectDistinctOn(t,r){return new Gr({fields:r??void 0,session:void 0,dialect:this.getDialect(),distinct:{on:t}})}getDialect(){return this.dialect||(this.dialect=new Ho(this.dialectConfig)),this.dialect}}});function lD(e,t,r){return t?new UT(e,t,r):new qT(e,r)}function dD(e,t,r){return t?new FT(e,t,r):new LT(e,r)}var $f,qT,UT,Nf,LT,FT,Wl,cD,Ql,BT=W(()=>{he();sa();Et();Rf();oa();Of();jT();$f=class{static{a(this,"DefaultViewBuilderCore")}constructor(t,r){this.name=t,this.schema=r}static[j]="PgDefaultViewBuilderCore";config={};with(t){return this.config.with=t,this}},qT=class extends $f{static{a(this,"ViewBuilder")}static[j]="PgViewBuilder";as(t){typeof t=="function"&&(t=t(new ki));let r=new At({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}),n=new Proxy(t.getSelectedFields(),r);return new Proxy(new Wl({pgConfig:this.config,config:{name:this.name,schema:this.schema,selectedFields:n,query:t.getSQL().inlineParams()}}),r)}},UT=class extends $f{static{a(this,"ManualViewBuilder")}static[j]="PgManualViewBuilder";columns;constructor(t,r,n){super(t,n),this.columns=hu(Ee(t,r))}existing(){return new Proxy(new Wl({pgConfig:void 0,config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:void 0}}),new At({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}as(t){return new Proxy(new Wl({pgConfig:this.config,config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:t.inlineParams()}}),new At({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}},Nf=class{static{a(this,"MaterializedViewBuilderCore")}constructor(t,r){this.name=t,this.schema=r}static[j]="PgMaterializedViewBuilderCore";config={};using(t){return this.config.using=t,this}with(t){return this.config.with=t,this}tablespace(t){return this.config.tablespace=t,this}withNoData(){return this.config.withNoData=!0,this}},LT=class extends Nf{static{a(this,"MaterializedViewBuilder")}static[j]="PgMaterializedViewBuilder";as(t){typeof t=="function"&&(t=t(new ki));let r=new At({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}),n=new Proxy(t.getSelectedFields(),r);return new Proxy(new Ql({pgConfig:{with:this.config.with,using:this.config.using,tablespace:this.config.tablespace,withNoData:this.config.withNoData},config:{name:this.name,schema:this.schema,selectedFields:n,query:t.getSQL().inlineParams()}}),r)}},FT=class extends Nf{static{a(this,"ManualMaterializedViewBuilder")}static[j]="PgManualMaterializedViewBuilder";columns;constructor(t,r,n){super(t,n),this.columns=hu(Ee(t,r))}existing(){return new Proxy(new Ql({pgConfig:{tablespace:this.config.tablespace,using:this.config.using,with:this.config.with,withNoData:this.config.withNoData},config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:void 0}}),new At({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}as(t){return new Proxy(new Ql({pgConfig:{tablespace:this.config.tablespace,using:this.config.using,with:this.config.with,withNoData:this.config.withNoData},config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:t.inlineParams()}}),new At({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}},Wl=class extends Ei{static{a(this,"PgView")}static[j]="PgView";[zT];constructor({pgConfig:t,config:r}){super(r),t&&(this[zT]={with:t.with})}},cD=Symbol.for("drizzle:PgMaterializedViewConfig"),Ql=class extends Ei{static{a(this,"PgMaterializedView")}static[j]="PgMaterializedView";[cD];constructor({pgConfig:t,config:r}){super(r),this[cD]={with:t?.with,using:t?.using,tablespace:t?.tablespace,withNoData:t?.withNoData}}};a(lD,"pgViewWithSchema");a(dD,"pgMaterializedViewWithSchema")});function vo(e){return Y(e,xr)?[e[ta]?`${e[ta]}.${e[ye.Symbol.BaseName]}`:e[ye.Symbol.BaseName]]:Y(e,rr)?e._.usedTables??[]:Y(e,be)?e.usedTables??[]:[]}var xu=W(()=>{he();oa();Kt();mo();Yr();a(vo,"extractUsedTable")});var Xl,pD=W(()=>{he();bi();sa();Yr();ea();Et();xu();Xl=class extends qr{static{a(this,"PgDeleteBase")}constructor(t,r,n,o){super(),this.session=r,this.dialect=n,this.config={table:t,withList:o}}static[j]="PgDelete";config;cacheConfig;where(t){return this.config.where=t,this}returning(t=this.config.table[ye.Symbol.Columns]){return this.config.returningFields=t,this.config.returning=Nn(t),this}getSQL(){return this.dialect.buildDeleteQuery(this.config)}toSQL(){let{typings:t,...r}=this.dialect.sqlToQuery(this.getSQL());return r}_prepare(t){return wr.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,t,!0,void 0,{type:"delete",tables:vo(this.config.table)},this.cacheConfig))}prepare(t){return this._prepare(t)}authToken;setToken(t){return this.authToken=t,this}execute=a(t=>wr.startActiveSpan("drizzle.operation",()=>this._prepare().execute(t,this.authToken)),"execute");getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new At({alias:Xr(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}});var Yl,zf,mD=W(()=>{he();bi();sa();Kt();Yr();ea();Et();xu();Rf();Yl=class{static{a(this,"PgInsertBuilder")}constructor(t,r,n,o,i){this.table=t,this.session=r,this.dialect=n,this.withList=o,this.overridingSystemValue_=i}static[j]="PgInsertBuilder";authToken;setToken(t){return this.authToken=t,this}overridingSystemValue(){return this.overridingSystemValue_=!0,this}values(t){if(t=Array.isArray(t)?t:[t],t.length===0)throw new Error("values() must be called with at least one value");let r=t.map(n=>{let o={},i=this.table[ye.Symbol.Columns];for(let s of Object.keys(n)){let u=n[s];o[s]=Y(u,be)?u:new Vr(u,i[s])}return o});return new zf(this.table,r,this.session,this.dialect,this.withList,!1,this.overridingSystemValue_).setToken(this.authToken)}select(t){let r=typeof t=="function"?t(new ki):t;if(!Y(r,be)&&!fu(this.table[_l],r._.selectedFields))throw new Error("Insert select error: selected fields are not the same or are in a different order compared to the table definition");return new zf(this.table,r,this.session,this.dialect,this.withList,!0)}},zf=class extends qr{static{a(this,"PgInsertBase")}constructor(t,r,n,o,i,s,u){super(),this.session=n,this.dialect=o,this.config={table:t,values:r,withList:i,select:s,overridingSystemValue_:u}}static[j]="PgInsert";config;cacheConfig;returning(t=this.config.table[ye.Symbol.Columns]){return this.config.returningFields=t,this.config.returning=Nn(t),this}onConflictDoNothing(t={}){if(t.target===void 0)this.config.onConflict=q`do nothing`;else{let r="";r=Array.isArray(t.target)?t.target.map(o=>this.dialect.escapeName(this.dialect.casing.getColumnCasing(o))).join(","):this.dialect.escapeName(this.dialect.casing.getColumnCasing(t.target));let n=t.where?q` where ${t.where}`:void 0;this.config.onConflict=q`(${q.raw(r)})${n} do nothing`}return this}onConflictDoUpdate(t){if(t.where&&(t.targetWhere||t.setWhere))throw new Error('You cannot use both "where" and "targetWhere"/"setWhere" at the same time - "where" is deprecated, use "targetWhere" or "setWhere" instead.');let r=t.where?q` where ${t.where}`:void 0,n=t.targetWhere?q` where ${t.targetWhere}`:void 0,o=t.setWhere?q` where ${t.setWhere}`:void 0,i=this.dialect.buildUpdateSet(this.config.table,wl(this.config.table,t.set)),s="";return s=Array.isArray(t.target)?t.target.map(u=>this.dialect.escapeName(this.dialect.casing.getColumnCasing(u))).join(","):this.dialect.escapeName(this.dialect.casing.getColumnCasing(t.target)),this.config.onConflict=q`(${q.raw(s)})${n} do update set ${i}${r}${o}`,this}getSQL(){return this.dialect.buildInsertQuery(this.config)}toSQL(){let{typings:t,...r}=this.dialect.sqlToQuery(this.getSQL());return r}_prepare(t){return wr.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,t,!0,void 0,{type:"insert",tables:vo(this.config.table)},this.cacheConfig))}prepare(t){return this._prepare(t)}authToken;setToken(t){return this.authToken=t,this}execute=a(t=>wr.startActiveSpan("drizzle.operation",()=>this._prepare().execute(t,this.authToken)),"execute");getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new At({alias:Xr(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}});var jf,JT=W(()=>{he();bi();ea();jf=class extends qr{static{a(this,"PgRefreshMaterializedView")}constructor(t,r,n){super(),this.session=r,this.dialect=n,this.config={view:t}}static[j]="PgRefreshMaterializedView";config;concurrently(){if(this.config.withNoData!==void 0)throw new Error("Cannot use concurrently and withNoData together");return this.config.concurrently=!0,this}withNoData(){if(this.config.concurrently!==void 0)throw new Error("Cannot use concurrently and withNoData together");return this.config.withNoData=!0,this}getSQL(){return this.dialect.buildRefreshMaterializedViewQuery(this.config)}toSQL(){let{typings:t,...r}=this.dialect.sqlToQuery(this.getSQL());return r}_prepare(t){return wr.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),void 0,t,!0))}prepare(t){return this._prepare(t)}authToken;setToken(t){return this.authToken=t,this}execute=a(t=>wr.startActiveSpan("drizzle.operation",()=>this._prepare().execute(t,this.authToken)),"execute")}});var fD=W(()=>{});var ed,HT,hD=W(()=>{he();oa();bi();sa();Kt();mo();Yr();Et();vi();xu();ed=class{static{a(this,"PgUpdateBuilder")}constructor(t,r,n,o){this.table=t,this.session=r,this.dialect=n,this.withList=o}static[j]="PgUpdateBuilder";authToken;setToken(t){return this.authToken=t,this}set(t){return new HT(this.table,wl(this.table,t),this.session,this.dialect,this.withList).setToken(this.authToken)}},HT=class extends qr{static{a(this,"PgUpdateBase")}constructor(t,r,n,o,i){super(),this.session=n,this.dialect=o,this.config={set:r,table:t,withList:i,joins:[]},this.tableName=Bo(t),this.joinsNotNullableMap=typeof this.tableName=="string"?{[this.tableName]:!0}:{}}static[j]="PgUpdate";config;tableName;joinsNotNullableMap;cacheConfig;from(t){let r=t,n=Bo(r);return typeof n=="string"&&(this.joinsNotNullableMap[n]=!0),this.config.from=r,this}getTableLikeFields(t){return Y(t,xr)?t[ye.Symbol.Columns]:Y(t,rr)?t._.selectedFields:t[Ot].selectedFields}createJoin(t){return(r,n)=>{let o=Bo(r);if(typeof o=="string"&&this.config.joins.some(i=>i.alias===o))throw new Error(`Alias "${o}" is already used in this query`);if(typeof n=="function"){let i=this.config.from&&!Y(this.config.from,be)?this.getTableLikeFields(this.config.from):void 0;n=n(new Proxy(this.config.table[ye.Symbol.Columns],new At({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})),i&&new Proxy(i,new At({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))}if(this.config.joins.push({on:n,table:r,joinType:t,alias:o}),typeof o=="string")switch(t){case"left":{this.joinsNotNullableMap[o]=!1;break}case"right":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([i])=>[i,!1])),this.joinsNotNullableMap[o]=!0;break}case"inner":{this.joinsNotNullableMap[o]=!0;break}case"full":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([i])=>[i,!1])),this.joinsNotNullableMap[o]=!1;break}}return this}}leftJoin=this.createJoin("left");rightJoin=this.createJoin("right");innerJoin=this.createJoin("inner");fullJoin=this.createJoin("full");where(t){return this.config.where=t,this}returning(t){if(!t&&(t=Object.assign({},this.config.table[ye.Symbol.Columns]),this.config.from)){let r=Bo(this.config.from);if(typeof r=="string"&&this.config.from&&!Y(this.config.from,be)){let n=this.getTableLikeFields(this.config.from);t[r]=n}for(let n of this.config.joins){let o=Bo(n.table);if(typeof o=="string"&&!Y(n.table,be)){let i=this.getTableLikeFields(n.table);t[o]=i}}}return this.config.returningFields=t,this.config.returning=Nn(t),this}getSQL(){return this.dialect.buildUpdateQuery(this.config)}toSQL(){let{typings:t,...r}=this.dialect.sqlToQuery(this.getSQL());return r}_prepare(t){let r=this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,t,!0,void 0,{type:"insert",tables:vo(this.config.table)},this.cacheConfig);return r.joinsNotNullableMap=this.joinsNotNullableMap,r}prepare(t){return this._prepare(t)}authToken;setToken(t){return this.authToken=t,this}execute=a(t=>this._prepare().execute(t,this.authToken),"execute");getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new At({alias:Xr(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}});var VT=W(()=>{pD();mD();Rf();JT();MT();fD();hD()});var Df,gD=W(()=>{he();Kt();Df=class e extends be{static{a(this,"PgCountBuilder")}constructor(t){super(e.buildEmbeddedCount(t.source,t.filters).queryChunks),this.params=t,this.mapWith(Number),this.session=t.session,this.sql=e.buildCount(t.source,t.filters)}sql;token;static[j]="PgCountBuilder";[Symbol.toStringTag]="PgCountBuilder";session;static buildEmbeddedCount(t,r){return q`(select count(*) from ${t}${q.raw(" where ").if(r)}${r})`}static buildCount(t,r){return q`select count(*) as count from ${t}${q.raw(" where ").if(r)}${r};`}setToken(t){return this.token=t,this}then(t,r){return Promise.resolve(this.session.count(this.sql,this.token)).then(t,r)}catch(t){return this.then(void 0,t)}finally(t){return this.then(r=>(t?.(),r),r=>{throw t?.(),r})}}});var Mf,qf,yD=W(()=>{he();bi();vu();ea();Mf=class{static{a(this,"RelationalQueryBuilder")}constructor(t,r,n,o,i,s,u){this.fullSchema=t,this.schema=r,this.tableNamesMap=n,this.table=o,this.tableConfig=i,this.dialect=s,this.session=u}static[j]="PgRelationalQueryBuilder";findMany(t){return new qf(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,t||{},"many")}findFirst(t){return new qf(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,t?{...t,limit:1}:{limit:1},"first")}},qf=class extends qr{static{a(this,"PgRelationalQuery")}constructor(t,r,n,o,i,s,u,l,d){super(),this.fullSchema=t,this.schema=r,this.tableNamesMap=n,this.table=o,this.tableConfig=i,this.dialect=s,this.session=u,this.config=l,this.mode=d}static[j]="PgRelationalQuery";_prepare(t){return wr.startActiveSpan("drizzle.prepareQuery",()=>{let{query:r,builtQuery:n}=this._toSQL();return this.session.prepareQuery(n,void 0,t,!0,(o,i)=>{let s=o.map(u=>Dl(this.schema,this.tableConfig,u,r.selection,i));return this.mode==="first"?s[0]:s})})}prepare(t){return this._prepare(t)}_getQuery(){return this.dialect.buildRelationalQueryWithoutPK({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName})}getSQL(){return this._getQuery().sql}_toSQL(){let t=this._getQuery(),r=this.dialect.sqlToQuery(t.sql);return{query:t,builtQuery:r}}toSQL(){return this._toSQL().builtQuery}authToken;setToken(t){return this.authToken=t,this}execute(){return wr.startActiveSpan("drizzle.operation",()=>this._prepare().execute(void 0,this.authToken))}}});var Uf,vD=W(()=>{he();bi();Uf=class extends qr{static{a(this,"PgRaw")}constructor(t,r,n,o){super(),this.execute=t,this.sql=r,this.query=n,this.mapBatchResult=o}static[j]="PgRaw";getSQL(){return this.sql}getQuery(){return this.query}mapResult(t,r){return r?this.mapBatchResult(t):t}_prepare(){return this}isResponseInArrayMode(){return!1}}});var ua,td=W(()=>{he();VT();sa();Kt();mo();gD();yD();vD();JT();ua=class{static{a(this,"PgDatabase")}constructor(t,r,n){if(this.dialect=t,this.session=r,this._=n?{schema:n.schema,fullSchema:n.fullSchema,tableNamesMap:n.tableNamesMap,session:r}:{schema:void 0,fullSchema:{},tableNamesMap:{},session:r},this.query={},this._.schema)for(let[o,i]of Object.entries(this._.schema))this.query[o]=new Mf(n.fullSchema,this._.schema,this._.tableNamesMap,n.fullSchema[o],i,t,r);this.$cache={invalidate:a(async o=>{},"invalidate")}}static[j]="PgDatabase";query;$with=a((t,r)=>{let n=this;return{as:a(i=>(typeof i=="function"&&(i=i(new ki(n.dialect))),new Proxy(new ns(i.getSQL(),r??("getSelectedFields"in i?i.getSelectedFields()??{}:{}),t,!0),new At({alias:t,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))),"as")}},"$with");$count(t,r){return new Df({source:t,filters:r,session:this.session})}$cache;with(...t){let r=this;function n(d){return new Gr({fields:d??void 0,session:r.session,dialect:r.dialect,withList:t})}a(n,"select");function o(d){return new Gr({fields:d??void 0,session:r.session,dialect:r.dialect,withList:t,distinct:!0})}a(o,"selectDistinct");function i(d,p){return new Gr({fields:p??void 0,session:r.session,dialect:r.dialect,withList:t,distinct:{on:d}})}a(i,"selectDistinctOn");function s(d){return new ed(d,r.session,r.dialect,t)}a(s,"update");function u(d){return new Yl(d,r.session,r.dialect,t)}a(u,"insert");function l(d){return new Xl(d,r.session,r.dialect,t)}return a(l,"delete_"),{select:n,selectDistinct:o,selectDistinctOn:i,update:s,insert:u,delete:l}}select(t){return new Gr({fields:t??void 0,session:this.session,dialect:this.dialect})}selectDistinct(t){return new Gr({fields:t??void 0,session:this.session,dialect:this.dialect,distinct:!0})}selectDistinctOn(t,r){return new Gr({fields:r??void 0,session:this.session,dialect:this.dialect,distinct:{on:t}})}update(t){return new ed(t,this.session,this.dialect)}insert(t){return new Yl(t,this.session,this.dialect)}delete(t){return new Xl(t,this.session,this.dialect)}refreshMaterializedView(t){return new jf(t,this.session,this.dialect)}authToken;execute(t){let r=typeof t=="string"?q.raw(t):t.getSQL(),n=this.dialect.sqlToQuery(r),o=this.session.prepareQuery(n,void 0,void 0,!1);return new Uf(()=>o.execute(void 0,this.authToken),r,n,i=>o.mapResult(i,!0))}transaction(t,r){return this.session.transaction(t,r)}}});async function KT(e,t){let r=`${e}-${JSON.stringify(t)}`,o=new TextEncoder().encode(r),i=await crypto.subtle.digest("SHA-256",o);return[...new Uint8Array(i)].map(l=>l.toString(16).padStart(2,"0")).join("")}var ZT,ca,Lf=W(()=>{he();ZT=class{static{a(this,"Cache")}static[j]="Cache"},ca=class extends ZT{static{a(this,"NoopCache")}strategy(){return"all"}static[j]="NoopCache";async get(t){}async put(t,r,n,o){}async onMutate(t){}};a(KT,"hashQuery")});var _D=W(()=>{Lf()});var bD=W(()=>{});var SD,wD=W(()=>{he();SD=class{static{a(this,"PgRole")}constructor(t,r){this.name=t,r&&(this.createDb=r.createDb,this.createRole=r.createRole,this.inherit=r.inherit)}static[j]="PgRole";_existing;createDb;createRole;inherit;existing(){return this._existing=!0,this}}});function xD(e,t,r){return new GT(e,t,r)}var GT,WT=W(()=>{he();GT=class{static{a(this,"PgSequence")}constructor(t,r,n){this.seqName=t,this.seqOptions=r,this.schema=n}static[j]="PgSequence"};a(xD,"pgSequenceWithSchema")});var TD,ED=W(()=>{he();Kt();of();WT();oa();BT();TD=class{static{a(this,"PgSchema")}constructor(t){this.schemaName=t}static[j]="PgSchema";table=a((t,r,n)=>G0(t,r,n,this.schemaName),"table");view=a((t,r)=>lD(t,r,this.schemaName),"view");materializedView=a((t,r)=>dD(t,r,this.schemaName),"materializedView");enum(t,r){return Array.isArray(r)?Mw(t,[...r],this.schemaName):qw(t,r,this.schemaName)}sequence=a((t,r)=>xD(t,r,this.schemaName),"sequence");getSQL(){return new be([q.identifier(this.schemaName)])}shouldOmitSQLParens(){return!0}}});var Tu,Eu,ku,Ff=W(()=>{Lf();he();pf();gf();ea();td();Tu=class{static{a(this,"PgPreparedQuery")}constructor(t,r,n,o){this.query=t,this.cache=r,this.queryMetadata=n,this.cacheConfig=o,r&&r.strategy()==="all"&&o===void 0&&(this.cacheConfig={enable:!0,autoInvalidate:!0}),this.cacheConfig?.enable||(this.cacheConfig=void 0)}authToken;getQuery(){return this.query}mapResult(t,r){return t}setToken(t){return this.authToken=t,this}static[j]="PgPreparedQuery";joinsNotNullableMap;async queryWithCache(t,r,n){if(this.cache===void 0||Y(this.cache,ca)||this.queryMetadata===void 0)try{return await n()}catch(o){throw new Fo(t,r,o)}if(this.cacheConfig&&!this.cacheConfig.enable)try{return await n()}catch(o){throw new Fo(t,r,o)}if((this.queryMetadata.type==="insert"||this.queryMetadata.type==="update"||this.queryMetadata.type==="delete")&&this.queryMetadata.tables.length>0)try{let[o]=await Promise.all([n(),this.cache.onMutate({tables:this.queryMetadata.tables})]);return o}catch(o){throw new Fo(t,r,o)}if(!this.cacheConfig)try{return await n()}catch(o){throw new Fo(t,r,o)}if(this.queryMetadata.type==="select"){let o=await this.cache.get(this.cacheConfig.tag??await KT(t,r),this.queryMetadata.tables,this.cacheConfig.tag!==void 0,this.cacheConfig.autoInvalidate);if(o===void 0){let i;try{i=await n()}catch(s){throw new Fo(t,r,s)}return await this.cache.put(this.cacheConfig.tag??await KT(t,r),i,this.cacheConfig.autoInvalidate?this.queryMetadata.tables:[],this.cacheConfig.tag!==void 0,this.cacheConfig.config),i}return o}try{return await n()}catch(o){throw new Fo(t,r,o)}}},Eu=class{static{a(this,"PgSession")}constructor(t){this.dialect=t}static[j]="PgSession";execute(t,r){return wr.startActiveSpan("drizzle.operation",()=>wr.startActiveSpan("drizzle.prepareQuery",()=>this.prepareQuery(this.dialect.sqlToQuery(t),void 0,void 0,!1)).setToken(r).execute(void 0,r))}all(t){return this.prepareQuery(this.dialect.sqlToQuery(t),void 0,void 0,!1).all()}async count(t,r){let n=await this.execute(t,r);return Number(n[0].count)}},ku=class extends ua{static{a(this,"PgTransaction")}constructor(t,r,n,o=0){super(t,r,n),this.schema=n,this.nestedIndex=o}static[j]="PgTransaction";rollback(){throw new bl}getTransactionConfigSQL(t){let r=[];return t.isolationLevel&&r.push(`isolation level ${t.isolationLevel}`),t.accessMode&&r.push(t.accessMode),typeof t.deferrable=="boolean"&&r.push(t.deferrable?"deferrable":"not deferrable"),q.raw(r.join(" "))}setTransaction(t){return this.session.execute(q`set transaction ${this.getTransactionConfigSQL(t)}`)}}});var kD=W(()=>{});var PD=W(()=>{Aw()});var Wr=W(()=>{bD();nD();Pf();td();Gl();xw();oD();aD();Q0();VT();wD();ED();WT();Ff();kD();oa();Iw();xu();PD();jT();BT()});var Bf,QT,XT,Jf,ID,YT=W(()=>{_D();he();mu();Wr();Ff();Kt();Et();Bf={arrayMode:!1,fullResults:!0},QT={arrayMode:!0,fullResults:!0},XT=class extends Tu{static{a(this,"NeonHttpPreparedQuery")}constructor(t,r,n,o,i,s,u,l,d){super(r,o,i,s),this.client=t,this.logger=n,this.fields=u,this._isResponseInArrayMode=l,this.customResultMapper=d,this.clientQuery=t.query??t}static[j]="NeonHttpPreparedQuery";clientQuery;async execute(t={},r=this.authToken){let n=_i(this.query.params,t);this.logger.logQuery(this.query.sql,n);let{fields:o,clientQuery:i,query:s,customResultMapper:u}=this;if(!o&&!u)return this.queryWithCache(s.sql,n,async()=>i(s.sql,n,r===void 0?Bf:{...Bf,authToken:r}));let l=await this.queryWithCache(s.sql,n,async()=>await i(s.sql,n,r===void 0?QT:{...QT,authToken:r}));return this.mapResult(l)}mapResult(t){if(!this.fields&&!this.customResultMapper)return t;let r=t.rows;return this.customResultMapper?this.customResultMapper(r):r.map(n=>Sl(this.fields,n,this.joinsNotNullableMap))}all(t={}){let r=_i(this.query.params,t);return this.logger.logQuery(this.query.sql,r),this.clientQuery(this.query.sql,r,this.authToken===void 0?Bf:{...Bf,authToken:this.authToken}).then(n=>n.rows)}values(t={},r){let n=_i(this.query.params,t);return this.logger.logQuery(this.query.sql,n),this.clientQuery(this.query.sql,n,{arrayMode:!0,fullResults:!0,authToken:r}).then(o=>o.rows)}isResponseInArrayMode(){return this._isResponseInArrayMode}},Jf=class extends Eu{static{a(this,"NeonHttpSession")}constructor(t,r,n,o={}){super(r),this.client=t,this.schema=n,this.options=o,this.clientQuery=t.query??t,this.logger=o.logger??new ss,this.cache=o.cache??new ca}static[j]="NeonHttpSession";clientQuery;logger;cache;prepareQuery(t,r,n,o,i,s,u){return new XT(this.client,t,this.logger,this.cache,s,u,r,o,i)}async batch(t){let r=[],n=[];for(let i of t){let s=i._prepare(),u=s.getQuery();r.push(s),n.push(this.clientQuery(u.sql,u.params,{fullResults:!0,arrayMode:s.isResponseInArrayMode()}))}return(await this.client.transaction(n,QT)).map((i,s)=>r[s].mapResult(i,!0))}async query(t,r){return this.logger.logQuery(t,r),await this.clientQuery(t,r,{arrayMode:!0,fullResults:!0})}async queryObjects(t,r){return this.clientQuery(t,r,{arrayMode:!1,fullResults:!0})}async count(t,r){let n=await this.execute(t,r);return Number(n.rows[0].count)}async transaction(t,r={}){throw new Error("No transactions support in neon-http driver")}},ID=class extends ku{static{a(this,"NeonTransaction")}static[j]="NeonHttpTransaction";async transaction(t){throw new Error("No transactions support in neon-http driver")}}});function Hf(e,t,r,n){return new Proxy(e,{get(o,i){let s=o[i];return typeof s!="function"&&(typeof s!="object"||s===null)?s:n?Hf(s,t,r):i==="query"?Hf(s,t,r,!0):new Proxy(s,{apply(u,l,d){let p=u.call(l,...d);return typeof p=="object"&&p!==null&&"setToken"in p&&typeof p.setToken=="function"&&p.setToken(t),r(u,i,p)}})}})}function Pu(e,t={}){let r=new Ho({casing:t.casing}),n;t.logger===!0?n=new as:t.logger!==!1&&(n=t.logger);let o;if(t.schema){let l=Ml(t.schema,ql);o={fullSchema:t.schema,schema:l.tables,tableNamesMap:l.tableNamesMap}}let s=new eE(e,r,{logger:n,cache:t.cache}).createSession(o),u=new tE(r,s,o);return u.$client=e,u.$cache=t.cache,u.$cache&&(u.$cache.invalidate=t.cache?.onMutate),u}function Vf(...e){if(typeof e[0]=="string"){let t=aa(e[0]);return Pu(t,e[1])}if(xl(e[0])){let{connection:t,client:r,...n}=e[0];if(r)return Pu(r,n);if(typeof t=="object"){let{connectionString:i,...s}=t,u=aa(i,s);return Pu(u,n)}let o=aa(t);return Pu(o,n)}return Pu(e[0],e[1])}var eE,tE,OD=W(()=>{Zl();he();mu();td();Gl();vu();Et();YT();eE=class{static{a(this,"NeonHttpDriver")}constructor(t,r,n={}){this.client=t,this.dialect=r,this.options=n,this.initMappers()}static[j]="NeonHttpDriver";createSession(t){return new Jf(this.client,this.dialect,t,{logger:this.options.logger,cache:this.options.cache})}initMappers(){Ht.setTypeParser(Ht.builtins.TIMESTAMPTZ,t=>t),Ht.setTypeParser(Ht.builtins.TIMESTAMP,t=>t),Ht.setTypeParser(Ht.builtins.DATE,t=>t),Ht.setTypeParser(Ht.builtins.INTERVAL,t=>t),Ht.setTypeParser(1231,t=>t),Ht.setTypeParser(1115,t=>t),Ht.setTypeParser(1185,t=>t),Ht.setTypeParser(1187,t=>t),Ht.setTypeParser(1182,t=>t)}};a(Hf,"wrap");tE=class extends ua{static{a(this,"NeonHttpDatabase")}static[j]="NeonHttpDatabase";$withAuth(t){return this.authToken=t,Hf(this,t,(r,n,o)=>n==="with"?Hf(o,t,(i,s,u)=>u):o)}async batch(t){return this.session.batch(t)}};a(Pu,"construct");a(Vf,"drizzle");(e=>{function t(r){return Pu({},r)}a(t,"mock"),e.mock=t})(Vf||(Vf={}))});var AD=W(()=>{OD();YT()});var rE,Zf,nE,oE=W(()=>{Zl();Lf();he();mu();Wr();Ff();Kt();Et();rE=class extends Tu{static{a(this,"NeonPreparedQuery")}constructor(t,r,n,o,i,s,u,l,d,p,f){super({sql:r,params:n},i,s,u),this.client=t,this.params=n,this.logger=o,this.fields=l,this._isResponseInArrayMode=p,this.customResultMapper=f,this.rawQueryConfig={name:d,text:r,types:{getTypeParser:a((m,y)=>m===Ht.builtins.TIMESTAMPTZ?g=>g:m===Ht.builtins.TIMESTAMP?g=>g:m===Ht.builtins.DATE?g=>g:m===Ht.builtins.INTERVAL?g=>g:m===1231?g=>g:m===1115?g=>g:m===1185?g=>g:m===1187?g=>g:m===1182?g=>g:Ht.getTypeParser(m,y),"getTypeParser")}},this.queryConfig={name:d,text:r,rowMode:"array",types:{getTypeParser:a((m,y)=>m===Ht.builtins.TIMESTAMPTZ?g=>g:m===Ht.builtins.TIMESTAMP?g=>g:m===Ht.builtins.DATE?g=>g:m===Ht.builtins.INTERVAL?g=>g:m===1231?g=>g:m===1115?g=>g:m===1185?g=>g:m===1187?g=>g:m===1182?g=>g:Ht.getTypeParser(m,y),"getTypeParser")}}}static[j]="NeonPreparedQuery";rawQueryConfig;queryConfig;async execute(t={}){let r=_i(this.params,t);this.logger.logQuery(this.rawQueryConfig.text,r);let{fields:n,client:o,rawQueryConfig:i,queryConfig:s,joinsNotNullableMap:u,customResultMapper:l}=this;if(!n&&!l)return await this.queryWithCache(i.text,r,async()=>await o.query(i,r));let d=await this.queryWithCache(s.text,r,async()=>await o.query(s,r));return l?l(d.rows):d.rows.map(p=>Sl(n,p,u))}all(t={}){let r=_i(this.params,t);return this.logger.logQuery(this.rawQueryConfig.text,r),this.queryWithCache(this.rawQueryConfig.text,r,async()=>await this.client.query(this.rawQueryConfig,r)).then(n=>n.rows)}values(t={}){let r=_i(this.params,t);return this.logger.logQuery(this.rawQueryConfig.text,r),this.queryWithCache(this.queryConfig.text,r,async()=>await this.client.query(this.queryConfig,r)).then(n=>n.rows)}isResponseInArrayMode(){return this._isResponseInArrayMode}},Zf=class e extends Eu{static{a(this,"NeonSession")}constructor(t,r,n,o={}){super(r),this.client=t,this.schema=n,this.options=o,this.logger=o.logger??new ss,this.cache=o.cache??new ca}static[j]="NeonSession";logger;cache;prepareQuery(t,r,n,o,i,s,u){return new rE(this.client,t.sql,t.params,this.logger,this.cache,s,u,r,n,o,i)}async query(t,r){return this.logger.logQuery(t,r),await this.client.query({rowMode:"array",text:t,values:r})}async queryObjects(t,r){return this.client.query(t,r)}async count(t){let r=await this.execute(t);return Number(r.rows[0].count)}async transaction(t,r={}){let n=this.client instanceof yo?new e(await this.client.connect(),this.dialect,this.schema,this.options):this,o=new nE(this.dialect,n,this.schema);await o.execute(q`begin ${o.getTransactionConfigSQL(r)}`);try{let i=await t(o);return await o.execute(q`commit`),i}catch(i){throw await o.execute(q`rollback`),i}finally{this.client instanceof yo&&n.client.release()}}},nE=class e extends ku{static{a(this,"NeonTransaction")}static[j]="NeonTransaction";async transaction(t){let r=`sp${this.nestedIndex+1}`,n=new e(this.dialect,this.session,this.schema,this.nestedIndex+1);await n.execute(q.raw(`savepoint ${r}`));try{let o=await t(n);return await n.execute(q.raw(`release savepoint ${r}`)),o}catch(o){throw await n.execute(q.raw(`rollback to savepoint ${r}`)),o}}}});function rd(e,t={}){let r=new Ho({casing:t.casing}),n;t.logger===!0?n=new as:t.logger!==!1&&(n=t.logger);let o;if(t.schema){let l=Ml(t.schema,ql);o={fullSchema:t.schema,schema:l.tables,tableNamesMap:l.tableNamesMap}}let s=new iE(e,r,{logger:n,cache:t.cache}).createSession(o),u=new aE(r,s,o);return u.$client=e,u.$cache=t.cache,u.$cache&&(u.$cache.invalidate=t.cache?.onMutate),u}function Iu(...e){if(typeof e[0]=="string"){let t=new yo({connectionString:e[0]});return rd(t,e[1])}if(xl(e[0])){let{connection:t,client:r,ws:n,...o}=e[0];if(n&&(cs.webSocketConstructor=n),r)return rd(r,o);let i=typeof t=="string"?new yo({connectionString:t}):new yo(t);return rd(i,o)}return rd(e[0],e[1])}var iE,aE,CD=W(()=>{Zl();he();mu();td();Gl();vu();Et();oE();iE=class{static{a(this,"NeonDriver")}constructor(t,r,n={}){this.client=t,this.dialect=r,this.options=n}static[j]="NeonDriver";createSession(t){return new Zf(this.client,this.dialect,t,{logger:this.options.logger,cache:this.options.cache})}},aE=class extends ua{static{a(this,"NeonDatabase")}static[j]="NeonServerlessDatabase"};a(rd,"construct");a(Iu,"drizzle");(e=>{function t(r){return rd({},r)}a(t,"mock"),e.mock=t})(Iu||(Iu={}))});var RD=W(()=>{CD();oE()});var H,Sn,ms,Cr=W(()=>{"use strict";Wr();H=Ee("users",{id:T("id").primaryKey(),email:T("email").unique().notNull(),fullName:T("full_name"),phone:T("phone"),cpf:T("cpf").unique(),birthDate:Kr("birth_date"),autonomyLevel:yt("autonomy_level").default(50),voiceCommandEnabled:se("voice_command_enabled").default(!0),language:T("language").default("pt-BR"),timezone:T("timezone").default("America/Sao_Paulo"),currency:T("currency").default("BRL"),profileImageUrl:T("profile_image_url"),organizationId:T("organization_id").notNull().default("default"),isActive:se("is_active").default(!0),lastLogin:K("last_login",{withTimezone:!0}),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()}),Sn=Ee("user_preferences",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>H.id,{onDelete:"cascade"}),theme:T("theme").default("system"),notificationsEmail:se("notifications_email").default(!0),notificationsPush:se("notifications_push").default(!0),notificationsSms:se("notifications_sms").default(!1),autoCategorize:se("auto_categorize").default(!0),budgetAlerts:se("budget_alerts").default(!0),voiceFeedback:se("voice_feedback").default(!0),accessibilityHighContrast:se("accessibility_high_contrast").default(!1),accessibilityLargeText:se("accessibility_large_text").default(!1),accessibilityScreenReader:se("accessibility_screen_reader").default(!1),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()}),ms=Ee("user_security",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>H.id,{onDelete:"cascade"}),biometricEnabled:se("biometric_enabled").default(!1),twoFactorEnabled:se("two_factor_enabled").default(!1),twoFactorSecret:T("two_factor_secret"),voiceBiometricEnabled:se("voice_biometric_enabled").default(!1),voiceSampleEncrypted:T("voice_sample_encrypted"),sessionTimeoutMinutes:yt("session_timeout_minutes").default(30),maxFailedAttempts:yt("max_failed_attempts").default(5),lockedUntil:K("locked_until",{withTimezone:!0}),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()})});var la,fs,Ou,Au,Cu,sE=W(()=>{"use strict";Wr();Cr();la=Ee("audit_logs",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>H.id,{onDelete:"cascade"}),action:T("action").notNull(),resourceType:T("resource_type"),resourceId:T("resource_id"),oldValues:Le("old_values"),newValues:Le("new_values"),ipAddress:zn("ip_address"),userAgent:T("user_agent"),sessionId:T("session_id"),success:se("success").default(!0),errorMessage:T("error_message"),createdAt:K("created_at",{withTimezone:!0}).defaultNow()}),fs=Ee("error_logs",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>H.id,{onDelete:"cascade"}),errorType:T("error_type").notNull(),errorCode:T("error_code"),errorMessage:T("error_message").notNull(),stackTrace:T("stack_trace"),context:Le("context"),userAgent:T("user_agent"),ipAddress:zn("ip_address"),sessionId:T("session_id"),isResolved:se("is_resolved").default(!1),resolvedAt:K("resolved_at",{withTimezone:!0}),resolvedBy:T("resolved_by").references(()=>H.id),createdAt:K("created_at",{withTimezone:!0}).defaultNow()}),Ou=Ee("user_sessions",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>H.id,{onDelete:"cascade"}),sessionToken:T("session_token").unique().notNull(),deviceType:T("device_type"),deviceId:T("device_id"),ipAddress:zn("ip_address"),userAgent:T("user_agent"),isActive:se("is_active").default(!0),lastActivity:K("last_activity",{withTimezone:!0}).defaultNow(),expiresAt:K("expires_at",{withTimezone:!0}).notNull(),createdAt:K("created_at",{withTimezone:!0}).defaultNow()}),Au=Ee("lgpd_consent_logs",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>H.id,{onDelete:"cascade"}),consentType:T("consent_type").notNull(),consentGiven:se("consent_given").notNull(),consentVersion:T("consent_version").notNull(),ipAddress:zn("ip_address"),userAgent:T("user_agent"),consentedAt:K("consented_at",{withTimezone:!0}).defaultNow(),revokedAt:K("revoked_at",{withTimezone:!0}),createdAt:K("created_at",{withTimezone:!0}).defaultNow()}),Cu=Ee("data_export_requests",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>H.id,{onDelete:"cascade"}),requestType:T("request_type").notNull(),status:T("status").default("pending"),processedAt:K("processed_at",{withTimezone:!0}),downloadUrl:T("download_url"),expiresAt:K("expires_at",{withTimezone:!0}),ipAddress:zn("ip_address"),userAgent:T("user_agent"),requestedAt:K("requested_at",{withTimezone:!0}).defaultNow(),createdAt:K("created_at",{withTimezone:!0}).defaultNow()})});var ce,Ru,da,nd=W(()=>{"use strict";Wr();Cr();ce=Ee("bank_accounts",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").notNull().references(()=>H.id,{onDelete:"cascade"}),belvoAccountId:T("belvo_account_id").unique().notNull(),institutionId:T("institution_id").notNull(),institutionName:T("institution_name").notNull(),accountType:T("account_type").notNull(),accountNumber:T("account_number"),accountMask:T("account_mask").notNull(),accountHolderName:T("account_holder_name"),balance:He("balance",{precision:15,scale:2}).default("0"),availableBalance:He("available_balance",{precision:15,scale:2}).default("0"),currency:T("currency").default("BRL"),isActive:se("is_active").default(!0),isPrimary:se("is_primary").default(!1),lastSync:K("last_sync",{withTimezone:!0}),syncStatus:T("sync_status").default("pending"),syncErrorMessage:T("sync_error_message"),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()}),Ru=Ee("account_balance_history",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),accountId:T("account_id").references(()=>ce.id,{onDelete:"cascade"}),balance:He("balance",{precision:15,scale:2}).notNull(),availableBalance:He("available_balance",{precision:15,scale:2}),recordedAt:K("recorded_at",{withTimezone:!0}).defaultNow(),source:T("source").default("sync")}),da=Ee("bank_sync_logs",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>H.id,{onDelete:"cascade"}),accountId:T("account_id").references(()=>ce.id,{onDelete:"cascade"}),syncType:T("sync_type").notNull(),status:T("status").notNull(),recordsSynced:yt("records_synced").default(0),errorMessage:T("error_message"),startedAt:K("started_at",{withTimezone:!0}).defaultNow(),completedAt:K("completed_at",{withTimezone:!0}),durationMs:yt("duration_ms")})});var uE,cE,en,je,yr,od=W(()=>{"use strict";Wr();Cr();uE=zt("subscription_status",["free","trialing","active","past_due","canceled","unpaid"]),cE=zt("payment_status",["succeeded","failed","pending"]),en=Ee("subscription_plans",{id:T("id").primaryKey(),name:T("name").notNull(),description:T("description"),priceCents:yt("price_cents").notNull().default(0),currency:T("currency").notNull().default("BRL"),interval:T("interval"),stripeProductId:T("stripe_product_id"),stripePriceId:T("stripe_price_id"),features:Le("features").$type().default([]),aiModels:Le("ai_models").$type().default([]),maxBankAccounts:yt("max_bank_accounts").default(1),maxTransactionsPerMonth:yt("max_transactions_per_month"),isActive:se("is_active").default(!0),displayOrder:yt("display_order").default(0),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()}),je=Ee("subscriptions",{id:gu("id").primaryKey().defaultRandom(),userId:T("user_id").notNull().unique().references(()=>H.id,{onDelete:"cascade"}),stripeCustomerId:T("stripe_customer_id"),stripeSubscriptionId:T("stripe_subscription_id").unique(),planId:T("plan_id").notNull().default("free").references(()=>en.id),status:uE("status").notNull().default("free"),currentPeriodStart:K("current_period_start",{withTimezone:!0}),currentPeriodEnd:K("current_period_end",{withTimezone:!0}),cancelAtPeriodEnd:se("cancel_at_period_end").default(!1),canceledAt:K("canceled_at",{withTimezone:!0}),trialStart:K("trial_start",{withTimezone:!0}),trialEnd:K("trial_end",{withTimezone:!0}),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()}),yr=Ee("payment_history",{id:gu("id").primaryKey().defaultRandom(),userId:T("user_id").notNull().references(()=>H.id,{onDelete:"cascade"}),subscriptionId:gu("subscription_id").references(()=>je.id,{onDelete:"set null"}),stripePaymentIntentId:T("stripe_payment_intent_id"),stripeInvoiceId:T("stripe_invoice_id"),stripeChargeId:T("stripe_charge_id"),amountCents:yt("amount_cents").notNull(),currency:T("currency").notNull().default("BRL"),status:cE("status").notNull(),description:T("description"),receiptUrl:T("receipt_url"),invoicePdf:T("invoice_pdf"),failureCode:T("failure_code"),failureMessage:T("failure_message"),createdAt:K("created_at",{withTimezone:!0}).defaultNow()})});var De,oe,Gt,hs=W(()=>{"use strict";Wr();nd();Cr();De=Ee("transaction_categories",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").notNull().references(()=>H.id,{onDelete:"cascade"}),name:T("name").notNull(),color:T("color").default("#6B7280"),icon:T("icon").default("circle"),isSystem:se("is_system").default(!1),parentId:T("parent_id"),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()}),oe=Ee("transactions",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").notNull().references(()=>H.id,{onDelete:"cascade"}),accountId:T("account_id").references(()=>ce.id,{onDelete:"set null"}),categoryId:T("category_id").references(()=>De.id,{onDelete:"set null"}),amount:He("amount",{precision:15,scale:2}).notNull(),originalAmount:He("original_amount",{precision:15,scale:2}),currency:T("currency").default("BRL"),description:T("description").notNull(),merchantName:T("merchant_name"),transactionDate:K("transaction_date",{withTimezone:!0}).notNull(),postedDate:K("posted_date",{withTimezone:!0}),transactionType:T("transaction_type").notNull(),paymentMethod:T("payment_method"),status:T("status").default("posted"),isRecurring:se("is_recurring").default(!1),recurringRule:Le("recurring_rule"),tags:T("tags").array(),notes:T("notes"),attachments:T("attachments").array(),confidenceScore:He("confidence_score",{precision:3,scale:2}),isCategorized:se("is_categorized").default(!1),isManualEntry:se("is_manual_entry").default(!1),externalId:T("external_id"),externalSource:T("external_source"),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()}),Gt=Ee("transaction_schedules",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>H.id,{onDelete:"cascade"}),accountId:T("account_id").references(()=>ce.id,{onDelete:"set null"}),categoryId:T("category_id").references(()=>De.id,{onDelete:"set null"}),amount:He("amount",{precision:15,scale:2}).notNull(),description:T("description").notNull(),recipientName:T("recipient_name"),recipientAccount:T("recipient_account"),recipientPixKey:T("recipient_pix_key"),scheduledDate:Kr("scheduled_date").notNull(),recurrenceRule:T("recurrence_rule"),isActive:se("is_active").default(!0),autoExecute:se("auto_execute").default(!1),notificationSent:se("notification_sent").default(!1),executed:se("executed").default(!1),executedTransactionId:T("executed_transaction_id").references(()=>oe.id),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()})});var $D,Vo,pa,lE=W(()=>{"use strict";Wr();hs();Cr();$D=zt("boleto_status",["pending","paid","overdue","cancelled","scheduled"]),Vo=Ee("boletos",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>H.id,{onDelete:"cascade"}),barcode:T("barcode").unique().notNull(),lineIdDigitable:T("line_id_digitable").unique().notNull(),amount:He("amount",{precision:15,scale:2}).notNull(),dueDate:Kr("due_date").notNull(),beneficiaryName:T("beneficiary_name").notNull(),beneficiaryCnpj:T("beneficiary_cnpj"),description:T("description"),status:T("status").default("pending"),paymentDate:K("payment_date",{withTimezone:!0}),paidAmount:He("paid_amount",{precision:15,scale:2}),paidWith:T("paid_with"),transactionId:T("transaction_id").references(()=>oe.id),fineAmount:He("fine_amount",{precision:15,scale:2}).default("0"),interestAmount:He("interest_amount",{precision:15,scale:2}).default("0"),discountAmount:He("discount_amount",{precision:15,scale:2}).default("0"),pdfUrl:T("pdf_url"),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()}),pa=Ee("boleto_payments",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),boletoId:T("boleto_id").references(()=>Vo.id,{onDelete:"cascade"}),amount:He("amount",{precision:15,scale:2}).notNull(),paymentDate:K("payment_date",{withTimezone:!0}).defaultNow(),paymentMethod:T("payment_method").notNull(),transactionId:T("transaction_id").references(()=>oe.id),status:T("status").default("processing"),externalId:T("external_id"),createdAt:K("created_at",{withTimezone:!0}).defaultNow()})});var gs,mt,ma,dE=W(()=>{"use strict";Wr();nd();hs();Cr();gs=Ee("event_types",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),name:T("name").unique().notNull(),description:T("description"),color:T("color").default("#3B82F6"),icon:T("icon").default("calendar"),isSystem:se("is_system").default(!0),defaultReminderHours:yt("default_reminder_hours").default(24),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()}),mt=Ee("financial_events",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>H.id,{onDelete:"cascade"}).notNull(),accountId:T("account_id").references(()=>ce.id,{onDelete:"set null"}),categoryId:T("category_id").references(()=>De.id,{onDelete:"set null"}),eventTypeId:T("event_type_id").references(()=>gs.id,{onDelete:"set null"}),title:T("title").notNull(),description:T("description"),amount:He("amount",{precision:15,scale:2}).notNull(),status:T("status").notNull().default("pending"),startDate:K("start_date",{withTimezone:!0}).notNull(),endDate:K("end_date",{withTimezone:!0}).notNull(),allDay:se("all_day").default(!1),color:T("color").notNull().default("blue"),icon:T("icon"),isIncome:se("is_income").default(!1),isCompleted:se("is_completed").default(!1),isRecurring:se("is_recurring").default(!1),recurrenceRule:T("recurrence_rule"),parentEventId:T("parent_event_id"),location:T("location"),notes:T("notes"),dueDate:Kr("due_date"),completedAt:K("completed_at",{withTimezone:!0}),priority:T("priority").default("normal"),tags:T("tags").array(),attachments:T("attachments").array(),brazilianEventType:T("brazilian_event_type"),installmentInfo:Le("installment_info"),merchantCategory:T("merchant_category"),metadata:Le("metadata"),transactionId:T("transaction_id").references(()=>oe.id,{onDelete:"set null"}),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()}),ma=Ee("event_reminders",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>H.id,{onDelete:"cascade"}),eventId:T("event_id").references(()=>mt.id,{onDelete:"cascade"}),remindAt:K("remind_at",{withTimezone:!0}).notNull(),reminderType:T("reminder_type").default("notification"),message:T("message"),isSent:se("is_sent").default(!1),sentAt:K("sent_at",{withTimezone:!0}),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()})});var ND,$e,$u,pE=W(()=>{"use strict";Wr();Cr();ND=zt("payment_method_type",["PIX","BANK_ACCOUNT","BOLETO"]),$e=Ee("contacts",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>H.id,{onDelete:"cascade"}),name:T("name").notNull(),email:T("email"),phone:T("phone"),cpf:T("cpf"),cnpj:T("cnpj"),notes:T("notes"),isFavorite:se("is_favorite").default(!1),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()}),$u=Ee("contact_payment_methods",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),contactId:T("contact_id").references(()=>$e.id,{onDelete:"cascade"}),methodType:T("method_type").notNull(),methodDetails:Le("method_details").notNull(),isDefault:se("is_default").default(!1),isActive:se("is_active").default(!0),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()})});var Kf,mE,fE,hE,gE,yE,vE,_E,bE,wn,qt,Gf,tn,_o,Lr,xn,Nu,SE=W(()=>{"use strict";Wr();Cr();Kf=zt("consent_type",["data_processing","marketing","analytics","third_party","third_party_sharing","voice_data","voice_recording","biometric","financial_data","location","open_banking"]),mE=zt("collection_method",["signup","settings","settings_toggle","prompt","api","import","explicit_form","terms_acceptance","voice_command"]),fE=zt("deletion_request_type",["full_account","full_deletion","specific_data","anonymization","partial_deletion","consent_withdrawal"]),hE=zt("deletion_request_status",["pending","verified","approved","processing","completed","rejected","cancelled"]),gE=zt("export_request_type",["full_data","full_export","transactions","profile","consents","audit_logs","financial_only","voice_commands","specific_period"]),yE=zt("export_format",["json","csv","pdf"]),vE=zt("export_status",["pending","processing","completed","failed","expired"]),_E=zt("limit_type",["pix_daily","pix_daytime","pix_nighttime","pix_transaction","pix_total_daily","boleto_daily","ted_daily","transfer_daily","withdrawal_daily","total_daily","total_monthly"]),bE=zt("compliance_event_type",["consent_granted","consent_revoked","data_export_requested","data_export_completed","data_deletion_requested","data_deletion_completed","data_accessed","data_modified","limit_updated","policy_acknowledged"]),wn=Ee("consent_templates",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),consentType:Kf("consent_type").notNull(),version:T("version").notNull().default("1.0"),titlePt:T("title_pt").notNull(),descriptionPt:T("description_pt").notNull(),fullTextPt:T("full_text_pt").notNull(),titleEn:T("title_en"),descriptionEn:T("description_en"),fullTextEn:T("full_text_en"),isMandatory:se("is_mandatory").default(!1),isActive:se("is_active").default(!0),legalBasis:T("legal_basis"),effectiveFrom:K("effective_from",{withTimezone:!0}).defaultNow(),effectiveUntil:K("effective_until",{withTimezone:!0}),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()}),qt=Ee("lgpd_consents",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>H.id,{onDelete:"cascade"}).notNull(),consentType:Kf("consent_type").notNull(),purpose:T("purpose").notNull(),legalBasis:T("legal_basis").notNull(),granted:se("granted").notNull().default(!1),grantedAt:K("granted_at",{withTimezone:!0}),revokedAt:K("revoked_at",{withTimezone:!0}),consentVersion:T("consent_version").notNull(),consentTextHash:T("consent_text_hash"),collectionMethod:mE("collection_method").notNull(),ipAddress:zn("ip_address"),userAgent:T("user_agent"),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()},e=>[ps("lgpd_consents_user_type_version_idx").on(e.userId,e.consentType,e.consentVersion)]),Gf=Ee("data_retention_policies",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),dataType:T("data_type").notNull().unique(),description:T("description"),descriptionPt:T("description_pt"),retentionMonths:yt("retention_months").notNull(),retentionPeriodLabel:T("retention_period_label"),autoDelete:se("auto_delete").default(!1),deletionMethod:T("deletion_method").default("hard_delete"),legalHold:se("legal_hold").default(!1),legalBasis:T("legal_basis"),legalRequirement:se("legal_requirement").default(!1),isActive:se("is_active").default(!0),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()}),tn=Ee("data_deletion_requests",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>H.id,{onDelete:"cascade"}).notNull(),requestType:fE("request_type").notNull(),scope:Le("scope").default({}),reason:T("reason"),status:hE("status").default("pending"),verificationCode:T("verification_code"),verifiedAt:K("verified_at",{withTimezone:!0}),reviewDeadline:K("review_deadline",{withTimezone:!0}),processedAt:K("processed_at",{withTimezone:!0}),processedBy:T("processed_by"),processingNotes:T("processing_notes"),legalHold:se("legal_hold").default(!1),legalHoldReason:T("legal_hold_reason"),ipAddress:zn("ip_address"),userAgent:T("user_agent"),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()}),_o=Ee("lgpd_export_requests",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>H.id,{onDelete:"cascade"}).notNull(),requestType:gE("request_type").notNull(),format:yE("format").default("json"),dateFrom:Kr("date_from"),dateTo:Kr("date_to"),status:vE("status").default("pending"),processedAt:K("processed_at",{withTimezone:!0}),downloadUrl:T("download_url"),downloadExpiresAt:K("download_expires_at",{withTimezone:!0}),fileSizeBytes:yt("file_size_bytes"),errorMessage:T("error_message"),retryCount:yt("retry_count").default(0),requestedVia:T("requested_via").default("app"),ipAddress:zn("ip_address"),userAgent:T("user_agent"),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()}),Lr=Ee("transaction_limits",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>H.id,{onDelete:"cascade"}).notNull(),limitType:_E("limit_type").notNull(),dailyLimit:He("daily_limit",{precision:15,scale:2}).notNull(),transactionLimit:He("transaction_limit",{precision:15,scale:2}),monthlyLimit:He("monthly_limit",{precision:15,scale:2}),currentDailyUsed:He("current_daily_used",{precision:15,scale:2}).default("0"),currentMonthlyUsed:He("current_monthly_used",{precision:15,scale:2}).default("0"),lastResetAt:K("last_reset_at",{withTimezone:!0}).defaultNow(),nighttimeLimit:He("nighttime_limit",{precision:15,scale:2}),nighttimeStart:T("nighttime_start").default("20:00"),nighttimeEnd:T("nighttime_end").default("06:00"),isActive:se("is_active").default(!0),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()},e=>[ps("transaction_limits_user_type_idx").on(e.userId,e.limitType)]),xn=Ee("compliance_audit_logs",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>H.id,{onDelete:"set null"}),eventType:bE("event_type").notNull(),resourceType:T("resource_type").notNull(),resourceId:T("resource_id"),description:T("description"),metadata:Le("metadata").default({}),previousState:Le("previous_state"),newState:Le("new_state"),ipAddress:zn("ip_address"),userAgent:T("user_agent"),sessionId:T("session_id"),retentionUntil:K("retention_until",{withTimezone:!0}),createdAt:K("created_at",{withTimezone:!0}).defaultNow()}),Nu=Ee("legal_holds",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>H.id,{onDelete:"cascade"}).notNull(),reason:T("reason").notNull(),description:T("description"),referenceNumber:T("reference_number"),dataTypes:Le("data_types").default([]),allData:se("all_data").default(!1),active:se("active").default(!0),startedAt:K("started_at",{withTimezone:!0}).defaultNow(),expiresAt:K("expires_at",{withTimezone:!0}),releasedAt:K("released_at",{withTimezone:!0}),releasedBy:T("released_by"),releaseReason:T("release_reason"),createdBy:T("created_by").notNull(),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()})});var Pi,zu,ju,wE=W(()=>{"use strict";Wr();Cr();Pi=Ee("notifications",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>H.id,{onDelete:"cascade"}),title:T("title").notNull(),message:T("message").notNull(),type:T("type").notNull(),category:T("category"),priority:T("priority").default("normal"),isRead:se("is_read").default(!1),readAt:K("read_at",{withTimezone:!0}),actionUrl:T("action_url"),actionText:T("action_text"),metadata:Le("metadata"),expiresAt:K("expires_at",{withTimezone:!0}),createdAt:K("created_at",{withTimezone:!0}).defaultNow()}),zu=Ee("alert_rules",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>H.id,{onDelete:"cascade"}),ruleName:T("rule_name").notNull(),ruleType:T("rule_type").notNull(),conditions:Le("conditions").notNull(),actions:Le("actions").notNull(),isActive:se("is_active").default(!0),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()}),ju=Ee("notification_logs",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),notificationId:T("notification_id").references(()=>Pi.id,{onDelete:"cascade"}),deliveryMethod:T("delivery_method").notNull(),status:T("status").notNull(),sentAt:K("sent_at",{withTimezone:!0}).defaultNow(),deliveredAt:K("delivered_at",{withTimezone:!0}),errorMessage:T("error_message"),externalId:T("external_id"),createdAt:K("created_at",{withTimezone:!0}).defaultNow()})});var zD,jD,DD,Du,Ii,Zo,xE=W(()=>{"use strict";Wr();hs();Cr();zD=zt("pix_key_type",["CPF","CNPJ","EMAIL","PHONE","RANDOM"]),jD=zt("pix_transaction_status",["pending","processing","completed","failed","cancelled","reversed"]),DD=zt("pix_transaction_type_enum",["sent","received","scheduled"]),Du=Ee("pix_keys",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>H.id,{onDelete:"cascade"}),keyType:T("key_type").notNull(),keyValue:T("key_value").notNull(),keyName:T("key_name").notNull(),bankName:T("bank_name"),isFavorite:se("is_favorite").default(!1),isActive:se("is_active").default(!0),verificationStatus:T("verification_status").default("pending"),lastUsed:K("last_used",{withTimezone:!0}),usageCount:yt("usage_count").default(0),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()}),Ii=Ee("pix_qr_codes",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>H.id,{onDelete:"cascade"}),qrCodeData:T("qr_code_data").notNull(),pixCopyPaste:T("pix_copy_paste").notNull(),amount:He("amount",{precision:15,scale:2}),description:T("description"),recipientName:T("recipient_name"),recipientPixKey:T("recipient_pix_key"),expiresAt:K("expires_at",{withTimezone:!0}),isActive:se("is_active").default(!0),isSingleUse:se("is_single_use").default(!1),usageCount:yt("usage_count").default(0),maxUsage:yt("max_usage"),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()}),Zo=Ee("pix_transactions",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>H.id,{onDelete:"cascade"}),transactionId:T("transaction_id").references(()=>oe.id,{onDelete:"set null"}),endToEndId:T("end_to_end_id").unique(),pixKey:T("pix_key").notNull(),pixKeyType:T("pix_key_type").notNull(),recipientName:T("recipient_name").notNull(),recipientDocument:T("recipient_document"),recipientBank:T("recipient_bank"),amount:He("amount",{precision:15,scale:2}).notNull(),description:T("description"),transactionDate:K("transaction_date",{withTimezone:!0}).notNull(),status:T("status").default("pending"),transactionType:T("transaction_type").default("sent"),scheduledFor:K("scheduled_for",{withTimezone:!0}),processedAt:K("processed_at",{withTimezone:!0}),qrCodeId:T("qr_code_id").references(()=>Ii.id),externalId:T("external_id"),errorMessage:T("error_message"),feeAmount:He("fee_amount",{precision:15,scale:2}).default("0"),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()})});var Mu,MD,Rr,fa,ha,Ko,qu,Uu,k2e,TE=W(()=>{"use strict";Wr();hs();Cr();Mu=Ee("voice_commands",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>H.id,{onDelete:"cascade"}),commandText:T("command_text").notNull(),audioFileUrl:T("audio_file_url"),intent:T("intent").notNull(),intentConfidence:He("intent_confidence",{precision:3,scale:2}),entities:Le("entities"),responseText:T("response_text"),responseAudioUrl:T("response_audio_url"),processingTimeMs:yt("processing_time_ms"),status:T("status").default("processed"),errorMessage:T("error_message"),context:Le("context"),createdAt:K("created_at",{withTimezone:!0}).defaultNow()}),MD=Ee("command_intents",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),intentName:T("intent_name").unique().notNull(),description:T("description"),examplePhrases:T("example_phrases").array(),requiredEntities:T("required_entities").array(),actionHandler:T("action_handler"),isActive:se("is_active").default(!0),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()}),Rr=Ee("ai_insights",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>H.id,{onDelete:"cascade"}),insightType:T("insight_type").notNull(),title:T("title").notNull(),description:T("description").notNull(),recommendation:T("recommendation"),impactLevel:T("impact_level").default("medium"),categoryId:T("category_id").references(()=>De.id),data:Le("data"),isRead:se("is_read").default(!1),isActioned:se("is_actioned").default(!1),expiresAt:K("expires_at",{withTimezone:!0}),createdAt:K("created_at",{withTimezone:!0}).defaultNow()}),fa=Ee("spending_patterns",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>H.id,{onDelete:"cascade"}),categoryId:T("category_id").references(()=>De.id),periodStart:Kr("period_start").notNull(),periodEnd:Kr("period_end").notNull(),periodType:T("period_type").notNull(),totalAmount:He("total_amount",{precision:15,scale:2}).notNull(),transactionCount:yt("transaction_count").notNull(),averageTransaction:He("average_transaction",{precision:15,scale:2}),trendPercentage:He("trend_percentage",{precision:5,scale:2}),patternData:Le("pattern_data"),createdAt:K("created_at",{withTimezone:!0}).defaultNow()}),ha=Ee("budget_categories",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>H.id,{onDelete:"cascade"}),categoryId:T("category_id").references(()=>De.id,{onDelete:"cascade"}),budgetAmount:He("budget_amount",{precision:15,scale:2}).notNull(),periodType:T("period_type").notNull(),alertThreshold:He("alert_threshold",{precision:5,scale:2}).default("80"),isActive:se("is_active").default(!0),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()}),Ko=Ee("chat_sessions",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>H.id,{onDelete:"cascade"}),title:T("title"),isActive:se("is_active").default(!0),metadata:Le("metadata"),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()}),qu=Ee("chat_messages",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),sessionId:T("session_id").references(()=>Ko.id,{onDelete:"cascade"}),role:T("role").notNull(),content:T("content").notNull(),attachments:Le("attachments"),context:Le("context"),createdAt:K("created_at",{withTimezone:!0}).defaultNow()}),Uu=Ee("voice_transcriptions",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:T("user_id").references(()=>H.id,{onDelete:"cascade"}),audioStoragePath:T("audio_storage_path").notNull(),transcript:T("transcript").notNull(),confidenceScore:He("confidence_score",{precision:3,scale:2}),language:T("language").notNull(),processingTimeMs:yt("processing_time_ms").notNull(),expiresAt:K("expires_at",{withTimezone:!0}).notNull(),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()}),k2e=Ee("chat_context_snapshots",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),conversationId:T("conversation_id").references(()=>Ko.id,{onDelete:"cascade"}),recentTransactions:Le("recent_transactions"),accountBalances:Le("account_balances"),upcomingEvents:Le("upcoming_events"),userPreferences:Le("user_preferences"),createdAt:K("created_at",{withTimezone:!0}).defaultNow()})});var qD,UD,LD,FD,BD,JD,HD,VD,ZD,KD,GD,WD,QD,XD,YD,eM,tM,rM,nM,oM,iM,aM,sM,uM,cM,lM,dM,pM,mM,fM,hM,gM,yM,vM,_M,bM,SM,wM,xM,TM,EM,kM,PM,IM,OM,AM=W(()=>{"use strict";ir();sE();nd();od();lE();dE();pE();SE();wE();xE();hs();Cr();TE();qD=Be(H,({one:e,many:t})=>({preferences:e(Sn,{fields:[H.id],references:[Sn.userId]}),security:e(ms,{fields:[H.id],references:[ms.userId]}),bankAccounts:t(ce),transactionCategories:t(De),transactions:t(oe),transactionSchedules:t(Gt),financialEvents:t(mt),eventReminders:t(ma),pixKeys:t(Du),pixQrCodes:t(Ii),pixTransactions:t(Zo),contacts:t($e),boletos:t(Vo),voiceCommands:t(Mu),voiceTranscriptions:t(Uu),aiInsights:t(Rr),spendingPatterns:t(fa),budgetCategories:t(ha),chatSessions:t(Ko),notifications:t(Pi),alertRules:t(zu),auditLogs:t(la),errorLogs:t(fs),userSessions:t(Ou),lgpdConsentLogs:t(Au),dataExportRequests:t(Cu),bankSyncLogs:t(da),lgpdConsents:t(qt),dataDeletionRequests:t(tn),lgpdExportRequests:t(_o),transactionLimits:t(Lr),complianceAuditLogs:t(xn),legalHolds:t(Nu),subscriptions:t(je),paymentHistory:t(yr)})),UD=Be(Sn,({one:e})=>({user:e(H,{fields:[Sn.userId],references:[H.id]})})),LD=Be(ms,({one:e})=>({user:e(H,{fields:[ms.userId],references:[H.id]})})),FD=Be(ce,({one:e,many:t})=>({user:e(H,{fields:[ce.userId],references:[H.id]}),balanceHistory:t(Ru),syncLogs:t(da),transactions:t(oe),transactionSchedules:t(Gt),financialEvents:t(mt)})),BD=Be(Ru,({one:e})=>({account:e(ce,{fields:[Ru.accountId],references:[ce.id]})})),JD=Be(da,({one:e})=>({user:e(H,{fields:[da.userId],references:[H.id]}),account:e(ce,{fields:[da.accountId],references:[ce.id]})})),HD=Be(De,({one:e,many:t})=>({user:e(H,{fields:[De.userId],references:[H.id]}),parent:e(De,{fields:[De.parentId],references:[De.id],relationName:"categoryParent"}),children:t(De,{relationName:"categoryParent"}),transactions:t(oe),transactionSchedules:t(Gt),financialEvents:t(mt),aiInsights:t(Rr),spendingPatterns:t(fa),budgetCategories:t(ha)})),VD=Be(oe,({one:e,many:t})=>({user:e(H,{fields:[oe.userId],references:[H.id]}),account:e(ce,{fields:[oe.accountId],references:[ce.id]}),category:e(De,{fields:[oe.categoryId],references:[De.id]}),pixTransactions:t(Zo),boletoPayments:t(pa),financialEvents:t(mt)})),ZD=Be(Gt,({one:e})=>({user:e(H,{fields:[Gt.userId],references:[H.id]}),account:e(ce,{fields:[Gt.accountId],references:[ce.id]}),category:e(De,{fields:[Gt.categoryId],references:[De.id]}),executedTransaction:e(oe,{fields:[Gt.executedTransactionId],references:[oe.id]})})),KD=Be(gs,({many:e})=>({financialEvents:e(mt)})),GD=Be(mt,({one:e,many:t})=>({user:e(H,{fields:[mt.userId],references:[H.id]}),account:e(ce,{fields:[mt.accountId],references:[ce.id]}),category:e(De,{fields:[mt.categoryId],references:[De.id]}),eventType:e(gs,{fields:[mt.eventTypeId],references:[gs.id]}),parentEvent:e(mt,{fields:[mt.parentEventId],references:[mt.id],relationName:"eventParent"}),childEvents:t(mt,{relationName:"eventParent"}),transaction:e(oe,{fields:[mt.transactionId],references:[oe.id]}),reminders:t(ma)})),WD=Be(ma,({one:e})=>({user:e(H,{fields:[ma.userId],references:[H.id]}),event:e(mt,{fields:[ma.eventId],references:[mt.id]})})),QD=Be(Du,({one:e})=>({user:e(H,{fields:[Du.userId],references:[H.id]})})),XD=Be(Ii,({one:e,many:t})=>({user:e(H,{fields:[Ii.userId],references:[H.id]}),pixTransactions:t(Zo)})),YD=Be(Zo,({one:e})=>({user:e(H,{fields:[Zo.userId],references:[H.id]}),transaction:e(oe,{fields:[Zo.transactionId],references:[oe.id]}),qrCode:e(Ii,{fields:[Zo.qrCodeId],references:[Ii.id]})})),eM=Be($e,({one:e,many:t})=>({user:e(H,{fields:[$e.userId],references:[H.id]}),paymentMethods:t($u)})),tM=Be($u,({one:e})=>({contact:e($e,{fields:[$u.contactId],references:[$e.id]})})),rM=Be(Vo,({one:e,many:t})=>({user:e(H,{fields:[Vo.userId],references:[H.id]}),transaction:e(oe,{fields:[Vo.transactionId],references:[oe.id]}),payments:t(pa)})),nM=Be(pa,({one:e})=>({boleto:e(Vo,{fields:[pa.boletoId],references:[Vo.id]}),transaction:e(oe,{fields:[pa.transactionId],references:[oe.id]})})),oM=Be(Mu,({one:e})=>({user:e(H,{fields:[Mu.userId],references:[H.id]})})),iM=Be(Uu,({one:e})=>({user:e(H,{fields:[Uu.userId],references:[H.id]})})),aM=Be(Rr,({one:e})=>({user:e(H,{fields:[Rr.userId],references:[H.id]}),category:e(De,{fields:[Rr.categoryId],references:[De.id]})})),sM=Be(fa,({one:e})=>({user:e(H,{fields:[fa.userId],references:[H.id]}),category:e(De,{fields:[fa.categoryId],references:[De.id]})})),uM=Be(ha,({one:e})=>({user:e(H,{fields:[ha.userId],references:[H.id]}),category:e(De,{fields:[ha.categoryId],references:[De.id]})})),cM=Be(Ko,({one:e,many:t})=>({user:e(H,{fields:[Ko.userId],references:[H.id]}),messages:t(qu)})),lM=Be(qu,({one:e})=>({session:e(Ko,{fields:[qu.sessionId],references:[Ko.id]})})),dM=Be(Pi,({one:e,many:t})=>({user:e(H,{fields:[Pi.userId],references:[H.id]}),logs:t(ju)})),pM=Be(zu,({one:e})=>({user:e(H,{fields:[zu.userId],references:[H.id]})})),mM=Be(ju,({one:e})=>({notification:e(Pi,{fields:[ju.notificationId],references:[Pi.id]})})),fM=Be(la,({one:e})=>({user:e(H,{fields:[la.userId],references:[H.id]})})),hM=Be(fs,({one:e})=>({user:e(H,{fields:[fs.userId],references:[H.id]}),resolvedByUser:e(H,{fields:[fs.resolvedBy],references:[H.id],relationName:"resolvedByUser"})})),gM=Be(Ou,({one:e})=>({user:e(H,{fields:[Ou.userId],references:[H.id]})})),yM=Be(Au,({one:e})=>({user:e(H,{fields:[Au.userId],references:[H.id]})})),vM=Be(Cu,({one:e})=>({user:e(H,{fields:[Cu.userId],references:[H.id]})})),_M=Be(wn,({many:e})=>({consents:e(qt)})),bM=Be(qt,({one:e})=>({user:e(H,{fields:[qt.userId],references:[H.id]})})),SM=Be(Gf,()=>({})),wM=Be(tn,({one:e})=>({user:e(H,{fields:[tn.userId],references:[H.id]})})),xM=Be(_o,({one:e})=>({user:e(H,{fields:[_o.userId],references:[H.id]})})),TM=Be(Lr,({one:e})=>({user:e(H,{fields:[Lr.userId],references:[H.id]})})),EM=Be(xn,({one:e})=>({user:e(H,{fields:[xn.userId],references:[H.id]})})),kM=Be(Nu,({one:e})=>({user:e(H,{fields:[Nu.userId],references:[H.id]})})),PM=Be(en,({many:e})=>({subscriptions:e(je)})),IM=Be(je,({one:e,many:t})=>({user:e(H,{fields:[je.userId],references:[H.id]}),plan:e(en,{fields:[je.planId],references:[en.id]}),paymentHistory:t(yr)})),OM=Be(yr,({one:e})=>({user:e(H,{fields:[yr.userId],references:[H.id]}),subscription:e(je,{fields:[yr.subscriptionId],references:[je.id]})}))});var ys={};_n(ys,{accountBalanceHistory:()=>Ru,accountBalanceHistoryRelations:()=>BD,aiInsights:()=>Rr,aiInsightsRelations:()=>aM,alertRules:()=>zu,alertRulesRelations:()=>pM,auditLogs:()=>la,auditLogsRelations:()=>fM,bankAccounts:()=>ce,bankAccountsRelations:()=>FD,bankSyncLogs:()=>da,bankSyncLogsRelations:()=>JD,boletoPayments:()=>pa,boletoPaymentsRelations:()=>nM,boletoStatusEnum:()=>$D,boletos:()=>Vo,boletosRelations:()=>rM,budgetCategories:()=>ha,budgetCategoriesRelations:()=>uM,chatMessages:()=>qu,chatMessagesRelations:()=>lM,chatSessions:()=>Ko,chatSessionsRelations:()=>cM,collectionMethodEnum:()=>mE,commandIntents:()=>MD,complianceAuditLogs:()=>xn,complianceAuditLogsRelations:()=>EM,complianceEventTypeEnum:()=>bE,consentTemplates:()=>wn,consentTemplatesRelations:()=>_M,consentTypeEnum:()=>Kf,contactPaymentMethods:()=>$u,contactPaymentMethodsRelations:()=>tM,contacts:()=>$e,contactsRelations:()=>eM,dataDeletionRequests:()=>tn,dataDeletionRequestsRelations:()=>wM,dataExportRequests:()=>Cu,dataExportRequestsRelations:()=>vM,dataRetentionPolicies:()=>Gf,dataRetentionPoliciesRelations:()=>SM,deletionRequestStatusEnum:()=>hE,deletionRequestTypeEnum:()=>fE,errorLogs:()=>fs,errorLogsRelations:()=>hM,eventReminders:()=>ma,eventRemindersRelations:()=>WD,eventTypes:()=>gs,eventTypesRelations:()=>KD,exportFormatEnum:()=>yE,exportRequestTypeEnum:()=>gE,exportStatusEnum:()=>vE,financialEvents:()=>mt,financialEventsRelations:()=>GD,legalHolds:()=>Nu,legalHoldsRelations:()=>kM,lgpdConsentLogs:()=>Au,lgpdConsentLogsRelations:()=>yM,lgpdConsents:()=>qt,lgpdConsentsRelations:()=>bM,lgpdExportRequests:()=>_o,lgpdExportRequestsRelations:()=>xM,limitTypeEnum:()=>_E,notificationLogs:()=>ju,notificationLogsRelations:()=>mM,notifications:()=>Pi,notificationsRelations:()=>dM,paymentHistory:()=>yr,paymentHistoryRelations:()=>OM,paymentMethodTypeEnum:()=>ND,paymentStatusEnum:()=>cE,pixKeyTypeEnum:()=>zD,pixKeys:()=>Du,pixKeysRelations:()=>QD,pixQrCodes:()=>Ii,pixQrCodesRelations:()=>XD,pixTransactionStatusEnum:()=>jD,pixTransactionTypeEnum:()=>DD,pixTransactions:()=>Zo,pixTransactionsRelations:()=>YD,spendingPatterns:()=>fa,spendingPatternsRelations:()=>sM,subscriptionPlans:()=>en,subscriptionPlansRelations:()=>PM,subscriptionStatusEnum:()=>uE,subscriptions:()=>je,subscriptionsRelations:()=>IM,transactionCategories:()=>De,transactionCategoriesRelations:()=>HD,transactionLimits:()=>Lr,transactionLimitsRelations:()=>TM,transactionSchedules:()=>Gt,transactionSchedulesRelations:()=>ZD,transactions:()=>oe,transactionsRelations:()=>VD,userPreferences:()=>Sn,userPreferencesRelations:()=>UD,userSecurity:()=>ms,userSecurityRelations:()=>LD,userSessions:()=>Ou,userSessionsRelations:()=>gM,users:()=>H,usersRelations:()=>qD,voiceCommands:()=>Mu,voiceCommandsRelations:()=>oM,voiceTranscriptions:()=>Uu,voiceTranscriptionsRelations:()=>iM});var Fr=W(()=>{"use strict";sE();nd();od();lE();dE();pE();SE();wE();xE();hs();Cr();TE();AM()});var Xf={};_n(Xf,{adminDb:()=>See,closePool:()=>_ee,createHttpClient:()=>RM,createPoolClient:()=>vee,createUserScopedClient:()=>Qf,db:()=>So,getConnectionStats:()=>xee,getHttpClient:()=>vr,getOrganizationClient:()=>bee,getPoolClient:()=>bo,schema:()=>ys});var CM,IE,RM,EE,vr,vee,id,Wf,bo,_ee,bee,kE,So,PE,See,ga,wee,xee,Qf,rn=W(()=>{"use strict";Zl();AD();RD();Fr();CM=a(()=>{let e=process.env.DATABASE_URL;if(!e)throw new Error("DATABASE_URL environment variable is not set");return e},"getPooledDatabaseUrl"),IE=a(()=>{let e=process.env.DATABASE_URL_UNPOOLED;return e||(console.warn("DATABASE_URL_UNPOOLED not set, using DATABASE_URL as fallback"),CM())},"getDirectDatabaseUrl"),RM=a(()=>{let e=aa(CM());return Vf(e,{schema:ys})},"createHttpClient"),EE=null,vr=a(()=>(EE||(EE=RM()),EE),"getHttpClient"),vee=a(()=>{let e=new yo({connectionString:IE()});return Iu(e,{schema:ys})},"createPoolClient"),id=null,Wf=null,bo=a(()=>(Wf||(id=new yo({connectionString:IE()}),Wf=Iu(id,{schema:ys})),Wf),"getPoolClient"),_ee=a(async()=>{id&&(await id.end(),id=null,Wf=null)},"closePool"),bee=a(e=>bo(),"getOrganizationClient"),kE=null,So=new Proxy({},{get(e,t){if(typeof window<"u")throw new Error("Database client cannot be used in browser context");if(!kE){if(!process.env.DATABASE_URL)throw new Error("DATABASE_URL environment variable is not set");kE=vr()}return kE[t]}}),PE=null,See=new Proxy({},{get(e,t){if(typeof window<"u")throw new Error("Admin database client cannot be used in browser context");if(!PE){if(!(process.env.DATABASE_URL_UNPOOLED??process.env.DATABASE_URL))throw new Error("DATABASE_URL_UNPOOLED or DATABASE_URL environment variable is not set");PE=bo()}return PE[t]}}),ga=null,wee=a(()=>(ga||(ga=new yo({connectionString:IE(),connectionTimeoutMillis:15e3,idleTimeoutMillis:3e4,max:10}),console.log("[DB] Shared pool created with max 10 connections"),ga.on("error",e=>{console.error("[DB] Pool error:",e.message)})),ga),"getSharedPool"),xee=a(()=>ga?{totalCount:ga.totalCount,idleCount:ga.idleCount,waitingCount:ga.waitingCount,isInitialized:!0}:{totalCount:0,idleCount:0,waitingCount:0,isInitialized:!1},"getConnectionStats"),Qf=a(async e=>{if(!e||!/^user_[a-zA-Z0-9_]+$/.test(e))throw new Error(`Invalid user ID format: ${e}`);let t=3,r=500,n=null;for(let o=1;o<=t;o++)try{let i=wee(),s=Iu(i,{schema:ys});return await i.query("SELECT set_config('app.current_user_id', $1, true)",[e]),s}catch(i){if(n=i instanceof Error?i:new Error(String(i)),o===t||i instanceof Error&&i.message.includes("Invalid user ID"))throw n;console.warn(`[DB] Connection attempt ${o} failed, retrying...`,n.message),await new Promise(s=>setTimeout(s,r*o))}throw n||new Error("Failed to create user-scoped database client")},"createUserScopedClient")});var OE,vs,Yf=W(()=>{"use strict";OE={staticAssets:"public, max-age=31536000, immutable",htmlFiles:"no-cache, no-store, must-revalidate",apiResponses:"private, max-age=60",dynamicContent:"private, no-cache"},vs={NODE_ENV:"production",PORT:Number(process.env.PORT)||3e3,IS_DEVELOPMENT:!1,IS_PRODUCTION:!0,DATABASE_URL:process.env.DATABASE_URL||"",DATABASE_URL_UNPOOLED:process.env.DATABASE_URL_UNPOOLED||"",CLERK_PUBLISHABLE_KEY:process.env.VITE_CLERK_PUBLISHABLE_KEY||process.env.CLERK_PUBLISHABLE_KEY||"",CLERK_SECRET_KEY:process.env.CLERK_SECRET_KEY||"",API_URL:process.env.VITE_API_URL||process.env.API_URL||"http://localhost:3000",CORS_ORIGINS:(process.env.CORS_ORIGINS||"http://localhost:5173,http://localhost:3000").split(",")}});var jM={};_n(jM,{htmlCache:()=>Pee,staticAssetsCache:()=>kee});var kee,Pee,DM=W(()=>{"use strict";Yf();kee=a(()=>async(e,t)=>{e.header("Cache-Control",OE.staticAssets),await t()},"staticAssetsCache"),Pee=a(()=>async(e,t)=>{e.header("Cache-Control",OE.htmlFiles),e.header("Pragma","no-cache"),e.header("Expires","0"),await t()},"htmlCache")});var gq=M(dh=>{"use strict";Object.defineProperty(dh,"__esModule",{value:!0});dh.parse=vte;dh.serialize=_te;var pte=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,mte=/^[\u0021-\u003A\u003C-\u007E]*$/,fte=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,hte=/^[\u0020-\u003A\u003D-\u007E]*$/,gte=Object.prototype.toString,yte=(()=>{let e=a(function(){},"C");return e.prototype=Object.create(null),e})();function vte(e,t){let r=new yte,n=e.length;if(n<2)return r;let o=t?.decode||bte,i=0;do{let s=e.indexOf("=",i);if(s===-1)break;let u=e.indexOf(";",i),l=u===-1?n:u;if(s>l){i=e.lastIndexOf(";",s-1)+1;continue}let d=fq(e,i,s),p=hq(e,s,d),f=e.slice(d,p);if(r[f]===void 0){let m=fq(e,s+1,l),y=hq(e,l,m),g=o(e.slice(m,y));r[f]=g}i=l+1}while(i<n);return r}a(vte,"parse");function fq(e,t,r){do{let n=e.charCodeAt(t);if(n!==32&&n!==9)return t}while(++t<r);return r}a(fq,"startIndex");function hq(e,t,r){for(;t>r;){let n=e.charCodeAt(--t);if(n!==32&&n!==9)return t+1}return r}a(hq,"endIndex");function _te(e,t,r){let n=r?.encode||encodeURIComponent;if(!pte.test(e))throw new TypeError(`argument name is invalid: ${e}`);let o=n(t);if(!mte.test(o))throw new TypeError(`argument val is invalid: ${t}`);let i=e+"="+o;if(!r)return i;if(r.maxAge!==void 0){if(!Number.isInteger(r.maxAge))throw new TypeError(`option maxAge is invalid: ${r.maxAge}`);i+="; Max-Age="+r.maxAge}if(r.domain){if(!fte.test(r.domain))throw new TypeError(`option domain is invalid: ${r.domain}`);i+="; Domain="+r.domain}if(r.path){if(!hte.test(r.path))throw new TypeError(`option path is invalid: ${r.path}`);i+="; Path="+r.path}if(r.expires){if(!Ste(r.expires)||!Number.isFinite(r.expires.valueOf()))throw new TypeError(`option expires is invalid: ${r.expires}`);i+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.partitioned&&(i+="; Partitioned"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():void 0){case"low":i+="; Priority=Low";break;case"medium":i+="; Priority=Medium";break;case"high":i+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${r.priority}`)}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"none":i+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${r.sameSite}`)}return i}a(_te,"serialize");function bte(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}a(bte,"decode");function Ste(e){return gte.call(e)==="[object Date]"}a(Ste,"isDate")});var Ag=M((w3e,sc)=>{"use strict";var vce=typeof Buffer<"u",KL=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,GL=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function WL(e,t,r){r==null&&t!==null&&typeof t=="object"&&(r=t,t=void 0),vce&&Buffer.isBuffer(e)&&(e=e.toString()),e&&e.charCodeAt(0)===65279&&(e=e.slice(1));let n=JSON.parse(e,t);if(n===null||typeof n!="object")return n;let o=r&&r.protoAction||"error",i=r&&r.constructorAction||"error";if(o==="ignore"&&i==="ignore")return n;if(o!=="ignore"&&i!=="ignore"){if(KL.test(e)===!1&&GL.test(e)===!1)return n}else if(o!=="ignore"&&i==="ignore"){if(KL.test(e)===!1)return n}else if(GL.test(e)===!1)return n;return QL(n,{protoAction:o,constructorAction:i,safe:r&&r.safe})}a(WL,"_parse");function QL(e,{protoAction:t="error",constructorAction:r="error",safe:n}={}){let o=[e];for(;o.length;){let i=o;o=[];for(let s of i){if(t!=="ignore"&&Object.prototype.hasOwnProperty.call(s,"__proto__")){if(n===!0)return null;if(t==="error")throw new SyntaxError("Object contains forbidden prototype property");delete s.__proto__}if(r!=="ignore"&&Object.prototype.hasOwnProperty.call(s,"constructor")&&Object.prototype.hasOwnProperty.call(s.constructor,"prototype")){if(n===!0)return null;if(r==="error")throw new SyntaxError("Object contains forbidden prototype property");delete s.constructor}for(let u in s){let l=s[u];l&&typeof l=="object"&&o.push(l)}}}return e}a(QL,"filter");function SC(e,t,r){let n=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return WL(e,t,r)}finally{Error.stackTraceLimit=n}}a(SC,"parse");function _ce(e,t){let r=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return WL(e,t,{safe:!0})}catch{return null}finally{Error.stackTraceLimit=r}}a(_ce,"safeParse");sc.exports=SC;sc.exports.default=SC;sc.exports.parse=SC;sc.exports.safeParse=_ce;sc.exports.scan=QL});var Cs=M((Ltt,MJ)=>{"use strict";MJ.exports=TypeError});var UJ=M((Ftt,qJ)=>{qJ.exports=cX("util").inspect});var Gp=M((Btt,a5)=>{var iR=typeof Map=="function"&&Map.prototype,W1=Object.getOwnPropertyDescriptor&&iR?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,py=iR&&W1&&typeof W1.get=="function"?W1.get:null,LJ=iR&&Map.prototype.forEach,aR=typeof Set=="function"&&Set.prototype,Q1=Object.getOwnPropertyDescriptor&&aR?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,my=aR&&Q1&&typeof Q1.get=="function"?Q1.get:null,FJ=aR&&Set.prototype.forEach,j_e=typeof WeakMap=="function"&&WeakMap.prototype,Vp=j_e?WeakMap.prototype.has:null,D_e=typeof WeakSet=="function"&&WeakSet.prototype,Zp=D_e?WeakSet.prototype.has:null,M_e=typeof WeakRef=="function"&&WeakRef.prototype,BJ=M_e?WeakRef.prototype.deref:null,q_e=Boolean.prototype.valueOf,U_e=Object.prototype.toString,L_e=Function.prototype.toString,F_e=String.prototype.match,sR=String.prototype.slice,Fa=String.prototype.replace,B_e=String.prototype.toUpperCase,JJ=String.prototype.toLowerCase,YJ=RegExp.prototype.test,HJ=Array.prototype.concat,oi=Array.prototype.join,J_e=Array.prototype.slice,VJ=Math.floor,eR=typeof BigInt=="function"?BigInt.prototype.valueOf:null,X1=Object.getOwnPropertySymbols,tR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Kp=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Rc||!0)?Symbol.toStringTag:null,e5=Object.prototype.propertyIsEnumerable,ZJ=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function KJ(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||YJ.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var n=e<0?-VJ(-e):VJ(e);if(n!==e){var o=String(n),i=sR.call(t,o.length+1);return Fa.call(o,r,"$&_")+"."+Fa.call(Fa.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Fa.call(t,r,"$&_")}a(KJ,"addNumericSeparator");var rR=UJ(),GJ=rR.custom,WJ=n5(GJ)?GJ:null,t5={__proto__:null,double:'"',single:"'"},H_e={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};a5.exports=a(function e(t,r,n,o){var i=r||{};if(Ji(i,"quoteStyle")&&!Ji(t5,i.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Ji(i,"maxStringLength")&&(typeof i.maxStringLength=="number"?i.maxStringLength<0&&i.maxStringLength!==1/0:i.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=Ji(i,"customInspect")?i.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Ji(i,"indent")&&i.indent!==null&&i.indent!=="	"&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Ji(i,"numericSeparator")&&typeof i.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var u=i.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return i5(t,i);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var l=String(t);return u?KJ(t,l):l}if(typeof t=="bigint"){var d=String(t)+"n";return u?KJ(t,d):d}var p=typeof i.depth>"u"?5:i.depth;if(typeof n>"u"&&(n=0),n>=p&&p>0&&typeof t=="object")return nR(t)?"[Array]":"[Object]";var f=cbe(i,n);if(typeof o>"u")o=[];else if(o5(o,t)>=0)return"[Circular]";function m(G,B,te){if(B&&(o=J_e.call(o),o.push(B)),te){var ne={depth:i.depth};return Ji(i,"quoteStyle")&&(ne.quoteStyle=i.quoteStyle),e(G,ne,n+1,o)}return e(G,i,n+1,o)}if(a(m,"inspect"),typeof t=="function"&&!QJ(t)){var y=ebe(t),g=dy(t,m);return"[Function"+(y?": "+y:" (anonymous)")+"]"+(g.length>0?" { "+oi.call(g,", ")+" }":"")}if(n5(t)){var h=Rc?Fa.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):tR.call(t);return typeof t=="object"&&!Rc?Hp(h):h}if(abe(t)){for(var v="<"+JJ.call(String(t.nodeName)),S=t.attributes||[],b=0;b<S.length;b++)v+=" "+S[b].name+"="+r5(V_e(S[b].value),"double",i);return v+=">",t.childNodes&&t.childNodes.length&&(v+="..."),v+="</"+JJ.call(String(t.nodeName))+">",v}if(nR(t)){if(t.length===0)return"[]";var w=dy(t,m);return f&&!ube(w)?"["+oR(w,f)+"]":"[ "+oi.call(w,", ")+" ]"}if(K_e(t)){var k=dy(t,m);return!("cause"in Error.prototype)&&"cause"in t&&!e5.call(t,"cause")?"{ ["+String(t)+"] "+oi.call(HJ.call("[cause]: "+m(t.cause),k),", ")+" }":k.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+oi.call(k,", ")+" }"}if(typeof t=="object"&&s){if(WJ&&typeof t[WJ]=="function"&&rR)return rR(t,{depth:p-n});if(s!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(tbe(t)){var $=[];return LJ&&LJ.call(t,function(G,B){$.push(m(B,t,!0)+" => "+m(G,t))}),XJ("Map",py.call(t),$,f)}if(obe(t)){var C=[];return FJ&&FJ.call(t,function(G){C.push(m(G,t))}),XJ("Set",my.call(t),C,f)}if(rbe(t))return Y1("WeakMap");if(ibe(t))return Y1("WeakSet");if(nbe(t))return Y1("WeakRef");if(W_e(t))return Hp(m(Number(t)));if(X_e(t))return Hp(m(eR.call(t)));if(Q_e(t))return Hp(q_e.call(t));if(G_e(t))return Hp(m(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(typeof globalThis<"u"&&t===globalThis||typeof global<"u"&&t===global)return"{ [object globalThis] }";if(!Z_e(t)&&!QJ(t)){var A=dy(t,m),R=ZJ?ZJ(t)===Object.prototype:t instanceof Object||t.constructor===Object,O=t instanceof Object?"":"null prototype",z=!R&&Kp&&Object(t)===t&&Kp in t?sR.call(Ba(t),8,-1):O?"Object":"",D=R||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",X=D+(z||O?"["+oi.call(HJ.call([],z||[],O||[]),": ")+"] ":"");return A.length===0?X+"{}":f?X+"{"+oR(A,f)+"}":X+"{ "+oi.call(A,", ")+" }"}return String(t)},"inspect_");function r5(e,t,r){var n=r.quoteStyle||t,o=t5[n];return o+e+o}a(r5,"wrapQuotes");function V_e(e){return Fa.call(String(e),/"/g,"&quot;")}a(V_e,"quote");function Rs(e){return!Kp||!(typeof e=="object"&&(Kp in e||typeof e[Kp]<"u"))}a(Rs,"canTrustToString");function nR(e){return Ba(e)==="[object Array]"&&Rs(e)}a(nR,"isArray");function Z_e(e){return Ba(e)==="[object Date]"&&Rs(e)}a(Z_e,"isDate");function QJ(e){return Ba(e)==="[object RegExp]"&&Rs(e)}a(QJ,"isRegExp");function K_e(e){return Ba(e)==="[object Error]"&&Rs(e)}a(K_e,"isError");function G_e(e){return Ba(e)==="[object String]"&&Rs(e)}a(G_e,"isString");function W_e(e){return Ba(e)==="[object Number]"&&Rs(e)}a(W_e,"isNumber");function Q_e(e){return Ba(e)==="[object Boolean]"&&Rs(e)}a(Q_e,"isBoolean");function n5(e){if(Rc)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!tR)return!1;try{return tR.call(e),!0}catch{}return!1}a(n5,"isSymbol");function X_e(e){if(!e||typeof e!="object"||!eR)return!1;try{return eR.call(e),!0}catch{}return!1}a(X_e,"isBigInt");var Y_e=Object.prototype.hasOwnProperty||function(e){return e in this};function Ji(e,t){return Y_e.call(e,t)}a(Ji,"has");function Ba(e){return U_e.call(e)}a(Ba,"toStr");function ebe(e){if(e.name)return e.name;var t=F_e.call(L_e.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}a(ebe,"nameOf");function o5(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}a(o5,"indexOf");function tbe(e){if(!py||!e||typeof e!="object")return!1;try{py.call(e);try{my.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}a(tbe,"isMap");function rbe(e){if(!Vp||!e||typeof e!="object")return!1;try{Vp.call(e,Vp);try{Zp.call(e,Zp)}catch{return!0}return e instanceof WeakMap}catch{}return!1}a(rbe,"isWeakMap");function nbe(e){if(!BJ||!e||typeof e!="object")return!1;try{return BJ.call(e),!0}catch{}return!1}a(nbe,"isWeakRef");function obe(e){if(!my||!e||typeof e!="object")return!1;try{my.call(e);try{py.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}a(obe,"isSet");function ibe(e){if(!Zp||!e||typeof e!="object")return!1;try{Zp.call(e,Zp);try{Vp.call(e,Vp)}catch{return!0}return e instanceof WeakSet}catch{}return!1}a(ibe,"isWeakSet");function abe(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}a(abe,"isElement");function i5(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return i5(sR.call(e,0,t.maxStringLength),t)+n}var o=H_e[t.quoteStyle||"single"];o.lastIndex=0;var i=Fa.call(Fa.call(e,o,"\\$1"),/[\x00-\x1f]/g,sbe);return r5(i,"single",t)}a(i5,"inspectString");function sbe(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+B_e.call(t.toString(16))}a(sbe,"lowbyte");function Hp(e){return"Object("+e+")"}a(Hp,"markBoxed");function Y1(e){return e+" { ? }"}a(Y1,"weakCollectionOf");function XJ(e,t,r,n){var o=n?oR(r,n):oi.call(r,", ");return e+" ("+t+") {"+o+"}"}a(XJ,"collectionOf");function ube(e){for(var t=0;t<e.length;t++)if(o5(e[t],`
`)>=0)return!1;return!0}a(ube,"singleLineValues");function cbe(e,t){var r;if(e.indent==="	")r="	";else if(typeof e.indent=="number"&&e.indent>0)r=oi.call(Array(e.indent+1)," ");else return null;return{base:r,prev:oi.call(Array(t+1),r)}}a(cbe,"getIndent");function oR(e,t){if(e.length===0)return"";var r=`
`+t.prev+t.base;return r+oi.call(e,","+r)+`
`+t.prev}a(oR,"indentedJoin");function dy(e,t){var r=nR(e),n=[];if(r){n.length=e.length;for(var o=0;o<e.length;o++)n[o]=Ji(e,o)?t(e[o],e):""}var i=typeof X1=="function"?X1(e):[],s;if(Rc){s={};for(var u=0;u<i.length;u++)s["$"+i[u]]=i[u]}for(var l in e)Ji(e,l)&&(r&&String(Number(l))===l&&l<e.length||Rc&&s["$"+l]instanceof Symbol||(YJ.call(/[^\w$]/,l)?n.push(t(l,e)+": "+t(e[l],e)):n.push(l+": "+t(e[l],e))));if(typeof X1=="function")for(var d=0;d<i.length;d++)e5.call(e,i[d])&&n.push("["+t(i[d])+"]: "+t(e[i[d]],e));return n}a(dy,"arrObjKeys")});var u5=M((Htt,s5)=>{"use strict";var lbe=Gp(),dbe=Cs(),fy=a(function(e,t,r){for(var n=e,o;(o=n.next)!=null;n=o)if(o.key===t)return n.next=o.next,r||(o.next=e.next,e.next=o),o},"listGetNode"),pbe=a(function(e,t){if(e){var r=fy(e,t);return r&&r.value}},"listGet"),mbe=a(function(e,t,r){var n=fy(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}},"listSet"),fbe=a(function(e,t){return e?!!fy(e,t):!1},"listHas"),hbe=a(function(e,t){if(e)return fy(e,t,!0)},"listDelete");s5.exports=a(function(){var t,r={assert:a(function(n){if(!r.has(n))throw new dbe("Side channel does not contain "+lbe(n))},"assert"),delete:a(function(n){var o=t&&t.next,i=hbe(t,n);return i&&o&&o===i&&(t=void 0),!!i},"delete"),get:a(function(n){return pbe(t,n)},"get"),has:a(function(n){return fbe(t,n)},"has"),set:a(function(n,o){t||(t={next:void 0}),mbe(t,n,o)},"set")};return r},"getSideChannelList")});var uR=M((Ztt,c5)=>{"use strict";c5.exports=Object});var d5=M((Ktt,l5)=>{"use strict";l5.exports=Error});var m5=M((Gtt,p5)=>{"use strict";p5.exports=EvalError});var h5=M((Wtt,f5)=>{"use strict";f5.exports=RangeError});var y5=M((Qtt,g5)=>{"use strict";g5.exports=ReferenceError});var _5=M((Xtt,v5)=>{"use strict";v5.exports=SyntaxError});var S5=M((Ytt,b5)=>{"use strict";b5.exports=URIError});var x5=M((ert,w5)=>{"use strict";w5.exports=Math.abs});var E5=M((trt,T5)=>{"use strict";T5.exports=Math.floor});var P5=M((rrt,k5)=>{"use strict";k5.exports=Math.max});var O5=M((nrt,I5)=>{"use strict";I5.exports=Math.min});var C5=M((ort,A5)=>{"use strict";A5.exports=Math.pow});var $5=M((irt,R5)=>{"use strict";R5.exports=Math.round});var z5=M((art,N5)=>{"use strict";N5.exports=Number.isNaN||a(function(t){return t!==t},"isNaN")});var D5=M((urt,j5)=>{"use strict";var gbe=z5();j5.exports=a(function(t){return gbe(t)||t===0?t:t<0?-1:1},"sign")});var q5=M((lrt,M5)=>{"use strict";M5.exports=Object.getOwnPropertyDescriptor});var cR=M((drt,U5)=>{"use strict";var hy=q5();if(hy)try{hy([],"length")}catch{hy=null}U5.exports=hy});var F5=M((prt,L5)=>{"use strict";var gy=Object.defineProperty||!1;if(gy)try{gy({},"a",{value:1})}catch{gy=!1}L5.exports=gy});var J5=M((mrt,B5)=>{"use strict";B5.exports=a(function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var o=42;t[r]=o;for(var i in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var s=Object.getOwnPropertySymbols(t);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var u=Object.getOwnPropertyDescriptor(t,r);if(u.value!==o||u.enumerable!==!0)return!1}return!0},"hasSymbols")});var Z5=M((hrt,V5)=>{"use strict";var H5=typeof Symbol<"u"&&Symbol,ybe=J5();V5.exports=a(function(){return typeof H5!="function"||typeof Symbol!="function"||typeof H5("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:ybe()},"hasNativeSymbols")});var lR=M((yrt,K5)=>{"use strict";K5.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null});var dR=M((vrt,G5)=>{"use strict";var vbe=uR();G5.exports=vbe.getPrototypeOf||null});var X5=M((_rt,Q5)=>{"use strict";var _be="Function.prototype.bind called on incompatible ",bbe=Object.prototype.toString,Sbe=Math.max,wbe="[object Function]",W5=a(function(t,r){for(var n=[],o=0;o<t.length;o+=1)n[o]=t[o];for(var i=0;i<r.length;i+=1)n[i+t.length]=r[i];return n},"concatty"),xbe=a(function(t,r){for(var n=[],o=r||0,i=0;o<t.length;o+=1,i+=1)n[i]=t[o];return n},"slicy"),Tbe=a(function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r},"joiny");Q5.exports=a(function(t){var r=this;if(typeof r!="function"||bbe.apply(r)!==wbe)throw new TypeError(_be+r);for(var n=xbe(arguments,1),o,i=a(function(){if(this instanceof o){var p=r.apply(this,W5(n,arguments));return Object(p)===p?p:this}return r.apply(t,W5(n,arguments))},"binder"),s=Sbe(0,r.length-n.length),u=[],l=0;l<s;l++)u[l]="$"+l;if(o=Function("binder","return function ("+Tbe(u,",")+"){ return binder.apply(this,arguments); }")(i),r.prototype){var d=a(function(){},"Empty");d.prototype=r.prototype,o.prototype=new d,d.prototype=null}return o},"bind")});var Wp=M((Srt,Y5)=>{"use strict";var Ebe=X5();Y5.exports=Function.prototype.bind||Ebe});var yy=M((wrt,eH)=>{"use strict";eH.exports=Function.prototype.call});var pR=M((xrt,tH)=>{"use strict";tH.exports=Function.prototype.apply});var nH=M((Trt,rH)=>{"use strict";rH.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply});var iH=M((Ert,oH)=>{"use strict";var kbe=Wp(),Pbe=pR(),Ibe=yy(),Obe=nH();oH.exports=Obe||kbe.call(Ibe,Pbe)});var mR=M((krt,aH)=>{"use strict";var Abe=Wp(),Cbe=Cs(),Rbe=yy(),$be=iH();aH.exports=a(function(t){if(t.length<1||typeof t[0]!="function")throw new Cbe("a function is required");return $be(Abe,Rbe,t)},"callBindBasic")});var pH=M((Irt,dH)=>{"use strict";var Nbe=mR(),sH=cR(),cH;try{cH=[].__proto__===Array.prototype}catch(e){if(!e||typeof e!="object"||!("code"in e)||e.code!=="ERR_PROTO_ACCESS")throw e}var fR=!!cH&&sH&&sH(Object.prototype,"__proto__"),lH=Object,uH=lH.getPrototypeOf;dH.exports=fR&&typeof fR.get=="function"?Nbe([fR.get]):typeof uH=="function"?a(function(t){return uH(t==null?t:lH(t))},"getDunder"):!1});var yH=M((Art,gH)=>{"use strict";var mH=lR(),fH=dR(),hH=pH();gH.exports=mH?a(function(t){return mH(t)},"getProto"):fH?a(function(t){if(!t||typeof t!="object"&&typeof t!="function")throw new TypeError("getProto: not an object");return fH(t)},"getProto"):hH?a(function(t){return hH(t)},"getProto"):null});var _H=M((Rrt,vH)=>{"use strict";var zbe=Function.prototype.call,jbe=Object.prototype.hasOwnProperty,Dbe=Wp();vH.exports=Dbe.call(zbe,jbe)});var by=M(($rt,EH)=>{"use strict";var pt,Mbe=uR(),qbe=d5(),Ube=m5(),Lbe=h5(),Fbe=y5(),jc=_5(),zc=Cs(),Bbe=S5(),Jbe=x5(),Hbe=E5(),Vbe=P5(),Zbe=O5(),Kbe=C5(),Gbe=$5(),Wbe=D5(),xH=Function,hR=a(function(e){try{return xH('"use strict"; return ('+e+").constructor;")()}catch{}},"getEvalledConstructor"),Qp=cR(),Qbe=F5(),gR=a(function(){throw new zc},"throwTypeError"),Xbe=Qp?(function(){try{return arguments.callee,gR}catch{try{return Qp(arguments,"callee").get}catch{return gR}}})():gR,$c=Z5()(),Nr=yH(),Ybe=dR(),eSe=lR(),TH=pR(),Xp=yy(),Nc={},tSe=typeof Uint8Array>"u"||!Nr?pt:Nr(Uint8Array),$s={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?pt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?pt:ArrayBuffer,"%ArrayIteratorPrototype%":$c&&Nr?Nr([][Symbol.iterator]()):pt,"%AsyncFromSyncIteratorPrototype%":pt,"%AsyncFunction%":Nc,"%AsyncGenerator%":Nc,"%AsyncGeneratorFunction%":Nc,"%AsyncIteratorPrototype%":Nc,"%Atomics%":typeof Atomics>"u"?pt:Atomics,"%BigInt%":typeof BigInt>"u"?pt:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?pt:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?pt:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?pt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":qbe,"%eval%":eval,"%EvalError%":Ube,"%Float16Array%":typeof Float16Array>"u"?pt:Float16Array,"%Float32Array%":typeof Float32Array>"u"?pt:Float32Array,"%Float64Array%":typeof Float64Array>"u"?pt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?pt:FinalizationRegistry,"%Function%":xH,"%GeneratorFunction%":Nc,"%Int8Array%":typeof Int8Array>"u"?pt:Int8Array,"%Int16Array%":typeof Int16Array>"u"?pt:Int16Array,"%Int32Array%":typeof Int32Array>"u"?pt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":$c&&Nr?Nr(Nr([][Symbol.iterator]())):pt,"%JSON%":typeof JSON=="object"?JSON:pt,"%Map%":typeof Map>"u"?pt:Map,"%MapIteratorPrototype%":typeof Map>"u"||!$c||!Nr?pt:Nr(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Mbe,"%Object.getOwnPropertyDescriptor%":Qp,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?pt:Promise,"%Proxy%":typeof Proxy>"u"?pt:Proxy,"%RangeError%":Lbe,"%ReferenceError%":Fbe,"%Reflect%":typeof Reflect>"u"?pt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?pt:Set,"%SetIteratorPrototype%":typeof Set>"u"||!$c||!Nr?pt:Nr(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?pt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":$c&&Nr?Nr(""[Symbol.iterator]()):pt,"%Symbol%":$c?Symbol:pt,"%SyntaxError%":jc,"%ThrowTypeError%":Xbe,"%TypedArray%":tSe,"%TypeError%":zc,"%Uint8Array%":typeof Uint8Array>"u"?pt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?pt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?pt:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?pt:Uint32Array,"%URIError%":Bbe,"%WeakMap%":typeof WeakMap>"u"?pt:WeakMap,"%WeakRef%":typeof WeakRef>"u"?pt:WeakRef,"%WeakSet%":typeof WeakSet>"u"?pt:WeakSet,"%Function.prototype.call%":Xp,"%Function.prototype.apply%":TH,"%Object.defineProperty%":Qbe,"%Object.getPrototypeOf%":Ybe,"%Math.abs%":Jbe,"%Math.floor%":Hbe,"%Math.max%":Vbe,"%Math.min%":Zbe,"%Math.pow%":Kbe,"%Math.round%":Gbe,"%Math.sign%":Wbe,"%Reflect.getPrototypeOf%":eSe};if(Nr)try{null.error}catch(e){bH=Nr(Nr(e)),$s["%Error.prototype%"]=bH}var bH,rSe=a(function e(t){var r;if(t==="%AsyncFunction%")r=hR("async function () {}");else if(t==="%GeneratorFunction%")r=hR("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=hR("async function* () {}");else if(t==="%AsyncGenerator%"){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var o=e("%AsyncGenerator%");o&&Nr&&(r=Nr(o.prototype))}return $s[t]=r,r},"doEval"),SH={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Yp=Wp(),vy=_H(),nSe=Yp.call(Xp,Array.prototype.concat),oSe=Yp.call(TH,Array.prototype.splice),wH=Yp.call(Xp,String.prototype.replace),_y=Yp.call(Xp,String.prototype.slice),iSe=Yp.call(Xp,RegExp.prototype.exec),aSe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,sSe=/\\(\\)?/g,uSe=a(function(t){var r=_y(t,0,1),n=_y(t,-1);if(r==="%"&&n!=="%")throw new jc("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new jc("invalid intrinsic syntax, expected opening `%`");var o=[];return wH(t,aSe,function(i,s,u,l){o[o.length]=u?wH(l,sSe,"$1"):s||i}),o},"stringToPath"),cSe=a(function(t,r){var n=t,o;if(vy(SH,n)&&(o=SH[n],n="%"+o[0]+"%"),vy($s,n)){var i=$s[n];if(i===Nc&&(i=rSe(n)),typeof i>"u"&&!r)throw new zc("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:o,name:n,value:i}}throw new jc("intrinsic "+t+" does not exist!")},"getBaseIntrinsic");EH.exports=a(function(t,r){if(typeof t!="string"||t.length===0)throw new zc("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new zc('"allowMissing" argument must be a boolean');if(iSe(/^%?[^%]*%?$/,t)===null)throw new jc("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=uSe(t),o=n.length>0?n[0]:"",i=cSe("%"+o+"%",r),s=i.name,u=i.value,l=!1,d=i.alias;d&&(o=d[0],oSe(n,nSe([0,1],d)));for(var p=1,f=!0;p<n.length;p+=1){var m=n[p],y=_y(m,0,1),g=_y(m,-1);if((y==='"'||y==="'"||y==="`"||g==='"'||g==="'"||g==="`")&&y!==g)throw new jc("property names with quotes must have matching quotes");if((m==="constructor"||!f)&&(l=!0),o+="."+m,s="%"+o+"%",vy($s,s))u=$s[s];else if(u!=null){if(!(m in u)){if(!r)throw new zc("base intrinsic for "+t+" exists, but the property is not available.");return}if(Qp&&p+1>=n.length){var h=Qp(u,m);f=!!h,f&&"get"in h&&!("originalValue"in h.get)?u=h.get:u=u[m]}else f=vy(u,m),u=u[m];f&&!l&&($s[s]=u)}}return u},"GetIntrinsic")});var yR=M((zrt,IH)=>{"use strict";var kH=by(),PH=mR(),lSe=PH([kH("%String.prototype.indexOf%")]);IH.exports=a(function(t,r){var n=kH(t,!!r);return typeof n=="function"&&lSe(t,".prototype.")>-1?PH([n]):n},"callBoundIntrinsic")});var vR=M((Drt,AH)=>{"use strict";var dSe=by(),em=yR(),pSe=Gp(),mSe=Cs(),OH=dSe("%Map%",!0),fSe=em("Map.prototype.get",!0),hSe=em("Map.prototype.set",!0),gSe=em("Map.prototype.has",!0),ySe=em("Map.prototype.delete",!0),vSe=em("Map.prototype.size",!0);AH.exports=!!OH&&a(function(){var t,r={assert:a(function(n){if(!r.has(n))throw new mSe("Side channel does not contain "+pSe(n))},"assert"),delete:a(function(n){if(t){var o=ySe(t,n);return vSe(t)===0&&(t=void 0),o}return!1},"delete"),get:a(function(n){if(t)return fSe(t,n)},"get"),has:a(function(n){return t?gSe(t,n):!1},"has"),set:a(function(n,o){t||(t=new OH),hSe(t,n,o)},"set")};return r},"getSideChannelMap")});var RH=M((qrt,CH)=>{"use strict";var _Se=by(),wy=yR(),bSe=Gp(),Sy=vR(),SSe=Cs(),Dc=_Se("%WeakMap%",!0),wSe=wy("WeakMap.prototype.get",!0),xSe=wy("WeakMap.prototype.set",!0),TSe=wy("WeakMap.prototype.has",!0),ESe=wy("WeakMap.prototype.delete",!0);CH.exports=Dc?a(function(){var t,r,n={assert:a(function(o){if(!n.has(o))throw new SSe("Side channel does not contain "+bSe(o))},"assert"),delete:a(function(o){if(Dc&&o&&(typeof o=="object"||typeof o=="function")){if(t)return ESe(t,o)}else if(Sy&&r)return r.delete(o);return!1},"delete"),get:a(function(o){return Dc&&o&&(typeof o=="object"||typeof o=="function")&&t?wSe(t,o):r&&r.get(o)},"get"),has:a(function(o){return Dc&&o&&(typeof o=="object"||typeof o=="function")&&t?TSe(t,o):!!r&&r.has(o)},"has"),set:a(function(o,i){Dc&&o&&(typeof o=="object"||typeof o=="function")?(t||(t=new Dc),xSe(t,o,i)):Sy&&(r||(r=Sy()),r.set(o,i))},"set")};return n},"getSideChannelWeakMap"):Sy});var NH=M((Lrt,$H)=>{"use strict";var kSe=Cs(),PSe=Gp(),ISe=u5(),OSe=vR(),ASe=RH(),CSe=ASe||OSe||ISe;$H.exports=a(function(){var t,r={assert:a(function(n){if(!r.has(n))throw new kSe("Side channel does not contain "+PSe(n))},"assert"),delete:a(function(n){return!!t&&t.delete(n)},"delete"),get:a(function(n){return t&&t.get(n)},"get"),has:a(function(n){return!!t&&t.has(n)},"has"),set:a(function(n,o){t||(t=CSe()),t.set(n,o)},"set")};return r},"getSideChannel")});var xy=M((Brt,zH)=>{"use strict";var RSe=String.prototype.replace,$Se=/%20/g,_R={RFC1738:"RFC1738",RFC3986:"RFC3986"};zH.exports={default:_R.RFC3986,formatters:{RFC1738:a(function(e){return RSe.call(e,$Se,"+")},"RFC1738"),RFC3986:a(function(e){return String(e)},"RFC3986")},RFC1738:_R.RFC1738,RFC3986:_R.RFC3986}});var wR=M((Hrt,DH)=>{"use strict";var NSe=xy(),bR=Object.prototype.hasOwnProperty,Ns=Array.isArray,ii=(function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),zSe=a(function(t){for(;t.length>1;){var r=t.pop(),n=r.obj[r.prop];if(Ns(n)){for(var o=[],i=0;i<n.length;++i)typeof n[i]<"u"&&o.push(n[i]);r.obj[r.prop]=o}}},"compactQueue"),jH=a(function(t,r){for(var n=r&&r.plainObjects?{__proto__:null}:{},o=0;o<t.length;++o)typeof t[o]<"u"&&(n[o]=t[o]);return n},"arrayToObject"),jSe=a(function e(t,r,n){if(!r)return t;if(typeof r!="object"&&typeof r!="function"){if(Ns(t))t.push(r);else if(t&&typeof t=="object")(n&&(n.plainObjects||n.allowPrototypes)||!bR.call(Object.prototype,r))&&(t[r]=!0);else return[t,r];return t}if(!t||typeof t!="object")return[t].concat(r);var o=t;return Ns(t)&&!Ns(r)&&(o=jH(t,n)),Ns(t)&&Ns(r)?(r.forEach(function(i,s){if(bR.call(t,s)){var u=t[s];u&&typeof u=="object"&&i&&typeof i=="object"?t[s]=e(u,i,n):t.push(i)}else t[s]=i}),t):Object.keys(r).reduce(function(i,s){var u=r[s];return bR.call(i,s)?i[s]=e(i[s],u,n):i[s]=u,i},o)},"merge"),DSe=a(function(t,r){return Object.keys(r).reduce(function(n,o){return n[o]=r[o],n},t)},"assignSingleSource"),MSe=a(function(e,t,r){var n=e.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},"decode"),SR=1024,qSe=a(function(t,r,n,o,i){if(t.length===0)return t;var s=t;if(typeof t=="symbol"?s=Symbol.prototype.toString.call(t):typeof t!="string"&&(s=String(t)),n==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(y){return"%26%23"+parseInt(y.slice(2),16)+"%3B"});for(var u="",l=0;l<s.length;l+=SR){for(var d=s.length>=SR?s.slice(l,l+SR):s,p=[],f=0;f<d.length;++f){var m=d.charCodeAt(f);if(m===45||m===46||m===95||m===126||m>=48&&m<=57||m>=65&&m<=90||m>=97&&m<=122||i===NSe.RFC1738&&(m===40||m===41)){p[p.length]=d.charAt(f);continue}if(m<128){p[p.length]=ii[m];continue}if(m<2048){p[p.length]=ii[192|m>>6]+ii[128|m&63];continue}if(m<55296||m>=57344){p[p.length]=ii[224|m>>12]+ii[128|m>>6&63]+ii[128|m&63];continue}f+=1,m=65536+((m&1023)<<10|d.charCodeAt(f)&1023),p[p.length]=ii[240|m>>18]+ii[128|m>>12&63]+ii[128|m>>6&63]+ii[128|m&63]}u+=p.join("")}return u},"encode"),USe=a(function(t){for(var r=[{obj:{o:t},prop:"o"}],n=[],o=0;o<r.length;++o)for(var i=r[o],s=i.obj[i.prop],u=Object.keys(s),l=0;l<u.length;++l){var d=u[l],p=s[d];typeof p=="object"&&p!==null&&n.indexOf(p)===-1&&(r.push({obj:s,prop:d}),n.push(p))}return zSe(r),t},"compact"),LSe=a(function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},"isRegExp"),FSe=a(function(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},"isBuffer"),BSe=a(function(t,r){return[].concat(t,r)},"combine"),JSe=a(function(t,r){if(Ns(t)){for(var n=[],o=0;o<t.length;o+=1)n.push(r(t[o]));return n}return r(t)},"maybeMap");DH.exports={arrayToObject:jH,assign:DSe,combine:BSe,compact:USe,decode:MSe,encode:qSe,isBuffer:FSe,isRegExp:LSe,maybeMap:JSe,merge:jSe}});var BH=M((Zrt,FH)=>{"use strict";var qH=NH(),Ty=wR(),tm=xy(),HSe=Object.prototype.hasOwnProperty,UH={brackets:a(function(t){return t+"[]"},"brackets"),comma:"comma",indices:a(function(t,r){return t+"["+r+"]"},"indices"),repeat:a(function(t){return t},"repeat")},ai=Array.isArray,VSe=Array.prototype.push,LH=a(function(e,t){VSe.apply(e,ai(t)?t:[t])},"pushToArray"),ZSe=Date.prototype.toISOString,MH=tm.default,Ir={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Ty.encode,encodeValuesOnly:!1,filter:void 0,format:MH,formatter:tm.formatters[MH],indices:!1,serializeDate:a(function(t){return ZSe.call(t)},"serializeDate"),skipNulls:!1,strictNullHandling:!1},KSe=a(function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"},"isNonNullishPrimitive"),xR={},GSe=a(function e(t,r,n,o,i,s,u,l,d,p,f,m,y,g,h,v,S,b){for(var w=t,k=b,$=0,C=!1;(k=k.get(xR))!==void 0&&!C;){var A=k.get(t);if($+=1,typeof A<"u"){if(A===$)throw new RangeError("Cyclic object value");C=!0}typeof k.get(xR)>"u"&&($=0)}if(typeof p=="function"?w=p(r,w):w instanceof Date?w=y(w):n==="comma"&&ai(w)&&(w=Ty.maybeMap(w,function(et){return et instanceof Date?y(et):et})),w===null){if(s)return d&&!v?d(r,Ir.encoder,S,"key",g):r;w=""}if(KSe(w)||Ty.isBuffer(w)){if(d){var R=v?r:d(r,Ir.encoder,S,"key",g);return[h(R)+"="+h(d(w,Ir.encoder,S,"value",g))]}return[h(r)+"="+h(String(w))]}var O=[];if(typeof w>"u")return O;var z;if(n==="comma"&&ai(w))v&&d&&(w=Ty.maybeMap(w,d)),z=[{value:w.length>0?w.join(",")||null:void 0}];else if(ai(p))z=p;else{var D=Object.keys(w);z=f?D.sort(f):D}var X=l?String(r).replace(/\./g,"%2E"):String(r),G=o&&ai(w)&&w.length===1?X+"[]":X;if(i&&ai(w)&&w.length===0)return G+"[]";for(var B=0;B<z.length;++B){var te=z[B],ne=typeof te=="object"&&te&&typeof te.value<"u"?te.value:w[te];if(!(u&&ne===null)){var ae=m&&l?String(te).replace(/\./g,"%2E"):String(te),Se=ai(w)?typeof n=="function"?n(G,ae):G:G+(m?"."+ae:"["+ae+"]");b.set(t,$);var ke=qH();ke.set(xR,b),LH(O,e(ne,Se,n,o,i,s,u,l,n==="comma"&&v&&ai(w)?null:d,p,f,m,y,g,h,v,S,ke))}}return O},"stringify"),WSe=a(function(t){if(!t)return Ir;if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=t.charset||Ir.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=tm.default;if(typeof t.format<"u"){if(!HSe.call(tm.formatters,t.format))throw new TypeError("Unknown format option provided.");n=t.format}var o=tm.formatters[n],i=Ir.filter;(typeof t.filter=="function"||ai(t.filter))&&(i=t.filter);var s;if(t.arrayFormat in UH?s=t.arrayFormat:"indices"in t?s=t.indices?"indices":"repeat":s=Ir.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u=typeof t.allowDots>"u"?t.encodeDotInKeys===!0?!0:Ir.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:Ir.addQueryPrefix,allowDots:u,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:Ir.allowEmptyArrays,arrayFormat:s,charset:r,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Ir.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?Ir.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:Ir.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:Ir.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:Ir.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:Ir.encodeValuesOnly,filter:i,format:n,formatter:o,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:Ir.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:Ir.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Ir.strictNullHandling}},"normalizeStringifyOptions");FH.exports=function(e,t){var r=e,n=WSe(t),o,i;typeof n.filter=="function"?(i=n.filter,r=i("",r)):ai(n.filter)&&(i=n.filter,o=i);var s=[];if(typeof r!="object"||r===null)return"";var u=UH[n.arrayFormat],l=u==="comma"&&n.commaRoundTrip;o||(o=Object.keys(r)),n.sort&&o.sort(n.sort);for(var d=qH(),p=0;p<o.length;++p){var f=o[p],m=r[f];n.skipNulls&&m===null||LH(s,GSe(m,f,u,l,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,d))}var y=s.join(n.delimiter),g=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?g+="utf8=%26%2310003%3B&":g+="utf8=%E2%9C%93&"),y.length>0?g+y:""}});var ZH=M((Grt,VH)=>{"use strict";var zs=wR(),TR=Object.prototype.hasOwnProperty,JH=Array.isArray,lr={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:zs.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},QSe=a(function(e){return e.replace(/&#(\d+);/g,function(t,r){return String.fromCharCode(parseInt(r,10))})},"interpretNumericEntities"),HH=a(function(e,t,r){if(e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1)return e.split(",");if(t.throwOnLimitExceeded&&r>=t.arrayLimit)throw new RangeError("Array limit exceeded. Only "+t.arrayLimit+" element"+(t.arrayLimit===1?"":"s")+" allowed in an array.");return e},"parseArrayValue"),XSe="utf8=%26%2310003%3B",YSe="utf8=%E2%9C%93",ewe=a(function(t,r){var n={__proto__:null},o=r.ignoreQueryPrefix?t.replace(/^\?/,""):t;o=o.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var i=r.parameterLimit===1/0?void 0:r.parameterLimit,s=o.split(r.delimiter,r.throwOnLimitExceeded?i+1:i);if(r.throwOnLimitExceeded&&s.length>i)throw new RangeError("Parameter limit exceeded. Only "+i+" parameter"+(i===1?"":"s")+" allowed.");var u=-1,l,d=r.charset;if(r.charsetSentinel)for(l=0;l<s.length;++l)s[l].indexOf("utf8=")===0&&(s[l]===YSe?d="utf-8":s[l]===XSe&&(d="iso-8859-1"),u=l,l=s.length);for(l=0;l<s.length;++l)if(l!==u){var p=s[l],f=p.indexOf("]="),m=f===-1?p.indexOf("="):f+1,y,g;m===-1?(y=r.decoder(p,lr.decoder,d,"key"),g=r.strictNullHandling?null:""):(y=r.decoder(p.slice(0,m),lr.decoder,d,"key"),g=zs.maybeMap(HH(p.slice(m+1),r,JH(n[y])?n[y].length:0),function(v){return r.decoder(v,lr.decoder,d,"value")})),g&&r.interpretNumericEntities&&d==="iso-8859-1"&&(g=QSe(String(g))),p.indexOf("[]=")>-1&&(g=JH(g)?[g]:g);var h=TR.call(n,y);h&&r.duplicates==="combine"?n[y]=zs.combine(n[y],g):(!h||r.duplicates==="last")&&(n[y]=g)}return n},"parseQueryStringValues"),twe=a(function(e,t,r,n){var o=0;if(e.length>0&&e[e.length-1]==="[]"){var i=e.slice(0,-1).join("");o=Array.isArray(t)&&t[i]?t[i].length:0}for(var s=n?t:HH(t,r,o),u=e.length-1;u>=0;--u){var l,d=e[u];if(d==="[]"&&r.parseArrays)l=r.allowEmptyArrays&&(s===""||r.strictNullHandling&&s===null)?[]:zs.combine([],s);else{l=r.plainObjects?{__proto__:null}:{};var p=d.charAt(0)==="["&&d.charAt(d.length-1)==="]"?d.slice(1,-1):d,f=r.decodeDotInKeys?p.replace(/%2E/g,"."):p,m=parseInt(f,10);!r.parseArrays&&f===""?l={0:s}:!isNaN(m)&&d!==f&&String(m)===f&&m>=0&&r.parseArrays&&m<=r.arrayLimit?(l=[],l[m]=s):f!=="__proto__"&&(l[f]=s)}s=l}return s},"parseObject"),rwe=a(function(t,r,n,o){if(t){var i=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,s=/(\[[^[\]]*])/,u=/(\[[^[\]]*])/g,l=n.depth>0&&s.exec(i),d=l?i.slice(0,l.index):i,p=[];if(d){if(!n.plainObjects&&TR.call(Object.prototype,d)&&!n.allowPrototypes)return;p.push(d)}for(var f=0;n.depth>0&&(l=u.exec(i))!==null&&f<n.depth;){if(f+=1,!n.plainObjects&&TR.call(Object.prototype,l[1].slice(1,-1))&&!n.allowPrototypes)return;p.push(l[1])}if(l){if(n.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");p.push("["+i.slice(l.index)+"]")}return twe(p,r,n,o)}},"parseQueryStringKeys"),nwe=a(function(t){if(!t)return lr;if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.decodeDotInKeys<"u"&&typeof t.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(t.decoder!==null&&typeof t.decoder<"u"&&typeof t.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof t.throwOnLimitExceeded<"u"&&typeof t.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var r=typeof t.charset>"u"?lr.charset:t.charset,n=typeof t.duplicates>"u"?lr.duplicates:t.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var o=typeof t.allowDots>"u"?t.decodeDotInKeys===!0?!0:lr.allowDots:!!t.allowDots;return{allowDots:o,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:lr.allowEmptyArrays,allowPrototypes:typeof t.allowPrototypes=="boolean"?t.allowPrototypes:lr.allowPrototypes,allowSparse:typeof t.allowSparse=="boolean"?t.allowSparse:lr.allowSparse,arrayLimit:typeof t.arrayLimit=="number"?t.arrayLimit:lr.arrayLimit,charset:r,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:lr.charsetSentinel,comma:typeof t.comma=="boolean"?t.comma:lr.comma,decodeDotInKeys:typeof t.decodeDotInKeys=="boolean"?t.decodeDotInKeys:lr.decodeDotInKeys,decoder:typeof t.decoder=="function"?t.decoder:lr.decoder,delimiter:typeof t.delimiter=="string"||zs.isRegExp(t.delimiter)?t.delimiter:lr.delimiter,depth:typeof t.depth=="number"||t.depth===!1?+t.depth:lr.depth,duplicates:n,ignoreQueryPrefix:t.ignoreQueryPrefix===!0,interpretNumericEntities:typeof t.interpretNumericEntities=="boolean"?t.interpretNumericEntities:lr.interpretNumericEntities,parameterLimit:typeof t.parameterLimit=="number"?t.parameterLimit:lr.parameterLimit,parseArrays:t.parseArrays!==!1,plainObjects:typeof t.plainObjects=="boolean"?t.plainObjects:lr.plainObjects,strictDepth:typeof t.strictDepth=="boolean"?!!t.strictDepth:lr.strictDepth,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:lr.strictNullHandling,throwOnLimitExceeded:typeof t.throwOnLimitExceeded=="boolean"?t.throwOnLimitExceeded:!1}},"normalizeParseOptions");VH.exports=function(e,t){var r=nwe(t);if(e===""||e===null||typeof e>"u")return r.plainObjects?{__proto__:null}:{};for(var n=typeof e=="string"?ewe(e,r):e,o=r.plainObjects?{__proto__:null}:{},i=Object.keys(n),s=0;s<i.length;++s){var u=i[s],l=rwe(u,n[u],r,typeof e=="string");o=zs.merge(o,l,r)}return r.allowSparse===!0?o:zs.compact(o)}});var GH=M((Qrt,KH)=>{"use strict";var owe=BH(),iwe=ZH(),awe=xy();KH.exports={formats:awe,parse:iwe,stringify:owe}});var hv=M(fv=>{"use strict";Object.defineProperty(fv,"__esModule",{value:!0});fv.ApplicationInSerializer=void 0;fv.ApplicationInSerializer={_fromJsonObject(e){return{metadata:e.metadata,name:e.name,rateLimit:e.rateLimit,uid:e.uid}},_toJsonObject(e){return{metadata:e.metadata,name:e.name,rateLimit:e.rateLimit,uid:e.uid}}}});var h$=M(gv=>{"use strict";Object.defineProperty(gv,"__esModule",{value:!0});gv.ApplicationOutSerializer=void 0;gv.ApplicationOutSerializer={_fromJsonObject(e){return{createdAt:new Date(e.createdAt),id:e.id,metadata:e.metadata,name:e.name,rateLimit:e.rateLimit,uid:e.uid,updatedAt:new Date(e.updatedAt)}},_toJsonObject(e){return{createdAt:e.createdAt,id:e.id,metadata:e.metadata,name:e.name,rateLimit:e.rateLimit,uid:e.uid,updatedAt:e.updatedAt}}}});var J8=M(yv=>{"use strict";Object.defineProperty(yv,"__esModule",{value:!0});yv.ApplicationPatchSerializer=void 0;yv.ApplicationPatchSerializer={_fromJsonObject(e){return{metadata:e.metadata,name:e.name,rateLimit:e.rateLimit,uid:e.uid}},_toJsonObject(e){return{metadata:e.metadata,name:e.name,rateLimit:e.rateLimit,uid:e.uid}}}});var V8=M(vv=>{"use strict";Object.defineProperty(vv,"__esModule",{value:!0});vv.ListResponseApplicationOutSerializer=void 0;var H8=h$();vv.ListResponseApplicationOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>H8.ApplicationOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>H8.ApplicationOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var y$=M(_v=>{"use strict";Object.defineProperty(_v,"__esModule",{value:!0});_v.ApiException=void 0;var g$=class extends Error{static{a(this,"ApiException")}constructor(t,r,n){super(`HTTP-Code: ${t}
Headers: ${JSON.stringify(n)}`),this.code=t,this.body=r,this.headers={},n.forEach((o,i)=>{this.headers[i]=o})}};_v.ApiException=g$});var Z8,K8=W(()=>{Z8="ffffffff-ffff-ffff-ffff-ffffffffffff"});var G8,W8=W(()=>{G8="00000000-0000-0000-0000-000000000000"});var Q8,X8=W(()=>{Q8=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i});function e0e(e){return typeof e=="string"&&Q8.test(e)}var Ga,Cm=W(()=>{X8();a(e0e,"validate");Ga=e0e});function t0e(e){if(!Ga(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var Wa,Rm=W(()=>{Cm();a(t0e,"parse");Wa=t0e});function yn(e,t=0){return(Hr[e[t+0]]+Hr[e[t+1]]+Hr[e[t+2]]+Hr[e[t+3]]+"-"+Hr[e[t+4]]+Hr[e[t+5]]+"-"+Hr[e[t+6]]+Hr[e[t+7]]+"-"+Hr[e[t+8]]+Hr[e[t+9]]+"-"+Hr[e[t+10]]+Hr[e[t+11]]+Hr[e[t+12]]+Hr[e[t+13]]+Hr[e[t+14]]+Hr[e[t+15]]).toLowerCase()}function r0e(e,t=0){let r=yn(e,t);if(!Ga(r))throw TypeError("Stringified UUID is invalid");return r}var Hr,Y8,Qi=W(()=>{Cm();Hr=[];for(let e=0;e<256;++e)Hr.push((e+256).toString(16).slice(1));a(yn,"unsafeStringify");a(r0e,"stringify");Y8=r0e});import n0e from"node:crypto";function Bs(){return bv>Sv.length-16&&(n0e.randomFillSync(Sv),bv=0),Sv.slice(bv,bv+=16)}var Sv,bv,wv=W(()=>{Sv=new Uint8Array(256),bv=Sv.length;a(Bs,"rng")});function o0e(e,t,r){let n=t&&r||0,o=t||new Array(16);e=e||{};let i=e.node,s=e.clockseq;if(e._v6||(i||(i=v$),s==null&&(s=xv)),i==null||s==null){let m=e.random||(e.rng||Bs)();i==null&&(i=[m[0],m[1],m[2],m[3],m[4],m[5]],!v$&&!e._v6&&(i[0]|=1,v$=i)),s==null&&(s=(m[6]<<8|m[7])&16383,xv===void 0&&!e._v6&&(xv=s))}let u=e.msecs!==void 0?e.msecs:Date.now(),l=e.nsecs!==void 0?e.nsecs:b$+1,d=u-_$+(l-b$)/1e4;if(d<0&&e.clockseq===void 0&&(s=s+1&16383),(d<0||u>_$)&&e.nsecs===void 0&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_$=u,b$=l,xv=s,u+=122192928e5;let p=((u&268435455)*1e4+l)%4294967296;o[n++]=p>>>24&255,o[n++]=p>>>16&255,o[n++]=p>>>8&255,o[n++]=p&255;let f=u/4294967296*1e4&268435455;o[n++]=f>>>8&255,o[n++]=f&255,o[n++]=f>>>24&15|16,o[n++]=f>>>16&255,o[n++]=s>>>8|128,o[n++]=s&255;for(let m=0;m<6;++m)o[n+m]=i[m];return t||yn(o)}var v$,xv,_$,b$,Tv,S$=W(()=>{wv();Qi();_$=0,b$=0;a(o0e,"v1");Tv=o0e});function $m(e){let t=typeof e=="string"?Wa(e):e,r=i0e(t);return typeof e=="string"?yn(r):r}function i0e(e,t=!1){return Uint8Array.of((e[6]&15)<<4|e[7]>>4&15,(e[7]&15)<<4|(e[4]&240)>>4,(e[4]&15)<<4|(e[5]&240)>>4,(e[5]&15)<<4|(e[0]&240)>>4,(e[0]&15)<<4|(e[1]&240)>>4,(e[1]&15)<<4|(e[2]&240)>>4,96|e[2]&15,e[3],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}var w$=W(()=>{Rm();Qi();a($m,"v1ToV6");a(i0e,"_v1ToV6")});function a0e(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function Nm(e,t,r){function n(o,i,s,u){var l;if(typeof o=="string"&&(o=a0e(o)),typeof i=="string"&&(i=Wa(i)),((l=i)===null||l===void 0?void 0:l.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let d=new Uint8Array(16+o.length);if(d.set(i),d.set(o,i.length),d=r(d),d[6]=d[6]&15|t,d[8]=d[8]&63|128,s){u=u||0;for(let p=0;p<16;++p)s[u+p]=d[p];return s}return yn(d)}a(n,"generateUUID");try{n.name=e}catch{}return n.DNS=s0e,n.URL=u0e,n}var s0e,u0e,x$=W(()=>{Qi();Rm();a(a0e,"stringToBytes");s0e="6ba7b810-9dad-11d1-80b4-00c04fd430c8",u0e="6ba7b811-9dad-11d1-80b4-00c04fd430c8";a(Nm,"v35")});import c0e from"node:crypto";function l0e(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),c0e.createHash("md5").update(e).digest()}var eZ,tZ=W(()=>{a(l0e,"md5");eZ=l0e});var d0e,rZ,nZ=W(()=>{x$();tZ();d0e=Nm("v3",48,eZ),rZ=d0e});import p0e from"node:crypto";var T$,oZ=W(()=>{T$={randomUUID:p0e.randomUUID}});function m0e(e,t,r){if(T$.randomUUID&&!t&&!e)return T$.randomUUID();e=e||{};let n=e.random||(e.rng||Bs)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return yn(n)}var iZ,aZ=W(()=>{oZ();wv();Qi();a(m0e,"v4");iZ=m0e});import f0e from"node:crypto";function h0e(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),f0e.createHash("sha1").update(e).digest()}var sZ,uZ=W(()=>{a(h0e,"sha1");sZ=h0e});var g0e,cZ,lZ=W(()=>{x$();uZ();g0e=Nm("v5",80,sZ),cZ=g0e});function E$(e={},t,r=0){let n=Tv({...e,_v6:!0},new Uint8Array(16));if(n=$m(n),t){for(let o=0;o<16;o++)t[r+o]=n[o];return t}return yn(n)}var dZ=W(()=>{Qi();S$();w$();a(E$,"v6")});function k$(e){let t=typeof e=="string"?Wa(e):e,r=y0e(t);return typeof e=="string"?yn(r):r}function y0e(e){return Uint8Array.of((e[3]&15)<<4|e[4]>>4&15,(e[4]&15)<<4|(e[5]&240)>>4,(e[5]&15)<<4|e[6]&15,e[7],(e[1]&15)<<4|(e[2]&240)>>4,(e[2]&15)<<4|(e[3]&240)>>4,16|(e[0]&240)>>4,(e[0]&15)<<4|(e[1]&240)>>4,e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}var pZ=W(()=>{Rm();Qi();a(k$,"v6ToV1");a(y0e,"_v6ToV1")});function v0e(e,t,r){e=e||{};let n=t&&r||0,o=t||new Uint8Array(16),i=e.random||(e.rng||Bs)(),s=e.msecs!==void 0?e.msecs:Date.now(),u=e.seq!==void 0?e.seq:null,l=fZ,d=mZ;return s>qo&&e.msecs===void 0&&(qo=s,u!==null&&(l=null,d=null)),u!==null&&(u>2147483647&&(u=2147483647),l=u>>>19&4095,d=u&524287),(l===null||d===null)&&(l=i[6]&127,l=l<<8|i[7],d=i[8]&63,d=d<<8|i[9],d=d<<5|i[10]>>>3),s+1e4>qo&&u===null?++d>524287&&(d=0,++l>4095&&(l=0,qo++)):qo=s,fZ=l,mZ=d,o[n++]=qo/1099511627776&255,o[n++]=qo/4294967296&255,o[n++]=qo/16777216&255,o[n++]=qo/65536&255,o[n++]=qo/256&255,o[n++]=qo&255,o[n++]=l>>>4&15|112,o[n++]=l&255,o[n++]=d>>>13&63|128,o[n++]=d>>>5&255,o[n++]=d<<3&255|i[10]&7,o[n++]=i[11],o[n++]=i[12],o[n++]=i[13],o[n++]=i[14],o[n++]=i[15],t||yn(o)}var mZ,fZ,qo,hZ,gZ=W(()=>{wv();Qi();mZ=null,fZ=null,qo=0;a(v0e,"v7");hZ=v0e});function _0e(e){if(!Ga(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var yZ,vZ=W(()=>{Cm();a(_0e,"version");yZ=_0e});var _Z={};_n(_Z,{MAX:()=>Z8,NIL:()=>G8,parse:()=>Wa,stringify:()=>Y8,v1:()=>Tv,v1ToV6:()=>$m,v3:()=>rZ,v4:()=>iZ,v5:()=>cZ,v6:()=>E$,v6ToV1:()=>k$,v7:()=>hZ,validate:()=>Ga,version:()=>yZ});var bZ=W(()=>{K8();W8();Rm();Qi();S$();w$();nZ();aZ();lZ();dZ();pZ();gZ();Cm();vZ()});var nr=M(oo=>{"use strict";var zm=oo&&oo.__awaiter||function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return a(o,"adopt"),new(r||(r=Promise))(function(i,s){function u(p){try{d(n.next(p))}catch(f){s(f)}}a(u,"fulfilled");function l(p){try{d(n.throw(p))}catch(f){s(f)}}a(l,"rejected");function d(p){p.done?i(p.value):o(p.value).then(u,l)}a(d,"step"),d((n=n.apply(e,t||[])).next())})};Object.defineProperty(oo,"__esModule",{value:!0});oo.SvixRequest=oo.HttpMethod=oo.LIB_VERSION=void 0;var P$=y$(),b0e=(bZ(),lX(_Z));oo.LIB_VERSION="1.81.0";var S0e=`svix-libs/${oo.LIB_VERSION}/javascript`,w0e;(function(e){e.GET="GET",e.HEAD="HEAD",e.POST="POST",e.PUT="PUT",e.DELETE="DELETE",e.CONNECT="CONNECT",e.OPTIONS="OPTIONS",e.TRACE="TRACE",e.PATCH="PATCH"})(w0e=oo.HttpMethod||(oo.HttpMethod={}));var I$=class{static{a(this,"SvixRequest")}constructor(t,r){this.method=t,this.path=r,this.queryParams={},this.headerParams={}}setPathParam(t,r){let n=this.path.replace(`{${t}}`,encodeURIComponent(r));if(this.path===n)throw new Error(`path parameter ${t} not found`);this.path=n}setQueryParam(t,r){if(r!=null)if(typeof r=="string")this.queryParams[t]=r;else if(typeof r=="boolean"||typeof r=="number")this.queryParams[t]=r.toString();else if(r instanceof Date)this.queryParams[t]=r.toISOString();else if(Array.isArray(r))r.length>0&&(this.queryParams[t]=r.join(","));else{let n=r;throw new Error(`query parameter ${t} has unsupported type`)}}setHeaderParam(t,r){r!==void 0&&(this.headerParams[t]=r)}setBody(t){this.body=JSON.stringify(t)}send(t,r){return zm(this,void 0,void 0,function*(){let n=yield this.sendInner(t);if(n.status===204)return null;let o=yield n.text();return r(JSON.parse(o))})}sendNoResponseBody(t){return zm(this,void 0,void 0,function*(){yield this.sendInner(t)})}sendInner(t){var r,n;return zm(this,void 0,void 0,function*(){let o=new URL(t.baseUrl+this.path);for(let[l,d]of Object.entries(this.queryParams))o.searchParams.set(l,d);this.headerParams["idempotency-key"]===void 0&&this.method.toUpperCase()==="POST"&&(this.headerParams["idempotency-key"]=`auto_${(0,b0e.v4)()}`);let i=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER);this.body!=null&&(this.headerParams["content-type"]="application/json");let s="credentials"in Request.prototype,u=yield SZ(o,{method:this.method.toString(),body:this.body,headers:Object.assign({accept:"application/json, */*;q=0.8",authorization:`Bearer ${t.token}`,"user-agent":S0e,"svix-req-id":i.toString()},this.headerParams),credentials:s?"same-origin":void 0,signal:t.timeout!==void 0?AbortSignal.timeout(t.timeout):void 0},t.retryScheduleInMs,(r=t.retryScheduleInMs)===null||r===void 0?void 0:r[0],((n=t.retryScheduleInMs)===null||n===void 0?void 0:n.length)||t.numRetries,t.fetch);return x0e(u)})}};oo.SvixRequest=I$;function x0e(e){return zm(this,void 0,void 0,function*(){if(e.status<300)return e;let t=yield e.text();throw e.status===422?new P$.ApiException(e.status,JSON.parse(t),e.headers):e.status>=400&&e.status<=499?new P$.ApiException(e.status,JSON.parse(t),e.headers):new P$.ApiException(e.status,t,e.headers)})}a(x0e,"filterResponseForErrors");function SZ(e,t,r,n=50,o=2,i=fetch,s=1){return zm(this,void 0,void 0,function*(){let u=a(l=>new Promise(d=>setTimeout(d,l)),"sleep");try{let l=yield i(e,t);if(o<=0||l.status<500)return l}catch(l){if(o<=0)throw l}return yield u(n),t.headers["svix-retry-count"]=s.toString(),n=r?.[s]||n*2,yield SZ(e,t,r,n,--o,i,++s)})}a(SZ,"sendWithRetry")});var wZ=M(Ev=>{"use strict";Object.defineProperty(Ev,"__esModule",{value:!0});Ev.Application=void 0;var O$=hv(),jm=h$(),T0e=J8(),E0e=V8(),In=nr(),A$=class{static{a(this,"Application")}constructor(t){this.requestCtx=t}list(t){let r=new In.SvixRequest(In.HttpMethod.GET,"/api/v1/app");return r.setQueryParam("limit",t?.limit),r.setQueryParam("iterator",t?.iterator),r.setQueryParam("order",t?.order),r.send(this.requestCtx,E0e.ListResponseApplicationOutSerializer._fromJsonObject)}create(t,r){let n=new In.SvixRequest(In.HttpMethod.POST,"/api/v1/app");return n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.setBody(O$.ApplicationInSerializer._toJsonObject(t)),n.send(this.requestCtx,jm.ApplicationOutSerializer._fromJsonObject)}getOrCreate(t,r){let n=new In.SvixRequest(In.HttpMethod.POST,"/api/v1/app");return n.setQueryParam("get_if_exists",!0),n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.setBody(O$.ApplicationInSerializer._toJsonObject(t)),n.send(this.requestCtx,jm.ApplicationOutSerializer._fromJsonObject)}get(t){let r=new In.SvixRequest(In.HttpMethod.GET,"/api/v1/app/{app_id}");return r.setPathParam("app_id",t),r.send(this.requestCtx,jm.ApplicationOutSerializer._fromJsonObject)}update(t,r){let n=new In.SvixRequest(In.HttpMethod.PUT,"/api/v1/app/{app_id}");return n.setPathParam("app_id",t),n.setBody(O$.ApplicationInSerializer._toJsonObject(r)),n.send(this.requestCtx,jm.ApplicationOutSerializer._fromJsonObject)}delete(t){let r=new In.SvixRequest(In.HttpMethod.DELETE,"/api/v1/app/{app_id}");return r.setPathParam("app_id",t),r.sendNoResponseBody(this.requestCtx)}patch(t,r){let n=new In.SvixRequest(In.HttpMethod.PATCH,"/api/v1/app/{app_id}");return n.setPathParam("app_id",t),n.setBody(T0e.ApplicationPatchSerializer._toJsonObject(r)),n.send(this.requestCtx,jm.ApplicationOutSerializer._fromJsonObject)}};Ev.Application=A$});var xZ=M(kv=>{"use strict";Object.defineProperty(kv,"__esModule",{value:!0});kv.ApiTokenOutSerializer=void 0;kv.ApiTokenOutSerializer={_fromJsonObject(e){return{createdAt:new Date(e.createdAt),expiresAt:e.expiresAt?new Date(e.expiresAt):null,id:e.id,name:e.name,scopes:e.scopes,token:e.token}},_toJsonObject(e){return{createdAt:e.createdAt,expiresAt:e.expiresAt,id:e.id,name:e.name,scopes:e.scopes,token:e.token}}}});var C$=M(Js=>{"use strict";Object.defineProperty(Js,"__esModule",{value:!0});Js.AppPortalCapabilitySerializer=Js.AppPortalCapability=void 0;var k0e;(function(e){e.ViewBase="ViewBase",e.ViewEndpointSecret="ViewEndpointSecret",e.ManageEndpointSecret="ManageEndpointSecret",e.ManageTransformations="ManageTransformations",e.CreateAttempts="CreateAttempts",e.ManageEndpoint="ManageEndpoint"})(k0e=Js.AppPortalCapability||(Js.AppPortalCapability={}));Js.AppPortalCapabilitySerializer={_fromJsonObject(e){return e},_toJsonObject(e){return e}}});var kZ=M(Pv=>{"use strict";Object.defineProperty(Pv,"__esModule",{value:!0});Pv.AppPortalAccessInSerializer=void 0;var TZ=C$(),EZ=hv();Pv.AppPortalAccessInSerializer={_fromJsonObject(e){var t;return{application:e.application?EZ.ApplicationInSerializer._fromJsonObject(e.application):void 0,capabilities:(t=e.capabilities)===null||t===void 0?void 0:t.map(r=>TZ.AppPortalCapabilitySerializer._fromJsonObject(r)),expiry:e.expiry,featureFlags:e.featureFlags,readOnly:e.readOnly,sessionId:e.sessionId}},_toJsonObject(e){var t;return{application:e.application?EZ.ApplicationInSerializer._toJsonObject(e.application):void 0,capabilities:(t=e.capabilities)===null||t===void 0?void 0:t.map(r=>TZ.AppPortalCapabilitySerializer._toJsonObject(r)),expiry:e.expiry,featureFlags:e.featureFlags,readOnly:e.readOnly,sessionId:e.sessionId}}}});var PZ=M(Iv=>{"use strict";Object.defineProperty(Iv,"__esModule",{value:!0});Iv.AppPortalAccessOutSerializer=void 0;Iv.AppPortalAccessOutSerializer={_fromJsonObject(e){return{token:e.token,url:e.url}},_toJsonObject(e){return{token:e.token,url:e.url}}}});var IZ=M(Ov=>{"use strict";Object.defineProperty(Ov,"__esModule",{value:!0});Ov.ApplicationTokenExpireInSerializer=void 0;Ov.ApplicationTokenExpireInSerializer={_fromJsonObject(e){return{expiry:e.expiry,sessionIds:e.sessionIds}},_toJsonObject(e){return{expiry:e.expiry,sessionIds:e.sessionIds}}}});var OZ=M(Av=>{"use strict";Object.defineProperty(Av,"__esModule",{value:!0});Av.RotatePollerTokenInSerializer=void 0;Av.RotatePollerTokenInSerializer={_fromJsonObject(e){return{expiry:e.expiry,oldTokenExpiry:e.oldTokenExpiry}},_toJsonObject(e){return{expiry:e.expiry,oldTokenExpiry:e.oldTokenExpiry}}}});var AZ=M(Cv=>{"use strict";Object.defineProperty(Cv,"__esModule",{value:!0});Cv.StreamPortalAccessInSerializer=void 0;Cv.StreamPortalAccessInSerializer={_fromJsonObject(e){return{expiry:e.expiry,featureFlags:e.featureFlags,sessionId:e.sessionId}},_toJsonObject(e){return{expiry:e.expiry,featureFlags:e.featureFlags,sessionId:e.sessionId}}}});var R$=M(Rv=>{"use strict";Object.defineProperty(Rv,"__esModule",{value:!0});Rv.DashboardAccessOutSerializer=void 0;Rv.DashboardAccessOutSerializer={_fromJsonObject(e){return{token:e.token,url:e.url}},_toJsonObject(e){return{token:e.token,url:e.url}}}});var $Z=M($v=>{"use strict";Object.defineProperty($v,"__esModule",{value:!0});$v.Authentication=void 0;var CZ=xZ(),P0e=kZ(),RZ=PZ(),I0e=IZ(),O0e=OZ(),A0e=AZ(),C0e=R$(),On=nr(),$$=class{static{a(this,"Authentication")}constructor(t){this.requestCtx=t}appPortalAccess(t,r,n){let o=new On.SvixRequest(On.HttpMethod.POST,"/api/v1/auth/app-portal-access/{app_id}");return o.setPathParam("app_id",t),o.setHeaderParam("idempotency-key",n?.idempotencyKey),o.setBody(P0e.AppPortalAccessInSerializer._toJsonObject(r)),o.send(this.requestCtx,RZ.AppPortalAccessOutSerializer._fromJsonObject)}expireAll(t,r,n){let o=new On.SvixRequest(On.HttpMethod.POST,"/api/v1/auth/app/{app_id}/expire-all");return o.setPathParam("app_id",t),o.setHeaderParam("idempotency-key",n?.idempotencyKey),o.setBody(I0e.ApplicationTokenExpireInSerializer._toJsonObject(r)),o.sendNoResponseBody(this.requestCtx)}dashboardAccess(t,r){let n=new On.SvixRequest(On.HttpMethod.POST,"/api/v1/auth/dashboard-access/{app_id}");return n.setPathParam("app_id",t),n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.send(this.requestCtx,C0e.DashboardAccessOutSerializer._fromJsonObject)}logout(t){let r=new On.SvixRequest(On.HttpMethod.POST,"/api/v1/auth/logout");return r.setHeaderParam("idempotency-key",t?.idempotencyKey),r.sendNoResponseBody(this.requestCtx)}streamPortalAccess(t,r,n){let o=new On.SvixRequest(On.HttpMethod.POST,"/api/v1/auth/stream-portal-access/{stream_id}");return o.setPathParam("stream_id",t),o.setHeaderParam("idempotency-key",n?.idempotencyKey),o.setBody(A0e.StreamPortalAccessInSerializer._toJsonObject(r)),o.send(this.requestCtx,RZ.AppPortalAccessOutSerializer._fromJsonObject)}getStreamPollerToken(t,r){let n=new On.SvixRequest(On.HttpMethod.GET,"/api/v1/auth/stream/{stream_id}/sink/{sink_id}/poller/token");return n.setPathParam("stream_id",t),n.setPathParam("sink_id",r),n.send(this.requestCtx,CZ.ApiTokenOutSerializer._fromJsonObject)}rotateStreamPollerToken(t,r,n,o){let i=new On.SvixRequest(On.HttpMethod.POST,"/api/v1/auth/stream/{stream_id}/sink/{sink_id}/poller/token/rotate");return i.setPathParam("stream_id",t),i.setPathParam("sink_id",r),i.setHeaderParam("idempotency-key",o?.idempotencyKey),i.setBody(O0e.RotatePollerTokenInSerializer._toJsonObject(n)),i.send(this.requestCtx,CZ.ApiTokenOutSerializer._fromJsonObject)}};$v.Authentication=$$});var Qa=M(Hs=>{"use strict";Object.defineProperty(Hs,"__esModule",{value:!0});Hs.BackgroundTaskStatusSerializer=Hs.BackgroundTaskStatus=void 0;var R0e;(function(e){e.Running="running",e.Finished="finished",e.Failed="failed"})(R0e=Hs.BackgroundTaskStatus||(Hs.BackgroundTaskStatus={}));Hs.BackgroundTaskStatusSerializer={_fromJsonObject(e){return e},_toJsonObject(e){return e}}});var Xa=M(Vs=>{"use strict";Object.defineProperty(Vs,"__esModule",{value:!0});Vs.BackgroundTaskTypeSerializer=Vs.BackgroundTaskType=void 0;var $0e;(function(e){e.EndpointReplay="endpoint.replay",e.EndpointRecover="endpoint.recover",e.ApplicationStats="application.stats",e.MessageBroadcast="message.broadcast",e.SdkGenerate="sdk.generate",e.EventTypeAggregate="event-type.aggregate",e.ApplicationPurgeContent="application.purge_content"})($0e=Vs.BackgroundTaskType||(Vs.BackgroundTaskType={}));Vs.BackgroundTaskTypeSerializer={_fromJsonObject(e){return e},_toJsonObject(e){return e}}});var N$=M(Nv=>{"use strict";Object.defineProperty(Nv,"__esModule",{value:!0});Nv.BackgroundTaskOutSerializer=void 0;var NZ=Qa(),zZ=Xa();Nv.BackgroundTaskOutSerializer={_fromJsonObject(e){return{data:e.data,id:e.id,status:NZ.BackgroundTaskStatusSerializer._fromJsonObject(e.status),task:zZ.BackgroundTaskTypeSerializer._fromJsonObject(e.task)}},_toJsonObject(e){return{data:e.data,id:e.id,status:NZ.BackgroundTaskStatusSerializer._toJsonObject(e.status),task:zZ.BackgroundTaskTypeSerializer._toJsonObject(e.task)}}}});var DZ=M(zv=>{"use strict";Object.defineProperty(zv,"__esModule",{value:!0});zv.ListResponseBackgroundTaskOutSerializer=void 0;var jZ=N$();zv.ListResponseBackgroundTaskOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>jZ.BackgroundTaskOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>jZ.BackgroundTaskOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var MZ=M(Dv=>{"use strict";Object.defineProperty(Dv,"__esModule",{value:!0});Dv.BackgroundTask=void 0;var N0e=N$(),z0e=DZ(),jv=nr(),z$=class{static{a(this,"BackgroundTask")}constructor(t){this.requestCtx=t}list(t){let r=new jv.SvixRequest(jv.HttpMethod.GET,"/api/v1/background-task");return r.setQueryParam("status",t?.status),r.setQueryParam("task",t?.task),r.setQueryParam("limit",t?.limit),r.setQueryParam("iterator",t?.iterator),r.setQueryParam("order",t?.order),r.send(this.requestCtx,z0e.ListResponseBackgroundTaskOutSerializer._fromJsonObject)}listByEndpoint(t){return this.list(t)}get(t){let r=new jv.SvixRequest(jv.HttpMethod.GET,"/api/v1/background-task/{task_id}");return r.setPathParam("task_id",t),r.send(this.requestCtx,N0e.BackgroundTaskOutSerializer._fromJsonObject)}};Dv.BackgroundTask=z$});var ol=M(Zs=>{"use strict";Object.defineProperty(Zs,"__esModule",{value:!0});Zs.ConnectorKindSerializer=Zs.ConnectorKind=void 0;var j0e;(function(e){e.Custom="Custom",e.AgenticCommerceProtocol="AgenticCommerceProtocol",e.CloseCrm="CloseCRM",e.CustomerIo="CustomerIO",e.Discord="Discord",e.Hubspot="Hubspot",e.Inngest="Inngest",e.Loops="Loops",e.Resend="Resend",e.Salesforce="Salesforce",e.Segment="Segment",e.Sendgrid="Sendgrid",e.Slack="Slack",e.Teams="Teams",e.TriggerDev="TriggerDev",e.Windmill="Windmill",e.Zapier="Zapier"})(j0e=Zs.ConnectorKind||(Zs.ConnectorKind={}));Zs.ConnectorKindSerializer={_fromJsonObject(e){return e},_toJsonObject(e){return e}}});var j$=M(Mv=>{"use strict";Object.defineProperty(Mv,"__esModule",{value:!0});Mv.ConnectorInSerializer=void 0;var qZ=ol();Mv.ConnectorInSerializer={_fromJsonObject(e){return{allowedEventTypes:e.allowedEventTypes,description:e.description,featureFlags:e.featureFlags,instructions:e.instructions,kind:e.kind?qZ.ConnectorKindSerializer._fromJsonObject(e.kind):void 0,logo:e.logo,name:e.name,transformation:e.transformation}},_toJsonObject(e){return{allowedEventTypes:e.allowedEventTypes,description:e.description,featureFlags:e.featureFlags,instructions:e.instructions,kind:e.kind?qZ.ConnectorKindSerializer._toJsonObject(e.kind):void 0,logo:e.logo,name:e.name,transformation:e.transformation}}}});var Uv=M(qv=>{"use strict";Object.defineProperty(qv,"__esModule",{value:!0});qv.ConnectorOutSerializer=void 0;var UZ=ol();qv.ConnectorOutSerializer={_fromJsonObject(e){return{allowedEventTypes:e.allowedEventTypes,createdAt:new Date(e.createdAt),description:e.description,featureFlags:e.featureFlags,id:e.id,instructions:e.instructions,kind:UZ.ConnectorKindSerializer._fromJsonObject(e.kind),logo:e.logo,name:e.name,orgId:e.orgId,transformation:e.transformation,updatedAt:new Date(e.updatedAt)}},_toJsonObject(e){return{allowedEventTypes:e.allowedEventTypes,createdAt:e.createdAt,description:e.description,featureFlags:e.featureFlags,id:e.id,instructions:e.instructions,kind:UZ.ConnectorKindSerializer._toJsonObject(e.kind),logo:e.logo,name:e.name,orgId:e.orgId,transformation:e.transformation,updatedAt:e.updatedAt}}}});var FZ=M(Lv=>{"use strict";Object.defineProperty(Lv,"__esModule",{value:!0});Lv.ConnectorPatchSerializer=void 0;var LZ=ol();Lv.ConnectorPatchSerializer={_fromJsonObject(e){return{allowedEventTypes:e.allowedEventTypes,description:e.description,featureFlags:e.featureFlags,instructions:e.instructions,kind:e.kind?LZ.ConnectorKindSerializer._fromJsonObject(e.kind):void 0,logo:e.logo,name:e.name,transformation:e.transformation}},_toJsonObject(e){return{allowedEventTypes:e.allowedEventTypes,description:e.description,featureFlags:e.featureFlags,instructions:e.instructions,kind:e.kind?LZ.ConnectorKindSerializer._toJsonObject(e.kind):void 0,logo:e.logo,name:e.name,transformation:e.transformation}}}});var JZ=M(Fv=>{"use strict";Object.defineProperty(Fv,"__esModule",{value:!0});Fv.ConnectorUpdateSerializer=void 0;var BZ=ol();Fv.ConnectorUpdateSerializer={_fromJsonObject(e){return{allowedEventTypes:e.allowedEventTypes,description:e.description,featureFlags:e.featureFlags,instructions:e.instructions,kind:e.kind?BZ.ConnectorKindSerializer._fromJsonObject(e.kind):void 0,logo:e.logo,name:e.name,transformation:e.transformation}},_toJsonObject(e){return{allowedEventTypes:e.allowedEventTypes,description:e.description,featureFlags:e.featureFlags,instructions:e.instructions,kind:e.kind?BZ.ConnectorKindSerializer._toJsonObject(e.kind):void 0,logo:e.logo,name:e.name,transformation:e.transformation}}}});var VZ=M(Bv=>{"use strict";Object.defineProperty(Bv,"__esModule",{value:!0});Bv.ListResponseConnectorOutSerializer=void 0;var HZ=Uv();Bv.ListResponseConnectorOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>HZ.ConnectorOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>HZ.ConnectorOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var ZZ=M(Hv=>{"use strict";Object.defineProperty(Hv,"__esModule",{value:!0});Hv.Connector=void 0;var D0e=j$(),Jv=Uv(),M0e=FZ(),q0e=JZ(),U0e=VZ(),io=nr(),D$=class{static{a(this,"Connector")}constructor(t){this.requestCtx=t}list(t){let r=new io.SvixRequest(io.HttpMethod.GET,"/api/v1/connector");return r.setQueryParam("limit",t?.limit),r.setQueryParam("iterator",t?.iterator),r.setQueryParam("order",t?.order),r.send(this.requestCtx,U0e.ListResponseConnectorOutSerializer._fromJsonObject)}create(t,r){let n=new io.SvixRequest(io.HttpMethod.POST,"/api/v1/connector");return n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.setBody(D0e.ConnectorInSerializer._toJsonObject(t)),n.send(this.requestCtx,Jv.ConnectorOutSerializer._fromJsonObject)}get(t){let r=new io.SvixRequest(io.HttpMethod.GET,"/api/v1/connector/{connector_id}");return r.setPathParam("connector_id",t),r.send(this.requestCtx,Jv.ConnectorOutSerializer._fromJsonObject)}update(t,r){let n=new io.SvixRequest(io.HttpMethod.PUT,"/api/v1/connector/{connector_id}");return n.setPathParam("connector_id",t),n.setBody(q0e.ConnectorUpdateSerializer._toJsonObject(r)),n.send(this.requestCtx,Jv.ConnectorOutSerializer._fromJsonObject)}delete(t){let r=new io.SvixRequest(io.HttpMethod.DELETE,"/api/v1/connector/{connector_id}");return r.setPathParam("connector_id",t),r.sendNoResponseBody(this.requestCtx)}patch(t,r){let n=new io.SvixRequest(io.HttpMethod.PATCH,"/api/v1/connector/{connector_id}");return n.setPathParam("connector_id",t),n.setBody(M0e.ConnectorPatchSerializer._toJsonObject(r)),n.send(this.requestCtx,Jv.ConnectorOutSerializer._fromJsonObject)}};Hv.Connector=D$});var KZ=M(Vv=>{"use strict";Object.defineProperty(Vv,"__esModule",{value:!0});Vv.EndpointHeadersInSerializer=void 0;Vv.EndpointHeadersInSerializer={_fromJsonObject(e){return{headers:e.headers}},_toJsonObject(e){return{headers:e.headers}}}});var M$=M(Zv=>{"use strict";Object.defineProperty(Zv,"__esModule",{value:!0});Zv.EndpointHeadersOutSerializer=void 0;Zv.EndpointHeadersOutSerializer={_fromJsonObject(e){return{headers:e.headers,sensitive:e.sensitive}},_toJsonObject(e){return{headers:e.headers,sensitive:e.sensitive}}}});var GZ=M(Kv=>{"use strict";Object.defineProperty(Kv,"__esModule",{value:!0});Kv.EndpointHeadersPatchInSerializer=void 0;Kv.EndpointHeadersPatchInSerializer={_fromJsonObject(e){return{deleteHeaders:e.deleteHeaders,headers:e.headers}},_toJsonObject(e){return{deleteHeaders:e.deleteHeaders,headers:e.headers}}}});var WZ=M(Gv=>{"use strict";Object.defineProperty(Gv,"__esModule",{value:!0});Gv.EndpointInSerializer=void 0;Gv.EndpointInSerializer={_fromJsonObject(e){return{channels:e.channels,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,headers:e.headers,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url,version:e.version}},_toJsonObject(e){return{channels:e.channels,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,headers:e.headers,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url,version:e.version}}}});var q$=M(Wv=>{"use strict";Object.defineProperty(Wv,"__esModule",{value:!0});Wv.EndpointOutSerializer=void 0;Wv.EndpointOutSerializer={_fromJsonObject(e){return{channels:e.channels,createdAt:new Date(e.createdAt),description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,id:e.id,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,updatedAt:new Date(e.updatedAt),url:e.url,version:e.version}},_toJsonObject(e){return{channels:e.channels,createdAt:e.createdAt,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,id:e.id,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,updatedAt:e.updatedAt,url:e.url,version:e.version}}}});var QZ=M(Qv=>{"use strict";Object.defineProperty(Qv,"__esModule",{value:!0});Qv.EndpointPatchSerializer=void 0;Qv.EndpointPatchSerializer={_fromJsonObject(e){return{channels:e.channels,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url,version:e.version}},_toJsonObject(e){return{channels:e.channels,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url,version:e.version}}}});var XZ=M(Xv=>{"use strict";Object.defineProperty(Xv,"__esModule",{value:!0});Xv.EndpointSecretOutSerializer=void 0;Xv.EndpointSecretOutSerializer={_fromJsonObject(e){return{key:e.key}},_toJsonObject(e){return{key:e.key}}}});var U$=M(Yv=>{"use strict";Object.defineProperty(Yv,"__esModule",{value:!0});Yv.EndpointSecretRotateInSerializer=void 0;Yv.EndpointSecretRotateInSerializer={_fromJsonObject(e){return{key:e.key}},_toJsonObject(e){return{key:e.key}}}});var YZ=M(e_=>{"use strict";Object.defineProperty(e_,"__esModule",{value:!0});e_.EndpointStatsSerializer=void 0;e_.EndpointStatsSerializer={_fromJsonObject(e){return{fail:e.fail,pending:e.pending,sending:e.sending,success:e.success}},_toJsonObject(e){return{fail:e.fail,pending:e.pending,sending:e.sending,success:e.success}}}});var eK=M(t_=>{"use strict";Object.defineProperty(t_,"__esModule",{value:!0});t_.EndpointTransformationInSerializer=void 0;t_.EndpointTransformationInSerializer={_fromJsonObject(e){return{code:e.code,enabled:e.enabled}},_toJsonObject(e){return{code:e.code,enabled:e.enabled}}}});var tK=M(r_=>{"use strict";Object.defineProperty(r_,"__esModule",{value:!0});r_.EndpointTransformationOutSerializer=void 0;r_.EndpointTransformationOutSerializer={_fromJsonObject(e){return{code:e.code,enabled:e.enabled}},_toJsonObject(e){return{code:e.code,enabled:e.enabled}}}});var rK=M(n_=>{"use strict";Object.defineProperty(n_,"__esModule",{value:!0});n_.EndpointTransformationPatchSerializer=void 0;n_.EndpointTransformationPatchSerializer={_fromJsonObject(e){return{code:e.code,enabled:e.enabled}},_toJsonObject(e){return{code:e.code,enabled:e.enabled}}}});var nK=M(o_=>{"use strict";Object.defineProperty(o_,"__esModule",{value:!0});o_.EndpointUpdateSerializer=void 0;o_.EndpointUpdateSerializer={_fromJsonObject(e){return{channels:e.channels,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,url:e.url,version:e.version}},_toJsonObject(e){return{channels:e.channels,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,url:e.url,version:e.version}}}});var oK=M(i_=>{"use strict";Object.defineProperty(i_,"__esModule",{value:!0});i_.EventExampleInSerializer=void 0;i_.EventExampleInSerializer={_fromJsonObject(e){return{eventType:e.eventType,exampleIndex:e.exampleIndex}},_toJsonObject(e){return{eventType:e.eventType,exampleIndex:e.exampleIndex}}}});var aK=M(a_=>{"use strict";Object.defineProperty(a_,"__esModule",{value:!0});a_.ListResponseEndpointOutSerializer=void 0;var iK=q$();a_.ListResponseEndpointOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>iK.EndpointOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>iK.EndpointOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var Dm=M(s_=>{"use strict";Object.defineProperty(s_,"__esModule",{value:!0});s_.MessageOutSerializer=void 0;s_.MessageOutSerializer={_fromJsonObject(e){return{channels:e.channels,deliverAt:e.deliverAt?new Date(e.deliverAt):null,eventId:e.eventId,eventType:e.eventType,id:e.id,payload:e.payload,tags:e.tags,timestamp:new Date(e.timestamp)}},_toJsonObject(e){return{channels:e.channels,deliverAt:e.deliverAt,eventId:e.eventId,eventType:e.eventType,id:e.id,payload:e.payload,tags:e.tags,timestamp:e.timestamp}}}});var sK=M(u_=>{"use strict";Object.defineProperty(u_,"__esModule",{value:!0});u_.RecoverInSerializer=void 0;u_.RecoverInSerializer={_fromJsonObject(e){return{since:new Date(e.since),until:e.until?new Date(e.until):null}},_toJsonObject(e){return{since:e.since,until:e.until}}}});var lK=M(c_=>{"use strict";Object.defineProperty(c_,"__esModule",{value:!0});c_.RecoverOutSerializer=void 0;var uK=Qa(),cK=Xa();c_.RecoverOutSerializer={_fromJsonObject(e){return{id:e.id,status:uK.BackgroundTaskStatusSerializer._fromJsonObject(e.status),task:cK.BackgroundTaskTypeSerializer._fromJsonObject(e.task)}},_toJsonObject(e){return{id:e.id,status:uK.BackgroundTaskStatusSerializer._toJsonObject(e.status),task:cK.BackgroundTaskTypeSerializer._toJsonObject(e.task)}}}});var dK=M(l_=>{"use strict";Object.defineProperty(l_,"__esModule",{value:!0});l_.ReplayInSerializer=void 0;l_.ReplayInSerializer={_fromJsonObject(e){return{since:new Date(e.since),until:e.until?new Date(e.until):null}},_toJsonObject(e){return{since:e.since,until:e.until}}}});var fK=M(d_=>{"use strict";Object.defineProperty(d_,"__esModule",{value:!0});d_.ReplayOutSerializer=void 0;var pK=Qa(),mK=Xa();d_.ReplayOutSerializer={_fromJsonObject(e){return{id:e.id,status:pK.BackgroundTaskStatusSerializer._fromJsonObject(e.status),task:mK.BackgroundTaskTypeSerializer._fromJsonObject(e.task)}},_toJsonObject(e){return{id:e.id,status:pK.BackgroundTaskStatusSerializer._toJsonObject(e.status),task:mK.BackgroundTaskTypeSerializer._toJsonObject(e.task)}}}});var hK=M(m_=>{"use strict";Object.defineProperty(m_,"__esModule",{value:!0});m_.Endpoint=void 0;var L0e=KZ(),F0e=M$(),B0e=GZ(),J0e=WZ(),p_=q$(),H0e=QZ(),V0e=XZ(),Z0e=U$(),K0e=YZ(),G0e=eK(),W0e=tK(),Q0e=rK(),X0e=nK(),Y0e=oK(),eTe=aK(),tTe=Dm(),rTe=sK(),nTe=lK(),oTe=dK(),iTe=fK(),ht=nr(),L$=class{static{a(this,"Endpoint")}constructor(t){this.requestCtx=t}list(t,r){let n=new ht.SvixRequest(ht.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint");return n.setPathParam("app_id",t),n.setQueryParam("limit",r?.limit),n.setQueryParam("iterator",r?.iterator),n.setQueryParam("order",r?.order),n.send(this.requestCtx,eTe.ListResponseEndpointOutSerializer._fromJsonObject)}create(t,r,n){let o=new ht.SvixRequest(ht.HttpMethod.POST,"/api/v1/app/{app_id}/endpoint");return o.setPathParam("app_id",t),o.setHeaderParam("idempotency-key",n?.idempotencyKey),o.setBody(J0e.EndpointInSerializer._toJsonObject(r)),o.send(this.requestCtx,p_.EndpointOutSerializer._fromJsonObject)}get(t,r){let n=new ht.SvixRequest(ht.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint/{endpoint_id}");return n.setPathParam("app_id",t),n.setPathParam("endpoint_id",r),n.send(this.requestCtx,p_.EndpointOutSerializer._fromJsonObject)}update(t,r,n){let o=new ht.SvixRequest(ht.HttpMethod.PUT,"/api/v1/app/{app_id}/endpoint/{endpoint_id}");return o.setPathParam("app_id",t),o.setPathParam("endpoint_id",r),o.setBody(X0e.EndpointUpdateSerializer._toJsonObject(n)),o.send(this.requestCtx,p_.EndpointOutSerializer._fromJsonObject)}delete(t,r){let n=new ht.SvixRequest(ht.HttpMethod.DELETE,"/api/v1/app/{app_id}/endpoint/{endpoint_id}");return n.setPathParam("app_id",t),n.setPathParam("endpoint_id",r),n.sendNoResponseBody(this.requestCtx)}patch(t,r,n){let o=new ht.SvixRequest(ht.HttpMethod.PATCH,"/api/v1/app/{app_id}/endpoint/{endpoint_id}");return o.setPathParam("app_id",t),o.setPathParam("endpoint_id",r),o.setBody(H0e.EndpointPatchSerializer._toJsonObject(n)),o.send(this.requestCtx,p_.EndpointOutSerializer._fromJsonObject)}getHeaders(t,r){let n=new ht.SvixRequest(ht.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/headers");return n.setPathParam("app_id",t),n.setPathParam("endpoint_id",r),n.send(this.requestCtx,F0e.EndpointHeadersOutSerializer._fromJsonObject)}updateHeaders(t,r,n){let o=new ht.SvixRequest(ht.HttpMethod.PUT,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/headers");return o.setPathParam("app_id",t),o.setPathParam("endpoint_id",r),o.setBody(L0e.EndpointHeadersInSerializer._toJsonObject(n)),o.sendNoResponseBody(this.requestCtx)}headersUpdate(t,r,n){return this.updateHeaders(t,r,n)}patchHeaders(t,r,n){let o=new ht.SvixRequest(ht.HttpMethod.PATCH,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/headers");return o.setPathParam("app_id",t),o.setPathParam("endpoint_id",r),o.setBody(B0e.EndpointHeadersPatchInSerializer._toJsonObject(n)),o.sendNoResponseBody(this.requestCtx)}headersPatch(t,r,n){return this.patchHeaders(t,r,n)}recover(t,r,n,o){let i=new ht.SvixRequest(ht.HttpMethod.POST,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/recover");return i.setPathParam("app_id",t),i.setPathParam("endpoint_id",r),i.setHeaderParam("idempotency-key",o?.idempotencyKey),i.setBody(rTe.RecoverInSerializer._toJsonObject(n)),i.send(this.requestCtx,nTe.RecoverOutSerializer._fromJsonObject)}replayMissing(t,r,n,o){let i=new ht.SvixRequest(ht.HttpMethod.POST,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/replay-missing");return i.setPathParam("app_id",t),i.setPathParam("endpoint_id",r),i.setHeaderParam("idempotency-key",o?.idempotencyKey),i.setBody(oTe.ReplayInSerializer._toJsonObject(n)),i.send(this.requestCtx,iTe.ReplayOutSerializer._fromJsonObject)}getSecret(t,r){let n=new ht.SvixRequest(ht.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/secret");return n.setPathParam("app_id",t),n.setPathParam("endpoint_id",r),n.send(this.requestCtx,V0e.EndpointSecretOutSerializer._fromJsonObject)}rotateSecret(t,r,n,o){let i=new ht.SvixRequest(ht.HttpMethod.POST,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/secret/rotate");return i.setPathParam("app_id",t),i.setPathParam("endpoint_id",r),i.setHeaderParam("idempotency-key",o?.idempotencyKey),i.setBody(Z0e.EndpointSecretRotateInSerializer._toJsonObject(n)),i.sendNoResponseBody(this.requestCtx)}sendExample(t,r,n,o){let i=new ht.SvixRequest(ht.HttpMethod.POST,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/send-example");return i.setPathParam("app_id",t),i.setPathParam("endpoint_id",r),i.setHeaderParam("idempotency-key",o?.idempotencyKey),i.setBody(Y0e.EventExampleInSerializer._toJsonObject(n)),i.send(this.requestCtx,tTe.MessageOutSerializer._fromJsonObject)}getStats(t,r,n){let o=new ht.SvixRequest(ht.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/stats");return o.setPathParam("app_id",t),o.setPathParam("endpoint_id",r),o.setQueryParam("since",n?.since),o.setQueryParam("until",n?.until),o.send(this.requestCtx,K0e.EndpointStatsSerializer._fromJsonObject)}transformationGet(t,r){let n=new ht.SvixRequest(ht.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/transformation");return n.setPathParam("app_id",t),n.setPathParam("endpoint_id",r),n.send(this.requestCtx,W0e.EndpointTransformationOutSerializer._fromJsonObject)}patchTransformation(t,r,n){let o=new ht.SvixRequest(ht.HttpMethod.PATCH,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/transformation");return o.setPathParam("app_id",t),o.setPathParam("endpoint_id",r),o.setBody(Q0e.EndpointTransformationPatchSerializer._toJsonObject(n)),o.sendNoResponseBody(this.requestCtx)}transformationPartialUpdate(t,r,n){let o=new ht.SvixRequest(ht.HttpMethod.PATCH,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/transformation");return o.setPathParam("app_id",t),o.setPathParam("endpoint_id",r),o.setBody(G0e.EndpointTransformationInSerializer._toJsonObject(n)),o.sendNoResponseBody(this.requestCtx)}};m_.Endpoint=L$});var F$=M(f_=>{"use strict";Object.defineProperty(f_,"__esModule",{value:!0});f_.EventTypeInSerializer=void 0;f_.EventTypeInSerializer={_fromJsonObject(e){return{archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,name:e.name,schemas:e.schemas}},_toJsonObject(e){return{archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,name:e.name,schemas:e.schemas}}}});var vK=M(h_=>{"use strict";Object.defineProperty(h_,"__esModule",{value:!0});h_.EnvironmentInSerializer=void 0;var gK=j$(),yK=F$();h_.EnvironmentInSerializer={_fromJsonObject(e){var t,r;return{connectors:(t=e.connectors)===null||t===void 0?void 0:t.map(n=>gK.ConnectorInSerializer._fromJsonObject(n)),eventTypes:(r=e.eventTypes)===null||r===void 0?void 0:r.map(n=>yK.EventTypeInSerializer._fromJsonObject(n)),settings:e.settings}},_toJsonObject(e){var t,r;return{connectors:(t=e.connectors)===null||t===void 0?void 0:t.map(n=>gK.ConnectorInSerializer._toJsonObject(n)),eventTypes:(r=e.eventTypes)===null||r===void 0?void 0:r.map(n=>yK.EventTypeInSerializer._toJsonObject(n)),settings:e.settings}}}});var y_=M(g_=>{"use strict";Object.defineProperty(g_,"__esModule",{value:!0});g_.EventTypeOutSerializer=void 0;g_.EventTypeOutSerializer={_fromJsonObject(e){return{archived:e.archived,createdAt:new Date(e.createdAt),deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,name:e.name,schemas:e.schemas,updatedAt:new Date(e.updatedAt)}},_toJsonObject(e){return{archived:e.archived,createdAt:e.createdAt,deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,name:e.name,schemas:e.schemas,updatedAt:e.updatedAt}}}});var SK=M(v_=>{"use strict";Object.defineProperty(v_,"__esModule",{value:!0});v_.EnvironmentOutSerializer=void 0;var _K=Uv(),bK=y_();v_.EnvironmentOutSerializer={_fromJsonObject(e){return{connectors:e.connectors.map(t=>_K.ConnectorOutSerializer._fromJsonObject(t)),createdAt:new Date(e.createdAt),eventTypes:e.eventTypes.map(t=>bK.EventTypeOutSerializer._fromJsonObject(t)),settings:e.settings,version:e.version}},_toJsonObject(e){return{connectors:e.connectors.map(t=>_K.ConnectorOutSerializer._toJsonObject(t)),createdAt:e.createdAt,eventTypes:e.eventTypes.map(t=>bK.EventTypeOutSerializer._toJsonObject(t)),settings:e.settings,version:e.version}}}});var wK=M(b_=>{"use strict";Object.defineProperty(b_,"__esModule",{value:!0});b_.Environment=void 0;var aTe=vK(),sTe=SK(),__=nr(),B$=class{static{a(this,"Environment")}constructor(t){this.requestCtx=t}export(t){let r=new __.SvixRequest(__.HttpMethod.POST,"/api/v1/environment/export");return r.setHeaderParam("idempotency-key",t?.idempotencyKey),r.send(this.requestCtx,sTe.EnvironmentOutSerializer._fromJsonObject)}import(t,r){let n=new __.SvixRequest(__.HttpMethod.POST,"/api/v1/environment/import");return n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.setBody(aTe.EnvironmentInSerializer._toJsonObject(t)),n.sendNoResponseBody(this.requestCtx)}};b_.Environment=B$});var xK=M(S_=>{"use strict";Object.defineProperty(S_,"__esModule",{value:!0});S_.EventTypeImportOpenApiInSerializer=void 0;S_.EventTypeImportOpenApiInSerializer={_fromJsonObject(e){return{dryRun:e.dryRun,replaceAll:e.replaceAll,spec:e.spec,specRaw:e.specRaw}},_toJsonObject(e){return{dryRun:e.dryRun,replaceAll:e.replaceAll,spec:e.spec,specRaw:e.specRaw}}}});var TK=M(w_=>{"use strict";Object.defineProperty(w_,"__esModule",{value:!0});w_.EventTypeFromOpenApiSerializer=void 0;w_.EventTypeFromOpenApiSerializer={_fromJsonObject(e){return{deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,name:e.name,schemas:e.schemas}},_toJsonObject(e){return{deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,name:e.name,schemas:e.schemas}}}});var kK=M(x_=>{"use strict";Object.defineProperty(x_,"__esModule",{value:!0});x_.EventTypeImportOpenApiOutDataSerializer=void 0;var EK=TK();x_.EventTypeImportOpenApiOutDataSerializer={_fromJsonObject(e){var t;return{modified:e.modified,toModify:(t=e.to_modify)===null||t===void 0?void 0:t.map(r=>EK.EventTypeFromOpenApiSerializer._fromJsonObject(r))}},_toJsonObject(e){var t;return{modified:e.modified,to_modify:(t=e.toModify)===null||t===void 0?void 0:t.map(r=>EK.EventTypeFromOpenApiSerializer._toJsonObject(r))}}}});var IK=M(T_=>{"use strict";Object.defineProperty(T_,"__esModule",{value:!0});T_.EventTypeImportOpenApiOutSerializer=void 0;var PK=kK();T_.EventTypeImportOpenApiOutSerializer={_fromJsonObject(e){return{data:PK.EventTypeImportOpenApiOutDataSerializer._fromJsonObject(e.data)}},_toJsonObject(e){return{data:PK.EventTypeImportOpenApiOutDataSerializer._toJsonObject(e.data)}}}});var OK=M(E_=>{"use strict";Object.defineProperty(E_,"__esModule",{value:!0});E_.EventTypePatchSerializer=void 0;E_.EventTypePatchSerializer={_fromJsonObject(e){return{archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,schemas:e.schemas}},_toJsonObject(e){return{archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,schemas:e.schemas}}}});var AK=M(k_=>{"use strict";Object.defineProperty(k_,"__esModule",{value:!0});k_.EventTypeUpdateSerializer=void 0;k_.EventTypeUpdateSerializer={_fromJsonObject(e){return{archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,schemas:e.schemas}},_toJsonObject(e){return{archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlag:e.featureFlag,featureFlags:e.featureFlags,groupName:e.groupName,schemas:e.schemas}}}});var RK=M(P_=>{"use strict";Object.defineProperty(P_,"__esModule",{value:!0});P_.ListResponseEventTypeOutSerializer=void 0;var CK=y_();P_.ListResponseEventTypeOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>CK.EventTypeOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>CK.EventTypeOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var $K=M(O_=>{"use strict";Object.defineProperty(O_,"__esModule",{value:!0});O_.EventType=void 0;var uTe=xK(),cTe=IK(),lTe=F$(),I_=y_(),dTe=OK(),pTe=AK(),mTe=RK(),An=nr(),J$=class{static{a(this,"EventType")}constructor(t){this.requestCtx=t}list(t){let r=new An.SvixRequest(An.HttpMethod.GET,"/api/v1/event-type");return r.setQueryParam("limit",t?.limit),r.setQueryParam("iterator",t?.iterator),r.setQueryParam("order",t?.order),r.setQueryParam("include_archived",t?.includeArchived),r.setQueryParam("with_content",t?.withContent),r.send(this.requestCtx,mTe.ListResponseEventTypeOutSerializer._fromJsonObject)}create(t,r){let n=new An.SvixRequest(An.HttpMethod.POST,"/api/v1/event-type");return n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.setBody(lTe.EventTypeInSerializer._toJsonObject(t)),n.send(this.requestCtx,I_.EventTypeOutSerializer._fromJsonObject)}importOpenapi(t,r){let n=new An.SvixRequest(An.HttpMethod.POST,"/api/v1/event-type/import/openapi");return n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.setBody(uTe.EventTypeImportOpenApiInSerializer._toJsonObject(t)),n.send(this.requestCtx,cTe.EventTypeImportOpenApiOutSerializer._fromJsonObject)}get(t){let r=new An.SvixRequest(An.HttpMethod.GET,"/api/v1/event-type/{event_type_name}");return r.setPathParam("event_type_name",t),r.send(this.requestCtx,I_.EventTypeOutSerializer._fromJsonObject)}update(t,r){let n=new An.SvixRequest(An.HttpMethod.PUT,"/api/v1/event-type/{event_type_name}");return n.setPathParam("event_type_name",t),n.setBody(pTe.EventTypeUpdateSerializer._toJsonObject(r)),n.send(this.requestCtx,I_.EventTypeOutSerializer._fromJsonObject)}delete(t,r){let n=new An.SvixRequest(An.HttpMethod.DELETE,"/api/v1/event-type/{event_type_name}");return n.setPathParam("event_type_name",t),n.setQueryParam("expunge",r?.expunge),n.sendNoResponseBody(this.requestCtx)}patch(t,r){let n=new An.SvixRequest(An.HttpMethod.PATCH,"/api/v1/event-type/{event_type_name}");return n.setPathParam("event_type_name",t),n.setBody(dTe.EventTypePatchSerializer._toJsonObject(r)),n.send(this.requestCtx,I_.EventTypeOutSerializer._fromJsonObject)}};O_.EventType=J$});var zK=M(A_=>{"use strict";Object.defineProperty(A_,"__esModule",{value:!0});A_.Health=void 0;var NK=nr(),H$=class{static{a(this,"Health")}constructor(t){this.requestCtx=t}get(){return new NK.SvixRequest(NK.HttpMethod.GET,"/api/v1/health").sendNoResponseBody(this.requestCtx)}};A_.Health=H$});var jK=M(C_=>{"use strict";Object.defineProperty(C_,"__esModule",{value:!0});C_.IngestSourceConsumerPortalAccessInSerializer=void 0;C_.IngestSourceConsumerPortalAccessInSerializer={_fromJsonObject(e){return{expiry:e.expiry,readOnly:e.readOnly}},_toJsonObject(e){return{expiry:e.expiry,readOnly:e.readOnly}}}});var DK=M(R_=>{"use strict";Object.defineProperty(R_,"__esModule",{value:!0});R_.IngestEndpointHeadersInSerializer=void 0;R_.IngestEndpointHeadersInSerializer={_fromJsonObject(e){return{headers:e.headers}},_toJsonObject(e){return{headers:e.headers}}}});var MK=M($_=>{"use strict";Object.defineProperty($_,"__esModule",{value:!0});$_.IngestEndpointHeadersOutSerializer=void 0;$_.IngestEndpointHeadersOutSerializer={_fromJsonObject(e){return{headers:e.headers,sensitive:e.sensitive}},_toJsonObject(e){return{headers:e.headers,sensitive:e.sensitive}}}});var qK=M(N_=>{"use strict";Object.defineProperty(N_,"__esModule",{value:!0});N_.IngestEndpointInSerializer=void 0;N_.IngestEndpointInSerializer={_fromJsonObject(e){return{description:e.description,disabled:e.disabled,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url}},_toJsonObject(e){return{description:e.description,disabled:e.disabled,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url}}}});var V$=M(z_=>{"use strict";Object.defineProperty(z_,"__esModule",{value:!0});z_.IngestEndpointOutSerializer=void 0;z_.IngestEndpointOutSerializer={_fromJsonObject(e){return{createdAt:new Date(e.createdAt),description:e.description,disabled:e.disabled,id:e.id,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,updatedAt:new Date(e.updatedAt),url:e.url}},_toJsonObject(e){return{createdAt:e.createdAt,description:e.description,disabled:e.disabled,id:e.id,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,updatedAt:e.updatedAt,url:e.url}}}});var UK=M(j_=>{"use strict";Object.defineProperty(j_,"__esModule",{value:!0});j_.IngestEndpointSecretInSerializer=void 0;j_.IngestEndpointSecretInSerializer={_fromJsonObject(e){return{key:e.key}},_toJsonObject(e){return{key:e.key}}}});var LK=M(D_=>{"use strict";Object.defineProperty(D_,"__esModule",{value:!0});D_.IngestEndpointSecretOutSerializer=void 0;D_.IngestEndpointSecretOutSerializer={_fromJsonObject(e){return{key:e.key}},_toJsonObject(e){return{key:e.key}}}});var FK=M(M_=>{"use strict";Object.defineProperty(M_,"__esModule",{value:!0});M_.IngestEndpointTransformationOutSerializer=void 0;M_.IngestEndpointTransformationOutSerializer={_fromJsonObject(e){return{code:e.code,enabled:e.enabled}},_toJsonObject(e){return{code:e.code,enabled:e.enabled}}}});var BK=M(q_=>{"use strict";Object.defineProperty(q_,"__esModule",{value:!0});q_.IngestEndpointTransformationPatchSerializer=void 0;q_.IngestEndpointTransformationPatchSerializer={_fromJsonObject(e){return{code:e.code,enabled:e.enabled}},_toJsonObject(e){return{code:e.code,enabled:e.enabled}}}});var JK=M(U_=>{"use strict";Object.defineProperty(U_,"__esModule",{value:!0});U_.IngestEndpointUpdateSerializer=void 0;U_.IngestEndpointUpdateSerializer={_fromJsonObject(e){return{description:e.description,disabled:e.disabled,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,url:e.url}},_toJsonObject(e){return{description:e.description,disabled:e.disabled,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,url:e.url}}}});var VK=M(L_=>{"use strict";Object.defineProperty(L_,"__esModule",{value:!0});L_.ListResponseIngestEndpointOutSerializer=void 0;var HK=V$();L_.ListResponseIngestEndpointOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>HK.IngestEndpointOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>HK.IngestEndpointOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var ZK=M(F_=>{"use strict";Object.defineProperty(F_,"__esModule",{value:!0});F_.IngestEndpoint=void 0;var fTe=DK(),hTe=MK(),gTe=qK(),Z$=V$(),yTe=UK(),vTe=LK(),_Te=FK(),bTe=BK(),STe=JK(),wTe=VK(),mr=nr(),K$=class{static{a(this,"IngestEndpoint")}constructor(t){this.requestCtx=t}list(t,r){let n=new mr.SvixRequest(mr.HttpMethod.GET,"/ingest/api/v1/source/{source_id}/endpoint");return n.setPathParam("source_id",t),n.setQueryParam("limit",r?.limit),n.setQueryParam("iterator",r?.iterator),n.setQueryParam("order",r?.order),n.send(this.requestCtx,wTe.ListResponseIngestEndpointOutSerializer._fromJsonObject)}create(t,r,n){let o=new mr.SvixRequest(mr.HttpMethod.POST,"/ingest/api/v1/source/{source_id}/endpoint");return o.setPathParam("source_id",t),o.setHeaderParam("idempotency-key",n?.idempotencyKey),o.setBody(gTe.IngestEndpointInSerializer._toJsonObject(r)),o.send(this.requestCtx,Z$.IngestEndpointOutSerializer._fromJsonObject)}get(t,r){let n=new mr.SvixRequest(mr.HttpMethod.GET,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}");return n.setPathParam("source_id",t),n.setPathParam("endpoint_id",r),n.send(this.requestCtx,Z$.IngestEndpointOutSerializer._fromJsonObject)}update(t,r,n){let o=new mr.SvixRequest(mr.HttpMethod.PUT,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}");return o.setPathParam("source_id",t),o.setPathParam("endpoint_id",r),o.setBody(STe.IngestEndpointUpdateSerializer._toJsonObject(n)),o.send(this.requestCtx,Z$.IngestEndpointOutSerializer._fromJsonObject)}delete(t,r){let n=new mr.SvixRequest(mr.HttpMethod.DELETE,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}");return n.setPathParam("source_id",t),n.setPathParam("endpoint_id",r),n.sendNoResponseBody(this.requestCtx)}getHeaders(t,r){let n=new mr.SvixRequest(mr.HttpMethod.GET,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/headers");return n.setPathParam("source_id",t),n.setPathParam("endpoint_id",r),n.send(this.requestCtx,hTe.IngestEndpointHeadersOutSerializer._fromJsonObject)}updateHeaders(t,r,n){let o=new mr.SvixRequest(mr.HttpMethod.PUT,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/headers");return o.setPathParam("source_id",t),o.setPathParam("endpoint_id",r),o.setBody(fTe.IngestEndpointHeadersInSerializer._toJsonObject(n)),o.sendNoResponseBody(this.requestCtx)}getSecret(t,r){let n=new mr.SvixRequest(mr.HttpMethod.GET,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/secret");return n.setPathParam("source_id",t),n.setPathParam("endpoint_id",r),n.send(this.requestCtx,vTe.IngestEndpointSecretOutSerializer._fromJsonObject)}rotateSecret(t,r,n,o){let i=new mr.SvixRequest(mr.HttpMethod.POST,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/secret/rotate");return i.setPathParam("source_id",t),i.setPathParam("endpoint_id",r),i.setHeaderParam("idempotency-key",o?.idempotencyKey),i.setBody(yTe.IngestEndpointSecretInSerializer._toJsonObject(n)),i.sendNoResponseBody(this.requestCtx)}getTransformation(t,r){let n=new mr.SvixRequest(mr.HttpMethod.GET,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/transformation");return n.setPathParam("source_id",t),n.setPathParam("endpoint_id",r),n.send(this.requestCtx,_Te.IngestEndpointTransformationOutSerializer._fromJsonObject)}setTransformation(t,r,n){let o=new mr.SvixRequest(mr.HttpMethod.PATCH,"/ingest/api/v1/source/{source_id}/endpoint/{endpoint_id}/transformation");return o.setPathParam("source_id",t),o.setPathParam("endpoint_id",r),o.setBody(bTe.IngestEndpointTransformationPatchSerializer._toJsonObject(n)),o.sendNoResponseBody(this.requestCtx)}};F_.IngestEndpoint=K$});var KK=M(B_=>{"use strict";Object.defineProperty(B_,"__esModule",{value:!0});B_.AdobeSignConfigSerializer=void 0;B_.AdobeSignConfigSerializer={_fromJsonObject(e){return{clientId:e.clientId}},_toJsonObject(e){return{clientId:e.clientId}}}});var GK=M(J_=>{"use strict";Object.defineProperty(J_,"__esModule",{value:!0});J_.AirwallexConfigSerializer=void 0;J_.AirwallexConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var WK=M(H_=>{"use strict";Object.defineProperty(H_,"__esModule",{value:!0});H_.CheckbookConfigSerializer=void 0;H_.CheckbookConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var G$=M(V_=>{"use strict";Object.defineProperty(V_,"__esModule",{value:!0});V_.CronConfigSerializer=void 0;V_.CronConfigSerializer={_fromJsonObject(e){return{contentType:e.contentType,payload:e.payload,schedule:e.schedule}},_toJsonObject(e){return{contentType:e.contentType,payload:e.payload,schedule:e.schedule}}}});var QK=M(Z_=>{"use strict";Object.defineProperty(Z_,"__esModule",{value:!0});Z_.DocusignConfigSerializer=void 0;Z_.DocusignConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var XK=M(K_=>{"use strict";Object.defineProperty(K_,"__esModule",{value:!0});K_.EasypostConfigSerializer=void 0;K_.EasypostConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var YK=M(G_=>{"use strict";Object.defineProperty(G_,"__esModule",{value:!0});G_.GithubConfigSerializer=void 0;G_.GithubConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var eG=M(W_=>{"use strict";Object.defineProperty(W_,"__esModule",{value:!0});W_.HubspotConfigSerializer=void 0;W_.HubspotConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var tG=M(Q_=>{"use strict";Object.defineProperty(Q_,"__esModule",{value:!0});Q_.OrumIoConfigSerializer=void 0;Q_.OrumIoConfigSerializer={_fromJsonObject(e){return{publicKey:e.publicKey}},_toJsonObject(e){return{publicKey:e.publicKey}}}});var rG=M(X_=>{"use strict";Object.defineProperty(X_,"__esModule",{value:!0});X_.PandaDocConfigSerializer=void 0;X_.PandaDocConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var nG=M(Y_=>{"use strict";Object.defineProperty(Y_,"__esModule",{value:!0});Y_.PortIoConfigSerializer=void 0;Y_.PortIoConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var oG=M(eb=>{"use strict";Object.defineProperty(eb,"__esModule",{value:!0});eb.RutterConfigSerializer=void 0;eb.RutterConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var iG=M(tb=>{"use strict";Object.defineProperty(tb,"__esModule",{value:!0});tb.SegmentConfigSerializer=void 0;tb.SegmentConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var aG=M(rb=>{"use strict";Object.defineProperty(rb,"__esModule",{value:!0});rb.ShopifyConfigSerializer=void 0;rb.ShopifyConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var sG=M(nb=>{"use strict";Object.defineProperty(nb,"__esModule",{value:!0});nb.SlackConfigSerializer=void 0;nb.SlackConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var uG=M(ob=>{"use strict";Object.defineProperty(ob,"__esModule",{value:!0});ob.StripeConfigSerializer=void 0;ob.StripeConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var cG=M(ib=>{"use strict";Object.defineProperty(ib,"__esModule",{value:!0});ib.SvixConfigSerializer=void 0;ib.SvixConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var lG=M(ab=>{"use strict";Object.defineProperty(ab,"__esModule",{value:!0});ab.TelnyxConfigSerializer=void 0;ab.TelnyxConfigSerializer={_fromJsonObject(e){return{publicKey:e.publicKey}},_toJsonObject(e){return{publicKey:e.publicKey}}}});var dG=M(sb=>{"use strict";Object.defineProperty(sb,"__esModule",{value:!0});sb.VapiConfigSerializer=void 0;sb.VapiConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var pG=M(ub=>{"use strict";Object.defineProperty(ub,"__esModule",{value:!0});ub.VeriffConfigSerializer=void 0;ub.VeriffConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var mG=M(cb=>{"use strict";Object.defineProperty(cb,"__esModule",{value:!0});cb.ZoomConfigSerializer=void 0;cb.ZoomConfigSerializer={_fromJsonObject(e){return{secret:e.secret}},_toJsonObject(e){return{secret:e.secret}}}});var NG=M(lb=>{"use strict";Object.defineProperty(lb,"__esModule",{value:!0});lb.IngestSourceInSerializer=void 0;var fG=KK(),hG=GK(),gG=WK(),yG=G$(),vG=QK(),_G=XK(),bG=YK(),SG=eG(),wG=tG(),xG=rG(),TG=nG(),EG=oG(),kG=iG(),PG=aG(),IG=sG(),OG=uG(),xt=cG(),AG=lG(),CG=dG(),RG=pG(),$G=mG();lb.IngestSourceInSerializer={_fromJsonObject(e){let t=e.type;function r(n){switch(n){case"generic-webhook":return{};case"cron":return yG.CronConfigSerializer._fromJsonObject(e.config);case"adobe-sign":return fG.AdobeSignConfigSerializer._fromJsonObject(e.config);case"beehiiv":return xt.SvixConfigSerializer._fromJsonObject(e.config);case"brex":return xt.SvixConfigSerializer._fromJsonObject(e.config);case"checkbook":return gG.CheckbookConfigSerializer._fromJsonObject(e.config);case"clerk":return xt.SvixConfigSerializer._fromJsonObject(e.config);case"docusign":return vG.DocusignConfigSerializer._fromJsonObject(e.config);case"easypost":return _G.EasypostConfigSerializer._fromJsonObject(e.config);case"github":return bG.GithubConfigSerializer._fromJsonObject(e.config);case"guesty":return xt.SvixConfigSerializer._fromJsonObject(e.config);case"hubspot":return SG.HubspotConfigSerializer._fromJsonObject(e.config);case"incident-io":return xt.SvixConfigSerializer._fromJsonObject(e.config);case"lithic":return xt.SvixConfigSerializer._fromJsonObject(e.config);case"nash":return xt.SvixConfigSerializer._fromJsonObject(e.config);case"orum-io":return wG.OrumIoConfigSerializer._fromJsonObject(e.config);case"panda-doc":return xG.PandaDocConfigSerializer._fromJsonObject(e.config);case"port-io":return TG.PortIoConfigSerializer._fromJsonObject(e.config);case"pleo":return xt.SvixConfigSerializer._fromJsonObject(e.config);case"replicate":return xt.SvixConfigSerializer._fromJsonObject(e.config);case"resend":return xt.SvixConfigSerializer._fromJsonObject(e.config);case"rutter":return EG.RutterConfigSerializer._fromJsonObject(e.config);case"safebase":return xt.SvixConfigSerializer._fromJsonObject(e.config);case"sardine":return xt.SvixConfigSerializer._fromJsonObject(e.config);case"segment":return kG.SegmentConfigSerializer._fromJsonObject(e.config);case"shopify":return PG.ShopifyConfigSerializer._fromJsonObject(e.config);case"slack":return IG.SlackConfigSerializer._fromJsonObject(e.config);case"stripe":return OG.StripeConfigSerializer._fromJsonObject(e.config);case"stych":return xt.SvixConfigSerializer._fromJsonObject(e.config);case"svix":return xt.SvixConfigSerializer._fromJsonObject(e.config);case"zoom":return $G.ZoomConfigSerializer._fromJsonObject(e.config);case"telnyx":return AG.TelnyxConfigSerializer._fromJsonObject(e.config);case"vapi":return CG.VapiConfigSerializer._fromJsonObject(e.config);case"open-ai":return xt.SvixConfigSerializer._fromJsonObject(e.config);case"render":return xt.SvixConfigSerializer._fromJsonObject(e.config);case"veriff":return RG.VeriffConfigSerializer._fromJsonObject(e.config);case"airwallex":return hG.AirwallexConfigSerializer._fromJsonObject(e.config);default:throw new Error(`Unexpected type: ${n}`)}}return a(r,"getConfig"),{type:t,config:r(t),metadata:e.metadata,name:e.name,uid:e.uid}},_toJsonObject(e){let t;switch(e.type){case"generic-webhook":t={};break;case"cron":t=yG.CronConfigSerializer._toJsonObject(e.config);break;case"adobe-sign":t=fG.AdobeSignConfigSerializer._toJsonObject(e.config);break;case"beehiiv":t=xt.SvixConfigSerializer._toJsonObject(e.config);break;case"brex":t=xt.SvixConfigSerializer._toJsonObject(e.config);break;case"checkbook":t=gG.CheckbookConfigSerializer._toJsonObject(e.config);break;case"clerk":t=xt.SvixConfigSerializer._toJsonObject(e.config);break;case"docusign":t=vG.DocusignConfigSerializer._toJsonObject(e.config);break;case"easypost":t=_G.EasypostConfigSerializer._toJsonObject(e.config);break;case"github":t=bG.GithubConfigSerializer._toJsonObject(e.config);break;case"guesty":t=xt.SvixConfigSerializer._toJsonObject(e.config);break;case"hubspot":t=SG.HubspotConfigSerializer._toJsonObject(e.config);break;case"incident-io":t=xt.SvixConfigSerializer._toJsonObject(e.config);break;case"lithic":t=xt.SvixConfigSerializer._toJsonObject(e.config);break;case"nash":t=xt.SvixConfigSerializer._toJsonObject(e.config);break;case"orum-io":t=wG.OrumIoConfigSerializer._toJsonObject(e.config);break;case"panda-doc":t=xG.PandaDocConfigSerializer._toJsonObject(e.config);break;case"port-io":t=TG.PortIoConfigSerializer._toJsonObject(e.config);break;case"pleo":t=xt.SvixConfigSerializer._toJsonObject(e.config);break;case"replicate":t=xt.SvixConfigSerializer._toJsonObject(e.config);break;case"resend":t=xt.SvixConfigSerializer._toJsonObject(e.config);break;case"rutter":t=EG.RutterConfigSerializer._toJsonObject(e.config);break;case"safebase":t=xt.SvixConfigSerializer._toJsonObject(e.config);break;case"sardine":t=xt.SvixConfigSerializer._toJsonObject(e.config);break;case"segment":t=kG.SegmentConfigSerializer._toJsonObject(e.config);break;case"shopify":t=PG.ShopifyConfigSerializer._toJsonObject(e.config);break;case"slack":t=IG.SlackConfigSerializer._toJsonObject(e.config);break;case"stripe":t=OG.StripeConfigSerializer._toJsonObject(e.config);break;case"stych":t=xt.SvixConfigSerializer._toJsonObject(e.config);break;case"svix":t=xt.SvixConfigSerializer._toJsonObject(e.config);break;case"zoom":t=$G.ZoomConfigSerializer._toJsonObject(e.config);break;case"telnyx":t=AG.TelnyxConfigSerializer._toJsonObject(e.config);break;case"vapi":t=CG.VapiConfigSerializer._toJsonObject(e.config);break;case"open-ai":t=xt.SvixConfigSerializer._toJsonObject(e.config);break;case"render":t=xt.SvixConfigSerializer._toJsonObject(e.config);break;case"veriff":t=RG.VeriffConfigSerializer._toJsonObject(e.config);break;case"airwallex":t=hG.AirwallexConfigSerializer._toJsonObject(e.config);break}return{type:e.type,config:t,metadata:e.metadata,name:e.name,uid:e.uid}}}});var zG=M(db=>{"use strict";Object.defineProperty(db,"__esModule",{value:!0});db.AdobeSignConfigOutSerializer=void 0;db.AdobeSignConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var jG=M(pb=>{"use strict";Object.defineProperty(pb,"__esModule",{value:!0});pb.AirwallexConfigOutSerializer=void 0;pb.AirwallexConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var DG=M(mb=>{"use strict";Object.defineProperty(mb,"__esModule",{value:!0});mb.CheckbookConfigOutSerializer=void 0;mb.CheckbookConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var MG=M(fb=>{"use strict";Object.defineProperty(fb,"__esModule",{value:!0});fb.DocusignConfigOutSerializer=void 0;fb.DocusignConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var qG=M(hb=>{"use strict";Object.defineProperty(hb,"__esModule",{value:!0});hb.EasypostConfigOutSerializer=void 0;hb.EasypostConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var UG=M(gb=>{"use strict";Object.defineProperty(gb,"__esModule",{value:!0});gb.GithubConfigOutSerializer=void 0;gb.GithubConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var LG=M(yb=>{"use strict";Object.defineProperty(yb,"__esModule",{value:!0});yb.HubspotConfigOutSerializer=void 0;yb.HubspotConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var FG=M(vb=>{"use strict";Object.defineProperty(vb,"__esModule",{value:!0});vb.OrumIoConfigOutSerializer=void 0;vb.OrumIoConfigOutSerializer={_fromJsonObject(e){return{publicKey:e.publicKey}},_toJsonObject(e){return{publicKey:e.publicKey}}}});var BG=M(_b=>{"use strict";Object.defineProperty(_b,"__esModule",{value:!0});_b.PandaDocConfigOutSerializer=void 0;_b.PandaDocConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var JG=M(bb=>{"use strict";Object.defineProperty(bb,"__esModule",{value:!0});bb.PortIoConfigOutSerializer=void 0;bb.PortIoConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var HG=M(Sb=>{"use strict";Object.defineProperty(Sb,"__esModule",{value:!0});Sb.RutterConfigOutSerializer=void 0;Sb.RutterConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var VG=M(wb=>{"use strict";Object.defineProperty(wb,"__esModule",{value:!0});wb.SegmentConfigOutSerializer=void 0;wb.SegmentConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var ZG=M(xb=>{"use strict";Object.defineProperty(xb,"__esModule",{value:!0});xb.ShopifyConfigOutSerializer=void 0;xb.ShopifyConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var KG=M(Tb=>{"use strict";Object.defineProperty(Tb,"__esModule",{value:!0});Tb.SlackConfigOutSerializer=void 0;Tb.SlackConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var GG=M(Eb=>{"use strict";Object.defineProperty(Eb,"__esModule",{value:!0});Eb.StripeConfigOutSerializer=void 0;Eb.StripeConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var WG=M(kb=>{"use strict";Object.defineProperty(kb,"__esModule",{value:!0});kb.SvixConfigOutSerializer=void 0;kb.SvixConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var QG=M(Pb=>{"use strict";Object.defineProperty(Pb,"__esModule",{value:!0});Pb.TelnyxConfigOutSerializer=void 0;Pb.TelnyxConfigOutSerializer={_fromJsonObject(e){return{publicKey:e.publicKey}},_toJsonObject(e){return{publicKey:e.publicKey}}}});var XG=M(Ib=>{"use strict";Object.defineProperty(Ib,"__esModule",{value:!0});Ib.VapiConfigOutSerializer=void 0;Ib.VapiConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var YG=M(Ob=>{"use strict";Object.defineProperty(Ob,"__esModule",{value:!0});Ob.VeriffConfigOutSerializer=void 0;Ob.VeriffConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var eW=M(Ab=>{"use strict";Object.defineProperty(Ab,"__esModule",{value:!0});Ab.ZoomConfigOutSerializer=void 0;Ab.ZoomConfigOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var W$=M(Cb=>{"use strict";Object.defineProperty(Cb,"__esModule",{value:!0});Cb.IngestSourceOutSerializer=void 0;var tW=zG(),rW=jG(),nW=DG(),oW=G$(),iW=MG(),aW=qG(),sW=UG(),uW=LG(),cW=FG(),lW=BG(),dW=JG(),pW=HG(),mW=VG(),fW=ZG(),hW=KG(),gW=GG(),Tt=WG(),yW=QG(),vW=XG(),_W=YG(),bW=eW();Cb.IngestSourceOutSerializer={_fromJsonObject(e){let t=e.type;function r(n){switch(n){case"generic-webhook":return{};case"cron":return oW.CronConfigSerializer._fromJsonObject(e.config);case"adobe-sign":return tW.AdobeSignConfigOutSerializer._fromJsonObject(e.config);case"beehiiv":return Tt.SvixConfigOutSerializer._fromJsonObject(e.config);case"brex":return Tt.SvixConfigOutSerializer._fromJsonObject(e.config);case"checkbook":return nW.CheckbookConfigOutSerializer._fromJsonObject(e.config);case"clerk":return Tt.SvixConfigOutSerializer._fromJsonObject(e.config);case"docusign":return iW.DocusignConfigOutSerializer._fromJsonObject(e.config);case"easypost":return aW.EasypostConfigOutSerializer._fromJsonObject(e.config);case"github":return sW.GithubConfigOutSerializer._fromJsonObject(e.config);case"guesty":return Tt.SvixConfigOutSerializer._fromJsonObject(e.config);case"hubspot":return uW.HubspotConfigOutSerializer._fromJsonObject(e.config);case"incident-io":return Tt.SvixConfigOutSerializer._fromJsonObject(e.config);case"lithic":return Tt.SvixConfigOutSerializer._fromJsonObject(e.config);case"nash":return Tt.SvixConfigOutSerializer._fromJsonObject(e.config);case"orum-io":return cW.OrumIoConfigOutSerializer._fromJsonObject(e.config);case"panda-doc":return lW.PandaDocConfigOutSerializer._fromJsonObject(e.config);case"port-io":return dW.PortIoConfigOutSerializer._fromJsonObject(e.config);case"pleo":return Tt.SvixConfigOutSerializer._fromJsonObject(e.config);case"replicate":return Tt.SvixConfigOutSerializer._fromJsonObject(e.config);case"resend":return Tt.SvixConfigOutSerializer._fromJsonObject(e.config);case"rutter":return pW.RutterConfigOutSerializer._fromJsonObject(e.config);case"safebase":return Tt.SvixConfigOutSerializer._fromJsonObject(e.config);case"sardine":return Tt.SvixConfigOutSerializer._fromJsonObject(e.config);case"segment":return mW.SegmentConfigOutSerializer._fromJsonObject(e.config);case"shopify":return fW.ShopifyConfigOutSerializer._fromJsonObject(e.config);case"slack":return hW.SlackConfigOutSerializer._fromJsonObject(e.config);case"stripe":return gW.StripeConfigOutSerializer._fromJsonObject(e.config);case"stych":return Tt.SvixConfigOutSerializer._fromJsonObject(e.config);case"svix":return Tt.SvixConfigOutSerializer._fromJsonObject(e.config);case"zoom":return bW.ZoomConfigOutSerializer._fromJsonObject(e.config);case"telnyx":return yW.TelnyxConfigOutSerializer._fromJsonObject(e.config);case"vapi":return vW.VapiConfigOutSerializer._fromJsonObject(e.config);case"open-ai":return Tt.SvixConfigOutSerializer._fromJsonObject(e.config);case"render":return Tt.SvixConfigOutSerializer._fromJsonObject(e.config);case"veriff":return _W.VeriffConfigOutSerializer._fromJsonObject(e.config);case"airwallex":return rW.AirwallexConfigOutSerializer._fromJsonObject(e.config);default:throw new Error(`Unexpected type: ${n}`)}}return a(r,"getConfig"),{type:t,config:r(t),createdAt:new Date(e.createdAt),id:e.id,ingestUrl:e.ingestUrl,metadata:e.metadata,name:e.name,uid:e.uid,updatedAt:new Date(e.updatedAt)}},_toJsonObject(e){let t;switch(e.type){case"generic-webhook":t={};break;case"cron":t=oW.CronConfigSerializer._toJsonObject(e.config);break;case"adobe-sign":t=tW.AdobeSignConfigOutSerializer._toJsonObject(e.config);break;case"beehiiv":t=Tt.SvixConfigOutSerializer._toJsonObject(e.config);break;case"brex":t=Tt.SvixConfigOutSerializer._toJsonObject(e.config);break;case"checkbook":t=nW.CheckbookConfigOutSerializer._toJsonObject(e.config);break;case"clerk":t=Tt.SvixConfigOutSerializer._toJsonObject(e.config);break;case"docusign":t=iW.DocusignConfigOutSerializer._toJsonObject(e.config);break;case"easypost":t=aW.EasypostConfigOutSerializer._toJsonObject(e.config);break;case"github":t=sW.GithubConfigOutSerializer._toJsonObject(e.config);break;case"guesty":t=Tt.SvixConfigOutSerializer._toJsonObject(e.config);break;case"hubspot":t=uW.HubspotConfigOutSerializer._toJsonObject(e.config);break;case"incident-io":t=Tt.SvixConfigOutSerializer._toJsonObject(e.config);break;case"lithic":t=Tt.SvixConfigOutSerializer._toJsonObject(e.config);break;case"nash":t=Tt.SvixConfigOutSerializer._toJsonObject(e.config);break;case"orum-io":t=cW.OrumIoConfigOutSerializer._toJsonObject(e.config);break;case"panda-doc":t=lW.PandaDocConfigOutSerializer._toJsonObject(e.config);break;case"port-io":t=dW.PortIoConfigOutSerializer._toJsonObject(e.config);break;case"pleo":t=Tt.SvixConfigOutSerializer._toJsonObject(e.config);break;case"replicate":t=Tt.SvixConfigOutSerializer._toJsonObject(e.config);break;case"resend":t=Tt.SvixConfigOutSerializer._toJsonObject(e.config);break;case"rutter":t=pW.RutterConfigOutSerializer._toJsonObject(e.config);break;case"safebase":t=Tt.SvixConfigOutSerializer._toJsonObject(e.config);break;case"sardine":t=Tt.SvixConfigOutSerializer._toJsonObject(e.config);break;case"segment":t=mW.SegmentConfigOutSerializer._toJsonObject(e.config);break;case"shopify":t=fW.ShopifyConfigOutSerializer._toJsonObject(e.config);break;case"slack":t=hW.SlackConfigOutSerializer._toJsonObject(e.config);break;case"stripe":t=gW.StripeConfigOutSerializer._toJsonObject(e.config);break;case"stych":t=Tt.SvixConfigOutSerializer._toJsonObject(e.config);break;case"svix":t=Tt.SvixConfigOutSerializer._toJsonObject(e.config);break;case"zoom":t=bW.ZoomConfigOutSerializer._toJsonObject(e.config);break;case"telnyx":t=yW.TelnyxConfigOutSerializer._toJsonObject(e.config);break;case"vapi":t=vW.VapiConfigOutSerializer._toJsonObject(e.config);break;case"open-ai":t=Tt.SvixConfigOutSerializer._toJsonObject(e.config);break;case"render":t=Tt.SvixConfigOutSerializer._toJsonObject(e.config);break;case"veriff":t=_W.VeriffConfigOutSerializer._toJsonObject(e.config);break;case"airwallex":t=rW.AirwallexConfigOutSerializer._toJsonObject(e.config);break}return{type:e.type,config:t,createdAt:e.createdAt,id:e.id,ingestUrl:e.ingestUrl,metadata:e.metadata,name:e.name,uid:e.uid,updatedAt:e.updatedAt}}}});var wW=M(Rb=>{"use strict";Object.defineProperty(Rb,"__esModule",{value:!0});Rb.ListResponseIngestSourceOutSerializer=void 0;var SW=W$();Rb.ListResponseIngestSourceOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>SW.IngestSourceOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>SW.IngestSourceOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var xW=M($b=>{"use strict";Object.defineProperty($b,"__esModule",{value:!0});$b.RotateTokenOutSerializer=void 0;$b.RotateTokenOutSerializer={_fromJsonObject(e){return{ingestUrl:e.ingestUrl}},_toJsonObject(e){return{ingestUrl:e.ingestUrl}}}});var EW=M(Nb=>{"use strict";Object.defineProperty(Nb,"__esModule",{value:!0});Nb.IngestSource=void 0;var TW=NG(),Q$=W$(),xTe=wW(),TTe=xW(),ao=nr(),X$=class{static{a(this,"IngestSource")}constructor(t){this.requestCtx=t}list(t){let r=new ao.SvixRequest(ao.HttpMethod.GET,"/ingest/api/v1/source");return r.setQueryParam("limit",t?.limit),r.setQueryParam("iterator",t?.iterator),r.setQueryParam("order",t?.order),r.send(this.requestCtx,xTe.ListResponseIngestSourceOutSerializer._fromJsonObject)}create(t,r){let n=new ao.SvixRequest(ao.HttpMethod.POST,"/ingest/api/v1/source");return n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.setBody(TW.IngestSourceInSerializer._toJsonObject(t)),n.send(this.requestCtx,Q$.IngestSourceOutSerializer._fromJsonObject)}get(t){let r=new ao.SvixRequest(ao.HttpMethod.GET,"/ingest/api/v1/source/{source_id}");return r.setPathParam("source_id",t),r.send(this.requestCtx,Q$.IngestSourceOutSerializer._fromJsonObject)}update(t,r){let n=new ao.SvixRequest(ao.HttpMethod.PUT,"/ingest/api/v1/source/{source_id}");return n.setPathParam("source_id",t),n.setBody(TW.IngestSourceInSerializer._toJsonObject(r)),n.send(this.requestCtx,Q$.IngestSourceOutSerializer._fromJsonObject)}delete(t){let r=new ao.SvixRequest(ao.HttpMethod.DELETE,"/ingest/api/v1/source/{source_id}");return r.setPathParam("source_id",t),r.sendNoResponseBody(this.requestCtx)}rotateToken(t,r){let n=new ao.SvixRequest(ao.HttpMethod.POST,"/ingest/api/v1/source/{source_id}/token/rotate");return n.setPathParam("source_id",t),n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.send(this.requestCtx,TTe.RotateTokenOutSerializer._fromJsonObject)}};Nb.IngestSource=X$});var PW=M(zb=>{"use strict";Object.defineProperty(zb,"__esModule",{value:!0});zb.Ingest=void 0;var ETe=R$(),kTe=jK(),PTe=ZK(),ITe=EW(),kW=nr(),Y$=class{static{a(this,"Ingest")}constructor(t){this.requestCtx=t}get endpoint(){return new PTe.IngestEndpoint(this.requestCtx)}get source(){return new ITe.IngestSource(this.requestCtx)}dashboard(t,r,n){let o=new kW.SvixRequest(kW.HttpMethod.POST,"/ingest/api/v1/source/{source_id}/dashboard");return o.setPathParam("source_id",t),o.setHeaderParam("idempotency-key",n?.idempotencyKey),o.setBody(kTe.IngestSourceConsumerPortalAccessInSerializer._toJsonObject(r)),o.send(this.requestCtx,ETe.DashboardAccessOutSerializer._fromJsonObject)}};zb.Ingest=Y$});var IW=M(jb=>{"use strict";Object.defineProperty(jb,"__esModule",{value:!0});jb.IntegrationInSerializer=void 0;jb.IntegrationInSerializer={_fromJsonObject(e){return{featureFlags:e.featureFlags,name:e.name}},_toJsonObject(e){return{featureFlags:e.featureFlags,name:e.name}}}});var OW=M(Db=>{"use strict";Object.defineProperty(Db,"__esModule",{value:!0});Db.IntegrationKeyOutSerializer=void 0;Db.IntegrationKeyOutSerializer={_fromJsonObject(e){return{key:e.key}},_toJsonObject(e){return{key:e.key}}}});var eN=M(Mb=>{"use strict";Object.defineProperty(Mb,"__esModule",{value:!0});Mb.IntegrationOutSerializer=void 0;Mb.IntegrationOutSerializer={_fromJsonObject(e){return{createdAt:new Date(e.createdAt),featureFlags:e.featureFlags,id:e.id,name:e.name,updatedAt:new Date(e.updatedAt)}},_toJsonObject(e){return{createdAt:e.createdAt,featureFlags:e.featureFlags,id:e.id,name:e.name,updatedAt:e.updatedAt}}}});var AW=M(qb=>{"use strict";Object.defineProperty(qb,"__esModule",{value:!0});qb.IntegrationUpdateSerializer=void 0;qb.IntegrationUpdateSerializer={_fromJsonObject(e){return{featureFlags:e.featureFlags,name:e.name}},_toJsonObject(e){return{featureFlags:e.featureFlags,name:e.name}}}});var RW=M(Ub=>{"use strict";Object.defineProperty(Ub,"__esModule",{value:!0});Ub.ListResponseIntegrationOutSerializer=void 0;var CW=eN();Ub.ListResponseIntegrationOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>CW.IntegrationOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>CW.IntegrationOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var NW=M(Lb=>{"use strict";Object.defineProperty(Lb,"__esModule",{value:!0});Lb.Integration=void 0;var OTe=IW(),$W=OW(),tN=eN(),ATe=AW(),CTe=RW(),Cn=nr(),rN=class{static{a(this,"Integration")}constructor(t){this.requestCtx=t}list(t,r){let n=new Cn.SvixRequest(Cn.HttpMethod.GET,"/api/v1/app/{app_id}/integration");return n.setPathParam("app_id",t),n.setQueryParam("limit",r?.limit),n.setQueryParam("iterator",r?.iterator),n.setQueryParam("order",r?.order),n.send(this.requestCtx,CTe.ListResponseIntegrationOutSerializer._fromJsonObject)}create(t,r,n){let o=new Cn.SvixRequest(Cn.HttpMethod.POST,"/api/v1/app/{app_id}/integration");return o.setPathParam("app_id",t),o.setHeaderParam("idempotency-key",n?.idempotencyKey),o.setBody(OTe.IntegrationInSerializer._toJsonObject(r)),o.send(this.requestCtx,tN.IntegrationOutSerializer._fromJsonObject)}get(t,r){let n=new Cn.SvixRequest(Cn.HttpMethod.GET,"/api/v1/app/{app_id}/integration/{integ_id}");return n.setPathParam("app_id",t),n.setPathParam("integ_id",r),n.send(this.requestCtx,tN.IntegrationOutSerializer._fromJsonObject)}update(t,r,n){let o=new Cn.SvixRequest(Cn.HttpMethod.PUT,"/api/v1/app/{app_id}/integration/{integ_id}");return o.setPathParam("app_id",t),o.setPathParam("integ_id",r),o.setBody(ATe.IntegrationUpdateSerializer._toJsonObject(n)),o.send(this.requestCtx,tN.IntegrationOutSerializer._fromJsonObject)}delete(t,r){let n=new Cn.SvixRequest(Cn.HttpMethod.DELETE,"/api/v1/app/{app_id}/integration/{integ_id}");return n.setPathParam("app_id",t),n.setPathParam("integ_id",r),n.sendNoResponseBody(this.requestCtx)}getKey(t,r){let n=new Cn.SvixRequest(Cn.HttpMethod.GET,"/api/v1/app/{app_id}/integration/{integ_id}/key");return n.setPathParam("app_id",t),n.setPathParam("integ_id",r),n.send(this.requestCtx,$W.IntegrationKeyOutSerializer._fromJsonObject)}rotateKey(t,r,n){let o=new Cn.SvixRequest(Cn.HttpMethod.POST,"/api/v1/app/{app_id}/integration/{integ_id}/key/rotate");return o.setPathParam("app_id",t),o.setPathParam("integ_id",r),o.setHeaderParam("idempotency-key",n?.idempotencyKey),o.send(this.requestCtx,$W.IntegrationKeyOutSerializer._fromJsonObject)}};Lb.Integration=rN});var DW=M(Fb=>{"use strict";Object.defineProperty(Fb,"__esModule",{value:!0});Fb.ExpungeAllContentsOutSerializer=void 0;var zW=Qa(),jW=Xa();Fb.ExpungeAllContentsOutSerializer={_fromJsonObject(e){return{id:e.id,status:zW.BackgroundTaskStatusSerializer._fromJsonObject(e.status),task:jW.BackgroundTaskTypeSerializer._fromJsonObject(e.task)}},_toJsonObject(e){return{id:e.id,status:zW.BackgroundTaskStatusSerializer._toJsonObject(e.status),task:jW.BackgroundTaskTypeSerializer._toJsonObject(e.task)}}}});var qW=M(Bb=>{"use strict";Object.defineProperty(Bb,"__esModule",{value:!0});Bb.ListResponseMessageOutSerializer=void 0;var MW=Dm();Bb.ListResponseMessageOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>MW.MessageOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>MW.MessageOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var UW=M(Jb=>{"use strict";Object.defineProperty(Jb,"__esModule",{value:!0});Jb.PollingEndpointConsumerSeekInSerializer=void 0;Jb.PollingEndpointConsumerSeekInSerializer={_fromJsonObject(e){return{after:new Date(e.after)}},_toJsonObject(e){return{after:e.after}}}});var LW=M(Hb=>{"use strict";Object.defineProperty(Hb,"__esModule",{value:!0});Hb.PollingEndpointConsumerSeekOutSerializer=void 0;Hb.PollingEndpointConsumerSeekOutSerializer={_fromJsonObject(e){return{iterator:e.iterator}},_toJsonObject(e){return{iterator:e.iterator}}}});var FW=M(Vb=>{"use strict";Object.defineProperty(Vb,"__esModule",{value:!0});Vb.PollingEndpointMessageOutSerializer=void 0;Vb.PollingEndpointMessageOutSerializer={_fromJsonObject(e){return{channels:e.channels,deliverAt:e.deliverAt?new Date(e.deliverAt):null,eventId:e.eventId,eventType:e.eventType,headers:e.headers,id:e.id,payload:e.payload,tags:e.tags,timestamp:new Date(e.timestamp)}},_toJsonObject(e){return{channels:e.channels,deliverAt:e.deliverAt,eventId:e.eventId,eventType:e.eventType,headers:e.headers,id:e.id,payload:e.payload,tags:e.tags,timestamp:e.timestamp}}}});var JW=M(Zb=>{"use strict";Object.defineProperty(Zb,"__esModule",{value:!0});Zb.PollingEndpointOutSerializer=void 0;var BW=FW();Zb.PollingEndpointOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>BW.PollingEndpointMessageOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator}},_toJsonObject(e){return{data:e.data.map(t=>BW.PollingEndpointMessageOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator}}}});var VW=M(Kb=>{"use strict";Object.defineProperty(Kb,"__esModule",{value:!0});Kb.MessagePoller=void 0;var RTe=UW(),$Te=LW(),HW=JW(),il=nr(),nN=class{static{a(this,"MessagePoller")}constructor(t){this.requestCtx=t}poll(t,r,n){let o=new il.SvixRequest(il.HttpMethod.GET,"/api/v1/app/{app_id}/poller/{sink_id}");return o.setPathParam("app_id",t),o.setPathParam("sink_id",r),o.setQueryParam("limit",n?.limit),o.setQueryParam("iterator",n?.iterator),o.setQueryParam("event_type",n?.eventType),o.setQueryParam("channel",n?.channel),o.setQueryParam("after",n?.after),o.send(this.requestCtx,HW.PollingEndpointOutSerializer._fromJsonObject)}consumerPoll(t,r,n,o){let i=new il.SvixRequest(il.HttpMethod.GET,"/api/v1/app/{app_id}/poller/{sink_id}/consumer/{consumer_id}");return i.setPathParam("app_id",t),i.setPathParam("sink_id",r),i.setPathParam("consumer_id",n),i.setQueryParam("limit",o?.limit),i.setQueryParam("iterator",o?.iterator),i.send(this.requestCtx,HW.PollingEndpointOutSerializer._fromJsonObject)}consumerSeek(t,r,n,o,i){let s=new il.SvixRequest(il.HttpMethod.POST,"/api/v1/app/{app_id}/poller/{sink_id}/consumer/{consumer_id}/seek");return s.setPathParam("app_id",t),s.setPathParam("sink_id",r),s.setPathParam("consumer_id",n),s.setHeaderParam("idempotency-key",i?.idempotencyKey),s.setBody(RTe.PollingEndpointConsumerSeekInSerializer._toJsonObject(o)),s.send(this.requestCtx,$Te.PollingEndpointConsumerSeekOutSerializer._fromJsonObject)}};Kb.MessagePoller=nN});var KW=M(Gb=>{"use strict";Object.defineProperty(Gb,"__esModule",{value:!0});Gb.MessageInSerializer=void 0;var ZW=hv();Gb.MessageInSerializer={_fromJsonObject(e){return{application:e.application?ZW.ApplicationInSerializer._fromJsonObject(e.application):void 0,channels:e.channels,deliverAt:e.deliverAt?new Date(e.deliverAt):null,eventId:e.eventId,eventType:e.eventType,payload:e.payload,payloadRetentionHours:e.payloadRetentionHours,payloadRetentionPeriod:e.payloadRetentionPeriod,tags:e.tags,transformationsParams:e.transformationsParams}},_toJsonObject(e){return{application:e.application?ZW.ApplicationInSerializer._toJsonObject(e.application):void 0,channels:e.channels,deliverAt:e.deliverAt,eventId:e.eventId,eventType:e.eventType,payload:e.payload,payloadRetentionHours:e.payloadRetentionHours,payloadRetentionPeriod:e.payloadRetentionPeriod,tags:e.tags,transformationsParams:e.transformationsParams}}}});var iN=M(al=>{"use strict";Object.defineProperty(al,"__esModule",{value:!0});al.messageInRaw=al.Message=void 0;var NTe=DW(),zTe=qW(),GW=Dm(),jTe=VW(),fi=nr(),DTe=KW(),oN=class{static{a(this,"Message")}constructor(t){this.requestCtx=t}get poller(){return new jTe.MessagePoller(this.requestCtx)}list(t,r){let n=new fi.SvixRequest(fi.HttpMethod.GET,"/api/v1/app/{app_id}/msg");return n.setPathParam("app_id",t),n.setQueryParam("limit",r?.limit),n.setQueryParam("iterator",r?.iterator),n.setQueryParam("channel",r?.channel),n.setQueryParam("before",r?.before),n.setQueryParam("after",r?.after),n.setQueryParam("with_content",r?.withContent),n.setQueryParam("tag",r?.tag),n.setQueryParam("event_types",r?.eventTypes),n.send(this.requestCtx,zTe.ListResponseMessageOutSerializer._fromJsonObject)}create(t,r,n){let o=new fi.SvixRequest(fi.HttpMethod.POST,"/api/v1/app/{app_id}/msg");return o.setPathParam("app_id",t),o.setQueryParam("with_content",n?.withContent),o.setHeaderParam("idempotency-key",n?.idempotencyKey),o.setBody(DTe.MessageInSerializer._toJsonObject(r)),o.send(this.requestCtx,GW.MessageOutSerializer._fromJsonObject)}expungeAllContents(t,r){let n=new fi.SvixRequest(fi.HttpMethod.POST,"/api/v1/app/{app_id}/msg/expunge-all-contents");return n.setPathParam("app_id",t),n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.send(this.requestCtx,NTe.ExpungeAllContentsOutSerializer._fromJsonObject)}get(t,r,n){let o=new fi.SvixRequest(fi.HttpMethod.GET,"/api/v1/app/{app_id}/msg/{msg_id}");return o.setPathParam("app_id",t),o.setPathParam("msg_id",r),o.setQueryParam("with_content",n?.withContent),o.send(this.requestCtx,GW.MessageOutSerializer._fromJsonObject)}expungeContent(t,r){let n=new fi.SvixRequest(fi.HttpMethod.DELETE,"/api/v1/app/{app_id}/msg/{msg_id}/content");return n.setPathParam("app_id",t),n.setPathParam("msg_id",r),n.sendNoResponseBody(this.requestCtx)}};al.Message=oN;function MTe(e,t,r){return{eventType:e,payload:{},transformationsParams:{rawPayload:t,headers:r?{"content-type":r}:void 0}}}a(MTe,"messageInRaw");al.messageInRaw=MTe});var Mm=M(Ks=>{"use strict";Object.defineProperty(Ks,"__esModule",{value:!0});Ks.MessageStatusSerializer=Ks.MessageStatus=void 0;var qTe;(function(e){e[e.Success=0]="Success",e[e.Pending=1]="Pending",e[e.Fail=2]="Fail",e[e.Sending=3]="Sending"})(qTe=Ks.MessageStatus||(Ks.MessageStatus={}));Ks.MessageStatusSerializer={_fromJsonObject(e){return e},_toJsonObject(e){return e}}});var qm=M(Gs=>{"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});Gs.MessageStatusTextSerializer=Gs.MessageStatusText=void 0;var UTe;(function(e){e.Success="success",e.Pending="pending",e.Fail="fail",e.Sending="sending"})(UTe=Gs.MessageStatusText||(Gs.MessageStatusText={}));Gs.MessageStatusTextSerializer={_fromJsonObject(e){return e},_toJsonObject(e){return e}}});var XW=M(Wb=>{"use strict";Object.defineProperty(Wb,"__esModule",{value:!0});Wb.EndpointMessageOutSerializer=void 0;var WW=Mm(),QW=qm();Wb.EndpointMessageOutSerializer={_fromJsonObject(e){return{channels:e.channels,deliverAt:e.deliverAt?new Date(e.deliverAt):null,eventId:e.eventId,eventType:e.eventType,id:e.id,nextAttempt:e.nextAttempt?new Date(e.nextAttempt):null,payload:e.payload,status:WW.MessageStatusSerializer._fromJsonObject(e.status),statusText:QW.MessageStatusTextSerializer._fromJsonObject(e.statusText),tags:e.tags,timestamp:new Date(e.timestamp)}},_toJsonObject(e){return{channels:e.channels,deliverAt:e.deliverAt,eventId:e.eventId,eventType:e.eventType,id:e.id,nextAttempt:e.nextAttempt,payload:e.payload,status:WW.MessageStatusSerializer._toJsonObject(e.status),statusText:QW.MessageStatusTextSerializer._toJsonObject(e.statusText),tags:e.tags,timestamp:e.timestamp}}}});var eQ=M(Qb=>{"use strict";Object.defineProperty(Qb,"__esModule",{value:!0});Qb.ListResponseEndpointMessageOutSerializer=void 0;var YW=XW();Qb.ListResponseEndpointMessageOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>YW.EndpointMessageOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>YW.EndpointMessageOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var aN=M(Ws=>{"use strict";Object.defineProperty(Ws,"__esModule",{value:!0});Ws.MessageAttemptTriggerTypeSerializer=Ws.MessageAttemptTriggerType=void 0;var LTe;(function(e){e[e.Scheduled=0]="Scheduled",e[e.Manual=1]="Manual"})(LTe=Ws.MessageAttemptTriggerType||(Ws.MessageAttemptTriggerType={}));Ws.MessageAttemptTriggerTypeSerializer={_fromJsonObject(e){return e},_toJsonObject(e){return e}}});var sN=M(Xb=>{"use strict";Object.defineProperty(Xb,"__esModule",{value:!0});Xb.MessageAttemptOutSerializer=void 0;var tQ=aN(),rQ=Dm(),nQ=Mm(),oQ=qm();Xb.MessageAttemptOutSerializer={_fromJsonObject(e){return{endpointId:e.endpointId,id:e.id,msg:e.msg?rQ.MessageOutSerializer._fromJsonObject(e.msg):void 0,msgId:e.msgId,response:e.response,responseDurationMs:e.responseDurationMs,responseStatusCode:e.responseStatusCode,status:nQ.MessageStatusSerializer._fromJsonObject(e.status),statusText:oQ.MessageStatusTextSerializer._fromJsonObject(e.statusText),timestamp:new Date(e.timestamp),triggerType:tQ.MessageAttemptTriggerTypeSerializer._fromJsonObject(e.triggerType),url:e.url}},_toJsonObject(e){return{endpointId:e.endpointId,id:e.id,msg:e.msg?rQ.MessageOutSerializer._toJsonObject(e.msg):void 0,msgId:e.msgId,response:e.response,responseDurationMs:e.responseDurationMs,responseStatusCode:e.responseStatusCode,status:nQ.MessageStatusSerializer._toJsonObject(e.status),statusText:oQ.MessageStatusTextSerializer._toJsonObject(e.statusText),timestamp:e.timestamp,triggerType:tQ.MessageAttemptTriggerTypeSerializer._toJsonObject(e.triggerType),url:e.url}}}});var aQ=M(Yb=>{"use strict";Object.defineProperty(Yb,"__esModule",{value:!0});Yb.ListResponseMessageAttemptOutSerializer=void 0;var iQ=sN();Yb.ListResponseMessageAttemptOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>iQ.MessageAttemptOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>iQ.MessageAttemptOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var cQ=M(eS=>{"use strict";Object.defineProperty(eS,"__esModule",{value:!0});eS.MessageEndpointOutSerializer=void 0;var sQ=Mm(),uQ=qm();eS.MessageEndpointOutSerializer={_fromJsonObject(e){return{channels:e.channels,createdAt:new Date(e.createdAt),description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,id:e.id,nextAttempt:e.nextAttempt?new Date(e.nextAttempt):null,rateLimit:e.rateLimit,status:sQ.MessageStatusSerializer._fromJsonObject(e.status),statusText:uQ.MessageStatusTextSerializer._fromJsonObject(e.statusText),uid:e.uid,updatedAt:new Date(e.updatedAt),url:e.url,version:e.version}},_toJsonObject(e){return{channels:e.channels,createdAt:e.createdAt,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,id:e.id,nextAttempt:e.nextAttempt,rateLimit:e.rateLimit,status:sQ.MessageStatusSerializer._toJsonObject(e.status),statusText:uQ.MessageStatusTextSerializer._toJsonObject(e.statusText),uid:e.uid,updatedAt:e.updatedAt,url:e.url,version:e.version}}}});var dQ=M(tS=>{"use strict";Object.defineProperty(tS,"__esModule",{value:!0});tS.ListResponseMessageEndpointOutSerializer=void 0;var lQ=cQ();tS.ListResponseMessageEndpointOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>lQ.MessageEndpointOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>lQ.MessageEndpointOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var mQ=M(rS=>{"use strict";Object.defineProperty(rS,"__esModule",{value:!0});rS.MessageAttempt=void 0;var FTe=eQ(),pQ=aQ(),BTe=dQ(),JTe=sN(),Rn=nr(),uN=class{static{a(this,"MessageAttempt")}constructor(t){this.requestCtx=t}listByEndpoint(t,r,n){let o=new Rn.SvixRequest(Rn.HttpMethod.GET,"/api/v1/app/{app_id}/attempt/endpoint/{endpoint_id}");return o.setPathParam("app_id",t),o.setPathParam("endpoint_id",r),o.setQueryParam("limit",n?.limit),o.setQueryParam("iterator",n?.iterator),o.setQueryParam("status",n?.status),o.setQueryParam("status_code_class",n?.statusCodeClass),o.setQueryParam("channel",n?.channel),o.setQueryParam("tag",n?.tag),o.setQueryParam("before",n?.before),o.setQueryParam("after",n?.after),o.setQueryParam("with_content",n?.withContent),o.setQueryParam("with_msg",n?.withMsg),o.setQueryParam("event_types",n?.eventTypes),o.send(this.requestCtx,pQ.ListResponseMessageAttemptOutSerializer._fromJsonObject)}listByMsg(t,r,n){let o=new Rn.SvixRequest(Rn.HttpMethod.GET,"/api/v1/app/{app_id}/attempt/msg/{msg_id}");return o.setPathParam("app_id",t),o.setPathParam("msg_id",r),o.setQueryParam("limit",n?.limit),o.setQueryParam("iterator",n?.iterator),o.setQueryParam("status",n?.status),o.setQueryParam("status_code_class",n?.statusCodeClass),o.setQueryParam("channel",n?.channel),o.setQueryParam("tag",n?.tag),o.setQueryParam("endpoint_id",n?.endpointId),o.setQueryParam("before",n?.before),o.setQueryParam("after",n?.after),o.setQueryParam("with_content",n?.withContent),o.setQueryParam("event_types",n?.eventTypes),o.send(this.requestCtx,pQ.ListResponseMessageAttemptOutSerializer._fromJsonObject)}listAttemptedMessages(t,r,n){let o=new Rn.SvixRequest(Rn.HttpMethod.GET,"/api/v1/app/{app_id}/endpoint/{endpoint_id}/msg");return o.setPathParam("app_id",t),o.setPathParam("endpoint_id",r),o.setQueryParam("limit",n?.limit),o.setQueryParam("iterator",n?.iterator),o.setQueryParam("channel",n?.channel),o.setQueryParam("tag",n?.tag),o.setQueryParam("status",n?.status),o.setQueryParam("before",n?.before),o.setQueryParam("after",n?.after),o.setQueryParam("with_content",n?.withContent),o.setQueryParam("event_types",n?.eventTypes),o.send(this.requestCtx,FTe.ListResponseEndpointMessageOutSerializer._fromJsonObject)}get(t,r,n){let o=new Rn.SvixRequest(Rn.HttpMethod.GET,"/api/v1/app/{app_id}/msg/{msg_id}/attempt/{attempt_id}");return o.setPathParam("app_id",t),o.setPathParam("msg_id",r),o.setPathParam("attempt_id",n),o.send(this.requestCtx,JTe.MessageAttemptOutSerializer._fromJsonObject)}expungeContent(t,r,n){let o=new Rn.SvixRequest(Rn.HttpMethod.DELETE,"/api/v1/app/{app_id}/msg/{msg_id}/attempt/{attempt_id}/content");return o.setPathParam("app_id",t),o.setPathParam("msg_id",r),o.setPathParam("attempt_id",n),o.sendNoResponseBody(this.requestCtx)}listAttemptedDestinations(t,r,n){let o=new Rn.SvixRequest(Rn.HttpMethod.GET,"/api/v1/app/{app_id}/msg/{msg_id}/endpoint");return o.setPathParam("app_id",t),o.setPathParam("msg_id",r),o.setQueryParam("limit",n?.limit),o.setQueryParam("iterator",n?.iterator),o.send(this.requestCtx,BTe.ListResponseMessageEndpointOutSerializer._fromJsonObject)}resend(t,r,n,o){let i=new Rn.SvixRequest(Rn.HttpMethod.POST,"/api/v1/app/{app_id}/msg/{msg_id}/endpoint/{endpoint_id}/resend");return i.setPathParam("app_id",t),i.setPathParam("msg_id",r),i.setPathParam("endpoint_id",n),i.setHeaderParam("idempotency-key",o?.idempotencyKey),i.sendNoResponseBody(this.requestCtx)}};rS.MessageAttempt=uN});var cN=M(nS=>{"use strict";Object.defineProperty(nS,"__esModule",{value:!0});nS.OperationalWebhookEndpointOutSerializer=void 0;nS.OperationalWebhookEndpointOutSerializer={_fromJsonObject(e){return{createdAt:new Date(e.createdAt),description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,id:e.id,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,updatedAt:new Date(e.updatedAt),url:e.url}},_toJsonObject(e){return{createdAt:e.createdAt,description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,id:e.id,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,updatedAt:e.updatedAt,url:e.url}}}});var hQ=M(oS=>{"use strict";Object.defineProperty(oS,"__esModule",{value:!0});oS.ListResponseOperationalWebhookEndpointOutSerializer=void 0;var fQ=cN();oS.ListResponseOperationalWebhookEndpointOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>fQ.OperationalWebhookEndpointOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>fQ.OperationalWebhookEndpointOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var gQ=M(iS=>{"use strict";Object.defineProperty(iS,"__esModule",{value:!0});iS.OperationalWebhookEndpointHeadersInSerializer=void 0;iS.OperationalWebhookEndpointHeadersInSerializer={_fromJsonObject(e){return{headers:e.headers}},_toJsonObject(e){return{headers:e.headers}}}});var yQ=M(aS=>{"use strict";Object.defineProperty(aS,"__esModule",{value:!0});aS.OperationalWebhookEndpointHeadersOutSerializer=void 0;aS.OperationalWebhookEndpointHeadersOutSerializer={_fromJsonObject(e){return{headers:e.headers,sensitive:e.sensitive}},_toJsonObject(e){return{headers:e.headers,sensitive:e.sensitive}}}});var vQ=M(sS=>{"use strict";Object.defineProperty(sS,"__esModule",{value:!0});sS.OperationalWebhookEndpointInSerializer=void 0;sS.OperationalWebhookEndpointInSerializer={_fromJsonObject(e){return{description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url}},_toJsonObject(e){return{description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,secret:e.secret,uid:e.uid,url:e.url}}}});var _Q=M(uS=>{"use strict";Object.defineProperty(uS,"__esModule",{value:!0});uS.OperationalWebhookEndpointSecretInSerializer=void 0;uS.OperationalWebhookEndpointSecretInSerializer={_fromJsonObject(e){return{key:e.key}},_toJsonObject(e){return{key:e.key}}}});var bQ=M(cS=>{"use strict";Object.defineProperty(cS,"__esModule",{value:!0});cS.OperationalWebhookEndpointSecretOutSerializer=void 0;cS.OperationalWebhookEndpointSecretOutSerializer={_fromJsonObject(e){return{key:e.key}},_toJsonObject(e){return{key:e.key}}}});var SQ=M(lS=>{"use strict";Object.defineProperty(lS,"__esModule",{value:!0});lS.OperationalWebhookEndpointUpdateSerializer=void 0;lS.OperationalWebhookEndpointUpdateSerializer={_fromJsonObject(e){return{description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,url:e.url}},_toJsonObject(e){return{description:e.description,disabled:e.disabled,filterTypes:e.filterTypes,metadata:e.metadata,rateLimit:e.rateLimit,uid:e.uid,url:e.url}}}});var pN=M(dS=>{"use strict";Object.defineProperty(dS,"__esModule",{value:!0});dS.OperationalWebhookEndpoint=void 0;var HTe=hQ(),VTe=gQ(),ZTe=yQ(),KTe=vQ(),lN=cN(),GTe=_Q(),WTe=bQ(),QTe=SQ(),jr=nr(),dN=class{static{a(this,"OperationalWebhookEndpoint")}constructor(t){this.requestCtx=t}list(t){let r=new jr.SvixRequest(jr.HttpMethod.GET,"/api/v1/operational-webhook/endpoint");return r.setQueryParam("limit",t?.limit),r.setQueryParam("iterator",t?.iterator),r.setQueryParam("order",t?.order),r.send(this.requestCtx,HTe.ListResponseOperationalWebhookEndpointOutSerializer._fromJsonObject)}create(t,r){let n=new jr.SvixRequest(jr.HttpMethod.POST,"/api/v1/operational-webhook/endpoint");return n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.setBody(KTe.OperationalWebhookEndpointInSerializer._toJsonObject(t)),n.send(this.requestCtx,lN.OperationalWebhookEndpointOutSerializer._fromJsonObject)}get(t){let r=new jr.SvixRequest(jr.HttpMethod.GET,"/api/v1/operational-webhook/endpoint/{endpoint_id}");return r.setPathParam("endpoint_id",t),r.send(this.requestCtx,lN.OperationalWebhookEndpointOutSerializer._fromJsonObject)}update(t,r){let n=new jr.SvixRequest(jr.HttpMethod.PUT,"/api/v1/operational-webhook/endpoint/{endpoint_id}");return n.setPathParam("endpoint_id",t),n.setBody(QTe.OperationalWebhookEndpointUpdateSerializer._toJsonObject(r)),n.send(this.requestCtx,lN.OperationalWebhookEndpointOutSerializer._fromJsonObject)}delete(t){let r=new jr.SvixRequest(jr.HttpMethod.DELETE,"/api/v1/operational-webhook/endpoint/{endpoint_id}");return r.setPathParam("endpoint_id",t),r.sendNoResponseBody(this.requestCtx)}getHeaders(t){let r=new jr.SvixRequest(jr.HttpMethod.GET,"/api/v1/operational-webhook/endpoint/{endpoint_id}/headers");return r.setPathParam("endpoint_id",t),r.send(this.requestCtx,ZTe.OperationalWebhookEndpointHeadersOutSerializer._fromJsonObject)}updateHeaders(t,r){let n=new jr.SvixRequest(jr.HttpMethod.PUT,"/api/v1/operational-webhook/endpoint/{endpoint_id}/headers");return n.setPathParam("endpoint_id",t),n.setBody(VTe.OperationalWebhookEndpointHeadersInSerializer._toJsonObject(r)),n.sendNoResponseBody(this.requestCtx)}getSecret(t){let r=new jr.SvixRequest(jr.HttpMethod.GET,"/api/v1/operational-webhook/endpoint/{endpoint_id}/secret");return r.setPathParam("endpoint_id",t),r.send(this.requestCtx,WTe.OperationalWebhookEndpointSecretOutSerializer._fromJsonObject)}rotateSecret(t,r,n){let o=new jr.SvixRequest(jr.HttpMethod.POST,"/api/v1/operational-webhook/endpoint/{endpoint_id}/secret/rotate");return o.setPathParam("endpoint_id",t),o.setHeaderParam("idempotency-key",n?.idempotencyKey),o.setBody(GTe.OperationalWebhookEndpointSecretInSerializer._toJsonObject(r)),o.sendNoResponseBody(this.requestCtx)}};dS.OperationalWebhookEndpoint=dN});var wQ=M(pS=>{"use strict";Object.defineProperty(pS,"__esModule",{value:!0});pS.OperationalWebhook=void 0;var XTe=pN(),mN=class{static{a(this,"OperationalWebhook")}constructor(t){this.requestCtx=t}get endpoint(){return new XTe.OperationalWebhookEndpoint(this.requestCtx)}};pS.OperationalWebhook=mN});var EQ=M(mS=>{"use strict";Object.defineProperty(mS,"__esModule",{value:!0});mS.AggregateEventTypesOutSerializer=void 0;var xQ=Qa(),TQ=Xa();mS.AggregateEventTypesOutSerializer={_fromJsonObject(e){return{id:e.id,status:xQ.BackgroundTaskStatusSerializer._fromJsonObject(e.status),task:TQ.BackgroundTaskTypeSerializer._fromJsonObject(e.task)}},_toJsonObject(e){return{id:e.id,status:xQ.BackgroundTaskStatusSerializer._toJsonObject(e.status),task:TQ.BackgroundTaskTypeSerializer._toJsonObject(e.task)}}}});var kQ=M(fS=>{"use strict";Object.defineProperty(fS,"__esModule",{value:!0});fS.AppUsageStatsInSerializer=void 0;fS.AppUsageStatsInSerializer={_fromJsonObject(e){return{appIds:e.appIds,since:new Date(e.since),until:new Date(e.until)}},_toJsonObject(e){return{appIds:e.appIds,since:e.since,until:e.until}}}});var OQ=M(hS=>{"use strict";Object.defineProperty(hS,"__esModule",{value:!0});hS.AppUsageStatsOutSerializer=void 0;var PQ=Qa(),IQ=Xa();hS.AppUsageStatsOutSerializer={_fromJsonObject(e){return{id:e.id,status:PQ.BackgroundTaskStatusSerializer._fromJsonObject(e.status),task:IQ.BackgroundTaskTypeSerializer._fromJsonObject(e.task),unresolvedAppIds:e.unresolvedAppIds}},_toJsonObject(e){return{id:e.id,status:PQ.BackgroundTaskStatusSerializer._toJsonObject(e.status),task:IQ.BackgroundTaskTypeSerializer._toJsonObject(e.task),unresolvedAppIds:e.unresolvedAppIds}}}});var AQ=M(yS=>{"use strict";Object.defineProperty(yS,"__esModule",{value:!0});yS.Statistics=void 0;var YTe=EQ(),eEe=kQ(),tEe=OQ(),gS=nr(),fN=class{static{a(this,"Statistics")}constructor(t){this.requestCtx=t}aggregateAppStats(t,r){let n=new gS.SvixRequest(gS.HttpMethod.POST,"/api/v1/stats/usage/app");return n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.setBody(eEe.AppUsageStatsInSerializer._toJsonObject(t)),n.send(this.requestCtx,tEe.AppUsageStatsOutSerializer._fromJsonObject)}aggregateEventTypes(){return new gS.SvixRequest(gS.HttpMethod.PUT,"/api/v1/stats/usage/event-types").send(this.requestCtx,YTe.AggregateEventTypesOutSerializer._fromJsonObject)}};yS.Statistics=fN});var CQ=M(vS=>{"use strict";Object.defineProperty(vS,"__esModule",{value:!0});vS.HttpSinkHeadersPatchInSerializer=void 0;vS.HttpSinkHeadersPatchInSerializer={_fromJsonObject(e){return{headers:e.headers}},_toJsonObject(e){return{headers:e.headers}}}});var RQ=M(_S=>{"use strict";Object.defineProperty(_S,"__esModule",{value:!0});_S.SinkTransformationOutSerializer=void 0;_S.SinkTransformationOutSerializer={_fromJsonObject(e){return{code:e.code,enabled:e.enabled}},_toJsonObject(e){return{code:e.code,enabled:e.enabled}}}});var hN=M(bS=>{"use strict";Object.defineProperty(bS,"__esModule",{value:!0});bS.StreamEventTypeOutSerializer=void 0;bS.StreamEventTypeOutSerializer={_fromJsonObject(e){return{archived:e.archived,createdAt:new Date(e.createdAt),deprecated:e.deprecated,description:e.description,featureFlags:e.featureFlags,name:e.name,updatedAt:new Date(e.updatedAt)}},_toJsonObject(e){return{archived:e.archived,createdAt:e.createdAt,deprecated:e.deprecated,description:e.description,featureFlags:e.featureFlags,name:e.name,updatedAt:e.updatedAt}}}});var NQ=M(SS=>{"use strict";Object.defineProperty(SS,"__esModule",{value:!0});SS.ListResponseStreamEventTypeOutSerializer=void 0;var $Q=hN();SS.ListResponseStreamEventTypeOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>$Q.StreamEventTypeOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>$Q.StreamEventTypeOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var zQ=M(wS=>{"use strict";Object.defineProperty(wS,"__esModule",{value:!0});wS.StreamEventTypeInSerializer=void 0;wS.StreamEventTypeInSerializer={_fromJsonObject(e){return{archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlags:e.featureFlags,name:e.name}},_toJsonObject(e){return{archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlags:e.featureFlags,name:e.name}}}});var jQ=M(xS=>{"use strict";Object.defineProperty(xS,"__esModule",{value:!0});xS.StreamEventTypePatchSerializer=void 0;xS.StreamEventTypePatchSerializer={_fromJsonObject(e){return{archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlags:e.featureFlags,name:e.name}},_toJsonObject(e){return{archived:e.archived,deprecated:e.deprecated,description:e.description,featureFlags:e.featureFlags,name:e.name}}}});var MQ=M(ES=>{"use strict";Object.defineProperty(ES,"__esModule",{value:!0});ES.StreamingEventType=void 0;var rEe=NQ(),DQ=zQ(),TS=hN(),nEe=jQ(),so=nr(),gN=class{static{a(this,"StreamingEventType")}constructor(t){this.requestCtx=t}list(t){let r=new so.SvixRequest(so.HttpMethod.GET,"/api/v1/stream/event-type");return r.setQueryParam("limit",t?.limit),r.setQueryParam("iterator",t?.iterator),r.setQueryParam("order",t?.order),r.setQueryParam("include_archived",t?.includeArchived),r.send(this.requestCtx,rEe.ListResponseStreamEventTypeOutSerializer._fromJsonObject)}create(t,r){let n=new so.SvixRequest(so.HttpMethod.POST,"/api/v1/stream/event-type");return n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.setBody(DQ.StreamEventTypeInSerializer._toJsonObject(t)),n.send(this.requestCtx,TS.StreamEventTypeOutSerializer._fromJsonObject)}get(t){let r=new so.SvixRequest(so.HttpMethod.GET,"/api/v1/stream/event-type/{name}");return r.setPathParam("name",t),r.send(this.requestCtx,TS.StreamEventTypeOutSerializer._fromJsonObject)}update(t,r){let n=new so.SvixRequest(so.HttpMethod.PUT,"/api/v1/stream/event-type/{name}");return n.setPathParam("name",t),n.setBody(DQ.StreamEventTypeInSerializer._toJsonObject(r)),n.send(this.requestCtx,TS.StreamEventTypeOutSerializer._fromJsonObject)}delete(t,r){let n=new so.SvixRequest(so.HttpMethod.DELETE,"/api/v1/stream/event-type/{name}");return n.setPathParam("name",t),n.setQueryParam("expunge",r?.expunge),n.sendNoResponseBody(this.requestCtx)}patch(t,r){let n=new so.SvixRequest(so.HttpMethod.PATCH,"/api/v1/stream/event-type/{name}");return n.setPathParam("name",t),n.setBody(nEe.StreamEventTypePatchSerializer._toJsonObject(r)),n.send(this.requestCtx,TS.StreamEventTypeOutSerializer._fromJsonObject)}};ES.StreamingEventType=gN});var qQ=M(kS=>{"use strict";Object.defineProperty(kS,"__esModule",{value:!0});kS.EventInSerializer=void 0;kS.EventInSerializer={_fromJsonObject(e){return{eventType:e.eventType,payload:e.payload}},_toJsonObject(e){return{eventType:e.eventType,payload:e.payload}}}});var yN=M(PS=>{"use strict";Object.defineProperty(PS,"__esModule",{value:!0});PS.StreamInSerializer=void 0;PS.StreamInSerializer={_fromJsonObject(e){return{metadata:e.metadata,name:e.name,uid:e.uid}},_toJsonObject(e){return{metadata:e.metadata,name:e.name,uid:e.uid}}}});var FQ=M(IS=>{"use strict";Object.defineProperty(IS,"__esModule",{value:!0});IS.CreateStreamEventsInSerializer=void 0;var UQ=qQ(),LQ=yN();IS.CreateStreamEventsInSerializer={_fromJsonObject(e){return{events:e.events.map(t=>UQ.EventInSerializer._fromJsonObject(t)),stream:e.stream?LQ.StreamInSerializer._fromJsonObject(e.stream):void 0}},_toJsonObject(e){return{events:e.events.map(t=>UQ.EventInSerializer._toJsonObject(t)),stream:e.stream?LQ.StreamInSerializer._toJsonObject(e.stream):void 0}}}});var BQ=M(OS=>{"use strict";Object.defineProperty(OS,"__esModule",{value:!0});OS.CreateStreamEventsOutSerializer=void 0;OS.CreateStreamEventsOutSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var JQ=M(AS=>{"use strict";Object.defineProperty(AS,"__esModule",{value:!0});AS.EventOutSerializer=void 0;AS.EventOutSerializer={_fromJsonObject(e){return{eventType:e.eventType,payload:e.payload,timestamp:new Date(e.timestamp)}},_toJsonObject(e){return{eventType:e.eventType,payload:e.payload,timestamp:e.timestamp}}}});var VQ=M(CS=>{"use strict";Object.defineProperty(CS,"__esModule",{value:!0});CS.EventStreamOutSerializer=void 0;var HQ=JQ();CS.EventStreamOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>HQ.EventOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator}},_toJsonObject(e){return{data:e.data.map(t=>HQ.EventOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator}}}});var ZQ=M($S=>{"use strict";Object.defineProperty($S,"__esModule",{value:!0});$S.StreamingEvents=void 0;var oEe=FQ(),iEe=BQ(),aEe=VQ(),RS=nr(),vN=class{static{a(this,"StreamingEvents")}constructor(t){this.requestCtx=t}create(t,r,n){let o=new RS.SvixRequest(RS.HttpMethod.POST,"/api/v1/stream/{stream_id}/events");return o.setPathParam("stream_id",t),o.setHeaderParam("idempotency-key",n?.idempotencyKey),o.setBody(oEe.CreateStreamEventsInSerializer._toJsonObject(r)),o.send(this.requestCtx,iEe.CreateStreamEventsOutSerializer._fromJsonObject)}get(t,r,n){let o=new RS.SvixRequest(RS.HttpMethod.GET,"/api/v1/stream/{stream_id}/sink/{sink_id}/events");return o.setPathParam("stream_id",t),o.setPathParam("sink_id",r),o.setQueryParam("limit",n?.limit),o.setQueryParam("iterator",n?.iterator),o.setQueryParam("after",n?.after),o.send(this.requestCtx,aEe.EventStreamOutSerializer._fromJsonObject)}};$S.StreamingEvents=vN});var KQ=M(NS=>{"use strict";Object.defineProperty(NS,"__esModule",{value:!0});NS.EmptyResponseSerializer=void 0;NS.EmptyResponseSerializer={_fromJsonObject(e){return{}},_toJsonObject(e){return{}}}});var _N=M(zS=>{"use strict";Object.defineProperty(zS,"__esModule",{value:!0});zS.AzureBlobStorageConfigSerializer=void 0;zS.AzureBlobStorageConfigSerializer={_fromJsonObject(e){return{accessKey:e.accessKey,account:e.account,container:e.container}},_toJsonObject(e){return{accessKey:e.accessKey,account:e.account,container:e.container}}}});var bN=M(jS=>{"use strict";Object.defineProperty(jS,"__esModule",{value:!0});jS.GoogleCloudStorageConfigSerializer=void 0;jS.GoogleCloudStorageConfigSerializer={_fromJsonObject(e){return{bucket:e.bucket,credentials:e.credentials}},_toJsonObject(e){return{bucket:e.bucket,credentials:e.credentials}}}});var SN=M(DS=>{"use strict";Object.defineProperty(DS,"__esModule",{value:!0});DS.S3ConfigSerializer=void 0;DS.S3ConfigSerializer={_fromJsonObject(e){return{accessKeyId:e.accessKeyId,bucket:e.bucket,region:e.region,secretAccessKey:e.secretAccessKey}},_toJsonObject(e){return{accessKeyId:e.accessKeyId,bucket:e.bucket,region:e.region,secretAccessKey:e.secretAccessKey}}}});var wN=M(MS=>{"use strict";Object.defineProperty(MS,"__esModule",{value:!0});MS.SinkHttpConfigSerializer=void 0;MS.SinkHttpConfigSerializer={_fromJsonObject(e){return{headers:e.headers,key:e.key,url:e.url}},_toJsonObject(e){return{headers:e.headers,key:e.key,url:e.url}}}});var xN=M(qS=>{"use strict";Object.defineProperty(qS,"__esModule",{value:!0});qS.SinkOtelV1ConfigSerializer=void 0;qS.SinkOtelV1ConfigSerializer={_fromJsonObject(e){return{headers:e.headers,url:e.url}},_toJsonObject(e){return{headers:e.headers,url:e.url}}}});var TN=M(Qs=>{"use strict";Object.defineProperty(Qs,"__esModule",{value:!0});Qs.SinkStatusSerializer=Qs.SinkStatus=void 0;var sEe;(function(e){e.Enabled="enabled",e.Paused="paused",e.Disabled="disabled",e.Retrying="retrying"})(sEe=Qs.SinkStatus||(Qs.SinkStatus={}));Qs.SinkStatusSerializer={_fromJsonObject(e){return e},_toJsonObject(e){return e}}});var EN=M(US=>{"use strict";Object.defineProperty(US,"__esModule",{value:!0});US.StreamSinkOutSerializer=void 0;var GQ=_N(),WQ=bN(),QQ=SN(),XQ=wN(),YQ=xN(),e7=TN();US.StreamSinkOutSerializer={_fromJsonObject(e){let t=e.type;function r(n){switch(n){case"poller":return{};case"azureBlobStorage":return GQ.AzureBlobStorageConfigSerializer._fromJsonObject(e.config);case"otelTracing":return YQ.SinkOtelV1ConfigSerializer._fromJsonObject(e.config);case"http":return XQ.SinkHttpConfigSerializer._fromJsonObject(e.config);case"amazonS3":return QQ.S3ConfigSerializer._fromJsonObject(e.config);case"googleCloudStorage":return WQ.GoogleCloudStorageConfigSerializer._fromJsonObject(e.config);default:throw new Error(`Unexpected type: ${n}`)}}return a(r,"getConfig"),{type:t,config:r(t),batchSize:e.batchSize,createdAt:new Date(e.createdAt),currentIterator:e.currentIterator,eventTypes:e.eventTypes,failureReason:e.failureReason,id:e.id,maxWaitSecs:e.maxWaitSecs,metadata:e.metadata,nextRetryAt:e.nextRetryAt?new Date(e.nextRetryAt):null,status:e7.SinkStatusSerializer._fromJsonObject(e.status),uid:e.uid,updatedAt:new Date(e.updatedAt)}},_toJsonObject(e){let t;switch(e.type){case"poller":t={};break;case"azureBlobStorage":t=GQ.AzureBlobStorageConfigSerializer._toJsonObject(e.config);break;case"otelTracing":t=YQ.SinkOtelV1ConfigSerializer._toJsonObject(e.config);break;case"http":t=XQ.SinkHttpConfigSerializer._toJsonObject(e.config);break;case"amazonS3":t=QQ.S3ConfigSerializer._toJsonObject(e.config);break;case"googleCloudStorage":t=WQ.GoogleCloudStorageConfigSerializer._toJsonObject(e.config);break}return{type:e.type,config:t,batchSize:e.batchSize,createdAt:e.createdAt,currentIterator:e.currentIterator,eventTypes:e.eventTypes,failureReason:e.failureReason,id:e.id,maxWaitSecs:e.maxWaitSecs,metadata:e.metadata,nextRetryAt:e.nextRetryAt,status:e7.SinkStatusSerializer._toJsonObject(e.status),uid:e.uid,updatedAt:e.updatedAt}}}});var r7=M(LS=>{"use strict";Object.defineProperty(LS,"__esModule",{value:!0});LS.ListResponseStreamSinkOutSerializer=void 0;var t7=EN();LS.ListResponseStreamSinkOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>t7.StreamSinkOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>t7.StreamSinkOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var n7=M(FS=>{"use strict";Object.defineProperty(FS,"__esModule",{value:!0});FS.SinkSecretOutSerializer=void 0;FS.SinkSecretOutSerializer={_fromJsonObject(e){return{key:e.key}},_toJsonObject(e){return{key:e.key}}}});var o7=M(BS=>{"use strict";Object.defineProperty(BS,"__esModule",{value:!0});BS.SinkTransformInSerializer=void 0;BS.SinkTransformInSerializer={_fromJsonObject(e){return{code:e.code}},_toJsonObject(e){return{code:e.code}}}});var JS=M(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});Xs.SinkStatusInSerializer=Xs.SinkStatusIn=void 0;var uEe;(function(e){e.Enabled="enabled",e.Disabled="disabled"})(uEe=Xs.SinkStatusIn||(Xs.SinkStatusIn={}));Xs.SinkStatusInSerializer={_fromJsonObject(e){return e},_toJsonObject(e){return e}}});var d7=M(HS=>{"use strict";Object.defineProperty(HS,"__esModule",{value:!0});HS.StreamSinkInSerializer=void 0;var i7=_N(),a7=bN(),s7=SN(),u7=wN(),c7=xN(),l7=JS();HS.StreamSinkInSerializer={_fromJsonObject(e){let t=e.type;function r(n){switch(n){case"poller":return{};case"azureBlobStorage":return i7.AzureBlobStorageConfigSerializer._fromJsonObject(e.config);case"otelTracing":return c7.SinkOtelV1ConfigSerializer._fromJsonObject(e.config);case"http":return u7.SinkHttpConfigSerializer._fromJsonObject(e.config);case"amazonS3":return s7.S3ConfigSerializer._fromJsonObject(e.config);case"googleCloudStorage":return a7.GoogleCloudStorageConfigSerializer._fromJsonObject(e.config);default:throw new Error(`Unexpected type: ${n}`)}}return a(r,"getConfig"),{type:t,config:r(t),batchSize:e.batchSize,eventTypes:e.eventTypes,maxWaitSecs:e.maxWaitSecs,metadata:e.metadata,status:e.status?l7.SinkStatusInSerializer._fromJsonObject(e.status):void 0,uid:e.uid}},_toJsonObject(e){let t;switch(e.type){case"poller":t={};break;case"azureBlobStorage":t=i7.AzureBlobStorageConfigSerializer._toJsonObject(e.config);break;case"otelTracing":t=c7.SinkOtelV1ConfigSerializer._toJsonObject(e.config);break;case"http":t=u7.SinkHttpConfigSerializer._toJsonObject(e.config);break;case"amazonS3":t=s7.S3ConfigSerializer._toJsonObject(e.config);break;case"googleCloudStorage":t=a7.GoogleCloudStorageConfigSerializer._toJsonObject(e.config);break}return{type:e.type,config:t,batchSize:e.batchSize,eventTypes:e.eventTypes,maxWaitSecs:e.maxWaitSecs,metadata:e.metadata,status:e.status?l7.SinkStatusInSerializer._toJsonObject(e.status):void 0,uid:e.uid}}}});var p7=M(VS=>{"use strict";Object.defineProperty(VS,"__esModule",{value:!0});VS.AmazonS3PatchConfigSerializer=void 0;VS.AmazonS3PatchConfigSerializer={_fromJsonObject(e){return{accessKeyId:e.accessKeyId,bucket:e.bucket,region:e.region,secretAccessKey:e.secretAccessKey}},_toJsonObject(e){return{accessKeyId:e.accessKeyId,bucket:e.bucket,region:e.region,secretAccessKey:e.secretAccessKey}}}});var m7=M(ZS=>{"use strict";Object.defineProperty(ZS,"__esModule",{value:!0});ZS.AzureBlobStoragePatchConfigSerializer=void 0;ZS.AzureBlobStoragePatchConfigSerializer={_fromJsonObject(e){return{accessKey:e.accessKey,account:e.account,container:e.container}},_toJsonObject(e){return{accessKey:e.accessKey,account:e.account,container:e.container}}}});var f7=M(KS=>{"use strict";Object.defineProperty(KS,"__esModule",{value:!0});KS.GoogleCloudStoragePatchConfigSerializer=void 0;KS.GoogleCloudStoragePatchConfigSerializer={_fromJsonObject(e){return{bucket:e.bucket,credentials:e.credentials}},_toJsonObject(e){return{bucket:e.bucket,credentials:e.credentials}}}});var h7=M(GS=>{"use strict";Object.defineProperty(GS,"__esModule",{value:!0});GS.HttpPatchConfigSerializer=void 0;GS.HttpPatchConfigSerializer={_fromJsonObject(e){return{url:e.url}},_toJsonObject(e){return{url:e.url}}}});var g7=M(WS=>{"use strict";Object.defineProperty(WS,"__esModule",{value:!0});WS.OtelTracingPatchConfigSerializer=void 0;WS.OtelTracingPatchConfigSerializer={_fromJsonObject(e){return{url:e.url}},_toJsonObject(e){return{url:e.url}}}});var x7=M(QS=>{"use strict";Object.defineProperty(QS,"__esModule",{value:!0});QS.StreamSinkPatchSerializer=void 0;var y7=p7(),v7=m7(),_7=f7(),b7=h7(),S7=g7(),w7=JS();QS.StreamSinkPatchSerializer={_fromJsonObject(e){let t=e.type;function r(n){switch(n){case"poller":return{};case"azureBlobStorage":return v7.AzureBlobStoragePatchConfigSerializer._fromJsonObject(e.config);case"otelTracing":return S7.OtelTracingPatchConfigSerializer._fromJsonObject(e.config);case"http":return b7.HttpPatchConfigSerializer._fromJsonObject(e.config);case"amazonS3":return y7.AmazonS3PatchConfigSerializer._fromJsonObject(e.config);case"googleCloudStorage":return _7.GoogleCloudStoragePatchConfigSerializer._fromJsonObject(e.config);default:throw new Error(`Unexpected type: ${n}`)}}return a(r,"getConfig"),{type:t,config:r(t),batchSize:e.batchSize,eventTypes:e.eventTypes,maxWaitSecs:e.maxWaitSecs,metadata:e.metadata,status:e.status?w7.SinkStatusInSerializer._fromJsonObject(e.status):void 0,uid:e.uid}},_toJsonObject(e){let t;switch(e.type){case"poller":t={};break;case"azureBlobStorage":t=v7.AzureBlobStoragePatchConfigSerializer._toJsonObject(e.config);break;case"otelTracing":t=S7.OtelTracingPatchConfigSerializer._toJsonObject(e.config);break;case"http":t=b7.HttpPatchConfigSerializer._toJsonObject(e.config);break;case"amazonS3":t=y7.AmazonS3PatchConfigSerializer._toJsonObject(e.config);break;case"googleCloudStorage":t=_7.GoogleCloudStoragePatchConfigSerializer._toJsonObject(e.config);break}return{type:e.type,config:t,batchSize:e.batchSize,eventTypes:e.eventTypes,maxWaitSecs:e.maxWaitSecs,metadata:e.metadata,status:e.status?w7.SinkStatusInSerializer._toJsonObject(e.status):void 0,uid:e.uid}}}});var k7=M(YS=>{"use strict";Object.defineProperty(YS,"__esModule",{value:!0});YS.StreamingSink=void 0;var T7=KQ(),cEe=U$(),lEe=r7(),dEe=n7(),pEe=o7(),E7=d7(),XS=EN(),mEe=x7(),Dr=nr(),kN=class{static{a(this,"StreamingSink")}constructor(t){this.requestCtx=t}list(t,r){let n=new Dr.SvixRequest(Dr.HttpMethod.GET,"/api/v1/stream/{stream_id}/sink");return n.setPathParam("stream_id",t),n.setQueryParam("limit",r?.limit),n.setQueryParam("iterator",r?.iterator),n.setQueryParam("order",r?.order),n.send(this.requestCtx,lEe.ListResponseStreamSinkOutSerializer._fromJsonObject)}create(t,r,n){let o=new Dr.SvixRequest(Dr.HttpMethod.POST,"/api/v1/stream/{stream_id}/sink");return o.setPathParam("stream_id",t),o.setHeaderParam("idempotency-key",n?.idempotencyKey),o.setBody(E7.StreamSinkInSerializer._toJsonObject(r)),o.send(this.requestCtx,XS.StreamSinkOutSerializer._fromJsonObject)}get(t,r){let n=new Dr.SvixRequest(Dr.HttpMethod.GET,"/api/v1/stream/{stream_id}/sink/{sink_id}");return n.setPathParam("stream_id",t),n.setPathParam("sink_id",r),n.send(this.requestCtx,XS.StreamSinkOutSerializer._fromJsonObject)}update(t,r,n){let o=new Dr.SvixRequest(Dr.HttpMethod.PUT,"/api/v1/stream/{stream_id}/sink/{sink_id}");return o.setPathParam("stream_id",t),o.setPathParam("sink_id",r),o.setBody(E7.StreamSinkInSerializer._toJsonObject(n)),o.send(this.requestCtx,XS.StreamSinkOutSerializer._fromJsonObject)}delete(t,r){let n=new Dr.SvixRequest(Dr.HttpMethod.DELETE,"/api/v1/stream/{stream_id}/sink/{sink_id}");return n.setPathParam("stream_id",t),n.setPathParam("sink_id",r),n.sendNoResponseBody(this.requestCtx)}patch(t,r,n){let o=new Dr.SvixRequest(Dr.HttpMethod.PATCH,"/api/v1/stream/{stream_id}/sink/{sink_id}");return o.setPathParam("stream_id",t),o.setPathParam("sink_id",r),o.setBody(mEe.StreamSinkPatchSerializer._toJsonObject(n)),o.send(this.requestCtx,XS.StreamSinkOutSerializer._fromJsonObject)}getSecret(t,r){let n=new Dr.SvixRequest(Dr.HttpMethod.GET,"/api/v1/stream/{stream_id}/sink/{sink_id}/secret");return n.setPathParam("stream_id",t),n.setPathParam("sink_id",r),n.send(this.requestCtx,dEe.SinkSecretOutSerializer._fromJsonObject)}rotateSecret(t,r,n,o){let i=new Dr.SvixRequest(Dr.HttpMethod.POST,"/api/v1/stream/{stream_id}/sink/{sink_id}/secret/rotate");return i.setPathParam("stream_id",t),i.setPathParam("sink_id",r),i.setHeaderParam("idempotency-key",o?.idempotencyKey),i.setBody(cEe.EndpointSecretRotateInSerializer._toJsonObject(n)),i.send(this.requestCtx,T7.EmptyResponseSerializer._fromJsonObject)}transformationPartialUpdate(t,r,n){let o=new Dr.SvixRequest(Dr.HttpMethod.PATCH,"/api/v1/stream/{stream_id}/sink/{sink_id}/transformation");return o.setPathParam("stream_id",t),o.setPathParam("sink_id",r),o.setBody(pEe.SinkTransformInSerializer._toJsonObject(n)),o.send(this.requestCtx,T7.EmptyResponseSerializer._fromJsonObject)}};YS.StreamingSink=kN});var PN=M(ew=>{"use strict";Object.defineProperty(ew,"__esModule",{value:!0});ew.StreamOutSerializer=void 0;ew.StreamOutSerializer={_fromJsonObject(e){return{createdAt:new Date(e.createdAt),id:e.id,metadata:e.metadata,name:e.name,uid:e.uid,updatedAt:new Date(e.updatedAt)}},_toJsonObject(e){return{createdAt:e.createdAt,id:e.id,metadata:e.metadata,name:e.name,uid:e.uid,updatedAt:e.updatedAt}}}});var I7=M(tw=>{"use strict";Object.defineProperty(tw,"__esModule",{value:!0});tw.ListResponseStreamOutSerializer=void 0;var P7=PN();tw.ListResponseStreamOutSerializer={_fromJsonObject(e){return{data:e.data.map(t=>P7.StreamOutSerializer._fromJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}},_toJsonObject(e){return{data:e.data.map(t=>P7.StreamOutSerializer._toJsonObject(t)),done:e.done,iterator:e.iterator,prevIterator:e.prevIterator}}}});var O7=M(rw=>{"use strict";Object.defineProperty(rw,"__esModule",{value:!0});rw.StreamPatchSerializer=void 0;rw.StreamPatchSerializer={_fromJsonObject(e){return{description:e.description,metadata:e.metadata,uid:e.uid}},_toJsonObject(e){return{description:e.description,metadata:e.metadata,uid:e.uid}}}});var C7=M(ow=>{"use strict";Object.defineProperty(ow,"__esModule",{value:!0});ow.StreamingStream=void 0;var fEe=I7(),A7=yN(),nw=PN(),hEe=O7(),uo=nr(),IN=class{static{a(this,"StreamingStream")}constructor(t){this.requestCtx=t}list(t){let r=new uo.SvixRequest(uo.HttpMethod.GET,"/api/v1/stream");return r.setQueryParam("limit",t?.limit),r.setQueryParam("iterator",t?.iterator),r.setQueryParam("order",t?.order),r.send(this.requestCtx,fEe.ListResponseStreamOutSerializer._fromJsonObject)}create(t,r){let n=new uo.SvixRequest(uo.HttpMethod.POST,"/api/v1/stream");return n.setHeaderParam("idempotency-key",r?.idempotencyKey),n.setBody(A7.StreamInSerializer._toJsonObject(t)),n.send(this.requestCtx,nw.StreamOutSerializer._fromJsonObject)}get(t){let r=new uo.SvixRequest(uo.HttpMethod.GET,"/api/v1/stream/{stream_id}");return r.setPathParam("stream_id",t),r.send(this.requestCtx,nw.StreamOutSerializer._fromJsonObject)}update(t,r){let n=new uo.SvixRequest(uo.HttpMethod.PUT,"/api/v1/stream/{stream_id}");return n.setPathParam("stream_id",t),n.setBody(A7.StreamInSerializer._toJsonObject(r)),n.send(this.requestCtx,nw.StreamOutSerializer._fromJsonObject)}delete(t){let r=new uo.SvixRequest(uo.HttpMethod.DELETE,"/api/v1/stream/{stream_id}");return r.setPathParam("stream_id",t),r.sendNoResponseBody(this.requestCtx)}patch(t,r){let n=new uo.SvixRequest(uo.HttpMethod.PATCH,"/api/v1/stream/{stream_id}");return n.setPathParam("stream_id",t),n.setBody(hEe.StreamPatchSerializer._toJsonObject(r)),n.send(this.requestCtx,nw.StreamOutSerializer._fromJsonObject)}};ow.StreamingStream=IN});var $7=M(iw=>{"use strict";Object.defineProperty(iw,"__esModule",{value:!0});iw.Streaming=void 0;var R7=M$(),gEe=CQ(),yEe=RQ(),vEe=MQ(),_Ee=ZQ(),bEe=k7(),SEe=C7(),sl=nr(),ON=class{static{a(this,"Streaming")}constructor(t){this.requestCtx=t}get event_type(){return new vEe.StreamingEventType(this.requestCtx)}get events(){return new _Ee.StreamingEvents(this.requestCtx)}get sink(){return new bEe.StreamingSink(this.requestCtx)}get stream(){return new SEe.StreamingStream(this.requestCtx)}sinkHeadersGet(t,r){let n=new sl.SvixRequest(sl.HttpMethod.GET,"/api/v1/stream/{stream_id}/sink/{sink_id}/headers");return n.setPathParam("stream_id",t),n.setPathParam("sink_id",r),n.send(this.requestCtx,R7.EndpointHeadersOutSerializer._fromJsonObject)}sinkHeadersPatch(t,r,n){let o=new sl.SvixRequest(sl.HttpMethod.PATCH,"/api/v1/stream/{stream_id}/sink/{sink_id}/headers");return o.setPathParam("stream_id",t),o.setPathParam("sink_id",r),o.setBody(gEe.HttpSinkHeadersPatchInSerializer._toJsonObject(n)),o.send(this.requestCtx,R7.EndpointHeadersOutSerializer._fromJsonObject)}sinkTransformationGet(t,r){let n=new sl.SvixRequest(sl.HttpMethod.GET,"/api/v1/stream/{stream_id}/sink/{sink_id}/transformation");return n.setPathParam("stream_id",t),n.setPathParam("sink_id",r),n.send(this.requestCtx,yEe.SinkTransformationOutSerializer._fromJsonObject)}};iw.Streaming=ON});var N7=M(Ya=>{"use strict";Object.defineProperty(Ya,"__esModule",{value:!0});Ya.HTTPValidationError=Ya.ValidationError=Ya.HttpErrorOut=void 0;var ul=class e{static{a(this,"HttpErrorOut")}static getAttributeTypeMap(){return e.attributeTypeMap}};Ya.HttpErrorOut=ul;ul.discriminator=void 0;ul.mapping=void 0;ul.attributeTypeMap=[{name:"code",baseName:"code",type:"string",format:""},{name:"detail",baseName:"detail",type:"string",format:""}];var cl=class e{static{a(this,"ValidationError")}static getAttributeTypeMap(){return e.attributeTypeMap}};Ya.ValidationError=cl;cl.discriminator=void 0;cl.mapping=void 0;cl.attributeTypeMap=[{name:"loc",baseName:"loc",type:"Array<string>",format:""},{name:"msg",baseName:"msg",type:"string",format:""},{name:"type",baseName:"type",type:"string",format:""}];var ll=class e{static{a(this,"HTTPValidationError")}static getAttributeTypeMap(){return e.attributeTypeMap}};Ya.HTTPValidationError=ll;ll.discriminator=void 0;ll.mapping=void 0;ll.attributeTypeMap=[{name:"detail",baseName:"detail",type:"Array<ValidationError>",format:""}]});var j7=M(aw=>{"use strict";Object.defineProperty(aw,"__esModule",{value:!0});aw.timingSafeEqual=void 0;function z7(e,t=""){if(!e)throw new Error(t)}a(z7,"assert");function wEe(e,t){if(e.byteLength!==t.byteLength)return!1;e instanceof DataView||(e=new DataView(ArrayBuffer.isView(e)?e.buffer:e)),t instanceof DataView||(t=new DataView(ArrayBuffer.isView(t)?t.buffer:t)),z7(e instanceof DataView),z7(t instanceof DataView);let r=e.byteLength,n=0,o=-1;for(;++o<r;)n|=e.getUint8(o)^t.getUint8(o);return n===0}a(wEe,"timingSafeEqual");aw.timingSafeEqual=wEe});var q7=M(Vn=>{"use strict";var xEe=Vn&&Vn.__extends||(function(){var e=a(function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},e(t,r)},"extendStatics");return function(t,r){e(t,r);function n(){this.constructor=t}a(n,"__"),t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Object.defineProperty(Vn,"__esModule",{value:!0});var Er=256,AN=(function(){function e(t){t===void 0&&(t="="),this._paddingCharacter=t}return a(e,"Coder"),e.prototype.encodedLength=function(t){return this._paddingCharacter?(t+2)/3*4|0:(t*8+5)/6|0},e.prototype.encode=function(t){for(var r="",n=0;n<t.length-2;n+=3){var o=t[n]<<16|t[n+1]<<8|t[n+2];r+=this._encodeByte(o>>>18&63),r+=this._encodeByte(o>>>12&63),r+=this._encodeByte(o>>>6&63),r+=this._encodeByte(o>>>0&63)}var i=t.length-n;if(i>0){var o=t[n]<<16|(i===2?t[n+1]<<8:0);r+=this._encodeByte(o>>>18&63),r+=this._encodeByte(o>>>12&63),i===2?r+=this._encodeByte(o>>>6&63):r+=this._paddingCharacter||"",r+=this._paddingCharacter||""}return r},e.prototype.maxDecodedLength=function(t){return this._paddingCharacter?t/4*3|0:(t*6+7)/8|0},e.prototype.decodedLength=function(t){return this.maxDecodedLength(t.length-this._getPaddingLength(t))},e.prototype.decode=function(t){if(t.length===0)return new Uint8Array(0);for(var r=this._getPaddingLength(t),n=t.length-r,o=new Uint8Array(this.maxDecodedLength(n)),i=0,s=0,u=0,l=0,d=0,p=0,f=0;s<n-4;s+=4)l=this._decodeChar(t.charCodeAt(s+0)),d=this._decodeChar(t.charCodeAt(s+1)),p=this._decodeChar(t.charCodeAt(s+2)),f=this._decodeChar(t.charCodeAt(s+3)),o[i++]=l<<2|d>>>4,o[i++]=d<<4|p>>>2,o[i++]=p<<6|f,u|=l&Er,u|=d&Er,u|=p&Er,u|=f&Er;if(s<n-1&&(l=this._decodeChar(t.charCodeAt(s)),d=this._decodeChar(t.charCodeAt(s+1)),o[i++]=l<<2|d>>>4,u|=l&Er,u|=d&Er),s<n-2&&(p=this._decodeChar(t.charCodeAt(s+2)),o[i++]=d<<4|p>>>2,u|=p&Er),s<n-3&&(f=this._decodeChar(t.charCodeAt(s+3)),o[i++]=p<<6|f,u|=f&Er),u!==0)throw new Error("Base64Coder: incorrect characters for decoding");return o},e.prototype._encodeByte=function(t){var r=t;return r+=65,r+=25-t>>>8&6,r+=51-t>>>8&-75,r+=61-t>>>8&-15,r+=62-t>>>8&3,String.fromCharCode(r)},e.prototype._decodeChar=function(t){var r=Er;return r+=(42-t&t-44)>>>8&-Er+t-43+62,r+=(46-t&t-48)>>>8&-Er+t-47+63,r+=(47-t&t-58)>>>8&-Er+t-48+52,r+=(64-t&t-91)>>>8&-Er+t-65+0,r+=(96-t&t-123)>>>8&-Er+t-97+26,r},e.prototype._getPaddingLength=function(t){var r=0;if(this._paddingCharacter){for(var n=t.length-1;n>=0&&t[n]===this._paddingCharacter;n--)r++;if(t.length<4||r>2)throw new Error("Base64Coder: incorrect padding")}return r},e})();Vn.Coder=AN;var Um=new AN;function TEe(e){return Um.encode(e)}a(TEe,"encode");Vn.encode=TEe;function EEe(e){return Um.decode(e)}a(EEe,"decode");Vn.decode=EEe;var D7=(function(e){xEe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return a(t,"URLSafeCoder"),t.prototype._encodeByte=function(r){var n=r;return n+=65,n+=25-r>>>8&6,n+=51-r>>>8&-75,n+=61-r>>>8&-13,n+=62-r>>>8&49,String.fromCharCode(n)},t.prototype._decodeChar=function(r){var n=Er;return n+=(44-r&r-46)>>>8&-Er+r-45+62,n+=(94-r&r-96)>>>8&-Er+r-95+63,n+=(47-r&r-58)>>>8&-Er+r-48+52,n+=(64-r&r-91)>>>8&-Er+r-65+0,n+=(96-r&r-123)>>>8&-Er+r-97+26,n},t})(AN);Vn.URLSafeCoder=D7;var M7=new D7;function kEe(e){return M7.encode(e)}a(kEe,"encodeURLSafe");Vn.encodeURLSafe=kEe;function PEe(e){return M7.decode(e)}a(PEe,"decodeURLSafe");Vn.decodeURLSafe=PEe;Vn.encodedLength=function(e){return Um.encodedLength(e)};Vn.maxDecodedLength=function(e){return Um.maxDecodedLength(e)};Vn.decodedLength=function(e){return Um.decodedLength(e)}});var L7=M((U7,sw)=>{(function(e,t){var r={};t(r);var n=r.default;for(var o in r)n[o]=r[o];typeof sw=="object"&&typeof sw.exports=="object"?sw.exports=n:typeof define=="function"&&define.amd?define(function(){return n}):e.sha256=n})(U7,function(e){"use strict";e.__esModule=!0,e.digestLength=32,e.blockSize=64;var t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function r(f,m,y,g,h){for(var v,S,b,w,k,$,C,A,R,O,z,D,X;h>=64;){for(v=m[0],S=m[1],b=m[2],w=m[3],k=m[4],$=m[5],C=m[6],A=m[7],O=0;O<16;O++)z=g+O*4,f[O]=(y[z]&255)<<24|(y[z+1]&255)<<16|(y[z+2]&255)<<8|y[z+3]&255;for(O=16;O<64;O++)R=f[O-2],D=(R>>>17|R<<15)^(R>>>19|R<<13)^R>>>10,R=f[O-15],X=(R>>>7|R<<25)^(R>>>18|R<<14)^R>>>3,f[O]=(D+f[O-7]|0)+(X+f[O-16]|0);for(O=0;O<64;O++)D=(((k>>>6|k<<26)^(k>>>11|k<<21)^(k>>>25|k<<7))+(k&$^~k&C)|0)+(A+(t[O]+f[O]|0)|0)|0,X=((v>>>2|v<<30)^(v>>>13|v<<19)^(v>>>22|v<<10))+(v&S^v&b^S&b)|0,A=C,C=$,$=k,k=w+D|0,w=b,b=S,S=v,v=D+X|0;m[0]+=v,m[1]+=S,m[2]+=b,m[3]+=w,m[4]+=k,m[5]+=$,m[6]+=C,m[7]+=A,g+=64,h-=64}return g}a(r,"hashBlocks");var n=(function(){function f(){this.digestLength=e.digestLength,this.blockSize=e.blockSize,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}return a(f,"Hash"),f.prototype.reset=function(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this},f.prototype.clean=function(){for(var m=0;m<this.buffer.length;m++)this.buffer[m]=0;for(var m=0;m<this.temp.length;m++)this.temp[m]=0;this.reset()},f.prototype.update=function(m,y){if(y===void 0&&(y=m.length),this.finished)throw new Error("SHA256: can't update because hash was finished.");var g=0;if(this.bytesHashed+=y,this.bufferLength>0){for(;this.bufferLength<64&&y>0;)this.buffer[this.bufferLength++]=m[g++],y--;this.bufferLength===64&&(r(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(y>=64&&(g=r(this.temp,this.state,m,g,y),y%=64);y>0;)this.buffer[this.bufferLength++]=m[g++],y--;return this},f.prototype.finish=function(m){if(!this.finished){var y=this.bytesHashed,g=this.bufferLength,h=y/536870912|0,v=y<<3,S=y%64<56?64:128;this.buffer[g]=128;for(var b=g+1;b<S-8;b++)this.buffer[b]=0;this.buffer[S-8]=h>>>24&255,this.buffer[S-7]=h>>>16&255,this.buffer[S-6]=h>>>8&255,this.buffer[S-5]=h>>>0&255,this.buffer[S-4]=v>>>24&255,this.buffer[S-3]=v>>>16&255,this.buffer[S-2]=v>>>8&255,this.buffer[S-1]=v>>>0&255,r(this.temp,this.state,this.buffer,0,S),this.finished=!0}for(var b=0;b<8;b++)m[b*4+0]=this.state[b]>>>24&255,m[b*4+1]=this.state[b]>>>16&255,m[b*4+2]=this.state[b]>>>8&255,m[b*4+3]=this.state[b]>>>0&255;return this},f.prototype.digest=function(){var m=new Uint8Array(this.digestLength);return this.finish(m),m},f.prototype._saveState=function(m){for(var y=0;y<this.state.length;y++)m[y]=this.state[y]},f.prototype._restoreState=function(m,y){for(var g=0;g<this.state.length;g++)this.state[g]=m[g];this.bytesHashed=y,this.finished=!1,this.bufferLength=0},f})();e.Hash=n;var o=(function(){function f(m){this.inner=new n,this.outer=new n,this.blockSize=this.inner.blockSize,this.digestLength=this.inner.digestLength;var y=new Uint8Array(this.blockSize);if(m.length>this.blockSize)new n().update(m).finish(y).clean();else for(var g=0;g<m.length;g++)y[g]=m[g];for(var g=0;g<y.length;g++)y[g]^=54;this.inner.update(y);for(var g=0;g<y.length;g++)y[g]^=106;this.outer.update(y),this.istate=new Uint32Array(8),this.ostate=new Uint32Array(8),this.inner._saveState(this.istate),this.outer._saveState(this.ostate);for(var g=0;g<y.length;g++)y[g]=0}return a(f,"HMAC"),f.prototype.reset=function(){return this.inner._restoreState(this.istate,this.inner.blockSize),this.outer._restoreState(this.ostate,this.outer.blockSize),this},f.prototype.clean=function(){for(var m=0;m<this.istate.length;m++)this.ostate[m]=this.istate[m]=0;this.inner.clean(),this.outer.clean()},f.prototype.update=function(m){return this.inner.update(m),this},f.prototype.finish=function(m){return this.outer.finished?this.outer.finish(m):(this.inner.finish(m),this.outer.update(m,this.digestLength).finish(m)),this},f.prototype.digest=function(){var m=new Uint8Array(this.digestLength);return this.finish(m),m},f})();e.HMAC=o;function i(f){var m=new n().update(f),y=m.digest();return m.clean(),y}a(i,"hash"),e.hash=i,e.default=i;function s(f,m){var y=new o(f).update(m),g=y.digest();return y.clean(),g}a(s,"hmac"),e.hmac=s;function u(f,m,y,g){var h=g[0];if(h===0)throw new Error("hkdf: cannot expand more");m.reset(),h>1&&m.update(f),y&&m.update(y),m.update(g),m.finish(f),g[0]++}a(u,"fillBuffer");var l=new Uint8Array(e.digestLength);function d(f,m,y,g){m===void 0&&(m=l),g===void 0&&(g=32);for(var h=new Uint8Array([1]),v=s(m,f),S=new o(v),b=new Uint8Array(S.digestLength),w=b.length,k=new Uint8Array(g),$=0;$<g;$++)w===b.length&&(u(b,S,y,h),w=0),k[$]=b[w++];return S.clean(),b.fill(0),h.fill(0),k}a(d,"hkdf"),e.hkdf=d;function p(f,m,y,g){for(var h=new o(f),v=h.digestLength,S=new Uint8Array(4),b=new Uint8Array(v),w=new Uint8Array(v),k=new Uint8Array(g),$=0;$*v<g;$++){var C=$+1;S[0]=C>>>24&255,S[1]=C>>>16&255,S[2]=C>>>8&255,S[3]=C>>>0&255,h.reset(),h.update(m),h.update(S),h.finish(w);for(var A=0;A<v;A++)b[A]=w[A];for(var A=2;A<=y;A++){h.reset(),h.update(w).finish(w);for(var R=0;R<v;R++)b[R]^=w[R]}for(var A=0;A<v&&$*v+A<g;A++)k[$*v+A]=b[A]}for(var $=0;$<v;$++)b[$]=w[$]=0;for(var $=0;$<4;$++)S[$]=0;return h.clean(),k}a(p,"pbkdf2"),e.pbkdf2=p})});var J7=M(dl=>{"use strict";Object.defineProperty(dl,"__esModule",{value:!0});dl.Webhook=dl.WebhookVerificationError=void 0;var IEe=j7(),F7=q7(),OEe=L7(),B7=300,CN=class e extends Error{static{a(this,"ExtendableError")}constructor(t){super(t),Object.setPrototypeOf(this,e.prototype),this.name="ExtendableError",this.stack=new Error(t).stack}},es=class e extends CN{static{a(this,"WebhookVerificationError")}constructor(t){super(t),Object.setPrototypeOf(this,e.prototype),this.name="WebhookVerificationError"}};dl.WebhookVerificationError=es;var uw=class e{static{a(this,"Webhook")}constructor(t,r){if(!t)throw new Error("Secret can't be empty.");if(r?.format==="raw")t instanceof Uint8Array?this.key=t:this.key=Uint8Array.from(t,n=>n.charCodeAt(0));else{if(typeof t!="string")throw new Error("Expected secret to be of type string");t.startsWith(e.prefix)&&(t=t.substring(e.prefix.length)),this.key=F7.decode(t)}}verify(t,r){let n={};for(let m of Object.keys(r))n[m.toLowerCase()]=r[m];let o=n["svix-id"],i=n["svix-signature"],s=n["svix-timestamp"];if((!i||!o||!s)&&(o=n["webhook-id"],i=n["webhook-signature"],s=n["webhook-timestamp"],!i||!o||!s))throw new es("Missing required headers");let u=this.verifyTimestamp(s),d=this.sign(o,u,t).split(",")[1],p=i.split(" "),f=new globalThis.TextEncoder;for(let m of p){let[y,g]=m.split(",");if(y==="v1"&&(0,IEe.timingSafeEqual)(f.encode(g),f.encode(d)))return JSON.parse(t.toString())}throw new es("No matching signature found")}sign(t,r,n){if(typeof n!="string")if(n.constructor.name==="Buffer")n=n.toString();else throw new Error("Expected payload to be of type string or Buffer. Please refer to https://docs.svix.com/receiving/verifying-payloads/how for more information.");let o=new TextEncoder,i=Math.floor(r.getTime()/1e3),s=o.encode(`${t}.${i}.${n}`);return`v1,${F7.encode(OEe.hmac(this.key,s))}`}verifyTimestamp(t){let r=Math.floor(Date.now()/1e3),n=parseInt(t,10);if(Number.isNaN(n))throw new es("Invalid Signature Headers");if(r-n>B7)throw new es("Message timestamp too old");if(n>r+B7)throw new es("Message timestamp too new");return new Date(n*1e3)}};dl.Webhook=uw;uw.prefix="whsec_"});var H7=M(Ys=>{"use strict";Object.defineProperty(Ys,"__esModule",{value:!0});Ys.EndpointDisabledTriggerSerializer=Ys.EndpointDisabledTrigger=void 0;var AEe;(function(e){e.Manual="manual",e.Automatic="automatic"})(AEe=Ys.EndpointDisabledTrigger||(Ys.EndpointDisabledTrigger={}));Ys.EndpointDisabledTriggerSerializer={_fromJsonObject(e){return e},_toJsonObject(e){return e}}});var V7=M(eu=>{"use strict";Object.defineProperty(eu,"__esModule",{value:!0});eu.OrderingSerializer=eu.Ordering=void 0;var CEe;(function(e){e.Ascending="ascending",e.Descending="descending"})(CEe=eu.Ordering||(eu.Ordering={}));eu.OrderingSerializer={_fromJsonObject(e){return e},_toJsonObject(e){return e}}});var Z7=M(tu=>{"use strict";Object.defineProperty(tu,"__esModule",{value:!0});tu.StatusCodeClassSerializer=tu.StatusCodeClass=void 0;var REe;(function(e){e[e.CodeNone=0]="CodeNone",e[e.Code1xx=100]="Code1xx",e[e.Code2xx=200]="Code2xx",e[e.Code3xx=300]="Code3xx",e[e.Code4xx=400]="Code4xx",e[e.Code5xx=500]="Code5xx"})(REe=tu.StatusCodeClass||(tu.StatusCodeClass={}));tu.StatusCodeClassSerializer={_fromJsonObject(e){return e},_toJsonObject(e){return e}}});var K7=M(Jt=>{"use strict";Object.defineProperty(Jt,"__esModule",{value:!0});Jt.StatusCodeClass=Jt.SinkStatusIn=Jt.SinkStatus=Jt.Ordering=Jt.MessageStatusText=Jt.MessageStatus=Jt.MessageAttemptTriggerType=Jt.EndpointDisabledTrigger=Jt.ConnectorKind=Jt.BackgroundTaskType=Jt.BackgroundTaskStatus=Jt.AppPortalCapability=void 0;var $Ee=C$();Object.defineProperty(Jt,"AppPortalCapability",{enumerable:!0,get:a(function(){return $Ee.AppPortalCapability},"get")});var NEe=Qa();Object.defineProperty(Jt,"BackgroundTaskStatus",{enumerable:!0,get:a(function(){return NEe.BackgroundTaskStatus},"get")});var zEe=Xa();Object.defineProperty(Jt,"BackgroundTaskType",{enumerable:!0,get:a(function(){return zEe.BackgroundTaskType},"get")});var jEe=ol();Object.defineProperty(Jt,"ConnectorKind",{enumerable:!0,get:a(function(){return jEe.ConnectorKind},"get")});var DEe=H7();Object.defineProperty(Jt,"EndpointDisabledTrigger",{enumerable:!0,get:a(function(){return DEe.EndpointDisabledTrigger},"get")});var MEe=aN();Object.defineProperty(Jt,"MessageAttemptTriggerType",{enumerable:!0,get:a(function(){return MEe.MessageAttemptTriggerType},"get")});var qEe=Mm();Object.defineProperty(Jt,"MessageStatus",{enumerable:!0,get:a(function(){return qEe.MessageStatus},"get")});var UEe=qm();Object.defineProperty(Jt,"MessageStatusText",{enumerable:!0,get:a(function(){return UEe.MessageStatusText},"get")});var LEe=V7();Object.defineProperty(Jt,"Ordering",{enumerable:!0,get:a(function(){return LEe.Ordering},"get")});var FEe=TN();Object.defineProperty(Jt,"SinkStatus",{enumerable:!0,get:a(function(){return FEe.SinkStatus},"get")});var BEe=JS();Object.defineProperty(Jt,"SinkStatusIn",{enumerable:!0,get:a(function(){return BEe.SinkStatusIn},"get")});var JEe=Z7();Object.defineProperty(Jt,"StatusCodeClass",{enumerable:!0,get:a(function(){return JEe.StatusCodeClass},"get")})});var W7=M(kr=>{"use strict";var HEe=kr&&kr.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:a(function(){return t[r]},"get")}),Object.defineProperty(e,n,o)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),G7=kr&&kr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&HEe(t,e,r)};Object.defineProperty(kr,"__esModule",{value:!0});kr.Svix=kr.messageInRaw=kr.ValidationError=kr.HttpErrorOut=kr.HTTPValidationError=kr.ApiException=void 0;var VEe=wZ(),ZEe=$Z(),KEe=MZ(),GEe=ZZ(),WEe=hK(),QEe=wK(),XEe=$K(),YEe=zK(),eke=PW(),tke=NW(),rke=iN(),nke=mQ(),oke=wQ(),ike=AQ(),ake=$7(),ske=pN(),uke=y$();Object.defineProperty(kr,"ApiException",{enumerable:!0,get:a(function(){return uke.ApiException},"get")});var $N=N7();Object.defineProperty(kr,"HTTPValidationError",{enumerable:!0,get:a(function(){return $N.HTTPValidationError},"get")});Object.defineProperty(kr,"HttpErrorOut",{enumerable:!0,get:a(function(){return $N.HttpErrorOut},"get")});Object.defineProperty(kr,"ValidationError",{enumerable:!0,get:a(function(){return $N.ValidationError},"get")});G7(J7(),kr);G7(K7(),kr);var cke=iN();Object.defineProperty(kr,"messageInRaw",{enumerable:!0,get:a(function(){return cke.messageInRaw},"get")});var lke=[{region:"us",url:"https://api.us.svix.com"},{region:"eu",url:"https://api.eu.svix.com"},{region:"in",url:"https://api.in.svix.com"},{region:"ca",url:"https://api.ca.svix.com"},{region:"au",url:"https://api.au.svix.com"}],RN=class{static{a(this,"Svix")}constructor(t,r={}){var n,o,i;let s=(n=lke.find(l=>l.region===t.split(".")[1]))===null||n===void 0?void 0:n.url,u=(i=(o=r.serverUrl)!==null&&o!==void 0?o:s)!==null&&i!==void 0?i:"https://api.svix.com";if(r.retryScheduleInMs){this.requestCtx={baseUrl:u,token:t,timeout:r.requestTimeout,retryScheduleInMs:r.retryScheduleInMs,fetch:r.fetch};return}if(r.numRetries){this.requestCtx={baseUrl:u,token:t,timeout:r.requestTimeout,numRetries:r.numRetries,fetch:r.fetch};return}this.requestCtx={baseUrl:u,token:t,timeout:r.requestTimeout,fetch:r.fetch}}get application(){return new VEe.Application(this.requestCtx)}get authentication(){return new ZEe.Authentication(this.requestCtx)}get backgroundTask(){return new KEe.BackgroundTask(this.requestCtx)}get connector(){return new GEe.Connector(this.requestCtx)}get endpoint(){return new WEe.Endpoint(this.requestCtx)}get environment(){return new QEe.Environment(this.requestCtx)}get eventType(){return new XEe.EventType(this.requestCtx)}get health(){return new YEe.Health(this.requestCtx)}get ingest(){return new eke.Ingest(this.requestCtx)}get integration(){return new tke.Integration(this.requestCtx)}get message(){return new rke.Message(this.requestCtx)}get messageAttempt(){return new nke.MessageAttempt(this.requestCtx)}get operationalWebhook(){return new oke.OperationalWebhook(this.requestCtx)}get statistics(){return new ike.Statistics(this.requestCtx)}get streaming(){return new ake.Streaming(this.requestCtx)}get operationalWebhookEndpoint(){return new ske.OperationalWebhookEndpoint(this.requestCtx)}};kr.Svix=RN});var cw=a((e,t,r)=>(n,o)=>{let i=-1;return s(0);async function s(u){if(u<=i)throw new Error("next() called multiple times");i=u;let l,d=!1,p;if(e[u]?(p=e[u][0][0],n.req.routeIndex=u):p=u===e.length&&o||void 0,p)try{l=await p(n,()=>s(u+1))}catch(f){if(f instanceof Error&&t)n.error=f,l=await t(f,n),d=!0;else throw f}else n.finalized===!1&&r&&(l=await r(n));return l&&(n.finalized===!1||d)&&(n.res=l),n}},"compose");var Jm=class extends Error{static{a(this,"HTTPException")}res;status;constructor(e=500,t){super(t?.message,{cause:t?.cause}),this.res=t?.res,this.status=e}getResponse(){return this.res?new Response(this.res.body,{status:this.status,headers:this.res.headers}):new Response(this.message,{status:this.status})}};var zN=Symbol();var jN=a(async(e,t=Object.create(null))=>{let{all:r=!1,dot:n=!1}=t,i=(e instanceof Hm?e.raw.headers:e.headers).get("Content-Type");return i?.startsWith("multipart/form-data")||i?.startsWith("application/x-www-form-urlencoded")?dX(e,{all:r,dot:n}):{}},"parseBody");async function dX(e,t){let r=await e.formData();return r?pX(r,t):{}}a(dX,"parseFormData");function pX(e,t){let r=Object.create(null);return e.forEach((n,o)=>{t.all||o.endsWith("[]")?mX(r,o,n):r[o]=n}),t.dot&&Object.entries(r).forEach(([n,o])=>{n.includes(".")&&(fX(r,n,o),delete r[n])}),r}a(pX,"convertFormDataToBodyData");var mX=a((e,t,r)=>{e[t]!==void 0?Array.isArray(e[t])?e[t].push(r):e[t]=[e[t],r]:t.endsWith("[]")?e[t]=[r]:e[t]=r},"handleParsingAllValues"),fX=a((e,t,r)=>{let n=e,o=t.split(".");o.forEach((i,s)=>{s===o.length-1?n[i]=r:((!n[i]||typeof n[i]!="object"||Array.isArray(n[i])||n[i]instanceof File)&&(n[i]=Object.create(null)),n=n[i])})},"handleParsingNestedValues");var dw=a(e=>{let t=e.split("/");return t[0]===""&&t.shift(),t},"splitPath"),DN=a(e=>{let{groups:t,path:r}=hX(e),n=dw(r);return gX(n,t)},"splitRoutingPath"),hX=a(e=>{let t=[];return e=e.replace(/\{[^}]+\}/g,(r,n)=>{let o=`@${n}`;return t.push([o,r]),o}),{groups:t,path:e}},"extractGroupsFromPath"),gX=a((e,t)=>{for(let r=t.length-1;r>=0;r--){let[n]=t[r];for(let o=e.length-1;o>=0;o--)if(e[o].includes(n)){e[o]=e[o].replace(n,t[r][1]);break}}return e},"replaceGroupMarks"),Vm={},MN=a((e,t)=>{if(e==="*")return"*";let r=e.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);if(r){let n=`${e}#${t}`;return Vm[n]||(r[2]?Vm[n]=t&&t[0]!==":"&&t[0]!=="*"?[n,r[1],new RegExp(`^${r[2]}(?=/${t})`)]:[e,r[1],new RegExp(`^${r[2]}$`)]:Vm[n]=[e,r[1],!0]),Vm[n]}return null},"getPattern"),au=a((e,t)=>{try{return t(e)}catch{return e.replace(/(?:%[0-9A-Fa-f]{2})+/g,r=>{try{return t(r)}catch{return r}})}},"tryDecode"),yX=a(e=>au(e,decodeURI),"tryDecodeURI"),pw=a(e=>{let t=e.url,r=t.indexOf("/",t.indexOf(":")+4),n=r;for(;n<t.length;n++){let o=t.charCodeAt(n);if(o===37){let i=t.indexOf("?",n),s=t.slice(r,i===-1?void 0:i);return yX(s.includes("%25")?s.replace(/%25/g,"%2525"):s)}else if(o===63)break}return t.slice(r,n)},"getPath");var qN=a(e=>{let t=pw(e);return t.length>1&&t.at(-1)==="/"?t.slice(0,-1):t},"getPathNoStrict"),ts=a((e,t,...r)=>(r.length&&(t=ts(t,...r)),`${e?.[0]==="/"?"":"/"}${e}${t==="/"?"":`${e?.at(-1)==="/"?"":"/"}${t?.[0]==="/"?t.slice(1):t}`}`),"mergePath"),Zm=a(e=>{if(e.charCodeAt(e.length-1)!==63||!e.includes(":"))return null;let t=e.split("/"),r=[],n="";return t.forEach(o=>{if(o!==""&&!/\:/.test(o))n+="/"+o;else if(/\:/.test(o))if(/\?/.test(o)){r.length===0&&n===""?r.push("/"):r.push(n);let i=o.replace("?","");n+="/"+i,r.push(n)}else n+="/"+o}),r.filter((o,i,s)=>s.indexOf(o)===i)},"checkOptionalParameter"),lw=a(e=>/[%+]/.test(e)?(e.indexOf("+")!==-1&&(e=e.replace(/\+/g," ")),e.indexOf("%")!==-1?au(e,ml):e):e,"_decodeURI"),UN=a((e,t,r)=>{let n;if(!r&&t&&!/[%+]/.test(t)){let s=e.indexOf("?",8);if(s===-1)return;for(e.startsWith(t,s+1)||(s=e.indexOf(`&${t}`,s+1));s!==-1;){let u=e.charCodeAt(s+t.length+1);if(u===61){let l=s+t.length+2,d=e.indexOf("&",l);return lw(e.slice(l,d===-1?void 0:d))}else if(u==38||isNaN(u))return"";s=e.indexOf(`&${t}`,s+1)}if(n=/[%+]/.test(e),!n)return}let o={};n??=/[%+]/.test(e);let i=e.indexOf("?",8);for(;i!==-1;){let s=e.indexOf("&",i+1),u=e.indexOf("=",i);u>s&&s!==-1&&(u=-1);let l=e.slice(i+1,u===-1?s===-1?void 0:s:u);if(n&&(l=lw(l)),i=s,l==="")continue;let d;u===-1?d="":(d=e.slice(u+1,s===-1?void 0:s),n&&(d=lw(d))),r?(o[l]&&Array.isArray(o[l])||(o[l]=[]),o[l].push(d)):o[l]??=d}return t?o[t]:o},"_getQueryParam"),LN=UN,FN=a((e,t)=>UN(e,t,!0),"getQueryParams"),ml=decodeURIComponent;var BN=a(e=>au(e,ml),"tryDecodeURIComponent"),Hm=class{static{a(this,"HonoRequest")}raw;#e;#t;routeIndex=0;path;bodyCache={};constructor(e,t="/",r=[[]]){this.raw=e,this.path=t,this.#t=r,this.#e={}}param(e){return e?this.#r(e):this.#i()}#r(e){let t=this.#t[0][this.routeIndex][1][e],r=this.#n(t);return r&&/\%/.test(r)?BN(r):r}#i(){let e={},t=Object.keys(this.#t[0][this.routeIndex][1]);for(let r of t){let n=this.#n(this.#t[0][this.routeIndex][1][r]);n!==void 0&&(e[r]=/\%/.test(n)?BN(n):n)}return e}#n(e){return this.#t[1]?this.#t[1][e]:e}query(e){return LN(this.url,e)}queries(e){return FN(this.url,e)}header(e){if(e)return this.raw.headers.get(e)??void 0;let t={};return this.raw.headers.forEach((r,n)=>{t[n]=r}),t}async parseBody(e){return this.bodyCache.parsedBody??=await jN(this,e)}#o=a(e=>{let{bodyCache:t,raw:r}=this,n=t[e];if(n)return n;let o=Object.keys(t)[0];return o?t[o].then(i=>(o==="json"&&(i=JSON.stringify(i)),new Response(i)[e]())):t[e]=r[e]()},"#cachedBody");json(){return this.#o("text").then(e=>JSON.parse(e))}text(){return this.#o("text")}arrayBuffer(){return this.#o("arrayBuffer")}blob(){return this.#o("blob")}formData(){return this.#o("formData")}addValidatedData(e,t){this.#e[e]=t}valid(e){return this.#e[e]}get url(){return this.raw.url}get method(){return this.raw.method}get[zN](){return this.#t}get matchedRoutes(){return this.#t[0].map(([[,e]])=>e)}get routePath(){return this.#t[0].map(([[,e]])=>e)[this.routeIndex].path}};var JN={Stringify:1,BeforeStream:2,Stream:3},vX=a((e,t)=>{let r=new String(e);return r.isEscaped=!0,r.callbacks=t,r},"raw");var mw=a(async(e,t,r,n,o)=>{typeof e=="object"&&!(e instanceof String)&&(e instanceof Promise||(e=e.toString()),e instanceof Promise&&(e=await e));let i=e.callbacks;if(!i?.length)return Promise.resolve(e);o?o[0]+=e:o=[e];let s=Promise.all(i.map(u=>u({phase:t,buffer:o,context:n}))).then(u=>Promise.all(u.filter(Boolean).map(l=>mw(l,t,!1,n,o))).then(()=>o[0]));return r?vX(await s,i):s},"resolveCallback");var _X="text/plain; charset=UTF-8",fw=a((e,t)=>({"Content-Type":e,...t}),"setDefaultContentType"),HN=class{static{a(this,"Context")}#e;#t;env={};#r;finalized=!1;error;#i;#n;#o;#d;#c;#u;#a;#p;#l;constructor(e,t){this.#e=e,t&&(this.#n=t.executionCtx,this.env=t.env,this.#u=t.notFoundHandler,this.#l=t.path,this.#p=t.matchResult)}get req(){return this.#t??=new Hm(this.#e,this.#l,this.#p),this.#t}get event(){if(this.#n&&"respondWith"in this.#n)return this.#n;throw Error("This context has no FetchEvent")}get executionCtx(){if(this.#n)return this.#n;throw Error("This context has no ExecutionContext")}get res(){return this.#o||=new Response(null,{headers:this.#a??=new Headers})}set res(e){if(this.#o&&e){e=new Response(e.body,e);for(let[t,r]of this.#o.headers.entries())if(t!=="content-type")if(t==="set-cookie"){let n=this.#o.headers.getSetCookie();e.headers.delete("set-cookie");for(let o of n)e.headers.append("set-cookie",o)}else e.headers.set(t,r)}this.#o=e,this.finalized=!0}render=a((...e)=>(this.#c??=t=>this.html(t),this.#c(...e)),"render");setLayout=a(e=>this.#d=e,"setLayout");getLayout=a(()=>this.#d,"getLayout");setRenderer=a(e=>{this.#c=e},"setRenderer");header=a((e,t,r)=>{this.finalized&&(this.#o=new Response(this.#o.body,this.#o));let n=this.#o?this.#o.headers:this.#a??=new Headers;t===void 0?n.delete(e):r?.append?n.append(e,t):n.set(e,t)},"header");status=a(e=>{this.#i=e},"status");set=a((e,t)=>{this.#r??=new Map,this.#r.set(e,t)},"set");get=a(e=>this.#r?this.#r.get(e):void 0,"get");get var(){return this.#r?Object.fromEntries(this.#r):{}}#s(e,t,r){let n=this.#o?new Headers(this.#o.headers):this.#a??new Headers;if(typeof t=="object"&&"headers"in t){let i=t.headers instanceof Headers?t.headers:new Headers(t.headers);for(let[s,u]of i)s.toLowerCase()==="set-cookie"?n.append(s,u):n.set(s,u)}if(r)for(let[i,s]of Object.entries(r))if(typeof s=="string")n.set(i,s);else{n.delete(i);for(let u of s)n.append(i,u)}let o=typeof t=="number"?t:t?.status??this.#i;return new Response(e,{status:o,headers:n})}newResponse=a((...e)=>this.#s(...e),"newResponse");body=a((e,t,r)=>this.#s(e,t,r),"body");text=a((e,t,r)=>!this.#a&&!this.#i&&!t&&!r&&!this.finalized?new Response(e):this.#s(e,t,fw(_X,r)),"text");json=a((e,t,r)=>this.#s(JSON.stringify(e),t,fw("application/json",r)),"json");html=a((e,t,r)=>{let n=a(o=>this.#s(o,t,fw("text/html; charset=UTF-8",r)),"res");return typeof e=="object"?mw(e,JN.Stringify,!1,{}).then(n):n(e)},"html");redirect=a((e,t)=>{let r=String(e);return this.header("Location",/[^\x00-\xFF]/.test(r)?encodeURI(r):r),this.newResponse(null,t??302)},"redirect");notFound=a(()=>(this.#u??=()=>new Response,this.#u(this)),"notFound")};var Zt="ALL",VN="all",ZN=["get","post","put","delete","options","patch"],Km="Can not add a route since the matcher is already built.",Gm=class extends Error{static{a(this,"UnsupportedPathError")}};var KN="__COMPOSED_HANDLER";var bX=a(e=>e.text("404 Not Found",404),"notFoundHandler"),GN=a((e,t)=>{if("getResponse"in e){let r=e.getResponse();return t.newResponse(r.body,r)}return console.error(e),t.text("Internal Server Error",500)},"errorHandler"),hw=class{static{a(this,"Hono")}get;post;put;delete;options;patch;all;on;use;router;getPath;_basePath="/";#e="/";routes=[];constructor(e={}){[...ZN,VN].forEach(o=>{this[o]=(i,...s)=>(typeof i=="string"?this.#e=i:this.#i(o,this.#e,i),s.forEach(u=>{this.#i(o,this.#e,u)}),this)}),this.on=(o,i,...s)=>{for(let u of[i].flat()){this.#e=u;for(let l of[o].flat())s.map(d=>{this.#i(l.toUpperCase(),this.#e,d)})}return this},this.use=(o,...i)=>(typeof o=="string"?this.#e=o:(this.#e="*",i.unshift(o)),i.forEach(s=>{this.#i(Zt,this.#e,s)}),this);let{strict:r,...n}=e;Object.assign(this,n),this.getPath=r??!0?e.getPath??pw:qN}#t(){let e=new hw({router:this.router,getPath:this.getPath});return e.errorHandler=this.errorHandler,e.#r=this.#r,e.routes=this.routes,e}#r=bX;errorHandler=GN;route(e,t){let r=this.basePath(e);return t.routes.map(n=>{let o;t.errorHandler===GN?o=n.handler:(o=a(async(i,s)=>(await cw([],t.errorHandler)(i,()=>n.handler(i,s))).res,"handler"),o[KN]=n.handler),r.#i(n.method,n.path,o)}),this}basePath(e){let t=this.#t();return t._basePath=ts(this._basePath,e),t}onError=a(e=>(this.errorHandler=e,this),"onError");notFound=a(e=>(this.#r=e,this),"notFound");mount(e,t,r){let n,o;r&&(typeof r=="function"?o=r:(o=r.optionHandler,r.replaceRequest===!1?n=a(u=>u,"replaceRequest"):n=r.replaceRequest));let i=o?u=>{let l=o(u);return Array.isArray(l)?l:[l]}:u=>{let l;try{l=u.executionCtx}catch{}return[u.env,l]};n||=(()=>{let u=ts(this._basePath,e),l=u==="/"?0:u.length;return d=>{let p=new URL(d.url);return p.pathname=p.pathname.slice(l)||"/",new Request(p,d)}})();let s=a(async(u,l)=>{let d=await t(n(u.req.raw),...i(u));if(d)return d;await l()},"handler");return this.#i(Zt,ts(e,"*"),s),this}#i(e,t,r){e=e.toUpperCase(),t=ts(this._basePath,t);let n={basePath:this._basePath,path:t,method:e,handler:r};this.router.add(e,t,[r,n]),this.routes.push(n)}#n(e,t){if(e instanceof Error)return this.errorHandler(e,t);throw e}#o(e,t,r,n){if(n==="HEAD")return(async()=>new Response(null,await this.#o(e,t,r,"GET")))();let o=this.getPath(e,{env:r}),i=this.router.match(n,o),s=new HN(e,{path:o,matchResult:i,env:r,executionCtx:t,notFoundHandler:this.#r});if(i[0].length===1){let l;try{l=i[0][0][0][0](s,async()=>{s.res=await this.#r(s)})}catch(d){return this.#n(d,s)}return l instanceof Promise?l.then(d=>d||(s.finalized?s.res:this.#r(s))).catch(d=>this.#n(d,s)):l??this.#r(s)}let u=cw(i[0],this.errorHandler,this.#r);return(async()=>{try{let l=await u(s);if(!l.finalized)throw new Error("Context is not finalized. Did you forget to return a Response object or `await next()`?");return l.res}catch(l){return this.#n(l,s)}})()}fetch=a((e,...t)=>this.#o(e,t[1],t[0],e.method),"fetch");request=a((e,t,r,n)=>e instanceof Request?this.fetch(t?new Request(e,t):e,r,n):(e=e.toString(),this.fetch(new Request(/^https?:\/\//.test(e)?e:`http://localhost${ts("/",e)}`,t),r,n)),"request");fire=a(()=>{addEventListener("fetch",e=>{e.respondWith(this.#o(e.request,e,void 0,e.request.method))})},"fire")};var Wm=[];function gw(e,t){let r=this.buildAllMatchers(),n=a((o,i)=>{let s=r[o]||r[Zt],u=s[2][i];if(u)return u;let l=i.match(s[0]);if(!l)return[[],Wm];let d=l.indexOf("",1);return[s[1][d],l]},"match2");return this.match=n,n(e,t)}a(gw,"match");var Qm="[^/]+",fl=".*",hl="(?:|/.*)",rs=Symbol(),SX=new Set(".\\+*[^]$()");function wX(e,t){return e.length===1?t.length===1?e<t?-1:1:-1:t.length===1||e===fl||e===hl?1:t===fl||t===hl?-1:e===Qm?1:t===Qm?-1:e.length===t.length?e<t?-1:1:t.length-e.length}a(wX,"compareKey");var Xm=class{static{a(this,"Node")}#e;#t;#r=Object.create(null);insert(e,t,r,n,o){if(e.length===0){if(this.#e!==void 0)throw rs;if(o)return;this.#e=t;return}let[i,...s]=e,u=i==="*"?s.length===0?["","",fl]:["","",Qm]:i==="/*"?["","",hl]:i.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/),l;if(u){let d=u[1],p=u[2]||Qm;if(d&&u[2]&&(p===".*"||(p=p.replace(/^\((?!\?:)(?=[^)]+\)$)/,"(?:"),/\((?!\?:)/.test(p))))throw rs;if(l=this.#r[p],!l){if(Object.keys(this.#r).some(f=>f!==fl&&f!==hl))throw rs;if(o)return;l=this.#r[p]=new Xm,d!==""&&(l.#t=n.varIndex++)}!o&&d!==""&&r.push([d,l.#t])}else if(l=this.#r[i],!l){if(Object.keys(this.#r).some(d=>d.length>1&&d!==fl&&d!==hl))throw rs;if(o)return;l=this.#r[i]=new Xm}l.insert(s,t,r,n,o)}buildRegExpStr(){let t=Object.keys(this.#r).sort(wX).map(r=>{let n=this.#r[r];return(typeof n.#t=="number"?`(${r})@${n.#t}`:SX.has(r)?`\\${r}`:r)+n.buildRegExpStr()});return typeof this.#e=="number"&&t.unshift(`#${this.#e}`),t.length===0?"":t.length===1?t[0]:"(?:"+t.join("|")+")"}};var WN=class{static{a(this,"Trie")}#e={varIndex:0};#t=new Xm;insert(e,t,r){let n=[],o=[];for(let s=0;;){let u=!1;if(e=e.replace(/\{[^}]+\}/g,l=>{let d=`@\\${s}`;return o[s]=[d,l],s++,u=!0,d}),!u)break}let i=e.match(/(?::[^\/]+)|(?:\/\*$)|./g)||[];for(let s=o.length-1;s>=0;s--){let[u]=o[s];for(let l=i.length-1;l>=0;l--)if(i[l].indexOf(u)!==-1){i[l]=i[l].replace(u,o[s][1]);break}}return this.#t.insert(i,t,n,this.#e,r),n}buildRegExp(){let e=this.#t.buildRegExpStr();if(e==="")return[/^$/,[],[]];let t=0,r=[],n=[];return e=e.replace(/#(\d+)|@(\d+)|\.\*\$/g,(o,i,s)=>i!==void 0?(r[++t]=Number(i),"$()"):(s!==void 0&&(n[Number(s)]=++t),"")),[new RegExp(`^${e}`),r,n]}};var xX=[/^$/,[],Object.create(null)],QN=Object.create(null);function XN(e){return QN[e]??=new RegExp(e==="*"?"":`^${e.replace(/\/\*$|([.\\+*[^\]$()])/g,(t,r)=>r?`\\${r}`:"(?:|/.*)")}$`)}a(XN,"buildWildcardRegExp");function TX(){QN=Object.create(null)}a(TX,"clearWildcardRegExpCache");function EX(e){let t=new WN,r=[];if(e.length===0)return xX;let n=e.map(d=>[!/\*|\/:/.test(d[0]),...d]).sort(([d,p],[f,m])=>d?1:f?-1:p.length-m.length),o=Object.create(null);for(let d=0,p=-1,f=n.length;d<f;d++){let[m,y,g]=n[d];m?o[y]=[g.map(([v])=>[v,Object.create(null)]),Wm]:p++;let h;try{h=t.insert(y,p,m)}catch(v){throw v===rs?new Gm(y):v}m||(r[p]=g.map(([v,S])=>{let b=Object.create(null);for(S-=1;S>=0;S--){let[w,k]=h[S];b[w]=k}return[v,b]}))}let[i,s,u]=t.buildRegExp();for(let d=0,p=r.length;d<p;d++)for(let f=0,m=r[d].length;f<m;f++){let y=r[d][f]?.[1];if(!y)continue;let g=Object.keys(y);for(let h=0,v=g.length;h<v;h++)y[g[h]]=u[y[g[h]]]}let l=[];for(let d in s)l[d]=r[s[d]];return[i,l,o]}a(EX,"buildMatcherFromPreprocessedRoutes");function su(e,t){if(e){for(let r of Object.keys(e).sort((n,o)=>o.length-n.length))if(XN(r).test(t))return[...e[r]]}}a(su,"findMiddleware");var Ym=class{static{a(this,"RegExpRouter")}name="RegExpRouter";#e;#t;constructor(){this.#e={[Zt]:Object.create(null)},this.#t={[Zt]:Object.create(null)}}add(e,t,r){let n=this.#e,o=this.#t;if(!n||!o)throw new Error(Km);n[e]||[n,o].forEach(u=>{u[e]=Object.create(null),Object.keys(u[Zt]).forEach(l=>{u[e][l]=[...u[Zt][l]]})}),t==="/*"&&(t="*");let i=(t.match(/\/:/g)||[]).length;if(/\*$/.test(t)){let u=XN(t);e===Zt?Object.keys(n).forEach(l=>{n[l][t]||=su(n[l],t)||su(n[Zt],t)||[]}):n[e][t]||=su(n[e],t)||su(n[Zt],t)||[],Object.keys(n).forEach(l=>{(e===Zt||e===l)&&Object.keys(n[l]).forEach(d=>{u.test(d)&&n[l][d].push([r,i])})}),Object.keys(o).forEach(l=>{(e===Zt||e===l)&&Object.keys(o[l]).forEach(d=>u.test(d)&&o[l][d].push([r,i]))});return}let s=Zm(t)||[t];for(let u=0,l=s.length;u<l;u++){let d=s[u];Object.keys(o).forEach(p=>{(e===Zt||e===p)&&(o[p][d]||=[...su(n[p],d)||su(n[Zt],d)||[]],o[p][d].push([r,i-l+u+1]))})}}match=gw;buildAllMatchers(){let e=Object.create(null);return Object.keys(this.#t).concat(Object.keys(this.#e)).forEach(t=>{e[t]||=this.#r(t)}),this.#e=this.#t=void 0,TX(),e}#r(e){let t=[],r=e===Zt;return[this.#e,this.#t].forEach(n=>{let o=n[e]?Object.keys(n[e]).map(i=>[i,n[e][i]]):[];o.length!==0?(r||=!0,t.push(...o)):e!==Zt&&t.push(...Object.keys(n[Zt]).map(i=>[i,n[Zt][i]]))}),r?EX(t):null}};var yw=class{static{a(this,"SmartRouter")}name="SmartRouter";#e=[];#t=[];constructor(e){this.#e=e.routers}add(e,t,r){if(!this.#t)throw new Error(Km);this.#t.push([e,t,r])}match(e,t){if(!this.#t)throw new Error("Fatal error");let r=this.#e,n=this.#t,o=r.length,i=0,s;for(;i<o;i++){let u=r[i];try{for(let l=0,d=n.length;l<d;l++)u.add(...n[l]);s=u.match(e,t)}catch(l){if(l instanceof Gm)continue;throw l}this.match=u.match.bind(u),this.#e=[u],this.#t=void 0;break}if(i===o)throw new Error("Fatal error");return this.name=`SmartRouter + ${this.activeRouter.name}`,s}get activeRouter(){if(this.#t||this.#e.length!==1)throw new Error("No active router has been determined yet.");return this.#e[0]}};var gl=Object.create(null),vw=class{static{a(this,"Node")}#e;#t;#r;#i=0;#n=gl;constructor(e,t,r){if(this.#t=r||Object.create(null),this.#e=[],e&&t){let n=Object.create(null);n[e]={handler:t,possibleKeys:[],score:0},this.#e=[n]}this.#r=[]}insert(e,t,r){this.#i=++this.#i;let n=this,o=DN(t),i=[];for(let s=0,u=o.length;s<u;s++){let l=o[s],d=o[s+1],p=MN(l,d),f=Array.isArray(p)?p[0]:l;if(f in n.#t){n=n.#t[f],p&&i.push(p[1]);continue}n.#t[f]=new vw,p&&(n.#r.push(p),i.push(p[1])),n=n.#t[f]}return n.#e.push({[e]:{handler:r,possibleKeys:i.filter((s,u,l)=>l.indexOf(s)===u),score:this.#i}}),n}#o(e,t,r,n){let o=[];for(let i=0,s=e.#e.length;i<s;i++){let u=e.#e[i],l=u[t]||u[Zt],d={};if(l!==void 0&&(l.params=Object.create(null),o.push(l),r!==gl||n&&n!==gl))for(let p=0,f=l.possibleKeys.length;p<f;p++){let m=l.possibleKeys[p],y=d[l.score];l.params[m]=n?.[m]&&!y?n[m]:r[m]??n?.[m],d[l.score]=!0}}return o}search(e,t){let r=[];this.#n=gl;let o=[this],i=dw(t),s=[];for(let u=0,l=i.length;u<l;u++){let d=i[u],p=u===l-1,f=[];for(let m=0,y=o.length;m<y;m++){let g=o[m],h=g.#t[d];h&&(h.#n=g.#n,p?(h.#t["*"]&&r.push(...this.#o(h.#t["*"],e,g.#n)),r.push(...this.#o(h,e,g.#n))):f.push(h));for(let v=0,S=g.#r.length;v<S;v++){let b=g.#r[v],w=g.#n===gl?{}:{...g.#n};if(b==="*"){let O=g.#t["*"];O&&(r.push(...this.#o(O,e,g.#n)),O.#n=w,f.push(O));continue}let[k,$,C]=b;if(!d&&!(C instanceof RegExp))continue;let A=g.#t[k],R=i.slice(u).join("/");if(C instanceof RegExp){let O=C.exec(R);if(O){if(w[$]=O[0],r.push(...this.#o(A,e,g.#n,w)),Object.keys(A.#t).length){A.#n=w;let z=O[0].match(/\//)?.length??0;(s[z]||=[]).push(A)}continue}}(C===!0||C.test(d))&&(w[$]=d,p?(r.push(...this.#o(A,e,w,g.#n)),A.#t["*"]&&r.push(...this.#o(A.#t["*"],e,w,g.#n))):(A.#n=w,f.push(A)))}}o=f.concat(s.shift()??[])}return r.length>1&&r.sort((u,l)=>u.score-l.score),[r.map(({handler:u,params:l})=>[u,l])]}};var _w=class{static{a(this,"TrieRouter")}name="TrieRouter";#e;constructor(){this.#e=new vw}add(e,t,r){let n=Zm(t);if(n){for(let o=0,i=n.length;o<i;o++)this.#e.insert(e,n[o],r);return}this.#e.insert(e,t,r)}match(e,t){return this.#e.search(e,t)}};var Oe=class extends hw{static{a(this,"Hono")}constructor(e={}){super(e),this.router=e.router??new yw({routers:[new Ym,new _w]})}};function kX(){let{process:e,Deno:t}=globalThis;return!(typeof t?.noColor=="boolean"?t.noColor:e!==void 0?"NO_COLOR"in e?.env:!1)}a(kX,"getColorEnabled");async function YN(){let{navigator:e}=globalThis,t="cloudflare:workers";return!(e!==void 0&&e.userAgent==="Cloudflare-Workers"?await(async()=>{try{return"NO_COLOR"in((await import(t)).env??{})}catch{return!1}})():!kX())}a(YN,"getColorEnabledAsync");var PX=a(e=>{let[t,r]=[",","."];return e.map(o=>o.replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+t)).join(r)},"humanize"),IX=a(e=>{let t=Date.now()-e;return PX([t<1e3?t+"ms":Math.round(t/1e3)+"s"])},"time"),OX=a(async e=>{if(await YN())switch(e/100|0){case 5:return`\x1B[31m${e}\x1B[0m`;case 4:return`\x1B[33m${e}\x1B[0m`;case 3:return`\x1B[36m${e}\x1B[0m`;case 2:return`\x1B[32m${e}\x1B[0m`}return`${e}`},"colorStatus");async function ez(e,t,r,n,o=0,i){let s=t==="<--"?`${t} ${r} ${n}`:`${t} ${r} ${n} ${await OX(o)} ${i}`;e(s)}a(ez,"log");var tz=a((e=console.log)=>a(async function(r,n){let{method:o,url:i}=r.req,s=i.slice(i.indexOf("/",8));await ez(e,"<--",o,s);let u=Date.now();await n(),await ez(e,"-->",o,s,r.res.status,IX(u))},"logger2"),"logger");var bw=class{static{a(this,"SecureLogger")}isDevelopment;isProduction;currentUserId;sensitivePatterns;logBuffer=[];maxBufferSize=1e3;flushInterval=5e3;constructor(){this.isDevelopment=!!(typeof process<"u"&&!1||typeof import.meta<"u"&&import.meta.env?.DEV),this.isProduction=typeof process<"u"||typeof import.meta<"u"&&import.meta.env?.MODE==="production",this.sensitivePatterns=[/\b\d{3}\.?\d{3}\.?\d{3}-?\d{2}\b/g,/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/g,/\b(?:\+55\s?)?\(?[1-9]{2}\)?\s?[9]?\d{4}-?\d{4}\b/g,/\b\d{4}[\s-]?\d{4}[\s-]?\d{4}[\s-]?\d{4}\b/g,/(?:sk_|eyJ)[a-zA-Z0-9_-]{20,}/g,/password["\s:]+["']?[^"'\s,}]+["']?/gi,/token["\s:]+["']?[^"'\s,}]+["']?/gi,/account["\s:]+["']?\d{6,}["']?/gi],this.isProduction&&setInterval(()=>this.flushBuffer(),this.flushInterval)}setUserId(t){this.currentUserId=t}clearUserId(){this.currentUserId=void 0}sanitizeData(t,r){let n=t;this.sensitivePatterns.forEach(i=>{n=n.replace(i,"[REDACTED]")});let o;return r&&(o=this.sanitizeContextObject(r)),{sanitizedContext:o,sanitizedMessage:n}}sanitizeContextObject(t){let r={};for(let[n,o]of Object.entries(t))if(this.isSensitiveKey(n)&&o)r[n]="[REDACTED]";else if(typeof o=="string"){let s=o;this.sensitivePatterns.forEach(u=>{s=s.replace(u,"[REDACTED]")}),r[n]=s}else typeof o=="object"&&o!==null?r[n]=this.sanitizeContextObject(o):r[n]=o;return this.currentUserId&&!r.userId&&(r.userId=`${this.currentUserId.substring(0,8)}...`),r}isSensitiveKey(t){return["password","token","secret","key","auth","session","email","phone","cpf","cnpj","account","balance","creditcard","card","bank","transaction","amount"].some(n=>t.toLowerCase().includes(n.toLowerCase()))}createLogEntry(t,r,n){let{sanitizedMessage:o,sanitizedContext:i}=this.sanitizeData(r,n);return{context:i,level:t,message:o,sanitized:!0,timestamp:new Date().toISOString()}}writeLog(t){if(this.isDevelopment)switch(t.level){case 0:break;case 1:break;case 2:break;case 3:case 4:break;case 5:break}else this.isProduction&&this.addToBuffer(t)}addToBuffer(t){this.logBuffer.push(t),this.logBuffer.length>=this.maxBufferSize&&this.flushBuffer()}flushBuffer(){if(this.logBuffer.length===0)return;let t=[...this.logBuffer];this.logBuffer=[];let r=t.filter(n=>n.level>=3);r.length>0&&r.forEach(n=>{})}log(t,r,n){if(!this.isDevelopment&&t===0)return;let o=this.createLogEntry(t,r,n);this.writeLog(o)}debug(t,r){this.log(0,t,r)}info(t,r){this.log(1,t,r)}warn(t,r){this.log(2,t,r)}error(t,r){this.log(3,t,r)}security(t,r){this.log(4,t,r)}audit(t,r){this.log(5,t,r)}voiceCommand(t,r,n){this.info("Voice command processed",{...n,command:t.substring(0,50),confidence:r})}authEvent(t,r,n){this.audit("Authentication event",{...n,event:t,userId:r?`${r.substring(0,8)}...`:void 0})}userAction(t,r,n){this.info("User action",{action:t,component:r,...n})}performance(t,r,n){this.info("Performance metric",{...n,operation:t,duration:r})}getBufferStats(){return{lastFlush:new Date,maxSize:this.maxBufferSize,size:this.logBuffer.length}}forceFlush(){this.flushBuffer()}clear(){this.logBuffer=[],this.currentUserId=void 0}},N=new bw;function AX(){let e=[];return process.env.DATABASE_URL||e.push("DATABASE_URL is required but not set"),process.env.CLERK_SECRET_KEY||e.push("CLERK_SECRET_KEY is required but not set"),process.env.DATABASE_URL_UNPOOLED||N.warn("DATABASE_URL_UNPOOLED is not set. Using DATABASE_URL as fallback. This may cause connection issues."),process.env.CLERK_WEBHOOK_SECRET||N.warn("CLERK_WEBHOOK_SECRET is not set. Clerk webhooks will not work properly."),{errors:e,valid:e.length===0}}a(AX,"validateEnvironmentVariables");function rz(){let e=AX();if(!e.valid){let t=`Missing required environment variables:
${e.errors.join(`
`)}`;throw N.error("Environment validation failed",{errors:e.errors}),new Error(t)}N.info("Environment variables validated successfully")}a(rz,"validateEnvironmentVariablesOrThrow");var nz=new Oe;nz.get("/",async e=>{try{return N.info("Starting calendar channel renewal check"),e.json({success:!0,message:"Calendar channel renewal completed",timestamp:new Date().toISOString(),channelsRenewed:0})}catch(t){return N.error("Calendar channel renewal failed",{error:t instanceof Error?t.message:"Unknown error"}),e.json({success:!1,message:"Calendar channel renewal failed",error:t instanceof Error?t.message:"Unknown error"},500)}});var oz=nz;var iz=new Oe;iz.get("/",async e=>{try{return N.info("Starting sync queue cleanup"),e.json({success:!0,message:"Sync queue cleanup completed",timestamp:new Date().toISOString(),itemsDeleted:0})}catch(t){return N.error("Sync queue cleanup failed",{error:t instanceof Error?t.message:"Unknown error"}),e.json({success:!1,message:"Sync queue cleanup failed",error:t instanceof Error?t.message:"Unknown error"},500)}});var az=iz;var sz=new Oe;sz.get("/",async e=>{try{return N.info("Starting sync queue processing"),e.json({success:!0,message:"Sync queue processing completed",timestamp:new Date().toISOString(),itemsProcessed:0})}catch(t){return N.error("Sync queue processing failed",{error:t instanceof Error?t.message:"Unknown error"}),e.json({success:!1,message:"Sync queue processing failed",error:t instanceof Error?t.message:"Unknown error"},500)}});var uz=sz;var yl=new Oe;yl.route("/calendar-channel-renewal",oz);yl.route("/sync-queue-processor",uz);yl.route("/cleanup-sync-queue",az);yl.get("/health",e=>e.json({status:"healthy",service:"cron-jobs",timestamp:new Date().toISOString(),jobs:[{name:"calendar-channel-renewal",schedule:"0 0 * * *",description:"Renew expiring Google Calendar webhook channels"},{name:"sync-queue-processor",schedule:"*/5 * * * *",description:"Process pending Google Calendar sync queue items"},{name:"cleanup-sync-queue",schedule:"0 2 * * *",description:"Clean up old completed/failed sync queue items"}]}));var cz=yl;var lz=["https://aegiswallet.com","https://www.aegiswallet.com","https://app.aegiswallet.com","http://localhost:3000","http://localhost:5173","http://localhost:8080","http://localhost:8081","http://localhost:8082","https://localhost:3000","https://localhost:5173","https://localhost:8080","https://localhost:8081","https://localhost:8082"],dz=a(async(e,t)=>{let r=e.req.header("Origin");if(lz.includes(r||"")||r?.startsWith("http://localhost:")&&!1||r?.startsWith("https://localhost:")&&!1?e.header("Access-Control-Allow-Origin",r||"*"):e.header("Access-Control-Allow-Origin",lz[0]),e.header("Access-Control-Allow-Methods","GET, POST, PUT, DELETE, OPTIONS"),e.header("Access-Control-Allow-Headers","Content-Type, Authorization, X-Requested-With, X-Client-ID"),e.header("Access-Control-Allow-Credentials","true"),e.header("Access-Control-Max-Age","86400"),e.header("Vary","Origin"),e.req.method==="OPTIONS")return e.newResponse(null,204);await t()},"corsMiddleware");ir();rn();async function $M(){let e=Date.now();try{return await So.execute(q`SELECT 1`),{status:"connected",latencyMs:Date.now()-e}}catch(t){return{status:"disconnected",latencyMs:Date.now()-e,error:t instanceof Error?t.message:"Unknown error"}}}a($M,"checkDatabaseHealth");function NM(e){e.get("/api/ping",t=>t.json({message:"pong",timestamp:new Date().toISOString(),version:"1.0.0"})),e.get("/api/status",async t=>{let r=await $M(),n=r.status==="connected";return t.json({services:{database:r.status,databaseLatencyMs:r.latencyMs,trpc:"connected",auth:"connected"},status:n?"operational":"degraded",timestamp:new Date().toISOString(),...r.error&&{errors:{database:r.error}}})}),e.get("/api/health",async t=>{let r=await $M();return r.status!=="connected"?t.json({healthy:!1,database:r,timestamp:new Date().toISOString()},503):t.json({healthy:!0,database:r,timestamp:new Date().toISOString()})})}a(NM,"setupApiRoutes");Yf();var ad=null,Tee=1e4;async function Eee(){if(ad&&Date.now()-ad.timestamp<Tee)return ad.database;let e=Date.now(),t=5e3;try{let{getHttpClient:r}=await Promise.resolve().then(()=>(rn(),Xf)),{sql:n}=await Promise.resolve().then(()=>(ir(),gT)),o=r(),i=new Promise((l,d)=>{setTimeout(()=>d(new Error("Database query timeout")),t)});await Promise.race([o.execute(n`SELECT 1 as health_check`),i]);let u={status:"connected",latency:Date.now()-e};return ad={database:u,timestamp:Date.now()},u}catch(r){let n=Date.now()-e,o=r instanceof Error?r.message:"Unknown database error";N.error("Database health check failed",{latency:n,error:o});let i={status:"disconnected",latency:n,error:o};return ad={database:i,timestamp:Date.now()},i}}a(Eee,"checkDatabaseHealth");function zM(e){e.get("/api/ping",t=>t.json({status:"ok",timestamp:new Date().toISOString()},200)),e.get("/api/health",async t=>{let r=Date.now();try{let n=await Eee(),o=n.status==="connected",s={status:o?"ok":"degraded",timestamp:new Date().toISOString(),service:"aegiswallet-server",environment:vs.NODE_ENV,uptime:process.uptime?.()||0,memory:process.memoryUsage?.()||{},database:{status:n.status,latency:n.latency,...n.error&&{error:n.error}},responseTime:Date.now()-r};return o?t.json(s,200):t.json(s,503)}catch(n){let o=n instanceof Error?n.message:"Unknown error";return N.error("Health check error",{error:o}),t.json({status:"error",timestamp:new Date().toISOString(),service:"aegiswallet-server",environment:vs.NODE_ENV,uptime:process.uptime?.()||0,memory:process.memoryUsage?.()||{},database:{status:"disconnected",latency:0,error:"Health check failed"},responseTime:Date.now()-r},500)}})}a(zM,"setupHealthRoute");Yf();var Iee=!0,Oee="Bun"in globalThis;function MM(e){Iee||(vs.IS_PRODUCTION&&Oee?import("hono/bun").then(({serveStatic:t})=>{Promise.resolve().then(()=>(DM(),jM)).then(({htmlCache:r,staticAssetsCache:n})=>{e.use("/assets/*",n(),t({root:"./dist"})),e.use("/*.html",r(),t({root:"./dist"})),e.use("/*",r(),t({path:"./dist/index.html",rewriteRequestPath:a(o=>o,"rewriteRequestPath")}))})}):vs.IS_PRODUCTION||e.get("/*",t=>t.req.path.startsWith("/api/")?t.notFound():t.json({api:`http://localhost:${vs.PORT}`,frontend:"http://localhost:5173",message:"Development mode - Frontend served by Vite dev server",mode:"development"})))}a(MM,"setupStaticRoutes");ir();rn();Fr();var Aee=300*1e3,qM=100,ya=new Map;function Cee(){if(ya.size<=qM)return;let t=Array.from(ya.entries()).sort((r,n)=>r[1].lastAccess-n[1].lastAccess).slice(0,ya.size-qM);for(let[r]of t)ya.delete(r)}a(Cee,"evictOldestCacheEntries");var eh=class{static{a(this,"FinancialContextService")}userId;constructor(t){this.userId=t}async getContext(t=!1){let r=this.userId,n=ya.get(r),o=Date.now();if(!t&&n&&n.expiresAt>o)return n.lastAccess=o,n.context;let i=await this.buildContext();return ya.set(r,{context:i,expiresAt:o+Aee,lastAccess:o}),Cee(),i}invalidateCache(){ya.delete(this.userId)}static clearAllCache(){ya.clear()}async buildContext(){let t=new Date,r=new Date(t.getFullYear(),t.getMonth(),1),n=new Date(t.getFullYear(),t.getMonth()+1,0),[o,i,s,u,l]=await Promise.all([this.getAccountBalances(),this.getMonthlyTotals(r,n),this.getCategorySpending(r,n),this.getPendingAlerts(),this.getUpcomingPayments(30)]),d=o.reduce((f,m)=>f+Number(m.balance||0),0),p=o.reduce((f,m)=>f+Number(m.availableBalance||0),0);return{totalBalance:d,availableBalance:p,monthlyIncome:i.income,monthlyExpenses:i.expenses,topCategories:s,pendingAlerts:u,upcomingPayments:l,lastUpdated:t}}async getAccountBalances(){return await So.select({id:ce.id,balance:ce.balance,availableBalance:ce.availableBalance,institutionName:ce.institutionName}).from(ce).where(Pe(V(ce.userId,this.userId),V(ce.isActive,!0)))}async getMonthlyTotals(t,r){let n=await So.select({transactionType:oe.transactionType,total:Ul(oe.amount)}).from(oe).where(Pe(V(oe.userId,this.userId),gr(oe.transactionDate,t),or(oe.transactionDate,r))).groupBy(oe.transactionType),o=0,i=0;for(let s of n){let u=Math.abs(Number(s.total||0));s.transactionType==="credit"?o+=u:s.transactionType==="debit"&&(i+=u)}return{income:o,expenses:i}}async getCategorySpending(t,r){let n=await So.select({categoryId:oe.categoryId,categoryName:De.name,total:Ul(oe.amount)}).from(oe).leftJoin(De,V(oe.categoryId,De.id)).where(Pe(V(oe.userId,this.userId),V(oe.transactionType,"debit"),gr(oe.transactionDate,t),or(oe.transactionDate,r))).groupBy(oe.categoryId,De.name).orderBy(Mt(Ul(oe.amount))).limit(10),o=n.reduce((i,s)=>i+Math.abs(Number(s.total||0)),0);return n.map(i=>({categoryId:i.categoryId||"uncategorized",categoryName:i.categoryName||"Sem categoria",amount:Math.abs(Number(i.total||0)),percentage:o>0?Math.round(Math.abs(Number(i.total||0))/o*100):0,trend:"stable"}))}async getPendingAlerts(){return(await So.select({id:Rr.id,insightType:Rr.insightType,title:Rr.title,impactLevel:Rr.impactLevel,recommendation:Rr.recommendation}).from(Rr).where(Pe(V(Rr.userId,this.userId),V(Rr.isRead,!1))).orderBy(Mt(Rr.createdAt)).limit(5)).map(r=>({id:r.id,type:this.mapInsightTypeToAlertType(r.insightType),message:r.title,severity:r.impactLevel||"medium",actionable:!!r.recommendation}))}mapInsightTypeToAlertType(t){switch(this.normalizeInsightType(t)){case"budget_alert":return"budget_exceeded";case"warning":return"low_balance";case"spending_pattern":return"unusual_spending";case"opportunity":return"payment_due";default:return"unusual_spending"}}normalizeInsightType(t){return t.includes("_")?t:t.replace(/([A-Z])/g,"_$1").toLowerCase()}async getUpcomingPayments(t){let r=new Date,n=new Date;n.setDate(r.getDate()+t);let o=r.toISOString().split("T")[0],i=n.toISOString().split("T")[0];return(await So.select({id:Gt.id,description:Gt.description,amount:Gt.amount,scheduledDate:Gt.scheduledDate,recurrenceRule:Gt.recurrenceRule}).from(Gt).where(Pe(V(Gt.userId,this.userId),V(Gt.isActive,!0),V(Gt.executed,!1),gr(Gt.scheduledDate,o),or(Gt.scheduledDate,i))).orderBy(Gt.scheduledDate).limit(10)).map(u=>({id:u.id,description:u.description,amount:Math.abs(Number(u.amount)),dueDate:new Date(u.scheduledDate),isRecurring:!!u.recurrenceRule}))}};function Lu(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}a(Lu,"formatBRL");function Ree(e){return new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(e)}a(Ree,"formatDateBR");function $ee(e){return{up:"\u2191 aumentando",down:"\u2193 diminuindo",stable:"\u2192 est\xE1vel"}[e]}a($ee,"translateTrend");function UM(e){let{totalBalance:t,availableBalance:r,monthlyIncome:n,monthlyExpenses:o,topCategories:i}=e,s=n-o,u=n>0?Math.round(s/n*100):0,l=i.slice(0,5).map((d,p)=>`${p+1}. **${d.categoryName}**: ${Lu(d.amount)} (${d.percentage}% do total, ${$ee(d.trend)})`).join(`
`);return`
### Resumo Financeiro
- **Saldo Total**: ${Lu(t)}
- **Saldo Dispon\xEDvel**: ${Lu(r)}
- **Renda do M\xEAs**: ${Lu(n)}
- **Gastos do M\xEAs**: ${Lu(o)}
- **Economia do M\xEAs**: ${Lu(s)} (${u}% da renda)

### Top 5 Categorias de Gasto (M\xEAs Atual)
${l||"Nenhuma transa\xE7\xE3o registrada este m\xEAs."}

### \xDAltima Atualiza\xE7\xE3o
${Ree(e.lastUpdated)}
`.trim()}a(UM,"buildFinancialContextBlock");function LM(e){if(e.length===0)return"\u2705 Nenhum alerta ativo no momento.";let t={low:"\u2139\uFE0F",medium:"\u26A0\uFE0F",high:"\u{1F6A8}"};return e.map(r=>`${t[r.severity]} [${r.severity.toUpperCase()}] ${r.message}`).join(`
`)}a(LM,"buildAlertsBlock");var FM=a(()=>{try{return!1}catch{}return!1},"isTestEnvironment"),BM=a(()=>{try{return!0}catch{}return!1},"isProductionEnvironment");var JM=new Set,th=a((e,t,r)=>{let n=FM()||BM(),o=r??e;JM.has(o)||n||(JM.add(o),console.warn(`Clerk - DEPRECATION WARNING: "${e}" is deprecated and will be removed in the next major release.
${t}`))},"deprecated");var AE=[".lcl.dev",".lclstage.dev",".lclclerk.com"],HM=[".accounts.dev",".accountsstage.dev",".accounts.lclclerk.com"],VM=[".lcl.dev",".stg.dev",".lclstage.dev",".stgstage.dev",".dev.lclclerk.com",".stg.lclclerk.com",".accounts.lclclerk.com","accountsstage.dev","accounts.dev"];var Fu=a(e=>typeof atob<"u"&&typeof atob=="function"?atob(e):typeof global<"u"&&global.Buffer?new global.Buffer(e,"base64").toString():e,"isomorphicAtob");var ZM=a(e=>typeof btoa<"u"&&typeof btoa=="function"?btoa(e):typeof global<"u"&&global.Buffer?new global.Buffer(e).toString("base64"):e,"isomorphicBtoa");var KM="pk_live_",Nee="pk_test_";function GM(e){if(!e.endsWith("$"))return!1;let t=e.slice(0,-1);return t.includes("$")?!1:t.includes(".")}a(GM,"isValidDecodedPublishableKey");function va(e,t={}){if(e=e||"",!e||!CE(e)){if(t.fatal&&!e)throw new Error("Publishable key is missing. Ensure that your publishable key is correctly configured. Double-check your environment configuration for your keys, or access them here: https://dashboard.clerk.com/last-active?path=api-keys");if(t.fatal&&!CE(e))throw new Error("Publishable key not valid.");return null}let r=e.startsWith(KM)?"production":"development",n;try{n=Fu(e.split("_")[2])}catch{if(t.fatal)throw new Error("Publishable key not valid: Failed to decode key.");return null}if(!GM(n)){if(t.fatal)throw new Error("Publishable key not valid: Decoded key has invalid format.");return null}let o=n.slice(0,-1);return t.proxyUrl?o=t.proxyUrl:r!=="development"&&t.domain&&t.isSatellite&&(o=`clerk.${t.domain}`),{instanceType:r,frontendApi:o}}a(va,"parsePublishableKey");function CE(e=""){try{if(!(e.startsWith(KM)||e.startsWith(Nee)))return!1;let t=e.split("_");if(t.length!==3)return!1;let r=t[2];return r?GM(Fu(r)):!1}catch{return!1}}a(CE,"isPublishableKey");function RE(){let e=new Map;return{isDevOrStagingUrl:a(t=>{if(!t)return!1;let r=typeof t=="string"?t:t.hostname,n=e.get(r);return n===void 0&&(n=VM.some(o=>r.endsWith(o)),e.set(r,n)),n},"isDevOrStagingUrl")}}a(RE,"createDevOrStagingUrlCache");function rh(e){return e.startsWith("test_")||e.startsWith("sk_test_")}a(rh,"isDevelopmentFromSecretKey");async function nh(e,t=globalThis.crypto.subtle){let r=new TextEncoder().encode(e),n=await t.digest("sha-1",r);return ZM(String.fromCharCode(...new Uint8Array(n))).replace(/\+/gi,"-").replace(/\//gi,"_").substring(0,8)}a(nh,"getCookieSuffix");var oh=a((e,t)=>`${e}_${t}`,"getSuffixedCookieName");var zee={initialDelay:125,maxDelayBetweenRetries:0,factor:2,shouldRetry:a((e,t)=>t<5,"shouldRetry"),retryImmediately:!1,jitter:!0},jee=100,WM=a(async e=>new Promise(t=>setTimeout(t,e)),"sleep"),QM=a((e,t)=>t?e*(1+Math.random()):e,"applyJitter"),Dee=a(e=>{let t=0,r=a(()=>{let n=e.initialDelay,o=e.factor,i=n*Math.pow(o,t);return i=QM(i,e.jitter),Math.min(e.maxDelayBetweenRetries||i,i)},"calculateDelayInMs");return async()=>{await WM(r()),t++}},"createExponentialDelayAsyncFn"),ih=a(async(e,t={})=>{let r=0,{shouldRetry:n,initialDelay:o,maxDelayBetweenRetries:i,factor:s,retryImmediately:u,jitter:l,onBeforeRetry:d}={...zee,...t},p=Dee({initialDelay:o,maxDelayBetweenRetries:i,factor:s,jitter:l});for(;;)try{return await e()}catch(f){if(r++,!n(f,r))throw f;d&&await d(r),u&&r===1?await WM(QM(jee,l)):await p()}},"retry");function $E(e){return AE.some(t=>e.startsWith("accounts.")&&e.endsWith(t))}a($E,"isLegacyDevAccountPortalOrigin");function NE(e){return HM.some(t=>e.endsWith(t)&&!e.endsWith(".clerk"+t))}a(NE,"isCurrentDevAccountPortalOrigin");function zE(e){function t(r){let n=r??this;if(!n)throw new TypeError(`${e.kind||e.name} type guard requires an error object`);return n instanceof e}return a(t,"typeGuard"),t}a(zE,"createErrorTypeGuard");var ah=class{static{a(this,"ClerkAPIError")}static kind="ClerkApiError";code;message;longMessage;meta;constructor(e){let t={code:e.code,message:e.message,longMessage:e.long_message,meta:{paramName:e.meta?.param_name,sessionId:e.meta?.session_id,emailAddresses:e.meta?.email_addresses,identifiers:e.meta?.identifiers,zxcvbn:e.meta?.zxcvbn,plan:e.meta?.plan,isPlanUpgradePossible:e.meta?.is_plan_upgrade_possible}};this.code=t.code,this.message=t.message,this.longMessage=t.longMessage,this.meta=t.meta}},$Le=zE(ah);function jE(e){return new ah(e)}a(jE,"parseError");var DE=class XM extends Error{static{a(this,"ClerkError")}static kind="ClerkError";clerkError=!0;code;longMessage;docsUrl;cause;get name(){return this.constructor.name}constructor(t){super(new.target.formatMessage(new.target.kind,t.message,t.code,t.docsUrl),{cause:t.cause}),Object.setPrototypeOf(this,XM.prototype),this.code=t.code,this.docsUrl=t.docsUrl,this.longMessage=t.longMessage,this.cause=t.cause}toString(){return`[${this.name}]
Message:${this.message}`}static formatMessage(t,r,n,o){let i="Clerk:",s=new RegExp(i.replace(" ","\\s*"),"i");return r=r.replace(s,""),r=`${i} ${r.trim()}

(code="${n}")

`,o&&(r+=`

Docs: ${o}`),r}},sh=class YM extends DE{static{a(this,"ClerkAPIResponseError")}static kind="ClerkAPIResponseError";status;clerkTraceId;retryAfter;errors;constructor(t,r){let{data:n,status:o,clerkTraceId:i,retryAfter:s}=r;super({...r,message:t,code:"api_response_error"}),Object.setPrototypeOf(this,YM.prototype),this.status=o,this.clerkTraceId=i,this.retryAfter=s,this.errors=(n||[]).map(u=>new ah(u))}toString(){let t=`[${this.name}]
Message:${this.message}
Status:${this.status}
Serialized errors: ${this.errors.map(r=>JSON.stringify(r))}`;return this.clerkTraceId&&(t+=`
Clerk Trace ID: ${this.clerkTraceId}`),t}static formatMessage(t,r,n,o){return r}},NLe=zE(sh),Mee=Object.freeze({InvalidProxyUrlErrorMessage:"The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})",InvalidPublishableKeyErrorMessage:"The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",MissingPublishableKeyErrorMessage:"Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingSecretKeyErrorMessage:"Missing secretKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingClerkProvider:"{{source}} can only be used within the <ClerkProvider /> component. Learn more: https://clerk.com/docs/components/clerk-provider"});function ME({packageName:e,customMessages:t}){let r=e;function n(i,s){if(!s)return`${r}: ${i}`;let u=i,l=i.matchAll(/{{([a-zA-Z0-9-_]+)}}/g);for(let d of l){let p=(s[d[1]]||"").toString();u=u.replace(`{{${d[1]}}}`,p)}return`${r}: ${u}`}a(n,"buildMessage");let o={...Mee,...t};return{setPackageName({packageName:i}){return typeof i=="string"&&(r=i),this},setMessages({customMessages:i}){return Object.assign(o,i||{}),this},throwInvalidPublishableKeyError(i){throw new Error(n(o.InvalidPublishableKeyErrorMessage,i))},throwInvalidProxyUrl(i){throw new Error(n(o.InvalidProxyUrlErrorMessage,i))},throwMissingPublishableKeyError(){throw new Error(n(o.MissingPublishableKeyErrorMessage))},throwMissingSecretKeyError(){throw new Error(n(o.MissingSecretKeyErrorMessage))},throwMissingClerkProviderError(i){throw new Error(n(o.MissingClerkProvider,i))},throw(i){throw new Error(n(i))}}}a(ME,"buildErrorThrower");var eq=class tq extends DE{static{a(this,"ClerkRuntimeError")}static kind="ClerkRuntimeError";clerkRuntimeError=!0;constructor(t,r){super({...r,message:t}),Object.setPrototypeOf(this,tq.prototype)}},zLe=zE(eq);function qE(e){return e&&"clerkError"in e}a(qE,"isClerkAPIResponseError");var qee=ME({packageName:"@clerk/backend"}),{isDevOrStagingUrl:g4e}=RE();var rq={InvalidSecretKey:"clerk_key_invalid"},nt={TokenExpired:"token-expired",TokenInvalid:"token-invalid",TokenInvalidAlgorithm:"token-invalid-algorithm",TokenInvalidAuthorizedParties:"token-invalid-authorized-parties",TokenInvalidSignature:"token-invalid-signature",TokenNotActiveYet:"token-not-active-yet",TokenIatInTheFuture:"token-iat-in-the-future",TokenVerificationFailed:"token-verification-failed",InvalidSecretKey:"secret-key-invalid",LocalJWKMissing:"jwk-local-missing",RemoteJWKFailedToLoad:"jwk-remote-failed-to-load",RemoteJWKInvalid:"jwk-remote-invalid",RemoteJWKMissing:"jwk-remote-missing",JWKFailedToResolve:"jwk-failed-to-resolve",JWKKidMismatch:"jwk-kid-mismatch"},Tr={ContactSupport:"Contact support@clerk.com",EnsureClerkJWT:"Make sure that this is a valid Clerk-generated JWT.",SetClerkJWTKey:"Set the CLERK_JWT_KEY environment variable.",SetClerkSecretKey:"Set the CLERK_SECRET_KEY environment variable.",EnsureClockSync:"Make sure your system clock is in sync (e.g. turn off and on automatic time synchronization)."},wt=class nq extends Error{static{a(this,"_TokenVerificationError")}constructor({action:t,message:r,reason:n}){super(r),Object.setPrototypeOf(this,nq.prototype),this.reason=n,this.message=r,this.action=t}getFullMessage(){return`${[this.message,this.action].filter(t=>t).join(" ")} (reason=${this.reason}, token-carrier=${this.tokenCarrier})`}};var sd={TokenInvalid:"token-invalid",InvalidSecretKey:"secret-key-invalid",UnexpectedError:"unexpected-error"},uh=class oq extends Error{static{a(this,"_MachineTokenVerificationError")}constructor({message:t,code:r,status:n}){super(t),Object.setPrototypeOf(this,oq.prototype),this.code=r,this.status=n}getFullMessage(){return`${this.message} (code=${this.code}, status=${this.status})`}};import{webcrypto as iq}from"node:crypto";var Uee=fetch.bind(globalThis),Go={crypto:iq,get fetch(){return Uee},AbortController:globalThis.AbortController,Blob:globalThis.Blob,FormData:globalThis.FormData,Headers:globalThis.Headers,Request:globalThis.Request,Response:globalThis.Response},UE={parse(e,t){return Lee(e,aq,t)},stringify(e,t){return Fee(e,aq,t)}},aq={chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bits:6};function Lee(e,t,r={}){if(!t.codes){t.codes={};for(let l=0;l<t.chars.length;++l)t.codes[t.chars[l]]=l}if(!r.loose&&e.length*t.bits&7)throw new SyntaxError("Invalid padding");let n=e.length;for(;e[n-1]==="=";)if(--n,!r.loose&&!((e.length-n)*t.bits&7))throw new SyntaxError("Invalid padding");let o=new(r.out??Uint8Array)(n*t.bits/8|0),i=0,s=0,u=0;for(let l=0;l<n;++l){let d=t.codes[e[l]];if(d===void 0)throw new SyntaxError("Invalid character "+e[l]);s=s<<t.bits|d,i+=t.bits,i>=8&&(i-=8,o[u++]=255&s>>i)}if(i>=t.bits||255&s<<8-i)throw new SyntaxError("Unexpected end of data");return o}a(Lee,"parse");function Fee(e,t,r={}){let{pad:n=!0}=r,o=(1<<t.bits)-1,i="",s=0,u=0;for(let l=0;l<e.length;++l)for(u=u<<8|255&e[l],s+=8;s>t.bits;)s-=t.bits,i+=t.chars[o&u>>s];if(s&&(i+=t.chars[o&u<<t.bits-s]),n)for(;i.length*t.bits&7;)i+="=";return i}a(Fee,"stringify");var FE={RS256:"SHA-256",RS384:"SHA-384",RS512:"SHA-512"},LE="RSASSA-PKCS1-v1_5",sq={RS256:LE,RS384:LE,RS512:LE},BE=Object.keys(FE);function Bee(e){let t=FE[e],r=sq[e];if(!t||!r)throw new Error(`Unsupported algorithm ${e}, expected one of ${BE.join(",")}.`);return{hash:{name:FE[e]},name:sq[e]}}a(Bee,"getCryptoAlgorithm");var Jee=a(e=>Array.isArray(e)&&e.length>0&&e.every(t=>typeof t=="string"),"isArrayString"),Hee=a((e,t)=>{let r=[t].flat().filter(i=>!!i),n=[e].flat().filter(i=>!!i);if(r.length>0&&n.length>0){if(typeof e=="string"){if(!r.includes(e))throw new wt({action:Tr.EnsureClerkJWT,reason:nt.TokenVerificationFailed,message:`Invalid JWT audience claim (aud) ${JSON.stringify(e)}. Is not included in "${JSON.stringify(r)}".`})}else if(Jee(e)&&!e.some(i=>r.includes(i)))throw new wt({action:Tr.EnsureClerkJWT,reason:nt.TokenVerificationFailed,message:`Invalid JWT audience claim array (aud) ${JSON.stringify(e)}. Is not included in "${JSON.stringify(r)}".`})}},"assertAudienceClaim"),JE=a(e=>{if(!(typeof e>"u")&&e!=="JWT")throw new wt({action:Tr.EnsureClerkJWT,reason:nt.TokenInvalid,message:`Invalid JWT type ${JSON.stringify(e)}. Expected "JWT".`})},"assertHeaderType"),HE=a(e=>{if(!BE.includes(e))throw new wt({action:Tr.EnsureClerkJWT,reason:nt.TokenInvalidAlgorithm,message:`Invalid JWT algorithm ${JSON.stringify(e)}. Supported: ${BE}.`})},"assertHeaderAlgorithm"),Vee=a(e=>{if(typeof e!="string")throw new wt({action:Tr.EnsureClerkJWT,reason:nt.TokenVerificationFailed,message:`Subject claim (sub) is required and must be a string. Received ${JSON.stringify(e)}.`})},"assertSubClaim"),Zee=a((e,t)=>{if(!(!e||!t||t.length===0)&&!t.includes(e))throw new wt({reason:nt.TokenInvalidAuthorizedParties,message:`Invalid JWT Authorized party claim (azp) ${JSON.stringify(e)}. Expected "${t}".`})},"assertAuthorizedPartiesClaim"),Kee=a((e,t)=>{if(typeof e!="number")throw new wt({action:Tr.EnsureClerkJWT,reason:nt.TokenVerificationFailed,message:`Invalid JWT expiry date claim (exp) ${JSON.stringify(e)}. Expected number.`});let r=new Date(Date.now()),n=new Date(0);if(n.setUTCSeconds(e),n.getTime()<=r.getTime()-t)throw new wt({reason:nt.TokenExpired,message:`JWT is expired. Expiry date: ${n.toUTCString()}, Current date: ${r.toUTCString()}.`})},"assertExpirationClaim"),Gee=a((e,t)=>{if(typeof e>"u")return;if(typeof e!="number")throw new wt({action:Tr.EnsureClerkJWT,reason:nt.TokenVerificationFailed,message:`Invalid JWT not before date claim (nbf) ${JSON.stringify(e)}. Expected number.`});let r=new Date(Date.now()),n=new Date(0);if(n.setUTCSeconds(e),n.getTime()>r.getTime()+t)throw new wt({reason:nt.TokenNotActiveYet,message:`JWT cannot be used prior to not before date claim (nbf). Not before date: ${n.toUTCString()}; Current date: ${r.toUTCString()};`})},"assertActivationClaim"),Wee=a((e,t)=>{if(typeof e>"u")return;if(typeof e!="number")throw new wt({action:Tr.EnsureClerkJWT,reason:nt.TokenVerificationFailed,message:`Invalid JWT issued at date claim (iat) ${JSON.stringify(e)}. Expected number.`});let r=new Date(Date.now()),n=new Date(0);if(n.setUTCSeconds(e),n.getTime()>r.getTime()+t)throw new wt({reason:nt.TokenIatInTheFuture,message:`JWT issued at date claim (iat) is in the future. Issued at date: ${n.toUTCString()}; Current date: ${r.toUTCString()};`})},"assertIssuedAtClaim");function Qee(e){let t=e.replace(/-----BEGIN.*?-----/g,"").replace(/-----END.*?-----/g,"").replace(/\s/g,""),r=Fu(t),n=new ArrayBuffer(r.length),o=new Uint8Array(n);for(let i=0,s=r.length;i<s;i++)o[i]=r.charCodeAt(i);return o}a(Qee,"pemToBuffer");function Xee(e,t,r){if(typeof e=="object")return Go.crypto.subtle.importKey("jwk",e,t,!1,[r]);let n=Qee(e),o=r==="sign"?"pkcs8":"spki";return Go.crypto.subtle.importKey(o,n,t,!1,[r])}a(Xee,"importKey");var Yee=5*1e3;async function VE(e,t){let{header:r,signature:n,raw:o}=e,s=new TextEncoder().encode([o.header,o.payload].join(".")),u=Bee(r.alg);try{let l=await Xee(t,u,"verify");return{data:await Go.crypto.subtle.verify(u.name,l,n,s)}}catch(l){return{errors:[new wt({reason:nt.TokenInvalidSignature,message:l?.message})]}}}a(VE,"hasValidSignature");function wo(e){let t=(e||"").toString().split(".");if(t.length!==3)return{errors:[new wt({reason:nt.TokenInvalid,message:"Invalid JWT form. A JWT consists of three parts separated by dots."})]};let[r,n,o]=t,i=new TextDecoder,s=JSON.parse(i.decode(UE.parse(r,{loose:!0}))),u=JSON.parse(i.decode(UE.parse(n,{loose:!0}))),l=UE.parse(o,{loose:!0});return{data:{header:s,payload:u,signature:l,raw:{header:r,payload:n,signature:o,text:e}}}}a(wo,"decodeJwt");async function uq(e,t){let{audience:r,authorizedParties:n,clockSkewInMs:o,key:i}=t,s=o||Yee,{data:u,errors:l}=wo(e);if(l)return{errors:l};let{header:d,payload:p}=u;try{let{typ:y,alg:g}=d;JE(y),HE(g);let{azp:h,sub:v,aud:S,iat:b,exp:w,nbf:k}=p;Vee(v),Hee([S],[r]),Zee(h,n),Kee(w,s),Gee(k,s),Wee(b,s)}catch(y){return{errors:[y]}}let{data:f,errors:m}=await VE(u,i);return m?{errors:[new wt({action:Tr.EnsureClerkJWT,reason:nt.TokenVerificationFailed,message:`Error verifying JWT signature. ${m[0]}`})]}:f?{data:p}:{errors:[new wt({reason:nt.TokenInvalidSignature,message:"JWT signature is invalid."})]}}a(uq,"verifyJwt");var cq=a(e=>{throw TypeError(e)},"__typeError"),ete=a((e,t,r)=>t.has(e)||cq("Cannot "+r),"__accessCheck"),lq=a((e,t,r)=>t.has(e)?cq("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),"__privateAdd"),ch=a((e,t,r)=>(ete(e,t,"access private method"),r),"__privateMethod");function ZE(e){return e?`https://${e.replace(/clerk\.accountsstage\./,"accountsstage.").replace(/clerk\.accounts\.|clerk\./,"accounts.")}`:""}a(ZE,"buildAccountsBaseUrl");var tte={strict_mfa:{afterMinutes:10,level:"multi_factor"},strict:{afterMinutes:10,level:"second_factor"},moderate:{afterMinutes:60,level:"second_factor"},lax:{afterMinutes:1440,level:"second_factor"}},rte=new Set(["first_factor","second_factor","multi_factor"]),nte=new Set(["strict_mfa","strict","moderate","lax"]),ote=a(e=>typeof e=="number"&&e>0,"isValidMaxAge"),ite=a(e=>rte.has(e),"isValidLevel"),ate=a(e=>nte.has(e),"isValidVerificationType"),KE=a(e=>e.replace(/^(org:)*/,"org:"),"prefixWithOrg"),ste=a((e,t)=>{let{orgId:r,orgRole:n,orgPermissions:o}=t;return!e.role&&!e.permission||!r||!n||!o?null:e.permission?o.includes(KE(e.permission)):e.role?KE(n)===KE(e.role):null},"checkOrgAuthorization"),dq=a((e,t)=>{let{org:r,user:n}=lh(e),[o,i]=t.split(":"),s=i||o;return o==="org"?r.includes(s):o==="user"?n.includes(s):[...r,...n].includes(s)},"checkForFeatureOrPlan"),ute=a((e,t)=>{let{features:r,plans:n}=t;return e.feature&&r?dq(r,e.feature):e.plan&&n?dq(n,e.plan):null},"checkBillingAuthorization"),lh=a(e=>{let t=e?e.split(",").map(r=>r.trim()):[];return{org:t.filter(r=>r.split(":")[0].includes("o")).map(r=>r.split(":")[1]),user:t.filter(r=>r.split(":")[0].includes("u")).map(r=>r.split(":")[1])}},"splitByScope"),pq=a(e=>{if(!e)return!1;let t=a(o=>typeof o=="string"?tte[o]:o,"convertConfigToObject"),r=typeof e=="string"&&ate(e),n=typeof e=="object"&&ite(e.level)&&ote(e.afterMinutes);return r||n?t.bind(null,e):!1},"validateReverificationConfig"),cte=a((e,{factorVerificationAge:t})=>{if(!e.reverification||!t)return null;let r=pq(e.reverification);if(!r)return null;let{level:n,afterMinutes:o}=r(),[i,s]=t,u=i!==-1?o>i:null,l=s!==-1?o>s:null;switch(n){case"first_factor":return u;case"second_factor":return s!==-1?l:u;case"multi_factor":return s===-1?u:u&&l}},"checkReverificationAuthorization"),GE=a(e=>t=>{if(!e.userId)return!1;let r=ute(t,e),n=ste(t,e),o=cte(t,e);return[r||n,o].some(i=>i===null)?[r||n,o].some(i=>i===!0):[r||n,o].every(i=>i===!0)},"createCheckAuthorization");var lte=a(({per:e,fpm:t})=>{if(!e||!t)return{permissions:[],featurePermissionMap:[]};let r=e.split(",").map(n=>n.trim());return{permissions:r,featurePermissionMap:t.split(",").map(n=>Number.parseInt(n.trim(),10)).map(n=>n.toString(2).padStart(r.length,"0").split("").map(o=>Number.parseInt(o,10)).reverse()).filter(Boolean)}},"parsePermissions");function dte({features:e,permissions:t,featurePermissionMap:r}){if(!e||!t||!r)return[];let n=[];for(let o=0;o<e.length;o++){let i=e[o];if(o>=r.length)continue;let s=r[o];if(s)for(let u=0;u<s.length;u++)s[u]===1&&n.push(`org:${i}:${t[u]}`)}return n}a(dte,"buildOrgPermissions");var mq=a(e=>{let t,r,n,o,i=e.fva??null,s=e.sts??null;switch(e.v){case 2:if(e.o){t=e.o?.id,n=e.o?.slg,e.o?.rol&&(r=`org:${e.o?.rol}`);let{org:u}=lh(e.fea),{permissions:l,featurePermissionMap:d}=lte({per:e.o?.per,fpm:e.o?.fpm});o=dte({features:u,featurePermissionMap:d,permissions:l})}break;default:t=e.org_id,r=e.org_role,n=e.org_slug,o=e.org_permissions;break}return{sessionClaims:e,sessionId:e.sid,sessionStatus:s,actor:e.act,userId:e.sub,orgId:t,orgRole:r,orgSlug:n,orgPermissions:o,factorVerificationAge:i}},"__experimental_JWTPayloadToAuthObjectProperties");var rU=iu(gq(),1);function wte(e){for(var t=[],r=0;r<e.length;){var n=e[r];if(n==="*"||n==="+"||n==="?"){t.push({type:"MODIFIER",index:r,value:e[r++]});continue}if(n==="\\"){t.push({type:"ESCAPED_CHAR",index:r++,value:e[r++]});continue}if(n==="{"){t.push({type:"OPEN",index:r,value:e[r++]});continue}if(n==="}"){t.push({type:"CLOSE",index:r,value:e[r++]});continue}if(n===":"){for(var o="",i=r+1;i<e.length;){var s=e.charCodeAt(i);if(s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122||s===95){o+=e[i++];continue}break}if(!o)throw new TypeError("Missing parameter name at ".concat(r));t.push({type:"NAME",index:r,value:o}),r=i;continue}if(n==="("){var u=1,l="",i=r+1;if(e[i]==="?")throw new TypeError('Pattern cannot start with "?" at '.concat(i));for(;i<e.length;){if(e[i]==="\\"){l+=e[i++]+e[i++];continue}if(e[i]===")"){if(u--,u===0){i++;break}}else if(e[i]==="("&&(u++,e[i+1]!=="?"))throw new TypeError("Capturing groups are not allowed at ".concat(i));l+=e[i++]}if(u)throw new TypeError("Unbalanced pattern at ".concat(r));if(!l)throw new TypeError("Missing pattern at ".concat(r));t.push({type:"PATTERN",index:r,value:l}),r=i;continue}t.push({type:"CHAR",index:r,value:e[r++]})}return t.push({type:"END",index:r,value:""}),t}a(wte,"_");function xte(e,t){t===void 0&&(t={});for(var r=wte(e),n=t.prefixes,o=n===void 0?"./":n,i=t.delimiter,s=i===void 0?"/#?":i,u=[],l=0,d=0,p="",f=function(R){if(d<r.length&&r[d].type===R)return r[d++].value},m=function(R){var O=f(R);if(O!==void 0)return O;var z=r[d],D=z.type,X=z.index;throw new TypeError("Unexpected ".concat(D," at ").concat(X,", expected ").concat(R))},y=function(){for(var R="",O;O=f("CHAR")||f("ESCAPED_CHAR");)R+=O;return R},g=function(R){for(var O=0,z=s;O<z.length;O++){var D=z[O];if(R.indexOf(D)>-1)return!0}return!1},h=function(R){var O=u[u.length-1],z=R||(O&&typeof O=="string"?O:"");if(O&&!z)throw new TypeError('Must have text between two parameters, missing text after "'.concat(O.name,'"'));return!z||g(z)?"[^".concat(_a(s),"]+?"):"(?:(?!".concat(_a(z),")[^").concat(_a(s),"])+?")};d<r.length;){var v=f("CHAR"),S=f("NAME"),b=f("PATTERN");if(S||b){var w=v||"";o.indexOf(w)===-1&&(p+=w,w=""),p&&(u.push(p),p=""),u.push({name:S||l++,prefix:w,suffix:"",pattern:b||h(w),modifier:f("MODIFIER")||""});continue}var k=v||f("ESCAPED_CHAR");if(k){p+=k;continue}if(p&&(u.push(p),p=""),f("OPEN")){var w=y(),$=f("NAME")||"",C=f("PATTERN")||"",A=y();m("CLOSE"),u.push({name:$||(C?l++:""),pattern:$&&!C?h(w):C,prefix:w,suffix:A,modifier:f("MODIFIER")||""});continue}m("END")}return u}a(xte,"F");function Tte(e,t){var r=[];return Ete(vq(e,r,t),r,t)}a(Tte,"H");function Ete(e,t,r){r===void 0&&(r={});var n=r.decode,o=n===void 0?function(i){return i}:n;return function(i){var s=e.exec(i);if(!s)return!1;for(var u=s[0],l=s.index,d=Object.create(null),p=function(m){if(s[m]===void 0)return"continue";var y=t[m-1];y.modifier==="*"||y.modifier==="+"?d[y.name]=s[m].split(y.prefix+y.suffix).map(function(g){return o(g,y)}):d[y.name]=o(s[m],y)},f=1;f<s.length;f++)p(f);return{path:u,index:l,params:d}}}a(Ete,"I");function _a(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}a(_a,"s");function yq(e){return e&&e.sensitive?"":"i"}a(yq,"D");function kte(e,t){if(!t)return e;for(var r=/\((?:\?<(.*?)>)?(?!\?)/g,n=0,o=r.exec(e.source);o;)t.push({name:o[1]||n++,prefix:"",suffix:"",modifier:"",pattern:""}),o=r.exec(e.source);return e}a(kte,"$");function Pte(e,t,r){var n=e.map(function(o){return vq(o,t,r).source});return new RegExp("(?:".concat(n.join("|"),")"),yq(r))}a(Pte,"W");function Ite(e,t,r){return Ote(xte(e,r),t,r)}a(Ite,"L");function Ote(e,t,r){r===void 0&&(r={});for(var n=r.strict,o=n===void 0?!1:n,i=r.start,s=i===void 0?!0:i,u=r.end,l=u===void 0?!0:u,d=r.encode,p=d===void 0?function(z){return z}:d,f=r.delimiter,m=f===void 0?"/#?":f,y=r.endsWith,g=y===void 0?"":y,h="[".concat(_a(g),"]|$"),v="[".concat(_a(m),"]"),S=s?"^":"",b=0,w=e;b<w.length;b++){var k=w[b];if(typeof k=="string")S+=_a(p(k));else{var $=_a(p(k.prefix)),C=_a(p(k.suffix));if(k.pattern)if(t&&t.push(k),$||C)if(k.modifier==="+"||k.modifier==="*"){var A=k.modifier==="*"?"?":"";S+="(?:".concat($,"((?:").concat(k.pattern,")(?:").concat(C).concat($,"(?:").concat(k.pattern,"))*)").concat(C,")").concat(A)}else S+="(?:".concat($,"(").concat(k.pattern,")").concat(C,")").concat(k.modifier);else{if(k.modifier==="+"||k.modifier==="*")throw new TypeError('Can not repeat "'.concat(k.name,'" without a prefix and suffix'));S+="(".concat(k.pattern,")").concat(k.modifier)}else S+="(?:".concat($).concat(C,")").concat(k.modifier)}}if(l)o||(S+="".concat(v,"?")),S+=r.endsWith?"(?=".concat(h,")"):"$";else{var R=e[e.length-1],O=typeof R=="string"?v.indexOf(R[R.length-1])>-1:R===void 0;o||(S+="(?:".concat(v,"(?=").concat(h,"))?")),O||(S+="(?=".concat(v,"|").concat(h,")"))}return new RegExp(S,yq(r))}a(Ote,"U");function vq(e,t,r){return e instanceof RegExp?kte(e,t):Array.isArray(e)?Pte(e,t,r):Ite(e,t,r)}a(vq,"P");function WE(e,t){try{return Tte(e,t)}catch(r){throw new Error(`Invalid path and options: Consult the documentation of path-to-regexp here: https://github.com/pillarjs/path-to-regexp/tree/6.x
${r.message}`)}}a(WE,"match");var Uq="https://api.clerk.com",Lq="v1",Fq="@clerk/backend@2.24.0",Rte=300,dk="2025-11-10",$te={AuthToken:"__clerkAuthToken",AuthSignature:"__clerkAuthSignature",AuthStatus:"__clerkAuthStatus",AuthReason:"__clerkAuthReason",AuthMessage:"__clerkAuthMessage",ClerkUrl:"__clerkUrl"},_h={Session:"__session",Refresh:"__refresh",ClientUat:"__client_uat",Handshake:"__clerk_handshake",DevBrowser:"__clerk_db_jwt",RedirectCount:"__clerk_redirect_count",HandshakeNonce:"__clerk_handshake_nonce"},Nte={ClerkSynced:"__clerk_synced",SuffixedCookies:"suffixed_cookies",ClerkRedirectUrl:"__clerk_redirect_url",DevBrowser:_h.DevBrowser,Handshake:_h.Handshake,HandshakeHelp:"__clerk_help",LegacyDevBrowser:"__dev_session",HandshakeReason:"__clerk_hs_reason",HandshakeNonce:_h.HandshakeNonce,HandshakeFormat:"format"},zte={Accept:"accept",AuthMessage:"x-clerk-auth-message",Authorization:"authorization",AuthReason:"x-clerk-auth-reason",AuthSignature:"x-clerk-auth-signature",AuthStatus:"x-clerk-auth-status",AuthToken:"x-clerk-auth-token",CacheControl:"cache-control",ClerkRedirectTo:"x-clerk-redirect-to",ClerkRequestData:"x-clerk-request-data",ClerkUrl:"x-clerk-clerk-url",CloudFrontForwardedProto:"cloudfront-forwarded-proto",ContentType:"content-type",ContentSecurityPolicy:"content-security-policy",ContentSecurityPolicyReportOnly:"content-security-policy-report-only",EnableDebug:"x-clerk-debug",ForwardedHost:"x-forwarded-host",ForwardedPort:"x-forwarded-port",ForwardedProto:"x-forwarded-proto",Host:"host",Location:"location",Nonce:"x-nonce",Origin:"origin",Referrer:"referer",SecFetchDest:"sec-fetch-dest",SecFetchSite:"sec-fetch-site",UserAgent:"user-agent",ReportingEndpoints:"reporting-endpoints"},jte={Json:"application/json"},Ae={Attributes:$te,Cookies:_h,Headers:zte,ContentTypes:jte,QueryParameters:Nte};function _q(e,t){return Object.keys(e).reduce((r,n)=>({...r,[n]:t[n]||r[n]}),{...e})}a(_q,"mergePreDefinedOptions");function Bq(e){if(!e||typeof e!="string")throw Error("Missing Clerk Secret Key. Go to https://dashboard.clerk.com and get your key for your instance.")}a(Bq,"assertValidSecretKey");function Dte(e){va(e,{fatal:!0})}a(Dte,"assertValidPublishableKey");var Ge={SessionToken:"session_token",ApiKey:"api_key",M2MToken:"m2m_token",OAuthToken:"oauth_token"},Mte=class{static{a(this,"AuthenticateContext")}constructor(e,t,r){this.cookieSuffix=e,this.clerkRequest=t,this.originalFrontendApi="",r.acceptsToken===Ge.M2MToken||r.acceptsToken===Ge.ApiKey?this.initHeaderValues():(this.initPublishableKeyValues(r),this.initHeaderValues(),this.initCookieValues(),this.initHandshakeValues()),Object.assign(this,r),this.clerkUrl=this.clerkRequest.clerkUrl}get sessionToken(){return this.sessionTokenInCookie||this.tokenInHeader}usesSuffixedCookies(){let e=this.getSuffixedCookie(Ae.Cookies.ClientUat),t=this.getCookie(Ae.Cookies.ClientUat),r=this.getSuffixedCookie(Ae.Cookies.Session)||"",n=this.getCookie(Ae.Cookies.Session)||"";if(n&&!this.tokenHasIssuer(n))return!1;if(n&&!this.tokenBelongsToInstance(n))return!0;if(!e&&!r)return!1;let{data:o}=wo(n),i=o?.payload.iat||0,{data:s}=wo(r),u=s?.payload.iat||0;if(e!=="0"&&t!=="0"&&i>u||e==="0"&&t!=="0")return!1;if(this.instanceType!=="production"){let l=this.sessionExpired(s);if(e!=="0"&&t==="0"&&l)return!1}return!(!e&&r)}isCrossOriginReferrer(){if(!this.referrer||!this.clerkUrl.origin)return!1;try{return new URL(this.referrer).origin!==this.clerkUrl.origin}catch{return!1}}isKnownClerkReferrer(){if(!this.referrer)return!1;try{let e=new URL(this.referrer),t=e.hostname;if(this.frontendApi){let n=this.frontendApi.startsWith("http")?new URL(this.frontendApi).hostname:this.frontendApi;if(t===n)return!0}if($E(t)||NE(t))return!0;let r=ZE(this.frontendApi);if(r){let n=new URL(r).origin;if(e.origin===n)return!0}return!!t.startsWith("accounts.")}catch{return!1}}initPublishableKeyValues(e){Dte(e.publishableKey),this.publishableKey=e.publishableKey;let t=va(this.publishableKey,{fatal:!0,domain:e.domain,isSatellite:e.isSatellite});this.originalFrontendApi=t.frontendApi;let r=va(this.publishableKey,{fatal:!0,proxyUrl:e.proxyUrl,domain:e.domain,isSatellite:e.isSatellite});this.instanceType=r.instanceType,this.frontendApi=r.frontendApi}initHeaderValues(){this.tokenInHeader=this.parseAuthorizationHeader(this.getHeader(Ae.Headers.Authorization)),this.origin=this.getHeader(Ae.Headers.Origin),this.host=this.getHeader(Ae.Headers.Host),this.forwardedHost=this.getHeader(Ae.Headers.ForwardedHost),this.forwardedProto=this.getHeader(Ae.Headers.CloudFrontForwardedProto)||this.getHeader(Ae.Headers.ForwardedProto),this.referrer=this.getHeader(Ae.Headers.Referrer),this.userAgent=this.getHeader(Ae.Headers.UserAgent),this.secFetchDest=this.getHeader(Ae.Headers.SecFetchDest),this.accept=this.getHeader(Ae.Headers.Accept)}initCookieValues(){this.sessionTokenInCookie=this.getSuffixedOrUnSuffixedCookie(Ae.Cookies.Session),this.refreshTokenInCookie=this.getSuffixedCookie(Ae.Cookies.Refresh),this.clientUat=Number.parseInt(this.getSuffixedOrUnSuffixedCookie(Ae.Cookies.ClientUat)||"")||0}initHandshakeValues(){this.devBrowserToken=this.getQueryParam(Ae.QueryParameters.DevBrowser)||this.getSuffixedOrUnSuffixedCookie(Ae.Cookies.DevBrowser),this.handshakeToken=this.getQueryParam(Ae.QueryParameters.Handshake)||this.getCookie(Ae.Cookies.Handshake),this.handshakeRedirectLoopCounter=Number(this.getCookie(Ae.Cookies.RedirectCount))||0,this.handshakeNonce=this.getQueryParam(Ae.QueryParameters.HandshakeNonce)||this.getCookie(Ae.Cookies.HandshakeNonce)}getQueryParam(e){return this.clerkRequest.clerkUrl.searchParams.get(e)}getHeader(e){return this.clerkRequest.headers.get(e)||void 0}getCookie(e){return this.clerkRequest.cookies.get(e)||void 0}getSuffixedCookie(e){return this.getCookie(oh(e,this.cookieSuffix))||void 0}getSuffixedOrUnSuffixedCookie(e){return this.usesSuffixedCookies()?this.getSuffixedCookie(e):this.getCookie(e)}parseAuthorizationHeader(e){if(!e)return;let[t,r]=e.split(" ",2);if(!r)return t;if(t==="Bearer")return r}tokenHasIssuer(e){let{data:t,errors:r}=wo(e);return r?!1:!!t.payload.iss}tokenBelongsToInstance(e){if(!e)return!1;let{data:t,errors:r}=wo(e);if(r)return!1;let n=t.payload.iss.replace(/https?:\/\//gi,"");return this.originalFrontendApi===n}sessionExpired(e){return!!e&&e?.payload.exp<=Date.now()/1e3>>0}},qte=a(async(e,t)=>{let r=t.publishableKey?await nh(t.publishableKey,Go.crypto.subtle):"";return new Mte(r,e,t)},"createAuthenticateContext"),ok="/",Ute=new RegExp("(?<!:)"+ok+"{1,}","g");function ie(...e){return e.filter(t=>t).join(ok).replace(Ute,ok)}a(ie,"joinPaths");var kt=class{static{a(this,"AbstractAPI")}constructor(e){this.request=e}requireId(e){if(!e)throw new Error("A valid resource ID is required.")}},bq="/actor_tokens",Lte=class extends kt{static{a(this,"ActorTokenAPI")}async create(e){return this.request({method:"POST",path:bq,bodyParams:e})}async revoke(e){return this.requireId(e),this.request({method:"POST",path:ie(bq,e,"revoke")})}},Sq="/accountless_applications",Fte=class extends kt{static{a(this,"AccountlessApplicationAPI")}async createAccountlessApplication(e){let t=e?.requestHeaders?Object.fromEntries(e.requestHeaders.entries()):void 0;return this.request({method:"POST",path:Sq,headerParams:t})}async completeAccountlessApplicationOnboarding(e){let t=e?.requestHeaders?Object.fromEntries(e.requestHeaders.entries()):void 0;return this.request({method:"POST",path:ie(Sq,"complete"),headerParams:t})}},QE="/allowlist_identifiers",Bte=class extends kt{static{a(this,"AllowlistIdentifierAPI")}async getAllowlistIdentifierList(e={}){return this.request({method:"GET",path:QE,queryParams:{...e,paginated:!0}})}async createAllowlistIdentifier(e){return this.request({method:"POST",path:QE,bodyParams:e})}async deleteAllowlistIdentifier(e){return this.requireId(e),this.request({method:"DELETE",path:ie(QE,e)})}},ud="/api_keys",Jte=class extends kt{static{a(this,"APIKeysAPI")}async list(e){return this.request({method:"GET",path:ud,queryParams:e})}async create(e){return this.request({method:"POST",path:ud,bodyParams:e})}async revoke(e){let{apiKeyId:t,...r}=e;return this.requireId(t),this.request({method:"POST",path:ie(ud,t,"revoke"),bodyParams:r})}async getSecret(e){return this.requireId(e),this.request({method:"GET",path:ie(ud,e,"secret")})}async verifySecret(e){return this.request({method:"POST",path:ie(ud,"verify"),bodyParams:{secret:e}})}},Hte="/beta_features",Vte=class extends kt{static{a(this,"BetaFeaturesAPI")}async changeDomain(e){return this.request({method:"POST",path:ie(Hte,"change_domain"),bodyParams:e})}},XE="/blocklist_identifiers",Zte=class extends kt{static{a(this,"BlocklistIdentifierAPI")}async getBlocklistIdentifierList(e={}){return this.request({method:"GET",path:XE,queryParams:e})}async createBlocklistIdentifier(e){return this.request({method:"POST",path:XE,bodyParams:e})}async deleteBlocklistIdentifier(e){return this.requireId(e),this.request({method:"DELETE",path:ie(XE,e)})}},ph="/clients",Kte=class extends kt{static{a(this,"ClientAPI")}async getClientList(e={}){return this.request({method:"GET",path:ph,queryParams:{...e,paginated:!0}})}async getClient(e){return this.requireId(e),this.request({method:"GET",path:ie(ph,e)})}verifyClient(e){return this.request({method:"POST",path:ie(ph,"verify"),bodyParams:{token:e}})}async getHandshakePayload(e){return this.request({method:"GET",path:ie(ph,"handshake_payload"),queryParams:e})}},mh="/domains",Gte=class extends kt{static{a(this,"DomainAPI")}async list(){return this.request({method:"GET",path:mh})}async add(e){return this.request({method:"POST",path:mh,bodyParams:e})}async update(e){let{domainId:t,...r}=e;return this.requireId(t),this.request({method:"PATCH",path:ie(mh,t),bodyParams:r})}async delete(e){return this.deleteDomain(e)}async deleteDomain(e){return this.requireId(e),this.request({method:"DELETE",path:ie(mh,e)})}},fh="/email_addresses",Wte=class extends kt{static{a(this,"EmailAddressAPI")}async getEmailAddress(e){return this.requireId(e),this.request({method:"GET",path:ie(fh,e)})}async createEmailAddress(e){return this.request({method:"POST",path:fh,bodyParams:e})}async updateEmailAddress(e,t={}){return this.requireId(e),this.request({method:"PATCH",path:ie(fh,e),bodyParams:t})}async deleteEmailAddress(e){return this.requireId(e),this.request({method:"DELETE",path:ie(fh,e)})}},Qte="/oauth_applications/access_tokens",Xte=class extends kt{static{a(this,"IdPOAuthAccessTokenApi")}async verifyAccessToken(e){return this.request({method:"POST",path:ie(Qte,"verify"),bodyParams:{access_token:e}})}},hh="/instance",Yte=class extends kt{static{a(this,"InstanceAPI")}async get(){return this.request({method:"GET",path:hh})}async update(e){return this.request({method:"PATCH",path:hh,bodyParams:e})}async updateRestrictions(e){return this.request({method:"PATCH",path:ie(hh,"restrictions"),bodyParams:e})}async updateOrganizationSettings(e){return this.request({method:"PATCH",path:ie(hh,"organization_settings"),bodyParams:e})}},gh="/invitations",ere=class extends kt{static{a(this,"InvitationAPI")}async getInvitationList(e={}){return this.request({method:"GET",path:gh,queryParams:{...e,paginated:!0}})}async createInvitation(e){return this.request({method:"POST",path:gh,bodyParams:e})}async createInvitationBulk(e){return this.request({method:"POST",path:ie(gh,"bulk"),bodyParams:e})}async revokeInvitation(e){return this.requireId(e),this.request({method:"POST",path:ie(gh,e,"revoke")})}},Oi="/machines",tre=class extends kt{static{a(this,"MachineApi")}async get(e){return this.requireId(e),this.request({method:"GET",path:ie(Oi,e)})}async list(e={}){return this.request({method:"GET",path:Oi,queryParams:e})}async create(e){return this.request({method:"POST",path:Oi,bodyParams:e})}async update(e){let{machineId:t,...r}=e;return this.requireId(t),this.request({method:"PATCH",path:ie(Oi,t),bodyParams:r})}async delete(e){return this.requireId(e),this.request({method:"DELETE",path:ie(Oi,e)})}async getSecretKey(e){return this.requireId(e),this.request({method:"GET",path:ie(Oi,e,"secret_key")})}async rotateSecretKey(e){let{machineId:t,previousTokenTtl:r}=e;return this.requireId(t),this.request({method:"POST",path:ie(Oi,t,"secret_key","rotate"),bodyParams:{previousTokenTtl:r}})}async createScope(e,t){return this.requireId(e),this.request({method:"POST",path:ie(Oi,e,"scopes"),bodyParams:{toMachineId:t}})}async deleteScope(e,t){return this.requireId(e),this.request({method:"DELETE",path:ie(Oi,e,"scopes",t)})}},YE="/m2m_tokens",md,bh,rre=class extends kt{static{a(this,"M2MTokenApi")}constructor(){super(...arguments),lq(this,md)}async createToken(e){let{claims:t=null,machineSecretKey:r,secondsUntilExpiration:n=null}=e||{},o=ch(this,md,bh).call(this,{method:"POST",path:YE,bodyParams:{secondsUntilExpiration:n,claims:t}},r);return this.request(o)}async revokeToken(e){let{m2mTokenId:t,revocationReason:r=null,machineSecretKey:n}=e;this.requireId(t);let o=ch(this,md,bh).call(this,{method:"POST",path:ie(YE,t,"revoke"),bodyParams:{revocationReason:r}},n);return this.request(o)}async verifyToken(e){let{token:t,machineSecretKey:r}=e,n=ch(this,md,bh).call(this,{method:"POST",path:ie(YE,"verify"),bodyParams:{token:t}},r);return this.request(n)}};md=new WeakSet;bh=a(function(e,t){return t?{...e,headerParams:{...e.headerParams,Authorization:`Bearer ${t}`}}:e},"createRequestOptions_fn");var nre="/jwks",ore=class extends kt{static{a(this,"JwksAPI")}async getJwks(){return this.request({method:"GET",path:nre})}},cd="/jwt_templates",ire=class extends kt{static{a(this,"JwtTemplatesApi")}async list(e={}){return this.request({method:"GET",path:cd,queryParams:{...e,paginated:!0}})}async get(e){return this.requireId(e),this.request({method:"GET",path:ie(cd,e)})}async create(e){return this.request({method:"POST",path:cd,bodyParams:e})}async update(e){let{templateId:t,...r}=e;return this.requireId(t),this.request({method:"PATCH",path:ie(cd,t),bodyParams:r})}async delete(e){return this.requireId(e),this.request({method:"DELETE",path:ie(cd,e)})}},ar="/organizations",are=class extends kt{static{a(this,"OrganizationAPI")}async getOrganizationList(e){return this.request({method:"GET",path:ar,queryParams:e})}async createOrganization(e){return this.request({method:"POST",path:ar,bodyParams:e})}async getOrganization(e){let{includeMembersCount:t}=e,r="organizationId"in e?e.organizationId:e.slug;return this.requireId(r),this.request({method:"GET",path:ie(ar,r),queryParams:{includeMembersCount:t}})}async updateOrganization(e,t){return this.requireId(e),this.request({method:"PATCH",path:ie(ar,e),bodyParams:t})}async updateOrganizationLogo(e,t){this.requireId(e);let r=new Go.FormData;return r.append("file",t?.file),t?.uploaderUserId&&r.append("uploader_user_id",t?.uploaderUserId),this.request({method:"PUT",path:ie(ar,e,"logo"),formData:r})}async deleteOrganizationLogo(e){return this.requireId(e),this.request({method:"DELETE",path:ie(ar,e,"logo")})}async updateOrganizationMetadata(e,t){return this.requireId(e),this.request({method:"PATCH",path:ie(ar,e,"metadata"),bodyParams:t})}async deleteOrganization(e){return this.request({method:"DELETE",path:ie(ar,e)})}async getOrganizationMembershipList(e){let{organizationId:t,...r}=e;return this.requireId(t),this.request({method:"GET",path:ie(ar,t,"memberships"),queryParams:r})}async getInstanceOrganizationMembershipList(e){return this.request({method:"GET",path:"/organization_memberships",queryParams:e})}async createOrganizationMembership(e){let{organizationId:t,...r}=e;return this.requireId(t),this.request({method:"POST",path:ie(ar,t,"memberships"),bodyParams:r})}async updateOrganizationMembership(e){let{organizationId:t,userId:r,...n}=e;return this.requireId(t),this.request({method:"PATCH",path:ie(ar,t,"memberships",r),bodyParams:n})}async updateOrganizationMembershipMetadata(e){let{organizationId:t,userId:r,...n}=e;return this.request({method:"PATCH",path:ie(ar,t,"memberships",r,"metadata"),bodyParams:n})}async deleteOrganizationMembership(e){let{organizationId:t,userId:r}=e;return this.requireId(t),this.request({method:"DELETE",path:ie(ar,t,"memberships",r)})}async getOrganizationInvitationList(e){let{organizationId:t,...r}=e;return this.requireId(t),this.request({method:"GET",path:ie(ar,t,"invitations"),queryParams:r})}async createOrganizationInvitation(e){let{organizationId:t,...r}=e;return this.requireId(t),this.request({method:"POST",path:ie(ar,t,"invitations"),bodyParams:r})}async createOrganizationInvitationBulk(e,t){return this.requireId(e),this.request({method:"POST",path:ie(ar,e,"invitations","bulk"),bodyParams:t})}async getOrganizationInvitation(e){let{organizationId:t,invitationId:r}=e;return this.requireId(t),this.requireId(r),this.request({method:"GET",path:ie(ar,t,"invitations",r)})}async revokeOrganizationInvitation(e){let{organizationId:t,invitationId:r,...n}=e;return this.requireId(t),this.request({method:"POST",path:ie(ar,t,"invitations",r,"revoke"),bodyParams:n})}async getOrganizationDomainList(e){let{organizationId:t,...r}=e;return this.requireId(t),this.request({method:"GET",path:ie(ar,t,"domains"),queryParams:r})}async createOrganizationDomain(e){let{organizationId:t,...r}=e;return this.requireId(t),this.request({method:"POST",path:ie(ar,t,"domains"),bodyParams:{...r,verified:r.verified??!0}})}async updateOrganizationDomain(e){let{organizationId:t,domainId:r,...n}=e;return this.requireId(t),this.requireId(r),this.request({method:"PATCH",path:ie(ar,t,"domains",r),bodyParams:n})}async deleteOrganizationDomain(e){let{organizationId:t,domainId:r}=e;return this.requireId(t),this.requireId(r),this.request({method:"DELETE",path:ie(ar,t,"domains",r)})}},Bu="/oauth_applications",sre=class extends kt{static{a(this,"OAuthApplicationsApi")}async list(e={}){return this.request({method:"GET",path:Bu,queryParams:e})}async get(e){return this.requireId(e),this.request({method:"GET",path:ie(Bu,e)})}async create(e){return this.request({method:"POST",path:Bu,bodyParams:e})}async update(e){let{oauthApplicationId:t,...r}=e;return this.requireId(t),this.request({method:"PATCH",path:ie(Bu,t),bodyParams:r})}async delete(e){return this.requireId(e),this.request({method:"DELETE",path:ie(Bu,e)})}async rotateSecret(e){return this.requireId(e),this.request({method:"POST",path:ie(Bu,e,"rotate_secret")})}},yh="/phone_numbers",ure=class extends kt{static{a(this,"PhoneNumberAPI")}async getPhoneNumber(e){return this.requireId(e),this.request({method:"GET",path:ie(yh,e)})}async createPhoneNumber(e){return this.request({method:"POST",path:yh,bodyParams:e})}async updatePhoneNumber(e,t={}){return this.requireId(e),this.request({method:"PATCH",path:ie(yh,e),bodyParams:t})}async deletePhoneNumber(e){return this.requireId(e),this.request({method:"DELETE",path:ie(yh,e)})}},cre="/proxy_checks",lre=class extends kt{static{a(this,"ProxyCheckAPI")}async verify(e){return this.request({method:"POST",path:cre,bodyParams:e})}},vh="/redirect_urls",dre=class extends kt{static{a(this,"RedirectUrlAPI")}async getRedirectUrlList(){return this.request({method:"GET",path:vh,queryParams:{paginated:!0}})}async getRedirectUrl(e){return this.requireId(e),this.request({method:"GET",path:ie(vh,e)})}async createRedirectUrl(e){return this.request({method:"POST",path:vh,bodyParams:e})}async deleteRedirectUrl(e){return this.requireId(e),this.request({method:"DELETE",path:ie(vh,e)})}},ld="/saml_connections",pre=class extends kt{static{a(this,"SamlConnectionAPI")}async getSamlConnectionList(e={}){return this.request({method:"GET",path:ld,queryParams:e})}async createSamlConnection(e){return this.request({method:"POST",path:ld,bodyParams:e,options:{deepSnakecaseBodyParamKeys:!0}})}async getSamlConnection(e){return this.requireId(e),this.request({method:"GET",path:ie(ld,e)})}async updateSamlConnection(e,t={}){return this.requireId(e),this.request({method:"PATCH",path:ie(ld,e),bodyParams:t,options:{deepSnakecaseBodyParamKeys:!0}})}async deleteSamlConnection(e){return this.requireId(e),this.request({method:"DELETE",path:ie(ld,e)})}},ba="/sessions",mre=class extends kt{static{a(this,"SessionAPI")}async getSessionList(e={}){return this.request({method:"GET",path:ba,queryParams:{...e,paginated:!0}})}async getSession(e){return this.requireId(e),this.request({method:"GET",path:ie(ba,e)})}async createSession(e){return this.request({method:"POST",path:ba,bodyParams:e})}async revokeSession(e){return this.requireId(e),this.request({method:"POST",path:ie(ba,e,"revoke")})}async verifySession(e,t){return this.requireId(e),this.request({method:"POST",path:ie(ba,e,"verify"),bodyParams:{token:t}})}async getToken(e,t,r){this.requireId(e);let o={method:"POST",path:t?ie(ba,e,"tokens",t):ie(ba,e,"tokens")};return r!==void 0&&(o.bodyParams={expires_in_seconds:r}),this.request(o)}async refreshSession(e,t){this.requireId(e);let{suffixed_cookies:r,...n}=t;return this.request({method:"POST",path:ie(ba,e,"refresh"),bodyParams:n,queryParams:{suffixed_cookies:r}})}},wq="/sign_in_tokens",fre=class extends kt{static{a(this,"SignInTokenAPI")}async createSignInToken(e){return this.request({method:"POST",path:wq,bodyParams:e})}async revokeSignInToken(e){return this.requireId(e),this.request({method:"POST",path:ie(wq,e,"revoke")})}},xq="/sign_ups",hre=class extends kt{static{a(this,"SignUpAPI")}async get(e){return this.requireId(e),this.request({method:"GET",path:ie(xq,e)})}async update(e){let{signUpAttemptId:t,...r}=e;return this.request({method:"PATCH",path:ie(xq,t),bodyParams:r})}},gre="/testing_tokens",yre=class extends kt{static{a(this,"TestingTokenAPI")}async createTestingToken(){return this.request({method:"POST",path:gre})}},Wt="/users",vre=class extends kt{static{a(this,"UserAPI")}async getUserList(e={}){let{limit:t,offset:r,orderBy:n,...o}=e,[i,s]=await Promise.all([this.request({method:"GET",path:Wt,queryParams:e}),this.getCount(o)]);return{data:i,totalCount:s}}async getUser(e){return this.requireId(e),this.request({method:"GET",path:ie(Wt,e)})}async createUser(e){return this.request({method:"POST",path:Wt,bodyParams:e})}async updateUser(e,t={}){return this.requireId(e),this.request({method:"PATCH",path:ie(Wt,e),bodyParams:t})}async updateUserProfileImage(e,t){this.requireId(e);let r=new Go.FormData;return r.append("file",t?.file),this.request({method:"POST",path:ie(Wt,e,"profile_image"),formData:r})}async updateUserMetadata(e,t){return this.requireId(e),this.request({method:"PATCH",path:ie(Wt,e,"metadata"),bodyParams:t})}async deleteUser(e){return this.requireId(e),this.request({method:"DELETE",path:ie(Wt,e)})}async getCount(e={}){return this.request({method:"GET",path:ie(Wt,"count"),queryParams:e})}async getUserOauthAccessToken(e,t){this.requireId(e);let r=t.startsWith("oauth_"),n=r?t:`oauth_${t}`;return r&&th("getUserOauthAccessToken(userId, provider)","Remove the `oauth_` prefix from the `provider` argument."),this.request({method:"GET",path:ie(Wt,e,"oauth_access_tokens",n),queryParams:{paginated:!0}})}async disableUserMFA(e){return this.requireId(e),this.request({method:"DELETE",path:ie(Wt,e,"mfa")})}async getOrganizationMembershipList(e){let{userId:t,limit:r,offset:n}=e;return this.requireId(t),this.request({method:"GET",path:ie(Wt,t,"organization_memberships"),queryParams:{limit:r,offset:n}})}async getOrganizationInvitationList(e){let{userId:t,...r}=e;return this.requireId(t),this.request({method:"GET",path:ie(Wt,t,"organization_invitations"),queryParams:r})}async verifyPassword(e){let{userId:t,password:r}=e;return this.requireId(t),this.request({method:"POST",path:ie(Wt,t,"verify_password"),bodyParams:{password:r}})}async verifyTOTP(e){let{userId:t,code:r}=e;return this.requireId(t),this.request({method:"POST",path:ie(Wt,t,"verify_totp"),bodyParams:{code:r}})}async banUser(e){return this.requireId(e),this.request({method:"POST",path:ie(Wt,e,"ban")})}async unbanUser(e){return this.requireId(e),this.request({method:"POST",path:ie(Wt,e,"unban")})}async lockUser(e){return this.requireId(e),this.request({method:"POST",path:ie(Wt,e,"lock")})}async unlockUser(e){return this.requireId(e),this.request({method:"POST",path:ie(Wt,e,"unlock")})}async deleteUserProfileImage(e){return this.requireId(e),this.request({method:"DELETE",path:ie(Wt,e,"profile_image")})}async deleteUserPasskey(e){return this.requireId(e.userId),this.requireId(e.passkeyIdentificationId),this.request({method:"DELETE",path:ie(Wt,e.userId,"passkeys",e.passkeyIdentificationId)})}async deleteUserWeb3Wallet(e){return this.requireId(e.userId),this.requireId(e.web3WalletIdentificationId),this.request({method:"DELETE",path:ie(Wt,e.userId,"web3_wallets",e.web3WalletIdentificationId)})}async deleteUserExternalAccount(e){return this.requireId(e.userId),this.requireId(e.externalAccountId),this.request({method:"DELETE",path:ie(Wt,e.userId,"external_accounts",e.externalAccountId)})}async deleteUserBackupCodes(e){return this.requireId(e),this.request({method:"DELETE",path:ie(Wt,e,"backup_code")})}async deleteUserTOTP(e){return this.requireId(e),this.request({method:"DELETE",path:ie(Wt,e,"totp")})}},dd="/waitlist_entries",_re=class extends kt{static{a(this,"WaitlistEntryAPI")}async list(e={}){return this.request({method:"GET",path:dd,queryParams:e})}async create(e){return this.request({method:"POST",path:dd,bodyParams:e})}async invite(e,t={}){return this.requireId(e),this.request({method:"POST",path:ie(dd,e,"invite"),bodyParams:t})}async reject(e){return this.requireId(e),this.request({method:"POST",path:ie(dd,e,"reject")})}async delete(e){return this.requireId(e),this.request({method:"DELETE",path:ie(dd,e)})}},ek="/webhooks",bre=class extends kt{static{a(this,"WebhookAPI")}async createSvixApp(){return this.request({method:"POST",path:ie(ek,"svix")})}async generateSvixAuthURL(){return this.request({method:"POST",path:ie(ek,"svix_url")})}async deleteSvixApp(){return this.request({method:"DELETE",path:ie(ek,"svix")})}},Tq="/billing",Sre="/organizations",wre="/users",xre=class extends kt{static{a(this,"BillingAPI")}async getPlanList(e){return this.request({method:"GET",path:ie(Tq,"plans"),queryParams:e})}async cancelSubscriptionItem(e,t){return this.requireId(e),this.request({method:"DELETE",path:ie(Tq,"subscription_items",e),queryParams:t})}async extendSubscriptionItemFreeTrial(e,t){return this.requireId(e),this.request({method:"POST",path:ie("/billing","subscription_items",e,"extend_free_trial"),bodyParams:t})}async getOrganizationBillingSubscription(e){return this.requireId(e),this.request({method:"GET",path:ie(Sre,e,"billing","subscription")})}async getUserBillingSubscription(e){return this.requireId(e),this.request({method:"GET",path:ie(wre,e,"billing","subscription")})}},Jq=a(e=>typeof e=="object"&&e!==null,"isObject"),Eq=a(e=>Jq(e)&&!(e instanceof RegExp)&&!(e instanceof Error)&&!(e instanceof Date)&&!(globalThis.Blob&&e instanceof globalThis.Blob),"isObjectCustom"),Tre=Symbol("mapObjectSkip"),ik=a((e,t,r,n=new WeakMap)=>{if(r={deep:!1,target:{},...r},n.has(e))return n.get(e);n.set(e,r.target);let{target:o}=r;delete r.target;let i=a(s=>s.map(u=>Eq(u)?ik(u,t,r,n):u),"mapArray");if(Array.isArray(e))return i(e);for(let[s,u]of Object.entries(e)){let l=t(s,u,e);if(l===Tre)continue;let[d,p,{shouldRecurse:f=!0}={}]=l;d!=="__proto__"&&(r.deep&&f&&Eq(p)&&(p=Array.isArray(p)?i(p):ik(p,t,r,n)),o[d]=p)}return o},"_mapObject");function kq(e,t,r){if(!Jq(e))throw new TypeError(`Expected an object, got \`${e}\` (${typeof e})`);if(Array.isArray(e))throw new TypeError("Expected an object, got an array");return ik(e,t,r)}a(kq,"mapObject");var Ere=new RegExp("([\\p{Ll}\\d])(\\p{Lu})","gu"),kre=new RegExp("(\\p{Lu})([\\p{Lu}][\\p{Ll}])","gu"),Pre=new RegExp("(\\d)\\p{Ll}|(\\p{L})\\d","u"),Ire=/[^\p{L}\d]+/giu,Pq="$1\0$2",Iq="";function Hq(e){let t=e.trim();t=t.replace(Ere,Pq).replace(kre,Pq),t=t.replace(Ire,"\0");let r=0,n=t.length;for(;t.charAt(r)==="\0";)r++;if(r===n)return[];for(;t.charAt(n-1)==="\0";)n--;return t.slice(r,n).split(/\0/g)}a(Hq,"split");function Ore(e){let t=Hq(e);for(let r=0;r<t.length;r++){let n=t[r],o=Pre.exec(n);if(o){let i=o.index+(o[1]??o[2]).length;t.splice(r,1,n.slice(0,i),n.slice(i))}}return t}a(Ore,"splitSeparateNumbers");function Are(e,t){let[r,n,o]=Rre(e,t);return r+n.map(Cre(t?.locale)).join(t?.delimiter??" ")+o}a(Are,"noCase");function Oq(e,t){return Are(e,{delimiter:"_",...t})}a(Oq,"snakeCase");function Cre(e){return e===!1?t=>t.toLowerCase():t=>t.toLocaleLowerCase(e)}a(Cre,"lowerFactory");function Rre(e,t={}){let r=t.split??(t.separateNumbers?Ore:Hq),n=t.prefixCharacters??Iq,o=t.suffixCharacters??Iq,i=0,s=e.length;for(;i<e.length;){let u=e.charAt(i);if(!n.includes(u))break;i++}for(;s>i;){let u=s-1,l=e.charAt(u);if(!o.includes(l))break;s=u}return[e.slice(0,i),r(e.slice(i,s)),e.slice(s)]}a(Rre,"splitPrefixSuffix");var Aq={}.constructor;function $re(e,t){if(Array.isArray(e)){if(e.some(o=>o.constructor!==Aq))throw new Error("obj must be array of plain objects");t={deep:!0,exclude:[],parsingOptions:{},...t};let n=t.snakeCase||(o=>Oq(o,t.parsingOptions));return e.map(o=>kq(o,(i,s)=>[Cq(t.exclude,i)?i:n(i),s,Rq(i,s,t)],t))}else if(e.constructor!==Aq)throw new Error("obj must be an plain object");t={deep:!0,exclude:[],parsingOptions:{},...t};let r=t.snakeCase||(n=>Oq(n,t.parsingOptions));return kq(e,(n,o)=>[Cq(t.exclude,n)?n:r(n),o,Rq(n,o,t)],t)}a($re,"snakecaseKeys");function Cq(e,t){return e.some(r=>typeof r=="string"?r===t:r.test(t))}a(Cq,"matches");function Rq(e,t,r){return r.shouldRecurse?{shouldRecurse:r.shouldRecurse(e,t)}:void 0}a(Rq,"mapperOptions");var $q=$re,Nre=class Vq{static{a(this,"_AccountlessApplication")}constructor(t,r,n,o){this.publishableKey=t,this.secretKey=r,this.claimUrl=n,this.apiKeysUrl=o}static fromJSON(t){return new Vq(t.publishable_key,t.secret_key,t.claim_url,t.api_keys_url)}},zre=class Zq{static{a(this,"_ActorToken")}constructor(t,r,n,o,i,s,u,l){this.id=t,this.status=r,this.userId=n,this.actor=o,this.token=i,this.url=s,this.createdAt=u,this.updatedAt=l}static fromJSON(t){return new Zq(t.id,t.status,t.user_id,t.actor,t.token,t.url,t.created_at,t.updated_at)}},jre=class Kq{static{a(this,"_AllowlistIdentifier")}constructor(t,r,n,o,i,s,u){this.id=t,this.identifier=r,this.identifierType=n,this.createdAt=o,this.updatedAt=i,this.instanceId=s,this.invitationId=u}static fromJSON(t){return new Kq(t.id,t.identifier,t.identifier_type,t.created_at,t.updated_at,t.instance_id,t.invitation_id)}},Dre=class Gq{static{a(this,"_APIKey")}constructor(t,r,n,o,i,s,u,l,d,p,f,m,y,g,h,v){this.id=t,this.type=r,this.name=n,this.subject=o,this.scopes=i,this.claims=s,this.revoked=u,this.revocationReason=l,this.expired=d,this.expiration=p,this.createdBy=f,this.description=m,this.lastUsedAt=y,this.createdAt=g,this.updatedAt=h,this.secret=v}static fromJSON(t){return new Gq(t.id,t.type,t.name,t.subject,t.scopes,t.claims,t.revoked,t.revocation_reason,t.expired,t.expiration,t.created_by,t.description,t.last_used_at,t.created_at,t.updated_at,t.secret)}},Mre=class Wq{static{a(this,"_BlocklistIdentifier")}constructor(t,r,n,o,i,s){this.id=t,this.identifier=r,this.identifierType=n,this.createdAt=o,this.updatedAt=i,this.instanceId=s}static fromJSON(t){return new Wq(t.id,t.identifier,t.identifier_type,t.created_at,t.updated_at,t.instance_id)}},qre=class Qq{static{a(this,"_SessionActivity")}constructor(t,r,n,o,i,s,u,l){this.id=t,this.isMobile=r,this.ipAddress=n,this.city=o,this.country=i,this.browserVersion=s,this.browserName=u,this.deviceType=l}static fromJSON(t){return new Qq(t.id,t.is_mobile,t.ip_address,t.city,t.country,t.browser_version,t.browser_name,t.device_type)}},Xq=class Yq{static{a(this,"_Session")}constructor(t,r,n,o,i,s,u,l,d,p,f,m=null){this.id=t,this.clientId=r,this.userId=n,this.status=o,this.lastActiveAt=i,this.expireAt=s,this.abandonAt=u,this.createdAt=l,this.updatedAt=d,this.lastActiveOrganizationId=p,this.latestActivity=f,this.actor=m}static fromJSON(t){return new Yq(t.id,t.client_id,t.user_id,t.status,t.last_active_at,t.expire_at,t.abandon_at,t.created_at,t.updated_at,t.last_active_organization_id,t.latest_activity&&qre.fromJSON(t.latest_activity),t.actor)}},Ure=class e2{static{a(this,"_Client")}constructor(t,r,n,o,i,s,u,l,d){this.id=t,this.sessionIds=r,this.sessions=n,this.signInId=o,this.signUpId=i,this.lastActiveSessionId=s,this.lastAuthenticationStrategy=u,this.createdAt=l,this.updatedAt=d}static fromJSON(t){return new e2(t.id,t.session_ids,t.sessions.map(r=>Xq.fromJSON(r)),t.sign_in_id,t.sign_up_id,t.last_active_session_id,t.last_authentication_strategy,t.created_at,t.updated_at)}},Lre=class t2{static{a(this,"_CnameTarget")}constructor(t,r,n){this.host=t,this.value=r,this.required=n}static fromJSON(t){return new t2(t.host,t.value,t.required)}},Fre=class r2{static{a(this,"_Cookies")}constructor(t){this.cookies=t}static fromJSON(t){return new r2(t.cookies)}},Bre=class n2{static{a(this,"_DeletedObject")}constructor(t,r,n,o){this.object=t,this.id=r,this.slug=n,this.deleted=o}static fromJSON(t){return new n2(t.object,t.id||null,t.slug||null,t.deleted)}},Jre=class o2{static{a(this,"_Domain")}constructor(t,r,n,o,i,s,u,l){this.id=t,this.name=r,this.isSatellite=n,this.frontendApiUrl=o,this.developmentOrigin=i,this.cnameTargets=s,this.accountsPortalUrl=u,this.proxyUrl=l}static fromJSON(t){return new o2(t.id,t.name,t.is_satellite,t.frontend_api_url,t.development_origin,t.cname_targets&&t.cname_targets.map(r=>Lre.fromJSON(r)),t.accounts_portal_url,t.proxy_url)}},Hre=class i2{static{a(this,"_Email")}constructor(t,r,n,o,i,s,u,l,d,p,f){this.id=t,this.fromEmailName=r,this.emailAddressId=n,this.toEmailAddress=o,this.subject=i,this.body=s,this.bodyPlain=u,this.status=l,this.slug=d,this.data=p,this.deliveredByClerk=f}static fromJSON(t){return new i2(t.id,t.from_email_name,t.email_address_id,t.to_email_address,t.subject,t.body,t.body_plain,t.status,t.slug,t.data,t.delivered_by_clerk)}},a2=class s2{static{a(this,"_IdentificationLink")}constructor(t,r){this.id=t,this.type=r}static fromJSON(t){return new s2(t.id,t.type)}},hd=class u2{static{a(this,"_Verification")}constructor(t,r,n=null,o=null,i=null,s=null,u=null){this.status=t,this.strategy=r,this.externalVerificationRedirectURL=n,this.attempts=o,this.expireAt=i,this.nonce=s,this.message=u}static fromJSON(t){return new u2(t.status,t.strategy,t.external_verification_redirect_url?new URL(t.external_verification_redirect_url):null,t.attempts,t.expire_at,t.nonce)}},c2=class l2{static{a(this,"_EmailAddress")}constructor(t,r,n,o){this.id=t,this.emailAddress=r,this.verification=n,this.linkedTo=o}static fromJSON(t){return new l2(t.id,t.email_address,t.verification&&hd.fromJSON(t.verification),t.linked_to.map(r=>a2.fromJSON(r)))}},Vre=class d2{static{a(this,"_ExternalAccount")}constructor(t,r,n,o,i,s,u,l,d,p,f,m={},y,g){this.id=t,this.provider=r,this.identificationId=n,this.externalId=o,this.approvedScopes=i,this.emailAddress=s,this.firstName=u,this.lastName=l,this.imageUrl=d,this.username=p,this.phoneNumber=f,this.publicMetadata=m,this.label=y,this.verification=g}static fromJSON(t){return new d2(t.id,t.provider,t.identification_id,t.provider_user_id,t.approved_scopes,t.email_address,t.first_name,t.last_name,t.image_url||"",t.username,t.phone_number,t.public_metadata,t.label,t.verification&&hd.fromJSON(t.verification))}},Zre=class p2{static{a(this,"_IdPOAuthAccessToken")}constructor(t,r,n,o,i,s,u,l,d,p,f){this.id=t,this.clientId=r,this.type=n,this.subject=o,this.scopes=i,this.revoked=s,this.revocationReason=u,this.expired=l,this.expiration=d,this.createdAt=p,this.updatedAt=f}static fromJSON(t){return new p2(t.id,t.client_id,t.type,t.subject,t.scopes,t.revoked,t.revocation_reason,t.expired,t.expiration,t.created_at,t.updated_at)}},Kre=class m2{static{a(this,"_Instance")}constructor(t,r,n){this.id=t,this.environmentType=r,this.allowedOrigins=n}static fromJSON(t){return new m2(t.id,t.environment_type,t.allowed_origins)}},Gre=class f2{static{a(this,"_InstanceRestrictions")}constructor(t,r,n,o,i){this.allowlist=t,this.blocklist=r,this.blockEmailSubaddresses=n,this.blockDisposableEmailDomains=o,this.ignoreDotsForGmailAddresses=i}static fromJSON(t){return new f2(t.allowlist,t.blocklist,t.block_email_subaddresses,t.block_disposable_email_domains,t.ignore_dots_for_gmail_addresses)}},Wre=class h2{static{a(this,"_InstanceSettings")}constructor(t,r,n,o,i){this.id=t,this.restrictedToAllowlist=r,this.fromEmailAddress=n,this.progressiveSignUp=o,this.enhancedEmailDeliverability=i}static fromJSON(t){return new h2(t.id,t.restricted_to_allowlist,t.from_email_address,t.progressive_sign_up,t.enhanced_email_deliverability)}},g2=class y2{static{a(this,"_Invitation")}constructor(t,r,n,o,i,s,u,l){this.id=t,this.emailAddress=r,this.publicMetadata=n,this.createdAt=o,this.updatedAt=i,this.status=s,this.url=u,this.revoked=l,this._raw=null}get raw(){return this._raw}static fromJSON(t){let r=new y2(t.id,t.email_address,t.public_metadata,t.created_at,t.updated_at,t.status,t.url,t.revoked);return r._raw=t,r}},Qe={AccountlessApplication:"accountless_application",ActorToken:"actor_token",AllowlistIdentifier:"allowlist_identifier",ApiKey:"api_key",BlocklistIdentifier:"blocklist_identifier",Client:"client",Cookies:"cookies",Domain:"domain",Email:"email",EmailAddress:"email_address",ExternalAccount:"external_account",FacebookAccount:"facebook_account",GoogleAccount:"google_account",Instance:"instance",InstanceRestrictions:"instance_restrictions",InstanceSettings:"instance_settings",Invitation:"invitation",Machine:"machine",MachineScope:"machine_scope",MachineSecretKey:"machine_secret_key",M2MToken:"machine_to_machine_token",JwtTemplate:"jwt_template",OauthAccessToken:"oauth_access_token",IdpOAuthAccessToken:"clerk_idp_oauth_access_token",OAuthApplication:"oauth_application",Organization:"organization",OrganizationDomain:"organization_domain",OrganizationInvitation:"organization_invitation",OrganizationMembership:"organization_membership",OrganizationSettings:"organization_settings",PhoneNumber:"phone_number",ProxyCheck:"proxy_check",RedirectUrl:"redirect_url",SamlAccount:"saml_account",SamlConnection:"saml_connection",Session:"session",SignInAttempt:"sign_in_attempt",SignInToken:"sign_in_token",SignUpAttempt:"sign_up_attempt",SmsMessage:"sms_message",User:"user",WaitlistEntry:"waitlist_entry",Web3Wallet:"web3_wallet",Token:"token",TotalCount:"total_count",TestingToken:"testing_token",Role:"role",Permission:"permission",BillingPayer:"commerce_payer",BillingPaymentAttempt:"commerce_payment_attempt",BillingSubscription:"commerce_subscription",BillingSubscriptionItem:"commerce_subscription_item",BillingPlan:"commerce_plan",Feature:"feature"},Qre=class ak{static{a(this,"_Machine")}constructor(t,r,n,o,i,s,u,l){this.id=t,this.name=r,this.instanceId=n,this.createdAt=o,this.updatedAt=i,this.scopedMachines=s,this.defaultTokenTtl=u,this.secretKey=l}static fromJSON(t){return new ak(t.id,t.name,t.instance_id,t.created_at,t.updated_at,t.scoped_machines.map(r=>new ak(r.id,r.name,r.instance_id,r.created_at,r.updated_at,[],r.default_token_ttl)),t.default_token_ttl,t.secret_key)}},Xre=class v2{static{a(this,"_MachineScope")}constructor(t,r,n,o){this.fromMachineId=t,this.toMachineId=r,this.createdAt=n,this.deleted=o}static fromJSON(t){return new v2(t.from_machine_id,t.to_machine_id,t.created_at,t.deleted)}},Yre=class _2{static{a(this,"_MachineSecretKey")}constructor(t){this.secret=t}static fromJSON(t){return new _2(t.secret)}},ene=class b2{static{a(this,"_M2MToken")}constructor(t,r,n,o,i,s,u,l,d,p,f){this.id=t,this.subject=r,this.scopes=n,this.claims=o,this.revoked=i,this.revocationReason=s,this.expired=u,this.expiration=l,this.createdAt=d,this.updatedAt=p,this.token=f}static fromJSON(t){return new b2(t.id,t.subject,t.scopes,t.claims,t.revoked,t.revocation_reason,t.expired,t.expiration,t.created_at,t.updated_at,t.token)}},tne=class S2{static{a(this,"_JwtTemplate")}constructor(t,r,n,o,i,s,u,l,d){this.id=t,this.name=r,this.claims=n,this.lifetime=o,this.allowedClockSkew=i,this.customSigningKey=s,this.signingAlgorithm=u,this.createdAt=l,this.updatedAt=d}static fromJSON(t){return new S2(t.id,t.name,t.claims,t.lifetime,t.allowed_clock_skew,t.custom_signing_key,t.signing_algorithm,t.created_at,t.updated_at)}},rne=class w2{static{a(this,"_OauthAccessToken")}constructor(t,r,n,o={},i,s,u,l){this.externalAccountId=t,this.provider=r,this.token=n,this.publicMetadata=o,this.label=i,this.scopes=s,this.tokenSecret=u,this.expiresAt=l}static fromJSON(t){return new w2(t.external_account_id,t.provider,t.token,t.public_metadata,t.label||"",t.scopes,t.token_secret,t.expires_at)}},nne=class x2{static{a(this,"_OAuthApplication")}constructor(t,r,n,o,i,s,u,l,d,p,f,m,y,g,h,v,S,b,w,k){this.id=t,this.instanceId=r,this.name=n,this.clientId=o,this.clientUri=i,this.clientImageUrl=s,this.dynamicallyRegistered=u,this.consentScreenEnabled=l,this.pkceRequired=d,this.isPublic=p,this.scopes=f,this.redirectUris=m,this.authorizeUrl=y,this.tokenFetchUrl=g,this.userInfoUrl=h,this.discoveryUrl=v,this.tokenIntrospectionUrl=S,this.createdAt=b,this.updatedAt=w,this.clientSecret=k}static fromJSON(t){return new x2(t.id,t.instance_id,t.name,t.client_id,t.client_uri,t.client_image_url,t.dynamically_registered,t.consent_screen_enabled,t.pkce_required,t.public,t.scopes,t.redirect_uris,t.authorize_url,t.token_fetch_url,t.user_info_url,t.discovery_url,t.token_introspection_url,t.created_at,t.updated_at,t.client_secret)}},T2=class E2{static{a(this,"_Organization")}constructor(t,r,n,o,i,s,u,l={},d={},p,f,m,y){this.id=t,this.name=r,this.slug=n,this.imageUrl=o,this.hasImage=i,this.createdAt=s,this.updatedAt=u,this.publicMetadata=l,this.privateMetadata=d,this.maxAllowedMemberships=p,this.adminDeleteEnabled=f,this.membersCount=m,this.createdBy=y,this._raw=null}get raw(){return this._raw}static fromJSON(t){let r=new E2(t.id,t.name,t.slug,t.image_url||"",t.has_image,t.created_at,t.updated_at,t.public_metadata,t.private_metadata,t.max_allowed_memberships,t.admin_delete_enabled,t.members_count,t.created_by);return r._raw=t,r}},one=class k2{static{a(this,"_OrganizationInvitation")}constructor(t,r,n,o,i,s,u,l,d,p,f={},m={},y){this.id=t,this.emailAddress=r,this.role=n,this.roleName=o,this.organizationId=i,this.createdAt=s,this.updatedAt=u,this.expiresAt=l,this.url=d,this.status=p,this.publicMetadata=f,this.privateMetadata=m,this.publicOrganizationData=y,this._raw=null}get raw(){return this._raw}static fromJSON(t){let r=new k2(t.id,t.email_address,t.role,t.role_name,t.organization_id,t.created_at,t.updated_at,t.expires_at,t.url,t.status,t.public_metadata,t.private_metadata,t.public_organization_data);return r._raw=t,r}},ine=class P2{static{a(this,"_OrganizationMembership")}constructor(t,r,n,o={},i={},s,u,l,d){this.id=t,this.role=r,this.permissions=n,this.publicMetadata=o,this.privateMetadata=i,this.createdAt=s,this.updatedAt=u,this.organization=l,this.publicUserData=d,this._raw=null}get raw(){return this._raw}static fromJSON(t){let r=new P2(t.id,t.role,t.permissions,t.public_metadata,t.private_metadata,t.created_at,t.updated_at,T2.fromJSON(t.organization),ane.fromJSON(t.public_user_data));return r._raw=t,r}},ane=class I2{static{a(this,"_OrganizationMembershipPublicUserData")}constructor(t,r,n,o,i,s){this.identifier=t,this.firstName=r,this.lastName=n,this.imageUrl=o,this.hasImage=i,this.userId=s}static fromJSON(t){return new I2(t.identifier,t.first_name,t.last_name,t.image_url,t.has_image,t.user_id)}},sne=class O2{static{a(this,"_OrganizationSettings")}constructor(t,r,n,o,i,s,u,l,d,p){this.enabled=t,this.maxAllowedMemberships=r,this.maxAllowedRoles=n,this.maxAllowedPermissions=o,this.creatorRole=i,this.adminDeleteEnabled=s,this.domainsEnabled=u,this.slugDisabled=l,this.domainsEnrollmentModes=d,this.domainsDefaultRole=p}static fromJSON(t){return new O2(t.enabled,t.max_allowed_memberships,t.max_allowed_roles,t.max_allowed_permissions,t.creator_role,t.admin_delete_enabled,t.domains_enabled,t.slug_disabled,t.domains_enrollment_modes,t.domains_default_role)}},A2=class C2{static{a(this,"_PhoneNumber")}constructor(t,r,n,o,i,s){this.id=t,this.phoneNumber=r,this.reservedForSecondFactor=n,this.defaultSecondFactor=o,this.verification=i,this.linkedTo=s}static fromJSON(t){return new C2(t.id,t.phone_number,t.reserved_for_second_factor,t.default_second_factor,t.verification&&hd.fromJSON(t.verification),t.linked_to.map(r=>a2.fromJSON(r)))}},une=class R2{static{a(this,"_ProxyCheck")}constructor(t,r,n,o,i,s,u){this.id=t,this.domainId=r,this.lastRunAt=n,this.proxyUrl=o,this.successful=i,this.createdAt=s,this.updatedAt=u}static fromJSON(t){return new R2(t.id,t.domain_id,t.last_run_at,t.proxy_url,t.successful,t.created_at,t.updated_at)}},cne=class $2{static{a(this,"_RedirectUrl")}constructor(t,r,n,o){this.id=t,this.url=r,this.createdAt=n,this.updatedAt=o}static fromJSON(t){return new $2(t.id,t.url,t.created_at,t.updated_at)}},lne=class N2{static{a(this,"_SamlConnection")}constructor(t,r,n,o,i,s,u,l,d,p,f,m,y,g,h,v,S,b,w,k,$){this.id=t,this.name=r,this.domain=n,this.organizationId=o,this.idpEntityId=i,this.idpSsoUrl=s,this.idpCertificate=u,this.idpMetadataUrl=l,this.idpMetadata=d,this.acsUrl=p,this.spEntityId=f,this.spMetadataUrl=m,this.active=y,this.provider=g,this.userCount=h,this.syncUserAttributes=v,this.allowSubdomains=S,this.allowIdpInitiated=b,this.createdAt=w,this.updatedAt=k,this.attributeMapping=$}static fromJSON(t){return new N2(t.id,t.name,t.domain,t.organization_id,t.idp_entity_id,t.idp_sso_url,t.idp_certificate,t.idp_metadata_url,t.idp_metadata,t.acs_url,t.sp_entity_id,t.sp_metadata_url,t.active,t.provider,t.user_count,t.sync_user_attributes,t.allow_subdomains,t.allow_idp_initiated,t.created_at,t.updated_at,t.attribute_mapping&&pne.fromJSON(t.attribute_mapping))}},dne=class z2{static{a(this,"_SamlAccountConnection")}constructor(t,r,n,o,i,s,u,l,d,p){this.id=t,this.name=r,this.domain=n,this.active=o,this.provider=i,this.syncUserAttributes=s,this.allowSubdomains=u,this.allowIdpInitiated=l,this.createdAt=d,this.updatedAt=p}static fromJSON(t){return new z2(t.id,t.name,t.domain,t.active,t.provider,t.sync_user_attributes,t.allow_subdomains,t.allow_idp_initiated,t.created_at,t.updated_at)}},pne=class j2{static{a(this,"_AttributeMapping")}constructor(t,r,n,o){this.userId=t,this.emailAddress=r,this.firstName=n,this.lastName=o}static fromJSON(t){return new j2(t.user_id,t.email_address,t.first_name,t.last_name)}},mne=class D2{static{a(this,"_SamlAccount")}constructor(t,r,n,o,i,s,u,l,d,p,f){this.id=t,this.provider=r,this.providerUserId=n,this.active=o,this.emailAddress=i,this.firstName=s,this.lastName=u,this.verification=l,this.samlConnection=d,this.lastAuthenticatedAt=p,this.enterpriseConnectionId=f}static fromJSON(t){return new D2(t.id,t.provider,t.provider_user_id,t.active,t.email_address,t.first_name,t.last_name,t.verification&&hd.fromJSON(t.verification),t.saml_connection&&dne.fromJSON(t.saml_connection),t.last_authenticated_at??null,t.enterprise_connection_id)}},fne=class M2{static{a(this,"_SignInToken")}constructor(t,r,n,o,i,s,u){this.id=t,this.userId=r,this.token=n,this.status=o,this.url=i,this.createdAt=s,this.updatedAt=u}static fromJSON(t){return new M2(t.id,t.user_id,t.token,t.status,t.url,t.created_at,t.updated_at)}},tk=class q2{static{a(this,"_SignUpAttemptVerification")}constructor(t,r){this.nextAction=t,this.supportedStrategies=r}static fromJSON(t){return new q2(t.next_action,t.supported_strategies)}},hne=class U2{static{a(this,"_SignUpAttemptVerifications")}constructor(t,r,n,o){this.emailAddress=t,this.phoneNumber=r,this.web3Wallet=n,this.externalAccount=o}static fromJSON(t){return new U2(t.email_address&&tk.fromJSON(t.email_address),t.phone_number&&tk.fromJSON(t.phone_number),t.web3_wallet&&tk.fromJSON(t.web3_wallet),t.external_account)}},gne=class L2{static{a(this,"_SignUpAttempt")}constructor(t,r,n,o,i,s,u,l,d,p,f,m,y,g,h,v,S,b,w,k,$,C){this.id=t,this.status=r,this.requiredFields=n,this.optionalFields=o,this.missingFields=i,this.unverifiedFields=s,this.verifications=u,this.username=l,this.emailAddress=d,this.phoneNumber=p,this.web3Wallet=f,this.passwordEnabled=m,this.firstName=y,this.lastName=g,this.customAction=h,this.externalId=v,this.createdSessionId=S,this.createdUserId=b,this.abandonAt=w,this.legalAcceptedAt=k,this.publicMetadata=$,this.unsafeMetadata=C}static fromJSON(t){return new L2(t.id,t.status,t.required_fields,t.optional_fields,t.missing_fields,t.unverified_fields,t.verifications?hne.fromJSON(t.verifications):null,t.username,t.email_address,t.phone_number,t.web3_wallet,t.password_enabled,t.first_name,t.last_name,t.custom_action,t.external_id,t.created_session_id,t.created_user_id,t.abandon_at,t.legal_accepted_at,t.public_metadata,t.unsafe_metadata)}},yne=class F2{static{a(this,"_SMSMessage")}constructor(t,r,n,o,i,s,u){this.id=t,this.fromPhoneNumber=r,this.toPhoneNumber=n,this.message=o,this.status=i,this.phoneNumberId=s,this.data=u}static fromJSON(t){return new F2(t.id,t.from_phone_number,t.to_phone_number,t.message,t.status,t.phone_number_id,t.data)}},vne=class B2{static{a(this,"_Token")}constructor(t){this.jwt=t}static fromJSON(t){return new B2(t.jwt)}},_ne=class J2{static{a(this,"_Web3Wallet")}constructor(t,r,n){this.id=t,this.web3Wallet=r,this.verification=n}static fromJSON(t){return new J2(t.id,t.web3_wallet,t.verification&&hd.fromJSON(t.verification))}},bne=class H2{static{a(this,"_User")}constructor(t,r,n,o,i,s,u,l,d,p,f,m,y,g,h,v,S,b,w,k={},$={},C={},A=[],R=[],O=[],z=[],D=[],X,G,B=null,te,ne,ae){this.id=t,this.passwordEnabled=r,this.totpEnabled=n,this.backupCodeEnabled=o,this.twoFactorEnabled=i,this.banned=s,this.locked=u,this.createdAt=l,this.updatedAt=d,this.imageUrl=p,this.hasImage=f,this.primaryEmailAddressId=m,this.primaryPhoneNumberId=y,this.primaryWeb3WalletId=g,this.lastSignInAt=h,this.externalId=v,this.username=S,this.firstName=b,this.lastName=w,this.publicMetadata=k,this.privateMetadata=$,this.unsafeMetadata=C,this.emailAddresses=A,this.phoneNumbers=R,this.web3Wallets=O,this.externalAccounts=z,this.samlAccounts=D,this.lastActiveAt=X,this.createOrganizationEnabled=G,this.createOrganizationsLimit=B,this.deleteSelfEnabled=te,this.legalAcceptedAt=ne,this.locale=ae,this._raw=null}get raw(){return this._raw}static fromJSON(t){let r=new H2(t.id,t.password_enabled,t.totp_enabled,t.backup_code_enabled,t.two_factor_enabled,t.banned,t.locked,t.created_at,t.updated_at,t.image_url,t.has_image,t.primary_email_address_id,t.primary_phone_number_id,t.primary_web3_wallet_id,t.last_sign_in_at,t.external_id,t.username,t.first_name,t.last_name,t.public_metadata,t.private_metadata,t.unsafe_metadata,(t.email_addresses||[]).map(n=>c2.fromJSON(n)),(t.phone_numbers||[]).map(n=>A2.fromJSON(n)),(t.web3_wallets||[]).map(n=>_ne.fromJSON(n)),(t.external_accounts||[]).map(n=>Vre.fromJSON(n)),(t.saml_accounts||[]).map(n=>mne.fromJSON(n)),t.last_active_at,t.create_organization_enabled,t.create_organizations_limit,t.delete_self_enabled,t.legal_accepted_at,t.locale);return r._raw=t,r}get primaryEmailAddress(){return this.emailAddresses.find(({id:t})=>t===this.primaryEmailAddressId)??null}get primaryPhoneNumber(){return this.phoneNumbers.find(({id:t})=>t===this.primaryPhoneNumberId)??null}get primaryWeb3Wallet(){return this.web3Wallets.find(({id:t})=>t===this.primaryWeb3WalletId)??null}get fullName(){return[this.firstName,this.lastName].join(" ").trim()||null}},Sne=class V2{static{a(this,"_WaitlistEntry")}constructor(t,r,n,o,i,s,u){this.id=t,this.emailAddress=r,this.status=n,this.invitation=o,this.createdAt=i,this.updatedAt=s,this.isLocked=u}static fromJSON(t){return new V2(t.id,t.email_address,t.status,t.invitation&&g2.fromJSON(t.invitation),t.created_at,t.updated_at,t.is_locked)}},Z2=class K2{static{a(this,"_Feature")}constructor(t,r,n,o,i){this.id=t,this.name=r,this.description=n,this.slug=o,this.avatarUrl=i}static fromJSON(t){return new K2(t.id,t.name,t.description??null,t.slug,t.avatar_url??null)}},G2=class W2{static{a(this,"_BillingPlan")}constructor(t,r,n,o,i,s,u,l,d,p,f,m,y){this.id=t,this.name=r,this.slug=n,this.description=o,this.isDefault=i,this.isRecurring=s,this.hasBaseFee=u,this.publiclyVisible=l,this.fee=d,this.annualFee=p,this.annualMonthlyFee=f,this.forPayerType=m,this.features=y}static fromJSON(t){let r=a(n=>n?{amount:n.amount,amountFormatted:n.amount_formatted,currency:n.currency,currencySymbol:n.currency_symbol}:null,"formatAmountJSON");return new W2(t.id,t.name,t.slug,t.description??null,t.is_default,t.is_recurring,t.has_base_fee,t.publicly_visible,r(t.fee),r(t.annual_fee),r(t.annual_monthly_fee),t.for_payer_type,(t.features??[]).map(n=>Z2.fromJSON(n)))}},Q2=class X2{static{a(this,"_BillingSubscriptionItem")}constructor(t,r,n,o,i,s,u,l,d,p,f,m,y,g,h,v,S){this.id=t,this.status=r,this.planPeriod=n,this.periodStart=o,this.nextPayment=i,this.amount=s,this.plan=u,this.planId=l,this.createdAt=d,this.updatedAt=p,this.periodEnd=f,this.canceledAt=m,this.pastDueAt=y,this.endedAt=g,this.payerId=h,this.isFreeTrial=v,this.lifetimePaid=S}static fromJSON(t){function r(n){return n&&{amount:n.amount,amountFormatted:n.amount_formatted,currency:n.currency,currencySymbol:n.currency_symbol}}return a(r,"formatAmountJSON"),new X2(t.id,t.status,t.plan_period,t.period_start,t.next_payment,r(t.amount)??void 0,t.plan?G2.fromJSON(t.plan):null,t.plan_id??null,t.created_at,t.updated_at,t.period_end,t.canceled_at,t.past_due_at,t.ended_at,t.payer_id,t.is_free_trial,r(t.lifetime_paid)??void 0)}},wne=class Y2{static{a(this,"_BillingSubscription")}constructor(t,r,n,o,i,s,u,l,d,p){this.id=t,this.status=r,this.payerId=n,this.createdAt=o,this.updatedAt=i,this.activeAt=s,this.pastDueAt=u,this.subscriptionItems=l,this.nextPayment=d,this.eligibleForFreeTrial=p}static fromJSON(t){let r=t.next_payment?{date:t.next_payment.date,amount:{amount:t.next_payment.amount.amount,amountFormatted:t.next_payment.amount.amount_formatted,currency:t.next_payment.amount.currency,currencySymbol:t.next_payment.amount.currency_symbol}}:null;return new Y2(t.id,t.status,t.payer_id,t.created_at,t.updated_at,t.active_at??null,t.past_due_at??null,(t.subscription_items??[]).map(n=>Q2.fromJSON(n)),r,t.eligible_for_free_trial??!1)}};function xne(e){let t,r;return Array.isArray(e)?{data:e.map(o=>rk(o))}:Tne(e)?(t=e.data.map(n=>rk(n)),r=e.total_count,{data:t,totalCount:r}):{data:rk(e)}}a(xne,"deserialize");function Tne(e){return!e||typeof e!="object"||!("data"in e)?!1:Array.isArray(e.data)&&e.data!==void 0}a(Tne,"isPaginated");function Ene(e){return e.total_count}a(Ene,"getCount");function rk(e){if(typeof e!="string"&&"object"in e&&"deleted"in e)return Bre.fromJSON(e);switch(e.object){case Qe.AccountlessApplication:return Nre.fromJSON(e);case Qe.ActorToken:return zre.fromJSON(e);case Qe.AllowlistIdentifier:return jre.fromJSON(e);case Qe.ApiKey:return Dre.fromJSON(e);case Qe.BlocklistIdentifier:return Mre.fromJSON(e);case Qe.Client:return Ure.fromJSON(e);case Qe.Cookies:return Fre.fromJSON(e);case Qe.Domain:return Jre.fromJSON(e);case Qe.EmailAddress:return c2.fromJSON(e);case Qe.Email:return Hre.fromJSON(e);case Qe.IdpOAuthAccessToken:return Zre.fromJSON(e);case Qe.Instance:return Kre.fromJSON(e);case Qe.InstanceRestrictions:return Gre.fromJSON(e);case Qe.InstanceSettings:return Wre.fromJSON(e);case Qe.Invitation:return g2.fromJSON(e);case Qe.JwtTemplate:return tne.fromJSON(e);case Qe.Machine:return Qre.fromJSON(e);case Qe.MachineScope:return Xre.fromJSON(e);case Qe.MachineSecretKey:return Yre.fromJSON(e);case Qe.M2MToken:return ene.fromJSON(e);case Qe.OauthAccessToken:return rne.fromJSON(e);case Qe.OAuthApplication:return nne.fromJSON(e);case Qe.Organization:return T2.fromJSON(e);case Qe.OrganizationInvitation:return one.fromJSON(e);case Qe.OrganizationMembership:return ine.fromJSON(e);case Qe.OrganizationSettings:return sne.fromJSON(e);case Qe.PhoneNumber:return A2.fromJSON(e);case Qe.ProxyCheck:return une.fromJSON(e);case Qe.RedirectUrl:return cne.fromJSON(e);case Qe.SamlConnection:return lne.fromJSON(e);case Qe.SignInToken:return fne.fromJSON(e);case Qe.SignUpAttempt:return gne.fromJSON(e);case Qe.Session:return Xq.fromJSON(e);case Qe.SmsMessage:return yne.fromJSON(e);case Qe.Token:return vne.fromJSON(e);case Qe.TotalCount:return Ene(e);case Qe.User:return bne.fromJSON(e);case Qe.WaitlistEntry:return Sne.fromJSON(e);case Qe.BillingPlan:return G2.fromJSON(e);case Qe.BillingSubscription:return wne.fromJSON(e);case Qe.BillingSubscriptionItem:return Q2.fromJSON(e);case Qe.Feature:return Z2.fromJSON(e);default:return e}}a(rk,"jsonToObject");function pd(e){return kne(a(async r=>{let{secretKey:n,machineSecretKey:o,useMachineSecretKey:i=!1,requireSecretKey:s=!0,apiUrl:u=Uq,apiVersion:l=Lq,userAgent:d=Fq,skipApiVersionInUrl:p=!1}=e,{path:f,method:m,queryParams:y,headerParams:g,bodyParams:h,formData:v,options:S}=r,{deepSnakecaseBodyParamKeys:b=!1}=S||{};s&&Bq(n);let w=p?ie(u,f):ie(u,l,f),k=new URL(w);if(y){let R=$q({...y});for(let[O,z]of Object.entries(R))z&&[z].flat().forEach(D=>k.searchParams.append(O,D))}let $=new Headers({"Clerk-API-Version":dk,[Ae.Headers.UserAgent]:d,...g}),C=Ae.Headers.Authorization;$.has(C)||(i&&o?$.set(C,`Bearer ${o}`):n&&$.set(C,`Bearer ${n}`));let A;try{if(v)A=await Go.fetch(k.href,{method:m,headers:$,body:v});else{$.set("Content-Type","application/json");let z=a(()=>{if(!(m!=="GET"&&h&&Object.keys(h).length>0))return null;let X=a(G=>$q(G,{deep:b}),"formatKeys");return{body:JSON.stringify(Array.isArray(h)?h.map(X):X(h))}},"buildBody");A=await Go.fetch(k.href,{method:m,headers:$,...z()})}let O=await(A?.headers&&A.headers?.get(Ae.Headers.ContentType)===Ae.ContentTypes.Json?A.json():A.text());return A.ok?{...xne(O),errors:null}:{data:null,errors:zq(O),status:A?.status,statusText:A?.statusText,clerkTraceId:nk(O,A?.headers),retryAfter:Nq(A?.headers)}}catch(R){return R instanceof Error?{data:null,errors:[{code:"unexpected_error",message:R.message||"Unexpected error"}],clerkTraceId:nk(R,A?.headers)}:{data:null,errors:zq(R),status:A?.status,statusText:A?.statusText,clerkTraceId:nk(R,A?.headers),retryAfter:Nq(A?.headers)}}},"requestFn"))}a(pd,"buildRequest");function nk(e,t){return e&&typeof e=="object"&&"clerk_trace_id"in e&&typeof e.clerk_trace_id=="string"?e.clerk_trace_id:t?.get("cf-ray")||""}a(nk,"getTraceId");function Nq(e){let t=e?.get("Retry-After");if(!t)return;let r=parseInt(t,10);if(!isNaN(r))return r}a(Nq,"getRetryAfter");function zq(e){if(e&&typeof e=="object"&&"errors"in e){let t=e.errors;return t.length>0?t.map(jE):[]}return[]}a(zq,"parseErrors");function kne(e){return async(...t)=>{let{data:r,errors:n,totalCount:o,status:i,statusText:s,clerkTraceId:u,retryAfter:l}=await e(...t);if(n){let d=new sh(s||"",{data:[],status:i,clerkTraceId:u,retryAfter:l});throw d.errors=n,d}return typeof o<"u"?{data:r,totalCount:o}:r}}a(kne,"withLegacyRequestReturn");function Ju(e){let t=pd(e);return{__experimental_accountlessApplications:new Fte(pd({...e,requireSecretKey:!1})),actorTokens:new Lte(t),allowlistIdentifiers:new Bte(t),apiKeys:new Jte(pd({...e,skipApiVersionInUrl:!0})),betaFeatures:new Vte(t),blocklistIdentifiers:new Zte(t),billing:new xre(t),clients:new Kte(t),domains:new Gte(t),emailAddresses:new Wte(t),idPOAuthAccessToken:new Xte(pd({...e,skipApiVersionInUrl:!0})),instance:new Yte(t),invitations:new ere(t),jwks:new ore(t),jwtTemplates:new ire(t),machines:new tre(t),m2m:new rre(pd({...e,skipApiVersionInUrl:!0,requireSecretKey:!1,useMachineSecretKey:!0})),oauthApplications:new sre(t),organizations:new are(t),phoneNumbers:new ure(t),proxyChecks:new lre(t),redirectUrls:new dre(t),samlConnections:new pre(t),sessions:new mre(t),signInTokens:new fre(t),signUps:new hre(t),testingTokens:new yre(t),users:new vre(t),waitlistEntries:new _re(t),webhooks:new bre(t)}}a(Ju,"createBackendApiClient");var pk="mt_",mk="oat_",fk="ak_",Pne=[pk,mk,fk];function sk(e){return Pne.some(t=>e.startsWith(t))}a(sk,"isMachineTokenByPrefix");function uk(e){if(e.startsWith(pk))return Ge.M2MToken;if(e.startsWith(mk))return Ge.OAuthToken;if(e.startsWith(fk))return Ge.ApiKey;throw new Error("Unknown machine token type")}a(uk,"getMachineTokenType");var eU=a((e,t)=>e?t==="any"?!0:(Array.isArray(t)?t:[t]).includes(e):!1,"isTokenTypeAccepted");var Sh=a(e=>()=>{let t={...e};return t.secretKey=(t.secretKey||"").substring(0,7),t.jwtKey=(t.jwtKey||"").substring(0,7),{...t}},"createDebug");function Ine(e,t,r){let{actor:n,sessionId:o,sessionStatus:i,userId:s,orgId:u,orgRole:l,orgSlug:d,orgPermissions:p,factorVerificationAge:f}=mq(r),m=Ju(e),y=Rne({sessionId:o,sessionToken:t,fetcher:a(async(g,h,v)=>(await m.sessions.getToken(g,h||"",v)).jwt,"fetcher")});return{tokenType:Ge.SessionToken,actor:n,sessionClaims:r,sessionId:o,sessionStatus:i,userId:s,orgId:u,orgRole:l,orgSlug:d,orgPermissions:p,factorVerificationAge:f,getToken:y,has:GE({orgId:u,orgRole:l,orgPermissions:p,userId:s,factorVerificationAge:f,features:r.fea||"",plans:r.pla||""}),debug:Sh({...e,sessionToken:t}),isAuthenticated:!0}}a(Ine,"signedInAuthObject");function tU(e,t){return{tokenType:Ge.SessionToken,sessionClaims:null,sessionId:null,sessionStatus:t??null,userId:null,actor:null,orgId:null,orgRole:null,orgSlug:null,orgPermissions:null,factorVerificationAge:null,getToken:a(()=>Promise.resolve(null),"getToken"),has:a(()=>!1,"has"),debug:Sh(e),isAuthenticated:!1}}a(tU,"signedOutAuthObject");function One(e,t,r,n){let o={id:r.id,subject:r.subject,getToken:a(()=>Promise.resolve(t),"getToken"),has:a(()=>!1,"has"),debug:Sh(n),isAuthenticated:!0};switch(e){case Ge.ApiKey:{let i=r;return{...o,tokenType:e,name:i.name,claims:i.claims,scopes:i.scopes,userId:i.subject.startsWith("user_")?i.subject:null,orgId:i.subject.startsWith("org_")?i.subject:null}}case Ge.M2MToken:{let i=r;return{...o,tokenType:e,claims:i.claims,scopes:i.scopes,machineId:i.subject}}case Ge.OAuthToken:{let i=r;return{...o,tokenType:e,scopes:i.scopes,userId:i.subject,clientId:i.clientId}}default:throw new Error(`Invalid token type: ${e}`)}}a(One,"authenticatedMachineObject");function Ane(e,t){let r={id:null,subject:null,scopes:null,has:a(()=>!1,"has"),getToken:a(()=>Promise.resolve(null),"getToken"),debug:Sh(t),isAuthenticated:!1};switch(e){case Ge.ApiKey:return{...r,tokenType:e,name:null,claims:null,scopes:null,userId:null,orgId:null};case Ge.M2MToken:return{...r,tokenType:e,claims:null,scopes:null,machineId:null};case Ge.OAuthToken:return{...r,tokenType:e,scopes:null,userId:null,clientId:null};default:throw new Error(`Invalid token type: ${e}`)}}a(Ane,"unauthenticatedMachineObject");function Cne(){return{isAuthenticated:!1,tokenType:null,getToken:a(()=>Promise.resolve(null),"getToken"),has:a(()=>!1,"has"),debug:a(()=>({}),"debug")}}a(Cne,"invalidTokenAuthObject");var Rne=a(e=>{let{fetcher:t,sessionToken:r,sessionId:n}=e||{};return async(o={})=>n?o.template||o.expiresInSeconds!==void 0?t(n,o.template,o.expiresInSeconds):r:null},"createGetToken");var fd={SignedIn:"signed-in",SignedOut:"signed-out",Handshake:"handshake"},sr={ClientUATWithoutSessionToken:"client-uat-but-no-session-token",DevBrowserMissing:"dev-browser-missing",DevBrowserSync:"dev-browser-sync",PrimaryRespondsToSyncing:"primary-responds-to-syncing",PrimaryDomainCrossOriginSync:"primary-domain-cross-origin-sync",SatelliteCookieNeedsSyncing:"satellite-needs-syncing",SessionTokenAndUATMissing:"session-token-and-uat-missing",SessionTokenMissing:"session-token-missing",SessionTokenExpired:"session-token-expired",SessionTokenIATBeforeClientUAT:"session-token-iat-before-client-uat",SessionTokenNBF:"session-token-nbf",SessionTokenIatInTheFuture:"session-token-iat-in-the-future",SessionTokenWithoutClientUAT:"session-token-but-no-client-uat",ActiveOrganizationMismatch:"active-organization-mismatch",TokenTypeMismatch:"token-type-mismatch",UnexpectedError:"unexpected-error"};function Sa(e){let{authenticateContext:t,headers:r=new Headers,token:n}=e,o=a((({treatPendingAsSignedOut:i=!0}={})=>{if(e.tokenType===Ge.SessionToken){let{sessionClaims:u}=e,l=Ine(t,n,u);return i&&l.sessionStatus==="pending"?tU(void 0,l.sessionStatus):l}let{machineData:s}=e;return One(e.tokenType,n,s,t)}),"toAuth");return{status:fd.SignedIn,reason:null,message:null,proxyUrl:t.proxyUrl||"",publishableKey:t.publishableKey||"",isSatellite:t.isSatellite||!1,domain:t.domain||"",signInUrl:t.signInUrl||"",signUpUrl:t.signUpUrl||"",afterSignInUrl:t.afterSignInUrl||"",afterSignUpUrl:t.afterSignUpUrl||"",isSignedIn:!0,isAuthenticated:!0,tokenType:e.tokenType,toAuth:o,headers:r,token:n}}a(Sa,"signedIn");function Kn(e){let{authenticateContext:t,headers:r=new Headers,reason:n,message:o="",tokenType:i}=e,s=a((()=>i===Ge.SessionToken?tU({...t,status:fd.SignedOut,reason:n,message:o}):Ane(i,{reason:n,message:o,headers:r})),"toAuth");return hk({status:fd.SignedOut,reason:n,message:o,proxyUrl:t.proxyUrl||"",publishableKey:t.publishableKey||"",isSatellite:t.isSatellite||!1,domain:t.domain||"",signInUrl:t.signInUrl||"",signUpUrl:t.signUpUrl||"",afterSignInUrl:t.afterSignInUrl||"",afterSignUpUrl:t.afterSignUpUrl||"",isSignedIn:!1,isAuthenticated:!1,tokenType:i,toAuth:s,headers:r,token:null})}a(Kn,"signedOut");function $ne(e,t,r="",n){return hk({status:fd.Handshake,reason:t,message:r,publishableKey:e.publishableKey||"",isSatellite:e.isSatellite||!1,domain:e.domain||"",proxyUrl:e.proxyUrl||"",signInUrl:e.signInUrl||"",signUpUrl:e.signUpUrl||"",afterSignInUrl:e.afterSignInUrl||"",afterSignUpUrl:e.afterSignUpUrl||"",isSignedIn:!1,isAuthenticated:!1,tokenType:Ge.SessionToken,toAuth:a(()=>null,"toAuth"),headers:n,token:null})}a($ne,"handshake");function Nne(){let e=Cne();return hk({status:fd.SignedOut,reason:sr.TokenTypeMismatch,message:"",proxyUrl:"",publishableKey:"",isSatellite:!1,domain:"",signInUrl:"",signUpUrl:"",afterSignInUrl:"",afterSignUpUrl:"",isSignedIn:!1,isAuthenticated:!1,tokenType:null,toAuth:a(()=>e,"toAuth"),headers:new Headers,token:null})}a(Nne,"signedOutInvalidToken");var hk=a(e=>{let t=new Headers(e.headers||{});if(e.message)try{t.set(Ae.Headers.AuthMessage,e.message)}catch{}if(e.reason)try{t.set(Ae.Headers.AuthReason,e.reason)}catch{}if(e.status)try{t.set(Ae.Headers.AuthStatus,e.status)}catch{}return e.headers=t,e},"withDebugHeaders"),zne=class extends URL{static{a(this,"ClerkUrl")}isCrossOrigin(e){return this.origin!==new URL(e.toString()).origin}},jq=a((...e)=>new zne(...e),"createClerkUrl"),Dq=class extends Request{static{a(this,"ClerkRequest")}constructor(e,t){let r=typeof e!="string"&&"url"in e?e.url:String(e);super(r,t||typeof e=="string"?void 0:e),this.clerkUrl=this.deriveUrlFromHeaders(this),this.cookies=this.parseCookies(this)}toJSON(){return{url:this.clerkUrl.href,method:this.method,headers:JSON.stringify(Object.fromEntries(this.headers)),clerkUrl:this.clerkUrl.toString(),cookies:JSON.stringify(Object.fromEntries(this.cookies))}}deriveUrlFromHeaders(e){let t=new URL(e.url),r=e.headers.get(Ae.Headers.ForwardedProto),n=e.headers.get(Ae.Headers.ForwardedHost),o=e.headers.get(Ae.Headers.Host),i=t.protocol,s=this.getFirstValueFromHeader(n)??o,u=this.getFirstValueFromHeader(r)??i?.replace(/[:/]/,""),l=s&&u?`${u}://${s}`:t.origin;return l===t.origin?jq(t):jq(t.pathname+t.search,l)}getFirstValueFromHeader(e){return e?.split(",")[0]}parseCookies(e){let t=(0,rU.parse)(this.decodeCookieValue(e.headers.get("cookie")||""));return new Map(Object.entries(t))}decodeCookieValue(e){return e&&e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}},jne=a((...e)=>e[0]instanceof Dq?e[0]:new Dq(...e),"createClerkRequest"),nU=a(e=>e.split(";")[0]?.split("=")[0],"getCookieName"),oU=a(e=>e.split(";")[0]?.split("=")[1],"getCookieValue"),wh={},ck=0;function lk(e){return wh[e]}a(lk,"getFromCache");function Dne(){return Object.values(wh)}a(Dne,"getCacheValues");function iU(e,t,r=!0){wh[e]=t,ck=r?Date.now():-1}a(iU,"setInCache");var Mne="-----BEGIN PUBLIC KEY-----",qne="-----END PUBLIC KEY-----",Une="MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA",Lne="IDAQAB";function aU(e){let{kid:t,pem:r}=e,n=`local-${t}`,o=lk(n);if(o)return o;if(!r)throw new wt({action:Tr.SetClerkJWTKey,message:"Missing local JWK.",reason:nt.LocalJWKMissing});let i=r.replace(/\r\n|\n|\r/g,"").replace(Mne,"").replace(qne,"").replace(Une,"").replace(Lne,"").replace(/\+/g,"-").replace(/\//g,"_"),s={kid:n,kty:"RSA",alg:"RS256",n:i,e:"AQAB"};return iU(n,s,!1),s}a(aU,"loadClerkJwkFromPem");async function sU(e){let{secretKey:t,apiUrl:r=Uq,apiVersion:n=Lq,kid:o,skipJwksCache:i}=e;if(i||Bne()||!lk(o)){if(!t)throw new wt({action:Tr.ContactSupport,message:"Failed to load JWKS from Clerk Backend or Frontend API.",reason:nt.RemoteJWKFailedToLoad});let u=a(()=>Fne(r,t,n),"fetcher"),{keys:l}=await ih(u);if(!l||!l.length)throw new wt({action:Tr.ContactSupport,message:"The JWKS endpoint did not contain any signing keys. Contact support@clerk.com.",reason:nt.RemoteJWKFailedToLoad});l.forEach(d=>iU(d.kid,d))}let s=lk(o);if(!s){let l=Dne().map(d=>d.kid).sort().join(", ");throw new wt({action:`Go to your Dashboard and validate your secret and public keys are correct. ${Tr.ContactSupport} if the issue persists.`,message:`Unable to find a signing key in JWKS that matches the kid='${o}' of the provided session token. Please make sure that the __session cookie or the HTTP authorization header contain a Clerk-generated session JWT. The following kid is available: ${l}`,reason:nt.JWKKidMismatch})}return s}a(sU,"loadClerkJWKFromRemote");async function Fne(e,t,r){if(!t)throw new wt({action:Tr.SetClerkSecretKey,message:"Missing Clerk Secret Key or API Key. Go to https://dashboard.clerk.com and get your key for your instance.",reason:nt.RemoteJWKFailedToLoad});let n=new URL(e);n.pathname=ie(n.pathname,r,"/jwks");let o=await Go.fetch(n.href,{headers:{Authorization:`Bearer ${t}`,"Clerk-API-Version":dk,"Content-Type":"application/json","User-Agent":Fq}});if(!o.ok){let i=await o.json(),s=Jne(i?.errors,rq.InvalidSecretKey);if(s){let u=nt.InvalidSecretKey;throw new wt({action:Tr.ContactSupport,message:s.message,reason:u})}throw new wt({action:Tr.ContactSupport,message:`Error loading Clerk JWKS from ${n.href} with code=${o.status}`,reason:nt.RemoteJWKFailedToLoad})}return o.json()}a(Fne,"fetchJWKSFromBAPI");function Bne(){if(ck===-1)return!1;let e=Date.now()-ck>=Rte*1e3;return e&&(wh={}),e}a(Bne,"cacheHasExpired");var Jne=a((e,t)=>e?e.find(r=>r.code===t):null,"getErrorObjectByCode");async function wa(e,t){let{data:r,errors:n}=wo(e);if(n)return{errors:n};let{header:o}=r,{kid:i}=o;try{let s;if(t.jwtKey)s=aU({kid:i,pem:t.jwtKey});else if(t.secretKey)s=await sU({...t,kid:i});else return{errors:[new wt({action:Tr.SetClerkJWTKey,message:"Failed to resolve JWK during verification.",reason:nt.JWKFailedToResolve})]};return await uq(e,{...t,key:s})}catch(s){return{errors:[s]}}}a(wa,"verifyToken");function gk(e,t,r){if(qE(t)){let n,o;switch(t.status){case 401:n=sd.InvalidSecretKey,o=t.errors[0]?.message||"Invalid secret key";break;case 404:n=sd.TokenInvalid,o=r;break;default:n=sd.UnexpectedError,o="Unexpected error"}return{data:void 0,tokenType:e,errors:[new uh({message:o,code:n,status:t.status})]}}return{data:void 0,tokenType:e,errors:[new uh({message:"Unexpected error",code:sd.UnexpectedError,status:t.status})]}}a(gk,"handleClerkAPIError");async function Hne(e,t){try{return{data:await Ju(t).m2m.verifyToken({token:e}),tokenType:Ge.M2MToken,errors:void 0}}catch(r){return gk(Ge.M2MToken,r,"Machine token not found")}}a(Hne,"verifyM2MToken");async function Vne(e,t){try{return{data:await Ju(t).idPOAuthAccessToken.verifyAccessToken(e),tokenType:Ge.OAuthToken,errors:void 0}}catch(r){return gk(Ge.OAuthToken,r,"OAuth token not found")}}a(Vne,"verifyOAuthToken");async function Zne(e,t){try{return{data:await Ju(t).apiKeys.verifySecret(e),tokenType:Ge.ApiKey,errors:void 0}}catch(r){return gk(Ge.ApiKey,r,"API key not found")}}a(Zne,"verifyAPIKey");async function Mq(e,t){if(e.startsWith(pk))return Hne(e,t);if(e.startsWith(mk))return Vne(e,t);if(e.startsWith(fk))return Zne(e,t);throw new Error("Unknown machine token type")}a(Mq,"verifyMachineAuthToken");async function Kne(e,{key:t}){let{data:r,errors:n}=wo(e);if(n)throw n[0];let{header:o,payload:i}=r,{typ:s,alg:u}=o;JE(s),HE(u);let{data:l,errors:d}=await VE(r,t);if(d)throw new wt({reason:nt.TokenVerificationFailed,message:`Error verifying handshake token. ${d[0]}`});if(!l)throw new wt({reason:nt.TokenInvalidSignature,message:"Handshake signature is invalid."});return i}a(Kne,"verifyHandshakeJwt");async function Gne(e,t){let{secretKey:r,apiUrl:n,apiVersion:o,jwksCacheTtlInMs:i,jwtKey:s,skipJwksCache:u}=t,{data:l,errors:d}=wo(e);if(d)throw d[0];let{kid:p}=l.header,f;if(s)f=aU({kid:p,pem:s});else if(r)f=await sU({secretKey:r,apiUrl:n,apiVersion:o,kid:p,jwksCacheTtlInMs:i,skipJwksCache:u});else throw new wt({action:Tr.SetClerkJWTKey,message:"Failed to resolve JWK during handshake verification.",reason:nt.JWKFailedToResolve});return Kne(e,{key:f})}a(Gne,"verifyHandshakeToken");var Wne=class{static{a(this,"HandshakeService")}constructor(e,t,r){this.authenticateContext=e,this.options=t,this.organizationMatcher=r}isRequestEligibleForHandshake(){let{accept:e,secFetchDest:t}=this.authenticateContext;return!!(t==="document"||t==="iframe"||!t&&e?.startsWith("text/html"))}buildRedirectToHandshake(e){if(!this.authenticateContext?.clerkUrl)throw new Error("Missing clerkUrl in authenticateContext");let t=this.removeDevBrowserFromURL(this.authenticateContext.clerkUrl),r=this.authenticateContext.frontendApi.startsWith("http")?this.authenticateContext.frontendApi:`https://${this.authenticateContext.frontendApi}`;r=r.replace(/\/+$/,"")+"/";let n=new URL("v1/client/handshake",r);n.searchParams.append("redirect_url",t?.href||""),n.searchParams.append("__clerk_api_version",dk),n.searchParams.append(Ae.QueryParameters.SuffixedCookies,this.authenticateContext.usesSuffixedCookies().toString()),n.searchParams.append(Ae.QueryParameters.HandshakeReason,e),n.searchParams.append(Ae.QueryParameters.HandshakeFormat,"nonce"),this.authenticateContext.instanceType==="development"&&this.authenticateContext.devBrowserToken&&n.searchParams.append(Ae.QueryParameters.DevBrowser,this.authenticateContext.devBrowserToken);let o=this.getOrganizationSyncTarget(this.authenticateContext.clerkUrl,this.organizationMatcher);return o&&this.getOrganizationSyncQueryParams(o).forEach((s,u)=>{n.searchParams.append(u,s)}),new Headers({[Ae.Headers.Location]:n.href})}async getCookiesFromHandshake(){let e=[];if(this.authenticateContext.handshakeNonce)try{let t=await this.authenticateContext.apiClient?.clients.getHandshakePayload({nonce:this.authenticateContext.handshakeNonce});t&&e.push(...t.directives)}catch(t){console.error("Clerk: HandshakeService: error getting handshake payload:",t)}else if(this.authenticateContext.handshakeToken){let t=await Gne(this.authenticateContext.handshakeToken,this.authenticateContext);t&&Array.isArray(t.handshake)&&e.push(...t.handshake)}return e}async resolveHandshake(){let e=new Headers({"Access-Control-Allow-Origin":"null","Access-Control-Allow-Credentials":"true"}),t=await this.getCookiesFromHandshake(),r="";if(t.forEach(i=>{e.append("Set-Cookie",i),nU(i).startsWith(Ae.Cookies.Session)&&(r=oU(i))}),this.authenticateContext.instanceType==="development"){let i=new URL(this.authenticateContext.clerkUrl);i.searchParams.delete(Ae.QueryParameters.Handshake),i.searchParams.delete(Ae.QueryParameters.HandshakeHelp),i.searchParams.delete(Ae.QueryParameters.DevBrowser),i.searchParams.delete(Ae.QueryParameters.HandshakeNonce),e.append(Ae.Headers.Location,i.toString()),e.set(Ae.Headers.CacheControl,"no-store")}if(r==="")return Kn({tokenType:Ge.SessionToken,authenticateContext:this.authenticateContext,reason:sr.SessionTokenMissing,message:"",headers:e});let{data:n,errors:[o]=[]}=await wa(r,this.authenticateContext);if(n)return Sa({tokenType:Ge.SessionToken,authenticateContext:this.authenticateContext,sessionClaims:n,headers:e,token:r});if(this.authenticateContext.instanceType==="development"&&(o?.reason===nt.TokenExpired||o?.reason===nt.TokenNotActiveYet||o?.reason===nt.TokenIatInTheFuture)){let i=new wt({action:o.action,message:o.message,reason:o.reason});i.tokenCarrier="cookie",console.error(`Clerk: Clock skew detected. This usually means that your system clock is inaccurate. Clerk will attempt to account for the clock skew in development.

To resolve this issue, make sure your system's clock is set to the correct time (e.g. turn off and on automatic time synchronization).

---

${i.getFullMessage()}`);let{data:s,errors:[u]=[]}=await wa(r,{...this.authenticateContext,clockSkewInMs:864e5});if(s)return Sa({tokenType:Ge.SessionToken,authenticateContext:this.authenticateContext,sessionClaims:s,headers:e,token:r});throw new Error(u?.message||"Clerk: Handshake retry failed.")}throw new Error(o?.message||"Clerk: Handshake failed.")}handleTokenVerificationErrorInDevelopment(e){if(e.reason===nt.TokenInvalidSignature){let t="Clerk: Handshake token verification failed due to an invalid signature. If you have switched Clerk keys locally, clear your cookies and try again.";throw new Error(t)}throw new Error(`Clerk: Handshake token verification failed: ${e.getFullMessage()}.`)}checkAndTrackRedirectLoop(e){if(this.authenticateContext.handshakeRedirectLoopCounter===3)return!0;let t=this.authenticateContext.handshakeRedirectLoopCounter+1,r=Ae.Cookies.RedirectCount;return e.append("Set-Cookie",`${r}=${t}; SameSite=Lax; HttpOnly; Max-Age=2`),!1}removeDevBrowserFromURL(e){let t=new URL(e);return t.searchParams.delete(Ae.QueryParameters.DevBrowser),t.searchParams.delete(Ae.QueryParameters.LegacyDevBrowser),t}getOrganizationSyncTarget(e,t){return t.findTarget(e)}getOrganizationSyncQueryParams(e){let t=new Map;return e.type==="personalAccount"&&t.set("organization_id",""),e.type==="organization"&&(e.organizationId&&t.set("organization_id",e.organizationId),e.organizationSlug&&t.set("organization_id",e.organizationSlug)),t}},Qne=class{static{a(this,"OrganizationMatcher")}constructor(e){this.organizationPattern=this.createMatcher(e?.organizationPatterns),this.personalAccountPattern=this.createMatcher(e?.personalAccountPatterns)}createMatcher(e){if(!e)return null;try{return WE(e)}catch(t){throw new Error(`Invalid pattern "${e}": ${t}`)}}findTarget(e){let t=this.findOrganizationTarget(e);return t||this.findPersonalAccountTarget(e)}findOrganizationTarget(e){if(!this.organizationPattern)return null;try{let t=this.organizationPattern(e.pathname);if(!t||!("params"in t))return null;let r=t.params;return r.id?{type:"organization",organizationId:r.id}:r.slug?{type:"organization",organizationSlug:r.slug}:null}catch(t){return console.error("Failed to match organization pattern:",t),null}}findPersonalAccountTarget(e){if(!this.personalAccountPattern)return null;try{return this.personalAccountPattern(e.pathname)?{type:"personalAccount"}:null}catch(t){return console.error("Failed to match personal account pattern:",t),null}}},xo={NonEligibleNoCookie:"non-eligible-no-refresh-cookie",NonEligibleNonGet:"non-eligible-non-get",InvalidSessionToken:"invalid-session-token",MissingApiClient:"missing-api-client",MissingSessionToken:"missing-session-token",MissingRefreshToken:"missing-refresh-token",ExpiredSessionTokenDecodeFailed:"expired-session-token-decode-failed",ExpiredSessionTokenMissingSidClaim:"expired-session-token-missing-sid-claim",FetchError:"fetch-error",UnexpectedSDKError:"unexpected-sdk-error",UnexpectedBAPIError:"unexpected-bapi-error"};function Xne(e,t){if(!e&&rh(t))throw new Error("Missing signInUrl. Pass a signInUrl for dev instances if an app is satellite")}a(Xne,"assertSignInUrlExists");function Yne(e){if(!e)throw new Error("Missing domain and proxyUrl. A satellite application needs to specify a domain or a proxyUrl")}a(Yne,"assertProxyUrlOrDomain");function eoe(e,t){let r;try{r=new URL(e)}catch{throw new Error("The signInUrl needs to have a absolute url format.")}if(r.origin===t)throw new Error("The signInUrl needs to be on a different origin than your satellite application.")}a(eoe,"assertSignInUrlFormatAndOrigin");function toe(e){if(!e.machineSecretKey&&!e.secretKey)throw new Error("Machine token authentication requires either a Machine secret key or a Clerk secret key. Ensure a Clerk secret key or Machine secret key is set.")}a(toe,"assertMachineSecretOrSecretKey");function roe(e,t,r){return e.reason===nt.TokenExpired&&!!t.refreshTokenInCookie&&r.method==="GET"}a(roe,"isRequestEligibleForRefresh");function qq(e,t,r){return eU(e,t)?null:Kn({tokenType:typeof t=="string"?t:e,authenticateContext:r,reason:sr.TokenTypeMismatch})}a(qq,"checkTokenTypeMismatch");function noe(e,t){let r=null,{tokenInHeader:n}=t;n&&(sk(n)?r=uk(n):r=Ge.SessionToken);let o=r??Ge.SessionToken;return eU(o,e)}a(noe,"isTokenTypeInAcceptedArray");var ooe=a((async(e,t)=>{let r=await qte(jne(e),t),n=t.acceptsToken??Ge.SessionToken;n!==Ge.M2MToken&&(Bq(r.secretKey),r.isSatellite&&(Xne(r.signInUrl,r.secretKey),r.signInUrl&&r.origin&&eoe(r.signInUrl,r.origin),Yne(r.proxyUrl||r.domain))),n===Ge.M2MToken&&toe(r);let o=new Qne(t.organizationSyncOptions),i=new Wne(r,{organizationSyncOptions:t.organizationSyncOptions},o);async function s(v){if(!t.apiClient)return{data:null,error:{message:"An apiClient is needed to perform token refresh.",cause:{reason:xo.MissingApiClient}}};let{sessionToken:S,refreshTokenInCookie:b}=v;if(!S)return{data:null,error:{message:"Session token must be provided.",cause:{reason:xo.MissingSessionToken}}};if(!b)return{data:null,error:{message:"Refresh token must be provided.",cause:{reason:xo.MissingRefreshToken}}};let{data:w,errors:k}=wo(S);if(!w||k)return{data:null,error:{message:"Unable to decode the expired session token.",cause:{reason:xo.ExpiredSessionTokenDecodeFailed,errors:k}}};if(!w?.payload?.sid)return{data:null,error:{message:"Expired session token is missing the `sid` claim.",cause:{reason:xo.ExpiredSessionTokenMissingSidClaim}}};try{return{data:(await t.apiClient.sessions.refreshSession(w.payload.sid,{format:"cookie",suffixed_cookies:v.usesSuffixedCookies(),expired_token:S||"",refresh_token:b||"",request_origin:v.clerkUrl.origin,request_headers:Object.fromEntries(Array.from(e.headers.entries()).map(([C,A])=>[C,[A]]))})).cookies,error:null}}catch($){return $?.errors?.length?$.errors[0].code==="unexpected_error"?{data:null,error:{message:"Fetch unexpected error",cause:{reason:xo.FetchError,errors:$.errors}}}:{data:null,error:{message:$.errors[0].code,cause:{reason:$.errors[0].code,errors:$.errors}}}:{data:null,error:{message:"Unexpected Server/BAPI error",cause:{reason:xo.UnexpectedBAPIError,errors:[$]}}}}}a(s,"refreshToken");async function u(v){let{data:S,error:b}=await s(v);if(!S||S.length===0)return{data:null,error:b};let w=new Headers,k="";S.forEach(A=>{w.append("Set-Cookie",A),nU(A).startsWith(Ae.Cookies.Session)&&(k=oU(A))});let{data:$,errors:C}=await wa(k,v);return C?{data:null,error:{message:"Clerk: unable to verify refreshed session token.",cause:{reason:xo.InvalidSessionToken,errors:C}}}:{data:{jwtPayload:$,sessionToken:k,headers:w},error:null}}a(u,"attemptRefresh");function l(v,S,b,w){if(!i.isRequestEligibleForHandshake())return Kn({tokenType:Ge.SessionToken,authenticateContext:v,reason:S,message:b});let k=w??i.buildRedirectToHandshake(S);return k.get(Ae.Headers.Location)&&k.set(Ae.Headers.CacheControl,"no-store"),i.checkAndTrackRedirectLoop(k)?(console.log("Clerk: Refreshing the session token resulted in an infinite redirect loop. This usually means that your Clerk instance keys do not match - make sure to copy the correct publishable and secret keys from the Clerk dashboard."),Kn({tokenType:Ge.SessionToken,authenticateContext:v,reason:S,message:b})):$ne(v,S,b,k)}a(l,"handleMaybeHandshakeStatus");function d(v,S){let b=o.findTarget(v.clerkUrl);if(!b)return null;let w=!1;if(b.type==="organization"&&(b.organizationSlug&&b.organizationSlug!==S.orgSlug&&(w=!0),b.organizationId&&b.organizationId!==S.orgId&&(w=!0)),b.type==="personalAccount"&&S.orgId&&(w=!0),!w)return null;if(v.handshakeRedirectLoopCounter>=3)return console.warn("Clerk: Organization activation handshake loop detected. This is likely due to an invalid organization ID or slug. Skipping organization activation."),null;let k=l(v,sr.ActiveOrganizationMismatch,"");return k.status!=="handshake"?null:k}a(d,"handleMaybeOrganizationSyncHandshake");async function p(){let{tokenInHeader:v}=r;try{let{data:S,errors:b}=await wa(v,r);if(b)throw b[0];return Sa({tokenType:Ge.SessionToken,authenticateContext:r,sessionClaims:S,headers:new Headers,token:v})}catch(S){return m(S,"header")}}a(p,"authenticateRequestWithTokenInHeader");async function f(){let v=r.clientUat,S=!!r.sessionTokenInCookie,b=!!r.devBrowserToken;if(r.handshakeNonce||r.handshakeToken)try{return await i.resolveHandshake()}catch(A){A instanceof wt&&r.instanceType==="development"?i.handleTokenVerificationErrorInDevelopment(A):console.error("Clerk: unable to resolve handshake:",A)}let w=r.isSatellite&&r.secFetchDest==="document";if(r.instanceType==="production"&&w)return l(r,sr.SatelliteCookieNeedsSyncing,"");if(r.instanceType==="development"&&w&&!r.clerkUrl.searchParams.has(Ae.QueryParameters.ClerkSynced)){let A=new URL(r.signInUrl);A.searchParams.append(Ae.QueryParameters.ClerkRedirectUrl,r.clerkUrl.toString());let R=new Headers({[Ae.Headers.Location]:A.toString()});return l(r,sr.SatelliteCookieNeedsSyncing,"",R)}let k=new URL(r.clerkUrl).searchParams.get(Ae.QueryParameters.ClerkRedirectUrl);if(r.instanceType==="development"&&!r.isSatellite&&k){let A=new URL(k);r.devBrowserToken&&A.searchParams.append(Ae.QueryParameters.DevBrowser,r.devBrowserToken),A.searchParams.append(Ae.QueryParameters.ClerkSynced,"true");let R=new Headers({[Ae.Headers.Location]:A.toString()});return l(r,sr.PrimaryRespondsToSyncing,"",R)}if(r.instanceType==="development"&&r.clerkUrl.searchParams.has(Ae.QueryParameters.DevBrowser))return l(r,sr.DevBrowserSync,"");if(r.instanceType==="development"&&!b)return l(r,sr.DevBrowserMissing,"");if(!v&&!S)return Kn({tokenType:Ge.SessionToken,authenticateContext:r,reason:sr.SessionTokenAndUATMissing});if(!v&&S)return l(r,sr.SessionTokenWithoutClientUAT,"");if(v&&!S)return l(r,sr.ClientUATWithoutSessionToken,"");let{data:$,errors:C}=wo(r.sessionTokenInCookie);if(C)return m(C[0],"cookie");if($.payload.iat<r.clientUat)return l(r,sr.SessionTokenIATBeforeClientUAT,"");try{let{data:A,errors:R}=await wa(r.sessionTokenInCookie,r);if(R)throw R[0];let O=Sa({tokenType:Ge.SessionToken,authenticateContext:r,sessionClaims:A,headers:new Headers,token:r.sessionTokenInCookie});if(!r.isSatellite&&r.secFetchDest==="document"&&r.isCrossOriginReferrer()&&!r.isKnownClerkReferrer()&&r.handshakeRedirectLoopCounter===0)return l(r,sr.PrimaryDomainCrossOriginSync,"Cross-origin request from satellite domain requires handshake");let D=O.toAuth();if(D.userId){let X=d(r,D);if(X)return X}return O}catch(A){return m(A,"cookie")}return Kn({tokenType:Ge.SessionToken,authenticateContext:r,reason:sr.UnexpectedError})}a(f,"authenticateRequestWithTokenInCookie");async function m(v,S){if(!(v instanceof wt))return Kn({tokenType:Ge.SessionToken,authenticateContext:r,reason:sr.UnexpectedError});let b;if(roe(v,r,e)){let{data:k,error:$}=await u(r);if(k)return Sa({tokenType:Ge.SessionToken,authenticateContext:r,sessionClaims:k.jwtPayload,headers:k.headers,token:k.sessionToken});$?.cause?.reason?b=$.cause.reason:b=xo.UnexpectedSDKError}else e.method!=="GET"?b=xo.NonEligibleNonGet:r.refreshTokenInCookie?b=null:b=xo.NonEligibleNoCookie;return v.tokenCarrier=S,[nt.TokenExpired,nt.TokenNotActiveYet,nt.TokenIatInTheFuture].includes(v.reason)?l(r,aoe({tokenError:v.reason,refreshError:b}),v.getFullMessage()):Kn({tokenType:Ge.SessionToken,authenticateContext:r,reason:v.reason,message:v.getFullMessage()})}a(m,"handleSessionTokenError");function y(v,S){return S instanceof uh?Kn({tokenType:v,authenticateContext:r,reason:S.code,message:S.getFullMessage()}):Kn({tokenType:v,authenticateContext:r,reason:sr.UnexpectedError})}a(y,"handleMachineError");async function g(){let{tokenInHeader:v}=r;if(!v)return m(new Error("Missing token in header"),"header");if(!sk(v))return Kn({tokenType:n,authenticateContext:r,reason:sr.TokenTypeMismatch,message:""});let S=uk(v),b=qq(S,n,r);if(b)return b;let{data:w,tokenType:k,errors:$}=await Mq(v,r);return $?y(k,$[0]):Sa({tokenType:k,authenticateContext:r,machineData:w,token:v})}a(g,"authenticateMachineRequestWithTokenInHeader");async function h(){let{tokenInHeader:v}=r;if(!v)return m(new Error("Missing token in header"),"header");if(sk(v)){let w=uk(v),k=qq(w,n,r);if(k)return k;let{data:$,tokenType:C,errors:A}=await Mq(v,r);return A?y(C,A[0]):Sa({tokenType:C,authenticateContext:r,machineData:$,token:v})}let{data:S,errors:b}=await wa(v,r);return b?m(b[0],"header"):Sa({tokenType:Ge.SessionToken,authenticateContext:r,sessionClaims:S,token:v})}return a(h,"authenticateAnyRequestWithTokenInHeader"),Array.isArray(n)&&!noe(n,r)?Nne():r.tokenInHeader?n==="any"?h():n===Ge.SessionToken?p():g():n===Ge.OAuthToken||n===Ge.ApiKey||n===Ge.M2MToken?Kn({tokenType:n,authenticateContext:r,reason:"No token in header"}):f()}),"authenticateRequest"),ioe=a(e=>{let{isSignedIn:t,isAuthenticated:r,proxyUrl:n,reason:o,message:i,publishableKey:s,isSatellite:u,domain:l}=e;return{isSignedIn:t,isAuthenticated:r,proxyUrl:n,reason:o,message:i,publishableKey:s,isSatellite:u,domain:l}},"debugRequestState"),aoe=a(({tokenError:e,refreshError:t})=>{switch(e){case nt.TokenExpired:return`${sr.SessionTokenExpired}-refresh-${t}`;case nt.TokenNotActiveYet:return sr.SessionTokenNBF;case nt.TokenIatInTheFuture:return sr.SessionTokenIatInTheFuture;default:return sr.UnexpectedError}},"convertTokenVerificationErrorReasonToAuthErrorReason"),soe={secretKey:"",machineSecretKey:"",jwtKey:"",apiUrl:void 0,apiVersion:void 0,proxyUrl:"",publishableKey:"",isSatellite:!1,domain:"",audience:""};function uU(e){let t=_q(soe,e.options),r=e.apiClient;return{authenticateRequest:a((o,i={})=>{let{apiUrl:s,apiVersion:u}=t,l=_q(t,i);return ooe(o,{...i,...l,apiUrl:s,apiVersion:u,apiClient:r})},"authenticateRequest2"),debugRequestState:ioe}}a(uU,"createAuthenticateRequest");function cU(e){return async(...t)=>{let{data:r,errors:n}=await e(...t);if(n)throw n[0];return r}}a(cU,"withLegacyReturn");function uoe(e){return e?e.replace(/([-_][a-z])/g,t=>t.toUpperCase().replace(/-|_/,"")):""}a(uoe,"snakeToCamel");function coe(e){return e?e.replace(/[A-Z]/g,t=>`_${t.toLowerCase()}`):""}a(coe,"camelToSnake");var lU=a(e=>{let t=a(r=>{if(!r)return r;if(Array.isArray(r))return r.map(i=>typeof i=="object"||Array.isArray(i)?t(i):i);let n={...r},o=Object.keys(n);for(let i of o){let s=e(i.toString());s!==i&&(n[s]=n[i],delete n[i]),typeof n[s]=="object"&&(n[s]=t(n[s]))}return n},"deepTransform");return t},"createDeepObjectTransformer"),XFe=lU(coe),YFe=lU(uoe);function yk(e){if(typeof e=="boolean")return e;if(e==null)return!1;if(typeof e=="string"){if(e.toLowerCase()==="true")return!0;if(e.toLowerCase()==="false")return!1}let t=parseInt(e,10);return isNaN(t)?!1:t>0}a(yk,"isTruthy");var loe=864e5,doe=class{static{a(this,"TelemetryEventThrottler")}#e;#t=loe;constructor(e){this.#e=e}isEventThrottled(e){let t=Date.now(),r=this.#r(e),n=this.#e.getItem(r);return n?t-n>this.#t?(this.#e.setItem(r,t),!1):!0:(this.#e.setItem(r,t),!1)}#r(e){let{sk:t,pk:r,payload:n,...o}=e,i={...n,...o};return JSON.stringify(Object.keys({...n,...o}).sort().map(s=>i[s]))}},dU=class{static{a(this,"LocalStorageThrottlerCache")}#e="clerk_telemetry_throttler";getItem(e){return this.#t()[e]}setItem(e,t){try{let r=this.#t();r[e]=t,localStorage.setItem(this.#e,JSON.stringify(r))}catch(r){r instanceof DOMException&&(r.name==="QuotaExceededError"||r.name==="NS_ERROR_DOM_QUOTA_REACHED")&&localStorage.length>0&&localStorage.removeItem(this.#e)}}removeItem(e){try{let t=this.#t();delete t[e],localStorage.setItem(this.#e,JSON.stringify(t))}catch{}}#t(){try{let e=localStorage.getItem(this.#e);return e?JSON.parse(e):{}}catch{return{}}}static isSupported(){return typeof window<"u"&&!!window.localStorage}},poe=class{static{a(this,"InMemoryThrottlerCache")}#e=new Map;#t=1e4;getItem(e){if(this.#e.size>this.#t){this.#e.clear();return}return this.#e.get(e)}setItem(e,t){this.#e.set(e,t)}removeItem(e){this.#e.delete(e)}};function moe(e){return typeof e=="object"&&e!==null&&"constructor"in e&&typeof e.constructor=="function"}a(moe,"isWindowClerkWithMetadata");var foe=new Set(["error","warn","info","debug","trace"]),vk={samplingRate:1,maxBufferSize:5,endpoint:"https://clerk-telemetry.com"},_k=class{static{a(this,"TelemetryCollector")}#e;#t;#r={};#i=[];#n=null;constructor(e){this.#e={maxBufferSize:e.maxBufferSize??vk.maxBufferSize,samplingRate:e.samplingRate??vk.samplingRate,perEventSampling:e.perEventSampling??!0,disabled:e.disabled??!1,debug:e.debug??!1,endpoint:vk.endpoint},!e.clerkVersion&&typeof window>"u"?this.#r.clerkVersion="":this.#r.clerkVersion=e.clerkVersion??"",this.#r.sdk=e.sdk,this.#r.sdkVersion=e.sdkVersion,this.#r.publishableKey=e.publishableKey??"";let t=va(e.publishableKey);t&&(this.#r.instanceType=t.instanceType),e.secretKey&&(this.#r.secretKey=e.secretKey.substring(0,16)),this.#t=new doe(dU.isSupported()?new dU:new poe)}get isEnabled(){return!(this.#r.instanceType!=="development"||this.#e.disabled||typeof process<"u"&&process.env&&yk(process.env.CLERK_TELEMETRY_DISABLED)||typeof window<"u"&&window?.navigator?.webdriver)}get isDebug(){return this.#e.debug||typeof process<"u"&&process.env&&yk(process.env.CLERK_TELEMETRY_DEBUG)}record(e){try{let t=this.#s(e.event,e.payload);if(this.#p(t.event,t),!this.#o(t,e.eventSamplingRate))return;this.#i.push({kind:"event",value:t}),this.#u()}catch(t){console.error("[clerk/telemetry] Error recording telemetry event",t)}}recordLog(e){try{if(!this.#d(e))return;let t=typeof e?.level=="string"&&foe.has(e.level),r=typeof e?.message=="string"&&e.message.trim().length>0,n=null,o=e?.timestamp;if(typeof o=="number"||typeof o=="string"){let u=new Date(o);Number.isNaN(u.getTime())||(n=u)}if(!t||!r||n===null){this.isDebug&&typeof console<"u"&&console.warn("[clerk/telemetry] Dropping invalid telemetry log entry",{levelIsValid:t,messageIsValid:r,timestampIsValid:n!==null});return}let i=this.#l(),s={sdk:i.name,sdkv:i.version,cv:this.#r.clerkVersion??"",lvl:e.level,msg:e.message,ts:n.toISOString(),pk:this.#r.publishableKey||null,payload:this.#m(e.context)};this.#i.push({kind:"log",value:s}),this.#u()}catch(t){console.error("[clerk/telemetry] Error recording telemetry log entry",t)}}#o(e,t){return this.isEnabled&&!this.isDebug&&this.#c(e,t)}#d(e){return!0}#c(e,t){let r=Math.random();return r<=this.#e.samplingRate&&(this.#e.perEventSampling===!1||typeof t>"u"||r<=t)?!this.#t.isEventThrottled(e):!1}#u(){if(typeof window>"u"){this.#a();return}if(this.#i.length>=this.#e.maxBufferSize){this.#n&&(typeof cancelIdleCallback<"u"?cancelIdleCallback(Number(this.#n)):clearTimeout(Number(this.#n))),this.#a();return}this.#n||("requestIdleCallback"in window?this.#n=requestIdleCallback(()=>{this.#a(),this.#n=null}):this.#n=setTimeout(()=>{this.#a(),this.#n=null},0))}#a(){let e=[...this.#i];if(this.#i=[],this.#n=null,e.length===0)return;let t=e.filter(n=>n.kind==="event").map(n=>n.value),r=e.filter(n=>n.kind==="log").map(n=>n.value);if(t.length>0){let n=new URL("/v1/event",this.#e.endpoint);fetch(n,{headers:{"Content-Type":"application/json"},keepalive:!0,method:"POST",body:JSON.stringify({events:t})}).catch(()=>{})}if(r.length>0){let n=new URL("/v1/logs",this.#e.endpoint);fetch(n,{headers:{"Content-Type":"application/json"},keepalive:!0,method:"POST",body:JSON.stringify({logs:r})}).catch(()=>{})}}#p(e,t){this.isDebug&&(typeof console.groupCollapsed<"u"?(console.groupCollapsed("[clerk/telemetry]",e),console.log(t),console.groupEnd()):console.log("[clerk/telemetry]",e,t))}#l(){let e={name:this.#r.sdk,version:this.#r.sdkVersion};if(typeof window<"u"){let t=window;if(t.Clerk){let r=t.Clerk;if(moe(r)&&r.constructor.sdkMetadata){let{name:n,version:o}=r.constructor.sdkMetadata;n!==void 0&&(e.name=n),o!==void 0&&(e.version=o)}}}return e}#s(e,t){let r=this.#l();return{event:e,cv:this.#r.clerkVersion??"",it:this.#r.instanceType??"",sdk:r.name,sdkv:r.version,...this.#r.publishableKey?{pk:this.#r.publishableKey}:{},...this.#r.secretKey?{sk:this.#r.secretKey}:{},payload:t}}#m(e){if(e===null||typeof e>"u"||typeof e!="object")return null;try{let t=JSON.parse(JSON.stringify(e));return t&&typeof t=="object"&&!Array.isArray(t)?t:null}catch{return null}}};var bk=cU(wa);function Hu(e){let t={...e},r=Ju(t),n=uU({options:t,apiClient:r}),o=new _k({publishableKey:t.publishableKey,secretKey:t.secretKey,samplingRate:.1,...t.sdkMetadata?{sdk:t.sdkMetadata.name,sdkVersion:t.sdkMetadata.version}:{},...t.telemetry||{}});return{...r,...n,telemetry:o}}a(Hu,"createClerkClient");var xh=a(e=>e,"createMiddleware");rn();function Sk(){let e=process.env.CLERK_SECRET_KEY,t=process.env.VITE_CLERK_PUBLISHABLE_KEY;if(!e)throw new Error("CLERK_SECRET_KEY environment variable is not set");return{secretKey:e,publishableKey:t}}a(Sk,"getClerkConfig");function pU(){let{secretKey:e}=Sk();return Hu({secretKey:e})}a(pU,"getClerkClient");var mU=xh(async(e,t)=>{let r=e.req.header("Authorization"),n=r?.startsWith("Bearer ")?r.replace("Bearer ","").trim():null,o=e.get("requestId")||"unknown",i=e.req.header("X-Forwarded-For")||e.req.header("X-Real-IP")||"unknown";if(!n)return N.warn("Authentication failed: No token provided",{ip:i,method:e.req.method,path:e.req.path,requestId:o,userAgent:e.req.header("User-Agent")}),e.json({code:"AUTH_REQUIRED",error:"Authentication required"},401);try{let{secretKey:s}=Sk(),u=pU(),l=await bk(n,{secretKey:s});if(!l?.sub)return N.warn("Authentication failed: Invalid token",{ip:i,method:e.req.method,path:e.req.path,requestId:o,userAgent:e.req.header("User-Agent")}),e.json({code:"INVALID_TOKEN",error:"Invalid authentication token"},401);let d=l.sub,p=await u.users.getUser(d),m={db:await Qf(d),clerkUser:p,user:{id:p.id,email:p.emailAddresses[0]?.emailAddress||"",fullName:`${p.firstName||""} ${p.lastName||""}`.trim()||null,role:p.publicMetadata?.role,metadata:p.publicMetadata}};e.set("auth",m),N.info("Authentication successful",{ip:i,method:e.req.method,path:e.req.path,requestId:o,userId:p.id}),await t()}catch(s){let u=s instanceof Error?s.message:"Unknown error",l=s instanceof Error?s.stack:void 0;return u.includes("token")||u.includes("Token")||u.includes("authentication")||u.includes("unauthorized")||u.includes("user not found")||u.includes("Invalid user ID")?(N.warn("Authentication failed",{error:u,ip:i,method:e.req.method,path:e.req.path,requestId:o,userAgent:e.req.header("User-Agent")}),e.json({code:"AUTH_ERROR",error:"Authentication failed"},401)):u.includes("connection")||u.includes("timeout")||u.includes("ECONNREFUSED")||u.includes("database")||u.includes("DATABASE_URL")?(N.error("Database connection error during authentication",{error:u,ip:i,method:e.req.method,path:e.req.path,requestId:o,stack:l,userAgent:e.req.header("User-Agent")}),e.json({code:"SERVICE_UNAVAILABLE",error:"Database service unavailable. Please try again later."},503)):u.includes("CLERK_SECRET_KEY")||u.includes("environment variable")||u.includes("not set")?(N.error("Configuration error during authentication",{error:u,ip:i,method:e.req.method,path:e.req.path,requestId:o,stack:l,userAgent:e.req.header("User-Agent")}),e.json({code:"CONFIGURATION_ERROR",error:"Server configuration error"},500)):(N.error("Unexpected authentication error",{error:u,ip:i,method:e.req.method,path:e.req.path,requestId:o,stack:l,userAgent:e.req.header("User-Agent")}),e.json({code:"INTERNAL_ERROR",error:"An unexpected error occurred during authentication"},500))}}),hoe=xh(async(e,t)=>{let r=e.req.header("Authorization"),n=r?.startsWith("Bearer ")?r.replace("Bearer ","").trim():null;if(!n){await t();return}try{let{secretKey:o}=Sk(),i=pU(),s=await bk(n,{secretKey:o});if(!s?.sub){await t();return}let u=s.sub,l=await i.users.getUser(u),p={db:await Qf(u),clerkUser:l,user:{id:l.id,email:l.emailAddresses[0]?.emailAddress||"",fullName:`${l.firstName||""} ${l.lastName||""}`.trim()||null,role:l.publicMetadata?.role,metadata:l.publicMetadata}};e.set("auth",p),await t()}catch{await t()}});function fU(e){let{windowMs:t,max:r,message:n="Too many requests"}=e,o=new Map;return xh(async(i,s)=>{let l=i.get("auth")?.user.id||i.req.header("X-Forwarded-For")||i.req.header("X-Real-IP")||"unknown",d=Date.now(),p=o.get(l);if(!p||d>p.resetTime)o.set(l,{count:1,resetTime:d+t});else if(p.count++,p.count>r){let m=Math.ceil((p.resetTime-d)/1e3);return i.json({code:"RATE_LIMIT_EXCEEDED",details:{limit:r,windowMs:t,retryAfter:m},error:n},429)}let f=o.get(l);f&&(i.header("X-RateLimit-Limit",r.toString()),i.header("X-RateLimit-Remaining",Math.max(0,r-f.count).toString()),i.header("X-RateLimit-Reset",new Date(f.resetTime).toISOString())),await s()})}a(fU,"clerkUserRateLimitMiddleware");var fe=mU;var xe=fU;var wk=new Oe;wk.get("/",fe,async e=>{let t=e.get("requestId");try{let{user:r}=e.get("auth"),n=r.id;if(!n)return e.json({code:"UNAUTHORIZED",error:"User not authenticated"},401);let o=e.req.query("refresh")==="true",s=await new eh(n).getContext(o);return N.info("Financial context retrieved",{forceRefresh:o,requestId:t,userId:n}),e.json({context:s,formatted:{alertsBlock:LM(s.pendingAlerts),financialBlock:UM(s)},meta:{requestId:t,retrievedAt:new Date().toISOString()}})}catch(r){return N.error("Error fetching financial context",{error:r instanceof Error?r.message:"Unknown error",requestId:t}),e.json({code:"CONTEXT_ERROR",error:r instanceof Error?r.message:"Failed to fetch context"},500)}});var goe=/^[\w!#$%&'*.^`|~+-]+$/,yoe=/^[ !#-:<-[\]-~]*$/,xk=a((e,t)=>{if(t&&e.indexOf(t)===-1)return{};let r=e.trim().split(";"),n={};for(let o of r){o=o.trim();let i=o.indexOf("=");if(i===-1)continue;let s=o.substring(0,i).trim();if(t&&t!==s||!goe.test(s))continue;let u=o.substring(i+1).trim();if(u.startsWith('"')&&u.endsWith('"')&&(u=u.slice(1,-1)),yoe.test(u)&&(n[s]=u.indexOf("%")!==-1?au(u,ml):u,t))break}return n},"parse");var hU=a((e,t,r)=>{let n=e.req.raw.headers.get("Cookie");if(typeof t=="string"){if(!n)return;let i=t;return r==="secure"?i="__Secure-"+t:r==="host"&&(i="__Host-"+t),xk(n,i)[i]}return n?xk(n):{}},"getCookie");var gU=a((e,t)=>new Response(e,{headers:{"Content-Type":t}}).formData(),"bufferToFormData");var voe=/^application\/([a-z-\.]+\+)?json(;\s*[a-zA-Z0-9\-]+\=([^;]+))*$/,_oe=/^multipart\/form-data(;\s?boundary=[a-zA-Z0-9'"()+_,\-./:=?]+)?$/,boe=/^application\/x-www-form-urlencoded(;\s*[a-zA-Z0-9\-]+\=([^;]+))*$/,Tk=a((e,t)=>async(r,n)=>{let o={},i=r.req.header("Content-Type");switch(e){case"json":if(!i||!voe.test(i))break;try{o=await r.req.json()}catch{let u="Malformed JSON in request body";throw new Jm(400,{message:u})}break;case"form":{if(!i||!(_oe.test(i)||boe.test(i)))break;let u;if(r.req.bodyCache.formData)u=await r.req.bodyCache.formData;else try{let d=await r.req.arrayBuffer();u=await gU(d,i),r.req.bodyCache.formData=u}catch(d){let p="Malformed FormData request.";throw p+=d instanceof Error?` ${d.message}`:` ${String(d)}`,new Jm(400,{message:p})}let l={};u.forEach((d,p)=>{p.endsWith("[]")?(l[p]??=[]).push(d):Array.isArray(l[p])?l[p].push(d):p in l?l[p]=[l[p],d]:l[p]=d}),o=l;break}case"query":o=Object.fromEntries(Object.entries(r.req.queries()).map(([u,l])=>l.length===1?[u,l[0]]:[u,l]));break;case"param":o=r.req.param();break;case"header":o=r.req.header();break;case"cookie":o=hU(r);break}let s=await t(o,r);return s instanceof Response?s:(r.req.addValidatedData(e,s),await n())},"validator");function Soe(e,t,r,n){return Tk(e,async(o,i)=>{let s=o;if(e==="header"&&"_def"in t||e==="header"&&"_zod"in t){let l=Object.keys("in"in t?t.in.shape:t.shape),d=Object.fromEntries(l.map(p=>[p.toLowerCase(),p]));s=Object.fromEntries(Object.entries(o).map(([p,f])=>[d[p]||p,f]))}let u=n&&n.validationFunction?await n.validationFunction(t,s):await t.safeParseAsync(s);if(r){let l=await r({data:s,...u,target:e},i);if(l){if(l instanceof Response)return l;if("response"in l)return l.response}}return u.success?u.data:i.json(u,400)})}a(Soe,"zValidatorFunction");var Ve=Soe;var c={};_n(c,{$brand:()=>Th,$input:()=>NO,$output:()=>$O,NEVER:()=>Ek,TimePrecision:()=>MO,ZodAny:()=>oL,ZodArray:()=>uL,ZodBase64:()=>tC,ZodBase64URL:()=>rC,ZodBigInt:()=>op,ZodBigIntFormat:()=>iC,ZodBoolean:()=>np,ZodCIDRv4:()=>YA,ZodCIDRv6:()=>eC,ZodCUID:()=>VA,ZodCUID2:()=>ZA,ZodCatch:()=>PL,ZodCodec:()=>hC,ZodCustom:()=>Og,ZodCustomStringFormat:()=>tp,ZodDate:()=>kg,ZodDefault:()=>SL,ZodDiscriminatedUnion:()=>cL,ZodE164:()=>nC,ZodEmail:()=>BA,ZodEmoji:()=>JA,ZodEnum:()=>Yd,ZodError:()=>Xae,ZodFile:()=>vL,ZodFirstPartyTypeKind:()=>gC,ZodFunction:()=>jL,ZodGUID:()=>Sg,ZodIPv4:()=>QA,ZodIPv6:()=>XA,ZodISODate:()=>yg,ZodISODateTime:()=>gg,ZodISODuration:()=>_g,ZodISOTime:()=>vg,ZodIntersection:()=>lL,ZodIssueCode:()=>pue,ZodJWT:()=>oC,ZodKSUID:()=>WA,ZodLazy:()=>$L,ZodLiteral:()=>yL,ZodMAC:()=>QU,ZodMap:()=>hL,ZodNaN:()=>OL,ZodNanoID:()=>HA,ZodNever:()=>aL,ZodNonOptional:()=>mC,ZodNull:()=>rL,ZodNullable:()=>bL,ZodNumber:()=>rp,ZodNumberFormat:()=>ac,ZodObject:()=>Ig,ZodOptional:()=>pC,ZodPipe:()=>fC,ZodPrefault:()=>xL,ZodPromise:()=>zL,ZodReadonly:()=>AL,ZodRealError:()=>kn,ZodRecord:()=>cC,ZodSet:()=>gL,ZodString:()=>ep,ZodStringFormat:()=>Lt,ZodSuccess:()=>kL,ZodSymbol:()=>eL,ZodTemplateLiteral:()=>RL,ZodTransform:()=>_L,ZodTuple:()=>pL,ZodType:()=>ot,ZodULID:()=>KA,ZodURL:()=>Eg,ZodUUID:()=>zi,ZodUndefined:()=>tL,ZodUnion:()=>sC,ZodUnknown:()=>iL,ZodVoid:()=>sL,ZodXID:()=>GA,_ZodString:()=>FA,_default:()=>wL,_function:()=>nue,any:()=>Dse,array:()=>Pg,base64:()=>bse,base64url:()=>Sse,bigint:()=>Rse,boolean:()=>YU,catch:()=>IL,check:()=>oue,cidrv4:()=>vse,cidrv6:()=>_se,clone:()=>nn,codec:()=>eue,coerce:()=>yC,config:()=>_r,core:()=>$i,cuid:()=>lse,cuid2:()=>dse,custom:()=>iue,date:()=>qse,decode:()=>$A,decodeAsync:()=>zA,describe:()=>aue,discriminatedUnion:()=>Jse,e164:()=>wse,email:()=>ese,emoji:()=>use,encode:()=>RA,encodeAsync:()=>NA,endsWith:()=>Hd,enum:()=>lC,file:()=>Wse,flattenError:()=>Td,float32:()=>Ise,float64:()=>Ose,formatError:()=>Ed,function:()=>nue,getErrorMap:()=>fue,globalRegistry:()=>on,gt:()=>Ci,gte:()=>En,guid:()=>tse,hash:()=>Pse,hex:()=>kse,hostname:()=>Ese,httpUrl:()=>sse,includes:()=>Bd,instanceof:()=>uue,int:()=>LA,int32:()=>Ase,int64:()=>$se,intersection:()=>dL,ipv4:()=>hse,ipv6:()=>yse,iso:()=>bg,json:()=>lue,jwt:()=>xse,keyof:()=>Use,ksuid:()=>fse,lazy:()=>NL,length:()=>nc,literal:()=>Gse,locales:()=>jd,looseObject:()=>Bse,lowercase:()=>Ld,lt:()=>Ai,lte:()=>Qn,mac:()=>gse,map:()=>Vse,maxLength:()=>rc,maxSize:()=>tc,meta:()=>sue,mime:()=>Vd,minLength:()=>Oa,minSize:()=>xs,multipleOf:()=>ws,nan:()=>Yse,nanoid:()=>cse,nativeEnum:()=>Kse,negative:()=>mA,never:()=>aC,nonnegative:()=>hA,nonoptional:()=>EL,nonpositive:()=>fA,normalize:()=>Zd,null:()=>nL,nullable:()=>xg,nullish:()=>Qse,number:()=>XU,object:()=>Lse,optional:()=>wg,overwrite:()=>Wo,parse:()=>OA,parseAsync:()=>AA,partialRecord:()=>Hse,pipe:()=>Tg,positive:()=>pA,prefault:()=>TL,preprocess:()=>due,prettifyError:()=>Dk,promise:()=>rue,property:()=>gA,readonly:()=>CL,record:()=>fL,refine:()=>DL,regex:()=>Ud,regexes:()=>Wn,registry:()=>Gh,safeDecode:()=>DA,safeDecodeAsync:()=>qA,safeEncode:()=>jA,safeEncodeAsync:()=>MA,safeParse:()=>CA,safeParseAsync:()=>Ni,set:()=>Zse,setErrorMap:()=>mue,size:()=>qd,slugify:()=>Qd,startsWith:()=>Jd,strictObject:()=>Fse,string:()=>UA,stringFormat:()=>Tse,stringbool:()=>cue,success:()=>Xse,superRefine:()=>ML,symbol:()=>zse,templateLiteral:()=>tue,toJSONSchema:()=>Ri,toLowerCase:()=>Gd,toUpperCase:()=>Wd,transform:()=>dC,treeifyError:()=>jk,trim:()=>Kd,tuple:()=>mL,uint32:()=>Cse,uint64:()=>Nse,ulid:()=>pse,undefined:()=>jse,union:()=>uC,unknown:()=>ic,uppercase:()=>Fd,url:()=>ase,util:()=>pe,uuid:()=>rse,uuidv4:()=>nse,uuidv6:()=>ose,uuidv7:()=>ise,void:()=>Mse,xid:()=>mse});var $i={};_n($i,{$ZodAny:()=>pI,$ZodArray:()=>yI,$ZodAsyncError:()=>To,$ZodBase64:()=>rI,$ZodBase64URL:()=>nI,$ZodBigInt:()=>Vh,$ZodBigIntFormat:()=>uI,$ZodBoolean:()=>Od,$ZodCIDRv4:()=>YP,$ZodCIDRv6:()=>eI,$ZodCUID:()=>LP,$ZodCUID2:()=>FP,$ZodCatch:()=>NI,$ZodCheck:()=>Ut,$ZodCheckBigIntFormat:()=>yP,$ZodCheckEndsWith:()=>OP,$ZodCheckGreaterThan:()=>qh,$ZodCheckIncludes:()=>PP,$ZodCheckLengthEquals:()=>xP,$ZodCheckLessThan:()=>Mh,$ZodCheckLowerCase:()=>EP,$ZodCheckMaxLength:()=>SP,$ZodCheckMaxSize:()=>vP,$ZodCheckMimeType:()=>CP,$ZodCheckMinLength:()=>wP,$ZodCheckMinSize:()=>_P,$ZodCheckMultipleOf:()=>hP,$ZodCheckNumberFormat:()=>gP,$ZodCheckOverwrite:()=>RP,$ZodCheckProperty:()=>AP,$ZodCheckRegex:()=>TP,$ZodCheckSizeEquals:()=>bP,$ZodCheckStartsWith:()=>IP,$ZodCheckStringFormat:()=>Yu,$ZodCheckUpperCase:()=>kP,$ZodCodec:()=>Ad,$ZodCustom:()=>FI,$ZodCustomStringFormat:()=>aI,$ZodDate:()=>gI,$ZodDefault:()=>AI,$ZodDiscriminatedUnion:()=>_I,$ZodE164:()=>oI,$ZodEmail:()=>DP,$ZodEmoji:()=>qP,$ZodEncodeError:()=>xa,$ZodEnum:()=>TI,$ZodError:()=>xd,$ZodFile:()=>kI,$ZodFunction:()=>qI,$ZodGUID:()=>zP,$ZodIPv4:()=>WP,$ZodIPv6:()=>QP,$ZodISODate:()=>ZP,$ZodISODateTime:()=>VP,$ZodISODuration:()=>GP,$ZodISOTime:()=>KP,$ZodIntersection:()=>bI,$ZodJWT:()=>iI,$ZodKSUID:()=>HP,$ZodLazy:()=>LI,$ZodLiteral:()=>EI,$ZodMAC:()=>XP,$ZodMap:()=>wI,$ZodNaN:()=>zI,$ZodNanoID:()=>UP,$ZodNever:()=>fI,$ZodNonOptional:()=>RI,$ZodNull:()=>dI,$ZodNullable:()=>OI,$ZodNumber:()=>Hh,$ZodNumberFormat:()=>sI,$ZodObject:()=>FU,$ZodObjectJIT:()=>vI,$ZodOptional:()=>II,$ZodPipe:()=>jI,$ZodPrefault:()=>CI,$ZodPromise:()=>UI,$ZodReadonly:()=>DI,$ZodRealError:()=>Tn,$ZodRecord:()=>SI,$ZodRegistry:()=>ec,$ZodSet:()=>xI,$ZodString:()=>Ss,$ZodStringFormat:()=>jt,$ZodSuccess:()=>$I,$ZodSymbol:()=>cI,$ZodTemplateLiteral:()=>MI,$ZodTransform:()=>PI,$ZodTuple:()=>Kh,$ZodType:()=>Ze,$ZodULID:()=>BP,$ZodURL:()=>MP,$ZodUUID:()=>jP,$ZodUndefined:()=>lI,$ZodUnion:()=>Zh,$ZodUnknown:()=>mI,$ZodVoid:()=>hI,$ZodXID:()=>JP,$brand:()=>Th,$constructor:()=>J,$input:()=>NO,$output:()=>$O,Doc:()=>Id,JSONSchema:()=>KU,JSONSchemaGenerator:()=>Xd,NEVER:()=>Ek,TimePrecision:()=>MO,_any:()=>iA,_array:()=>yA,_base64:()=>pg,_base64url:()=>mg,_bigint:()=>XO,_boolean:()=>WO,_catch:()=>Hae,_check:()=>ZU,_cidrv4:()=>lg,_cidrv6:()=>dg,_coercedBigint:()=>YO,_coercedBoolean:()=>QO,_coercedDate:()=>lA,_coercedNumber:()=>JO,_coercedString:()=>jO,_cuid:()=>ng,_cuid2:()=>og,_custom:()=>_A,_date:()=>cA,_decode:()=>Ah,_decodeAsync:()=>Rh,_default:()=>Fae,_discriminatedUnion:()=>Aae,_e164:()=>fg,_email:()=>Wh,_emoji:()=>tg,_encode:()=>Oh,_encodeAsync:()=>Ch,_endsWith:()=>Hd,_enum:()=>jae,_file:()=>vA,_float32:()=>VO,_float64:()=>ZO,_gt:()=>Ci,_gte:()=>En,_guid:()=>Dd,_includes:()=>Bd,_int:()=>HO,_int32:()=>KO,_int64:()=>eA,_intersection:()=>Cae,_ipv4:()=>ug,_ipv6:()=>cg,_isoDate:()=>UO,_isoDateTime:()=>qO,_isoDuration:()=>FO,_isoTime:()=>LO,_jwt:()=>hg,_ksuid:()=>sg,_lazy:()=>Gae,_length:()=>nc,_literal:()=>Mae,_lowercase:()=>Ld,_lt:()=>Ai,_lte:()=>Qn,_mac:()=>DO,_map:()=>Nae,_max:()=>Qn,_maxLength:()=>rc,_maxSize:()=>tc,_mime:()=>Vd,_min:()=>En,_minLength:()=>Oa,_minSize:()=>xs,_multipleOf:()=>ws,_nan:()=>dA,_nanoid:()=>rg,_nativeEnum:()=>Dae,_negative:()=>mA,_never:()=>sA,_nonnegative:()=>hA,_nonoptional:()=>Bae,_nonpositive:()=>fA,_normalize:()=>Zd,_null:()=>oA,_nullable:()=>Lae,_number:()=>BO,_optional:()=>Uae,_overwrite:()=>Wo,_parse:()=>Gu,_parseAsync:()=>Wu,_pipe:()=>Vae,_positive:()=>pA,_promise:()=>Wae,_property:()=>gA,_readonly:()=>Zae,_record:()=>$ae,_refine:()=>bA,_regex:()=>Ud,_safeDecode:()=>Nh,_safeDecodeAsync:()=>jh,_safeEncode:()=>$h,_safeEncodeAsync:()=>zh,_safeParse:()=>Qu,_safeParseAsync:()=>Xu,_set:()=>zae,_size:()=>qd,_slugify:()=>Qd,_startsWith:()=>Jd,_string:()=>zO,_stringFormat:()=>oc,_stringbool:()=>TA,_success:()=>Jae,_superRefine:()=>SA,_symbol:()=>rA,_templateLiteral:()=>Kae,_toLowerCase:()=>Gd,_toUpperCase:()=>Wd,_transform:()=>qae,_trim:()=>Kd,_tuple:()=>Rae,_uint32:()=>GO,_uint64:()=>tA,_ulid:()=>ig,_undefined:()=>nA,_union:()=>Oae,_unknown:()=>aA,_uppercase:()=>Fd,_url:()=>Md,_uuid:()=>Qh,_uuidv4:()=>Xh,_uuidv6:()=>Yh,_uuidv7:()=>eg,_void:()=>uA,_xid:()=>ag,clone:()=>nn,config:()=>_r,decode:()=>Goe,decodeAsync:()=>Qoe,describe:()=>wA,encode:()=>Koe,encodeAsync:()=>Woe,flattenError:()=>Td,formatError:()=>Ed,globalConfig:()=>gd,globalRegistry:()=>on,isValidBase64:()=>tI,isValidBase64URL:()=>MU,isValidJWT:()=>qU,locales:()=>jd,meta:()=>xA,parse:()=>Ph,parseAsync:()=>Ih,prettifyError:()=>Dk,regexes:()=>Wn,registry:()=>Gh,safeDecode:()=>Yoe,safeDecodeAsync:()=>tie,safeEncode:()=>Xoe,safeEncodeAsync:()=>eie,safeParse:()=>Mk,safeParseAsync:()=>qk,toDotPath:()=>SU,toJSONSchema:()=>Ri,treeifyError:()=>jk,util:()=>pe,version:()=>$P});var Ek=Object.freeze({status:"aborted"});function J(e,t,r){function n(u,l){if(u._zod||Object.defineProperty(u,"_zod",{value:{def:l,constr:s,traits:new Set},enumerable:!1}),u._zod.traits.has(e))return;u._zod.traits.add(e),t(u,l);let d=s.prototype,p=Object.keys(d);for(let f=0;f<p.length;f++){let m=p[f];m in u||(u[m]=d[m].bind(u))}}a(n,"init");let o=r?.Parent??Object;class i extends o{static{a(this,"Definition")}}Object.defineProperty(i,"name",{value:e});function s(u){var l;let d=r?.Parent?new i:this;n(d,u),(l=d._zod).deferred??(l.deferred=[]);for(let p of d._zod.deferred)p();return d}return a(s,"_"),Object.defineProperty(s,"init",{value:n}),Object.defineProperty(s,Symbol.hasInstance,{value:a(u=>r?.Parent&&u instanceof r.Parent?!0:u?._zod?.traits?.has(e),"value")}),Object.defineProperty(s,"name",{value:e}),s}a(J,"$constructor");var Th=Symbol("zod_brand"),To=class extends Error{static{a(this,"$ZodAsyncError")}constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}},xa=class extends Error{static{a(this,"$ZodEncodeError")}constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}},gd={};function _r(e){return e&&Object.assign(gd,e),gd}a(_r,"config");var pe={};_n(pe,{BIGINT_FORMAT_RANGES:()=>zk,Class:()=>Pk,NUMBER_FORMAT_RANGES:()=>Nk,aborted:()=>Ia,allowsEval:()=>Ak,assert:()=>koe,assertEqual:()=>woe,assertIs:()=>Toe,assertNever:()=>Eoe,assertNotEqual:()=>xoe,assignProp:()=>Ea,base64ToUint8Array:()=>vU,base64urlToUint8Array:()=>Boe,cached:()=>Zu,captureStackTrace:()=>kh,cleanEnum:()=>Foe,cleanRegex:()=>_d,clone:()=>nn,cloneDef:()=>Ioe,createTransparentProxy:()=>Noe,defineLazy:()=>dt,esc:()=>Eh,escapeRegex:()=>Gn,extend:()=>Doe,finalizeIssue:()=>Dn,floatSafeRemainder:()=>Ik,getElementAtPath:()=>Ooe,getEnumValues:()=>vd,getLengthableOrigin:()=>wd,getParsedType:()=>$oe,getSizableOrigin:()=>Sd,hexToUint8Array:()=>Hoe,isObject:()=>_s,isPlainObject:()=>Pa,issue:()=>Ku,joinValues:()=>ee,jsonStringifyReplacer:()=>Vu,merge:()=>qoe,mergeDefs:()=>ka,normalizeParams:()=>de,nullish:()=>Ta,numKeys:()=>Roe,objectClone:()=>Poe,omit:()=>joe,optionalKeys:()=>$k,partial:()=>Uoe,pick:()=>zoe,prefixIssues:()=>jn,primitiveTypes:()=>Rk,promiseAllObject:()=>Aoe,propertyKeyTypes:()=>bd,randomString:()=>Coe,required:()=>Loe,safeExtend:()=>Moe,shallowClone:()=>Ck,slugify:()=>Ok,stringifyPrimitive:()=>le,uint8ArrayToBase64:()=>_U,uint8ArrayToBase64url:()=>Joe,uint8ArrayToHex:()=>Voe,unwrapMessage:()=>yd});function woe(e){return e}a(woe,"assertEqual");function xoe(e){return e}a(xoe,"assertNotEqual");function Toe(e){}a(Toe,"assertIs");function Eoe(e){throw new Error}a(Eoe,"assertNever");function koe(e){}a(koe,"assert");function vd(e){let t=Object.values(e).filter(n=>typeof n=="number");return Object.entries(e).filter(([n,o])=>t.indexOf(+n)===-1).map(([n,o])=>o)}a(vd,"getEnumValues");function ee(e,t="|"){return e.map(r=>le(r)).join(t)}a(ee,"joinValues");function Vu(e,t){return typeof t=="bigint"?t.toString():t}a(Vu,"jsonStringifyReplacer");function Zu(e){return{get value(){{let r=e();return Object.defineProperty(this,"value",{value:r}),r}throw new Error("cached value already set")}}}a(Zu,"cached");function Ta(e){return e==null}a(Ta,"nullish");function _d(e){let t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}a(_d,"cleanRegex");function Ik(e,t){let r=(e.toString().split(".")[1]||"").length,n=t.toString(),o=(n.split(".")[1]||"").length;if(o===0&&/\d?e-\d?/.test(n)){let l=n.match(/\d?e-(\d?)/);l?.[1]&&(o=Number.parseInt(l[1]))}let i=r>o?r:o,s=Number.parseInt(e.toFixed(i).replace(".","")),u=Number.parseInt(t.toFixed(i).replace(".",""));return s%u/10**i}a(Ik,"floatSafeRemainder");var yU=Symbol("evaluating");function dt(e,t,r){let n;Object.defineProperty(e,t,{get(){if(n!==yU)return n===void 0&&(n=yU,n=r()),n},set(o){Object.defineProperty(e,t,{value:o})},configurable:!0})}a(dt,"defineLazy");function Poe(e){return Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e))}a(Poe,"objectClone");function Ea(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}a(Ea,"assignProp");function ka(...e){let t={};for(let r of e){let n=Object.getOwnPropertyDescriptors(r);Object.assign(t,n)}return Object.defineProperties({},t)}a(ka,"mergeDefs");function Ioe(e){return ka(e._zod.def)}a(Ioe,"cloneDef");function Ooe(e,t){return t?t.reduce((r,n)=>r?.[n],e):e}a(Ooe,"getElementAtPath");function Aoe(e){let t=Object.keys(e),r=t.map(n=>e[n]);return Promise.all(r).then(n=>{let o={};for(let i=0;i<t.length;i++)o[t[i]]=n[i];return o})}a(Aoe,"promiseAllObject");function Coe(e=10){let t="abcdefghijklmnopqrstuvwxyz",r="";for(let n=0;n<e;n++)r+=t[Math.floor(Math.random()*t.length)];return r}a(Coe,"randomString");function Eh(e){return JSON.stringify(e)}a(Eh,"esc");function Ok(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}a(Ok,"slugify");var kh="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function _s(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}a(_s,"isObject");var Ak=Zu(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{let e=Function;return new e(""),!0}catch{return!1}});function Pa(e){if(_s(e)===!1)return!1;let t=e.constructor;if(t===void 0||typeof t!="function")return!0;let r=t.prototype;return!(_s(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}a(Pa,"isPlainObject");function Ck(e){return Pa(e)?{...e}:Array.isArray(e)?[...e]:e}a(Ck,"shallowClone");function Roe(e){let t=0;for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}a(Roe,"numKeys");var $oe=a(e=>{let t=typeof e;switch(t){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(e)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":return Array.isArray(e)?"array":e===null?"null":e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?"promise":typeof Map<"u"&&e instanceof Map?"map":typeof Set<"u"&&e instanceof Set?"set":typeof Date<"u"&&e instanceof Date?"date":typeof File<"u"&&e instanceof File?"file":"object";default:throw new Error(`Unknown data type: ${t}`)}},"getParsedType"),bd=new Set(["string","number","symbol"]),Rk=new Set(["string","number","bigint","boolean","symbol","undefined"]);function Gn(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}a(Gn,"escapeRegex");function nn(e,t,r){let n=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(n._zod.parent=e),n}a(nn,"clone");function de(e){let t=e;if(!t)return{};if(typeof t=="string")return{error:a(()=>t,"error")};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:a(()=>t.error,"error")}:t}a(de,"normalizeParams");function Noe(e){let t;return new Proxy({},{get(r,n,o){return t??(t=e()),Reflect.get(t,n,o)},set(r,n,o,i){return t??(t=e()),Reflect.set(t,n,o,i)},has(r,n){return t??(t=e()),Reflect.has(t,n)},deleteProperty(r,n){return t??(t=e()),Reflect.deleteProperty(t,n)},ownKeys(r){return t??(t=e()),Reflect.ownKeys(t)},getOwnPropertyDescriptor(r,n){return t??(t=e()),Reflect.getOwnPropertyDescriptor(t,n)},defineProperty(r,n,o){return t??(t=e()),Reflect.defineProperty(t,n,o)}})}a(Noe,"createTransparentProxy");function le(e){return typeof e=="bigint"?e.toString()+"n":typeof e=="string"?`"${e}"`:`${e}`}a(le,"stringifyPrimitive");function $k(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}a($k,"optionalKeys");var Nk={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},zk={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function zoe(e,t){let r=e._zod.def,n=ka(e._zod.def,{get shape(){let o={};for(let i in t){if(!(i in r.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&(o[i]=r.shape[i])}return Ea(this,"shape",o),o},checks:[]});return nn(e,n)}a(zoe,"pick");function joe(e,t){let r=e._zod.def,n=ka(e._zod.def,{get shape(){let o={...e._zod.def.shape};for(let i in t){if(!(i in r.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&delete o[i]}return Ea(this,"shape",o),o},checks:[]});return nn(e,n)}a(joe,"omit");function Doe(e,t){if(!Pa(t))throw new Error("Invalid input to extend: expected a plain object");let r=e._zod.def.checks;if(r&&r.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");let o=ka(e._zod.def,{get shape(){let i={...e._zod.def.shape,...t};return Ea(this,"shape",i),i},checks:[]});return nn(e,o)}a(Doe,"extend");function Moe(e,t){if(!Pa(t))throw new Error("Invalid input to safeExtend: expected a plain object");let r={...e._zod.def,get shape(){let n={...e._zod.def.shape,...t};return Ea(this,"shape",n),n},checks:e._zod.def.checks};return nn(e,r)}a(Moe,"safeExtend");function qoe(e,t){let r=ka(e._zod.def,{get shape(){let n={...e._zod.def.shape,...t._zod.def.shape};return Ea(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return nn(e,r)}a(qoe,"merge");function Uoe(e,t,r){let n=ka(t._zod.def,{get shape(){let o=t._zod.def.shape,i={...o};if(r)for(let s in r){if(!(s in o))throw new Error(`Unrecognized key: "${s}"`);r[s]&&(i[s]=e?new e({type:"optional",innerType:o[s]}):o[s])}else for(let s in o)i[s]=e?new e({type:"optional",innerType:o[s]}):o[s];return Ea(this,"shape",i),i},checks:[]});return nn(t,n)}a(Uoe,"partial");function Loe(e,t,r){let n=ka(t._zod.def,{get shape(){let o=t._zod.def.shape,i={...o};if(r)for(let s in r){if(!(s in i))throw new Error(`Unrecognized key: "${s}"`);r[s]&&(i[s]=new e({type:"nonoptional",innerType:o[s]}))}else for(let s in o)i[s]=new e({type:"nonoptional",innerType:o[s]});return Ea(this,"shape",i),i},checks:[]});return nn(t,n)}a(Loe,"required");function Ia(e,t=0){if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}a(Ia,"aborted");function jn(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}a(jn,"prefixIssues");function yd(e){return typeof e=="string"?e:e?.message}a(yd,"unwrapMessage");function Dn(e,t,r){let n={...e,path:e.path??[]};if(!e.message){let o=yd(e.inst?._zod.def?.error?.(e))??yd(t?.error?.(e))??yd(r.customError?.(e))??yd(r.localeError?.(e))??"Invalid input";n.message=o}return delete n.inst,delete n.continue,t?.reportInput||delete n.input,n}a(Dn,"finalizeIssue");function Sd(e){return e instanceof Set?"set":e instanceof Map?"map":e instanceof File?"file":"unknown"}a(Sd,"getSizableOrigin");function wd(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}a(wd,"getLengthableOrigin");function Ku(...e){let[t,r,n]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:n}:{...t}}a(Ku,"issue");function Foe(e){return Object.entries(e).filter(([t,r])=>Number.isNaN(Number.parseInt(t,10))).map(t=>t[1])}a(Foe,"cleanEnum");function vU(e){let t=atob(e),r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r}a(vU,"base64ToUint8Array");function _U(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}a(_U,"uint8ArrayToBase64");function Boe(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),r="=".repeat((4-t.length%4)%4);return vU(t+r)}a(Boe,"base64urlToUint8Array");function Joe(e){return _U(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}a(Joe,"uint8ArrayToBase64url");function Hoe(e){let t=e.replace(/^0x/,"");if(t.length%2!==0)throw new Error("Invalid hex string length");let r=new Uint8Array(t.length/2);for(let n=0;n<t.length;n+=2)r[n/2]=Number.parseInt(t.slice(n,n+2),16);return r}a(Hoe,"hexToUint8Array");function Voe(e){return Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join("")}a(Voe,"uint8ArrayToHex");var Pk=class{static{a(this,"Class")}constructor(...t){}};var bU=a((e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Vu,2),Object.defineProperty(e,"toString",{value:a(()=>e.message,"value"),enumerable:!1})},"initializer"),xd=J("$ZodError",bU),Tn=J("$ZodError",bU,{Parent:Error});function Td(e,t=r=>r.message){let r={},n=[];for(let o of e.issues)o.path.length>0?(r[o.path[0]]=r[o.path[0]]||[],r[o.path[0]].push(t(o))):n.push(t(o));return{formErrors:n,fieldErrors:r}}a(Td,"flattenError");function Ed(e,t=r=>r.message){let r={_errors:[]},n=a(o=>{for(let i of o.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(s=>n({issues:s}));else if(i.code==="invalid_key")n({issues:i.issues});else if(i.code==="invalid_element")n({issues:i.issues});else if(i.path.length===0)r._errors.push(t(i));else{let s=r,u=0;for(;u<i.path.length;){let l=i.path[u];u===i.path.length-1?(s[l]=s[l]||{_errors:[]},s[l]._errors.push(t(i))):s[l]=s[l]||{_errors:[]},s=s[l],u++}}},"processError");return n(e),r}a(Ed,"formatError");function jk(e,t=r=>r.message){let r={errors:[]},n=a((o,i=[])=>{var s,u;for(let l of o.issues)if(l.code==="invalid_union"&&l.errors.length)l.errors.map(d=>n({issues:d},l.path));else if(l.code==="invalid_key")n({issues:l.issues},l.path);else if(l.code==="invalid_element")n({issues:l.issues},l.path);else{let d=[...i,...l.path];if(d.length===0){r.errors.push(t(l));continue}let p=r,f=0;for(;f<d.length;){let m=d[f],y=f===d.length-1;typeof m=="string"?(p.properties??(p.properties={}),(s=p.properties)[m]??(s[m]={errors:[]}),p=p.properties[m]):(p.items??(p.items=[]),(u=p.items)[m]??(u[m]={errors:[]}),p=p.items[m]),y&&p.errors.push(t(l)),f++}}},"processError");return n(e),r}a(jk,"treeifyError");function SU(e){let t=[],r=e.map(n=>typeof n=="object"?n.key:n);for(let n of r)typeof n=="number"?t.push(`[${n}]`):typeof n=="symbol"?t.push(`[${JSON.stringify(String(n))}]`):/[^\w$]/.test(n)?t.push(`[${JSON.stringify(n)}]`):(t.length&&t.push("."),t.push(n));return t.join("")}a(SU,"toDotPath");function Dk(e){let t=[],r=[...e.issues].sort((n,o)=>(n.path??[]).length-(o.path??[]).length);for(let n of r)t.push(`\u2716 ${n.message}`),n.path?.length&&t.push(`  \u2192 at ${SU(n.path)}`);return t.join(`
`)}a(Dk,"prettifyError");var Gu=a(e=>(t,r,n,o)=>{let i=n?Object.assign(n,{async:!1}):{async:!1},s=t._zod.run({value:r,issues:[]},i);if(s instanceof Promise)throw new To;if(s.issues.length){let u=new(o?.Err??e)(s.issues.map(l=>Dn(l,i,_r())));throw kh(u,o?.callee),u}return s.value},"_parse"),Ph=Gu(Tn),Wu=a(e=>async(t,r,n,o)=>{let i=n?Object.assign(n,{async:!0}):{async:!0},s=t._zod.run({value:r,issues:[]},i);if(s instanceof Promise&&(s=await s),s.issues.length){let u=new(o?.Err??e)(s.issues.map(l=>Dn(l,i,_r())));throw kh(u,o?.callee),u}return s.value},"_parseAsync"),Ih=Wu(Tn),Qu=a(e=>(t,r,n)=>{let o=n?{...n,async:!1}:{async:!1},i=t._zod.run({value:r,issues:[]},o);if(i instanceof Promise)throw new To;return i.issues.length?{success:!1,error:new(e??xd)(i.issues.map(s=>Dn(s,o,_r())))}:{success:!0,data:i.value}},"_safeParse"),Mk=Qu(Tn),Xu=a(e=>async(t,r,n)=>{let o=n?Object.assign(n,{async:!0}):{async:!0},i=t._zod.run({value:r,issues:[]},o);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new e(i.issues.map(s=>Dn(s,o,_r())))}:{success:!0,data:i.value}},"_safeParseAsync"),qk=Xu(Tn),Oh=a(e=>(t,r,n)=>{let o=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Gu(e)(t,r,o)},"_encode"),Koe=Oh(Tn),Ah=a(e=>(t,r,n)=>Gu(e)(t,r,n),"_decode"),Goe=Ah(Tn),Ch=a(e=>async(t,r,n)=>{let o=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Wu(e)(t,r,o)},"_encodeAsync"),Woe=Ch(Tn),Rh=a(e=>async(t,r,n)=>Wu(e)(t,r,n),"_decodeAsync"),Qoe=Rh(Tn),$h=a(e=>(t,r,n)=>{let o=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Qu(e)(t,r,o)},"_safeEncode"),Xoe=$h(Tn),Nh=a(e=>(t,r,n)=>Qu(e)(t,r,n),"_safeDecode"),Yoe=Nh(Tn),zh=a(e=>async(t,r,n)=>{let o=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Xu(e)(t,r,o)},"_safeEncodeAsync"),eie=zh(Tn),jh=a(e=>async(t,r,n)=>Xu(e)(t,r,n),"_safeDecodeAsync"),tie=jh(Tn);var Wn={};_n(Wn,{base64:()=>tP,base64url:()=>Dh,bigint:()=>sP,boolean:()=>lP,browserEmail:()=>cie,cidrv4:()=>Yk,cidrv6:()=>eP,cuid:()=>Uk,cuid2:()=>Lk,date:()=>nP,datetime:()=>iP,domain:()=>pie,duration:()=>Vk,e164:()=>rP,email:()=>Kk,emoji:()=>Gk,extendedDuration:()=>rie,guid:()=>Zk,hex:()=>mie,hostname:()=>die,html5Email:()=>aie,idnEmail:()=>uie,integer:()=>uP,ipv4:()=>Wk,ipv6:()=>Qk,ksuid:()=>Jk,lowercase:()=>mP,mac:()=>Xk,md5_base64:()=>hie,md5_base64url:()=>gie,md5_hex:()=>fie,nanoid:()=>Hk,null:()=>dP,number:()=>cP,rfc5322Email:()=>sie,sha1_base64:()=>vie,sha1_base64url:()=>_ie,sha1_hex:()=>yie,sha256_base64:()=>Sie,sha256_base64url:()=>wie,sha256_hex:()=>bie,sha384_base64:()=>Tie,sha384_base64url:()=>Eie,sha384_hex:()=>xie,sha512_base64:()=>Pie,sha512_base64url:()=>Iie,sha512_hex:()=>kie,string:()=>aP,time:()=>oP,ulid:()=>Fk,undefined:()=>pP,unicodeEmail:()=>wU,uppercase:()=>fP,uuid:()=>bs,uuid4:()=>nie,uuid6:()=>oie,uuid7:()=>iie,xid:()=>Bk});var Uk=/^[cC][^\s-]{8,}$/,Lk=/^[0-9a-z]+$/,Fk=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Bk=/^[0-9a-vA-V]{20}$/,Jk=/^[A-Za-z0-9]{27}$/,Hk=/^[a-zA-Z0-9_-]{21}$/,Vk=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,rie=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Zk=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,bs=a(e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,"uuid"),nie=bs(4),oie=bs(6),iie=bs(7),Kk=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,aie=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,sie=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,wU=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,uie=wU,cie=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,lie="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Gk(){return new RegExp(lie,"u")}a(Gk,"emoji");var Wk=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Qk=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,Xk=a(e=>{let t=Gn(e??":");return new RegExp(`^(?:[0-9A-F]{2}${t}){5}[0-9A-F]{2}$|^(?:[0-9a-f]{2}${t}){5}[0-9a-f]{2}$`)},"mac"),Yk=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,eP=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,tP=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Dh=/^[A-Za-z0-9_-]*$/,die=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,pie=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,rP=/^\+(?:[0-9]){6,14}[0-9]$/,xU="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",nP=new RegExp(`^${xU}$`);function TU(e){let t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}a(TU,"timeSource");function oP(e){return new RegExp(`^${TU(e)}$`)}a(oP,"time");function iP(e){let t=TU({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");let n=`${t}(?:${r.join("|")})`;return new RegExp(`^${xU}T(?:${n})$`)}a(iP,"datetime");var aP=a(e=>{let t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},"string"),sP=/^-?\d+n?$/,uP=/^-?\d+$/,cP=/^-?\d+(?:\.\d+)?/,lP=/^(?:true|false)$/i,dP=/^null$/i;var pP=/^undefined$/i;var mP=/^[^A-Z]*$/,fP=/^[^a-z]*$/,mie=/^[0-9a-fA-F]*$/;function kd(e,t){return new RegExp(`^[A-Za-z0-9+/]{${e}}${t}$`)}a(kd,"fixedBase64");function Pd(e){return new RegExp(`^[A-Za-z0-9_-]{${e}}$`)}a(Pd,"fixedBase64url");var fie=/^[0-9a-fA-F]{32}$/,hie=kd(22,"=="),gie=Pd(22),yie=/^[0-9a-fA-F]{40}$/,vie=kd(27,"="),_ie=Pd(27),bie=/^[0-9a-fA-F]{64}$/,Sie=kd(43,"="),wie=Pd(43),xie=/^[0-9a-fA-F]{96}$/,Tie=kd(64,""),Eie=Pd(64),kie=/^[0-9a-fA-F]{128}$/,Pie=kd(86,"=="),Iie=Pd(86);var Ut=J("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),kU={number:"number",bigint:"bigint",object:"date"},Mh=J("$ZodCheckLessThan",(e,t)=>{Ut.init(e,t);let r=kU[typeof t.value];e._zod.onattach.push(n=>{let o=n._zod.bag,i=(t.inclusive?o.maximum:o.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<i&&(t.inclusive?o.maximum=t.value:o.exclusiveMaximum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value<=t.value:n.value<t.value)||n.issues.push({origin:r,code:"too_big",maximum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),qh=J("$ZodCheckGreaterThan",(e,t)=>{Ut.init(e,t);let r=kU[typeof t.value];e._zod.onattach.push(n=>{let o=n._zod.bag,i=(t.inclusive?o.minimum:o.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>i&&(t.inclusive?o.minimum=t.value:o.exclusiveMinimum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value>=t.value:n.value>t.value)||n.issues.push({origin:r,code:"too_small",minimum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),hP=J("$ZodCheckMultipleOf",(e,t)=>{Ut.init(e,t),e._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):Ik(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),gP=J("$ZodCheckNumberFormat",(e,t)=>{Ut.init(e,t),t.format=t.format||"float64";let r=t.format?.includes("int"),n=r?"int":"number",[o,i]=Nk[t.format];e._zod.onattach.push(s=>{let u=s._zod.bag;u.format=t.format,u.minimum=o,u.maximum=i,r&&(u.pattern=uP)}),e._zod.check=s=>{let u=s.value;if(r){if(!Number.isInteger(u)){s.issues.push({expected:n,format:t.format,code:"invalid_type",continue:!1,input:u,inst:e});return}if(!Number.isSafeInteger(u)){u>0?s.issues.push({input:u,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort}):s.issues.push({input:u,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort});return}}u<o&&s.issues.push({origin:"number",input:u,code:"too_small",minimum:o,inclusive:!0,inst:e,continue:!t.abort}),u>i&&s.issues.push({origin:"number",input:u,code:"too_big",maximum:i,inst:e})}}),yP=J("$ZodCheckBigIntFormat",(e,t)=>{Ut.init(e,t);let[r,n]=zk[t.format];e._zod.onattach.push(o=>{let i=o._zod.bag;i.format=t.format,i.minimum=r,i.maximum=n}),e._zod.check=o=>{let i=o.value;i<r&&o.issues.push({origin:"bigint",input:i,code:"too_small",minimum:r,inclusive:!0,inst:e,continue:!t.abort}),i>n&&o.issues.push({origin:"bigint",input:i,code:"too_big",maximum:n,inst:e})}}),vP=J("$ZodCheckMaxSize",(e,t)=>{var r;Ut.init(e,t),(r=e._zod.def).when??(r.when=n=>{let o=n.value;return!Ta(o)&&o.size!==void 0}),e._zod.onattach.push(n=>{let o=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<o&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{let o=n.value;o.size<=t.maximum||n.issues.push({origin:Sd(o),code:"too_big",maximum:t.maximum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),_P=J("$ZodCheckMinSize",(e,t)=>{var r;Ut.init(e,t),(r=e._zod.def).when??(r.when=n=>{let o=n.value;return!Ta(o)&&o.size!==void 0}),e._zod.onattach.push(n=>{let o=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>o&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{let o=n.value;o.size>=t.minimum||n.issues.push({origin:Sd(o),code:"too_small",minimum:t.minimum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),bP=J("$ZodCheckSizeEquals",(e,t)=>{var r;Ut.init(e,t),(r=e._zod.def).when??(r.when=n=>{let o=n.value;return!Ta(o)&&o.size!==void 0}),e._zod.onattach.push(n=>{let o=n._zod.bag;o.minimum=t.size,o.maximum=t.size,o.size=t.size}),e._zod.check=n=>{let o=n.value,i=o.size;if(i===t.size)return;let s=i>t.size;n.issues.push({origin:Sd(o),...s?{code:"too_big",maximum:t.size}:{code:"too_small",minimum:t.size},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),SP=J("$ZodCheckMaxLength",(e,t)=>{var r;Ut.init(e,t),(r=e._zod.def).when??(r.when=n=>{let o=n.value;return!Ta(o)&&o.length!==void 0}),e._zod.onattach.push(n=>{let o=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<o&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{let o=n.value;if(o.length<=t.maximum)return;let s=wd(o);n.issues.push({origin:s,code:"too_big",maximum:t.maximum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),wP=J("$ZodCheckMinLength",(e,t)=>{var r;Ut.init(e,t),(r=e._zod.def).when??(r.when=n=>{let o=n.value;return!Ta(o)&&o.length!==void 0}),e._zod.onattach.push(n=>{let o=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>o&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{let o=n.value;if(o.length>=t.minimum)return;let s=wd(o);n.issues.push({origin:s,code:"too_small",minimum:t.minimum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),xP=J("$ZodCheckLengthEquals",(e,t)=>{var r;Ut.init(e,t),(r=e._zod.def).when??(r.when=n=>{let o=n.value;return!Ta(o)&&o.length!==void 0}),e._zod.onattach.push(n=>{let o=n._zod.bag;o.minimum=t.length,o.maximum=t.length,o.length=t.length}),e._zod.check=n=>{let o=n.value,i=o.length;if(i===t.length)return;let s=wd(o),u=i>t.length;n.issues.push({origin:s,...u?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),Yu=J("$ZodCheckStringFormat",(e,t)=>{var r,n;Ut.init(e,t),e._zod.onattach.push(o=>{let i=o._zod.bag;i.format=t.format,t.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=o=>{t.pattern.lastIndex=0,!t.pattern.test(o.value)&&o.issues.push({origin:"string",code:"invalid_format",format:t.format,input:o.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),TP=J("$ZodCheckRegex",(e,t)=>{Yu.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),EP=J("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=mP),Yu.init(e,t)}),kP=J("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=fP),Yu.init(e,t)}),PP=J("$ZodCheckIncludes",(e,t)=>{Ut.init(e,t);let r=Gn(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(o=>{let i=o._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=o=>{o.value.includes(t.includes,t.position)||o.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:o.value,inst:e,continue:!t.abort})}}),IP=J("$ZodCheckStartsWith",(e,t)=>{Ut.init(e,t);let r=new RegExp(`^${Gn(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{let o=n._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),OP=J("$ZodCheckEndsWith",(e,t)=>{Ut.init(e,t);let r=new RegExp(`.*${Gn(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{let o=n._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}});function EU(e,t,r){e.issues.length&&t.issues.push(...jn(r,e.issues))}a(EU,"handleCheckPropertyResult");var AP=J("$ZodCheckProperty",(e,t)=>{Ut.init(e,t),e._zod.check=r=>{let n=t.schema._zod.run({value:r.value[t.property],issues:[]},{});if(n instanceof Promise)return n.then(o=>EU(o,r,t.property));EU(n,r,t.property)}}),CP=J("$ZodCheckMimeType",(e,t)=>{Ut.init(e,t);let r=new Set(t.mime);e._zod.onattach.push(n=>{n._zod.bag.mime=t.mime}),e._zod.check=n=>{r.has(n.value.type)||n.issues.push({code:"invalid_value",values:t.mime,input:n.value.type,inst:e,continue:!t.abort})}}),RP=J("$ZodCheckOverwrite",(e,t)=>{Ut.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});var Id=class{static{a(this,"Doc")}constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}let n=t.split(`
`).filter(s=>s),o=Math.min(...n.map(s=>s.length-s.trimStart().length)),i=n.map(s=>s.slice(o)).map(s=>" ".repeat(this.indent*2)+s);for(let s of i)this.content.push(s)}compile(){let t=Function,r=this?.args,o=[...(this?.content??[""]).map(i=>`  ${i}`)];return new t(...r,o.join(`
`))}};var $P={major:4,minor:1,patch:13};var Ze=J("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=$P;let n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(let o of n)for(let i of o._zod.onattach)i(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{let o=a((s,u,l)=>{let d=Ia(s),p;for(let f of u){if(f._zod.def.when){if(!f._zod.def.when(s))continue}else if(d)continue;let m=s.issues.length,y=f._zod.check(s);if(y instanceof Promise&&l?.async===!1)throw new To;if(p||y instanceof Promise)p=(p??Promise.resolve()).then(async()=>{await y,s.issues.length!==m&&(d||(d=Ia(s,m)))});else{if(s.issues.length===m)continue;d||(d=Ia(s,m))}}return p?p.then(()=>s):s},"runChecks"),i=a((s,u,l)=>{if(Ia(s))return s.aborted=!0,s;let d=o(u,n,l);if(d instanceof Promise){if(l.async===!1)throw new To;return d.then(p=>e._zod.parse(p,l))}return e._zod.parse(d,l)},"handleCanaryResult");e._zod.run=(s,u)=>{if(u.skipChecks)return e._zod.parse(s,u);if(u.direction==="backward"){let d=e._zod.parse({value:s.value,issues:[]},{...u,skipChecks:!0});return d instanceof Promise?d.then(p=>i(p,s,u)):i(d,s,u)}let l=e._zod.parse(s,u);if(l instanceof Promise){if(u.async===!1)throw new To;return l.then(d=>o(d,n,u))}return o(l,n,u)}}e["~standard"]={validate:a(o=>{try{let i=Mk(e,o);return i.success?{value:i.data}:{issues:i.error?.issues}}catch{return qk(e,o).then(s=>s.success?{value:s.data}:{issues:s.error?.issues})}},"validate"),vendor:"zod",version:1}}),Ss=J("$ZodString",(e,t)=>{Ze.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??aP(e._zod.bag),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),jt=J("$ZodStringFormat",(e,t)=>{Yu.init(e,t),Ss.init(e,t)}),zP=J("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=Zk),jt.init(e,t)}),jP=J("$ZodUUID",(e,t)=>{if(t.version){let n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(n===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=bs(n))}else t.pattern??(t.pattern=bs());jt.init(e,t)}),DP=J("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=Kk),jt.init(e,t)}),MP=J("$ZodURL",(e,t)=>{jt.init(e,t),e._zod.check=r=>{try{let n=r.value.trim(),o=new URL(n);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(o.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(o.protocol.endsWith(":")?o.protocol.slice(0,-1):o.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=o.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),qP=J("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=Gk()),jt.init(e,t)}),UP=J("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=Hk),jt.init(e,t)}),LP=J("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=Uk),jt.init(e,t)}),FP=J("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=Lk),jt.init(e,t)}),BP=J("$ZodULID",(e,t)=>{t.pattern??(t.pattern=Fk),jt.init(e,t)}),JP=J("$ZodXID",(e,t)=>{t.pattern??(t.pattern=Bk),jt.init(e,t)}),HP=J("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=Jk),jt.init(e,t)}),VP=J("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=iP(t)),jt.init(e,t)}),ZP=J("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=nP),jt.init(e,t)}),KP=J("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=oP(t)),jt.init(e,t)}),GP=J("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=Vk),jt.init(e,t)}),WP=J("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=Wk),jt.init(e,t),e._zod.bag.format="ipv4"}),QP=J("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=Qk),jt.init(e,t),e._zod.bag.format="ipv6",e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),XP=J("$ZodMAC",(e,t)=>{t.pattern??(t.pattern=Xk(t.delimiter)),jt.init(e,t),e._zod.bag.format="mac"}),YP=J("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=Yk),jt.init(e,t)}),eI=J("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=eP),jt.init(e,t),e._zod.check=r=>{let n=r.value.split("/");try{if(n.length!==2)throw new Error;let[o,i]=n;if(!i)throw new Error;let s=Number(i);if(`${s}`!==i)throw new Error;if(s<0||s>128)throw new Error;new URL(`http://[${o}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function tI(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}a(tI,"isValidBase64");var rI=J("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=tP),jt.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=r=>{tI(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function MU(e){if(!Dh.test(e))return!1;let t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return tI(r)}a(MU,"isValidBase64URL");var nI=J("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=Dh),jt.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=r=>{MU(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),oI=J("$ZodE164",(e,t)=>{t.pattern??(t.pattern=rP),jt.init(e,t)});function qU(e,t=null){try{let r=e.split(".");if(r.length!==3)return!1;let[n]=r;if(!n)return!1;let o=JSON.parse(atob(n));return!("typ"in o&&o?.typ!=="JWT"||!o.alg||t&&(!("alg"in o)||o.alg!==t))}catch{return!1}}a(qU,"isValidJWT");var iI=J("$ZodJWT",(e,t)=>{jt.init(e,t),e._zod.check=r=>{qU(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),aI=J("$ZodCustomStringFormat",(e,t)=>{jt.init(e,t),e._zod.check=r=>{t.fn(r.value)||r.issues.push({code:"invalid_format",format:t.format,input:r.value,inst:e,continue:!t.abort})}}),Hh=J("$ZodNumber",(e,t)=>{Ze.init(e,t),e._zod.pattern=e._zod.bag.pattern??cP,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}let o=r.value;if(typeof o=="number"&&!Number.isNaN(o)&&Number.isFinite(o))return r;let i=typeof o=="number"?Number.isNaN(o)?"NaN":Number.isFinite(o)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:o,inst:e,...i?{received:i}:{}}),r}}),sI=J("$ZodNumberFormat",(e,t)=>{gP.init(e,t),Hh.init(e,t)}),Od=J("$ZodBoolean",(e,t)=>{Ze.init(e,t),e._zod.pattern=lP,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=!!r.value}catch{}let o=r.value;return typeof o=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:o,inst:e}),r}}),Vh=J("$ZodBigInt",(e,t)=>{Ze.init(e,t),e._zod.pattern=sP,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=BigInt(r.value)}catch{}return typeof r.value=="bigint"||r.issues.push({expected:"bigint",code:"invalid_type",input:r.value,inst:e}),r}}),uI=J("$ZodBigIntFormat",(e,t)=>{yP.init(e,t),Vh.init(e,t)}),cI=J("$ZodSymbol",(e,t)=>{Ze.init(e,t),e._zod.parse=(r,n)=>{let o=r.value;return typeof o=="symbol"||r.issues.push({expected:"symbol",code:"invalid_type",input:o,inst:e}),r}}),lI=J("$ZodUndefined",(e,t)=>{Ze.init(e,t),e._zod.pattern=pP,e._zod.values=new Set([void 0]),e._zod.optin="optional",e._zod.optout="optional",e._zod.parse=(r,n)=>{let o=r.value;return typeof o>"u"||r.issues.push({expected:"undefined",code:"invalid_type",input:o,inst:e}),r}}),dI=J("$ZodNull",(e,t)=>{Ze.init(e,t),e._zod.pattern=dP,e._zod.values=new Set([null]),e._zod.parse=(r,n)=>{let o=r.value;return o===null||r.issues.push({expected:"null",code:"invalid_type",input:o,inst:e}),r}}),pI=J("$ZodAny",(e,t)=>{Ze.init(e,t),e._zod.parse=r=>r}),mI=J("$ZodUnknown",(e,t)=>{Ze.init(e,t),e._zod.parse=r=>r}),fI=J("$ZodNever",(e,t)=>{Ze.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)}),hI=J("$ZodVoid",(e,t)=>{Ze.init(e,t),e._zod.parse=(r,n)=>{let o=r.value;return typeof o>"u"||r.issues.push({expected:"void",code:"invalid_type",input:o,inst:e}),r}}),gI=J("$ZodDate",(e,t)=>{Ze.init(e,t),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=new Date(r.value)}catch{}let o=r.value,i=o instanceof Date;return i&&!Number.isNaN(o.getTime())||r.issues.push({expected:"date",code:"invalid_type",input:o,...i?{received:"Invalid Date"}:{},inst:e}),r}});function IU(e,t,r){e.issues.length&&t.issues.push(...jn(r,e.issues)),t.value[r]=e.value}a(IU,"handleArrayResult");var yI=J("$ZodArray",(e,t)=>{Ze.init(e,t),e._zod.parse=(r,n)=>{let o=r.value;if(!Array.isArray(o))return r.issues.push({expected:"array",code:"invalid_type",input:o,inst:e}),r;r.value=Array(o.length);let i=[];for(let s=0;s<o.length;s++){let u=o[s],l=t.element._zod.run({value:u,issues:[]},n);l instanceof Promise?i.push(l.then(d=>IU(d,r,s))):IU(l,r,s)}return i.length?Promise.all(i).then(()=>r):r}});function Jh(e,t,r,n){e.issues.length&&t.issues.push(...jn(r,e.issues)),e.value===void 0?r in n&&(t.value[r]=void 0):t.value[r]=e.value}a(Jh,"handlePropertyResult");function UU(e){let t=Object.keys(e.shape);for(let n of t)if(!e.shape?.[n]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${n}": expected a Zod schema`);let r=$k(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}a(UU,"normalizeDef");function LU(e,t,r,n,o,i){let s=[],u=o.keySet,l=o.catchall._zod,d=l.def.type;for(let p in t){if(u.has(p))continue;if(d==="never"){s.push(p);continue}let f=l.run({value:t[p],issues:[]},n);f instanceof Promise?e.push(f.then(m=>Jh(m,r,p,t))):Jh(f,r,p,t)}return s.length&&r.issues.push({code:"unrecognized_keys",keys:s,input:t,inst:i}),e.length?Promise.all(e).then(()=>r):r}a(LU,"handleCatchall");var FU=J("$ZodObject",(e,t)=>{if(Ze.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){let u=t.shape;Object.defineProperty(t,"shape",{get:a(()=>{let l={...u};return Object.defineProperty(t,"shape",{value:l}),l},"get")})}let n=Zu(()=>UU(t));dt(e._zod,"propValues",()=>{let u=t.shape,l={};for(let d in u){let p=u[d]._zod;if(p.values){l[d]??(l[d]=new Set);for(let f of p.values)l[d].add(f)}}return l});let o=_s,i=t.catchall,s;e._zod.parse=(u,l)=>{s??(s=n.value);let d=u.value;if(!o(d))return u.issues.push({expected:"object",code:"invalid_type",input:d,inst:e}),u;u.value={};let p=[],f=s.shape;for(let m of s.keys){let g=f[m]._zod.run({value:d[m],issues:[]},l);g instanceof Promise?p.push(g.then(h=>Jh(h,u,m,d))):Jh(g,u,m,d)}return i?LU(p,d,u,l,n.value,e):p.length?Promise.all(p).then(()=>u):u}}),vI=J("$ZodObjectJIT",(e,t)=>{FU.init(e,t);let r=e._zod.parse,n=Zu(()=>UU(t)),o=a(m=>{let y=new Id(["shape","payload","ctx"]),g=n.value,h=a(w=>{let k=Eh(w);return`shape[${k}]._zod.run({ value: input[${k}], issues: [] }, ctx)`},"parseStr");y.write("const input = payload.value;");let v=Object.create(null),S=0;for(let w of g.keys)v[w]=`key_${S++}`;y.write("const newResult = {};");for(let w of g.keys){let k=v[w],$=Eh(w);y.write(`const ${k} = ${h(w)};`),y.write(`
        if (${k}.issues.length) {
          payload.issues = payload.issues.concat(${k}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${$}, ...iss.path] : [${$}]
          })));
        }
        
        
        if (${k}.value === undefined) {
          if (${$} in input) {
            newResult[${$}] = undefined;
          }
        } else {
          newResult[${$}] = ${k}.value;
        }
        
      `)}y.write("payload.value = newResult;"),y.write("return payload;");let b=y.compile();return(w,k)=>b(m,w,k)},"generateFastpass"),i,s=_s,u=!gd.jitless,d=u&&Ak.value,p=t.catchall,f;e._zod.parse=(m,y)=>{f??(f=n.value);let g=m.value;return s(g)?u&&d&&y?.async===!1&&y.jitless!==!0?(i||(i=o(t.shape)),m=i(m,y),p?LU([],g,m,y,f,e):m):r(m,y):(m.issues.push({expected:"object",code:"invalid_type",input:g,inst:e}),m)}});function OU(e,t,r,n){for(let i of e)if(i.issues.length===0)return t.value=i.value,t;let o=e.filter(i=>!Ia(i));return o.length===1?(t.value=o[0].value,o[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(i=>i.issues.map(s=>Dn(s,n,_r())))}),t)}a(OU,"handleUnionResults");var Zh=J("$ZodUnion",(e,t)=>{Ze.init(e,t),dt(e._zod,"optin",()=>t.options.some(o=>o._zod.optin==="optional")?"optional":void 0),dt(e._zod,"optout",()=>t.options.some(o=>o._zod.optout==="optional")?"optional":void 0),dt(e._zod,"values",()=>{if(t.options.every(o=>o._zod.values))return new Set(t.options.flatMap(o=>Array.from(o._zod.values)))}),dt(e._zod,"pattern",()=>{if(t.options.every(o=>o._zod.pattern)){let o=t.options.map(i=>i._zod.pattern);return new RegExp(`^(${o.map(i=>_d(i.source)).join("|")})$`)}});let r=t.options.length===1,n=t.options[0]._zod.run;e._zod.parse=(o,i)=>{if(r)return n(o,i);let s=!1,u=[];for(let l of t.options){let d=l._zod.run({value:o.value,issues:[]},i);if(d instanceof Promise)u.push(d),s=!0;else{if(d.issues.length===0)return d;u.push(d)}}return s?Promise.all(u).then(l=>OU(l,o,e,i)):OU(u,o,e,i)}}),_I=J("$ZodDiscriminatedUnion",(e,t)=>{Zh.init(e,t);let r=e._zod.parse;dt(e._zod,"propValues",()=>{let o={};for(let i of t.options){let s=i._zod.propValues;if(!s||Object.keys(s).length===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(i)}"`);for(let[u,l]of Object.entries(s)){o[u]||(o[u]=new Set);for(let d of l)o[u].add(d)}}return o});let n=Zu(()=>{let o=t.options,i=new Map;for(let s of o){let u=s._zod.propValues?.[t.discriminator];if(!u||u.size===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(s)}"`);for(let l of u){if(i.has(l))throw new Error(`Duplicate discriminator value "${String(l)}"`);i.set(l,s)}}return i});e._zod.parse=(o,i)=>{let s=o.value;if(!_s(s))return o.issues.push({code:"invalid_type",expected:"object",input:s,inst:e}),o;let u=n.value.get(s?.[t.discriminator]);return u?u._zod.run(o,i):t.unionFallback?r(o,i):(o.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:t.discriminator,input:s,path:[t.discriminator],inst:e}),o)}}),bI=J("$ZodIntersection",(e,t)=>{Ze.init(e,t),e._zod.parse=(r,n)=>{let o=r.value,i=t.left._zod.run({value:o,issues:[]},n),s=t.right._zod.run({value:o,issues:[]},n);return i instanceof Promise||s instanceof Promise?Promise.all([i,s]).then(([l,d])=>AU(r,l,d)):AU(r,i,s)}});function NP(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Pa(e)&&Pa(t)){let r=Object.keys(t),n=Object.keys(e).filter(i=>r.indexOf(i)!==-1),o={...e,...t};for(let i of n){let s=NP(e[i],t[i]);if(!s.valid)return{valid:!1,mergeErrorPath:[i,...s.mergeErrorPath]};o[i]=s.data}return{valid:!0,data:o}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};let r=[];for(let n=0;n<e.length;n++){let o=e[n],i=t[n],s=NP(o,i);if(!s.valid)return{valid:!1,mergeErrorPath:[n,...s.mergeErrorPath]};r.push(s.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}a(NP,"mergeValues");function AU(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),Ia(e))return e;let n=NP(t.value,r.value);if(!n.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return e.value=n.data,e}a(AU,"handleIntersectionResults");var Kh=J("$ZodTuple",(e,t)=>{Ze.init(e,t);let r=t.items;e._zod.parse=(n,o)=>{let i=n.value;if(!Array.isArray(i))return n.issues.push({input:i,inst:e,expected:"tuple",code:"invalid_type"}),n;n.value=[];let s=[],u=[...r].reverse().findIndex(p=>p._zod.optin!=="optional"),l=u===-1?0:r.length-u;if(!t.rest){let p=i.length>r.length,f=i.length<l-1;if(p||f)return n.issues.push({...p?{code:"too_big",maximum:r.length}:{code:"too_small",minimum:r.length},input:i,inst:e,origin:"array"}),n}let d=-1;for(let p of r){if(d++,d>=i.length&&d>=l)continue;let f=p._zod.run({value:i[d],issues:[]},o);f instanceof Promise?s.push(f.then(m=>Uh(m,n,d))):Uh(f,n,d)}if(t.rest){let p=i.slice(r.length);for(let f of p){d++;let m=t.rest._zod.run({value:f,issues:[]},o);m instanceof Promise?s.push(m.then(y=>Uh(y,n,d))):Uh(m,n,d)}}return s.length?Promise.all(s).then(()=>n):n}});function Uh(e,t,r){e.issues.length&&t.issues.push(...jn(r,e.issues)),t.value[r]=e.value}a(Uh,"handleTupleResult");var SI=J("$ZodRecord",(e,t)=>{Ze.init(e,t),e._zod.parse=(r,n)=>{let o=r.value;if(!Pa(o))return r.issues.push({expected:"record",code:"invalid_type",input:o,inst:e}),r;let i=[],s=t.keyType._zod.values;if(s){r.value={};let u=new Set;for(let d of s)if(typeof d=="string"||typeof d=="number"||typeof d=="symbol"){u.add(typeof d=="number"?d.toString():d);let p=t.valueType._zod.run({value:o[d],issues:[]},n);p instanceof Promise?i.push(p.then(f=>{f.issues.length&&r.issues.push(...jn(d,f.issues)),r.value[d]=f.value})):(p.issues.length&&r.issues.push(...jn(d,p.issues)),r.value[d]=p.value)}let l;for(let d in o)u.has(d)||(l=l??[],l.push(d));l&&l.length>0&&r.issues.push({code:"unrecognized_keys",input:o,inst:e,keys:l})}else{r.value={};for(let u of Reflect.ownKeys(o)){if(u==="__proto__")continue;let l=t.keyType._zod.run({value:u,issues:[]},n);if(l instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(l.issues.length){r.issues.push({code:"invalid_key",origin:"record",issues:l.issues.map(p=>Dn(p,n,_r())),input:u,path:[u],inst:e}),r.value[l.value]=l.value;continue}let d=t.valueType._zod.run({value:o[u],issues:[]},n);d instanceof Promise?i.push(d.then(p=>{p.issues.length&&r.issues.push(...jn(u,p.issues)),r.value[l.value]=p.value})):(d.issues.length&&r.issues.push(...jn(u,d.issues)),r.value[l.value]=d.value)}}return i.length?Promise.all(i).then(()=>r):r}}),wI=J("$ZodMap",(e,t)=>{Ze.init(e,t),e._zod.parse=(r,n)=>{let o=r.value;if(!(o instanceof Map))return r.issues.push({expected:"map",code:"invalid_type",input:o,inst:e}),r;let i=[];r.value=new Map;for(let[s,u]of o){let l=t.keyType._zod.run({value:s,issues:[]},n),d=t.valueType._zod.run({value:u,issues:[]},n);l instanceof Promise||d instanceof Promise?i.push(Promise.all([l,d]).then(([p,f])=>{CU(p,f,r,s,o,e,n)})):CU(l,d,r,s,o,e,n)}return i.length?Promise.all(i).then(()=>r):r}});function CU(e,t,r,n,o,i,s){e.issues.length&&(bd.has(typeof n)?r.issues.push(...jn(n,e.issues)):r.issues.push({code:"invalid_key",origin:"map",input:o,inst:i,issues:e.issues.map(u=>Dn(u,s,_r()))})),t.issues.length&&(bd.has(typeof n)?r.issues.push(...jn(n,t.issues)):r.issues.push({origin:"map",code:"invalid_element",input:o,inst:i,key:n,issues:t.issues.map(u=>Dn(u,s,_r()))})),r.value.set(e.value,t.value)}a(CU,"handleMapResult");var xI=J("$ZodSet",(e,t)=>{Ze.init(e,t),e._zod.parse=(r,n)=>{let o=r.value;if(!(o instanceof Set))return r.issues.push({input:o,inst:e,expected:"set",code:"invalid_type"}),r;let i=[];r.value=new Set;for(let s of o){let u=t.valueType._zod.run({value:s,issues:[]},n);u instanceof Promise?i.push(u.then(l=>RU(l,r))):RU(u,r)}return i.length?Promise.all(i).then(()=>r):r}});function RU(e,t){e.issues.length&&t.issues.push(...e.issues),t.value.add(e.value)}a(RU,"handleSetResult");var TI=J("$ZodEnum",(e,t)=>{Ze.init(e,t);let r=vd(t.entries),n=new Set(r);e._zod.values=n,e._zod.pattern=new RegExp(`^(${r.filter(o=>bd.has(typeof o)).map(o=>typeof o=="string"?Gn(o):o.toString()).join("|")})$`),e._zod.parse=(o,i)=>{let s=o.value;return n.has(s)||o.issues.push({code:"invalid_value",values:r,input:s,inst:e}),o}}),EI=J("$ZodLiteral",(e,t)=>{if(Ze.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");let r=new Set(t.values);e._zod.values=r,e._zod.pattern=new RegExp(`^(${t.values.map(n=>typeof n=="string"?Gn(n):n?Gn(n.toString()):String(n)).join("|")})$`),e._zod.parse=(n,o)=>{let i=n.value;return r.has(i)||n.issues.push({code:"invalid_value",values:t.values,input:i,inst:e}),n}}),kI=J("$ZodFile",(e,t)=>{Ze.init(e,t),e._zod.parse=(r,n)=>{let o=r.value;return o instanceof File||r.issues.push({expected:"file",code:"invalid_type",input:o,inst:e}),r}}),PI=J("$ZodTransform",(e,t)=>{Ze.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new xa(e.constructor.name);let o=t.transform(r.value,r);if(n.async)return(o instanceof Promise?o:Promise.resolve(o)).then(s=>(r.value=s,r));if(o instanceof Promise)throw new To;return r.value=o,r}});function $U(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}a($U,"handleOptionalResult");var II=J("$ZodOptional",(e,t)=>{Ze.init(e,t),e._zod.optin="optional",e._zod.optout="optional",dt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),dt(e._zod,"pattern",()=>{let r=t.innerType._zod.pattern;return r?new RegExp(`^(${_d(r.source)})?$`):void 0}),e._zod.parse=(r,n)=>{if(t.innerType._zod.optin==="optional"){let o=t.innerType._zod.run(r,n);return o instanceof Promise?o.then(i=>$U(i,r.value)):$U(o,r.value)}return r.value===void 0?r:t.innerType._zod.run(r,n)}}),OI=J("$ZodNullable",(e,t)=>{Ze.init(e,t),dt(e._zod,"optin",()=>t.innerType._zod.optin),dt(e._zod,"optout",()=>t.innerType._zod.optout),dt(e._zod,"pattern",()=>{let r=t.innerType._zod.pattern;return r?new RegExp(`^(${_d(r.source)}|null)$`):void 0}),dt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,n)=>r.value===null?r:t.innerType._zod.run(r,n)}),AI=J("$ZodDefault",(e,t)=>{Ze.init(e,t),e._zod.optin="optional",dt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);if(r.value===void 0)return r.value=t.defaultValue,r;let o=t.innerType._zod.run(r,n);return o instanceof Promise?o.then(i=>NU(i,t)):NU(o,t)}});function NU(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}a(NU,"handleDefaultResult");var CI=J("$ZodPrefault",(e,t)=>{Ze.init(e,t),e._zod.optin="optional",dt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>(n.direction==="backward"||r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,n))}),RI=J("$ZodNonOptional",(e,t)=>{Ze.init(e,t),dt(e._zod,"values",()=>{let r=t.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),e._zod.parse=(r,n)=>{let o=t.innerType._zod.run(r,n);return o instanceof Promise?o.then(i=>zU(i,e)):zU(o,e)}});function zU(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}a(zU,"handleNonOptionalResult");var $I=J("$ZodSuccess",(e,t)=>{Ze.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new xa("ZodSuccess");let o=t.innerType._zod.run(r,n);return o instanceof Promise?o.then(i=>(r.value=i.issues.length===0,r)):(r.value=o.issues.length===0,r)}}),NI=J("$ZodCatch",(e,t)=>{Ze.init(e,t),dt(e._zod,"optin",()=>t.innerType._zod.optin),dt(e._zod,"optout",()=>t.innerType._zod.optout),dt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);let o=t.innerType._zod.run(r,n);return o instanceof Promise?o.then(i=>(r.value=i.value,i.issues.length&&(r.value=t.catchValue({...r,error:{issues:i.issues.map(s=>Dn(s,n,_r()))},input:r.value}),r.issues=[]),r)):(r.value=o.value,o.issues.length&&(r.value=t.catchValue({...r,error:{issues:o.issues.map(i=>Dn(i,n,_r()))},input:r.value}),r.issues=[]),r)}}),zI=J("$ZodNaN",(e,t)=>{Ze.init(e,t),e._zod.parse=(r,n)=>((typeof r.value!="number"||!Number.isNaN(r.value))&&r.issues.push({input:r.value,inst:e,expected:"nan",code:"invalid_type"}),r)}),jI=J("$ZodPipe",(e,t)=>{Ze.init(e,t),dt(e._zod,"values",()=>t.in._zod.values),dt(e._zod,"optin",()=>t.in._zod.optin),dt(e._zod,"optout",()=>t.out._zod.optout),dt(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{if(n.direction==="backward"){let i=t.out._zod.run(r,n);return i instanceof Promise?i.then(s=>Lh(s,t.in,n)):Lh(i,t.in,n)}let o=t.in._zod.run(r,n);return o instanceof Promise?o.then(i=>Lh(i,t.out,n)):Lh(o,t.out,n)}});function Lh(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}a(Lh,"handlePipeResult");var Ad=J("$ZodCodec",(e,t)=>{Ze.init(e,t),dt(e._zod,"values",()=>t.in._zod.values),dt(e._zod,"optin",()=>t.in._zod.optin),dt(e._zod,"optout",()=>t.out._zod.optout),dt(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{if((n.direction||"forward")==="forward"){let i=t.in._zod.run(r,n);return i instanceof Promise?i.then(s=>Fh(s,t,n)):Fh(i,t,n)}else{let i=t.out._zod.run(r,n);return i instanceof Promise?i.then(s=>Fh(s,t,n)):Fh(i,t,n)}}});function Fh(e,t,r){if(e.issues.length)return e.aborted=!0,e;if((r.direction||"forward")==="forward"){let o=t.transform(e.value,e);return o instanceof Promise?o.then(i=>Bh(e,i,t.out,r)):Bh(e,o,t.out,r)}else{let o=t.reverseTransform(e.value,e);return o instanceof Promise?o.then(i=>Bh(e,i,t.in,r)):Bh(e,o,t.in,r)}}a(Fh,"handleCodecAResult");function Bh(e,t,r,n){return e.issues.length?(e.aborted=!0,e):r._zod.run({value:t,issues:e.issues},n)}a(Bh,"handleCodecTxResult");var DI=J("$ZodReadonly",(e,t)=>{Ze.init(e,t),dt(e._zod,"propValues",()=>t.innerType._zod.propValues),dt(e._zod,"values",()=>t.innerType._zod.values),dt(e._zod,"optin",()=>t.innerType?._zod?.optin),dt(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);let o=t.innerType._zod.run(r,n);return o instanceof Promise?o.then(jU):jU(o)}});function jU(e){return e.value=Object.freeze(e.value),e}a(jU,"handleReadonlyResult");var MI=J("$ZodTemplateLiteral",(e,t)=>{Ze.init(e,t);let r=[];for(let n of t.parts)if(typeof n=="object"&&n!==null){if(!n._zod.pattern)throw new Error(`Invalid template literal part, no pattern found: ${[...n._zod.traits].shift()}`);let o=n._zod.pattern instanceof RegExp?n._zod.pattern.source:n._zod.pattern;if(!o)throw new Error(`Invalid template literal part: ${n._zod.traits}`);let i=o.startsWith("^")?1:0,s=o.endsWith("$")?o.length-1:o.length;r.push(o.slice(i,s))}else if(n===null||Rk.has(typeof n))r.push(Gn(`${n}`));else throw new Error(`Invalid template literal part: ${n}`);e._zod.pattern=new RegExp(`^${r.join("")}$`),e._zod.parse=(n,o)=>typeof n.value!="string"?(n.issues.push({input:n.value,inst:e,expected:"template_literal",code:"invalid_type"}),n):(e._zod.pattern.lastIndex=0,e._zod.pattern.test(n.value)||n.issues.push({input:n.value,inst:e,code:"invalid_format",format:t.format??"template_literal",pattern:e._zod.pattern.source}),n)}),qI=J("$ZodFunction",(e,t)=>(Ze.init(e,t),e._def=t,e._zod.def=t,e.implement=r=>{if(typeof r!="function")throw new Error("implement() must be called with a function");return function(...n){let o=e._def.input?Ph(e._def.input,n):n,i=Reflect.apply(r,this,o);return e._def.output?Ph(e._def.output,i):i}},e.implementAsync=r=>{if(typeof r!="function")throw new Error("implementAsync() must be called with a function");return async function(...n){let o=e._def.input?await Ih(e._def.input,n):n,i=await Reflect.apply(r,this,o);return e._def.output?await Ih(e._def.output,i):i}},e._zod.parse=(r,n)=>typeof r.value!="function"?(r.issues.push({code:"invalid_type",expected:"function",input:r.value,inst:e}),r):(e._def.output&&e._def.output._zod.def.type==="promise"?r.value=e.implementAsync(r.value):r.value=e.implement(r.value),r),e.input=(...r)=>{let n=e.constructor;return Array.isArray(r[0])?new n({type:"function",input:new Kh({type:"tuple",items:r[0],rest:r[1]}),output:e._def.output}):new n({type:"function",input:r[0],output:e._def.output})},e.output=r=>{let n=e.constructor;return new n({type:"function",input:e._def.input,output:r})},e)),UI=J("$ZodPromise",(e,t)=>{Ze.init(e,t),e._zod.parse=(r,n)=>Promise.resolve(r.value).then(o=>t.innerType._zod.run({value:o,issues:[]},n))}),LI=J("$ZodLazy",(e,t)=>{Ze.init(e,t),dt(e._zod,"innerType",()=>t.getter()),dt(e._zod,"pattern",()=>e._zod.innerType?._zod?.pattern),dt(e._zod,"propValues",()=>e._zod.innerType?._zod?.propValues),dt(e._zod,"optin",()=>e._zod.innerType?._zod?.optin??void 0),dt(e._zod,"optout",()=>e._zod.innerType?._zod?.optout??void 0),e._zod.parse=(r,n)=>e._zod.innerType._zod.run(r,n)}),FI=J("$ZodCustom",(e,t)=>{Ut.init(e,t),Ze.init(e,t),e._zod.parse=(r,n)=>r,e._zod.check=r=>{let n=r.value,o=t.fn(n);if(o instanceof Promise)return o.then(i=>DU(i,r,n,e));DU(o,r,n,e)}});function DU(e,t,r,n){if(!e){let o={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(o.params=n._zod.def.params),t.issues.push(Ku(o))}}a(DU,"handleRefineResult");var jd={};_n(jd,{ar:()=>BI,az:()=>JI,be:()=>HI,bg:()=>VI,ca:()=>ZI,cs:()=>KI,da:()=>GI,de:()=>WI,en:()=>Cd,eo:()=>QI,es:()=>XI,fa:()=>YI,fi:()=>eO,fr:()=>tO,frCA:()=>rO,he:()=>nO,hu:()=>oO,id:()=>iO,is:()=>aO,it:()=>sO,ja:()=>uO,ka:()=>cO,kh:()=>lO,km:()=>Rd,ko:()=>dO,lt:()=>pO,mk:()=>mO,ms:()=>fO,nl:()=>hO,no:()=>gO,ota:()=>yO,pl:()=>_O,ps:()=>vO,pt:()=>bO,ru:()=>SO,sl:()=>wO,sv:()=>xO,ta:()=>TO,th:()=>EO,tr:()=>kO,ua:()=>PO,uk:()=>zd,ur:()=>IO,vi:()=>OO,yo:()=>RO,zhCN:()=>AO,zhTW:()=>CO});var Aie=a(()=>{let e={string:{unit:"\u062D\u0631\u0641",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},file:{unit:"\u0628\u0627\u064A\u062A",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},array:{unit:"\u0639\u0646\u0635\u0631",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},set:{unit:"\u0639\u0646\u0635\u0631",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"number";case"object":{if(Array.isArray(o))return"array";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\u0645\u062F\u062E\u0644",email:"\u0628\u0631\u064A\u062F \u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A",url:"\u0631\u0627\u0628\u0637",emoji:"\u0625\u064A\u0645\u0648\u062C\u064A",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u062A\u0627\u0631\u064A\u062E \u0648\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO",date:"\u062A\u0627\u0631\u064A\u062E \u0628\u0645\u0639\u064A\u0627\u0631 ISO",time:"\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO",duration:"\u0645\u062F\u0629 \u0628\u0645\u0639\u064A\u0627\u0631 ISO",ipv4:"\u0639\u0646\u0648\u0627\u0646 IPv4",ipv6:"\u0639\u0646\u0648\u0627\u0646 IPv6",cidrv4:"\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv4",cidrv6:"\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv6",base64:"\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64-encoded",base64url:"\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64url-encoded",json_string:"\u0646\u064E\u0635 \u0639\u0644\u0649 \u0647\u064A\u0626\u0629 JSON",e164:"\u0631\u0642\u0645 \u0647\u0627\u062A\u0641 \u0628\u0645\u0639\u064A\u0627\u0631 E.164",jwt:"JWT",template_literal:"\u0645\u062F\u062E\u0644"};return o=>{switch(o.code){case"invalid_type":return`\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${o.expected}\u060C \u0648\u0644\u0643\u0646 \u062A\u0645 \u0625\u062F\u062E\u0627\u0644 ${r(o.input)}`;case"invalid_value":return o.values.length===1?`\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${le(o.values[0])}`:`\u0627\u062E\u062A\u064A\u0627\u0631 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062A\u0648\u0642\u0639 \u0627\u0646\u062A\u0642\u0627\u0621 \u0623\u062D\u062F \u0647\u0630\u0647 \u0627\u0644\u062E\u064A\u0627\u0631\u0627\u062A: ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?` \u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${o.origin??"\u0627\u0644\u0642\u064A\u0645\u0629"} ${i} ${o.maximum.toString()} ${s.unit??"\u0639\u0646\u0635\u0631"}`:`\u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${o.origin??"\u0627\u0644\u0642\u064A\u0645\u0629"} ${i} ${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${o.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${i} ${o.minimum.toString()} ${s.unit}`:`\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${o.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${i} ${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0628\u062F\u0623 \u0628\u0640 "${o.prefix}"`:i.format==="ends_with"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0646\u062A\u0647\u064A \u0628\u0640 "${i.suffix}"`:i.format==="includes"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u062A\u0636\u0645\u0651\u064E\u0646 "${i.includes}"`:i.format==="regex"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0637\u0627\u0628\u0642 \u0627\u0644\u0646\u0645\u0637 ${i.pattern}`:`${n[i.format]??o.format} \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644`}case"not_multiple_of":return`\u0631\u0642\u0645 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0645\u0646 \u0645\u0636\u0627\u0639\u0641\u0627\u062A ${o.divisor}`;case"unrecognized_keys":return`\u0645\u0639\u0631\u0641${o.keys.length>1?"\u0627\u062A":""} \u063A\u0631\u064A\u0628${o.keys.length>1?"\u0629":""}: ${ee(o.keys,"\u060C ")}`;case"invalid_key":return`\u0645\u0639\u0631\u0641 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${o.origin}`;case"invalid_union":return"\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644";case"invalid_element":return`\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${o.origin}`;default:return"\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644"}}},"error");function BI(){return{localeError:Aie()}}a(BI,"default");var Cie=a(()=>{let e={string:{unit:"simvol",verb:"olmal\u0131d\u0131r"},file:{unit:"bayt",verb:"olmal\u0131d\u0131r"},array:{unit:"element",verb:"olmal\u0131d\u0131r"},set:{unit:"element",verb:"olmal\u0131d\u0131r"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"number";case"object":{if(Array.isArray(o))return"array";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return o=>{switch(o.code){case"invalid_type":return`Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n ${o.expected}, daxil olan ${r(o.input)}`;case"invalid_value":return o.values.length===1?`Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n ${le(o.values[0])}`:`Yanl\u0131\u015F se\xE7im: a\u015Fa\u011F\u0131dak\u0131lardan biri olmal\u0131d\u0131r: ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`\xC7ox b\xF6y\xFCk: g\xF6zl\u0259nil\u0259n ${o.origin??"d\u0259y\u0259r"} ${i}${o.maximum.toString()} ${s.unit??"element"}`:`\xC7ox b\xF6y\xFCk: g\xF6zl\u0259nil\u0259n ${o.origin??"d\u0259y\u0259r"} ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`\xC7ox ki\xE7ik: g\xF6zl\u0259nil\u0259n ${o.origin} ${i}${o.minimum.toString()} ${s.unit}`:`\xC7ox ki\xE7ik: g\xF6zl\u0259nil\u0259n ${o.origin} ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Yanl\u0131\u015F m\u0259tn: "${i.prefix}" il\u0259 ba\u015Flamal\u0131d\u0131r`:i.format==="ends_with"?`Yanl\u0131\u015F m\u0259tn: "${i.suffix}" il\u0259 bitm\u0259lidir`:i.format==="includes"?`Yanl\u0131\u015F m\u0259tn: "${i.includes}" daxil olmal\u0131d\u0131r`:i.format==="regex"?`Yanl\u0131\u015F m\u0259tn: ${i.pattern} \u015Fablonuna uy\u011Fun olmal\u0131d\u0131r`:`Yanl\u0131\u015F ${n[i.format]??o.format}`}case"not_multiple_of":return`Yanl\u0131\u015F \u0259d\u0259d: ${o.divisor} il\u0259 b\xF6l\xFCn\u0259 bil\u0259n olmal\u0131d\u0131r`;case"unrecognized_keys":return`Tan\u0131nmayan a\xE7ar${o.keys.length>1?"lar":""}: ${ee(o.keys,", ")}`;case"invalid_key":return`${o.origin} daxilind\u0259 yanl\u0131\u015F a\xE7ar`;case"invalid_union":return"Yanl\u0131\u015F d\u0259y\u0259r";case"invalid_element":return`${o.origin} daxilind\u0259 yanl\u0131\u015F d\u0259y\u0259r`;default:return"Yanl\u0131\u015F d\u0259y\u0259r"}}},"error");function JI(){return{localeError:Cie()}}a(JI,"default");function BU(e,t,r,n){let o=Math.abs(e),i=o%10,s=o%100;return s>=11&&s<=19?n:i===1?t:i>=2&&i<=4?r:n}a(BU,"getBelarusianPlural");var Rie=a(()=>{let e={string:{unit:{one:"\u0441\u0456\u043C\u0432\u0430\u043B",few:"\u0441\u0456\u043C\u0432\u0430\u043B\u044B",many:"\u0441\u0456\u043C\u0432\u0430\u043B\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},array:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},set:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},file:{unit:{one:"\u0431\u0430\u0439\u0442",few:"\u0431\u0430\u0439\u0442\u044B",many:"\u0431\u0430\u0439\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"\u043B\u0456\u043A";case"object":{if(Array.isArray(o))return"\u043C\u0430\u0441\u0456\u045E";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\u0443\u0432\u043E\u0434",email:"email \u0430\u0434\u0440\u0430\u0441",url:"URL",emoji:"\u044D\u043C\u043E\u0434\u0437\u0456",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0430 \u0456 \u0447\u0430\u0441",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0447\u0430\u0441",duration:"ISO \u043F\u0440\u0430\u0446\u044F\u0433\u043B\u0430\u0441\u0446\u044C",ipv4:"IPv4 \u0430\u0434\u0440\u0430\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0430\u0441",cidrv4:"IPv4 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D",base64:"\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64",base64url:"\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64url",json_string:"JSON \u0440\u0430\u0434\u043E\u043A",e164:"\u043D\u0443\u043C\u0430\u0440 E.164",jwt:"JWT",template_literal:"\u0443\u0432\u043E\u0434"};return o=>{switch(o.code){case"invalid_type":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u045E\u0441\u044F ${o.expected}, \u0430\u0442\u0440\u044B\u043C\u0430\u043D\u0430 ${r(o.input)}`;case"invalid_value":return o.values.length===1?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F ${le(o.values[0])}`:`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0432\u0430\u0440\u044B\u044F\u043D\u0442: \u0447\u0430\u043A\u0430\u045E\u0441\u044F \u0430\u0434\u0437\u0456\u043D \u0437 ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);if(s){let u=Number(o.maximum),l=BU(u,s.unit.one,s.unit.few,s.unit.many);return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${o.origin??"\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${s.verb} ${i}${o.maximum.toString()} ${l}`}return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${o.origin??"\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);if(s){let u=Number(o.minimum),l=BU(u,s.unit.one,s.unit.few,s.unit.many);return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${o.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${s.verb} ${i}${o.minimum.toString()} ${l}`}return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${o.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u043F\u0430\u0447\u044B\u043D\u0430\u0446\u0446\u0430 \u0437 "${i.prefix}"`:i.format==="ends_with"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u0430\u043A\u0430\u043D\u0447\u0432\u0430\u0446\u0446\u0430 \u043D\u0430 "${i.suffix}"`:i.format==="includes"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u043C\u044F\u0448\u0447\u0430\u0446\u044C "${i.includes}"`:i.format==="regex"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0430\u0434\u043F\u0430\u0432\u044F\u0434\u0430\u0446\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${i.pattern}`:`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B ${n[i.format]??o.format}`}case"not_multiple_of":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043B\u0456\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0431\u044B\u0446\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${o.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0441\u043F\u0430\u0437\u043D\u0430\u043D\u044B ${o.keys.length>1?"\u043A\u043B\u044E\u0447\u044B":"\u043A\u043B\u044E\u0447"}: ${ee(o.keys,", ")}`;case"invalid_key":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043A\u043B\u044E\u0447 \u0443 ${o.origin}`;case"invalid_union":return"\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434";case"invalid_element":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u0430\u0435 \u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435 \u045E ${o.origin}`;default:return"\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434"}}},"error");function HI(){return{localeError:Rie()}}a(HI,"default");var $ie=a(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"\u0447\u0438\u0441\u043B\u043E";case"object":{if(Array.isArray(e))return"\u043C\u0430\u0441\u0438\u0432";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},"parsedType"),Nie=a(()=>{let e={string:{unit:"\u0441\u0438\u043C\u0432\u043E\u043B\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"},file:{unit:"\u0431\u0430\u0439\u0442\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"},array:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"},set:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"}};function t(n){return e[n]??null}a(t,"getSizing");let r={regex:"\u0432\u0445\u043E\u0434",email:"\u0438\u043C\u0435\u0439\u043B \u0430\u0434\u0440\u0435\u0441",url:"URL",emoji:"\u0435\u043C\u043E\u0434\u0436\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0432\u0440\u0435\u043C\u0435",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0432\u0440\u0435\u043C\u0435",duration:"ISO \u043F\u0440\u043E\u0434\u044A\u043B\u0436\u0438\u0442\u0435\u043B\u043D\u043E\u0441\u0442",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441",cidrv4:"IPv4 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",base64:"base64-\u043A\u043E\u0434\u0438\u0440\u0430\u043D \u043D\u0438\u0437",base64url:"base64url-\u043A\u043E\u0434\u0438\u0440\u0430\u043D \u043D\u0438\u0437",json_string:"JSON \u043D\u0438\u0437",e164:"E.164 \u043D\u043E\u043C\u0435\u0440",jwt:"JWT",template_literal:"\u0432\u0445\u043E\u0434"};return n=>{switch(n.code){case"invalid_type":return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434: \u043E\u0447\u0430\u043A\u0432\u0430\u043D ${n.expected}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D ${$ie(n.input)}`;case"invalid_value":return n.values.length===1?`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434: \u043E\u0447\u0430\u043A\u0432\u0430\u043D ${le(n.values[0])}`:`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430 \u043E\u043F\u0446\u0438\u044F: \u043E\u0447\u0430\u043A\u0432\u0430\u043D\u043E \u0435\u0434\u043D\u043E \u043E\u0442 ${ee(n.values,"|")}`;case"too_big":{let o=n.inclusive?"<=":"<",i=t(n.origin);return i?`\u0422\u0432\u044A\u0440\u0434\u0435 \u0433\u043E\u043B\u044F\u043C\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${n.origin??"\u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442"} \u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430 ${o}${n.maximum.toString()} ${i.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430"}`:`\u0422\u0432\u044A\u0440\u0434\u0435 \u0433\u043E\u043B\u044F\u043C\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${n.origin??"\u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442"} \u0434\u0430 \u0431\u044A\u0434\u0435 ${o}${n.maximum.toString()}`}case"too_small":{let o=n.inclusive?">=":">",i=t(n.origin);return i?`\u0422\u0432\u044A\u0440\u0434\u0435 \u043C\u0430\u043B\u043A\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${n.origin} \u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430 ${o}${n.minimum.toString()} ${i.unit}`:`\u0422\u0432\u044A\u0440\u0434\u0435 \u043C\u0430\u043B\u043A\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${n.origin} \u0434\u0430 \u0431\u044A\u0434\u0435 ${o}${n.minimum.toString()}`}case"invalid_format":{let o=n;if(o.format==="starts_with")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0437\u0430\u043F\u043E\u0447\u0432\u0430 \u0441 "${o.prefix}"`;if(o.format==="ends_with")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0437\u0430\u0432\u044A\u0440\u0448\u0432\u0430 \u0441 "${o.suffix}"`;if(o.format==="includes")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0432\u043A\u043B\u044E\u0447\u0432\u0430 "${o.includes}"`;if(o.format==="regex")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0441\u044A\u0432\u043F\u0430\u0434\u0430 \u0441 ${o.pattern}`;let i="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D";return o.format==="emoji"&&(i="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E"),o.format==="datetime"&&(i="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E"),o.format==="date"&&(i="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430"),o.format==="time"&&(i="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E"),o.format==="duration"&&(i="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430"),`${i} ${r[o.format]??n.format}`}case"not_multiple_of":return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E \u0447\u0438\u0441\u043B\u043E: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0431\u044A\u0434\u0435 \u043A\u0440\u0430\u0442\u043D\u043E \u043D\u0430 ${n.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0437\u043F\u043E\u0437\u043D\u0430\u0442${n.keys.length>1?"\u0438":""} \u043A\u043B\u044E\u0447${n.keys.length>1?"\u043E\u0432\u0435":""}: ${ee(n.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043A\u043B\u044E\u0447 \u0432 ${n.origin}`;case"invalid_union":return"\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434";case"invalid_element":return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430 \u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442 \u0432 ${n.origin}`;default:return"\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434"}}},"error");function VI(){return{localeError:Nie()}}a(VI,"default");var zie=a(()=>{let e={string:{unit:"car\xE0cters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"number";case"object":{if(Array.isArray(o))return"array";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"entrada",email:"adre\xE7a electr\xF2nica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adre\xE7a IPv4",ipv6:"adre\xE7a IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"};return o=>{switch(o.code){case"invalid_type":return`Tipus inv\xE0lid: s'esperava ${o.expected}, s'ha rebut ${r(o.input)}`;case"invalid_value":return o.values.length===1?`Valor inv\xE0lid: s'esperava ${le(o.values[0])}`:`Opci\xF3 inv\xE0lida: s'esperava una de ${ee(o.values," o ")}`;case"too_big":{let i=o.inclusive?"com a m\xE0xim":"menys de",s=t(o.origin);return s?`Massa gran: s'esperava que ${o.origin??"el valor"} contingu\xE9s ${i} ${o.maximum.toString()} ${s.unit??"elements"}`:`Massa gran: s'esperava que ${o.origin??"el valor"} fos ${i} ${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?"com a m\xEDnim":"m\xE9s de",s=t(o.origin);return s?`Massa petit: s'esperava que ${o.origin} contingu\xE9s ${i} ${o.minimum.toString()} ${s.unit}`:`Massa petit: s'esperava que ${o.origin} fos ${i} ${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Format inv\xE0lid: ha de comen\xE7ar amb "${i.prefix}"`:i.format==="ends_with"?`Format inv\xE0lid: ha d'acabar amb "${i.suffix}"`:i.format==="includes"?`Format inv\xE0lid: ha d'incloure "${i.includes}"`:i.format==="regex"?`Format inv\xE0lid: ha de coincidir amb el patr\xF3 ${i.pattern}`:`Format inv\xE0lid per a ${n[i.format]??o.format}`}case"not_multiple_of":return`N\xFAmero inv\xE0lid: ha de ser m\xFAltiple de ${o.divisor}`;case"unrecognized_keys":return`Clau${o.keys.length>1?"s":""} no reconeguda${o.keys.length>1?"s":""}: ${ee(o.keys,", ")}`;case"invalid_key":return`Clau inv\xE0lida a ${o.origin}`;case"invalid_union":return"Entrada inv\xE0lida";case"invalid_element":return`Element inv\xE0lid a ${o.origin}`;default:return"Entrada inv\xE0lida"}}},"error");function ZI(){return{localeError:zie()}}a(ZI,"default");var jie=a(()=>{let e={string:{unit:"znak\u016F",verb:"m\xEDt"},file:{unit:"bajt\u016F",verb:"m\xEDt"},array:{unit:"prvk\u016F",verb:"m\xEDt"},set:{unit:"prvk\u016F",verb:"m\xEDt"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"\u010D\xEDslo";case"string":return"\u0159et\u011Bzec";case"boolean":return"boolean";case"bigint":return"bigint";case"function":return"funkce";case"symbol":return"symbol";case"undefined":return"undefined";case"object":{if(Array.isArray(o))return"pole";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"regul\xE1rn\xED v\xFDraz",email:"e-mailov\xE1 adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a \u010Das ve form\xE1tu ISO",date:"datum ve form\xE1tu ISO",time:"\u010Das ve form\xE1tu ISO",duration:"doba trv\xE1n\xED ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"\u0159et\u011Bzec zak\xF3dovan\xFD ve form\xE1tu base64",base64url:"\u0159et\u011Bzec zak\xF3dovan\xFD ve form\xE1tu base64url",json_string:"\u0159et\u011Bzec ve form\xE1tu JSON",e164:"\u010D\xEDslo E.164",jwt:"JWT",template_literal:"vstup"};return o=>{switch(o.code){case"invalid_type":return`Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no ${o.expected}, obdr\u017Eeno ${r(o.input)}`;case"invalid_value":return o.values.length===1?`Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no ${le(o.values[0])}`:`Neplatn\xE1 mo\u017Enost: o\u010Dek\xE1v\xE1na jedna z hodnot ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`Hodnota je p\u0159\xEDli\u0161 velk\xE1: ${o.origin??"hodnota"} mus\xED m\xEDt ${i}${o.maximum.toString()} ${s.unit??"prvk\u016F"}`:`Hodnota je p\u0159\xEDli\u0161 velk\xE1: ${o.origin??"hodnota"} mus\xED b\xFDt ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`Hodnota je p\u0159\xEDli\u0161 mal\xE1: ${o.origin??"hodnota"} mus\xED m\xEDt ${i}${o.minimum.toString()} ${s.unit??"prvk\u016F"}`:`Hodnota je p\u0159\xEDli\u0161 mal\xE1: ${o.origin??"hodnota"} mus\xED b\xFDt ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED za\u010D\xEDnat na "${i.prefix}"`:i.format==="ends_with"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED kon\u010Dit na "${i.suffix}"`:i.format==="includes"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED obsahovat "${i.includes}"`:i.format==="regex"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED odpov\xEDdat vzoru ${i.pattern}`:`Neplatn\xFD form\xE1t ${n[i.format]??o.format}`}case"not_multiple_of":return`Neplatn\xE9 \u010D\xEDslo: mus\xED b\xFDt n\xE1sobkem ${o.divisor}`;case"unrecognized_keys":return`Nezn\xE1m\xE9 kl\xED\u010De: ${ee(o.keys,", ")}`;case"invalid_key":return`Neplatn\xFD kl\xED\u010D v ${o.origin}`;case"invalid_union":return"Neplatn\xFD vstup";case"invalid_element":return`Neplatn\xE1 hodnota v ${o.origin}`;default:return"Neplatn\xFD vstup"}}},"error");function KI(){return{localeError:jie()}}a(KI,"default");var Die=a(()=>{let e={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}},t={string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"s\xE6t",file:"fil"};function r(s){return e[s]??null}a(r,"getSizing");function n(s){return t[s]??s}a(n,"getTypeName");let o=a(s=>{let u=typeof s;switch(u){case"number":return Number.isNaN(s)?"NaN":"tal";case"object":return Array.isArray(s)?"liste":s===null?"null":Object.getPrototypeOf(s)!==Object.prototype&&s.constructor?s.constructor.name:"objekt"}return u},"parsedType"),i={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkesl\xE6t",date:"ISO-dato",time:"ISO-klokkesl\xE6t",duration:"ISO-varighed",ipv4:"IPv4-omr\xE5de",ipv6:"IPv6-omr\xE5de",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return s=>{switch(s.code){case"invalid_type":return`Ugyldigt input: forventede ${n(s.expected)}, fik ${n(o(s.input))}`;case"invalid_value":return s.values.length===1?`Ugyldig v\xE6rdi: forventede ${le(s.values[0])}`:`Ugyldigt valg: forventede en af f\xF8lgende ${ee(s.values,"|")}`;case"too_big":{let u=s.inclusive?"<=":"<",l=r(s.origin),d=n(s.origin);return l?`For stor: forventede ${d??"value"} ${l.verb} ${u} ${s.maximum.toString()} ${l.unit??"elementer"}`:`For stor: forventede ${d??"value"} havde ${u} ${s.maximum.toString()}`}case"too_small":{let u=s.inclusive?">=":">",l=r(s.origin),d=n(s.origin);return l?`For lille: forventede ${d} ${l.verb} ${u} ${s.minimum.toString()} ${l.unit}`:`For lille: forventede ${d} havde ${u} ${s.minimum.toString()}`}case"invalid_format":{let u=s;return u.format==="starts_with"?`Ugyldig streng: skal starte med "${u.prefix}"`:u.format==="ends_with"?`Ugyldig streng: skal ende med "${u.suffix}"`:u.format==="includes"?`Ugyldig streng: skal indeholde "${u.includes}"`:u.format==="regex"?`Ugyldig streng: skal matche m\xF8nsteret ${u.pattern}`:`Ugyldig ${i[u.format]??s.format}`}case"not_multiple_of":return`Ugyldigt tal: skal v\xE6re deleligt med ${s.divisor}`;case"unrecognized_keys":return`${s.keys.length>1?"Ukendte n\xF8gler":"Ukendt n\xF8gle"}: ${ee(s.keys,", ")}`;case"invalid_key":return`Ugyldig n\xF8gle i ${s.origin}`;case"invalid_union":return"Ugyldigt input: matcher ingen af de tilladte typer";case"invalid_element":return`Ugyldig v\xE6rdi i ${s.origin}`;default:return"Ugyldigt input"}}},"error");function GI(){return{localeError:Die()}}a(GI,"default");var Mie=a(()=>{let e={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"Zahl";case"object":{if(Array.isArray(o))return"Array";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"};return o=>{switch(o.code){case"invalid_type":return`Ung\xFCltige Eingabe: erwartet ${o.expected}, erhalten ${r(o.input)}`;case"invalid_value":return o.values.length===1?`Ung\xFCltige Eingabe: erwartet ${le(o.values[0])}`:`Ung\xFCltige Option: erwartet eine von ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`Zu gro\xDF: erwartet, dass ${o.origin??"Wert"} ${i}${o.maximum.toString()} ${s.unit??"Elemente"} hat`:`Zu gro\xDF: erwartet, dass ${o.origin??"Wert"} ${i}${o.maximum.toString()} ist`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`Zu klein: erwartet, dass ${o.origin} ${i}${o.minimum.toString()} ${s.unit} hat`:`Zu klein: erwartet, dass ${o.origin} ${i}${o.minimum.toString()} ist`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Ung\xFCltiger String: muss mit "${i.prefix}" beginnen`:i.format==="ends_with"?`Ung\xFCltiger String: muss mit "${i.suffix}" enden`:i.format==="includes"?`Ung\xFCltiger String: muss "${i.includes}" enthalten`:i.format==="regex"?`Ung\xFCltiger String: muss dem Muster ${i.pattern} entsprechen`:`Ung\xFCltig: ${n[i.format]??o.format}`}case"not_multiple_of":return`Ung\xFCltige Zahl: muss ein Vielfaches von ${o.divisor} sein`;case"unrecognized_keys":return`${o.keys.length>1?"Unbekannte Schl\xFCssel":"Unbekannter Schl\xFCssel"}: ${ee(o.keys,", ")}`;case"invalid_key":return`Ung\xFCltiger Schl\xFCssel in ${o.origin}`;case"invalid_union":return"Ung\xFCltige Eingabe";case"invalid_element":return`Ung\xFCltiger Wert in ${o.origin}`;default:return"Ung\xFCltige Eingabe"}}},"error");function WI(){return{localeError:Mie()}}a(WI,"default");var qie=a(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":{if(Array.isArray(e))return"array";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},"parsedType"),Uie=a(()=>{let e={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}};function t(n){return e[n]??null}a(t,"getSizing");let r={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",mac:"MAC address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return n=>{switch(n.code){case"invalid_type":return`Invalid input: expected ${n.expected}, received ${qie(n.input)}`;case"invalid_value":return n.values.length===1?`Invalid input: expected ${le(n.values[0])}`:`Invalid option: expected one of ${ee(n.values,"|")}`;case"too_big":{let o=n.inclusive?"<=":"<",i=t(n.origin);return i?`Too big: expected ${n.origin??"value"} to have ${o}${n.maximum.toString()} ${i.unit??"elements"}`:`Too big: expected ${n.origin??"value"} to be ${o}${n.maximum.toString()}`}case"too_small":{let o=n.inclusive?">=":">",i=t(n.origin);return i?`Too small: expected ${n.origin} to have ${o}${n.minimum.toString()} ${i.unit}`:`Too small: expected ${n.origin} to be ${o}${n.minimum.toString()}`}case"invalid_format":{let o=n;return o.format==="starts_with"?`Invalid string: must start with "${o.prefix}"`:o.format==="ends_with"?`Invalid string: must end with "${o.suffix}"`:o.format==="includes"?`Invalid string: must include "${o.includes}"`:o.format==="regex"?`Invalid string: must match pattern ${o.pattern}`:`Invalid ${r[o.format]??n.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${n.divisor}`;case"unrecognized_keys":return`Unrecognized key${n.keys.length>1?"s":""}: ${ee(n.keys,", ")}`;case"invalid_key":return`Invalid key in ${n.origin}`;case"invalid_union":return"Invalid input";case"invalid_element":return`Invalid value in ${n.origin}`;default:return"Invalid input"}}},"error");function Cd(){return{localeError:Uie()}}a(Cd,"default");var Lie=a(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nombro";case"object":{if(Array.isArray(e))return"tabelo";if(e===null)return"senvalora";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},"parsedType"),Fie=a(()=>{let e={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}};function t(n){return e[n]??null}a(t,"getSizing");let r={regex:"enigo",email:"retadreso",url:"URL",emoji:"emo\u011Dio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-da\u016Dro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"};return n=>{switch(n.code){case"invalid_type":return`Nevalida enigo: atendi\u011Dis ${n.expected}, ricevi\u011Dis ${Lie(n.input)}`;case"invalid_value":return n.values.length===1?`Nevalida enigo: atendi\u011Dis ${le(n.values[0])}`:`Nevalida opcio: atendi\u011Dis unu el ${ee(n.values,"|")}`;case"too_big":{let o=n.inclusive?"<=":"<",i=t(n.origin);return i?`Tro granda: atendi\u011Dis ke ${n.origin??"valoro"} havu ${o}${n.maximum.toString()} ${i.unit??"elementojn"}`:`Tro granda: atendi\u011Dis ke ${n.origin??"valoro"} havu ${o}${n.maximum.toString()}`}case"too_small":{let o=n.inclusive?">=":">",i=t(n.origin);return i?`Tro malgranda: atendi\u011Dis ke ${n.origin} havu ${o}${n.minimum.toString()} ${i.unit}`:`Tro malgranda: atendi\u011Dis ke ${n.origin} estu ${o}${n.minimum.toString()}`}case"invalid_format":{let o=n;return o.format==="starts_with"?`Nevalida karaktraro: devas komenci\u011Di per "${o.prefix}"`:o.format==="ends_with"?`Nevalida karaktraro: devas fini\u011Di per "${o.suffix}"`:o.format==="includes"?`Nevalida karaktraro: devas inkluzivi "${o.includes}"`:o.format==="regex"?`Nevalida karaktraro: devas kongrui kun la modelo ${o.pattern}`:`Nevalida ${r[o.format]??n.format}`}case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${n.divisor}`;case"unrecognized_keys":return`Nekonata${n.keys.length>1?"j":""} \u015Dlosilo${n.keys.length>1?"j":""}: ${ee(n.keys,", ")}`;case"invalid_key":return`Nevalida \u015Dlosilo en ${n.origin}`;case"invalid_union":return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${n.origin}`;default:return"Nevalida enigo"}}},"error");function QI(){return{localeError:Fie()}}a(QI,"default");var Bie=a(()=>{let e={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}},t={string:"texto",number:"n\xFAmero",boolean:"booleano",array:"arreglo",object:"objeto",set:"conjunto",file:"archivo",date:"fecha",bigint:"n\xFAmero grande",symbol:"s\xEDmbolo",undefined:"indefinido",null:"nulo",function:"funci\xF3n",map:"mapa",record:"registro",tuple:"tupla",enum:"enumeraci\xF3n",union:"uni\xF3n",literal:"literal",promise:"promesa",void:"vac\xEDo",never:"nunca",unknown:"desconocido",any:"cualquiera"};function r(s){return e[s]??null}a(r,"getSizing");function n(s){return t[s]??s}a(n,"getTypeName");let o=a(s=>{let u=typeof s;switch(u){case"number":return Number.isNaN(s)?"NaN":"number";case"object":return Array.isArray(s)?"array":s===null?"null":Object.getPrototypeOf(s)!==Object.prototype?s.constructor.name:"object"}return u},"parsedType"),i={regex:"entrada",email:"direcci\xF3n de correo electr\xF3nico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duraci\xF3n ISO",ipv4:"direcci\xF3n IPv4",ipv6:"direcci\xF3n IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"};return s=>{switch(s.code){case"invalid_type":return`Entrada inv\xE1lida: se esperaba ${n(s.expected)}, recibido ${n(o(s.input))}`;case"invalid_value":return s.values.length===1?`Entrada inv\xE1lida: se esperaba ${le(s.values[0])}`:`Opci\xF3n inv\xE1lida: se esperaba una de ${ee(s.values,"|")}`;case"too_big":{let u=s.inclusive?"<=":"<",l=r(s.origin),d=n(s.origin);return l?`Demasiado grande: se esperaba que ${d??"valor"} tuviera ${u}${s.maximum.toString()} ${l.unit??"elementos"}`:`Demasiado grande: se esperaba que ${d??"valor"} fuera ${u}${s.maximum.toString()}`}case"too_small":{let u=s.inclusive?">=":">",l=r(s.origin),d=n(s.origin);return l?`Demasiado peque\xF1o: se esperaba que ${d} tuviera ${u}${s.minimum.toString()} ${l.unit}`:`Demasiado peque\xF1o: se esperaba que ${d} fuera ${u}${s.minimum.toString()}`}case"invalid_format":{let u=s;return u.format==="starts_with"?`Cadena inv\xE1lida: debe comenzar con "${u.prefix}"`:u.format==="ends_with"?`Cadena inv\xE1lida: debe terminar en "${u.suffix}"`:u.format==="includes"?`Cadena inv\xE1lida: debe incluir "${u.includes}"`:u.format==="regex"?`Cadena inv\xE1lida: debe coincidir con el patr\xF3n ${u.pattern}`:`Inv\xE1lido ${i[u.format]??s.format}`}case"not_multiple_of":return`N\xFAmero inv\xE1lido: debe ser m\xFAltiplo de ${s.divisor}`;case"unrecognized_keys":return`Llave${s.keys.length>1?"s":""} desconocida${s.keys.length>1?"s":""}: ${ee(s.keys,", ")}`;case"invalid_key":return`Llave inv\xE1lida en ${n(s.origin)}`;case"invalid_union":return"Entrada inv\xE1lida";case"invalid_element":return`Valor inv\xE1lido en ${n(s.origin)}`;default:return"Entrada inv\xE1lida"}}},"error");function XI(){return{localeError:Bie()}}a(XI,"default");var Jie=a(()=>{let e={string:{unit:"\u06A9\u0627\u0631\u0627\u06A9\u062A\u0631",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},file:{unit:"\u0628\u0627\u06CC\u062A",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},array:{unit:"\u0622\u06CC\u062A\u0645",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},set:{unit:"\u0622\u06CC\u062A\u0645",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"\u0639\u062F\u062F";case"object":{if(Array.isArray(o))return"\u0622\u0631\u0627\u06CC\u0647";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\u0648\u0631\u0648\u062F\u06CC",email:"\u0622\u062F\u0631\u0633 \u0627\u06CC\u0645\u06CC\u0644",url:"URL",emoji:"\u0627\u06CC\u0645\u0648\u062C\u06CC",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u062A\u0627\u0631\u06CC\u062E \u0648 \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",date:"\u062A\u0627\u0631\u06CC\u062E \u0627\u06CC\u0632\u0648",time:"\u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",duration:"\u0645\u062F\u062A \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",ipv4:"IPv4 \u0622\u062F\u0631\u0633",ipv6:"IPv6 \u0622\u062F\u0631\u0633",cidrv4:"IPv4 \u062F\u0627\u0645\u0646\u0647",cidrv6:"IPv6 \u062F\u0627\u0645\u0646\u0647",base64:"base64-encoded \u0631\u0634\u062A\u0647",base64url:"base64url-encoded \u0631\u0634\u062A\u0647",json_string:"JSON \u0631\u0634\u062A\u0647",e164:"E.164 \u0639\u062F\u062F",jwt:"JWT",template_literal:"\u0648\u0631\u0648\u062F\u06CC"};return o=>{switch(o.code){case"invalid_type":return`\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${o.expected} \u0645\u06CC\u200C\u0628\u0648\u062F\u060C ${r(o.input)} \u062F\u0631\u06CC\u0627\u0641\u062A \u0634\u062F`;case"invalid_value":return o.values.length===1?`\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${le(o.values[0])} \u0645\u06CC\u200C\u0628\u0648\u062F`:`\u06AF\u0632\u06CC\u0646\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A \u06CC\u06A9\u06CC \u0627\u0632 ${ee(o.values,"|")} \u0645\u06CC\u200C\u0628\u0648\u062F`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${o.origin??"\u0645\u0642\u062F\u0627\u0631"} \u0628\u0627\u06CC\u062F ${i}${o.maximum.toString()} ${s.unit??"\u0639\u0646\u0635\u0631"} \u0628\u0627\u0634\u062F`:`\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${o.origin??"\u0645\u0642\u062F\u0627\u0631"} \u0628\u0627\u06CC\u062F ${i}${o.maximum.toString()} \u0628\u0627\u0634\u062F`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${o.origin} \u0628\u0627\u06CC\u062F ${i}${o.minimum.toString()} ${s.unit} \u0628\u0627\u0634\u062F`:`\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${o.origin} \u0628\u0627\u06CC\u062F ${i}${o.minimum.toString()} \u0628\u0627\u0634\u062F`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 "${i.prefix}" \u0634\u0631\u0648\u0639 \u0634\u0648\u062F`:i.format==="ends_with"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 "${i.suffix}" \u062A\u0645\u0627\u0645 \u0634\u0648\u062F`:i.format==="includes"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0634\u0627\u0645\u0644 "${i.includes}" \u0628\u0627\u0634\u062F`:i.format==="regex"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 \u0627\u0644\u06AF\u0648\u06CC ${i.pattern} \u0645\u0637\u0627\u0628\u0642\u062A \u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F`:`${n[i.format]??o.format} \u0646\u0627\u0645\u0639\u062A\u0628\u0631`}case"not_multiple_of":return`\u0639\u062F\u062F \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0645\u0636\u0631\u0628 ${o.divisor} \u0628\u0627\u0634\u062F`;case"unrecognized_keys":return`\u06A9\u0644\u06CC\u062F${o.keys.length>1?"\u0647\u0627\u06CC":""} \u0646\u0627\u0634\u0646\u0627\u0633: ${ee(o.keys,", ")}`;case"invalid_key":return`\u06A9\u0644\u06CC\u062F \u0646\u0627\u0634\u0646\u0627\u0633 \u062F\u0631 ${o.origin}`;case"invalid_union":return"\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631";case"invalid_element":return`\u0645\u0642\u062F\u0627\u0631 \u0646\u0627\u0645\u0639\u062A\u0628\u0631 \u062F\u0631 ${o.origin}`;default:return"\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631"}}},"error");function YI(){return{localeError:Jie()}}a(YI,"default");var Hie=a(()=>{let e={string:{unit:"merkki\xE4",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"p\xE4iv\xE4m\xE4\xE4r\xE4n"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"number";case"object":{if(Array.isArray(o))return"array";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"s\xE4\xE4nn\xF6llinen lauseke",email:"s\xE4hk\xF6postiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-p\xE4iv\xE4m\xE4\xE4r\xE4",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"};return o=>{switch(o.code){case"invalid_type":return`Virheellinen tyyppi: odotettiin ${o.expected}, oli ${r(o.input)}`;case"invalid_value":return o.values.length===1?`Virheellinen sy\xF6te: t\xE4ytyy olla ${le(o.values[0])}`:`Virheellinen valinta: t\xE4ytyy olla yksi seuraavista: ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`Liian suuri: ${s.subject} t\xE4ytyy olla ${i}${o.maximum.toString()} ${s.unit}`.trim():`Liian suuri: arvon t\xE4ytyy olla ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`Liian pieni: ${s.subject} t\xE4ytyy olla ${i}${o.minimum.toString()} ${s.unit}`.trim():`Liian pieni: arvon t\xE4ytyy olla ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Virheellinen sy\xF6te: t\xE4ytyy alkaa "${i.prefix}"`:i.format==="ends_with"?`Virheellinen sy\xF6te: t\xE4ytyy loppua "${i.suffix}"`:i.format==="includes"?`Virheellinen sy\xF6te: t\xE4ytyy sis\xE4lt\xE4\xE4 "${i.includes}"`:i.format==="regex"?`Virheellinen sy\xF6te: t\xE4ytyy vastata s\xE4\xE4nn\xF6llist\xE4 lauseketta ${i.pattern}`:`Virheellinen ${n[i.format]??o.format}`}case"not_multiple_of":return`Virheellinen luku: t\xE4ytyy olla luvun ${o.divisor} monikerta`;case"unrecognized_keys":return`${o.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${ee(o.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return"Virheellinen sy\xF6te"}}},"error");function eO(){return{localeError:Hie()}}a(eO,"default");var Vie=a(()=>{let e={string:{unit:"caract\xE8res",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"\xE9l\xE9ments",verb:"avoir"},set:{unit:"\xE9l\xE9ments",verb:"avoir"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"nombre";case"object":{if(Array.isArray(o))return"tableau";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"entr\xE9e",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"dur\xE9e ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"cha\xEEne encod\xE9e en base64",base64url:"cha\xEEne encod\xE9e en base64url",json_string:"cha\xEEne JSON",e164:"num\xE9ro E.164",jwt:"JWT",template_literal:"entr\xE9e"};return o=>{switch(o.code){case"invalid_type":return`Entr\xE9e invalide : ${o.expected} attendu, ${r(o.input)} re\xE7u`;case"invalid_value":return o.values.length===1?`Entr\xE9e invalide : ${le(o.values[0])} attendu`:`Option invalide : une valeur parmi ${ee(o.values,"|")} attendue`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`Trop grand : ${o.origin??"valeur"} doit ${s.verb} ${i}${o.maximum.toString()} ${s.unit??"\xE9l\xE9ment(s)"}`:`Trop grand : ${o.origin??"valeur"} doit \xEAtre ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`Trop petit : ${o.origin} doit ${s.verb} ${i}${o.minimum.toString()} ${s.unit}`:`Trop petit : ${o.origin} doit \xEAtre ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Cha\xEEne invalide : doit commencer par "${i.prefix}"`:i.format==="ends_with"?`Cha\xEEne invalide : doit se terminer par "${i.suffix}"`:i.format==="includes"?`Cha\xEEne invalide : doit inclure "${i.includes}"`:i.format==="regex"?`Cha\xEEne invalide : doit correspondre au mod\xE8le ${i.pattern}`:`${n[i.format]??o.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit \xEAtre un multiple de ${o.divisor}`;case"unrecognized_keys":return`Cl\xE9${o.keys.length>1?"s":""} non reconnue${o.keys.length>1?"s":""} : ${ee(o.keys,", ")}`;case"invalid_key":return`Cl\xE9 invalide dans ${o.origin}`;case"invalid_union":return"Entr\xE9e invalide";case"invalid_element":return`Valeur invalide dans ${o.origin}`;default:return"Entr\xE9e invalide"}}},"error");function tO(){return{localeError:Vie()}}a(tO,"default");var Zie=a(()=>{let e={string:{unit:"caract\xE8res",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"\xE9l\xE9ments",verb:"avoir"},set:{unit:"\xE9l\xE9ments",verb:"avoir"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"number";case"object":{if(Array.isArray(o))return"array";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"entr\xE9e",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"dur\xE9e ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"cha\xEEne encod\xE9e en base64",base64url:"cha\xEEne encod\xE9e en base64url",json_string:"cha\xEEne JSON",e164:"num\xE9ro E.164",jwt:"JWT",template_literal:"entr\xE9e"};return o=>{switch(o.code){case"invalid_type":return`Entr\xE9e invalide : attendu ${o.expected}, re\xE7u ${r(o.input)}`;case"invalid_value":return o.values.length===1?`Entr\xE9e invalide : attendu ${le(o.values[0])}`:`Option invalide : attendu l'une des valeurs suivantes ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"\u2264":"<",s=t(o.origin);return s?`Trop grand : attendu que ${o.origin??"la valeur"} ait ${i}${o.maximum.toString()} ${s.unit}`:`Trop grand : attendu que ${o.origin??"la valeur"} soit ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?"\u2265":">",s=t(o.origin);return s?`Trop petit : attendu que ${o.origin} ait ${i}${o.minimum.toString()} ${s.unit}`:`Trop petit : attendu que ${o.origin} soit ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Cha\xEEne invalide : doit commencer par "${i.prefix}"`:i.format==="ends_with"?`Cha\xEEne invalide : doit se terminer par "${i.suffix}"`:i.format==="includes"?`Cha\xEEne invalide : doit inclure "${i.includes}"`:i.format==="regex"?`Cha\xEEne invalide : doit correspondre au motif ${i.pattern}`:`${n[i.format]??o.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit \xEAtre un multiple de ${o.divisor}`;case"unrecognized_keys":return`Cl\xE9${o.keys.length>1?"s":""} non reconnue${o.keys.length>1?"s":""} : ${ee(o.keys,", ")}`;case"invalid_key":return`Cl\xE9 invalide dans ${o.origin}`;case"invalid_union":return"Entr\xE9e invalide";case"invalid_element":return`Valeur invalide dans ${o.origin}`;default:return"Entr\xE9e invalide"}}},"error");function rO(){return{localeError:Zie()}}a(rO,"default");var Kie=a(()=>{let e={string:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA",gender:"f"},number:{label:"\u05DE\u05E1\u05E4\u05E8",gender:"m"},boolean:{label:"\u05E2\u05E8\u05DA \u05D1\u05D5\u05DC\u05D9\u05D0\u05E0\u05D9",gender:"m"},bigint:{label:"BigInt",gender:"m"},date:{label:"\u05EA\u05D0\u05E8\u05D9\u05DA",gender:"m"},array:{label:"\u05DE\u05E2\u05E8\u05DA",gender:"m"},object:{label:"\u05D0\u05D5\u05D1\u05D9\u05D9\u05E7\u05D8",gender:"m"},null:{label:"\u05E2\u05E8\u05DA \u05E8\u05D9\u05E7 (null)",gender:"m"},undefined:{label:"\u05E2\u05E8\u05DA \u05DC\u05D0 \u05DE\u05D5\u05D2\u05D3\u05E8 (undefined)",gender:"m"},symbol:{label:"\u05E1\u05D9\u05DE\u05D1\u05D5\u05DC (Symbol)",gender:"m"},function:{label:"\u05E4\u05D5\u05E0\u05E7\u05E6\u05D9\u05D4",gender:"f"},map:{label:"\u05DE\u05E4\u05D4 (Map)",gender:"f"},set:{label:"\u05E7\u05D1\u05D5\u05E6\u05D4 (Set)",gender:"f"},file:{label:"\u05E7\u05D5\u05D1\u05E5",gender:"m"},promise:{label:"Promise",gender:"m"},NaN:{label:"NaN",gender:"m"},unknown:{label:"\u05E2\u05E8\u05DA \u05DC\u05D0 \u05D9\u05D3\u05D5\u05E2",gender:"m"},value:{label:"\u05E2\u05E8\u05DA",gender:"m"}},t={string:{unit:"\u05EA\u05D5\u05D5\u05D9\u05DD",shortLabel:"\u05E7\u05E6\u05E8",longLabel:"\u05D0\u05E8\u05D5\u05DA"},file:{unit:"\u05D1\u05D9\u05D9\u05D8\u05D9\u05DD",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"},array:{unit:"\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"},set:{unit:"\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"},number:{unit:"",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"}},r=a(d=>d?e[d]:void 0,"typeEntry"),n=a(d=>{let p=r(d);return p?p.label:d??e.unknown.label},"typeLabel"),o=a(d=>`\u05D4${n(d)}`,"withDefinite"),i=a(d=>(r(d)?.gender??"m")==="f"?"\u05E6\u05E8\u05D9\u05DB\u05D4 \u05DC\u05D4\u05D9\u05D5\u05EA":"\u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA","verbFor"),s=a(d=>d?t[d]??null:null,"getSizing"),u=a(d=>{let p=typeof d;switch(p){case"number":return Number.isNaN(d)?"NaN":"number";case"object":return Array.isArray(d)?"array":d===null?"null":Object.getPrototypeOf(d)!==Object.prototype&&d.constructor?d.constructor.name:"object";default:return p}},"parsedType"),l={regex:{label:"\u05E7\u05DC\u05D8",gender:"m"},email:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA \u05D0\u05D9\u05DE\u05D9\u05D9\u05DC",gender:"f"},url:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA \u05E8\u05E9\u05EA",gender:"f"},emoji:{label:"\u05D0\u05D9\u05DE\u05D5\u05D2'\u05D9",gender:"m"},uuid:{label:"UUID",gender:"m"},nanoid:{label:"nanoid",gender:"m"},guid:{label:"GUID",gender:"m"},cuid:{label:"cuid",gender:"m"},cuid2:{label:"cuid2",gender:"m"},ulid:{label:"ULID",gender:"m"},xid:{label:"XID",gender:"m"},ksuid:{label:"KSUID",gender:"m"},datetime:{label:"\u05EA\u05D0\u05E8\u05D9\u05DA \u05D5\u05D6\u05DE\u05DF ISO",gender:"m"},date:{label:"\u05EA\u05D0\u05E8\u05D9\u05DA ISO",gender:"m"},time:{label:"\u05D6\u05DE\u05DF ISO",gender:"m"},duration:{label:"\u05DE\u05E9\u05DA \u05D6\u05DE\u05DF ISO",gender:"m"},ipv4:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA IPv4",gender:"f"},ipv6:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA IPv6",gender:"f"},cidrv4:{label:"\u05D8\u05D5\u05D5\u05D7 IPv4",gender:"m"},cidrv6:{label:"\u05D8\u05D5\u05D5\u05D7 IPv6",gender:"m"},base64:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64",gender:"f"},base64url:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64 \u05DC\u05DB\u05EA\u05D5\u05D1\u05D5\u05EA \u05E8\u05E9\u05EA",gender:"f"},json_string:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA JSON",gender:"f"},e164:{label:"\u05DE\u05E1\u05E4\u05E8 E.164",gender:"m"},jwt:{label:"JWT",gender:"m"},ends_with:{label:"\u05E7\u05DC\u05D8",gender:"m"},includes:{label:"\u05E7\u05DC\u05D8",gender:"m"},lowercase:{label:"\u05E7\u05DC\u05D8",gender:"m"},starts_with:{label:"\u05E7\u05DC\u05D8",gender:"m"},uppercase:{label:"\u05E7\u05DC\u05D8",gender:"m"}};return d=>{switch(d.code){case"invalid_type":{let p=d.expected,f=n(p),m=u(d.input),y=e[m]?.label??m;return`\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${f}, \u05D4\u05EA\u05E7\u05D1\u05DC ${y}`}case"invalid_value":{if(d.values.length===1)return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D4\u05E2\u05E8\u05DA \u05D7\u05D9\u05D9\u05D1 \u05DC\u05D4\u05D9\u05D5\u05EA ${le(d.values[0])}`;let p=d.values.map(y=>le(y));if(d.values.length===2)return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D4\u05D0\u05E4\u05E9\u05E8\u05D5\u05D9\u05D5\u05EA \u05D4\u05DE\u05EA\u05D0\u05D9\u05DE\u05D5\u05EA \u05D4\u05DF ${p[0]} \u05D0\u05D5 ${p[1]}`;let f=p[p.length-1];return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D4\u05D0\u05E4\u05E9\u05E8\u05D5\u05D9\u05D5\u05EA \u05D4\u05DE\u05EA\u05D0\u05D9\u05DE\u05D5\u05EA \u05D4\u05DF ${p.slice(0,-1).join(", ")} \u05D0\u05D5 ${f}`}case"too_big":{let p=s(d.origin),f=o(d.origin??"value");if(d.origin==="string")return`${p?.longLabel??"\u05D0\u05E8\u05D5\u05DA"} \u05DE\u05D3\u05D9: ${f} \u05E6\u05E8\u05D9\u05DB\u05D4 \u05DC\u05D4\u05DB\u05D9\u05DC ${d.maximum.toString()} ${p?.unit??""} ${d.inclusive?"\u05D0\u05D5 \u05E4\u05D7\u05D5\u05EA":"\u05DC\u05DB\u05DC \u05D4\u05D9\u05D5\u05EA\u05E8"}`.trim();if(d.origin==="number"){let g=d.inclusive?`\u05E7\u05D8\u05DF \u05D0\u05D5 \u05E9\u05D5\u05D5\u05D4 \u05DC-${d.maximum}`:`\u05E7\u05D8\u05DF \u05DE-${d.maximum}`;return`\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${f} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${g}`}if(d.origin==="array"||d.origin==="set"){let g=d.origin==="set"?"\u05E6\u05E8\u05D9\u05DB\u05D4":"\u05E6\u05E8\u05D9\u05DA",h=d.inclusive?`${d.maximum} ${p?.unit??""} \u05D0\u05D5 \u05E4\u05D7\u05D5\u05EA`:`\u05E4\u05D7\u05D5\u05EA \u05DE-${d.maximum} ${p?.unit??""}`;return`\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${f} ${g} \u05DC\u05D4\u05DB\u05D9\u05DC ${h}`.trim()}let m=d.inclusive?"<=":"<",y=i(d.origin??"value");return p?.unit?`${p.longLabel} \u05DE\u05D3\u05D9: ${f} ${y} ${m}${d.maximum.toString()} ${p.unit}`:`${p?.longLabel??"\u05D2\u05D3\u05D5\u05DC"} \u05DE\u05D3\u05D9: ${f} ${y} ${m}${d.maximum.toString()}`}case"too_small":{let p=s(d.origin),f=o(d.origin??"value");if(d.origin==="string")return`${p?.shortLabel??"\u05E7\u05E6\u05E8"} \u05DE\u05D3\u05D9: ${f} \u05E6\u05E8\u05D9\u05DB\u05D4 \u05DC\u05D4\u05DB\u05D9\u05DC ${d.minimum.toString()} ${p?.unit??""} ${d.inclusive?"\u05D0\u05D5 \u05D9\u05D5\u05EA\u05E8":"\u05DC\u05E4\u05D7\u05D5\u05EA"}`.trim();if(d.origin==="number"){let g=d.inclusive?`\u05D2\u05D3\u05D5\u05DC \u05D0\u05D5 \u05E9\u05D5\u05D5\u05D4 \u05DC-${d.minimum}`:`\u05D2\u05D3\u05D5\u05DC \u05DE-${d.minimum}`;return`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${f} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${g}`}if(d.origin==="array"||d.origin==="set"){let g=d.origin==="set"?"\u05E6\u05E8\u05D9\u05DB\u05D4":"\u05E6\u05E8\u05D9\u05DA";if(d.minimum===1&&d.inclusive){let v=(d.origin==="set","\u05DC\u05E4\u05D7\u05D5\u05EA \u05E4\u05E8\u05D9\u05D8 \u05D0\u05D7\u05D3");return`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${f} ${g} \u05DC\u05D4\u05DB\u05D9\u05DC ${v}`}let h=d.inclusive?`${d.minimum} ${p?.unit??""} \u05D0\u05D5 \u05D9\u05D5\u05EA\u05E8`:`\u05D9\u05D5\u05EA\u05E8 \u05DE-${d.minimum} ${p?.unit??""}`;return`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${f} ${g} \u05DC\u05D4\u05DB\u05D9\u05DC ${h}`.trim()}let m=d.inclusive?">=":">",y=i(d.origin??"value");return p?.unit?`${p.shortLabel} \u05DE\u05D3\u05D9: ${f} ${y} ${m}${d.minimum.toString()} ${p.unit}`:`${p?.shortLabel??"\u05E7\u05D8\u05DF"} \u05DE\u05D3\u05D9: ${f} ${y} ${m}${d.minimum.toString()}`}case"invalid_format":{let p=d;if(p.format==="starts_with")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D7\u05D9\u05DC \u05D1 "${p.prefix}"`;if(p.format==="ends_with")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05E1\u05EA\u05D9\u05D9\u05DD \u05D1 "${p.suffix}"`;if(p.format==="includes")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05DB\u05DC\u05D5\u05DC "${p.includes}"`;if(p.format==="regex")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D0\u05D9\u05DD \u05DC\u05EA\u05D1\u05E0\u05D9\u05EA ${p.pattern}`;let f=l[p.format],m=f?.label??p.format,g=(f?.gender??"m")==="f"?"\u05EA\u05E7\u05D9\u05E0\u05D4":"\u05EA\u05E7\u05D9\u05DF";return`${m} \u05DC\u05D0 ${g}`}case"not_multiple_of":return`\u05DE\u05E1\u05E4\u05E8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D7\u05D9\u05D9\u05D1 \u05DC\u05D4\u05D9\u05D5\u05EA \u05DE\u05DB\u05E4\u05DC\u05D4 \u05E9\u05DC ${d.divisor}`;case"unrecognized_keys":return`\u05DE\u05E4\u05EA\u05D7${d.keys.length>1?"\u05D5\u05EA":""} \u05DC\u05D0 \u05DE\u05D6\u05D5\u05D4${d.keys.length>1?"\u05D9\u05DD":"\u05D4"}: ${ee(d.keys,", ")}`;case"invalid_key":return"\u05E9\u05D3\u05D4 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1\u05D0\u05D5\u05D1\u05D9\u05D9\u05E7\u05D8";case"invalid_union":return"\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF";case"invalid_element":return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1${o(d.origin??"array")}`;default:return"\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF"}}},"error");function nO(){return{localeError:Kie()}}a(nO,"default");var Gie=a(()=>{let e={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"sz\xE1m";case"object":{if(Array.isArray(o))return"t\xF6mb";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"bemenet",email:"email c\xEDm",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO id\u0151b\xE9lyeg",date:"ISO d\xE1tum",time:"ISO id\u0151",duration:"ISO id\u0151intervallum",ipv4:"IPv4 c\xEDm",ipv6:"IPv6 c\xEDm",cidrv4:"IPv4 tartom\xE1ny",cidrv6:"IPv6 tartom\xE1ny",base64:"base64-k\xF3dolt string",base64url:"base64url-k\xF3dolt string",json_string:"JSON string",e164:"E.164 sz\xE1m",jwt:"JWT",template_literal:"bemenet"};return o=>{switch(o.code){case"invalid_type":return`\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k ${o.expected}, a kapott \xE9rt\xE9k ${r(o.input)}`;case"invalid_value":return o.values.length===1?`\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k ${le(o.values[0])}`:`\xC9rv\xE9nytelen opci\xF3: valamelyik \xE9rt\xE9k v\xE1rt ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`T\xFAl nagy: ${o.origin??"\xE9rt\xE9k"} m\xE9rete t\xFAl nagy ${i}${o.maximum.toString()} ${s.unit??"elem"}`:`T\xFAl nagy: a bemeneti \xE9rt\xE9k ${o.origin??"\xE9rt\xE9k"} t\xFAl nagy: ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`T\xFAl kicsi: a bemeneti \xE9rt\xE9k ${o.origin} m\xE9rete t\xFAl kicsi ${i}${o.minimum.toString()} ${s.unit}`:`T\xFAl kicsi: a bemeneti \xE9rt\xE9k ${o.origin} t\xFAl kicsi ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\xC9rv\xE9nytelen string: "${i.prefix}" \xE9rt\xE9kkel kell kezd\u0151dnie`:i.format==="ends_with"?`\xC9rv\xE9nytelen string: "${i.suffix}" \xE9rt\xE9kkel kell v\xE9gz\u0151dnie`:i.format==="includes"?`\xC9rv\xE9nytelen string: "${i.includes}" \xE9rt\xE9ket kell tartalmaznia`:i.format==="regex"?`\xC9rv\xE9nytelen string: ${i.pattern} mint\xE1nak kell megfelelnie`:`\xC9rv\xE9nytelen ${n[i.format]??o.format}`}case"not_multiple_of":return`\xC9rv\xE9nytelen sz\xE1m: ${o.divisor} t\xF6bbsz\xF6r\xF6s\xE9nek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${o.keys.length>1?"s":""}: ${ee(o.keys,", ")}`;case"invalid_key":return`\xC9rv\xE9nytelen kulcs ${o.origin}`;case"invalid_union":return"\xC9rv\xE9nytelen bemenet";case"invalid_element":return`\xC9rv\xE9nytelen \xE9rt\xE9k: ${o.origin}`;default:return"\xC9rv\xE9nytelen bemenet"}}},"error");function oO(){return{localeError:Gie()}}a(oO,"default");var Wie=a(()=>{let e={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"number";case"object":{if(Array.isArray(o))return"array";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"};return o=>{switch(o.code){case"invalid_type":return`Input tidak valid: diharapkan ${o.expected}, diterima ${r(o.input)}`;case"invalid_value":return o.values.length===1?`Input tidak valid: diharapkan ${le(o.values[0])}`:`Pilihan tidak valid: diharapkan salah satu dari ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`Terlalu besar: diharapkan ${o.origin??"value"} memiliki ${i}${o.maximum.toString()} ${s.unit??"elemen"}`:`Terlalu besar: diharapkan ${o.origin??"value"} menjadi ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`Terlalu kecil: diharapkan ${o.origin} memiliki ${i}${o.minimum.toString()} ${s.unit}`:`Terlalu kecil: diharapkan ${o.origin} menjadi ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`String tidak valid: harus dimulai dengan "${i.prefix}"`:i.format==="ends_with"?`String tidak valid: harus berakhir dengan "${i.suffix}"`:i.format==="includes"?`String tidak valid: harus menyertakan "${i.includes}"`:i.format==="regex"?`String tidak valid: harus sesuai pola ${i.pattern}`:`${n[i.format]??o.format} tidak valid`}case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${o.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${o.keys.length>1?"s":""}: ${ee(o.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${o.origin}`;case"invalid_union":return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${o.origin}`;default:return"Input tidak valid"}}},"error");function iO(){return{localeError:Wie()}}a(iO,"default");var Qie=a(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"n\xFAmer";case"object":{if(Array.isArray(e))return"fylki";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},"parsedType"),Xie=a(()=>{let e={string:{unit:"stafi",verb:"a\xF0 hafa"},file:{unit:"b\xE6ti",verb:"a\xF0 hafa"},array:{unit:"hluti",verb:"a\xF0 hafa"},set:{unit:"hluti",verb:"a\xF0 hafa"}};function t(n){return e[n]??null}a(t,"getSizing");let r={regex:"gildi",email:"netfang",url:"vefsl\xF3\xF0",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og t\xEDmi",date:"ISO dagsetning",time:"ISO t\xEDmi",duration:"ISO t\xEDmalengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 t\xF6lugildi",jwt:"JWT",template_literal:"gildi"};return n=>{switch(n.code){case"invalid_type":return`Rangt gildi: \xDE\xFA sl\xF3st inn ${Qie(n.input)} \xFEar sem \xE1 a\xF0 vera ${n.expected}`;case"invalid_value":return n.values.length===1?`Rangt gildi: gert r\xE1\xF0 fyrir ${le(n.values[0])}`:`\xD3gilt val: m\xE1 vera eitt af eftirfarandi ${ee(n.values,"|")}`;case"too_big":{let o=n.inclusive?"<=":"<",i=t(n.origin);return i?`Of st\xF3rt: gert er r\xE1\xF0 fyrir a\xF0 ${n.origin??"gildi"} hafi ${o}${n.maximum.toString()} ${i.unit??"hluti"}`:`Of st\xF3rt: gert er r\xE1\xF0 fyrir a\xF0 ${n.origin??"gildi"} s\xE9 ${o}${n.maximum.toString()}`}case"too_small":{let o=n.inclusive?">=":">",i=t(n.origin);return i?`Of l\xEDti\xF0: gert er r\xE1\xF0 fyrir a\xF0 ${n.origin} hafi ${o}${n.minimum.toString()} ${i.unit}`:`Of l\xEDti\xF0: gert er r\xE1\xF0 fyrir a\xF0 ${n.origin} s\xE9 ${o}${n.minimum.toString()}`}case"invalid_format":{let o=n;return o.format==="starts_with"?`\xD3gildur strengur: ver\xF0ur a\xF0 byrja \xE1 "${o.prefix}"`:o.format==="ends_with"?`\xD3gildur strengur: ver\xF0ur a\xF0 enda \xE1 "${o.suffix}"`:o.format==="includes"?`\xD3gildur strengur: ver\xF0ur a\xF0 innihalda "${o.includes}"`:o.format==="regex"?`\xD3gildur strengur: ver\xF0ur a\xF0 fylgja mynstri ${o.pattern}`:`Rangt ${r[o.format]??n.format}`}case"not_multiple_of":return`R\xF6ng tala: ver\xF0ur a\xF0 vera margfeldi af ${n.divisor}`;case"unrecognized_keys":return`\xD3\xFEekkt ${n.keys.length>1?"ir lyklar":"ur lykill"}: ${ee(n.keys,", ")}`;case"invalid_key":return`Rangur lykill \xED ${n.origin}`;case"invalid_union":return"Rangt gildi";case"invalid_element":return`Rangt gildi \xED ${n.origin}`;default:return"Rangt gildi"}}},"error");function aO(){return{localeError:Xie()}}a(aO,"default");var Yie=a(()=>{let e={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"numero";case"object":{if(Array.isArray(o))return"vettore";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"};return o=>{switch(o.code){case"invalid_type":return`Input non valido: atteso ${o.expected}, ricevuto ${r(o.input)}`;case"invalid_value":return o.values.length===1?`Input non valido: atteso ${le(o.values[0])}`:`Opzione non valida: atteso uno tra ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`Troppo grande: ${o.origin??"valore"} deve avere ${i}${o.maximum.toString()} ${s.unit??"elementi"}`:`Troppo grande: ${o.origin??"valore"} deve essere ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`Troppo piccolo: ${o.origin} deve avere ${i}${o.minimum.toString()} ${s.unit}`:`Troppo piccolo: ${o.origin} deve essere ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Stringa non valida: deve iniziare con "${i.prefix}"`:i.format==="ends_with"?`Stringa non valida: deve terminare con "${i.suffix}"`:i.format==="includes"?`Stringa non valida: deve includere "${i.includes}"`:i.format==="regex"?`Stringa non valida: deve corrispondere al pattern ${i.pattern}`:`Invalid ${n[i.format]??o.format}`}case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${o.divisor}`;case"unrecognized_keys":return`Chiav${o.keys.length>1?"i":"e"} non riconosciut${o.keys.length>1?"e":"a"}: ${ee(o.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${o.origin}`;case"invalid_union":return"Input non valido";case"invalid_element":return`Valore non valido in ${o.origin}`;default:return"Input non valido"}}},"error");function sO(){return{localeError:Yie()}}a(sO,"default");var eae=a(()=>{let e={string:{unit:"\u6587\u5B57",verb:"\u3067\u3042\u308B"},file:{unit:"\u30D0\u30A4\u30C8",verb:"\u3067\u3042\u308B"},array:{unit:"\u8981\u7D20",verb:"\u3067\u3042\u308B"},set:{unit:"\u8981\u7D20",verb:"\u3067\u3042\u308B"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"\u6570\u5024";case"object":{if(Array.isArray(o))return"\u914D\u5217";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\u5165\u529B\u5024",email:"\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9",url:"URL",emoji:"\u7D75\u6587\u5B57",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO\u65E5\u6642",date:"ISO\u65E5\u4ED8",time:"ISO\u6642\u523B",duration:"ISO\u671F\u9593",ipv4:"IPv4\u30A2\u30C9\u30EC\u30B9",ipv6:"IPv6\u30A2\u30C9\u30EC\u30B9",cidrv4:"IPv4\u7BC4\u56F2",cidrv6:"IPv6\u7BC4\u56F2",base64:"base64\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217",base64url:"base64url\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217",json_string:"JSON\u6587\u5B57\u5217",e164:"E.164\u756A\u53F7",jwt:"JWT",template_literal:"\u5165\u529B\u5024"};return o=>{switch(o.code){case"invalid_type":return`\u7121\u52B9\u306A\u5165\u529B: ${o.expected}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F\u304C\u3001${r(o.input)}\u304C\u5165\u529B\u3055\u308C\u307E\u3057\u305F`;case"invalid_value":return o.values.length===1?`\u7121\u52B9\u306A\u5165\u529B: ${le(o.values[0])}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F`:`\u7121\u52B9\u306A\u9078\u629E: ${ee(o.values,"\u3001")}\u306E\u3044\u305A\u308C\u304B\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;case"too_big":{let i=o.inclusive?"\u4EE5\u4E0B\u3067\u3042\u308B":"\u3088\u308A\u5C0F\u3055\u3044",s=t(o.origin);return s?`\u5927\u304D\u3059\u304E\u308B\u5024: ${o.origin??"\u5024"}\u306F${o.maximum.toString()}${s.unit??"\u8981\u7D20"}${i}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u5927\u304D\u3059\u304E\u308B\u5024: ${o.origin??"\u5024"}\u306F${o.maximum.toString()}${i}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`}case"too_small":{let i=o.inclusive?"\u4EE5\u4E0A\u3067\u3042\u308B":"\u3088\u308A\u5927\u304D\u3044",s=t(o.origin);return s?`\u5C0F\u3055\u3059\u304E\u308B\u5024: ${o.origin}\u306F${o.minimum.toString()}${s.unit}${i}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u5C0F\u3055\u3059\u304E\u308B\u5024: ${o.origin}\u306F${o.minimum.toString()}${i}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${i.prefix}"\u3067\u59CB\u307E\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:i.format==="ends_with"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${i.suffix}"\u3067\u7D42\u308F\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:i.format==="includes"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${i.includes}"\u3092\u542B\u3080\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:i.format==="regex"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: \u30D1\u30BF\u30FC\u30F3${i.pattern}\u306B\u4E00\u81F4\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u7121\u52B9\u306A${n[i.format]??o.format}`}case"not_multiple_of":return`\u7121\u52B9\u306A\u6570\u5024: ${o.divisor}\u306E\u500D\u6570\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;case"unrecognized_keys":return`\u8A8D\u8B58\u3055\u308C\u3066\u3044\u306A\u3044\u30AD\u30FC${o.keys.length>1?"\u7FA4":""}: ${ee(o.keys,"\u3001")}`;case"invalid_key":return`${o.origin}\u5185\u306E\u7121\u52B9\u306A\u30AD\u30FC`;case"invalid_union":return"\u7121\u52B9\u306A\u5165\u529B";case"invalid_element":return`${o.origin}\u5185\u306E\u7121\u52B9\u306A\u5024`;default:return"\u7121\u52B9\u306A\u5165\u529B"}}},"error");function uO(){return{localeError:eae()}}a(uO,"default");var tae=a(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"\u10E0\u10D8\u10EA\u10EE\u10D5\u10D8";case"object":{if(Array.isArray(e))return"\u10DB\u10D0\u10E1\u10D8\u10D5\u10D8";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return{string:"\u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",boolean:"\u10D1\u10E3\u10DA\u10D4\u10D0\u10DC\u10D8",undefined:"undefined",bigint:"bigint",symbol:"symbol",function:"\u10E4\u10E3\u10DC\u10E5\u10EA\u10D8\u10D0"}[t]??t},"parsedType"),rae=a(()=>{let e={string:{unit:"\u10E1\u10D8\u10DB\u10D1\u10DD\u10DA\u10DD",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"},file:{unit:"\u10D1\u10D0\u10D8\u10E2\u10D8",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"},array:{unit:"\u10D4\u10DA\u10D4\u10DB\u10D4\u10DC\u10E2\u10D8",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"},set:{unit:"\u10D4\u10DA\u10D4\u10DB\u10D4\u10DC\u10E2\u10D8",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"}};function t(n){return e[n]??null}a(t,"getSizing");let r={regex:"\u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0",email:"\u10D4\u10DA-\u10E4\u10DD\u10E1\u10E2\u10D8\u10E1 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",url:"URL",emoji:"\u10D4\u10DB\u10DD\u10EF\u10D8",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u10D7\u10D0\u10E0\u10D8\u10E6\u10D8-\u10D3\u10E0\u10DD",date:"\u10D7\u10D0\u10E0\u10D8\u10E6\u10D8",time:"\u10D3\u10E0\u10DD",duration:"\u10EE\u10D0\u10DC\u10D2\u10E0\u10EB\u10DA\u10D8\u10D5\u10DD\u10D1\u10D0",ipv4:"IPv4 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",ipv6:"IPv6 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",cidrv4:"IPv4 \u10D3\u10D8\u10D0\u10DE\u10D0\u10D6\u10DD\u10DC\u10D8",cidrv6:"IPv6 \u10D3\u10D8\u10D0\u10DE\u10D0\u10D6\u10DD\u10DC\u10D8",base64:"base64-\u10D9\u10DD\u10D3\u10D8\u10E0\u10D4\u10D1\u10E3\u10DA\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",base64url:"base64url-\u10D9\u10DD\u10D3\u10D8\u10E0\u10D4\u10D1\u10E3\u10DA\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",json_string:"JSON \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",e164:"E.164 \u10DC\u10DD\u10DB\u10D4\u10E0\u10D8",jwt:"JWT",template_literal:"\u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0"};return n=>{switch(n.code){case"invalid_type":return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${n.expected}, \u10DB\u10D8\u10E6\u10D4\u10D1\u10E3\u10DA\u10D8 ${tae(n.input)}`;case"invalid_value":return n.values.length===1?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${le(n.values[0])}`:`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10D5\u10D0\u10E0\u10D8\u10D0\u10DC\u10E2\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8\u10D0 \u10D4\u10E0\u10D7-\u10D4\u10E0\u10D7\u10D8 ${ee(n.values,"|")}-\u10D3\u10D0\u10DC`;case"too_big":{let o=n.inclusive?"<=":"<",i=t(n.origin);return i?`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10D3\u10D8\u10D3\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${n.origin??"\u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0"} ${i.verb} ${o}${n.maximum.toString()} ${i.unit}`:`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10D3\u10D8\u10D3\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${n.origin??"\u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0"} \u10D8\u10E7\u10DD\u10E1 ${o}${n.maximum.toString()}`}case"too_small":{let o=n.inclusive?">=":">",i=t(n.origin);return i?`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10DE\u10D0\u10E2\u10D0\u10E0\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${n.origin} ${i.verb} ${o}${n.minimum.toString()} ${i.unit}`:`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10DE\u10D0\u10E2\u10D0\u10E0\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${n.origin} \u10D8\u10E7\u10DD\u10E1 ${o}${n.minimum.toString()}`}case"invalid_format":{let o=n;return o.format==="starts_with"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10D8\u10EC\u10E7\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 "${o.prefix}"-\u10D8\u10D7`:o.format==="ends_with"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10DB\u10D7\u10D0\u10D5\u10E0\u10D3\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 "${o.suffix}"-\u10D8\u10D7`:o.format==="includes"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1 "${o.includes}"-\u10E1`:o.format==="regex"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D4\u10E1\u10D0\u10D1\u10D0\u10DB\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 \u10E8\u10D0\u10D1\u10DA\u10DD\u10DC\u10E1 ${o.pattern}`:`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 ${r[o.format]??n.format}`}case"not_multiple_of":return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E0\u10D8\u10EA\u10EE\u10D5\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10D8\u10E7\u10DD\u10E1 ${n.divisor}-\u10D8\u10E1 \u10EF\u10D4\u10E0\u10D0\u10D3\u10D8`;case"unrecognized_keys":return`\u10E3\u10EA\u10DC\u10DD\u10D1\u10D8 \u10D2\u10D0\u10E1\u10D0\u10E6\u10D4\u10D1${n.keys.length>1?"\u10D4\u10D1\u10D8":"\u10D8"}: ${ee(n.keys,", ")}`;case"invalid_key":return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10D2\u10D0\u10E1\u10D0\u10E6\u10D4\u10D1\u10D8 ${n.origin}-\u10E8\u10D8`;case"invalid_union":return"\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0";case"invalid_element":return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0 ${n.origin}-\u10E8\u10D8`;default:return"\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0"}}},"error");function cO(){return{localeError:rae()}}a(cO,"default");var nae=a(()=>{let e={string:{unit:"\u178F\u17BD\u17A2\u1780\u17D2\u179F\u179A",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},file:{unit:"\u1794\u17C3",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},array:{unit:"\u1792\u17B6\u178F\u17BB",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},set:{unit:"\u1792\u17B6\u178F\u17BB",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"\u1798\u17B7\u1793\u1798\u17C2\u1793\u1787\u17B6\u179B\u17C1\u1781 (NaN)":"\u179B\u17C1\u1781";case"object":{if(Array.isArray(o))return"\u17A2\u17B6\u179A\u17C1 (Array)";if(o===null)return"\u1782\u17D2\u1798\u17B6\u1793\u178F\u1798\u17D2\u179B\u17C3 (null)";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B",email:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793\u17A2\u17CA\u17B8\u1798\u17C2\u179B",url:"URL",emoji:"\u179F\u1789\u17D2\u1789\u17B6\u17A2\u17B6\u179A\u1798\u17D2\u1798\u178E\u17CD",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 \u1793\u17B7\u1784\u1798\u17C9\u17C4\u1784 ISO",date:"\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 ISO",time:"\u1798\u17C9\u17C4\u1784 ISO",duration:"\u179A\u1799\u17C8\u1796\u17C1\u179B ISO",ipv4:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4",ipv6:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6",cidrv4:"\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4",cidrv6:"\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6",base64:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64",base64url:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64url",json_string:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A JSON",e164:"\u179B\u17C1\u1781 E.164",jwt:"JWT",template_literal:"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B"};return o=>{switch(o.code){case"invalid_type":return`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${o.expected} \u1794\u17C9\u17BB\u1793\u17D2\u178F\u17C2\u1791\u1791\u17BD\u179B\u1794\u17B6\u1793 ${r(o.input)}`;case"invalid_value":return o.values.length===1?`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${le(o.values[0])}`:`\u1787\u1798\u17D2\u179A\u17BE\u179F\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1787\u17B6\u1798\u17BD\u1799\u1780\u17D2\u1793\u17BB\u1784\u1785\u17C6\u178E\u17C4\u1798 ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${o.origin??"\u178F\u1798\u17D2\u179B\u17C3"} ${i} ${o.maximum.toString()} ${s.unit??"\u1792\u17B6\u178F\u17BB"}`:`\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${o.origin??"\u178F\u1798\u17D2\u179B\u17C3"} ${i} ${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${o.origin} ${i} ${o.minimum.toString()} ${s.unit}`:`\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${o.origin} ${i} ${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1785\u17B6\u1794\u17CB\u1795\u17D2\u178F\u17BE\u1798\u178A\u17C4\u1799 "${i.prefix}"`:i.format==="ends_with"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1794\u1789\u17D2\u1785\u1794\u17CB\u178A\u17C4\u1799 "${i.suffix}"`:i.format==="includes"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1798\u17B6\u1793 "${i.includes}"`:i.format==="regex"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1795\u17D2\u1782\u17BC\u1795\u17D2\u1782\u1784\u1793\u17B9\u1784\u1791\u1798\u17D2\u179A\u1784\u17CB\u178A\u17C2\u179B\u1794\u17B6\u1793\u1780\u17C6\u178E\u178F\u17CB ${i.pattern}`:`\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 ${n[i.format]??o.format}`}case"not_multiple_of":return`\u179B\u17C1\u1781\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1787\u17B6\u1796\u17A0\u17BB\u1782\u17BB\u178E\u1793\u17C3 ${o.divisor}`;case"unrecognized_keys":return`\u179A\u1780\u1783\u17BE\u1789\u179F\u17C4\u1798\u17B7\u1793\u179F\u17D2\u1782\u17B6\u179B\u17CB\u17D6 ${ee(o.keys,", ")}`;case"invalid_key":return`\u179F\u17C4\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${o.origin}`;case"invalid_union":return"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C";case"invalid_element":return`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${o.origin}`;default:return"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C"}}},"error");function Rd(){return{localeError:nae()}}a(Rd,"default");function lO(){return Rd()}a(lO,"default");var oae=a(()=>{let e={string:{unit:"\uBB38\uC790",verb:"to have"},file:{unit:"\uBC14\uC774\uD2B8",verb:"to have"},array:{unit:"\uAC1C",verb:"to have"},set:{unit:"\uAC1C",verb:"to have"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"number";case"object":{if(Array.isArray(o))return"array";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\uC785\uB825",email:"\uC774\uBA54\uC77C \uC8FC\uC18C",url:"URL",emoji:"\uC774\uBAA8\uC9C0",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \uB0A0\uC9DC\uC2DC\uAC04",date:"ISO \uB0A0\uC9DC",time:"ISO \uC2DC\uAC04",duration:"ISO \uAE30\uAC04",ipv4:"IPv4 \uC8FC\uC18C",ipv6:"IPv6 \uC8FC\uC18C",cidrv4:"IPv4 \uBC94\uC704",cidrv6:"IPv6 \uBC94\uC704",base64:"base64 \uC778\uCF54\uB529 \uBB38\uC790\uC5F4",base64url:"base64url \uC778\uCF54\uB529 \uBB38\uC790\uC5F4",json_string:"JSON \uBB38\uC790\uC5F4",e164:"E.164 \uBC88\uD638",jwt:"JWT",template_literal:"\uC785\uB825"};return o=>{switch(o.code){case"invalid_type":return`\uC798\uBABB\uB41C \uC785\uB825: \uC608\uC0C1 \uD0C0\uC785\uC740 ${o.expected}, \uBC1B\uC740 \uD0C0\uC785\uC740 ${r(o.input)}\uC785\uB2C8\uB2E4`;case"invalid_value":return o.values.length===1?`\uC798\uBABB\uB41C \uC785\uB825: \uAC12\uC740 ${le(o.values[0])} \uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4`:`\uC798\uBABB\uB41C \uC635\uC158: ${ee(o.values,"\uB610\uB294 ")} \uC911 \uD558\uB098\uC5EC\uC57C \uD569\uB2C8\uB2E4`;case"too_big":{let i=o.inclusive?"\uC774\uD558":"\uBBF8\uB9CC",s=i==="\uBBF8\uB9CC"?"\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4":"\uC5EC\uC57C \uD569\uB2C8\uB2E4",u=t(o.origin),l=u?.unit??"\uC694\uC18C";return u?`${o.origin??"\uAC12"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${o.maximum.toString()}${l} ${i}${s}`:`${o.origin??"\uAC12"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${o.maximum.toString()} ${i}${s}`}case"too_small":{let i=o.inclusive?"\uC774\uC0C1":"\uCD08\uACFC",s=i==="\uC774\uC0C1"?"\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4":"\uC5EC\uC57C \uD569\uB2C8\uB2E4",u=t(o.origin),l=u?.unit??"\uC694\uC18C";return u?`${o.origin??"\uAC12"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${o.minimum.toString()}${l} ${i}${s}`:`${o.origin??"\uAC12"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${o.minimum.toString()} ${i}${s}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${i.prefix}"(\uC73C)\uB85C \uC2DC\uC791\uD574\uC57C \uD569\uB2C8\uB2E4`:i.format==="ends_with"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${i.suffix}"(\uC73C)\uB85C \uB05D\uB098\uC57C \uD569\uB2C8\uB2E4`:i.format==="includes"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${i.includes}"\uC744(\uB97C) \uD3EC\uD568\uD574\uC57C \uD569\uB2C8\uB2E4`:i.format==="regex"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: \uC815\uADDC\uC2DD ${i.pattern} \uD328\uD134\uACFC \uC77C\uCE58\uD574\uC57C \uD569\uB2C8\uB2E4`:`\uC798\uBABB\uB41C ${n[i.format]??o.format}`}case"not_multiple_of":return`\uC798\uBABB\uB41C \uC22B\uC790: ${o.divisor}\uC758 \uBC30\uC218\uC5EC\uC57C \uD569\uB2C8\uB2E4`;case"unrecognized_keys":return`\uC778\uC2DD\uD560 \uC218 \uC5C6\uB294 \uD0A4: ${ee(o.keys,", ")}`;case"invalid_key":return`\uC798\uBABB\uB41C \uD0A4: ${o.origin}`;case"invalid_union":return"\uC798\uBABB\uB41C \uC785\uB825";case"invalid_element":return`\uC798\uBABB\uB41C \uAC12: ${o.origin}`;default:return"\uC798\uBABB\uB41C \uC785\uB825"}}},"error");function dO(){return{localeError:oae()}}a(dO,"default");var iae=a(e=>Nd(typeof e,e),"parsedType"),Nd=a((e,t=void 0)=>{switch(e){case"number":return Number.isNaN(t)?"NaN":"skai\u010Dius";case"bigint":return"sveikasis skai\u010Dius";case"string":return"eilut\u0117";case"boolean":return"login\u0117 reik\u0161m\u0117";case"undefined":case"void":return"neapibr\u0117\u017Eta reik\u0161m\u0117";case"function":return"funkcija";case"symbol":return"simbolis";case"object":return t===void 0?"ne\u017Einomas objektas":t===null?"nulin\u0117 reik\u0161m\u0117":Array.isArray(t)?"masyvas":Object.getPrototypeOf(t)!==Object.prototype&&t.constructor?t.constructor.name:"objektas";case"null":return"nulin\u0117 reik\u0161m\u0117"}return e},"parsedTypeFromType"),$d=a(e=>e.charAt(0).toUpperCase()+e.slice(1),"capitalizeFirstCharacter");function JU(e){let t=Math.abs(e),r=t%10,n=t%100;return n>=11&&n<=19||r===0?"many":r===1?"one":"few"}a(JU,"getUnitTypeFromNumber");var aae=a(()=>{let e={string:{unit:{one:"simbolis",few:"simboliai",many:"simboli\u0173"},verb:{smaller:{inclusive:"turi b\u016Bti ne ilgesn\u0117 kaip",notInclusive:"turi b\u016Bti trumpesn\u0117 kaip"},bigger:{inclusive:"turi b\u016Bti ne trumpesn\u0117 kaip",notInclusive:"turi b\u016Bti ilgesn\u0117 kaip"}}},file:{unit:{one:"baitas",few:"baitai",many:"bait\u0173"},verb:{smaller:{inclusive:"turi b\u016Bti ne didesnis kaip",notInclusive:"turi b\u016Bti ma\u017Eesnis kaip"},bigger:{inclusive:"turi b\u016Bti ne ma\u017Eesnis kaip",notInclusive:"turi b\u016Bti didesnis kaip"}}},array:{unit:{one:"element\u0105",few:"elementus",many:"element\u0173"},verb:{smaller:{inclusive:"turi tur\u0117ti ne daugiau kaip",notInclusive:"turi tur\u0117ti ma\u017Eiau kaip"},bigger:{inclusive:"turi tur\u0117ti ne ma\u017Eiau kaip",notInclusive:"turi tur\u0117ti daugiau kaip"}}},set:{unit:{one:"element\u0105",few:"elementus",many:"element\u0173"},verb:{smaller:{inclusive:"turi tur\u0117ti ne daugiau kaip",notInclusive:"turi tur\u0117ti ma\u017Eiau kaip"},bigger:{inclusive:"turi tur\u0117ti ne ma\u017Eiau kaip",notInclusive:"turi tur\u0117ti daugiau kaip"}}}};function t(n,o,i,s){let u=e[n]??null;return u===null?u:{unit:u.unit[o],verb:u.verb[s][i?"inclusive":"notInclusive"]}}a(t,"getSizing");let r={regex:"\u012Fvestis",email:"el. pa\u0161to adresas",url:"URL",emoji:"jaustukas",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO data ir laikas",date:"ISO data",time:"ISO laikas",duration:"ISO trukm\u0117",ipv4:"IPv4 adresas",ipv6:"IPv6 adresas",cidrv4:"IPv4 tinklo prefiksas (CIDR)",cidrv6:"IPv6 tinklo prefiksas (CIDR)",base64:"base64 u\u017Ekoduota eilut\u0117",base64url:"base64url u\u017Ekoduota eilut\u0117",json_string:"JSON eilut\u0117",e164:"E.164 numeris",jwt:"JWT",template_literal:"\u012Fvestis"};return n=>{switch(n.code){case"invalid_type":return`Gautas tipas ${iae(n.input)}, o tik\u0117tasi - ${Nd(n.expected)}`;case"invalid_value":return n.values.length===1?`Privalo b\u016Bti ${le(n.values[0])}`:`Privalo b\u016Bti vienas i\u0161 ${ee(n.values,"|")} pasirinkim\u0173`;case"too_big":{let o=Nd(n.origin),i=t(n.origin,JU(Number(n.maximum)),n.inclusive??!1,"smaller");if(i?.verb)return`${$d(o??n.origin??"reik\u0161m\u0117")} ${i.verb} ${n.maximum.toString()} ${i.unit??"element\u0173"}`;let s=n.inclusive?"ne didesnis kaip":"ma\u017Eesnis kaip";return`${$d(o??n.origin??"reik\u0161m\u0117")} turi b\u016Bti ${s} ${n.maximum.toString()} ${i?.unit}`}case"too_small":{let o=Nd(n.origin),i=t(n.origin,JU(Number(n.minimum)),n.inclusive??!1,"bigger");if(i?.verb)return`${$d(o??n.origin??"reik\u0161m\u0117")} ${i.verb} ${n.minimum.toString()} ${i.unit??"element\u0173"}`;let s=n.inclusive?"ne ma\u017Eesnis kaip":"didesnis kaip";return`${$d(o??n.origin??"reik\u0161m\u0117")} turi b\u016Bti ${s} ${n.minimum.toString()} ${i?.unit}`}case"invalid_format":{let o=n;return o.format==="starts_with"?`Eilut\u0117 privalo prasid\u0117ti "${o.prefix}"`:o.format==="ends_with"?`Eilut\u0117 privalo pasibaigti "${o.suffix}"`:o.format==="includes"?`Eilut\u0117 privalo \u012Ftraukti "${o.includes}"`:o.format==="regex"?`Eilut\u0117 privalo atitikti ${o.pattern}`:`Neteisingas ${r[o.format]??n.format}`}case"not_multiple_of":return`Skai\u010Dius privalo b\u016Bti ${n.divisor} kartotinis.`;case"unrecognized_keys":return`Neatpa\u017Eint${n.keys.length>1?"i":"as"} rakt${n.keys.length>1?"ai":"as"}: ${ee(n.keys,", ")}`;case"invalid_key":return"Rastas klaidingas raktas";case"invalid_union":return"Klaidinga \u012Fvestis";case"invalid_element":{let o=Nd(n.origin);return`${$d(o??n.origin??"reik\u0161m\u0117")} turi klaiding\u0105 \u012Fvest\u012F`}default:return"Klaidinga \u012Fvestis"}}},"error");function pO(){return{localeError:aae()}}a(pO,"default");var sae=a(()=>{let e={string:{unit:"\u0437\u043D\u0430\u0446\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},file:{unit:"\u0431\u0430\u0458\u0442\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},array:{unit:"\u0441\u0442\u0430\u0432\u043A\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},set:{unit:"\u0441\u0442\u0430\u0432\u043A\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"\u0431\u0440\u043E\u0458";case"object":{if(Array.isArray(o))return"\u043D\u0438\u0437\u0430";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\u0432\u043D\u0435\u0441",email:"\u0430\u0434\u0440\u0435\u0441\u0430 \u043D\u0430 \u0435-\u043F\u043E\u0448\u0442\u0430",url:"URL",emoji:"\u0435\u043C\u043E\u045F\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0443\u043C \u0438 \u0432\u0440\u0435\u043C\u0435",date:"ISO \u0434\u0430\u0442\u0443\u043C",time:"ISO \u0432\u0440\u0435\u043C\u0435",duration:"ISO \u0432\u0440\u0435\u043C\u0435\u0442\u0440\u0430\u0435\u045A\u0435",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441\u0430",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441\u0430",cidrv4:"IPv4 \u043E\u043F\u0441\u0435\u0433",cidrv6:"IPv6 \u043E\u043F\u0441\u0435\u0433",base64:"base64-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430",base64url:"base64url-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430",json_string:"JSON \u043D\u0438\u0437\u0430",e164:"E.164 \u0431\u0440\u043E\u0458",jwt:"JWT",template_literal:"\u0432\u043D\u0435\u0441"};return o=>{switch(o.code){case"invalid_type":return`\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${o.expected}, \u043F\u0440\u0438\u043C\u0435\u043D\u043E ${r(o.input)}`;case"invalid_value":return o.values.length===1?`Invalid input: expected ${le(o.values[0])}`:`\u0413\u0440\u0435\u0448\u0430\u043D\u0430 \u043E\u043F\u0446\u0438\u0458\u0430: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 \u0435\u0434\u043D\u0430 ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${o.origin??"\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430"} \u0434\u0430 \u0438\u043C\u0430 ${i}${o.maximum.toString()} ${s.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0438"}`:`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${o.origin??"\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430"} \u0434\u0430 \u0431\u0438\u0434\u0435 ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${o.origin} \u0434\u0430 \u0438\u043C\u0430 ${i}${o.minimum.toString()} ${s.unit}`:`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${o.origin} \u0434\u0430 \u0431\u0438\u0434\u0435 ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u043F\u043E\u0447\u043D\u0443\u0432\u0430 \u0441\u043E "${i.prefix}"`:i.format==="ends_with"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u0432\u0440\u0448\u0443\u0432\u0430 \u0441\u043E "${i.suffix}"`:i.format==="includes"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0432\u043A\u043B\u0443\u0447\u0443\u0432\u0430 "${i.includes}"`:i.format==="regex"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u043E\u0434\u0433\u043E\u0430\u0440\u0430 \u043D\u0430 \u043F\u0430\u0442\u0435\u0440\u043D\u043E\u0442 ${i.pattern}`:`Invalid ${n[i.format]??o.format}`}case"not_multiple_of":return`\u0413\u0440\u0435\u0448\u0435\u043D \u0431\u0440\u043E\u0458: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0431\u0438\u0434\u0435 \u0434\u0435\u043B\u0438\u0432 \u0441\u043E ${o.divisor}`;case"unrecognized_keys":return`${o.keys.length>1?"\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D\u0438 \u043A\u043B\u0443\u0447\u0435\u0432\u0438":"\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D \u043A\u043B\u0443\u0447"}: ${ee(o.keys,", ")}`;case"invalid_key":return`\u0413\u0440\u0435\u0448\u0435\u043D \u043A\u043B\u0443\u0447 \u0432\u043E ${o.origin}`;case"invalid_union":return"\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441";case"invalid_element":return`\u0413\u0440\u0435\u0448\u043D\u0430 \u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442 \u0432\u043E ${o.origin}`;default:return"\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441"}}},"error");function mO(){return{localeError:sae()}}a(mO,"default");var uae=a(()=>{let e={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"nombor";case"object":{if(Array.isArray(o))return"array";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"};return o=>{switch(o.code){case"invalid_type":return`Input tidak sah: dijangka ${o.expected}, diterima ${r(o.input)}`;case"invalid_value":return o.values.length===1?`Input tidak sah: dijangka ${le(o.values[0])}`:`Pilihan tidak sah: dijangka salah satu daripada ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`Terlalu besar: dijangka ${o.origin??"nilai"} ${s.verb} ${i}${o.maximum.toString()} ${s.unit??"elemen"}`:`Terlalu besar: dijangka ${o.origin??"nilai"} adalah ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`Terlalu kecil: dijangka ${o.origin} ${s.verb} ${i}${o.minimum.toString()} ${s.unit}`:`Terlalu kecil: dijangka ${o.origin} adalah ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`String tidak sah: mesti bermula dengan "${i.prefix}"`:i.format==="ends_with"?`String tidak sah: mesti berakhir dengan "${i.suffix}"`:i.format==="includes"?`String tidak sah: mesti mengandungi "${i.includes}"`:i.format==="regex"?`String tidak sah: mesti sepadan dengan corak ${i.pattern}`:`${n[i.format]??o.format} tidak sah`}case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${o.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${ee(o.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${o.origin}`;case"invalid_union":return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${o.origin}`;default:return"Input tidak sah"}}},"error");function fO(){return{localeError:uae()}}a(fO,"default");var cae=a(()=>{let e={string:{unit:"tekens",verb:"te hebben"},file:{unit:"bytes",verb:"te hebben"},array:{unit:"elementen",verb:"te hebben"},set:{unit:"elementen",verb:"te hebben"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"getal";case"object":{if(Array.isArray(o))return"array";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"};return o=>{switch(o.code){case"invalid_type":return`Ongeldige invoer: verwacht ${o.expected}, ontving ${r(o.input)}`;case"invalid_value":return o.values.length===1?`Ongeldige invoer: verwacht ${le(o.values[0])}`:`Ongeldige optie: verwacht \xE9\xE9n van ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`Te groot: verwacht dat ${o.origin??"waarde"} ${s.verb} ${i}${o.maximum.toString()} ${s.unit??"elementen"}`:`Te groot: verwacht dat ${o.origin??"waarde"} ${i}${o.maximum.toString()} is`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`Te klein: verwacht dat ${o.origin} ${s.verb} ${i}${o.minimum.toString()} ${s.unit}`:`Te klein: verwacht dat ${o.origin} ${i}${o.minimum.toString()} is`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Ongeldige tekst: moet met "${i.prefix}" beginnen`:i.format==="ends_with"?`Ongeldige tekst: moet op "${i.suffix}" eindigen`:i.format==="includes"?`Ongeldige tekst: moet "${i.includes}" bevatten`:i.format==="regex"?`Ongeldige tekst: moet overeenkomen met patroon ${i.pattern}`:`Ongeldig: ${n[i.format]??o.format}`}case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${o.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${o.keys.length>1?"s":""}: ${ee(o.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${o.origin}`;case"invalid_union":return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${o.origin}`;default:return"Ongeldige invoer"}}},"error");function hO(){return{localeError:cae()}}a(hO,"default");var lae=a(()=>{let e={string:{unit:"tegn",verb:"\xE5 ha"},file:{unit:"bytes",verb:"\xE5 ha"},array:{unit:"elementer",verb:"\xE5 inneholde"},set:{unit:"elementer",verb:"\xE5 inneholde"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"tall";case"object":{if(Array.isArray(o))return"liste";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omr\xE5de",ipv6:"IPv6-omr\xE5de",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return o=>{switch(o.code){case"invalid_type":return`Ugyldig input: forventet ${o.expected}, fikk ${r(o.input)}`;case"invalid_value":return o.values.length===1?`Ugyldig verdi: forventet ${le(o.values[0])}`:`Ugyldig valg: forventet en av ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`For stor(t): forventet ${o.origin??"value"} til \xE5 ha ${i}${o.maximum.toString()} ${s.unit??"elementer"}`:`For stor(t): forventet ${o.origin??"value"} til \xE5 ha ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`For lite(n): forventet ${o.origin} til \xE5 ha ${i}${o.minimum.toString()} ${s.unit}`:`For lite(n): forventet ${o.origin} til \xE5 ha ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Ugyldig streng: m\xE5 starte med "${i.prefix}"`:i.format==="ends_with"?`Ugyldig streng: m\xE5 ende med "${i.suffix}"`:i.format==="includes"?`Ugyldig streng: m\xE5 inneholde "${i.includes}"`:i.format==="regex"?`Ugyldig streng: m\xE5 matche m\xF8nsteret ${i.pattern}`:`Ugyldig ${n[i.format]??o.format}`}case"not_multiple_of":return`Ugyldig tall: m\xE5 v\xE6re et multiplum av ${o.divisor}`;case"unrecognized_keys":return`${o.keys.length>1?"Ukjente n\xF8kler":"Ukjent n\xF8kkel"}: ${ee(o.keys,", ")}`;case"invalid_key":return`Ugyldig n\xF8kkel i ${o.origin}`;case"invalid_union":return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${o.origin}`;default:return"Ugyldig input"}}},"error");function gO(){return{localeError:lae()}}a(gO,"default");var dae=a(()=>{let e={string:{unit:"harf",verb:"olmal\u0131d\u0131r"},file:{unit:"bayt",verb:"olmal\u0131d\u0131r"},array:{unit:"unsur",verb:"olmal\u0131d\u0131r"},set:{unit:"unsur",verb:"olmal\u0131d\u0131r"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"numara";case"object":{if(Array.isArray(o))return"saf";if(o===null)return"gayb";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"giren",email:"epostag\xE2h",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO heng\xE2m\u0131",date:"ISO tarihi",time:"ISO zaman\u0131",duration:"ISO m\xFCddeti",ipv4:"IPv4 ni\u015F\xE2n\u0131",ipv6:"IPv6 ni\u015F\xE2n\u0131",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-\u015Fifreli metin",base64url:"base64url-\u015Fifreli metin",json_string:"JSON metin",e164:"E.164 say\u0131s\u0131",jwt:"JWT",template_literal:"giren"};return o=>{switch(o.code){case"invalid_type":return`F\xE2sit giren: umulan ${o.expected}, al\u0131nan ${r(o.input)}`;case"invalid_value":return o.values.length===1?`F\xE2sit giren: umulan ${le(o.values[0])}`:`F\xE2sit tercih: m\xFBteberler ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`Fazla b\xFCy\xFCk: ${o.origin??"value"}, ${i}${o.maximum.toString()} ${s.unit??"elements"} sahip olmal\u0131yd\u0131.`:`Fazla b\xFCy\xFCk: ${o.origin??"value"}, ${i}${o.maximum.toString()} olmal\u0131yd\u0131.`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`Fazla k\xFC\xE7\xFCk: ${o.origin}, ${i}${o.minimum.toString()} ${s.unit} sahip olmal\u0131yd\u0131.`:`Fazla k\xFC\xE7\xFCk: ${o.origin}, ${i}${o.minimum.toString()} olmal\u0131yd\u0131.`}case"invalid_format":{let i=o;return i.format==="starts_with"?`F\xE2sit metin: "${i.prefix}" ile ba\u015Flamal\u0131.`:i.format==="ends_with"?`F\xE2sit metin: "${i.suffix}" ile bitmeli.`:i.format==="includes"?`F\xE2sit metin: "${i.includes}" ihtiv\xE2 etmeli.`:i.format==="regex"?`F\xE2sit metin: ${i.pattern} nak\u015F\u0131na uymal\u0131.`:`F\xE2sit ${n[i.format]??o.format}`}case"not_multiple_of":return`F\xE2sit say\u0131: ${o.divisor} kat\u0131 olmal\u0131yd\u0131.`;case"unrecognized_keys":return`Tan\u0131nmayan anahtar ${o.keys.length>1?"s":""}: ${ee(o.keys,", ")}`;case"invalid_key":return`${o.origin} i\xE7in tan\u0131nmayan anahtar var.`;case"invalid_union":return"Giren tan\u0131namad\u0131.";case"invalid_element":return`${o.origin} i\xE7in tan\u0131nmayan k\u0131ymet var.`;default:return"K\u0131ymet tan\u0131namad\u0131."}}},"error");function yO(){return{localeError:dae()}}a(yO,"default");var pae=a(()=>{let e={string:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"},file:{unit:"\u0628\u0627\u06CC\u067C\u0633",verb:"\u0648\u0644\u0631\u064A"},array:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"},set:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"\u0639\u062F\u062F";case"object":{if(Array.isArray(o))return"\u0627\u0631\u06D0";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\u0648\u0631\u0648\u062F\u064A",email:"\u0628\u0631\u06CC\u069A\u0646\u0627\u0644\u06CC\u06A9",url:"\u06CC\u0648 \u0622\u0631 \u0627\u0644",emoji:"\u0627\u06CC\u0645\u0648\u062C\u064A",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0646\u06CC\u067C\u0647 \u0627\u0648 \u0648\u062E\u062A",date:"\u0646\u06D0\u067C\u0647",time:"\u0648\u062E\u062A",duration:"\u0645\u0648\u062F\u0647",ipv4:"\u062F IPv4 \u067E\u062A\u0647",ipv6:"\u062F IPv6 \u067E\u062A\u0647",cidrv4:"\u062F IPv4 \u0633\u0627\u062D\u0647",cidrv6:"\u062F IPv6 \u0633\u0627\u062D\u0647",base64:"base64-encoded \u0645\u062A\u0646",base64url:"base64url-encoded \u0645\u062A\u0646",json_string:"JSON \u0645\u062A\u0646",e164:"\u062F E.164 \u0634\u0645\u06D0\u0631\u0647",jwt:"JWT",template_literal:"\u0648\u0631\u0648\u062F\u064A"};return o=>{switch(o.code){case"invalid_type":return`\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${o.expected} \u0648\u0627\u06CC, \u0645\u06AB\u0631 ${r(o.input)} \u062A\u0631\u0644\u0627\u0633\u0647 \u0634\u0648`;case"invalid_value":return o.values.length===1?`\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${le(o.values[0])} \u0648\u0627\u06CC`:`\u0646\u0627\u0633\u0645 \u0627\u0646\u062A\u062E\u0627\u0628: \u0628\u0627\u06CC\u062F \u06CC\u0648 \u0644\u0647 ${ee(o.values,"|")} \u0685\u062E\u0647 \u0648\u0627\u06CC`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${o.origin??"\u0627\u0631\u0632\u069A\u062A"} \u0628\u0627\u06CC\u062F ${i}${o.maximum.toString()} ${s.unit??"\u0639\u0646\u0635\u0631\u0648\u0646\u0647"} \u0648\u0644\u0631\u064A`:`\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${o.origin??"\u0627\u0631\u0632\u069A\u062A"} \u0628\u0627\u06CC\u062F ${i}${o.maximum.toString()} \u0648\u064A`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${o.origin} \u0628\u0627\u06CC\u062F ${i}${o.minimum.toString()} ${s.unit} \u0648\u0644\u0631\u064A`:`\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${o.origin} \u0628\u0627\u06CC\u062F ${i}${o.minimum.toString()} \u0648\u064A`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F "${i.prefix}" \u0633\u0631\u0647 \u067E\u06CC\u0644 \u0634\u064A`:i.format==="ends_with"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F "${i.suffix}" \u0633\u0631\u0647 \u067E\u0627\u06CC \u062A\u0647 \u0648\u0631\u0633\u064A\u0696\u064A`:i.format==="includes"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F "${i.includes}" \u0648\u0644\u0631\u064A`:i.format==="regex"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F ${i.pattern} \u0633\u0631\u0647 \u0645\u0637\u0627\u0628\u0642\u062A \u0648\u0644\u0631\u064A`:`${n[i.format]??o.format} \u0646\u0627\u0633\u0645 \u062F\u06CC`}case"not_multiple_of":return`\u0646\u0627\u0633\u0645 \u0639\u062F\u062F: \u0628\u0627\u06CC\u062F \u062F ${o.divisor} \u0645\u0636\u0631\u0628 \u0648\u064A`;case"unrecognized_keys":return`\u0646\u0627\u0633\u0645 ${o.keys.length>1?"\u06A9\u0644\u06CC\u0689\u0648\u0646\u0647":"\u06A9\u0644\u06CC\u0689"}: ${ee(o.keys,", ")}`;case"invalid_key":return`\u0646\u0627\u0633\u0645 \u06A9\u0644\u06CC\u0689 \u067E\u0647 ${o.origin} \u06A9\u06D0`;case"invalid_union":return"\u0646\u0627\u0633\u0645\u0647 \u0648\u0631\u0648\u062F\u064A";case"invalid_element":return`\u0646\u0627\u0633\u0645 \u0639\u0646\u0635\u0631 \u067E\u0647 ${o.origin} \u06A9\u06D0`;default:return"\u0646\u0627\u0633\u0645\u0647 \u0648\u0631\u0648\u062F\u064A"}}},"error");function vO(){return{localeError:pae()}}a(vO,"default");var mae=a(()=>{let e={string:{unit:"znak\xF3w",verb:"mie\u0107"},file:{unit:"bajt\xF3w",verb:"mie\u0107"},array:{unit:"element\xF3w",verb:"mie\u0107"},set:{unit:"element\xF3w",verb:"mie\u0107"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"liczba";case"object":{if(Array.isArray(o))return"tablica";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"wyra\u017Cenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"ci\u0105g znak\xF3w zakodowany w formacie base64",base64url:"ci\u0105g znak\xF3w zakodowany w formacie base64url",json_string:"ci\u0105g znak\xF3w w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wej\u015Bcie"};return o=>{switch(o.code){case"invalid_type":return`Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${o.expected}, otrzymano ${r(o.input)}`;case"invalid_value":return o.values.length===1?`Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${le(o.values[0])}`:`Nieprawid\u0142owa opcja: oczekiwano jednej z warto\u015Bci ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`Za du\u017Ca warto\u015B\u0107: oczekiwano, \u017Ce ${o.origin??"warto\u015B\u0107"} b\u0119dzie mie\u0107 ${i}${o.maximum.toString()} ${s.unit??"element\xF3w"}`:`Zbyt du\u017C(y/a/e): oczekiwano, \u017Ce ${o.origin??"warto\u015B\u0107"} b\u0119dzie wynosi\u0107 ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`Za ma\u0142a warto\u015B\u0107: oczekiwano, \u017Ce ${o.origin??"warto\u015B\u0107"} b\u0119dzie mie\u0107 ${i}${o.minimum.toString()} ${s.unit??"element\xF3w"}`:`Zbyt ma\u0142(y/a/e): oczekiwano, \u017Ce ${o.origin??"warto\u015B\u0107"} b\u0119dzie wynosi\u0107 ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi zaczyna\u0107 si\u0119 od "${i.prefix}"`:i.format==="ends_with"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi ko\u0144czy\u0107 si\u0119 na "${i.suffix}"`:i.format==="includes"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi zawiera\u0107 "${i.includes}"`:i.format==="regex"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi odpowiada\u0107 wzorcowi ${i.pattern}`:`Nieprawid\u0142ow(y/a/e) ${n[i.format]??o.format}`}case"not_multiple_of":return`Nieprawid\u0142owa liczba: musi by\u0107 wielokrotno\u015Bci\u0105 ${o.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${o.keys.length>1?"s":""}: ${ee(o.keys,", ")}`;case"invalid_key":return`Nieprawid\u0142owy klucz w ${o.origin}`;case"invalid_union":return"Nieprawid\u0142owe dane wej\u015Bciowe";case"invalid_element":return`Nieprawid\u0142owa warto\u015B\u0107 w ${o.origin}`;default:return"Nieprawid\u0142owe dane wej\u015Bciowe"}}},"error");function _O(){return{localeError:mae()}}a(_O,"default");var fae=a(()=>{let e={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"n\xFAmero";case"object":{if(Array.isArray(o))return"array";if(o===null)return"nulo";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"padr\xE3o",email:"endere\xE7o de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"dura\xE7\xE3o ISO",ipv4:"endere\xE7o IPv4",ipv6:"endere\xE7o IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"};return o=>{switch(o.code){case"invalid_type":return`Tipo inv\xE1lido: esperado ${o.expected}, recebido ${r(o.input)}`;case"invalid_value":return o.values.length===1?`Entrada inv\xE1lida: esperado ${le(o.values[0])}`:`Op\xE7\xE3o inv\xE1lida: esperada uma das ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`Muito grande: esperado que ${o.origin??"valor"} tivesse ${i}${o.maximum.toString()} ${s.unit??"elementos"}`:`Muito grande: esperado que ${o.origin??"valor"} fosse ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`Muito pequeno: esperado que ${o.origin} tivesse ${i}${o.minimum.toString()} ${s.unit}`:`Muito pequeno: esperado que ${o.origin} fosse ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Texto inv\xE1lido: deve come\xE7ar com "${i.prefix}"`:i.format==="ends_with"?`Texto inv\xE1lido: deve terminar com "${i.suffix}"`:i.format==="includes"?`Texto inv\xE1lido: deve incluir "${i.includes}"`:i.format==="regex"?`Texto inv\xE1lido: deve corresponder ao padr\xE3o ${i.pattern}`:`${n[i.format]??o.format} inv\xE1lido`}case"not_multiple_of":return`N\xFAmero inv\xE1lido: deve ser m\xFAltiplo de ${o.divisor}`;case"unrecognized_keys":return`Chave${o.keys.length>1?"s":""} desconhecida${o.keys.length>1?"s":""}: ${ee(o.keys,", ")}`;case"invalid_key":return`Chave inv\xE1lida em ${o.origin}`;case"invalid_union":return"Entrada inv\xE1lida";case"invalid_element":return`Valor inv\xE1lido em ${o.origin}`;default:return"Campo inv\xE1lido"}}},"error");function bO(){return{localeError:fae()}}a(bO,"default");function HU(e,t,r,n){let o=Math.abs(e),i=o%10,s=o%100;return s>=11&&s<=19?n:i===1?t:i>=2&&i<=4?r:n}a(HU,"getRussianPlural");var hae=a(()=>{let e={string:{unit:{one:"\u0441\u0438\u043C\u0432\u043E\u043B",few:"\u0441\u0438\u043C\u0432\u043E\u043B\u0430",many:"\u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"},file:{unit:{one:"\u0431\u0430\u0439\u0442",few:"\u0431\u0430\u0439\u0442\u0430",many:"\u0431\u0430\u0439\u0442"},verb:"\u0438\u043C\u0435\u0442\u044C"},array:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"},set:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"\u0447\u0438\u0441\u043B\u043E";case"object":{if(Array.isArray(o))return"\u043C\u0430\u0441\u0441\u0438\u0432";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\u0432\u0432\u043E\u0434",email:"email \u0430\u0434\u0440\u0435\u0441",url:"URL",emoji:"\u044D\u043C\u043E\u0434\u0437\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043C\u044F",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0432\u0440\u0435\u043C\u044F",duration:"ISO \u0434\u043B\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441",cidrv4:"IPv4 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",base64:"\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64",base64url:"\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64url",json_string:"JSON \u0441\u0442\u0440\u043E\u043A\u0430",e164:"\u043D\u043E\u043C\u0435\u0440 E.164",jwt:"JWT",template_literal:"\u0432\u0432\u043E\u0434"};return o=>{switch(o.code){case"invalid_type":return`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${o.expected}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u043E ${r(o.input)}`;case"invalid_value":return o.values.length===1?`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${le(o.values[0])}`:`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0430\u0440\u0438\u0430\u043D\u0442: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C \u043E\u0434\u043D\u043E \u0438\u0437 ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);if(s){let u=Number(o.maximum),l=HU(u,s.unit.one,s.unit.few,s.unit.many);return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${o.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${i}${o.maximum.toString()} ${l}`}return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${o.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"} \u0431\u0443\u0434\u0435\u0442 ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);if(s){let u=Number(o.minimum),l=HU(u,s.unit.one,s.unit.few,s.unit.many);return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${o.origin} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${i}${o.minimum.toString()} ${l}`}return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${o.origin} \u0431\u0443\u0434\u0435\u0442 ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u043D\u0430\u0447\u0438\u043D\u0430\u0442\u044C\u0441\u044F \u0441 "${i.prefix}"`:i.format==="ends_with"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0437\u0430\u043A\u0430\u043D\u0447\u0438\u0432\u0430\u0442\u044C\u0441\u044F \u043D\u0430 "${i.suffix}"`:i.format==="includes"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0442\u044C "${i.includes}"`:i.format==="regex"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u043E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u043E\u0432\u0430\u0442\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${i.pattern}`:`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 ${n[i.format]??o.format}`}case"not_multiple_of":return`\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0447\u0438\u0441\u043B\u043E: \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${o.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0441\u043F\u043E\u0437\u043D\u0430\u043D\u043D${o.keys.length>1?"\u044B\u0435":"\u044B\u0439"} \u043A\u043B\u044E\u0447${o.keys.length>1?"\u0438":""}: ${ee(o.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u043A\u043B\u044E\u0447 \u0432 ${o.origin}`;case"invalid_union":return"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435";case"invalid_element":return`\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0432 ${o.origin}`;default:return"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435"}}},"error");function SO(){return{localeError:hae()}}a(SO,"default");var gae=a(()=>{let e={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"\u0161tevilo";case"object":{if(Array.isArray(o))return"tabela";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"vnos",email:"e-po\u0161tni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in \u010Das",date:"ISO datum",time:"ISO \u010Das",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 \u0161tevilka",jwt:"JWT",template_literal:"vnos"};return o=>{switch(o.code){case"invalid_type":return`Neveljaven vnos: pri\u010Dakovano ${o.expected}, prejeto ${r(o.input)}`;case"invalid_value":return o.values.length===1?`Neveljaven vnos: pri\u010Dakovano ${le(o.values[0])}`:`Neveljavna mo\u017Enost: pri\u010Dakovano eno izmed ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`Preveliko: pri\u010Dakovano, da bo ${o.origin??"vrednost"} imelo ${i}${o.maximum.toString()} ${s.unit??"elementov"}`:`Preveliko: pri\u010Dakovano, da bo ${o.origin??"vrednost"} ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`Premajhno: pri\u010Dakovano, da bo ${o.origin} imelo ${i}${o.minimum.toString()} ${s.unit}`:`Premajhno: pri\u010Dakovano, da bo ${o.origin} ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Neveljaven niz: mora se za\u010Deti z "${i.prefix}"`:i.format==="ends_with"?`Neveljaven niz: mora se kon\u010Dati z "${i.suffix}"`:i.format==="includes"?`Neveljaven niz: mora vsebovati "${i.includes}"`:i.format==="regex"?`Neveljaven niz: mora ustrezati vzorcu ${i.pattern}`:`Neveljaven ${n[i.format]??o.format}`}case"not_multiple_of":return`Neveljavno \u0161tevilo: mora biti ve\u010Dkratnik ${o.divisor}`;case"unrecognized_keys":return`Neprepoznan${o.keys.length>1?"i klju\u010Di":" klju\u010D"}: ${ee(o.keys,", ")}`;case"invalid_key":return`Neveljaven klju\u010D v ${o.origin}`;case"invalid_union":return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${o.origin}`;default:return"Neveljaven vnos"}}},"error");function wO(){return{localeError:gae()}}a(wO,"default");var yae=a(()=>{let e={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att inneh\xE5lla"},set:{unit:"objekt",verb:"att inneh\xE5lla"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"antal";case"object":{if(Array.isArray(o))return"lista";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"regulj\xE4rt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad str\xE4ng",base64url:"base64url-kodad str\xE4ng",json_string:"JSON-str\xE4ng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"};return o=>{switch(o.code){case"invalid_type":return`Ogiltig inmatning: f\xF6rv\xE4ntat ${o.expected}, fick ${r(o.input)}`;case"invalid_value":return o.values.length===1?`Ogiltig inmatning: f\xF6rv\xE4ntat ${le(o.values[0])}`:`Ogiltigt val: f\xF6rv\xE4ntade en av ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`F\xF6r stor(t): f\xF6rv\xE4ntade ${o.origin??"v\xE4rdet"} att ha ${i}${o.maximum.toString()} ${s.unit??"element"}`:`F\xF6r stor(t): f\xF6rv\xE4ntat ${o.origin??"v\xE4rdet"} att ha ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`F\xF6r lite(t): f\xF6rv\xE4ntade ${o.origin??"v\xE4rdet"} att ha ${i}${o.minimum.toString()} ${s.unit}`:`F\xF6r lite(t): f\xF6rv\xE4ntade ${o.origin??"v\xE4rdet"} att ha ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Ogiltig str\xE4ng: m\xE5ste b\xF6rja med "${i.prefix}"`:i.format==="ends_with"?`Ogiltig str\xE4ng: m\xE5ste sluta med "${i.suffix}"`:i.format==="includes"?`Ogiltig str\xE4ng: m\xE5ste inneh\xE5lla "${i.includes}"`:i.format==="regex"?`Ogiltig str\xE4ng: m\xE5ste matcha m\xF6nstret "${i.pattern}"`:`Ogiltig(t) ${n[i.format]??o.format}`}case"not_multiple_of":return`Ogiltigt tal: m\xE5ste vara en multipel av ${o.divisor}`;case"unrecognized_keys":return`${o.keys.length>1?"Ok\xE4nda nycklar":"Ok\xE4nd nyckel"}: ${ee(o.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${o.origin??"v\xE4rdet"}`;case"invalid_union":return"Ogiltig input";case"invalid_element":return`Ogiltigt v\xE4rde i ${o.origin??"v\xE4rdet"}`;default:return"Ogiltig input"}}},"error");function xO(){return{localeError:yae()}}a(xO,"default");var vae=a(()=>{let e={string:{unit:"\u0B8E\u0BB4\u0BC1\u0BA4\u0BCD\u0BA4\u0BC1\u0B95\u0BCD\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},file:{unit:"\u0BAA\u0BC8\u0B9F\u0BCD\u0B9F\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},array:{unit:"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},set:{unit:"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"\u0B8E\u0BA3\u0BCD \u0B85\u0BB2\u0BCD\u0BB2\u0BBE\u0BA4\u0BA4\u0BC1":"\u0B8E\u0BA3\u0BCD";case"object":{if(Array.isArray(o))return"\u0B85\u0BA3\u0BBF";if(o===null)return"\u0BB5\u0BC6\u0BB1\u0BC1\u0BAE\u0BC8";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1",email:"\u0BAE\u0BBF\u0BA9\u0BCD\u0BA9\u0B9E\u0BCD\u0B9A\u0BB2\u0BCD \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0BA4\u0BC7\u0BA4\u0BBF \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",date:"ISO \u0BA4\u0BC7\u0BA4\u0BBF",time:"ISO \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",duration:"ISO \u0B95\u0BBE\u0BB2 \u0B85\u0BB3\u0BB5\u0BC1",ipv4:"IPv4 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",ipv6:"IPv6 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",cidrv4:"IPv4 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1",cidrv6:"IPv6 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1",base64:"base64-encoded \u0B9A\u0BB0\u0BAE\u0BCD",base64url:"base64url-encoded \u0B9A\u0BB0\u0BAE\u0BCD",json_string:"JSON \u0B9A\u0BB0\u0BAE\u0BCD",e164:"E.164 \u0B8E\u0BA3\u0BCD",jwt:"JWT",template_literal:"input"};return o=>{switch(o.code){case"invalid_type":return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${o.expected}, \u0BAA\u0BC6\u0BB1\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${r(o.input)}`;case"invalid_value":return o.values.length===1?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${le(o.values[0])}`:`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0BB0\u0BC1\u0BAA\u0BCD\u0BAA\u0BAE\u0BCD: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${ee(o.values,"|")} \u0B87\u0BB2\u0BCD \u0B92\u0BA9\u0BCD\u0BB1\u0BC1`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${o.origin??"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1"} ${i}${o.maximum.toString()} ${s.unit??"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD"} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${o.origin??"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1"} ${i}${o.maximum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${o.origin} ${i}${o.minimum.toString()} ${s.unit} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${o.origin} ${i}${o.minimum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${i.prefix}" \u0B87\u0BB2\u0BCD \u0BA4\u0BCA\u0B9F\u0B99\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:i.format==="ends_with"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${i.suffix}" \u0B87\u0BB2\u0BCD \u0BAE\u0BC1\u0B9F\u0BBF\u0BB5\u0B9F\u0BC8\u0BAF \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:i.format==="includes"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${i.includes}" \u0B90 \u0B89\u0BB3\u0BCD\u0BB3\u0B9F\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:i.format==="regex"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: ${i.pattern} \u0BAE\u0BC1\u0BB1\u0BC8\u0BAA\u0BBE\u0B9F\u0BCD\u0B9F\u0BC1\u0B9F\u0BA9\u0BCD \u0BAA\u0BCA\u0BB0\u0BC1\u0BA8\u0BCD\u0BA4 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 ${n[i.format]??o.format}`}case"not_multiple_of":return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B8E\u0BA3\u0BCD: ${o.divisor} \u0B87\u0BA9\u0BCD \u0BAA\u0BB2\u0BAE\u0BBE\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;case"unrecognized_keys":return`\u0B85\u0B9F\u0BC8\u0BAF\u0BBE\u0BB3\u0BAE\u0BCD \u0BA4\u0BC6\u0BB0\u0BBF\u0BAF\u0BBE\u0BA4 \u0BB5\u0BBF\u0B9A\u0BC8${o.keys.length>1?"\u0B95\u0BB3\u0BCD":""}: ${ee(o.keys,", ")}`;case"invalid_key":return`${o.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0B9A\u0BC8`;case"invalid_union":return"\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1";case"invalid_element":return`${o.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1`;default:return"\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1"}}},"error");function TO(){return{localeError:vae()}}a(TO,"default");var _ae=a(()=>{let e={string:{unit:"\u0E15\u0E31\u0E27\u0E2D\u0E31\u0E01\u0E29\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},file:{unit:"\u0E44\u0E1A\u0E15\u0E4C",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},array:{unit:"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},set:{unit:"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"\u0E44\u0E21\u0E48\u0E43\u0E0A\u0E48\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02 (NaN)":"\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02";case"object":{if(Array.isArray(o))return"\u0E2D\u0E32\u0E23\u0E4C\u0E40\u0E23\u0E22\u0E4C (Array)";if(o===null)return"\u0E44\u0E21\u0E48\u0E21\u0E35\u0E04\u0E48\u0E32 (null)";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19",email:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48\u0E2D\u0E35\u0E40\u0E21\u0E25",url:"URL",emoji:"\u0E2D\u0E34\u0E42\u0E21\u0E08\u0E34",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",date:"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E41\u0E1A\u0E1A ISO",time:"\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",duration:"\u0E0A\u0E48\u0E27\u0E07\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",ipv4:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv4",ipv6:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv6",cidrv4:"\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv4",cidrv6:"\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv6",base64:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64",base64url:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64 \u0E2A\u0E33\u0E2B\u0E23\u0E31\u0E1A URL",json_string:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A JSON",e164:"\u0E40\u0E1A\u0E2D\u0E23\u0E4C\u0E42\u0E17\u0E23\u0E28\u0E31\u0E1E\u0E17\u0E4C\u0E23\u0E30\u0E2B\u0E27\u0E48\u0E32\u0E07\u0E1B\u0E23\u0E30\u0E40\u0E17\u0E28 (E.164)",jwt:"\u0E42\u0E17\u0E40\u0E04\u0E19 JWT",template_literal:"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19"};return o=>{switch(o.code){case"invalid_type":return`\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${o.expected} \u0E41\u0E15\u0E48\u0E44\u0E14\u0E49\u0E23\u0E31\u0E1A ${r(o.input)}`;case"invalid_value":return o.values.length===1?`\u0E04\u0E48\u0E32\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${le(o.values[0])}`:`\u0E15\u0E31\u0E27\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19\u0E2B\u0E19\u0E36\u0E48\u0E07\u0E43\u0E19 ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"\u0E44\u0E21\u0E48\u0E40\u0E01\u0E34\u0E19":"\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32",s=t(o.origin);return s?`\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${o.origin??"\u0E04\u0E48\u0E32"} \u0E04\u0E27\u0E23\u0E21\u0E35${i} ${o.maximum.toString()} ${s.unit??"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23"}`:`\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${o.origin??"\u0E04\u0E48\u0E32"} \u0E04\u0E27\u0E23\u0E21\u0E35${i} ${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?"\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E19\u0E49\u0E2D\u0E22":"\u0E21\u0E32\u0E01\u0E01\u0E27\u0E48\u0E32",s=t(o.origin);return s?`\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${o.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${i} ${o.minimum.toString()} ${s.unit}`:`\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${o.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${i} ${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E02\u0E36\u0E49\u0E19\u0E15\u0E49\u0E19\u0E14\u0E49\u0E27\u0E22 "${i.prefix}"`:i.format==="ends_with"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E25\u0E07\u0E17\u0E49\u0E32\u0E22\u0E14\u0E49\u0E27\u0E22 "${i.suffix}"`:i.format==="includes"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E21\u0E35 "${i.includes}" \u0E2D\u0E22\u0E39\u0E48\u0E43\u0E19\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21`:i.format==="regex"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14 ${i.pattern}`:`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: ${n[i.format]??o.format}`}case"not_multiple_of":return`\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E40\u0E1B\u0E47\u0E19\u0E08\u0E33\u0E19\u0E27\u0E19\u0E17\u0E35\u0E48\u0E2B\u0E32\u0E23\u0E14\u0E49\u0E27\u0E22 ${o.divisor} \u0E44\u0E14\u0E49\u0E25\u0E07\u0E15\u0E31\u0E27`;case"unrecognized_keys":return`\u0E1E\u0E1A\u0E04\u0E35\u0E22\u0E4C\u0E17\u0E35\u0E48\u0E44\u0E21\u0E48\u0E23\u0E39\u0E49\u0E08\u0E31\u0E01: ${ee(o.keys,", ")}`;case"invalid_key":return`\u0E04\u0E35\u0E22\u0E4C\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${o.origin}`;case"invalid_union":return"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E44\u0E21\u0E48\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E22\u0E39\u0E40\u0E19\u0E35\u0E22\u0E19\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14\u0E44\u0E27\u0E49";case"invalid_element":return`\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${o.origin}`;default:return"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07"}}},"error");function EO(){return{localeError:_ae()}}a(EO,"default");var bae=a(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":{if(Array.isArray(e))return"array";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},"parsedType"),Sae=a(()=>{let e={string:{unit:"karakter",verb:"olmal\u0131"},file:{unit:"bayt",verb:"olmal\u0131"},array:{unit:"\xF6\u011Fe",verb:"olmal\u0131"},set:{unit:"\xF6\u011Fe",verb:"olmal\u0131"}};function t(n){return e[n]??null}a(t,"getSizing");let r={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO s\xFCre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aral\u0131\u011F\u0131",cidrv6:"IPv6 aral\u0131\u011F\u0131",base64:"base64 ile \u015Fifrelenmi\u015F metin",base64url:"base64url ile \u015Fifrelenmi\u015F metin",json_string:"JSON dizesi",e164:"E.164 say\u0131s\u0131",jwt:"JWT",template_literal:"\u015Eablon dizesi"};return n=>{switch(n.code){case"invalid_type":return`Ge\xE7ersiz de\u011Fer: beklenen ${n.expected}, al\u0131nan ${bae(n.input)}`;case"invalid_value":return n.values.length===1?`Ge\xE7ersiz de\u011Fer: beklenen ${le(n.values[0])}`:`Ge\xE7ersiz se\xE7enek: a\u015Fa\u011F\u0131dakilerden biri olmal\u0131: ${ee(n.values,"|")}`;case"too_big":{let o=n.inclusive?"<=":"<",i=t(n.origin);return i?`\xC7ok b\xFCy\xFCk: beklenen ${n.origin??"de\u011Fer"} ${o}${n.maximum.toString()} ${i.unit??"\xF6\u011Fe"}`:`\xC7ok b\xFCy\xFCk: beklenen ${n.origin??"de\u011Fer"} ${o}${n.maximum.toString()}`}case"too_small":{let o=n.inclusive?">=":">",i=t(n.origin);return i?`\xC7ok k\xFC\xE7\xFCk: beklenen ${n.origin} ${o}${n.minimum.toString()} ${i.unit}`:`\xC7ok k\xFC\xE7\xFCk: beklenen ${n.origin} ${o}${n.minimum.toString()}`}case"invalid_format":{let o=n;return o.format==="starts_with"?`Ge\xE7ersiz metin: "${o.prefix}" ile ba\u015Flamal\u0131`:o.format==="ends_with"?`Ge\xE7ersiz metin: "${o.suffix}" ile bitmeli`:o.format==="includes"?`Ge\xE7ersiz metin: "${o.includes}" i\xE7ermeli`:o.format==="regex"?`Ge\xE7ersiz metin: ${o.pattern} desenine uymal\u0131`:`Ge\xE7ersiz ${r[o.format]??n.format}`}case"not_multiple_of":return`Ge\xE7ersiz say\u0131: ${n.divisor} ile tam b\xF6l\xFCnebilmeli`;case"unrecognized_keys":return`Tan\u0131nmayan anahtar${n.keys.length>1?"lar":""}: ${ee(n.keys,", ")}`;case"invalid_key":return`${n.origin} i\xE7inde ge\xE7ersiz anahtar`;case"invalid_union":return"Ge\xE7ersiz de\u011Fer";case"invalid_element":return`${n.origin} i\xE7inde ge\xE7ersiz de\u011Fer`;default:return"Ge\xE7ersiz de\u011Fer"}}},"error");function kO(){return{localeError:Sae()}}a(kO,"default");var wae=a(()=>{let e={string:{unit:"\u0441\u0438\u043C\u0432\u043E\u043B\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},file:{unit:"\u0431\u0430\u0439\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},array:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},set:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"\u0447\u0438\u0441\u043B\u043E";case"object":{if(Array.isArray(o))return"\u043C\u0430\u0441\u0438\u0432";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456",email:"\u0430\u0434\u0440\u0435\u0441\u0430 \u0435\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0457 \u043F\u043E\u0448\u0442\u0438",url:"URL",emoji:"\u0435\u043C\u043E\u0434\u0437\u0456",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0434\u0430\u0442\u0430 \u0442\u0430 \u0447\u0430\u0441 ISO",date:"\u0434\u0430\u0442\u0430 ISO",time:"\u0447\u0430\u0441 ISO",duration:"\u0442\u0440\u0438\u0432\u0430\u043B\u0456\u0441\u0442\u044C ISO",ipv4:"\u0430\u0434\u0440\u0435\u0441\u0430 IPv4",ipv6:"\u0430\u0434\u0440\u0435\u0441\u0430 IPv6",cidrv4:"\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv4",cidrv6:"\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv6",base64:"\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64",base64url:"\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64url",json_string:"\u0440\u044F\u0434\u043E\u043A JSON",e164:"\u043D\u043E\u043C\u0435\u0440 E.164",jwt:"JWT",template_literal:"\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456"};return o=>{switch(o.code){case"invalid_type":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${o.expected}, \u043E\u0442\u0440\u0438\u043C\u0430\u043D\u043E ${r(o.input)}`;case"invalid_value":return o.values.length===1?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${le(o.values[0])}`:`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0430 \u043E\u043F\u0446\u0456\u044F: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F \u043E\u0434\u043D\u0435 \u0437 ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${o.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F"} ${s.verb} ${i}${o.maximum.toString()} ${s.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432"}`:`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${o.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F"} \u0431\u0443\u0434\u0435 ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${o.origin} ${s.verb} ${i}${o.minimum.toString()} ${s.unit}`:`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${o.origin} \u0431\u0443\u0434\u0435 ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043F\u043E\u0447\u0438\u043D\u0430\u0442\u0438\u0441\u044F \u0437 "${i.prefix}"`:i.format==="ends_with"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0437\u0430\u043A\u0456\u043D\u0447\u0443\u0432\u0430\u0442\u0438\u0441\u044F \u043D\u0430 "${i.suffix}"`:i.format==="includes"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043C\u0456\u0441\u0442\u0438\u0442\u0438 "${i.includes}"`:i.format==="regex"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0432\u0456\u0434\u043F\u043E\u0432\u0456\u0434\u0430\u0442\u0438 \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${i.pattern}`:`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 ${n[i.format]??o.format}`}case"not_multiple_of":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0447\u0438\u0441\u043B\u043E: \u043F\u043E\u0432\u0438\u043D\u043D\u043E \u0431\u0443\u0442\u0438 \u043A\u0440\u0430\u0442\u043D\u0438\u043C ${o.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u043E\u0437\u043F\u0456\u0437\u043D\u0430\u043D\u0438\u0439 \u043A\u043B\u044E\u0447${o.keys.length>1?"\u0456":""}: ${ee(o.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u043A\u043B\u044E\u0447 \u0443 ${o.origin}`;case"invalid_union":return"\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456";case"invalid_element":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F \u0443 ${o.origin}`;default:return"\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456"}}},"error");function zd(){return{localeError:wae()}}a(zd,"default");function PO(){return zd()}a(PO,"default");var xae=a(()=>{let e={string:{unit:"\u062D\u0631\u0648\u0641",verb:"\u06C1\u0648\u0646\u0627"},file:{unit:"\u0628\u0627\u0626\u0679\u0633",verb:"\u06C1\u0648\u0646\u0627"},array:{unit:"\u0622\u0626\u0679\u0645\u0632",verb:"\u06C1\u0648\u0646\u0627"},set:{unit:"\u0622\u0626\u0679\u0645\u0632",verb:"\u06C1\u0648\u0646\u0627"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"\u0646\u0645\u0628\u0631";case"object":{if(Array.isArray(o))return"\u0622\u0631\u06D2";if(o===null)return"\u0646\u0644";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\u0627\u0646 \u067E\u0679",email:"\u0627\u06CC \u0645\u06CC\u0644 \u0627\u06CC\u0688\u0631\u06CC\u0633",url:"\u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644",emoji:"\u0627\u06CC\u0645\u0648\u062C\u06CC",uuid:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",uuidv4:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 4",uuidv6:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 6",nanoid:"\u0646\u06CC\u0646\u0648 \u0622\u0626\u06CC \u0688\u06CC",guid:"\u062C\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",cuid:"\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",cuid2:"\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC 2",ulid:"\u06CC\u0648 \u0627\u06CC\u0644 \u0622\u0626\u06CC \u0688\u06CC",xid:"\u0627\u06CC\u06A9\u0633 \u0622\u0626\u06CC \u0688\u06CC",ksuid:"\u06A9\u06D2 \u0627\u06CC\u0633 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",datetime:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0688\u06CC\u0679 \u0679\u0627\u0626\u0645",date:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u062A\u0627\u0631\u06CC\u062E",time:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0648\u0642\u062A",duration:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0645\u062F\u062A",ipv4:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0627\u06CC\u0688\u0631\u06CC\u0633",ipv6:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0627\u06CC\u0688\u0631\u06CC\u0633",cidrv4:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0631\u06CC\u0646\u062C",cidrv6:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0631\u06CC\u0646\u062C",base64:"\u0628\u06CC\u0633 64 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF",base64url:"\u0628\u06CC\u0633 64 \u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF",json_string:"\u062C\u06D2 \u0627\u06CC\u0633 \u0627\u0648 \u0627\u06CC\u0646 \u0633\u0679\u0631\u0646\u06AF",e164:"\u0627\u06CC 164 \u0646\u0645\u0628\u0631",jwt:"\u062C\u06D2 \u0688\u0628\u0644\u06CC\u0648 \u0679\u06CC",template_literal:"\u0627\u0646 \u067E\u0679"};return o=>{switch(o.code){case"invalid_type":return`\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${o.expected} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627\u060C ${r(o.input)} \u0645\u0648\u0635\u0648\u0644 \u06C1\u0648\u0627`;case"invalid_value":return o.values.length===1?`\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${le(o.values[0])} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`:`\u063A\u0644\u0637 \u0622\u067E\u0634\u0646: ${ee(o.values,"|")} \u0645\u06CC\u06BA \u0633\u06D2 \u0627\u06CC\u06A9 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`\u0628\u06C1\u062A \u0628\u0691\u0627: ${o.origin??"\u0648\u06CC\u0644\u06CC\u0648"} \u06A9\u06D2 ${i}${o.maximum.toString()} ${s.unit??"\u0639\u0646\u0627\u0635\u0631"} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`:`\u0628\u06C1\u062A \u0628\u0691\u0627: ${o.origin??"\u0648\u06CC\u0644\u06CC\u0648"} \u06A9\u0627 ${i}${o.maximum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${o.origin} \u06A9\u06D2 ${i}${o.minimum.toString()} ${s.unit} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`:`\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${o.origin} \u06A9\u0627 ${i}${o.minimum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${i.prefix}" \u0633\u06D2 \u0634\u0631\u0648\u0639 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:i.format==="ends_with"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${i.suffix}" \u067E\u0631 \u062E\u062A\u0645 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:i.format==="includes"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${i.includes}" \u0634\u0627\u0645\u0644 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:i.format==="regex"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: \u067E\u06CC\u0679\u0631\u0646 ${i.pattern} \u0633\u06D2 \u0645\u06CC\u0686 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:`\u063A\u0644\u0637 ${n[i.format]??o.format}`}case"not_multiple_of":return`\u063A\u0644\u0637 \u0646\u0645\u0628\u0631: ${o.divisor} \u06A9\u0627 \u0645\u0636\u0627\u0639\u0641 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;case"unrecognized_keys":return`\u063A\u06CC\u0631 \u062A\u0633\u0644\u06CC\u0645 \u0634\u062F\u06C1 \u06A9\u06CC${o.keys.length>1?"\u0632":""}: ${ee(o.keys,"\u060C ")}`;case"invalid_key":return`${o.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u06A9\u06CC`;case"invalid_union":return"\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679";case"invalid_element":return`${o.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u0648\u06CC\u0644\u06CC\u0648`;default:return"\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679"}}},"error");function IO(){return{localeError:xae()}}a(IO,"default");var Tae=a(()=>{let e={string:{unit:"k\xFD t\u1EF1",verb:"c\xF3"},file:{unit:"byte",verb:"c\xF3"},array:{unit:"ph\u1EA7n t\u1EED",verb:"c\xF3"},set:{unit:"ph\u1EA7n t\u1EED",verb:"c\xF3"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"s\u1ED1";case"object":{if(Array.isArray(o))return"m\u1EA3ng";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\u0111\u1EA7u v\xE0o",email:"\u0111\u1ECBa ch\u1EC9 email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ng\xE0y gi\u1EDD ISO",date:"ng\xE0y ISO",time:"gi\u1EDD ISO",duration:"kho\u1EA3ng th\u1EDDi gian ISO",ipv4:"\u0111\u1ECBa ch\u1EC9 IPv4",ipv6:"\u0111\u1ECBa ch\u1EC9 IPv6",cidrv4:"d\u1EA3i IPv4",cidrv6:"d\u1EA3i IPv6",base64:"chu\u1ED7i m\xE3 h\xF3a base64",base64url:"chu\u1ED7i m\xE3 h\xF3a base64url",json_string:"chu\u1ED7i JSON",e164:"s\u1ED1 E.164",jwt:"JWT",template_literal:"\u0111\u1EA7u v\xE0o"};return o=>{switch(o.code){case"invalid_type":return`\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${o.expected}, nh\u1EADn \u0111\u01B0\u1EE3c ${r(o.input)}`;case"invalid_value":return o.values.length===1?`\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${le(o.values[0])}`:`T\xF9y ch\u1ECDn kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i m\u1ED9t trong c\xE1c gi\xE1 tr\u1ECB ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`Qu\xE1 l\u1EDBn: mong \u0111\u1EE3i ${o.origin??"gi\xE1 tr\u1ECB"} ${s.verb} ${i}${o.maximum.toString()} ${s.unit??"ph\u1EA7n t\u1EED"}`:`Qu\xE1 l\u1EDBn: mong \u0111\u1EE3i ${o.origin??"gi\xE1 tr\u1ECB"} ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`Qu\xE1 nh\u1ECF: mong \u0111\u1EE3i ${o.origin} ${s.verb} ${i}${o.minimum.toString()} ${s.unit}`:`Qu\xE1 nh\u1ECF: mong \u0111\u1EE3i ${o.origin} ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i b\u1EAFt \u0111\u1EA7u b\u1EB1ng "${i.prefix}"`:i.format==="ends_with"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i k\u1EBFt th\xFAc b\u1EB1ng "${i.suffix}"`:i.format==="includes"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i bao g\u1ED3m "${i.includes}"`:i.format==="regex"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i kh\u1EDBp v\u1EDBi m\u1EABu ${i.pattern}`:`${n[i.format]??o.format} kh\xF4ng h\u1EE3p l\u1EC7`}case"not_multiple_of":return`S\u1ED1 kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i l\xE0 b\u1ED9i s\u1ED1 c\u1EE7a ${o.divisor}`;case"unrecognized_keys":return`Kh\xF3a kh\xF4ng \u0111\u01B0\u1EE3c nh\u1EADn d\u1EA1ng: ${ee(o.keys,", ")}`;case"invalid_key":return`Kh\xF3a kh\xF4ng h\u1EE3p l\u1EC7 trong ${o.origin}`;case"invalid_union":return"\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7";case"invalid_element":return`Gi\xE1 tr\u1ECB kh\xF4ng h\u1EE3p l\u1EC7 trong ${o.origin}`;default:return"\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7"}}},"error");function OO(){return{localeError:Tae()}}a(OO,"default");var Eae=a(()=>{let e={string:{unit:"\u5B57\u7B26",verb:"\u5305\u542B"},file:{unit:"\u5B57\u8282",verb:"\u5305\u542B"},array:{unit:"\u9879",verb:"\u5305\u542B"},set:{unit:"\u9879",verb:"\u5305\u542B"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"\u975E\u6570\u5B57(NaN)":"\u6570\u5B57";case"object":{if(Array.isArray(o))return"\u6570\u7EC4";if(o===null)return"\u7A7A\u503C(null)";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\u8F93\u5165",email:"\u7535\u5B50\u90AE\u4EF6",url:"URL",emoji:"\u8868\u60C5\u7B26\u53F7",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO\u65E5\u671F\u65F6\u95F4",date:"ISO\u65E5\u671F",time:"ISO\u65F6\u95F4",duration:"ISO\u65F6\u957F",ipv4:"IPv4\u5730\u5740",ipv6:"IPv6\u5730\u5740",cidrv4:"IPv4\u7F51\u6BB5",cidrv6:"IPv6\u7F51\u6BB5",base64:"base64\u7F16\u7801\u5B57\u7B26\u4E32",base64url:"base64url\u7F16\u7801\u5B57\u7B26\u4E32",json_string:"JSON\u5B57\u7B26\u4E32",e164:"E.164\u53F7\u7801",jwt:"JWT",template_literal:"\u8F93\u5165"};return o=>{switch(o.code){case"invalid_type":return`\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${o.expected}\uFF0C\u5B9E\u9645\u63A5\u6536 ${r(o.input)}`;case"invalid_value":return o.values.length===1?`\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${le(o.values[0])}`:`\u65E0\u6548\u9009\u9879\uFF1A\u671F\u671B\u4EE5\u4E0B\u4E4B\u4E00 ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${o.origin??"\u503C"} ${i}${o.maximum.toString()} ${s.unit??"\u4E2A\u5143\u7D20"}`:`\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${o.origin??"\u503C"} ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${o.origin} ${i}${o.minimum.toString()} ${s.unit}`:`\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${o.origin} ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 "${i.prefix}" \u5F00\u5934`:i.format==="ends_with"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 "${i.suffix}" \u7ED3\u5C3E`:i.format==="includes"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u5305\u542B "${i.includes}"`:i.format==="regex"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u6EE1\u8DB3\u6B63\u5219\u8868\u8FBE\u5F0F ${i.pattern}`:`\u65E0\u6548${n[i.format]??o.format}`}case"not_multiple_of":return`\u65E0\u6548\u6570\u5B57\uFF1A\u5FC5\u987B\u662F ${o.divisor} \u7684\u500D\u6570`;case"unrecognized_keys":return`\u51FA\u73B0\u672A\u77E5\u7684\u952E(key): ${ee(o.keys,", ")}`;case"invalid_key":return`${o.origin} \u4E2D\u7684\u952E(key)\u65E0\u6548`;case"invalid_union":return"\u65E0\u6548\u8F93\u5165";case"invalid_element":return`${o.origin} \u4E2D\u5305\u542B\u65E0\u6548\u503C(value)`;default:return"\u65E0\u6548\u8F93\u5165"}}},"error");function AO(){return{localeError:Eae()}}a(AO,"default");var kae=a(()=>{let e={string:{unit:"\u5B57\u5143",verb:"\u64C1\u6709"},file:{unit:"\u4F4D\u5143\u7D44",verb:"\u64C1\u6709"},array:{unit:"\u9805\u76EE",verb:"\u64C1\u6709"},set:{unit:"\u9805\u76EE",verb:"\u64C1\u6709"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"number";case"object":{if(Array.isArray(o))return"array";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\u8F38\u5165",email:"\u90F5\u4EF6\u5730\u5740",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u65E5\u671F\u6642\u9593",date:"ISO \u65E5\u671F",time:"ISO \u6642\u9593",duration:"ISO \u671F\u9593",ipv4:"IPv4 \u4F4D\u5740",ipv6:"IPv6 \u4F4D\u5740",cidrv4:"IPv4 \u7BC4\u570D",cidrv6:"IPv6 \u7BC4\u570D",base64:"base64 \u7DE8\u78BC\u5B57\u4E32",base64url:"base64url \u7DE8\u78BC\u5B57\u4E32",json_string:"JSON \u5B57\u4E32",e164:"E.164 \u6578\u503C",jwt:"JWT",template_literal:"\u8F38\u5165"};return o=>{switch(o.code){case"invalid_type":return`\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${o.expected}\uFF0C\u4F46\u6536\u5230 ${r(o.input)}`;case"invalid_value":return o.values.length===1?`\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${le(o.values[0])}`:`\u7121\u6548\u7684\u9078\u9805\uFF1A\u9810\u671F\u70BA\u4EE5\u4E0B\u5176\u4E2D\u4E4B\u4E00 ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${o.origin??"\u503C"} \u61C9\u70BA ${i}${o.maximum.toString()} ${s.unit??"\u500B\u5143\u7D20"}`:`\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${o.origin??"\u503C"} \u61C9\u70BA ${i}${o.maximum.toString()}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${o.origin} \u61C9\u70BA ${i}${o.minimum.toString()} ${s.unit}`:`\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${o.origin} \u61C9\u70BA ${i}${o.minimum.toString()}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 "${i.prefix}" \u958B\u982D`:i.format==="ends_with"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 "${i.suffix}" \u7D50\u5C3E`:i.format==="includes"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u5305\u542B "${i.includes}"`:i.format==="regex"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u7B26\u5408\u683C\u5F0F ${i.pattern}`:`\u7121\u6548\u7684 ${n[i.format]??o.format}`}case"not_multiple_of":return`\u7121\u6548\u7684\u6578\u5B57\uFF1A\u5FC5\u9808\u70BA ${o.divisor} \u7684\u500D\u6578`;case"unrecognized_keys":return`\u7121\u6CD5\u8B58\u5225\u7684\u9375\u503C${o.keys.length>1?"\u5011":""}\uFF1A${ee(o.keys,"\u3001")}`;case"invalid_key":return`${o.origin} \u4E2D\u6709\u7121\u6548\u7684\u9375\u503C`;case"invalid_union":return"\u7121\u6548\u7684\u8F38\u5165\u503C";case"invalid_element":return`${o.origin} \u4E2D\u6709\u7121\u6548\u7684\u503C`;default:return"\u7121\u6548\u7684\u8F38\u5165\u503C"}}},"error");function CO(){return{localeError:kae()}}a(CO,"default");var Pae=a(()=>{let e={string:{unit:"\xE0mi",verb:"n\xED"},file:{unit:"bytes",verb:"n\xED"},array:{unit:"nkan",verb:"n\xED"},set:{unit:"nkan",verb:"n\xED"}};function t(o){return e[o]??null}a(t,"getSizing");let r=a(o=>{let i=typeof o;switch(i){case"number":return Number.isNaN(o)?"NaN":"n\u1ECD\u0301mb\xE0";case"object":{if(Array.isArray(o))return"akop\u1ECD";if(o===null)return"null";if(Object.getPrototypeOf(o)!==Object.prototype&&o.constructor)return o.constructor.name}}return i},"parsedType"),n={regex:"\u1EB9\u0300r\u1ECD \xECb\xE1w\u1ECDl\xE9",email:"\xE0d\xEDr\u1EB9\u0301s\xEC \xECm\u1EB9\u0301l\xEC",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\xE0k\xF3k\xF2 ISO",date:"\u1ECDj\u1ECD\u0301 ISO",time:"\xE0k\xF3k\xF2 ISO",duration:"\xE0k\xF3k\xF2 t\xF3 p\xE9 ISO",ipv4:"\xE0d\xEDr\u1EB9\u0301s\xEC IPv4",ipv6:"\xE0d\xEDr\u1EB9\u0301s\xEC IPv6",cidrv4:"\xE0gb\xE8gb\xE8 IPv4",cidrv6:"\xE0gb\xE8gb\xE8 IPv6",base64:"\u1ECD\u0300r\u1ECD\u0300 t\xED a k\u1ECD\u0301 n\xED base64",base64url:"\u1ECD\u0300r\u1ECD\u0300 base64url",json_string:"\u1ECD\u0300r\u1ECD\u0300 JSON",e164:"n\u1ECD\u0301mb\xE0 E.164",jwt:"JWT",template_literal:"\u1EB9\u0300r\u1ECD \xECb\xE1w\u1ECDl\xE9"};return o=>{switch(o.code){case"invalid_type":return`\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e: a n\xED l\xE1ti fi ${o.expected}, \xE0m\u1ECD\u0300 a r\xED ${r(o.input)}`;case"invalid_value":return o.values.length===1?`\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e: a n\xED l\xE1ti fi ${le(o.values[0])}`:`\xC0\u1E63\xE0y\xE0n a\u1E63\xEC\u1E63e: yan \u1ECD\u0300kan l\xE1ra ${ee(o.values,"|")}`;case"too_big":{let i=o.inclusive?"<=":"<",s=t(o.origin);return s?`T\xF3 p\u1ECD\u0300 j\xF9: a n\xED l\xE1ti j\u1EB9\u0301 p\xE9 ${o.origin??"iye"} ${s.verb} ${i}${o.maximum} ${s.unit}`:`T\xF3 p\u1ECD\u0300 j\xF9: a n\xED l\xE1ti j\u1EB9\u0301 ${i}${o.maximum}`}case"too_small":{let i=o.inclusive?">=":">",s=t(o.origin);return s?`K\xE9r\xE9 ju: a n\xED l\xE1ti j\u1EB9\u0301 p\xE9 ${o.origin} ${s.verb} ${i}${o.minimum} ${s.unit}`:`K\xE9r\xE9 ju: a n\xED l\xE1ti j\u1EB9\u0301 ${i}${o.minimum}`}case"invalid_format":{let i=o;return i.format==="starts_with"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 b\u1EB9\u0300r\u1EB9\u0300 p\u1EB9\u0300l\xFA "${i.prefix}"`:i.format==="ends_with"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 par\xED p\u1EB9\u0300l\xFA "${i.suffix}"`:i.format==="includes"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 n\xED "${i.includes}"`:i.format==="regex"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 b\xE1 \xE0p\u1EB9\u1EB9r\u1EB9 mu ${i.pattern}`:`A\u1E63\xEC\u1E63e: ${n[i.format]??o.format}`}case"not_multiple_of":return`N\u1ECD\u0301mb\xE0 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 j\u1EB9\u0301 \xE8y\xE0 p\xEDp\xEDn ti ${o.divisor}`;case"unrecognized_keys":return`B\u1ECDt\xECn\xEC \xE0\xECm\u1ECD\u0300: ${ee(o.keys,", ")}`;case"invalid_key":return`B\u1ECDt\xECn\xEC a\u1E63\xEC\u1E63e n\xEDn\xFA ${o.origin}`;case"invalid_union":return"\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e";case"invalid_element":return`Iye a\u1E63\xEC\u1E63e n\xEDn\xFA ${o.origin}`;default:return"\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e"}}},"error");function RO(){return{localeError:Pae()}}a(RO,"default");var VU,$O=Symbol("ZodOutput"),NO=Symbol("ZodInput"),ec=class{static{a(this,"$ZodRegistry")}constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...r){let n=r[0];if(this._map.set(t,n),n&&typeof n=="object"&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){let r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){let r=t._zod.parent;if(r){let n={...this.get(r)??{}};delete n.id;let o={...n,...this._map.get(t)};return Object.keys(o).length?o:void 0}return this._map.get(t)}has(t){return this._map.has(t)}};function Gh(){return new ec}a(Gh,"registry");(VU=globalThis).__zod_globalRegistry??(VU.__zod_globalRegistry=Gh());var on=globalThis.__zod_globalRegistry;function zO(e,t){return new e({type:"string",...de(t)})}a(zO,"_string");function jO(e,t){return new e({type:"string",coerce:!0,...de(t)})}a(jO,"_coercedString");function Wh(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...de(t)})}a(Wh,"_email");function Dd(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...de(t)})}a(Dd,"_guid");function Qh(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...de(t)})}a(Qh,"_uuid");function Xh(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...de(t)})}a(Xh,"_uuidv4");function Yh(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...de(t)})}a(Yh,"_uuidv6");function eg(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...de(t)})}a(eg,"_uuidv7");function Md(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...de(t)})}a(Md,"_url");function tg(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...de(t)})}a(tg,"_emoji");function rg(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...de(t)})}a(rg,"_nanoid");function ng(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...de(t)})}a(ng,"_cuid");function og(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...de(t)})}a(og,"_cuid2");function ig(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...de(t)})}a(ig,"_ulid");function ag(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...de(t)})}a(ag,"_xid");function sg(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...de(t)})}a(sg,"_ksuid");function ug(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...de(t)})}a(ug,"_ipv4");function cg(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...de(t)})}a(cg,"_ipv6");function DO(e,t){return new e({type:"string",format:"mac",check:"string_format",abort:!1,...de(t)})}a(DO,"_mac");function lg(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...de(t)})}a(lg,"_cidrv4");function dg(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...de(t)})}a(dg,"_cidrv6");function pg(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...de(t)})}a(pg,"_base64");function mg(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...de(t)})}a(mg,"_base64url");function fg(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...de(t)})}a(fg,"_e164");function hg(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...de(t)})}a(hg,"_jwt");var MO={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function qO(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...de(t)})}a(qO,"_isoDateTime");function UO(e,t){return new e({type:"string",format:"date",check:"string_format",...de(t)})}a(UO,"_isoDate");function LO(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...de(t)})}a(LO,"_isoTime");function FO(e,t){return new e({type:"string",format:"duration",check:"string_format",...de(t)})}a(FO,"_isoDuration");function BO(e,t){return new e({type:"number",checks:[],...de(t)})}a(BO,"_number");function JO(e,t){return new e({type:"number",coerce:!0,checks:[],...de(t)})}a(JO,"_coercedNumber");function HO(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...de(t)})}a(HO,"_int");function VO(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float32",...de(t)})}a(VO,"_float32");function ZO(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float64",...de(t)})}a(ZO,"_float64");function KO(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"int32",...de(t)})}a(KO,"_int32");function GO(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"uint32",...de(t)})}a(GO,"_uint32");function WO(e,t){return new e({type:"boolean",...de(t)})}a(WO,"_boolean");function QO(e,t){return new e({type:"boolean",coerce:!0,...de(t)})}a(QO,"_coercedBoolean");function XO(e,t){return new e({type:"bigint",...de(t)})}a(XO,"_bigint");function YO(e,t){return new e({type:"bigint",coerce:!0,...de(t)})}a(YO,"_coercedBigint");function eA(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...de(t)})}a(eA,"_int64");function tA(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...de(t)})}a(tA,"_uint64");function rA(e,t){return new e({type:"symbol",...de(t)})}a(rA,"_symbol");function nA(e,t){return new e({type:"undefined",...de(t)})}a(nA,"_undefined");function oA(e,t){return new e({type:"null",...de(t)})}a(oA,"_null");function iA(e){return new e({type:"any"})}a(iA,"_any");function aA(e){return new e({type:"unknown"})}a(aA,"_unknown");function sA(e,t){return new e({type:"never",...de(t)})}a(sA,"_never");function uA(e,t){return new e({type:"void",...de(t)})}a(uA,"_void");function cA(e,t){return new e({type:"date",...de(t)})}a(cA,"_date");function lA(e,t){return new e({type:"date",coerce:!0,...de(t)})}a(lA,"_coercedDate");function dA(e,t){return new e({type:"nan",...de(t)})}a(dA,"_nan");function Ai(e,t){return new Mh({check:"less_than",...de(t),value:e,inclusive:!1})}a(Ai,"_lt");function Qn(e,t){return new Mh({check:"less_than",...de(t),value:e,inclusive:!0})}a(Qn,"_lte");function Ci(e,t){return new qh({check:"greater_than",...de(t),value:e,inclusive:!1})}a(Ci,"_gt");function En(e,t){return new qh({check:"greater_than",...de(t),value:e,inclusive:!0})}a(En,"_gte");function pA(e){return Ci(0,e)}a(pA,"_positive");function mA(e){return Ai(0,e)}a(mA,"_negative");function fA(e){return Qn(0,e)}a(fA,"_nonpositive");function hA(e){return En(0,e)}a(hA,"_nonnegative");function ws(e,t){return new hP({check:"multiple_of",...de(t),value:e})}a(ws,"_multipleOf");function tc(e,t){return new vP({check:"max_size",...de(t),maximum:e})}a(tc,"_maxSize");function xs(e,t){return new _P({check:"min_size",...de(t),minimum:e})}a(xs,"_minSize");function qd(e,t){return new bP({check:"size_equals",...de(t),size:e})}a(qd,"_size");function rc(e,t){return new SP({check:"max_length",...de(t),maximum:e})}a(rc,"_maxLength");function Oa(e,t){return new wP({check:"min_length",...de(t),minimum:e})}a(Oa,"_minLength");function nc(e,t){return new xP({check:"length_equals",...de(t),length:e})}a(nc,"_length");function Ud(e,t){return new TP({check:"string_format",format:"regex",...de(t),pattern:e})}a(Ud,"_regex");function Ld(e){return new EP({check:"string_format",format:"lowercase",...de(e)})}a(Ld,"_lowercase");function Fd(e){return new kP({check:"string_format",format:"uppercase",...de(e)})}a(Fd,"_uppercase");function Bd(e,t){return new PP({check:"string_format",format:"includes",...de(t),includes:e})}a(Bd,"_includes");function Jd(e,t){return new IP({check:"string_format",format:"starts_with",...de(t),prefix:e})}a(Jd,"_startsWith");function Hd(e,t){return new OP({check:"string_format",format:"ends_with",...de(t),suffix:e})}a(Hd,"_endsWith");function gA(e,t,r){return new AP({check:"property",property:e,schema:t,...de(r)})}a(gA,"_property");function Vd(e,t){return new CP({check:"mime_type",mime:e,...de(t)})}a(Vd,"_mime");function Wo(e){return new RP({check:"overwrite",tx:e})}a(Wo,"_overwrite");function Zd(e){return Wo(t=>t.normalize(e))}a(Zd,"_normalize");function Kd(){return Wo(e=>e.trim())}a(Kd,"_trim");function Gd(){return Wo(e=>e.toLowerCase())}a(Gd,"_toLowerCase");function Wd(){return Wo(e=>e.toUpperCase())}a(Wd,"_toUpperCase");function Qd(){return Wo(e=>Ok(e))}a(Qd,"_slugify");function yA(e,t,r){return new e({type:"array",element:t,...de(r)})}a(yA,"_array");function Oae(e,t,r){return new e({type:"union",options:t,...de(r)})}a(Oae,"_union");function Aae(e,t,r,n){return new e({type:"union",options:r,discriminator:t,...de(n)})}a(Aae,"_discriminatedUnion");function Cae(e,t,r){return new e({type:"intersection",left:t,right:r})}a(Cae,"_intersection");function Rae(e,t,r,n){let o=r instanceof Ze,i=o?n:r,s=o?r:null;return new e({type:"tuple",items:t,rest:s,...de(i)})}a(Rae,"_tuple");function $ae(e,t,r,n){return new e({type:"record",keyType:t,valueType:r,...de(n)})}a($ae,"_record");function Nae(e,t,r,n){return new e({type:"map",keyType:t,valueType:r,...de(n)})}a(Nae,"_map");function zae(e,t,r){return new e({type:"set",valueType:t,...de(r)})}a(zae,"_set");function jae(e,t,r){let n=Array.isArray(t)?Object.fromEntries(t.map(o=>[o,o])):t;return new e({type:"enum",entries:n,...de(r)})}a(jae,"_enum");function Dae(e,t,r){return new e({type:"enum",entries:t,...de(r)})}a(Dae,"_nativeEnum");function Mae(e,t,r){return new e({type:"literal",values:Array.isArray(t)?t:[t],...de(r)})}a(Mae,"_literal");function vA(e,t){return new e({type:"file",...de(t)})}a(vA,"_file");function qae(e,t){return new e({type:"transform",transform:t})}a(qae,"_transform");function Uae(e,t){return new e({type:"optional",innerType:t})}a(Uae,"_optional");function Lae(e,t){return new e({type:"nullable",innerType:t})}a(Lae,"_nullable");function Fae(e,t,r){return new e({type:"default",innerType:t,get defaultValue(){return typeof r=="function"?r():Ck(r)}})}a(Fae,"_default");function Bae(e,t,r){return new e({type:"nonoptional",innerType:t,...de(r)})}a(Bae,"_nonoptional");function Jae(e,t){return new e({type:"success",innerType:t})}a(Jae,"_success");function Hae(e,t,r){return new e({type:"catch",innerType:t,catchValue:typeof r=="function"?r:()=>r})}a(Hae,"_catch");function Vae(e,t,r){return new e({type:"pipe",in:t,out:r})}a(Vae,"_pipe");function Zae(e,t){return new e({type:"readonly",innerType:t})}a(Zae,"_readonly");function Kae(e,t,r){return new e({type:"template_literal",parts:t,...de(r)})}a(Kae,"_templateLiteral");function Gae(e,t){return new e({type:"lazy",getter:t})}a(Gae,"_lazy");function Wae(e,t){return new e({type:"promise",innerType:t})}a(Wae,"_promise");function _A(e,t,r){let n=de(r);return n.abort??(n.abort=!0),new e({type:"custom",check:"custom",fn:t,...n})}a(_A,"_custom");function bA(e,t,r){return new e({type:"custom",check:"custom",fn:t,...de(r)})}a(bA,"_refine");function SA(e){let t=ZU(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(Ku(n,r.value,t._zod.def));else{let o=n;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=r.value),o.inst??(o.inst=t),o.continue??(o.continue=!t._zod.def.abort),r.issues.push(Ku(o))}},e(r.value,r)));return t}a(SA,"_superRefine");function ZU(e,t){let r=new Ut({check:"custom",...de(t)});return r._zod.check=e,r}a(ZU,"_check");function wA(e){let t=new Ut({check:"describe"});return t._zod.onattach=[r=>{let n=on.get(r)??{};on.add(r,{...n,description:e})}],t._zod.check=()=>{},t}a(wA,"describe");function xA(e){let t=new Ut({check:"meta"});return t._zod.onattach=[r=>{let n=on.get(r)??{};on.add(r,{...n,...e})}],t._zod.check=()=>{},t}a(xA,"meta");function TA(e,t){let r=de(t),n=r.truthy??["true","1","yes","on","y","enabled"],o=r.falsy??["false","0","no","off","n","disabled"];r.case!=="sensitive"&&(n=n.map(y=>typeof y=="string"?y.toLowerCase():y),o=o.map(y=>typeof y=="string"?y.toLowerCase():y));let i=new Set(n),s=new Set(o),u=e.Codec??Ad,l=e.Boolean??Od,d=e.String??Ss,p=new d({type:"string",error:r.error}),f=new l({type:"boolean",error:r.error}),m=new u({type:"pipe",in:p,out:f,transform:a(((y,g)=>{let h=y;return r.case!=="sensitive"&&(h=h.toLowerCase()),i.has(h)?!0:s.has(h)?!1:(g.issues.push({code:"invalid_value",expected:"stringbool",values:[...i,...s],input:g.value,inst:m,continue:!1}),{})}),"transform"),reverseTransform:a(((y,g)=>y===!0?n[0]||"true":o[0]||"false"),"reverseTransform"),error:r.error});return m}a(TA,"_stringbool");function oc(e,t,r,n={}){let o=de(n),i={...de(n),check:"string_format",type:"string",format:t,fn:typeof r=="function"?r:u=>r.test(u),...o};return r instanceof RegExp&&(i.pattern=r),new e(i)}a(oc,"_stringFormat");var Xd=class{static{a(this,"JSONSchemaGenerator")}constructor(t){this.counter=0,this.metadataRegistry=t?.metadata??on,this.target=t?.target??"draft-2020-12",this.unrepresentable=t?.unrepresentable??"throw",this.override=t?.override??(()=>{}),this.io=t?.io??"output",this.seen=new Map}process(t,r={path:[],schemaPath:[]}){var n;let o=t._zod.def,i={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},s=this.seen.get(t);if(s)return s.count++,r.schemaPath.includes(t)&&(s.cycle=r.path),s.schema;let u={schema:{},count:1,cycle:void 0,path:r.path};this.seen.set(t,u);let l=t._zod.toJSONSchema?.();if(l)u.schema=l;else{let f={...r,schemaPath:[...r.schemaPath,t],path:r.path},m=t._zod.parent;if(m)u.ref=m,this.process(m,f),this.seen.get(m).isParent=!0;else{let y=u.schema;switch(o.type){case"string":{let g=y;g.type="string";let{minimum:h,maximum:v,format:S,patterns:b,contentEncoding:w}=t._zod.bag;if(typeof h=="number"&&(g.minLength=h),typeof v=="number"&&(g.maxLength=v),S&&(g.format=i[S]??S,g.format===""&&delete g.format),w&&(g.contentEncoding=w),b&&b.size>0){let k=[...b];k.length===1?g.pattern=k[0].source:k.length>1&&(u.schema.allOf=[...k.map($=>({...this.target==="draft-7"||this.target==="draft-4"||this.target==="openapi-3.0"?{type:"string"}:{},pattern:$.source}))])}break}case"number":{let g=y,{minimum:h,maximum:v,format:S,multipleOf:b,exclusiveMaximum:w,exclusiveMinimum:k}=t._zod.bag;typeof S=="string"&&S.includes("int")?g.type="integer":g.type="number",typeof k=="number"&&(this.target==="draft-4"||this.target==="openapi-3.0"?(g.minimum=k,g.exclusiveMinimum=!0):g.exclusiveMinimum=k),typeof h=="number"&&(g.minimum=h,typeof k=="number"&&this.target!=="draft-4"&&(k>=h?delete g.minimum:delete g.exclusiveMinimum)),typeof w=="number"&&(this.target==="draft-4"||this.target==="openapi-3.0"?(g.maximum=w,g.exclusiveMaximum=!0):g.exclusiveMaximum=w),typeof v=="number"&&(g.maximum=v,typeof w=="number"&&this.target!=="draft-4"&&(w<=v?delete g.maximum:delete g.exclusiveMaximum)),typeof b=="number"&&(g.multipleOf=b);break}case"boolean":{let g=y;g.type="boolean";break}case"bigint":{if(this.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema");break}case"symbol":{if(this.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema");break}case"null":{this.target==="openapi-3.0"?(y.type="string",y.nullable=!0,y.enum=[null]):y.type="null";break}case"any":break;case"unknown":break;case"undefined":{if(this.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema");break}case"void":{if(this.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema");break}case"never":{y.not={};break}case"date":{if(this.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema");break}case"array":{let g=y,{minimum:h,maximum:v}=t._zod.bag;typeof h=="number"&&(g.minItems=h),typeof v=="number"&&(g.maxItems=v),g.type="array",g.items=this.process(o.element,{...f,path:[...f.path,"items"]});break}case"object":{let g=y;g.type="object",g.properties={};let h=o.shape;for(let b in h)g.properties[b]=this.process(h[b],{...f,path:[...f.path,"properties",b]});let v=new Set(Object.keys(h)),S=new Set([...v].filter(b=>{let w=o.shape[b]._zod;return this.io==="input"?w.optin===void 0:w.optout===void 0}));S.size>0&&(g.required=Array.from(S)),o.catchall?._zod.def.type==="never"?g.additionalProperties=!1:o.catchall?o.catchall&&(g.additionalProperties=this.process(o.catchall,{...f,path:[...f.path,"additionalProperties"]})):this.io==="output"&&(g.additionalProperties=!1);break}case"union":{let g=y,h=o.discriminator!==void 0,v=o.options.map((S,b)=>this.process(S,{...f,path:[...f.path,h?"oneOf":"anyOf",b]}));h?g.oneOf=v:g.anyOf=v;break}case"intersection":{let g=y,h=this.process(o.left,{...f,path:[...f.path,"allOf",0]}),v=this.process(o.right,{...f,path:[...f.path,"allOf",1]}),S=a(w=>"allOf"in w&&Object.keys(w).length===1,"isSimpleIntersection"),b=[...S(h)?h.allOf:[h],...S(v)?v.allOf:[v]];g.allOf=b;break}case"tuple":{let g=y;g.type="array";let h=this.target==="draft-2020-12"?"prefixItems":"items",v=this.target==="draft-2020-12"||this.target==="openapi-3.0"?"items":"additionalItems",S=o.items.map(($,C)=>this.process($,{...f,path:[...f.path,h,C]})),b=o.rest?this.process(o.rest,{...f,path:[...f.path,v,...this.target==="openapi-3.0"?[o.items.length]:[]]}):null;this.target==="draft-2020-12"?(g.prefixItems=S,b&&(g.items=b)):this.target==="openapi-3.0"?(g.items={anyOf:S},b&&g.items.anyOf.push(b),g.minItems=S.length,b||(g.maxItems=S.length)):(g.items=S,b&&(g.additionalItems=b));let{minimum:w,maximum:k}=t._zod.bag;typeof w=="number"&&(g.minItems=w),typeof k=="number"&&(g.maxItems=k);break}case"record":{let g=y;g.type="object",(this.target==="draft-7"||this.target==="draft-2020-12")&&(g.propertyNames=this.process(o.keyType,{...f,path:[...f.path,"propertyNames"]})),g.additionalProperties=this.process(o.valueType,{...f,path:[...f.path,"additionalProperties"]});break}case"map":{if(this.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema");break}case"set":{if(this.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema");break}case"enum":{let g=y,h=vd(o.entries);h.every(v=>typeof v=="number")&&(g.type="number"),h.every(v=>typeof v=="string")&&(g.type="string"),g.enum=h;break}case"literal":{let g=y,h=[];for(let v of o.values)if(v===void 0){if(this.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof v=="bigint"){if(this.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");h.push(Number(v))}else h.push(v);if(h.length!==0)if(h.length===1){let v=h[0];g.type=v===null?"null":typeof v,this.target==="draft-4"||this.target==="openapi-3.0"?g.enum=[v]:g.const=v}else h.every(v=>typeof v=="number")&&(g.type="number"),h.every(v=>typeof v=="string")&&(g.type="string"),h.every(v=>typeof v=="boolean")&&(g.type="string"),h.every(v=>v===null)&&(g.type="null"),g.enum=h;break}case"file":{let g=y,h={type:"string",format:"binary",contentEncoding:"binary"},{minimum:v,maximum:S,mime:b}=t._zod.bag;v!==void 0&&(h.minLength=v),S!==void 0&&(h.maxLength=S),b?b.length===1?(h.contentMediaType=b[0],Object.assign(g,h)):g.anyOf=b.map(w=>({...h,contentMediaType:w})):Object.assign(g,h);break}case"transform":{if(this.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema");break}case"nullable":{let g=this.process(o.innerType,f);this.target==="openapi-3.0"?(u.ref=o.innerType,y.nullable=!0):y.anyOf=[g,{type:"null"}];break}case"nonoptional":{this.process(o.innerType,f),u.ref=o.innerType;break}case"success":{let g=y;g.type="boolean";break}case"default":{this.process(o.innerType,f),u.ref=o.innerType,y.default=JSON.parse(JSON.stringify(o.defaultValue));break}case"prefault":{this.process(o.innerType,f),u.ref=o.innerType,this.io==="input"&&(y._prefault=JSON.parse(JSON.stringify(o.defaultValue)));break}case"catch":{this.process(o.innerType,f),u.ref=o.innerType;let g;try{g=o.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}y.default=g;break}case"nan":{if(this.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema");break}case"template_literal":{let g=y,h=t._zod.pattern;if(!h)throw new Error("Pattern not found in template literal");g.type="string",g.pattern=h.source;break}case"pipe":{let g=this.io==="input"?o.in._zod.def.type==="transform"?o.out:o.in:o.out;this.process(g,f),u.ref=g;break}case"readonly":{this.process(o.innerType,f),u.ref=o.innerType,y.readOnly=!0;break}case"promise":{this.process(o.innerType,f),u.ref=o.innerType;break}case"optional":{this.process(o.innerType,f),u.ref=o.innerType;break}case"lazy":{let g=t._zod.innerType;this.process(g,f),u.ref=g;break}case"custom":{if(this.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema");break}case"function":{if(this.unrepresentable==="throw")throw new Error("Function types cannot be represented in JSON Schema");break}default:}}}let d=this.metadataRegistry.get(t);return d&&Object.assign(u.schema,d),this.io==="input"&&an(t)&&(delete u.schema.examples,delete u.schema.default),this.io==="input"&&u.schema._prefault&&((n=u.schema).default??(n.default=u.schema._prefault)),delete u.schema._prefault,this.seen.get(t).schema}emit(t,r){let n={cycles:r?.cycles??"ref",reused:r?.reused??"inline",external:r?.external??void 0},o=this.seen.get(t);if(!o)throw new Error("Unprocessed schema. This is a bug in Zod.");let i=a(p=>{let f=this.target==="draft-2020-12"?"$defs":"definitions";if(n.external){let h=n.external.registry.get(p[0])?.id,v=n.external.uri??(b=>b);if(h)return{ref:v(h)};let S=p[1].defId??p[1].schema.id??`schema${this.counter++}`;return p[1].defId=S,{defId:S,ref:`${v("__shared")}#/${f}/${S}`}}if(p[1]===o)return{ref:"#"};let y=`#/${f}/`,g=p[1].schema.id??`__schema${this.counter++}`;return{defId:g,ref:y+g}},"makeURI"),s=a(p=>{if(p[1].schema.$ref)return;let f=p[1],{ref:m,defId:y}=i(p);f.def={...f.schema},y&&(f.defId=y);let g=f.schema;for(let h in g)delete g[h];g.$ref=m},"extractToDef");if(n.cycles==="throw")for(let p of this.seen.entries()){let f=p[1];if(f.cycle)throw new Error(`Cycle detected: #/${f.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let p of this.seen.entries()){let f=p[1];if(t===p[0]){s(p);continue}if(n.external){let y=n.external.registry.get(p[0])?.id;if(t!==p[0]&&y){s(p);continue}}if(this.metadataRegistry.get(p[0])?.id){s(p);continue}if(f.cycle){s(p);continue}if(f.count>1&&n.reused==="ref"){s(p);continue}}let u=a((p,f)=>{let m=this.seen.get(p),y=m.def??m.schema,g={...y};if(m.ref===null)return;let h=m.ref;if(m.ref=null,h){u(h,f);let v=this.seen.get(h).schema;v.$ref&&(f.target==="draft-7"||f.target==="draft-4"||f.target==="openapi-3.0")?(y.allOf=y.allOf??[],y.allOf.push(v)):(Object.assign(y,v),Object.assign(y,g))}m.isParent||this.override({zodSchema:p,jsonSchema:y,path:m.path??[]})},"flattenRef");for(let p of[...this.seen.entries()].reverse())u(p[0],{target:this.target});let l={};if(this.target==="draft-2020-12"?l.$schema="https://json-schema.org/draft/2020-12/schema":this.target==="draft-7"?l.$schema="http://json-schema.org/draft-07/schema#":this.target==="draft-4"?l.$schema="http://json-schema.org/draft-04/schema#":this.target==="openapi-3.0"||console.warn(`Invalid target: ${this.target}`),n.external?.uri){let p=n.external.registry.get(t)?.id;if(!p)throw new Error("Schema is missing an `id` property");l.$id=n.external.uri(p)}Object.assign(l,o.def);let d=n.external?.defs??{};for(let p of this.seen.entries()){let f=p[1];f.def&&f.defId&&(d[f.defId]=f.def)}n.external||Object.keys(d).length>0&&(this.target==="draft-2020-12"?l.$defs=d:l.definitions=d);try{return JSON.parse(JSON.stringify(l))}catch{throw new Error("Error converting schema to JSON.")}}};function Ri(e,t){if(e instanceof ec){let n=new Xd(t),o={};for(let u of e._idmap.entries()){let[l,d]=u;n.process(d)}let i={},s={registry:e,uri:t?.uri,defs:o};for(let u of e._idmap.entries()){let[l,d]=u;i[l]=n.emit(d,{...t,external:s})}if(Object.keys(o).length>0){let u=n.target==="draft-2020-12"?"$defs":"definitions";i.__shared={[u]:o}}return{schemas:i}}let r=new Xd(t);return r.process(e),r.emit(e,t)}a(Ri,"toJSONSchema");function an(e,t){let r=t??{seen:new Set};if(r.seen.has(e))return!1;r.seen.add(e);let n=e._zod.def;if(n.type==="transform")return!0;if(n.type==="array")return an(n.element,r);if(n.type==="set")return an(n.valueType,r);if(n.type==="lazy")return an(n.getter(),r);if(n.type==="promise"||n.type==="optional"||n.type==="nonoptional"||n.type==="nullable"||n.type==="readonly"||n.type==="default"||n.type==="prefault")return an(n.innerType,r);if(n.type==="intersection")return an(n.left,r)||an(n.right,r);if(n.type==="record"||n.type==="map")return an(n.keyType,r)||an(n.valueType,r);if(n.type==="pipe")return an(n.in,r)||an(n.out,r);if(n.type==="object"){for(let o in n.shape)if(an(n.shape[o],r))return!0;return!1}if(n.type==="union"){for(let o of n.options)if(an(o,r))return!0;return!1}if(n.type==="tuple"){for(let o of n.items)if(an(o,r))return!0;return!!(n.rest&&an(n.rest,r))}return!1}a(an,"isTransforming");var KU={};var bg={};_n(bg,{ZodISODate:()=>yg,ZodISODateTime:()=>gg,ZodISODuration:()=>_g,ZodISOTime:()=>vg,date:()=>kA,datetime:()=>EA,duration:()=>IA,time:()=>PA});var gg=J("ZodISODateTime",(e,t)=>{VP.init(e,t),Lt.init(e,t)});function EA(e){return qO(gg,e)}a(EA,"datetime");var yg=J("ZodISODate",(e,t)=>{ZP.init(e,t),Lt.init(e,t)});function kA(e){return UO(yg,e)}a(kA,"date");var vg=J("ZodISOTime",(e,t)=>{KP.init(e,t),Lt.init(e,t)});function PA(e){return LO(vg,e)}a(PA,"time");var _g=J("ZodISODuration",(e,t)=>{GP.init(e,t),Lt.init(e,t)});function IA(e){return FO(_g,e)}a(IA,"duration");var WU=a((e,t)=>{xd.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:a(r=>Ed(e,r),"value")},flatten:{value:a(r=>Td(e,r),"value")},addIssue:{value:a(r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,Vu,2)},"value")},addIssues:{value:a(r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,Vu,2)},"value")},isEmpty:{get(){return e.issues.length===0}}})},"initializer"),Xae=J("ZodError",WU),kn=J("ZodError",WU,{Parent:Error});var OA=Gu(kn),AA=Wu(kn),CA=Qu(kn),Ni=Xu(kn),RA=Oh(kn),$A=Ah(kn),NA=Ch(kn),zA=Rh(kn),jA=$h(kn),DA=Nh(kn),MA=zh(kn),qA=jh(kn);var ot=J("ZodType",(e,t)=>(Ze.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone(pe.mergeDefs(t,{checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]})),e.clone=(r,n)=>nn(e,r,n),e.brand=()=>e,e.register=((r,n)=>(r.add(e,n),e)),e.parse=(r,n)=>OA(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>CA(e,r,n),e.parseAsync=async(r,n)=>AA(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>Ni(e,r,n),e.spa=e.safeParseAsync,e.encode=(r,n)=>RA(e,r,n),e.decode=(r,n)=>$A(e,r,n),e.encodeAsync=async(r,n)=>NA(e,r,n),e.decodeAsync=async(r,n)=>zA(e,r,n),e.safeEncode=(r,n)=>jA(e,r,n),e.safeDecode=(r,n)=>DA(e,r,n),e.safeEncodeAsync=async(r,n)=>MA(e,r,n),e.safeDecodeAsync=async(r,n)=>qA(e,r,n),e.refine=(r,n)=>e.check(DL(r,n)),e.superRefine=r=>e.check(ML(r)),e.overwrite=r=>e.check(Wo(r)),e.optional=()=>wg(e),e.nullable=()=>xg(e),e.nullish=()=>wg(xg(e)),e.nonoptional=r=>EL(e,r),e.array=()=>Pg(e),e.or=r=>uC([e,r]),e.and=r=>dL(e,r),e.transform=r=>Tg(e,dC(r)),e.default=r=>wL(e,r),e.prefault=r=>TL(e,r),e.catch=r=>IL(e,r),e.pipe=r=>Tg(e,r),e.readonly=()=>CL(e),e.describe=r=>{let n=e.clone();return on.add(n,{description:r}),n},Object.defineProperty(e,"description",{get(){return on.get(e)?.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return on.get(e);let n=e.clone();return on.add(n,r[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),FA=J("_ZodString",(e,t)=>{Ss.init(e,t),ot.init(e,t);let r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...n)=>e.check(Ud(...n)),e.includes=(...n)=>e.check(Bd(...n)),e.startsWith=(...n)=>e.check(Jd(...n)),e.endsWith=(...n)=>e.check(Hd(...n)),e.min=(...n)=>e.check(Oa(...n)),e.max=(...n)=>e.check(rc(...n)),e.length=(...n)=>e.check(nc(...n)),e.nonempty=(...n)=>e.check(Oa(1,...n)),e.lowercase=n=>e.check(Ld(n)),e.uppercase=n=>e.check(Fd(n)),e.trim=()=>e.check(Kd()),e.normalize=(...n)=>e.check(Zd(...n)),e.toLowerCase=()=>e.check(Gd()),e.toUpperCase=()=>e.check(Wd()),e.slugify=()=>e.check(Qd())}),ep=J("ZodString",(e,t)=>{Ss.init(e,t),FA.init(e,t),e.email=r=>e.check(Wh(BA,r)),e.url=r=>e.check(Md(Eg,r)),e.jwt=r=>e.check(hg(oC,r)),e.emoji=r=>e.check(tg(JA,r)),e.guid=r=>e.check(Dd(Sg,r)),e.uuid=r=>e.check(Qh(zi,r)),e.uuidv4=r=>e.check(Xh(zi,r)),e.uuidv6=r=>e.check(Yh(zi,r)),e.uuidv7=r=>e.check(eg(zi,r)),e.nanoid=r=>e.check(rg(HA,r)),e.guid=r=>e.check(Dd(Sg,r)),e.cuid=r=>e.check(ng(VA,r)),e.cuid2=r=>e.check(og(ZA,r)),e.ulid=r=>e.check(ig(KA,r)),e.base64=r=>e.check(pg(tC,r)),e.base64url=r=>e.check(mg(rC,r)),e.xid=r=>e.check(ag(GA,r)),e.ksuid=r=>e.check(sg(WA,r)),e.ipv4=r=>e.check(ug(QA,r)),e.ipv6=r=>e.check(cg(XA,r)),e.cidrv4=r=>e.check(lg(YA,r)),e.cidrv6=r=>e.check(dg(eC,r)),e.e164=r=>e.check(fg(nC,r)),e.datetime=r=>e.check(EA(r)),e.date=r=>e.check(kA(r)),e.time=r=>e.check(PA(r)),e.duration=r=>e.check(IA(r))});function UA(e){return zO(ep,e)}a(UA,"string");var Lt=J("ZodStringFormat",(e,t)=>{jt.init(e,t),FA.init(e,t)}),BA=J("ZodEmail",(e,t)=>{DP.init(e,t),Lt.init(e,t)});function ese(e){return Wh(BA,e)}a(ese,"email");var Sg=J("ZodGUID",(e,t)=>{zP.init(e,t),Lt.init(e,t)});function tse(e){return Dd(Sg,e)}a(tse,"guid");var zi=J("ZodUUID",(e,t)=>{jP.init(e,t),Lt.init(e,t)});function rse(e){return Qh(zi,e)}a(rse,"uuid");function nse(e){return Xh(zi,e)}a(nse,"uuidv4");function ose(e){return Yh(zi,e)}a(ose,"uuidv6");function ise(e){return eg(zi,e)}a(ise,"uuidv7");var Eg=J("ZodURL",(e,t)=>{MP.init(e,t),Lt.init(e,t)});function ase(e){return Md(Eg,e)}a(ase,"url");function sse(e){return Md(Eg,{protocol:/^https?$/,hostname:Wn.domain,...pe.normalizeParams(e)})}a(sse,"httpUrl");var JA=J("ZodEmoji",(e,t)=>{qP.init(e,t),Lt.init(e,t)});function use(e){return tg(JA,e)}a(use,"emoji");var HA=J("ZodNanoID",(e,t)=>{UP.init(e,t),Lt.init(e,t)});function cse(e){return rg(HA,e)}a(cse,"nanoid");var VA=J("ZodCUID",(e,t)=>{LP.init(e,t),Lt.init(e,t)});function lse(e){return ng(VA,e)}a(lse,"cuid");var ZA=J("ZodCUID2",(e,t)=>{FP.init(e,t),Lt.init(e,t)});function dse(e){return og(ZA,e)}a(dse,"cuid2");var KA=J("ZodULID",(e,t)=>{BP.init(e,t),Lt.init(e,t)});function pse(e){return ig(KA,e)}a(pse,"ulid");var GA=J("ZodXID",(e,t)=>{JP.init(e,t),Lt.init(e,t)});function mse(e){return ag(GA,e)}a(mse,"xid");var WA=J("ZodKSUID",(e,t)=>{HP.init(e,t),Lt.init(e,t)});function fse(e){return sg(WA,e)}a(fse,"ksuid");var QA=J("ZodIPv4",(e,t)=>{WP.init(e,t),Lt.init(e,t)});function hse(e){return ug(QA,e)}a(hse,"ipv4");var QU=J("ZodMAC",(e,t)=>{XP.init(e,t),Lt.init(e,t)});function gse(e){return DO(QU,e)}a(gse,"mac");var XA=J("ZodIPv6",(e,t)=>{QP.init(e,t),Lt.init(e,t)});function yse(e){return cg(XA,e)}a(yse,"ipv6");var YA=J("ZodCIDRv4",(e,t)=>{YP.init(e,t),Lt.init(e,t)});function vse(e){return lg(YA,e)}a(vse,"cidrv4");var eC=J("ZodCIDRv6",(e,t)=>{eI.init(e,t),Lt.init(e,t)});function _se(e){return dg(eC,e)}a(_se,"cidrv6");var tC=J("ZodBase64",(e,t)=>{rI.init(e,t),Lt.init(e,t)});function bse(e){return pg(tC,e)}a(bse,"base64");var rC=J("ZodBase64URL",(e,t)=>{nI.init(e,t),Lt.init(e,t)});function Sse(e){return mg(rC,e)}a(Sse,"base64url");var nC=J("ZodE164",(e,t)=>{oI.init(e,t),Lt.init(e,t)});function wse(e){return fg(nC,e)}a(wse,"e164");var oC=J("ZodJWT",(e,t)=>{iI.init(e,t),Lt.init(e,t)});function xse(e){return hg(oC,e)}a(xse,"jwt");var tp=J("ZodCustomStringFormat",(e,t)=>{aI.init(e,t),Lt.init(e,t)});function Tse(e,t,r={}){return oc(tp,e,t,r)}a(Tse,"stringFormat");function Ese(e){return oc(tp,"hostname",Wn.hostname,e)}a(Ese,"hostname");function kse(e){return oc(tp,"hex",Wn.hex,e)}a(kse,"hex");function Pse(e,t){let r=t?.enc??"hex",n=`${e}_${r}`,o=Wn[n];if(!o)throw new Error(`Unrecognized hash format: ${n}`);return oc(tp,n,o,t)}a(Pse,"hash");var rp=J("ZodNumber",(e,t)=>{Hh.init(e,t),ot.init(e,t),e.gt=(n,o)=>e.check(Ci(n,o)),e.gte=(n,o)=>e.check(En(n,o)),e.min=(n,o)=>e.check(En(n,o)),e.lt=(n,o)=>e.check(Ai(n,o)),e.lte=(n,o)=>e.check(Qn(n,o)),e.max=(n,o)=>e.check(Qn(n,o)),e.int=n=>e.check(LA(n)),e.safe=n=>e.check(LA(n)),e.positive=n=>e.check(Ci(0,n)),e.nonnegative=n=>e.check(En(0,n)),e.negative=n=>e.check(Ai(0,n)),e.nonpositive=n=>e.check(Qn(0,n)),e.multipleOf=(n,o)=>e.check(ws(n,o)),e.step=(n,o)=>e.check(ws(n,o)),e.finite=()=>e;let r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function XU(e){return BO(rp,e)}a(XU,"number");var ac=J("ZodNumberFormat",(e,t)=>{sI.init(e,t),rp.init(e,t)});function LA(e){return HO(ac,e)}a(LA,"int");function Ise(e){return VO(ac,e)}a(Ise,"float32");function Ose(e){return ZO(ac,e)}a(Ose,"float64");function Ase(e){return KO(ac,e)}a(Ase,"int32");function Cse(e){return GO(ac,e)}a(Cse,"uint32");var np=J("ZodBoolean",(e,t)=>{Od.init(e,t),ot.init(e,t)});function YU(e){return WO(np,e)}a(YU,"boolean");var op=J("ZodBigInt",(e,t)=>{Vh.init(e,t),ot.init(e,t),e.gte=(n,o)=>e.check(En(n,o)),e.min=(n,o)=>e.check(En(n,o)),e.gt=(n,o)=>e.check(Ci(n,o)),e.gte=(n,o)=>e.check(En(n,o)),e.min=(n,o)=>e.check(En(n,o)),e.lt=(n,o)=>e.check(Ai(n,o)),e.lte=(n,o)=>e.check(Qn(n,o)),e.max=(n,o)=>e.check(Qn(n,o)),e.positive=n=>e.check(Ci(BigInt(0),n)),e.negative=n=>e.check(Ai(BigInt(0),n)),e.nonpositive=n=>e.check(Qn(BigInt(0),n)),e.nonnegative=n=>e.check(En(BigInt(0),n)),e.multipleOf=(n,o)=>e.check(ws(n,o));let r=e._zod.bag;e.minValue=r.minimum??null,e.maxValue=r.maximum??null,e.format=r.format??null});function Rse(e){return XO(op,e)}a(Rse,"bigint");var iC=J("ZodBigIntFormat",(e,t)=>{uI.init(e,t),op.init(e,t)});function $se(e){return eA(iC,e)}a($se,"int64");function Nse(e){return tA(iC,e)}a(Nse,"uint64");var eL=J("ZodSymbol",(e,t)=>{cI.init(e,t),ot.init(e,t)});function zse(e){return rA(eL,e)}a(zse,"symbol");var tL=J("ZodUndefined",(e,t)=>{lI.init(e,t),ot.init(e,t)});function jse(e){return nA(tL,e)}a(jse,"_undefined");var rL=J("ZodNull",(e,t)=>{dI.init(e,t),ot.init(e,t)});function nL(e){return oA(rL,e)}a(nL,"_null");var oL=J("ZodAny",(e,t)=>{pI.init(e,t),ot.init(e,t)});function Dse(){return iA(oL)}a(Dse,"any");var iL=J("ZodUnknown",(e,t)=>{mI.init(e,t),ot.init(e,t)});function ic(){return aA(iL)}a(ic,"unknown");var aL=J("ZodNever",(e,t)=>{fI.init(e,t),ot.init(e,t)});function aC(e){return sA(aL,e)}a(aC,"never");var sL=J("ZodVoid",(e,t)=>{hI.init(e,t),ot.init(e,t)});function Mse(e){return uA(sL,e)}a(Mse,"_void");var kg=J("ZodDate",(e,t)=>{gI.init(e,t),ot.init(e,t),e.min=(n,o)=>e.check(En(n,o)),e.max=(n,o)=>e.check(Qn(n,o));let r=e._zod.bag;e.minDate=r.minimum?new Date(r.minimum):null,e.maxDate=r.maximum?new Date(r.maximum):null});function qse(e){return cA(kg,e)}a(qse,"date");var uL=J("ZodArray",(e,t)=>{yI.init(e,t),ot.init(e,t),e.element=t.element,e.min=(r,n)=>e.check(Oa(r,n)),e.nonempty=r=>e.check(Oa(1,r)),e.max=(r,n)=>e.check(rc(r,n)),e.length=(r,n)=>e.check(nc(r,n)),e.unwrap=()=>e.element});function Pg(e,t){return yA(uL,e,t)}a(Pg,"array");function Use(e){let t=e._zod.def.shape;return lC(Object.keys(t))}a(Use,"keyof");var Ig=J("ZodObject",(e,t)=>{vI.init(e,t),ot.init(e,t),pe.defineLazy(e,"shape",()=>t.shape),e.keyof=()=>lC(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:ic()}),e.loose=()=>e.clone({...e._zod.def,catchall:ic()}),e.strict=()=>e.clone({...e._zod.def,catchall:aC()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>pe.extend(e,r),e.safeExtend=r=>pe.safeExtend(e,r),e.merge=r=>pe.merge(e,r),e.pick=r=>pe.pick(e,r),e.omit=r=>pe.omit(e,r),e.partial=(...r)=>pe.partial(pC,e,r[0]),e.required=(...r)=>pe.required(mC,e,r[0])});function Lse(e,t){let r={type:"object",shape:e??{},...pe.normalizeParams(t)};return new Ig(r)}a(Lse,"object");function Fse(e,t){return new Ig({type:"object",shape:e,catchall:aC(),...pe.normalizeParams(t)})}a(Fse,"strictObject");function Bse(e,t){return new Ig({type:"object",shape:e,catchall:ic(),...pe.normalizeParams(t)})}a(Bse,"looseObject");var sC=J("ZodUnion",(e,t)=>{Zh.init(e,t),ot.init(e,t),e.options=t.options});function uC(e,t){return new sC({type:"union",options:e,...pe.normalizeParams(t)})}a(uC,"union");var cL=J("ZodDiscriminatedUnion",(e,t)=>{sC.init(e,t),_I.init(e,t)});function Jse(e,t,r){return new cL({type:"union",options:t,discriminator:e,...pe.normalizeParams(r)})}a(Jse,"discriminatedUnion");var lL=J("ZodIntersection",(e,t)=>{bI.init(e,t),ot.init(e,t)});function dL(e,t){return new lL({type:"intersection",left:e,right:t})}a(dL,"intersection");var pL=J("ZodTuple",(e,t)=>{Kh.init(e,t),ot.init(e,t),e.rest=r=>e.clone({...e._zod.def,rest:r})});function mL(e,t,r){let n=t instanceof Ze,o=n?r:t,i=n?t:null;return new pL({type:"tuple",items:e,rest:i,...pe.normalizeParams(o)})}a(mL,"tuple");var cC=J("ZodRecord",(e,t)=>{SI.init(e,t),ot.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function fL(e,t,r){return new cC({type:"record",keyType:e,valueType:t,...pe.normalizeParams(r)})}a(fL,"record");function Hse(e,t,r){let n=nn(e);return n._zod.values=void 0,new cC({type:"record",keyType:n,valueType:t,...pe.normalizeParams(r)})}a(Hse,"partialRecord");var hL=J("ZodMap",(e,t)=>{wI.init(e,t),ot.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function Vse(e,t,r){return new hL({type:"map",keyType:e,valueType:t,...pe.normalizeParams(r)})}a(Vse,"map");var gL=J("ZodSet",(e,t)=>{xI.init(e,t),ot.init(e,t),e.min=(...r)=>e.check(xs(...r)),e.nonempty=r=>e.check(xs(1,r)),e.max=(...r)=>e.check(tc(...r)),e.size=(...r)=>e.check(qd(...r))});function Zse(e,t){return new gL({type:"set",valueType:e,...pe.normalizeParams(t)})}a(Zse,"set");var Yd=J("ZodEnum",(e,t)=>{TI.init(e,t),ot.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);let r=new Set(Object.keys(t.entries));e.extract=(n,o)=>{let i={};for(let s of n)if(r.has(s))i[s]=t.entries[s];else throw new Error(`Key ${s} not found in enum`);return new Yd({...t,checks:[],...pe.normalizeParams(o),entries:i})},e.exclude=(n,o)=>{let i={...t.entries};for(let s of n)if(r.has(s))delete i[s];else throw new Error(`Key ${s} not found in enum`);return new Yd({...t,checks:[],...pe.normalizeParams(o),entries:i})}});function lC(e,t){let r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new Yd({type:"enum",entries:r,...pe.normalizeParams(t)})}a(lC,"_enum");function Kse(e,t){return new Yd({type:"enum",entries:e,...pe.normalizeParams(t)})}a(Kse,"nativeEnum");var yL=J("ZodLiteral",(e,t)=>{EI.init(e,t),ot.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function Gse(e,t){return new yL({type:"literal",values:Array.isArray(e)?e:[e],...pe.normalizeParams(t)})}a(Gse,"literal");var vL=J("ZodFile",(e,t)=>{kI.init(e,t),ot.init(e,t),e.min=(r,n)=>e.check(xs(r,n)),e.max=(r,n)=>e.check(tc(r,n)),e.mime=(r,n)=>e.check(Vd(Array.isArray(r)?r:[r],n))});function Wse(e){return vA(vL,e)}a(Wse,"file");var _L=J("ZodTransform",(e,t)=>{PI.init(e,t),ot.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new xa(e.constructor.name);r.addIssue=i=>{if(typeof i=="string")r.issues.push(pe.issue(i,r.value,t));else{let s=i;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=r.value),s.inst??(s.inst=e),r.issues.push(pe.issue(s))}};let o=t.transform(r.value,r);return o instanceof Promise?o.then(i=>(r.value=i,r)):(r.value=o,r)}});function dC(e){return new _L({type:"transform",transform:e})}a(dC,"transform");var pC=J("ZodOptional",(e,t)=>{II.init(e,t),ot.init(e,t),e.unwrap=()=>e._zod.def.innerType});function wg(e){return new pC({type:"optional",innerType:e})}a(wg,"optional");var bL=J("ZodNullable",(e,t)=>{OI.init(e,t),ot.init(e,t),e.unwrap=()=>e._zod.def.innerType});function xg(e){return new bL({type:"nullable",innerType:e})}a(xg,"nullable");function Qse(e){return wg(xg(e))}a(Qse,"nullish");var SL=J("ZodDefault",(e,t)=>{AI.init(e,t),ot.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function wL(e,t){return new SL({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():pe.shallowClone(t)}})}a(wL,"_default");var xL=J("ZodPrefault",(e,t)=>{CI.init(e,t),ot.init(e,t),e.unwrap=()=>e._zod.def.innerType});function TL(e,t){return new xL({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():pe.shallowClone(t)}})}a(TL,"prefault");var mC=J("ZodNonOptional",(e,t)=>{RI.init(e,t),ot.init(e,t),e.unwrap=()=>e._zod.def.innerType});function EL(e,t){return new mC({type:"nonoptional",innerType:e,...pe.normalizeParams(t)})}a(EL,"nonoptional");var kL=J("ZodSuccess",(e,t)=>{$I.init(e,t),ot.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Xse(e){return new kL({type:"success",innerType:e})}a(Xse,"success");var PL=J("ZodCatch",(e,t)=>{NI.init(e,t),ot.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function IL(e,t){return new PL({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}a(IL,"_catch");var OL=J("ZodNaN",(e,t)=>{zI.init(e,t),ot.init(e,t)});function Yse(e){return dA(OL,e)}a(Yse,"nan");var fC=J("ZodPipe",(e,t)=>{jI.init(e,t),ot.init(e,t),e.in=t.in,e.out=t.out});function Tg(e,t){return new fC({type:"pipe",in:e,out:t})}a(Tg,"pipe");var hC=J("ZodCodec",(e,t)=>{fC.init(e,t),Ad.init(e,t)});function eue(e,t,r){return new hC({type:"pipe",in:e,out:t,transform:r.decode,reverseTransform:r.encode})}a(eue,"codec");var AL=J("ZodReadonly",(e,t)=>{DI.init(e,t),ot.init(e,t),e.unwrap=()=>e._zod.def.innerType});function CL(e){return new AL({type:"readonly",innerType:e})}a(CL,"readonly");var RL=J("ZodTemplateLiteral",(e,t)=>{MI.init(e,t),ot.init(e,t)});function tue(e,t){return new RL({type:"template_literal",parts:e,...pe.normalizeParams(t)})}a(tue,"templateLiteral");var $L=J("ZodLazy",(e,t)=>{LI.init(e,t),ot.init(e,t),e.unwrap=()=>e._zod.def.getter()});function NL(e){return new $L({type:"lazy",getter:e})}a(NL,"lazy");var zL=J("ZodPromise",(e,t)=>{UI.init(e,t),ot.init(e,t),e.unwrap=()=>e._zod.def.innerType});function rue(e){return new zL({type:"promise",innerType:e})}a(rue,"promise");var jL=J("ZodFunction",(e,t)=>{qI.init(e,t),ot.init(e,t)});function nue(e){return new jL({type:"function",input:Array.isArray(e?.input)?mL(e?.input):e?.input??Pg(ic()),output:e?.output??ic()})}a(nue,"_function");var Og=J("ZodCustom",(e,t)=>{FI.init(e,t),ot.init(e,t)});function oue(e){let t=new Ut({check:"custom"});return t._zod.check=e,t}a(oue,"check");function iue(e,t){return _A(Og,e??(()=>!0),t)}a(iue,"custom");function DL(e,t={}){return bA(Og,e,t)}a(DL,"refine");function ML(e){return SA(e)}a(ML,"superRefine");var aue=wA,sue=xA;function uue(e,t={error:`Input not instance of ${e.name}`}){let r=new Og({type:"custom",check:"custom",fn:a(n=>n instanceof e,"fn"),abort:!0,...pe.normalizeParams(t)});return r._zod.bag.Class=e,r}a(uue,"_instanceof");var cue=a((...e)=>TA({Codec:hC,Boolean:np,String:ep},...e),"stringbool");function lue(e){let t=NL(()=>uC([UA(e),XU(),YU(),nL(),Pg(t),fL(UA(),t)]));return t}a(lue,"json");function due(e,t){return Tg(dC(e),t)}a(due,"preprocess");var pue={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function mue(e){_r({customError:e})}a(mue,"setErrorMap");function fue(){return _r().customError}a(fue,"getErrorMap");var gC;gC||(gC={});var yC={};_n(yC,{bigint:()=>vue,boolean:()=>yue,date:()=>_ue,number:()=>gue,string:()=>hue});function hue(e){return jO(ep,e)}a(hue,"string");function gue(e){return JO(rp,e)}a(gue,"number");function yue(e){return QO(np,e)}a(yue,"boolean");function vue(e){return YO(op,e)}a(vue,"bigint");function _ue(e){return lA(kg,e)}a(_ue,"date");_r(Cd());var bue=c.object({arguments:c.record(c.string(),c.unknown()).optional().default({})}),vC=new Oe;vC.post("/:toolName",fe,Ve("json",bue),async e=>{let t=e.req.param("toolName"),{arguments:r}=e.req.valid("json");return e.json({error:"Not implemented",message:`Tool ${t} will be implemented in subsequent tasks`,toolName:t,receivedArgs:r},501)});var _C=new Oe;_C.route("/context",wk);_C.route("/tools",vC);var bC=_C;var UL="vercel.ai.error",Sue=Symbol.for(UL),LL,wue=class FL extends Error{static{a(this,"_AISDKError")}constructor({name:t,message:r,cause:n}){super(r),this[LL]=!0,this.name=t,this.cause=n}static isInstance(t){return FL.hasMarker(t,UL)}static hasMarker(t,r){let n=Symbol.for(r);return t!=null&&typeof t=="object"&&n in t&&typeof t[n]=="boolean"&&t[n]===!0}toJSON(){return{name:this.name,message:this.message}}};LL=Sue;var qL=wue,xue="AI_APICallError",Tue=`vercel.ai.error.${xue}`,Eue=Symbol.for(Tue),kue;kue=Eue;var Pue="AI_EmptyResponseBodyError",Iue=`vercel.ai.error.${Pue}`,Oue=Symbol.for(Iue),Aue;Aue=Oue;var BL="AI_InvalidArgumentError",JL=`vercel.ai.error.${BL}`,Cue=Symbol.for(JL),HL,VL=class extends qL{static{a(this,"InvalidArgumentError")}constructor({message:e,cause:t,argument:r}){super({name:BL,message:e,cause:t}),this[HL]=!0,this.argument=r}static isInstance(e){return qL.hasMarker(e,JL)}};HL=Cue;var Rue="AI_InvalidPromptError",$ue=`vercel.ai.error.${Rue}`,Nue=Symbol.for($ue),zue;zue=Nue;var jue="AI_InvalidResponseDataError",Due=`vercel.ai.error.${jue}`,Mue=Symbol.for(Due),que;que=Mue;var Uue="AI_JSONParseError",Lue=`vercel.ai.error.${Uue}`,Fue=Symbol.for(Lue),Bue;Bue=Fue;var Jue="AI_LoadAPIKeyError",Hue=`vercel.ai.error.${Jue}`,Vue=Symbol.for(Hue),Zue;Zue=Vue;var Kue="AI_LoadSettingError",Gue=`vercel.ai.error.${Kue}`,Wue=Symbol.for(Gue),Que;Que=Wue;var Xue="AI_NoContentGeneratedError",Yue=`vercel.ai.error.${Xue}`,ece=Symbol.for(Yue),tce;tce=ece;var rce="AI_NoSuchModelError",nce=`vercel.ai.error.${rce}`,oce=Symbol.for(nce),ice;ice=oce;var ace="AI_TooManyEmbeddingValuesForCallError",sce=`vercel.ai.error.${ace}`,uce=Symbol.for(sce),cce;cce=uce;var lce="AI_TypeValidationError",dce=`vercel.ai.error.${lce}`,pce=Symbol.for(dce),mce;mce=pce;var fce="AI_UnsupportedFunctionalityError",hce=`vercel.ai.error.${fce}`,gce=Symbol.for(hce),yce;yce=gce;var ZL=a((e,t=21)=>(r=t)=>{let n="",o=r|0;for(;o--;)n+=e[Math.random()*e.length|0];return n},"customAlphabet");var Sce=iu(Ag(),1);var bce=a(({prefix:e,size:t=7,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:n="-"}={})=>{let o=ZL(r,t);if(e==null)return o;if(r.includes(n))throw new VL({argument:"separator",message:`The separator "${n}" must not be part of the alphabet "${r}".`});return i=>`${e}${n}${o(i)}`},"createIdGenerator"),wC=bce();var XL=Symbol.for("vercel.ai.validator");var{btoa:k3e,atob:P3e}=globalThis;var tle=iu(Ag(),1);var e4=Symbol("Let zodToJsonSchema decide on which parser to use");var YL={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"},t4=a(e=>typeof e=="string"?{...YL,name:e}:{...YL,...e},"getDefaultOptions");var r4=a(e=>{let t=t4(e),r=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,flags:{hasReferencedOpenAiAnyType:!1},currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([n,o])=>[o._def,{def:o._def,path:[...t.basePath,t.definitionPath,n],jsonSchema:void 0}]))}},"getRefs");function xC(e,t,r,n){n?.errorMessages&&r&&(e.errorMessage={...e.errorMessage,[t]:r})}a(xC,"addErrorMessage");function vt(e,t,r,n,o){e[t]=r,xC(e,t,n,o)}a(vt,"setResponseValueAndErrors");var Cg=a((e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")},"getRelativePath");var ft;(function(e){e.assertEqual=o=>{};function t(o){}a(t,"assertIs"),e.assertIs=t;function r(o){throw new Error}a(r,"assertNever"),e.assertNever=r,e.arrayToEnum=o=>{let i={};for(let s of o)i[s]=s;return i},e.getValidEnumValues=o=>{let i=e.objectKeys(o).filter(u=>typeof o[o[u]]!="number"),s={};for(let u of i)s[u]=o[u];return e.objectValues(s)},e.objectValues=o=>e.objectKeys(o).map(function(i){return o[i]}),e.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{let i=[];for(let s in o)Object.prototype.hasOwnProperty.call(o,s)&&i.push(s);return i},e.find=(o,i)=>{for(let s of o)if(i(s))return s},e.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&Number.isFinite(o)&&Math.floor(o)===o;function n(o,i=" | "){return o.map(s=>typeof s=="string"?`'${s}'`:s).join(i)}a(n,"joinValues"),e.joinValues=n,e.jsonStringifyReplacer=(o,i)=>typeof i=="bigint"?i.toString():i})(ft||(ft={}));var n4;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(n4||(n4={}));var we=ft.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ji=a(e=>{switch(typeof e){case"undefined":return we.undefined;case"string":return we.string;case"number":return Number.isNaN(e)?we.nan:we.number;case"boolean":return we.boolean;case"function":return we.function;case"bigint":return we.bigint;case"symbol":return we.symbol;case"object":return Array.isArray(e)?we.array:e===null?we.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?we.promise:typeof Map<"u"&&e instanceof Map?we.map:typeof Set<"u"&&e instanceof Set?we.set:typeof Date<"u"&&e instanceof Date?we.date:we.object;default:return we.unknown}},"getParsedType");var ue=ft.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);var Mn=class e extends Error{static{a(this,"ZodError")}get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){let r=t||function(i){return i.message},n={_errors:[]},o=a(i=>{for(let s of i.issues)if(s.code==="invalid_union")s.unionErrors.map(o);else if(s.code==="invalid_return_type")o(s.returnTypeError);else if(s.code==="invalid_arguments")o(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let u=n,l=0;for(;l<s.path.length;){let d=s.path[l];l===s.path.length-1?(u[d]=u[d]||{_errors:[]},u[d]._errors.push(r(s))):u[d]=u[d]||{_errors:[]},u=u[d],l++}}},"processError");return o(this),n}static assert(t){if(!(t instanceof e))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ft.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){let r=Object.create(null),n=[];for(let o of this.issues)if(o.path.length>0){let i=o.path[0];r[i]=r[i]||[],r[i].push(t(o))}else n.push(t(o));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};Mn.create=e=>new Mn(e);var wce=a((e,t)=>{let r;switch(e.code){case ue.invalid_type:e.received===we.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case ue.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,ft.jsonStringifyReplacer)}`;break;case ue.unrecognized_keys:r=`Unrecognized key(s) in object: ${ft.joinValues(e.keys,", ")}`;break;case ue.invalid_union:r="Invalid input";break;case ue.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ft.joinValues(e.options)}`;break;case ue.invalid_enum_value:r=`Invalid enum value. Expected ${ft.joinValues(e.options)}, received '${e.received}'`;break;case ue.invalid_arguments:r="Invalid function arguments";break;case ue.invalid_return_type:r="Invalid function return type";break;case ue.invalid_date:r="Invalid date";break;case ue.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:ft.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case ue.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case ue.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case ue.custom:r="Invalid input";break;case ue.invalid_intersection_types:r="Intersection results could not be merged";break;case ue.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case ue.not_finite:r="Number must be finite";break;default:r=t.defaultError,ft.assertNever(e)}return{message:r}},"errorMap"),Aa=wce;var xce=Aa;function ip(){return xce}a(ip,"getErrorMap");var Rg=a(e=>{let{data:t,path:r,errorMaps:n,issueData:o}=e,i=[...r,...o.path||[]],s={...o,path:i};if(o.message!==void 0)return{...o,path:i,message:o.message};let u="",l=n.filter(d=>!!d).slice().reverse();for(let d of l)u=d(s,{data:t,defaultError:u}).message;return{...o,path:i,message:u}},"makeIssue");function _e(e,t){let r=ip(),n=Rg({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Aa?void 0:Aa].filter(o=>!!o)});e.common.issues.push(n)}a(_e,"addIssueToContext");var Qr=class e{static{a(this,"ParseStatus")}constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){let n=[];for(let o of r){if(o.status==="aborted")return Me;o.status==="dirty"&&t.dirty(),n.push(o.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){let n=[];for(let o of r){let i=await o.key,s=await o.value;n.push({key:i,value:s})}return e.mergeObjectSync(t,n)}static mergeObjectSync(t,r){let n={};for(let o of r){let{key:i,value:s}=o;if(i.status==="aborted"||s.status==="aborted")return Me;i.status==="dirty"&&t.dirty(),s.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof s.value<"u"||o.alwaysSet)&&(n[i.value]=s.value)}return{status:t.value,value:n}}},Me=Object.freeze({status:"aborted"}),uc=a(e=>({status:"dirty",value:e}),"DIRTY"),sn=a(e=>({status:"valid",value:e}),"OK"),TC=a(e=>e.status==="aborted","isAborted"),EC=a(e=>e.status==="dirty","isDirty"),Ts=a(e=>e.status==="valid","isValid"),ap=a(e=>typeof Promise<"u"&&e instanceof Promise,"isAsync");var Ie;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(Ie||(Ie={}));var Xn=class{static{a(this,"ParseInputLazyPath")}constructor(t,r,n,o){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=o}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},o4=a((e,t)=>{if(Ts(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new Mn(e.common.issues);return this._error=r,this._error}}},"handleResult");function Xe(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:o}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:o}:{errorMap:a((s,u)=>{let{message:l}=e;return s.code==="invalid_enum_value"?{message:l??u.defaultError}:typeof u.data>"u"?{message:l??n??u.defaultError}:s.code!=="invalid_type"?{message:u.defaultError}:{message:l??r??u.defaultError}},"customMap"),description:o}}a(Xe,"processCreateParams");var it=class{static{a(this,"ZodType")}get description(){return this._def.description}_getType(t){return ji(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:ji(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Qr,ctx:{common:t.parent.common,data:t.data,parsedType:ji(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){let r=this._parse(t);if(ap(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){let r=this._parse(t);return Promise.resolve(r)}parse(t,r){let n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){let n={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ji(t)},o=this._parseSync({data:t,path:n.path,parent:n});return o4(n,o)}"~validate"(t){let r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ji(t)};if(!this["~standard"].async)try{let n=this._parseSync({data:t,path:[],parent:r});return Ts(n)?{value:n.value}:{issues:r.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(n=>Ts(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(t,r){let n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){let n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ji(t)},o=this._parse({data:t,path:n.path,parent:n}),i=await(ap(o)?o:Promise.resolve(o));return o4(n,i)}refine(t,r){let n=a(o=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(o):r,"getIssueProperties");return this._refinement((o,i)=>{let s=t(o),u=a(()=>i.addIssue({code:ue.custom,...n(o)}),"setError");return typeof Promise<"u"&&s instanceof Promise?s.then(l=>l?!0:(u(),!1)):s?!0:(u(),!1)})}refinement(t,r){return this._refinement((n,o)=>t(n)?!0:(o.addIssue(typeof r=="function"?r(n,o):r),!1))}_refinement(t){return new ko({schema:this,typeName:U.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:a(r=>this["~validate"](r),"validate")}}optional(){return Eo.create(this,this._def)}nullable(){return qi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ra.create(this)}promise(){return Es.create(this,this._def)}or(t){return mc.create([this,t],this._def)}and(t){return fc.create(this,t,this._def)}transform(t){return new ko({...Xe(this._def),schema:this,typeName:U.ZodEffects,effect:{type:"transform",transform:t}})}default(t){let r=typeof t=="function"?t:()=>t;return new _c({...Xe(this._def),innerType:this,defaultValue:r,typeName:U.ZodDefault})}brand(){return new $g({typeName:U.ZodBranded,type:this,...Xe(this._def)})}catch(t){let r=typeof t=="function"?t:()=>t;return new bc({...Xe(this._def),innerType:this,catchValue:r,typeName:U.ZodCatch})}describe(t){let r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Ng.create(this,t)}readonly(){return Sc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},Tce=/^c[^\s-]{8,}$/i,Ece=/^[0-9a-z]+$/,kce=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Pce=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Ice=/^[a-z0-9_-]{21}$/i,Oce=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Ace=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Cce=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Rce="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",kC,$ce=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Nce=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,zce=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,jce=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Dce=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Mce=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,i4="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",qce=new RegExp(`^${i4}$`);function a4(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}a(a4,"timeRegexSource");function Uce(e){return new RegExp(`^${a4(e)}$`)}a(Uce,"timeRegex");function Lce(e){let t=`${i4}T${a4(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}a(Lce,"datetimeRegex");function Fce(e,t){return!!((t==="v4"||!t)&&$ce.test(e)||(t==="v6"||!t)&&zce.test(e))}a(Fce,"isValidIP");function Bce(e,t){if(!Oce.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),o=JSON.parse(atob(n));return!(typeof o!="object"||o===null||"typ"in o&&o?.typ!=="JWT"||!o.alg||t&&o.alg!==t)}catch{return!1}}a(Bce,"isValidJWT");function Jce(e,t){return!!((t==="v4"||!t)&&Nce.test(e)||(t==="v6"||!t)&&jce.test(e))}a(Jce,"isValidCidr");var lc=class e extends it{static{a(this,"ZodString")}_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==we.string){let i=this._getOrReturnCtx(t);return _e(i,{code:ue.invalid_type,expected:we.string,received:i.parsedType}),Me}let n=new Qr,o;for(let i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(o=this._getOrReturnCtx(t,o),_e(o,{code:ue.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(o=this._getOrReturnCtx(t,o),_e(o,{code:ue.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){let s=t.data.length>i.value,u=t.data.length<i.value;(s||u)&&(o=this._getOrReturnCtx(t,o),s?_e(o,{code:ue.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):u&&_e(o,{code:ue.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")Cce.test(t.data)||(o=this._getOrReturnCtx(t,o),_e(o,{validation:"email",code:ue.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")kC||(kC=new RegExp(Rce,"u")),kC.test(t.data)||(o=this._getOrReturnCtx(t,o),_e(o,{validation:"emoji",code:ue.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")Pce.test(t.data)||(o=this._getOrReturnCtx(t,o),_e(o,{validation:"uuid",code:ue.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")Ice.test(t.data)||(o=this._getOrReturnCtx(t,o),_e(o,{validation:"nanoid",code:ue.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")Tce.test(t.data)||(o=this._getOrReturnCtx(t,o),_e(o,{validation:"cuid",code:ue.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")Ece.test(t.data)||(o=this._getOrReturnCtx(t,o),_e(o,{validation:"cuid2",code:ue.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")kce.test(t.data)||(o=this._getOrReturnCtx(t,o),_e(o,{validation:"ulid",code:ue.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{o=this._getOrReturnCtx(t,o),_e(o,{validation:"url",code:ue.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(o=this._getOrReturnCtx(t,o),_e(o,{validation:"regex",code:ue.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(o=this._getOrReturnCtx(t,o),_e(o,{code:ue.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(o=this._getOrReturnCtx(t,o),_e(o,{code:ue.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(o=this._getOrReturnCtx(t,o),_e(o,{code:ue.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?Lce(i).test(t.data)||(o=this._getOrReturnCtx(t,o),_e(o,{code:ue.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?qce.test(t.data)||(o=this._getOrReturnCtx(t,o),_e(o,{code:ue.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?Uce(i).test(t.data)||(o=this._getOrReturnCtx(t,o),_e(o,{code:ue.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?Ace.test(t.data)||(o=this._getOrReturnCtx(t,o),_e(o,{validation:"duration",code:ue.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?Fce(t.data,i.version)||(o=this._getOrReturnCtx(t,o),_e(o,{validation:"ip",code:ue.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?Bce(t.data,i.alg)||(o=this._getOrReturnCtx(t,o),_e(o,{validation:"jwt",code:ue.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?Jce(t.data,i.version)||(o=this._getOrReturnCtx(t,o),_e(o,{validation:"cidr",code:ue.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?Dce.test(t.data)||(o=this._getOrReturnCtx(t,o),_e(o,{validation:"base64",code:ue.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?Mce.test(t.data)||(o=this._getOrReturnCtx(t,o),_e(o,{validation:"base64url",code:ue.invalid_string,message:i.message}),n.dirty()):ft.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(o=>t.test(o),{validation:r,code:ue.invalid_string,...Ie.errToObj(n)})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ie.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ie.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ie.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ie.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ie.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ie.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ie.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ie.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ie.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ie.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ie.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ie.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ie.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:t?.offset??!1,local:t?.local??!1,...Ie.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...Ie.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...Ie.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Ie.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r?.position,...Ie.errToObj(r?.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Ie.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Ie.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Ie.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Ie.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Ie.errToObj(r)})}nonempty(t){return this.min(1,Ie.errToObj(t))}trim(){return new e({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}};lc.create=e=>new lc({checks:[],typeName:U.ZodString,coerce:e?.coerce??!1,...Xe(e)});function Hce(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,o=r>n?r:n,i=Number.parseInt(e.toFixed(o).replace(".","")),s=Number.parseInt(t.toFixed(o).replace(".",""));return i%s/10**o}a(Hce,"floatSafeRemainder");var sp=class e extends it{static{a(this,"ZodNumber")}constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==we.number){let i=this._getOrReturnCtx(t);return _e(i,{code:ue.invalid_type,expected:we.number,received:i.parsedType}),Me}let n,o=new Qr;for(let i of this._def.checks)i.kind==="int"?ft.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),_e(n,{code:ue.invalid_type,expected:"integer",received:"float",message:i.message}),o.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),_e(n,{code:ue.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),o.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),_e(n,{code:ue.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),o.dirty()):i.kind==="multipleOf"?Hce(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),_e(n,{code:ue.not_multiple_of,multipleOf:i.value,message:i.message}),o.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),_e(n,{code:ue.not_finite,message:i.message}),o.dirty()):ft.assertNever(i);return{status:o.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Ie.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ie.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ie.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ie.toString(r))}setLimit(t,r,n,o){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ie.toString(o)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ie.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ie.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ie.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ie.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ie.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ie.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Ie.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ie.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ie.toString(t)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ft.isInteger(t.value))}get isFinite(){let t=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}};sp.create=e=>new sp({checks:[],typeName:U.ZodNumber,coerce:e?.coerce||!1,...Xe(e)});var up=class e extends it{static{a(this,"ZodBigInt")}constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==we.bigint)return this._getInvalidInput(t);let n,o=new Qr;for(let i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),_e(n,{code:ue.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),o.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),_e(n,{code:ue.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),o.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),_e(n,{code:ue.not_multiple_of,multipleOf:i.value,message:i.message}),o.dirty()):ft.assertNever(i);return{status:o.value,value:t.data}}_getInvalidInput(t){let r=this._getOrReturnCtx(t);return _e(r,{code:ue.invalid_type,expected:we.bigint,received:r.parsedType}),Me}gte(t,r){return this.setLimit("min",t,!0,Ie.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ie.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ie.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ie.toString(r))}setLimit(t,r,n,o){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ie.toString(o)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ie.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ie.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ie.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ie.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ie.toString(r)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}};up.create=e=>new up({checks:[],typeName:U.ZodBigInt,coerce:e?.coerce??!1,...Xe(e)});var cp=class extends it{static{a(this,"ZodBoolean")}_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==we.boolean){let n=this._getOrReturnCtx(t);return _e(n,{code:ue.invalid_type,expected:we.boolean,received:n.parsedType}),Me}return sn(t.data)}};cp.create=e=>new cp({typeName:U.ZodBoolean,coerce:e?.coerce||!1,...Xe(e)});var lp=class e extends it{static{a(this,"ZodDate")}_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==we.date){let i=this._getOrReturnCtx(t);return _e(i,{code:ue.invalid_type,expected:we.date,received:i.parsedType}),Me}if(Number.isNaN(t.data.getTime())){let i=this._getOrReturnCtx(t);return _e(i,{code:ue.invalid_date}),Me}let n=new Qr,o;for(let i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(o=this._getOrReturnCtx(t,o),_e(o,{code:ue.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(o=this._getOrReturnCtx(t,o),_e(o,{code:ue.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):ft.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Ie.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Ie.toString(r)})}get minDate(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}};lp.create=e=>new lp({checks:[],coerce:e?.coerce||!1,typeName:U.ZodDate,...Xe(e)});var dp=class extends it{static{a(this,"ZodSymbol")}_parse(t){if(this._getType(t)!==we.symbol){let n=this._getOrReturnCtx(t);return _e(n,{code:ue.invalid_type,expected:we.symbol,received:n.parsedType}),Me}return sn(t.data)}};dp.create=e=>new dp({typeName:U.ZodSymbol,...Xe(e)});var dc=class extends it{static{a(this,"ZodUndefined")}_parse(t){if(this._getType(t)!==we.undefined){let n=this._getOrReturnCtx(t);return _e(n,{code:ue.invalid_type,expected:we.undefined,received:n.parsedType}),Me}return sn(t.data)}};dc.create=e=>new dc({typeName:U.ZodUndefined,...Xe(e)});var pc=class extends it{static{a(this,"ZodNull")}_parse(t){if(this._getType(t)!==we.null){let n=this._getOrReturnCtx(t);return _e(n,{code:ue.invalid_type,expected:we.null,received:n.parsedType}),Me}return sn(t.data)}};pc.create=e=>new pc({typeName:U.ZodNull,...Xe(e)});var pp=class extends it{static{a(this,"ZodAny")}constructor(){super(...arguments),this._any=!0}_parse(t){return sn(t.data)}};pp.create=e=>new pp({typeName:U.ZodAny,...Xe(e)});var Ca=class extends it{static{a(this,"ZodUnknown")}constructor(){super(...arguments),this._unknown=!0}_parse(t){return sn(t.data)}};Ca.create=e=>new Ca({typeName:U.ZodUnknown,...Xe(e)});var Qo=class extends it{static{a(this,"ZodNever")}_parse(t){let r=this._getOrReturnCtx(t);return _e(r,{code:ue.invalid_type,expected:we.never,received:r.parsedType}),Me}};Qo.create=e=>new Qo({typeName:U.ZodNever,...Xe(e)});var mp=class extends it{static{a(this,"ZodVoid")}_parse(t){if(this._getType(t)!==we.undefined){let n=this._getOrReturnCtx(t);return _e(n,{code:ue.invalid_type,expected:we.void,received:n.parsedType}),Me}return sn(t.data)}};mp.create=e=>new mp({typeName:U.ZodVoid,...Xe(e)});var Ra=class e extends it{static{a(this,"ZodArray")}_parse(t){let{ctx:r,status:n}=this._processInputParams(t),o=this._def;if(r.parsedType!==we.array)return _e(r,{code:ue.invalid_type,expected:we.array,received:r.parsedType}),Me;if(o.exactLength!==null){let s=r.data.length>o.exactLength.value,u=r.data.length<o.exactLength.value;(s||u)&&(_e(r,{code:s?ue.too_big:ue.too_small,minimum:u?o.exactLength.value:void 0,maximum:s?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),n.dirty())}if(o.minLength!==null&&r.data.length<o.minLength.value&&(_e(r,{code:ue.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),n.dirty()),o.maxLength!==null&&r.data.length>o.maxLength.value&&(_e(r,{code:ue.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,u)=>o.type._parseAsync(new Xn(r,s,r.path,u)))).then(s=>Qr.mergeArray(n,s));let i=[...r.data].map((s,u)=>o.type._parseSync(new Xn(r,s,r.path,u)));return Qr.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new e({...this._def,minLength:{value:t,message:Ie.toString(r)}})}max(t,r){return new e({...this._def,maxLength:{value:t,message:Ie.toString(r)}})}length(t,r){return new e({...this._def,exactLength:{value:t,message:Ie.toString(r)}})}nonempty(t){return this.min(1,t)}};Ra.create=(e,t)=>new Ra({type:e,minLength:null,maxLength:null,exactLength:null,typeName:U.ZodArray,...Xe(t)});function cc(e){if(e instanceof qn){let t={};for(let r in e.shape){let n=e.shape[r];t[r]=Eo.create(cc(n))}return new qn({...e._def,shape:a(()=>t,"shape")})}else return e instanceof Ra?new Ra({...e._def,type:cc(e.element)}):e instanceof Eo?Eo.create(cc(e.unwrap())):e instanceof qi?qi.create(cc(e.unwrap())):e instanceof Mi?Mi.create(e.items.map(t=>cc(t))):e}a(cc,"deepPartialify");var qn=class e extends it{static{a(this,"ZodObject")}constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let t=this._def.shape(),r=ft.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==we.object){let d=this._getOrReturnCtx(t);return _e(d,{code:ue.invalid_type,expected:we.object,received:d.parsedType}),Me}let{status:n,ctx:o}=this._processInputParams(t),{shape:i,keys:s}=this._getCached(),u=[];if(!(this._def.catchall instanceof Qo&&this._def.unknownKeys==="strip"))for(let d in o.data)s.includes(d)||u.push(d);let l=[];for(let d of s){let p=i[d],f=o.data[d];l.push({key:{status:"valid",value:d},value:p._parse(new Xn(o,f,o.path,d)),alwaysSet:d in o.data})}if(this._def.catchall instanceof Qo){let d=this._def.unknownKeys;if(d==="passthrough")for(let p of u)l.push({key:{status:"valid",value:p},value:{status:"valid",value:o.data[p]}});else if(d==="strict")u.length>0&&(_e(o,{code:ue.unrecognized_keys,keys:u}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let d=this._def.catchall;for(let p of u){let f=o.data[p];l.push({key:{status:"valid",value:p},value:d._parse(new Xn(o,f,o.path,p)),alwaysSet:p in o.data})}}return o.common.async?Promise.resolve().then(async()=>{let d=[];for(let p of l){let f=await p.key,m=await p.value;d.push({key:f,value:m,alwaysSet:p.alwaysSet})}return d}).then(d=>Qr.mergeObjectSync(n,d)):Qr.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(t){return Ie.errToObj,new e({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:a((r,n)=>{let o=this._def.errorMap?.(r,n).message??n.defaultError;return r.code==="unrecognized_keys"?{message:Ie.errToObj(t).message??o}:{message:o}},"errorMap")}:{}})}strip(){return new e({...this._def,unknownKeys:"strip"})}passthrough(){return new e({...this._def,unknownKeys:"passthrough"})}extend(t){return new e({...this._def,shape:a(()=>({...this._def.shape(),...t}),"shape")})}merge(t){return new e({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:a(()=>({...this._def.shape(),...t._def.shape()}),"shape"),typeName:U.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new e({...this._def,catchall:t})}pick(t){let r={};for(let n of ft.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new e({...this._def,shape:a(()=>r,"shape")})}omit(t){let r={};for(let n of ft.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new e({...this._def,shape:a(()=>r,"shape")})}deepPartial(){return cc(this)}partial(t){let r={};for(let n of ft.objectKeys(this.shape)){let o=this.shape[n];t&&!t[n]?r[n]=o:r[n]=o.optional()}return new e({...this._def,shape:a(()=>r,"shape")})}required(t){let r={};for(let n of ft.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Eo;)i=i._def.innerType;r[n]=i}return new e({...this._def,shape:a(()=>r,"shape")})}keyof(){return s4(ft.objectKeys(this.shape))}};qn.create=(e,t)=>new qn({shape:a(()=>e,"shape"),unknownKeys:"strip",catchall:Qo.create(),typeName:U.ZodObject,...Xe(t)});qn.strictCreate=(e,t)=>new qn({shape:a(()=>e,"shape"),unknownKeys:"strict",catchall:Qo.create(),typeName:U.ZodObject,...Xe(t)});qn.lazycreate=(e,t)=>new qn({shape:e,unknownKeys:"strip",catchall:Qo.create(),typeName:U.ZodObject,...Xe(t)});var mc=class extends it{static{a(this,"ZodUnion")}_parse(t){let{ctx:r}=this._processInputParams(t),n=this._def.options;function o(i){for(let u of i)if(u.result.status==="valid")return u.result;for(let u of i)if(u.result.status==="dirty")return r.common.issues.push(...u.ctx.common.issues),u.result;let s=i.map(u=>new Mn(u.ctx.common.issues));return _e(r,{code:ue.invalid_union,unionErrors:s}),Me}if(a(o,"handleResults"),r.common.async)return Promise.all(n.map(async i=>{let s={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(o);{let i,s=[];for(let l of n){let d={...r,common:{...r.common,issues:[]},parent:null},p=l._parseSync({data:r.data,path:r.path,parent:d});if(p.status==="valid")return p;p.status==="dirty"&&!i&&(i={result:p,ctx:d}),d.common.issues.length&&s.push(d.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;let u=s.map(l=>new Mn(l));return _e(r,{code:ue.invalid_union,unionErrors:u}),Me}}get options(){return this._def.options}};mc.create=(e,t)=>new mc({options:e,typeName:U.ZodUnion,...Xe(t)});var Di=a(e=>e instanceof hc?Di(e.schema):e instanceof ko?Di(e.innerType()):e instanceof gc?[e.value]:e instanceof yc?e.options:e instanceof vc?ft.objectValues(e.enum):e instanceof _c?Di(e._def.innerType):e instanceof dc?[void 0]:e instanceof pc?[null]:e instanceof Eo?[void 0,...Di(e.unwrap())]:e instanceof qi?[null,...Di(e.unwrap())]:e instanceof $g||e instanceof Sc?Di(e.unwrap()):e instanceof bc?Di(e._def.innerType):[],"getDiscriminator"),PC=class e extends it{static{a(this,"ZodDiscriminatedUnion")}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==we.object)return _e(r,{code:ue.invalid_type,expected:we.object,received:r.parsedType}),Me;let n=this.discriminator,o=r.data[n],i=this.optionsMap.get(o);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(_e(r,{code:ue.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Me)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){let o=new Map;for(let i of r){let s=Di(i.shape[t]);if(!s.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(let u of s){if(o.has(u))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(u)}`);o.set(u,i)}}return new e({typeName:U.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:o,...Xe(n)})}};function IC(e,t){let r=ji(e),n=ji(t);if(e===t)return{valid:!0,data:e};if(r===we.object&&n===we.object){let o=ft.objectKeys(t),i=ft.objectKeys(e).filter(u=>o.indexOf(u)!==-1),s={...e,...t};for(let u of i){let l=IC(e[u],t[u]);if(!l.valid)return{valid:!1};s[u]=l.data}return{valid:!0,data:s}}else if(r===we.array&&n===we.array){if(e.length!==t.length)return{valid:!1};let o=[];for(let i=0;i<e.length;i++){let s=e[i],u=t[i],l=IC(s,u);if(!l.valid)return{valid:!1};o.push(l.data)}return{valid:!0,data:o}}else return r===we.date&&n===we.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}a(IC,"mergeValues");var fc=class extends it{static{a(this,"ZodIntersection")}_parse(t){let{status:r,ctx:n}=this._processInputParams(t),o=a((i,s)=>{if(TC(i)||TC(s))return Me;let u=IC(i.value,s.value);return u.valid?((EC(i)||EC(s))&&r.dirty(),{status:r.value,value:u.data}):(_e(n,{code:ue.invalid_intersection_types}),Me)},"handleParsed");return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,s])=>o(i,s)):o(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};fc.create=(e,t,r)=>new fc({left:e,right:t,typeName:U.ZodIntersection,...Xe(r)});var Mi=class e extends it{static{a(this,"ZodTuple")}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==we.array)return _e(n,{code:ue.invalid_type,expected:we.array,received:n.parsedType}),Me;if(n.data.length<this._def.items.length)return _e(n,{code:ue.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Me;!this._def.rest&&n.data.length>this._def.items.length&&(_e(n,{code:ue.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let i=[...n.data].map((s,u)=>{let l=this._def.items[u]||this._def.rest;return l?l._parse(new Xn(n,s,n.path,u)):null}).filter(s=>!!s);return n.common.async?Promise.all(i).then(s=>Qr.mergeArray(r,s)):Qr.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new e({...this._def,rest:t})}};Mi.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Mi({items:e,typeName:U.ZodTuple,rest:null,...Xe(t)})};var OC=class e extends it{static{a(this,"ZodRecord")}get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==we.object)return _e(n,{code:ue.invalid_type,expected:we.object,received:n.parsedType}),Me;let o=[],i=this._def.keyType,s=this._def.valueType;for(let u in n.data)o.push({key:i._parse(new Xn(n,u,n.path,u)),value:s._parse(new Xn(n,n.data[u],n.path,u)),alwaysSet:u in n.data});return n.common.async?Qr.mergeObjectAsync(r,o):Qr.mergeObjectSync(r,o)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof it?new e({keyType:t,valueType:r,typeName:U.ZodRecord,...Xe(n)}):new e({keyType:lc.create(),valueType:t,typeName:U.ZodRecord,...Xe(r)})}},fp=class extends it{static{a(this,"ZodMap")}get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==we.map)return _e(n,{code:ue.invalid_type,expected:we.map,received:n.parsedType}),Me;let o=this._def.keyType,i=this._def.valueType,s=[...n.data.entries()].map(([u,l],d)=>({key:o._parse(new Xn(n,u,n.path,[d,"key"])),value:i._parse(new Xn(n,l,n.path,[d,"value"]))}));if(n.common.async){let u=new Map;return Promise.resolve().then(async()=>{for(let l of s){let d=await l.key,p=await l.value;if(d.status==="aborted"||p.status==="aborted")return Me;(d.status==="dirty"||p.status==="dirty")&&r.dirty(),u.set(d.value,p.value)}return{status:r.value,value:u}})}else{let u=new Map;for(let l of s){let d=l.key,p=l.value;if(d.status==="aborted"||p.status==="aborted")return Me;(d.status==="dirty"||p.status==="dirty")&&r.dirty(),u.set(d.value,p.value)}return{status:r.value,value:u}}}};fp.create=(e,t,r)=>new fp({valueType:t,keyType:e,typeName:U.ZodMap,...Xe(r)});var hp=class e extends it{static{a(this,"ZodSet")}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==we.set)return _e(n,{code:ue.invalid_type,expected:we.set,received:n.parsedType}),Me;let o=this._def;o.minSize!==null&&n.data.size<o.minSize.value&&(_e(n,{code:ue.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),r.dirty()),o.maxSize!==null&&n.data.size>o.maxSize.value&&(_e(n,{code:ue.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),r.dirty());let i=this._def.valueType;function s(l){let d=new Set;for(let p of l){if(p.status==="aborted")return Me;p.status==="dirty"&&r.dirty(),d.add(p.value)}return{status:r.value,value:d}}a(s,"finalizeSet");let u=[...n.data.values()].map((l,d)=>i._parse(new Xn(n,l,n.path,d)));return n.common.async?Promise.all(u).then(l=>s(l)):s(u)}min(t,r){return new e({...this._def,minSize:{value:t,message:Ie.toString(r)}})}max(t,r){return new e({...this._def,maxSize:{value:t,message:Ie.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}};hp.create=(e,t)=>new hp({valueType:e,minSize:null,maxSize:null,typeName:U.ZodSet,...Xe(t)});var AC=class e extends it{static{a(this,"ZodFunction")}constructor(){super(...arguments),this.validate=this.implement}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==we.function)return _e(r,{code:ue.invalid_type,expected:we.function,received:r.parsedType}),Me;function n(u,l){return Rg({data:u,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,ip(),Aa].filter(d=>!!d),issueData:{code:ue.invalid_arguments,argumentsError:l}})}a(n,"makeArgsIssue");function o(u,l){return Rg({data:u,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,ip(),Aa].filter(d=>!!d),issueData:{code:ue.invalid_return_type,returnTypeError:l}})}a(o,"makeReturnsIssue");let i={errorMap:r.common.contextualErrorMap},s=r.data;if(this._def.returns instanceof Es){let u=this;return sn(async function(...l){let d=new Mn([]),p=await u._def.args.parseAsync(l,i).catch(y=>{throw d.addIssue(n(l,y)),d}),f=await Reflect.apply(s,this,p);return await u._def.returns._def.type.parseAsync(f,i).catch(y=>{throw d.addIssue(o(f,y)),d})})}else{let u=this;return sn(function(...l){let d=u._def.args.safeParse(l,i);if(!d.success)throw new Mn([n(l,d.error)]);let p=Reflect.apply(s,this,d.data),f=u._def.returns.safeParse(p,i);if(!f.success)throw new Mn([o(p,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new e({...this._def,args:Mi.create(t).rest(Ca.create())})}returns(t){return new e({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new e({args:t||Mi.create([]).rest(Ca.create()),returns:r||Ca.create(),typeName:U.ZodFunction,...Xe(n)})}},hc=class extends it{static{a(this,"ZodLazy")}get schema(){return this._def.getter()}_parse(t){let{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};hc.create=(e,t)=>new hc({getter:e,typeName:U.ZodLazy,...Xe(t)});var gc=class extends it{static{a(this,"ZodLiteral")}_parse(t){if(t.data!==this._def.value){let r=this._getOrReturnCtx(t);return _e(r,{received:r.data,code:ue.invalid_literal,expected:this._def.value}),Me}return{status:"valid",value:t.data}}get value(){return this._def.value}};gc.create=(e,t)=>new gc({value:e,typeName:U.ZodLiteral,...Xe(t)});function s4(e,t){return new yc({values:e,typeName:U.ZodEnum,...Xe(t)})}a(s4,"createZodEnum");var yc=class e extends it{static{a(this,"ZodEnum")}_parse(t){if(typeof t.data!="string"){let r=this._getOrReturnCtx(t),n=this._def.values;return _e(r,{expected:ft.joinValues(n),received:r.parsedType,code:ue.invalid_type}),Me}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){let r=this._getOrReturnCtx(t),n=this._def.values;return _e(r,{received:r.data,code:ue.invalid_enum_value,options:n}),Me}return sn(t.data)}get options(){return this._def.values}get enum(){let t={};for(let r of this._def.values)t[r]=r;return t}get Values(){let t={};for(let r of this._def.values)t[r]=r;return t}get Enum(){let t={};for(let r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return e.create(t,{...this._def,...r})}exclude(t,r=this._def){return e.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}};yc.create=s4;var vc=class extends it{static{a(this,"ZodNativeEnum")}_parse(t){let r=ft.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==we.string&&n.parsedType!==we.number){let o=ft.objectValues(r);return _e(n,{expected:ft.joinValues(o),received:n.parsedType,code:ue.invalid_type}),Me}if(this._cache||(this._cache=new Set(ft.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){let o=ft.objectValues(r);return _e(n,{received:n.data,code:ue.invalid_enum_value,options:o}),Me}return sn(t.data)}get enum(){return this._def.values}};vc.create=(e,t)=>new vc({values:e,typeName:U.ZodNativeEnum,...Xe(t)});var Es=class extends it{static{a(this,"ZodPromise")}unwrap(){return this._def.type}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==we.promise&&r.common.async===!1)return _e(r,{code:ue.invalid_type,expected:we.promise,received:r.parsedType}),Me;let n=r.parsedType===we.promise?r.data:Promise.resolve(r.data);return sn(n.then(o=>this._def.type.parseAsync(o,{path:r.path,errorMap:r.common.contextualErrorMap})))}};Es.create=(e,t)=>new Es({type:e,typeName:U.ZodPromise,...Xe(t)});var ko=class extends it{static{a(this,"ZodEffects")}innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===U.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){let{status:r,ctx:n}=this._processInputParams(t),o=this._def.effect||null,i={addIssue:a(s=>{_e(n,s),s.fatal?r.abort():r.dirty()},"addIssue"),get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),o.type==="preprocess"){let s=o.transform(n.data,i);if(n.common.async)return Promise.resolve(s).then(async u=>{if(r.value==="aborted")return Me;let l=await this._def.schema._parseAsync({data:u,path:n.path,parent:n});return l.status==="aborted"?Me:l.status==="dirty"?uc(l.value):r.value==="dirty"?uc(l.value):l});{if(r.value==="aborted")return Me;let u=this._def.schema._parseSync({data:s,path:n.path,parent:n});return u.status==="aborted"?Me:u.status==="dirty"?uc(u.value):r.value==="dirty"?uc(u.value):u}}if(o.type==="refinement"){let s=a(u=>{let l=o.refinement(u,i);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u},"executeRefinement");if(n.common.async===!1){let u=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return u.status==="aborted"?Me:(u.status==="dirty"&&r.dirty(),s(u.value),{status:r.value,value:u.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(u=>u.status==="aborted"?Me:(u.status==="dirty"&&r.dirty(),s(u.value).then(()=>({status:r.value,value:u.value}))))}if(o.type==="transform")if(n.common.async===!1){let s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Ts(s))return Me;let u=o.transform(s.value,i);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:u}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>Ts(s)?Promise.resolve(o.transform(s.value,i)).then(u=>({status:r.value,value:u})):Me);ft.assertNever(o)}};ko.create=(e,t,r)=>new ko({schema:e,typeName:U.ZodEffects,effect:t,...Xe(r)});ko.createWithPreprocess=(e,t,r)=>new ko({schema:t,effect:{type:"preprocess",transform:e},typeName:U.ZodEffects,...Xe(r)});var Eo=class extends it{static{a(this,"ZodOptional")}_parse(t){return this._getType(t)===we.undefined?sn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};Eo.create=(e,t)=>new Eo({innerType:e,typeName:U.ZodOptional,...Xe(t)});var qi=class extends it{static{a(this,"ZodNullable")}_parse(t){return this._getType(t)===we.null?sn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};qi.create=(e,t)=>new qi({innerType:e,typeName:U.ZodNullable,...Xe(t)});var _c=class extends it{static{a(this,"ZodDefault")}_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return r.parsedType===we.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};_c.create=(e,t)=>new _c({innerType:e,typeName:U.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Xe(t)});var bc=class extends it{static{a(this,"ZodCatch")}_parse(t){let{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},o=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return ap(o)?o.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Mn(n.common.issues)},input:n.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Mn(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};bc.create=(e,t)=>new bc({innerType:e,typeName:U.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Xe(t)});var gp=class extends it{static{a(this,"ZodNaN")}_parse(t){if(this._getType(t)!==we.nan){let n=this._getOrReturnCtx(t);return _e(n,{code:ue.invalid_type,expected:we.nan,received:n.parsedType}),Me}return{status:"valid",value:t.data}}};gp.create=e=>new gp({typeName:U.ZodNaN,...Xe(e)});var s9e=Symbol("zod_brand"),$g=class extends it{static{a(this,"ZodBranded")}_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},Ng=class e extends it{static{a(this,"ZodPipeline")}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return a(async()=>{let i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Me:i.status==="dirty"?(r.dirty(),uc(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})},"handleAsync")();{let o=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Me:o.status==="dirty"?(r.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:n.path,parent:n})}}static create(t,r){return new e({in:t,out:r,typeName:U.ZodPipeline})}},Sc=class extends it{static{a(this,"ZodReadonly")}_parse(t){let r=this._def.innerType._parse(t),n=a(o=>(Ts(o)&&(o.value=Object.freeze(o.value)),o),"freeze");return ap(r)?r.then(o=>n(o)):n(r)}unwrap(){return this._def.innerType}};Sc.create=(e,t)=>new Sc({innerType:e,typeName:U.ZodReadonly,...Xe(t)});var u9e={object:qn.lazycreate},U;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(U||(U={}));var c9e=lc.create,l9e=sp.create,d9e=gp.create,p9e=up.create,m9e=cp.create,f9e=lp.create,h9e=dp.create,g9e=dc.create,y9e=pc.create,v9e=pp.create,_9e=Ca.create,b9e=Qo.create,S9e=mp.create,w9e=Ra.create,x9e=qn.create,T9e=qn.strictCreate,E9e=mc.create,k9e=PC.create,P9e=fc.create,I9e=Mi.create,O9e=OC.create,A9e=fp.create,C9e=hp.create,R9e=AC.create,$9e=hc.create,N9e=gc.create,z9e=yc.create,j9e=vc.create,D9e=Es.create,M9e=ko.create,q9e=Eo.create,U9e=qi.create,L9e=ko.createWithPreprocess,F9e=Ng.create;function Qt(e){if(e.target!=="openAi")return{};let t=[...e.basePath,e.definitionPath,e.openAiAnyTypeName];return e.flags.hasReferencedOpenAiAnyType=!0,{$ref:e.$refStrategy==="relative"?Cg(t,e.currentPath):t.join("/")}}a(Qt,"parseAnyDef");function u4(e,t){let r={type:"array"};return e.type?._def&&e.type?._def?.typeName!==U.ZodAny&&(r.items=qe(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&vt(r,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&vt(r,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&(vt(r,"minItems",e.exactLength.value,e.exactLength.message,t),vt(r,"maxItems",e.exactLength.value,e.exactLength.message,t)),r}a(u4,"parseArrayDef");function c4(e,t){let r={type:"integer",format:"int64"};if(!e.checks)return r;for(let n of e.checks)switch(n.kind){case"min":t.target==="jsonSchema7"?n.inclusive?vt(r,"minimum",n.value,n.message,t):vt(r,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(r.exclusiveMinimum=!0),vt(r,"minimum",n.value,n.message,t));break;case"max":t.target==="jsonSchema7"?n.inclusive?vt(r,"maximum",n.value,n.message,t):vt(r,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(r.exclusiveMaximum=!0),vt(r,"maximum",n.value,n.message,t));break;case"multipleOf":vt(r,"multipleOf",n.value,n.message,t);break}return r}a(c4,"parseBigintDef");function l4(){return{type:"boolean"}}a(l4,"parseBooleanDef");function zg(e,t){return qe(e.type._def,t)}a(zg,"parseBrandedDef");var d4=a((e,t)=>qe(e.innerType._def,t),"parseCatchDef");function CC(e,t,r){let n=r??t.dateStrategy;if(Array.isArray(n))return{anyOf:n.map((o,i)=>CC(e,t,o))};switch(n){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return Zce(e,t)}}a(CC,"parseDateDef");var Zce=a((e,t)=>{let r={type:"integer",format:"unix-time"};if(t.target==="openApi3")return r;for(let n of e.checks)switch(n.kind){case"min":vt(r,"minimum",n.value,n.message,t);break;case"max":vt(r,"maximum",n.value,n.message,t);break}return r},"integerDateParser");function p4(e,t){return{...qe(e.innerType._def,t),default:e.defaultValue()}}a(p4,"parseDefaultDef");function m4(e,t){return t.effectStrategy==="input"?qe(e.schema._def,t):Qt(t)}a(m4,"parseEffectsDef");function f4(e){return{type:"string",enum:Array.from(e.values)}}a(f4,"parseEnumDef");var Kce=a(e=>"type"in e&&e.type==="string"?!1:"allOf"in e,"isJsonSchema7AllOfType");function h4(e,t){let r=[qe(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),qe(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(i=>!!i),n=t.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0,o=[];return r.forEach(i=>{if(Kce(i))o.push(...i.allOf),i.unevaluatedProperties===void 0&&(n=void 0);else{let s=i;if("additionalProperties"in i&&i.additionalProperties===!1){let{additionalProperties:u,...l}=i;s=l}else n=void 0;o.push(s)}}),o.length?{allOf:o,...n}:void 0}a(h4,"parseIntersectionDef");function g4(e,t){let r=typeof e.value;return r!=="bigint"&&r!=="number"&&r!=="boolean"&&r!=="string"?{type:Array.isArray(e.value)?"array":"object"}:t.target==="openApi3"?{type:r==="bigint"?"integer":r,enum:[e.value]}:{type:r==="bigint"?"integer":r,const:e.value}}a(g4,"parseLiteralDef");var RC,Po={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:a(()=>(RC===void 0&&(RC=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),RC),"emoji"),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function jg(e,t){let r={type:"string"};if(e.checks)for(let n of e.checks)switch(n.kind){case"min":vt(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,n.message,t);break;case"max":vt(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value,n.message,t);break;case"email":switch(t.emailStrategy){case"format:email":Io(r,"email",n.message,t);break;case"format:idn-email":Io(r,"idn-email",n.message,t);break;case"pattern:zod":un(r,Po.email,n.message,t);break}break;case"url":Io(r,"uri",n.message,t);break;case"uuid":Io(r,"uuid",n.message,t);break;case"regex":un(r,n.regex,n.message,t);break;case"cuid":un(r,Po.cuid,n.message,t);break;case"cuid2":un(r,Po.cuid2,n.message,t);break;case"startsWith":un(r,RegExp(`^${$C(n.value,t)}`),n.message,t);break;case"endsWith":un(r,RegExp(`${$C(n.value,t)}$`),n.message,t);break;case"datetime":Io(r,"date-time",n.message,t);break;case"date":Io(r,"date",n.message,t);break;case"time":Io(r,"time",n.message,t);break;case"duration":Io(r,"duration",n.message,t);break;case"length":vt(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,n.message,t),vt(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value,n.message,t);break;case"includes":{un(r,RegExp($C(n.value,t)),n.message,t);break}case"ip":{n.version!=="v6"&&Io(r,"ipv4",n.message,t),n.version!=="v4"&&Io(r,"ipv6",n.message,t);break}case"base64url":un(r,Po.base64url,n.message,t);break;case"jwt":un(r,Po.jwt,n.message,t);break;case"cidr":{n.version!=="v6"&&un(r,Po.ipv4Cidr,n.message,t),n.version!=="v4"&&un(r,Po.ipv6Cidr,n.message,t);break}case"emoji":un(r,Po.emoji(),n.message,t);break;case"ulid":{un(r,Po.ulid,n.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{Io(r,"binary",n.message,t);break}case"contentEncoding:base64":{vt(r,"contentEncoding","base64",n.message,t);break}case"pattern:zod":{un(r,Po.base64,n.message,t);break}}break}case"nanoid":un(r,Po.nanoid,n.message,t);case"toLowerCase":case"toUpperCase":case"trim":break;default:}return r}a(jg,"parseStringDef");function $C(e,t){return t.patternStrategy==="escape"?Wce(e):e}a($C,"escapeLiteralCheckValue");var Gce=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function Wce(e){let t="";for(let r=0;r<e.length;r++)Gce.has(e[r])||(t+="\\"),t+=e[r];return t}a(Wce,"escapeNonAlphaNumeric");function Io(e,t,r,n){e.format||e.anyOf?.some(o=>o.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&n.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.anyOf.push({format:t,...r&&n.errorMessages&&{errorMessage:{format:r}}})):vt(e,"format",t,r,n)}a(Io,"addFormat");function un(e,t,r,n){e.pattern||e.allOf?.some(o=>o.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&n.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.allOf.push({pattern:y4(t,n),...r&&n.errorMessages&&{errorMessage:{pattern:r}}})):vt(e,"pattern",y4(t,n),r,n)}a(un,"addPattern");function y4(e,t){if(!t.applyRegexFlags||!e.flags)return e.source;let r={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},n=r.i?e.source.toLowerCase():e.source,o="",i=!1,s=!1,u=!1;for(let l=0;l<n.length;l++){if(i){o+=n[l],i=!1;continue}if(r.i){if(s){if(n[l].match(/[a-z]/)){u?(o+=n[l],o+=`${n[l-2]}-${n[l]}`.toUpperCase(),u=!1):n[l+1]==="-"&&n[l+2]?.match(/[a-z]/)?(o+=n[l],u=!0):o+=`${n[l]}${n[l].toUpperCase()}`;continue}}else if(n[l].match(/[a-z]/)){o+=`[${n[l]}${n[l].toUpperCase()}]`;continue}}if(r.m){if(n[l]==="^"){o+=`(^|(?<=[\r
]))`;continue}else if(n[l]==="$"){o+=`($|(?=[\r
]))`;continue}}if(r.s&&n[l]==="."){o+=s?`${n[l]}\r
`:`[${n[l]}\r
]`;continue}o+=n[l],n[l]==="\\"?i=!0:s&&n[l]==="]"?s=!1:!s&&n[l]==="["&&(s=!0)}try{new RegExp(o)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return o}a(y4,"stringifyRegExpWithFlags");function Dg(e,t){if(t.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),t.target==="openApi3"&&e.keyType?._def.typeName===U.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((n,o)=>({...n,[o]:qe(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",o]})??Qt(t)}),{}),additionalProperties:t.rejectedAdditionalProperties};let r={type:"object",additionalProperties:qe(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??t.allowedAdditionalProperties};if(t.target==="openApi3")return r;if(e.keyType?._def.typeName===U.ZodString&&e.keyType._def.checks?.length){let{type:n,...o}=jg(e.keyType._def,t);return{...r,propertyNames:o}}else{if(e.keyType?._def.typeName===U.ZodEnum)return{...r,propertyNames:{enum:e.keyType._def.values}};if(e.keyType?._def.typeName===U.ZodBranded&&e.keyType._def.type._def.typeName===U.ZodString&&e.keyType._def.type._def.checks?.length){let{type:n,...o}=zg(e.keyType._def,t);return{...r,propertyNames:o}}}return r}a(Dg,"parseRecordDef");function v4(e,t){if(t.mapStrategy==="record")return Dg(e,t);let r=qe(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||Qt(t),n=qe(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||Qt(t);return{type:"array",maxItems:125,items:{type:"array",items:[r,n],minItems:2,maxItems:2}}}a(v4,"parseMapDef");function _4(e){let t=e.values,n=Object.keys(e.values).filter(i=>typeof t[t[i]]!="number").map(i=>t[i]),o=Array.from(new Set(n.map(i=>typeof i)));return{type:o.length===1?o[0]==="string"?"string":"number":["string","number"],enum:n}}a(_4,"parseNativeEnumDef");function b4(e){return e.target==="openAi"?void 0:{not:Qt({...e,currentPath:[...e.currentPath,"not"]})}}a(b4,"parseNeverDef");function S4(e){return e.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}a(S4,"parseNullDef");var yp={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function x4(e,t){if(t.target==="openApi3")return w4(e,t);let r=e.options instanceof Map?Array.from(e.options.values()):e.options;if(r.every(n=>n._def.typeName in yp&&(!n._def.checks||!n._def.checks.length))){let n=r.reduce((o,i)=>{let s=yp[i._def.typeName];return s&&!o.includes(s)?[...o,s]:o},[]);return{type:n.length>1?n:n[0]}}else if(r.every(n=>n._def.typeName==="ZodLiteral"&&!n.description)){let n=r.reduce((o,i)=>{let s=typeof i._def.value;switch(s){case"string":case"number":case"boolean":return[...o,s];case"bigint":return[...o,"integer"];case"object":if(i._def.value===null)return[...o,"null"];case"symbol":case"undefined":case"function":default:return o}},[]);if(n.length===r.length){let o=n.filter((i,s,u)=>u.indexOf(i)===s);return{type:o.length>1?o:o[0],enum:r.reduce((i,s)=>i.includes(s._def.value)?i:[...i,s._def.value],[])}}}else if(r.every(n=>n._def.typeName==="ZodEnum"))return{type:"string",enum:r.reduce((n,o)=>[...n,...o._def.values.filter(i=>!n.includes(i))],[])};return w4(e,t)}a(x4,"parseUnionDef");var w4=a((e,t)=>{let r=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((n,o)=>qe(n._def,{...t,currentPath:[...t.currentPath,"anyOf",`${o}`]})).filter(n=>!!n&&(!t.strictUnions||typeof n=="object"&&Object.keys(n).length>0));return r.length?{anyOf:r}:void 0},"asAnyOf");function T4(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return t.target==="openApi3"?{type:yp[e.innerType._def.typeName],nullable:!0}:{type:[yp[e.innerType._def.typeName],"null"]};if(t.target==="openApi3"){let n=qe(e.innerType._def,{...t,currentPath:[...t.currentPath]});return n&&"$ref"in n?{allOf:[n],nullable:!0}:n&&{...n,nullable:!0}}let r=qe(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}a(T4,"parseNullableDef");function E4(e,t){let r={type:"number"};if(!e.checks)return r;for(let n of e.checks)switch(n.kind){case"int":r.type="integer",xC(r,"type",n.message,t);break;case"min":t.target==="jsonSchema7"?n.inclusive?vt(r,"minimum",n.value,n.message,t):vt(r,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(r.exclusiveMinimum=!0),vt(r,"minimum",n.value,n.message,t));break;case"max":t.target==="jsonSchema7"?n.inclusive?vt(r,"maximum",n.value,n.message,t):vt(r,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(r.exclusiveMaximum=!0),vt(r,"maximum",n.value,n.message,t));break;case"multipleOf":vt(r,"multipleOf",n.value,n.message,t);break}return r}a(E4,"parseNumberDef");function k4(e,t){let r=t.target==="openAi",n={type:"object",properties:{}},o=[],i=e.shape();for(let u in i){let l=i[u];if(l===void 0||l._def===void 0)continue;let d=Xce(l);d&&r&&(l._def.typeName==="ZodOptional"&&(l=l._def.innerType),l.isNullable()||(l=l.nullable()),d=!1);let p=qe(l._def,{...t,currentPath:[...t.currentPath,"properties",u],propertyPath:[...t.currentPath,"properties",u]});p!==void 0&&(n.properties[u]=p,d||o.push(u))}o.length&&(n.required=o);let s=Qce(e,t);return s!==void 0&&(n.additionalProperties=s),n}a(k4,"parseObjectDef");function Qce(e,t){if(e.catchall._def.typeName!=="ZodNever")return qe(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}a(Qce,"decideAdditionalProperties");function Xce(e){try{return e.isOptional()}catch{return!0}}a(Xce,"safeIsOptional");var P4=a((e,t)=>{if(t.currentPath.toString()===t.propertyPath?.toString())return qe(e.innerType._def,t);let r=qe(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return r?{anyOf:[{not:Qt(t)},r]}:Qt(t)},"parseOptionalDef");var I4=a((e,t)=>{if(t.pipeStrategy==="input")return qe(e.in._def,t);if(t.pipeStrategy==="output")return qe(e.out._def,t);let r=qe(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),n=qe(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,n].filter(o=>o!==void 0)}},"parsePipelineDef");function O4(e,t){return qe(e.type._def,t)}a(O4,"parsePromiseDef");function A4(e,t){let n={type:"array",uniqueItems:!0,items:qe(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&vt(n,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&vt(n,"maxItems",e.maxSize.value,e.maxSize.message,t),n}a(A4,"parseSetDef");function C4(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((r,n)=>qe(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[]),additionalItems:qe(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((r,n)=>qe(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[])}}a(C4,"parseTupleDef");function R4(e){return{not:Qt(e)}}a(R4,"parseUndefinedDef");function $4(e){return Qt(e)}a($4,"parseUnknownDef");var N4=a((e,t)=>qe(e.innerType._def,t),"parseReadonlyDef");var z4=a((e,t,r)=>{switch(t){case U.ZodString:return jg(e,r);case U.ZodNumber:return E4(e,r);case U.ZodObject:return k4(e,r);case U.ZodBigInt:return c4(e,r);case U.ZodBoolean:return l4();case U.ZodDate:return CC(e,r);case U.ZodUndefined:return R4(r);case U.ZodNull:return S4(r);case U.ZodArray:return u4(e,r);case U.ZodUnion:case U.ZodDiscriminatedUnion:return x4(e,r);case U.ZodIntersection:return h4(e,r);case U.ZodTuple:return C4(e,r);case U.ZodRecord:return Dg(e,r);case U.ZodLiteral:return g4(e,r);case U.ZodEnum:return f4(e);case U.ZodNativeEnum:return _4(e);case U.ZodNullable:return T4(e,r);case U.ZodOptional:return P4(e,r);case U.ZodMap:return v4(e,r);case U.ZodSet:return A4(e,r);case U.ZodLazy:return()=>e.getter()._def;case U.ZodPromise:return O4(e,r);case U.ZodNaN:case U.ZodNever:return b4(r);case U.ZodEffects:return m4(e,r);case U.ZodAny:return Qt(r);case U.ZodUnknown:return $4(r);case U.ZodDefault:return p4(e,r);case U.ZodBranded:return zg(e,r);case U.ZodReadonly:return N4(e,r);case U.ZodCatch:return d4(e,r);case U.ZodPipeline:return I4(e,r);case U.ZodFunction:case U.ZodVoid:case U.ZodSymbol:return;default:return(n=>{})(t)}},"selectParser");function qe(e,t,r=!1){let n=t.seen.get(e);if(t.override){let u=t.override?.(e,t,n,r);if(u!==e4)return u}if(n&&!r){let u=Yce(n,t);if(u!==void 0)return u}let o={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,o);let i=z4(e,e.typeName,t),s=typeof i=="function"?qe(i(),t):i;if(s&&ele(e,t,s),t.postProcess){let u=t.postProcess(s,e,t);return o.jsonSchema=s,u}return o.jsonSchema=s,s}a(qe,"parseDef");var Yce=a((e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:Cg(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((r,n)=>t.currentPath[n]===r)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),Qt(t)):t.$refStrategy==="seen"?Qt(t):void 0}},"get$ref"),ele=a((e,t,r)=>(e.description&&(r.description=e.description,t.markdownDescription&&(r.markdownDescription=e.description)),r),"addMeta");var j4=a((e,t)=>{let r=r4(t),n=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((l,[d,p])=>({...l,[d]:qe(p._def,{...r,currentPath:[...r.basePath,r.definitionPath,d]},!0)??Qt(r)}),{}):void 0,o=typeof t=="string"?t:t?.nameStrategy==="title"?void 0:t?.name,i=qe(e._def,o===void 0?r:{...r,currentPath:[...r.basePath,r.definitionPath,o]},!1)??Qt(r),s=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;s!==void 0&&(i.title=s),r.flags.hasReferencedOpenAiAnyType&&(n||(n={}),n[r.openAiAnyTypeName]||(n[r.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:r.$refStrategy==="relative"?"1":[...r.basePath,r.definitionPath,r.openAiAnyTypeName].join("/")}}));let u=o===void 0?n?{...i,[r.definitionPath]:n}:i:{$ref:[...r.$refStrategy==="relative"?[]:r.basePath,r.definitionPath,o].join("/"),[r.definitionPath]:{...n,[o]:i}};return r.target==="jsonSchema7"?u.$schema="http://json-schema.org/draft-07/schema#":(r.target==="jsonSchema2019-09"||r.target==="openAi")&&(u.$schema="https://json-schema.org/draft/2019-09/schema#"),r.target==="openAi"&&("anyOf"in u||"oneOf"in u||"allOf"in u||"type"in u&&Array.isArray(u.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),u},"zodToJsonSchema");var D4=j4;var vp={code:"0",name:"text",parse:a(e=>{if(typeof e!="string")throw new Error('"text" parts expect a string value.');return{type:"text",value:e}},"parse")},_p={code:"1",name:"function_call",parse:a(e=>{if(e==null||typeof e!="object"||!("function_call"in e)||typeof e.function_call!="object"||e.function_call==null||!("name"in e.function_call)||!("arguments"in e.function_call)||typeof e.function_call.name!="string"||typeof e.function_call.arguments!="string")throw new Error('"function_call" parts expect an object with a "function_call" property.');return{type:"function_call",value:e}},"parse")},bp={code:"2",name:"data",parse:a(e=>{if(!Array.isArray(e))throw new Error('"data" parts expect an array value.');return{type:"data",value:e}},"parse")},Sp={code:"3",name:"error",parse:a(e=>{if(typeof e!="string")throw new Error('"error" parts expect a string value.');return{type:"error",value:e}},"parse")},wp={code:"4",name:"assistant_message",parse:a(e=>{if(e==null||typeof e!="object"||!("id"in e)||!("role"in e)||!("content"in e)||typeof e.id!="string"||typeof e.role!="string"||e.role!=="assistant"||!Array.isArray(e.content)||!e.content.every(t=>t!=null&&typeof t=="object"&&"type"in t&&t.type==="text"&&"text"in t&&t.text!=null&&typeof t.text=="object"&&"value"in t.text&&typeof t.text.value=="string"))throw new Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:e}},"parse")},xp={code:"5",name:"assistant_control_data",parse:a(e=>{if(e==null||typeof e!="object"||!("threadId"in e)||!("messageId"in e)||typeof e.threadId!="string"||typeof e.messageId!="string")throw new Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:e.threadId,messageId:e.messageId}}},"parse")},Tp={code:"6",name:"data_message",parse:a(e=>{if(e==null||typeof e!="object"||!("role"in e)||!("data"in e)||typeof e.role!="string"||e.role!=="data")throw new Error('"data_message" parts expect an object with a "role" and "data" property.');return{type:"data_message",value:e}},"parse")},Ep={code:"7",name:"tool_calls",parse:a(e=>{if(e==null||typeof e!="object"||!("tool_calls"in e)||typeof e.tool_calls!="object"||e.tool_calls==null||!Array.isArray(e.tool_calls)||e.tool_calls.some(t=>t==null||typeof t!="object"||!("id"in t)||typeof t.id!="string"||!("type"in t)||typeof t.type!="string"||!("function"in t)||t.function==null||typeof t.function!="object"||!("arguments"in t.function)||typeof t.function.name!="string"||typeof t.function.arguments!="string"))throw new Error('"tool_calls" parts expect an object with a ToolCallPayload.');return{type:"tool_calls",value:e}},"parse")},kp={code:"8",name:"message_annotations",parse:a(e=>{if(!Array.isArray(e))throw new Error('"message_annotations" parts expect an array value.');return{type:"message_annotations",value:e}},"parse")},Pp={code:"9",name:"tool_call",parse:a(e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("toolName"in e)||typeof e.toolName!="string"||!("args"in e)||typeof e.args!="object")throw new Error('"tool_call" parts expect an object with a "toolCallId", "toolName", and "args" property.');return{type:"tool_call",value:e}},"parse")},Ip={code:"a",name:"tool_result",parse:a(e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("result"in e))throw new Error('"tool_result" parts expect an object with a "toolCallId" and a "result" property.');return{type:"tool_result",value:e}},"parse")},Op={code:"b",name:"tool_call_streaming_start",parse:a(e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("toolName"in e)||typeof e.toolName!="string")throw new Error('"tool_call_streaming_start" parts expect an object with a "toolCallId" and "toolName" property.');return{type:"tool_call_streaming_start",value:e}},"parse")},Ap={code:"c",name:"tool_call_delta",parse:a(e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("argsTextDelta"in e)||typeof e.argsTextDelta!="string")throw new Error('"tool_call_delta" parts expect an object with a "toolCallId" and "argsTextDelta" property.');return{type:"tool_call_delta",value:e}},"parse")},Cp={code:"d",name:"finish_message",parse:a(e=>{if(e==null||typeof e!="object"||!("finishReason"in e)||typeof e.finishReason!="string")throw new Error('"finish_message" parts expect an object with a "finishReason" property.');let t={finishReason:e.finishReason};return"usage"in e&&e.usage!=null&&typeof e.usage=="object"&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:typeof e.usage.promptTokens=="number"?e.usage.promptTokens:Number.NaN,completionTokens:typeof e.usage.completionTokens=="number"?e.usage.completionTokens:Number.NaN}),{type:"finish_message",value:t}},"parse")},Rp={code:"e",name:"finish_step",parse:a(e=>{if(e==null||typeof e!="object"||!("finishReason"in e)||typeof e.finishReason!="string")throw new Error('"finish_step" parts expect an object with a "finishReason" property.');let t={finishReason:e.finishReason,isContinued:!1};return"usage"in e&&e.usage!=null&&typeof e.usage=="object"&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:typeof e.usage.promptTokens=="number"?e.usage.promptTokens:Number.NaN,completionTokens:typeof e.usage.completionTokens=="number"?e.usage.completionTokens:Number.NaN}),"isContinued"in e&&typeof e.isContinued=="boolean"&&(t.isContinued=e.isContinued),{type:"finish_step",value:t}},"parse")},M4=[vp,_p,bp,Sp,wp,xp,Tp,Ep,kp,Pp,Ip,Op,Ap,Cp,Rp],_Ke={[vp.code]:vp,[_p.code]:_p,[bp.code]:bp,[Sp.code]:Sp,[wp.code]:wp,[xp.code]:xp,[Tp.code]:Tp,[Ep.code]:Ep,[kp.code]:kp,[Pp.code]:Pp,[Ip.code]:Ip,[Op.code]:Op,[Ap.code]:Ap,[Cp.code]:Cp,[Rp.code]:Rp},bKe={[vp.name]:vp.code,[_p.name]:_p.code,[bp.name]:bp.code,[Sp.name]:Sp.code,[wp.name]:wp.code,[xp.name]:xp.code,[Tp.name]:Tp.code,[Ep.name]:Ep.code,[kp.name]:kp.code,[Pp.name]:Pp.code,[Ip.name]:Ip.code,[Op.name]:Op.code,[Ap.name]:Ap.code,[Cp.name]:Cp.code,[Rp.name]:Rp.code},SKe=M4.map(e=>e.code);function Oo(e,t){let r=M4.find(n=>n.name===e);if(!r)throw new Error(`Invalid stream part type: ${e}`);return`${r.code}:${JSON.stringify(t)}
`}a(Oo,"formatStreamPart");var NC=Symbol.for("vercel.ai.schema");function rle(e,{validate:t}={}){return{[NC]:!0,_type:void 0,[XL]:!0,jsonSchema:e,validate:t}}a(rle,"jsonSchema");function nle(e){return typeof e=="object"&&e!==null&&NC in e&&e[NC]===!0&&"jsonSchema"in e&&"validate"in e}a(nle,"isSchema");function Mg(e){return nle(e)?e:ole(e)}a(Mg,"asSchema");function ole(e){return rle(D4(e),{validate:a(t=>{let r=e.safeParse(t);return r.success?{success:!0,value:r.data}:{success:!1,error:r.error}},"validate")})}a(ole,"zodSchema");var q4="vercel.ai.error",ile=Symbol.for(q4),U4,ale=class L4 extends Error{static{a(this,"_AISDKError")}constructor({name:t,message:r,cause:n}){super(r),this[U4]=!0,this.name=t,this.cause=n}static isInstance(t){return L4.hasMarker(t,q4)}static hasMarker(t,r){let n=Symbol.for(r);return t!=null&&typeof t=="object"&&n in t&&typeof t[n]=="boolean"&&t[n]===!0}toJSON(){return{name:this.name,message:this.message}}};U4=ile;var _t=ale,zC="AI_APICallError",F4=`vercel.ai.error.${zC}`,sle=Symbol.for(F4),B4,J4=class extends _t{static{a(this,"APICallError")}constructor({message:e,url:t,requestBodyValues:r,statusCode:n,responseHeaders:o,responseBody:i,cause:s,isRetryable:u=n!=null&&(n===408||n===409||n===429||n>=500),data:l}){super({name:zC,message:e,cause:s}),this[B4]=!0,this.url=t,this.requestBodyValues=r,this.statusCode=n,this.responseHeaders=o,this.responseBody=i,this.isRetryable=u,this.data=l}static isInstance(e){return _t.hasMarker(e,F4)}static isAPICallError(e){return e instanceof Error&&e.name===zC&&typeof e.url=="string"&&typeof e.requestBodyValues=="object"&&(e.statusCode==null||typeof e.statusCode=="number")&&(e.responseHeaders==null||typeof e.responseHeaders=="object")&&(e.responseBody==null||typeof e.responseBody=="string")&&(e.cause==null||typeof e.cause=="object")&&typeof e.isRetryable=="boolean"&&(e.data==null||typeof e.data=="object")}toJSON(){return{name:this.name,message:this.message,url:this.url,requestBodyValues:this.requestBodyValues,statusCode:this.statusCode,responseHeaders:this.responseHeaders,responseBody:this.responseBody,cause:this.cause,isRetryable:this.isRetryable,data:this.data}}};B4=sle;var ule="AI_EmptyResponseBodyError",cle=`vercel.ai.error.${ule}`,lle=Symbol.for(cle),dle;dle=lle;function qg(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}a(qg,"getErrorMessage");var H4="AI_InvalidArgumentError",V4=`vercel.ai.error.${H4}`,ple=Symbol.for(V4),Z4,K4=class extends _t{static{a(this,"InvalidArgumentError")}constructor({message:e,cause:t,argument:r}){super({name:H4,message:e,cause:t}),this[Z4]=!0,this.argument=r}static isInstance(e){return _t.hasMarker(e,V4)}};Z4=ple;var jC="AI_InvalidPromptError",G4=`vercel.ai.error.${jC}`,mle=Symbol.for(G4),W4,ks=class extends _t{static{a(this,"InvalidPromptError")}constructor({prompt:e,message:t,cause:r}){super({name:jC,message:`Invalid prompt: ${t}`,cause:r}),this[W4]=!0,this.prompt=e}static isInstance(e){return _t.hasMarker(e,G4)}static isInvalidPromptError(e){return e instanceof Error&&e.name===jC&&prompt!=null}toJSON(){return{name:this.name,message:this.message,stack:this.stack,prompt:this.prompt}}};W4=mle;var fle="AI_InvalidResponseDataError",hle=`vercel.ai.error.${fle}`,gle=Symbol.for(hle),yle;yle=gle;var DC="AI_JSONParseError",Q4=`vercel.ai.error.${DC}`,vle=Symbol.for(Q4),X4,UC=class extends _t{static{a(this,"JSONParseError")}constructor({text:e,cause:t}){super({name:DC,message:`JSON parsing failed: Text: ${e}.
Error message: ${qg(t)}`,cause:t}),this[X4]=!0,this.text=e}static isInstance(e){return _t.hasMarker(e,Q4)}static isJSONParseError(e){return e instanceof Error&&e.name===DC&&"text"in e&&typeof e.text=="string"}toJSON(){return{name:this.name,message:this.message,cause:this.cause,stack:this.stack,valueText:this.text}}};X4=vle;var _le="AI_LoadAPIKeyError",ble=`vercel.ai.error.${_le}`,Sle=Symbol.for(ble),wle;wle=Sle;var xle="AI_LoadSettingError",Tle=`vercel.ai.error.${xle}`,Ele=Symbol.for(Tle),kle;kle=Ele;var Ple="AI_NoContentGeneratedError",Ile=`vercel.ai.error.${Ple}`,Ole=Symbol.for(Ile),Ale;Ale=Ole;var Cle="AI_NoSuchModelError",Rle=`vercel.ai.error.${Cle}`,$le=Symbol.for(Rle),Nle;Nle=$le;var zle="AI_TooManyEmbeddingValuesForCallError",jle=`vercel.ai.error.${zle}`,Dle=Symbol.for(jle),Mle;Mle=Dle;var MC="AI_TypeValidationError",Y4=`vercel.ai.error.${MC}`,qle=Symbol.for(Y4),eF,Ule=class qC extends _t{static{a(this,"_TypeValidationError")}constructor({value:t,cause:r}){super({name:MC,message:`Type validation failed: Value: ${JSON.stringify(t)}.
Error message: ${qg(r)}`,cause:r}),this[eF]=!0,this.value=t}static isInstance(t){return _t.hasMarker(t,Y4)}static wrap({value:t,cause:r}){return qC.isInstance(r)&&r.value===t?r:new qC({value:t,cause:r})}static isTypeValidationError(t){return t instanceof Error&&t.name===MC}toJSON(){return{name:this.name,message:this.message,cause:this.cause,stack:this.stack,value:this.value}}};eF=qle;var Ug=Ule,Lle="AI_UnsupportedFunctionalityError",Fle=`vercel.ai.error.${Lle}`,Ble=Symbol.for(Fle),Jle;Jle=Ble;var tF=a((e,t=21)=>(r=t)=>{let n="",o=r|0;for(;o--;)n+=e[Math.random()*e.length|0];return n},"customAlphabet");var oF=iu(Ag(),1);var Ui=a(({prefix:e,size:t=7,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:n="-"}={})=>{let o=tF(r,t);if(e==null)return o;if(r.includes(n))throw new K4({argument:"separator",message:`The separator "${n}" must not be part of the alphabet "${r}".`});return i=>`${e}${n}${o(i)}`},"createIdGenerator"),jKe=Ui();function rF(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}a(rF,"getErrorMessage");function nF(e){return e instanceof Error&&(e.name==="AbortError"||e.name==="TimeoutError")}a(nF,"isAbortError");var LC=Symbol.for("vercel.ai.validator");function Hle(e){return{[LC]:!0,validate:e}}a(Hle,"validator");function Vle(e){return typeof e=="object"&&e!==null&&LC in e&&e[LC]===!0&&"validate"in e}a(Vle,"isValidator");function Zle(e){return Vle(e)?e:Kle(e)}a(Zle,"asValidator");function Kle(e){return Hle(t=>{let r=e.safeParse(t);return r.success?{success:!0,value:r.data}:{success:!1,error:r.error}})}a(Kle,"zodValidator");function $p({value:e,schema:t}){let r=Zle(t);try{if(r.validate==null)return{success:!0,value:e};let n=r.validate(e);return n.success?n:{success:!1,error:Ug.wrap({value:e,cause:n.error})}}catch(n){return{success:!1,error:Ug.wrap({value:e,cause:n})}}}a($p,"safeValidateTypes");function FC({text:e,schema:t}){try{let r=oF.default.parse(e);return t==null?{success:!0,value:r}:$p({value:r,schema:t})}catch(r){return{success:!1,error:UC.isJSONParseError(r)?r:new UC({text:e,cause:r})}}}a(FC,"safeParseJSON");var{btoa:Gle,atob:Wle}=globalThis;function iF(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),r=Wle(t);return Uint8Array.from(r,n=>n.codePointAt(0))}a(iF,"convertBase64ToUint8Array");function BC(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCodePoint(e[r]);return Gle(t)}a(BC,"convertUint8ArrayToBase64");var aF=typeof globalThis=="object"?globalThis:global;var Li="1.9.0";var sF=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function Qle(e){var t=new Set([e]),r=new Set,n=e.match(sF);if(!n)return function(){return!1};var o={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(o.prerelease!=null)return a(function(l){return l===e},"isExactmatch");function i(u){return r.add(u),!1}a(i,"_reject");function s(u){return t.add(u),!0}return a(s,"_accept"),a(function(l){if(t.has(l))return!0;if(r.has(l))return!1;var d=l.match(sF);if(!d)return i(l);var p={major:+d[1],minor:+d[2],patch:+d[3],prerelease:d[4]};return p.prerelease!=null||o.major!==p.major?i(l):o.major===0?o.minor===p.minor&&o.patch<=p.patch?s(l):i(l):o.minor<=p.minor?s(l):i(l)},"isCompatible")}a(Qle,"_makeCompatibilityCheck");var uF=Qle(Li);var Xle=Li.split(".")[0],Np=Symbol.for("opentelemetry.js.api."+Xle),zp=aF;function wc(e,t,r,n){var o;n===void 0&&(n=!1);var i=zp[Np]=(o=zp[Np])!==null&&o!==void 0?o:{version:Li};if(!n&&i[e]){var s=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return r.error(s.stack||s.message),!1}if(i.version!==Li){var s=new Error("@opentelemetry/api: Registration of version v"+i.version+" for "+e+" does not match previously registered API v"+Li);return r.error(s.stack||s.message),!1}return i[e]=t,r.debug("@opentelemetry/api: Registered a global for "+e+" v"+Li+"."),!0}a(wc,"registerGlobal");function Fi(e){var t,r,n=(t=zp[Np])===null||t===void 0?void 0:t.version;if(!(!n||!uF(n)))return(r=zp[Np])===null||r===void 0?void 0:r[e]}a(Fi,"getGlobal");function xc(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+Li+".");var r=zp[Np];r&&delete r[e]}a(xc,"unregisterGlobal");var Yle=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],s;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(u){s={error:u}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i},ede=function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},cF=(function(){function e(t){this._namespace=t.namespace||"DiagComponentLogger"}return a(e,"DiagComponentLogger"),e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return jp("debug",this._namespace,t)},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return jp("error",this._namespace,t)},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return jp("info",this._namespace,t)},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return jp("warn",this._namespace,t)},e.prototype.verbose=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return jp("verbose",this._namespace,t)},e})();function jp(e,t,r){var n=Fi("diag");if(n)return r.unshift(t),n[e].apply(n,ede([],Yle(r),!1))}a(jp,"logProxy");var cn;(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(cn||(cn={}));function lF(e,t){e<cn.NONE?e=cn.NONE:e>cn.ALL&&(e=cn.ALL),t=t||{};function r(n,o){var i=t[n];return typeof i=="function"&&e>=o?i.bind(t):function(){}}return a(r,"_filterFunc"),{error:r("error",cn.ERROR),warn:r("warn",cn.WARN),info:r("info",cn.INFO),debug:r("debug",cn.DEBUG),verbose:r("verbose",cn.VERBOSE)}}a(lF,"createLogLevelDiagLogger");var tde=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],s;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(u){s={error:u}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i},rde=function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},nde="diag",Tc=(function(){function e(){function t(o){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var u=Fi("diag");if(u)return u[o].apply(u,rde([],tde(i),!1))}}a(t,"_logProxy");var r=this,n=a(function(o,i){var s,u,l;if(i===void 0&&(i={logLevel:cn.INFO}),o===r){var d=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return r.error((s=d.stack)!==null&&s!==void 0?s:d.message),!1}typeof i=="number"&&(i={logLevel:i});var p=Fi("diag"),f=lF((u=i.logLevel)!==null&&u!==void 0?u:cn.INFO,o);if(p&&!i.suppressOverrideMessage){var m=(l=new Error().stack)!==null&&l!==void 0?l:"<failed to generate stacktrace>";p.warn("Current logger will be overwritten from "+m),f.warn("Current logger will overwrite one already registered from "+m)}return wc("diag",f,r,!0)},"setLogger");r.setLogger=n,r.disable=function(){xc(nde,r)},r.createComponentLogger=function(o){return new cF(o)},r.verbose=t("verbose"),r.debug=t("debug"),r.info=t("info"),r.warn=t("warn"),r.error=t("error")}return a(e,"DiagAPI"),e.instance=function(){return this._instance||(this._instance=new e),this._instance},e})();function dF(e){return Symbol.for(e)}a(dF,"createContextKey");var ode=(function(){function e(t){var r=this;r._currentContext=t?new Map(t):new Map,r.getValue=function(n){return r._currentContext.get(n)},r.setValue=function(n,o){var i=new e(r._currentContext);return i._currentContext.set(n,o),i},r.deleteValue=function(n){var o=new e(r._currentContext);return o._currentContext.delete(n),o}}return a(e,"BaseContext"),e})(),pF=new ode;var ide=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],s;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(u){s={error:u}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i},ade=function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},mF=(function(){function e(){}return a(e,"NoopContextManager"),e.prototype.active=function(){return pF},e.prototype.with=function(t,r,n){for(var o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];return r.call.apply(r,ade([n],ide(o),!1))},e.prototype.bind=function(t,r){return r},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e})();var sde=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],s;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(u){s={error:u}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i},ude=function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},JC="context",cde=new mF,Lg=(function(){function e(){}return a(e,"ContextAPI"),e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(t){return wc(JC,t,Tc.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(t,r,n){for(var o,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];return(o=this._getContextManager()).with.apply(o,ude([t,r,n],sde(i),!1))},e.prototype.bind=function(t,r){return this._getContextManager().bind(t,r)},e.prototype._getContextManager=function(){return Fi(JC)||cde},e.prototype.disable=function(){this._getContextManager().disable(),xc(JC,Tc.instance())},e})();var Fg;(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(Fg||(Fg={}));var HC="0000000000000000",VC="00000000000000000000000000000000",fF={traceId:VC,spanId:HC,traceFlags:Fg.NONE};var $a=(function(){function e(t){t===void 0&&(t=fF),this._spanContext=t}return a(e,"NonRecordingSpan"),e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,r){return this},e.prototype.setAttributes=function(t){return this},e.prototype.addEvent=function(t,r){return this},e.prototype.addLink=function(t){return this},e.prototype.addLinks=function(t){return this},e.prototype.setStatus=function(t){return this},e.prototype.updateName=function(t){return this},e.prototype.end=function(t){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(t,r){},e})();var ZC=dF("OpenTelemetry Context Key SPAN");function Bg(e){return e.getValue(ZC)||void 0}a(Bg,"getSpan");function hF(){return Bg(Lg.getInstance().active())}a(hF,"getActiveSpan");function Dp(e,t){return e.setValue(ZC,t)}a(Dp,"setSpan");function gF(e){return e.deleteValue(ZC)}a(gF,"deleteSpan");function yF(e,t){return Dp(e,new $a(t))}a(yF,"setSpanContext");function Jg(e){var t;return(t=Bg(e))===null||t===void 0?void 0:t.spanContext()}a(Jg,"getSpanContext");var lde=/^([0-9a-f]{32})$/i,dde=/^[0-9a-f]{16}$/i;function pde(e){return lde.test(e)&&e!==VC}a(pde,"isValidTraceId");function mde(e){return dde.test(e)&&e!==HC}a(mde,"isValidSpanId");function Hg(e){return pde(e.traceId)&&mde(e.spanId)}a(Hg,"isSpanContextValid");function vF(e){return new $a(e)}a(vF,"wrapSpanContext");var KC=Lg.getInstance(),Vg=(function(){function e(){}return a(e,"NoopTracer"),e.prototype.startSpan=function(t,r,n){n===void 0&&(n=KC.active());var o=!!r?.root;if(o)return new $a;var i=n&&Jg(n);return fde(i)&&Hg(i)?new $a(i):new $a},e.prototype.startActiveSpan=function(t,r,n,o){var i,s,u;if(!(arguments.length<2)){arguments.length===2?u=r:arguments.length===3?(i=r,u=n):(i=r,s=n,u=o);var l=s??KC.active(),d=this.startSpan(t,i,l),p=Dp(l,d);return KC.with(p,u,void 0,d)}},e})();function fde(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}a(fde,"isSpanContext");var hde=new Vg,_F=(function(){function e(t,r,n,o){this._provider=t,this.name=r,this.version=n,this.options=o}return a(e,"ProxyTracer"),e.prototype.startSpan=function(t,r,n){return this._getTracer().startSpan(t,r,n)},e.prototype.startActiveSpan=function(t,r,n,o){var i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):hde},e})();var bF=(function(){function e(){}return a(e,"NoopTracerProvider"),e.prototype.getTracer=function(t,r,n){return new Vg},e})();var gde=new bF,GC=(function(){function e(){}return a(e,"ProxyTracerProvider"),e.prototype.getTracer=function(t,r,n){var o;return(o=this.getDelegateTracer(t,r,n))!==null&&o!==void 0?o:new _F(this,t,r,n)},e.prototype.getDelegate=function(){var t;return(t=this._delegate)!==null&&t!==void 0?t:gde},e.prototype.setDelegate=function(t){this._delegate=t},e.prototype.getDelegateTracer=function(t,r,n){var o;return(o=this._delegate)===null||o===void 0?void 0:o.getTracer(t,r,n)},e})();var Ec;(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(Ec||(Ec={}));var WC="trace",SF=(function(){function e(){this._proxyTracerProvider=new GC,this.wrapSpanContext=vF,this.isSpanContextValid=Hg,this.deleteSpan=gF,this.getSpan=Bg,this.getActiveSpan=hF,this.getSpanContext=Jg,this.setSpan=Dp,this.setSpanContext=yF}return a(e,"TraceAPI"),e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(t){var r=wc(WC,this._proxyTracerProvider,Tc.instance());return r&&this._proxyTracerProvider.setDelegate(t),r},e.prototype.getTracerProvider=function(){return Fi(WC)||this._proxyTracerProvider},e.prototype.getTracer=function(t,r){return this.getTracerProvider().getTracer(t,r)},e.prototype.disable=function(){xc(WC,Tc.instance()),this._proxyTracerProvider=new GC},e})();var QC=SF.getInstance();var yde=Object.defineProperty,OF=a((e,t)=>{for(var r in t)yde(e,r,{get:t[r],enumerable:!0})},"__export");async function vde(e){return e===void 0?Promise.resolve():new Promise(t=>setTimeout(t,e))}a(vde,"delay");var YC="AI_RetryError",AF=`vercel.ai.error.${YC}`,_de=Symbol.for(AF),CF,wF=class extends _t{static{a(this,"RetryError")}constructor({message:e,reason:t,errors:r}){super({name:YC,message:e}),this[CF]=!0,this.reason=t,this.errors=r,this.lastError=r[r.length-1]}static isInstance(e){return _t.hasMarker(e,AF)}static isRetryError(e){return e instanceof Error&&e.name===YC&&typeof e.reason=="string"&&Array.isArray(e.errors)}toJSON(){return{name:this.name,message:this.message,reason:this.reason,lastError:this.lastError,errors:this.errors}}};CF=_de;var bde=a(({maxRetries:e=2,initialDelayInMs:t=2e3,backoffFactor:r=2}={})=>async n=>RF(n,{maxRetries:e,delayInMs:t,backoffFactor:r}),"retryWithExponentialBackoff");async function RF(e,{maxRetries:t,delayInMs:r,backoffFactor:n},o=[]){try{return await e()}catch(i){if(nF(i)||t===0)throw i;let s=rF(i),u=[...o,i],l=u.length;if(l>t)throw new wF({message:`Failed after ${l} attempts. Last error: ${s}`,reason:"maxRetriesExceeded",errors:u});if(i instanceof Error&&J4.isAPICallError(i)&&i.isRetryable===!0&&l<=t)return await vde(r),RF(e,{maxRetries:t,delayInMs:n*r,backoffFactor:n},u);throw l===1?i:new wF({message:`Failed after ${l} attempts with non-retryable error: '${s}'`,reason:"errorNotRetryable",errors:u})}}a(RF,"_retryWithExponentialBackoff");function e1({operationId:e,telemetry:t}){return{"operation.name":`${e}${t?.functionId!=null?` ${t.functionId}`:""}`,"resource.name":t?.functionId,"ai.operationId":e,"ai.telemetry.functionId":t?.functionId}}a(e1,"assembleOperationName");function Sde({model:e,settings:t,telemetry:r,headers:n}){var o;return{"ai.model.provider":e.provider,"ai.model.id":e.modelId,...Object.entries(t).reduce((i,[s,u])=>(i[`ai.settings.${s}`]=u,i),{}),...Object.entries((o=r?.metadata)!=null?o:{}).reduce((i,[s,u])=>(i[`ai.telemetry.metadata.${s}`]=u,i),{}),...Object.entries(n??{}).reduce((i,[s,u])=>(u!==void 0&&(i[`ai.request.headers.${s}`]=u),i),{})}}a(Sde,"getBaseTelemetryAttributes");var wde={startSpan(){return Zg},startActiveSpan(e,t,r,n){if(typeof t=="function")return t(Zg);if(typeof r=="function")return r(Zg);if(typeof n=="function")return n(Zg)}},Zg={spanContext(){return xde},setAttribute(){return this},setAttributes(){return this},addEvent(){return this},addLink(){return this},addLinks(){return this},setStatus(){return this},updateName(){return this},end(){return this},isRecording(){return!1},recordException(){return this}},xde={traceId:"",spanId:"",traceFlags:0};function Tde({isEnabled:e=!1,tracer:t}={}){return e?t||QC.getTracer("ai"):wde}a(Tde,"getTracer");function t1({name:e,tracer:t,attributes:r,fn:n,endWhenDone:o=!0}){return t.startActiveSpan(e,{attributes:r},async i=>{try{let s=await n(i);return o&&i.end(),s}catch(s){try{s instanceof Error?(i.recordException({name:s.name,message:s.message,stack:s.stack}),i.setStatus({code:Ec.ERROR,message:s.message})):i.setStatus({code:Ec.ERROR})}finally{i.end()}throw s}})}a(t1,"recordSpan");function kc({telemetry:e,attributes:t}){return e?.isEnabled!==!0?{}:Object.entries(t).reduce((r,[n,o])=>{if(o===void 0)return r;if(typeof o=="object"&&"input"in o&&typeof o.input=="function"){if(e?.recordInputs===!1)return r;let i=o.input();return i===void 0?r:{...r,[n]:i}}if(typeof o=="object"&&"output"in o&&typeof o.output=="function"){if(e?.recordOutputs===!1)return r;let i=o.output();return i===void 0?r:{...r,[n]:i}}return{...r,[n]:o}},{})}a(kc,"selectTelemetryAttributes");var r1="AI_DownloadError",$F=`vercel.ai.error.${r1}`,Ede=Symbol.for($F),NF,XC=class extends _t{static{a(this,"DownloadError")}constructor({url:e,statusCode:t,statusText:r,cause:n,message:o=n==null?`Failed to download ${e}: ${t} ${r}`:`Failed to download ${e}: ${n}`}){super({name:r1,message:o,cause:n}),this[NF]=!0,this.url=e,this.statusCode=t,this.statusText=r}static isInstance(e){return _t.hasMarker(e,$F)}static isDownloadError(e){return e instanceof Error&&e.name===r1&&typeof e.url=="string"&&(e.statusCode==null||typeof e.statusCode=="number")&&(e.statusText==null||typeof e.statusText=="string")}toJSON(){return{name:this.name,message:this.message,url:this.url,statusCode:this.statusCode,statusText:this.statusText,cause:this.cause}}};NF=Ede;async function kde({url:e,fetchImplementation:t=fetch}){var r;let n=e.toString();try{let o=await t(n);if(!o.ok)throw new XC({url:n,statusCode:o.status,statusText:o.statusText});return{data:new Uint8Array(await o.arrayBuffer()),mimeType:(r=o.headers.get("content-type"))!=null?r:void 0}}catch(o){throw XC.isInstance(o)?o:new XC({url:n,cause:o})}}a(kde,"download");var Pde=[{mimeType:"image/gif",bytes:[71,73,70]},{mimeType:"image/png",bytes:[137,80,78,71]},{mimeType:"image/jpeg",bytes:[255,216]},{mimeType:"image/webp",bytes:[82,73,70,70]}];function Ide(e){for(let{bytes:t,mimeType:r}of Pde)if(e.length>=t.length&&t.every((n,o)=>e[o]===n))return r}a(Ide,"detectImageMimeType");var n1="AI_InvalidDataContentError",zF=`vercel.ai.error.${n1}`,Ode=Symbol.for(zF),jF,xF=class extends _t{static{a(this,"InvalidDataContentError")}constructor({content:e,cause:t,message:r=`Invalid data content. Expected a base64 string, Uint8Array, ArrayBuffer, or Buffer, but got ${typeof e}.`}){super({name:n1,message:r,cause:t}),this[jF]=!0,this.content=e}static isInstance(e){return _t.hasMarker(e,zF)}static isInvalidDataContentError(e){return e instanceof Error&&e.name===n1&&e.content!=null}toJSON(){return{name:this.name,message:this.message,stack:this.stack,cause:this.cause,content:this.content}}};jF=Ode;var DF=c.union([c.string(),c.instanceof(Uint8Array),c.instanceof(ArrayBuffer),c.custom(e=>{var t,r;return(r=(t=globalThis.Buffer)==null?void 0:t.isBuffer(e))!=null?r:!1},{message:"Must be a Buffer"})]);function Ade(e){return typeof e=="string"?e:e instanceof ArrayBuffer?BC(new Uint8Array(e)):BC(e)}a(Ade,"convertDataContentToBase64String");function Kg(e){if(e instanceof Uint8Array)return e;if(typeof e=="string")try{return iF(e)}catch(t){throw new xF({message:"Invalid data content. Content string is not a base64-encoded media.",content:e,cause:t})}if(e instanceof ArrayBuffer)return new Uint8Array(e);throw new xF({content:e})}a(Kg,"convertDataContentToUint8Array");function Cde(e){try{return new TextDecoder().decode(e)}catch{throw new Error("Error decoding Uint8Array to text")}}a(Cde,"convertUint8ArrayToText");var o1="AI_InvalidMessageRoleError",MF=`vercel.ai.error.${o1}`,Rde=Symbol.for(MF),qF,$de=class extends _t{static{a(this,"InvalidMessageRoleError")}constructor({role:e,message:t=`Invalid message role: '${e}'. Must be one of: "system", "user", "assistant", "tool".`}){super({name:o1,message:t}),this[qF]=!0,this.role=e}static isInstance(e){return _t.hasMarker(e,MF)}static isInvalidMessageRoleError(e){return e instanceof Error&&e.name===o1&&typeof e.role=="string"}toJSON(){return{name:this.name,message:this.message,stack:this.stack,role:this.role}}};qF=Rde;function Nde(e){try{let[t,r]=e.split(",");return{mimeType:t.split(";")[0].split(":")[1],base64Content:r}}catch{return{mimeType:void 0,base64Content:void 0}}}a(Nde,"splitDataUrl");async function zde({prompt:e,modelSupportsImageUrls:t=!0,modelSupportsUrl:r=a(()=>!1,"modelSupportsUrl"),downloadImplementation:n=kde}){let o=await Dde(e.messages,n,t,r);return[...e.system!=null?[{role:"system",content:e.system}]:[],...e.messages.map(i=>jde(i,o))]}a(zde,"convertToLanguageModelPrompt");function jde(e,t){let r=e.role;switch(r){case"system":return{role:"system",content:e.content,providerMetadata:e.experimental_providerMetadata};case"user":return typeof e.content=="string"?{role:"user",content:[{type:"text",text:e.content}],providerMetadata:e.experimental_providerMetadata}:{role:"user",content:e.content.map(n=>Mde(n,t)).filter(n=>n.type!=="text"||n.text!==""),providerMetadata:e.experimental_providerMetadata};case"assistant":return typeof e.content=="string"?{role:"assistant",content:[{type:"text",text:e.content}],providerMetadata:e.experimental_providerMetadata}:{role:"assistant",content:e.content.filter(n=>n.type!=="text"||n.text!=="").map(n=>{let{experimental_providerMetadata:o,...i}=n;return{...i,providerMetadata:o}}),providerMetadata:e.experimental_providerMetadata};case"tool":return{role:"tool",content:e.content.map(n=>({type:"tool-result",toolCallId:n.toolCallId,toolName:n.toolName,result:n.result,content:n.experimental_content,isError:n.isError,providerMetadata:n.experimental_providerMetadata})),providerMetadata:e.experimental_providerMetadata};default:{let n=r;throw new $de({role:n})}}}a(jde,"convertToLanguageModelMessage");async function Dde(e,t,r,n){let o=e.filter(s=>s.role==="user").map(s=>s.content).filter(s=>Array.isArray(s)).flat().filter(s=>s.type==="image"||s.type==="file").filter(s=>!(s.type==="image"&&r===!0)).map(s=>s.type==="image"?s.image:s.data).map(s=>typeof s=="string"&&(s.startsWith("http:")||s.startsWith("https:"))?new URL(s):s).filter(s=>s instanceof URL).filter(s=>!n(s)),i=await Promise.all(o.map(async s=>({url:s,data:await t({url:s})})));return Object.fromEntries(i.map(({url:s,data:u})=>[s.toString(),u]))}a(Dde,"downloadAssets");function Mde(e,t){if(e.type==="text")return{type:"text",text:e.text,providerMetadata:e.experimental_providerMetadata};let r=e.mimeType,n,o,i,s=e.type;switch(s){case"image":n=e.image;break;case"file":n=e.data;break;default:throw new Error(`Unsupported part type: ${s}`)}try{o=typeof n=="string"?new URL(n):n}catch{o=n}if(o instanceof URL)if(o.protocol==="data:"){let{mimeType:u,base64Content:l}=Nde(o.toString());if(u==null||l==null)throw new Error(`Invalid data URL format in part ${s}`);r=u,i=Kg(l)}else{let u=t[o.toString()];u?(i=u.data,r??(r=u.mimeType)):i=o}else i=Kg(o);switch(s){case"image":return r==null&&i instanceof Uint8Array&&(r=Ide(i)),{type:"image",image:i,mimeType:r,providerMetadata:e.experimental_providerMetadata};case"file":if(r==null)throw new Error("Mime type is missing for file part");return{type:"file",data:i instanceof Uint8Array?Ade(i):i,mimeType:r,providerMetadata:e.experimental_providerMetadata}}}a(Mde,"convertPartToLanguageModelPart");var i1="AI_InvalidArgumentError",UF=`vercel.ai.error.${i1}`,qde=Symbol.for(UF),LF,Ao=class extends _t{static{a(this,"InvalidArgumentError")}constructor({parameter:e,value:t,message:r}){super({name:i1,message:`Invalid argument for parameter ${e}: ${r}`}),this[LF]=!0,this.parameter=e,this.value=t}static isInstance(e){return _t.hasMarker(e,UF)}static isInvalidArgumentError(e){return e instanceof Error&&e.name===i1&&typeof e.parameter=="string"&&typeof e.value=="string"}toJSON(){return{name:this.name,message:this.message,stack:this.stack,parameter:this.parameter,value:this.value}}};LF=qde;function Ude({maxTokens:e,temperature:t,topP:r,topK:n,presencePenalty:o,frequencyPenalty:i,stopSequences:s,seed:u,maxRetries:l}){if(e!=null){if(!Number.isInteger(e))throw new Ao({parameter:"maxTokens",value:e,message:"maxTokens must be an integer"});if(e<1)throw new Ao({parameter:"maxTokens",value:e,message:"maxTokens must be >= 1"})}if(t!=null&&typeof t!="number")throw new Ao({parameter:"temperature",value:t,message:"temperature must be a number"});if(r!=null&&typeof r!="number")throw new Ao({parameter:"topP",value:r,message:"topP must be a number"});if(n!=null&&typeof n!="number")throw new Ao({parameter:"topK",value:n,message:"topK must be a number"});if(o!=null&&typeof o!="number")throw new Ao({parameter:"presencePenalty",value:o,message:"presencePenalty must be a number"});if(i!=null&&typeof i!="number")throw new Ao({parameter:"frequencyPenalty",value:i,message:"frequencyPenalty must be a number"});if(u!=null&&!Number.isInteger(u))throw new Ao({parameter:"seed",value:u,message:"seed must be an integer"});if(l!=null){if(!Number.isInteger(l))throw new Ao({parameter:"maxRetries",value:l,message:"maxRetries must be an integer"});if(l<0)throw new Ao({parameter:"maxRetries",value:l,message:"maxRetries must be >= 0"})}return{maxTokens:e,temperature:t??0,topP:r,topK:n,presencePenalty:o,frequencyPenalty:i,stopSequences:s!=null&&s.length>0?s:void 0,seed:u,maxRetries:l??2}}a(Ude,"prepareCallSettings");var a1=c.lazy(()=>c.union([c.null(),c.string(),c.number(),c.boolean(),c.record(c.string(),a1),c.array(a1)])),Na=c.record(c.string(),c.record(c.string(),a1)),Lde=c.array(c.union([c.object({type:c.literal("text"),text:c.string()}),c.object({type:c.literal("image"),data:c.string(),mimeType:c.string().optional()})])),FF=c.object({type:c.literal("text"),text:c.string(),experimental_providerMetadata:Na.optional()}),Fde=c.object({type:c.literal("image"),image:c.union([DF,c.instanceof(URL)]),mimeType:c.string().optional(),experimental_providerMetadata:Na.optional()}),Bde=c.object({type:c.literal("file"),data:c.union([DF,c.instanceof(URL)]),mimeType:c.string(),experimental_providerMetadata:Na.optional()}),Jde=c.object({type:c.literal("tool-call"),toolCallId:c.string(),toolName:c.string(),args:c.unknown()}),Hde=c.object({type:c.literal("tool-result"),toolCallId:c.string(),toolName:c.string(),result:c.unknown(),content:Lde.optional(),isError:c.boolean().optional(),experimental_providerMetadata:Na.optional()}),Vde=c.object({role:c.literal("system"),content:c.string(),experimental_providerMetadata:Na.optional()}),Zde=c.object({role:c.literal("user"),content:c.union([c.string(),c.array(c.union([FF,Fde,Bde]))]),experimental_providerMetadata:Na.optional()}),Kde=c.object({role:c.literal("assistant"),content:c.union([c.string(),c.array(c.union([FF,Jde]))]),experimental_providerMetadata:Na.optional()}),Gde=c.object({role:c.literal("tool"),content:c.array(Hde),experimental_providerMetadata:Na.optional()}),Wde=c.union([Vde,Zde,Kde,Gde]);function Qde(e){if(!Array.isArray(e))return"other";if(e.length===0)return"messages";let t=e.map(Xde);return t.some(r=>r==="has-ui-specific-parts")?"ui-messages":t.every(r=>r==="has-core-specific-parts"||r==="message")?"messages":"other"}a(Qde,"detectPromptType");function Xde(e){return typeof e=="object"&&e!==null&&(e.role==="function"||e.role==="data"||"toolInvocations"in e||"experimental_attachments"in e)?"has-ui-specific-parts":typeof e=="object"&&e!==null&&"content"in e&&(Array.isArray(e.content)||"experimental_providerMetadata"in e)?"has-core-specific-parts":typeof e=="object"&&e!==null&&"role"in e&&"content"in e&&typeof e.content=="string"&&["system","user","assistant","tool"].includes(e.role)?"message":"other"}a(Xde,"detectSingleMessageCharacteristics");function Yde(e){var t,r,n;let o=[];for(let i of e){let s;try{s=new URL(i.url)}catch{throw new Error(`Invalid URL: ${i.url}`)}switch(s.protocol){case"http:":case"https:":{if((t=i.contentType)!=null&&t.startsWith("image/"))o.push({type:"image",image:s});else{if(!i.contentType)throw new Error("If the attachment is not an image, it must specify a content type");o.push({type:"file",data:s,mimeType:i.contentType})}break}case"data:":{let u,l,d;try{[u,l]=i.url.split(","),d=u.split(";")[0].split(":")[1]}catch{throw new Error(`Error processing data URL: ${i.url}`)}if(d==null||l==null)throw new Error(`Invalid data URL format: ${i.url}`);if((r=i.contentType)!=null&&r.startsWith("image/"))o.push({type:"image",image:Kg(l)});else if((n=i.contentType)!=null&&n.startsWith("text/"))o.push({type:"text",text:Cde(Kg(l))});else{if(!i.contentType)throw new Error("If the attachment is not an image or text, it must specify a content type");o.push({type:"file",data:l,mimeType:i.contentType})}break}default:throw new Error(`Unsupported URL protocol: ${s.protocol}`)}}return o}a(Yde,"attachmentsToParts");var BF="AI_MessageConversionError",JF=`vercel.ai.error.${BF}`,epe=Symbol.for(JF),HF,TF=class extends _t{static{a(this,"MessageConversionError")}constructor({originalMessage:e,message:t}){super({name:BF,message:t}),this[HF]=!0,this.originalMessage=e}static isInstance(e){return _t.hasMarker(e,JF)}};HF=epe;function c1(e,t){var r;let n=(r=t?.tools)!=null?r:{},o=[];for(let i of e){let{role:s,content:u,toolInvocations:l,experimental_attachments:d}=i;switch(s){case"system":{o.push({role:"system",content:u});break}case"user":{o.push({role:"user",content:d?[{type:"text",text:u},...Yde(d)]:u});break}case"assistant":{if(l==null){o.push({role:"assistant",content:u});break}o.push({role:"assistant",content:[{type:"text",text:u},...l.map(({toolCallId:p,toolName:f,args:m})=>({type:"tool-call",toolCallId:p,toolName:f,args:m}))]}),o.push({role:"tool",content:l.map(p=>{if(!("result"in p))throw new TF({originalMessage:i,message:"ToolInvocation must have a result: "+JSON.stringify(p)});let{toolCallId:f,toolName:m,result:y}=p,g=n[m];return g?.experimental_toToolResultContent!=null?{type:"tool-result",toolCallId:f,toolName:m,result:g.experimental_toToolResultContent(y),experimental_content:g.experimental_toToolResultContent(y)}:{type:"tool-result",toolCallId:f,toolName:m,result:y}})});break}case"function":case"data":case"tool":break;default:{let p=s;throw new TF({originalMessage:i,message:`Unsupported role: ${p}`})}}}return o}a(c1,"convertToCoreMessages");function tpe({prompt:e,tools:t}){if(e.prompt==null&&e.messages==null)throw new ks({prompt:e,message:"prompt or messages must be defined"});if(e.prompt!=null&&e.messages!=null)throw new ks({prompt:e,message:"prompt and messages cannot be defined at the same time"});if(e.system!=null&&typeof e.system!="string")throw new ks({prompt:e,message:"system must be a string"});if(e.prompt!=null){if(typeof e.prompt!="string")throw new ks({prompt:e,message:"prompt must be a string"});return{type:"prompt",system:e.system,messages:[{role:"user",content:e.prompt}]}}if(e.messages!=null){let r=Qde(e.messages);if(r==="other")throw new ks({prompt:e,message:"messages must be an array of CoreMessage or UIMessage"});let n=r==="ui-messages"?c1(e.messages,{tools:t}):e.messages,o=$p({value:n,schema:c.array(Wde)});if(!o.success)throw new ks({prompt:e,message:"messages must be an array of CoreMessage or UIMessage",cause:o.error});return{type:"messages",messages:n,system:e.system}}throw new Error("unreachable")}a(tpe,"standardizePrompt");function rpe(e){return{promptTokens:e.promptTokens,completionTokens:e.completionTokens,totalTokens:e.promptTokens+e.completionTokens}}a(rpe,"calculateLanguageModelUsage");function Gg(e,{contentType:t,dataStreamVersion:r}){var n;let o=new Headers((n=e?.headers)!=null?n:{});return o.has("Content-Type")||o.set("Content-Type",t),r!==void 0&&o.set("X-Vercel-AI-Data-Stream",r),o}a(Gg,"prepareResponseHeaders");var npe="AI_NoObjectGeneratedError",ope=`vercel.ai.error.${npe}`,ipe=Symbol.for(ope),ape;ape=ipe;function EF(e,t){let r=e.pipeThrough(new TransformStream(t));return r[Symbol.asyncIterator]=()=>{let n=r.getReader();return{async next(){let{done:o,value:i}=await n.read();return o?{done:!0,value:void 0}:{done:!1,value:i}}}},r}a(EF,"createAsyncIterableStream");var zWe=Ui({prefix:"aiobj",size:24});function Xo(){let e,t;return{promise:new Promise((n,o)=>{e=n,t=o}),resolve:e,reject:t}}a(Xo,"createResolvablePromise");function spe(){var e,t;return(t=(e=globalThis?.performance)==null?void 0:e.now())!=null?t:Date.now()}a(spe,"now");function kF(e,{contentType:t,dataStreamVersion:r}){let n={};if(e?.headers!=null)for(let[o,i]of Object.entries(e.headers))n[o]=i;return n["Content-Type"]==null&&(n["Content-Type"]=t),r!==void 0&&(n["X-Vercel-AI-Data-Stream"]=r),n}a(kF,"prepareOutgoingHttpHeaders");function PF({response:e,status:t,statusText:r,headers:n,stream:o}){e.writeHead(t??200,r,n);let i=o.getReader();a(async()=>{try{for(;;){let{done:u,value:l}=await i.read();if(u)break;e.write(l)}}catch(u){throw u}finally{e.end()}},"read")()}a(PF,"writeToServerResponse");var DWe=Ui({prefix:"aiobj",size:24});var s1="AI_InvalidToolArgumentsError",VF=`vercel.ai.error.${s1}`,upe=Symbol.for(VF),ZF,cpe=class extends _t{static{a(this,"InvalidToolArgumentsError")}constructor({toolArgs:e,toolName:t,cause:r,message:n=`Invalid arguments for tool ${t}: ${qg(r)}`}){super({name:s1,message:n,cause:r}),this[ZF]=!0,this.toolArgs=e,this.toolName=t}static isInstance(e){return _t.hasMarker(e,VF)}static isInvalidToolArgumentsError(e){return e instanceof Error&&e.name===s1&&typeof e.toolName=="string"&&typeof e.toolArgs=="string"}toJSON(){return{name:this.name,message:this.message,cause:this.cause,stack:this.stack,toolName:this.toolName,toolArgs:this.toolArgs}}};ZF=upe;var u1="AI_NoSuchToolError",KF=`vercel.ai.error.${u1}`,lpe=Symbol.for(KF),GF,Wg=class extends _t{static{a(this,"NoSuchToolError")}constructor({toolName:e,availableTools:t=void 0,message:r=`Model tried to call unavailable tool '${e}'. ${t===void 0?"No tools are available.":`Available tools: ${t.join(", ")}.`}`}){super({name:u1,message:r}),this[GF]=!0,this.toolName=e,this.availableTools=t}static isInstance(e){return _t.hasMarker(e,KF)}static isNoSuchToolError(e){return e instanceof Error&&e.name===u1&&"toolName"in e&&e.toolName!=null&&typeof e.name=="string"}toJSON(){return{name:this.name,message:this.message,stack:this.stack,toolName:this.toolName,availableTools:this.availableTools}}};GF=lpe;function dpe(e){return e!=null&&Object.keys(e).length>0}a(dpe,"isNonEmptyObject");function ppe({tools:e,toolChoice:t,activeTools:r}){return dpe(e)?{tools:(r!=null?Object.entries(e).filter(([o])=>r.includes(o)):Object.entries(e)).map(([o,i])=>{let s=i.type;switch(s){case void 0:case"function":return{type:"function",name:o,description:i.description,parameters:Mg(i.parameters).jsonSchema};case"provider-defined":return{type:"provider-defined",name:o,id:i.id,args:i.args};default:{let u=s;throw new Error(`Unsupported tool type: ${u}`)}}}),toolChoice:t==null?{type:"auto"}:typeof t=="string"?{type:t}:{type:"tool",toolName:t.toolName}}:{tools:void 0,toolChoice:void 0}}a(ppe,"prepareToolsAndToolChoice");var mpe=/^([\s\S]*?)(\s+)(\S*)$/;function fpe(e){let t=e.match(mpe);return t?{prefix:t[1],whitespace:t[2],suffix:t[3]}:void 0}a(fpe,"splitOnLastWhitespace");function hpe({toolCall:e,tools:t}){let r=e.toolName;if(t==null)throw new Wg({toolName:e.toolName});let n=t[r];if(n==null)throw new Wg({toolName:e.toolName,availableTools:Object.keys(t)});let o=Mg(n.parameters),i=e.args.trim()===""?$p({value:{},schema:o}):FC({text:e.args,schema:o});if(i.success===!1)throw new cpe({toolName:r,toolArgs:e.args,cause:i.error});return{type:"tool-call",toolCallId:e.toolCallId,toolName:r,args:i.value}}a(hpe,"parseToolCall");function gpe({text:e="",tools:t,toolCalls:r,toolResults:n}){let o=[];return o.push({role:"assistant",content:[{type:"text",text:e},...r]}),n.length>0&&o.push({role:"tool",content:n.map(i=>{let s=t[i.toolName];return s?.experimental_toToolResultContent!=null?{type:"tool-result",toolCallId:i.toolCallId,toolName:i.toolName,result:s.experimental_toToolResultContent(i.result),experimental_content:s.experimental_toToolResultContent(i.result)}:{type:"tool-result",toolCallId:i.toolCallId,toolName:i.toolName,result:i.result}})}),o}a(gpe,"toResponseMessages");var JWe=Ui({prefix:"aitxt",size:24});function ype(){let e=[],t=null,r=!1,n=a(async()=>{if(r&&e.length===0){t?.close();return}if(e.length!==0)try{let{value:o,done:i}=await e[0].read();i?(e.shift(),e.length>0?await n():r&&t?.close()):t?.enqueue(o)}catch(o){t?.error(o),e.shift(),r&&e.length===0&&t?.close()}},"processPull");return{stream:new ReadableStream({start(o){t=o},pull:n,async cancel(){for(let o of e)await o.cancel();e=[],r=!0}}),addStream:a(o=>{if(r)throw new Error("Cannot add inner stream: outer stream is closed");e.push(o.getReader())},"addStream"),close:a(()=>{r=!0,e.length===0&&t?.close()},"close")}}a(ype,"createStitchableStream");function l1(e,t){let r=e.getReader(),n=t.getReader(),o,i,s=!1,u=!1;async function l(p){try{o==null&&(o=r.read());let f=await o;o=void 0,f.done?p.close():p.enqueue(f.value)}catch(f){p.error(f)}}a(l,"readStream1");async function d(p){try{i==null&&(i=n.read());let f=await i;i=void 0,f.done?p.close():p.enqueue(f.value)}catch(f){p.error(f)}}return a(d,"readStream2"),new ReadableStream({async pull(p){try{if(s){await d(p);return}if(u){await l(p);return}o==null&&(o=r.read()),i==null&&(i=n.read());let{result:f,reader:m}=await Promise.race([o.then(y=>({result:y,reader:r})),i.then(y=>({result:y,reader:n}))]);f.done||p.enqueue(f.value),m===r?(o=void 0,f.done&&(await d(p),s=!0)):(i=void 0,f.done&&(u=!0,await l(p)))}catch(f){p.error(f)}},cancel(){r.cancel(),n.cancel()}})}a(l1,"mergeStreams");function vpe({tools:e,generatorStream:t,toolCallStreaming:r,tracer:n,telemetry:o,abortSignal:i}){let s=null,u=new ReadableStream({start(g){s=g}}),l={},d=new Set,p=!1,f;function m(){p&&d.size===0&&(f!=null&&s.enqueue(f),s.close())}a(m,"attemptClose");let y=new TransformStream({transform(g,h){let v=g.type;switch(v){case"text-delta":case"response-metadata":case"error":{h.enqueue(g);break}case"tool-call-delta":{r&&(l[g.toolCallId]||(h.enqueue({type:"tool-call-streaming-start",toolCallId:g.toolCallId,toolName:g.toolName}),l[g.toolCallId]=!0),h.enqueue({type:"tool-call-delta",toolCallId:g.toolCallId,toolName:g.toolName,argsTextDelta:g.argsTextDelta}));break}case"tool-call":{let S=g.toolName;if(e==null){s.enqueue({type:"error",error:new Wg({toolName:g.toolName})});break}let b=e[S];if(b==null){s.enqueue({type:"error",error:new Wg({toolName:g.toolName,availableTools:Object.keys(e)})});break}try{let w=hpe({toolCall:g,tools:e});if(h.enqueue(w),b.execute!=null){let k=wC();d.add(k),t1({name:"ai.toolCall",attributes:kc({telemetry:o,attributes:{...e1({operationId:"ai.toolCall",telemetry:o}),"ai.toolCall.name":w.toolName,"ai.toolCall.id":w.toolCallId,"ai.toolCall.args":{output:a(()=>JSON.stringify(w.args),"output")}}}),tracer:n,fn:a(async $=>b.execute(w.args,{abortSignal:i}).then(C=>{s.enqueue({...w,type:"tool-result",result:C}),d.delete(k),m();try{$.setAttributes(kc({telemetry:o,attributes:{"ai.toolCall.result":{output:a(()=>JSON.stringify(C),"output")}}}))}catch{}},C=>{s.enqueue({type:"error",error:C}),d.delete(k),m()}),"fn")})}}catch(w){s.enqueue({type:"error",error:w})}break}case"finish":{f={type:"finish",finishReason:g.finishReason,logprobs:g.logprobs,usage:rpe(g.usage),experimental_providerMetadata:g.providerMetadata};break}default:{let S=v;throw new Error(`Unhandled chunk type: ${S}`)}}},flush(){p=!0,m()}});return new ReadableStream({async start(g){return Promise.all([t.pipeThrough(y).pipeTo(new WritableStream({write(h){g.enqueue(h)},close(){}})),u.pipeTo(new WritableStream({write(h){g.enqueue(h)},close(){g.close()}}))])}})}a(vpe,"runToolsTransformation");var _pe=Ui({prefix:"aitxt",size:24});async function WF({model:e,tools:t,toolChoice:r,system:n,prompt:o,messages:i,maxRetries:s,abortSignal:u,headers:l,maxToolRoundtrips:d=0,maxSteps:p=d!=null?d+1:1,experimental_continueSteps:f=!1,experimental_telemetry:m,experimental_providerMetadata:y,experimental_toolCallStreaming:g=!1,experimental_activeTools:h,onChunk:v,onFinish:S,onStepFinish:b,_internal:{now:w=spe,generateId:k=_pe,currentDate:$=a(()=>new Date,"currentDate")}={},...C}){if(p<1)throw new Ao({parameter:"maxSteps",value:p,message:"maxSteps must be at least 1"});let A=Sde({model:e,telemetry:m,headers:l,settings:{...C,maxRetries:s}}),R=Tde(m),O=tpe({prompt:{system:n,prompt:o,messages:i},tools:t});return t1({name:"ai.streamText",attributes:kc({telemetry:m,attributes:{...e1({operationId:"ai.streamText",telemetry:m}),...A,"ai.prompt":{input:a(()=>JSON.stringify({system:n,prompt:o,messages:i}),"input")},"ai.settings.maxSteps":p}}),tracer:R,endWhenDone:!1,fn:a(async z=>{let D=bde({maxRetries:s}),X=a(async({responseMessages:ke})=>{let et=ke.length===0?O.type:"messages",Ke=await zde({prompt:{type:et,system:O.system,messages:[...O.messages,...ke]},modelSupportsImageUrls:e.supportsImageUrls,modelSupportsUrl:e.supportsUrl}),Q={type:"regular",...ppe({tools:t,toolChoice:r,activeTools:h})},{result:{stream:Re,warnings:ve,rawResponse:F,request:We},doStreamSpan:It,startTimestampMs:Nt}=await D(()=>t1({name:"ai.streamText.doStream",attributes:kc({telemetry:m,attributes:{...e1({operationId:"ai.streamText.doStream",telemetry:m}),...A,"ai.prompt.format":{input:a(()=>et,"input")},"ai.prompt.messages":{input:a(()=>JSON.stringify(Ke),"input")},"ai.prompt.tools":{input:a(()=>{var vn;return(vn=Q.tools)==null?void 0:vn.map(Xi=>JSON.stringify(Xi))},"input")},"ai.prompt.toolChoice":{input:a(()=>Q.toolChoice!=null?JSON.stringify(Q.toolChoice):void 0,"input")},"gen_ai.system":e.provider,"gen_ai.request.model":e.modelId,"gen_ai.request.frequency_penalty":C.frequencyPenalty,"gen_ai.request.max_tokens":C.maxTokens,"gen_ai.request.presence_penalty":C.presencePenalty,"gen_ai.request.stop_sequences":C.stopSequences,"gen_ai.request.temperature":C.temperature,"gen_ai.request.top_k":C.topK,"gen_ai.request.top_p":C.topP}}),tracer:R,endWhenDone:!1,fn:a(async vn=>({startTimestampMs:w(),doStreamSpan:vn,result:await e.doStream({mode:Q,...Ude(C),inputFormat:et,prompt:Ke,providerMetadata:y,abortSignal:u,headers:l})}),"fn")}));return{result:{stream:vpe({tools:t,generatorStream:Re,toolCallStreaming:g,tracer:R,telemetry:m,abortSignal:u}),warnings:ve,request:We??{},rawResponse:F},doStreamSpan:It,startTimestampMs:Nt}},"startStep"),{result:{stream:G,warnings:B,rawResponse:te,request:ne},doStreamSpan:ae,startTimestampMs:Se}=await X({responseMessages:[]});return new bpe({stream:G,warnings:B,rawResponse:te,request:ne,onChunk:v,onFinish:S,onStepFinish:b,rootSpan:z,doStreamSpan:ae,telemetry:m,startTimestampMs:Se,maxSteps:p,continueSteps:f,startStep:X,modelId:e.modelId,now:w,currentDate:$,generateId:k,tools:t})},"fn")})}a(WF,"streamText");var bpe=class{static{a(this,"DefaultStreamTextResult")}constructor({stream:e,warnings:t,rawResponse:r,request:n,onChunk:o,onFinish:i,onStepFinish:s,rootSpan:u,doStreamSpan:l,telemetry:d,startTimestampMs:p,maxSteps:f,continueSteps:m,startStep:y,modelId:g,now:h,currentDate:v,generateId:S,tools:b}){this.warnings=t,this.rawResponse=r;let{resolve:w,promise:k}=Xo();this.usage=k;let{resolve:$,promise:C}=Xo();this.finishReason=C;let{resolve:A,promise:R}=Xo();this.text=R;let{resolve:O,promise:z}=Xo();this.toolCalls=z;let{resolve:D,promise:X}=Xo();this.toolResults=X;let{resolve:G,promise:B}=Xo();this.steps=B;let{resolve:te,promise:ne}=Xo();this.experimental_providerMetadata=ne;let{resolve:ae,promise:Se}=Xo();this.request=Se;let{resolve:ke,promise:et}=Xo();this.response=et;let{resolve:Ke,promise:Q}=Xo();this.responseMessages=Q;let{stream:Re,addStream:ve,close:F}=ype();this.originalStream=Re;let We=[],It=this;function Nt({stream:vn,startTimestamp:Xi,doStreamSpan:hi,currentStep:ru,responseMessages:Or,usage:Uo={promptTokens:0,completionTokens:0,totalTokens:0},stepType:nu,previousStepText:Lm="",stepRequest:Yi,hasLeadingWhitespace:Fm}){let $n=[],Lo=[],Pr="unknown",tr={promptTokens:0,completionTokens:0,totalTokens:0},co,Bm=!0,Mr="",gi=nu==="continue"?Lm:"",_,x={id:S(),timestamp:v(),modelId:g},P="",L=!1,Z=!0,re=!1;async function me({controller:Ne,chunk:gt}){Ne.enqueue(gt),Mr+=gt.textDelta,gi+=gt.textDelta,L=!0,re=gt.textDelta.trimEnd()!==gt.textDelta,await o?.({chunk:gt})}a(me,"publishTextChunk"),ve(vn.pipeThrough(new TransformStream({async transform(Ne,gt){var bt,ut,Bt;if(Bm){let Vt=h()-Xi;Bm=!1,hi.addEvent("ai.stream.firstChunk",{"ai.response.msToFirstChunk":Vt,"ai.stream.msToFirstChunk":Vt}),hi.setAttributes({"ai.response.msToFirstChunk":Vt,"ai.stream.msToFirstChunk":Vt})}if(Ne.type==="text-delta"&&Ne.textDelta.length===0)return;let yi=Ne.type;switch(yi){case"text-delta":{if(m){let Vt=Z&&Fm?Ne.textDelta.trimStart():Ne.textDelta;if(Vt.length===0)break;Z=!1,P+=Vt;let ou=fpe(P);ou!=null&&(P=ou.suffix,await me({controller:gt,chunk:{type:"text-delta",textDelta:ou.prefix+ou.whitespace}}))}else await me({controller:gt,chunk:Ne});break}case"tool-call":{gt.enqueue(Ne),$n.push(Ne),await o?.({chunk:Ne});break}case"tool-result":{gt.enqueue(Ne),Lo.push(Ne),await o?.({chunk:Ne});break}case"response-metadata":{x={id:(bt=Ne.id)!=null?bt:x.id,timestamp:(ut=Ne.timestamp)!=null?ut:x.timestamp,modelId:(Bt=Ne.modelId)!=null?Bt:x.modelId};break}case"finish":{tr=Ne.usage,Pr=Ne.finishReason,co=Ne.experimental_providerMetadata,_=Ne.logprobs;let Vt=h()-Xi;hi.addEvent("ai.stream.finish"),hi.setAttributes({"ai.response.msToFinish":Vt,"ai.response.avgCompletionTokensPerSecond":1e3*tr.completionTokens/Vt});break}case"tool-call-streaming-start":case"tool-call-delta":{gt.enqueue(Ne),await o?.({chunk:Ne});break}case"error":{gt.enqueue(Ne),Pr="error";break}default:{let Vt=yi;throw new Error(`Unknown chunk type: ${Vt}`)}}},async flush(Ne){var gt;let bt=$n.length>0?JSON.stringify($n):void 0,ut="done";ru+1<f&&(m&&Pr==="length"&&$n.length===0?ut="continue":$n.length>0&&Lo.length===$n.length&&(ut="tool-result")),m&&P.length>0&&(ut!=="continue"||nu==="continue"&&!L)&&(await me({controller:Ne,chunk:{type:"text-delta",textDelta:P}}),P="");try{hi.setAttributes(kc({telemetry:d,attributes:{"ai.response.finishReason":Pr,"ai.response.text":{output:a(()=>Mr,"output")},"ai.response.toolCalls":{output:a(()=>bt,"output")},"ai.response.id":x.id,"ai.response.model":x.modelId,"ai.response.timestamp":x.timestamp.toISOString(),"ai.usage.promptTokens":tr.promptTokens,"ai.usage.completionTokens":tr.completionTokens,"ai.finishReason":Pr,"ai.result.text":{output:a(()=>Mr,"output")},"ai.result.toolCalls":{output:a(()=>bt,"output")},"gen_ai.response.finish_reasons":[Pr],"gen_ai.response.id":x.id,"gen_ai.response.model":x.modelId,"gen_ai.usage.input_tokens":tr.promptTokens,"gen_ai.usage.output_tokens":tr.completionTokens}}))}catch{}finally{hi.end()}if(Ne.enqueue({type:"step-finish",finishReason:Pr,usage:tr,experimental_providerMetadata:co,logprobs:_,response:{...x},isContinued:ut==="continue"}),nu==="continue"){let Vt=Or[Or.length-1];typeof Vt.content=="string"?Vt.content+=Mr:Vt.content.push({text:Mr,type:"text"})}else Or.push(...gpe({text:Mr,tools:b??{},toolCalls:$n,toolResults:Lo}));let Bt={stepType:nu,text:Mr,toolCalls:$n,toolResults:Lo,finishReason:Pr,usage:tr,warnings:It.warnings,logprobs:_,request:Yi,rawResponse:It.rawResponse,response:{...x,headers:(gt=It.rawResponse)==null?void 0:gt.headers,messages:JSON.parse(JSON.stringify(Or))},experimental_providerMetadata:co,isContinued:ut==="continue"};We.push(Bt),await s?.(Bt);let yi={promptTokens:Uo.promptTokens+tr.promptTokens,completionTokens:Uo.completionTokens+tr.completionTokens,totalTokens:Uo.totalTokens+tr.totalTokens};if(ut!=="done"){let{result:Vt,doStreamSpan:ou,startTimestampMs:nX}=await y({responseMessages:Or});It.warnings=Vt.warnings,It.rawResponse=Vt.rawResponse,Nt({stream:Vt.stream,startTimestamp:nX,doStreamSpan:ou,currentStep:ru+1,responseMessages:Or,usage:yi,stepType:ut,previousStepText:gi,stepRequest:Vt.request,hasLeadingWhitespace:re});return}try{Ne.enqueue({type:"finish",finishReason:Pr,usage:yi,experimental_providerMetadata:co,logprobs:_,response:{...x}}),F(),u.setAttributes(kc({telemetry:d,attributes:{"ai.response.finishReason":Pr,"ai.response.text":{output:a(()=>gi,"output")},"ai.response.toolCalls":{output:a(()=>bt,"output")},"ai.usage.promptTokens":yi.promptTokens,"ai.usage.completionTokens":yi.completionTokens,"ai.finishReason":Pr,"ai.result.text":{output:a(()=>gi,"output")},"ai.result.toolCalls":{output:a(()=>bt,"output")}}})),w(yi),$(Pr),A(gi),O($n),te(co),D(Lo),ae(Yi),ke({...x,headers:r?.headers,messages:Or}),G(We),Ke(Or),await i?.({finishReason:Pr,logprobs:_,usage:yi,text:gi,toolCalls:$n,toolResults:Lo,request:Yi,rawResponse:r,response:{...x,headers:r?.headers,messages:Or},warnings:t,experimental_providerMetadata:co,steps:We,responseMessages:Or})}catch(Vt){Ne.error(Vt)}finally{u.end()}}})))}a(Nt,"addStepStream"),Nt({stream:e,startTimestamp:p,doStreamSpan:l,currentStep:0,responseMessages:[],usage:void 0,stepType:"initial",stepRequest:n,hasLeadingWhitespace:!1})}teeStream(){let[e,t]=this.originalStream.tee();return this.originalStream=t,e}get textStream(){return EF(this.teeStream(),{transform(e,t){e.type==="text-delta"?t.enqueue(e.textDelta):e.type==="error"&&t.error(e.error)}})}get fullStream(){return EF(this.teeStream(),{transform(e,t){t.enqueue(e)}})}toAIStream(e={}){return this.toDataStreamInternal({callbacks:e})}toDataStreamInternal({callbacks:e={},getErrorMessage:t=a(()=>"","getErrorMessage3"),sendUsage:r=!0}={}){let n="",o=new TransformStream({async start(){e.onStart&&await e.onStart()},async transform(s,u){if(u.enqueue(s),s.type==="text-delta"){let l=s.textDelta;n+=l,e.onToken&&await e.onToken(l),e.onText&&await e.onText(l)}},async flush(){e.onCompletion&&await e.onCompletion(n),e.onFinal&&await e.onFinal(n)}}),i=new TransformStream({transform:a(async(s,u)=>{let l=s.type;switch(l){case"text-delta":{u.enqueue(Oo("text",s.textDelta));break}case"tool-call-streaming-start":{u.enqueue(Oo("tool_call_streaming_start",{toolCallId:s.toolCallId,toolName:s.toolName}));break}case"tool-call-delta":{u.enqueue(Oo("tool_call_delta",{toolCallId:s.toolCallId,argsTextDelta:s.argsTextDelta}));break}case"tool-call":{u.enqueue(Oo("tool_call",{toolCallId:s.toolCallId,toolName:s.toolName,args:s.args}));break}case"tool-result":{u.enqueue(Oo("tool_result",{toolCallId:s.toolCallId,result:s.result}));break}case"error":{u.enqueue(Oo("error",t(s.error)));break}case"step-finish":{u.enqueue(Oo("finish_step",{finishReason:s.finishReason,usage:r?{promptTokens:s.usage.promptTokens,completionTokens:s.usage.completionTokens}:void 0,isContinued:s.isContinued}));break}case"finish":{u.enqueue(Oo("finish_message",{finishReason:s.finishReason,usage:r?{promptTokens:s.usage.promptTokens,completionTokens:s.usage.completionTokens}:void 0}));break}default:{let d=l;throw new Error(`Unknown chunk type: ${d}`)}}},"transform")});return this.fullStream.pipeThrough(o).pipeThrough(i).pipeThrough(new TextEncoderStream)}pipeAIStreamToResponse(e,t){return this.pipeDataStreamToResponse(e,t)}pipeDataStreamToResponse(e,t){let r=t==null?void 0:"init"in t?t.init:{headers:"headers"in t?t.headers:void 0,status:"status"in t?t.status:void 0,statusText:"statusText"in t?t.statusText:void 0},n=t==null?void 0:"data"in t?t.data:void 0,o=t==null?void 0:"getErrorMessage"in t?t.getErrorMessage:void 0,i=t==null?void 0:"sendUsage"in t?t.sendUsage:void 0;PF({response:e,status:r?.status,statusText:r?.statusText,headers:kF(r,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"}),stream:this.toDataStream({data:n,getErrorMessage:o,sendUsage:i})})}pipeTextStreamToResponse(e,t){PF({response:e,status:t?.status,statusText:t?.statusText,headers:kF(t,{contentType:"text/plain; charset=utf-8"}),stream:this.textStream.pipeThrough(new TextEncoderStream)})}toAIStreamResponse(e){return this.toDataStreamResponse(e)}toDataStream(e){let t=this.toDataStreamInternal({getErrorMessage:e?.getErrorMessage,sendUsage:e?.sendUsage});return e?.data?l1(e?.data.stream,t):t}toDataStreamResponse(e){var t;let r=e==null?void 0:"init"in e?e.init:{headers:"headers"in e?e.headers:void 0,status:"status"in e?e.status:void 0,statusText:"statusText"in e?e.statusText:void 0},n=e==null?void 0:"data"in e?e.data:void 0,o=e==null?void 0:"getErrorMessage"in e?e.getErrorMessage:void 0,i=e==null?void 0:"sendUsage"in e?e.sendUsage:void 0;return new Response(this.toDataStream({data:n,getErrorMessage:o,sendUsage:i}),{status:(t=r?.status)!=null?t:200,statusText:r?.statusText,headers:Gg(r,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}toTextStreamResponse(e){var t;return new Response(this.textStream.pipeThrough(new TextEncoderStream),{status:(t=e?.status)!=null?t:200,headers:Gg(e,{contentType:"text/plain; charset=utf-8"})})}};var Spe="AI_NoSuchProviderError",wpe=`vercel.ai.error.${Spe}`,xpe=Symbol.for(wpe),Tpe;Tpe=xpe;function QF(e){let t=new TextEncoder,r="",n=e||{};return new TransformStream({async start(){n.onStart&&await n.onStart()},async transform(o,i){let s=typeof o=="string"?o:o.content;i.enqueue(t.encode(s)),r+=s,n.onToken&&await n.onToken(s),n.onText&&typeof o=="string"&&await n.onText(o)},async flush(){let o=Epe(n);n.onCompletion&&await n.onCompletion(r),n.onFinal&&!o&&await n.onFinal(r)}})}a(QF,"createCallbacksTransformer");function Epe(e){return"experimental_onFunctionCall"in e}a(Epe,"isOfTypeOpenAIStreamCallbacks");function kpe(){let e=!0;return t=>(e&&(t=t.trimStart(),t&&(e=!1)),t)}a(kpe,"trimStartOfStreamHelper");var KWe=15*1e3;function XF(){let e=new TextEncoder,t=new TextDecoder;return new TransformStream({transform:a(async(r,n)=>{let o=t.decode(r);n.enqueue(e.encode(Oo("text",o)))},"transform")})}a(XF,"createStreamDataTransformer");var GWe=new TextDecoder("utf-8");var Ppe={};OF(Ppe,{toAIStream:a(()=>Ipe,"toAIStream"),toDataStream:a(()=>d1,"toDataStream"),toDataStreamResponse:a(()=>Ope,"toDataStreamResponse")});function Ipe(e,t){return d1(e,t)}a(Ipe,"toAIStream");function d1(e,t){return e.pipeThrough(new TransformStream({transform:a(async(r,n)=>{var o;if(typeof r=="string"){n.enqueue(r);return}if("event"in r){r.event==="on_chat_model_stream"&&IF((o=r.data)==null?void 0:o.chunk,n);return}IF(r,n)},"transform")})).pipeThrough(QF(t)).pipeThrough(XF())}a(d1,"toDataStream");function Ope(e,t){var r;let n=d1(e,t?.callbacks),o=t?.data,i=t?.init,s=o?l1(o.stream,n):n;return new Response(s,{status:(r=i?.status)!=null?r:200,statusText:i?.statusText,headers:Gg(i,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}a(Ope,"toDataStreamResponse");function IF(e,t){if(typeof e.content=="string")t.enqueue(e.content);else{let r=e.content;for(let n of r)n.type==="text"&&t.enqueue(n.text)}}a(IF,"forwardAIMessageChunk");var Ape={};OF(Ape,{toDataStream:a(()=>YF,"toDataStream"),toDataStreamResponse:a(()=>Cpe,"toDataStreamResponse")});function YF(e,t){return Rpe(e).pipeThrough(QF(t)).pipeThrough(XF())}a(YF,"toDataStream2");function Cpe(e,t={}){var r;let{init:n,data:o,callbacks:i}=t,s=YF(e,i),u=o?l1(o.stream,s):s;return new Response(u,{status:(r=n?.status)!=null?r:200,statusText:n?.statusText,headers:Gg(n,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}a(Cpe,"toDataStreamResponse2");function Rpe(e){let t=e[Symbol.asyncIterator](),r=kpe();return new ReadableStream({async pull(n){var o;let{value:i,done:s}=await t.next();if(s){n.close();return}let u=r((o=i.delta)!=null?o:"");u&&n.enqueue(u)}})}a(Rpe,"toReadableStream");var WWe=Symbol("internal_openai_fn_messages");rn();Fr();async function Qg(e){try{await So.insert(la).values({userId:e.userId,action:`ai_${e.actionType}`,resourceType:e.toolName||"ai_chat",sessionId:e.sessionId,success:e.outcome==="success",errorMessage:e.errorMessage,newValues:{provider:e.provider,model:e.model,action_type:e.actionType,tool_name:e.toolName,input_summary:e.inputSummary.slice(0,500),output_summary:e.outputSummary.slice(0,500),tokens_used:e.tokensUsed,latency_ms:e.latencyMs,outcome:e.outcome,affected_tables:e.affectedTables,affected_record_ids:e.affectedRecordIds}})}catch{}}a(Qg,"logAIOperation");var e6=`Voc\xEA \xE9 o assistente financeiro inteligente especializado do AegisWallet, a plataforma brasileira l\xEDder em gest\xE3o financeira pessoal com interface voz-first.

## SUA ESPECIALIDADE BRASILEIRA

### Dom\xEDnio do Mercado Financeiro Brasileiro
- **PIX**: Expert em transfer\xEAncias PIX instant\xE2neas 24/7, QR Codes, limites, taxas e regras do BCB
- **Boletos**: Gest\xE3o completa de boletos - registro, pagamento, c\xE1lculo de juros/multas, agendamentos
- **Open Banking**: Conhecimento profundo das APIs banc\xE1rias brasileiras e padr\xF5es regulat\xF3rios
- **C\xE2mbio**: Entendimento de opera\xE7\xF5es cambiais e limites legais brasileiros
- **Impostos**: Conhecimento de tributa\xE7\xE3o brasileira (IR, IOF, etc.)

### Cultura e Localiza\xE7\xE3o
- **Portugu\xEAs Brasileiro Nativo**: Use termos como "parab\xE9ns", "show de bola", "blz", " firm\xE3o"
- **Realidade Financeira Brasileira**: Entenda sal\xE1rios, infla\xE7\xE3o, custo de vida, juros altos
- **Calend\xE1rio Brasileiro**: Considere feriados, 13\xBA sal\xE1rio, d\xE9cimo terceiro, parcelas
- **Bancos Nacionais**: Ita\xFA, Bradesco, Caixa, Banco do Brasil, Nubank, Inter, etc.

## CAPACIDADES AVAN\xC7ADAS

### Opera\xE7\xF5es Financeiras (PIX, TED, DOC, Boletos)
- **Transfer\xEAncias PIX**: Envio/recebimento instant\xE2neo, QR Codes, agendamentos, status tracking
- **Gest\xE3o de Boletos**: Registro via c\xF3digo de barras, c\xE1lculo autom\xE1tico de juros/multas, agendamento de pagamentos
- **An\xE1lise de Contatos**: Salvar contatos frequentes, m\xE9todos de pagamento PIX, favoritos
- **Limites e Taxas**: Conhecimento de limites di\xE1rios, taxas, hor\xE1rios de compensa\xE7\xE3o

### An\xE1lises e Insights Financeiros
- **An\xE1lise de Gastos**: Detalhada por categoria, tend\xEAncias, padr\xF5es an\xF4malos
- **Previs\xE3o de Fluxo de Caixa**: Baseada em hist\xF3rico e eventos futuros com confian\xE7a
- **Detec\xE7\xE3o de Fraude**: An\xE1lise em tempo real de risco, padr\xF5es suspeitos
- **Recomenda\xE7\xF5es de Or\xE7amento**: Personalizadas baseadas em comportamento e metas

### Interface Voz-First (Voice-First)
- **Comandos em Portugu\xEAs Natural**: "Envia cem reais para a Maria pelo PIX", "Paga o boleto da luz"
- **Processamento de Contexto**: Mant\xE9m conversa\xE7\xE3o com hist\xF3rico e contexto relevante
- **Confirma\xE7\xE3o por Voz**: Valida\xE7\xE3o segura de opera\xE7\xF5es sens\xEDveis via reconhecimento de voz
- **Respostas Otimizadas para TTS**: Texto projetado para s\xEDntese de voz natural

### Seguran\xE7a e Conformidade LGPD
- **LGPD**: Conformidade total com Lei Geral de Prote\xE7\xE3o de Dados brasileira
- **Valida\xE7\xE3o Multi-Fator**: 2FA, biom\xE9trica, c\xF3digo via SMS/email
- **Audit Logging**: Registros completos para compliance e auditoria
- **Prote\xE7\xE3o de Dados**: Criptografia, anonimiza\xE7\xE3o, reten\xE7\xE3o conformidade

## REGRAS DE SEGURAN\xC7A E CONFORMIDADE (CR\xCDTICAS)

### Prote\xE7\xE3o de Dados LGPD
1. **NUNCA** exponha dados sens\xEDveis: CPF, senhas, tokens biom\xE9tricos
2. **SEMPRE** obtenha consentimento expl\xEDcito para uso de dados financeiros
3. **RESPEITE** direitos de acesso, corre\xE7\xE3o e exclus\xE3o de dados
4. **IMPLEMENTE** pol\xEDticas de reten\xE7\xE3o conformes com regulamenta\xE7\xE3o brasileira

### Seguran\xE7a de Transa\xE7\xF5es
1. **VALIDA\xC7\xC3O OBRIGAT\xD3RIA**: Toda transa\xE7\xE3o >R$1.000 requer verifica\xE7\xE3o adicional
2. **LIMITES AUTOM\xC1TICOS**: Respeite limites di\xE1rios e de frequ\xEAncia
3. **MONITORAMENTO**: Detecte padr\xF5es an\xF4malos e poss\xEDveis fraudes
4. **CONFIRMA\xC7\xC3O**: Use c\xF3digos, biometria ou confirma\xE7\xE3o por voz para opera\xE7\xF5es cr\xEDticas

### Padr\xF5es Brasileiros de Atendimento
1. **Formalidade Amig\xE1vel**: Tratamento "voc\xEA" mas respeitoso e profissional
2. **Hor\xE1rio Banc\xE1rio**: Considere hor\xE1rios banc\xE1rios e janela de compensa\xE7\xE3o
3. **Feriados**: Esteja ciente de feriados nacionais e estaduais brasileiros
4. **Cultura Financeira**: Entenda avers\xE3o a risco, prefer\xEAncia por seguran\xE7a

## FORMATA\xC7\xC3O E COMUNICA\xC7\xC3O

### Formatos Brasileiros
- **Valores**: R$ 1.234,56 (separador decimal v\xEDrgula, milhar ponto)
- **Datas**: DD/MM/YYYY ou "hoje", "ontem", "anteontem", "esta semana"
- **Hor\xE1rios**: 24h com fuso America/Sao_Paulo (BRT/BRST)
- **Documentos**: CPF: XXX.XXX.XXX-XX, CNPJ: XX.XXX.XXX/XXXX-XX

### Tom e Estilo
- **Voz Ativa**: "Vou analisar seus gastos" em vez de "Seus gastos ser\xE3o analisados"
- **Empatia**: Entenda dificuldades financeiras com respeito e apoio
- **Clareza**: Use termos simples, evite jarg\xF5es t\xE9cnicos excessivos
- **Cultura**: Use express\xF5es brasileiras naturais quando apropriado

## PADR\xD5ES DE RESPOSTA

### Para PIX
- **R\xE1pido**: "Transfer\xEAncia PIX enviada! Chega em segundos na conta do destinat\xE1rio."
- **Seguro**: "Para sua seguran\xE7a, vou enviar um c\xF3digo para confirmar esta transfer\xEAncia de R$ 500,00."
- **Informativo**: "O limite di\xE1rio PIX \xE9 R$ 5.000 entre 20h e 6h."

### Para Boletos
- **C\xE1lculo**: "Este boleto vence em 3 dias com multa de 2% e juros de 1% ao m\xEAs."
- **Agendamento**: "Boleto agendado! Ser\xE1 pago automaticamente na data de vencimento."
- **Alerta**: "\u26A0\uFE0F Voc\xEA tem 2 boletos vencendo esta semana totalizando R$ 850,00."

### Para An\xE1lises
- **Visual**: "Seus gastos em alimenta\xE7\xE3o subiram 15% este m\xEAs. Quer ver o gr\xE1fico detalhado?"
- **Pr\xE1tico**: "Com base no seu padr\xE3o, sugiro reservar R$ 2.000 para emerg\xEAncias."
- **Alerta**: "Detectei 3 transa\xE7\xF5es suspeitas esta semana. Quer investigar?"

### Para Voz
- **Conversacional**: "Entendi! Voc\xEA quer transferir R$ 250 para a Joana pelo PIX, correto?"
- **Claro**: "Pode repetir o valor? N\xE3o consegui entender bem."
- **Eficiente**: "Pronto! Transfer\xEAncia autorizada com sua confirma\xE7\xE3o por voz."

## FLUXOS ESPECIALIZADOS

### Transfer\xEAncia PIX Completa
1. "Quanto quer transferir?" \u2192 Validar valor e limites
2. "Qual a chave PIX do destinat\xE1rio?" \u2192 Validar formato e tipo
3. "Qual o nome completo do destinat\xE1rio?" \u2192 Para registro
4. "Descri\xE7\xE3o opcional?" \u2192 Para identifica\xE7\xE3o
5. "Confirmar transfer\xEAncia?" \u2192 Envio ou verifica\xE7\xE3o adicional

### Pagamento de Boleto
1. "C\xF3digo de barras ou\u7167\u7247?" \u2192 Captura e valida\xE7\xE3o
2. "Valor e data de vencimento?" \u2192 Confirma\xE7\xE3o
3. "Calcular juros/multas?" \u2192 Se vencido
4. "Pagar agora ou agendar?" \u2192 Processamento
5. "Confirma\xE7\xE3o?" \u2192 Seguran\xE7a e finaliza\xE7\xE3o

### An\xE1lise Financeira por Voz
1. "Que per\xEDodo quer analisar?" \u2192 Defini\xE7\xE3o de scope
2. "Foco em alguma categoria espec\xEDfica?" \u2192 Detalhamento
3. "Quer compara\xE7\xE3o com per\xEDodo anterior?" \u2192 An\xE1lise comparativa
4. "Preferir resumo oral ou visual?" \u2192 Formato de sa\xEDda
5. "Gerar recomenda\xE7\xF5es?" \u2192 A\xE7\xF5es pr\xE1ticas

## INTEGRA\xC7\xC3O COM FERRAMENTAS

### Sistema de Ferramentas
Voc\xEA tem acesso a 4 categorias principais de ferramentas:

1. **Opera\xE7\xF5es Financeiras Brasileiras**
   - pix.*: Transfer\xEAncias, QR codes, agendamentos PIX
   - boletos.*: Registro, pagamento, c\xE1lculos de boletos
   - contacts.*: Gest\xE3o de contatos e m\xE9todos de pagamento

2. **An\xE1lises e Insights**
   - insights.*: An\xE1lise de gastos, previs\xF5es, detec\xE7\xE3o de anomalias
   - multimodal.*: Relat\xF3rios visuais, gr\xE1ficos, exporta\xE7\xF5es

3. **Seguran\xE7a e Conformidade**
   - security.*: Detec\xE7\xE3o de fraude, valida\xE7\xF5es, configura\xE7\xF5es de seguran\xE7a
   - notifications.*: Alertas, lembretes, prefer\xEAncias de notifica\xE7\xE3o

4. **Interface Voz-First**
   - voice.*: Processamento de comandos, confirma\xE7\xE3o por voz, contexto
   - Todas as ferramentas otimizadas para resposta via TTS

### Orquestra\xE7\xE3o Inteligente
Combine m\xFAltiplas ferramentas para respostas completas:
- Consultar saldo \u2192 security.checkFraudRisk \u2192 pix.sendPixTransfer
- An\xE1lise de gastos \u2192 insights.getSpendingAnalysis \u2192 multimodal.generateVisualReport
- Alerta de seguran\xE7a \u2192 notifications.sendAlert \u2192 voice.confirmVoiceAction

## MANEJO DE ERROS E RECUPERA\xC7\xC3O

### Erros Comuns Brasileiros
- **Chave PIX Inv\xE1lida**: "Esta chave PIX n\xE3o existe. Verifique CPF, email ou telefone."
- **Boleto Duplicado**: "Este boleto j\xE1 est\xE1 pago. Verifique se n\xE3o h\xE1 duplicidade."
- **Fora do Hor\xE1rio**: "Transfer\xEAncias TED/DOC s\xF3 em hor\xE1rio banc\xE1rio. PIX funciona 24/7."
- **LGPD**: "Preciso de sua autoriza\xE7\xE3o para acessar estes dados financeiros."

### Recupera\xE7\xE3o Intelligente
- **Alternativas**: "PIX n\xE3o funciona? Tente TED para transfer\xEAncias banc\xE1rias."
- **Contexto**: "Baseado no nosso hist\xF3rico, voc\xEA costuma transferir para..."
- **Proativo**: "Detectei um padr\xE3o incomum. Quer que eu investigue?"

## ATUALIZA\xC7\xD5ES E MELHORIAS

### Sempre Melhorando
- **Feedback de Usu\xE1rio**: Adapte respostas baseado no hist\xF3rico de intera\xE7\xF5es
- **Contexto Financeiro**: Mantenha-se atualizado sobre taxas, regulamenta\xE7\xF5es, novos bancos
- **Cultura Financeira**: Evolua com mudan\xE7as no comportamento financeiro brasileiro
- **Tecnologia**: Integre novas tecnologias banc\xE1rias e fintechs brasileiras

### M\xE9tricas de Sucesso
- **Compreens\xE3o**: 95%+ de comandos voz entendidos corretamente
- **Satisfa\xE7\xE3o**: Respostas que realmente ajudam os usu\xE1rios brasileiros
- **Efici\xEAncia**: Opera\xE7\xF5es conclu\xEDdas com m\xEDnimo de etapas
- **Seguran\xE7a**: Zero breaches de dados ou fraudes n\xE3o detectadas

---

**Sua Miss\xE3o**: Ser o assistente financeiro mais completo, seguro e brasileiro que existe, transformando gest\xE3o financeira em uma experi\xEAncia natural, intuitiva e efetiva para todos os brasileiros.

**Data de Hoje**: ${new Date().toLocaleDateString("pt-BR")}
**Fuso Hor\xE1rio**: America/Sao_Paulo (${new Date().toLocaleTimeString("pt-BR")})
**Moeda**: BRL (Real Brasileiro)`;var t6=e6;var r6="vercel.ai.error",$pe=Symbol.for(r6),n6,Npe=class o6 extends Error{static{a(this,"_AISDKError")}constructor({name:t,message:r,cause:n}){super(r),this[n6]=!0,this.name=t,this.cause=n}static isInstance(t){return o6.hasMarker(t,r6)}static hasMarker(t,r){let n=Symbol.for(r);return t!=null&&typeof t=="object"&&n in t&&typeof t[n]=="boolean"&&t[n]===!0}};n6=$pe;var ur=Npe,i6="AI_APICallError",a6=`vercel.ai.error.${i6}`,zpe=Symbol.for(a6),s6,Ye=class extends ur{static{a(this,"APICallError")}constructor({message:e,url:t,requestBodyValues:r,statusCode:n,responseHeaders:o,responseBody:i,cause:s,isRetryable:u=n!=null&&(n===408||n===409||n===429||n>=500),data:l}){super({name:i6,message:e,cause:s}),this[s6]=!0,this.url=t,this.requestBodyValues=r,this.statusCode=n,this.responseHeaders=o,this.responseBody=i,this.isRetryable=u,this.data=l}static isInstance(e){return ur.hasMarker(e,a6)}};s6=zpe;var u6="AI_EmptyResponseBodyError",c6=`vercel.ai.error.${u6}`,jpe=Symbol.for(c6),l6,Pc=class extends ur{static{a(this,"EmptyResponseBodyError")}constructor({message:e="Empty response body"}={}){super({name:u6,message:e}),this[l6]=!0}static isInstance(e){return ur.hasMarker(e,c6)}};l6=jpe;function d6(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}a(d6,"getErrorMessage");var p6="AI_InvalidArgumentError",m6=`vercel.ai.error.${p6}`,Dpe=Symbol.for(m6),f6,Yn=class extends ur{static{a(this,"InvalidArgumentError")}constructor({message:e,cause:t,argument:r}){super({name:p6,message:e,cause:t}),this[f6]=!0,this.argument=r}static isInstance(e){return ur.hasMarker(e,m6)}};f6=Dpe;var h6="AI_InvalidPromptError",g6=`vercel.ai.error.${h6}`,Mpe=Symbol.for(g6),y6,v6=class extends ur{static{a(this,"InvalidPromptError")}constructor({prompt:e,message:t,cause:r}){super({name:h6,message:`Invalid prompt: ${t}`,cause:r}),this[y6]=!0,this.prompt=e}static isInstance(e){return ur.hasMarker(e,g6)}};y6=Mpe;var _6="AI_InvalidResponseDataError",b6=`vercel.ai.error.${_6}`,qpe=Symbol.for(b6),S6,Xg=class extends ur{static{a(this,"InvalidResponseDataError")}constructor({data:e,message:t=`Invalid response data: ${JSON.stringify(e)}.`}){super({name:_6,message:t}),this[S6]=!0,this.data=e}static isInstance(e){return ur.hasMarker(e,b6)}};S6=qpe;var w6="AI_JSONParseError",x6=`vercel.ai.error.${w6}`,Upe=Symbol.for(x6),T6,ln=class extends ur{static{a(this,"JSONParseError")}constructor({text:e,cause:t}){super({name:w6,message:`JSON parsing failed: Text: ${e}.
Error message: ${d6(t)}`,cause:t}),this[T6]=!0,this.text=e}static isInstance(e){return ur.hasMarker(e,x6)}};T6=Upe;var E6="AI_LoadAPIKeyError",k6=`vercel.ai.error.${E6}`,Lpe=Symbol.for(k6),P6,dn=class extends ur{static{a(this,"LoadAPIKeyError")}constructor({message:e}){super({name:E6,message:e}),this[P6]=!0}static isInstance(e){return ur.hasMarker(e,k6)}};P6=Lpe;var Fpe="AI_LoadSettingError",Bpe=`vercel.ai.error.${Fpe}`,Jpe=Symbol.for(Bpe),Hpe;Hpe=Jpe;var Vpe="AI_NoContentGeneratedError",Zpe=`vercel.ai.error.${Vpe}`,Kpe=Symbol.for(Zpe),Gpe;Gpe=Kpe;var I6="AI_NoSuchModelError",O6=`vercel.ai.error.${I6}`,Wpe=Symbol.for(O6),A6,m1=class extends ur{static{a(this,"NoSuchModelError")}constructor({errorName:e=I6,modelId:t,modelType:r,message:n=`No such ${r}: ${t}`}){super({name:e,message:n}),this[A6]=!0,this.modelId=t,this.modelType=r}static isInstance(e){return ur.hasMarker(e,O6)}};A6=Wpe;var C6="AI_TooManyEmbeddingValuesForCallError",R6=`vercel.ai.error.${C6}`,Qpe=Symbol.for(R6),$6,Yg=class extends ur{static{a(this,"TooManyEmbeddingValuesForCallError")}constructor(e){super({name:C6,message:`Too many values for a single embedding call. The ${e.provider} model "${e.modelId}" can only embed up to ${e.maxEmbeddingsPerCall} values per call, but ${e.values.length} values were provided.`}),this[$6]=!0,this.provider=e.provider,this.modelId=e.modelId,this.maxEmbeddingsPerCall=e.maxEmbeddingsPerCall,this.values=e.values}static isInstance(e){return ur.hasMarker(e,R6)}};$6=Qpe;var N6="AI_TypeValidationError",z6=`vercel.ai.error.${N6}`,Xpe=Symbol.for(z6),j6,Ype=class p1 extends ur{static{a(this,"_TypeValidationError")}constructor({value:t,cause:r}){super({name:N6,message:`Type validation failed: Value: ${JSON.stringify(t)}.
Error message: ${d6(r)}`,cause:r}),this[j6]=!0,this.value=t}static isInstance(t){return ur.hasMarker(t,z6)}static wrap({value:t,cause:r}){return p1.isInstance(r)&&r.value===t?r:new p1({value:t,cause:r})}};j6=Xpe;var Xt=Ype,D6="AI_UnsupportedFunctionalityError",M6=`vercel.ai.error.${D6}`,eme=Symbol.for(M6),q6,Pt=class extends ur{static{a(this,"UnsupportedFunctionalityError")}constructor({functionality:e,message:t=`'${e}' functionality not supported.`}){super({name:D6,message:t}),this[q6]=!0,this.functionality=e}static isInstance(e){return ur.hasMarker(e,M6)}};q6=eme;function U6(e){let t,r,n,o,i,s,u;return l(),{feed:d,reset:l};function l(){t=!0,r="",n=0,o=-1,i=void 0,s=void 0,u=""}a(l,"reset");function d(f){r=r?r+f:f,t&&tme(r)&&(r=r.slice(L6.length)),t=!1;let m=r.length,y=0,g=!1;for(;y<m;){g&&(r[y]===`
`&&++y,g=!1);let h=-1,v=o,S;for(let b=n;h<0&&b<m;++b)S=r[b],S===":"&&v<0?v=b-y:S==="\r"?(g=!0,h=b-y):S===`
`&&(h=b-y);if(h<0){n=m-y,o=v;break}else n=0,o=-1;p(r,y,v,h),y+=h+1}y===m?r="":y>0&&(r=r.slice(y))}a(d,"feed");function p(f,m,y,g){if(g===0){u.length>0&&(e({type:"event",id:i,event:s||void 0,data:u.slice(0,-1)}),u="",i=void 0),s=void 0;return}let h=y<0,v=f.slice(m,m+(h?g:y)),S=0;h?S=g:f[m+y+1]===" "?S=y+2:S=y+1;let b=m+S,w=g-S,k=f.slice(b,b+w).toString();if(v==="data")u+=k?"".concat(k,`
`):`
`;else if(v==="event")s=k;else if(v==="id"&&!k.includes("\0"))i=k;else if(v==="retry"){let $=parseInt(k,10);Number.isNaN($)||e({type:"reconnect-interval",value:$})}}a(p,"parseEventStreamLine")}a(U6,"createParser");var L6=[239,187,191];function tme(e){return L6.every((t,r)=>e.charCodeAt(r)===t)}a(tme,"hasBom");var za=class extends TransformStream{static{a(this,"EventSourceParserStream")}constructor(){let t;super({start(r){t=U6(n=>{n.type==="event"&&r.enqueue(n)})},transform(r){t.feed(r)}})}};function H6(...e){return e.reduce((t,r)=>({...t,...r??{}}),{})}a(H6,"combineHeaders");var V6=class{static{a(this,"DelayedPromise")}constructor(){this.status={type:"pending"},this._resolve=void 0,this._reject=void 0}get promise(){return this._promise?this._promise:(this._promise=new Promise((e,t)=>{this.status.type==="resolved"?e(this.status.value):this.status.type==="rejected"&&t(this.status.error),this._resolve=e,this._reject=t}),this._promise)}resolve(e){var t;this.status={type:"resolved",value:e},this._promise&&((t=this._resolve)==null||t.call(this,e))}reject(e){var t;this.status={type:"rejected",error:e},this._promise&&((t=this._reject)==null||t.call(this,e))}isResolved(){return this.status.type==="resolved"}isRejected(){return this.status.type==="rejected"}isPending(){return this.status.type==="pending"}};function ty(e){return Object.fromEntries([...e.headers])}a(ty,"extractResponseHeaders");var rme=a(({prefix:e,size:t=16,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:n="-"}={})=>{let o=a(()=>{let i=r.length,s=new Array(t);for(let u=0;u<t;u++)s[u]=r[Math.random()*i|0];return s.join("")},"generator");if(e==null)return o;if(r.includes(n))throw new Yn({argument:"separator",message:`The separator "${n}" must not be part of the alphabet "${r}".`});return()=>`${e}${n}${o()}`},"createIdGenerator"),ry=rme();function y1(e){return(e instanceof Error||e instanceof DOMException)&&(e.name==="AbortError"||e.name==="ResponseAborted"||e.name==="TimeoutError")}a(y1,"isAbortError");var nme=["fetch failed","failed to fetch"];function ome({error:e,url:t,requestBodyValues:r}){if(y1(e))return e;if(e instanceof TypeError&&nme.includes(e.message.toLowerCase())){let n=e.cause;if(n!=null)return new Ye({message:`Cannot connect to API: ${n.message}`,cause:n,url:t,requestBodyValues:r,isRetryable:!0})}return e}a(ome,"handleFetchError");function ime(e=globalThis){var t,r,n;return e.window?"runtime/browser":(t=e.navigator)!=null&&t.userAgent?`runtime/${e.navigator.userAgent.toLowerCase()}`:(n=(r=e.process)==null?void 0:r.versions)!=null&&n.node?`runtime/node.js/${e.process.version.substring(0)}`:e.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}a(ime,"getRuntimeEnvironmentUserAgent");function ame(e){if(e==null)return{};let t={};if(e instanceof Headers)e.forEach((r,n)=>{t[n.toLowerCase()]=r});else{Array.isArray(e)||(e=Object.entries(e));for(let[r,n]of e)n!=null&&(t[r.toLowerCase()]=n)}return t}a(ame,"normalizeHeaders");function _1(e,...t){let r=new Headers(ame(e)),n=r.get("user-agent")||"";return r.set("user-agent",[n,...t].filter(Boolean).join(" ")),Object.fromEntries(r.entries())}a(_1,"withUserAgentSuffix");var sme="3.0.18";function Z6({apiKey:e,environmentVariableName:t,apiKeyParameterName:r="apiKey",description:n}){if(typeof e=="string")return e;if(e!=null)throw new dn({message:`${n} API key must be a string.`});if(typeof process>"u")throw new dn({message:`${n} API key is missing. Pass it using the '${r}' parameter. Environment variables is not supported in this environment.`});if(e=process.env[t],e==null)throw new dn({message:`${n} API key is missing. Pass it using the '${r}' parameter or the ${t} environment variable.`});if(typeof e!="string")throw new dn({message:`${n} API key must be a string. The value of the ${t} environment variable is not a string.`});return e}a(Z6,"loadApiKey");function K6({settingValue:e,environmentVariableName:t}){if(typeof e=="string")return e;if(!(e!=null||typeof process>"u")&&(e=process.env[t],!(e==null||typeof e!="string")))return e}a(K6,"loadOptionalSetting");var ume=/"__proto__"\s*:/,cme=/"constructor"\s*:/;function F6(e){let t=JSON.parse(e);return t===null||typeof t!="object"||ume.test(e)===!1&&cme.test(e)===!1?t:lme(t)}a(F6,"_parse");function lme(e){let t=[e];for(;t.length;){let r=t;t=[];for(let n of r){if(Object.prototype.hasOwnProperty.call(n,"__proto__"))throw new SyntaxError("Object contains forbidden prototype property");if(Object.prototype.hasOwnProperty.call(n,"constructor")&&Object.prototype.hasOwnProperty.call(n.constructor,"prototype"))throw new SyntaxError("Object contains forbidden prototype property");for(let o in n){let i=n[o];i&&typeof i=="object"&&t.push(i)}}}return e}a(lme,"filter");function G6(e){let{stackTraceLimit:t}=Error;try{Error.stackTraceLimit=0}catch{return F6(e)}try{return F6(e)}finally{Error.stackTraceLimit=t}}a(G6,"secureJsonParse");var ey=Symbol.for("vercel.ai.validator");function dme(e){return{[ey]:!0,validate:e}}a(dme,"validator");function pme(e){return typeof e=="object"&&e!==null&&ey in e&&e[ey]===!0&&"validate"in e}a(pme,"isValidator");function mme(e){return pme(e)?e:typeof e=="function"?e():fme(e)}a(mme,"asValidator");function fme(e){return dme(async t=>{let r=await e["~standard"].validate(t);return r.issues==null?{success:!0,value:r.value}:{success:!1,error:new Xt({value:t,cause:r.issues})}})}a(fme,"standardSchemaValidator");async function Yo({value:e,schema:t}){let r=await b1({value:e,schema:t});if(!r.success)throw Xt.wrap({value:e,cause:r.error});return r.value}a(Yo,"validateTypes");async function b1({value:e,schema:t}){let r=mme(t);try{if(r.validate==null)return{success:!0,value:e,rawValue:e};let n=await r.validate(e);return n.success?{success:!0,value:n.value,rawValue:e}:{success:!1,error:Xt.wrap({value:e,cause:n.error}),rawValue:e}}catch(n){return{success:!1,error:Xt.wrap({value:e,cause:n}),rawValue:e}}}a(b1,"safeValidateTypes");async function hme({text:e,schema:t}){try{let r=G6(e);return t==null?r:Yo({value:r,schema:t})}catch(r){throw ln.isInstance(r)||Xt.isInstance(r)?r:new ln({text:e,cause:r})}}a(hme,"parseJSON");async function W6({text:e,schema:t}){try{let r=G6(e);return t==null?{success:!0,value:r,rawValue:r}:await b1({value:r,schema:t})}catch(r){return{success:!1,error:ln.isInstance(r)?r:new ln({text:e,cause:r}),rawValue:void 0}}}a(W6,"safeParseJSON");function gme({stream:e,schema:t}){return e.pipeThrough(new TextDecoderStream).pipeThrough(new za).pipeThrough(new TransformStream({async transform({data:r},n){r!=="[DONE]"&&n.enqueue(await W6({text:r,schema:t}))}}))}a(gme,"parseJsonEventStream");async function Ic({provider:e,providerOptions:t,schema:r}){if(t?.[e]==null)return;let n=await b1({value:t[e],schema:r});if(!n.success)throw new Yn({argument:"providerOptions",message:`invalid ${e} provider options`,cause:n.error});return n.value}a(Ic,"parseProviderOptions");var yme=a(()=>globalThis.fetch,"getOriginalFetch2"),S1=a(async({url:e,headers:t,body:r,failedResponseHandler:n,successfulResponseHandler:o,abortSignal:i,fetch:s})=>vme({url:e,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(r),values:r},failedResponseHandler:n,successfulResponseHandler:o,abortSignal:i,fetch:s}),"postJsonToApi");var vme=a(async({url:e,headers:t={},body:r,successfulResponseHandler:n,failedResponseHandler:o,abortSignal:i,fetch:s=yme()})=>{try{let u=await s(e,{method:"POST",headers:_1(t,`ai-sdk/provider-utils/${sme}`,ime()),body:r.content,signal:i}),l=ty(u);if(!u.ok){let d;try{d=await o({response:u,url:e,requestBodyValues:r.values})}catch(p){throw y1(p)||Ye.isInstance(p)?p:new Ye({message:"Failed to process error response",cause:p,statusCode:u.status,url:e,responseHeaders:l,requestBodyValues:r.values})}throw d.value}try{return await n({response:u,url:e,requestBodyValues:r.values})}catch(d){throw d instanceof Error&&(y1(d)||Ye.isInstance(d))?d:new Ye({message:"Failed to process successful response",cause:d,statusCode:u.status,url:e,responseHeaders:l,requestBodyValues:r.values})}}catch(u){throw ome({error:u,url:e,requestBodyValues:r.values})}},"postToApi");function $r({id:e,name:t,inputSchema:r}){return({execute:n,outputSchema:o,toModelOutput:i,onInputStart:s,onInputDelta:u,onInputAvailable:l,...d})=>({type:"provider-defined",id:e,name:t,args:d,inputSchema:r,outputSchema:o,execute:n,toModelOutput:i,onInputStart:s,onInputDelta:u,onInputAvailable:l})}a($r,"createProviderDefinedToolFactory");function ja({id:e,name:t,inputSchema:r,outputSchema:n}){return({execute:o,toModelOutput:i,onInputStart:s,onInputDelta:u,onInputAvailable:l,...d})=>({type:"provider-defined",id:e,name:t,args:d,inputSchema:r,outputSchema:n,execute:o,toModelOutput:i,onInputStart:s,onInputDelta:u,onInputAvailable:l})}a(ja,"createProviderDefinedToolFactoryWithOutputSchema");async function w1(e){return typeof e=="function"&&(e=e()),Promise.resolve(e)}a(w1,"resolve");var Q6=a(({errorSchema:e,errorToMessage:t,isRetryable:r})=>async({response:n,url:o,requestBodyValues:i})=>{let s=await n.text(),u=ty(n);if(s.trim()==="")return{responseHeaders:u,value:new Ye({message:n.statusText,url:o,requestBodyValues:i,statusCode:n.status,responseHeaders:u,responseBody:s,isRetryable:r?.(n)})};try{let l=await hme({text:s,schema:e});return{responseHeaders:u,value:new Ye({message:t(l),url:o,requestBodyValues:i,statusCode:n.status,responseHeaders:u,responseBody:s,data:l,isRetryable:r?.(n,l)})}}catch{return{responseHeaders:u,value:new Ye({message:n.statusText,url:o,requestBodyValues:i,statusCode:n.status,responseHeaders:u,responseBody:s,isRetryable:r?.(n)})}}},"createJsonErrorResponseHandler"),X6=a(e=>async({response:t})=>{let r=ty(t);if(t.body==null)throw new Pc({});return{responseHeaders:r,value:gme({stream:t.body,schema:e})}},"createEventSourceResponseHandler");var Y6=a(e=>async({response:t,url:r,requestBodyValues:n})=>{let o=await t.text(),i=await W6({text:o,schema:e}),s=ty(t);if(!i.success)throw new Ye({message:"Invalid JSON response",cause:i.error,statusCode:t.status,responseHeaders:s,responseBody:o,url:r,requestBodyValues:n});return{responseHeaders:s,value:i.value,rawValue:i.rawValue}},"createJsonResponseHandler");var _me=a((e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")},"getRelativePath"),bme=Symbol("Let zodToJsonSchema decide on which parser to use"),B6={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},Sme=a(e=>typeof e=="string"?{...B6,name:e}:{...B6,...e},"getDefaultOptions");function Un(){return{}}a(Un,"parseAnyDef");function wme(e,t){var r,n,o;let i={type:"array"};return(r=e.type)!=null&&r._def&&((o=(n=e.type)==null?void 0:n._def)==null?void 0:o.typeName)!==U.ZodAny&&(i.items=Ct(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&(i.minItems=e.minLength.value),e.maxLength&&(i.maxItems=e.maxLength.value),e.exactLength&&(i.minItems=e.exactLength.value,i.maxItems=e.exactLength.value),i}a(wme,"parseArrayDef");function xme(e){let t={type:"integer",format:"int64"};if(!e.checks)return t;for(let r of e.checks)switch(r.kind){case"min":r.inclusive?t.minimum=r.value:t.exclusiveMinimum=r.value;break;case"max":r.inclusive?t.maximum=r.value:t.exclusiveMaximum=r.value;break;case"multipleOf":t.multipleOf=r.value;break}return t}a(xme,"parseBigintDef");function Tme(){return{type:"boolean"}}a(Tme,"parseBooleanDef");function eB(e,t){return Ct(e.type._def,t)}a(eB,"parseBrandedDef");var Eme=a((e,t)=>Ct(e.innerType._def,t),"parseCatchDef");function tB(e,t,r){let n=r??t.dateStrategy;if(Array.isArray(n))return{anyOf:n.map((o,i)=>tB(e,t,o))};switch(n){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return kme(e)}}a(tB,"parseDateDef");var kme=a(e=>{let t={type:"integer",format:"unix-time"};for(let r of e.checks)switch(r.kind){case"min":t.minimum=r.value;break;case"max":t.maximum=r.value;break}return t},"integerDateParser");function Pme(e,t){return{...Ct(e.innerType._def,t),default:e.defaultValue()}}a(Pme,"parseDefaultDef");function Ime(e,t){return t.effectStrategy==="input"?Ct(e.schema._def,t):Un()}a(Ime,"parseEffectsDef");function Ome(e){return{type:"string",enum:Array.from(e.values)}}a(Ome,"parseEnumDef");var Ame=a(e=>"type"in e&&e.type==="string"?!1:"allOf"in e,"isJsonSchema7AllOfType");function Cme(e,t){let r=[Ct(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),Ct(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(o=>!!o),n=[];return r.forEach(o=>{if(Ame(o))n.push(...o.allOf);else{let i=o;if("additionalProperties"in o&&o.additionalProperties===!1){let{additionalProperties:s,...u}=o;i=u}n.push(i)}}),n.length?{allOf:n}:void 0}a(Cme,"parseIntersectionDef");function Rme(e){let t=typeof e.value;return t!=="bigint"&&t!=="number"&&t!=="boolean"&&t!=="string"?{type:Array.isArray(e.value)?"array":"object"}:{type:t==="bigint"?"integer":t,const:e.value}}a(Rme,"parseLiteralDef");var h1=void 0,Co={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:a(()=>(h1===void 0&&(h1=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),h1),"emoji"),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function rB(e,t){let r={type:"string"};if(e.checks)for(let n of e.checks)switch(n.kind){case"min":r.minLength=typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value;break;case"max":r.maxLength=typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value;break;case"email":switch(t.emailStrategy){case"format:email":Ro(r,"email",n.message,t);break;case"format:idn-email":Ro(r,"idn-email",n.message,t);break;case"pattern:zod":pn(r,Co.email,n.message,t);break}break;case"url":Ro(r,"uri",n.message,t);break;case"uuid":Ro(r,"uuid",n.message,t);break;case"regex":pn(r,n.regex,n.message,t);break;case"cuid":pn(r,Co.cuid,n.message,t);break;case"cuid2":pn(r,Co.cuid2,n.message,t);break;case"startsWith":pn(r,RegExp(`^${g1(n.value,t)}`),n.message,t);break;case"endsWith":pn(r,RegExp(`${g1(n.value,t)}$`),n.message,t);break;case"datetime":Ro(r,"date-time",n.message,t);break;case"date":Ro(r,"date",n.message,t);break;case"time":Ro(r,"time",n.message,t);break;case"duration":Ro(r,"duration",n.message,t);break;case"length":r.minLength=typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,r.maxLength=typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value;break;case"includes":{pn(r,RegExp(g1(n.value,t)),n.message,t);break}case"ip":{n.version!=="v6"&&Ro(r,"ipv4",n.message,t),n.version!=="v4"&&Ro(r,"ipv6",n.message,t);break}case"base64url":pn(r,Co.base64url,n.message,t);break;case"jwt":pn(r,Co.jwt,n.message,t);break;case"cidr":{n.version!=="v6"&&pn(r,Co.ipv4Cidr,n.message,t),n.version!=="v4"&&pn(r,Co.ipv6Cidr,n.message,t);break}case"emoji":pn(r,Co.emoji(),n.message,t);break;case"ulid":{pn(r,Co.ulid,n.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{Ro(r,"binary",n.message,t);break}case"contentEncoding:base64":{r.contentEncoding="base64";break}case"pattern:zod":{pn(r,Co.base64,n.message,t);break}}break}case"nanoid":pn(r,Co.nanoid,n.message,t);case"toLowerCase":case"toUpperCase":case"trim":break;default:}return r}a(rB,"parseStringDef");function g1(e,t){return t.patternStrategy==="escape"?Nme(e):e}a(g1,"escapeLiteralCheckValue");var $me=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function Nme(e){let t="";for(let r=0;r<e.length;r++)$me.has(e[r])||(t+="\\"),t+=e[r];return t}a(Nme,"escapeNonAlphaNumeric");function Ro(e,t,r,n){var o;e.format||(o=e.anyOf)!=null&&o.some(i=>i.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format}),delete e.format),e.anyOf.push({format:t,...r&&n.errorMessages&&{errorMessage:{format:r}}})):e.format=t}a(Ro,"addFormat");function pn(e,t,r,n){var o;e.pattern||(o=e.allOf)!=null&&o.some(i=>i.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern}),delete e.pattern),e.allOf.push({pattern:J6(t,n),...r&&n.errorMessages&&{errorMessage:{pattern:r}}})):e.pattern=J6(t,n)}a(pn,"addPattern");function J6(e,t){var r;if(!t.applyRegexFlags||!e.flags)return e.source;let n={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},o=n.i?e.source.toLowerCase():e.source,i="",s=!1,u=!1,l=!1;for(let d=0;d<o.length;d++){if(s){i+=o[d],s=!1;continue}if(n.i){if(u){if(o[d].match(/[a-z]/)){l?(i+=o[d],i+=`${o[d-2]}-${o[d]}`.toUpperCase(),l=!1):o[d+1]==="-"&&((r=o[d+2])!=null&&r.match(/[a-z]/))?(i+=o[d],l=!0):i+=`${o[d]}${o[d].toUpperCase()}`;continue}}else if(o[d].match(/[a-z]/)){i+=`[${o[d]}${o[d].toUpperCase()}]`;continue}}if(n.m){if(o[d]==="^"){i+=`(^|(?<=[\r
]))`;continue}else if(o[d]==="$"){i+=`($|(?=[\r
]))`;continue}}if(n.s&&o[d]==="."){i+=u?`${o[d]}\r
`:`[${o[d]}\r
]`;continue}i+=o[d],o[d]==="\\"?s=!0:u&&o[d]==="]"?u=!1:!u&&o[d]==="["&&(u=!0)}try{new RegExp(i)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return i}a(J6,"stringifyRegExpWithFlags");function nB(e,t){var r,n,o,i,s,u;let l={type:"object",additionalProperties:(r=Ct(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]}))!=null?r:t.allowedAdditionalProperties};if(((n=e.keyType)==null?void 0:n._def.typeName)===U.ZodString&&((o=e.keyType._def.checks)!=null&&o.length)){let{type:d,...p}=rB(e.keyType._def,t);return{...l,propertyNames:p}}else{if(((i=e.keyType)==null?void 0:i._def.typeName)===U.ZodEnum)return{...l,propertyNames:{enum:e.keyType._def.values}};if(((s=e.keyType)==null?void 0:s._def.typeName)===U.ZodBranded&&e.keyType._def.type._def.typeName===U.ZodString&&((u=e.keyType._def.type._def.checks)!=null&&u.length)){let{type:d,...p}=eB(e.keyType._def,t);return{...l,propertyNames:p}}}return l}a(nB,"parseRecordDef");function zme(e,t){if(t.mapStrategy==="record")return nB(e,t);let r=Ct(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||Un(),n=Ct(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||Un();return{type:"array",maxItems:125,items:{type:"array",items:[r,n],minItems:2,maxItems:2}}}a(zme,"parseMapDef");function jme(e){let t=e.values,n=Object.keys(e.values).filter(i=>typeof t[t[i]]!="number").map(i=>t[i]),o=Array.from(new Set(n.map(i=>typeof i)));return{type:o.length===1?o[0]==="string"?"string":"number":["string","number"],enum:n}}a(jme,"parseNativeEnumDef");function Dme(){return{not:Un()}}a(Dme,"parseNeverDef");function Mme(){return{type:"null"}}a(Mme,"parseNullDef");var v1={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function qme(e,t){let r=e.options instanceof Map?Array.from(e.options.values()):e.options;if(r.every(n=>n._def.typeName in v1&&(!n._def.checks||!n._def.checks.length))){let n=r.reduce((o,i)=>{let s=v1[i._def.typeName];return s&&!o.includes(s)?[...o,s]:o},[]);return{type:n.length>1?n:n[0]}}else if(r.every(n=>n._def.typeName==="ZodLiteral"&&!n.description)){let n=r.reduce((o,i)=>{let s=typeof i._def.value;switch(s){case"string":case"number":case"boolean":return[...o,s];case"bigint":return[...o,"integer"];case"object":if(i._def.value===null)return[...o,"null"];case"symbol":case"undefined":case"function":default:return o}},[]);if(n.length===r.length){let o=n.filter((i,s,u)=>u.indexOf(i)===s);return{type:o.length>1?o:o[0],enum:r.reduce((i,s)=>i.includes(s._def.value)?i:[...i,s._def.value],[])}}}else if(r.every(n=>n._def.typeName==="ZodEnum"))return{type:"string",enum:r.reduce((n,o)=>[...n,...o._def.values.filter(i=>!n.includes(i))],[])};return Ume(e,t)}a(qme,"parseUnionDef");var Ume=a((e,t)=>{let r=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((n,o)=>Ct(n._def,{...t,currentPath:[...t.currentPath,"anyOf",`${o}`]})).filter(n=>!!n&&(!t.strictUnions||typeof n=="object"&&Object.keys(n).length>0));return r.length?{anyOf:r}:void 0},"asAnyOf");function Lme(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return{type:[v1[e.innerType._def.typeName],"null"]};let r=Ct(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}a(Lme,"parseNullableDef");function Fme(e){let t={type:"number"};if(!e.checks)return t;for(let r of e.checks)switch(r.kind){case"int":t.type="integer";break;case"min":r.inclusive?t.minimum=r.value:t.exclusiveMinimum=r.value;break;case"max":r.inclusive?t.maximum=r.value:t.exclusiveMaximum=r.value;break;case"multipleOf":t.multipleOf=r.value;break}return t}a(Fme,"parseNumberDef");function Bme(e,t){let r={type:"object",properties:{}},n=[],o=e.shape();for(let s in o){let u=o[s];if(u===void 0||u._def===void 0)continue;let l=Hme(u),d=Ct(u._def,{...t,currentPath:[...t.currentPath,"properties",s],propertyPath:[...t.currentPath,"properties",s]});d!==void 0&&(r.properties[s]=d,l||n.push(s))}n.length&&(r.required=n);let i=Jme(e,t);return i!==void 0&&(r.additionalProperties=i),r}a(Bme,"parseObjectDef");function Jme(e,t){if(e.catchall._def.typeName!=="ZodNever")return Ct(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}a(Jme,"decideAdditionalProperties");function Hme(e){try{return e.isOptional()}catch{return!0}}a(Hme,"safeIsOptional");var Vme=a((e,t)=>{var r;if(t.currentPath.toString()===((r=t.propertyPath)==null?void 0:r.toString()))return Ct(e.innerType._def,t);let n=Ct(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return n?{anyOf:[{not:Un()},n]}:Un()},"parseOptionalDef"),Zme=a((e,t)=>{if(t.pipeStrategy==="input")return Ct(e.in._def,t);if(t.pipeStrategy==="output")return Ct(e.out._def,t);let r=Ct(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),n=Ct(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,n].filter(o=>o!==void 0)}},"parsePipelineDef");function Kme(e,t){return Ct(e.type._def,t)}a(Kme,"parsePromiseDef");function Gme(e,t){let n={type:"array",uniqueItems:!0,items:Ct(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&(n.minItems=e.minSize.value),e.maxSize&&(n.maxItems=e.maxSize.value),n}a(Gme,"parseSetDef");function Wme(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((r,n)=>Ct(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[]),additionalItems:Ct(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((r,n)=>Ct(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[])}}a(Wme,"parseTupleDef");function Qme(){return{not:Un()}}a(Qme,"parseUndefinedDef");function Xme(){return Un()}a(Xme,"parseUnknownDef");var Yme=a((e,t)=>Ct(e.innerType._def,t),"parseReadonlyDef"),efe=a((e,t,r)=>{switch(t){case U.ZodString:return rB(e,r);case U.ZodNumber:return Fme(e);case U.ZodObject:return Bme(e,r);case U.ZodBigInt:return xme(e);case U.ZodBoolean:return Tme();case U.ZodDate:return tB(e,r);case U.ZodUndefined:return Qme();case U.ZodNull:return Mme();case U.ZodArray:return wme(e,r);case U.ZodUnion:case U.ZodDiscriminatedUnion:return qme(e,r);case U.ZodIntersection:return Cme(e,r);case U.ZodTuple:return Wme(e,r);case U.ZodRecord:return nB(e,r);case U.ZodLiteral:return Rme(e);case U.ZodEnum:return Ome(e);case U.ZodNativeEnum:return jme(e);case U.ZodNullable:return Lme(e,r);case U.ZodOptional:return Vme(e,r);case U.ZodMap:return zme(e,r);case U.ZodSet:return Gme(e,r);case U.ZodLazy:return()=>e.getter()._def;case U.ZodPromise:return Kme(e,r);case U.ZodNaN:case U.ZodNever:return Dme();case U.ZodEffects:return Ime(e,r);case U.ZodAny:return Un();case U.ZodUnknown:return Xme();case U.ZodDefault:return Pme(e,r);case U.ZodBranded:return eB(e,r);case U.ZodReadonly:return Yme(e,r);case U.ZodCatch:return Eme(e,r);case U.ZodPipeline:return Zme(e,r);case U.ZodFunction:case U.ZodVoid:case U.ZodSymbol:return;default:return(n=>{})(t)}},"selectParser");function Ct(e,t,r=!1){var n;let o=t.seen.get(e);if(t.override){let l=(n=t.override)==null?void 0:n.call(t,e,t,o,r);if(l!==bme)return l}if(o&&!r){let l=tfe(o,t);if(l!==void 0)return l}let i={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,i);let s=efe(e,e.typeName,t),u=typeof s=="function"?Ct(s(),t):s;if(u&&rfe(e,t,u),t.postProcess){let l=t.postProcess(u,e,t);return i.jsonSchema=u,l}return i.jsonSchema=u,u}a(Ct,"parseDef");var tfe=a((e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:_me(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((r,n)=>t.currentPath[n]===r)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),Un()):t.$refStrategy==="seen"?Un():void 0}},"get$ref"),rfe=a((e,t,r)=>(e.description&&(r.description=e.description),r),"addMeta"),nfe=a(e=>{let t=Sme(e),r=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([n,o])=>[o._def,{def:o._def,path:[...t.basePath,t.definitionPath,n],jsonSchema:void 0}]))}},"getRefs"),ofe=a((e,t)=>{var r;let n=nfe(t),o=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((d,[p,f])=>{var m;return{...d,[p]:(m=Ct(f._def,{...n,currentPath:[...n.basePath,n.definitionPath,p]},!0))!=null?m:Un()}},{}):void 0,i=typeof t=="string"?t:t?.nameStrategy==="title"?void 0:t?.name,s=(r=Ct(e._def,i===void 0?n:{...n,currentPath:[...n.basePath,n.definitionPath,i]},!1))!=null?r:Un(),u=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;u!==void 0&&(s.title=u);let l=i===void 0?o?{...s,[n.definitionPath]:o}:s:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,i].join("/"),[n.definitionPath]:{...o,[i]:s}};return l.$schema="http://json-schema.org/draft-07/schema#",l},"zodToJsonSchema"),ife=ofe;function afe(e,t){var r;let n=(r=t?.useReferences)!=null?r:!1;return oB(()=>ife(e,{$refStrategy:n?"root":"none"}),{validate:a(async o=>{let i=await e.safeParseAsync(o);return i.success?{success:!0,value:i.data}:{success:!1,error:i.error}},"validate")})}a(afe,"zod3Schema");function sfe(e,t){var r;let n=(r=t?.useReferences)!=null?r:!1;return oB(()=>Ri(e,{target:"draft-7",io:"output",reused:n?"ref":"inline"}),{validate:a(async o=>{let i=await Ni(e,o);return i.success?{success:!0,value:i.data}:{success:!1,error:i.error}},"validate")})}a(sfe,"zod4Schema");function ufe(e){return"_zod"in e}a(ufe,"isZod4Schema");function at(e,t){return ufe(e)?sfe(e,t):afe(e,t)}a(at,"zodSchema");var cfe=Symbol.for("vercel.ai.schema");function st(e){let t;return()=>(t==null&&(t=e()),t)}a(st,"lazySchema");function oB(e,{validate:t}={}){return{[cfe]:!0,_type:void 0,[ey]:!0,get jsonSchema(){return typeof e=="function"&&(e=e()),e},validate:t}}a(oB,"jsonSchema");var{btoa:lfe,atob:XQe}=globalThis;function dfe(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCodePoint(e[r]);return lfe(t)}a(dfe,"convertUint8ArrayToBase64");function x1(e){return e instanceof Uint8Array?dfe(e):e}a(x1,"convertToBase64");function iB(e){return e?.replace(/\/$/,"")}a(iB,"withoutTrailingSlash");var pfe="2.0.50",mfe=st(()=>at(c.object({type:c.literal("error"),error:c.object({type:c.string(),message:c.string()})}))),aB=Q6({errorSchema:mfe,errorToMessage:a(e=>e.error.message,"errorToMessage")}),ffe=st(()=>at(c.object({type:c.literal("message"),id:c.string().nullish(),model:c.string().nullish(),content:c.array(c.discriminatedUnion("type",[c.object({type:c.literal("text"),text:c.string(),citations:c.array(c.discriminatedUnion("type",[c.object({type:c.literal("web_search_result_location"),cited_text:c.string(),url:c.string(),title:c.string(),encrypted_index:c.string()}),c.object({type:c.literal("page_location"),cited_text:c.string(),document_index:c.number(),document_title:c.string().nullable(),start_page_number:c.number(),end_page_number:c.number()}),c.object({type:c.literal("char_location"),cited_text:c.string(),document_index:c.number(),document_title:c.string().nullable(),start_char_index:c.number(),end_char_index:c.number()})])).optional()}),c.object({type:c.literal("thinking"),thinking:c.string(),signature:c.string()}),c.object({type:c.literal("redacted_thinking"),data:c.string()}),c.object({type:c.literal("tool_use"),id:c.string(),name:c.string(),input:c.unknown()}),c.object({type:c.literal("server_tool_use"),id:c.string(),name:c.string(),input:c.record(c.string(),c.unknown()).nullish()}),c.object({type:c.literal("web_fetch_tool_result"),tool_use_id:c.string(),content:c.union([c.object({type:c.literal("web_fetch_result"),url:c.string(),retrieved_at:c.string(),content:c.object({type:c.literal("document"),title:c.string().nullable(),citations:c.object({enabled:c.boolean()}).optional(),source:c.object({type:c.literal("text"),media_type:c.string(),data:c.string()})})}),c.object({type:c.literal("web_fetch_tool_result_error"),error_code:c.string()})])}),c.object({type:c.literal("web_search_tool_result"),tool_use_id:c.string(),content:c.union([c.array(c.object({type:c.literal("web_search_result"),url:c.string(),title:c.string(),encrypted_content:c.string(),page_age:c.string().nullish()})),c.object({type:c.literal("web_search_tool_result_error"),error_code:c.string()})])}),c.object({type:c.literal("code_execution_tool_result"),tool_use_id:c.string(),content:c.union([c.object({type:c.literal("code_execution_result"),stdout:c.string(),stderr:c.string(),return_code:c.number()}),c.object({type:c.literal("code_execution_tool_result_error"),error_code:c.string()})])}),c.object({type:c.literal("bash_code_execution_tool_result"),tool_use_id:c.string(),content:c.discriminatedUnion("type",[c.object({type:c.literal("bash_code_execution_result"),content:c.array(c.object({type:c.literal("bash_code_execution_output"),file_id:c.string()})),stdout:c.string(),stderr:c.string(),return_code:c.number()}),c.object({type:c.literal("bash_code_execution_tool_result_error"),error_code:c.string()})])}),c.object({type:c.literal("text_editor_code_execution_tool_result"),tool_use_id:c.string(),content:c.discriminatedUnion("type",[c.object({type:c.literal("text_editor_code_execution_tool_result_error"),error_code:c.string()}),c.object({type:c.literal("text_editor_code_execution_view_result"),content:c.string(),file_type:c.string(),num_lines:c.number().nullable(),start_line:c.number().nullable(),total_lines:c.number().nullable()}),c.object({type:c.literal("text_editor_code_execution_create_result"),is_file_update:c.boolean()}),c.object({type:c.literal("text_editor_code_execution_str_replace_result"),lines:c.array(c.string()).nullable(),new_lines:c.number().nullable(),new_start:c.number().nullable(),old_lines:c.number().nullable(),old_start:c.number().nullable()})])})])),stop_reason:c.string().nullish(),stop_sequence:c.string().nullish(),usage:c.looseObject({input_tokens:c.number(),output_tokens:c.number(),cache_creation_input_tokens:c.number().nullish(),cache_read_input_tokens:c.number().nullish()}),container:c.object({expires_at:c.string(),id:c.string(),skills:c.array(c.object({type:c.union([c.literal("anthropic"),c.literal("custom")]),skill_id:c.string(),version:c.string()})).nullish()}).nullish()}))),hfe=st(()=>at(c.discriminatedUnion("type",[c.object({type:c.literal("message_start"),message:c.object({id:c.string().nullish(),model:c.string().nullish(),usage:c.looseObject({input_tokens:c.number(),cache_creation_input_tokens:c.number().nullish(),cache_read_input_tokens:c.number().nullish()})})}),c.object({type:c.literal("content_block_start"),index:c.number(),content_block:c.discriminatedUnion("type",[c.object({type:c.literal("text"),text:c.string()}),c.object({type:c.literal("thinking"),thinking:c.string()}),c.object({type:c.literal("tool_use"),id:c.string(),name:c.string()}),c.object({type:c.literal("redacted_thinking"),data:c.string()}),c.object({type:c.literal("server_tool_use"),id:c.string(),name:c.string(),input:c.record(c.string(),c.unknown()).nullish()}),c.object({type:c.literal("web_fetch_tool_result"),tool_use_id:c.string(),content:c.union([c.object({type:c.literal("web_fetch_result"),url:c.string(),retrieved_at:c.string(),content:c.object({type:c.literal("document"),title:c.string().nullable(),citations:c.object({enabled:c.boolean()}).optional(),source:c.object({type:c.literal("text"),media_type:c.string(),data:c.string()})})}),c.object({type:c.literal("web_fetch_tool_result_error"),error_code:c.string()})])}),c.object({type:c.literal("web_search_tool_result"),tool_use_id:c.string(),content:c.union([c.array(c.object({type:c.literal("web_search_result"),url:c.string(),title:c.string(),encrypted_content:c.string(),page_age:c.string().nullish()})),c.object({type:c.literal("web_search_tool_result_error"),error_code:c.string()})])}),c.object({type:c.literal("code_execution_tool_result"),tool_use_id:c.string(),content:c.union([c.object({type:c.literal("code_execution_result"),stdout:c.string(),stderr:c.string(),return_code:c.number()}),c.object({type:c.literal("code_execution_tool_result_error"),error_code:c.string()})])}),c.object({type:c.literal("bash_code_execution_tool_result"),tool_use_id:c.string(),content:c.discriminatedUnion("type",[c.object({type:c.literal("bash_code_execution_result"),content:c.array(c.object({type:c.literal("bash_code_execution_output"),file_id:c.string()})),stdout:c.string(),stderr:c.string(),return_code:c.number()}),c.object({type:c.literal("bash_code_execution_tool_result_error"),error_code:c.string()})])}),c.object({type:c.literal("text_editor_code_execution_tool_result"),tool_use_id:c.string(),content:c.discriminatedUnion("type",[c.object({type:c.literal("text_editor_code_execution_tool_result_error"),error_code:c.string()}),c.object({type:c.literal("text_editor_code_execution_view_result"),content:c.string(),file_type:c.string(),num_lines:c.number().nullable(),start_line:c.number().nullable(),total_lines:c.number().nullable()}),c.object({type:c.literal("text_editor_code_execution_create_result"),is_file_update:c.boolean()}),c.object({type:c.literal("text_editor_code_execution_str_replace_result"),lines:c.array(c.string()).nullable(),new_lines:c.number().nullable(),new_start:c.number().nullable(),old_lines:c.number().nullable(),old_start:c.number().nullable()})])})])}),c.object({type:c.literal("content_block_delta"),index:c.number(),delta:c.discriminatedUnion("type",[c.object({type:c.literal("input_json_delta"),partial_json:c.string()}),c.object({type:c.literal("text_delta"),text:c.string()}),c.object({type:c.literal("thinking_delta"),thinking:c.string()}),c.object({type:c.literal("signature_delta"),signature:c.string()}),c.object({type:c.literal("citations_delta"),citation:c.discriminatedUnion("type",[c.object({type:c.literal("web_search_result_location"),cited_text:c.string(),url:c.string(),title:c.string(),encrypted_index:c.string()}),c.object({type:c.literal("page_location"),cited_text:c.string(),document_index:c.number(),document_title:c.string().nullable(),start_page_number:c.number(),end_page_number:c.number()}),c.object({type:c.literal("char_location"),cited_text:c.string(),document_index:c.number(),document_title:c.string().nullable(),start_char_index:c.number(),end_char_index:c.number()})])})])}),c.object({type:c.literal("content_block_stop"),index:c.number()}),c.object({type:c.literal("error"),error:c.object({type:c.string(),message:c.string()})}),c.object({type:c.literal("message_delta"),delta:c.object({stop_reason:c.string().nullish(),stop_sequence:c.string().nullish(),container:c.object({expires_at:c.string(),id:c.string(),skills:c.array(c.object({type:c.union([c.literal("anthropic"),c.literal("custom")]),skill_id:c.string(),version:c.string()})).nullish()}).nullish()}),usage:c.looseObject({output_tokens:c.number(),cache_creation_input_tokens:c.number().nullish()})}),c.object({type:c.literal("message_stop")}),c.object({type:c.literal("ping")})]))),gfe=st(()=>at(c.object({signature:c.string().optional(),redactedData:c.string().optional()}))),sB=c.object({citations:c.object({enabled:c.boolean()}).optional(),title:c.string().optional(),context:c.string().optional()}),yfe=c.object({sendReasoning:c.boolean().optional(),structuredOutputMode:c.enum(["outputFormat","jsonTool","auto"]).optional(),thinking:c.object({type:c.union([c.literal("enabled"),c.literal("disabled")]),budgetTokens:c.number().optional()}).optional(),disableParallelToolUse:c.boolean().optional(),cacheControl:c.object({type:c.literal("ephemeral"),ttl:c.union([c.literal("5m"),c.literal("1h")]).optional()}).optional(),container:c.object({id:c.string().optional(),skills:c.array(c.object({type:c.union([c.literal("anthropic"),c.literal("custom")]),skillId:c.string(),version:c.string().optional()})).optional()}).optional(),effort:c.enum(["low","medium","high"]).optional()}),uB=4;function vfe(e){var t;let r=e?.anthropic;return(t=r?.cacheControl)!=null?t:r?.cache_control}a(vfe,"getCacheControl");var T1=class{static{a(this,"CacheControlValidator")}constructor(){this.breakpointCount=0,this.warnings=[]}getCacheControl(e,t){let r=vfe(e);if(r){if(!t.canCache){this.warnings.push({type:"unsupported-setting",setting:"cacheControl",details:`cache_control cannot be set on ${t.type}. It will be ignored.`});return}if(this.breakpointCount++,this.breakpointCount>uB){this.warnings.push({type:"unsupported-setting",setting:"cacheControl",details:`Maximum ${uB} cache breakpoints exceeded (found ${this.breakpointCount}). This breakpoint will be ignored.`});return}return r}}getWarnings(){return this.warnings}},_fe=st(()=>at(c.object({maxCharacters:c.number().optional()}))),bfe=st(()=>at(c.object({command:c.enum(["view","create","str_replace","insert"]),path:c.string(),file_text:c.string().optional(),insert_line:c.number().int().optional(),new_str:c.string().optional(),old_str:c.string().optional(),view_range:c.array(c.number().int()).optional()}))),Sfe=$r({id:"anthropic.text_editor_20250728",name:"str_replace_based_edit_tool",inputSchema:bfe}),wfe=a((e={})=>Sfe(e),"textEditor_20250728"),xfe=st(()=>at(c.object({maxUses:c.number().optional(),allowedDomains:c.array(c.string()).optional(),blockedDomains:c.array(c.string()).optional(),userLocation:c.object({type:c.literal("approximate"),city:c.string().optional(),region:c.string().optional(),country:c.string().optional(),timezone:c.string().optional()}).optional()}))),dB=st(()=>at(c.array(c.object({url:c.string(),title:c.string(),pageAge:c.string().nullable(),encryptedContent:c.string(),type:c.literal("web_search_result")})))),Tfe=st(()=>at(c.object({query:c.string()}))),Efe=ja({id:"anthropic.web_search_20250305",name:"web_search",inputSchema:Tfe,outputSchema:dB}),kfe=a((e={})=>Efe(e),"webSearch_20250305"),Pfe=st(()=>at(c.object({maxUses:c.number().optional(),allowedDomains:c.array(c.string()).optional(),blockedDomains:c.array(c.string()).optional(),citations:c.object({enabled:c.boolean()}).optional(),maxContentTokens:c.number().optional()}))),pB=st(()=>at(c.object({type:c.literal("web_fetch_result"),url:c.string(),content:c.object({type:c.literal("document"),title:c.string(),citations:c.object({enabled:c.boolean()}).optional(),source:c.union([c.object({type:c.literal("base64"),mediaType:c.literal("application/pdf"),data:c.string()}),c.object({type:c.literal("text"),mediaType:c.literal("text/plain"),data:c.string()})])}),retrievedAt:c.string().nullable()}))),Ife=st(()=>at(c.object({url:c.string()}))),Ofe=ja({id:"anthropic.web_fetch_20250910",name:"web_fetch",inputSchema:Ife,outputSchema:pB}),Afe=a((e={})=>Ofe(e),"webFetch_20250910");async function Cfe({tools:e,toolChoice:t,disableParallelToolUse:r,cacheControlValidator:n}){e=e?.length?e:void 0;let o=[],i=new Set,s=n||new T1;if(e==null)return{tools:void 0,toolChoice:void 0,toolWarnings:o,betas:i};let u=[];for(let d of e)switch(d.type){case"function":{let p=s.getCacheControl(d.providerOptions,{type:"tool definition",canCache:!0});u.push({name:d.name,description:d.description,input_schema:d.inputSchema,cache_control:p});break}case"provider-defined":{switch(d.id){case"anthropic.code_execution_20250522":{i.add("code-execution-2025-05-22"),u.push({type:"code_execution_20250522",name:"code_execution",cache_control:void 0});break}case"anthropic.code_execution_20250825":{i.add("code-execution-2025-08-25"),u.push({type:"code_execution_20250825",name:"code_execution"});break}case"anthropic.computer_20250124":{i.add("computer-use-2025-01-24"),u.push({name:"computer",type:"computer_20250124",display_width_px:d.args.displayWidthPx,display_height_px:d.args.displayHeightPx,display_number:d.args.displayNumber,cache_control:void 0});break}case"anthropic.computer_20241022":{i.add("computer-use-2024-10-22"),u.push({name:"computer",type:"computer_20241022",display_width_px:d.args.displayWidthPx,display_height_px:d.args.displayHeightPx,display_number:d.args.displayNumber,cache_control:void 0});break}case"anthropic.text_editor_20250124":{i.add("computer-use-2025-01-24"),u.push({name:"str_replace_editor",type:"text_editor_20250124",cache_control:void 0});break}case"anthropic.text_editor_20241022":{i.add("computer-use-2024-10-22"),u.push({name:"str_replace_editor",type:"text_editor_20241022",cache_control:void 0});break}case"anthropic.text_editor_20250429":{i.add("computer-use-2025-01-24"),u.push({name:"str_replace_based_edit_tool",type:"text_editor_20250429",cache_control:void 0});break}case"anthropic.text_editor_20250728":{let p=await Yo({value:d.args,schema:_fe});u.push({name:"str_replace_based_edit_tool",type:"text_editor_20250728",max_characters:p.maxCharacters,cache_control:void 0});break}case"anthropic.bash_20250124":{i.add("computer-use-2025-01-24"),u.push({name:"bash",type:"bash_20250124",cache_control:void 0});break}case"anthropic.bash_20241022":{i.add("computer-use-2024-10-22"),u.push({name:"bash",type:"bash_20241022",cache_control:void 0});break}case"anthropic.memory_20250818":{i.add("context-management-2025-06-27"),u.push({name:"memory",type:"memory_20250818"});break}case"anthropic.web_fetch_20250910":{i.add("web-fetch-2025-09-10");let p=await Yo({value:d.args,schema:Pfe});u.push({type:"web_fetch_20250910",name:"web_fetch",max_uses:p.maxUses,allowed_domains:p.allowedDomains,blocked_domains:p.blockedDomains,citations:p.citations,max_content_tokens:p.maxContentTokens,cache_control:void 0});break}case"anthropic.web_search_20250305":{let p=await Yo({value:d.args,schema:xfe});u.push({type:"web_search_20250305",name:"web_search",max_uses:p.maxUses,allowed_domains:p.allowedDomains,blocked_domains:p.blockedDomains,user_location:p.userLocation,cache_control:void 0});break}default:{o.push({type:"unsupported-tool",tool:d});break}}break}default:{o.push({type:"unsupported-tool",tool:d});break}}if(t==null)return{tools:u,toolChoice:r?{type:"auto",disable_parallel_tool_use:r}:void 0,toolWarnings:o,betas:i};let l=t.type;switch(l){case"auto":return{tools:u,toolChoice:{type:"auto",disable_parallel_tool_use:r},toolWarnings:o,betas:i};case"required":return{tools:u,toolChoice:{type:"any",disable_parallel_tool_use:r},toolWarnings:o,betas:i};case"none":return{tools:void 0,toolChoice:void 0,toolWarnings:o,betas:i};case"tool":return{tools:u,toolChoice:{type:"tool",name:t.toolName,disable_parallel_tool_use:r},toolWarnings:o,betas:i};default:{let d=l;throw new Pt({functionality:`tool choice type: ${d}`})}}}a(Cfe,"prepareTools");var mB=st(()=>at(c.object({type:c.literal("code_execution_result"),stdout:c.string(),stderr:c.string(),return_code:c.number()}))),Rfe=st(()=>at(c.object({code:c.string()}))),$fe=ja({id:"anthropic.code_execution_20250522",name:"code_execution",inputSchema:Rfe,outputSchema:mB}),Nfe=a((e={})=>$fe(e),"codeExecution_20250522"),fB=st(()=>at(c.discriminatedUnion("type",[c.object({type:c.literal("bash_code_execution_result"),content:c.array(c.object({type:c.literal("bash_code_execution_output"),file_id:c.string()})),stdout:c.string(),stderr:c.string(),return_code:c.number()}),c.object({type:c.literal("bash_code_execution_tool_result_error"),error_code:c.string()}),c.object({type:c.literal("text_editor_code_execution_tool_result_error"),error_code:c.string()}),c.object({type:c.literal("text_editor_code_execution_view_result"),content:c.string(),file_type:c.string(),num_lines:c.number().nullable(),start_line:c.number().nullable(),total_lines:c.number().nullable()}),c.object({type:c.literal("text_editor_code_execution_create_result"),is_file_update:c.boolean()}),c.object({type:c.literal("text_editor_code_execution_str_replace_result"),lines:c.array(c.string()).nullable(),new_lines:c.number().nullable(),new_start:c.number().nullable(),old_lines:c.number().nullable(),old_start:c.number().nullable()})]))),zfe=st(()=>at(c.discriminatedUnion("type",[c.object({type:c.literal("bash_code_execution"),command:c.string()}),c.discriminatedUnion("command",[c.object({type:c.literal("text_editor_code_execution"),command:c.literal("view"),path:c.string()}),c.object({type:c.literal("text_editor_code_execution"),command:c.literal("create"),path:c.string(),file_text:c.string().nullish()}),c.object({type:c.literal("text_editor_code_execution"),command:c.literal("str_replace"),path:c.string(),old_str:c.string(),new_str:c.string()})])]))),jfe=ja({id:"anthropic.code_execution_20250825",name:"code_execution",inputSchema:zfe,outputSchema:fB}),Dfe=a((e={})=>jfe(e),"codeExecution_20250825");function Mfe(e){if(typeof e=="string")return Buffer.from(e,"base64").toString("utf-8");if(e instanceof Uint8Array)return new TextDecoder().decode(e);throw e instanceof URL?new Pt({functionality:"URL-based text documents are not supported for citations"}):new Pt({functionality:`unsupported data type for text documents: ${typeof e}`})}a(Mfe,"convertToString");async function qfe({prompt:e,sendReasoning:t,warnings:r,cacheControlValidator:n}){var o,i,s,u,l;let d=new Set,p=Ufe(e),f=n||new T1,m,y=[];async function g(v){var S,b;let w=await Ic({provider:"anthropic",providerOptions:v,schema:sB});return(b=(S=w?.citations)==null?void 0:S.enabled)!=null?b:!1}a(g,"shouldEnableCitations");async function h(v){let S=await Ic({provider:"anthropic",providerOptions:v,schema:sB});return{title:S?.title,context:S?.context}}a(h,"getDocumentMetadata");for(let v=0;v<p.length;v++){let S=p[v],b=v===p.length-1,w=S.type;switch(w){case"system":{if(m!=null)throw new Pt({functionality:"Multiple system messages that are separated by user/assistant messages"});m=S.messages.map(({content:k,providerOptions:$})=>({type:"text",text:k,cache_control:f.getCacheControl($,{type:"system message",canCache:!0})}));break}case"user":{let k=[];for(let $ of S.messages){let{role:C,content:A}=$;switch(C){case"user":{for(let R=0;R<A.length;R++){let O=A[R],z=R===A.length-1,D=(o=f.getCacheControl(O.providerOptions,{type:"user message part",canCache:!0}))!=null?o:z?f.getCacheControl($.providerOptions,{type:"user message",canCache:!0}):void 0;switch(O.type){case"text":{k.push({type:"text",text:O.text,cache_control:D});break}case"file":{if(O.mediaType.startsWith("image/"))k.push({type:"image",source:O.data instanceof URL?{type:"url",url:O.data.toString()}:{type:"base64",media_type:O.mediaType==="image/*"?"image/jpeg":O.mediaType,data:x1(O.data)},cache_control:D});else if(O.mediaType==="application/pdf"){d.add("pdfs-2024-09-25");let X=await g(O.providerOptions),G=await h(O.providerOptions);k.push({type:"document",source:O.data instanceof URL?{type:"url",url:O.data.toString()}:{type:"base64",media_type:"application/pdf",data:x1(O.data)},title:(i=G.title)!=null?i:O.filename,...G.context&&{context:G.context},...X&&{citations:{enabled:!0}},cache_control:D})}else if(O.mediaType==="text/plain"){let X=await g(O.providerOptions),G=await h(O.providerOptions);k.push({type:"document",source:O.data instanceof URL?{type:"url",url:O.data.toString()}:{type:"text",media_type:"text/plain",data:Mfe(O.data)},title:(s=G.title)!=null?s:O.filename,...G.context&&{context:G.context},...X&&{citations:{enabled:!0}},cache_control:D})}else throw new Pt({functionality:`media type: ${O.mediaType}`});break}}}break}case"tool":{for(let R=0;R<A.length;R++){let O=A[R],z=R===A.length-1,D=(u=f.getCacheControl(O.providerOptions,{type:"tool result part",canCache:!0}))!=null?u:z?f.getCacheControl($.providerOptions,{type:"tool result message",canCache:!0}):void 0,X=O.output,G;switch(X.type){case"content":G=X.value.map(B=>{switch(B.type){case"text":return{type:"text",text:B.text};case"media":{if(B.mediaType.startsWith("image/"))return{type:"image",source:{type:"base64",media_type:B.mediaType,data:B.data}};if(B.mediaType==="application/pdf")return d.add("pdfs-2024-09-25"),{type:"document",source:{type:"base64",media_type:B.mediaType,data:B.data}};throw new Pt({functionality:`media type: ${B.mediaType}`})}}});break;case"text":case"error-text":G=X.value;break;case"json":case"error-json":default:G=JSON.stringify(X.value);break}k.push({type:"tool_result",tool_use_id:O.toolCallId,content:G,is_error:X.type==="error-text"||X.type==="error-json"?!0:void 0,cache_control:D})}break}default:{let R=C;throw new Error(`Unsupported role: ${R}`)}}}y.push({role:"user",content:k});break}case"assistant":{let k=[];for(let $=0;$<S.messages.length;$++){let C=S.messages[$],A=$===S.messages.length-1,{content:R}=C;for(let O=0;O<R.length;O++){let z=R[O],D=O===R.length-1,X=(l=f.getCacheControl(z.providerOptions,{type:"assistant message part",canCache:!0}))!=null?l:D?f.getCacheControl(C.providerOptions,{type:"assistant message",canCache:!0}):void 0;switch(z.type){case"text":{k.push({type:"text",text:b&&A&&D?z.text.trim():z.text,cache_control:X});break}case"reasoning":{if(t){let G=await Ic({provider:"anthropic",providerOptions:z.providerOptions,schema:gfe});G!=null?G.signature!=null?(f.getCacheControl(z.providerOptions,{type:"thinking block",canCache:!1}),k.push({type:"thinking",thinking:z.text,signature:G.signature})):G.redactedData!=null?(f.getCacheControl(z.providerOptions,{type:"redacted thinking block",canCache:!1}),k.push({type:"redacted_thinking",data:G.redactedData})):r.push({type:"other",message:"unsupported reasoning metadata"}):r.push({type:"other",message:"unsupported reasoning metadata"})}else r.push({type:"other",message:"sending reasoning content is disabled for this model"});break}case"tool-call":{if(z.providerExecuted){z.toolName==="code_execution"&&z.input!=null&&typeof z.input=="object"&&"type"in z.input&&typeof z.input.type=="string"&&(z.input.type==="bash_code_execution"||z.input.type==="text_editor_code_execution")?k.push({type:"server_tool_use",id:z.toolCallId,name:z.input.type,input:z.input,cache_control:X}):z.toolName==="code_execution"||z.toolName==="web_fetch"||z.toolName==="web_search"?k.push({type:"server_tool_use",id:z.toolCallId,name:z.toolName,input:z.input,cache_control:X}):r.push({type:"other",message:`provider executed tool call for tool ${z.toolName} is not supported`});break}k.push({type:"tool_use",id:z.toolCallId,name:z.toolName,input:z.input,cache_control:X});break}case"tool-result":{if(z.toolName==="code_execution"){let G=z.output;if(G.type!=="json"){r.push({type:"other",message:`provider executed tool result output type ${G.type} for tool ${z.toolName} is not supported`});break}if(G.value==null||typeof G.value!="object"||!("type"in G.value)||typeof G.value.type!="string"){r.push({type:"other",message:`provider executed tool result output value is not a valid code execution result for tool ${z.toolName}`});break}if(G.value.type==="code_execution_result"){let B=await Yo({value:G.value,schema:mB});k.push({type:"code_execution_tool_result",tool_use_id:z.toolCallId,content:{type:B.type,stdout:B.stdout,stderr:B.stderr,return_code:B.return_code},cache_control:X})}else{let B=await Yo({value:G.value,schema:fB});k.push(B.type==="bash_code_execution_result"||B.type==="bash_code_execution_tool_result_error"?{type:"bash_code_execution_tool_result",tool_use_id:z.toolCallId,cache_control:X,content:B}:{type:"text_editor_code_execution_tool_result",tool_use_id:z.toolCallId,cache_control:X,content:B})}break}if(z.toolName==="web_fetch"){let G=z.output;if(G.type!=="json"){r.push({type:"other",message:`provider executed tool result output type ${G.type} for tool ${z.toolName} is not supported`});break}let B=await Yo({value:G.value,schema:pB});k.push({type:"web_fetch_tool_result",tool_use_id:z.toolCallId,content:{type:"web_fetch_result",url:B.url,retrieved_at:B.retrievedAt,content:{type:"document",title:B.content.title,citations:B.content.citations,source:{type:B.content.source.type,media_type:B.content.source.mediaType,data:B.content.source.data}}},cache_control:X});break}if(z.toolName==="web_search"){let G=z.output;if(G.type!=="json"){r.push({type:"other",message:`provider executed tool result output type ${G.type} for tool ${z.toolName} is not supported`});break}let B=await Yo({value:G.value,schema:dB});k.push({type:"web_search_tool_result",tool_use_id:z.toolCallId,content:B.map(te=>({url:te.url,title:te.title,page_age:te.pageAge,encrypted_content:te.encryptedContent,type:te.type})),cache_control:X});break}r.push({type:"other",message:`provider executed tool result for tool ${z.toolName} is not supported`});break}}}}y.push({role:"assistant",content:k});break}default:{let k=w;throw new Error(`content type: ${k}`)}}}return{prompt:{system:m,messages:y},betas:d}}a(qfe,"convertToAnthropicMessagesPrompt");function Ufe(e){let t=[],r;for(let n of e){let{role:o}=n;switch(o){case"system":{r?.type!=="system"&&(r={type:"system",messages:[]},t.push(r)),r.messages.push(n);break}case"assistant":{r?.type!=="assistant"&&(r={type:"assistant",messages:[]},t.push(r)),r.messages.push(n);break}case"user":{r?.type!=="user"&&(r={type:"user",messages:[]},t.push(r)),r.messages.push(n);break}case"tool":{r?.type!=="user"&&(r={type:"user",messages:[]},t.push(r)),r.messages.push(n);break}default:{let i=o;throw new Error(`Unsupported role: ${i}`)}}}return t}a(Ufe,"groupIntoBlocks");function cB({finishReason:e,isJsonResponseFromTool:t}){switch(e){case"pause_turn":case"end_turn":case"stop_sequence":return"stop";case"refusal":return"content-filter";case"tool_use":return t?"stop":"tool-calls";case"max_tokens":return"length";default:return"unknown"}}a(cB,"mapAnthropicStopReason");function lB(e,t,r){var n;if(e.type!=="page_location"&&e.type!=="char_location")return;let o=t[e.document_index];if(o)return{type:"source",sourceType:"document",id:r(),mediaType:o.mediaType,title:(n=e.document_title)!=null?n:o.title,filename:o.filename,providerMetadata:{anthropic:e.type==="page_location"?{citedText:e.cited_text,startPageNumber:e.start_page_number,endPageNumber:e.end_page_number}:{citedText:e.cited_text,startCharIndex:e.start_char_index,endCharIndex:e.end_char_index}}}}a(lB,"createCitationSource");var Lfe=class{static{a(this,"AnthropicMessagesLanguageModel")}constructor(e,t){this.specificationVersion="v2";var r;this.modelId=e,this.config=t,this.generateId=(r=t.generateId)!=null?r:ry}supportsUrl(e){return e.protocol==="https:"}get provider(){return this.config.provider}get supportedUrls(){var e,t,r;return(r=(t=(e=this.config).supportedUrls)==null?void 0:t.call(e))!=null?r:{}}async getArgs({userSuppliedBetas:e,prompt:t,maxOutputTokens:r,temperature:n,topP:o,topK:i,frequencyPenalty:s,presencePenalty:u,stopSequences:l,responseFormat:d,seed:p,tools:f,toolChoice:m,providerOptions:y}){var g,h,v,S,b;let w=[];s!=null&&w.push({type:"unsupported-setting",setting:"frequencyPenalty"}),u!=null&&w.push({type:"unsupported-setting",setting:"presencePenalty"}),p!=null&&w.push({type:"unsupported-setting",setting:"seed"}),n!=null&&n>1?(w.push({type:"unsupported-setting",setting:"temperature",details:`${n} exceeds anthropic maximum of 1.0. clamped to 1.0`}),n=1):n!=null&&n<0&&(w.push({type:"unsupported-setting",setting:"temperature",details:`${n} is below anthropic minimum of 0. clamped to 0`}),n=0),d?.type==="json"&&(d.schema==null?w.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format requires a schema. The response format is ignored."}):f!=null&&w.push({type:"unsupported-setting",setting:"tools",details:"JSON response format does not support tools. The provided tools are ignored."}));let k=await Ic({provider:"anthropic",providerOptions:y,schema:yfe}),{maxOutputTokens:$,supportsStructuredOutput:C,isKnownModel:A}=Ffe(this.modelId),R=(g=k?.structuredOutputMode)!=null?g:"jsonTool",O=R==="outputFormat"||R==="auto"&&C,z=d?.type==="json"&&d.schema!=null&&!O?{type:"function",name:"json",description:"Respond with a JSON object.",inputSchema:d.schema}:void 0,D=new T1,{prompt:X,betas:G}=await qfe({prompt:t,sendReasoning:(h=k?.sendReasoning)!=null?h:!0,warnings:w,cacheControlValidator:D}),B=((v=k?.thinking)==null?void 0:v.type)==="enabled",te=(S=k?.thinking)==null?void 0:S.budgetTokens,ne=r??$,ae={model:this.modelId,max_tokens:ne,temperature:n,top_k:i,top_p:o,stop_sequences:l,...B&&{thinking:{type:"enabled",budget_tokens:te}},...k?.effort&&{output_config:{effort:k.effort}},...O&&d?.type==="json"&&d.schema!=null&&{output_format:{type:"json_schema",schema:d.schema}},...k?.container&&{container:{id:k.container.id,skills:(b=k.container.skills)==null?void 0:b.map(Re=>({type:Re.type,skill_id:Re.skillId,version:Re.version}))}},system:X.system,messages:X.messages};if(B){if(te==null)throw new Pt({functionality:"thinking requires a budget"});ae.temperature!=null&&(ae.temperature=void 0,w.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported when thinking is enabled"})),i!=null&&(ae.top_k=void 0,w.push({type:"unsupported-setting",setting:"topK",details:"topK is not supported when thinking is enabled"})),o!=null&&(ae.top_p=void 0,w.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported when thinking is enabled"})),ae.max_tokens=ne+te}A&&ae.max_tokens>$&&(r!=null&&w.push({type:"unsupported-setting",setting:"maxOutputTokens",details:`${ae.max_tokens} (maxOutputTokens + thinkingBudget) is greater than ${this.modelId} ${$} max output tokens. The max output tokens have been limited to ${$}.`}),ae.max_tokens=$),k?.container&&k.container.skills&&k.container.skills.length>0&&(G.add("code-execution-2025-08-25"),G.add("skills-2025-10-02"),G.add("files-api-2025-04-14"),f?.some(Re=>Re.type==="provider-defined"&&Re.id==="anthropic.code_execution_20250825")||w.push({type:"other",message:"code execution tool is required when using skills"})),k?.effort&&G.add("effort-2025-11-24"),O&&G.add("structured-outputs-2025-11-13");let{tools:Se,toolChoice:ke,toolWarnings:et,betas:Ke}=await Cfe(z!=null?{tools:[z],toolChoice:{type:"tool",toolName:z.name},disableParallelToolUse:!0,cacheControlValidator:D}:{tools:f??[],toolChoice:m,disableParallelToolUse:k?.disableParallelToolUse,cacheControlValidator:D}),Q=D.getWarnings();return{args:{...ae,tools:Se,tool_choice:ke},warnings:[...w,...et,...Q],betas:new Set([...G,...Ke,...e]),usesJsonResponseTool:z!=null}}async getHeaders({betas:e,headers:t}){return H6(await w1(this.config.headers),t,e.size>0?{"anthropic-beta":Array.from(e).join(",")}:{})}async getBetasFromHeaders(e){var t,r;let o=(t=(await w1(this.config.headers))["anthropic-beta"])!=null?t:"",i=(r=e?.["anthropic-beta"])!=null?r:"";return new Set([...o.toLowerCase().split(","),...i.toLowerCase().split(",")].map(s=>s.trim()).filter(s=>s!==""))}buildRequestUrl(e){var t,r,n;return(n=(r=(t=this.config).buildRequestUrl)==null?void 0:r.call(t,this.config.baseURL,e))!=null?n:`${this.config.baseURL}/messages`}transformRequestBody(e){var t,r,n;return(n=(r=(t=this.config).transformRequestBody)==null?void 0:r.call(t,e))!=null?n:e}extractCitationDocuments(e){let t=a(r=>{var n,o;if(r.type!=="file"||r.mediaType!=="application/pdf"&&r.mediaType!=="text/plain")return!1;let i=(n=r.providerOptions)==null?void 0:n.anthropic,s=i?.citations;return(o=s?.enabled)!=null?o:!1},"isCitationPart");return e.filter(r=>r.role==="user").flatMap(r=>r.content).filter(t).map(r=>{var n;let o=r;return{title:(n=o.filename)!=null?n:"Untitled Document",filename:o.filename,mediaType:o.mediaType}})}async doGenerate(e){var t,r,n,o,i,s,u,l;let{args:d,warnings:p,betas:f,usesJsonResponseTool:m}=await this.getArgs({...e,userSuppliedBetas:await this.getBetasFromHeaders(e.headers)}),y=this.extractCitationDocuments(e.prompt),{responseHeaders:g,value:h,rawValue:v}=await S1({url:this.buildRequestUrl(!1),headers:await this.getHeaders({betas:f,headers:e.headers}),body:this.transformRequestBody(d),failedResponseHandler:aB,successfulResponseHandler:Y6(ffe),abortSignal:e.abortSignal,fetch:this.config.fetch}),S=[];for(let b of h.content)switch(b.type){case"text":{if(!m&&(S.push({type:"text",text:b.text}),b.citations))for(let w of b.citations){let k=lB(w,y,this.generateId);k&&S.push(k)}break}case"thinking":{S.push({type:"reasoning",text:b.thinking,providerMetadata:{anthropic:{signature:b.signature}}});break}case"redacted_thinking":{S.push({type:"reasoning",text:"",providerMetadata:{anthropic:{redactedData:b.data}}});break}case"tool_use":{S.push(m?{type:"text",text:JSON.stringify(b.input)}:{type:"tool-call",toolCallId:b.id,toolName:b.name,input:JSON.stringify(b.input)});break}case"server_tool_use":{b.name==="text_editor_code_execution"||b.name==="bash_code_execution"?S.push({type:"tool-call",toolCallId:b.id,toolName:"code_execution",input:JSON.stringify({type:b.name,...b.input}),providerExecuted:!0}):(b.name==="web_search"||b.name==="code_execution"||b.name==="web_fetch")&&S.push({type:"tool-call",toolCallId:b.id,toolName:b.name,input:JSON.stringify(b.input),providerExecuted:!0});break}case"web_fetch_tool_result":{b.content.type==="web_fetch_result"?S.push({type:"tool-result",toolCallId:b.tool_use_id,toolName:"web_fetch",result:{type:"web_fetch_result",url:b.content.url,retrievedAt:b.content.retrieved_at,content:{type:b.content.content.type,title:b.content.content.title,citations:b.content.content.citations,source:{type:b.content.content.source.type,mediaType:b.content.content.source.media_type,data:b.content.content.source.data}}},providerExecuted:!0}):b.content.type==="web_fetch_tool_result_error"&&S.push({type:"tool-result",toolCallId:b.tool_use_id,toolName:"web_fetch",isError:!0,result:{type:"web_fetch_tool_result_error",errorCode:b.content.error_code},providerExecuted:!0});break}case"web_search_tool_result":{if(Array.isArray(b.content)){S.push({type:"tool-result",toolCallId:b.tool_use_id,toolName:"web_search",result:b.content.map(w=>{var k;return{url:w.url,title:w.title,pageAge:(k=w.page_age)!=null?k:null,encryptedContent:w.encrypted_content,type:w.type}}),providerExecuted:!0});for(let w of b.content)S.push({type:"source",sourceType:"url",id:this.generateId(),url:w.url,title:w.title,providerMetadata:{anthropic:{pageAge:(t=w.page_age)!=null?t:null}}})}else S.push({type:"tool-result",toolCallId:b.tool_use_id,toolName:"web_search",isError:!0,result:{type:"web_search_tool_result_error",errorCode:b.content.error_code},providerExecuted:!0});break}case"code_execution_tool_result":{b.content.type==="code_execution_result"?S.push({type:"tool-result",toolCallId:b.tool_use_id,toolName:"code_execution",result:{type:b.content.type,stdout:b.content.stdout,stderr:b.content.stderr,return_code:b.content.return_code},providerExecuted:!0}):b.content.type==="code_execution_tool_result_error"&&S.push({type:"tool-result",toolCallId:b.tool_use_id,toolName:"code_execution",isError:!0,result:{type:"code_execution_tool_result_error",errorCode:b.content.error_code},providerExecuted:!0});break}case"bash_code_execution_tool_result":case"text_editor_code_execution_tool_result":{S.push({type:"tool-result",toolCallId:b.tool_use_id,toolName:"code_execution",result:b.content,providerExecuted:!0});break}}return{content:S,finishReason:cB({finishReason:h.stop_reason,isJsonResponseFromTool:m}),usage:{inputTokens:h.usage.input_tokens,outputTokens:h.usage.output_tokens,totalTokens:h.usage.input_tokens+h.usage.output_tokens,cachedInputTokens:(r=h.usage.cache_read_input_tokens)!=null?r:void 0},request:{body:d},response:{id:(n=h.id)!=null?n:void 0,modelId:(o=h.model)!=null?o:void 0,headers:g,body:v},warnings:p,providerMetadata:{anthropic:{usage:h.usage,cacheCreationInputTokens:(i=h.usage.cache_creation_input_tokens)!=null?i:null,stopSequence:(s=h.stop_sequence)!=null?s:null,container:h.container?{expiresAt:h.container.expires_at,id:h.container.id,skills:(l=(u=h.container.skills)==null?void 0:u.map(b=>({type:b.type,skillId:b.skill_id,version:b.version})))!=null?l:null}:null}}}}async doStream(e){let{args:t,warnings:r,betas:n,usesJsonResponseTool:o}=await this.getArgs({...e,userSuppliedBetas:await this.getBetasFromHeaders(e.headers)}),i=this.extractCitationDocuments(e.prompt),s={...t,stream:!0},u=this.buildRequestUrl(!0),{responseHeaders:l,value:d}=await S1({url:u,headers:await this.getHeaders({betas:n,headers:e.headers}),body:this.transformRequestBody(s),failedResponseHandler:aB,successfulResponseHandler:X6(hfe),abortSignal:e.abortSignal,fetch:this.config.fetch}),p="unknown",f={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},m={},y,g=null,h=null,v=null,S,b=this.generateId,w=!0,k,$=new V6,C=d.pipeThrough(new TransformStream({start(z){z.enqueue({type:"stream-start",warnings:r})},async flush(){$.isPending()&&$.resolve({stream:k,request:{body:s},response:{headers:l}})},transform(z,D){var X,G,B,te,ne,ae,Se,ke,et,Ke;if(e.includeRawChunks&&D.enqueue({type:"raw",rawValue:z.rawValue}),!z.success){D.enqueue({type:"error",error:z.error});return}if(w){if(z.value.type==="error"){$.reject(new Ye({message:z.value.error.message,url:u,requestBodyValues:s,statusCode:z.value.error.type==="overloaded_error"?529:500,responseHeaders:l,responseBody:JSON.stringify(z.value.error),isRetryable:z.value.error.type==="overloaded_error"})),D.terminate();return}w=!1,$.resolve({stream:k,request:{body:s},response:{headers:l}})}let Q=z.value;switch(Q.type){case"ping":return;case"content_block_start":{let Re=Q.content_block.type;switch(S=Re,Re){case"text":{m[Q.index]={type:"text"},D.enqueue({type:"text-start",id:String(Q.index)});return}case"thinking":{m[Q.index]={type:"reasoning"},D.enqueue({type:"reasoning-start",id:String(Q.index)});return}case"redacted_thinking":{m[Q.index]={type:"reasoning"},D.enqueue({type:"reasoning-start",id:String(Q.index),providerMetadata:{anthropic:{redactedData:Q.content_block.data}}});return}case"tool_use":{m[Q.index]=o?{type:"text"}:{type:"tool-call",toolCallId:Q.content_block.id,toolName:Q.content_block.name,input:"",firstDelta:!0},D.enqueue(o?{type:"text-start",id:String(Q.index)}:{type:"tool-input-start",id:Q.content_block.id,toolName:Q.content_block.name});return}case"server_tool_use":{if(["web_fetch","web_search","code_execution","text_editor_code_execution","bash_code_execution"].includes(Q.content_block.name)){m[Q.index]={type:"tool-call",toolCallId:Q.content_block.id,toolName:Q.content_block.name,input:"",providerExecuted:!0,firstDelta:!0};let ve=Q.content_block.name==="text_editor_code_execution"||Q.content_block.name==="bash_code_execution"?"code_execution":Q.content_block.name;D.enqueue({type:"tool-input-start",id:Q.content_block.id,toolName:ve,providerExecuted:!0})}return}case"web_fetch_tool_result":{let ve=Q.content_block;ve.content.type==="web_fetch_result"?D.enqueue({type:"tool-result",toolCallId:ve.tool_use_id,toolName:"web_fetch",result:{type:"web_fetch_result",url:ve.content.url,retrievedAt:ve.content.retrieved_at,content:{type:ve.content.content.type,title:ve.content.content.title,citations:ve.content.content.citations,source:{type:ve.content.content.source.type,mediaType:ve.content.content.source.media_type,data:ve.content.content.source.data}}},providerExecuted:!0}):ve.content.type==="web_fetch_tool_result_error"&&D.enqueue({type:"tool-result",toolCallId:ve.tool_use_id,toolName:"web_fetch",isError:!0,result:{type:"web_fetch_tool_result_error",errorCode:ve.content.error_code},providerExecuted:!0});return}case"web_search_tool_result":{let ve=Q.content_block;if(Array.isArray(ve.content)){D.enqueue({type:"tool-result",toolCallId:ve.tool_use_id,toolName:"web_search",result:ve.content.map(F=>{var We;return{url:F.url,title:F.title,pageAge:(We=F.page_age)!=null?We:null,encryptedContent:F.encrypted_content,type:F.type}}),providerExecuted:!0});for(let F of ve.content)D.enqueue({type:"source",sourceType:"url",id:b(),url:F.url,title:F.title,providerMetadata:{anthropic:{pageAge:(X=F.page_age)!=null?X:null}}})}else D.enqueue({type:"tool-result",toolCallId:ve.tool_use_id,toolName:"web_search",isError:!0,result:{type:"web_search_tool_result_error",errorCode:ve.content.error_code},providerExecuted:!0});return}case"code_execution_tool_result":{let ve=Q.content_block;ve.content.type==="code_execution_result"?D.enqueue({type:"tool-result",toolCallId:ve.tool_use_id,toolName:"code_execution",result:{type:ve.content.type,stdout:ve.content.stdout,stderr:ve.content.stderr,return_code:ve.content.return_code},providerExecuted:!0}):ve.content.type==="code_execution_tool_result_error"&&D.enqueue({type:"tool-result",toolCallId:ve.tool_use_id,toolName:"code_execution",isError:!0,result:{type:"code_execution_tool_result_error",errorCode:ve.content.error_code},providerExecuted:!0});return}case"bash_code_execution_tool_result":case"text_editor_code_execution_tool_result":{let ve=Q.content_block;D.enqueue({type:"tool-result",toolCallId:ve.tool_use_id,toolName:"code_execution",result:ve.content,providerExecuted:!0});return}default:{let ve=Re;throw new Error(`Unsupported content block type: ${ve}`)}}}case"content_block_stop":{if(m[Q.index]!=null){let Re=m[Q.index];switch(Re.type){case"text":{D.enqueue({type:"text-end",id:String(Q.index)});break}case"reasoning":{D.enqueue({type:"reasoning-end",id:String(Q.index)});break}case"tool-call":if(!o){D.enqueue({type:"tool-input-end",id:Re.toolCallId});let ve=Re.toolName==="text_editor_code_execution"||Re.toolName==="bash_code_execution"?"code_execution":Re.toolName;D.enqueue({type:"tool-call",toolCallId:Re.toolCallId,toolName:ve,input:Re.input,providerExecuted:Re.providerExecuted})}break}delete m[Q.index]}S=void 0;return}case"content_block_delta":{let Re=Q.delta.type;switch(Re){case"text_delta":{if(o)return;D.enqueue({type:"text-delta",id:String(Q.index),delta:Q.delta.text});return}case"thinking_delta":{D.enqueue({type:"reasoning-delta",id:String(Q.index),delta:Q.delta.thinking});return}case"signature_delta":{S==="thinking"&&D.enqueue({type:"reasoning-delta",id:String(Q.index),delta:"",providerMetadata:{anthropic:{signature:Q.delta.signature}}});return}case"input_json_delta":{let ve=m[Q.index],F=Q.delta.partial_json;if(F.length===0)return;if(o){if(ve?.type!=="text")return;D.enqueue({type:"text-delta",id:String(Q.index),delta:F})}else{if(ve?.type!=="tool-call")return;ve.firstDelta&&(ve.toolName==="bash_code_execution"||ve.toolName==="text_editor_code_execution")&&(F=`{"type": "${ve.toolName}",${F.substring(1)}`),D.enqueue({type:"tool-input-delta",id:ve.toolCallId,delta:F}),ve.input+=F,ve.firstDelta=!1}return}case"citations_delta":{let ve=Q.delta.citation,F=lB(ve,i,b);F&&D.enqueue(F);return}default:{let ve=Re;throw new Error(`Unsupported delta type: ${ve}`)}}}case"message_start":{f.inputTokens=Q.message.usage.input_tokens,f.cachedInputTokens=(G=Q.message.usage.cache_read_input_tokens)!=null?G:void 0,y={...Q.message.usage},g=(B=Q.message.usage.cache_creation_input_tokens)!=null?B:null,D.enqueue({type:"response-metadata",id:(te=Q.message.id)!=null?te:void 0,modelId:(ne=Q.message.model)!=null?ne:void 0});return}case"message_delta":{f.outputTokens=Q.usage.output_tokens,f.totalTokens=((ae=f.inputTokens)!=null?ae:0)+((Se=Q.usage.output_tokens)!=null?Se:0),p=cB({finishReason:Q.delta.stop_reason,isJsonResponseFromTool:o}),h=(ke=Q.delta.stop_sequence)!=null?ke:null,v=Q.delta.container!=null?{expiresAt:Q.delta.container.expires_at,id:Q.delta.container.id,skills:(Ke=(et=Q.delta.container.skills)==null?void 0:et.map(Re=>({type:Re.type,skillId:Re.skill_id,version:Re.version})))!=null?Ke:null}:null,y={...y,...Q.usage};return}case"message_stop":{D.enqueue({type:"finish",finishReason:p,usage:f,providerMetadata:{anthropic:{usage:y??null,cacheCreationInputTokens:g,stopSequence:h,container:v}}});return}case"error":{D.enqueue({type:"error",error:Q.error});return}default:{let Re=Q;throw new Error(`Unsupported chunk type: ${Re}`)}}}})),[A,R]=C.tee();k=R;let O=A.getReader();return(async()=>{try{let{done:z}=await O.read();z||await O.cancel()}catch{try{await O.cancel()}catch{}}finally{O.releaseLock()}})(),$.promise}};function Ffe(e){return e.includes("claude-sonnet-4-5")||e.includes("claude-opus-4-5")?{maxOutputTokens:64e3,supportsStructuredOutput:!0,isKnownModel:!0}:e.includes("claude-opus-4-1")?{maxOutputTokens:32e3,supportsStructuredOutput:!0,isKnownModel:!0}:e.includes("claude-sonnet-4-")||e.includes("claude-3-7-sonnet")||e.includes("claude-haiku-4-5")?{maxOutputTokens:64e3,supportsStructuredOutput:!1,isKnownModel:!0}:e.includes("claude-opus-4-")?{maxOutputTokens:32e3,supportsStructuredOutput:!1,isKnownModel:!0}:e.includes("claude-3-5-haiku")?{maxOutputTokens:8192,supportsStructuredOutput:!1,isKnownModel:!0}:e.includes("claude-3-haiku")?{maxOutputTokens:4096,supportsStructuredOutput:!1,isKnownModel:!0}:{maxOutputTokens:4096,supportsStructuredOutput:!1,isKnownModel:!1}}a(Ffe,"getModelCapabilities");var Bfe=st(()=>at(c.object({command:c.string(),restart:c.boolean().optional()}))),Jfe=$r({id:"anthropic.bash_20241022",name:"bash",inputSchema:Bfe}),Hfe=st(()=>at(c.object({command:c.string(),restart:c.boolean().optional()}))),Vfe=$r({id:"anthropic.bash_20250124",name:"bash",inputSchema:Hfe}),Zfe=st(()=>at(c.object({action:c.enum(["key","type","mouse_move","left_click","left_click_drag","right_click","middle_click","double_click","screenshot","cursor_position"]),coordinate:c.array(c.number().int()).optional(),text:c.string().optional()}))),Kfe=$r({id:"anthropic.computer_20241022",name:"computer",inputSchema:Zfe}),Gfe=st(()=>at(c.object({action:c.enum(["key","hold_key","type","cursor_position","mouse_move","left_mouse_down","left_mouse_up","left_click","left_click_drag","right_click","middle_click","double_click","triple_click","scroll","wait","screenshot"]),coordinate:c.tuple([c.number().int(),c.number().int()]).optional(),duration:c.number().optional(),scroll_amount:c.number().optional(),scroll_direction:c.enum(["up","down","left","right"]).optional(),start_coordinate:c.tuple([c.number().int(),c.number().int()]).optional(),text:c.string().optional()}))),Wfe=$r({id:"anthropic.computer_20250124",name:"computer",inputSchema:Gfe}),Qfe=st(()=>at(c.discriminatedUnion("command",[c.object({command:c.literal("view"),path:c.string(),view_range:c.tuple([c.number(),c.number()]).optional()}),c.object({command:c.literal("create"),path:c.string(),file_text:c.string()}),c.object({command:c.literal("str_replace"),path:c.string(),old_str:c.string(),new_str:c.string()}),c.object({command:c.literal("insert"),path:c.string(),insert_line:c.number(),insert_text:c.string()}),c.object({command:c.literal("delete"),path:c.string()}),c.object({command:c.literal("rename"),old_path:c.string(),new_path:c.string()})]))),Xfe=$r({id:"anthropic.memory_20250818",name:"memory",inputSchema:Qfe}),Yfe=st(()=>at(c.object({command:c.enum(["view","create","str_replace","insert","undo_edit"]),path:c.string(),file_text:c.string().optional(),insert_line:c.number().int().optional(),new_str:c.string().optional(),old_str:c.string().optional(),view_range:c.array(c.number().int()).optional()}))),ehe=$r({id:"anthropic.text_editor_20241022",name:"str_replace_editor",inputSchema:Yfe}),the=st(()=>at(c.object({command:c.enum(["view","create","str_replace","insert","undo_edit"]),path:c.string(),file_text:c.string().optional(),insert_line:c.number().int().optional(),new_str:c.string().optional(),old_str:c.string().optional(),view_range:c.array(c.number().int()).optional()}))),rhe=$r({id:"anthropic.text_editor_20250124",name:"str_replace_editor",inputSchema:the}),nhe=st(()=>at(c.object({command:c.enum(["view","create","str_replace","insert"]),path:c.string(),file_text:c.string().optional(),insert_line:c.number().int().optional(),new_str:c.string().optional(),old_str:c.string().optional(),view_range:c.array(c.number().int()).optional()}))),ohe=$r({id:"anthropic.text_editor_20250429",name:"str_replace_based_edit_tool",inputSchema:nhe}),ihe={bash_20241022:Jfe,bash_20250124:Vfe,codeExecution_20250522:Nfe,codeExecution_20250825:Dfe,computer_20241022:Kfe,computer_20250124:Wfe,memory_20250818:Xfe,textEditor_20241022:ehe,textEditor_20250124:rhe,textEditor_20250429:ohe,textEditor_20250728:wfe,webFetch_20250910:Afe,webSearch_20250305:kfe};function ahe(e={}){var t,r;let n=(t=iB(K6({settingValue:e.baseURL,environmentVariableName:"ANTHROPIC_BASE_URL"})))!=null?t:"https://api.anthropic.com/v1",o=(r=e.name)!=null?r:"anthropic.messages",i=a(()=>_1({"anthropic-version":"2023-06-01","x-api-key":Z6({apiKey:e.apiKey,environmentVariableName:"ANTHROPIC_API_KEY",description:"Anthropic"}),...e.headers},`ai-sdk/anthropic/${pfe}`),"getHeaders"),s=a(l=>{var d;return new Lfe(l,{provider:o,baseURL:n,headers:i,fetch:e.fetch,generateId:(d=e.generateId)!=null?d:ry,supportedUrls:a(()=>({"image/*":[/^https?:\/\/.*$/]}),"supportedUrls")})},"createChatModel"),u=a(function(l){if(new.target)throw new Error("The Anthropic model function cannot be called with the new keyword.");return s(l)},"provider");return u.languageModel=s,u.chat=s,u.messages=s,u.textEmbeddingModel=l=>{throw new m1({modelId:l,modelType:"textEmbeddingModel"})},u.imageModel=l=>{throw new m1({modelId:l,modelType:"imageModel"})},u.tools=ihe,u}a(ahe,"createAnthropic");var E1=ahe();function Ps(...e){return e.reduce((t,r)=>({...t,...r??{}}),{})}a(Ps,"combineHeaders");function oy(e){return Object.fromEntries([...e.headers])}a(oy,"extractResponseHeaders");var she=a(({prefix:e,size:t=16,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:n="-"}={})=>{let o=a(()=>{let i=r.length,s=new Array(t);for(let u=0;u<t;u++)s[u]=r[Math.random()*i|0];return s.join("")},"generator");if(e==null)return o;if(r.includes(n))throw new Yn({argument:"separator",message:`The separator "${n}" must not be part of the alphabet "${r}".`});return()=>`${e}${n}${o()}`},"createIdGenerator"),iy=she();function I1(e){return(e instanceof Error||e instanceof DOMException)&&(e.name==="AbortError"||e.name==="ResponseAborted"||e.name==="TimeoutError")}a(I1,"isAbortError");var uhe=["fetch failed","failed to fetch"];function che({error:e,url:t,requestBodyValues:r}){if(I1(e))return e;if(e instanceof TypeError&&uhe.includes(e.message.toLowerCase())){let n=e.cause;if(n!=null)return new Ye({message:`Cannot connect to API: ${n.message}`,cause:n,url:t,requestBodyValues:r,isRetryable:!0})}return e}a(che,"handleFetchError");function lhe(e=globalThis){var t,r,n;return e.window?"runtime/browser":(t=e.navigator)!=null&&t.userAgent?`runtime/${e.navigator.userAgent.toLowerCase()}`:(n=(r=e.process)==null?void 0:r.versions)!=null&&n.node?`runtime/node.js/${e.process.version.substring(0)}`:e.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}a(lhe,"getRuntimeEnvironmentUserAgent");function dhe(e){if(e==null)return{};let t={};if(e instanceof Headers)e.forEach((r,n)=>{t[n.toLowerCase()]=r});else{Array.isArray(e)||(e=Object.entries(e));for(let[r,n]of e)n!=null&&(t[r.toLowerCase()]=n)}return t}a(dhe,"normalizeHeaders");function A1(e,...t){let r=new Headers(dhe(e)),n=r.get("user-agent")||"";return r.set("user-agent",[n,...t].filter(Boolean).join(" ")),Object.fromEntries(r.entries())}a(A1,"withUserAgentSuffix");var phe="3.0.18";function vB({apiKey:e,environmentVariableName:t,apiKeyParameterName:r="apiKey",description:n}){if(typeof e=="string")return e;if(e!=null)throw new dn({message:`${n} API key must be a string.`});if(typeof process>"u")throw new dn({message:`${n} API key is missing. Pass it using the '${r}' parameter. Environment variables is not supported in this environment.`});if(e=process.env[t],e==null)throw new dn({message:`${n} API key is missing. Pass it using the '${r}' parameter or the ${t} environment variable.`});if(typeof e!="string")throw new dn({message:`${n} API key must be a string. The value of the ${t} environment variable is not a string.`});return e}a(vB,"loadApiKey");var mhe=/"__proto__"\s*:/,fhe=/"constructor"\s*:/;function hB(e){let t=JSON.parse(e);return t===null||typeof t!="object"||mhe.test(e)===!1&&fhe.test(e)===!1?t:hhe(t)}a(hB,"_parse");function hhe(e){let t=[e];for(;t.length;){let r=t;t=[];for(let n of r){if(Object.prototype.hasOwnProperty.call(n,"__proto__"))throw new SyntaxError("Object contains forbidden prototype property");if(Object.prototype.hasOwnProperty.call(n,"constructor")&&Object.prototype.hasOwnProperty.call(n.constructor,"prototype"))throw new SyntaxError("Object contains forbidden prototype property");for(let o in n){let i=n[o];i&&typeof i=="object"&&t.push(i)}}}return e}a(hhe,"filter");function _B(e){let{stackTraceLimit:t}=Error;try{Error.stackTraceLimit=0}catch{return hB(e)}try{return hB(e)}finally{Error.stackTraceLimit=t}}a(_B,"secureJsonParse");var ny=Symbol.for("vercel.ai.validator");function ghe(e){return{[ny]:!0,validate:e}}a(ghe,"validator");function yhe(e){return typeof e=="object"&&e!==null&&ny in e&&e[ny]===!0&&"validate"in e}a(yhe,"isValidator");function vhe(e){return yhe(e)?e:typeof e=="function"?e():_he(e)}a(vhe,"asValidator");function _he(e){return ghe(async t=>{let r=await e["~standard"].validate(t);return r.issues==null?{success:!0,value:r.value}:{success:!1,error:new Xt({value:t,cause:r.issues})}})}a(_he,"standardSchemaValidator");async function bhe({value:e,schema:t}){let r=await C1({value:e,schema:t});if(!r.success)throw Xt.wrap({value:e,cause:r.error});return r.value}a(bhe,"validateTypes");async function C1({value:e,schema:t}){let r=vhe(t);try{if(r.validate==null)return{success:!0,value:e,rawValue:e};let n=await r.validate(e);return n.success?{success:!0,value:n.value,rawValue:e}:{success:!1,error:Xt.wrap({value:e,cause:n.error}),rawValue:e}}catch(n){return{success:!1,error:Xt.wrap({value:e,cause:n}),rawValue:e}}}a(C1,"safeValidateTypes");async function She({text:e,schema:t}){try{let r=_B(e);return t==null?r:bhe({value:r,schema:t})}catch(r){throw ln.isInstance(r)||Xt.isInstance(r)?r:new ln({text:e,cause:r})}}a(She,"parseJSON");async function bB({text:e,schema:t}){try{let r=_B(e);return t==null?{success:!0,value:r,rawValue:r}:await C1({value:r,schema:t})}catch(r){return{success:!1,error:ln.isInstance(r)?r:new ln({text:e,cause:r}),rawValue:void 0}}}a(bB,"safeParseJSON");function whe({stream:e,schema:t}){return e.pipeThrough(new TextDecoderStream).pipeThrough(new za).pipeThrough(new TransformStream({async transform({data:r},n){r!=="[DONE]"&&n.enqueue(await bB({text:r,schema:t}))}}))}a(whe,"parseJsonEventStream");async function Oc({provider:e,providerOptions:t,schema:r}){if(t?.[e]==null)return;let n=await C1({value:t[e],schema:r});if(!n.success)throw new Yn({argument:"providerOptions",message:`invalid ${e} provider options`,cause:n.error});return n.value}a(Oc,"parseProviderOptions");var xhe=a(()=>globalThis.fetch,"getOriginalFetch2"),Da=a(async({url:e,headers:t,body:r,failedResponseHandler:n,successfulResponseHandler:o,abortSignal:i,fetch:s})=>The({url:e,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(r),values:r},failedResponseHandler:n,successfulResponseHandler:o,abortSignal:i,fetch:s}),"postJsonToApi");var The=a(async({url:e,headers:t={},body:r,successfulResponseHandler:n,failedResponseHandler:o,abortSignal:i,fetch:s=xhe()})=>{try{let u=await s(e,{method:"POST",headers:A1(t,`ai-sdk/provider-utils/${phe}`,lhe()),body:r.content,signal:i}),l=oy(u);if(!u.ok){let d;try{d=await o({response:u,url:e,requestBodyValues:r.values})}catch(p){throw I1(p)||Ye.isInstance(p)?p:new Ye({message:"Failed to process error response",cause:p,statusCode:u.status,url:e,responseHeaders:l,requestBodyValues:r.values})}throw d.value}try{return await n({response:u,url:e,requestBodyValues:r.values})}catch(d){throw d instanceof Error&&(I1(d)||Ye.isInstance(d))?d:new Ye({message:"Failed to process successful response",cause:d,statusCode:u.status,url:e,responseHeaders:l,requestBodyValues:r.values})}}catch(u){throw che({error:u,url:e,requestBodyValues:r.values})}},"postToApi");function Ma({id:e,name:t,inputSchema:r}){return({execute:n,outputSchema:o,toModelOutput:i,onInputStart:s,onInputDelta:u,onInputAvailable:l,...d})=>({type:"provider-defined",id:e,name:t,args:d,inputSchema:r,outputSchema:o,execute:n,toModelOutput:i,onInputStart:s,onInputDelta:u,onInputAvailable:l})}a(Ma,"createProviderDefinedToolFactory");function SB({id:e,name:t,inputSchema:r,outputSchema:n}){return({execute:o,toModelOutput:i,onInputStart:s,onInputDelta:u,onInputAvailable:l,...d})=>({type:"provider-defined",id:e,name:t,args:d,inputSchema:r,outputSchema:n,execute:o,toModelOutput:i,onInputStart:s,onInputDelta:u,onInputAvailable:l})}a(SB,"createProviderDefinedToolFactoryWithOutputSchema");async function Is(e){return typeof e=="function"&&(e=e()),Promise.resolve(e)}a(Is,"resolve");var wB=a(({errorSchema:e,errorToMessage:t,isRetryable:r})=>async({response:n,url:o,requestBodyValues:i})=>{let s=await n.text(),u=oy(n);if(s.trim()==="")return{responseHeaders:u,value:new Ye({message:n.statusText,url:o,requestBodyValues:i,statusCode:n.status,responseHeaders:u,responseBody:s,isRetryable:r?.(n)})};try{let l=await She({text:s,schema:e});return{responseHeaders:u,value:new Ye({message:t(l),url:o,requestBodyValues:i,statusCode:n.status,responseHeaders:u,responseBody:s,data:l,isRetryable:r?.(n,l)})}}catch{return{responseHeaders:u,value:new Ye({message:n.statusText,url:o,requestBodyValues:i,statusCode:n.status,responseHeaders:u,responseBody:s,isRetryable:r?.(n)})}}},"createJsonErrorResponseHandler"),xB=a(e=>async({response:t})=>{let r=oy(t);if(t.body==null)throw new Pc({});return{responseHeaders:r,value:whe({stream:t.body,schema:e})}},"createEventSourceResponseHandler");var Os=a(e=>async({response:t,url:r,requestBodyValues:n})=>{let o=await t.text(),i=await bB({text:o,schema:e}),s=oy(t);if(!i.success)throw new Ye({message:"Invalid JSON response",cause:i.error,statusCode:t.status,responseHeaders:s,responseBody:o,url:r,requestBodyValues:n});return{responseHeaders:s,value:i.value,rawValue:i.rawValue}},"createJsonResponseHandler");var Ehe=a((e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")},"getRelativePath"),khe=Symbol("Let zodToJsonSchema decide on which parser to use"),gB={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},Phe=a(e=>typeof e=="string"?{...gB,name:e}:{...gB,...e},"getDefaultOptions");function Ln(){return{}}a(Ln,"parseAnyDef");function Ihe(e,t){var r,n,o;let i={type:"array"};return(r=e.type)!=null&&r._def&&((o=(n=e.type)==null?void 0:n._def)==null?void 0:o.typeName)!==U.ZodAny&&(i.items=Rt(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&(i.minItems=e.minLength.value),e.maxLength&&(i.maxItems=e.maxLength.value),e.exactLength&&(i.minItems=e.exactLength.value,i.maxItems=e.exactLength.value),i}a(Ihe,"parseArrayDef");function Ohe(e){let t={type:"integer",format:"int64"};if(!e.checks)return t;for(let r of e.checks)switch(r.kind){case"min":r.inclusive?t.minimum=r.value:t.exclusiveMinimum=r.value;break;case"max":r.inclusive?t.maximum=r.value:t.exclusiveMaximum=r.value;break;case"multipleOf":t.multipleOf=r.value;break}return t}a(Ohe,"parseBigintDef");function Ahe(){return{type:"boolean"}}a(Ahe,"parseBooleanDef");function TB(e,t){return Rt(e.type._def,t)}a(TB,"parseBrandedDef");var Che=a((e,t)=>Rt(e.innerType._def,t),"parseCatchDef");function EB(e,t,r){let n=r??t.dateStrategy;if(Array.isArray(n))return{anyOf:n.map((o,i)=>EB(e,t,o))};switch(n){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return Rhe(e)}}a(EB,"parseDateDef");var Rhe=a(e=>{let t={type:"integer",format:"unix-time"};for(let r of e.checks)switch(r.kind){case"min":t.minimum=r.value;break;case"max":t.maximum=r.value;break}return t},"integerDateParser");function $he(e,t){return{...Rt(e.innerType._def,t),default:e.defaultValue()}}a($he,"parseDefaultDef");function Nhe(e,t){return t.effectStrategy==="input"?Rt(e.schema._def,t):Ln()}a(Nhe,"parseEffectsDef");function zhe(e){return{type:"string",enum:Array.from(e.values)}}a(zhe,"parseEnumDef");var jhe=a(e=>"type"in e&&e.type==="string"?!1:"allOf"in e,"isJsonSchema7AllOfType");function Dhe(e,t){let r=[Rt(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),Rt(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(o=>!!o),n=[];return r.forEach(o=>{if(jhe(o))n.push(...o.allOf);else{let i=o;if("additionalProperties"in o&&o.additionalProperties===!1){let{additionalProperties:s,...u}=o;i=u}n.push(i)}}),n.length?{allOf:n}:void 0}a(Dhe,"parseIntersectionDef");function Mhe(e){let t=typeof e.value;return t!=="bigint"&&t!=="number"&&t!=="boolean"&&t!=="string"?{type:Array.isArray(e.value)?"array":"object"}:{type:t==="bigint"?"integer":t,const:e.value}}a(Mhe,"parseLiteralDef");var k1=void 0,$o={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:a(()=>(k1===void 0&&(k1=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),k1),"emoji"),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function kB(e,t){let r={type:"string"};if(e.checks)for(let n of e.checks)switch(n.kind){case"min":r.minLength=typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value;break;case"max":r.maxLength=typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value;break;case"email":switch(t.emailStrategy){case"format:email":No(r,"email",n.message,t);break;case"format:idn-email":No(r,"idn-email",n.message,t);break;case"pattern:zod":mn(r,$o.email,n.message,t);break}break;case"url":No(r,"uri",n.message,t);break;case"uuid":No(r,"uuid",n.message,t);break;case"regex":mn(r,n.regex,n.message,t);break;case"cuid":mn(r,$o.cuid,n.message,t);break;case"cuid2":mn(r,$o.cuid2,n.message,t);break;case"startsWith":mn(r,RegExp(`^${P1(n.value,t)}`),n.message,t);break;case"endsWith":mn(r,RegExp(`${P1(n.value,t)}$`),n.message,t);break;case"datetime":No(r,"date-time",n.message,t);break;case"date":No(r,"date",n.message,t);break;case"time":No(r,"time",n.message,t);break;case"duration":No(r,"duration",n.message,t);break;case"length":r.minLength=typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,r.maxLength=typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value;break;case"includes":{mn(r,RegExp(P1(n.value,t)),n.message,t);break}case"ip":{n.version!=="v6"&&No(r,"ipv4",n.message,t),n.version!=="v4"&&No(r,"ipv6",n.message,t);break}case"base64url":mn(r,$o.base64url,n.message,t);break;case"jwt":mn(r,$o.jwt,n.message,t);break;case"cidr":{n.version!=="v6"&&mn(r,$o.ipv4Cidr,n.message,t),n.version!=="v4"&&mn(r,$o.ipv6Cidr,n.message,t);break}case"emoji":mn(r,$o.emoji(),n.message,t);break;case"ulid":{mn(r,$o.ulid,n.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{No(r,"binary",n.message,t);break}case"contentEncoding:base64":{r.contentEncoding="base64";break}case"pattern:zod":{mn(r,$o.base64,n.message,t);break}}break}case"nanoid":mn(r,$o.nanoid,n.message,t);case"toLowerCase":case"toUpperCase":case"trim":break;default:}return r}a(kB,"parseStringDef");function P1(e,t){return t.patternStrategy==="escape"?Uhe(e):e}a(P1,"escapeLiteralCheckValue");var qhe=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function Uhe(e){let t="";for(let r=0;r<e.length;r++)qhe.has(e[r])||(t+="\\"),t+=e[r];return t}a(Uhe,"escapeNonAlphaNumeric");function No(e,t,r,n){var o;e.format||(o=e.anyOf)!=null&&o.some(i=>i.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format}),delete e.format),e.anyOf.push({format:t,...r&&n.errorMessages&&{errorMessage:{format:r}}})):e.format=t}a(No,"addFormat");function mn(e,t,r,n){var o;e.pattern||(o=e.allOf)!=null&&o.some(i=>i.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern}),delete e.pattern),e.allOf.push({pattern:yB(t,n),...r&&n.errorMessages&&{errorMessage:{pattern:r}}})):e.pattern=yB(t,n)}a(mn,"addPattern");function yB(e,t){var r;if(!t.applyRegexFlags||!e.flags)return e.source;let n={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},o=n.i?e.source.toLowerCase():e.source,i="",s=!1,u=!1,l=!1;for(let d=0;d<o.length;d++){if(s){i+=o[d],s=!1;continue}if(n.i){if(u){if(o[d].match(/[a-z]/)){l?(i+=o[d],i+=`${o[d-2]}-${o[d]}`.toUpperCase(),l=!1):o[d+1]==="-"&&((r=o[d+2])!=null&&r.match(/[a-z]/))?(i+=o[d],l=!0):i+=`${o[d]}${o[d].toUpperCase()}`;continue}}else if(o[d].match(/[a-z]/)){i+=`[${o[d]}${o[d].toUpperCase()}]`;continue}}if(n.m){if(o[d]==="^"){i+=`(^|(?<=[\r
]))`;continue}else if(o[d]==="$"){i+=`($|(?=[\r
]))`;continue}}if(n.s&&o[d]==="."){i+=u?`${o[d]}\r
`:`[${o[d]}\r
]`;continue}i+=o[d],o[d]==="\\"?s=!0:u&&o[d]==="]"?u=!1:!u&&o[d]==="["&&(u=!0)}try{new RegExp(i)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return i}a(yB,"stringifyRegExpWithFlags");function PB(e,t){var r,n,o,i,s,u;let l={type:"object",additionalProperties:(r=Rt(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]}))!=null?r:t.allowedAdditionalProperties};if(((n=e.keyType)==null?void 0:n._def.typeName)===U.ZodString&&((o=e.keyType._def.checks)!=null&&o.length)){let{type:d,...p}=kB(e.keyType._def,t);return{...l,propertyNames:p}}else{if(((i=e.keyType)==null?void 0:i._def.typeName)===U.ZodEnum)return{...l,propertyNames:{enum:e.keyType._def.values}};if(((s=e.keyType)==null?void 0:s._def.typeName)===U.ZodBranded&&e.keyType._def.type._def.typeName===U.ZodString&&((u=e.keyType._def.type._def.checks)!=null&&u.length)){let{type:d,...p}=TB(e.keyType._def,t);return{...l,propertyNames:p}}}return l}a(PB,"parseRecordDef");function Lhe(e,t){if(t.mapStrategy==="record")return PB(e,t);let r=Rt(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||Ln(),n=Rt(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||Ln();return{type:"array",maxItems:125,items:{type:"array",items:[r,n],minItems:2,maxItems:2}}}a(Lhe,"parseMapDef");function Fhe(e){let t=e.values,n=Object.keys(e.values).filter(i=>typeof t[t[i]]!="number").map(i=>t[i]),o=Array.from(new Set(n.map(i=>typeof i)));return{type:o.length===1?o[0]==="string"?"string":"number":["string","number"],enum:n}}a(Fhe,"parseNativeEnumDef");function Bhe(){return{not:Ln()}}a(Bhe,"parseNeverDef");function Jhe(){return{type:"null"}}a(Jhe,"parseNullDef");var O1={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function Hhe(e,t){let r=e.options instanceof Map?Array.from(e.options.values()):e.options;if(r.every(n=>n._def.typeName in O1&&(!n._def.checks||!n._def.checks.length))){let n=r.reduce((o,i)=>{let s=O1[i._def.typeName];return s&&!o.includes(s)?[...o,s]:o},[]);return{type:n.length>1?n:n[0]}}else if(r.every(n=>n._def.typeName==="ZodLiteral"&&!n.description)){let n=r.reduce((o,i)=>{let s=typeof i._def.value;switch(s){case"string":case"number":case"boolean":return[...o,s];case"bigint":return[...o,"integer"];case"object":if(i._def.value===null)return[...o,"null"];case"symbol":case"undefined":case"function":default:return o}},[]);if(n.length===r.length){let o=n.filter((i,s,u)=>u.indexOf(i)===s);return{type:o.length>1?o:o[0],enum:r.reduce((i,s)=>i.includes(s._def.value)?i:[...i,s._def.value],[])}}}else if(r.every(n=>n._def.typeName==="ZodEnum"))return{type:"string",enum:r.reduce((n,o)=>[...n,...o._def.values.filter(i=>!n.includes(i))],[])};return Vhe(e,t)}a(Hhe,"parseUnionDef");var Vhe=a((e,t)=>{let r=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((n,o)=>Rt(n._def,{...t,currentPath:[...t.currentPath,"anyOf",`${o}`]})).filter(n=>!!n&&(!t.strictUnions||typeof n=="object"&&Object.keys(n).length>0));return r.length?{anyOf:r}:void 0},"asAnyOf");function Zhe(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return{type:[O1[e.innerType._def.typeName],"null"]};let r=Rt(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}a(Zhe,"parseNullableDef");function Khe(e){let t={type:"number"};if(!e.checks)return t;for(let r of e.checks)switch(r.kind){case"int":t.type="integer";break;case"min":r.inclusive?t.minimum=r.value:t.exclusiveMinimum=r.value;break;case"max":r.inclusive?t.maximum=r.value:t.exclusiveMaximum=r.value;break;case"multipleOf":t.multipleOf=r.value;break}return t}a(Khe,"parseNumberDef");function Ghe(e,t){let r={type:"object",properties:{}},n=[],o=e.shape();for(let s in o){let u=o[s];if(u===void 0||u._def===void 0)continue;let l=Qhe(u),d=Rt(u._def,{...t,currentPath:[...t.currentPath,"properties",s],propertyPath:[...t.currentPath,"properties",s]});d!==void 0&&(r.properties[s]=d,l||n.push(s))}n.length&&(r.required=n);let i=Whe(e,t);return i!==void 0&&(r.additionalProperties=i),r}a(Ghe,"parseObjectDef");function Whe(e,t){if(e.catchall._def.typeName!=="ZodNever")return Rt(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}a(Whe,"decideAdditionalProperties");function Qhe(e){try{return e.isOptional()}catch{return!0}}a(Qhe,"safeIsOptional");var Xhe=a((e,t)=>{var r;if(t.currentPath.toString()===((r=t.propertyPath)==null?void 0:r.toString()))return Rt(e.innerType._def,t);let n=Rt(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return n?{anyOf:[{not:Ln()},n]}:Ln()},"parseOptionalDef"),Yhe=a((e,t)=>{if(t.pipeStrategy==="input")return Rt(e.in._def,t);if(t.pipeStrategy==="output")return Rt(e.out._def,t);let r=Rt(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),n=Rt(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,n].filter(o=>o!==void 0)}},"parsePipelineDef");function ege(e,t){return Rt(e.type._def,t)}a(ege,"parsePromiseDef");function tge(e,t){let n={type:"array",uniqueItems:!0,items:Rt(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&(n.minItems=e.minSize.value),e.maxSize&&(n.maxItems=e.maxSize.value),n}a(tge,"parseSetDef");function rge(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((r,n)=>Rt(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[]),additionalItems:Rt(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((r,n)=>Rt(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[])}}a(rge,"parseTupleDef");function nge(){return{not:Ln()}}a(nge,"parseUndefinedDef");function oge(){return Ln()}a(oge,"parseUnknownDef");var ige=a((e,t)=>Rt(e.innerType._def,t),"parseReadonlyDef"),age=a((e,t,r)=>{switch(t){case U.ZodString:return kB(e,r);case U.ZodNumber:return Khe(e);case U.ZodObject:return Ghe(e,r);case U.ZodBigInt:return Ohe(e);case U.ZodBoolean:return Ahe();case U.ZodDate:return EB(e,r);case U.ZodUndefined:return nge();case U.ZodNull:return Jhe();case U.ZodArray:return Ihe(e,r);case U.ZodUnion:case U.ZodDiscriminatedUnion:return Hhe(e,r);case U.ZodIntersection:return Dhe(e,r);case U.ZodTuple:return rge(e,r);case U.ZodRecord:return PB(e,r);case U.ZodLiteral:return Mhe(e);case U.ZodEnum:return zhe(e);case U.ZodNativeEnum:return Fhe(e);case U.ZodNullable:return Zhe(e,r);case U.ZodOptional:return Xhe(e,r);case U.ZodMap:return Lhe(e,r);case U.ZodSet:return tge(e,r);case U.ZodLazy:return()=>e.getter()._def;case U.ZodPromise:return ege(e,r);case U.ZodNaN:case U.ZodNever:return Bhe();case U.ZodEffects:return Nhe(e,r);case U.ZodAny:return Ln();case U.ZodUnknown:return oge();case U.ZodDefault:return $he(e,r);case U.ZodBranded:return TB(e,r);case U.ZodReadonly:return ige(e,r);case U.ZodCatch:return Che(e,r);case U.ZodPipeline:return Yhe(e,r);case U.ZodFunction:case U.ZodVoid:case U.ZodSymbol:return;default:return(n=>{})(t)}},"selectParser");function Rt(e,t,r=!1){var n;let o=t.seen.get(e);if(t.override){let l=(n=t.override)==null?void 0:n.call(t,e,t,o,r);if(l!==khe)return l}if(o&&!r){let l=sge(o,t);if(l!==void 0)return l}let i={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,i);let s=age(e,e.typeName,t),u=typeof s=="function"?Rt(s(),t):s;if(u&&uge(e,t,u),t.postProcess){let l=t.postProcess(u,e,t);return i.jsonSchema=u,l}return i.jsonSchema=u,u}a(Rt,"parseDef");var sge=a((e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:Ehe(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((r,n)=>t.currentPath[n]===r)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),Ln()):t.$refStrategy==="seen"?Ln():void 0}},"get$ref"),uge=a((e,t,r)=>(e.description&&(r.description=e.description),r),"addMeta"),cge=a(e=>{let t=Phe(e),r=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([n,o])=>[o._def,{def:o._def,path:[...t.basePath,t.definitionPath,n],jsonSchema:void 0}]))}},"getRefs"),lge=a((e,t)=>{var r;let n=cge(t),o=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((d,[p,f])=>{var m;return{...d,[p]:(m=Rt(f._def,{...n,currentPath:[...n.basePath,n.definitionPath,p]},!0))!=null?m:Ln()}},{}):void 0,i=typeof t=="string"?t:t?.nameStrategy==="title"?void 0:t?.name,s=(r=Rt(e._def,i===void 0?n:{...n,currentPath:[...n.basePath,n.definitionPath,i]},!1))!=null?r:Ln(),u=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;u!==void 0&&(s.title=u);let l=i===void 0?o?{...s,[n.definitionPath]:o}:s:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,i].join("/"),[n.definitionPath]:{...o,[i]:s}};return l.$schema="http://json-schema.org/draft-07/schema#",l},"zodToJsonSchema"),dge=lge;function pge(e,t){var r;let n=(r=t?.useReferences)!=null?r:!1;return IB(()=>dge(e,{$refStrategy:n?"root":"none"}),{validate:a(async o=>{let i=await e.safeParseAsync(o);return i.success?{success:!0,value:i.data}:{success:!1,error:i.error}},"validate")})}a(pge,"zod3Schema");function mge(e,t){var r;let n=(r=t?.useReferences)!=null?r:!1;return IB(()=>Ri(e,{target:"draft-7",io:"output",reused:n?"ref":"inline"}),{validate:a(async o=>{let i=await Ni(e,o);return i.success?{success:!0,value:i.data}:{success:!1,error:i.error}},"validate")})}a(mge,"zod4Schema");function fge(e){return"_zod"in e}a(fge,"isZod4Schema");function br(e,t){return fge(e)?mge(e,t):pge(e,t)}a(br,"zodSchema");var hge=Symbol.for("vercel.ai.schema");function Sr(e){let t;return()=>(t==null&&(t=e()),t)}a(Sr,"lazySchema");function IB(e,{validate:t}={}){return{[hge]:!0,_type:void 0,[ny]:!0,get jsonSchema(){return typeof e=="function"&&(e=e()),e},validate:t}}a(IB,"jsonSchema");var{btoa:gge,atob:aXe}=globalThis;function yge(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCodePoint(e[r]);return gge(t)}a(yge,"convertUint8ArrayToBase64");function R1(e){return e instanceof Uint8Array?yge(e):e}a(R1,"convertToBase64");function OB(e){return e?.replace(/\/$/,"")}a(OB,"withoutTrailingSlash");var vge="2.0.44",_ge=Sr(()=>br(c.object({error:c.object({code:c.number().nullable(),message:c.string(),status:c.string()})}))),Mp=wB({errorSchema:_ge,errorToMessage:a(e=>e.error.message,"errorToMessage")}),bge=Sr(()=>br(c.object({outputDimensionality:c.number().optional(),taskType:c.enum(["SEMANTIC_SIMILARITY","CLASSIFICATION","CLUSTERING","RETRIEVAL_DOCUMENT","RETRIEVAL_QUERY","QUESTION_ANSWERING","FACT_VERIFICATION","CODE_RETRIEVAL_QUERY"]).optional()}))),Sge=class{static{a(this,"GoogleGenerativeAIEmbeddingModel")}constructor(e,t){this.specificationVersion="v2",this.maxEmbeddingsPerCall=2048,this.supportsParallelCalls=!0,this.modelId=e,this.config=t}get provider(){return this.config.provider}async doEmbed({values:e,headers:t,abortSignal:r,providerOptions:n}){let o=await Oc({provider:"google",providerOptions:n,schema:bge});if(e.length>this.maxEmbeddingsPerCall)throw new Yg({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});let i=Ps(await Is(this.config.headers),t);if(e.length===1){let{responseHeaders:d,value:p,rawValue:f}=await Da({url:`${this.config.baseURL}/models/${this.modelId}:embedContent`,headers:i,body:{model:`models/${this.modelId}`,content:{parts:[{text:e[0]}]},outputDimensionality:o?.outputDimensionality,taskType:o?.taskType},failedResponseHandler:Mp,successfulResponseHandler:Os(xge),abortSignal:r,fetch:this.config.fetch});return{embeddings:[p.embedding.values],usage:void 0,response:{headers:d,body:f}}}let{responseHeaders:s,value:u,rawValue:l}=await Da({url:`${this.config.baseURL}/models/${this.modelId}:batchEmbedContents`,headers:i,body:{requests:e.map(d=>({model:`models/${this.modelId}`,content:{role:"user",parts:[{text:d}]},outputDimensionality:o?.outputDimensionality,taskType:o?.taskType}))},failedResponseHandler:Mp,successfulResponseHandler:Os(wge),abortSignal:r,fetch:this.config.fetch});return{embeddings:u.embeddings.map(d=>d.values),usage:void 0,response:{headers:s,body:l}}}},wge=Sr(()=>br(c.object({embeddings:c.array(c.object({values:c.array(c.number())}))}))),xge=Sr(()=>br(c.object({embedding:c.object({values:c.array(c.number())})})));function ei(e){if(e==null||Tge(e))return;if(typeof e=="boolean")return{type:"boolean",properties:{}};let{type:t,description:r,required:n,properties:o,items:i,allOf:s,anyOf:u,oneOf:l,format:d,const:p,minLength:f,enum:m}=e,y={};if(r&&(y.description=r),n&&(y.required=n),d&&(y.format=d),p!==void 0&&(y.enum=[p]),t)if(Array.isArray(t)){let g=t.includes("null"),h=t.filter(v=>v!=="null");h.length===0?y.type="null":(y.anyOf=h.map(v=>({type:v})),g&&(y.nullable=!0))}else y.type=t;if(m!==void 0&&(y.enum=m),o!=null&&(y.properties=Object.entries(o).reduce((g,[h,v])=>(g[h]=ei(v),g),{})),i&&(y.items=Array.isArray(i)?i.map(ei):ei(i)),s&&(y.allOf=s.map(ei)),u)if(u.some(g=>typeof g=="object"&&g?.type==="null")){let g=u.filter(h=>!(typeof h=="object"&&h?.type==="null"));if(g.length===1){let h=ei(g[0]);typeof h=="object"&&(y.nullable=!0,Object.assign(y,h))}else y.anyOf=g.map(ei),y.nullable=!0}else y.anyOf=u.map(ei);return l&&(y.oneOf=l.map(ei)),f!==void 0&&(y.minLength=f),y}a(ei,"convertJSONSchemaToOpenAPISchema");function Tge(e){return e!=null&&typeof e=="object"&&e.type==="object"&&(e.properties==null||Object.keys(e.properties).length===0)&&!e.additionalProperties}a(Tge,"isEmptyObjectSchema");function Ege(e,t){var r;let n=[],o=[],i=!0,s=(r=t?.isGemmaModel)!=null?r:!1;for(let{role:u,content:l}of e)switch(u){case"system":{if(!i)throw new Pt({functionality:"system messages are only supported at the beginning of the conversation"});n.push({text:l});break}case"user":{i=!1;let d=[];for(let p of l)switch(p.type){case"text":{d.push({text:p.text});break}case"file":{let f=p.mediaType==="image/*"?"image/jpeg":p.mediaType;d.push(p.data instanceof URL?{fileData:{mimeType:f,fileUri:p.data.toString()}}:{inlineData:{mimeType:f,data:R1(p.data)}});break}}o.push({role:"user",parts:d});break}case"assistant":{i=!1,o.push({role:"model",parts:l.map(d=>{var p,f,m;let y=((f=(p=d.providerOptions)==null?void 0:p.google)==null?void 0:f.thoughtSignature)!=null?String((m=d.providerOptions.google)==null?void 0:m.thoughtSignature):void 0;switch(d.type){case"text":return d.text.length===0?void 0:{text:d.text,thoughtSignature:y};case"reasoning":return d.text.length===0?void 0:{text:d.text,thought:!0,thoughtSignature:y};case"file":{if(d.mediaType!=="image/png")throw new Pt({functionality:"Only PNG images are supported in assistant messages"});if(d.data instanceof URL)throw new Pt({functionality:"File data URLs in assistant messages are not supported"});return{inlineData:{mimeType:d.mediaType,data:R1(d.data)}}}case"tool-call":return{functionCall:{name:d.toolName,args:d.input},thoughtSignature:y}}}).filter(d=>d!==void 0)});break}case"tool":{i=!1;let d=[];for(let p of l){let f=p.output;if(f.type==="content")for(let m of f.value)switch(m.type){case"text":d.push({functionResponse:{name:p.toolName,response:{name:p.toolName,content:m.text}}});break;case"media":d.push({inlineData:{mimeType:m.mediaType,data:m.data}},{text:"Tool executed successfully and returned this image as a response"});break;default:d.push({text:JSON.stringify(m)});break}else d.push({functionResponse:{name:p.toolName,response:{name:p.toolName,content:f.value}}})}o.push({role:"user",parts:d});break}}if(s&&n.length>0&&o.length>0&&o[0].role==="user"){let u=n.map(l=>l.text).join(`

`);o[0].parts.unshift({text:u+`

`})}return{systemInstruction:n.length>0&&!s?{parts:n}:void 0,contents:o}}a(Ege,"convertToGoogleGenerativeAIMessages");function AB(e){return e.includes("/")?e:`models/${e}`}a(AB,"getModelPath");var kge=Sr(()=>br(c.object({responseModalities:c.array(c.enum(["TEXT","IMAGE"])).optional(),thinkingConfig:c.object({thinkingBudget:c.number().optional(),includeThoughts:c.boolean().optional(),thinkingLevel:c.enum(["low","medium","high"]).optional()}).optional(),cachedContent:c.string().optional(),structuredOutputs:c.boolean().optional(),safetySettings:c.array(c.object({category:c.enum(["HARM_CATEGORY_UNSPECIFIED","HARM_CATEGORY_HATE_SPEECH","HARM_CATEGORY_DANGEROUS_CONTENT","HARM_CATEGORY_HARASSMENT","HARM_CATEGORY_SEXUALLY_EXPLICIT","HARM_CATEGORY_CIVIC_INTEGRITY"]),threshold:c.enum(["HARM_BLOCK_THRESHOLD_UNSPECIFIED","BLOCK_LOW_AND_ABOVE","BLOCK_MEDIUM_AND_ABOVE","BLOCK_ONLY_HIGH","BLOCK_NONE","OFF"])})).optional(),threshold:c.enum(["HARM_BLOCK_THRESHOLD_UNSPECIFIED","BLOCK_LOW_AND_ABOVE","BLOCK_MEDIUM_AND_ABOVE","BLOCK_ONLY_HIGH","BLOCK_NONE","OFF"]).optional(),audioTimestamp:c.boolean().optional(),labels:c.record(c.string(),c.string()).optional(),mediaResolution:c.enum(["MEDIA_RESOLUTION_UNSPECIFIED","MEDIA_RESOLUTION_LOW","MEDIA_RESOLUTION_MEDIUM","MEDIA_RESOLUTION_HIGH"]).optional(),imageConfig:c.object({aspectRatio:c.enum(["1:1","2:3","3:2","3:4","4:3","4:5","5:4","9:16","16:9","21:9"]).optional(),imageSize:c.enum(["1K","2K","4K"]).optional()}).optional()})));function Pge({tools:e,toolChoice:t,modelId:r}){var n;e=e?.length?e:void 0;let o=[],i=["gemini-flash-latest","gemini-flash-lite-latest","gemini-pro-latest"].some(y=>y===r),s=r.includes("gemini-2")||r.includes("gemini-3")||i,u=r.includes("gemini-1.5-flash")&&!r.includes("-8b"),l=r.includes("gemini-2.5");if(e==null)return{tools:void 0,toolConfig:void 0,toolWarnings:o};let d=e.some(y=>y.type==="function"),p=e.some(y=>y.type==="provider-defined");if(d&&p){let y=e.filter(g=>g.type==="function");o.push({type:"unsupported-tool",tool:e.find(g=>g.type==="function"),details:`Cannot mix function tools with provider-defined tools in the same request. Falling back to provider-defined tools only. The following function tools will be ignored: ${y.map(g=>g.name).join(", ")}. Please use either function tools or provider-defined tools, but not both.`})}if(p){let y=[];return e.filter(h=>h.type==="provider-defined").forEach(h=>{switch(h.id){case"google.google_search":s?y.push({googleSearch:{}}):u?y.push({googleSearchRetrieval:{dynamicRetrievalConfig:{mode:h.args.mode,dynamicThreshold:h.args.dynamicThreshold}}}):y.push({googleSearchRetrieval:{}});break;case"google.url_context":s?y.push({urlContext:{}}):o.push({type:"unsupported-tool",tool:h,details:"The URL context tool is not supported with other Gemini models than Gemini 2."});break;case"google.code_execution":s?y.push({codeExecution:{}}):o.push({type:"unsupported-tool",tool:h,details:"The code execution tools is not supported with other Gemini models than Gemini 2."});break;case"google.file_search":l?y.push({fileSearch:{...h.args}}):o.push({type:"unsupported-tool",tool:h,details:"The file search tool is only supported with Gemini 2.5 models."});break;case"google.vertex_rag_store":s?y.push({retrieval:{vertex_rag_store:{rag_resources:{rag_corpus:h.args.ragCorpus},similarity_top_k:h.args.topK}}}):o.push({type:"unsupported-tool",tool:h,details:"The RAG store tool is not supported with other Gemini models than Gemini 2."});break;default:o.push({type:"unsupported-tool",tool:h});break}}),{tools:y.length>0?y:void 0,toolConfig:void 0,toolWarnings:o}}let f=[];for(let y of e)switch(y.type){case"function":f.push({name:y.name,description:(n=y.description)!=null?n:"",parameters:ei(y.inputSchema)});break;default:o.push({type:"unsupported-tool",tool:y});break}if(t==null)return{tools:[{functionDeclarations:f}],toolConfig:void 0,toolWarnings:o};let m=t.type;switch(m){case"auto":return{tools:[{functionDeclarations:f}],toolConfig:{functionCallingConfig:{mode:"AUTO"}},toolWarnings:o};case"none":return{tools:[{functionDeclarations:f}],toolConfig:{functionCallingConfig:{mode:"NONE"}},toolWarnings:o};case"required":return{tools:[{functionDeclarations:f}],toolConfig:{functionCallingConfig:{mode:"ANY"}},toolWarnings:o};case"tool":return{tools:[{functionDeclarations:f}],toolConfig:{functionCallingConfig:{mode:"ANY",allowedFunctionNames:[t.toolName]}},toolWarnings:o};default:{let y=m;throw new Pt({functionality:`tool choice type: ${y}`})}}}a(Pge,"prepareTools");function CB({finishReason:e,hasToolCalls:t}){switch(e){case"STOP":return t?"tool-calls":"stop";case"MAX_TOKENS":return"length";case"IMAGE_SAFETY":case"RECITATION":case"SAFETY":case"BLOCKLIST":case"PROHIBITED_CONTENT":case"SPII":return"content-filter";case"FINISH_REASON_UNSPECIFIED":case"OTHER":return"other";case"MALFORMED_FUNCTION_CALL":return"error";default:return"unknown"}}a(CB,"mapGoogleGenerativeAIFinishReason");var Ige=class{static{a(this,"GoogleGenerativeAILanguageModel")}constructor(e,t){this.specificationVersion="v2";var r;this.modelId=e,this.config=t,this.generateId=(r=t.generateId)!=null?r:iy}get provider(){return this.config.provider}get supportedUrls(){var e,t,r;return(r=(t=(e=this.config).supportedUrls)==null?void 0:t.call(e))!=null?r:{}}async getArgs({prompt:e,maxOutputTokens:t,temperature:r,topP:n,topK:o,frequencyPenalty:i,presencePenalty:s,stopSequences:u,responseFormat:l,seed:d,tools:p,toolChoice:f,providerOptions:m}){var y;let g=[],h=await Oc({provider:"google",providerOptions:m,schema:kge});p?.some(C=>C.type==="provider-defined"&&C.id==="google.vertex_rag_store")&&!this.config.provider.startsWith("google.vertex.")&&g.push({type:"other",message:`The 'vertex_rag_store' tool is only supported with the Google Vertex provider and might not be supported or could behave unexpectedly with the current Google provider (${this.config.provider}).`});let v=this.modelId.toLowerCase().startsWith("gemma-"),{contents:S,systemInstruction:b}=Ege(e,{isGemmaModel:v}),{tools:w,toolConfig:k,toolWarnings:$}=Pge({tools:p,toolChoice:f,modelId:this.modelId});return{args:{generationConfig:{maxOutputTokens:t,temperature:r,topK:o,topP:n,frequencyPenalty:i,presencePenalty:s,stopSequences:u,seed:d,responseMimeType:l?.type==="json"?"application/json":void 0,responseSchema:l?.type==="json"&&l.schema!=null&&((y=h?.structuredOutputs)==null||y)?ei(l.schema):void 0,...h?.audioTimestamp&&{audioTimestamp:h.audioTimestamp},responseModalities:h?.responseModalities,thinkingConfig:h?.thinkingConfig,...h?.imageConfig&&{imageConfig:h.imageConfig},...h?.mediaResolution&&{mediaResolution:h.mediaResolution}},contents:S,systemInstruction:v?void 0:b,safetySettings:h?.safetySettings,tools:w,toolConfig:k,cachedContent:h?.cachedContent,labels:h?.labels},warnings:[...g,...$]}}async doGenerate(e){var t,r,n,o,i,s,u,l,d,p,f,m,y;let{args:g,warnings:h}=await this.getArgs(e),v=JSON.stringify(g),S=Ps(await Is(this.config.headers),e.headers),{responseHeaders:b,value:w,rawValue:k}=await Da({url:`${this.config.baseURL}/${AB(this.modelId)}:generateContent`,headers:S,body:g,failedResponseHandler:Mp,successfulResponseHandler:Os(Age),abortSignal:e.abortSignal,fetch:this.config.fetch}),$=w.candidates[0],C=[],A=(r=(t=$.content)==null?void 0:t.parts)!=null?r:[],R=w.usageMetadata,O;for(let D of A)if("executableCode"in D&&((n=D.executableCode)!=null&&n.code)){let X=this.config.generateId();O=X,C.push({type:"tool-call",toolCallId:X,toolName:"code_execution",input:JSON.stringify(D.executableCode),providerExecuted:!0})}else"codeExecutionResult"in D&&D.codeExecutionResult?(C.push({type:"tool-result",toolCallId:O,toolName:"code_execution",result:{outcome:D.codeExecutionResult.outcome,output:D.codeExecutionResult.output},providerExecuted:!0}),O=void 0):"text"in D&&D.text!=null&&D.text.length>0?C.push({type:D.thought===!0?"reasoning":"text",text:D.text,providerMetadata:D.thoughtSignature?{google:{thoughtSignature:D.thoughtSignature}}:void 0}):"functionCall"in D?C.push({type:"tool-call",toolCallId:this.config.generateId(),toolName:D.functionCall.name,input:JSON.stringify(D.functionCall.args),providerMetadata:D.thoughtSignature?{google:{thoughtSignature:D.thoughtSignature}}:void 0}):"inlineData"in D&&C.push({type:"file",data:D.inlineData.data,mediaType:D.inlineData.mimeType});let z=(o=RB({groundingMetadata:$.groundingMetadata,generateId:this.config.generateId}))!=null?o:[];for(let D of z)C.push(D);return{content:C,finishReason:CB({finishReason:$.finishReason,hasToolCalls:C.some(D=>D.type==="tool-call")}),usage:{inputTokens:(i=R?.promptTokenCount)!=null?i:void 0,outputTokens:(s=R?.candidatesTokenCount)!=null?s:void 0,totalTokens:(u=R?.totalTokenCount)!=null?u:void 0,reasoningTokens:(l=R?.thoughtsTokenCount)!=null?l:void 0,cachedInputTokens:(d=R?.cachedContentTokenCount)!=null?d:void 0},warnings:h,providerMetadata:{google:{promptFeedback:(p=w.promptFeedback)!=null?p:null,groundingMetadata:(f=$.groundingMetadata)!=null?f:null,urlContextMetadata:(m=$.urlContextMetadata)!=null?m:null,safetyRatings:(y=$.safetyRatings)!=null?y:null,usageMetadata:R??null}},request:{body:v},response:{headers:b,body:k}}}async doStream(e){let{args:t,warnings:r}=await this.getArgs(e),n=JSON.stringify(t),o=Ps(await Is(this.config.headers),e.headers),{responseHeaders:i,value:s}=await Da({url:`${this.config.baseURL}/${AB(this.modelId)}:streamGenerateContent?alt=sse`,headers:o,body:t,failedResponseHandler:Mp,successfulResponseHandler:xB(Cge),abortSignal:e.abortSignal,fetch:this.config.fetch}),u="unknown",l={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},d,p=this.config.generateId,f=!1,m=null,y=null,g=0,h=new Set,v;return{stream:s.pipeThrough(new TransformStream({start(S){S.enqueue({type:"stream-start",warnings:r})},transform(S,b){var w,k,$,C,A,R,O,z,D,X,G,B;if(e.includeRawChunks&&b.enqueue({type:"raw",rawValue:S.rawValue}),!S.success){b.enqueue({type:"error",error:S.error});return}let te=S.value,ne=te.usageMetadata;ne!=null&&(l.inputTokens=(w=ne.promptTokenCount)!=null?w:void 0,l.outputTokens=(k=ne.candidatesTokenCount)!=null?k:void 0,l.totalTokens=($=ne.totalTokenCount)!=null?$:void 0,l.reasoningTokens=(C=ne.thoughtsTokenCount)!=null?C:void 0,l.cachedInputTokens=(A=ne.cachedContentTokenCount)!=null?A:void 0);let ae=(R=te.candidates)==null?void 0:R[0];if(ae==null)return;let Se=ae.content,ke=RB({groundingMetadata:ae.groundingMetadata,generateId:p});if(ke!=null)for(let et of ke)et.sourceType==="url"&&!h.has(et.url)&&(h.add(et.url),b.enqueue(et));if(Se!=null){let et=(O=Se.parts)!=null?O:[];for(let Q of et)if("executableCode"in Q&&((z=Q.executableCode)!=null&&z.code)){let Re=p();v=Re,b.enqueue({type:"tool-call",toolCallId:Re,toolName:"code_execution",input:JSON.stringify(Q.executableCode),providerExecuted:!0}),f=!0}else if("codeExecutionResult"in Q&&Q.codeExecutionResult){let Re=v;Re&&(b.enqueue({type:"tool-result",toolCallId:Re,toolName:"code_execution",result:{outcome:Q.codeExecutionResult.outcome,output:Q.codeExecutionResult.output},providerExecuted:!0}),v=void 0)}else"text"in Q&&Q.text!=null&&Q.text.length>0?Q.thought===!0?(m!==null&&(b.enqueue({type:"text-end",id:m}),m=null),y===null&&(y=String(g++),b.enqueue({type:"reasoning-start",id:y,providerMetadata:Q.thoughtSignature?{google:{thoughtSignature:Q.thoughtSignature}}:void 0})),b.enqueue({type:"reasoning-delta",id:y,delta:Q.text,providerMetadata:Q.thoughtSignature?{google:{thoughtSignature:Q.thoughtSignature}}:void 0})):(y!==null&&(b.enqueue({type:"reasoning-end",id:y}),y=null),m===null&&(m=String(g++),b.enqueue({type:"text-start",id:m,providerMetadata:Q.thoughtSignature?{google:{thoughtSignature:Q.thoughtSignature}}:void 0})),b.enqueue({type:"text-delta",id:m,delta:Q.text,providerMetadata:Q.thoughtSignature?{google:{thoughtSignature:Q.thoughtSignature}}:void 0})):"inlineData"in Q&&b.enqueue({type:"file",mediaType:Q.inlineData.mimeType,data:Q.inlineData.data});let Ke=Oge({parts:Se.parts,generateId:p});if(Ke!=null)for(let Q of Ke)b.enqueue({type:"tool-input-start",id:Q.toolCallId,toolName:Q.toolName,providerMetadata:Q.providerMetadata}),b.enqueue({type:"tool-input-delta",id:Q.toolCallId,delta:Q.args,providerMetadata:Q.providerMetadata}),b.enqueue({type:"tool-input-end",id:Q.toolCallId,providerMetadata:Q.providerMetadata}),b.enqueue({type:"tool-call",toolCallId:Q.toolCallId,toolName:Q.toolName,input:Q.args,providerMetadata:Q.providerMetadata}),f=!0}ae.finishReason!=null&&(u=CB({finishReason:ae.finishReason,hasToolCalls:f}),d={google:{promptFeedback:(D=te.promptFeedback)!=null?D:null,groundingMetadata:(X=ae.groundingMetadata)!=null?X:null,urlContextMetadata:(G=ae.urlContextMetadata)!=null?G:null,safetyRatings:(B=ae.safetyRatings)!=null?B:null}},ne!=null&&(d.google.usageMetadata=ne))},flush(S){m!==null&&S.enqueue({type:"text-end",id:m}),y!==null&&S.enqueue({type:"reasoning-end",id:y}),S.enqueue({type:"finish",finishReason:u,usage:l,providerMetadata:d})}})),response:{headers:i},request:{body:n}}}};function Oge({parts:e,generateId:t}){let r=e?.filter(n=>"functionCall"in n);return r==null||r.length===0?void 0:r.map(n=>({type:"tool-call",toolCallId:t(),toolName:n.functionCall.name,args:JSON.stringify(n.functionCall.args),providerMetadata:n.thoughtSignature?{google:{thoughtSignature:n.thoughtSignature}}:void 0}))}a(Oge,"getToolCallsFromParts");function RB({groundingMetadata:e,generateId:t}){var r,n,o,i;if(!e?.groundingChunks)return;let s=[];for(let u of e.groundingChunks)if(u.web!=null)s.push({type:"source",sourceType:"url",id:t(),url:u.web.uri,title:(r=u.web.title)!=null?r:void 0});else if(u.retrievedContext!=null){let l=u.retrievedContext.uri,d=u.retrievedContext.fileSearchStore;if(l&&(l.startsWith("http://")||l.startsWith("https://")))s.push({type:"source",sourceType:"url",id:t(),url:l,title:(n=u.retrievedContext.title)!=null?n:void 0});else if(l){let p=(o=u.retrievedContext.title)!=null?o:"Unknown Document",f="application/octet-stream",m;l.endsWith(".pdf")?(f="application/pdf",m=l.split("/").pop()):l.endsWith(".txt")?(f="text/plain",m=l.split("/").pop()):l.endsWith(".docx")?(f="application/vnd.openxmlformats-officedocument.wordprocessingml.document",m=l.split("/").pop()):l.endsWith(".doc")?(f="application/msword",m=l.split("/").pop()):(l.match(/\.(md|markdown)$/)&&(f="text/markdown"),m=l.split("/").pop()),s.push({type:"source",sourceType:"document",id:t(),mediaType:f,title:p,filename:m})}else if(d){let p=(i=u.retrievedContext.title)!=null?i:"Unknown Document";s.push({type:"source",sourceType:"document",id:t(),mediaType:"application/octet-stream",title:p,filename:d.split("/").pop()})}}return s.length>0?s:void 0}a(RB,"extractSources");var $B=a(()=>c.object({webSearchQueries:c.array(c.string()).nullish(),retrievalQueries:c.array(c.string()).nullish(),searchEntryPoint:c.object({renderedContent:c.string()}).nullish(),groundingChunks:c.array(c.object({web:c.object({uri:c.string(),title:c.string().nullish()}).nullish(),retrievedContext:c.object({uri:c.string().nullish(),title:c.string().nullish(),text:c.string().nullish(),fileSearchStore:c.string().nullish()}).nullish()})).nullish(),groundingSupports:c.array(c.object({segment:c.object({startIndex:c.number().nullish(),endIndex:c.number().nullish(),text:c.string().nullish()}),segment_text:c.string().nullish(),groundingChunkIndices:c.array(c.number()).nullish(),supportChunkIndices:c.array(c.number()).nullish(),confidenceScores:c.array(c.number()).nullish(),confidenceScore:c.array(c.number()).nullish()})).nullish(),retrievalMetadata:c.union([c.object({webDynamicRetrievalScore:c.number()}),c.object({})]).nullish()}),"getGroundingMetadataSchema"),NB=a(()=>c.object({parts:c.array(c.union([c.object({functionCall:c.object({name:c.string(),args:c.unknown()}),thoughtSignature:c.string().nullish()}),c.object({inlineData:c.object({mimeType:c.string(),data:c.string()})}),c.object({executableCode:c.object({language:c.string(),code:c.string()}).nullish(),codeExecutionResult:c.object({outcome:c.string(),output:c.string()}).nullish(),text:c.string().nullish(),thought:c.boolean().nullish(),thoughtSignature:c.string().nullish()})])).nullish()}),"getContentSchema"),ay=a(()=>c.object({category:c.string().nullish(),probability:c.string().nullish(),probabilityScore:c.number().nullish(),severity:c.string().nullish(),severityScore:c.number().nullish(),blocked:c.boolean().nullish()}),"getSafetyRatingSchema"),zB=c.object({cachedContentTokenCount:c.number().nullish(),thoughtsTokenCount:c.number().nullish(),promptTokenCount:c.number().nullish(),candidatesTokenCount:c.number().nullish(),totalTokenCount:c.number().nullish(),trafficType:c.string().nullish()}),jB=a(()=>c.object({urlMetadata:c.array(c.object({retrievedUrl:c.string(),urlRetrievalStatus:c.string()}))}),"getUrlContextMetadataSchema"),Age=Sr(()=>br(c.object({candidates:c.array(c.object({content:NB().nullish().or(c.object({}).strict()),finishReason:c.string().nullish(),safetyRatings:c.array(ay()).nullish(),groundingMetadata:$B().nullish(),urlContextMetadata:jB().nullish()})),usageMetadata:zB.nullish(),promptFeedback:c.object({blockReason:c.string().nullish(),safetyRatings:c.array(ay()).nullish()}).nullish()}))),Cge=Sr(()=>br(c.object({candidates:c.array(c.object({content:NB().nullish(),finishReason:c.string().nullish(),safetyRatings:c.array(ay()).nullish(),groundingMetadata:$B().nullish(),urlContextMetadata:jB().nullish()})).nullish(),usageMetadata:zB.nullish(),promptFeedback:c.object({blockReason:c.string().nullish(),safetyRatings:c.array(ay()).nullish()}).nullish()}))),Rge=SB({id:"google.code_execution",name:"code_execution",inputSchema:c.object({language:c.string().describe("The programming language of the code."),code:c.string().describe("The code to be executed.")}),outputSchema:c.object({outcome:c.string().describe('The outcome of the execution (e.g., "OUTCOME_OK").'),output:c.string().describe("The output from the code execution.")})}),$ge=c.object({fileSearchStoreNames:c.array(c.string()).describe("The names of the file_search_stores to retrieve from. Example: `fileSearchStores/my-file-search-store-123`"),topK:c.number().int().positive().describe("The number of file search retrieval chunks to retrieve.").optional(),metadataFilter:c.string().describe("Metadata filter to apply to the file search retrieval documents. See https://google.aip.dev/160 for the syntax of the filter expression.").optional()}).passthrough(),Nge=Sr(()=>br($ge)),zge=Ma({id:"google.file_search",name:"file_search",inputSchema:Nge}),jge=Ma({id:"google.google_search",name:"google_search",inputSchema:Sr(()=>br(c.object({mode:c.enum(["MODE_DYNAMIC","MODE_UNSPECIFIED"]).default("MODE_UNSPECIFIED"),dynamicThreshold:c.number().default(1)})))}),Dge=Ma({id:"google.url_context",name:"url_context",inputSchema:Sr(()=>br(c.object({})))}),Mge=Ma({id:"google.vertex_rag_store",name:"vertex_rag_store",inputSchema:c.object({ragCorpus:c.string(),topK:c.number().optional()})}),qge={googleSearch:jge,urlContext:Dge,fileSearch:zge,codeExecution:Rge,vertexRagStore:Mge},Uge=class{static{a(this,"GoogleGenerativeAIImageModel")}constructor(e,t,r){this.modelId=e,this.settings=t,this.config=r,this.specificationVersion="v2"}get maxImagesPerCall(){var e;return(e=this.settings.maxImagesPerCall)!=null?e:4}get provider(){return this.config.provider}async doGenerate(e){var t,r,n;let{prompt:o,n:i=1,size:s="1024x1024",aspectRatio:u="1:1",seed:l,providerOptions:d,headers:p,abortSignal:f}=e,m=[];s!=null&&m.push({type:"unsupported-setting",setting:"size",details:"This model does not support the `size` option. Use `aspectRatio` instead."}),l!=null&&m.push({type:"unsupported-setting",setting:"seed",details:"This model does not support the `seed` option through this provider."});let y=await Oc({provider:"google",providerOptions:d,schema:Fge}),g=(n=(r=(t=this.config._internal)==null?void 0:t.currentDate)==null?void 0:r.call(t))!=null?n:new Date,h={sampleCount:i};u!=null&&(h.aspectRatio=u),y&&Object.assign(h,y);let v={instances:[{prompt:o}],parameters:h},{responseHeaders:S,value:b}=await Da({url:`${this.config.baseURL}/models/${this.modelId}:predict`,headers:Ps(await Is(this.config.headers),p),body:v,failedResponseHandler:Mp,successfulResponseHandler:Os(Lge),abortSignal:f,fetch:this.config.fetch});return{images:b.predictions.map(w=>w.bytesBase64Encoded),warnings:m??[],providerMetadata:{google:{images:b.predictions.map(w=>({}))}},response:{timestamp:g,modelId:this.modelId,headers:S}}}},Lge=Sr(()=>br(c.object({predictions:c.array(c.object({bytesBase64Encoded:c.string()})).default([])}))),Fge=Sr(()=>br(c.object({personGeneration:c.enum(["dont_allow","allow_adult","allow_all"]).nullish(),aspectRatio:c.enum(["1:1","3:4","4:3","9:16","16:9"]).nullish()})));function Bge(e={}){var t,r;let n=(t=OB(e.baseURL))!=null?t:"https://generativelanguage.googleapis.com/v1beta",o=(r=e.name)!=null?r:"google.generative-ai",i=a(()=>A1({"x-goog-api-key":vB({apiKey:e.apiKey,environmentVariableName:"GOOGLE_GENERATIVE_AI_API_KEY",description:"Google Generative AI"}),...e.headers},`ai-sdk/google/${vge}`),"getHeaders"),s=a(p=>{var f;return new Ige(p,{provider:o,baseURL:n,headers:i,generateId:(f=e.generateId)!=null?f:iy,supportedUrls:a(()=>({"*":[new RegExp(`^${n}/files/.*$`),new RegExp("^https://(?:www\\.)?youtube\\.com/watch\\?v=[\\w-]+(?:&[\\w=&.-]*)?$"),new RegExp("^https://youtu\\.be/[\\w-]+(?:\\?[\\w=&.-]*)?$")]}),"supportedUrls"),fetch:e.fetch})},"createChatModel"),u=a(p=>new Sge(p,{provider:o,baseURL:n,headers:i,fetch:e.fetch}),"createEmbeddingModel"),l=a((p,f={})=>new Uge(p,f,{provider:o,baseURL:n,headers:i,fetch:e.fetch}),"createImageModel"),d=a(function(p){if(new.target)throw new Error("The Google Generative AI model function cannot be called with the new keyword.");return s(p)},"provider");return d.languageModel=s,d.chat=s,d.generativeAI=s,d.embedding=u,d.textEmbedding=u,d.textEmbeddingModel=u,d.image=l,d.imageModel=l,d.tools=qge,d}a(Bge,"createGoogleGenerativeAI");var $1=Bge();function Br(...e){return e.reduce((t,r)=>({...t,...r??{}}),{})}a(Br,"combineHeaders");function qp(e){return Object.fromEntries([...e.headers])}a(qp,"extractResponseHeaders");var Jge=a(({prefix:e,size:t=16,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:n="-"}={})=>{let o=a(()=>{let i=r.length,s=new Array(t);for(let u=0;u<t;u++)s[u]=r[Math.random()*i|0];return s.join("")},"generator");if(e==null)return o;if(r.includes(n))throw new Yn({argument:"separator",message:`The separator "${n}" must not be part of the alphabet "${r}".`});return()=>`${e}${n}${o()}`},"createIdGenerator"),Do=Jge();function j1(e){return(e instanceof Error||e instanceof DOMException)&&(e.name==="AbortError"||e.name==="ResponseAborted"||e.name==="TimeoutError")}a(j1,"isAbortError");var Hge=["fetch failed","failed to fetch"];function Vge({error:e,url:t,requestBodyValues:r}){if(j1(e))return e;if(e instanceof TypeError&&Hge.includes(e.message.toLowerCase())){let n=e.cause;if(n!=null)return new Ye({message:`Cannot connect to API: ${n.message}`,cause:n,url:t,requestBodyValues:r,isRetryable:!0})}return e}a(Vge,"handleFetchError");function Zge(e=globalThis){var t,r,n;return e.window?"runtime/browser":(t=e.navigator)!=null&&t.userAgent?`runtime/${e.navigator.userAgent.toLowerCase()}`:(n=(r=e.process)==null?void 0:r.versions)!=null&&n.node?`runtime/node.js/${e.process.version.substring(0)}`:e.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}a(Zge,"getRuntimeEnvironmentUserAgent");function Kge(e){if(e==null)return{};let t={};if(e instanceof Headers)e.forEach((r,n)=>{t[n.toLowerCase()]=r});else{Array.isArray(e)||(e=Object.entries(e));for(let[r,n]of e)n!=null&&(t[r.toLowerCase()]=n)}return t}a(Kge,"normalizeHeaders");function M1(e,...t){let r=new Headers(Kge(e)),n=r.get("user-agent")||"";return r.set("user-agent",[n,...t].filter(Boolean).join(" ")),Object.fromEntries(r.entries())}a(M1,"withUserAgentSuffix");var Gge="3.0.18";function UB({apiKey:e,environmentVariableName:t,apiKeyParameterName:r="apiKey",description:n}){if(typeof e=="string")return e;if(e!=null)throw new dn({message:`${n} API key must be a string.`});if(typeof process>"u")throw new dn({message:`${n} API key is missing. Pass it using the '${r}' parameter. Environment variables is not supported in this environment.`});if(e=process.env[t],e==null)throw new dn({message:`${n} API key is missing. Pass it using the '${r}' parameter or the ${t} environment variable.`});if(typeof e!="string")throw new dn({message:`${n} API key must be a string. The value of the ${t} environment variable is not a string.`});return e}a(UB,"loadApiKey");function LB({settingValue:e,environmentVariableName:t}){if(typeof e=="string")return e;if(!(e!=null||typeof process>"u")&&(e=process.env[t],!(e==null||typeof e!="string")))return e}a(LB,"loadOptionalSetting");function FB(e){var t;let[r,n=""]=e.toLowerCase().split("/");return(t={mpeg:"mp3","x-wav":"wav",opus:"ogg",mp4:"m4a","x-m4a":"m4a"}[n])!=null?t:n}a(FB,"mediaTypeToExtension");var Wge=/"__proto__"\s*:/,Qge=/"constructor"\s*:/;function DB(e){let t=JSON.parse(e);return t===null||typeof t!="object"||Wge.test(e)===!1&&Qge.test(e)===!1?t:Xge(t)}a(DB,"_parse");function Xge(e){let t=[e];for(;t.length;){let r=t;t=[];for(let n of r){if(Object.prototype.hasOwnProperty.call(n,"__proto__"))throw new SyntaxError("Object contains forbidden prototype property");if(Object.prototype.hasOwnProperty.call(n,"constructor")&&Object.prototype.hasOwnProperty.call(n.constructor,"prototype"))throw new SyntaxError("Object contains forbidden prototype property");for(let o in n){let i=n[o];i&&typeof i=="object"&&t.push(i)}}}return e}a(Xge,"filter");function q1(e){let{stackTraceLimit:t}=Error;try{Error.stackTraceLimit=0}catch{return DB(e)}try{return DB(e)}finally{Error.stackTraceLimit=t}}a(q1,"secureJsonParse");var sy=Symbol.for("vercel.ai.validator");function Yge(e){return{[sy]:!0,validate:e}}a(Yge,"validator");function eye(e){return typeof e=="object"&&e!==null&&sy in e&&e[sy]===!0&&"validate"in e}a(eye,"isValidator");function Ft(e){let t;return()=>(t==null&&(t=e()),t)}a(Ft,"lazyValidator");function tye(e){return eye(e)?e:typeof e=="function"?e():rye(e)}a(tye,"asValidator");function rye(e){return Yge(async t=>{let r=await e["~standard"].validate(t);return r.issues==null?{success:!0,value:r.value}:{success:!1,error:new Xt({value:t,cause:r.issues})}})}a(rye,"standardSchemaValidator");async function ti({value:e,schema:t}){let r=await U1({value:e,schema:t});if(!r.success)throw Xt.wrap({value:e,cause:r.error});return r.value}a(ti,"validateTypes");async function U1({value:e,schema:t}){let r=tye(t);try{if(r.validate==null)return{success:!0,value:e,rawValue:e};let n=await r.validate(e);return n.success?{success:!0,value:n.value,rawValue:e}:{success:!1,error:Xt.wrap({value:e,cause:n.error}),rawValue:e}}catch(n){return{success:!1,error:Xt.wrap({value:e,cause:n}),rawValue:e}}}a(U1,"safeValidateTypes");async function nye({text:e,schema:t}){try{let r=q1(e);return t==null?r:ti({value:r,schema:t})}catch(r){throw ln.isInstance(r)||Xt.isInstance(r)?r:new ln({text:e,cause:r})}}a(nye,"parseJSON");async function BB({text:e,schema:t}){try{let r=q1(e);return t==null?{success:!0,value:r,rawValue:r}:await U1({value:r,schema:t})}catch(r){return{success:!1,error:ln.isInstance(r)?r:new ln({text:e,cause:r}),rawValue:void 0}}}a(BB,"safeParseJSON");function L1(e){try{return q1(e),!0}catch{return!1}}a(L1,"isParsableJson");function oye({stream:e,schema:t}){return e.pipeThrough(new TextDecoderStream).pipeThrough(new za).pipeThrough(new TransformStream({async transform({data:r},n){r!=="[DONE]"&&n.enqueue(await BB({text:r,schema:t}))}}))}a(oye,"parseJsonEventStream");async function hn({provider:e,providerOptions:t,schema:r}){if(t?.[e]==null)return;let n=await U1({value:t[e],schema:r});if(!n.success)throw new Yn({argument:"providerOptions",message:`invalid ${e} provider options`,cause:n.error});return n.value}a(hn,"parseProviderOptions");var iye=a(()=>globalThis.fetch,"getOriginalFetch2"),gn=a(async({url:e,headers:t,body:r,failedResponseHandler:n,successfulResponseHandler:o,abortSignal:i,fetch:s})=>HB({url:e,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(r),values:r},failedResponseHandler:n,successfulResponseHandler:o,abortSignal:i,fetch:s}),"postJsonToApi"),JB=a(async({url:e,headers:t,formData:r,failedResponseHandler:n,successfulResponseHandler:o,abortSignal:i,fetch:s})=>HB({url:e,headers:t,body:{content:r,values:Object.fromEntries(r.entries())},failedResponseHandler:n,successfulResponseHandler:o,abortSignal:i,fetch:s}),"postFormDataToApi"),HB=a(async({url:e,headers:t={},body:r,successfulResponseHandler:n,failedResponseHandler:o,abortSignal:i,fetch:s=iye()})=>{try{let u=await s(e,{method:"POST",headers:M1(t,`ai-sdk/provider-utils/${Gge}`,Zge()),body:r.content,signal:i}),l=qp(u);if(!u.ok){let d;try{d=await o({response:u,url:e,requestBodyValues:r.values})}catch(p){throw j1(p)||Ye.isInstance(p)?p:new Ye({message:"Failed to process error response",cause:p,statusCode:u.status,url:e,responseHeaders:l,requestBodyValues:r.values})}throw d.value}try{return await n({response:u,url:e,requestBodyValues:r.values})}catch(d){throw d instanceof Error&&(j1(d)||Ye.isInstance(d))?d:new Ye({message:"Failed to process successful response",cause:d,statusCode:u.status,url:e,responseHeaders:l,requestBodyValues:r.values})}}catch(u){throw Vge({error:u,url:e,requestBodyValues:r.values})}},"postToApi");function eo({id:e,name:t,inputSchema:r,outputSchema:n}){return({execute:o,toModelOutput:i,onInputStart:s,onInputDelta:u,onInputAvailable:l,...d})=>({type:"provider-defined",id:e,name:t,args:d,inputSchema:r,outputSchema:n,execute:o,toModelOutput:i,onInputStart:s,onInputDelta:u,onInputAvailable:l})}a(eo,"createProviderDefinedToolFactoryWithOutputSchema");var VB=a(({errorSchema:e,errorToMessage:t,isRetryable:r})=>async({response:n,url:o,requestBodyValues:i})=>{let s=await n.text(),u=qp(n);if(s.trim()==="")return{responseHeaders:u,value:new Ye({message:n.statusText,url:o,requestBodyValues:i,statusCode:n.status,responseHeaders:u,responseBody:s,isRetryable:r?.(n)})};try{let l=await nye({text:s,schema:e});return{responseHeaders:u,value:new Ye({message:t(l),url:o,requestBodyValues:i,statusCode:n.status,responseHeaders:u,responseBody:s,data:l,isRetryable:r?.(n,l)})}}catch{return{responseHeaders:u,value:new Ye({message:n.statusText,url:o,requestBodyValues:i,statusCode:n.status,responseHeaders:u,responseBody:s,isRetryable:r?.(n)})}}},"createJsonErrorResponseHandler"),Ac=a(e=>async({response:t})=>{let r=qp(t);if(t.body==null)throw new Pc({});return{responseHeaders:r,value:oye({stream:t.body,schema:e})}},"createEventSourceResponseHandler");var to=a(e=>async({response:t,url:r,requestBodyValues:n})=>{let o=await t.text(),i=await BB({text:o,schema:e}),s=qp(t);if(!i.success)throw new Ye({message:"Invalid JSON response",cause:i.error,statusCode:t.status,responseHeaders:s,responseBody:o,url:r,requestBodyValues:n});return{responseHeaders:s,value:i.value,rawValue:i.rawValue}},"createJsonResponseHandler"),ZB=a(()=>async({response:e,url:t,requestBodyValues:r})=>{let n=qp(e);if(!e.body)throw new Ye({message:"Response body is empty",url:t,requestBodyValues:r,statusCode:e.status,responseHeaders:n,responseBody:void 0});try{let o=await e.arrayBuffer();return{responseHeaders:n,value:new Uint8Array(o)}}catch(o){throw new Ye({message:"Failed to read response as array buffer",url:t,requestBodyValues:r,statusCode:e.status,responseHeaders:n,responseBody:void 0,cause:o})}},"createBinaryResponseHandler");var aye=a((e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")},"getRelativePath"),sye=Symbol("Let zodToJsonSchema decide on which parser to use"),MB={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},uye=a(e=>typeof e=="string"?{...MB,name:e}:{...MB,...e},"getDefaultOptions");function Fn(){return{}}a(Fn,"parseAnyDef");function cye(e,t){var r,n,o;let i={type:"array"};return(r=e.type)!=null&&r._def&&((o=(n=e.type)==null?void 0:n._def)==null?void 0:o.typeName)!==U.ZodAny&&(i.items=$t(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&(i.minItems=e.minLength.value),e.maxLength&&(i.maxItems=e.maxLength.value),e.exactLength&&(i.minItems=e.exactLength.value,i.maxItems=e.exactLength.value),i}a(cye,"parseArrayDef");function lye(e){let t={type:"integer",format:"int64"};if(!e.checks)return t;for(let r of e.checks)switch(r.kind){case"min":r.inclusive?t.minimum=r.value:t.exclusiveMinimum=r.value;break;case"max":r.inclusive?t.maximum=r.value:t.exclusiveMaximum=r.value;break;case"multipleOf":t.multipleOf=r.value;break}return t}a(lye,"parseBigintDef");function dye(){return{type:"boolean"}}a(dye,"parseBooleanDef");function KB(e,t){return $t(e.type._def,t)}a(KB,"parseBrandedDef");var pye=a((e,t)=>$t(e.innerType._def,t),"parseCatchDef");function GB(e,t,r){let n=r??t.dateStrategy;if(Array.isArray(n))return{anyOf:n.map((o,i)=>GB(e,t,o))};switch(n){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return mye(e)}}a(GB,"parseDateDef");var mye=a(e=>{let t={type:"integer",format:"unix-time"};for(let r of e.checks)switch(r.kind){case"min":t.minimum=r.value;break;case"max":t.maximum=r.value;break}return t},"integerDateParser");function fye(e,t){return{...$t(e.innerType._def,t),default:e.defaultValue()}}a(fye,"parseDefaultDef");function hye(e,t){return t.effectStrategy==="input"?$t(e.schema._def,t):Fn()}a(hye,"parseEffectsDef");function gye(e){return{type:"string",enum:Array.from(e.values)}}a(gye,"parseEnumDef");var yye=a(e=>"type"in e&&e.type==="string"?!1:"allOf"in e,"isJsonSchema7AllOfType");function vye(e,t){let r=[$t(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),$t(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(o=>!!o),n=[];return r.forEach(o=>{if(yye(o))n.push(...o.allOf);else{let i=o;if("additionalProperties"in o&&o.additionalProperties===!1){let{additionalProperties:s,...u}=o;i=u}n.push(i)}}),n.length?{allOf:n}:void 0}a(vye,"parseIntersectionDef");function _ye(e){let t=typeof e.value;return t!=="bigint"&&t!=="number"&&t!=="boolean"&&t!=="string"?{type:Array.isArray(e.value)?"array":"object"}:{type:t==="bigint"?"integer":t,const:e.value}}a(_ye,"parseLiteralDef");var N1=void 0,zo={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:a(()=>(N1===void 0&&(N1=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),N1),"emoji"),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function WB(e,t){let r={type:"string"};if(e.checks)for(let n of e.checks)switch(n.kind){case"min":r.minLength=typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value;break;case"max":r.maxLength=typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value;break;case"email":switch(t.emailStrategy){case"format:email":jo(r,"email",n.message,t);break;case"format:idn-email":jo(r,"idn-email",n.message,t);break;case"pattern:zod":fn(r,zo.email,n.message,t);break}break;case"url":jo(r,"uri",n.message,t);break;case"uuid":jo(r,"uuid",n.message,t);break;case"regex":fn(r,n.regex,n.message,t);break;case"cuid":fn(r,zo.cuid,n.message,t);break;case"cuid2":fn(r,zo.cuid2,n.message,t);break;case"startsWith":fn(r,RegExp(`^${z1(n.value,t)}`),n.message,t);break;case"endsWith":fn(r,RegExp(`${z1(n.value,t)}$`),n.message,t);break;case"datetime":jo(r,"date-time",n.message,t);break;case"date":jo(r,"date",n.message,t);break;case"time":jo(r,"time",n.message,t);break;case"duration":jo(r,"duration",n.message,t);break;case"length":r.minLength=typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,r.maxLength=typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value;break;case"includes":{fn(r,RegExp(z1(n.value,t)),n.message,t);break}case"ip":{n.version!=="v6"&&jo(r,"ipv4",n.message,t),n.version!=="v4"&&jo(r,"ipv6",n.message,t);break}case"base64url":fn(r,zo.base64url,n.message,t);break;case"jwt":fn(r,zo.jwt,n.message,t);break;case"cidr":{n.version!=="v6"&&fn(r,zo.ipv4Cidr,n.message,t),n.version!=="v4"&&fn(r,zo.ipv6Cidr,n.message,t);break}case"emoji":fn(r,zo.emoji(),n.message,t);break;case"ulid":{fn(r,zo.ulid,n.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{jo(r,"binary",n.message,t);break}case"contentEncoding:base64":{r.contentEncoding="base64";break}case"pattern:zod":{fn(r,zo.base64,n.message,t);break}}break}case"nanoid":fn(r,zo.nanoid,n.message,t);case"toLowerCase":case"toUpperCase":case"trim":break;default:}return r}a(WB,"parseStringDef");function z1(e,t){return t.patternStrategy==="escape"?Sye(e):e}a(z1,"escapeLiteralCheckValue");var bye=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function Sye(e){let t="";for(let r=0;r<e.length;r++)bye.has(e[r])||(t+="\\"),t+=e[r];return t}a(Sye,"escapeNonAlphaNumeric");function jo(e,t,r,n){var o;e.format||(o=e.anyOf)!=null&&o.some(i=>i.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format}),delete e.format),e.anyOf.push({format:t,...r&&n.errorMessages&&{errorMessage:{format:r}}})):e.format=t}a(jo,"addFormat");function fn(e,t,r,n){var o;e.pattern||(o=e.allOf)!=null&&o.some(i=>i.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern}),delete e.pattern),e.allOf.push({pattern:qB(t,n),...r&&n.errorMessages&&{errorMessage:{pattern:r}}})):e.pattern=qB(t,n)}a(fn,"addPattern");function qB(e,t){var r;if(!t.applyRegexFlags||!e.flags)return e.source;let n={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},o=n.i?e.source.toLowerCase():e.source,i="",s=!1,u=!1,l=!1;for(let d=0;d<o.length;d++){if(s){i+=o[d],s=!1;continue}if(n.i){if(u){if(o[d].match(/[a-z]/)){l?(i+=o[d],i+=`${o[d-2]}-${o[d]}`.toUpperCase(),l=!1):o[d+1]==="-"&&((r=o[d+2])!=null&&r.match(/[a-z]/))?(i+=o[d],l=!0):i+=`${o[d]}${o[d].toUpperCase()}`;continue}}else if(o[d].match(/[a-z]/)){i+=`[${o[d]}${o[d].toUpperCase()}]`;continue}}if(n.m){if(o[d]==="^"){i+=`(^|(?<=[\r
]))`;continue}else if(o[d]==="$"){i+=`($|(?=[\r
]))`;continue}}if(n.s&&o[d]==="."){i+=u?`${o[d]}\r
`:`[${o[d]}\r
]`;continue}i+=o[d],o[d]==="\\"?s=!0:u&&o[d]==="]"?u=!1:!u&&o[d]==="["&&(u=!0)}try{new RegExp(i)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return i}a(qB,"stringifyRegExpWithFlags");function QB(e,t){var r,n,o,i,s,u;let l={type:"object",additionalProperties:(r=$t(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]}))!=null?r:t.allowedAdditionalProperties};if(((n=e.keyType)==null?void 0:n._def.typeName)===U.ZodString&&((o=e.keyType._def.checks)!=null&&o.length)){let{type:d,...p}=WB(e.keyType._def,t);return{...l,propertyNames:p}}else{if(((i=e.keyType)==null?void 0:i._def.typeName)===U.ZodEnum)return{...l,propertyNames:{enum:e.keyType._def.values}};if(((s=e.keyType)==null?void 0:s._def.typeName)===U.ZodBranded&&e.keyType._def.type._def.typeName===U.ZodString&&((u=e.keyType._def.type._def.checks)!=null&&u.length)){let{type:d,...p}=KB(e.keyType._def,t);return{...l,propertyNames:p}}}return l}a(QB,"parseRecordDef");function wye(e,t){if(t.mapStrategy==="record")return QB(e,t);let r=$t(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||Fn(),n=$t(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||Fn();return{type:"array",maxItems:125,items:{type:"array",items:[r,n],minItems:2,maxItems:2}}}a(wye,"parseMapDef");function xye(e){let t=e.values,n=Object.keys(e.values).filter(i=>typeof t[t[i]]!="number").map(i=>t[i]),o=Array.from(new Set(n.map(i=>typeof i)));return{type:o.length===1?o[0]==="string"?"string":"number":["string","number"],enum:n}}a(xye,"parseNativeEnumDef");function Tye(){return{not:Fn()}}a(Tye,"parseNeverDef");function Eye(){return{type:"null"}}a(Eye,"parseNullDef");var D1={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function kye(e,t){let r=e.options instanceof Map?Array.from(e.options.values()):e.options;if(r.every(n=>n._def.typeName in D1&&(!n._def.checks||!n._def.checks.length))){let n=r.reduce((o,i)=>{let s=D1[i._def.typeName];return s&&!o.includes(s)?[...o,s]:o},[]);return{type:n.length>1?n:n[0]}}else if(r.every(n=>n._def.typeName==="ZodLiteral"&&!n.description)){let n=r.reduce((o,i)=>{let s=typeof i._def.value;switch(s){case"string":case"number":case"boolean":return[...o,s];case"bigint":return[...o,"integer"];case"object":if(i._def.value===null)return[...o,"null"];case"symbol":case"undefined":case"function":default:return o}},[]);if(n.length===r.length){let o=n.filter((i,s,u)=>u.indexOf(i)===s);return{type:o.length>1?o:o[0],enum:r.reduce((i,s)=>i.includes(s._def.value)?i:[...i,s._def.value],[])}}}else if(r.every(n=>n._def.typeName==="ZodEnum"))return{type:"string",enum:r.reduce((n,o)=>[...n,...o._def.values.filter(i=>!n.includes(i))],[])};return Pye(e,t)}a(kye,"parseUnionDef");var Pye=a((e,t)=>{let r=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((n,o)=>$t(n._def,{...t,currentPath:[...t.currentPath,"anyOf",`${o}`]})).filter(n=>!!n&&(!t.strictUnions||typeof n=="object"&&Object.keys(n).length>0));return r.length?{anyOf:r}:void 0},"asAnyOf");function Iye(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return{type:[D1[e.innerType._def.typeName],"null"]};let r=$t(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}a(Iye,"parseNullableDef");function Oye(e){let t={type:"number"};if(!e.checks)return t;for(let r of e.checks)switch(r.kind){case"int":t.type="integer";break;case"min":r.inclusive?t.minimum=r.value:t.exclusiveMinimum=r.value;break;case"max":r.inclusive?t.maximum=r.value:t.exclusiveMaximum=r.value;break;case"multipleOf":t.multipleOf=r.value;break}return t}a(Oye,"parseNumberDef");function Aye(e,t){let r={type:"object",properties:{}},n=[],o=e.shape();for(let s in o){let u=o[s];if(u===void 0||u._def===void 0)continue;let l=Rye(u),d=$t(u._def,{...t,currentPath:[...t.currentPath,"properties",s],propertyPath:[...t.currentPath,"properties",s]});d!==void 0&&(r.properties[s]=d,l||n.push(s))}n.length&&(r.required=n);let i=Cye(e,t);return i!==void 0&&(r.additionalProperties=i),r}a(Aye,"parseObjectDef");function Cye(e,t){if(e.catchall._def.typeName!=="ZodNever")return $t(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}a(Cye,"decideAdditionalProperties");function Rye(e){try{return e.isOptional()}catch{return!0}}a(Rye,"safeIsOptional");var $ye=a((e,t)=>{var r;if(t.currentPath.toString()===((r=t.propertyPath)==null?void 0:r.toString()))return $t(e.innerType._def,t);let n=$t(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return n?{anyOf:[{not:Fn()},n]}:Fn()},"parseOptionalDef"),Nye=a((e,t)=>{if(t.pipeStrategy==="input")return $t(e.in._def,t);if(t.pipeStrategy==="output")return $t(e.out._def,t);let r=$t(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),n=$t(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,n].filter(o=>o!==void 0)}},"parsePipelineDef");function zye(e,t){return $t(e.type._def,t)}a(zye,"parsePromiseDef");function jye(e,t){let n={type:"array",uniqueItems:!0,items:$t(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&(n.minItems=e.minSize.value),e.maxSize&&(n.maxItems=e.maxSize.value),n}a(jye,"parseSetDef");function Dye(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((r,n)=>$t(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[]),additionalItems:$t(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((r,n)=>$t(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[])}}a(Dye,"parseTupleDef");function Mye(){return{not:Fn()}}a(Mye,"parseUndefinedDef");function qye(){return Fn()}a(qye,"parseUnknownDef");var Uye=a((e,t)=>$t(e.innerType._def,t),"parseReadonlyDef"),Lye=a((e,t,r)=>{switch(t){case U.ZodString:return WB(e,r);case U.ZodNumber:return Oye(e);case U.ZodObject:return Aye(e,r);case U.ZodBigInt:return lye(e);case U.ZodBoolean:return dye();case U.ZodDate:return GB(e,r);case U.ZodUndefined:return Mye();case U.ZodNull:return Eye();case U.ZodArray:return cye(e,r);case U.ZodUnion:case U.ZodDiscriminatedUnion:return kye(e,r);case U.ZodIntersection:return vye(e,r);case U.ZodTuple:return Dye(e,r);case U.ZodRecord:return QB(e,r);case U.ZodLiteral:return _ye(e);case U.ZodEnum:return gye(e);case U.ZodNativeEnum:return xye(e);case U.ZodNullable:return Iye(e,r);case U.ZodOptional:return $ye(e,r);case U.ZodMap:return wye(e,r);case U.ZodSet:return jye(e,r);case U.ZodLazy:return()=>e.getter()._def;case U.ZodPromise:return zye(e,r);case U.ZodNaN:case U.ZodNever:return Tye();case U.ZodEffects:return hye(e,r);case U.ZodAny:return Fn();case U.ZodUnknown:return qye();case U.ZodDefault:return fye(e,r);case U.ZodBranded:return KB(e,r);case U.ZodReadonly:return Uye(e,r);case U.ZodCatch:return pye(e,r);case U.ZodPipeline:return Nye(e,r);case U.ZodFunction:case U.ZodVoid:case U.ZodSymbol:return;default:return(n=>{})(t)}},"selectParser");function $t(e,t,r=!1){var n;let o=t.seen.get(e);if(t.override){let l=(n=t.override)==null?void 0:n.call(t,e,t,o,r);if(l!==sye)return l}if(o&&!r){let l=Fye(o,t);if(l!==void 0)return l}let i={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,i);let s=Lye(e,e.typeName,t),u=typeof s=="function"?$t(s(),t):s;if(u&&Bye(e,t,u),t.postProcess){let l=t.postProcess(u,e,t);return i.jsonSchema=u,l}return i.jsonSchema=u,u}a($t,"parseDef");var Fye=a((e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:aye(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((r,n)=>t.currentPath[n]===r)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),Fn()):t.$refStrategy==="seen"?Fn():void 0}},"get$ref"),Bye=a((e,t,r)=>(e.description&&(r.description=e.description),r),"addMeta"),Jye=a(e=>{let t=uye(e),r=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([n,o])=>[o._def,{def:o._def,path:[...t.basePath,t.definitionPath,n],jsonSchema:void 0}]))}},"getRefs"),Hye=a((e,t)=>{var r;let n=Jye(t),o=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((d,[p,f])=>{var m;return{...d,[p]:(m=$t(f._def,{...n,currentPath:[...n.basePath,n.definitionPath,p]},!0))!=null?m:Fn()}},{}):void 0,i=typeof t=="string"?t:t?.nameStrategy==="title"?void 0:t?.name,s=(r=$t(e._def,i===void 0?n:{...n,currentPath:[...n.basePath,n.definitionPath,i]},!1))!=null?r:Fn(),u=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;u!==void 0&&(s.title=u);let l=i===void 0?o?{...s,[n.definitionPath]:o}:s:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,i].join("/"),[n.definitionPath]:{...o,[i]:s}};return l.$schema="http://json-schema.org/draft-07/schema#",l},"zodToJsonSchema"),Vye=Hye;function Zye(e,t){var r;let n=(r=t?.useReferences)!=null?r:!1;return XB(()=>Vye(e,{$refStrategy:n?"root":"none"}),{validate:a(async o=>{let i=await e.safeParseAsync(o);return i.success?{success:!0,value:i.data}:{success:!1,error:i.error}},"validate")})}a(Zye,"zod3Schema");function Kye(e,t){var r;let n=(r=t?.useReferences)!=null?r:!1;return XB(()=>Ri(e,{target:"draft-7",io:"output",reused:n?"ref":"inline"}),{validate:a(async o=>{let i=await Ni(e,o);return i.success?{success:!0,value:i.data}:{success:!1,error:i.error}},"validate")})}a(Kye,"zod4Schema");function Gye(e){return"_zod"in e}a(Gye,"isZod4Schema");function Ue(e,t){return Gye(e)?Kye(e,t):Zye(e,t)}a(Ue,"zodSchema");var Wye=Symbol.for("vercel.ai.schema");function cr(e){let t;return()=>(t==null&&(t=e()),t)}a(cr,"lazySchema");function XB(e,{validate:t}={}){return{[Wye]:!0,_type:void 0,[sy]:!0,get jsonSchema(){return typeof e=="function"&&(e=e()),e},validate:t}}a(XB,"jsonSchema");var{btoa:Qye,atob:Xye}=globalThis;function YB(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),r=Xye(t);return Uint8Array.from(r,n=>n.codePointAt(0))}a(YB,"convertBase64ToUint8Array");function Yye(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCodePoint(e[r]);return Qye(t)}a(Yye,"convertUint8ArrayToBase64");function qa(e){return e instanceof Uint8Array?Yye(e):e}a(qa,"convertToBase64");function eJ(e){return e?.replace(/\/$/,"")}a(eJ,"withoutTrailingSlash");var B1=c.object({error:c.object({message:c.string(),type:c.string().nullish(),param:c.any().nullish(),code:c.union([c.string(),c.number()]).nullish()})}),ri=VB({errorSchema:B1,errorToMessage:a(e=>e.error.message,"errorToMessage")});function eve({prompt:e,systemMessageMode:t="system"}){let r=[],n=[];for(let{role:o,content:i}of e)switch(o){case"system":{switch(t){case"system":{r.push({role:"system",content:i});break}case"developer":{r.push({role:"developer",content:i});break}case"remove":{n.push({type:"other",message:"system messages are removed for this model"});break}default:{let s=t;throw new Error(`Unsupported system message mode: ${s}`)}}break}case"user":{if(i.length===1&&i[0].type==="text"){r.push({role:"user",content:i[0].text});break}r.push({role:"user",content:i.map((s,u)=>{var l,d,p;switch(s.type){case"text":return{type:"text",text:s.text};case"file":if(s.mediaType.startsWith("image/")){let f=s.mediaType==="image/*"?"image/jpeg":s.mediaType;return{type:"image_url",image_url:{url:s.data instanceof URL?s.data.toString():`data:${f};base64,${qa(s.data)}`,detail:(d=(l=s.providerOptions)==null?void 0:l.openai)==null?void 0:d.imageDetail}}}else if(s.mediaType.startsWith("audio/")){if(s.data instanceof URL)throw new Pt({functionality:"audio file parts with URLs"});switch(s.mediaType){case"audio/wav":return{type:"input_audio",input_audio:{data:qa(s.data),format:"wav"}};case"audio/mp3":case"audio/mpeg":return{type:"input_audio",input_audio:{data:qa(s.data),format:"mp3"}};default:throw new Pt({functionality:`audio content parts with media type ${s.mediaType}`})}}else if(s.mediaType==="application/pdf"){if(s.data instanceof URL)throw new Pt({functionality:"PDF file parts with URLs"});return{type:"file",file:typeof s.data=="string"&&s.data.startsWith("file-")?{file_id:s.data}:{filename:(p=s.filename)!=null?p:`part-${u}.pdf`,file_data:`data:application/pdf;base64,${qa(s.data)}`}}}else throw new Pt({functionality:`file part media type ${s.mediaType}`})}})});break}case"assistant":{let s="",u=[];for(let l of i)switch(l.type){case"text":{s+=l.text;break}case"tool-call":{u.push({id:l.toolCallId,type:"function",function:{name:l.toolName,arguments:JSON.stringify(l.input)}});break}}r.push({role:"assistant",content:s,tool_calls:u.length>0?u:void 0});break}case"tool":{for(let s of i){let u=s.output,l;switch(u.type){case"text":case"error-text":l=u.value;break;case"content":case"json":case"error-json":l=JSON.stringify(u.value);break}r.push({role:"tool",tool_call_id:s.toolCallId,content:l})}break}default:{let s=o;throw new Error(`Unsupported role: ${s}`)}}return{messages:r,warnings:n}}a(eve,"convertToOpenAIChatMessages");function F1({id:e,model:t,created:r}){return{id:e??void 0,modelId:t??void 0,timestamp:r?new Date(r*1e3):void 0}}a(F1,"getResponseMetadata");function tJ(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}a(tJ,"mapOpenAIFinishReason");var tve=Ft(()=>Ue(c.object({id:c.string().nullish(),created:c.number().nullish(),model:c.string().nullish(),choices:c.array(c.object({message:c.object({role:c.literal("assistant").nullish(),content:c.string().nullish(),tool_calls:c.array(c.object({id:c.string().nullish(),type:c.literal("function"),function:c.object({name:c.string(),arguments:c.string()})})).nullish(),annotations:c.array(c.object({type:c.literal("url_citation"),start_index:c.number(),end_index:c.number(),url:c.string(),title:c.string()})).nullish()}),index:c.number(),logprobs:c.object({content:c.array(c.object({token:c.string(),logprob:c.number(),top_logprobs:c.array(c.object({token:c.string(),logprob:c.number()}))})).nullish()}).nullish(),finish_reason:c.string().nullish()})),usage:c.object({prompt_tokens:c.number().nullish(),completion_tokens:c.number().nullish(),total_tokens:c.number().nullish(),prompt_tokens_details:c.object({cached_tokens:c.number().nullish()}).nullish(),completion_tokens_details:c.object({reasoning_tokens:c.number().nullish(),accepted_prediction_tokens:c.number().nullish(),rejected_prediction_tokens:c.number().nullish()}).nullish()}).nullish()}))),rve=Ft(()=>Ue(c.union([c.object({id:c.string().nullish(),created:c.number().nullish(),model:c.string().nullish(),choices:c.array(c.object({delta:c.object({role:c.enum(["assistant"]).nullish(),content:c.string().nullish(),tool_calls:c.array(c.object({index:c.number(),id:c.string().nullish(),type:c.literal("function").nullish(),function:c.object({name:c.string().nullish(),arguments:c.string().nullish()})})).nullish(),annotations:c.array(c.object({type:c.literal("url_citation"),start_index:c.number(),end_index:c.number(),url:c.string(),title:c.string()})).nullish()}).nullish(),logprobs:c.object({content:c.array(c.object({token:c.string(),logprob:c.number(),top_logprobs:c.array(c.object({token:c.string(),logprob:c.number()}))})).nullish()}).nullish(),finish_reason:c.string().nullish(),index:c.number()})),usage:c.object({prompt_tokens:c.number().nullish(),completion_tokens:c.number().nullish(),total_tokens:c.number().nullish(),prompt_tokens_details:c.object({cached_tokens:c.number().nullish()}).nullish(),completion_tokens_details:c.object({reasoning_tokens:c.number().nullish(),accepted_prediction_tokens:c.number().nullish(),rejected_prediction_tokens:c.number().nullish()}).nullish()}).nullish()}),B1]))),nve=Ft(()=>Ue(c.object({logitBias:c.record(c.coerce.number(),c.number()).optional(),logprobs:c.union([c.boolean(),c.number()]).optional(),parallelToolCalls:c.boolean().optional(),user:c.string().optional(),reasoningEffort:c.enum(["none","minimal","low","medium","high"]).optional(),maxCompletionTokens:c.number().optional(),store:c.boolean().optional(),metadata:c.record(c.string().max(64),c.string().max(512)).optional(),prediction:c.record(c.string(),c.any()).optional(),structuredOutputs:c.boolean().optional(),serviceTier:c.enum(["auto","flex","priority","default"]).optional(),strictJsonSchema:c.boolean().optional(),textVerbosity:c.enum(["low","medium","high"]).optional(),promptCacheKey:c.string().optional(),promptCacheRetention:c.enum(["in_memory","24h"]).optional(),safetyIdentifier:c.string().optional()})));function ove({tools:e,toolChoice:t,structuredOutputs:r,strictJsonSchema:n}){e=e?.length?e:void 0;let o=[];if(e==null)return{tools:void 0,toolChoice:void 0,toolWarnings:o};let i=[];for(let u of e)switch(u.type){case"function":i.push({type:"function",function:{name:u.name,description:u.description,parameters:u.inputSchema,strict:r?n:void 0}});break;default:o.push({type:"unsupported-tool",tool:u});break}if(t==null)return{tools:i,toolChoice:void 0,toolWarnings:o};let s=t.type;switch(s){case"auto":case"none":case"required":return{tools:i,toolChoice:s,toolWarnings:o};case"tool":return{tools:i,toolChoice:{type:"function",function:{name:t.toolName}},toolWarnings:o};default:{let u=s;throw new Pt({functionality:`tool choice type: ${u}`})}}}a(ove,"prepareChatTools");var ive=class{static{a(this,"OpenAIChatLanguageModel")}constructor(e,t){this.specificationVersion="v2",this.supportedUrls={"image/*":[/^https?:\/\/.*$/]},this.modelId=e,this.config=t}get provider(){return this.config.provider}async getArgs({prompt:e,maxOutputTokens:t,temperature:r,topP:n,topK:o,frequencyPenalty:i,presencePenalty:s,stopSequences:u,responseFormat:l,seed:d,tools:p,toolChoice:f,providerOptions:m}){var y,g,h,v;let S=[],b=(y=await hn({provider:"openai",providerOptions:m,schema:nve}))!=null?y:{},w=(g=b.structuredOutputs)!=null?g:!0;o!=null&&S.push({type:"unsupported-setting",setting:"topK"}),l?.type==="json"&&l.schema!=null&&!w&&S.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is only supported with structuredOutputs"});let{messages:k,warnings:$}=eve({prompt:e,systemMessageMode:uve(this.modelId)});S.push(...$);let C=(h=b.strictJsonSchema)!=null?h:!1,A={model:this.modelId,logit_bias:b.logitBias,logprobs:b.logprobs===!0||typeof b.logprobs=="number"?!0:void 0,top_logprobs:typeof b.logprobs=="number"?b.logprobs:typeof b.logprobs=="boolean"&&b.logprobs?0:void 0,user:b.user,parallel_tool_calls:b.parallelToolCalls,max_tokens:t,temperature:r,top_p:n,frequency_penalty:i,presence_penalty:s,response_format:l?.type==="json"?w&&l.schema!=null?{type:"json_schema",json_schema:{schema:l.schema,strict:C,name:(v=l.name)!=null?v:"response",description:l.description}}:{type:"json_object"}:void 0,stop:u,seed:d,verbosity:b.textVerbosity,max_completion_tokens:b.maxCompletionTokens,store:b.store,metadata:b.metadata,prediction:b.prediction,reasoning_effort:b.reasoningEffort,service_tier:b.serviceTier,prompt_cache_key:b.promptCacheKey,prompt_cache_retention:b.promptCacheRetention,safety_identifier:b.safetyIdentifier,messages:k};lJ(this.modelId)?(A.temperature!=null&&(A.temperature=void 0,S.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),A.top_p!=null&&(A.top_p=void 0,S.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"})),A.frequency_penalty!=null&&(A.frequency_penalty=void 0,S.push({type:"unsupported-setting",setting:"frequencyPenalty",details:"frequencyPenalty is not supported for reasoning models"})),A.presence_penalty!=null&&(A.presence_penalty=void 0,S.push({type:"unsupported-setting",setting:"presencePenalty",details:"presencePenalty is not supported for reasoning models"})),A.logit_bias!=null&&(A.logit_bias=void 0,S.push({type:"other",message:"logitBias is not supported for reasoning models"})),A.logprobs!=null&&(A.logprobs=void 0,S.push({type:"other",message:"logprobs is not supported for reasoning models"})),A.top_logprobs!=null&&(A.top_logprobs=void 0,S.push({type:"other",message:"topLogprobs is not supported for reasoning models"})),A.max_tokens!=null&&(A.max_completion_tokens==null&&(A.max_completion_tokens=A.max_tokens),A.max_tokens=void 0)):(this.modelId.startsWith("gpt-4o-search-preview")||this.modelId.startsWith("gpt-4o-mini-search-preview"))&&A.temperature!=null&&(A.temperature=void 0,S.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for the search preview models and has been removed."})),b.serviceTier==="flex"&&!ave(this.modelId)&&(S.push({type:"unsupported-setting",setting:"serviceTier",details:"flex processing is only available for o3, o4-mini, and gpt-5 models"}),A.service_tier=void 0),b.serviceTier==="priority"&&!sve(this.modelId)&&(S.push({type:"unsupported-setting",setting:"serviceTier",details:"priority processing is only available for supported models (gpt-4, gpt-5, gpt-5-mini, o3, o4-mini) and requires Enterprise access. gpt-5-nano is not supported"}),A.service_tier=void 0);let{tools:R,toolChoice:O,toolWarnings:z}=ove({tools:p,toolChoice:f,structuredOutputs:w,strictJsonSchema:C});return{args:{...A,tools:R,tool_choice:O},warnings:[...S,...z]}}async doGenerate(e){var t,r,n,o,i,s,u,l,d,p,f,m,y,g;let{args:h,warnings:v}=await this.getArgs(e),{responseHeaders:S,value:b,rawValue:w}=await gn({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:Br(this.config.headers(),e.headers),body:h,failedResponseHandler:ri,successfulResponseHandler:to(tve),abortSignal:e.abortSignal,fetch:this.config.fetch}),k=b.choices[0],$=[],C=k.message.content;C!=null&&C.length>0&&$.push({type:"text",text:C});for(let z of(t=k.message.tool_calls)!=null?t:[])$.push({type:"tool-call",toolCallId:(r=z.id)!=null?r:Do(),toolName:z.function.name,input:z.function.arguments});for(let z of(n=k.message.annotations)!=null?n:[])$.push({type:"source",sourceType:"url",id:Do(),url:z.url,title:z.title});let A=(o=b.usage)==null?void 0:o.completion_tokens_details,R=(i=b.usage)==null?void 0:i.prompt_tokens_details,O={openai:{}};return A?.accepted_prediction_tokens!=null&&(O.openai.acceptedPredictionTokens=A?.accepted_prediction_tokens),A?.rejected_prediction_tokens!=null&&(O.openai.rejectedPredictionTokens=A?.rejected_prediction_tokens),((s=k.logprobs)==null?void 0:s.content)!=null&&(O.openai.logprobs=k.logprobs.content),{content:$,finishReason:tJ(k.finish_reason),usage:{inputTokens:(l=(u=b.usage)==null?void 0:u.prompt_tokens)!=null?l:void 0,outputTokens:(p=(d=b.usage)==null?void 0:d.completion_tokens)!=null?p:void 0,totalTokens:(m=(f=b.usage)==null?void 0:f.total_tokens)!=null?m:void 0,reasoningTokens:(y=A?.reasoning_tokens)!=null?y:void 0,cachedInputTokens:(g=R?.cached_tokens)!=null?g:void 0},request:{body:h},response:{...F1(b),headers:S,body:w},warnings:v,providerMetadata:O}}async doStream(e){let{args:t,warnings:r}=await this.getArgs(e),n={...t,stream:!0,stream_options:{include_usage:!0}},{responseHeaders:o,value:i}=await gn({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:Br(this.config.headers(),e.headers),body:n,failedResponseHandler:ri,successfulResponseHandler:Ac(rve),abortSignal:e.abortSignal,fetch:this.config.fetch}),s=[],u="unknown",l={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},d=!1,p=!1,f={openai:{}};return{stream:i.pipeThrough(new TransformStream({start(m){m.enqueue({type:"stream-start",warnings:r})},transform(m,y){var g,h,v,S,b,w,k,$,C,A,R,O,z,D,X,G,B,te,ne,ae,Se,ke,et,Ke;if(e.includeRawChunks&&y.enqueue({type:"raw",rawValue:m.rawValue}),!m.success){u="error",y.enqueue({type:"error",error:m.error});return}let Q=m.value;if("error"in Q){u="error",y.enqueue({type:"error",error:Q.error});return}if(!d){let F=F1(Q);Object.values(F).some(Boolean)&&(d=!0,y.enqueue({type:"response-metadata",...F1(Q)}))}Q.usage!=null&&(l.inputTokens=(g=Q.usage.prompt_tokens)!=null?g:void 0,l.outputTokens=(h=Q.usage.completion_tokens)!=null?h:void 0,l.totalTokens=(v=Q.usage.total_tokens)!=null?v:void 0,l.reasoningTokens=(b=(S=Q.usage.completion_tokens_details)==null?void 0:S.reasoning_tokens)!=null?b:void 0,l.cachedInputTokens=(k=(w=Q.usage.prompt_tokens_details)==null?void 0:w.cached_tokens)!=null?k:void 0,(($=Q.usage.completion_tokens_details)==null?void 0:$.accepted_prediction_tokens)!=null&&(f.openai.acceptedPredictionTokens=(C=Q.usage.completion_tokens_details)==null?void 0:C.accepted_prediction_tokens),((A=Q.usage.completion_tokens_details)==null?void 0:A.rejected_prediction_tokens)!=null&&(f.openai.rejectedPredictionTokens=(R=Q.usage.completion_tokens_details)==null?void 0:R.rejected_prediction_tokens));let Re=Q.choices[0];if(Re?.finish_reason!=null&&(u=tJ(Re.finish_reason)),((O=Re?.logprobs)==null?void 0:O.content)!=null&&(f.openai.logprobs=Re.logprobs.content),Re?.delta==null)return;let ve=Re.delta;if(ve.content!=null&&(p||(y.enqueue({type:"text-start",id:"0"}),p=!0),y.enqueue({type:"text-delta",id:"0",delta:ve.content})),ve.tool_calls!=null)for(let F of ve.tool_calls){let We=F.index;if(s[We]==null){if(F.type!=="function")throw new Xg({data:F,message:"Expected 'function' type."});if(F.id==null)throw new Xg({data:F,message:"Expected 'id' to be a string."});if(((z=F.function)==null?void 0:z.name)==null)throw new Xg({data:F,message:"Expected 'function.name' to be a string."});y.enqueue({type:"tool-input-start",id:F.id,toolName:F.function.name}),s[We]={id:F.id,type:"function",function:{name:F.function.name,arguments:(D=F.function.arguments)!=null?D:""},hasFinished:!1};let Nt=s[We];((X=Nt.function)==null?void 0:X.name)!=null&&((G=Nt.function)==null?void 0:G.arguments)!=null&&(Nt.function.arguments.length>0&&y.enqueue({type:"tool-input-delta",id:Nt.id,delta:Nt.function.arguments}),L1(Nt.function.arguments)&&(y.enqueue({type:"tool-input-end",id:Nt.id}),y.enqueue({type:"tool-call",toolCallId:(B=Nt.id)!=null?B:Do(),toolName:Nt.function.name,input:Nt.function.arguments}),Nt.hasFinished=!0));continue}let It=s[We];It.hasFinished||(((te=F.function)==null?void 0:te.arguments)!=null&&(It.function.arguments+=(ae=(ne=F.function)==null?void 0:ne.arguments)!=null?ae:""),y.enqueue({type:"tool-input-delta",id:It.id,delta:(Se=F.function.arguments)!=null?Se:""}),((ke=It.function)==null?void 0:ke.name)!=null&&((et=It.function)==null?void 0:et.arguments)!=null&&L1(It.function.arguments)&&(y.enqueue({type:"tool-input-end",id:It.id}),y.enqueue({type:"tool-call",toolCallId:(Ke=It.id)!=null?Ke:Do(),toolName:It.function.name,input:It.function.arguments}),It.hasFinished=!0))}if(ve.annotations!=null)for(let F of ve.annotations)y.enqueue({type:"source",sourceType:"url",id:Do(),url:F.url,title:F.title})},flush(m){p&&m.enqueue({type:"text-end",id:"0"}),m.enqueue({type:"finish",finishReason:u,usage:l,...f!=null?{providerMetadata:f}:{}})}})),request:{body:n},response:{headers:o}}}};function lJ(e){return(e.startsWith("o")||e.startsWith("gpt-5"))&&!e.startsWith("gpt-5-chat")}a(lJ,"isReasoningModel");function ave(e){return e.startsWith("o3")||e.startsWith("o4-mini")||e.startsWith("gpt-5")&&!e.startsWith("gpt-5-chat")}a(ave,"supportsFlexProcessing");function sve(e){return e.startsWith("gpt-4")||e.startsWith("gpt-5-mini")||e.startsWith("gpt-5")&&!e.startsWith("gpt-5-nano")&&!e.startsWith("gpt-5-chat")||e.startsWith("o3")||e.startsWith("o4-mini")}a(sve,"supportsPriorityProcessing");function uve(e){var t,r;return lJ(e)?(r=(t=cve[e])==null?void 0:t.systemMessageMode)!=null?r:"developer":"system"}a(uve,"getSystemMessageMode");var cve={o3:{systemMessageMode:"developer"},"o3-2025-04-16":{systemMessageMode:"developer"},"o3-mini":{systemMessageMode:"developer"},"o3-mini-2025-01-31":{systemMessageMode:"developer"},"o4-mini":{systemMessageMode:"developer"},"o4-mini-2025-04-16":{systemMessageMode:"developer"}};function lve({prompt:e,user:t="user",assistant:r="assistant"}){let n="";e[0].role==="system"&&(n+=`${e[0].content}

`,e=e.slice(1));for(let{role:o,content:i}of e)switch(o){case"system":throw new v6({message:"Unexpected system message in prompt: ${content}",prompt:e});case"user":{let s=i.map(u=>{switch(u.type){case"text":return u.text}}).filter(Boolean).join("");n+=`${t}:
${s}

`;break}case"assistant":{let s=i.map(u=>{switch(u.type){case"text":return u.text;case"tool-call":throw new Pt({functionality:"tool-call messages"})}}).join("");n+=`${r}:
${s}

`;break}case"tool":throw new Pt({functionality:"tool messages"});default:{let s=o;throw new Error(`Unsupported role: ${s}`)}}return n+=`${r}:
`,{prompt:n,stopSequences:[`
${t}:`]}}a(lve,"convertToOpenAICompletionPrompt");function rJ({id:e,model:t,created:r}){return{id:e??void 0,modelId:t??void 0,timestamp:r!=null?new Date(r*1e3):void 0}}a(rJ,"getResponseMetadata2");function nJ(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}a(nJ,"mapOpenAIFinishReason2");var dve=Ft(()=>Ue(c.object({id:c.string().nullish(),created:c.number().nullish(),model:c.string().nullish(),choices:c.array(c.object({text:c.string(),finish_reason:c.string(),logprobs:c.object({tokens:c.array(c.string()),token_logprobs:c.array(c.number()),top_logprobs:c.array(c.record(c.string(),c.number())).nullish()}).nullish()})),usage:c.object({prompt_tokens:c.number(),completion_tokens:c.number(),total_tokens:c.number()}).nullish()}))),pve=Ft(()=>Ue(c.union([c.object({id:c.string().nullish(),created:c.number().nullish(),model:c.string().nullish(),choices:c.array(c.object({text:c.string(),finish_reason:c.string().nullish(),index:c.number(),logprobs:c.object({tokens:c.array(c.string()),token_logprobs:c.array(c.number()),top_logprobs:c.array(c.record(c.string(),c.number())).nullish()}).nullish()})),usage:c.object({prompt_tokens:c.number(),completion_tokens:c.number(),total_tokens:c.number()}).nullish()}),B1]))),oJ=Ft(()=>Ue(c.object({echo:c.boolean().optional(),logitBias:c.record(c.string(),c.number()).optional(),suffix:c.string().optional(),user:c.string().optional(),logprobs:c.union([c.boolean(),c.number()]).optional()}))),mve=class{static{a(this,"OpenAICompletionLanguageModel")}constructor(e,t){this.specificationVersion="v2",this.supportedUrls={},this.modelId=e,this.config=t}get providerOptionsName(){return this.config.provider.split(".")[0].trim()}get provider(){return this.config.provider}async getArgs({prompt:e,maxOutputTokens:t,temperature:r,topP:n,topK:o,frequencyPenalty:i,presencePenalty:s,stopSequences:u,responseFormat:l,tools:d,toolChoice:p,seed:f,providerOptions:m}){let y=[],g={...await hn({provider:"openai",providerOptions:m,schema:oJ}),...await hn({provider:this.providerOptionsName,providerOptions:m,schema:oJ})};o!=null&&y.push({type:"unsupported-setting",setting:"topK"}),d?.length&&y.push({type:"unsupported-setting",setting:"tools"}),p!=null&&y.push({type:"unsupported-setting",setting:"toolChoice"}),l!=null&&l.type!=="text"&&y.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});let{prompt:h,stopSequences:v}=lve({prompt:e}),S=[...v??[],...u??[]];return{args:{model:this.modelId,echo:g.echo,logit_bias:g.logitBias,logprobs:g?.logprobs===!0?0:g?.logprobs===!1?void 0:g?.logprobs,suffix:g.suffix,user:g.user,max_tokens:t,temperature:r,top_p:n,frequency_penalty:i,presence_penalty:s,seed:f,prompt:h,stop:S.length>0?S:void 0},warnings:y}}async doGenerate(e){var t,r,n;let{args:o,warnings:i}=await this.getArgs(e),{responseHeaders:s,value:u,rawValue:l}=await gn({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:Br(this.config.headers(),e.headers),body:o,failedResponseHandler:ri,successfulResponseHandler:to(dve),abortSignal:e.abortSignal,fetch:this.config.fetch}),d=u.choices[0],p={openai:{}};return d.logprobs!=null&&(p.openai.logprobs=d.logprobs),{content:[{type:"text",text:d.text}],usage:{inputTokens:(t=u.usage)==null?void 0:t.prompt_tokens,outputTokens:(r=u.usage)==null?void 0:r.completion_tokens,totalTokens:(n=u.usage)==null?void 0:n.total_tokens},finishReason:nJ(d.finish_reason),request:{body:o},response:{...rJ(u),headers:s,body:l},providerMetadata:p,warnings:i}}async doStream(e){let{args:t,warnings:r}=await this.getArgs(e),n={...t,stream:!0,stream_options:{include_usage:!0}},{responseHeaders:o,value:i}=await gn({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:Br(this.config.headers(),e.headers),body:n,failedResponseHandler:ri,successfulResponseHandler:Ac(pve),abortSignal:e.abortSignal,fetch:this.config.fetch}),s="unknown",u={openai:{}},l={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},d=!0;return{stream:i.pipeThrough(new TransformStream({start(p){p.enqueue({type:"stream-start",warnings:r})},transform(p,f){if(e.includeRawChunks&&f.enqueue({type:"raw",rawValue:p.rawValue}),!p.success){s="error",f.enqueue({type:"error",error:p.error});return}let m=p.value;if("error"in m){s="error",f.enqueue({type:"error",error:m.error});return}d&&(d=!1,f.enqueue({type:"response-metadata",...rJ(m)}),f.enqueue({type:"text-start",id:"0"})),m.usage!=null&&(l.inputTokens=m.usage.prompt_tokens,l.outputTokens=m.usage.completion_tokens,l.totalTokens=m.usage.total_tokens);let y=m.choices[0];y?.finish_reason!=null&&(s=nJ(y.finish_reason)),y?.logprobs!=null&&(u.openai.logprobs=y.logprobs),y?.text!=null&&y.text.length>0&&f.enqueue({type:"text-delta",id:"0",delta:y.text})},flush(p){d||p.enqueue({type:"text-end",id:"0"}),p.enqueue({type:"finish",finishReason:s,providerMetadata:u,usage:l})}})),request:{body:n},response:{headers:o}}}},fve=Ft(()=>Ue(c.object({dimensions:c.number().optional(),user:c.string().optional()}))),hve=Ft(()=>Ue(c.object({data:c.array(c.object({embedding:c.array(c.number())})),usage:c.object({prompt_tokens:c.number()}).nullish()}))),gve=class{static{a(this,"OpenAIEmbeddingModel")}constructor(e,t){this.specificationVersion="v2",this.maxEmbeddingsPerCall=2048,this.supportsParallelCalls=!0,this.modelId=e,this.config=t}get provider(){return this.config.provider}async doEmbed({values:e,headers:t,abortSignal:r,providerOptions:n}){var o;if(e.length>this.maxEmbeddingsPerCall)throw new Yg({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});let i=(o=await hn({provider:"openai",providerOptions:n,schema:fve}))!=null?o:{},{responseHeaders:s,value:u,rawValue:l}=await gn({url:this.config.url({path:"/embeddings",modelId:this.modelId}),headers:Br(this.config.headers(),t),body:{model:this.modelId,input:e,encoding_format:"float",dimensions:i.dimensions,user:i.user},failedResponseHandler:ri,successfulResponseHandler:to(hve),abortSignal:r,fetch:this.config.fetch});return{embeddings:u.data.map(d=>d.embedding),usage:u.usage?{tokens:u.usage.prompt_tokens}:void 0,response:{headers:s,body:l}}}},yve=Ft(()=>Ue(c.object({data:c.array(c.object({b64_json:c.string(),revised_prompt:c.string().nullish()}))}))),vve={"dall-e-3":1,"dall-e-2":10,"gpt-image-1":10,"gpt-image-1-mini":10},_ve=new Set(["gpt-image-1","gpt-image-1-mini"]),bve=class{static{a(this,"OpenAIImageModel")}constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2"}get maxImagesPerCall(){var e;return(e=vve[this.modelId])!=null?e:1}get provider(){return this.config.provider}async doGenerate({prompt:e,n:t,size:r,aspectRatio:n,seed:o,providerOptions:i,headers:s,abortSignal:u}){var l,d,p,f;let m=[];n!=null&&m.push({type:"unsupported-setting",setting:"aspectRatio",details:"This model does not support aspect ratio. Use `size` instead."}),o!=null&&m.push({type:"unsupported-setting",setting:"seed"});let y=(p=(d=(l=this.config._internal)==null?void 0:l.currentDate)==null?void 0:d.call(l))!=null?p:new Date,{value:g,responseHeaders:h}=await gn({url:this.config.url({path:"/images/generations",modelId:this.modelId}),headers:Br(this.config.headers(),s),body:{model:this.modelId,prompt:e,n:t,size:r,...(f=i.openai)!=null?f:{},..._ve.has(this.modelId)?{}:{response_format:"b64_json"}},failedResponseHandler:ri,successfulResponseHandler:to(yve),abortSignal:u,fetch:this.config.fetch});return{images:g.data.map(v=>v.b64_json),warnings:m,response:{timestamp:y,modelId:this.modelId,headers:h},providerMetadata:{openai:{images:g.data.map(v=>v.revised_prompt?{revisedPrompt:v.revised_prompt}:null)}}}}},Sve=cr(()=>Ue(c.object({code:c.string().nullish(),containerId:c.string()}))),wve=cr(()=>Ue(c.object({outputs:c.array(c.discriminatedUnion("type",[c.object({type:c.literal("logs"),logs:c.string()}),c.object({type:c.literal("image"),url:c.string()})])).nullish()}))),xve=cr(()=>Ue(c.object({container:c.union([c.string(),c.object({fileIds:c.array(c.string()).optional()})]).optional()}))),Tve=eo({id:"openai.code_interpreter",name:"code_interpreter",inputSchema:Sve,outputSchema:wve}),Eve=a((e={})=>Tve(e),"codeInterpreter"),dJ=c.object({key:c.string(),type:c.enum(["eq","ne","gt","gte","lt","lte"]),value:c.union([c.string(),c.number(),c.boolean()])}),pJ=c.object({type:c.enum(["and","or"]),filters:c.array(c.union([dJ,c.lazy(()=>pJ)]))}),kve=cr(()=>Ue(c.object({vectorStoreIds:c.array(c.string()),maxNumResults:c.number().optional(),ranking:c.object({ranker:c.string().optional(),scoreThreshold:c.number().optional()}).optional(),filters:c.union([dJ,pJ]).optional()}))),Pve=cr(()=>Ue(c.object({queries:c.array(c.string()),results:c.array(c.object({attributes:c.record(c.string(),c.unknown()),fileId:c.string(),filename:c.string(),score:c.number(),text:c.string()})).nullable()}))),Ive=eo({id:"openai.file_search",name:"file_search",inputSchema:c.object({}),outputSchema:Pve}),Ove=cr(()=>Ue(c.object({background:c.enum(["auto","opaque","transparent"]).optional(),inputFidelity:c.enum(["low","high"]).optional(),inputImageMask:c.object({fileId:c.string().optional(),imageUrl:c.string().optional()}).optional(),model:c.string().optional(),moderation:c.enum(["auto"]).optional(),outputCompression:c.number().int().min(0).max(100).optional(),outputFormat:c.enum(["png","jpeg","webp"]).optional(),partialImages:c.number().int().min(0).max(3).optional(),quality:c.enum(["auto","low","medium","high"]).optional(),size:c.enum(["1024x1024","1024x1536","1536x1024","auto"]).optional()}).strict())),Ave=cr(()=>Ue(c.object({}))),Cve=cr(()=>Ue(c.object({result:c.string()}))),Rve=eo({id:"openai.image_generation",name:"image_generation",inputSchema:Ave,outputSchema:Cve}),$ve=a((e={})=>Rve(e),"imageGeneration"),mJ=cr(()=>Ue(c.object({action:c.object({type:c.literal("exec"),command:c.array(c.string()),timeoutMs:c.number().optional(),user:c.string().optional(),workingDirectory:c.string().optional(),env:c.record(c.string(),c.string()).optional()})}))),fJ=cr(()=>Ue(c.object({output:c.string()}))),Nve=eo({id:"openai.local_shell",name:"local_shell",inputSchema:mJ,outputSchema:fJ}),zve=cr(()=>Ue(c.object({externalWebAccess:c.boolean().optional(),filters:c.object({allowedDomains:c.array(c.string()).optional()}).optional(),searchContextSize:c.enum(["low","medium","high"]).optional(),userLocation:c.object({type:c.literal("approximate"),country:c.string().optional(),city:c.string().optional(),region:c.string().optional(),timezone:c.string().optional()}).optional()}))),jve=cr(()=>Ue(c.object({}))),Dve=cr(()=>Ue(c.object({action:c.discriminatedUnion("type",[c.object({type:c.literal("search"),query:c.string().optional()}),c.object({type:c.literal("openPage"),url:c.string()}),c.object({type:c.literal("find"),url:c.string(),pattern:c.string()})]),sources:c.array(c.discriminatedUnion("type",[c.object({type:c.literal("url"),url:c.string()}),c.object({type:c.literal("api"),name:c.string()})])).optional()}))),Mve=eo({id:"openai.web_search",name:"web_search",inputSchema:jve,outputSchema:Dve}),qve=a((e={})=>Mve(e),"webSearch"),Uve=cr(()=>Ue(c.object({searchContextSize:c.enum(["low","medium","high"]).optional(),userLocation:c.object({type:c.literal("approximate"),country:c.string().optional(),city:c.string().optional(),region:c.string().optional(),timezone:c.string().optional()}).optional()}))),Lve=cr(()=>Ue(c.object({}))),Fve=cr(()=>Ue(c.object({action:c.discriminatedUnion("type",[c.object({type:c.literal("search"),query:c.string().optional()}),c.object({type:c.literal("openPage"),url:c.string()}),c.object({type:c.literal("find"),url:c.string(),pattern:c.string()})])}))),Bve=eo({id:"openai.web_search_preview",name:"web_search_preview",inputSchema:Lve,outputSchema:Fve}),Jve={codeInterpreter:Eve,fileSearch:Ive,imageGeneration:$ve,localShell:Nve,webSearchPreview:Bve,webSearch:qve};function iJ(e,t){return t?t.some(r=>e.startsWith(r)):!1}a(iJ,"isFileId");async function Hve({prompt:e,systemMessageMode:t,fileIdPrefixes:r,store:n,hasLocalShellTool:o=!1}){var i,s,u,l;let d=[],p=[];for(let{role:f,content:m}of e)switch(f){case"system":{switch(t){case"system":{d.push({role:"system",content:m});break}case"developer":{d.push({role:"developer",content:m});break}case"remove":{p.push({type:"other",message:"system messages are removed for this model"});break}default:{let y=t;throw new Error(`Unsupported system message mode: ${y}`)}}break}case"user":{d.push({role:"user",content:m.map((y,g)=>{var h,v,S;switch(y.type){case"text":return{type:"input_text",text:y.text};case"file":if(y.mediaType.startsWith("image/")){let b=y.mediaType==="image/*"?"image/jpeg":y.mediaType;return{type:"input_image",...y.data instanceof URL?{image_url:y.data.toString()}:typeof y.data=="string"&&iJ(y.data,r)?{file_id:y.data}:{image_url:`data:${b};base64,${qa(y.data)}`},detail:(v=(h=y.providerOptions)==null?void 0:h.openai)==null?void 0:v.imageDetail}}else{if(y.mediaType==="application/pdf")return y.data instanceof URL?{type:"input_file",file_url:y.data.toString()}:{type:"input_file",...typeof y.data=="string"&&iJ(y.data,r)?{file_id:y.data}:{filename:(S=y.filename)!=null?S:`part-${g}.pdf`,file_data:`data:application/pdf;base64,${qa(y.data)}`}};throw new Pt({functionality:`file part media type ${y.mediaType}`})}}})});break}case"assistant":{let y={},g={};for(let h of m)switch(h.type){case"text":{let v=(s=(i=h.providerOptions)==null?void 0:i.openai)==null?void 0:s.itemId;if(n&&v!=null){d.push({type:"item_reference",id:v});break}d.push({role:"assistant",content:[{type:"output_text",text:h.text}],id:v});break}case"tool-call":{if(g[h.toolCallId]=h,h.providerExecuted)break;let v=(l=(u=h.providerOptions)==null?void 0:u.openai)==null?void 0:l.itemId;if(n&&v!=null){d.push({type:"item_reference",id:v});break}if(o&&h.toolName==="local_shell"){let S=await ti({value:h.input,schema:mJ});d.push({type:"local_shell_call",call_id:h.toolCallId,id:v,action:{type:"exec",command:S.action.command,timeout_ms:S.action.timeoutMs,user:S.action.user,working_directory:S.action.workingDirectory,env:S.action.env}});break}d.push({type:"function_call",call_id:h.toolCallId,name:h.toolName,arguments:JSON.stringify(h.input),id:v});break}case"tool-result":{n?d.push({type:"item_reference",id:h.toolCallId}):p.push({type:"other",message:`Results for OpenAI tool ${h.toolName} are not sent to the API when store is false`});break}case"reasoning":{let v=await hn({provider:"openai",providerOptions:h.providerOptions,schema:Vve}),S=v?.itemId;if(S!=null){let b=y[S];if(n)b===void 0&&(d.push({type:"item_reference",id:S}),y[S]={type:"reasoning",id:S,summary:[]});else{let w=[];h.text.length>0?w.push({type:"summary_text",text:h.text}):b!==void 0&&p.push({type:"other",message:`Cannot append empty reasoning part to existing reasoning sequence. Skipping reasoning part: ${JSON.stringify(h)}.`}),b===void 0?(y[S]={type:"reasoning",id:S,encrypted_content:v?.reasoningEncryptedContent,summary:w},d.push(y[S])):(b.summary.push(...w),v?.reasoningEncryptedContent!=null&&(b.encrypted_content=v.reasoningEncryptedContent))}}else p.push({type:"other",message:`Non-OpenAI reasoning parts are not supported. Skipping reasoning part: ${JSON.stringify(h)}.`});break}}break}case"tool":{for(let y of m){let g=y.output;if(o&&y.toolName==="local_shell"&&g.type==="json"){let v=await ti({value:g.value,schema:fJ});d.push({type:"local_shell_call_output",call_id:y.toolCallId,output:v.output});break}let h;switch(g.type){case"text":case"error-text":h=g.value;break;case"json":case"error-json":h=JSON.stringify(g.value);break;case"content":h=g.value.map(v=>{switch(v.type){case"text":return{type:"input_text",text:v.text};case"media":return v.mediaType.startsWith("image/")?{type:"input_image",image_url:`data:${v.mediaType};base64,${v.data}`}:{type:"input_file",filename:"data",file_data:`data:${v.mediaType};base64,${v.data}`}}});break}d.push({type:"function_call_output",call_id:y.toolCallId,output:h})}break}default:{let y=f;throw new Error(`Unsupported role: ${y}`)}}return{input:d,warnings:p}}a(Hve,"convertToOpenAIResponsesInput");var Vve=c.object({itemId:c.string().nullish(),reasoningEncryptedContent:c.string().nullish()});function aJ({finishReason:e,hasFunctionCall:t}){switch(e){case void 0:case null:return t?"tool-calls":"stop";case"max_output_tokens":return"length";case"content_filter":return"content-filter";default:return t?"tool-calls":"unknown"}}a(aJ,"mapOpenAIResponseFinishReason");var Zve=Ft(()=>Ue(c.union([c.object({type:c.literal("response.output_text.delta"),item_id:c.string(),delta:c.string(),logprobs:c.array(c.object({token:c.string(),logprob:c.number(),top_logprobs:c.array(c.object({token:c.string(),logprob:c.number()}))})).nullish()}),c.object({type:c.enum(["response.completed","response.incomplete"]),response:c.object({incomplete_details:c.object({reason:c.string()}).nullish(),usage:c.object({input_tokens:c.number(),input_tokens_details:c.object({cached_tokens:c.number().nullish()}).nullish(),output_tokens:c.number(),output_tokens_details:c.object({reasoning_tokens:c.number().nullish()}).nullish()}),service_tier:c.string().nullish()})}),c.object({type:c.literal("response.created"),response:c.object({id:c.string(),created_at:c.number(),model:c.string(),service_tier:c.string().nullish()})}),c.object({type:c.literal("response.output_item.added"),output_index:c.number(),item:c.discriminatedUnion("type",[c.object({type:c.literal("message"),id:c.string()}),c.object({type:c.literal("reasoning"),id:c.string(),encrypted_content:c.string().nullish()}),c.object({type:c.literal("function_call"),id:c.string(),call_id:c.string(),name:c.string(),arguments:c.string()}),c.object({type:c.literal("web_search_call"),id:c.string(),status:c.string()}),c.object({type:c.literal("computer_call"),id:c.string(),status:c.string()}),c.object({type:c.literal("file_search_call"),id:c.string()}),c.object({type:c.literal("image_generation_call"),id:c.string()}),c.object({type:c.literal("code_interpreter_call"),id:c.string(),container_id:c.string(),code:c.string().nullable(),outputs:c.array(c.discriminatedUnion("type",[c.object({type:c.literal("logs"),logs:c.string()}),c.object({type:c.literal("image"),url:c.string()})])).nullable(),status:c.string()})])}),c.object({type:c.literal("response.output_item.done"),output_index:c.number(),item:c.discriminatedUnion("type",[c.object({type:c.literal("message"),id:c.string()}),c.object({type:c.literal("reasoning"),id:c.string(),encrypted_content:c.string().nullish()}),c.object({type:c.literal("function_call"),id:c.string(),call_id:c.string(),name:c.string(),arguments:c.string(),status:c.literal("completed")}),c.object({type:c.literal("code_interpreter_call"),id:c.string(),code:c.string().nullable(),container_id:c.string(),outputs:c.array(c.discriminatedUnion("type",[c.object({type:c.literal("logs"),logs:c.string()}),c.object({type:c.literal("image"),url:c.string()})])).nullable()}),c.object({type:c.literal("image_generation_call"),id:c.string(),result:c.string()}),c.object({type:c.literal("web_search_call"),id:c.string(),status:c.string(),action:c.discriminatedUnion("type",[c.object({type:c.literal("search"),query:c.string().nullish(),sources:c.array(c.discriminatedUnion("type",[c.object({type:c.literal("url"),url:c.string()}),c.object({type:c.literal("api"),name:c.string()})])).nullish()}),c.object({type:c.literal("open_page"),url:c.string()}),c.object({type:c.literal("find"),url:c.string(),pattern:c.string()})])}),c.object({type:c.literal("file_search_call"),id:c.string(),queries:c.array(c.string()),results:c.array(c.object({attributes:c.record(c.string(),c.unknown()),file_id:c.string(),filename:c.string(),score:c.number(),text:c.string()})).nullish()}),c.object({type:c.literal("local_shell_call"),id:c.string(),call_id:c.string(),action:c.object({type:c.literal("exec"),command:c.array(c.string()),timeout_ms:c.number().optional(),user:c.string().optional(),working_directory:c.string().optional(),env:c.record(c.string(),c.string()).optional()})}),c.object({type:c.literal("computer_call"),id:c.string(),status:c.literal("completed")})])}),c.object({type:c.literal("response.function_call_arguments.delta"),item_id:c.string(),output_index:c.number(),delta:c.string()}),c.object({type:c.literal("response.image_generation_call.partial_image"),item_id:c.string(),output_index:c.number(),partial_image_b64:c.string()}),c.object({type:c.literal("response.code_interpreter_call_code.delta"),item_id:c.string(),output_index:c.number(),delta:c.string()}),c.object({type:c.literal("response.code_interpreter_call_code.done"),item_id:c.string(),output_index:c.number(),code:c.string()}),c.object({type:c.literal("response.output_text.annotation.added"),annotation:c.discriminatedUnion("type",[c.object({type:c.literal("url_citation"),start_index:c.number(),end_index:c.number(),url:c.string(),title:c.string()}),c.object({type:c.literal("file_citation"),file_id:c.string(),filename:c.string().nullish(),index:c.number().nullish(),start_index:c.number().nullish(),end_index:c.number().nullish(),quote:c.string().nullish()})])}),c.object({type:c.literal("response.reasoning_summary_part.added"),item_id:c.string(),summary_index:c.number()}),c.object({type:c.literal("response.reasoning_summary_text.delta"),item_id:c.string(),summary_index:c.number(),delta:c.string()}),c.object({type:c.literal("response.reasoning_summary_part.done"),item_id:c.string(),summary_index:c.number()}),c.object({type:c.literal("error"),sequence_number:c.number(),error:c.object({type:c.string(),code:c.string(),message:c.string(),param:c.string().nullish()})}),c.object({type:c.string()}).loose().transform(e=>({type:"unknown_chunk",message:e.type}))]))),Kve=Ft(()=>Ue(c.object({id:c.string().optional(),created_at:c.number().optional(),error:c.object({message:c.string(),type:c.string(),param:c.string().nullish(),code:c.string()}).nullish(),model:c.string().optional(),output:c.array(c.discriminatedUnion("type",[c.object({type:c.literal("message"),role:c.literal("assistant"),id:c.string(),content:c.array(c.object({type:c.literal("output_text"),text:c.string(),logprobs:c.array(c.object({token:c.string(),logprob:c.number(),top_logprobs:c.array(c.object({token:c.string(),logprob:c.number()}))})).nullish(),annotations:c.array(c.discriminatedUnion("type",[c.object({type:c.literal("url_citation"),start_index:c.number(),end_index:c.number(),url:c.string(),title:c.string()}),c.object({type:c.literal("file_citation"),file_id:c.string(),filename:c.string().nullish(),index:c.number().nullish(),start_index:c.number().nullish(),end_index:c.number().nullish(),quote:c.string().nullish()}),c.object({type:c.literal("container_file_citation"),container_id:c.string(),file_id:c.string(),filename:c.string().nullish(),start_index:c.number().nullish(),end_index:c.number().nullish(),index:c.number().nullish()}),c.object({type:c.literal("file_path"),file_id:c.string(),index:c.number().nullish()})]))}))}),c.object({type:c.literal("web_search_call"),id:c.string(),status:c.string(),action:c.discriminatedUnion("type",[c.object({type:c.literal("search"),query:c.string().nullish(),sources:c.array(c.discriminatedUnion("type",[c.object({type:c.literal("url"),url:c.string()}),c.object({type:c.literal("api"),name:c.string()})])).nullish()}),c.object({type:c.literal("open_page"),url:c.string()}),c.object({type:c.literal("find"),url:c.string(),pattern:c.string()})])}),c.object({type:c.literal("file_search_call"),id:c.string(),queries:c.array(c.string()),results:c.array(c.object({attributes:c.record(c.string(),c.union([c.string(),c.number(),c.boolean()])),file_id:c.string(),filename:c.string(),score:c.number(),text:c.string()})).nullish()}),c.object({type:c.literal("code_interpreter_call"),id:c.string(),code:c.string().nullable(),container_id:c.string(),outputs:c.array(c.discriminatedUnion("type",[c.object({type:c.literal("logs"),logs:c.string()}),c.object({type:c.literal("image"),url:c.string()})])).nullable()}),c.object({type:c.literal("image_generation_call"),id:c.string(),result:c.string()}),c.object({type:c.literal("local_shell_call"),id:c.string(),call_id:c.string(),action:c.object({type:c.literal("exec"),command:c.array(c.string()),timeout_ms:c.number().optional(),user:c.string().optional(),working_directory:c.string().optional(),env:c.record(c.string(),c.string()).optional()})}),c.object({type:c.literal("function_call"),call_id:c.string(),name:c.string(),arguments:c.string(),id:c.string()}),c.object({type:c.literal("computer_call"),id:c.string(),status:c.string().optional()}),c.object({type:c.literal("reasoning"),id:c.string(),encrypted_content:c.string().nullish(),summary:c.array(c.object({type:c.literal("summary_text"),text:c.string()}))})])).optional(),service_tier:c.string().nullish(),incomplete_details:c.object({reason:c.string()}).nullish(),usage:c.object({input_tokens:c.number(),input_tokens_details:c.object({cached_tokens:c.number().nullish()}).nullish(),output_tokens:c.number(),output_tokens_details:c.object({reasoning_tokens:c.number().nullish()}).nullish()}).optional()}))),hJ=20,Gve=["o1","o1-2024-12-17","o3","o3-2025-04-16","o3-deep-research","o3-deep-research-2025-06-26","o3-mini","o3-mini-2025-01-31","o4-mini","o4-mini-2025-04-16","o4-mini-deep-research","o4-mini-deep-research-2025-06-26","codex-mini-latest","computer-use-preview","gpt-5","gpt-5-2025-08-07","gpt-5-codex","gpt-5-mini","gpt-5-mini-2025-08-07","gpt-5-nano","gpt-5-nano-2025-08-07","gpt-5-pro","gpt-5-pro-2025-10-06","gpt-5.1","gpt-5.1-chat-latest","gpt-5.1-codex-mini","gpt-5.1-codex"],XYe=["gpt-4.1","gpt-4.1-2025-04-14","gpt-4.1-mini","gpt-4.1-mini-2025-04-14","gpt-4.1-nano","gpt-4.1-nano-2025-04-14","gpt-4o","gpt-4o-2024-05-13","gpt-4o-2024-08-06","gpt-4o-2024-11-20","gpt-4o-audio-preview","gpt-4o-audio-preview-2024-10-01","gpt-4o-audio-preview-2024-12-17","gpt-4o-search-preview","gpt-4o-search-preview-2025-03-11","gpt-4o-mini-search-preview","gpt-4o-mini-search-preview-2025-03-11","gpt-4o-mini","gpt-4o-mini-2024-07-18","gpt-4-turbo","gpt-4-turbo-2024-04-09","gpt-4-turbo-preview","gpt-4-0125-preview","gpt-4-1106-preview","gpt-4","gpt-4-0613","gpt-4.5-preview","gpt-4.5-preview-2025-02-27","gpt-3.5-turbo-0125","gpt-3.5-turbo","gpt-3.5-turbo-1106","chatgpt-4o-latest","gpt-5-chat-latest",...Gve],Wve=Ft(()=>Ue(c.object({conversation:c.string().nullish(),include:c.array(c.enum(["reasoning.encrypted_content","file_search_call.results","message.output_text.logprobs"])).nullish(),instructions:c.string().nullish(),logprobs:c.union([c.boolean(),c.number().min(1).max(hJ)]).optional(),maxToolCalls:c.number().nullish(),metadata:c.any().nullish(),parallelToolCalls:c.boolean().nullish(),previousResponseId:c.string().nullish(),promptCacheKey:c.string().nullish(),promptCacheRetention:c.enum(["in_memory","24h"]).nullish(),reasoningEffort:c.string().nullish(),reasoningSummary:c.string().nullish(),safetyIdentifier:c.string().nullish(),serviceTier:c.enum(["auto","flex","priority","default"]).nullish(),store:c.boolean().nullish(),strictJsonSchema:c.boolean().nullish(),textVerbosity:c.enum(["low","medium","high"]).nullish(),truncation:c.enum(["auto","disabled"]).nullish(),user:c.string().nullish()})));async function Qve({tools:e,toolChoice:t,strictJsonSchema:r}){e=e?.length?e:void 0;let n=[];if(e==null)return{tools:void 0,toolChoice:void 0,toolWarnings:n};let o=[];for(let s of e)switch(s.type){case"function":o.push({type:"function",name:s.name,description:s.description,parameters:s.inputSchema,strict:r});break;case"provider-defined":{switch(s.id){case"openai.file_search":{let u=await ti({value:s.args,schema:kve});o.push({type:"file_search",vector_store_ids:u.vectorStoreIds,max_num_results:u.maxNumResults,ranking_options:u.ranking?{ranker:u.ranking.ranker,score_threshold:u.ranking.scoreThreshold}:void 0,filters:u.filters});break}case"openai.local_shell":{o.push({type:"local_shell"});break}case"openai.web_search_preview":{let u=await ti({value:s.args,schema:Uve});o.push({type:"web_search_preview",search_context_size:u.searchContextSize,user_location:u.userLocation});break}case"openai.web_search":{let u=await ti({value:s.args,schema:zve});o.push({type:"web_search",filters:u.filters!=null?{allowed_domains:u.filters.allowedDomains}:void 0,external_web_access:u.externalWebAccess,search_context_size:u.searchContextSize,user_location:u.userLocation});break}case"openai.code_interpreter":{let u=await ti({value:s.args,schema:xve});o.push({type:"code_interpreter",container:u.container==null?{type:"auto",file_ids:void 0}:typeof u.container=="string"?u.container:{type:"auto",file_ids:u.container.fileIds}});break}case"openai.image_generation":{let u=await ti({value:s.args,schema:Ove});o.push({type:"image_generation",background:u.background,input_fidelity:u.inputFidelity,input_image_mask:u.inputImageMask?{file_id:u.inputImageMask.fileId,image_url:u.inputImageMask.imageUrl}:void 0,model:u.model,size:u.size,quality:u.quality,moderation:u.moderation,output_format:u.outputFormat,output_compression:u.outputCompression});break}}break}default:n.push({type:"unsupported-tool",tool:s});break}if(t==null)return{tools:o,toolChoice:void 0,toolWarnings:n};let i=t.type;switch(i){case"auto":case"none":case"required":return{tools:o,toolChoice:i,toolWarnings:n};case"tool":return{tools:o,toolChoice:t.toolName==="code_interpreter"||t.toolName==="file_search"||t.toolName==="image_generation"||t.toolName==="web_search_preview"||t.toolName==="web_search"?{type:t.toolName}:{type:"function",name:t.toolName},toolWarnings:n};default:{let s=i;throw new Pt({functionality:`tool choice type: ${s}`})}}}a(Qve,"prepareResponsesTools");var Xve=class{static{a(this,"OpenAIResponsesLanguageModel")}constructor(e,t){this.specificationVersion="v2",this.supportedUrls={"image/*":[/^https?:\/\/.*$/],"application/pdf":[/^https?:\/\/.*$/]},this.modelId=e,this.config=t}get provider(){return this.config.provider}async getArgs({maxOutputTokens:e,temperature:t,stopSequences:r,topP:n,topK:o,presencePenalty:i,frequencyPenalty:s,seed:u,prompt:l,providerOptions:d,tools:p,toolChoice:f,responseFormat:m}){var y,g,h,v;let S=[],b=u_e(this.modelId);o!=null&&S.push({type:"unsupported-setting",setting:"topK"}),u!=null&&S.push({type:"unsupported-setting",setting:"seed"}),i!=null&&S.push({type:"unsupported-setting",setting:"presencePenalty"}),s!=null&&S.push({type:"unsupported-setting",setting:"frequencyPenalty"}),r!=null&&S.push({type:"unsupported-setting",setting:"stopSequences"});let w=await hn({provider:"openai",providerOptions:d,schema:Wve});w?.conversation&&w?.previousResponseId&&S.push({type:"unsupported-setting",setting:"conversation",details:"conversation and previousResponseId cannot be used together"});let{input:k,warnings:$}=await Hve({prompt:l,systemMessageMode:b.systemMessageMode,fileIdPrefixes:this.config.fileIdPrefixes,store:(y=w?.store)!=null?y:!0,hasLocalShellTool:O("openai.local_shell")});S.push(...$);let C=(g=w?.strictJsonSchema)!=null?g:!1,A=w?.include;function R(ae){A==null?A=[ae]:A.includes(ae)||(A=[...A,ae])}a(R,"addInclude");function O(ae){return p?.find(Se=>Se.type==="provider-defined"&&Se.id===ae)!=null}a(O,"hasOpenAITool");let z=typeof w?.logprobs=="number"?w?.logprobs:w?.logprobs===!0?hJ:void 0;z&&R("message.output_text.logprobs");let D=(h=p?.find(ae=>ae.type==="provider-defined"&&(ae.id==="openai.web_search"||ae.id==="openai.web_search_preview")))==null?void 0:h.name;D&&R("web_search_call.action.sources"),O("openai.code_interpreter")&&R("code_interpreter_call.outputs");let X=w?.store;X===!1&&b.isReasoningModel&&R("reasoning.encrypted_content");let G={model:this.modelId,input:k,temperature:t,top_p:n,max_output_tokens:e,...(m?.type==="json"||w?.textVerbosity)&&{text:{...m?.type==="json"&&{format:m.schema!=null?{type:"json_schema",strict:C,name:(v=m.name)!=null?v:"response",description:m.description,schema:m.schema}:{type:"json_object"}},...w?.textVerbosity&&{verbosity:w.textVerbosity}}},conversation:w?.conversation,max_tool_calls:w?.maxToolCalls,metadata:w?.metadata,parallel_tool_calls:w?.parallelToolCalls,previous_response_id:w?.previousResponseId,store:X,user:w?.user,instructions:w?.instructions,service_tier:w?.serviceTier,include:A,prompt_cache_key:w?.promptCacheKey,prompt_cache_retention:w?.promptCacheRetention,safety_identifier:w?.safetyIdentifier,top_logprobs:z,truncation:w?.truncation,...b.isReasoningModel&&(w?.reasoningEffort!=null||w?.reasoningSummary!=null)&&{reasoning:{...w?.reasoningEffort!=null&&{effort:w.reasoningEffort},...w?.reasoningSummary!=null&&{summary:w.reasoningSummary}}}};b.isReasoningModel?(G.temperature!=null&&(G.temperature=void 0,S.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),G.top_p!=null&&(G.top_p=void 0,S.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"}))):(w?.reasoningEffort!=null&&S.push({type:"unsupported-setting",setting:"reasoningEffort",details:"reasoningEffort is not supported for non-reasoning models"}),w?.reasoningSummary!=null&&S.push({type:"unsupported-setting",setting:"reasoningSummary",details:"reasoningSummary is not supported for non-reasoning models"})),w?.serviceTier==="flex"&&!b.supportsFlexProcessing&&(S.push({type:"unsupported-setting",setting:"serviceTier",details:"flex processing is only available for o3, o4-mini, and gpt-5 models"}),delete G.service_tier),w?.serviceTier==="priority"&&!b.supportsPriorityProcessing&&(S.push({type:"unsupported-setting",setting:"serviceTier",details:"priority processing is only available for supported models (gpt-4, gpt-5, gpt-5-mini, o3, o4-mini) and requires Enterprise access. gpt-5-nano is not supported"}),delete G.service_tier);let{tools:B,toolChoice:te,toolWarnings:ne}=await Qve({tools:p,toolChoice:f,strictJsonSchema:C});return{webSearchToolName:D,args:{...G,tools:B,tool_choice:te},warnings:[...S,...ne],store:X}}async doGenerate(e){var t,r,n,o,i,s,u,l,d,p,f,m,y,g,h,v,S,b,w;let{args:k,warnings:$,webSearchToolName:C}=await this.getArgs(e),A=this.config.url({path:"/responses",modelId:this.modelId}),{responseHeaders:R,value:O,rawValue:z}=await gn({url:A,headers:Br(this.config.headers(),e.headers),body:k,failedResponseHandler:ri,successfulResponseHandler:to(Kve),abortSignal:e.abortSignal,fetch:this.config.fetch});if(O.error)throw new Ye({message:O.error.message,url:A,requestBodyValues:k,statusCode:400,responseHeaders:R,responseBody:z,isRetryable:!1});let D=[],X=[],G=!1;for(let ne of O.output)switch(ne.type){case"reasoning":{ne.summary.length===0&&ne.summary.push({type:"summary_text",text:""});for(let ae of ne.summary)D.push({type:"reasoning",text:ae.text,providerMetadata:{openai:{itemId:ne.id,reasoningEncryptedContent:(t=ne.encrypted_content)!=null?t:null}}});break}case"image_generation_call":{D.push({type:"tool-call",toolCallId:ne.id,toolName:"image_generation",input:"{}",providerExecuted:!0}),D.push({type:"tool-result",toolCallId:ne.id,toolName:"image_generation",result:{result:ne.result},providerExecuted:!0});break}case"local_shell_call":{D.push({type:"tool-call",toolCallId:ne.call_id,toolName:"local_shell",input:JSON.stringify({action:ne.action}),providerMetadata:{openai:{itemId:ne.id}}});break}case"message":{for(let ae of ne.content){(n=(r=e.providerOptions)==null?void 0:r.openai)!=null&&n.logprobs&&ae.logprobs&&X.push(ae.logprobs),D.push({type:"text",text:ae.text,providerMetadata:{openai:{itemId:ne.id}}});for(let Se of ae.annotations)Se.type==="url_citation"?D.push({type:"source",sourceType:"url",id:(s=(i=(o=this.config).generateId)==null?void 0:i.call(o))!=null?s:Do(),url:Se.url,title:Se.title}):Se.type==="file_citation"&&D.push({type:"source",sourceType:"document",id:(d=(l=(u=this.config).generateId)==null?void 0:l.call(u))!=null?d:Do(),mediaType:"text/plain",title:(f=(p=Se.quote)!=null?p:Se.filename)!=null?f:"Document",filename:(m=Se.filename)!=null?m:Se.file_id,...Se.file_id?{providerMetadata:{openai:{fileId:Se.file_id}}}:{}})}break}case"function_call":{G=!0,D.push({type:"tool-call",toolCallId:ne.call_id,toolName:ne.name,input:ne.arguments,providerMetadata:{openai:{itemId:ne.id}}});break}case"web_search_call":{D.push({type:"tool-call",toolCallId:ne.id,toolName:C??"web_search",input:JSON.stringify({}),providerExecuted:!0}),D.push({type:"tool-result",toolCallId:ne.id,toolName:C??"web_search",result:uJ(ne.action),providerExecuted:!0});break}case"computer_call":{D.push({type:"tool-call",toolCallId:ne.id,toolName:"computer_use",input:"",providerExecuted:!0}),D.push({type:"tool-result",toolCallId:ne.id,toolName:"computer_use",result:{type:"computer_use_tool_result",status:ne.status||"completed"},providerExecuted:!0});break}case"file_search_call":{D.push({type:"tool-call",toolCallId:ne.id,toolName:"file_search",input:"{}",providerExecuted:!0}),D.push({type:"tool-result",toolCallId:ne.id,toolName:"file_search",result:{queries:ne.queries,results:(g=(y=ne.results)==null?void 0:y.map(ae=>({attributes:ae.attributes,fileId:ae.file_id,filename:ae.filename,score:ae.score,text:ae.text})))!=null?g:null},providerExecuted:!0});break}case"code_interpreter_call":{D.push({type:"tool-call",toolCallId:ne.id,toolName:"code_interpreter",input:JSON.stringify({code:ne.code,containerId:ne.container_id}),providerExecuted:!0}),D.push({type:"tool-result",toolCallId:ne.id,toolName:"code_interpreter",result:{outputs:ne.outputs},providerExecuted:!0});break}}let B={openai:{...O.id!=null?{responseId:O.id}:{}}};X.length>0&&(B.openai.logprobs=X),typeof O.service_tier=="string"&&(B.openai.serviceTier=O.service_tier);let te=O.usage;return{content:D,finishReason:aJ({finishReason:(h=O.incomplete_details)==null?void 0:h.reason,hasFunctionCall:G}),usage:{inputTokens:te.input_tokens,outputTokens:te.output_tokens,totalTokens:te.input_tokens+te.output_tokens,reasoningTokens:(S=(v=te.output_tokens_details)==null?void 0:v.reasoning_tokens)!=null?S:void 0,cachedInputTokens:(w=(b=te.input_tokens_details)==null?void 0:b.cached_tokens)!=null?w:void 0},request:{body:k},response:{id:O.id,timestamp:new Date(O.created_at*1e3),modelId:O.model,headers:R,body:z},providerMetadata:B,warnings:$}}async doStream(e){let{args:t,warnings:r,webSearchToolName:n,store:o}=await this.getArgs(e),{responseHeaders:i,value:s}=await gn({url:this.config.url({path:"/responses",modelId:this.modelId}),headers:Br(this.config.headers(),e.headers),body:{...t,stream:!0},failedResponseHandler:ri,successfulResponseHandler:Ac(Zve),abortSignal:e.abortSignal,fetch:this.config.fetch}),u=this,l="unknown",d={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},p=[],f=null,m={},y=[],g=!1,h={},v;return{stream:s.pipeThrough(new TransformStream({start(S){S.enqueue({type:"stream-start",warnings:r})},transform(S,b){var w,k,$,C,A,R,O,z,D,X,G,B,te,ne,ae,Se,ke,et,Ke,Q,Re,ve;if(e.includeRawChunks&&b.enqueue({type:"raw",rawValue:S.rawValue}),!S.success){l="error",b.enqueue({type:"error",error:S.error});return}let F=S.value;if(sJ(F))F.item.type==="function_call"?(m[F.output_index]={toolName:F.item.name,toolCallId:F.item.call_id},b.enqueue({type:"tool-input-start",id:F.item.call_id,toolName:F.item.name})):F.item.type==="web_search_call"?(m[F.output_index]={toolName:n??"web_search",toolCallId:F.item.id},b.enqueue({type:"tool-input-start",id:F.item.id,toolName:n??"web_search",providerExecuted:!0}),b.enqueue({type:"tool-input-end",id:F.item.id}),b.enqueue({type:"tool-call",toolCallId:F.item.id,toolName:n??"web_search",input:JSON.stringify({}),providerExecuted:!0})):F.item.type==="computer_call"?(m[F.output_index]={toolName:"computer_use",toolCallId:F.item.id},b.enqueue({type:"tool-input-start",id:F.item.id,toolName:"computer_use",providerExecuted:!0})):F.item.type==="code_interpreter_call"?(m[F.output_index]={toolName:"code_interpreter",toolCallId:F.item.id,codeInterpreter:{containerId:F.item.container_id}},b.enqueue({type:"tool-input-start",id:F.item.id,toolName:"code_interpreter",providerExecuted:!0}),b.enqueue({type:"tool-input-delta",id:F.item.id,delta:`{"containerId":"${F.item.container_id}","code":"`})):F.item.type==="file_search_call"?b.enqueue({type:"tool-call",toolCallId:F.item.id,toolName:"file_search",input:"{}",providerExecuted:!0}):F.item.type==="image_generation_call"?b.enqueue({type:"tool-call",toolCallId:F.item.id,toolName:"image_generation",input:"{}",providerExecuted:!0}):F.item.type==="message"?(y.splice(0,y.length),b.enqueue({type:"text-start",id:F.item.id,providerMetadata:{openai:{itemId:F.item.id}}})):sJ(F)&&F.item.type==="reasoning"&&(h[F.item.id]={encryptedContent:F.item.encrypted_content,summaryParts:{0:"active"}},b.enqueue({type:"reasoning-start",id:`${F.item.id}:0`,providerMetadata:{openai:{itemId:F.item.id,reasoningEncryptedContent:(w=F.item.encrypted_content)!=null?w:null}}}));else if(e_e(F)){if(F.item.type==="message")b.enqueue({type:"text-end",id:F.item.id,providerMetadata:{openai:{itemId:F.item.id,...y.length>0&&{annotations:y}}}});else if(F.item.type==="function_call")m[F.output_index]=void 0,g=!0,b.enqueue({type:"tool-input-end",id:F.item.call_id}),b.enqueue({type:"tool-call",toolCallId:F.item.call_id,toolName:F.item.name,input:F.item.arguments,providerMetadata:{openai:{itemId:F.item.id}}});else if(F.item.type==="web_search_call")m[F.output_index]=void 0,b.enqueue({type:"tool-result",toolCallId:F.item.id,toolName:n??"web_search",result:uJ(F.item.action),providerExecuted:!0});else if(F.item.type==="computer_call")m[F.output_index]=void 0,b.enqueue({type:"tool-input-end",id:F.item.id}),b.enqueue({type:"tool-call",toolCallId:F.item.id,toolName:"computer_use",input:"",providerExecuted:!0}),b.enqueue({type:"tool-result",toolCallId:F.item.id,toolName:"computer_use",result:{type:"computer_use_tool_result",status:F.item.status||"completed"},providerExecuted:!0});else if(F.item.type==="file_search_call")m[F.output_index]=void 0,b.enqueue({type:"tool-result",toolCallId:F.item.id,toolName:"file_search",result:{queries:F.item.queries,results:($=(k=F.item.results)==null?void 0:k.map(We=>({attributes:We.attributes,fileId:We.file_id,filename:We.filename,score:We.score,text:We.text})))!=null?$:null},providerExecuted:!0});else if(F.item.type==="code_interpreter_call")m[F.output_index]=void 0,b.enqueue({type:"tool-result",toolCallId:F.item.id,toolName:"code_interpreter",result:{outputs:F.item.outputs},providerExecuted:!0});else if(F.item.type==="image_generation_call")b.enqueue({type:"tool-result",toolCallId:F.item.id,toolName:"image_generation",result:{result:F.item.result},providerExecuted:!0});else if(F.item.type==="local_shell_call")m[F.output_index]=void 0,b.enqueue({type:"tool-call",toolCallId:F.item.call_id,toolName:"local_shell",input:JSON.stringify({action:{type:"exec",command:F.item.action.command,timeoutMs:F.item.action.timeout_ms,user:F.item.action.user,workingDirectory:F.item.action.working_directory,env:F.item.action.env}}),providerMetadata:{openai:{itemId:F.item.id}}});else if(F.item.type==="reasoning"){let We=h[F.item.id],It=Object.entries(We.summaryParts).filter(([Nt,vn])=>vn==="active"||vn==="can-conclude").map(([Nt])=>Nt);for(let Nt of It)b.enqueue({type:"reasoning-end",id:`${F.item.id}:${Nt}`,providerMetadata:{openai:{itemId:F.item.id,reasoningEncryptedContent:(C=F.item.encrypted_content)!=null?C:null}}});delete h[F.item.id]}}else if(n_e(F)){let We=m[F.output_index];We!=null&&b.enqueue({type:"tool-input-delta",id:We.toolCallId,delta:F.delta})}else if(o_e(F)){let We=m[F.output_index];We!=null&&b.enqueue({type:"tool-input-delta",id:We.toolCallId,delta:JSON.stringify(F.delta).slice(1,-1)})}else if(i_e(F)){let We=m[F.output_index];We!=null&&(b.enqueue({type:"tool-input-delta",id:We.toolCallId,delta:'"}'}),b.enqueue({type:"tool-input-end",id:We.toolCallId}),b.enqueue({type:"tool-call",toolCallId:We.toolCallId,toolName:"code_interpreter",input:JSON.stringify({code:F.code,containerId:We.codeInterpreter.containerId}),providerExecuted:!0}))}else if(r_e(F))f=F.response.id,b.enqueue({type:"response-metadata",id:F.response.id,timestamp:new Date(F.response.created_at*1e3),modelId:F.response.model});else if(Yve(F))b.enqueue({type:"text-delta",id:F.item_id,delta:F.delta}),(R=(A=e.providerOptions)==null?void 0:A.openai)!=null&&R.logprobs&&F.logprobs&&p.push(F.logprobs);else if(F.type==="response.reasoning_summary_part.added"){if(F.summary_index>0){let We=h[F.item_id];We.summaryParts[F.summary_index]="active";for(let It of Object.keys(We.summaryParts))We.summaryParts[It]==="can-conclude"&&(b.enqueue({type:"reasoning-end",id:`${F.item_id}:${It}`,providerMetadata:{openai:{itemId:F.item_id}}}),We.summaryParts[It]="concluded");b.enqueue({type:"reasoning-start",id:`${F.item_id}:${F.summary_index}`,providerMetadata:{openai:{itemId:F.item_id,reasoningEncryptedContent:(z=(O=h[F.item_id])==null?void 0:O.encryptedContent)!=null?z:null}}})}}else F.type==="response.reasoning_summary_text.delta"?b.enqueue({type:"reasoning-delta",id:`${F.item_id}:${F.summary_index}`,delta:F.delta,providerMetadata:{openai:{itemId:F.item_id}}}):F.type==="response.reasoning_summary_part.done"?o?(b.enqueue({type:"reasoning-end",id:`${F.item_id}:${F.summary_index}`,providerMetadata:{openai:{itemId:F.item_id}}}),h[F.item_id].summaryParts[F.summary_index]="concluded"):h[F.item_id].summaryParts[F.summary_index]="can-conclude":t_e(F)?(l=aJ({finishReason:(D=F.response.incomplete_details)==null?void 0:D.reason,hasFunctionCall:g}),d.inputTokens=F.response.usage.input_tokens,d.outputTokens=F.response.usage.output_tokens,d.totalTokens=F.response.usage.input_tokens+F.response.usage.output_tokens,d.reasoningTokens=(G=(X=F.response.usage.output_tokens_details)==null?void 0:X.reasoning_tokens)!=null?G:void 0,d.cachedInputTokens=(te=(B=F.response.usage.input_tokens_details)==null?void 0:B.cached_tokens)!=null?te:void 0,typeof F.response.service_tier=="string"&&(v=F.response.service_tier)):a_e(F)?(y.push(F.annotation),F.annotation.type==="url_citation"?b.enqueue({type:"source",sourceType:"url",id:(Se=(ae=(ne=u.config).generateId)==null?void 0:ae.call(ne))!=null?Se:Do(),url:F.annotation.url,title:F.annotation.title}):F.annotation.type==="file_citation"&&b.enqueue({type:"source",sourceType:"document",id:(Ke=(et=(ke=u.config).generateId)==null?void 0:et.call(ke))!=null?Ke:Do(),mediaType:"text/plain",title:(Re=(Q=F.annotation.quote)!=null?Q:F.annotation.filename)!=null?Re:"Document",filename:(ve=F.annotation.filename)!=null?ve:F.annotation.file_id,...F.annotation.file_id?{providerMetadata:{openai:{fileId:F.annotation.file_id}}}:{}})):s_e(F)&&b.enqueue({type:"error",error:F})},flush(S){let b={openai:{responseId:f}};p.length>0&&(b.openai.logprobs=p),v!==void 0&&(b.openai.serviceTier=v),S.enqueue({type:"finish",finishReason:l,usage:d,providerMetadata:b})}})),request:{body:t},response:{headers:i}}}};function Yve(e){return e.type==="response.output_text.delta"}a(Yve,"isTextDeltaChunk");function e_e(e){return e.type==="response.output_item.done"}a(e_e,"isResponseOutputItemDoneChunk");function t_e(e){return e.type==="response.completed"||e.type==="response.incomplete"}a(t_e,"isResponseFinishedChunk");function r_e(e){return e.type==="response.created"}a(r_e,"isResponseCreatedChunk");function n_e(e){return e.type==="response.function_call_arguments.delta"}a(n_e,"isResponseFunctionCallArgumentsDeltaChunk");function o_e(e){return e.type==="response.code_interpreter_call_code.delta"}a(o_e,"isResponseCodeInterpreterCallCodeDeltaChunk");function i_e(e){return e.type==="response.code_interpreter_call_code.done"}a(i_e,"isResponseCodeInterpreterCallCodeDoneChunk");function sJ(e){return e.type==="response.output_item.added"}a(sJ,"isResponseOutputItemAddedChunk");function a_e(e){return e.type==="response.output_text.annotation.added"}a(a_e,"isResponseAnnotationAddedChunk");function s_e(e){return e.type==="error"}a(s_e,"isErrorChunk");function u_e(e){let t=e.startsWith("o3")||e.startsWith("o4-mini")||e.startsWith("gpt-5")&&!e.startsWith("gpt-5-chat"),r=e.startsWith("gpt-4")||e.startsWith("gpt-5-mini")||e.startsWith("gpt-5")&&!e.startsWith("gpt-5-nano")&&!e.startsWith("gpt-5-chat")||e.startsWith("o3")||e.startsWith("o4-mini"),n={systemMessageMode:"system",supportsFlexProcessing:t,supportsPriorityProcessing:r};return e.startsWith("gpt-5-chat")?{...n,isReasoningModel:!1}:e.startsWith("o")||e.startsWith("gpt-5")||e.startsWith("codex-")||e.startsWith("computer-use")?{...n,isReasoningModel:!0,systemMessageMode:"developer"}:{...n,isReasoningModel:!1}}a(u_e,"getResponsesModelConfig");function uJ(e){var t;switch(e.type){case"search":return{action:{type:"search",query:(t=e.query)!=null?t:void 0},...e.sources!=null&&{sources:e.sources}};case"open_page":return{action:{type:"openPage",url:e.url}};case"find":return{action:{type:"find",url:e.url,pattern:e.pattern}}}}a(uJ,"mapWebSearchOutput");var c_e=Ft(()=>Ue(c.object({instructions:c.string().nullish(),speed:c.number().min(.25).max(4).default(1).nullish()}))),l_e=class{static{a(this,"OpenAISpeechModel")}constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2"}get provider(){return this.config.provider}async getArgs({text:e,voice:t="alloy",outputFormat:r="mp3",speed:n,instructions:o,language:i,providerOptions:s}){let u=[],l=await hn({provider:"openai",providerOptions:s,schema:c_e}),d={model:this.modelId,input:e,voice:t,response_format:"mp3",speed:n,instructions:o};if(r&&(["mp3","opus","aac","flac","wav","pcm"].includes(r)?d.response_format=r:u.push({type:"unsupported-setting",setting:"outputFormat",details:`Unsupported output format: ${r}. Using mp3 instead.`})),l){let p={};for(let f in p){let m=p[f];m!==void 0&&(d[f]=m)}}return i&&u.push({type:"unsupported-setting",setting:"language",details:`OpenAI speech models do not support language selection. Language parameter "${i}" was ignored.`}),{requestBody:d,warnings:u}}async doGenerate(e){var t,r,n;let o=(n=(r=(t=this.config._internal)==null?void 0:t.currentDate)==null?void 0:r.call(t))!=null?n:new Date,{requestBody:i,warnings:s}=await this.getArgs(e),{value:u,responseHeaders:l,rawValue:d}=await gn({url:this.config.url({path:"/audio/speech",modelId:this.modelId}),headers:Br(this.config.headers(),e.headers),body:i,failedResponseHandler:ri,successfulResponseHandler:ZB(),abortSignal:e.abortSignal,fetch:this.config.fetch});return{audio:u,warnings:s,request:{body:JSON.stringify(i)},response:{timestamp:o,modelId:this.modelId,headers:l,body:d}}}},d_e=Ft(()=>Ue(c.object({text:c.string(),language:c.string().nullish(),duration:c.number().nullish(),words:c.array(c.object({word:c.string(),start:c.number(),end:c.number()})).nullish(),segments:c.array(c.object({id:c.number(),seek:c.number(),start:c.number(),end:c.number(),text:c.string(),tokens:c.array(c.number()),temperature:c.number(),avg_logprob:c.number(),compression_ratio:c.number(),no_speech_prob:c.number()})).nullish()}))),p_e=Ft(()=>Ue(c.object({include:c.array(c.string()).optional(),language:c.string().optional(),prompt:c.string().optional(),temperature:c.number().min(0).max(1).default(0).optional(),timestampGranularities:c.array(c.enum(["word","segment"])).default(["segment"]).optional()}))),cJ={afrikaans:"af",arabic:"ar",armenian:"hy",azerbaijani:"az",belarusian:"be",bosnian:"bs",bulgarian:"bg",catalan:"ca",chinese:"zh",croatian:"hr",czech:"cs",danish:"da",dutch:"nl",english:"en",estonian:"et",finnish:"fi",french:"fr",galician:"gl",german:"de",greek:"el",hebrew:"he",hindi:"hi",hungarian:"hu",icelandic:"is",indonesian:"id",italian:"it",japanese:"ja",kannada:"kn",kazakh:"kk",korean:"ko",latvian:"lv",lithuanian:"lt",macedonian:"mk",malay:"ms",marathi:"mr",maori:"mi",nepali:"ne",norwegian:"no",persian:"fa",polish:"pl",portuguese:"pt",romanian:"ro",russian:"ru",serbian:"sr",slovak:"sk",slovenian:"sl",spanish:"es",swahili:"sw",swedish:"sv",tagalog:"tl",tamil:"ta",thai:"th",turkish:"tr",ukrainian:"uk",urdu:"ur",vietnamese:"vi",welsh:"cy"},m_e=class{static{a(this,"OpenAITranscriptionModel")}constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2"}get provider(){return this.config.provider}async getArgs({audio:e,mediaType:t,providerOptions:r}){let n=[],o=await hn({provider:"openai",providerOptions:r,schema:p_e}),i=new FormData,s=e instanceof Uint8Array?new Blob([e]):new Blob([YB(e)]);i.append("model",this.modelId);let u=FB(t);if(i.append("file",new File([s],"audio",{type:t}),`audio.${u}`),o){let l={include:o.include,language:o.language,prompt:o.prompt,response_format:["gpt-4o-transcribe","gpt-4o-mini-transcribe"].includes(this.modelId)?"json":"verbose_json",temperature:o.temperature,timestamp_granularities:o.timestampGranularities};for(let[d,p]of Object.entries(l))if(p!=null)if(Array.isArray(p))for(let f of p)i.append(`${d}[]`,String(f));else i.append(d,String(p))}return{formData:i,warnings:n}}async doGenerate(e){var t,r,n,o,i,s,u,l;let d=(n=(r=(t=this.config._internal)==null?void 0:t.currentDate)==null?void 0:r.call(t))!=null?n:new Date,{formData:p,warnings:f}=await this.getArgs(e),{value:m,responseHeaders:y,rawValue:g}=await JB({url:this.config.url({path:"/audio/transcriptions",modelId:this.modelId}),headers:Br(this.config.headers(),e.headers),formData:p,failedResponseHandler:ri,successfulResponseHandler:to(d_e),abortSignal:e.abortSignal,fetch:this.config.fetch}),h=m.language!=null&&m.language in cJ?cJ[m.language]:void 0;return{text:m.text,segments:(u=(s=(o=m.segments)==null?void 0:o.map(v=>({text:v.text,startSecond:v.start,endSecond:v.end})))!=null?s:(i=m.words)==null?void 0:i.map(v=>({text:v.word,startSecond:v.start,endSecond:v.end})))!=null?u:[],language:h,durationInSeconds:(l=m.duration)!=null?l:void 0,warnings:f,response:{timestamp:d,modelId:this.modelId,headers:y,body:g}}}},f_e="2.0.74";function h_e(e={}){var t,r;let n=(t=eJ(LB({settingValue:e.baseURL,environmentVariableName:"OPENAI_BASE_URL"})))!=null?t:"https://api.openai.com/v1",o=(r=e.name)!=null?r:"openai",i=a(()=>M1({Authorization:`Bearer ${UB({apiKey:e.apiKey,environmentVariableName:"OPENAI_API_KEY",description:"OpenAI"})}`,"OpenAI-Organization":e.organization,"OpenAI-Project":e.project,...e.headers},`ai-sdk/openai/${f_e}`),"getHeaders"),s=a(h=>new ive(h,{provider:`${o}.chat`,url:a(({path:v})=>`${n}${v}`,"url"),headers:i,fetch:e.fetch}),"createChatModel"),u=a(h=>new mve(h,{provider:`${o}.completion`,url:a(({path:v})=>`${n}${v}`,"url"),headers:i,fetch:e.fetch}),"createCompletionModel"),l=a(h=>new gve(h,{provider:`${o}.embedding`,url:a(({path:v})=>`${n}${v}`,"url"),headers:i,fetch:e.fetch}),"createEmbeddingModel"),d=a(h=>new bve(h,{provider:`${o}.image`,url:a(({path:v})=>`${n}${v}`,"url"),headers:i,fetch:e.fetch}),"createImageModel"),p=a(h=>new m_e(h,{provider:`${o}.transcription`,url:a(({path:v})=>`${n}${v}`,"url"),headers:i,fetch:e.fetch}),"createTranscriptionModel"),f=a(h=>new l_e(h,{provider:`${o}.speech`,url:a(({path:v})=>`${n}${v}`,"url"),headers:i,fetch:e.fetch}),"createSpeechModel"),m=a(h=>{if(new.target)throw new Error("The OpenAI model function cannot be called with the new keyword.");return y(h)},"createLanguageModel"),y=a(h=>new Xve(h,{provider:`${o}.responses`,url:a(({path:v})=>`${n}${v}`,"url"),headers:i,fetch:e.fetch,fileIdPrefixes:["file-"]}),"createResponsesModel"),g=a(function(h){return m(h)},"provider");return g.languageModel=m,g.chat=s,g.completion=u,g.responses=y,g.embedding=l,g.textEmbedding=l,g.textEmbeddingModel=l,g.image=d,g.imageModel=d,g.transcription=p,g.transcriptionModel=p,g.speech=f,g.speechModel=f,g.tools=Jve,g}a(h_e,"createOpenAI");var J1=h_e();var gJ=c.enum(["openai","anthropic","google"]),g_e={openai:{default:a(()=>J1("gpt-4o"),"default"),fast:a(()=>J1("gpt-4o-mini"),"fast"),envKey:"OPENAI_API_KEY"},anthropic:{default:a(()=>E1("claude-3-5-sonnet-latest"),"default"),fast:a(()=>E1("claude-3-5-haiku-latest"),"fast"),envKey:"ANTHROPIC_API_KEY"},google:{default:a(()=>$1("gemini-1.5-pro-latest"),"default"),fast:a(()=>$1("gemini-1.5-flash-latest"),"fast"),envKey:"GOOGLE_GENERATIVE_AI_API_KEY"}};function yJ(e,t="default"){return g_e[e][t]()}a(yJ,"getModel");function vJ(){let e=[];return process.env.OPENAI_API_KEY&&e.push("openai"),process.env.ANTHROPIC_API_KEY&&e.push("anthropic"),process.env.GOOGLE_GENERATIVE_AI_API_KEY&&e.push("google"),e.length>0?e:["google"]}a(vJ,"getAvailableProviders");var y_e=[/ignore\s+(all\s+)?(previous|above|prior)\s+instructions/i,/disregard\s+(all\s+)?(previous|prior)\s+(instructions|context)/i,/you\s+are\s+now/i,/new\s+instructions:/i,/system:\s*/i,/\[INST\]/i,/<\/s>/i,/DROP\s+TABLE/i,/DELETE\s+FROM\s+\w+\s*;/i,/UPDATE\s+\w+\s+SET.*WHERE\s+1\s*=\s*1/i,/;\s*--/];function _J(e){for(let r of y_e)if(r.test(e))return{isSafe:!1,reason:`Potential injection detected: ${r.source}`};return{isSafe:!0,sanitizedInput:[...e].filter(r=>{let n=r.charCodeAt(0);return n>=32&&n!==127}).join("").trim()}}a(_J,"checkPromptInjection");ir();var v_e=new Set(["password","password_hash","two_factor_secret","two_factor_enabled","voice_sample_encrypted","voice_biometric_enabled","biometric_enabled","api_token","refresh_token","belvo_link_token","session_token"]),bJ={cpf:a(e=>e?`***.***.***-${e.slice(-2)}`:"[n\xE3o informado]","cpf"),account_number:a(e=>e?`****${e.slice(-4)}`:"[n\xE3o informado]","account_number"),phone:a(e=>e?`(**) *****-${e.slice(-4)}`:"[n\xE3o informado]","phone")};function ni(e){if(!e)return{};let t={};for(let[r,n]of Object.entries(e))if(!v_e.has(r.toLowerCase())){if(r.toLowerCase()in bJ&&typeof n=="string"){t[r]=bJ[r.toLowerCase()](n);continue}if(n&&typeof n=="object"){Array.isArray(n)?t[r]=n.map(o=>typeof o=="object"&&o!==null?ni(o):o):t[r]=ni(n);continue}t[r]=n}return t}a(ni,"filterSensitiveData");Fr();function SJ(e,t){let r=c.object({includeInactive:c.boolean().default(!1).describe("Incluir contas inativas")}),n=c.object({accountId:c.string().uuid().optional().describe("ID da conta (omitir para total)")});return{listAccounts:{description:"Lista todas as contas banc\xE1rias do usu\xE1rio.",parameters:r,execute:a(async o=>{let{includeInactive:i}=o,s=[V(ce.userId,e)];i||s.push(V(ce.isActive,!0));let u=await t.select({id:ce.id,institutionName:ce.institutionName,accountType:ce.accountType,balance:ce.balance,availableBalance:ce.availableBalance,currency:ce.currency,isActive:ce.isActive,isPrimary:ce.isPrimary,lastSync:ce.lastSync}).from(ce).where(Pe(...s)).orderBy(Mt(ce.isPrimary)),l=u.reduce((d,p)=>d+Number(p.balance??0),0);return{accounts:u.map(ni),totalBalance:l,count:u.length}},"execute")},getAccountBalance:{description:"Obt\xE9m saldo atual de uma conta espec\xEDfica ou total de todas as contas.",parameters:n,execute:a(async o=>{let{accountId:i}=o;if(i){let[d]=await t.select({id:ce.id,institutionName:ce.institutionName,balance:ce.balance,availableBalance:ce.availableBalance,currency:ce.currency,lastSync:ce.lastSync}).from(ce).where(Pe(V(ce.id,i),V(ce.userId,e))).limit(1);if(!d)throw new Error("Conta n\xE3o encontrada");return ni(d)}let s=await t.select({balance:ce.balance,availableBalance:ce.availableBalance,currency:ce.currency}).from(ce).where(Pe(V(ce.userId,e),V(ce.isActive,!0))),u=s.reduce((d,p)=>d+Number(p.balance??0),0),l=s.reduce((d,p)=>d+Number(p.availableBalance??0),0);return{totalBalance:u,totalAvailable:l,currency:"BRL",accountCount:s.length}},"execute")}}}a(SJ,"createAccountTools");ir();Fr();function wJ(e,t){let r=c.object({includeSystem:c.boolean().default(!0).describe("Incluir categorias do sistema")}),n=c.object({name:c.string().min(1).max(50).describe("Nome da categoria"),color:c.string().regex(/^#[0-9A-Fa-f]{6}$/).default("#6B7280").describe("Cor em hexadecimal"),icon:c.string().default("circle").describe("Nome do \xEDcone")});return{listCategories:{description:"Lista todas as categorias de transa\xE7\xE3o dispon\xEDveis.",parameters:r,execute:a(async o=>{let{includeSystem:i}=o,s=ia(V(De.userId,e),Nl(De.userId)),u=await t.select({id:De.id,name:De.name,color:De.color,icon:De.icon,isSystem:De.isSystem,parentId:De.parentId}).from(De).where(s);return i||(u=u.filter(l=>!l.isSystem)),{categories:u,count:u.length}},"execute")},createCategory:{description:"Cria uma nova categoria personalizada.",parameters:n,execute:a(async o=>{let{name:i,color:s,icon:u}=o,[l]=await t.insert(De).values({userId:e,name:i,color:s,icon:u,isSystem:!1}).returning();return{success:!0,category:l}},"execute")}}}a(wJ,"createCategoryTools");ir();Fr();function xJ(e,t){let r=c.object({startDate:c.string().datetime().optional().describe("Data inicial no formato ISO (YYYY-MM-DD)"),endDate:c.string().datetime().optional().describe("Data final no formato ISO (YYYY-MM-DD)"),categoryId:c.string().uuid().optional().describe("ID da categoria para filtrar"),accountId:c.string().uuid().optional().describe("ID da conta para filtrar"),minAmount:c.number().optional().describe("Valor m\xEDnimo da transa\xE7\xE3o"),maxAmount:c.number().optional().describe("Valor m\xE1ximo da transa\xE7\xE3o"),searchTerm:c.string().optional().describe("Termo para buscar na descri\xE7\xE3o"),limit:c.number().min(1).max(100).default(20).describe("N\xFAmero m\xE1ximo de resultados"),offset:c.number().min(0).default(0).describe("Pular N resultados para pagina\xE7\xE3o")}),n=c.object({transactionId:c.string().uuid().describe("ID da transa\xE7\xE3o")}),o=c.object({amount:c.number().describe("Valor da transa\xE7\xE3o (positivo para receita, negativo para despesa)"),description:c.string().min(1).max(255).describe("Descri\xE7\xE3o da transa\xE7\xE3o"),categoryId:c.string().uuid().optional().describe("ID da categoria"),accountId:c.string().uuid().optional().describe("ID da conta banc\xE1ria"),transactionDate:c.string().datetime().optional().describe("Data da transa\xE7\xE3o (padr\xE3o: agora)"),merchantName:c.string().optional().describe("Nome do estabelecimento")}),i=c.object({transactionId:c.string().uuid().describe("ID da transa\xE7\xE3o a atualizar"),amount:c.number().optional().describe("Novo valor"),description:c.string().min(1).max(255).optional().describe("Nova descri\xE7\xE3o"),categoryId:c.string().uuid().optional().describe("Nova categoria"),transactionDate:c.string().datetime().optional().describe("Nova data"),merchantName:c.string().optional().describe("Novo estabelecimento")}),s=c.object({transactionId:c.string().uuid().describe("ID da transa\xE7\xE3o")}),u=c.object({startDate:c.string().datetime().describe("Data inicial"),endDate:c.string().datetime().describe("Data final")});return{listTransactions:{description:"Lista transa\xE7\xF5es do usu\xE1rio com filtros opcionais. Use para consultar hist\xF3rico, buscar por per\xEDodo ou categoria.",parameters:r,execute:a(async l=>{let{startDate:d,endDate:p,categoryId:f,accountId:m,minAmount:y,maxAmount:g,searchTerm:h,limit:v,offset:S}=l,b=[V(oe.userId,e)];d&&b.push(gr(oe.transactionDate,new Date(d))),p&&b.push(or(oe.transactionDate,new Date(p))),f&&b.push(V(oe.categoryId,f)),m&&b.push(V(oe.accountId,m)),y&&b.push(gr(oe.amount,String(y))),g&&b.push(or(oe.amount,String(g))),h&&b.push(Ur(oe.description,`%${h}%`));let w=await t.select({id:oe.id,amount:oe.amount,description:oe.description,merchantName:oe.merchantName,transactionDate:oe.transactionDate,status:oe.status,createdAt:oe.createdAt}).from(oe).where(Pe(...b)).orderBy(Mt(oe.transactionDate)).limit(v).offset(S);return{transactions:w.map(ni),total:w.length,hasMore:w.length===v}},"execute")},getTransaction:{description:"Obt\xE9m detalhes de uma transa\xE7\xE3o espec\xEDfica pelo ID.",parameters:n,execute:a(async l=>{let{transactionId:d}=l,[p]=await t.select().from(oe).where(Pe(V(oe.id,d),V(oe.userId,e))).limit(1);if(!p)throw new Error("Transa\xE7\xE3o n\xE3o encontrada");return ni(p)},"execute")},createTransaction:{description:"Cria uma nova transa\xE7\xE3o manual para o usu\xE1rio.",parameters:o,execute:a(async l=>{let{amount:d,description:p,categoryId:f,accountId:m,transactionDate:y,merchantName:g}=l,[h]=await t.insert(oe).values({userId:e,amount:String(d),description:p,categoryId:f,accountId:m,transactionDate:y?new Date(y):new Date,merchantName:g,transactionType:d>=0?"credit":"debit",status:"posted",isManualEntry:!0}).returning();return{success:!0,transaction:ni(h)}},"execute")},updateTransaction:{description:"Atualiza uma transa\xE7\xE3o existente do usu\xE1rio.",parameters:i,execute:a(async l=>{let{transactionId:d,...p}=l,f={updatedAt:new Date};p.amount!==void 0&&(f.amount=String(p.amount)),p.description!==void 0&&(f.description=p.description),p.categoryId!==void 0&&(f.categoryId=p.categoryId),p.transactionDate!==void 0&&(f.transactionDate=new Date(p.transactionDate)),p.merchantName!==void 0&&(f.merchantName=p.merchantName);let[m]=await t.update(oe).set(f).where(Pe(V(oe.id,d),V(oe.userId,e))).returning();if(!m)throw new Error("Transa\xE7\xE3o n\xE3o encontrada");return{success:!0,transaction:ni(m)}},"execute")},deleteTransaction:{description:"Deleta uma transa\xE7\xE3o. Use com cuidado, esta a\xE7\xE3o \xE9 irrevers\xEDvel.",parameters:s,execute:a(async l=>{let{transactionId:d}=l,[p]=await t.delete(oe).where(Pe(V(oe.id,d),V(oe.userId,e))).returning({id:oe.id});if(!p)throw new Error("Transa\xE7\xE3o n\xE3o encontrada");return{success:!0,message:"Transa\xE7\xE3o deletada com sucesso."}},"execute")},getSpendingSummary:{description:"Obt\xE9m resumo de gastos por categoria em um per\xEDodo.",parameters:u,execute:a(async l=>{let{startDate:d,endDate:p}=l,f=await t.select({amount:oe.amount,categoryId:oe.categoryId}).from(oe).where(Pe(V(oe.userId,e),or(oe.amount,"0"),gr(oe.transactionDate,new Date(d)),or(oe.transactionDate,new Date(p)))),m=[...new Set(f.map(b=>b.categoryId).filter(Boolean))],y=m.length?await t.select({id:De.id,name:De.name,color:De.color}).from(De).where(us(De.id,m)):[],g=new Map(y.map(b=>[b.id,b])),h=f.reduce((b,w)=>{let k=w.categoryId??"uncategorized",$=g.get(w.categoryId??"");return b[k]||(b[k]={categoryId:k,categoryName:$?.name??"Sem categoria",color:$?.color??"#6B7280",total:0,count:0}),b[k].total+=Math.abs(Number(w.amount)),b[k].count+=1,b},{}),v=Object.values(h).sort((b,w)=>w.total-b.total),S=v.reduce((b,w)=>b+w.total,0);return{period:{startDate:d,endDate:p},grandTotal:S,categories:v}},"execute")}}}a(xJ,"createTransactionTools");function TJ(e,t){return{...xJ(e,t),...SJ(e,t),...wJ(e,t)}}a(TJ,"createAllTools");function __e(e){let t=[],n=[/\b\d{3}\.\d{3}\.\d{3}-\d{2}\b/,/\b\d{2}\.\d{3}\.\d{3}\/\d{4}-\d{2}\b/,/\b\d{4}[- ]?\d{4}[- ]?\d{4}[- ]?\d{4}\b/].some(i=>i.test(e));n&&t.push("Sensitive data detected in response");let o=/[]/i.test(e)||e.includes("R$");return{isValid:t.length===0,language:o?"pt-BR":"en",contentType:"text",sensitiveDataDetected:n,complianceIssues:t}}a(__e,"validateBrazilianPortugueseContent");var Up=new Oe,b_e=c.object({messages:c.array(c.object({role:c.enum(["user","assistant","system","tool"]),content:c.string(),sensitiveDataRedacted:c.boolean().optional().default(!1),timestamp:c.string().datetime().optional(),sessionId:c.string().uuid().optional(),parts:c.array(c.object({type:c.literal("text"),text:c.string()})).optional()})).min(1,"At least one message is required").transform(e=>e.filter(t=>t.role!=="tool").map(t=>({...t,parts:t.parts||[{type:"text",text:t.content}]}))),provider:gJ.optional().default("google"),tier:c.enum(["default","fast"]).optional().default("default")});Up.post("/chat",fe,Ve("json",b_e),async e=>{let t=Date.now(),{messages:r,provider:n,tier:o}=e.req.valid("json"),i=e.get("auth");if(!i?.user)return e.json({error:"Unauthorized"},401);let s=i.user.id,u=crypto.randomUUID(),l=r[r.length-1],d=l?.role==="user"?l.content:null;if(d&&typeof d=="string"){let p=_J(d);if(!p.isSafe)return await Qg({userId:s,sessionId:u,provider:n,model:`${n}/${o}`,actionType:"chat",inputSummary:d.slice(0,100),outputSummary:"Blocked: injection detected",latencyMs:Date.now()-t,outcome:"blocked",errorMessage:p.reason}),e.json({error:"Invalid input detected"},400)}try{let p=yJ(n,o),f=TJ(s,i.db);return WF({model:p,system:t6,messages:c1(r),tools:f,maxSteps:5,onFinish:a(async({usage:y,finishReason:g,toolCalls:h})=>{let v=r,S=v[v.length-1],b=S?.role==="assistant"?S.content:g,w=typeof b=="string"?__e(b):{isValid:!0,language:"pt-BR",contentType:"text",sensitiveDataDetected:!1,complianceIssues:[]},k=w.sensitiveDataDetected?" [LGPD Warning: Sensitive data detected]":w.language==="pt-BR"?" [PT-BR]":" [EN]";await Qg({userId:s,sessionId:u,provider:n,model:`${n}/${o}`,actionType:h?.length?"tool_call":"chat",toolName:h?.map($=>$.toolName).join(", "),inputSummary:typeof d=="string"?d.slice(0,100):"Multi-modal/Tool input",outputSummary:g+k,tokensUsed:y.totalTokens,latencyMs:Date.now()-t,outcome:w.isValid?"success":"error",errorMessage:w.complianceIssues.length>0?`Compliance issues: ${w.complianceIssues.join("; ")}`:void 0})},"onFinish")}).toDataStreamResponse()}catch(p){return await Qg({userId:s,sessionId:u,provider:n,model:`${n}/${o}`,actionType:"chat",inputSummary:typeof d=="string"?d.slice(0,100):"",outputSummary:"Error",latencyMs:Date.now()-t,outcome:"error",errorMessage:p instanceof Error?p.message:"Unknown error"}),e.json({error:"AI service error"},500)}});Up.get("/providers",fe,e=>e.json({available:vJ(),default:"google"}));import{randomUUID as fxe}from"node:crypto";ir();Fr();import{randomUUID as x_e}from"node:crypto";var EJ={BRL:{symbol:"R$",decimalSeparator:",",thousandsSeparator:".",maxAmount:99999999999e-2,minAmount:.01}},uy=new Set(["001","033","104","237","341","260","077","021","025","036","037","039","041","047","062","063","064","065","066","069","070","074","075","078","079","083","084","085","089","102","105","107","108","109","110","111","112","114","117","118","119","120","121","122","124","125","126","127","128","129","130","131","132","133","134","136","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320"]),S_e={CNPJ:{format:"XX.XXX.XXX/XXXX-XX",regex:/^\d{14}$/},CPF:{format:"XXX.XXX.XXX-XX",regex:/^\d{11}$/},EMAIL:{format:"email@example.com",regex:/^[^\s@]+@[^\s@]+\.[^\s@]+$/},PHONE:{format:"+55 (XX) XXXXX-XXXX",regex:/^\+?\d{10,15}$/},RANDOM_KEY:{format:"XXXX-XXXX-XXXX-XXXX-XXXX",regex:/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i}};var w_e={SUSPICIOUS_DESCRIPTIONS:["test","teste","debug","xxx","fake","fraud","hack","stolen","lavagem","dinheiro negro"],HIGH_VALUE_TRANSACTION:5e4,FREQUENT_SMALL_TRANSACTIONS:{count:20,amount:1e3,window:1440*60*1e3},RAPID_SUCCESSION:{count:5,window:300*1e3}},dtt={amount:c.number().min(EJ.BRL.minAmount,"Amount must be at least R$ 0,01").max(EJ.BRL.maxAmount,"Amount exceeds maximum allowed").refine(e=>Number.isFinite(e)&&Number(e.toFixed(2))===e,"Amount must have at most 2 decimal places"),bankAccount:c.object({account:c.string().regex(/^\d{1,12}$/,"Account must be 1-12 digits").refine(e=>!/^0+$/.test(e),"Account cannot be all zeros"),accountDigit:c.string().regex(/^\d$/,"Account digit must be a single digit"),agency:c.string().regex(/^\d{1,6}$/,"Agency must be 1-6 digits").refine(e=>!/^0+$/.test(e),"Agency cannot be all zeros"),bankCode:c.string().refine(e=>uy.has(e),"Invalid Brazilian bank code")}),financialInstitution:c.object({code:c.string().refine(e=>uy.has(e),"Invalid bank code"),name:c.string().min(2,"Institution name must be at least 2 characters").max(100,"Institution name must be less than 100 characters")}),pixKey:c.object({key:c.string().min(1,"PIX key cannot be empty"),type:c.enum(["cpf","cnpj","email","phone","random"])}).refine(e=>S_e[e.type.toUpperCase()].regex.test(e.key.replace(/\D/g,"")),"Invalid PIX key format for the specified type"),transaction:c.object({account_id:c.string().uuid("Conta banc\xE1ria inv\xE1lida"),amount:c.number(),category_id:c.string().uuid().optional(),description:c.string().min(3,"Description must be at least 3 characters").max(200,"Description must be less than 200 characters").refine(e=>!w_e.SUSPICIOUS_DESCRIPTIONS.some(t=>e.toLowerCase().includes(t)),"Description contains suspicious content"),is_manual_entry:c.boolean().default(!0),merchant_name:c.string().max(120).optional(),notes:c.string().max(500).optional(),payment_method:c.enum(["cash","debit_card","credit_card","pix","boleto","transfer"]).optional(),status:c.enum(["pending","posted","failed","cancelled"]).default("posted"),tags:c.array(c.string()).max(10).optional(),transaction_date:c.string().refine(e=>{let t=new Date(e);return!Number.isNaN(t.getTime())&&t>=new Date("2020-01-01")&&t<=new Date(Date.now()+1440*60*1e3)},"Invalid date. Must be a valid date between 2020-01-01 and tomorrow"),transaction_type:c.enum(["debit","credit","transfer","pix","boleto"])})};function kJ(e){let t=e.replace(/\D/g,"");if(t.length!==11||/^(\d)\1{10}$/.test(t))return!1;let r=0,n;for(let o=1;o<=9;o++)r+=Number.parseInt(t.substring(o-1,o),10)*(11-o);if(n=r*10%11,(n===10||n===11)&&(n=0),n!==Number.parseInt(t.substring(9,10),10))return!1;r=0;for(let o=1;o<=10;o++)r+=Number.parseInt(t.substring(o-1,o),10)*(12-o);return n=r*10%11,(n===10||n===11)&&(n=0),n===Number.parseInt(t.substring(10,11),10)}a(kJ,"validateCPF");var PJ=["CHECKING","SAVINGS","INVESTMENT","SALARY","DIGITAL_WALLET"],T_e=["pending","manual","success","error"],E_e=c.object({account_holder_name:c.string().optional(),account_mask:c.string().min(7,"M\xE1scara da conta \xE9 obrigat\xF3ria."),account_number:c.string().optional(),account_type:c.enum(PJ),balance:c.number(),belvo_account_id:c.string().optional(),currency:c.string().default("BRL"),institution_id:c.string().min(1,"ID da institui\xE7\xE3o \xE9 obrigat\xF3rio."),institution_name:c.string().min(1,"Nome da institui\xE7\xE3o \xE9 obrigat\xF3rio."),is_active:c.boolean().optional(),is_primary:c.boolean().optional(),user_id:c.string().min(1,"Usu\xE1rio \xE9 obrigat\xF3rio.")}),k_e=c.object({account_holder_name:c.string().optional(),account_mask:c.string().optional(),account_number:c.string().optional(),account_type:c.enum(PJ).optional(),balance:c.number().optional(),belvo_account_id:c.string().optional(),currency:c.string().optional(),institution_id:c.string().optional(),institution_name:c.string().optional(),is_active:c.boolean().optional(),is_primary:c.boolean().optional(),sync_error_message:c.string().optional(),sync_status:c.enum(T_e).optional()}),P_e=new Set(["user_id","institution_name","institution_id","account_type","account_mask","account_holder_name","account_number","belvo_account_id","balance","currency","is_primary","is_active","sync_status","sync_error_message"]),IJ="manual_",OJ=a(e=>{if(!e)return!1;let t=e.trim();return uy.has(t)?!0:/^[0-9a-f-]{8,}$/i.test(t)},"isValidInstitutionId"),AJ=a(e=>!e||e.toUpperCase()==="BRL","isValidCurrency"),CJ=a(e=>!e||e.startsWith(IJ)?!0:/^[a-z0-9_-]{6,}$/i.test(e),"isValidBelvoId"),Lp=a(e=>e?/^\*{4}\s\d{4}$/.test(e):!1,"validateAccountMask"),Fp=a(e=>/^\*{4}\d{4}$/.test(e)?`**** ${e.slice(-4)}`:e,"normalizeAccountMask"),RJ=a(e=>e.map(t=>({field:t.path.join(".")||"root",message:t.message})),"collectZodErrors"),H1=a(e=>{let t={};return Object.entries(e).forEach(([r,n])=>{if(P_e.has(r)){if(typeof n=="string"){let o=n.trim();if(o==="")return;switch(r){case"currency":t.currency=o.toUpperCase();break;case"account_number":t.account_number=o.replace(/\s+/g,"");break;case"account_mask":t.account_mask=Fp(o);break;default:t[r]=o}return}if(typeof n=="number"){t[r]=Number(n);return}t[r]=n}}),t},"sanitizeBankAccountData"),$J=a(()=>`${IJ}${x_e()}`,"generateManualAccountId"),NJ=a(e=>{let t=[],r=E_e.safeParse(e);if(!r.success)return t.push(...RJ(r.error.issues)),{errors:t,valid:!1};let n=r.data;return Lp(n.account_mask)||t.push({field:"account_mask",message:"A m\xE1scara deve seguir o formato **** 1234."}),OJ(n.institution_id)||t.push({field:"institution_id",message:"Institui\xE7\xE3o banc\xE1ria inv\xE1lida."}),AJ(n.currency)||t.push({field:"currency",message:"Apenas contas em BRL s\xE3o suportadas no momento."}),CJ(n.belvo_account_id)||t.push({field:"belvo_account_id",message:"Identificador da conta Belvo inv\xE1lido."}),Number.isNaN(n.balance)&&t.push({field:"balance",message:"Saldo precisa ser um n\xFAmero v\xE1lido."}),{errors:t,valid:t.length===0}},"validateBankAccountForInsert"),zJ=a(e=>{let t=[],r=k_e.safeParse(e);if(!r.success)return t.push(...RJ(r.error.issues)),{errors:t,valid:!1};let n=r.data;return n.account_mask&&!Lp(n.account_mask)&&t.push({field:"account_mask",message:"A m\xE1scara deve seguir o formato **** 1234."}),n.institution_id&&!OJ(n.institution_id)&&t.push({field:"institution_id",message:"Institui\xE7\xE3o banc\xE1ria inv\xE1lida."}),n.currency&&!AJ(n.currency)&&t.push({field:"currency",message:"Apenas contas em BRL s\xE3o suportadas."}),n.belvo_account_id&&!CJ(n.belvo_account_id)&&t.push({field:"belvo_account_id",message:"Identificador da conta Belvo inv\xE1lido."}),n.balance!==void 0&&Number.isNaN(n.balance)&&t.push({field:"balance",message:"Saldo precisa ser um n\xFAmero v\xE1lido."}),{errors:t,valid:t.length===0}},"validateBankAccountForUpdate");ir();rn();Cr();ir();rn();Wr();Cr();var I_e=zt("organization_type",["individual","mei","limited_company","corporation","association","foundation"]),O_e=zt("organization_status",["active","inactive","suspended","pending_verification"]),A_e=zt("member_role",["admin","member","viewer","finance_manager","compliance_officer"]),C_e=zt("member_status",["active","invited","suspended","removed"]),R_e=zt("pix_key_type",["cpf","cnpj","email","phone","random_key"]),$_e=zt("pix_key_status",["active","inactive","pending","revoked"]),Bi=Ee("organizations",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),name:T("name").notNull(),tradeName:T("trade_name"),fantasyName:T("fantasy_name"),cnpj:T("cnpj").unique(),stateRegistration:T("state_registration"),municipalRegistration:T("municipal_registration"),organizationType:I_e("organization_type").notNull(),status:O_e("status").default("pending_verification"),email:T("email"),phone:T("phone"),website:T("website"),address:Le("address").default({}),annualRevenue:He("annual_revenue",{precision:15,scale:2}),employeeCount:yt("employee_count"),industry:T("industry"),lgpdOfficerId:T("lgpd_officer_id").references(()=>H.id),complianceFramework:T("compliance_framework"),memberLimit:yt("member_limit").default(5),transactionLimit:He("transaction_limit",{precision:15,scale:2}),primaryColor:T("primary_color"),secondaryColor:T("secondary_color"),logoUrl:T("logo_url"),faviconUrl:T("favicon_url"),metadata:Le("metadata").default({}),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow(),verifiedAt:K("verified_at",{withTimezone:!0}),suspendedAt:K("suspended_at",{withTimezone:!0})}),Bp=Ee("organization_members",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),organizationId:T("organization_id").references(()=>Bi.id,{onDelete:"cascade"}).notNull(),userId:T("user_id").references(()=>H.id,{onDelete:"cascade"}).notNull(),role:A_e("role").notNull(),status:C_e("status").default("invited"),permissions:Le("permissions").default([]),restrictedResources:Le("restricted_resources").default([]),invitedBy:T("invited_by").references(()=>H.id),inviteToken:T("invite_token"),inviteExpiresAt:K("invite_expires_at",{withTimezone:!0}),invitedAt:K("invited_at",{withTimezone:!0}).defaultNow(),title:T("title"),department:T("department"),costCenter:T("cost_center"),lastLogin:K("last_login",{withTimezone:!0}),twoFactorRequired:se("two_factor_required").default(!1),suspendedBy:T("suspended_by").references(()=>H.id),suspendedAt:K("suspended_at",{withTimezone:!0}),suspensionReason:T("suspension_reason"),removedBy:T("removed_by").references(()=>H.id),removedAt:K("removed_at",{withTimezone:!0}),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()},e=>[ps("org_members_org_user_idx").on(e.organizationId,e.userId),ps("org_members_invite_token_idx").on(e.inviteToken)]),V1=Ee("organization_settings",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),organizationId:T("organization_id").references(()=>Bi.id,{onDelete:"cascade"}).notNull().unique(),defaultLanguage:T("default_language").default("pt-BR"),timezone:T("timezone").default("America/Sao_Paulo"),currency:T("currency").default("BRL"),dateFormat:T("date_format").default("dd/MM/yyyy"),defaultTransactionCategory:T("default_transaction_category"),budgetAlertsEnabled:se("budget_alerts_enabled").default(!0),autoCategorizationEnabled:se("auto_categorization_enabled").default(!0),pixDailyLimit:He("pix_daily_limit",{precision:15,scale:2}),pixNighttimeLimit:He("pix_nighttime_limit",{precision:15,scale:2}),pixNighttimeStart:T("pix_nighttime_start").default("20:00"),pixNighttimeEnd:T("pix_nighttime_end").default("06:00"),pixRequireApproval:se("pix_require_approval").default(!1),pixApprovalThreshold:He("pix_approval_threshold",{precision:15,scale:2}),plaidEnabled:se("plaid_enabled").default(!1),openBankingEnabled:se("open_banking_enabled").default(!1),twoFactorRequired:se("two_factor_required").default(!1),sessionTimeoutMinutes:yt("session_timeout_minutes").default(30),ipWhitelist:Le("ip_whitelist").default([]),lgpdRetentionMonths:yt("lgpd_retention_months").default(60),dataExportEnabled:se("data_export_enabled").default(!0),auditLogEnabled:se("audit_log_enabled").default(!0),emailNotificationsEnabled:se("email_notifications_enabled").default(!0),smsNotificationsEnabled:se("sms_notifications_enabled").default(!1),pushNotificationsEnabled:se("push_notifications_enabled").default(!0),theme:T("theme").default("light"),compactMode:se("compact_mode").default(!1),accessibilityHighContrast:se("accessibility_high_contrast").default(!1),accessibilityLargeText:se("accessibility_large_text").default(!1),customCss:T("custom_css"),customScripts:T("custom_scripts"),features:Le("features").default({}),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()}),Stt=Ee("organization_pix_keys",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),organizationId:T("organization_id").references(()=>Bi.id,{onDelete:"cascade"}).notNull(),keyType:R_e("key_type").notNull(),keyValue:T("key_value").notNull(),bankName:T("bank_name").notNull(),bankCode:T("bank_code").notNull(),agencyNumber:T("agency_number"),accountNumber:T("account_number").notNull(),accountType:T("account_type"),displayName:T("display_name").notNull(),description:T("description"),isDefault:se("is_default").default(!1),status:$_e("status").default("pending"),dailyLimit:He("daily_limit",{precision:15,scale:2}),transactionLimit:He("transaction_limit",{precision:15,scale:2}),ownerId:T("owner_id").references(()=>H.id),createdBy:T("created_by").references(()=>H.id).notNull(),verifiedAt:K("verified_at",{withTimezone:!0}),verifiedBy:T("verified_by").references(()=>H.id),revokedAt:K("revoked_at",{withTimezone:!0}),revokedBy:T("revoked_by").references(()=>H.id),metadata:Le("metadata").default({}),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()},e=>[ps("org_pix_keys_org_key_idx").on(e.organizationId,e.keyValue)]),wtt=Ee("organization_consent_templates",{id:T("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),organizationId:T("organization_id").references(()=>Bi.id,{onDelete:"cascade"}).notNull(),name:T("name").notNull(),version:T("version").notNull().default("1.0"),consentType:T("consent_type").notNull(),titlePt:T("title_pt").notNull(),descriptionPt:T("description_pt").notNull(),fullTextPt:T("full_text_pt").notNull(),titleEn:T("title_en"),descriptionEn:T("description_en"),fullTextEn:T("full_text_en"),isMandatory:se("is_mandatory").default(!1),isActive:se("is_active").default(!0),legalBasis:T("legal_basis"),retentionMonths:yt("retention_months"),displayOnSignup:se("display_on_signup").default(!1),displayInSettings:se("display_in_settings").default(!0),requireExplicitAcceptance:se("require_explicit_acceptance").default(!0),categories:Le("categories").default([]),purposes:Le("purposes").default([]),effectiveFrom:K("effective_from",{withTimezone:!0}).defaultNow(),effectiveUntil:K("effective_until",{withTimezone:!0}),createdBy:T("created_by").references(()=>H.id).notNull(),approvedBy:T("approved_by").references(()=>H.id),approvedAt:K("approved_at",{withTimezone:!0}),createdAt:K("created_at",{withTimezone:!0}).defaultNow(),updatedAt:K("updated_at",{withTimezone:!0}).defaultNow()});Cr();var As=class{static{a(this,"OrganizationService")}static async createUserOrganization(t,r,n,o){let i=o||bo();try{let[s]=await i.select().from(H).where(V(H.id,t)).limit(1);if(s?.organizationId&&s.organizationId!=="default")return N.info("User already has organization",{userId:t,organizationId:s.organizationId}),s.organizationId;let[u]=await i.select().from(Bi).where(V(Bi.email,r)).limit(1);if(u)return N.info("Organization already exists for email",{userId:t,organizationId:u.id,email:r}),u.id;let l=crypto.randomUUID(),d=n||r.split("@")[0]||`User ${t.slice(-8)}`;return o?(await o.insert(Bi).values({id:l,name:d,fantasyName:d,email:r,organizationType:"individual",status:"active",memberLimit:1}),await o.insert(Bp).values({organizationId:l,userId:t,role:"admin",status:"active"}),await o.insert(V1).values({organizationId:l,defaultLanguage:"pt-BR",timezone:"America/Sao_Paulo",currency:"BRL",dateFormat:"dd/MM/yyyy"})):await i.transaction(async p=>{await p.insert(Bi).values({id:l,name:d,fantasyName:d,email:r,organizationType:"individual",status:"active",memberLimit:1}),await p.insert(Bp).values({organizationId:l,userId:t,role:"admin",status:"active"}),await p.insert(V1).values({organizationId:l,defaultLanguage:"pt-BR",timezone:"America/Sao_Paulo",currency:"BRL",dateFormat:"dd/MM/yyyy"})}),N.info("Organization created for user",{userId:t,organizationId:l,email:r,name:d}),l}catch(s){throw N.error("Failed to create organization for user",{userId:t,email:r,error:s instanceof Error?s.message:"Unknown error",stack:s instanceof Error?s.stack:void 0}),new Error("Falha ao criar organiza\xE7\xE3o para o usu\xE1rio")}}static async getUserOrganizationId(t){let r=bo();try{let[n]=await r.select().from(H).where(V(H.id,t)).limit(1);return n&&n.organizationId||null}catch(n){return N.error("Failed to get user organization",{userId:t,error:n instanceof Error?n.message:"Unknown error"}),null}}static async isUserMember(t,r){let n=bo();try{let[o]=await n.select().from(Bp).where(V(Bp.userId,t)).limit(1);return o?.organizationId===r&&o.status==="active"}catch(o){return N.error("Failed to verify organization membership",{userId:t,organizationId:r,error:o instanceof Error?o.message:"Unknown error"}),!1}}};import*as Bc from"crypto";import{EventEmitter as u3}from"events";import*as ly from"crypto";var Ua=class{static{a(this,"CryptoProvider")}computeHMACSignature(t,r){throw new Error("computeHMACSignature not implemented.")}computeHMACSignatureAsync(t,r){throw new Error("computeHMACSignatureAsync not implemented.")}computeSHA256Async(t){throw new Error("computeSHA256 not implemented.")}},Cc=class extends Error{static{a(this,"CryptoProviderOnlySupportsAsyncError")}};var cy=class extends Ua{static{a(this,"NodeCryptoProvider")}computeHMACSignature(t,r){return ly.createHmac("sha256",r).update(t,"utf8").digest("hex")}async computeHMACSignatureAsync(t,r){return await this.computeHMACSignature(t,r)}async computeSHA256Async(t){return new Uint8Array(await ly.createHash("sha256").update(t).digest())}};import*as K1 from"http";import*as G1 from"https";var Jr=class e{static{a(this,"HttpClient")}getClientName(){throw new Error("getClientName not implemented.")}makeRequest(t,r,n,o,i,s,u,l){throw new Error("makeRequest not implemented.")}static makeTimeoutError(){let t=new TypeError(e.TIMEOUT_ERROR_CODE);return t.code=e.TIMEOUT_ERROR_CODE,t}};Jr.CONNECTION_CLOSED_ERROR_CODES=["ECONNRESET","EPIPE"];Jr.TIMEOUT_ERROR_CODE="ETIMEDOUT";var La=class{static{a(this,"HttpClientResponse")}constructor(t,r){this._statusCode=t,this._headers=r}getStatusCode(){return this._statusCode}getHeaders(){return this._headers}getRawResponse(){throw new Error("getRawResponse not implemented.")}toStream(t){throw new Error("toStream not implemented.")}toJSON(){throw new Error("toJSON not implemented.")}};var jJ=K1.default||K1,DJ=G1.default||G1,N_e=new jJ.Agent({keepAlive:!0}),z_e=new DJ.Agent({keepAlive:!0}),Jp=class extends Jr{static{a(this,"NodeHttpClient")}constructor(t){super(),this._agent=t}getClientName(){return"node"}makeRequest(t,r,n,o,i,s,u,l){let d=u==="http",p=this._agent;return p||(p=d?N_e:z_e),new Promise((m,y)=>{let g=(d?jJ:DJ).request({host:t,port:r,path:n,method:o,agent:p,headers:i,ciphers:"DEFAULT:!aNULL:!eNULL:!LOW:!EXPORT:!SSLv2:!MD5"});g.setTimeout(l,()=>{g.destroy(Jr.makeTimeoutError())}),g.on("response",h=>{m(new Z1(h))}),g.on("error",h=>{y(h)}),g.once("socket",h=>{h.connecting?h.once(d?"connect":"secureConnect",()=>{g.write(s),g.end()}):(g.write(s),g.end())})})}},Z1=class extends La{static{a(this,"NodeHttpClientResponse")}constructor(t){super(t.statusCode,t.headers||{}),this._res=t}getRawResponse(){return this._res}toStream(t){return this._res.once("end",()=>t()),this._res}toJSON(){return new Promise((t,r)=>{let n="";this._res.setEncoding("utf8"),this._res.on("data",o=>{n+=o}),this._res.once("end",()=>{try{t(JSON.parse(n))}catch(o){r(o)}})})}};var WH=iu(GH(),1);var ER=["apiKey","idempotencyKey","stripeAccount","apiVersion","maxNetworkRetries","timeout","host","authenticator","stripeContext","additionalHeaders","streaming"];function QH(e){return e&&typeof e=="object"&&ER.some(t=>Object.prototype.hasOwnProperty.call(e,t))}a(QH,"isOptionsHash");function Ja(e,t){return WH.stringify(e,{serializeDate:a(r=>Math.floor(r.getTime()/1e3).toString(),"serializeDate"),arrayFormat:"indices"}).replace(/%5B/g,"[").replace(/%5D/g,"]")}a(Ja,"queryStringifyRequestData");var ky=(()=>{let e={"\n":"\\n",'"':'\\"',"\u2028":"\\u2028","\u2029":"\\u2029"};return t=>{let r=t.replace(/["\n\r\u2028\u2029]/g,n=>e[n]);return n=>r.replace(/\{([\s\S]+?)\}/g,(o,i)=>{let s=n[i];return swe(s)?encodeURIComponent(s):""})}})();function swe(e){return["number","string","boolean"].includes(typeof e)}a(swe,"isValidEncodeUriComponentType");function XH(e){let t=e.match(/\{\w+\}/g);return t?t.map(r=>r.replace(/[{}]/g,"")):[]}a(XH,"extractUrlParams");function Mc(e){if(!Array.isArray(e)||!e[0]||typeof e[0]!="object")return{};if(!QH(e[0]))return e.shift();let t=Object.keys(e[0]),r=t.filter(n=>ER.includes(n));return r.length>0&&r.length!==t.length&&nm(`Options found in arguments (${r.join(", ")}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options.`),{}}a(Mc,"getDataFromArgs");function Py(e){let t={host:null,headers:{},settings:{},streaming:!1};if(e.length>0){let r=e[e.length-1];if(typeof r=="string")t.authenticator=Ey(e.pop());else if(QH(r)){let n=Object.assign({},e.pop()),o=Object.keys(n).filter(i=>!ER.includes(i));if(o.length&&nm(`Invalid options found (${o.join(", ")}); ignoring.`),n.apiKey&&(t.authenticator=Ey(n.apiKey)),n.idempotencyKey&&(t.headers["Idempotency-Key"]=n.idempotencyKey),n.stripeAccount&&(t.headers["Stripe-Account"]=n.stripeAccount),n.stripeContext){if(t.headers["Stripe-Account"])throw new Error("Can't specify both stripeAccount and stripeContext.");t.headers["Stripe-Context"]=n.stripeContext}if(n.apiVersion&&(t.headers["Stripe-Version"]=n.apiVersion),Number.isInteger(n.maxNetworkRetries)&&(t.settings.maxNetworkRetries=n.maxNetworkRetries),Number.isInteger(n.timeout)&&(t.settings.timeout=n.timeout),n.host&&(t.host=n.host),n.authenticator){if(n.apiKey)throw new Error("Can't specify both apiKey and authenticator.");if(typeof n.authenticator!="function")throw new Error("The authenticator must be a function receiving a request as the first parameter.");t.authenticator=n.authenticator}n.additionalHeaders&&(t.headers=n.additionalHeaders),n.streaming&&(t.streaming=!0)}}return t}a(Py,"getOptionsFromArgs");function YH(e){let t=this,r=Object.prototype.hasOwnProperty.call(e,"constructor")?e.constructor:function(...n){t.apply(this,n)};return Object.assign(r,t),r.prototype=Object.create(t.prototype),Object.assign(r.prototype,e),r}a(YH,"protoExtend");function Iy(e){if(typeof e!="object")throw new Error("Argument must be an object");return Object.keys(e).reduce((t,r)=>(e[r]!=null&&(t[r]=e[r]),t),{})}a(Iy,"removeNullish");function e3(e){return e&&typeof e=="object"?Object.keys(e).reduce((t,r)=>(t[uwe(r)]=e[r],t),{}):e}a(e3,"normalizeHeaders");function uwe(e){return e.split("-").map(t=>t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()).join("-")}a(uwe,"normalizeHeader");function rm(e,t){return t?e.then(r=>{setTimeout(()=>{t(null,r)},0)},r=>{setTimeout(()=>{t(r,null)},0)}):e}a(rm,"callbackifyPromiseWithTimeout");function t3(e){return e==="OAuth"?"oauth":e[0].toLowerCase()+e.substring(1)}a(t3,"pascalToCamelCase");function nm(e){return typeof process.emitWarning!="function"?console.warn(`Stripe: ${e}`):process.emitWarning(e,"Stripe")}a(nm,"emitWarning");function cwe(e){let t=typeof e;return(t==="function"||t==="object")&&!!e}a(cwe,"isObject");function r3(e){let t={},r=a((n,o)=>{Object.entries(n).forEach(([i,s])=>{let u=o?`${o}[${i}]`:i;if(cwe(s)){if(!(s instanceof Uint8Array)&&!Object.prototype.hasOwnProperty.call(s,"data"))return r(s,u);t[u]=s}else t[u]=String(s)})},"step");return r(e,null),t}a(r3,"flattenAndStringify");function Oy(e,t,r){if(!Number.isInteger(t)){if(r!==void 0)return r;throw new Error(`${e} must be an integer`)}return t}a(Oy,"validateInteger");function n3(){return typeof process>"u"?{}:{lang_version:process.version,platform:process.platform}}a(n3,"determineProcessUserAgentProperties");function Ey(e){let t=a(r=>(r.headers.Authorization="Bearer "+e,Promise.resolve()),"authenticator");return t._apiKey=e,t}a(Ey,"createApiKeyAuthenticator");function o3(e){let t=e.reduce((o,i)=>o+i.length,0),r=new Uint8Array(t),n=0;return e.forEach(o=>{r.set(o,n),n+=o.length}),r}a(o3,"concat");function lwe(e,t){return this[e]instanceof Date?Math.floor(this[e].getTime()/1e3).toString():t}a(lwe,"dateTimeReplacer");function i3(e){return JSON.stringify(e,lwe)}a(i3,"jsonStringifyRequestData");function qc(e){return e&&e.startsWith("/v2")?"v2":"v1"}a(qc,"getAPIMode");function Ay(e){return Array.isArray(e)?e.join(", "):String(e)}a(Ay,"parseHttpHeaderAsString");function a3(e){let t=Array.isArray(e)?e[0]:e;return Number(t)}a(a3,"parseHttpHeaderAsNumber");function s3(e){return Object.entries(e).map(([t,r])=>[t,Ay(r)])}a(s3,"parseHeadersForFetch");var Cy=class e extends Jr{static{a(this,"FetchHttpClient")}constructor(t){if(super(),!t){if(!globalThis.fetch)throw new Error("fetch() function not provided and is not defined in the global scope. You must provide a fetch implementation.");t=globalThis.fetch}globalThis.AbortController?this._fetchFn=e.makeFetchWithAbortTimeout(t):this._fetchFn=e.makeFetchWithRaceTimeout(t)}static makeFetchWithRaceTimeout(t){return(r,n,o)=>{let i,s=new Promise((l,d)=>{i=setTimeout(()=>{i=null,d(Jr.makeTimeoutError())},o)}),u=t(r,n);return Promise.race([u,s]).finally(()=>{i&&clearTimeout(i)})}}static makeFetchWithAbortTimeout(t){return async(r,n,o)=>{let i=new AbortController,s=setTimeout(()=>{s=null,i.abort(Jr.makeTimeoutError())},o);try{return await t(r,Object.assign(Object.assign({},n),{signal:i.signal}))}catch(u){throw u.name==="AbortError"?Jr.makeTimeoutError():u}finally{s&&clearTimeout(s)}}}getClientName(){return"fetch"}async makeRequest(t,r,n,o,i,s,u,l){let d=u==="http",p=new URL(n,`${d?"http":"https"}://${t}`);p.port=r;let f=o=="POST"||o=="PUT"||o=="PATCH",m=s||(f?"":void 0),y=await this._fetchFn(p.toString(),{method:o,headers:s3(i),body:m},l);return new kR(y)}},kR=class e extends La{static{a(this,"FetchHttpClientResponse")}constructor(t){super(t.status,e._transformHeadersToObject(t.headers)),this._res=t}getRawResponse(){return this._res}toStream(t){return t(),this._res.body}toJSON(){return this._res.json()}static _transformHeadersToObject(t){let r={};for(let n of t){if(!Array.isArray(n)||n.length!=2)throw new Error("Response objects produced by the fetch function given to FetchHttpClient do not have an iterable headers map. Response#headers should be an iterable object.");r[n[0]]=n[1]}return r}};var Ry=class extends Ua{static{a(this,"SubtleCryptoProvider")}constructor(t){super(),this.subtleCrypto=t||crypto.subtle}computeHMACSignature(t,r){throw new Cc("SubtleCryptoProvider cannot be used in a synchronous context.")}async computeHMACSignatureAsync(t,r){let n=new TextEncoder,o=await this.subtleCrypto.importKey("raw",n.encode(r),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),i=await this.subtleCrypto.sign("hmac",o,n.encode(t)),s=new Uint8Array(i),u=new Array(s.length);for(let l=0;l<s.length;l++)u[l]=PR[s[l]];return u.join("")}async computeSHA256Async(t){return new Uint8Array(await this.subtleCrypto.digest("SHA-256",t))}},PR=new Array(256);for(let e=0;e<PR.length;e++)PR[e]=e.toString(16).padStart(2,"0");var $y=class{static{a(this,"PlatformFunctions")}constructor(){this._fetchFn=null,this._agent=null}getUname(){throw new Error("getUname not implemented.")}uuid4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{let r=Math.random()*16|0;return(t==="x"?r:r&3|8).toString(16)})}secureCompare(t,r){if(t.length!==r.length)return!1;let n=t.length,o=0;for(let i=0;i<n;++i)o|=t.charCodeAt(i)^r.charCodeAt(i);return o===0}createEmitter(){throw new Error("createEmitter not implemented.")}tryBufferData(t){throw new Error("tryBufferData not implemented.")}createNodeHttpClient(t){throw new Error("createNodeHttpClient not implemented.")}createFetchHttpClient(t){return new Cy(t)}createDefaultHttpClient(){throw new Error("createDefaultHttpClient not implemented.")}createNodeCryptoProvider(){throw new Error("createNodeCryptoProvider not implemented.")}createSubtleCryptoProvider(t){return new Ry(t)}createDefaultCryptoProvider(){throw new Error("createDefaultCryptoProvider not implemented.")}};var qy={};_n(qy,{StripeAPIError:()=>Uc,StripeAuthenticationError:()=>Lc,StripeCardError:()=>Ny,StripeConnectionError:()=>am,StripeError:()=>dr,StripeIdempotencyError:()=>zy,StripeInvalidGrantError:()=>jy,StripeInvalidRequestError:()=>om,StripePermissionError:()=>im,StripeRateLimitError:()=>Fc,StripeSignatureVerificationError:()=>Mo,StripeUnknownError:()=>Dy,TemporarySessionExpiredError:()=>My,generateV1Error:()=>sm,generateV2Error:()=>IR});var sm=a(e=>{switch(e.type){case"card_error":return new Ny(e);case"invalid_request_error":return new om(e);case"api_error":return new Uc(e);case"authentication_error":return new Lc(e);case"rate_limit_error":return new Fc(e);case"idempotency_error":return new zy(e);case"invalid_grant":return new jy(e);default:return new Dy(e)}},"generateV1Error"),IR=a(e=>{switch(e.type){case"temporary_session_expired":return new My(e)}switch(e.code){case"invalid_fields":return new om(e)}return sm(e)},"generateV2Error"),dr=class extends Error{static{a(this,"StripeError")}constructor(t={},r=null){var n;super(t.message),this.type=r||this.constructor.name,this.raw=t,this.rawType=t.type,this.code=t.code,this.doc_url=t.doc_url,this.param=t.param,this.detail=t.detail,this.headers=t.headers,this.requestId=t.requestId,this.statusCode=t.statusCode,this.message=(n=t.message)!==null&&n!==void 0?n:"",this.userMessage=t.user_message,this.charge=t.charge,this.decline_code=t.decline_code,this.payment_intent=t.payment_intent,this.payment_method=t.payment_method,this.payment_method_type=t.payment_method_type,this.setup_intent=t.setup_intent,this.source=t.source}};dr.generate=sm;var Ny=class extends dr{static{a(this,"StripeCardError")}constructor(t={}){super(t,"StripeCardError")}},om=class extends dr{static{a(this,"StripeInvalidRequestError")}constructor(t={}){super(t,"StripeInvalidRequestError")}},Uc=class extends dr{static{a(this,"StripeAPIError")}constructor(t={}){super(t,"StripeAPIError")}},Lc=class extends dr{static{a(this,"StripeAuthenticationError")}constructor(t={}){super(t,"StripeAuthenticationError")}},im=class extends dr{static{a(this,"StripePermissionError")}constructor(t={}){super(t,"StripePermissionError")}},Fc=class extends dr{static{a(this,"StripeRateLimitError")}constructor(t={}){super(t,"StripeRateLimitError")}},am=class extends dr{static{a(this,"StripeConnectionError")}constructor(t={}){super(t,"StripeConnectionError")}},Mo=class extends dr{static{a(this,"StripeSignatureVerificationError")}constructor(t,r,n={}){super(n,"StripeSignatureVerificationError"),this.header=t,this.payload=r}},zy=class extends dr{static{a(this,"StripeIdempotencyError")}constructor(t={}){super(t,"StripeIdempotencyError")}},jy=class extends dr{static{a(this,"StripeInvalidGrantError")}constructor(t={}){super(t,"StripeInvalidGrantError")}},Dy=class extends dr{static{a(this,"StripeUnknownError")}constructor(t={}){super(t,"StripeUnknownError")}},My=class extends dr{static{a(this,"TemporarySessionExpiredError")}constructor(t={}){super(t,"TemporarySessionExpiredError")}};import{exec as dwe}from"child_process";var OR=class extends dr{static{a(this,"StreamProcessingError")}},Uy=class extends $y{static{a(this,"NodePlatformFunctions")}constructor(){super(),this._exec=dwe,this._UNAME_CACHE=null}uuid4(){return Bc.randomUUID?Bc.randomUUID():super.uuid4()}getUname(){return this._UNAME_CACHE||(this._UNAME_CACHE=new Promise((t,r)=>{try{this._exec("uname -a",(n,o)=>{if(n)return t(null);t(o)})}catch{t(null)}})),this._UNAME_CACHE}secureCompare(t,r){if(!t||!r)throw new Error("secureCompare must receive two arguments");if(t.length!==r.length)return!1;if(Bc.timingSafeEqual){let n=new TextEncoder,o=n.encode(t),i=n.encode(r);return Bc.timingSafeEqual(o,i)}return super.secureCompare(t,r)}createEmitter(){return new u3}tryBufferData(t){if(!(t.file.data instanceof u3))return Promise.resolve(t);let r=[];return new Promise((n,o)=>{t.file.data.on("data",i=>{r.push(i)}).once("end",()=>{let i=Object.assign({},t);i.file.data=o3(r),n(i)}).on("error",i=>{o(new OR({message:"An error occurred while attempting to process the file for upload.",detail:i}))})})}createNodeHttpClient(t){return new Jp(t)}createDefaultHttpClient(){return new Jp}createNodeCryptoProvider(){return new cy}createDefaultCryptoProvider(){return this.createNodeCryptoProvider()}};var pwe=60,Ly=class e{static{a(this,"RequestSender")}constructor(t,r){this._stripe=t,this._maxBufferedRequestMetric=r}_normalizeStripeContext(t,r){return t?t.toString()||null:r?.toString()||null}_addHeadersDirectlyToObject(t,r){t.requestId=r["request-id"],t.stripeAccount=t.stripeAccount||r["stripe-account"],t.apiVersion=t.apiVersion||r["stripe-version"],t.idempotencyKey=t.idempotencyKey||r["idempotency-key"]}_makeResponseEvent(t,r,n){let o=Date.now(),i=o-t.request_start_time;return Iy({api_version:n["stripe-version"],account:n["stripe-account"],idempotency_key:n["idempotency-key"],method:t.method,path:t.path,status:r,request_id:this._getRequestId(n),elapsed:i,request_start_time:t.request_start_time,request_end_time:o})}_getRequestId(t){return t["request-id"]}_streamingResponseHandler(t,r,n){return o=>{let i=o.getHeaders(),s=a(()=>{let l=this._makeResponseEvent(t,o.getStatusCode(),i);this._stripe._emitter.emit("response",l),this._recordRequestMetrics(this._getRequestId(i),l.elapsed,r)},"streamCompleteCallback"),u=o.toStream(s);return this._addHeadersDirectlyToObject(u,i),n(null,u)}}_jsonResponseHandler(t,r,n,o){return i=>{let s=i.getHeaders(),u=this._getRequestId(s),l=i.getStatusCode(),d=this._makeResponseEvent(t,l,s);this._stripe._emitter.emit("response",d),i.toJSON().then(p=>{if(p.error){let f;throw typeof p.error=="string"&&(p.error={type:p.error,message:p.error_description}),p.error.headers=s,p.error.statusCode=l,p.error.requestId=u,l===401?f=new Lc(p.error):l===403?f=new im(p.error):l===429?f=new Fc(p.error):r==="v2"?f=IR(p.error):f=sm(p.error),f}return p},p=>{throw new Uc({message:"Invalid JSON received from the Stripe API",exception:p,requestId:s["request-id"]})}).then(p=>{this._recordRequestMetrics(u,d.elapsed,n);let f=i.getRawResponse();this._addHeadersDirectlyToObject(f,s),Object.defineProperty(p,"lastResponse",{enumerable:!1,writable:!1,value:f}),o(null,p)},p=>o(p,null))}}static _generateConnectionErrorMessage(t){return`An error occurred with our connection to Stripe.${t>0?` Request was retried ${t} times.`:""}`}static _shouldRetry(t,r,n,o){return o&&r===0&&Jr.CONNECTION_CLOSED_ERROR_CODES.includes(o.code)?!0:r>=n?!1:t?t.getHeaders()["stripe-should-retry"]==="false"?!1:t.getHeaders()["stripe-should-retry"]==="true"||t.getStatusCode()===409||t.getStatusCode()>=500:!0}_getSleepTimeInMS(t,r=null){let n=this._stripe.getInitialNetworkRetryDelay(),o=this._stripe.getMaxNetworkRetryDelay(),i=Math.min(n*Math.pow(2,t-1),o);return i*=.5*(1+Math.random()),i=Math.max(n,i),Number.isInteger(r)&&r<=pwe&&(i=Math.max(i,r)),i*1e3}_getMaxNetworkRetries(t={}){return t.maxNetworkRetries!==void 0&&Number.isInteger(t.maxNetworkRetries)?t.maxNetworkRetries:this._stripe.getMaxNetworkRetries()}_defaultIdempotencyKey(t,r,n){let o=this._getMaxNetworkRetries(r),i=a(()=>`stripe-node-retry-${this._stripe._platformFunctions.uuid4()}`,"genKey");if(n==="v2"){if(t==="POST"||t==="DELETE")return i()}else if(n==="v1"&&t==="POST"&&o>0)return i();return null}_makeHeaders({contentType:t,contentLength:r,apiVersion:n,clientUserAgent:o,method:i,userSuppliedHeaders:s,userSuppliedSettings:u,stripeAccount:l,stripeContext:d,apiMode:p}){let f={Accept:"application/json","Content-Type":t,"User-Agent":this._getUserAgentString(p),"X-Stripe-Client-User-Agent":o,"X-Stripe-Client-Telemetry":this._getTelemetryHeader(),"Stripe-Version":n,"Stripe-Account":l,"Stripe-Context":d,"Idempotency-Key":this._defaultIdempotencyKey(i,u,p)},m=i=="POST"||i=="PUT"||i=="PATCH";return(m||r)&&(m||nm(`${i} method had non-zero contentLength but no payload is expected for this verb`),f["Content-Length"]=r),Object.assign(Iy(f),e3(s))}_getUserAgentString(t){let r=this._stripe.getConstant("PACKAGE_VERSION"),n=this._stripe._appInfo?this._stripe.getAppInfoAsString():"";return`Stripe/${t} NodeBindings/${r} ${n}`.trim()}_getTelemetryHeader(){if(this._stripe.getTelemetryEnabled()&&this._stripe._prevRequestMetrics.length>0){let t=this._stripe._prevRequestMetrics.shift();return JSON.stringify({last_request_metrics:t})}}_recordRequestMetrics(t,r,n){if(this._stripe.getTelemetryEnabled()&&t)if(this._stripe._prevRequestMetrics.length>this._maxBufferedRequestMetric)nm("Request metrics buffer is full, dropping telemetry message.");else{let o={request_id:t,request_duration_ms:r};n&&n.length>0&&(o.usage=n),this._stripe._prevRequestMetrics.push(o)}}_rawRequest(t,r,n,o,i){return new Promise((u,l)=>{let d;try{let g=t.toUpperCase();if(g!=="POST"&&n&&Object.keys(n).length!==0)throw new Error("rawRequest only supports params on POST requests. Please pass null and add your parameters to path.");let h=[].slice.call([n,o]),v=Mc(h),S=g==="POST"?Object.assign({},v):null,b=Py(h),w=b.headers,k=b.authenticator;d={requestMethod:g,requestPath:r,bodyData:S,queryData:{},authenticator:k,headers:w,host:b.host,streaming:!!b.streaming,settings:{},usage:i||["raw_request"]}}catch(g){l(g);return}function p(g,h){g?l(g):u(h)}a(p,"requestCallback");let{headers:f,settings:m}=d,y=d.authenticator;this._request(d.requestMethod,d.host,r,d.bodyData,y,{headers:f,settings:m,streaming:d.streaming},d.usage,p)})}_request(t,r,n,o,i,s,u=[],l,d=null){var p;let f;i=(p=i??this._stripe._authenticator)!==null&&p!==void 0?p:null;let m=qc(n),y=a((v,S,b,w,k)=>setTimeout(v,this._getSleepTimeInMS(w,k),S,b,w+1),"retryRequest"),g=a((v,S,b)=>{let w=s.settings&&s.settings.timeout&&Number.isInteger(s.settings.timeout)&&s.settings.timeout>=0?s.settings.timeout:this._stripe.getApiField("timeout"),k={host:r||this._stripe.getApiField("host"),port:this._stripe.getApiField("port"),path:n,method:t,headers:Object.assign({},S),body:f,protocol:this._stripe.getApiField("protocol")};i(k).then(()=>{let $=this._stripe.getApiField("httpClient").makeRequest(k.host,k.port,k.path,k.method,k.headers,k.body,k.protocol,w),C=Date.now(),A=Iy({api_version:v,account:Ay(S["Stripe-Account"]),idempotency_key:Ay(S["Idempotency-Key"]),method:t,path:n,request_start_time:C}),R=b||0,O=this._getMaxNetworkRetries(s.settings||{});this._stripe._emitter.emit("request",A),$.then(z=>e._shouldRetry(z,R,O)?y(g,v,S,R,a3(z.getHeaders()["retry-after"])):s.streaming&&z.getStatusCode()<400?this._streamingResponseHandler(A,u,l)(z):this._jsonResponseHandler(A,m,u,l)(z)).catch(z=>{if(e._shouldRetry(null,R,O,z))return y(g,v,S,R,null);{let D=z.code&&z.code===Jr.TIMEOUT_ERROR_CODE;return l(new am({message:D?`Request aborted due to timeout being reached (${w}ms)`:e._generateConnectionErrorMessage(R),detail:z}))}})}).catch($=>{throw new dr({message:"Unable to authenticate the request",exception:$})})},"makeRequest"),h=a((v,S)=>{if(v)return l(v);f=S,this._stripe.getClientUserAgent(b=>{var w,k,$;let C=this._stripe.getApiField("version"),A=this._makeHeaders({contentType:m=="v2"?"application/json":"application/x-www-form-urlencoded",contentLength:new TextEncoder().encode(f).length,apiVersion:C,clientUserAgent:b,method:t,userSuppliedHeaders:(w=s.headers)!==null&&w!==void 0?w:null,userSuppliedSettings:(k=s.settings)!==null&&k!==void 0?k:{},stripeAccount:($=s.stripeAccount)!==null&&$!==void 0?$:this._stripe.getApiField("stripeAccount"),stripeContext:this._normalizeStripeContext(s.stripeContext,this._stripe.getApiField("stripeContext")),apiMode:m});g(C,A,0)})},"prepareAndMakeRequest");if(d)d(t,o,s.headers,h);else{let v;m=="v2"?v=o?i3(o):"":v=Ja(o||{},m),h(null,v)}}};var Fy=class{static{a(this,"V1Iterator")}constructor(t,r,n,o){this.index=0,this.pagePromise=t,this.promiseCache={currentPromise:null},this.requestArgs=r,this.spec=n,this.stripeResource=o}async iterate(t){if(!(t&&t.data&&typeof t.data.length=="number"))throw Error("Unexpected: Stripe API response does not have a well-formed `data` array.");let r=l3(this.requestArgs);if(this.index<t.data.length){let n=r?t.data.length-1-this.index:this.index,o=t.data[n];return this.index+=1,{value:o,done:!1}}else if(t.has_more){this.index=0,this.pagePromise=this.getNextPage(t);let n=await this.pagePromise;return this.iterate(n)}return{done:!0,value:void 0}}getNextPage(t){throw new Error("Unimplemented")}async _next(){return this.iterate(await this.pagePromise)}next(){if(this.promiseCache.currentPromise)return this.promiseCache.currentPromise;let t=(async()=>{let r=await this._next();return this.promiseCache.currentPromise=null,r})();return this.promiseCache.currentPromise=t,t}},CR=class extends Fy{static{a(this,"V1ListIterator")}getNextPage(t){let r=l3(this.requestArgs),n=gwe(t,r);return this.stripeResource._makeRequest(this.requestArgs,this.spec,{[r?"ending_before":"starting_after"]:n})}},RR=class extends Fy{static{a(this,"V1SearchIterator")}getNextPage(t){if(!t.next_page)throw Error("Unexpected: Stripe API response does not have a well-formed `next_page` field, but `has_more` was true.");return this.stripeResource._makeRequest(this.requestArgs,this.spec,{page:t.next_page})}},$R=class{static{a(this,"V2ListIterator")}constructor(t,r,n,o){this.currentPageIterator=(async()=>(await t).data[Symbol.iterator]())(),this.nextPageUrl=(async()=>(await t).next_page_url||null)(),this.requestArgs=r,this.spec=n,this.stripeResource=o}async turnPage(){let t=await this.nextPageUrl;if(!t)return null;this.spec.fullPath=t;let r=await this.stripeResource._makeRequest([],this.spec,{});return this.nextPageUrl=Promise.resolve(r.next_page_url),this.currentPageIterator=Promise.resolve(r.data[Symbol.iterator]()),this.currentPageIterator}async next(){{let n=(await this.currentPageIterator).next();if(!n.done)return{done:!1,value:n.value}}let t=await this.turnPage();if(!t)return{done:!0,value:void 0};let r=t.next();return r.done?{done:!0,value:void 0}:{done:!1,value:r.value}}},c3=a((e,t,r,n)=>{let o=qc(r.fullPath||r.path);return o!=="v2"&&r.methodType==="search"?AR(new RR(n,t,r,e)):o!=="v2"&&r.methodType==="list"?AR(new CR(n,t,r,e)):o==="v2"&&r.methodType==="list"?AR(new $R(n,t,r,e)):null},"makeAutoPaginationMethods"),AR=a(e=>{let t=ywe((...o)=>e.next(...o)),r=vwe(t),n={autoPagingEach:t,autoPagingToArray:r,next:a(()=>e.next(),"next"),return:a(()=>({}),"return"),[mwe()]:()=>n};return n},"makeAutoPaginationMethodsFromIterator");function mwe(){return typeof Symbol<"u"&&Symbol.asyncIterator?Symbol.asyncIterator:"@@asyncIterator"}a(mwe,"getAsyncIteratorSymbol");function fwe(e){if(e.length<2)return null;let t=e[1];if(typeof t!="function")throw Error(`The second argument to autoPagingEach, if present, must be a callback function; received ${typeof t}`);return t}a(fwe,"getDoneCallback");function hwe(e){if(e.length===0)return;let t=e[0];if(typeof t!="function")throw Error(`The first argument to autoPagingEach, if present, must be a callback function; received ${typeof t}`);if(t.length===2)return t;if(t.length>2)throw Error(`The \`onItem\` callback function passed to autoPagingEach must accept at most two arguments; got ${t}`);return a(function(n,o){let i=t(n);o(i)},"_onItem")}a(hwe,"getItemCallback");function gwe(e,t){let r=t?0:e.data.length-1,n=e.data[r],o=n&&n.id;if(!o)throw Error("Unexpected: No `id` found on the last item while auto-paging a list.");return o}a(gwe,"getLastId");function ywe(e){return a(function(){let r=[].slice.call(arguments),n=hwe(r),o=fwe(r);if(r.length>2)throw Error(`autoPagingEach takes up to two arguments; received ${r}`);let i=_we(e,n);return rm(i,o)},"autoPagingEach")}a(ywe,"makeAutoPagingEach");function vwe(e){return a(function(r,n){let o=r&&r.limit;if(!o)throw Error("You must pass a `limit` option to autoPagingToArray, e.g., `autoPagingToArray({limit: 1000});`.");if(o>1e4)throw Error("You cannot specify a limit of more than 10,000 items to fetch in `autoPagingToArray`; use `autoPagingEach` to iterate through longer lists.");let i=new Promise((s,u)=>{let l=[];e(d=>{if(l.push(d),l.length>=o)return!1}).then(()=>{s(l)}).catch(u)});return rm(i,n)},"autoPagingToArray")}a(vwe,"makeAutoPagingToArray");function _we(e,t){return new Promise((r,n)=>{function o(i){if(i.done){r();return}let s=i.value;return new Promise(u=>{t(s,u)}).then(u=>u===!1?o({done:!0,value:void 0}):e().then(o))}a(o,"handleIteration"),e().then(o).catch(n)})}a(_we,"wrapAsyncIteratorWithCallback");function l3(e){let t=[].slice.call(e);return!!Mc(t).ending_before}a(l3,"isReverseIteration");function d3(e){if(e.path!==void 0&&e.fullPath!==void 0)throw new Error(`Method spec specified both a 'path' (${e.path}) and a 'fullPath' (${e.fullPath}).`);return function(...t){let r=typeof t[t.length-1]=="function"&&t.pop();e.urlParams=XH(e.fullPath||this.createResourcePathWithSymbols(e.path||""));let n=rm(this._makeRequest(t,e,{}),r);return Object.assign(n,c3(this,t,e,n)),n}}a(d3,"stripeMethod");E.extend=YH;E.method=d3;E.MAX_BUFFERED_REQUEST_METRICS=100;function E(e,t){if(this._stripe=e,t)throw new Error("Support for curried url params was dropped in stripe-node v7.0.0. Instead, pass two ids.");this.basePath=ky(this.basePath||e.getApiField("basePath")),this.resourcePath=this.path,this.path=ky(this.path),this.initialize(...arguments)}a(E,"StripeResource");E.prototype={_stripe:null,path:"",resourcePath:"",basePath:null,initialize(){},requestDataProcessor:null,validateRequest:null,createFullPath(e,t){let r=[this.basePath(t),this.path(t)];if(typeof e=="function"){let n=e(t);n&&r.push(n)}else r.push(e);return this._joinUrlParts(r)},createResourcePathWithSymbols(e){return e?`/${this._joinUrlParts([this.resourcePath,e])}`:`/${this.resourcePath}`},_joinUrlParts(e){return e.join("/").replace(/\/{2,}/g,"/")},_getRequestOpts(e,t,r){var n;let o=(t.method||"GET").toUpperCase(),i=t.usage||[],s=t.urlParams||[],u=t.encode||(A=>A),l=!!t.fullPath,d=ky(l?t.fullPath:t.path||""),p=l?t.fullPath:this.createResourcePathWithSymbols(t.path),f=[].slice.call(e),m=s.reduce((A,R)=>{let O=f.shift();if(typeof O!="string")throw new Error(`Stripe: Argument "${R}" must be a string, but got: ${O} (on API request to \`${o} ${p}\`)`);return A[R]=O,A},{}),y=Mc(f),g=u(Object.assign({},y,r)),h=Py(f),v=h.host||t.host,S=!!t.streaming||!!h.streaming;if(f.filter(A=>A!=null).length)throw new Error(`Stripe: Unknown arguments (${f}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options. (on API request to ${o} \`${p}\`)`);let b=l?d(m):this.createFullPath(d,m),w=Object.assign(h.headers,t.headers);t.validator&&t.validator(g,{headers:w});let k=t.method==="GET"||t.method==="DELETE";return{requestMethod:o,requestPath:b,bodyData:k?null:g,queryData:k?g:{},authenticator:(n=h.authenticator)!==null&&n!==void 0?n:null,headers:w,host:v??null,streaming:S,settings:h.settings,usage:i}},_makeRequest(e,t,r){return new Promise((n,o)=>{var i;let s;try{s=this._getRequestOpts(e,t,r)}catch(m){o(m);return}function u(m,y){m?o(m):n(t.transformResponseData?t.transformResponseData(y):y)}a(u,"requestCallback");let l=Object.keys(s.queryData).length===0,d=[s.requestPath,l?"":"?",Ja(s.queryData,qc(s.requestPath))].join(""),{headers:p,settings:f}=s;this._stripe._requestSender._request(s.requestMethod,s.host,d,s.bodyData,s.authenticator,{headers:p,settings:f,streaming:s.streaming},s.usage,u,(i=this.requestDataProcessor)===null||i===void 0?void 0:i.bind(this))})}};var um=class e{static{a(this,"StripeContext")}constructor(t=[]){this._segments=[...t]}get segments(){return[...this._segments]}push(t){if(!t)throw new Error("Segment cannot be null or undefined");return new e([...this._segments,t])}pop(){if(this._segments.length===0)throw new Error("Cannot pop from an empty context");return new e(this._segments.slice(0,-1))}toString(){return this._segments.join("/")}static parse(t){return t?new e(t.split("/")):new e([])}};function p3(e){let t={DEFAULT_TOLERANCE:300,signature:null,constructEvent(p,f,m,y,g,h){try{if(!this.signature)throw new Error("ERR: missing signature helper, unable to verify");this.signature.verifyHeader(p,f,m,y||t.DEFAULT_TOLERANCE,g,h)}catch(S){throw S instanceof Cc&&(S.message+="\nUse `await constructEventAsync(...)` instead of `constructEvent(...)`"),S}return p instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(p)):JSON.parse(p)},async constructEventAsync(p,f,m,y,g,h){if(!this.signature)throw new Error("ERR: missing signature helper, unable to verify");return await this.signature.verifyHeaderAsync(p,f,m,y||t.DEFAULT_TOLERANCE,g,h),p instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(p)):JSON.parse(p)},generateTestHeaderString:a(function(p){let f=d(p),m=f.signature||f.cryptoProvider.computeHMACSignature(f.payloadString,f.secret);return f.generateHeaderString(m)},"generateTestHeaderString"),generateTestHeaderStringAsync:a(async function(p){let f=d(p),m=f.signature||await f.cryptoProvider.computeHMACSignatureAsync(f.payloadString,f.secret);return f.generateHeaderString(m)},"generateTestHeaderStringAsync")},r={EXPECTED_SCHEME:"v1",verifyHeader(p,f,m,y,g,h){let{decodedHeader:v,decodedPayload:S,details:b,suspectPayloadType:w}=o(p,f,this.EXPECTED_SCHEME),k=/\s/.test(m);g=g||l();let $=g.computeHMACSignature(n(S,b),m);return i(S,v,b,$,y,w,k,h),!0},async verifyHeaderAsync(p,f,m,y,g,h){let{decodedHeader:v,decodedPayload:S,details:b,suspectPayloadType:w}=o(p,f,this.EXPECTED_SCHEME),k=/\s/.test(m);g=g||l();let $=await g.computeHMACSignatureAsync(n(S,b),m);return i(S,v,b,$,y,w,k,h)}};function n(p,f){return`${f.timestamp}.${p}`}a(n,"makeHMACContent");function o(p,f,m){if(!p)throw new Mo(f,p,{message:"No webhook payload was provided."});let y=typeof p!="string"&&!(p instanceof Uint8Array),g=new TextDecoder("utf8"),h=p instanceof Uint8Array?g.decode(p):p;if(Array.isArray(f))throw new Error("Unexpected: An array was passed as a header, which should not be possible for the stripe-signature header.");if(f==null||f=="")throw new Mo(f,p,{message:"No stripe-signature header value was provided."});let v=f instanceof Uint8Array?g.decode(f):f,S=s(v,m);if(!S||S.timestamp===-1)throw new Mo(v,h,{message:"Unable to extract timestamp and signatures from header"});if(!S.signatures.length)throw new Mo(v,h,{message:"No signatures found with expected scheme"});return{decodedPayload:h,decodedHeader:v,details:S,suspectPayloadType:y}}a(o,"parseEventDetails");function i(p,f,m,y,g,h,v,S){let b=!!m.signatures.filter(e.secureCompare.bind(e,y)).length,w=`
Learn more about webhook signing and explore webhook integration examples for various frameworks at https://docs.stripe.com/webhooks/signature`,k=v?`

Note: The provided signing secret contains whitespace. This often indicates an extra newline or space is in the value`:"";if(!b)throw h?new Mo(f,p,{message:`Webhook payload must be provided as a string or a Buffer (https://nodejs.org/api/buffer.html) instance representing the _raw_ request body.Payload was provided as a parsed JavaScript object instead. 
Signature verification is impossible without access to the original signed material. 
`+w+`
`+k}):new Mo(f,p,{message:`No signatures found matching the expected signature for payload. Are you passing the raw request body you received from Stripe? 
 If a webhook request is being forwarded by a third-party tool, ensure that the exact request body, including JSON formatting and new line style, is preserved.
`+w+`
`+k});let $=Math.floor((typeof S=="number"?S:Date.now())/1e3)-m.timestamp;if(g>0&&$>g)throw new Mo(f,p,{message:"Timestamp outside the tolerance zone"});return!0}a(i,"validateComputedSignature");function s(p,f){return typeof p!="string"?null:p.split(",").reduce((m,y)=>{let g=y.split("=");return g[0]==="t"&&(m.timestamp=parseInt(g[1],10)),g[0]===f&&m.signatures.push(g[1]),m},{timestamp:-1,signatures:[]})}a(s,"parseHeader");let u=null;function l(){return u||(u=e.createDefaultCryptoProvider()),u}a(l,"getCryptoProvider");function d(p){if(!p)throw new dr({message:"Options are required"});let f=Math.floor(p.timestamp)||Math.floor(Date.now()/1e3),m=p.scheme||r.EXPECTED_SCHEME,y=p.cryptoProvider||l(),g=`${f}.${p.payload}`,h=a(v=>`t=${f},${m}=${v}`,"generateHeaderString");return Object.assign(Object.assign({},p),{timestamp:f,scheme:m,cryptoProvider:y,payloadString:g,generateHeaderString:h})}return a(d,"prepareOptions"),t.signature=r,t}a(p3,"createWebhooks");var NR="2025-11-17.clover";var Yc={};_n(Yc,{Account:()=>ZR,AccountLinks:()=>Q9,AccountSessions:()=>X9,Accounts:()=>ZR,ApplePayDomains:()=>Y9,ApplicationFees:()=>eV,Apps:()=>Hwe,Balance:()=>tV,BalanceSettings:()=>nV,BalanceTransactions:()=>iV,Billing:()=>Vwe,BillingPortal:()=>Zwe,Charges:()=>aV,Checkout:()=>Kwe,Climate:()=>Gwe,ConfirmationTokens:()=>sV,CountrySpecs:()=>cV,Coupons:()=>lV,CreditNotes:()=>dV,CustomerSessions:()=>pV,Customers:()=>mV,Disputes:()=>fV,Entitlements:()=>Wwe,EphemeralKeys:()=>gV,Events:()=>vV,ExchangeRates:()=>bV,FileLinks:()=>SV,Files:()=>xV,FinancialConnections:()=>Qwe,Forwarding:()=>Xwe,Identity:()=>Ywe,InvoiceItems:()=>TV,InvoicePayments:()=>kV,InvoiceRenderingTemplates:()=>PV,Invoices:()=>IV,Issuing:()=>exe,Mandates:()=>OV,OAuth:()=>CV,PaymentAttemptRecords:()=>$V,PaymentIntents:()=>NV,PaymentLinks:()=>zV,PaymentMethodConfigurations:()=>jV,PaymentMethodDomains:()=>DV,PaymentMethods:()=>MV,PaymentRecords:()=>qV,Payouts:()=>UV,Plans:()=>LV,Prices:()=>FV,Products:()=>BV,PromotionCodes:()=>JV,Quotes:()=>HV,Radar:()=>txe,Refunds:()=>VV,Reporting:()=>rxe,Reviews:()=>ZV,SetupAttempts:()=>KV,SetupIntents:()=>GV,ShippingRates:()=>WV,Sigma:()=>nxe,Sources:()=>QV,SubscriptionItems:()=>XV,SubscriptionSchedules:()=>YV,Subscriptions:()=>e8,Tax:()=>oxe,TaxCodes:()=>r8,TaxIds:()=>n8,TaxRates:()=>o8,Terminal:()=>ixe,TestHelpers:()=>axe,Tokens:()=>a8,Topups:()=>s8,Transfers:()=>u8,Treasury:()=>sxe,V2:()=>uxe,WebhookEndpoints:()=>c8});function bwe(e,t){for(let r in t){if(!Object.prototype.hasOwnProperty.call(t,r))continue;let n=r[0].toLowerCase()+r.substring(1),o=new t[r](e);this[n]=o}}a(bwe,"ResourceNamespace");function Yt(e,t){return function(r){return new bwe(r,t)}}a(Yt,"resourceNamespace");var js=E.method,m3=E.extend({retrieve:js({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}"}),list:js({method:"GET",fullPath:"/v1/financial_connections/accounts",methodType:"list"}),disconnect:js({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/disconnect"}),listOwners:js({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}/owners",methodType:"list"}),refresh:js({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/refresh"}),subscribe:js({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/subscribe"}),unsubscribe:js({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/unsubscribe"})});var f3=E.method,h3=E.extend({retrieve:f3({method:"GET",fullPath:"/v1/entitlements/active_entitlements/{id}"}),list:f3({method:"GET",fullPath:"/v1/entitlements/active_entitlements",methodType:"list"})});var Jc=E.method,g3=E.extend({create:Jc({method:"POST",fullPath:"/v1/billing/alerts"}),retrieve:Jc({method:"GET",fullPath:"/v1/billing/alerts/{id}"}),list:Jc({method:"GET",fullPath:"/v1/billing/alerts",methodType:"list"}),activate:Jc({method:"POST",fullPath:"/v1/billing/alerts/{id}/activate"}),archive:Jc({method:"POST",fullPath:"/v1/billing/alerts/{id}/archive"}),deactivate:Jc({method:"POST",fullPath:"/v1/billing/alerts/{id}/deactivate"})});var Swe=E.method,y3=E.extend({find:Swe({method:"GET",fullPath:"/v1/tax/associations/find"})});var cm=E.method,v3=E.extend({retrieve:cm({method:"GET",fullPath:"/v1/issuing/authorizations/{authorization}"}),update:cm({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}"}),list:cm({method:"GET",fullPath:"/v1/issuing/authorizations",methodType:"list"}),approve:cm({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/approve"}),decline:cm({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/decline"})});var Ds=E.method,_3=E.extend({create:Ds({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations"}),capture:Ds({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/capture"}),expire:Ds({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/expire"}),finalizeAmount:Ds({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/finalize_amount"}),increment:Ds({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/increment"}),respond:Ds({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/fraud_challenges/respond"}),reverse:Ds({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/reverse"})});var zR=E.method,b3=E.extend({create:zR({method:"POST",fullPath:"/v1/tax/calculations"}),retrieve:zR({method:"GET",fullPath:"/v1/tax/calculations/{calculation}"}),listLineItems:zR({method:"GET",fullPath:"/v1/tax/calculations/{calculation}/line_items",methodType:"list"})});var By=E.method,S3=E.extend({create:By({method:"POST",fullPath:"/v1/issuing/cardholders"}),retrieve:By({method:"GET",fullPath:"/v1/issuing/cardholders/{cardholder}"}),update:By({method:"POST",fullPath:"/v1/issuing/cardholders/{cardholder}"}),list:By({method:"GET",fullPath:"/v1/issuing/cardholders",methodType:"list"})});var Jy=E.method,w3=E.extend({create:Jy({method:"POST",fullPath:"/v1/issuing/cards"}),retrieve:Jy({method:"GET",fullPath:"/v1/issuing/cards/{card}"}),update:Jy({method:"POST",fullPath:"/v1/issuing/cards/{card}"}),list:Jy({method:"GET",fullPath:"/v1/issuing/cards",methodType:"list"})});var lm=E.method,x3=E.extend({deliverCard:lm({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/deliver"}),failCard:lm({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/fail"}),returnCard:lm({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/return"}),shipCard:lm({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/ship"}),submitCard:lm({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/submit"})});var Hy=E.method,T3=E.extend({create:Hy({method:"POST",fullPath:"/v1/billing_portal/configurations"}),retrieve:Hy({method:"GET",fullPath:"/v1/billing_portal/configurations/{configuration}"}),update:Hy({method:"POST",fullPath:"/v1/billing_portal/configurations/{configuration}"}),list:Hy({method:"GET",fullPath:"/v1/billing_portal/configurations",methodType:"list"})});var dm=E.method,E3=E.extend({create:dm({method:"POST",fullPath:"/v1/terminal/configurations"}),retrieve:dm({method:"GET",fullPath:"/v1/terminal/configurations/{configuration}"}),update:dm({method:"POST",fullPath:"/v1/terminal/configurations/{configuration}"}),list:dm({method:"GET",fullPath:"/v1/terminal/configurations",methodType:"list"}),del:dm({method:"DELETE",fullPath:"/v1/terminal/configurations/{configuration}"})});var wwe=E.method,k3=E.extend({create:wwe({method:"POST",fullPath:"/v1/test_helpers/confirmation_tokens"})});var xwe=E.method,P3=E.extend({create:xwe({method:"POST",fullPath:"/v1/terminal/connection_tokens"})});var Twe=E.method,I3=E.extend({retrieve:Twe({method:"GET",fullPath:"/v1/billing/credit_balance_summary"})});var O3=E.method,A3=E.extend({retrieve:O3({method:"GET",fullPath:"/v1/billing/credit_balance_transactions/{id}"}),list:O3({method:"GET",fullPath:"/v1/billing/credit_balance_transactions",methodType:"list"})});var Hc=E.method,C3=E.extend({create:Hc({method:"POST",fullPath:"/v1/billing/credit_grants"}),retrieve:Hc({method:"GET",fullPath:"/v1/billing/credit_grants/{id}"}),update:Hc({method:"POST",fullPath:"/v1/billing/credit_grants/{id}"}),list:Hc({method:"GET",fullPath:"/v1/billing/credit_grants",methodType:"list"}),expire:Hc({method:"POST",fullPath:"/v1/billing/credit_grants/{id}/expire"}),voidGrant:Hc({method:"POST",fullPath:"/v1/billing/credit_grants/{id}/void"})});var jR=E.method,R3=E.extend({create:jR({method:"POST",fullPath:"/v1/treasury/credit_reversals"}),retrieve:jR({method:"GET",fullPath:"/v1/treasury/credit_reversals/{credit_reversal}"}),list:jR({method:"GET",fullPath:"/v1/treasury/credit_reversals",methodType:"list"})});var Ewe=E.method,$3=E.extend({fundCashBalance:Ewe({method:"POST",fullPath:"/v1/test_helpers/customers/{customer}/fund_cash_balance"})});var DR=E.method,N3=E.extend({create:DR({method:"POST",fullPath:"/v1/treasury/debit_reversals"}),retrieve:DR({method:"GET",fullPath:"/v1/treasury/debit_reversals/{debit_reversal}"}),list:DR({method:"GET",fullPath:"/v1/treasury/debit_reversals",methodType:"list"})});var pm=E.method,z3=E.extend({create:pm({method:"POST",fullPath:"/v1/issuing/disputes"}),retrieve:pm({method:"GET",fullPath:"/v1/issuing/disputes/{dispute}"}),update:pm({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}"}),list:pm({method:"GET",fullPath:"/v1/issuing/disputes",methodType:"list"}),submit:pm({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}/submit"})});var j3=E.method,D3=E.extend({retrieve:j3({method:"GET",fullPath:"/v1/radar/early_fraud_warnings/{early_fraud_warning}"}),list:j3({method:"GET",fullPath:"/v1/radar/early_fraud_warnings",methodType:"list"})});var Ha=E.method,M3=E.extend({create:Ha({method:"POST",fullPath:"/v2/core/event_destinations"}),retrieve:Ha({method:"GET",fullPath:"/v2/core/event_destinations/{id}"}),update:Ha({method:"POST",fullPath:"/v2/core/event_destinations/{id}"}),list:Ha({method:"GET",fullPath:"/v2/core/event_destinations",methodType:"list"}),del:Ha({method:"DELETE",fullPath:"/v2/core/event_destinations/{id}"}),disable:Ha({method:"POST",fullPath:"/v2/core/event_destinations/{id}/disable"}),enable:Ha({method:"POST",fullPath:"/v2/core/event_destinations/{id}/enable"}),ping:Ha({method:"POST",fullPath:"/v2/core/event_destinations/{id}/ping"})});var MR=E.method,q3=E.extend({retrieve(...e){return MR({method:"GET",fullPath:"/v2/core/events/{id}",transformResponseData:a(r=>this.addFetchRelatedObjectIfNeeded(r),"transformResponseData")}).apply(this,e)},list(...e){return MR({method:"GET",fullPath:"/v2/core/events",methodType:"list",transformResponseData:a(r=>Object.assign(Object.assign({},r),{data:r.data.map(this.addFetchRelatedObjectIfNeeded.bind(this))}),"transformResponseData")}).apply(this,e)},addFetchRelatedObjectIfNeeded(e){return!e.related_object||!e.related_object.url?e:Object.assign(Object.assign({},e),{fetchRelatedObject:a(()=>MR({method:"GET",fullPath:e.related_object.url}).apply(this,[{stripeContext:e.context}]),"fetchRelatedObject")})}});var Vy=E.method,U3=E.extend({create:Vy({method:"POST",fullPath:"/v1/entitlements/features"}),retrieve:Vy({method:"GET",fullPath:"/v1/entitlements/features/{id}"}),update:Vy({method:"POST",fullPath:"/v1/entitlements/features/{id}"}),list:Vy({method:"GET",fullPath:"/v1/entitlements/features",methodType:"list"})});var Ms=E.method,L3=E.extend({create:Ms({method:"POST",fullPath:"/v1/treasury/financial_accounts"}),retrieve:Ms({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),update:Ms({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),list:Ms({method:"GET",fullPath:"/v1/treasury/financial_accounts",methodType:"list"}),close:Ms({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}/close"}),retrieveFeatures:Ms({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"}),updateFeatures:Ms({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"})});var qR=E.method,F3=E.extend({fail:qR({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/fail"}),returnInboundTransfer:qR({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/return"}),succeed:qR({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/succeed"})});var Zy=E.method,B3=E.extend({create:Zy({method:"POST",fullPath:"/v1/treasury/inbound_transfers"}),retrieve:Zy({method:"GET",fullPath:"/v1/treasury/inbound_transfers/{id}"}),list:Zy({method:"GET",fullPath:"/v1/treasury/inbound_transfers",methodType:"list"}),cancel:Zy({method:"POST",fullPath:"/v1/treasury/inbound_transfers/{inbound_transfer}/cancel"})});var mm=E.method,J3=E.extend({create:mm({method:"POST",fullPath:"/v1/terminal/locations"}),retrieve:mm({method:"GET",fullPath:"/v1/terminal/locations/{location}"}),update:mm({method:"POST",fullPath:"/v1/terminal/locations/{location}"}),list:mm({method:"GET",fullPath:"/v1/terminal/locations",methodType:"list"}),del:mm({method:"DELETE",fullPath:"/v1/terminal/locations/{location}"})});var kwe=E.method,H3=E.extend({create:kwe({method:"POST",fullPath:"/v1/billing/meter_event_adjustments"})});var Pwe=E.method,V3=E.extend({create:Pwe({method:"POST",fullPath:"/v2/billing/meter_event_adjustments"})});var Iwe=E.method,Z3=E.extend({create:Iwe({method:"POST",fullPath:"/v2/billing/meter_event_session"})});var Owe=E.method,K3=E.extend({create:Owe({method:"POST",fullPath:"/v2/billing/meter_event_stream",host:"meter-events.stripe.com"})});var Awe=E.method,G3=E.extend({create:Awe({method:"POST",fullPath:"/v1/billing/meter_events"})});var Cwe=E.method,W3=E.extend({create:Cwe({method:"POST",fullPath:"/v2/billing/meter_events"})});var qs=E.method,Q3=E.extend({create:qs({method:"POST",fullPath:"/v1/billing/meters"}),retrieve:qs({method:"GET",fullPath:"/v1/billing/meters/{id}"}),update:qs({method:"POST",fullPath:"/v1/billing/meters/{id}"}),list:qs({method:"GET",fullPath:"/v1/billing/meters",methodType:"list"}),deactivate:qs({method:"POST",fullPath:"/v1/billing/meters/{id}/deactivate"}),listEventSummaries:qs({method:"GET",fullPath:"/v1/billing/meters/{id}/event_summaries",methodType:"list"}),reactivate:qs({method:"POST",fullPath:"/v1/billing/meters/{id}/reactivate"})});var Rwe=E.method,X3=E.extend({create:Rwe({method:"POST",fullPath:"/v1/terminal/onboarding_links"})});var fm=E.method,Y3=E.extend({create:fm({method:"POST",fullPath:"/v1/climate/orders"}),retrieve:fm({method:"GET",fullPath:"/v1/climate/orders/{order}"}),update:fm({method:"POST",fullPath:"/v1/climate/orders/{order}"}),list:fm({method:"GET",fullPath:"/v1/climate/orders",methodType:"list"}),cancel:fm({method:"POST",fullPath:"/v1/climate/orders/{order}/cancel"})});var Ky=E.method,e9=E.extend({update:Ky({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}"}),fail:Ky({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/fail"}),post:Ky({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/post"}),returnOutboundPayment:Ky({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/return"})});var Gy=E.method,t9=E.extend({create:Gy({method:"POST",fullPath:"/v1/treasury/outbound_payments"}),retrieve:Gy({method:"GET",fullPath:"/v1/treasury/outbound_payments/{id}"}),list:Gy({method:"GET",fullPath:"/v1/treasury/outbound_payments",methodType:"list"}),cancel:Gy({method:"POST",fullPath:"/v1/treasury/outbound_payments/{id}/cancel"})});var Wy=E.method,r9=E.extend({update:Wy({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}"}),fail:Wy({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/fail"}),post:Wy({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/post"}),returnOutboundTransfer:Wy({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/return"})});var Qy=E.method,n9=E.extend({create:Qy({method:"POST",fullPath:"/v1/treasury/outbound_transfers"}),retrieve:Qy({method:"GET",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}"}),list:Qy({method:"GET",fullPath:"/v1/treasury/outbound_transfers",methodType:"list"}),cancel:Qy({method:"POST",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}/cancel"})});var Xy=E.method,o9=E.extend({create:Xy({method:"POST",fullPath:"/v1/issuing/personalization_designs"}),retrieve:Xy({method:"GET",fullPath:"/v1/issuing/personalization_designs/{personalization_design}"}),update:Xy({method:"POST",fullPath:"/v1/issuing/personalization_designs/{personalization_design}"}),list:Xy({method:"GET",fullPath:"/v1/issuing/personalization_designs",methodType:"list"})});var UR=E.method,i9=E.extend({activate:UR({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/activate"}),deactivate:UR({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/deactivate"}),reject:UR({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/reject"})});var a9=E.method,s9=E.extend({retrieve:a9({method:"GET",fullPath:"/v1/issuing/physical_bundles/{physical_bundle}"}),list:a9({method:"GET",fullPath:"/v1/issuing/physical_bundles",methodType:"list"})});var u9=E.method,c9=E.extend({retrieve:u9({method:"GET",fullPath:"/v1/climate/products/{product}"}),list:u9({method:"GET",fullPath:"/v1/climate/products",methodType:"list"})});var Bn=E.method,l9=E.extend({create:Bn({method:"POST",fullPath:"/v1/terminal/readers"}),retrieve:Bn({method:"GET",fullPath:"/v1/terminal/readers/{reader}"}),update:Bn({method:"POST",fullPath:"/v1/terminal/readers/{reader}"}),list:Bn({method:"GET",fullPath:"/v1/terminal/readers",methodType:"list"}),del:Bn({method:"DELETE",fullPath:"/v1/terminal/readers/{reader}"}),cancelAction:Bn({method:"POST",fullPath:"/v1/terminal/readers/{reader}/cancel_action"}),collectInputs:Bn({method:"POST",fullPath:"/v1/terminal/readers/{reader}/collect_inputs"}),collectPaymentMethod:Bn({method:"POST",fullPath:"/v1/terminal/readers/{reader}/collect_payment_method"}),confirmPaymentIntent:Bn({method:"POST",fullPath:"/v1/terminal/readers/{reader}/confirm_payment_intent"}),processPaymentIntent:Bn({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_payment_intent"}),processSetupIntent:Bn({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_setup_intent"}),refundPayment:Bn({method:"POST",fullPath:"/v1/terminal/readers/{reader}/refund_payment"}),setReaderDisplay:Bn({method:"POST",fullPath:"/v1/terminal/readers/{reader}/set_reader_display"})});var LR=E.method,d9=E.extend({presentPaymentMethod:LR({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/present_payment_method"}),succeedInputCollection:LR({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/succeed_input_collection"}),timeoutInputCollection:LR({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/timeout_input_collection"})});var $we=E.method,p9=E.extend({create:$we({method:"POST",fullPath:"/v1/test_helpers/treasury/received_credits"})});var m9=E.method,f9=E.extend({retrieve:m9({method:"GET",fullPath:"/v1/treasury/received_credits/{id}"}),list:m9({method:"GET",fullPath:"/v1/treasury/received_credits",methodType:"list"})});var Nwe=E.method,h9=E.extend({create:Nwe({method:"POST",fullPath:"/v1/test_helpers/treasury/received_debits"})});var g9=E.method,y9=E.extend({retrieve:g9({method:"GET",fullPath:"/v1/treasury/received_debits/{id}"}),list:g9({method:"GET",fullPath:"/v1/treasury/received_debits",methodType:"list"})});var zwe=E.method,v9=E.extend({expire:zwe({method:"POST",fullPath:"/v1/test_helpers/refunds/{refund}/expire"})});var Yy=E.method,_9=E.extend({create:Yy({method:"POST",fullPath:"/v1/tax/registrations"}),retrieve:Yy({method:"GET",fullPath:"/v1/tax/registrations/{id}"}),update:Yy({method:"POST",fullPath:"/v1/tax/registrations/{id}"}),list:Yy({method:"GET",fullPath:"/v1/tax/registrations",methodType:"list"})});var FR=E.method,b9=E.extend({create:FR({method:"POST",fullPath:"/v1/reporting/report_runs"}),retrieve:FR({method:"GET",fullPath:"/v1/reporting/report_runs/{report_run}"}),list:FR({method:"GET",fullPath:"/v1/reporting/report_runs",methodType:"list"})});var S9=E.method,w9=E.extend({retrieve:S9({method:"GET",fullPath:"/v1/reporting/report_types/{report_type}"}),list:S9({method:"GET",fullPath:"/v1/reporting/report_types",methodType:"list"})});var BR=E.method,x9=E.extend({create:BR({method:"POST",fullPath:"/v1/forwarding/requests"}),retrieve:BR({method:"GET",fullPath:"/v1/forwarding/requests/{id}"}),list:BR({method:"GET",fullPath:"/v1/forwarding/requests",methodType:"list"})});var T9=E.method,E9=E.extend({retrieve:T9({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs/{scheduled_query_run}"}),list:T9({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs",methodType:"list"})});var ev=E.method,k9=E.extend({create:ev({method:"POST",fullPath:"/v1/apps/secrets"}),list:ev({method:"GET",fullPath:"/v1/apps/secrets",methodType:"list"}),deleteWhere:ev({method:"POST",fullPath:"/v1/apps/secrets/delete"}),find:ev({method:"GET",fullPath:"/v1/apps/secrets/find"})});var jwe=E.method,P9=E.extend({create:jwe({method:"POST",fullPath:"/v1/billing_portal/sessions"})});var Vc=E.method,I9=E.extend({create:Vc({method:"POST",fullPath:"/v1/checkout/sessions"}),retrieve:Vc({method:"GET",fullPath:"/v1/checkout/sessions/{session}"}),update:Vc({method:"POST",fullPath:"/v1/checkout/sessions/{session}"}),list:Vc({method:"GET",fullPath:"/v1/checkout/sessions",methodType:"list"}),expire:Vc({method:"POST",fullPath:"/v1/checkout/sessions/{session}/expire"}),listLineItems:Vc({method:"GET",fullPath:"/v1/checkout/sessions/{session}/line_items",methodType:"list"})});var O9=E.method,A9=E.extend({create:O9({method:"POST",fullPath:"/v1/financial_connections/sessions"}),retrieve:O9({method:"GET",fullPath:"/v1/financial_connections/sessions/{session}"})});var C9=E.method,R9=E.extend({retrieve:C9({method:"GET",fullPath:"/v1/tax/settings"}),update:C9({method:"POST",fullPath:"/v1/tax/settings"})});var $9=E.method,N9=E.extend({retrieve:$9({method:"GET",fullPath:"/v1/climate/suppliers/{supplier}"}),list:$9({method:"GET",fullPath:"/v1/climate/suppliers",methodType:"list"})});var hm=E.method,z9=E.extend({create:hm({method:"POST",fullPath:"/v1/test_helpers/test_clocks"}),retrieve:hm({method:"GET",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),list:hm({method:"GET",fullPath:"/v1/test_helpers/test_clocks",methodType:"list"}),del:hm({method:"DELETE",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),advance:hm({method:"POST",fullPath:"/v1/test_helpers/test_clocks/{test_clock}/advance"})});var JR=E.method,j9=E.extend({retrieve:JR({method:"GET",fullPath:"/v1/issuing/tokens/{token}"}),update:JR({method:"POST",fullPath:"/v1/issuing/tokens/{token}"}),list:JR({method:"GET",fullPath:"/v1/issuing/tokens",methodType:"list"})});var D9=E.method,M9=E.extend({retrieve:D9({method:"GET",fullPath:"/v1/treasury/transaction_entries/{id}"}),list:D9({method:"GET",fullPath:"/v1/treasury/transaction_entries",methodType:"list"})});var q9=E.method,U9=E.extend({retrieve:q9({method:"GET",fullPath:"/v1/financial_connections/transactions/{transaction}"}),list:q9({method:"GET",fullPath:"/v1/financial_connections/transactions",methodType:"list"})});var HR=E.method,L9=E.extend({retrieve:HR({method:"GET",fullPath:"/v1/issuing/transactions/{transaction}"}),update:HR({method:"POST",fullPath:"/v1/issuing/transactions/{transaction}"}),list:HR({method:"GET",fullPath:"/v1/issuing/transactions",methodType:"list"})});var tv=E.method,F9=E.extend({retrieve:tv({method:"GET",fullPath:"/v1/tax/transactions/{transaction}"}),createFromCalculation:tv({method:"POST",fullPath:"/v1/tax/transactions/create_from_calculation"}),createReversal:tv({method:"POST",fullPath:"/v1/tax/transactions/create_reversal"}),listLineItems:tv({method:"GET",fullPath:"/v1/tax/transactions/{transaction}/line_items",methodType:"list"})});var VR=E.method,B9=E.extend({createForceCapture:VR({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/create_force_capture"}),createUnlinkedRefund:VR({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/create_unlinked_refund"}),refund:VR({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/{transaction}/refund"})});var J9=E.method,H9=E.extend({retrieve:J9({method:"GET",fullPath:"/v1/treasury/transactions/{id}"}),list:J9({method:"GET",fullPath:"/v1/treasury/transactions",methodType:"list"})});var rv=E.method,V9=E.extend({create:rv({method:"POST",fullPath:"/v1/radar/value_list_items"}),retrieve:rv({method:"GET",fullPath:"/v1/radar/value_list_items/{item}"}),list:rv({method:"GET",fullPath:"/v1/radar/value_list_items",methodType:"list"}),del:rv({method:"DELETE",fullPath:"/v1/radar/value_list_items/{item}"})});var gm=E.method,Z9=E.extend({create:gm({method:"POST",fullPath:"/v1/radar/value_lists"}),retrieve:gm({method:"GET",fullPath:"/v1/radar/value_lists/{value_list}"}),update:gm({method:"POST",fullPath:"/v1/radar/value_lists/{value_list}"}),list:gm({method:"GET",fullPath:"/v1/radar/value_lists",methodType:"list"}),del:gm({method:"DELETE",fullPath:"/v1/radar/value_lists/{value_list}"})});var K9=E.method,G9=E.extend({retrieve:K9({method:"GET",fullPath:"/v1/identity/verification_reports/{report}"}),list:K9({method:"GET",fullPath:"/v1/identity/verification_reports",methodType:"list"})});var Zc=E.method,W9=E.extend({create:Zc({method:"POST",fullPath:"/v1/identity/verification_sessions"}),retrieve:Zc({method:"GET",fullPath:"/v1/identity/verification_sessions/{session}"}),update:Zc({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}"}),list:Zc({method:"GET",fullPath:"/v1/identity/verification_sessions",methodType:"list"}),cancel:Zc({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/cancel"}),redact:Zc({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/redact"})});var pr=E.method,ZR=E.extend({create:pr({method:"POST",fullPath:"/v1/accounts"}),retrieve(e,...t){return typeof e=="string"?pr({method:"GET",fullPath:"/v1/accounts/{id}"}).apply(this,[e,...t]):(e==null&&[].shift.apply([e,...t]),pr({method:"GET",fullPath:"/v1/account"}).apply(this,[e,...t]))},update:pr({method:"POST",fullPath:"/v1/accounts/{account}"}),list:pr({method:"GET",fullPath:"/v1/accounts",methodType:"list"}),del:pr({method:"DELETE",fullPath:"/v1/accounts/{account}"}),createExternalAccount:pr({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts"}),createLoginLink:pr({method:"POST",fullPath:"/v1/accounts/{account}/login_links"}),createPerson:pr({method:"POST",fullPath:"/v1/accounts/{account}/persons"}),deleteExternalAccount:pr({method:"DELETE",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),deletePerson:pr({method:"DELETE",fullPath:"/v1/accounts/{account}/persons/{person}"}),listCapabilities:pr({method:"GET",fullPath:"/v1/accounts/{account}/capabilities",methodType:"list"}),listExternalAccounts:pr({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts",methodType:"list"}),listPersons:pr({method:"GET",fullPath:"/v1/accounts/{account}/persons",methodType:"list"}),reject:pr({method:"POST",fullPath:"/v1/accounts/{account}/reject"}),retrieveCurrent:pr({method:"GET",fullPath:"/v1/account"}),retrieveCapability:pr({method:"GET",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),retrieveExternalAccount:pr({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),retrievePerson:pr({method:"GET",fullPath:"/v1/accounts/{account}/persons/{person}"}),updateCapability:pr({method:"POST",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),updateExternalAccount:pr({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),updatePerson:pr({method:"POST",fullPath:"/v1/accounts/{account}/persons/{person}"})});var Dwe=E.method,Q9=E.extend({create:Dwe({method:"POST",fullPath:"/v1/account_links"})});var Mwe=E.method,X9=E.extend({create:Mwe({method:"POST",fullPath:"/v1/account_sessions"})});var nv=E.method,Y9=E.extend({create:nv({method:"POST",fullPath:"/v1/apple_pay/domains"}),retrieve:nv({method:"GET",fullPath:"/v1/apple_pay/domains/{domain}"}),list:nv({method:"GET",fullPath:"/v1/apple_pay/domains",methodType:"list"}),del:nv({method:"DELETE",fullPath:"/v1/apple_pay/domains/{domain}"})});var Kc=E.method,eV=E.extend({retrieve:Kc({method:"GET",fullPath:"/v1/application_fees/{id}"}),list:Kc({method:"GET",fullPath:"/v1/application_fees",methodType:"list"}),createRefund:Kc({method:"POST",fullPath:"/v1/application_fees/{id}/refunds"}),listRefunds:Kc({method:"GET",fullPath:"/v1/application_fees/{id}/refunds",methodType:"list"}),retrieveRefund:Kc({method:"GET",fullPath:"/v1/application_fees/{fee}/refunds/{id}"}),updateRefund:Kc({method:"POST",fullPath:"/v1/application_fees/{fee}/refunds/{id}"})});var qwe=E.method,tV=E.extend({retrieve:qwe({method:"GET",fullPath:"/v1/balance"})});var rV=E.method,nV=E.extend({retrieve:rV({method:"GET",fullPath:"/v1/balance_settings"}),update:rV({method:"POST",fullPath:"/v1/balance_settings"})});var oV=E.method,iV=E.extend({retrieve:oV({method:"GET",fullPath:"/v1/balance_transactions/{id}"}),list:oV({method:"GET",fullPath:"/v1/balance_transactions",methodType:"list"})});var Gc=E.method,aV=E.extend({create:Gc({method:"POST",fullPath:"/v1/charges"}),retrieve:Gc({method:"GET",fullPath:"/v1/charges/{charge}"}),update:Gc({method:"POST",fullPath:"/v1/charges/{charge}"}),list:Gc({method:"GET",fullPath:"/v1/charges",methodType:"list"}),capture:Gc({method:"POST",fullPath:"/v1/charges/{charge}/capture"}),search:Gc({method:"GET",fullPath:"/v1/charges/search",methodType:"search"})});var Uwe=E.method,sV=E.extend({retrieve:Uwe({method:"GET",fullPath:"/v1/confirmation_tokens/{confirmation_token}"})});var uV=E.method,cV=E.extend({retrieve:uV({method:"GET",fullPath:"/v1/country_specs/{country}"}),list:uV({method:"GET",fullPath:"/v1/country_specs",methodType:"list"})});var ym=E.method,lV=E.extend({create:ym({method:"POST",fullPath:"/v1/coupons"}),retrieve:ym({method:"GET",fullPath:"/v1/coupons/{coupon}"}),update:ym({method:"POST",fullPath:"/v1/coupons/{coupon}"}),list:ym({method:"GET",fullPath:"/v1/coupons",methodType:"list"}),del:ym({method:"DELETE",fullPath:"/v1/coupons/{coupon}"})});var Va=E.method,dV=E.extend({create:Va({method:"POST",fullPath:"/v1/credit_notes"}),retrieve:Va({method:"GET",fullPath:"/v1/credit_notes/{id}"}),update:Va({method:"POST",fullPath:"/v1/credit_notes/{id}"}),list:Va({method:"GET",fullPath:"/v1/credit_notes",methodType:"list"}),listLineItems:Va({method:"GET",fullPath:"/v1/credit_notes/{credit_note}/lines",methodType:"list"}),listPreviewLineItems:Va({method:"GET",fullPath:"/v1/credit_notes/preview/lines",methodType:"list"}),preview:Va({method:"GET",fullPath:"/v1/credit_notes/preview"}),voidCreditNote:Va({method:"POST",fullPath:"/v1/credit_notes/{id}/void"})});var Lwe=E.method,pV=E.extend({create:Lwe({method:"POST",fullPath:"/v1/customer_sessions"})});var Dt=E.method,mV=E.extend({create:Dt({method:"POST",fullPath:"/v1/customers"}),retrieve:Dt({method:"GET",fullPath:"/v1/customers/{customer}"}),update:Dt({method:"POST",fullPath:"/v1/customers/{customer}"}),list:Dt({method:"GET",fullPath:"/v1/customers",methodType:"list"}),del:Dt({method:"DELETE",fullPath:"/v1/customers/{customer}"}),createBalanceTransaction:Dt({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions"}),createFundingInstructions:Dt({method:"POST",fullPath:"/v1/customers/{customer}/funding_instructions"}),createSource:Dt({method:"POST",fullPath:"/v1/customers/{customer}/sources"}),createTaxId:Dt({method:"POST",fullPath:"/v1/customers/{customer}/tax_ids"}),deleteDiscount:Dt({method:"DELETE",fullPath:"/v1/customers/{customer}/discount"}),deleteSource:Dt({method:"DELETE",fullPath:"/v1/customers/{customer}/sources/{id}"}),deleteTaxId:Dt({method:"DELETE",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),listBalanceTransactions:Dt({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions",methodType:"list"}),listCashBalanceTransactions:Dt({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions",methodType:"list"}),listPaymentMethods:Dt({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods",methodType:"list"}),listSources:Dt({method:"GET",fullPath:"/v1/customers/{customer}/sources",methodType:"list"}),listTaxIds:Dt({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids",methodType:"list"}),retrieveBalanceTransaction:Dt({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),retrieveCashBalance:Dt({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance"}),retrieveCashBalanceTransaction:Dt({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions/{transaction}"}),retrievePaymentMethod:Dt({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods/{payment_method}"}),retrieveSource:Dt({method:"GET",fullPath:"/v1/customers/{customer}/sources/{id}"}),retrieveTaxId:Dt({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),search:Dt({method:"GET",fullPath:"/v1/customers/search",methodType:"search"}),updateBalanceTransaction:Dt({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),updateCashBalance:Dt({method:"POST",fullPath:"/v1/customers/{customer}/cash_balance"}),updateSource:Dt({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}"}),verifySource:Dt({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}/verify"})});var ov=E.method,fV=E.extend({retrieve:ov({method:"GET",fullPath:"/v1/disputes/{dispute}"}),update:ov({method:"POST",fullPath:"/v1/disputes/{dispute}"}),list:ov({method:"GET",fullPath:"/v1/disputes",methodType:"list"}),close:ov({method:"POST",fullPath:"/v1/disputes/{dispute}/close"})});var hV=E.method,gV=E.extend({create:hV({method:"POST",fullPath:"/v1/ephemeral_keys",validator:a((e,t)=>{if(!t.headers||!t.headers["Stripe-Version"])throw new Error("Passing apiVersion in a separate options hash is required to create an ephemeral key. See https://stripe.com/docs/api/versioning?lang=node")},"validator")}),del:hV({method:"DELETE",fullPath:"/v1/ephemeral_keys/{key}"})});var yV=E.method,vV=E.extend({retrieve:yV({method:"GET",fullPath:"/v1/events/{id}"}),list:yV({method:"GET",fullPath:"/v1/events",methodType:"list"})});var _V=E.method,bV=E.extend({retrieve:_V({method:"GET",fullPath:"/v1/exchange_rates/{rate_id}"}),list:_V({method:"GET",fullPath:"/v1/exchange_rates",methodType:"list"})});var iv=E.method,SV=E.extend({create:iv({method:"POST",fullPath:"/v1/file_links"}),retrieve:iv({method:"GET",fullPath:"/v1/file_links/{link}"}),update:iv({method:"POST",fullPath:"/v1/file_links/{link}"}),list:iv({method:"GET",fullPath:"/v1/file_links",methodType:"list"})});var Fwe=a((e,t,r)=>{let n=(Math.round(Math.random()*1e16)+Math.round(Math.random()*1e16)).toString();r["Content-Type"]=`multipart/form-data; boundary=${n}`;let o=new TextEncoder,i=new Uint8Array(0),s=o.encode(`\r
`);function u(p){let f=i,m=p instanceof Uint8Array?p:new Uint8Array(o.encode(p));i=new Uint8Array(f.length+m.length+2),i.set(f),i.set(m,f.length),i.set(s,i.length-2)}a(u,"push");function l(p){return`"${p.replace(/"|"/g,"%22").replace(/\r\n|\r|\n/g," ")}"`}a(l,"q");let d=r3(t);for(let p in d){if(!Object.prototype.hasOwnProperty.call(d,p))continue;let f=d[p];if(u(`--${n}`),Object.prototype.hasOwnProperty.call(f,"data")){let m=f;u(`Content-Disposition: form-data; name=${l(p)}; filename=${l(m.name||"blob")}`),u(`Content-Type: ${m.type||"application/octet-stream"}`),u(""),u(m.data)}else u(`Content-Disposition: form-data; name=${l(p)}`),u(""),u(f)}return u(`--${n}--`),i},"multipartDataGenerator");function wV(e,t,r,n){if(t=t||{},e!=="POST")return n(null,Ja(t));this._stripe._platformFunctions.tryBufferData(t).then(o=>{let i=Fwe(e,o,r);return n(null,i)}).catch(o=>n(o,null))}a(wV,"multipartRequestDataProcessor");var KR=E.method,xV=E.extend({create:KR({method:"POST",fullPath:"/v1/files",headers:{"Content-Type":"multipart/form-data"},host:"files.stripe.com"}),retrieve:KR({method:"GET",fullPath:"/v1/files/{file}"}),list:KR({method:"GET",fullPath:"/v1/files",methodType:"list"}),requestDataProcessor:wV});var vm=E.method,TV=E.extend({create:vm({method:"POST",fullPath:"/v1/invoiceitems"}),retrieve:vm({method:"GET",fullPath:"/v1/invoiceitems/{invoiceitem}"}),update:vm({method:"POST",fullPath:"/v1/invoiceitems/{invoiceitem}"}),list:vm({method:"GET",fullPath:"/v1/invoiceitems",methodType:"list"}),del:vm({method:"DELETE",fullPath:"/v1/invoiceitems/{invoiceitem}"})});var EV=E.method,kV=E.extend({retrieve:EV({method:"GET",fullPath:"/v1/invoice_payments/{invoice_payment}"}),list:EV({method:"GET",fullPath:"/v1/invoice_payments",methodType:"list"})});var av=E.method,PV=E.extend({retrieve:av({method:"GET",fullPath:"/v1/invoice_rendering_templates/{template}"}),list:av({method:"GET",fullPath:"/v1/invoice_rendering_templates",methodType:"list"}),archive:av({method:"POST",fullPath:"/v1/invoice_rendering_templates/{template}/archive"}),unarchive:av({method:"POST",fullPath:"/v1/invoice_rendering_templates/{template}/unarchive"})});var zr=E.method,IV=E.extend({create:zr({method:"POST",fullPath:"/v1/invoices"}),retrieve:zr({method:"GET",fullPath:"/v1/invoices/{invoice}"}),update:zr({method:"POST",fullPath:"/v1/invoices/{invoice}"}),list:zr({method:"GET",fullPath:"/v1/invoices",methodType:"list"}),del:zr({method:"DELETE",fullPath:"/v1/invoices/{invoice}"}),addLines:zr({method:"POST",fullPath:"/v1/invoices/{invoice}/add_lines"}),attachPayment:zr({method:"POST",fullPath:"/v1/invoices/{invoice}/attach_payment"}),createPreview:zr({method:"POST",fullPath:"/v1/invoices/create_preview"}),finalizeInvoice:zr({method:"POST",fullPath:"/v1/invoices/{invoice}/finalize"}),listLineItems:zr({method:"GET",fullPath:"/v1/invoices/{invoice}/lines",methodType:"list"}),markUncollectible:zr({method:"POST",fullPath:"/v1/invoices/{invoice}/mark_uncollectible"}),pay:zr({method:"POST",fullPath:"/v1/invoices/{invoice}/pay"}),removeLines:zr({method:"POST",fullPath:"/v1/invoices/{invoice}/remove_lines"}),search:zr({method:"GET",fullPath:"/v1/invoices/search",methodType:"search"}),sendInvoice:zr({method:"POST",fullPath:"/v1/invoices/{invoice}/send"}),updateLines:zr({method:"POST",fullPath:"/v1/invoices/{invoice}/update_lines"}),updateLineItem:zr({method:"POST",fullPath:"/v1/invoices/{invoice}/lines/{line_item_id}"}),voidInvoice:zr({method:"POST",fullPath:"/v1/invoices/{invoice}/void"})});var Bwe=E.method,OV=E.extend({retrieve:Bwe({method:"GET",fullPath:"/v1/mandates/{mandate}"})});var AV=E.method,GR="connect.stripe.com",CV=E.extend({basePath:"/",authorizeUrl(e,t){e=e||{},t=t||{};let r="oauth/authorize";return t.express&&(r=`express/${r}`),e.response_type||(e.response_type="code"),e.client_id||(e.client_id=this._stripe.getClientId()),e.scope||(e.scope="read_write"),`https://${GR}/${r}?${Ja(e)}`},token:AV({method:"POST",path:"oauth/token",host:GR}),deauthorize(e,...t){return e.client_id||(e.client_id=this._stripe.getClientId()),AV({method:"POST",path:"oauth/deauthorize",host:GR}).apply(this,[e,...t])}});var RV=E.method,$V=E.extend({retrieve:RV({method:"GET",fullPath:"/v1/payment_attempt_records/{id}"}),list:RV({method:"GET",fullPath:"/v1/payment_attempt_records",methodType:"list"})});var ro=E.method,NV=E.extend({create:ro({method:"POST",fullPath:"/v1/payment_intents"}),retrieve:ro({method:"GET",fullPath:"/v1/payment_intents/{intent}"}),update:ro({method:"POST",fullPath:"/v1/payment_intents/{intent}"}),list:ro({method:"GET",fullPath:"/v1/payment_intents",methodType:"list"}),applyCustomerBalance:ro({method:"POST",fullPath:"/v1/payment_intents/{intent}/apply_customer_balance"}),cancel:ro({method:"POST",fullPath:"/v1/payment_intents/{intent}/cancel"}),capture:ro({method:"POST",fullPath:"/v1/payment_intents/{intent}/capture"}),confirm:ro({method:"POST",fullPath:"/v1/payment_intents/{intent}/confirm"}),incrementAuthorization:ro({method:"POST",fullPath:"/v1/payment_intents/{intent}/increment_authorization"}),listAmountDetailsLineItems:ro({method:"GET",fullPath:"/v1/payment_intents/{intent}/amount_details_line_items",methodType:"list"}),search:ro({method:"GET",fullPath:"/v1/payment_intents/search",methodType:"search"}),verifyMicrodeposits:ro({method:"POST",fullPath:"/v1/payment_intents/{intent}/verify_microdeposits"})});var _m=E.method,zV=E.extend({create:_m({method:"POST",fullPath:"/v1/payment_links"}),retrieve:_m({method:"GET",fullPath:"/v1/payment_links/{payment_link}"}),update:_m({method:"POST",fullPath:"/v1/payment_links/{payment_link}"}),list:_m({method:"GET",fullPath:"/v1/payment_links",methodType:"list"}),listLineItems:_m({method:"GET",fullPath:"/v1/payment_links/{payment_link}/line_items",methodType:"list"})});var sv=E.method,jV=E.extend({create:sv({method:"POST",fullPath:"/v1/payment_method_configurations"}),retrieve:sv({method:"GET",fullPath:"/v1/payment_method_configurations/{configuration}"}),update:sv({method:"POST",fullPath:"/v1/payment_method_configurations/{configuration}"}),list:sv({method:"GET",fullPath:"/v1/payment_method_configurations",methodType:"list"})});var bm=E.method,DV=E.extend({create:bm({method:"POST",fullPath:"/v1/payment_method_domains"}),retrieve:bm({method:"GET",fullPath:"/v1/payment_method_domains/{payment_method_domain}"}),update:bm({method:"POST",fullPath:"/v1/payment_method_domains/{payment_method_domain}"}),list:bm({method:"GET",fullPath:"/v1/payment_method_domains",methodType:"list"}),validate:bm({method:"POST",fullPath:"/v1/payment_method_domains/{payment_method_domain}/validate"})});var Wc=E.method,MV=E.extend({create:Wc({method:"POST",fullPath:"/v1/payment_methods"}),retrieve:Wc({method:"GET",fullPath:"/v1/payment_methods/{payment_method}"}),update:Wc({method:"POST",fullPath:"/v1/payment_methods/{payment_method}"}),list:Wc({method:"GET",fullPath:"/v1/payment_methods",methodType:"list"}),attach:Wc({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/attach"}),detach:Wc({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/detach"})});var Za=E.method,qV=E.extend({retrieve:Za({method:"GET",fullPath:"/v1/payment_records/{id}"}),reportPayment:Za({method:"POST",fullPath:"/v1/payment_records/report_payment"}),reportPaymentAttempt:Za({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt"}),reportPaymentAttemptCanceled:Za({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt_canceled"}),reportPaymentAttemptFailed:Za({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt_failed"}),reportPaymentAttemptGuaranteed:Za({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt_guaranteed"}),reportPaymentAttemptInformational:Za({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt_informational"}),reportRefund:Za({method:"POST",fullPath:"/v1/payment_records/{id}/report_refund"})});var Qc=E.method,UV=E.extend({create:Qc({method:"POST",fullPath:"/v1/payouts"}),retrieve:Qc({method:"GET",fullPath:"/v1/payouts/{payout}"}),update:Qc({method:"POST",fullPath:"/v1/payouts/{payout}"}),list:Qc({method:"GET",fullPath:"/v1/payouts",methodType:"list"}),cancel:Qc({method:"POST",fullPath:"/v1/payouts/{payout}/cancel"}),reverse:Qc({method:"POST",fullPath:"/v1/payouts/{payout}/reverse"})});var Sm=E.method,LV=E.extend({create:Sm({method:"POST",fullPath:"/v1/plans"}),retrieve:Sm({method:"GET",fullPath:"/v1/plans/{plan}"}),update:Sm({method:"POST",fullPath:"/v1/plans/{plan}"}),list:Sm({method:"GET",fullPath:"/v1/plans",methodType:"list"}),del:Sm({method:"DELETE",fullPath:"/v1/plans/{plan}"})});var wm=E.method,FV=E.extend({create:wm({method:"POST",fullPath:"/v1/prices"}),retrieve:wm({method:"GET",fullPath:"/v1/prices/{price}"}),update:wm({method:"POST",fullPath:"/v1/prices/{price}"}),list:wm({method:"GET",fullPath:"/v1/prices",methodType:"list"}),search:wm({method:"GET",fullPath:"/v1/prices/search",methodType:"search"})});var si=E.method,BV=E.extend({create:si({method:"POST",fullPath:"/v1/products"}),retrieve:si({method:"GET",fullPath:"/v1/products/{id}"}),update:si({method:"POST",fullPath:"/v1/products/{id}"}),list:si({method:"GET",fullPath:"/v1/products",methodType:"list"}),del:si({method:"DELETE",fullPath:"/v1/products/{id}"}),createFeature:si({method:"POST",fullPath:"/v1/products/{product}/features"}),deleteFeature:si({method:"DELETE",fullPath:"/v1/products/{product}/features/{id}"}),listFeatures:si({method:"GET",fullPath:"/v1/products/{product}/features",methodType:"list"}),retrieveFeature:si({method:"GET",fullPath:"/v1/products/{product}/features/{id}"}),search:si({method:"GET",fullPath:"/v1/products/search",methodType:"search"})});var uv=E.method,JV=E.extend({create:uv({method:"POST",fullPath:"/v1/promotion_codes"}),retrieve:uv({method:"GET",fullPath:"/v1/promotion_codes/{promotion_code}"}),update:uv({method:"POST",fullPath:"/v1/promotion_codes/{promotion_code}"}),list:uv({method:"GET",fullPath:"/v1/promotion_codes",methodType:"list"})});var ui=E.method,HV=E.extend({create:ui({method:"POST",fullPath:"/v1/quotes"}),retrieve:ui({method:"GET",fullPath:"/v1/quotes/{quote}"}),update:ui({method:"POST",fullPath:"/v1/quotes/{quote}"}),list:ui({method:"GET",fullPath:"/v1/quotes",methodType:"list"}),accept:ui({method:"POST",fullPath:"/v1/quotes/{quote}/accept"}),cancel:ui({method:"POST",fullPath:"/v1/quotes/{quote}/cancel"}),finalizeQuote:ui({method:"POST",fullPath:"/v1/quotes/{quote}/finalize"}),listComputedUpfrontLineItems:ui({method:"GET",fullPath:"/v1/quotes/{quote}/computed_upfront_line_items",methodType:"list"}),listLineItems:ui({method:"GET",fullPath:"/v1/quotes/{quote}/line_items",methodType:"list"}),pdf:ui({method:"GET",fullPath:"/v1/quotes/{quote}/pdf",host:"files.stripe.com",streaming:!0})});var xm=E.method,VV=E.extend({create:xm({method:"POST",fullPath:"/v1/refunds"}),retrieve:xm({method:"GET",fullPath:"/v1/refunds/{refund}"}),update:xm({method:"POST",fullPath:"/v1/refunds/{refund}"}),list:xm({method:"GET",fullPath:"/v1/refunds",methodType:"list"}),cancel:xm({method:"POST",fullPath:"/v1/refunds/{refund}/cancel"})});var WR=E.method,ZV=E.extend({retrieve:WR({method:"GET",fullPath:"/v1/reviews/{review}"}),list:WR({method:"GET",fullPath:"/v1/reviews",methodType:"list"}),approve:WR({method:"POST",fullPath:"/v1/reviews/{review}/approve"})});var Jwe=E.method,KV=E.extend({list:Jwe({method:"GET",fullPath:"/v1/setup_attempts",methodType:"list"})});var Us=E.method,GV=E.extend({create:Us({method:"POST",fullPath:"/v1/setup_intents"}),retrieve:Us({method:"GET",fullPath:"/v1/setup_intents/{intent}"}),update:Us({method:"POST",fullPath:"/v1/setup_intents/{intent}"}),list:Us({method:"GET",fullPath:"/v1/setup_intents",methodType:"list"}),cancel:Us({method:"POST",fullPath:"/v1/setup_intents/{intent}/cancel"}),confirm:Us({method:"POST",fullPath:"/v1/setup_intents/{intent}/confirm"}),verifyMicrodeposits:Us({method:"POST",fullPath:"/v1/setup_intents/{intent}/verify_microdeposits"})});var cv=E.method,WV=E.extend({create:cv({method:"POST",fullPath:"/v1/shipping_rates"}),retrieve:cv({method:"GET",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),update:cv({method:"POST",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),list:cv({method:"GET",fullPath:"/v1/shipping_rates",methodType:"list"})});var Tm=E.method,QV=E.extend({create:Tm({method:"POST",fullPath:"/v1/sources"}),retrieve:Tm({method:"GET",fullPath:"/v1/sources/{source}"}),update:Tm({method:"POST",fullPath:"/v1/sources/{source}"}),listSourceTransactions:Tm({method:"GET",fullPath:"/v1/sources/{source}/source_transactions",methodType:"list"}),verify:Tm({method:"POST",fullPath:"/v1/sources/{source}/verify"})});var Em=E.method,XV=E.extend({create:Em({method:"POST",fullPath:"/v1/subscription_items"}),retrieve:Em({method:"GET",fullPath:"/v1/subscription_items/{item}"}),update:Em({method:"POST",fullPath:"/v1/subscription_items/{item}"}),list:Em({method:"GET",fullPath:"/v1/subscription_items",methodType:"list"}),del:Em({method:"DELETE",fullPath:"/v1/subscription_items/{item}"})});var Xc=E.method,YV=E.extend({create:Xc({method:"POST",fullPath:"/v1/subscription_schedules"}),retrieve:Xc({method:"GET",fullPath:"/v1/subscription_schedules/{schedule}"}),update:Xc({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}"}),list:Xc({method:"GET",fullPath:"/v1/subscription_schedules",methodType:"list"}),cancel:Xc({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/cancel"}),release:Xc({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/release"})});var Hi=E.method,e8=E.extend({create:Hi({method:"POST",fullPath:"/v1/subscriptions"}),retrieve:Hi({method:"GET",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),update:Hi({method:"POST",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),list:Hi({method:"GET",fullPath:"/v1/subscriptions",methodType:"list"}),cancel:Hi({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),deleteDiscount:Hi({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}/discount"}),migrate:Hi({method:"POST",fullPath:"/v1/subscriptions/{subscription}/migrate"}),resume:Hi({method:"POST",fullPath:"/v1/subscriptions/{subscription}/resume"}),search:Hi({method:"GET",fullPath:"/v1/subscriptions/search",methodType:"search"})});var t8=E.method,r8=E.extend({retrieve:t8({method:"GET",fullPath:"/v1/tax_codes/{id}"}),list:t8({method:"GET",fullPath:"/v1/tax_codes",methodType:"list"})});var lv=E.method,n8=E.extend({create:lv({method:"POST",fullPath:"/v1/tax_ids"}),retrieve:lv({method:"GET",fullPath:"/v1/tax_ids/{id}"}),list:lv({method:"GET",fullPath:"/v1/tax_ids",methodType:"list"}),del:lv({method:"DELETE",fullPath:"/v1/tax_ids/{id}"})});var dv=E.method,o8=E.extend({create:dv({method:"POST",fullPath:"/v1/tax_rates"}),retrieve:dv({method:"GET",fullPath:"/v1/tax_rates/{tax_rate}"}),update:dv({method:"POST",fullPath:"/v1/tax_rates/{tax_rate}"}),list:dv({method:"GET",fullPath:"/v1/tax_rates",methodType:"list"})});var i8=E.method,a8=E.extend({create:i8({method:"POST",fullPath:"/v1/tokens"}),retrieve:i8({method:"GET",fullPath:"/v1/tokens/{token}"})});var km=E.method,s8=E.extend({create:km({method:"POST",fullPath:"/v1/topups"}),retrieve:km({method:"GET",fullPath:"/v1/topups/{topup}"}),update:km({method:"POST",fullPath:"/v1/topups/{topup}"}),list:km({method:"GET",fullPath:"/v1/topups",methodType:"list"}),cancel:km({method:"POST",fullPath:"/v1/topups/{topup}/cancel"})});var Ka=E.method,u8=E.extend({create:Ka({method:"POST",fullPath:"/v1/transfers"}),retrieve:Ka({method:"GET",fullPath:"/v1/transfers/{transfer}"}),update:Ka({method:"POST",fullPath:"/v1/transfers/{transfer}"}),list:Ka({method:"GET",fullPath:"/v1/transfers",methodType:"list"}),createReversal:Ka({method:"POST",fullPath:"/v1/transfers/{id}/reversals"}),listReversals:Ka({method:"GET",fullPath:"/v1/transfers/{id}/reversals",methodType:"list"}),retrieveReversal:Ka({method:"GET",fullPath:"/v1/transfers/{transfer}/reversals/{id}"}),updateReversal:Ka({method:"POST",fullPath:"/v1/transfers/{transfer}/reversals/{id}"})});var Pm=E.method,c8=E.extend({create:Pm({method:"POST",fullPath:"/v1/webhook_endpoints"}),retrieve:Pm({method:"GET",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),update:Pm({method:"POST",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),list:Pm({method:"GET",fullPath:"/v1/webhook_endpoints",methodType:"list"}),del:Pm({method:"DELETE",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"})});var Hwe=Yt("apps",{Secrets:k9}),Vwe=Yt("billing",{Alerts:g3,CreditBalanceSummary:I3,CreditBalanceTransactions:A3,CreditGrants:C3,MeterEventAdjustments:H3,MeterEvents:G3,Meters:Q3}),Zwe=Yt("billingPortal",{Configurations:T3,Sessions:P9}),Kwe=Yt("checkout",{Sessions:I9}),Gwe=Yt("climate",{Orders:Y3,Products:c9,Suppliers:N9}),Wwe=Yt("entitlements",{ActiveEntitlements:h3,Features:U3}),Qwe=Yt("financialConnections",{Accounts:m3,Sessions:A9,Transactions:U9}),Xwe=Yt("forwarding",{Requests:x9}),Ywe=Yt("identity",{VerificationReports:G9,VerificationSessions:W9}),exe=Yt("issuing",{Authorizations:v3,Cardholders:S3,Cards:w3,Disputes:z3,PersonalizationDesigns:o9,PhysicalBundles:s9,Tokens:j9,Transactions:L9}),txe=Yt("radar",{EarlyFraudWarnings:D3,ValueListItems:V9,ValueLists:Z9}),rxe=Yt("reporting",{ReportRuns:b9,ReportTypes:w9}),nxe=Yt("sigma",{ScheduledQueryRuns:E9}),oxe=Yt("tax",{Associations:y3,Calculations:b3,Registrations:_9,Settings:R9,Transactions:F9}),ixe=Yt("terminal",{Configurations:E3,ConnectionTokens:P3,Locations:J3,OnboardingLinks:X3,Readers:l9}),axe=Yt("testHelpers",{ConfirmationTokens:k3,Customers:$3,Refunds:v9,TestClocks:z9,Issuing:Yt("issuing",{Authorizations:_3,Cards:x3,PersonalizationDesigns:i9,Transactions:B9}),Terminal:Yt("terminal",{Readers:d9}),Treasury:Yt("treasury",{InboundTransfers:F3,OutboundPayments:e9,OutboundTransfers:r9,ReceivedCredits:p9,ReceivedDebits:h9})}),sxe=Yt("treasury",{CreditReversals:R3,DebitReversals:N3,FinancialAccounts:L3,InboundTransfers:B3,OutboundPayments:t9,OutboundTransfers:n9,ReceivedCredits:f9,ReceivedDebits:y9,TransactionEntries:M9,Transactions:H9}),uxe=Yt("v2",{Billing:Yt("billing",{MeterEventAdjustments:V3,MeterEventSession:Z3,MeterEventStream:K3,MeterEvents:W3}),Core:Yt("core",{EventDestinations:M3,Events:q3})});var l8="api.stripe.com",d8="443",p8="/v1/",m8=NR,f8=8e4,h8=5,g8=.5,cxe=["name","version","url","partner_id"],y8=["authenticator","apiVersion","typescript","maxNetworkRetries","httpAgent","httpClient","timeout","host","port","protocol","telemetry","appInfo","stripeAccount","stripeContext"],lxe=a(e=>new Ly(e,E.MAX_BUFFERED_REQUEST_METRICS),"defaultRequestSenderFactory");function v8(e,t=lxe){r.PACKAGE_VERSION="20.0.0",r.API_VERSION=NR,r.USER_AGENT=Object.assign({bindings_version:r.PACKAGE_VERSION,lang:"node",publisher:"stripe",uname:null,typescript:!1},n3()),r.StripeResource=E,r.StripeContext=um,r.resources=Yc,r.HttpClient=Jr,r.HttpClientResponse=La,r.CryptoProvider=Ua,r.webhooks=p3(e);function r(n,o={}){if(!(this instanceof r))return new r(n,o);let i=this._getPropsFromConfig(o);this._platformFunctions=e,Object.defineProperty(this,"_emitter",{value:this._platformFunctions.createEmitter(),enumerable:!1,configurable:!1,writable:!1}),this.VERSION=r.PACKAGE_VERSION,this.on=this._emitter.on.bind(this._emitter),this.once=this._emitter.once.bind(this._emitter),this.off=this._emitter.removeListener.bind(this._emitter);let s=i.httpAgent||null;this._api={host:i.host||l8,port:i.port||d8,protocol:i.protocol||"https",basePath:p8,version:i.apiVersion||m8,timeout:Oy("timeout",i.timeout,f8),maxNetworkRetries:Oy("maxNetworkRetries",i.maxNetworkRetries,2),agent:s,httpClient:i.httpClient||(s?this._platformFunctions.createNodeHttpClient(s):this._platformFunctions.createDefaultHttpClient()),dev:!1,stripeAccount:i.stripeAccount||null,stripeContext:i.stripeContext||null};let u=i.typescript||!1;u!==r.USER_AGENT.typescript&&(r.USER_AGENT.typescript=u),i.appInfo&&this._setAppInfo(i.appInfo),this._prepResources(),this._setAuthenticator(n,i.authenticator),this.errors=qy,this.webhooks=r.webhooks,this._prevRequestMetrics=[],this._enableTelemetry=i.telemetry!==!1,this._requestSender=t(this),this.StripeResource=r.StripeResource}return a(r,"Stripe"),r.errors=qy,r.createNodeHttpClient=e.createNodeHttpClient,r.createFetchHttpClient=e.createFetchHttpClient,r.createNodeCryptoProvider=e.createNodeCryptoProvider,r.createSubtleCryptoProvider=e.createSubtleCryptoProvider,r.prototype={_appInfo:void 0,on:null,off:null,once:null,VERSION:null,StripeResource:null,webhooks:null,errors:null,_api:null,_prevRequestMetrics:null,_emitter:null,_enableTelemetry:null,_requestSender:null,_platformFunctions:null,rawRequest(n,o,i,s){return this._requestSender._rawRequest(n,o,i,s)},_setAuthenticator(n,o){if(n&&o)throw new Error("Can't specify both apiKey and authenticator");if(!n&&!o)throw new Error("Neither apiKey nor config.authenticator provided");this._authenticator=n?Ey(n):o},_setAppInfo(n){if(n&&typeof n!="object")throw new Error("AppInfo must be an object.");if(n&&!n.name)throw new Error("AppInfo.name is required");n=n||{},this._appInfo=cxe.reduce((o,i)=>(typeof n[i]=="string"&&(o=o||{},o[i]=n[i]),o),{})},_setApiField(n,o){this._api[n]=o},getApiField(n){return this._api[n]},setClientId(n){this._clientId=n},getClientId(){return this._clientId},getConstant:a(n=>{switch(n){case"DEFAULT_HOST":return l8;case"DEFAULT_PORT":return d8;case"DEFAULT_BASE_PATH":return p8;case"DEFAULT_API_VERSION":return m8;case"DEFAULT_TIMEOUT":return f8;case"MAX_NETWORK_RETRY_DELAY_SEC":return h8;case"INITIAL_NETWORK_RETRY_DELAY_SEC":return g8}return r[n]},"getConstant"),getMaxNetworkRetries(){return this.getApiField("maxNetworkRetries")},_setApiNumberField(n,o,i){let s=Oy(n,o,i);this._setApiField(n,s)},getMaxNetworkRetryDelay(){return h8},getInitialNetworkRetryDelay(){return g8},getClientUserAgent(n){return this.getClientUserAgentSeeded(r.USER_AGENT,n)},getClientUserAgentSeeded(n,o){this._platformFunctions.getUname().then(i=>{var s;let u={};for(let d in n)Object.prototype.hasOwnProperty.call(n,d)&&(u[d]=encodeURIComponent((s=n[d])!==null&&s!==void 0?s:"null"));u.uname=encodeURIComponent(i||"UNKNOWN");let l=this.getApiField("httpClient");l&&(u.httplib=encodeURIComponent(l.getClientName())),this._appInfo&&(u.application=this._appInfo),o(JSON.stringify(u))})},getAppInfoAsString(){if(!this._appInfo)return"";let n=this._appInfo.name;return this._appInfo.version&&(n+=`/${this._appInfo.version}`),this._appInfo.url&&(n+=` (${this._appInfo.url})`),n},getTelemetryEnabled(){return this._enableTelemetry},_prepResources(){for(let n in Yc)Object.prototype.hasOwnProperty.call(Yc,n)&&(this[t3(n)]=new Yc[n](this))},_getPropsFromConfig(n){if(!n)return{};let o=typeof n=="string";if(!(n===Object(n)&&!Array.isArray(n))&&!o)throw new Error("Config must either be an object or a string");if(o)return{apiVersion:n};if(Object.keys(n).filter(u=>!y8.includes(u)).length>0)throw new Error(`Config object may only contain the following: ${y8.join(", ")}`);return n},parseEventNotification(n,o,i,s,u,l){let d=this.webhooks.constructEvent(n,o,i,s,u,l);return d.context&&(d.context=um.parse(d.context)),d.fetchEvent=()=>this._requestSender._rawRequest("GET",`/v2/core/events/${d.id}`,void 0,{stripeContext:d.context},["fetch_event"]),d.fetchRelatedObject=()=>d.related_object?this._requestSender._rawRequest("GET",d.related_object.url,void 0,{stripeContext:d.context},["fetch_related_object"]):Promise.resolve(null),d}},r}a(v8,"createStripe");var dxe=v8(new Uy),_8=dxe;function pxe(){let e=process.env.STRIPE_SECRET_KEY;if(!e)throw new Error("STRIPE_SECRET_KEY environment variable is not set. Configure Stripe credentials.");return e}a(pxe,"getStripeSecretKey");var mxe={apiVersion:"2025-11-17.clover",typescript:!0,appInfo:{name:"AegisWallet",version:"1.0.0",url:"https://aegiswallet.com.br"}},QR=null;function Jn(){return QR||(QR=new _8(pxe(),mxe)),QR}a(Jn,"getStripeClient");var no=class e{static{a(this,"StripeCustomerService")}static getIdempotencyKey(t,r){return`clerk_${t}_${r}_${Date.now()}`}static async createCustomer(t,r,n){let o=Jn();try{let i=e.getIdempotencyKey(t,"create_customer"),s=await o.customers.create({email:r,name:n,metadata:{clerkUserId:t}},{idempotencyKey:i});return N.info("Stripe customer created",{clerkUserId:t,stripeCustomerId:s.id,idempotencyKey:i}),s.id}catch(i){throw N.error("Failed to create Stripe customer",{clerkUserId:t,error:i instanceof Error?i.message:"Unknown error"}),new Error("Falha ao criar cliente no Stripe")}}static async getOrCreateCustomer(t,r,n){let o=Jn();try{let i=await o.customers.search({query:`metadata['clerkUserId']:'${t}'`,limit:1});if(i.data.length>0)return i.data[0].id;let s=await o.customers.list({email:r,limit:1});return s.data.length>0?(await o.customers.update(s.data[0].id,{metadata:{clerkUserId:t}}),s.data[0].id):await e.createCustomer(t,r,n)}catch(i){throw N.error("Failed to get/create Stripe customer",{clerkUserId:t,error:i instanceof Error?i.message:"Unknown error"}),new Error("Falha ao processar cliente no Stripe")}}static async updateCustomer(t,r,n){let o=Jn();try{let i={};n&&(i.idempotencyKey=e.getIdempotencyKey(n,"update_customer")),await o.customers.update(t,r,i)}catch(i){throw N.error("Failed to update Stripe customer",{stripeCustomerId:t,error:i instanceof Error?i.message:"Unknown error"}),i}}static async deleteCustomer(t){let r=Jn();try{try{await r.customers.retrieve(t)}catch(o){if(o?.statusCode===404){N.info("Stripe customer already deleted",{stripeCustomerId:t});return}throw o}let n=await r.subscriptions.list({customer:t,status:"active"});for(let o of n.data)try{await r.subscriptions.cancel(o.id),N.info("Stripe subscription canceled",{subscriptionId:o.id,customerId:t})}catch(i){N.warn("Failed to cancel subscription, continuing",{subscriptionId:o.id,error:i instanceof Error?i.message:"Unknown error"})}await r.customers.del(t),N.info("Stripe customer deleted",{stripeCustomerId:t})}catch(n){if(n?.statusCode===404){N.info("Stripe customer already deleted",{stripeCustomerId:t});return}throw N.error("Failed to delete Stripe customer",{stripeCustomerId:t,error:n instanceof Error?n.message:"Unknown error",statusCode:n?.statusCode}),n}}};od();var XR=null;function b8(){if(!XR){let e=process.env.CLERK_SECRET_KEY;if(!e)throw new Error("CLERK_SECRET_KEY environment variable is not set");XR=Hu({secretKey:e})}return XR}a(b8,"getClerkClient");var ci=class{static{a(this,"UserSyncService")}static async ensureUserExists(t){let r=vr();if(!t||!t.startsWith("user_"))throw new Error(`Invalid Clerk user ID format: ${t}`);let[n]=await r.select().from(H).where(V(H.id,t)).limit(1);if(n)return N.debug("User already exists in database",{userId:t,email:n.email}),n;N.info("User not found in database, creating from Clerk",{userId:t});try{let i=await b8().users.getUser(t);if(!i)throw new Error(`Clerk user not found: ${t}`);let s=i.emailAddresses[0]?.emailAddress;if(!s)throw new Error(`Clerk user has no email address: ${t}`);if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s))throw new Error(`Invalid email format: ${s}`);let u=[i.firstName,i.lastName].filter(Boolean).join(" ")||void 0,l;try{let[p]=await r.insert(H).values({id:t,email:s,fullName:u,organizationId:"default"}).returning();if(!p)throw new Error("Failed to create user record");l=p,N.info("User created in database",{userId:t,email:s})}catch(p){if(p instanceof Error&&p.message.includes("duplicate key")){let[f]=await r.select().from(H).where(V(H.id,t)).limit(1);if(f)return N.info("User was created by concurrent request",{userId:t}),f}throw p}try{let p=await As.createUserOrganization(t,s,u);p&&p!=="default"&&(await r.update(H).set({organizationId:p}).where(V(H.id,t)),l={...l,organizationId:p},N.info("User organization created",{userId:t,organizationId:p}))}catch(p){N.warn("Failed to create user organization (non-critical)",{userId:t,error:p instanceof Error?p.message:"Unknown error"})}let d=null;try{d=await no.getOrCreateCustomer(t,s,u),N.info("Stripe customer created",{userId:t,stripeCustomerId:d})}catch(p){N.warn("Failed to create Stripe customer (non-critical)",{userId:t,error:p instanceof Error?p.message:"Unknown error"})}if(d)try{await r.insert(je).values({userId:t,stripeCustomerId:d,planId:"free",status:"free"}),N.info("Free subscription created",{userId:t})}catch(p){N.warn("Failed to create subscription record (non-critical)",{userId:t,error:p instanceof Error?p.message:"Unknown error"})}if(d)try{await b8().users.updateUserMetadata(t,{privateMetadata:{stripeCustomerId:d}})}catch(p){N.warn("Failed to update Clerk metadata (non-critical)",{userId:t,error:p instanceof Error?p.message:"Unknown error"})}return l}catch(o){throw N.error("Failed to sync user from Clerk",{userId:t,error:o instanceof Error?o.message:"Unknown error",stack:o instanceof Error?o.stack:void 0}),o}}static async userExists(t){let r=vr(),[n]=await r.select().from(H).where(V(H.id,t)).limit(1);return!!n}static async completeUserSetup(t){let r=vr(),[n]=await r.select().from(H).where(V(H.id,t)).limit(1);if(!n){N.warn("Cannot complete setup for non-existent user",{userId:t});return}if(n.organizationId==="default")try{let i=await As.createUserOrganization(t,n.email,n.fullName||void 0);i&&i!=="default"&&(await r.update(H).set({organizationId:i}).where(V(H.id,t)),N.info("User organization setup completed",{userId:t,organizationId:i}))}catch(i){N.warn("Background organization setup failed",{userId:t,error:i instanceof Error?i.message:"Unknown error"})}let[o]=await r.select().from(je).where(V(je.userId,t)).limit(1);if(!o)try{let i=await no.getOrCreateCustomer(t,n.email,n.fullName||void 0);await r.insert(je).values({userId:t,stripeCustomerId:i,planId:"free",status:"free"}),N.info("User subscription setup completed",{userId:t,stripeCustomerId:i})}catch(i){N.warn("Background subscription setup failed",{userId:t,error:i instanceof Error?i.message:"Unknown error"})}}};function Vi(e){let t=e instanceof Error?e.message:String(e),r=e instanceof Error?e.stack:void 0;return t.includes("connection")||t.includes("ECONNREFUSED")||t.includes("timeout")||t.includes("ETIMEDOUT")||t.includes("ENOTFOUND")||t.includes("connection refused")||t.includes("Connection pool")||t.includes("DATABASE_URL")?{code:"DATABASE_CONNECTION_ERROR",isRetryable:!0,message:"Database connection failed. Please try again later.",statusCode:503}:t.includes("policy")||t.includes("RLS")||t.includes("row-level security")||t.includes("permission denied")||t.includes("insufficient privileges")?{code:"PERMISSION_DENIED",isRetryable:!1,message:"Permission denied. You do not have access to this resource.",statusCode:403}:t.includes("foreign key")||t.includes("foreign_key")||t.includes("user_id")||t.includes("references")?t.includes("user_id")?{code:"USER_NOT_FOUND",isRetryable:!1,message:"User account not found. Please contact support.",statusCode:404}:{code:"INVALID_REFERENCE",isRetryable:!1,message:"Invalid reference. One or more related records do not exist.",statusCode:400}:t.includes("unique constraint")||t.includes("duplicate key")||t.includes("already exists")||t.includes("UNIQUE constraint")?{code:"DUPLICATE_ENTRY",isRetryable:!1,message:"A record with this information already exists.",statusCode:409}:t.includes("not null")||t.includes("NULL constraint")||t.includes("required")?{code:"MISSING_REQUIRED_FIELD",isRetryable:!1,message:"Required field is missing.",statusCode:400}:t.includes("check constraint")||t.includes("CHECK constraint")||t.includes("violates check")?{code:"VALIDATION_ERROR",isRetryable:!1,message:"Data validation failed. Please check your input.",statusCode:400}:t.includes("syntax error")||t.includes("SQL syntax")||t.includes("invalid input syntax")?{code:"QUERY_ERROR",isRetryable:!1,message:"Query error. Please contact support if this persists.",statusCode:400}:{code:"DATABASE_ERROR",isRetryable:!0,message:"Database error occurred. Please try again later.",statusCode:500}}a(Vi,"categorizeDatabaseError");var hxe=c.object({institutionName:c.string().min(1,"Nome da institui\xE7\xE3o \xE9 obrigat\xF3rio"),accountType:c.enum(["checking","savings","investment","cash"],{message:"Tipo de conta \xE9 obrigat\xF3rio"}),balance:c.number().default(0),currency:c.string().default("BRL"),isPrimary:c.boolean().default(!1),isActive:c.boolean().default(!0),accountMask:c.string().optional(),institutionId:c.string().optional()}),gxe=c.object({institutionName:c.string().optional(),accountType:c.enum(["checking","savings","investment","cash"]).optional(),balance:c.number().optional(),currency:c.string().optional(),isPrimary:c.boolean().optional(),isActive:c.boolean().optional(),accountMask:c.string().optional()}),yxe=c.object({balance:c.number()}),vxe=c.object({days:c.coerce.number().int().positive().default(30)}),_xe={checking:"CHECKING",savings:"SAVINGS",investment:"INVESTMENT",cash:"DIGITAL_WALLET"},YR=a(e=>_xe[e.toLowerCase()]||e.toUpperCase(),"normalizeAccountType"),bxe=a(()=>`**** ${Math.floor(1e3+Math.random()*9e3)}`,"generateAccountMask"),Zi=new Oe;Zi.get("/",fe,xe({windowMs:60*1e3,max:30,message:"Too many requests, please try again later"}),async e=>{let{user:t,db:r}=e.get("auth"),n=e.get("requestId");try{let o=await r.select().from(ce).where(V(ce.userId,t.id)).orderBy(Mt(ce.createdAt));return e.json({data:o||[],meta:{requestId:n,retrievedAt:new Date().toISOString()}})}catch(o){let i=Vi(o);return N.error("Failed to get bank accounts",{error:o instanceof Error?o.message:"Unknown error",errorCode:i.code,requestId:n,stack:o instanceof Error?o.stack:void 0,userId:t.id}),e.json({code:i.code,error:i.message},i.statusCode)}});Zi.get("/total-balance",fe,xe({windowMs:60*1e3,max:20,message:"Too many requests, please try again later"}),async e=>{let{user:t,db:r}=e.get("auth"),n=e.get("requestId");try{let o=await r.select({balance:ce.balance,currency:ce.currency}).from(ce).where(Pe(V(ce.userId,t.id),V(ce.isActive,!0))),i={};return o&&o.forEach(s=>{let u=s.currency||"BRL";i[u]=(i[u]||0)+Number(s.balance||0)}),e.json({data:i,meta:{requestId:n,retrievedAt:new Date().toISOString()}})}catch(o){let i=Vi(o);return N.error("Failed to get total balance",{error:o instanceof Error?o.message:"Unknown error",errorCode:i.code,requestId:n,stack:o instanceof Error?o.stack:void 0,userId:t.id}),e.json({code:i.code,error:i.message},i.statusCode)}});Zi.get("/:id",fe,xe({windowMs:60*1e3,max:30,message:"Too many requests, please try again later"}),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.param("id"),o=e.get("requestId");try{let[i]=await r.select().from(ce).where(Pe(V(ce.id,n),V(ce.userId,t.id))).limit(1);return i?e.json({data:i,meta:{requestId:o,retrievedAt:new Date().toISOString()}}):e.json({code:"NOT_FOUND",error:"Conta banc\xE1ria n\xE3o encontrada"},404)}catch(i){return N.error("Failed to get bank account",{accountId:n,error:i instanceof Error?i.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"BANK_ACCOUNT_ERROR",error:"Failed to retrieve bank account"},500)}});Zi.get("/:id/balance-history",fe,xe({windowMs:60*1e3,max:20,message:"Too many requests, please try again later"}),Ve("query",vxe),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.param("id"),{days:o}=e.req.valid("query"),i=e.get("requestId");try{if(!n||n==="all")return e.json({data:[],meta:{requestId:i,retrievedAt:new Date().toISOString()}});let[s]=await r.select({balance:ce.balance}).from(ce).where(Pe(V(ce.id,n),V(ce.userId,t.id))).limit(1);if(!s)return e.json({data:[],meta:{requestId:i,retrievedAt:new Date().toISOString()}});let u=Number(s.balance||0),l=[];for(let d=0;d<o;d++){let p=new Date;p.setDate(p.getDate()-d),l.push({date:p.toISOString(),balance:u})}return e.json({data:l.reverse(),meta:{requestId:i,retrievedAt:new Date().toISOString()}})}catch(s){return N.error("Failed to get balance history",{accountId:n,error:s instanceof Error?s.message:"Unknown error",requestId:i,userId:t.id}),e.json({code:"BALANCE_HISTORY_ERROR",error:"Failed to retrieve balance history"},500)}});Zi.post("/",fe,xe({windowMs:60*1e3,max:10,message:"Too many account creation attempts, please try again later"}),Ve("json",hxe),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.valid("json"),o=e.get("requestId");try{try{await ci.ensureUserExists(t.id)}catch(g){return N.error("Failed to ensure user exists in database",{userId:t.id,requestId:o,error:g instanceof Error?g.message:"Unknown error"}),e.json({code:"USER_SYNC_ERROR",error:"Failed to verify user account. Please try again."},500)}let i=YR(n.accountType),s=n.accountMask?Fp(n.accountMask):bxe();if(!Lp(s))return e.json({code:"BAD_REQUEST",error:"A m\xE1scara da conta deve seguir o formato **** 1234"},400);let u=n.institutionId||fxe(),l=$J(),d="manual",p=H1({user_id:t.id,institution_name:n.institutionName,institution_id:u,account_type:i,account_mask:s,balance:n.balance,currency:n.currency.toUpperCase(),is_primary:n.isPrimary,is_active:n.isActive,belvo_account_id:l,sync_status:d}),f=NJ(p);if(!f.valid){let g=f.errors.length>0?f.errors.map(h=>h.message).join(", "):"Dados inv\xE1lidos";return e.json({code:"BAD_REQUEST",error:g},400)}let[m]=await r.select({id:ce.id}).from(ce).where(Pe(V(ce.userId,t.id),V(ce.institutionId,u),V(ce.accountMask,s))).limit(1);if(m)return e.json({code:"CONFLICT",error:"J\xE1 existe uma conta com a mesma institui\xE7\xE3o e final"},409);let[y]=await r.insert(ce).values({userId:t.id,institutionName:n.institutionName,institutionId:u,accountType:i,accountMask:s,balance:String(n.balance),currency:n.currency.toUpperCase(),isPrimary:n.isPrimary,isActive:n.isActive,belvoAccountId:l,syncStatus:d}).returning();return N.info("Bank account created",{accountId:y.id,institutionName:n.institutionName,requestId:o,userId:t.id}),e.json({data:y,meta:{createdAt:new Date().toISOString(),requestId:o}},201)}catch(i){let s=Vi(i),u=i instanceof Error?i.message:"Unknown error",l=i instanceof Error?i.stack:void 0;return N.error("Failed to create bank account",{error:u,errorCode:s.code,errorStack:l,institutionName:n.institutionName,requestId:o,userId:t.id}),e.json({code:s.code,error:s.message,details:import.meta.env.DEV?u:void 0},s.statusCode)}});Zi.put("/:id",fe,xe({windowMs:60*1e3,max:30,message:"Too many update attempts, please try again later"}),Ve("json",gxe),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.param("id"),o=e.req.valid("json"),i=e.get("requestId");try{let[s]=await r.select({id:ce.id}).from(ce).where(Pe(V(ce.id,n),V(ce.userId,t.id))).limit(1);if(!s)return e.json({code:"NOT_FOUND",error:"Conta banc\xE1ria n\xE3o encontrada"},404);let u={};if(o.institutionName!==void 0&&(u.institutionName=o.institutionName),o.accountType!==void 0&&(u.accountType=YR(o.accountType)),o.balance!==void 0&&(u.balance=String(o.balance)),o.currency!==void 0&&(u.currency=o.currency.toUpperCase()),o.isPrimary!==void 0&&(u.isPrimary=o.isPrimary),o.isActive!==void 0&&(u.isActive=o.isActive),o.accountMask!==void 0){let f=Fp(o.accountMask);if(!Lp(f))return e.json({code:"BAD_REQUEST",error:"A m\xE1scara da conta deve seguir o formato **** 1234"},400);u.accountMask=f}let l=H1({institution_name:o.institutionName,account_type:o.accountType?YR(o.accountType):void 0,balance:o.balance,currency:o.currency?.toUpperCase(),is_primary:o.isPrimary,is_active:o.isActive,account_mask:o.accountMask?Fp(o.accountMask):void 0}),d=zJ(l);if(!d.valid){let f=d.errors.length>0?d.errors.map(m=>m.message).join(", "):"Dados inv\xE1lidos";return e.json({code:"BAD_REQUEST",error:f},400)}let[p]=await r.update(ce).set(u).where(Pe(V(ce.id,n),V(ce.userId,t.id))).returning();return e.json({data:p,meta:{requestId:i,updatedAt:new Date().toISOString()}})}catch(s){return N.error("Failed to update bank account",{accountId:n,error:s instanceof Error?s.message:"Unknown error",requestId:i,userId:t.id}),e.json({code:"BANK_ACCOUNT_UPDATE_ERROR",error:"Failed to update bank account"},500)}});Zi.patch("/:id/balance",fe,xe({windowMs:60*1e3,max:30,message:"Too many balance update attempts, please try again later"}),Ve("json",yxe),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.param("id"),{balance:o}=e.req.valid("json"),i=e.get("requestId");try{let[s]=await r.update(ce).set({balance:String(o)}).where(Pe(V(ce.id,n),V(ce.userId,t.id))).returning();return s?e.json({data:s,meta:{requestId:i,updatedAt:new Date().toISOString()}}):e.json({code:"NOT_FOUND",error:"Conta banc\xE1ria n\xE3o encontrada"},404)}catch(s){return N.error("Failed to update balance",{accountId:n,error:s instanceof Error?s.message:"Unknown error",requestId:i,userId:t.id}),e.json({code:"BALANCE_UPDATE_ERROR",error:"Failed to update balance"},500)}});Zi.delete("/:id",fe,xe({windowMs:60*1e3,max:20,message:"Too many deletion attempts, please try again later"}),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.param("id"),o=e.get("requestId");try{return await r.delete(ce).where(Pe(V(ce.id,n),V(ce.userId,t.id))),N.info("Bank account deleted",{accountId:n,requestId:o,userId:t.id}),e.json({data:{success:!0},meta:{deletedAt:new Date().toISOString(),requestId:o}})}catch(i){return N.error("Failed to delete bank account",{accountId:n,error:i instanceof Error?i.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"BANK_ACCOUNT_DELETE_ERROR",error:"Failed to delete bank account"},500)}});var e$=Zi;var pv=new Oe,Sxe=c.object({accountType:c.string(),balance:c.number(),bankName:c.string(),currency:c.string(),id:c.string(),lastSync:c.string().datetime().optional()}),hpt=c.object({accounts:c.array(Sxe),currency:c.string(),total:c.number()});pv.get("/accounts",fe,xe({windowMs:60*1e3,max:20,message:"Too many requests, please try again later"}),async e=>{let{user:t}=e.get("auth"),r=e.get("requestId");try{N.info("Bank accounts accessed",{requestId:r,userId:t.id});let n={accounts:[],currency:"BRL",total:0};return e.json({data:n,meta:{note:"Placeholder implementation - Belvo integration pending",requestId:r,retrievedAt:new Date().toISOString()}})}catch(n){return N.error("Failed to get bank accounts",{error:n instanceof Error?n.message:"Unknown error",requestId:r,userId:t.id}),e.json({code:"BANK_ACCOUNTS_ERROR",error:"Failed to retrieve bank accounts"},500)}});pv.post("/accounts/link",fe,xe({windowMs:60*1e3,max:5,message:"Too many link attempts, please try again later"}),Ve("json",c.object({bankCode:c.string(),credentials:c.record(c.string(),c.any())})),async e=>{let{user:t}=e.get("auth"),r=e.req.valid("json"),n=e.get("requestId");try{return N.info("Bank account link attempt",{bankCode:r.bankCode,requestId:n,userId:t.id}),e.json({code:"NOT_IMPLEMENTED",details:{bankCode:r.bankCode,note:"Belvo integration is pending implementation"},error:"Bank account linking not yet implemented"},501)}catch(o){return N.error("Failed to link bank account",{bankCode:r.bankCode,error:o instanceof Error?o.message:"Unknown error",requestId:n,userId:t.id}),e.json({code:"BANK_LINK_ERROR",error:"Failed to link bank account"},500)}});pv.post("/accounts/sync",fe,xe({windowMs:60*1e3,max:10,message:"Too many sync requests, please try again later"}),async e=>{let{user:t}=e.get("auth"),r=e.get("requestId");try{return N.info("Bank accounts sync attempt",{requestId:r,userId:t.id}),e.json({code:"NOT_IMPLEMENTED",details:{note:"Belvo integration is pending implementation"},error:"Bank account synchronization not yet implemented"},501)}catch(n){return N.error("Failed to sync bank accounts",{error:n instanceof Error?n.message:"Unknown error",requestId:r,userId:t.id}),e.json({code:"BANK_SYNC_ERROR",error:"Failed to sync bank accounts"},500)}});var t$=pv;ir();rn();Fr();var wxe=c.object({STRIPE_SECRET_KEY:c.string().min(1,"STRIPE_SECRET_KEY is required"),STRIPE_PUBLISHABLE_KEY:c.string().min(1,"STRIPE_PUBLISHABLE_KEY is required"),STRIPE_WEBHOOK_SECRET:c.string().min(1,"STRIPE_WEBHOOK_SECRET is required"),STRIPE_SUCCESS_URL:c.string().url("STRIPE_SUCCESS_URL must be a valid URL"),STRIPE_CANCEL_URL:c.string().url("STRIPE_CANCEL_URL must be a valid URL"),STRIPE_PORTAL_RETURN_URL:c.string().url("STRIPE_PORTAL_RETURN_URL must be a valid URL"),STRIPE_PRICE_BASIC_MONTHLY:c.string().min(1,"STRIPE_PRICE_BASIC_MONTHLY is required"),STRIPE_PRICE_ADVANCED_MONTHLY:c.string().min(1,"STRIPE_PRICE_ADVANCED_MONTHLY is required")}),li;try{li=wxe.parse(process.env)}catch{li=process.env}var Ls={secretKey:li?.STRIPE_SECRET_KEY,publishableKey:li?.STRIPE_PUBLISHABLE_KEY,webhookSecret:li?.STRIPE_WEBHOOK_SECRET,successUrl:li?.STRIPE_SUCCESS_URL,cancelUrl:li?.STRIPE_CANCEL_URL,portalReturnUrl:li?.STRIPE_PORTAL_RETURN_URL},S8={BASIC_MONTHLY:li?.STRIPE_PRICE_BASIC_MONTHLY,ADVANCED_MONTHLY:li?.STRIPE_PRICE_ADVANCED_MONTHLY},xxe=[{id:"free",name:"Gratuito",priceCents:0,features:["Dashboard b\xE1sico","1 conta banc\xE1ria","Transa\xE7\xF5es limitadas"],aiModels:[]},{id:"basic",name:"B\xE1sico",priceCents:5900,features:["Chat IA (Gemini Flash)","3 contas banc\xE1rias","Automa\xE7\xF5es b\xE1sicas"],aiModels:["gemini-flash"]},{id:"advanced",name:"Avan\xE7ado",priceCents:11900,features:["Todas as IAs","Contas ilimitadas","API access","Suporte priorit\xE1rio"],aiModels:["gpt-4o","claude-sonnet","gemini-pro","gemini-flash"]}],el=a(e=>xxe.find(t=>t.id===e),"getPlanById"),Im=a(e=>e===S8.BASIC_MONTHLY?el("basic"):e===S8.ADVANCED_MONTHLY?el("advanced"):null,"getPlanByStripePrice"),w8=a(e=>{let t=el(e);return t?t.aiModels.length>0:!1},"canAccessAI"),x8=a(e=>{let t=el(e);return t?t.aiModels:[]},"getAllowedModels");var Ki=class{static{a(this,"StripeSubscriptionService")}static async createCheckoutSession(t,r,n,o,i){let s=Jn(),u=vr();try{let[l]=await u.select().from(H).where(V(H.id,t)).limit(1);if(!l?.email)throw new Error("Usu\xE1rio n\xE3o encontrado ou sem email");let d=await no.getOrCreateCustomer(t,l.email,l.fullName||void 0),p=i||Ls.successUrl?.replace(/\/billing\/success$/,"")||"https://app.aegiswallet.com.br",f=n||`${p}/billing/success`,m=o||`${p}/billing/cancel`,y=await s.checkout.sessions.create({customer:d,mode:"subscription",payment_method_types:["card"],line_items:[{price:r,quantity:1}],success_url:f,cancel_url:m,metadata:{clerkUserId:t},allow_promotion_codes:!0});if(!y.url)throw new Error("Stripe n\xE3o retornou URL de checkout v\xE1lida");return{sessionId:y.id,checkoutUrl:y.url}}catch(l){throw N.error("Failed to create checkout session",{userId:t,priceId:r,requestOrigin:i,error:l instanceof Error?l.message:"Unknown error"}),l}}static async createPortalSession(t,r){let n=Jn();try{return{portalUrl:(await n.billingPortal.sessions.create({customer:t,return_url:r||Ls.portalReturnUrl||"https://app.aegiswallet.com.br/settings/billing"})).url}}catch(o){throw N.error("Failed to create portal session",{stripeCustomerId:t,error:o instanceof Error?o.message:"Unknown error"}),o}}static async getSubscription(t){let r=vr();try{let n=await r.select({subscription:je,plan:en}).from(je).leftJoin(en,V(je.planId,en.id)).where(V(je.userId,t)).limit(1);if(n.length===0)return N.info("No subscription found for user",{userId:t}),null;let{subscription:o,plan:i}=n[0];return o?(N.info("Retrieved subscription for user",{userId:t,subscriptionId:o.id,status:o.status,planId:o.planId}),{subscription:o,plan:i||null}):(N.warn("Subscription record is null despite query success",{userId:t}),null)}catch(n){throw N.error("Failed to get subscription",{userId:t,error:n instanceof Error?n.message:"Unknown error"}),n}}static async syncSubscriptionFromStripe(t){let r=Jn(),n=vr();try{let i=await r.subscriptions.retrieve(t),s=typeof i.customer=="string"?i.customer:i.customer.id,[u]=await n.select().from(je).where(V(je.stripeCustomerId,s)).limit(1);if(!u)return N.warn("Subscription sync skipped: User not found for customer",{customerId:s,stripeSubscriptionId:t}),null;let l=i.items.data[0]?.price?.id;if(!l)throw N.error("No price ID found in subscription",{stripeSubscriptionId:t,items:i.items.data.length}),new Error("Pre\xE7o n\xE3o encontrado na assinatura do Stripe");let d=Im(l),p=d?d.id:"free",f=i.status,m=f==="incomplete"||f==="incomplete_expired"||f==="paused"?"canceled":f,y=i.items.data[0];if(!y)throw N.error("No subscription items found",{stripeSubscriptionId:t}),new Error("Item da assinatura n\xE3o encontrado");let g=y.current_period_start,h=y.current_period_end;if(!(g&&h))throw N.error("Missing billing period dates",{stripeSubscriptionId:t,periodStart:g,periodEnd:h}),new Error("Datas do per\xEDodo de cobran\xE7a n\xE3o encontradas");let v={stripeSubscriptionId:i.id,planId:p,status:m,currentPeriodStart:new Date(g*1e3),currentPeriodEnd:new Date(h*1e3)},[S]=await n.update(je).set({...v,cancelAtPeriodEnd:i.cancel_at_period_end,canceledAt:i.canceled_at?new Date(i.canceled_at*1e3):null,trialStart:i.trial_start?new Date(i.trial_start*1e3):null,trialEnd:i.trial_end?new Date(i.trial_end*1e3):null,updatedAt:new Date}).where(V(je.id,u.id)).returning();return N.info("Subscription synced from Stripe",{userId:u.userId,subscriptionId:i.id,status:m,planId:p,previousStatus:u.status,previousPlanId:u.planId}),S}catch(o){throw N.error("Failed to sync subscription",{stripeSubscriptionId:t,error:o instanceof Error?o.message:"Unknown error",stack:o instanceof Error?o.stack:void 0}),o}}static async cancelSubscription(t,r=!1){let n=Jn(),o=vr();try{let[i]=await o.select().from(je).where(V(je.userId,t)).limit(1);if(!i?.stripeSubscriptionId)throw new Error("Assinatura n\xE3o encontrada");return r?await n.subscriptions.cancel(i.stripeSubscriptionId):await n.subscriptions.update(i.stripeSubscriptionId,{cancel_at_period_end:!0}),!0}catch(i){throw N.error("Failed to cancel subscription",{userId:t,error:i instanceof Error?i.message:"Unknown error"}),i}}};var T8=new Oe,Txe=c.object({priceId:c.string().min(1),successUrl:c.string().url().optional(),cancelUrl:c.string().url().optional()});T8.post("/",fe,xe({windowMs:6e4,max:30}),Ve("json",Txe),async e=>{let{user:t}=e.get("auth"),{priceId:r,successUrl:n,cancelUrl:o}=e.req.valid("json"),i=e.get("requestId");if(!t?.id)return N.warn("Checkout request missing user authentication",{requestId:i}),e.json({error:"Usu\xE1rio n\xE3o autenticado"},401);if(!t?.email)return N.warn("Checkout request missing user email",{requestId:i,userId:t.id}),e.json({error:"Email do usu\xE1rio n\xE3o encontrado"},400);try{let s=e.req.header("origin")||e.req.header("referer")?.replace(/\/$/,""),u=await Ki.createCheckoutSession(t.id,r,n,o,s);return N.info("Checkout session created successfully",{userId:t.id,priceId:r,requestOrigin:s,sessionId:u.sessionId}),e.json({data:u,meta:{requestId:i}})}catch(s){let u=s instanceof Error?s.message:"Unknown error";return N.error("Checkout creation failed",{userId:t.id,priceId:r,error:u,requestId:i}),u.includes("Usu\xE1rio n\xE3o encontrado")?e.json({error:"Usu\xE1rio n\xE3o encontrado"},404):u.includes("plano")||u.includes("price")?e.json({error:"Plano inv\xE1lido ou n\xE3o encontrado"},400):u.includes("Stripe")?e.json({error:"Servi\xE7o de pagamento temporariamente indispon\xEDvel"},503):e.json({error:"Falha ao criar checkout"},500)}});var E8=T8;var r$=new Oe,Exe=c.object({limit:c.coerce.number().min(1).max(100).default(10),offset:c.coerce.number().min(0).default(0),status:c.enum(["draft","open","paid","void","uncollectible"]).optional()});r$.get("/",fe,xe({windowMs:6e4,max:30}),Ve("query",Exe),async e=>{let{user:t}=e.get("auth"),{limit:r,offset:n,status:o}=e.req.valid("query"),i=e.get("requestId");try{let s=[],[u]=[{count:0}];return e.json({data:{invoices:s,total:Number(u?.count||0),hasMore:!1},meta:{requestId:i}})}catch(s){return N.error("Failed to fetch invoices",{userId:t.id,error:s instanceof Error?s.message:"Unknown error",requestId:i}),e.json({error:"Falha ao buscar faturas"},500)}});r$.get("/:id/pdf",fe,xe({windowMs:6e4,max:10}),async e=>{let{user:t}=e.get("auth"),r=e.req.param("id"),n=e.get("requestId");try{N.info("Invoice PDF download requested",{userId:t.id,invoiceId:r,requestId:n});let o=new Blob(["Mock PDF content"],{type:"application/pdf"});return new Response(o,{headers:{"Content-Type":"application/pdf","Content-Disposition":`attachment; filename="fatura-${r}.pdf"`}})}catch(o){return N.error("Failed to download invoice PDF",{userId:t.id,invoiceId:r,error:o instanceof Error?o.message:"Unknown error",requestId:n}),e.json({error:"Falha ao baixar fatura"},500)}});var k8=r$;ir();rn();Fr();var P8=new Oe,kxe=c.object({limit:c.coerce.number().min(1).max(100).default(10),offset:c.coerce.number().min(0).default(0)});P8.get("/",fe,xe({windowMs:6e4,max:30}),Ve("query",kxe),async e=>{let{user:t}=e.get("auth"),{limit:r,offset:n}=e.req.valid("query"),o=e.get("requestId"),i=vr();try{let s=await i.select().from(yr).where(V(yr.userId,t.id)).orderBy(Mt(yr.createdAt)).limit(r).offset(n),[u]=await i.select({count:q`count(*)`}).from(yr).where(V(yr.userId,t.id));return e.json({data:{payments:s,total:Number(u.count)},meta:{requestId:o}})}catch(s){return N.error("Failed to fetch payment history",{userId:t.id,error:s instanceof Error?s.message:"Unknown error",requestId:o}),e.json({error:"Falha ao buscar hist\xF3rico de pagamentos"},500)}});var I8=P8;var Om=new Oe,Pxe=c.object({type:c.enum(["card","pix","bank_account"]),isDefault:c.boolean().optional(),cardNumber:c.string().optional(),expiryMonth:c.number().min(1).max(12).optional(),expiryYear:c.number().min(new Date().getFullYear()).optional(),cvc:c.string().optional(),pixKey:c.string().optional(),pixKeyType:c.enum(["cpf","cnpj","phone","email","random"]).optional(),bankCode:c.string().optional(),accountNumber:c.string().optional(),accountType:c.enum(["checking","savings"]).optional(),accountHolderName:c.string().optional(),documentNumber:c.string().optional()}),Ixe=c.object({isDefault:c.boolean()});Om.get("/",fe,xe({windowMs:6e4,max:30}),async e=>{let{user:t}=e.get("auth"),r=e.get("requestId");try{let n=[];return e.json({data:{paymentMethods:n,hasMore:!1,total:0},meta:{requestId:r}})}catch(n){return N.error("Failed to fetch payment methods",{userId:t.id,error:n instanceof Error?n.message:"Unknown error",requestId:r}),e.json({error:"Falha ao buscar m\xE9todos de pagamento"},500)}});Om.post("/",fe,xe({windowMs:6e4,max:10}),Ve("json",Pxe),async e=>{let{user:t}=e.get("auth"),r=e.req.valid("json"),n=e.get("requestId");try{return N.info("Payment method addition requested",{userId:t.id,type:r.type,requestId:n}),e.json({data:{paymentMethod:{id:"pm_mock_id",type:r.type,isDefault:r.isDefault,createdAt:new Date().toISOString()}},meta:{requestId:n}})}catch(o){return N.error("Failed to add payment method",{userId:t.id,error:o instanceof Error?o.message:"Unknown error",requestId:n}),e.json({error:"Falha ao adicionar m\xE9todo de pagamento"},500)}});Om.put("/:id",fe,xe({windowMs:6e4,max:20}),Ve("json",Ixe),async e=>{let{user:t}=e.get("auth"),r=e.req.param("id"),n=e.req.valid("json"),o=e.get("requestId");try{return N.info("Payment method update requested",{userId:t.id,paymentMethodId:r,data:n,requestId:o}),e.json({data:{paymentMethod:{id:r,isDefault:n.isDefault}},meta:{requestId:o}})}catch(i){return N.error("Failed to update payment method",{userId:t.id,paymentMethodId:r,error:i instanceof Error?i.message:"Unknown error",requestId:o}),e.json({error:"Falha ao atualizar m\xE9todo de pagamento"},500)}});Om.delete("/:id",fe,xe({windowMs:6e4,max:10}),async e=>{let{user:t}=e.get("auth"),r=e.req.param("id"),n=e.get("requestId");try{return N.info("Payment method deletion requested",{userId:t.id,paymentMethodId:r,requestId:n}),e.json({data:{success:!0},meta:{requestId:n}})}catch(o){return N.error("Failed to remove payment method",{userId:t.id,paymentMethodId:r,error:o instanceof Error?o.message:"Unknown error",requestId:n}),e.json({error:"Falha ao remover m\xE9todo de pagamento"},500)}});var O8=Om;ir();rn();Fr();var A8=new Oe;A8.get("/",async e=>{let t=e.get("requestId"),r=vr();try{let o=(await r.select().from(en).where(V(en.isActive,!0)).orderBy(wi(en.displayOrder))).map(i=>({...i,priceFormatted:new Intl.NumberFormat("pt-BR",{style:"currency",currency:i.currency}).format(i.priceCents/100)}));return e.json({data:{plans:o},meta:{requestId:t}})}catch(n){return N.error("Failed to fetch plans",{error:n instanceof Error?n.message:"Unknown error",requestId:t}),e.json({error:"Falha ao buscar planos"},500)}});var C8=A8;var R8=new Oe,Oxe=c.object({returnUrl:c.string().url().optional()});R8.post("/",fe,xe({windowMs:6e4,max:10}),Ve("json",Oxe),async e=>{let{user:t}=e.get("auth"),{returnUrl:r}=e.req.valid("json"),n=e.get("requestId");try{let o=await Ki.getSubscription(t.id);if(!o?.subscription?.stripeCustomerId)return e.json({error:"Assinatura n\xE3o encontrada"},400);let i=await Ki.createPortalSession(o.subscription.stripeCustomerId,r);return N.info("Portal session created",{userId:t.id}),e.json({data:i,meta:{requestId:n}})}catch(o){return N.error("Portal creation failed",{userId:t.id,error:o instanceof Error?o.message:"Unknown error",requestId:n}),e.json({error:"Falha ao criar portal"},500)}});var $8=R8;var N8=new Oe;N8.get("/",fe,xe({windowMs:6e4,max:30}),async e=>{let{user:t}=e.get("auth"),r=e.get("requestId");try{let n=await Ki.getSubscription(t.id),o=n?.plan||el("free"),i=o?.id||"free",s=w8(i),u=x8(i);return e.json({data:{subscription:n?.subscription||null,plan:o,canAccessAI:s,allowedModels:u},meta:{requestId:r}})}catch(n){return N.error("Failed to get subscription",{userId:t.id,error:n instanceof Error?n.message:"Unknown error",requestId:r}),e.json({error:"Falha ao buscar assinatura"},500)}});var z8=N8;ir();rn();Fr();var di=class{static{a(this,"StripeWebhookService")}static constructEvent(t,r){let n=Jn();if(!Ls.webhookSecret)throw N.error("Webhook secret not configured",{hasConfig:!!Ls.webhookSecret}),new Error("STRIPE_WEBHOOK_SECRET n\xE3o est\xE1 configurado. Verifique as vari\xE1veis de ambiente.");try{let o=n.webhooks.constructEvent(t,r,Ls.webhookSecret);return N.info("Webhook event constructed successfully",{type:o.type,id:o.id}),o}catch(o){let i=o instanceof Error?o.message:"Unknown error";throw N.error("Failed to construct webhook event",{error:i,signatureLength:r?.length}),new Error(`Falha ao validar webhook: ${i}`)}}static async handleCheckoutSessionCompleted(t){let r=vr(),n=t.metadata?.clerkUserId,o=typeof t.customer=="string"?t.customer:t.customer?.id,i=typeof t.subscription=="string"?t.subscription:t.subscription?.id;if(!(n&&o&&i))throw N.warn("Checkout session missing required metadata",{sessionId:t.id,hasClerkUserId:!!n,hasCustomerId:!!o,hasSubscriptionId:!!i}),new Error("Checkout session incompleto - metadados obrigat\xF3rios n\xE3o encontrados");try{let[s]=await r.select().from(je).where(V(je.stripeSubscriptionId,i)).limit(1);if(s){N.info("Checkout session already processed",{sessionId:t.id,subscriptionId:i,existingStatus:s.status});return}let l=await Jn().subscriptions.retrieve(i),d=l.items.data[0]?.price?.id;if(!d)throw new Error("Price ID n\xE3o encontrado na assinatura do Stripe");let p=Im(d),f=p?p.id:"free",m=l.items.data[0];if(!m)throw new Error("Item da assinatura n\xE3o encontrado");let y=m.current_period_start,g=m.current_period_end;if(!(y&&g))throw new Error("Datas do per\xEDodo de cobran\xE7a n\xE3o encontradas");let h=l.status,v=h==="incomplete"||h==="incomplete_expired"||h==="paused"?"canceled":h;await r.update(je).set({stripeCustomerId:o,stripeSubscriptionId:i,planId:f,status:v,currentPeriodStart:new Date(y*1e3),currentPeriodEnd:new Date(g*1e3),updatedAt:new Date}).where(V(je.userId,n)),N.info("Checkout session completed successfully",{clerkUserId:n,sessionId:t.id,subscriptionId:i,status:v,planId:f})}catch(s){let u=s instanceof Error?s.message:"Unknown error";throw N.error("Failed to process checkout session completion",{sessionId:t.id,clerkUserId:n,error:u}),s}}static async handleSubscriptionCreated(t){}static async handleSubscriptionUpdated(t){let r=vr(),n=typeof t.customer=="string"?t.customer:t.customer.id,[o]=await r.select().from(je).where(V(je.stripeCustomerId,n)).limit(1);if(!o){N.warn("Subscription update webhook subscription not found",{customerId:n,subscriptionId:t.id});return}let i=t.items.data[0]?.price?.id;if(!i){N.error("No price ID found in subscription update",{subscriptionId:t.id});return}let s=Im(i),u=s?s.id:"free",l=t.items.data[0];if(!l){N.error("No subscription items found in update",{subscriptionId:t.id});return}let d=l.current_period_start,p=l.current_period_end,f=t.status,m=f==="incomplete"||f==="incomplete_expired"||f==="paused"?"canceled":f;await r.update(je).set({stripeSubscriptionId:t.id,planId:u,status:m,currentPeriodStart:new Date(d*1e3),currentPeriodEnd:new Date(p*1e3),cancelAtPeriodEnd:t.cancel_at_period_end,canceledAt:t.canceled_at?new Date(t.canceled_at*1e3):null,updatedAt:new Date}).where(V(je.id,o.id)),N.info("Subscription updated webhook processed successfully",{subscriptionId:t.id,previousStatus:o.status,newStatus:m,previousPlanId:o.planId,newPlanId:u})}static async handleSubscriptionDeleted(t){let r=vr(),n=typeof t.customer=="string"?t.customer:t.customer.id,[o]=await r.select().from(je).where(V(je.stripeCustomerId,n)).limit(1);if(!o){N.warn("Subscription delete webhook subscription not found",{customerId:n,subscriptionId:t.id});return}await r.update(je).set({status:"canceled",canceledAt:new Date,updatedAt:new Date}).where(V(je.stripeCustomerId,n)),N.info("Subscription deleted webhook processed successfully",{subscriptionId:t.id,userId:o.userId,previousStatus:o.status})}static async handleInvoicePaid(t){let r=vr(),n=t,o=typeof n.customer=="string"?n.customer:n.customer?.id;if(!o){N.warn("Invoice paid webhook missing customer ID",{invoiceId:n.id});return}let[i]=await r.select().from(je).where(V(je.stripeCustomerId,o)).limit(1);if(!i){N.warn("Invoice paid webhook subscription not found",{invoiceId:n.id,customerId:o});return}let[s]=await r.select().from(yr).where(V(yr.stripeInvoiceId,n.id)).limit(1);if(s){N.info("Invoice payment already processed",{invoiceId:n.id,existingStatus:s.status});return}try{await r.insert(yr).values({userId:i.userId,subscriptionId:i.id,stripePaymentIntentId:typeof n.payment_intent=="string"?n.payment_intent:n.payment_intent?.id,stripeInvoiceId:n.id,stripeChargeId:typeof n.charge=="string"?n.charge:n.charge?.id,amountCents:n.amount_paid,currency:n.currency,status:"succeeded",description:n.description||"Assinatura AegisWallet",receiptUrl:n.hosted_invoice_url,invoicePdf:n.invoice_pdf}),N.info("Invoice paid webhook processed successfully",{invoiceId:n.id,userId:i.userId,amount:n.amount_paid,currency:n.currency})}catch(u){let l=u instanceof Error?u.message:"Unknown error";throw N.error("Failed to process invoice payment",{invoiceId:n.id,userId:i.userId,error:l}),u}}static async handleInvoicePaymentFailed(t){let r=vr(),n=t,o=typeof n.customer=="string"?n.customer:n.customer?.id;if(!o){N.warn("Invoice payment failed webhook missing customer ID",{invoiceId:n.id});return}let[i]=await r.select().from(je).where(V(je.stripeCustomerId,o)).limit(1);if(!i){N.warn("Invoice payment failed webhook subscription not found",{invoiceId:n.id,customerId:o});return}let[s]=await r.select().from(yr).where(V(yr.stripeInvoiceId,n.id)).limit(1);if(s){N.info("Invoice payment failure already processed",{invoiceId:n.id,existingStatus:s.status});return}try{await r.insert(yr).values({userId:i.userId,subscriptionId:i.id,stripePaymentIntentId:typeof n.payment_intent=="string"?n.payment_intent:n.payment_intent?.id,stripeInvoiceId:n.id,stripeChargeId:typeof n.charge=="string"?n.charge:n.charge?.id,amountCents:n.amount_due,currency:n.currency,status:"failed",description:n.description||"Falha no pagamento",failureCode:n.last_finalization_error?.code,failureMessage:t.last_finalization_error?.message}),N.warn("Invoice payment failed webhook processed successfully",{invoiceId:n.id,userId:i.userId,amount:n.amount_due,currency:n.currency,failureCode:n.last_finalization_error?.code,failureMessage:t.last_finalization_error?.message})}catch(u){let l=u instanceof Error?u.message:"Unknown error";throw N.error("Failed to process invoice payment failure",{invoiceId:n.id,userId:i.userId,error:l}),u}}};var j8=new Oe;j8.post("/",async e=>{let t=e.req.header("stripe-signature"),r=await e.req.text();if(!t)return e.json({error:"Missing stripe-signature header"},400);try{let n=di.constructEvent(r,t);switch(N.info("Stripe webhook received",{type:n.type,id:n.id}),n.type){case"checkout.session.completed":await di.handleCheckoutSessionCompleted(n.data.object);break;case"customer.subscription.created":await di.handleSubscriptionCreated(n.data.object);break;case"customer.subscription.updated":await di.handleSubscriptionUpdated(n.data.object);break;case"customer.subscription.deleted":await di.handleSubscriptionDeleted(n.data.object);break;case"invoice.paid":await di.handleInvoicePaid(n.data.object);break;case"invoice.payment_failed":await di.handleInvoicePaymentFailed(n.data.object);break;default:N.info("Unhandled webhook event type",{type:n.type})}return e.json({received:!0})}catch(n){return N.error("Webhook processing failed",{error:n instanceof Error?n.message:"Unknown error"}),e.json({error:"Webhook handler failed"},400)}});var D8=j8;var Gi=new Oe;Gi.route("/checkout",E8);Gi.route("/subscription",z8);Gi.route("/portal",$8);Gi.route("/plans",C8);Gi.route("/webhook",D8);Gi.route("/payment-history",I8);Gi.route("/payment-methods",O8);Gi.route("/invoices",k8);var n$=Gi;ir();Fr();var o$=new Oe,Axe=c.object({categoryId:c.string().optional(),endDate:c.string().datetime().optional(),limit:c.coerce.number().min(1).max(100).default(20),offset:c.coerce.number().min(0).default(0),query:c.string().min(1,"Query \xE9 obrigat\xF3ria"),startDate:c.string().datetime().optional()}),Cxe=c.object({accountId:c.string().optional(),categoryId:c.string().optional(),endDate:c.string().datetime().optional(),limit:c.coerce.number().min(1).max(100).default(20),offset:c.coerce.number().min(0).default(0),query:c.string().min(1,"Query \xE9 obrigat\xF3ria"),startDate:c.string().datetime().optional()});o$.get("/events/search",fe,xe({max:30,message:"Muitas requisi\xE7\xF5es, tente novamente mais tarde",windowMs:60*1e3}),Ve("query",Axe),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.valid("query"),o=e.get("requestId");try{let i=[V(mt.userId,t.id),Ur(mt.title,`%${n.query}%`)];n.categoryId&&i.push(V(mt.categoryId,n.categoryId)),n.startDate&&i.push(gr(mt.startDate,new Date(n.startDate))),n.endDate&&i.push(or(mt.endDate,new Date(n.endDate)));let s=await r.select().from(mt).where(Pe(...i)).orderBy(Mt(mt.createdAt)).limit(n.limit).offset(n.offset);return N.info("Calendar events searched",{limit:n.limit,query:n.query,requestId:o,resultsCount:s.length,userId:t.id}),e.json({data:s,meta:{requestId:o,retrievedAt:new Date().toISOString()}})}catch(i){return N.error("Failed to search calendar events",{error:i instanceof Error?i.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"CALENDAR_SEARCH_ERROR",error:"Falha ao buscar eventos"},500)}});o$.get("/transactions/search",fe,xe({max:30,message:"Muitas requisi\xE7\xF5es, tente novamente mais tarde",windowMs:60*1e3}),Ve("query",Cxe),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.valid("query"),o=e.get("requestId");try{let i=[V(oe.userId,t.id),Ur(oe.description,`%${n.query}%`)];n.accountId&&i.push(V(oe.accountId,n.accountId)),n.categoryId&&i.push(V(oe.categoryId,n.categoryId)),n.startDate&&i.push(gr(oe.transactionDate,new Date(n.startDate))),n.endDate&&i.push(or(oe.transactionDate,new Date(n.endDate)));let s=await r.select().from(oe).where(Pe(...i)).orderBy(Mt(oe.createdAt)).limit(n.limit).offset(n.offset);return N.info("Calendar transactions searched",{limit:n.limit,query:n.query,requestId:o,resultsCount:s.length,userId:t.id}),e.json({data:s,meta:{requestId:o,retrievedAt:new Date().toISOString()}})}catch(i){return N.error("Failed to search calendar transactions",{error:i instanceof Error?i.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"CALENDAR_SEARCH_ERROR",error:"Falha ao buscar transa\xE7\xF5es"},500)}});var i$=o$;ir();Fr();var a$=class{constructor(t){this.db=t}static{a(this,"ComplianceService")}async getUserConsents(t){try{return await this.db.select().from(qt).where(V(qt.userId,t)).orderBy(Mt(qt.createdAt))}catch(r){throw N.error("Failed to get user consents",{error:r instanceof Error?r.message:"Unknown error",userId:t}),new Error(`Erro ao buscar consentimentos: ${r instanceof Error?r.message:"Unknown error"}`)}}async getConsentTemplates(){try{return await this.db.select().from(wn).where(V(wn.isActive,!0)).orderBy(wn.consentType)}catch(t){throw N.error("Failed to get consent templates",{error:t instanceof Error?t.message:"Unknown error"}),new Error(`Erro ao buscar templates de consentimento: ${t instanceof Error?t.message:"Unknown error"}`)}}async grantConsent(t,r,n,o,i){try{let[s]=await this.db.select().from(wn).where(Pe(V(wn.consentType,r),V(wn.isActive,!0))).limit(1);if(!s)throw new Error(`Template de consentimento n\xE3o encontrado: ${r}`);let u=await this.generateHash(s.fullTextPt),[l]=await this.db.select().from(qt).where(Pe(V(qt.userId,t),V(qt.consentType,r))).limit(1);if(l){let[p]=await this.db.update(qt).set({granted:!0,grantedAt:new Date,revokedAt:null,consentVersion:s.version,consentTextHash:u,collectionMethod:n,ipAddress:o??null,userAgent:i??null}).where(V(qt.id,l.id)).returning();return p}let[d]=await this.db.insert(qt).values({userId:t,consentType:r,purpose:s.descriptionPt,legalBasis:"consent",granted:!0,grantedAt:new Date,revokedAt:null,consentVersion:s.version,consentTextHash:u,collectionMethod:n,ipAddress:o??null,userAgent:i??null}).returning();return d}catch(s){throw N.error("Failed to grant consent",{error:s instanceof Error?s.message:"Unknown error",userId:t,consentType:r}),new Error(`Erro ao conceder consentimento: ${s instanceof Error?s.message:"Unknown error"}`)}}async revokeConsent(t,r){try{await this.db.update(qt).set({granted:!1,revokedAt:new Date}).where(Pe(V(qt.userId,t),V(qt.consentType,r)))}catch(n){throw N.error("Failed to revoke consent",{error:n instanceof Error?n.message:"Unknown error",userId:t,consentType:r}),new Error(`Erro ao revogar consentimento: ${n instanceof Error?n.message:"Unknown error"}`)}}async checkRequiredConsents(t,r){try{return(await this.db.select().from(qt).where(Pe(V(qt.userId,t),us(qt.consentType,r),V(qt.granted,!0)))).length===r.length}catch(n){return N.error("Failed to check required consents",{error:n instanceof Error?n.message:"Unknown error",userId:t}),!1}}async getMissingMandatoryConsents(t){try{let n=(await this.db.select().from(wn).where(Pe(V(wn.isMandatory,!0),V(wn.isActive,!0)))).map(s=>s.consentType),i=(await this.db.select().from(qt).where(Pe(V(qt.userId,t),V(qt.granted,!0)))).map(s=>s.consentType);return n.filter(s=>!i.includes(s))}catch(r){throw N.error("Failed to get missing mandatory consents",{error:r instanceof Error?r.message:"Unknown error",userId:t}),new Error(`Erro ao buscar consentimentos obrigat\xF3rios faltantes: ${r instanceof Error?r.message:"Unknown error"}`)}}async createExportRequest(t,r,n,o,i,s){try{let[u]=await this.db.insert(_o).values({userId:t,requestType:r,format:n,status:"pending",dateFrom:o??null,dateTo:i??null,requestedVia:"app",ipAddress:s??null}).returning();return await this.logAuditEvent(t,"data_export_requested","data_export_requests",u.id,{requestType:r,format:n}),u}catch(u){throw N.error("Failed to create export request",{error:u instanceof Error?u.message:"Unknown error",userId:t}),new Error(`Erro ao criar solicita\xE7\xE3o de exporta\xE7\xE3o: ${u instanceof Error?u.message:"Unknown error"}`)}}async getExportRequests(t){try{return await this.db.select().from(_o).where(V(_o.userId,t)).orderBy(Mt(_o.createdAt))}catch(r){throw N.error("Failed to get export requests",{error:r instanceof Error?r.message:"Unknown error",userId:t}),new Error(`Erro ao buscar solicita\xE7\xF5es de exporta\xE7\xE3o: ${r instanceof Error?r.message:"Unknown error"}`)}}async createDeletionRequest(t,r,n,o,i){try{let[s]=await this.db.select({legalHold:tn.legalHold}).from(tn).where(Pe(V(tn.userId,t),V(tn.legalHold,!0))).limit(1);if(s?.legalHold)throw new Error("Seus dados est\xE3o em reten\xE7\xE3o legal e n\xE3o podem ser exclu\xEDdos no momento");let u=new Date;u.setDate(u.getDate()+15);let[l]=await this.db.insert(tn).values({userId:t,requestType:r,scope:n??{},reason:o??null,status:"pending",reviewDeadline:u,ipAddress:i??null}).returning();return await this.logAuditEvent(t,"data_deletion_requested","data_deletion_requests",l.id,{requestType:r}),l}catch(s){throw N.error("Failed to create deletion request",{error:s instanceof Error?s.message:"Unknown error",userId:t}),s}}async getDeletionRequests(t){try{return await this.db.select().from(tn).where(V(tn.userId,t)).orderBy(Mt(tn.createdAt))}catch(r){throw N.error("Failed to get deletion requests",{error:r instanceof Error?r.message:"Unknown error",userId:t}),new Error(`Erro ao buscar solicita\xE7\xF5es de exclus\xE3o: ${r instanceof Error?r.message:"Unknown error"}`)}}async getTransactionLimits(t){try{return await this.db.select().from(Lr).where(V(Lr.userId,t))}catch(r){throw N.error("Failed to get transaction limits",{error:r instanceof Error?r.message:"Unknown error",userId:t}),new Error(`Erro ao buscar limites de transa\xE7\xE3o: ${r instanceof Error?r.message:"Unknown error"}`)}}async checkTransactionLimit(t,r,n){try{let[o]=await this.db.select().from(Lr).where(Pe(V(Lr.userId,t),V(Lr.limitType,r),V(Lr.isActive,!0))).limit(1);if(!o)return{allowed:!0};let i=Number(o.dailyLimit),s=Number(o.currentDailyUsed??0),u=o.transactionLimit?Number(o.transactionLimit):null,l=i-s;return u&&n>u?{allowed:!1,reason:`Valor excede limite por transa\xE7\xE3o de R$ ${u.toFixed(2)}`,limit:i,used:s,requested:n,remaining:l}:n>l?{allowed:!1,reason:`Valor excede saldo di\xE1rio dispon\xEDvel de R$ ${l.toFixed(2)}`,limit:i,used:s,requested:n,remaining:l}:{allowed:!0,limit:i,used:s,requested:n,remaining:l}}catch(o){throw N.error("Failed to check transaction limit",{error:o instanceof Error?o.message:"Unknown error",limitType:r,userId:t}),new Error(`Erro ao verificar limite de transa\xE7\xE3o: ${o instanceof Error?o.message:"Unknown error"}`)}}async updateLimitUsage(t,r,n){try{await this.db.update(Lr).set({currentDailyUsed:q`${Lr.currentDailyUsed} + ${n}`}).where(Pe(V(Lr.userId,t),V(Lr.limitType,r)))}catch(o){throw N.error("Failed to update limit usage",{error:o instanceof Error?o.message:"Unknown error",userId:t,limitType:r,amount:n}),new Error(`Erro ao atualizar uso de limite: ${o instanceof Error?o.message:"Unknown error"}`)}}async logAuditEvent(t,r,n,o,i){try{let s=new Date;s.setFullYear(s.getFullYear()+5),await this.db.insert(xn).values({userId:t,eventType:r,resourceType:n,resourceId:o??null,description:i?.action??null,metadata:i??{},previousState:null,newState:null,ipAddress:null,userAgent:null,sessionId:null,retentionUntil:s})}catch(s){N.error("Failed to log audit event",{error:s instanceof Error?s.message:"Unknown error",eventType:r,userId:t})}}async getAuditHistory(t,r){try{let n=[V(xn.userId,t)];return r?.eventType&&n.push(V(xn.eventType,r.eventType)),r?.startDate&&n.push(gr(xn.createdAt,r.startDate)),r?.endDate&&n.push(or(xn.createdAt,r.endDate)),await this.db.select().from(xn).where(n.length>1?Pe(...n):n[0]).orderBy(Mt(xn.createdAt)).limit(r?.limit??100)}catch(n){throw N.error("Failed to get audit history",{error:n instanceof Error?n.message:"Unknown error",userId:t}),new Error(`Erro ao buscar hist\xF3rico de auditoria: ${n instanceof Error?n.message:"Unknown error"}`)}}async generateHash(t){let n=new TextEncoder().encode(t),o=await crypto.subtle.digest("SHA-256",n);return Array.from(new Uint8Array(o)).map(s=>s.toString(16).padStart(2,"0")).join("")}};function Pn(e){return new a$(e)}a(Pn,"createComplianceService");var Hn=new Oe,Rxe=c.object({collectionMethod:c.enum(["explicit_form","voice_command","terms_acceptance","settings_toggle"]).default("explicit_form"),consentType:c.enum(["data_processing","marketing","analytics","third_party","voice_data","biometric","financial_data","location"])}),$xe=c.object({dateFrom:c.string().optional(),dateTo:c.string().optional(),format:c.enum(["json","csv","pdf"]).default("json"),requestType:c.enum(["full_data","full_export","transactions","profile","consents","audit_logs"]).default("full_export")}),Nxe=c.object({reason:c.string().optional(),requestType:c.enum(["full_account","full_deletion","specific_data","anonymization"]),scope:c.record(c.string(),c.unknown()).optional()}),zxe=c.object({amount:c.number().positive("Valor deve ser positivo"),limitType:c.enum(["pix_daily","pix_daytime","pix_transaction","boleto_daily","transfer_daily","withdrawal_daily"])});Hn.get("/consent-templates",fe,async e=>{let{db:t}=e.get("auth"),r=e.get("requestId");try{let o=await Pn(t).getConsentTemplates();return e.json({data:o,meta:{requestId:r,retrievedAt:new Date().toISOString()}})}catch(n){return N.error("Failed to get consent templates",{error:n instanceof Error?n.message:"Unknown error",requestId:r}),e.json({code:"CONSENT_TEMPLATES_ERROR",error:"Erro ao buscar modelos de consentimento"},500)}});Hn.get("/consents",fe,xe({windowMs:6e4,max:30,message:"Muitas requisi\xE7\xF5es"}),async e=>{let{user:t,db:r}=e.get("auth"),n=e.get("requestId");try{let i=await Pn(r).getUserConsents(t.id);return e.json({data:i,meta:{requestId:n,retrievedAt:new Date().toISOString()}})}catch(o){return N.error("Failed to get user consents",{error:o instanceof Error?o.message:"Unknown error",requestId:n,userId:t.id}),e.json({code:"CONSENTS_ERROR",error:"Erro ao buscar consentimentos"},500)}});Hn.get("/consents/missing",fe,async e=>{let{user:t,db:r}=e.get("auth"),n=e.get("requestId");try{let i=await Pn(r).getMissingMandatoryConsents(t.id);return e.json({data:{hasMissing:i.length>0,missingConsents:i},meta:{requestId:n,retrievedAt:new Date().toISOString()}})}catch(o){return N.error("Failed to get missing consents",{error:o instanceof Error?o.message:"Unknown error",requestId:n,userId:t.id}),e.json({code:"MISSING_CONSENTS_ERROR",error:"Erro ao verificar consentimentos"},500)}});Hn.post("/consents",fe,xe({windowMs:6e4,max:20,message:"Muitas requisi\xE7\xF5es"}),Ve("json",Rxe),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.valid("json"),o=e.get("requestId");try{let i=e.req.header("x-forwarded-for")??e.req.header("x-real-ip"),s=e.req.header("user-agent"),l=await Pn(r).grantConsent(t.id,n.consentType,n.collectionMethod,i,s);return N.info("Consent granted",{consentType:n.consentType,requestId:o,userId:t.id}),e.json({data:l,meta:{requestId:o,grantedAt:new Date().toISOString()}},201)}catch(i){return N.error("Failed to grant consent",{consentType:n.consentType,error:i instanceof Error?i.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"CONSENT_GRANT_ERROR",error:"Erro ao registrar consentimento"},500)}});Hn.delete("/consents/:type",fe,xe({windowMs:6e4,max:20,message:"Muitas requisi\xE7\xF5es"}),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.param("type"),o=e.get("requestId");try{return await Pn(r).revokeConsent(t.id,n),N.info("Consent revoked",{consentType:n,requestId:o,userId:t.id}),e.json({data:{success:!0,message:"Consentimento revogado com sucesso"},meta:{requestId:o,revokedAt:new Date().toISOString()}})}catch(i){return N.error("Failed to revoke consent",{consentType:n,error:i instanceof Error?i.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"CONSENT_REVOKE_ERROR",error:"Erro ao revogar consentimento"},500)}});Hn.get("/export-requests",fe,async e=>{let{user:t,db:r}=e.get("auth"),n=e.get("requestId");try{let i=await Pn(r).getExportRequests(t.id);return e.json({data:i,meta:{requestId:n,retrievedAt:new Date().toISOString()}})}catch(o){return N.error("Failed to get export requests",{error:o instanceof Error?o.message:"Unknown error",requestId:n,userId:t.id}),e.json({code:"EXPORT_REQUESTS_ERROR",error:"Erro ao buscar solicita\xE7\xF5es"},500)}});Hn.post("/export-requests",fe,xe({windowMs:36e5,max:5,message:"Limite de solicita\xE7\xF5es atingido"}),Ve("json",$xe),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.valid("json"),o=e.get("requestId");try{let i=e.req.header("x-forwarded-for")??e.req.header("x-real-ip"),u=await Pn(r).createExportRequest(t.id,n.requestType,n.format,n.dateFrom,n.dateTo,i);return N.info("Export request created",{format:n.format,requestId:o,requestType:n.requestType,userId:t.id}),e.json({data:u,meta:{requestId:o,createdAt:new Date().toISOString()}},201)}catch(i){return N.error("Failed to create export request",{error:i instanceof Error?i.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"EXPORT_REQUEST_ERROR",error:"Erro ao criar solicita\xE7\xE3o"},500)}});Hn.get("/deletion-requests",fe,async e=>{let{user:t,db:r}=e.get("auth"),n=e.get("requestId");try{let i=await Pn(r).getDeletionRequests(t.id);return e.json({data:i,meta:{requestId:n,retrievedAt:new Date().toISOString()}})}catch(o){return N.error("Failed to get deletion requests",{error:o instanceof Error?o.message:"Unknown error",requestId:n,userId:t.id}),e.json({code:"DELETION_REQUESTS_ERROR",error:"Erro ao buscar solicita\xE7\xF5es"},500)}});Hn.post("/deletion-requests",fe,xe({windowMs:864e5,max:3,message:"Limite di\xE1rio atingido"}),Ve("json",Nxe),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.valid("json"),o=e.get("requestId");try{let i=e.req.header("x-forwarded-for")??e.req.header("x-real-ip"),u=await Pn(r).createDeletionRequest(t.id,n.requestType,n.scope,n.reason,i);return N.info("Deletion request created",{requestId:o,requestType:n.requestType,userId:t.id}),e.json({data:u,meta:{requestId:o,createdAt:new Date().toISOString()}},201)}catch(i){let s=i instanceof Error?i.message:"Unknown error";return N.error("Failed to create deletion request",{error:s,requestId:o,userId:t.id}),s.includes("reten\xE7\xE3o legal")?e.json({code:"LEGAL_HOLD",error:s},403):e.json({code:"DELETION_REQUEST_ERROR",error:"Erro ao criar solicita\xE7\xE3o"},500)}});Hn.get("/limits",fe,async e=>{let{user:t,db:r}=e.get("auth"),n=e.get("requestId");try{let i=await Pn(r).getTransactionLimits(t.id);return e.json({data:i,meta:{requestId:n,retrievedAt:new Date().toISOString()}})}catch(o){return N.error("Failed to get transaction limits",{error:o instanceof Error?o.message:"Unknown error",requestId:n,userId:t.id}),e.json({code:"LIMITS_ERROR",error:"Erro ao buscar limites"},500)}});Hn.post("/limits/check",fe,xe({windowMs:6e4,max:60,message:"Muitas verifica\xE7\xF5es"}),Ve("json",zxe),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.valid("json"),o=e.get("requestId");try{let s=await Pn(r).checkTransactionLimit(t.id,n.limitType,n.amount);return e.json({data:s,meta:{requestId:o,checkedAt:new Date().toISOString()}})}catch(i){return N.error("Failed to check transaction limit",{amount:n.amount,error:i instanceof Error?i.message:"Unknown error",limitType:n.limitType,requestId:o,userId:t.id}),e.json({code:"LIMIT_CHECK_ERROR",error:"Erro ao verificar limite"},500)}});Hn.get("/audit",fe,xe({windowMs:6e4,max:10,message:"Muitas requisi\xE7\xF5es"}),async e=>{let{user:t,db:r}=e.get("auth"),n=e.get("requestId");try{let o=Number(e.req.query("limit"))||50,i=e.req.query("eventType"),u=await Pn(r).getAuditHistory(t.id,{limit:o,eventType:i||void 0});return e.json({data:u,meta:{requestId:n,retrievedAt:new Date().toISOString()}})}catch(o){return N.error("Failed to get audit history",{error:o instanceof Error?o.message:"Unknown error",requestId:n,userId:t.id}),e.json({code:"AUDIT_ERROR",error:"Erro ao buscar hist\xF3rico"},500)}});var s$=Hn;ir();Fr();var jxe=/^\d{10,11}$/,mv=a(e=>e?e.replace(/\D/g,""):e??void 0,"normalizeDigits"),M8=a(e=>({...e,cpf:e.cpf?mv(e.cpf):e.cpf,email:e.email?.trim().toLowerCase(),phone:e.phone?mv(e.phone):e.phone}),"sanitizeContactFields"),pi=new Oe,Dxe=c.object({cpf:c.string().optional(),email:c.string().email().optional(),isFavorite:c.boolean().default(!1),name:c.string().min(1,"Nome \xE9 obrigat\xF3rio"),notes:c.string().optional(),phone:c.string().optional()}),Mxe=c.object({cpf:c.string().optional().refine(e=>!e||kJ(mv(e)??""),"CPF inv\xE1lido"),email:c.string().email().optional(),id:c.string().uuid(),isFavorite:c.boolean().optional(),name:c.string().optional(),notes:c.string().optional(),phone:c.string().optional().refine(e=>!e||jxe.test(mv(e)??""),"Telefone inv\xE1lido")}),qxe=c.object({isFavorite:c.boolean().optional(),limit:c.number().min(1).max(100).default(50),offset:c.number().default(0),search:c.string().optional()}),Uxe=c.object({limit:c.number().min(1).max(20).default(10),query:c.string().min(1,"Query de busca \xE9 obrigat\xF3ria")});pi.get("/",fe,xe({windowMs:60*1e3,max:30,message:"Too many requests, please try again later"}),Ve("query",qxe),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.valid("query"),o=e.get("requestId");try{let i=[V($e.userId,t.id)];if(n.search){let l=`%${n.search}%`,d=ia(Ur($e.name,l),Ur($e.email,l),Ur($e.phone,l));d&&i.push(d)}n.isFavorite!==void 0&&i.push(V($e.isFavorite,n.isFavorite));let[{total:s}]=await r.select({total:hT()}).from($e).where(Pe(...i)),u=await r.select().from($e).where(Pe(...i)).orderBy(Mt($e.isFavorite),wi($e.name)).limit(n.limit).offset(n.offset);return e.json({data:{contacts:u,hasMore:s>n.offset+n.limit,total:s},meta:{requestId:o,retrievedAt:new Date().toISOString()}})}catch(i){return N.error("Failed to get contacts",{error:i instanceof Error?i.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"CONTACTS_ERROR",error:"Failed to retrieve contacts"},500)}});pi.get("/:id",fe,xe({windowMs:60*1e3,max:30,message:"Too many requests, please try again later"}),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.param("id"),o=e.get("requestId");try{let[i]=await r.select().from($e).where(Pe(V($e.id,n),V($e.userId,t.id))).limit(1);return i?e.json({data:i,meta:{requestId:o,retrievedAt:new Date().toISOString()}}):e.json({code:"NOT_FOUND",error:"Contato n\xE3o encontrado"},404)}catch(i){return N.error("Failed to get contact",{contactId:n,error:i instanceof Error?i.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"CONTACT_ERROR",error:"Failed to retrieve contact"},500)}});pi.post("/",fe,xe({windowMs:60*1e3,max:20,message:"Too many creation attempts, please try again later"}),Ve("json",Dxe),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.valid("json"),o=e.get("requestId");try{try{await ci.ensureUserExists(t.id)}catch(u){return N.error("Failed to ensure user exists in database",{userId:t.id,requestId:o,error:u instanceof Error?u.message:"Unknown error"}),e.json({code:"USER_SYNC_ERROR",error:"Failed to verify user account. Please try again."},500)}let i=M8(n),[s]=await r.insert($e).values({userId:t.id,name:i.name,email:i.email??null,phone:i.phone??null,cpf:i.cpf??null,notes:i.notes??null,isFavorite:i.isFavorite??!1,createdAt:new Date,updatedAt:new Date}).returning();return N.info("Contact created",{contactId:s.id,contactName:n.name,requestId:o,userId:t.id}),e.json({data:s,meta:{createdAt:new Date().toISOString(),requestId:o}},201)}catch(i){return i instanceof Error&&i.message.includes("unique constraint")?e.json({code:"CONFLICT",error:"Email ou telefone j\xE1 cadastrado para este usu\xE1rio"},409):(N.error("Failed to create contact",{contactName:n.name,error:i instanceof Error?i.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"CONTACT_CREATE_ERROR",error:"Failed to create contact"},500))}});pi.put("/:id",fe,xe({windowMs:60*1e3,max:30,message:"Too many update attempts, please try again later"}),Ve("json",Mxe),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.param("id"),o=e.req.valid("json"),i=e.get("requestId");try{let{id:s,...u}=o,l=M8(u),d={updatedAt:new Date};l.name!==void 0&&(d.name=l.name),l.email!==void 0&&(d.email=l.email??null),l.phone!==void 0&&(d.phone=l.phone??null),l.cpf!==void 0&&(d.cpf=l.cpf??null),l.notes!==void 0&&(d.notes=l.notes??null),l.isFavorite!==void 0&&(d.isFavorite=l.isFavorite);let[p]=await r.update($e).set(d).where(Pe(V($e.id,n),V($e.userId,t.id))).returning();return p?(N.info("Contact updated",{contactId:n,requestId:i,updatedFields:Object.keys(u).filter(f=>f!=="updatedAt"),userId:t.id}),e.json({data:p,meta:{requestId:i,updatedAt:new Date().toISOString()}})):e.json({code:"NOT_FOUND",error:"Contato n\xE3o encontrado"},404)}catch(s){return N.error("Failed to update contact",{contactId:n,error:s instanceof Error?s.message:"Unknown error",requestId:i,userId:t.id}),e.json({code:"CONTACT_UPDATE_ERROR",error:"Failed to update contact"},500)}});pi.delete("/:id",fe,xe({windowMs:60*1e3,max:20,message:"Too many deletion attempts, please try again later"}),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.param("id"),o=e.get("requestId");try{let[i]=await r.delete($e).where(Pe(V($e.id,n),V($e.userId,t.id))).returning();return i?(N.info("Contact deleted",{contactId:n,requestId:o,userId:t.id}),e.json({data:{id:n,success:!0},meta:{deletedAt:new Date().toISOString(),requestId:o}})):e.json({code:"NOT_FOUND",error:"Contato n\xE3o encontrado"},404)}catch(i){return N.error("Failed to delete contact",{contactId:n,error:i instanceof Error?i.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"CONTACT_DELETE_ERROR",error:"Failed to delete contact"},500)}});pi.get("/search",fe,xe({windowMs:60*1e3,max:20,message:"Too many search attempts, please try again later"}),Ve("query",Uxe),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.valid("query"),o=e.get("requestId");try{let i=`%${n.query}%`,s=await r.select({id:$e.id,name:$e.name,email:$e.email,phone:$e.phone,isFavorite:$e.isFavorite}).from($e).where(Pe(V($e.userId,t.id),ia(Ur($e.name,i),Ur($e.email,i),Ur($e.phone,i)))).orderBy(Mt($e.isFavorite),wi($e.name)).limit(n.limit);return N.info("Contacts searched",{requestId:o,resultsCount:s.length,searchQuery:n.query,userId:t.id}),e.json({data:s,meta:{requestId:o,retrievedAt:new Date().toISOString()}})}catch(i){return N.error("Failed to search contacts",{error:i instanceof Error?i.message:"Unknown error",requestId:o,searchQuery:n.query,userId:t.id}),e.json({code:"CONTACT_SEARCH_ERROR",error:"Failed to search contacts"},500)}});pi.get("/favorites",fe,xe({windowMs:60*1e3,max:20,message:"Too many requests, please try again later"}),async e=>{let{user:t,db:r}=e.get("auth"),n=e.get("requestId");try{let o=await r.select().from($e).where(Pe(V($e.userId,t.id),V($e.isFavorite,!0))).orderBy(wi($e.name));return N.info("Favorite contacts retrieved",{favoritesCount:o.length,requestId:n,userId:t.id}),e.json({data:o,meta:{requestId:n,retrievedAt:new Date().toISOString()}})}catch(o){return N.error("Failed to get favorite contacts",{error:o instanceof Error?o.message:"Unknown error",requestId:n,userId:t.id}),e.json({code:"FAVORITES_ERROR",error:"Failed to retrieve favorite contacts"},500)}});pi.post("/:id/favorite",fe,xe({windowMs:60*1e3,max:30,message:"Too many toggle attempts, please try again later"}),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.param("id"),o=e.get("requestId");try{let[i]=await r.select({isFavorite:$e.isFavorite}).from($e).where(Pe(V($e.id,n),V($e.userId,t.id))).limit(1);if(!i)return e.json({code:"NOT_FOUND",error:"Contato n\xE3o encontrado"},404);let[s]=await r.update($e).set({isFavorite:!i.isFavorite,updatedAt:new Date}).where(Pe(V($e.id,n),V($e.userId,t.id))).returning();return N.info("Contact favorite status toggled",{contactId:n,newStatus:!i.isFavorite,previousStatus:i.isFavorite,requestId:o,userId:t.id}),e.json({data:s,meta:{requestId:o,updatedAt:new Date().toISOString()}})}catch(i){return N.error("Failed to toggle favorite status",{contactId:n,error:i instanceof Error?i.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"FAVORITE_TOGGLE_ERROR",error:"Failed to toggle favorite status"},500)}});pi.get("/stats",fe,xe({windowMs:60*1e3,max:10,message:"Too many requests, please try again later"}),async e=>{let{user:t,db:r}=e.get("auth"),n=e.get("requestId");try{let o=await r.select({isFavorite:$e.isFavorite,email:$e.email,phone:$e.phone}).from($e).where(V($e.userId,t.id)),i=o.length,s=o.filter(d=>d.isFavorite).length,u=o.filter(d=>d.email).length,l=o.filter(d=>d.phone).length;return e.json({data:{contactsWithEmail:u,contactsWithPhone:l,favoriteContacts:s,favoritePercentage:i>0?s/i*100:0,totalContacts:i},meta:{requestId:n,retrievedAt:new Date().toISOString()}})}catch(o){return N.error("Failed to get contact statistics",{error:o instanceof Error?o.message:"Unknown error",requestId:n,userId:t.id}),e.json({code:"CONTACT_STATS_ERROR",error:"Failed to retrieve contact statistics"},500)}});var u$=pi;var mi=new Oe,Am={code:"NOT_IMPLEMENTED",error:"Google Calendar sync is temporarily unavailable during migration. Please check back later.",message:"Esta funcionalidade est\xE1 temporariamente indispon\xEDvel durante a migra\xE7\xE3o do sistema."},Wi=xe({max:30,message:"Muitas requisi\xE7\xF5es, tente novamente mais tarde",windowMs:60*1e3});mi.get("/sync/status",fe,Wi,async e=>{let{user:t}=e.get("auth"),r=e.get("requestId");return N.info("Google Calendar status requested (not implemented)",{requestId:r,userId:t.id}),e.json({data:{googleEmail:null,isConnected:!1,isEnabled:!1,lastSyncAt:null,migrationNotice:"Google Calendar sync is being migrated to new infrastructure"},meta:{requestId:r,retrievedAt:new Date().toISOString()}},200)});mi.get("/sync/settings",fe,Wi,async e=>{let t=e.get("requestId");return e.json({data:null,meta:{requestId:t,retrievedAt:new Date().toISOString(),notice:"Google Calendar sync is being migrated"}},200)});mi.get("/sync/history",fe,Wi,async e=>{let t=e.get("requestId");return e.json({data:[],meta:{requestId:t,retrievedAt:new Date().toISOString(),notice:"Google Calendar sync is being migrated"}},200)});mi.put("/sync/settings",fe,Wi,async e=>{let t=e.get("requestId");return e.json({...Am,meta:{requestId:t}},501)});mi.post("/sync/full",fe,Wi,async e=>{let t=e.get("requestId");return e.json({...Am,meta:{requestId:t}},501)});mi.post("/sync/incremental",fe,Wi,async e=>{let t=e.get("requestId");return e.json({...Am,meta:{requestId:t}},501)});mi.post("/sync/event",fe,Wi,async e=>{let t=e.get("requestId");return e.json({...Am,meta:{requestId:t}},501)});mi.post("/sync/channel/renew",fe,Wi,async e=>{let t=e.get("requestId");return e.json({...Am,meta:{requestId:t}},501)});mi.get("/sync/conflicts",fe,Wi,async e=>{let t=e.get("requestId");return e.json({data:[],meta:{requestId:t,retrievedAt:new Date().toISOString(),notice:"Google Calendar sync is being migrated"}},200)});var c$=mi;var rl=new Oe,tl=null,Lxe=1e4,Cft=c.object({services:c.object({database:c.enum(["connected","disconnected","error"]),api:c.enum(["operational","degraded","down"]),auth:c.enum(["operational","degraded","down"])}),status:c.enum(["ok","error"]),timestamp:c.string(),uptime:c.number(),version:c.string()});async function Fxe(){if(tl&&Date.now()-tl.timestamp<Lxe)return{status:tl.status,latency:tl.latency};let e=Date.now();try{let{getHttpClient:t,schema:r}=await Promise.resolve().then(()=>(rn(),Xf)),{sql:n}=await Promise.resolve().then(()=>(ir(),gT)),o=t(),i=new Promise((l,d)=>{setTimeout(()=>d(new Error("Database query timeout")),5e3)});await Promise.race([o.execute(n`SELECT 1 as health_check`),i]);let s=Date.now()-e,u=!0;try{await o.select({count:n`count(*)`}).from(r.users).limit(1)}catch(l){u=!1,N.warn("Database schema access check failed (non-critical)",{error:l instanceof Error?l.message:"Unknown error",note:"Basic connectivity succeeded, schema may not be migrated yet"})}return tl={status:"connected",latency:s,timestamp:Date.now()},{status:"connected",latency:s,schemaAccessible:u}}catch(t){let r=Date.now()-e;return N.error("Database health check failed",{error:t instanceof Error?t.message:"Unknown error",latency:r}),tl={status:"error",latency:r,timestamp:Date.now()},{status:"error",latency:r,schemaAccessible:!1}}}a(Fxe,"checkDatabaseConnectivity");async function q8(e){let t=Date.now();try{let r=await Fxe(),n=r.status,o=r.latency,i=n==="connected",s={services:{database:n,api:i?"operational":"degraded",auth:i?"operational":"degraded"},status:i?"ok":"error",timestamp:new Date().toISOString(),uptime:process.uptime(),version:"1.0.0",metrics:{databaseLatency:o,totalLatency:Date.now()-t},checks:{server:{status:"ok",uptime:process.uptime()},database:{status:n,latency:o},memory:{used:process.memoryUsage().heapUsed,total:process.memoryUsage().heapTotal}}};return N.info("Health check completed",{databaseStatus:n,duration:Date.now()-t,status:s.status}),i?e.json(s,200):e.json(s,503)}catch(r){return N.error("Health check error",{duration:Date.now()-t,error:r instanceof Error?r.message:"Unknown error"}),e.json({services:{database:"error",api:"down",auth:"down"},status:"error",timestamp:new Date().toISOString(),uptime:process.uptime(),version:"1.0.0"},500)}}a(q8,"healthCheckHandler");rl.get("/",q8);rl.get("/health",q8);rl.get("/ping",e=>e.json({message:"pong",timestamp:new Date().toISOString(),version:"v1"}));rl.get("/connections",async e=>{try{let{getConnectionStats:t}=await Promise.resolve().then(()=>(rn(),Xf)),r=t();return e.json({pool:r,status:r.isInitialized?"active":"not_initialized",timestamp:new Date().toISOString(),limits:{maxConnections:10,warningThreshold:8},health:{isHealthy:r.totalCount<8,warning:r.totalCount>=8?"High connection usage detected":null}})}catch(t){return N.error("Connection stats error",{error:t instanceof Error?t.message:"Unknown error"}),e.json({error:"Failed to retrieve connection stats",status:"error",timestamp:new Date().toISOString()},500)}});rl.get("/auth",async e=>{let t=e.get("auth");return e.json({authenticated:!!t,services:{database:"connected",api:"operational",auth:"operational"},status:"ok",timestamp:new Date().toISOString(),user:t?{id:t.user.id,email:t.user.email}:null,version:"1.0.0"})});var l$=rl;ir();Fr();var Bxe=c.object({limit:c.coerce.number().int().min(1).max(100).default(50),offset:c.coerce.number().int().min(0).default(0),categoryId:c.string().optional(),accountId:c.string().optional(),type:c.enum(["transfer","debit","credit","pix","boleto","expense","income"]).optional(),status:c.enum(["cancelled","failed","pending","posted"]).optional(),startDate:c.string().optional(),endDate:c.string().optional(),search:c.string().optional()}),U8=c.object({amount:c.number(),categoryId:c.string().optional(),description:c.string(),transactionType:c.enum(["transfer","debit","credit","pix","boleto"]),status:c.enum(["cancelled","failed","pending","posted"]).default("pending"),transactionDate:c.string().optional(),accountId:c.string().optional(),paymentMethod:c.string().optional(),merchantName:c.string().optional(),notes:c.string().optional(),tags:c.array(c.string()).optional()}),Jxe=c.object({period:c.enum(["week","month","quarter","year"]).default("month"),accountId:c.string().optional()}),nl=new Oe;nl.get("/",fe,xe({windowMs:60*1e3,max:30,message:"Too many requests, please try again later"}),Ve("query",Bxe),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.valid("query"),o=e.get("requestId");try{let i=[V(oe.userId,t.id)];if(n.categoryId&&i.push(V(oe.categoryId,n.categoryId)),n.accountId&&i.push(V(oe.accountId,n.accountId)),n.type){let l={expense:"debit",income:"credit"}[n.type]||n.type;i.push(V(oe.transactionType,l))}if(n.status&&i.push(V(oe.status,n.status)),n.startDate){let u=new Date(n.startDate);if(isNaN(u.getTime()))return e.json({code:"INVALID_DATE",error:"Invalid startDate format. Expected ISO 8601 date string (e.g., YYYY-MM-DD)"},400);i.push(gr(oe.transactionDate,u))}if(n.endDate){let u=new Date(n.endDate);if(isNaN(u.getTime()))return e.json({code:"INVALID_DATE",error:"Invalid endDate format. Expected ISO 8601 date string (e.g., YYYY-MM-DD)"},400);i.push(or(oe.transactionDate,u))}if(n.startDate&&n.endDate){let u=new Date(n.startDate),l=new Date(n.endDate);if(u>l)return e.json({code:"INVALID_DATE_RANGE",error:"startDate must be before or equal to endDate"},400)}n.search&&i.push(Ur(oe.description,`%${n.search}%`));let s=await r.select().from(oe).where(Pe(...i)).orderBy(Mt(oe.createdAt)).limit(n.limit).offset(n.offset);return e.json({data:s,meta:{requestId:o,retrievedAt:new Date().toISOString(),total:s.length}})}catch(i){let s=Vi(i);return N.error("Failed to get transactions",{error:i instanceof Error?i.message:"Unknown error",errorCode:s.code,requestId:o,stack:i instanceof Error?i.stack:void 0,userId:t.id}),e.json({code:s.code,error:s.message},s.statusCode)}});nl.get("/statistics",fe,xe({windowMs:60*1e3,max:20,message:"Too many requests, please try again later"}),Ve("query",Jxe),async e=>{let{user:t,db:r}=e.get("auth"),{period:n}=e.req.valid("query"),o=e.get("requestId");try{let i=new Date,s=new Date;switch(n){case"week":s.setDate(i.getDate()-7);break;case"month":s.setMonth(i.getMonth()-1);break;case"quarter":s.setMonth(i.getMonth()-3);break;case"year":s.setFullYear(i.getFullYear()-1);break}let u=await r.select().from(oe).where(Pe(V(oe.userId,t.id),gr(oe.transactionDate,s),or(oe.transactionDate,i))),l=u.reduce((f,m)=>f+Number(m.amount),0),d=u.filter(f=>Number(f.amount)<0).reduce((f,m)=>f+Math.abs(Number(m.amount)),0),p=u.filter(f=>Number(f.amount)>0).reduce((f,m)=>f+Number(m.amount),0);return e.json({data:{balance:l,expenses:d,income:p,period:n,transactionsCount:u.length},meta:{requestId:o,retrievedAt:new Date().toISOString()}})}catch(i){let s=Vi(i);return N.error("Failed to get transaction statistics",{error:i instanceof Error?i.message:"Unknown error",errorCode:s.code,period:n,requestId:o,stack:i instanceof Error?i.stack:void 0,userId:t.id}),e.json({code:s.code,error:s.message},s.statusCode)}});nl.post("/",fe,xe({windowMs:60*1e3,max:10,message:"Too many transaction creation attempts, please try again later"}),Ve("json",U8),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.valid("json"),o=e.get("requestId");try{try{await ci.ensureUserExists(t.id)}catch(u){return N.error("Failed to ensure user exists in database",{userId:t.id,requestId:o,error:u instanceof Error?u.message:"Unknown error"}),e.json({code:"USER_SYNC_ERROR",error:"Failed to verify user account. Please try again."},500)}let i=new Date,[s]=await r.insert(oe).values({userId:t.id,amount:n.amount.toString(),description:n.description,transactionType:n.transactionType,status:n.status,transactionDate:n.transactionDate?new Date(n.transactionDate):i,categoryId:n.categoryId,accountId:n.accountId,paymentMethod:n.paymentMethod,merchantName:n.merchantName,notes:n.notes,tags:n.tags,isManualEntry:!0}).returning();return N.info("Transaction created",{amount:n.amount,requestId:o,transactionId:s.id,type:n.transactionType,userId:t.id}),e.json({data:s,meta:{createdAt:new Date().toISOString(),requestId:o}},201)}catch(i){return N.error("Failed to create transaction",{amount:n.amount,error:i instanceof Error?i.message:"Unknown error",requestId:o,type:n.transactionType,userId:t.id}),e.json({code:"TRANSACTION_CREATE_ERROR",error:"Failed to create transaction"},500)}});nl.put("/:id",fe,xe({windowMs:60*1e3,max:30,message:"Too many update attempts, please try again later"}),Ve("json",U8.partial()),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.param("id"),o=e.req.valid("json"),i=e.get("requestId");try{let[s]=await r.select({id:oe.id}).from(oe).where(Pe(V(oe.id,n),V(oe.userId,t.id))).limit(1);if(!s)return e.json({code:"NOT_FOUND",error:"Transa\xE7\xE3o n\xE3o encontrada"},404);let u={updatedAt:new Date};o.description!==void 0&&(u.description=o.description),o.amount!==void 0&&(u.amount=o.amount.toString()),o.transactionType!==void 0&&(u.transactionType=o.transactionType),o.status!==void 0&&(u.status=o.status),o.categoryId!==void 0&&(u.categoryId=o.categoryId),o.accountId!==void 0&&(u.accountId=o.accountId),o.paymentMethod!==void 0&&(u.paymentMethod=o.paymentMethod),o.merchantName!==void 0&&(u.merchantName=o.merchantName),o.notes!==void 0&&(u.notes=o.notes),o.tags!==void 0&&(u.tags=o.tags);let[l]=await r.update(oe).set(u).where(Pe(V(oe.id,n),V(oe.userId,t.id))).returning();return N.info("Transaction updated",{requestId:i,transactionId:n,userId:t.id}),e.json({data:l,meta:{updatedAt:new Date().toISOString(),requestId:i}})}catch(s){return N.error("Failed to update transaction",{error:s instanceof Error?s.message:"Unknown error",requestId:i,transactionId:n,userId:t.id}),e.json({code:"TRANSACTION_UPDATE_ERROR",error:"Failed to update transaction"},500)}});nl.delete("/:id",fe,xe({windowMs:60*1e3,max:20,message:"Too many deletion attempts, please try again later"}),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.param("id"),o=e.get("requestId");try{return(await r.delete(oe).where(Pe(V(oe.id,n),V(oe.userId,t.id))).returning()).length===0?e.json({code:"NOT_FOUND",error:"Transa\xE7\xE3o n\xE3o encontrada ou permiss\xE3o negada"},404):(N.info("Transaction deleted",{requestId:o,transactionId:n,userId:t.id}),e.json({data:{success:!0},meta:{deletedAt:new Date().toISOString(),requestId:o}}))}catch(i){return N.error("Failed to delete transaction",{error:i instanceof Error?i.message:"Unknown error",requestId:o,transactionId:n,userId:t.id}),e.json({code:"TRANSACTION_DELETE_ERROR",error:"Failed to delete transaction"},500)}});var d$=nl;ir();Fr();var Hxe=c.object({full_name:c.string().optional(),phone:c.string().optional(),cpf:c.string().optional(),birth_date:c.string().optional(),profile_image_url:c.string().url().optional()}),Vxe=c.record(c.string(),c.any()),Zxe=c.object({period_start:c.string(),period_end:c.string()}),L8=["theme","notificationsEmail","notificationsPush","notificationsSms","autoCategorize","budgetAlerts","voiceFeedback","accessibilityHighContrast","accessibilityLargeText","accessibilityScreenReader"],Fs=new Oe;Fs.get("/me",fe,xe({windowMs:60*1e3,max:30,message:"Too many requests, please try again later"}),async e=>{let{user:t,db:r}=e.get("auth"),n=e.get("requestId");try{let[o]=await r.select().from(H).where(V(H.id,t.id)).limit(1);return e.json({data:o||null,meta:{requestId:n,retrievedAt:new Date().toISOString()}})}catch(o){return N.error("Failed to get user profile",{error:o instanceof Error?o.message:"Unknown error",requestId:n,userId:t.id}),e.json({code:"PROFILE_ERROR",error:"Failed to retrieve profile"},500)}});Fs.put("/me",fe,xe({windowMs:60*1e3,max:20,message:"Too many update attempts, please try again later"}),Ve("json",Hxe),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.valid("json"),o=e.get("requestId");try{let i={updatedAt:new Date};n.full_name&&(i.fullName=n.full_name),n.phone&&(i.phone=n.phone),n.cpf&&(i.cpf=n.cpf),n.birth_date&&(i.birthDate=n.birth_date),n.profile_image_url&&(i.profileImageUrl=n.profile_image_url);let[s]=await r.update(H).set(i).where(V(H.id,t.id)).returning();return N.info("User profile updated",{requestId:o,userId:t.id}),e.json({data:s,meta:{requestId:o,updatedAt:new Date().toISOString()}})}catch(i){return N.error("Failed to update user profile",{error:i instanceof Error?i.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"PROFILE_UPDATE_ERROR",error:"Failed to update profile"},500)}});Fs.put("/me/preferences",fe,xe({windowMs:60*1e3,max:20,message:"Too many update attempts, please try again later"}),Ve("json",Vxe),async e=>{let{user:t,db:r}=e.get("auth"),n=e.req.valid("json"),o=e.get("requestId");try{try{await ci.ensureUserExists(t.id)}catch(u){return N.error("Failed to ensure user exists in database",{userId:t.id,requestId:o,error:u instanceof Error?u.message:"Unknown error"}),e.json({code:"USER_SYNC_ERROR",error:"Failed to verify user account. Please try again."},500)}let[i]=await r.select({id:Sn.id}).from(Sn).where(V(Sn.userId,t.id)).limit(1),s;if(i){let u={updatedAt:new Date};for(let l of L8)n[l]!==void 0&&(u[l]=n[l]);[s]=await r.update(Sn).set(u).where(V(Sn.id,i.id)).returning()}else{let u={userId:t.id,createdAt:new Date,updatedAt:new Date};for(let l of L8)n[l]!==void 0&&(u[l]=n[l]);[s]=await r.insert(Sn).values(u).returning()}return N.info("User preferences updated",{requestId:o,userId:t.id}),e.json({data:s,meta:{requestId:o,updatedAt:new Date().toISOString()}})}catch(i){return N.error("Failed to update user preferences",{error:i instanceof Error?i.message:"Unknown error",requestId:o,userId:t.id}),e.json({code:"PREFERENCES_UPDATE_ERROR",error:"Failed to update preferences"},500)}});Fs.post("/me/last-login",fe,xe({windowMs:60*1e3,max:10,message:"Too many requests, please try again later"}),async e=>{let{user:t,db:r}=e.get("auth"),n=e.get("requestId");try{return await r.update(H).set({lastLogin:new Date}).where(V(H.id,t.id)),e.json({data:{success:!0},meta:{requestId:n,updatedAt:new Date().toISOString()}})}catch(o){return N.warn("Failed to update last login",{error:o instanceof Error?o.message:"Unknown error",requestId:n,userId:t.id}),e.json({data:{success:!0},meta:{requestId:n,updatedAt:new Date().toISOString()}})}});Fs.get("/me/status",fe,xe({windowMs:60*1e3,max:30,message:"Too many requests, please try again later"}),async e=>{let{user:t,db:r}=e.get("auth"),n=e.get("requestId");try{let[o]=await r.select({isActive:H.isActive,lastLogin:H.lastLogin}).from(H).where(V(H.id,t.id)).limit(1);return o?e.json({data:{isActive:o.isActive,lastLogin:o.lastLogin?.toISOString()||null},meta:{requestId:n,retrievedAt:new Date().toISOString()}}):e.json({data:{isActive:!1,lastLogin:null},meta:{requestId:n,retrievedAt:new Date().toISOString()}})}catch(o){return N.error("Failed to check user status",{error:o instanceof Error?o.message:"Unknown error",requestId:n,userId:t.id}),e.json({data:{isActive:!1,lastLogin:null},meta:{requestId:n,retrievedAt:new Date().toISOString()}})}});Fs.get("/me/financial-summary",fe,xe({windowMs:60*1e3,max:20,message:"Too many requests, please try again later"}),Ve("query",Zxe),async e=>{let{user:t,db:r}=e.get("auth"),{period_start:n,period_end:o}=e.req.valid("query"),i=e.get("requestId");try{let s=new Date(n),u=new Date(o);if(isNaN(s.getTime()))return e.json({code:"INVALID_DATE",error:"Invalid period_start format. Expected ISO 8601 date string (e.g., YYYY-MM-DD)"},400);if(isNaN(u.getTime()))return e.json({code:"INVALID_DATE",error:"Invalid period_end format. Expected ISO 8601 date string (e.g., YYYY-MM-DD)"},400);if(s>u)return e.json({code:"INVALID_DATE_RANGE",error:"period_start must be before or equal to period_end"},400);let d=(await r.select({amount:mt.amount,isIncome:mt.isIncome}).from(mt).where(Pe(V(mt.userId,t.id),gr(mt.createdAt,s),or(mt.createdAt,u)))).reduce((p,f)=>{let m=Number(f.amount);return f.isIncome?(p.income+=m,p.balance+=m):(p.expenses+=m,p.balance-=m),p},{income:0,expenses:0,balance:0});return e.json({data:d,meta:{requestId:i,retrievedAt:new Date().toISOString()}})}catch(s){let u=Vi(s);return N.error("Failed to get financial summary",{error:s instanceof Error?s.message:"Unknown error",errorCode:u.code,requestId:i,stack:s instanceof Error?s.stack:void 0,userId:t.id}),e.json({code:u.code,error:u.message},u.statusCode)}});var p$=Fs;function Kxe(e){let t=e.toLowerCase().trim(),r={},n=[{intent:"check_balance",patterns:["saldo","quanto tenho","quanto dinheiro","verificar saldo"]},{intent:"transfer_money",patterns:["transferir","pagar","enviar dinheiro","mandar dinheiro"],entityExtractor:a(o=>Gxe(o,r),"entityExtractor")},{intent:"pay_bill",patterns:["conta","boleto","pagar conta","pagar boleto"],entityExtractor:a(()=>Wxe(t,r),"entityExtractor")},{intent:"transaction_history",patterns:["extrato","transa\xE7\xF5es","historico","compras"]},{intent:"pix_transfer",patterns:["pix","fazer pix"],entityExtractor:a(o=>Qxe(o,r),"entityExtractor")}];for(let{intent:o,patterns:i,entityExtractor:s}of n)if(i.some(u=>t.includes(u)))return s&&s(e),{intent:o,entities:r,confidence:.9};return{intent:"unknown",entities:r,confidence:.3}}a(Kxe,"detectIntentAndEntities");function Gxe(e,t){let r=e.match(/r?\$?\s*(\d+(?:,\d{1,2})?)/i);if(r){let o=Number.parseFloat(r[1].replace(",","."));t.amount=o,t.currency="BRL"}let n=e.match(/(?:para|para o|para a)\s+([a-z-\s]{2,30})/i);n&&(t.recipient=n[1].trim())}a(Gxe,"extractTransferEntities");function Wxe(e,t){e.includes("luz")?t.billType="electricity":e.includes("\xE1gua")?t.billType="water":e.includes("telefone")?t.billType="phone":e.includes("internet")&&(t.billType="internet")}a(Wxe,"extractBillEntities");function Qxe(e,t){let r=e.match(/([a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,})/),n=e.match(/\(?(\d{2})?\)?\s?(\d{4,5})-?(\d{4})/),o=e.match(/\b\d{3}\.?\d{3}\.?\d{3}-?\d{2}\b/);r?(t.pixKey=r[1],t.pixKeyType="EMAIL"):n?(t.pixKey=n[0],t.pixKeyType="PHONE"):o&&(t.pixKey=o[0],t.pixKeyType="CPF")}a(Qxe,"extractPixEntities");function Xxe(e,t){switch(e){case"check_balance":return"Verificando seu saldo...";case"transfer_money":return t.amount&&t.recipient?`Preparando transfer\xEAncia de R$ ${t.amount} para ${t.recipient}`:"Entendi que quer transferir dinheiro. Para quem e quanto?";case"pay_bill":return"Buscando suas contas a pagar...";case"transaction_history":return"Mostrando seu hist\xF3rico de transa\xE7\xF5es...";case"pix_transfer":return"Preparando transfer\xEAncia PIX...";default:return"N\xE3o entendi o comando. Pode repetir?"}}a(Xxe,"generateResponse");async function F8(e){let{commandText:t,sessionId:r,language:n,requireConfirmation:o,userId:i}=e,s=t??"";await new Promise(y=>setTimeout(y,300));let{intent:u,entities:l,confidence:d}=Kxe(s),p=d<.8||(o??!1),f=Xxe(u,l);return{confidence:d,entities:l,intent:u,language:n??"pt-BR",processedAt:new Date().toISOString(),requiresConfirmation:p,response:f,sessionId:r}}a(F8,"processVoiceCommand");function B8(){return{commands:[{description:"Verificar saldo da conta",examples:["Qual \xE9 o meu saldo?","Quanto dinheiro eu tenho?","Mostrar meu saldo"],name:"check_balance"},{description:"Transferir dinheiro para outra conta",examples:["Transferir R$ 100 para Jo\xE3o","Pagar 50 reais para Maria","Enviar R$ 200 para o email teste@email.com"],name:"transfer_money"},{description:"Pagar contas e boletos",examples:["Pagar conta de luz","Pagar boleto do cart\xE3o","Quitar conta de telefone"],name:"pay_bill"},{description:"Fazer transfer\xEAncia PIX",examples:["Fazer PIX para o CPF 123.456.789-00","Enviar PIX para o telefone 11999999999","Transferir por PIX para maria@email.com"],name:"pix_transfer"},{description:"Ver hist\xF3rico de transa\xE7\xF5es",examples:["Mostrar minhas transa\xE7\xF5es","Ver extrato do m\xEAs","Hist\xF3rico de compras"],name:"transaction_history"}],language:"pt-BR"}}a(B8,"getAvailableCommands");var m$=new Oe,Yxe=c.object({commandText:c.string().min(1).max(1e3).optional(),sessionId:c.string().uuid(),audioData:c.string().optional(),language:c.string().default("pt-BR"),requireConfirmation:c.boolean().default(!1)}).refine(e=>e.audioData||e.commandText,{message:"Dados de \xE1udio ou texto do comando s\xE3o obrigat\xF3rios",path:["audioData"]}),uht=c.object({commands:c.array(c.object({description:c.string(),examples:c.array(c.string()),name:c.string()})),language:c.string()});m$.post("/process",fe,xe({windowMs:60*1e3,max:30,message:"Too many voice commands, please try again later"}),Ve("json",Yxe),async e=>{let{user:t}=e.get("auth"),r=e.req.valid("json"),n=e.get("requestId"),{commandText:o,sessionId:i,audioData:s,language:u,requireConfirmation:l}=r,d=o??"";try{N.audit("Voice command processing started",{commandLength:d.length,component:"voice.processCommand",requestId:n,userId:t.id});let p=await F8({audioData:s,commandText:d,userId:t.id,context:{user:t},language:u,requireConfirmation:l,sessionId:i});return N.audit("Voice command processing completed",{command:d,requestId:n,result:p,sessionId:i,timestamp:new Date().toISOString(),userId:t.id}),e.json({data:p,meta:{processedAt:new Date().toISOString(),requestId:n}})}catch(p){return N.audit("Voice command processing failed",{command:d,error:p instanceof Error?p.message:"Unknown error",requestId:n,sessionId:i,timestamp:new Date().toISOString(),userId:t.id}),e.json({code:"VOICE_PROCESSING_ERROR",details:{command:d.substring(0,50)},error:"Failed to process voice command"},500)}});m$.get("/commands",fe,xe({windowMs:60*1e3,max:10,message:"Too many requests, please try again later"}),async e=>{let{user:t}=e.get("auth"),r=e.get("requestId");try{let n=B8();return N.info("Voice commands list accessed",{requestId:r,userId:t.id}),e.json({data:n,meta:{requestId:r,retrievedAt:new Date().toISOString()}})}catch(n){return N.error("Failed to get voice commands",{error:n instanceof Error?n.message:"Unknown error",requestId:r,userId:t.id}),e.json({code:"COMMANDS_RETRIEVAL_ERROR",error:"Failed to retrieve voice commands"},500)}});var f$=m$;ir();var Q7=iu(W7(),1);rn();od();Cr();var X7=process.env.CLERK_WEBHOOK_SECRET,Y7=process.env.CLERK_SECRET_KEY;if(!X7)throw N.error("CLERK_WEBHOOK_SECRET environment variable is not set"),new Error("CLERK_WEBHOOK_SECRET environment variable is not set");if(!Y7)throw N.error("CLERK_SECRET_KEY environment variable is not set"),new Error("CLERK_SECRET_KEY environment variable is not set");var dke=Hu({secretKey:Y7}),eX=new Oe;eX.post("/",async e=>{let t=e.get("requestId")||crypto.randomUUID();try{let r=await e.req.text(),n={"svix-id":e.req.header("svix-id")||"","svix-timestamp":e.req.header("svix-timestamp")||"","svix-signature":e.req.header("svix-signature")||""};if(N.info("Clerk webhook received",{requestId:t,hasPayload:!!r,payloadLength:r.length,hasHeaders:{"svix-id":!!n["svix-id"],"svix-timestamp":!!n["svix-timestamp"],"svix-signature":!!n["svix-signature"]}}),!n["svix-id"]||!n["svix-timestamp"]||!n["svix-signature"])return N.warn("Missing required webhook headers",{requestId:t,headers:Object.keys(n),receivedHeaders:Object.keys(e.req.header())}),e.json({error:"Missing required webhook headers"},400);let o;try{o=new Q7.Webhook(X7).verify(r,n),N.info("Clerk webhook verified",{requestId:t,eventType:o.type,eventId:o.data?.id})}catch(s){return N.error("Clerk webhook verification failed",{requestId:t,error:s instanceof Error?s.message:"Unknown error",errorStack:s instanceof Error?s.stack:void 0,headers:Object.keys(n)}),e.json({error:"Invalid signature"},400)}let i=o.type;N.info("Processing webhook event",{requestId:t,eventType:i,userId:o.data?.id});try{if(i==="user.created"){let{id:s,email_addresses:u,first_name:l,last_name:d}=o.data,p=u[0]?.email_address,f=[l,d].filter(Boolean).join(" ")||void 0;if(!p)return N.warn("User created without email",{userId:s,requestId:t}),e.json({error:"No email found"},400);if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(p))return N.warn("Invalid email format",{userId:s,email:p,requestId:t}),e.json({error:"Invalid email format"},400);if(!s||!s.startsWith("user_"))return N.warn("Invalid Clerk user ID format",{userId:s,requestId:t}),e.json({error:"Invalid user ID format"},400);let m=bo(),[y]=await m.select().from(H).where(V(H.id,s)).limit(1);if(y)return N.info("User already exists, skipping creation",{userId:s,email:p,organizationId:y.organizationId,requestId:t}),e.json({received:!0,message:"User already exists"});let g;try{g=await no.getOrCreateCustomer(s,p,f)}catch(h){return N.error("Failed to create Stripe customer",{userId:s,email:p,requestId:t,error:h instanceof Error?h.message:"Unknown error"}),e.json({error:"Failed to create Stripe customer"},500)}try{await m.transaction(async h=>{let v=await As.createUserOrganization(s,p,f,h);await h.insert(H).values({id:s,email:p,fullName:f,organizationId:v}),await h.insert(je).values({userId:s,stripeCustomerId:g,planId:"free",status:"free"}),N.info("User created and initialized",{userId:s,email:p,organizationId:v,stripeCustomerId:g,requestId:t})});try{await dke.users.updateUserMetadata(s,{privateMetadata:{stripeCustomerId:g}})}catch(h){N.warn("Failed to update Clerk metadata",{userId:s,requestId:t,error:h instanceof Error?h.message:"Unknown error"})}}catch(h){N.error("Database operation failed during user creation",{userId:s,email:p,stripeCustomerId:g,requestId:t,error:h instanceof Error?h.message:"Unknown error",stack:h instanceof Error?h.stack:void 0});try{await no.deleteCustomer(g)}catch(v){N.error("Failed to rollback Stripe customer",{stripeCustomerId:g,requestId:t,error:v instanceof Error?v.message:"Unknown error"})}return e.json({error:"Failed to create user record"},500)}}else if(i==="user.deleted"){let{id:s}=o.data;if(!s)return N.warn("User deleted event without user ID",{requestId:t}),e.json({error:"No user ID"},400);if(!s.startsWith("user_"))return N.warn("Invalid Clerk user ID format in delete event",{userId:s,requestId:t}),e.json({error:"Invalid user ID format"},400);try{let u=bo(),[l]=await u.select().from(je).where(V(je.userId,s)).limit(1);if(l?.stripeCustomerId)try{await no.deleteCustomer(l.stripeCustomerId),N.info("Stripe customer deleted",{userId:s,stripeCustomerId:l.stripeCustomerId,requestId:t})}catch(d){N.warn("Failed to delete Stripe customer, continuing with cleanup",{userId:s,stripeCustomerId:l.stripeCustomerId,requestId:t,error:d instanceof Error?d.message:"Unknown error"})}l?(await u.delete(je).where(V(je.userId,s)),N.info("Subscription deleted",{userId:s,subscriptionId:l.id,requestId:t})):N.info("No subscription found for deleted user",{userId:s,requestId:t}),N.info("User deleted and data cleaned up",{userId:s,requestId:t})}catch(u){return N.error("Failed to delete user data",{userId:s,requestId:t,error:u instanceof Error?u.message:"Unknown error",stack:u instanceof Error?u.stack:void 0}),e.json({error:"Failed to delete user data"},500)}}else if(i==="user.updated"){let{id:s,email_addresses:u,first_name:l,last_name:d}=o.data,p=u[0]?.email_address,f=[l,d].filter(Boolean).join(" ")||void 0;try{let m=bo(),[y]=await m.select().from(je).where(V(je.userId,s)).limit(1);y?.stripeCustomerId&&p&&await no.updateCustomer(y.stripeCustomerId,{email:p,name:f},s),N.info("User updated",{userId:s,requestId:t})}catch(m){return N.error("Failed to update user",{userId:s,email:p,requestId:t,error:m instanceof Error?m.message:"Unknown error"}),e.json({error:"Failed to update user"},500)}}else N.info("Unhandled webhook event type",{eventType:i,requestId:t});return e.json({received:!0})}catch(s){return N.error("Clerk webhook processing error",{requestId:t,eventType:i,error:s instanceof Error?s.message:"Unknown error",stack:s instanceof Error?s.stack:void 0}),e.json({error:"Webhook processing failed"},500)}}catch(r){return N.error("Clerk webhook handler error",{requestId:t,error:r instanceof Error?r.message:"Unknown error",stack:r instanceof Error?r.stack:void 0}),e.json({error:"Webhook handler failed"},500)}});var tX=eX;try{rz()}catch(e){let t=e instanceof Error?e.message:"Unknown error";throw console.error("\u274C Environment validation failed:",t),e}var er=new Oe;er.use("*",tz());er.use("*",dz);er.use("*",async(e,t)=>{let r=crypto.randomUUID();e.set("requestId",r),await t()});zM(er);NM(er);er.route("/api/v1",l$);er.route("/api/v1/voice",f$);er.route("/api/v1/banking",t$);er.route("/api/v1/contacts",u$);er.route("/api/v1/bank-accounts",e$);er.route("/api/v1/users",p$);er.route("/api/v1/transactions",d$);er.route("/api/v1/calendar",i$);er.route("/api/v1/google-calendar",c$);er.route("/api/v1/compliance",s$);er.route("/api/v1/billing",n$);er.route("/api/v1/ai",Up);er.route("/api/v1/agent",bC);er.route("/api/webhooks/clerk",tX);er.route("/cron",cz);MM(er);er.notFound(e=>{let t=e.get("requestId");return N.warn("Route not found",{ip:e.req.header("X-Forwarded-For")||e.req.header("X-Real-IP")||"unknown",method:e.req.method,path:e.req.path,requestId:t,userAgent:e.req.header("User-Agent")||"unknown"}),e.json({error:"Not Found",message:`Route ${e.req.method} ${e.req.path} not found`,requestId:t,timestamp:new Date().toISOString()},404)});er.onError((e,t)=>{let r=t.get("requestId");return N.error("Unhandled error",{error:e.message,method:t.req.method,path:t.req.path,requestId:r,stack:e.stack}),t.json({error:"Internal server error",requestId:r,timestamp:new Date().toISOString()},500)});var rX=er;var HSt=rX;export{HSt as default};
/*! Bundled license information:

@neondatabase/serverless/index.mjs:
  (*! Bundled license information:
  
  ieee754/index.js:
    (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)
  
  buffer/index.js:
    (*!
     * The buffer module from node.js, for the browser.
     *
     * @author   Feross Aboukhadijeh <https://feross.org>
     * @license  MIT
     *)
  *)
*/
